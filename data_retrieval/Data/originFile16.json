{"items":[{"tags":["java","json","spring-boot","rest","postman"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1629547678,"post_id":68872083,"comment_id":121718155,"body_markdown":"Did you try this? https://github.com/postmanlabs/postman-app-support/issues/3331#issuecomment-399971725","body":"Did you try this? <a href=\"https://github.com/postmanlabs/postman-app-support/issues/3331#issuecomment-399971725\" rel=\"nofollow noreferrer\">github.com/postmanlabs/postman-app-support/issues/&hellip;</a>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629549708,"post_id":68872083,"comment_id":121718557,"body_markdown":"I created a json file for the second json data (repairStatus) and now I am getting the error **400 Bad Request.** In the console of intellij I get the error **Field error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: rejected value.....blah ...blah...blah..........no matching editors or conversion strategy found**","body":"I created a json file for the second json data (repairStatus) and now I am getting the error <b>400 Bad Request.</b> In the console of intellij I get the error <b>Field error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: rejected value.....blah ...blah...blah..........no matching editors or conversion strategy found</b>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1639716777,"post_id":68872083,"comment_id":124425275,"body_markdown":"If anyone else is looking for solution, none of the suggested ideas worked for me. But I manage to solve my problem by breaking down the requests into two parts. First I send the multipart file and in the next request I send the nested json part and it is working fine now.","body":"If anyone else is looking for solution, none of the suggested ideas worked for me. But I manage to solve my problem by breaking down the requests into two parts. First I send the multipart file and in the next request I send the nested json part and it is working fine now."}],"answers":[{"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629552253,"post_id":68873064,"comment_id":121719076,"body_markdown":"I tried your approach but I get the error message &quot;status&quot;:400, &quot;error&quot;: &quot;Bad Request&quot; in postman.\nIn the intellij console the error is \nField error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: ......blah.........blah.......blah..... Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;{&quot;status&quot;:&quot;repaired&quot;,&quot;remarks&quot;:&quot;already repaired&quot;,&quot;amount&quot;:1000}&#39;; nested exception is java.lang.NumberFormatException:\nI double checked all the data types and they are correct!","body":"I tried your approach but I get the error message &quot;status&quot;:400, &quot;error&quot;: &quot;Bad Request&quot; in postman. In the intellij console the error is  Field error in object &#39;ticket&#39; on field &#39;repairStatus&#39;: ......blah.........blah.......blah..... Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;{&quot;status&quot;:&quot;repaired&quot;,&quot;remarks&quot;:&quot;already repaired&quot;,&quot;amount&quot;:1000}&#39;; nested exception is java.lang.NumberFormatException: I double checked all the data types and they are correct!"},{"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"score":0,"creation_date":1629562668,"post_id":68873064,"comment_id":121721511,"body_markdown":"can you attach the pre-req value which you have configured? It seems there is some issue with the object you kept there. it should be in proper form.","body":"can you attach the pre-req value which you have configured? It seems there is some issue with the object you kept there. it should be in proper form."},{"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"score":0,"creation_date":1629562848,"post_id":68873064,"comment_id":121721549,"body_markdown":"var data = {\n    name : &#39;Manish&#39; ,\n    phone: &#39;9383848433&#39;,\n    invoice: &#39;&#39;,\n    repairStatus: {\n        status: &#39;repaired&#39;,\n        remark : &#39;already repaired&#39;,\n        amount: 1000\n    }\n};\n\npm.variables.set(&quot;someData&quot;, JSON.stringify(data));","body":"var data = {     name : &#39;Manish&#39; ,     phone: &#39;9383848433&#39;,     invoice: &#39;&#39;,     repairStatus: {         status: &#39;repaired&#39;,         remark : &#39;already repaired&#39;,         amount: 1000     } };  pm.variables.set(&quot;someData&quot;, JSON.stringify(data));"},{"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"score":0,"creation_date":1629562877,"post_id":68873064,"comment_id":121721556,"body_markdown":"try with the above one.","body":"try with the above one."},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629611096,"post_id":68873064,"comment_id":121729053,"body_markdown":"I used your suggestion but still getting the same errors. When defining pre-request variable if I use pm.variables.set(), I get the error **Unresolved Variable\nThis variable is not defined in the active collection, environment or globals.** while hovering over the variable in postman. The variable is recognized and details shown in hovering only if I use pm.environment.set(). Does this make any difference?  [stackoverflow.png](https://postimg.cc/jnNkK5Kd)","body":"I used your suggestion but still getting the same errors. When defining pre-request variable if I use pm.variables.set(), I get the error <b>Unresolved Variable This variable is not defined in the active collection, environment or globals.</b> while hovering over the variable in postman. The variable is recognized and details shown in hovering only if I use pm.environment.set(). Does this make any difference?  <a href=\"https://postimg.cc/jnNkK5Kd\" rel=\"nofollow noreferrer\">stackoverflow.png</a>"},{"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"score":0,"creation_date":1629628323,"post_id":68873064,"comment_id":121732025,"body_markdown":"Can you post the pre-request field snapshot.","body":"Can you post the pre-request field snapshot."},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629639861,"post_id":68873064,"comment_id":121734701,"body_markdown":"in addition to the pre-request that you posted above, I tried following:\nvar data = { status: &#39;repaired&#39;, remarks : &#39;already repaired&#39;, amount: 1000 };\npm.environment.set(&quot;someData&quot;, JSON.stringify(data));\nAnother variation that I tried:\nvar status = {\n    &quot;status&quot;:&quot;repaired&quot;,\n    &quot;remarks&quot;:&quot;already repaired&quot;,\n    &quot;amount&quot;:1000.0\n};\npm.environment.set(&quot;repairStatus&quot;,JSON.stringify(status));\nand some more variations.","body":"in addition to the pre-request that you posted above, I tried following: var data = { status: &#39;repaired&#39;, remarks : &#39;already repaired&#39;, amount: 1000 }; pm.environment.set(&quot;someData&quot;, JSON.stringify(data)); Another variation that I tried: var status = {     &quot;status&quot;:&quot;repaired&quot;,     &quot;remarks&quot;:&quot;already repaired&quot;,     &quot;amount&quot;:1000.0 }; pm.environment.set(&quot;repairStatus&quot;,JSON.stringify(status)); and some more variations."},{"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"score":0,"creation_date":1629645465,"post_id":68873064,"comment_id":121736082,"body_markdown":"You did not get this.  pm.environment.set(&quot;repairStatus&quot;,JSON.stringify(status)); if you write this then you can&#39;t get {{somedata}}. You will get {{repairStatus}}. You use the json which I posted, and keep  pm.environment.set(&quot;somedata&quot;,JSON.stringify(data));","body":"You did not get this.  pm.environment.set(&quot;repairStatus&quot;,JSON.stringify(status)); if you write this then you can&#39;t get {{somedata}}. You will get {{repairStatus}}. You use the json which I posted, and keep  pm.environment.set(&quot;somedata&quot;,JSON.stringify(data));"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1629648144,"post_id":68873064,"comment_id":121736715,"body_markdown":"I am aware of that and I have adjusted the variables accordingly. When I have used {{someData}} I defined it as someData and when I used {{repairStatus}} I defined it as repairStatus. I was trying different variations and the variables got mixed. But I have always checked that I am using the variable that I have defined.","body":"I am aware of that and I have adjusted the variables accordingly. When I have used {{someData}} I defined it as someData and when I used {{repairStatus}} I defined it as repairStatus. I was trying different variations and the variables got mixed. But I have always checked that I am using the variable that I have defined."}],"tags":[],"owner":{"account_id":1146547,"reputation":605,"user_id":1129146,"accept_rate":67,"display_name":"Manish Kumar"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629549291,"creation_date":1629549291,"answer_id":68873064,"question_id":68872083,"body_markdown":"Your first approach is correct. However to pass the most complicated data it will be a nightmare to do from that location. If passing data from postman is the requirement then you can use the pre-request script in the postman. Below is the example:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor pre-req, I have kept a basic js object.\r\n[![enter image description here][2]][2]\r\n\r\nTry with this feature.\r\n\r\n  [1]: https://i.stack.imgur.com/G99sv.png\r\n  [2]: https://i.stack.imgur.com/YJt6H.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>Your first approach is correct. However to pass the most complicated data it will be a nightmare to do from that location. If passing data from postman is the requirement then you can use the pre-request script in the postman. Below is the example:-</p>\n<p><a href=\"https://i.stack.imgur.com/G99sv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G99sv.png\" alt=\"enter image description here\" /></a></p>\n<p>For pre-req, I have kept a basic js object.\n<a href=\"https://i.stack.imgur.com/YJt6H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJt6H.png\" alt=\"enter image description here\" /></a></p>\n<p>Try with this feature.</p>\n"},{"tags":[],"owner":{"account_id":20886890,"reputation":1,"user_id":15343280,"display_name":"Ahmed Raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639697000,"creation_date":1639697000,"answer_id":70386757,"question_id":68872083,"body_markdown":"I followed the above answer and it worked for me.\r\n\r\nStep 1: set json data value in pre-request Script.\r\n\r\n    var data = {    \r\n    name:&quot;COD Black Ops&quot;,\r\n    cost:60,\r\n    }\r\n    pm.variables.set(&quot;somedata&quot;,JSON.stringify(data));\r\n\r\nStep 2: set form values. \r\n        enable content type option from (...) like button next to description column in order to set the value of your json field as &quot;application/json&quot;. \r\n \r\nStep 3: express code for handling form data\r\n\r\n    const multer  = require(&#39;multer&#39;)\r\n    const upload = multer(&lt;options&gt;)\r\n    app.post(&#39;/stats&#39;, upload.single(&#39;uploaded_file&#39;), function (req, res) {\r\n      // req.file is the name of your file in the form above, here &#39;uploaded_file&#39;\r\n      // req.body will hold the text fields, if there were any \r\n    console.log(req.file, req.body)\r\n    });","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>I followed the above answer and it worked for me.</p>\n<p>Step 1: set json data value in pre-request Script.</p>\n<pre><code>var data = {    \nname:&quot;COD Black Ops&quot;,\ncost:60,\n}\npm.variables.set(&quot;somedata&quot;,JSON.stringify(data));\n</code></pre>\n<p>Step 2: set form values.\nenable content type option from (...) like button next to description column in order to set the value of your json field as &quot;application/json&quot;.</p>\n<p>Step 3: express code for handling form data</p>\n<pre><code>const multer  = require('multer')\nconst upload = multer(&lt;options&gt;)\napp.post('/stats', upload.single('uploaded_file'), function (req, res) {\n  // req.file is the name of your file in the form above, here 'uploaded_file'\n  // req.body will hold the text fields, if there were any \nconsole.log(req.file, req.body)\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14736642,"reputation":21,"user_id":11805031,"display_name":"Alaa ma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701795976,"creation_date":1701795976,"answer_id":77608015,"question_id":68872083,"body_markdown":"(2023) a simple way after a while !\r\nto send nested json and a file in form-data:\r\n     \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/79yZX.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>(2023) a simple way after a while !\nto send nested json and a file in form-data:</p>\n<p><a href=\"https://i.stack.imgur.com/79yZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/79yZX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15081,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1701795976,"creation_date":1629540960,"question_id":68872083,"body_markdown":"I have a REST api that takes data of nested json including multipart file\r\n\r\nWhile testing the REST api through postman I am having problems.\r\n\r\nI don&#39;t exactly know how to send the diverse types of data that I need - multipart/form-data file and nested json.\r\n\r\nI have used REST in each case separately in other projects but I am unable to combine them in one request.\r\n\r\nTo use multipart/form-data I have to select form-data in the Body, then File from the dropdown in the key field, click on the select files button on the value field and select the file I want to upload.\r\n\r\n\r\n[![Adding file in form-data][1]][1]\r\n\r\nTo use nested json I have to select raw in the dropdown, and select json at the right of it and simply add the nested json in the body.\r\n\r\n [![adding json data][2]][2]\r\n\r\nBut how do I combine these two approaches?\r\n\r\nI need multipart/form-data as well as nested json in the same request. How do I send these from postman? I am trying various approaches as you can see in the screenshots but I am not getting anywhere.\r\n\r\nThanks in advance\r\n\r\n\r\nP.S. If it matters, I am using java (spring boot) for the backend.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cz857.png\r\n  [2]: https://i.stack.imgur.com/9XjGu.png","title":"How to send multipart/form-data and nested json in the same request in postman?","body":"<p>I have a REST api that takes data of nested json including multipart file</p>\n<p>While testing the REST api through postman I am having problems.</p>\n<p>I don't exactly know how to send the diverse types of data that I need - multipart/form-data file and nested json.</p>\n<p>I have used REST in each case separately in other projects but I am unable to combine them in one request.</p>\n<p>To use multipart/form-data I have to select form-data in the Body, then File from the dropdown in the key field, click on the select files button on the value field and select the file I want to upload.</p>\n<p><a href=\"https://i.stack.imgur.com/cz857.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cz857.png\" alt=\"Adding file in form-data\" /></a></p>\n<p>To use nested json I have to select raw in the dropdown, and select json at the right of it and simply add the nested json in the body.</p>\n<p><a href=\"https://i.stack.imgur.com/9XjGu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9XjGu.png\" alt=\"adding json data\" /></a></p>\n<p>But how do I combine these two approaches?</p>\n<p>I need multipart/form-data as well as nested json in the same request. How do I send these from postman? I am trying various approaches as you can see in the screenshots but I am not getting anywhere.</p>\n<p>Thanks in advance</p>\n<p>P.S. If it matters, I am using java (spring boot) for the backend.</p>\n"},{"tags":["java","spring","spring-boot","rest","deserialization"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701766151,"creation_date":1701710051,"answer_id":77601336,"question_id":77601142,"body_markdown":"I think you&#39;d need to use `JsonNode` to represent the value since that can represent any value (number, string, array or object)\r\n\r\n```\r\npublic class RelationWrapper {\r\n   private String id;\r\n   private JsonNode relation;\r\n\r\n   // getters &amp; setters\r\n}\r\n\r\npublic class Relation {\r\n   private String id;\r\n   private String url;\r\n\r\n   // getters &amp; setters\r\n}\r\n```\r\n\r\n```\r\npublic class MyService {\r\n   private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n   public void doStuffWithJson(String json) {\r\n      RelationWrapper wrapper = objectMapper.readValue(json, RelationWrapper.class);\r\n      JsonNode relation = wrapper.getRelation();\r\n      Relation[] relations;\r\n      if (relation.isNull()) {\r\n         relations = null;\r\n      } else if (relation.isArray()) {\r\n         objectMapper.treeToValue(relation, Relation[].class);\r\n      } else {\r\n         relations = new Relation[] { objectMapper.treeToValue(relation, Relation.class) };\r\n      }\r\n      doStuff(wrapper, relations);\r\n   }\r\n}\r\n```\r\n\r\nSee\r\n\r\n - [ObjectMapper.valueToTree(Object)](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree(java.lang.Object))\r\n- [ObjectMapper.treeToValue(TreeNode, Class)](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue(com.fasterxml.jackson.core.TreeNode,%20java.lang.Class))\r\n- [JsonNode](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html)","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>I think you'd need to use <code>JsonNode</code> to represent the value since that can represent any value (number, string, array or object)</p>\n<pre><code>public class RelationWrapper {\n   private String id;\n   private JsonNode relation;\n\n   // getters &amp; setters\n}\n\npublic class Relation {\n   private String id;\n   private String url;\n\n   // getters &amp; setters\n}\n</code></pre>\n<pre><code>public class MyService {\n   private final ObjectMapper objectMapper = new ObjectMapper();\n\n   public void doStuffWithJson(String json) {\n      RelationWrapper wrapper = objectMapper.readValue(json, RelationWrapper.class);\n      JsonNode relation = wrapper.getRelation();\n      Relation[] relations;\n      if (relation.isNull()) {\n         relations = null;\n      } else if (relation.isArray()) {\n         objectMapper.treeToValue(relation, Relation[].class);\n      } else {\n         relations = new Relation[] { objectMapper.treeToValue(relation, Relation.class) };\n      }\n      doStuff(wrapper, relations);\n   }\n}\n</code></pre>\n<p>See</p>\n<ul>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#valueToTree(java.lang.Object)\" rel=\"nofollow noreferrer\">ObjectMapper.valueToTree(Object)</a></li>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue(com.fasterxml.jackson.core.TreeNode,%20java.lang.Class)\" rel=\"nofollow noreferrer\">ObjectMapper.treeToValue(TreeNode, Class)</a></li>\n<li><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">JsonNode</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24286937,"reputation":1,"user_id":18232571,"display_name":"olson1998"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701715692,"creation_date":1701715692,"answer_id":77601894,"question_id":77601142,"body_markdown":"You should write custom std deserializer, First of all modify your wrappers to handle both \r\n\r\n \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class RelationContainer {\r\n      \r\n      private Relation relation;\r\n      private List&lt;Relation&gt; relations;\r\n    }\r\n\r\nThen Create custom std deserializer:\r\n\r\n    public class RelationStdDeserializer extends StdDeserializer&lt;RelationContainer&gt; {\r\n      \r\n      public RelationStdDeserializer() {\r\n        super(RelationContainer.class);\r\n      }\r\n    \r\n      @Override\r\n      public RelationContainer deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        var objectCodec = jsonParser.getCodec();\r\n        var jsonTree = objectCodec.readTree(jsonParser);\r\n        if(jsonTree instanceof NullNode){\r\n          return null;\r\n        } else if (jsonTree instanceof ObjectNode objectNode) {\r\n          var relationNode = objectNode.get(&quot;relations&quot;);\r\n          if(relationNode instanceof NullNode){\r\n            return new RelationContainer(null, null);\r\n          } else if (relationNode instanceof ObjectNode jsonObject) {\r\n            var relation = traverseNode(jsonObject, objectCodec, new TypeReference&lt;Relation&gt;() {\r\n            });\r\n            return new RelationContainer(relation, null);\r\n          } else if (relationNode instanceof ArrayNode arrayObject) {\r\n            var relations = traverseNode(arrayObject, objectCodec, new TypeReference&lt;List&lt;Relation&gt;&gt;() {\r\n            });\r\n            return new RelationContainer(null, relations);\r\n          }\r\n        }\r\n        throw new IOException(&quot;Failed to read relations&quot;);\r\n      }\r\n      \r\n      private &lt;T&gt; T traverseNode(JsonNode jsonNode, ObjectCodec objectCodec, TypeReference&lt;T&gt; typeReference) throws IOException {\r\n        try(var jsonParser = jsonNode.traverse(objectCodec)){\r\n          return objectCodec.readValue(jsonParser, typeReference);\r\n        }\r\n      }\r\n    }\r\n\r\nFinally register deserializer in object mapper bean:\r\n\r\n      @Bean\r\n      public ObjectMapper objectMapper(){\r\n        var objectMapper = new ObjectMapper();\r\n        var relationModule = new SimpleModule();\r\n        relationModule.addDeserializer(RelationContainer.class, new RelationStdDeserializer());\r\n        return objectMapper;\r\n      }\r\n\r\n\r\n\r\n\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>You should write custom std deserializer, First of all modify your wrappers to handle both</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RelationContainer {\n  \n  private Relation relation;\n  private List&lt;Relation&gt; relations;\n}\n</code></pre>\n<p>Then Create custom std deserializer:</p>\n<pre><code>public class RelationStdDeserializer extends StdDeserializer&lt;RelationContainer&gt; {\n  \n  public RelationStdDeserializer() {\n    super(RelationContainer.class);\n  }\n\n  @Override\n  public RelationContainer deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n    var objectCodec = jsonParser.getCodec();\n    var jsonTree = objectCodec.readTree(jsonParser);\n    if(jsonTree instanceof NullNode){\n      return null;\n    } else if (jsonTree instanceof ObjectNode objectNode) {\n      var relationNode = objectNode.get(&quot;relations&quot;);\n      if(relationNode instanceof NullNode){\n        return new RelationContainer(null, null);\n      } else if (relationNode instanceof ObjectNode jsonObject) {\n        var relation = traverseNode(jsonObject, objectCodec, new TypeReference&lt;Relation&gt;() {\n        });\n        return new RelationContainer(relation, null);\n      } else if (relationNode instanceof ArrayNode arrayObject) {\n        var relations = traverseNode(arrayObject, objectCodec, new TypeReference&lt;List&lt;Relation&gt;&gt;() {\n        });\n        return new RelationContainer(null, relations);\n      }\n    }\n    throw new IOException(&quot;Failed to read relations&quot;);\n  }\n  \n  private &lt;T&gt; T traverseNode(JsonNode jsonNode, ObjectCodec objectCodec, TypeReference&lt;T&gt; typeReference) throws IOException {\n    try(var jsonParser = jsonNode.traverse(objectCodec)){\n      return objectCodec.readValue(jsonParser, typeReference);\n    }\n  }\n}\n</code></pre>\n<p>Finally register deserializer in object mapper bean:</p>\n<pre><code>  @Bean\n  public ObjectMapper objectMapper(){\n    var objectMapper = new ObjectMapper();\n    var relationModule = new SimpleModule();\n    relationModule.addDeserializer(RelationContainer.class, new RelationStdDeserializer());\n    return objectMapper;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719365,"creation_date":1701719025,"answer_id":77602173,"question_id":77601142,"body_markdown":"The issue you&#39;re facing is a common one when dealing with JSON data in Java, especially when the structure of the JSON is not consistent. In your case, the &quot;Relation&quot; field can either be a JSON array or a single JSON object. This inconsistency poses a challenge for deserialization.\r\n\r\nYour current approach, using Jackson&#39;s `@JsonProperty` annotation, is on the right track, but it needs to be adapted to handle the variability in the JSON structure. Here&#39;s a state-of-the-art approach to handle this situation:\r\n\r\nFirst) **Type Reference with Generics:** You can use Jackson&#39;s TypeReference with generics to handle this. For example, you could try deserializing to List&lt;Relation&gt; and if it fails (due to a `JsonProcessingException`), try again with just Relation.\r\n\r\nThen) **Optional Wrappers:** In some cases, using Java&#39;s Optional class as a wrapper around your object might help in handling the nullability and presence of the JSON fields.\r\n\r\n### Step 1: Create the Wrapper Class\r\n\r\n```Java\r\npublic class RelationWrapper {\r\n\r\n    private Optional&lt;List&lt;Relation&gt;&gt; relationsList;\r\n    private Optional&lt;Relation&gt; singleRelation;\r\n\r\n    public RelationWrapper(List&lt;Relation&gt; relationsList) {\r\n        this.relationsList = Optional.ofNullable(relationsList);\r\n        this.singleRelation = Optional.empty();\r\n    }\r\n\r\n    public RelationWrapper(Relation singleRelation) {\r\n        this.singleRelation = Optional.ofNullable(singleRelation);\r\n        this.relationsList = Optional.empty();\r\n    }\r\n\r\n    // Getters\r\n    // Setter\r\n}\r\n```\r\n\r\n### Step 2: Implement Custom Deserializer\r\n\r\n```Java\r\npublic class RelationDeserializer extends JsonDeserializer&lt;RelationWrapper&gt; {\r\n    \r\n    @Override\r\n    public RelationWrapper deserialize(JsonParser jsonParser, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n        try {\r\n            // Attempt to deserialize as List&lt;Relation&gt;\r\n            List&lt;Relation&gt; relations = jsonParser.getCodec().treeToValue(node, new TypeReference&lt;List&lt;Relation&gt;&gt;() {});\r\n            return new RelationWrapper(relations);\r\n\r\n        } catch (JsonProcessingException e) {\r\n            // If it fails, deserialize as a single Relation object\r\n            Relation relation = jsonParser.getCodec().treeToValue(node, Relation.class);\r\n            return new RelationWrapper(relation);\r\n        }\r\n    }\r\n}\r\n```\r\n### Final step: Using the Custom Deserializer\r\n\r\nFinally, you need to tell Jackson to use this custom deserializer when deserializing the Relation field. You can do this by annotating the Relation field in your MainClass with `@JsonDeserialize`:\r\n\r\n```Java\r\n\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class MainClass {\r\n\r\n    @JsonDeserialize(using = RelationDeserializer.class)\r\n    @JsonProperty(&quot;Relation&quot;)\r\n    private RelationWrapper relation;\r\n\r\n    // Constructor, getters, and setters\r\n    public MainClass(RelationWrapper relation) {\r\n        this.relation = relation;\r\n    }\r\n\r\n    public RelationWrapper getRelation() {\r\n        return relation;\r\n    }\r\n}\r\n```\r\n\r\nThis solution provides a flexible and elegant way to deserialize JSON where the structure of a specific field can vary. The Optional wrappers in RelationWrapper make it clear and easy to check whether you have a list of relations or a single relation.\r\n\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>The issue you're facing is a common one when dealing with JSON data in Java, especially when the structure of the JSON is not consistent. In your case, the &quot;Relation&quot; field can either be a JSON array or a single JSON object. This inconsistency poses a challenge for deserialization.</p>\n<p>Your current approach, using Jackson's <code>@JsonProperty</code> annotation, is on the right track, but it needs to be adapted to handle the variability in the JSON structure. Here's a state-of-the-art approach to handle this situation:</p>\n<p>First) <strong>Type Reference with Generics:</strong> You can use Jackson's TypeReference with generics to handle this. For example, you could try deserializing to List and if it fails (due to a <code>JsonProcessingException</code>), try again with just Relation.</p>\n<p>Then) <strong>Optional Wrappers:</strong> In some cases, using Java's Optional class as a wrapper around your object might help in handling the nullability and presence of the JSON fields.</p>\n<h3>Step 1: Create the Wrapper Class</h3>\n<pre><code>public class RelationWrapper {\n\n    private Optional&lt;List&lt;Relation&gt;&gt; relationsList;\n    private Optional&lt;Relation&gt; singleRelation;\n\n    public RelationWrapper(List&lt;Relation&gt; relationsList) {\n        this.relationsList = Optional.ofNullable(relationsList);\n        this.singleRelation = Optional.empty();\n    }\n\n    public RelationWrapper(Relation singleRelation) {\n        this.singleRelation = Optional.ofNullable(singleRelation);\n        this.relationsList = Optional.empty();\n    }\n\n    // Getters\n    // Setter\n}\n</code></pre>\n<h3>Step 2: Implement Custom Deserializer</h3>\n<pre><code>public class RelationDeserializer extends JsonDeserializer&lt;RelationWrapper&gt; {\n    \n    @Override\n    public RelationWrapper deserialize(JsonParser jsonParser, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n        try {\n            // Attempt to deserialize as List&lt;Relation&gt;\n            List&lt;Relation&gt; relations = jsonParser.getCodec().treeToValue(node, new TypeReference&lt;List&lt;Relation&gt;&gt;() {});\n            return new RelationWrapper(relations);\n\n        } catch (JsonProcessingException e) {\n            // If it fails, deserialize as a single Relation object\n            Relation relation = jsonParser.getCodec().treeToValue(node, Relation.class);\n            return new RelationWrapper(relation);\n        }\n    }\n}\n</code></pre>\n<h3>Final step: Using the Custom Deserializer</h3>\n<p>Finally, you need to tell Jackson to use this custom deserializer when deserializing the Relation field. You can do this by annotating the Relation field in your MainClass with <code>@JsonDeserialize</code>:</p>\n<pre><code>\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class MainClass {\n\n    @JsonDeserialize(using = RelationDeserializer.class)\n    @JsonProperty(&quot;Relation&quot;)\n    private RelationWrapper relation;\n\n    // Constructor, getters, and setters\n    public MainClass(RelationWrapper relation) {\n        this.relation = relation;\n    }\n\n    public RelationWrapper getRelation() {\n        return relation;\n    }\n}\n</code></pre>\n<p>This solution provides a flexible and elegant way to deserialize JSON where the structure of a specific field can vary. The Optional wrappers in RelationWrapper make it clear and easy to check whether you have a list of relations or a single relation.</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701795893,"creation_date":1701766706,"answer_id":77604921,"question_id":77601142,"body_markdown":"Another option is to provide two setters for the property.\r\n\r\n```java\r\npublic class RelationWrapper\r\n   private String id;\r\n   private List&lt;Relation&gt; relation;\r\n\r\n   public void setRelation(Relation relation) {\r\n      this.relation = relation == null ? null : List.of(relation);\r\n   }\r\n\r\n   public void setRelation(List&lt;Relation&gt; relation) {\r\n      this.relation = relation;\r\n   }\r\n\r\n   public List&lt;Relation&gt; getRelation() {\r\n      return relation;\r\n   }\r\n}\r\n```\r\n\r\nThis could also be done with two constructors\r\n\r\n```java\r\npublic class RelationWrapper\r\n   private final String id;\r\n   private final List&lt;Relation&gt; relation;\r\n\r\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\r\n   public RelationWrapper(String id, List&lt;Relation&gt; relation) {\r\n      this.id = id;\r\n      this.relation = relation;\r\n   }\r\n\r\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\r\n   public RelationWrapper(String id, Relation relation) {\r\n      this.id = id;\r\n      this.relation = relation == null ? null : List.of(relation);\r\n   }\r\n\r\n   // getters\r\n}\r\n```\r\n","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>Another option is to provide two setters for the property.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RelationWrapper\n   private String id;\n   private List&lt;Relation&gt; relation;\n\n   public void setRelation(Relation relation) {\n      this.relation = relation == null ? null : List.of(relation);\n   }\n\n   public void setRelation(List&lt;Relation&gt; relation) {\n      this.relation = relation;\n   }\n\n   public List&lt;Relation&gt; getRelation() {\n      return relation;\n   }\n}\n</code></pre>\n<p>This could also be done with two constructors</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RelationWrapper\n   private final String id;\n   private final List&lt;Relation&gt; relation;\n\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\n   public RelationWrapper(String id, List&lt;Relation&gt; relation) {\n      this.id = id;\n      this.relation = relation;\n   }\n\n   @ConstructorProperties({&quot;id&quot;, &quot;relation&quot;})\n   public RelationWrapper(String id, Relation relation) {\n      this.id = id;\n      this.relation = relation == null ? null : List.of(relation);\n   }\n\n   // getters\n}\n</code></pre>\n"}],"owner":{"account_id":23953085,"reputation":93,"user_id":19083408,"display_name":"RedBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77604921,"answer_count":4,"score":1,"last_activity_date":1701795893,"creation_date":1701708249,"question_id":77601142,"body_markdown":"I create sample class and response to deserialized but this is same issue that need to be fix. The response can either be Array with Object or `just an Object`.\r\nNeed to deserialized dynamically\r\n\r\n\r\nClass\r\n```\r\npublic record  MainClass(\r\n  //the response can either be array or not array\r\n  @JsonProperty(&quot;Relation&quot;) List&lt;Relation&gt; relation\r\n){\r\n\r\n \r\n}\r\n\r\n\r\npublic record  Relation(\r\n   String relation,\r\n   String Id,\r\n){\r\n\r\n \r\n}\r\n```\r\n\r\nDeserialize when if response is array `Working`\r\n\r\nResponse\r\n```\r\n{\r\n &quot;Relation&quot;: [\r\n          {\r\n            &quot;url&quot;: &quot;https://sample.com&quot;,\r\n            &quot;Id&quot;: &quot;77&quot;\r\n          }\r\n        ]\r\n\t\t\r\n}\r\n```\r\n\r\nDeserialize when if response NOT array\r\n`This need to be fix`\r\n\r\nResponse\r\n```\r\n{\r\n &quot;Relation&quot;:{\r\n            &quot;url&quot;: &quot;https://sample.com&quot;,\r\n            &quot;Id&quot;: &quot;77&quot;\r\n          }\r\n        \r\n\t\t\r\n}\r\n```","title":"Spring deserialize a json dynamically can either be List or just an Object","body":"<p>I create sample class and response to deserialized but this is same issue that need to be fix. The response can either be Array with Object or <code>just an Object</code>.\nNeed to deserialized dynamically</p>\n<p>Class</p>\n<pre><code>public record  MainClass(\n  //the response can either be array or not array\n  @JsonProperty(&quot;Relation&quot;) List&lt;Relation&gt; relation\n){\n\n \n}\n\n\npublic record  Relation(\n   String relation,\n   String Id,\n){\n\n \n}\n</code></pre>\n<p>Deserialize when if response is array <code>Working</code></p>\n<p>Response</p>\n<pre><code>{\n &quot;Relation&quot;: [\n          {\n            &quot;url&quot;: &quot;https://sample.com&quot;,\n            &quot;Id&quot;: &quot;77&quot;\n          }\n        ]\n        \n}\n</code></pre>\n<p>Deserialize when if response NOT array\n<code>This need to be fix</code></p>\n<p>Response</p>\n<pre><code>{\n &quot;Relation&quot;:{\n            &quot;url&quot;: &quot;https://sample.com&quot;,\n            &quot;Id&quot;: &quot;77&quot;\n          }\n        \n        \n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","morphia"],"owner":{"account_id":13978411,"reputation":1,"user_id":10095254,"display_name":"Dheerendra Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701795878,"creation_date":1701795878,"question_id":77608005,"body_markdown":"We are facing one issue with upgrading morphia from \r\n            \r\n```\r\n            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n\r\n            to \r\n\r\n            &lt;groupId&gt;dev.morphia.morphia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;morphia-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n```\r\n\r\nThe issue is that in the new morphia we have one param _t which is termed as discriminator and using this morphia is able to deserialize any mongo object to java object. \r\n\r\n\r\nNow in my scenario we are having one class which is being inharited by multiple other classess. (An abstract class can also be used here). The issue is that earlier we used to have custom JsonDeserializer which are not working with the current version of morphia.\r\nAnd since there is so huge data in our database we don&#39;t want to do a backfill. \r\nIs there a way of writing some custom JsonDeserializer so that older data can be read using new morphia.\r\n\r\nAlso there is one more problem. When I&#39;m trying to call this controller (Since now custom JsonDeserializer doesn&#39;t work with morphia I&#39;ve removed them) the object gets converted to parant class due to which we are losing some data. Ideally we should recieve the object of child class.\r\n\r\n\r\nAn example of my case is:\r\n\r\n```\r\n    public enum AnimalType {\r\n    DOG,\r\n    CAT\r\n    }\r\n```\r\n\r\n```\r\n    public class Animal {\r\n    private String name;\r\n    private AnimalType animalType;\r\n\r\n    // getters and setters\r\n\r\n    // Default constructor for Jackson\r\n    public Animal() {\r\n    }\r\n    }\r\n```\r\n\r\n\r\n```\r\n    public static class Cat extends Animal {\r\n    private boolean meow;\r\n\r\n    // Default constructor for Jackson\r\n    public Cat() {\r\n    }\r\n\r\n    // getters and setters\r\n    }\r\n```\r\n\r\n```\r\n    public static class Dog extends Animal {\r\n    private boolean bark;\r\n\r\n    // Default constructor for Jackson\r\n    public Dog() {\r\n    }\r\n\r\n    // getters and setters\r\n    }\r\n```\r\n\r\n\r\nNow If I send object of Dog from api its param bark gets lost.\r\nAlso morphia is able to read all the data for all the newly created documents;\r\n\r\n```\r\n    {\r\n\t&quot;_t&quot;: &quot;Cat&quot;\r\n    &quot;name&quot;: &quot;Fluffy&quot;,\r\n    &quot;animalType&quot;: &quot;CAT&quot;,\r\n    &quot;meow&quot;: true\r\n    }\r\n```\r\n\r\nI&#39;m expecting that my Dao layer should be able to read all the data new and old which is already there in DB. Also while making an api call to my service object recieved in my class should be correctly deserialized.","title":"Serialization issue with Morphia 2.3.0 (Morphia upgrade from 1.3.2)","body":"<p>We are facing one issue with upgrading morphia from</p>\n<pre><code>            &lt;groupId&gt;org.mongodb.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n\n            to \n\n            &lt;groupId&gt;dev.morphia.morphia&lt;/groupId&gt;\n            &lt;artifactId&gt;morphia-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n</code></pre>\n<p>The issue is that in the new morphia we have one param _t which is termed as discriminator and using this morphia is able to deserialize any mongo object to java object.</p>\n<p>Now in my scenario we are having one class which is being inharited by multiple other classess. (An abstract class can also be used here). The issue is that earlier we used to have custom JsonDeserializer which are not working with the current version of morphia.\nAnd since there is so huge data in our database we don't want to do a backfill.\nIs there a way of writing some custom JsonDeserializer so that older data can be read using new morphia.</p>\n<p>Also there is one more problem. When I'm trying to call this controller (Since now custom JsonDeserializer doesn't work with morphia I've removed them) the object gets converted to parant class due to which we are losing some data. Ideally we should recieve the object of child class.</p>\n<p>An example of my case is:</p>\n<pre><code>    public enum AnimalType {\n    DOG,\n    CAT\n    }\n</code></pre>\n<pre><code>    public class Animal {\n    private String name;\n    private AnimalType animalType;\n\n    // getters and setters\n\n    // Default constructor for Jackson\n    public Animal() {\n    }\n    }\n</code></pre>\n<pre><code>    public static class Cat extends Animal {\n    private boolean meow;\n\n    // Default constructor for Jackson\n    public Cat() {\n    }\n\n    // getters and setters\n    }\n</code></pre>\n<pre><code>    public static class Dog extends Animal {\n    private boolean bark;\n\n    // Default constructor for Jackson\n    public Dog() {\n    }\n\n    // getters and setters\n    }\n</code></pre>\n<p>Now If I send object of Dog from api its param bark gets lost.\nAlso morphia is able to read all the data for all the newly created documents;</p>\n<pre><code>    {\n    &quot;_t&quot;: &quot;Cat&quot;\n    &quot;name&quot;: &quot;Fluffy&quot;,\n    &quot;animalType&quot;: &quot;CAT&quot;,\n    &quot;meow&quot;: true\n    }\n</code></pre>\n<p>I'm expecting that my Dao layer should be able to read all the data new and old which is already there in DB. Also while making an api call to my service object recieved in my class should be correctly deserialized.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1701801090,"post_id":77607978,"comment_id":136819563,"body_markdown":"If you&#39;re not allowed to use methods you can&#39;t write a program. `main` is a method.","body":"If you&#39;re not allowed to use methods you can&#39;t write a program. <code>main</code> is a method."}],"owner":{"account_id":29699435,"reputation":1,"user_id":22761946,"display_name":"Cheryl"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701801117,"answer_count":0,"score":-4,"last_activity_date":1701795827,"creation_date":1701795574,"question_id":77607978,"body_markdown":"The program is supposed to:\r\n\r\n* Generate a new cipher text each time the program is run\r\n* Reverse the words in the code sentence \r\n* If the word in plaintext is today and the corresponding letters in the cipher are xoctr, write the word as xcrot, i.e. put all the even indexed letters at the start of the word\r\n\r\nIm not allowed to use array, stringbuilder and methods\r\n\r\n\r\nMy decryption code only works for 5 letter words. Can anyone help?\r\n\r\n```\r\npackage Project;\r\n\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Q2 {\r\n    public static void main(String[] args) {\r\n        String pText = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        String cText = &quot;&quot;, sentence, encrypted = &quot;&quot;, reversed = &quot;&quot;, decrypted = &quot;&quot;;\r\n        char ans;\r\n        int length;\r\n        boolean valid = false;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        Random random = new Random();\r\n\r\n        // generating a new cText each time the program is run\r\n        for (int i = 0; i &lt; 26; i++) {\r\n            char rdAplhabet;\r\n\r\n            do {\r\n                // if condition returns -1, it means the letter isnt in the String\r\n                // then adds the randomly generated letter into cText\r\n                rdAplhabet = (char) (&#39;a&#39; + random.nextInt(26));\r\n            } while (cText.indexOf(rdAplhabet) != -1);\r\n\r\n            cText += rdAplhabet;\r\n        }\r\n\r\n        System.out.println(&quot;Plain text: &quot; + pText);\r\n        System.out.println(&quot;Cipher text: &quot; + cText); // output this for decrypt only\r\n        // ask if user wants to encrypt or decrypt sentence\r\n        do {\r\n            System.out.print(&quot;\\nEncrypt or decrypt? (Enter E/D): &quot;);\r\n            ans = scanner.next().charAt(0);\r\n            ans = Character.toUpperCase(ans);\r\n            scanner.nextLine();\r\n\r\n            // validate user input\r\n            if (!(ans == &#39;E&#39; || ans == &#39;D&#39;)) {\r\n                System.out.println(&quot;Invalid input. Try again.&quot;);\r\n            } else {\r\n                valid = true;\r\n            }\r\n        } while (valid == false);\r\n\r\n        // if user wants to encrypt\r\n        if (ans == &#39;E&#39;) {\r\n            System.out.print(&quot;Enter a sentence to encrypt: &quot;);\r\n            sentence = scanner.nextLine();\r\n            length = sentence.length();\r\n\r\n            for (int i = 0; i &lt; length; i++) {\r\n                // test if there is a non-letter input (space, @!#$, etc)\r\n                if (pText.indexOf(sentence.charAt(i)) == -1) {\r\n                    encrypted += sentence.charAt(i);\r\n                } else {\r\n                    // convert the letters into encrypted sentence\r\n                    char letters = cText.charAt(pText.indexOf(sentence.charAt(i)));\r\n                    encrypted += letters;\r\n                }\r\n            }\r\n\r\n            int start = 0;\r\n            // reverse the words in the code sentence\r\n            for (int j = 0; j &lt;= length; j++) {\r\n                // check for space or after sentence has ended\r\n                if (j == length || encrypted.charAt(j) == &#39; &#39;) {\r\n                    String word = encrypted.substring(start, j);\r\n                    String odd = &quot;&quot;, even = &quot;&quot;;\r\n                    // placing even indexed letters at the start of the word\r\n                    for (int k = 0; k &lt; word.length(); k++) {\r\n                        if (k % 2 == 0) {\r\n                            even += word.charAt(k);\r\n                        } else {\r\n                            odd += word.charAt(k);\r\n                        }\r\n                    }\r\n                    reversed = even + odd + &quot; &quot; + reversed;\r\n                    start = j + 1;\r\n                }\r\n            }\r\n            System.out.println(&quot;Encrypted sentence: &quot; + encrypted);\r\n            System.out.println(&quot;\\nThe sentence is further encrypted by: &quot;);\r\n            System.out.println(&quot;- Reversing the words in the code sentence&quot;);\r\n            System.out.println(&quot;- Placing even indexed letters at the start of the word&quot;);\r\n            System.out.println(&quot;As below:&quot;);\r\n            System.out.println(reversed);\r\n        }\r\n\r\n        // if user wants to decrypt\r\n        if (ans == &#39;D&#39;) {\r\n            System.out.print(&quot;Enter a sentence to decrypt: &quot;);\r\n            sentence = scanner.nextLine();\r\n            length = sentence.length();\r\n\r\n            int start = 0;\r\n            String newWord = &quot;&quot;;\r\n            // reverse the words in the code sentence\r\n            for (int j = 0; j &lt;= length; j++) {\r\n                // check for space or after sentence has ended\r\n                if (j == length || sentence.charAt(j) == &#39; &#39;) {\r\n                    String word = sentence.substring(start, j);\r\n                    String odd = &quot;&quot;, even = &quot;&quot;;\r\n                    // placing even indexed letters at the start of the word\r\n                    for (int k = 0; k &lt; word.length(); k++) {\r\n                        if (k == 0) {\r\n                            // dont change the position of the first letter\r\n                            newWord += word.charAt(k);\r\n                        } else if (k % 2 == 0) {\r\n                            even = word.charAt(k) + even;\r\n                        } else {\r\n                            odd = word.charAt(k) + odd;\r\n                        }\r\n                    }\r\n                    newWord += odd + even;\r\n                    reversed = newWord + &quot; &quot; + reversed;\r\n                    start = j + 1;\r\n                    newWord = &quot;&quot;;\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; length; i++) {\r\n                // test if there is a non-letter input (space, @!#$, etc)\r\n                if (cText.indexOf(reversed.charAt(i)) == -1) {\r\n                    decrypted += reversed.charAt(i);\r\n                } else {\r\n                    // convert the letters into decrypted sentence\r\n                    char letters = pText.charAt(cText.indexOf(reversed.charAt(i)));\r\n                    decrypted += letters;\r\n                }\r\n            }\r\n            System.out.println(&quot;Decrypted sentence: &quot; + decrypted);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"Encryption and decryption program","body":"<p>The program is supposed to:</p>\n<ul>\n<li>Generate a new cipher text each time the program is run</li>\n<li>Reverse the words in the code sentence</li>\n<li>If the word in plaintext is today and the corresponding letters in the cipher are xoctr, write the word as xcrot, i.e. put all the even indexed letters at the start of the word</li>\n</ul>\n<p>Im not allowed to use array, stringbuilder and methods</p>\n<p>My decryption code only works for 5 letter words. Can anyone help?</p>\n<pre><code>package Project;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Q2 {\n    public static void main(String[] args) {\n        String pText = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n        String cText = &quot;&quot;, sentence, encrypted = &quot;&quot;, reversed = &quot;&quot;, decrypted = &quot;&quot;;\n        char ans;\n        int length;\n        boolean valid = false;\n\n        Scanner scanner = new Scanner(System.in);\n        Random random = new Random();\n\n        // generating a new cText each time the program is run\n        for (int i = 0; i &lt; 26; i++) {\n            char rdAplhabet;\n\n            do {\n                // if condition returns -1, it means the letter isnt in the String\n                // then adds the randomly generated letter into cText\n                rdAplhabet = (char) ('a' + random.nextInt(26));\n            } while (cText.indexOf(rdAplhabet) != -1);\n\n            cText += rdAplhabet;\n        }\n\n        System.out.println(&quot;Plain text: &quot; + pText);\n        System.out.println(&quot;Cipher text: &quot; + cText); // output this for decrypt only\n        // ask if user wants to encrypt or decrypt sentence\n        do {\n            System.out.print(&quot;\\nEncrypt or decrypt? (Enter E/D): &quot;);\n            ans = scanner.next().charAt(0);\n            ans = Character.toUpperCase(ans);\n            scanner.nextLine();\n\n            // validate user input\n            if (!(ans == 'E' || ans == 'D')) {\n                System.out.println(&quot;Invalid input. Try again.&quot;);\n            } else {\n                valid = true;\n            }\n        } while (valid == false);\n\n        // if user wants to encrypt\n        if (ans == 'E') {\n            System.out.print(&quot;Enter a sentence to encrypt: &quot;);\n            sentence = scanner.nextLine();\n            length = sentence.length();\n\n            for (int i = 0; i &lt; length; i++) {\n                // test if there is a non-letter input (space, @!#$, etc)\n                if (pText.indexOf(sentence.charAt(i)) == -1) {\n                    encrypted += sentence.charAt(i);\n                } else {\n                    // convert the letters into encrypted sentence\n                    char letters = cText.charAt(pText.indexOf(sentence.charAt(i)));\n                    encrypted += letters;\n                }\n            }\n\n            int start = 0;\n            // reverse the words in the code sentence\n            for (int j = 0; j &lt;= length; j++) {\n                // check for space or after sentence has ended\n                if (j == length || encrypted.charAt(j) == ' ') {\n                    String word = encrypted.substring(start, j);\n                    String odd = &quot;&quot;, even = &quot;&quot;;\n                    // placing even indexed letters at the start of the word\n                    for (int k = 0; k &lt; word.length(); k++) {\n                        if (k % 2 == 0) {\n                            even += word.charAt(k);\n                        } else {\n                            odd += word.charAt(k);\n                        }\n                    }\n                    reversed = even + odd + &quot; &quot; + reversed;\n                    start = j + 1;\n                }\n            }\n            System.out.println(&quot;Encrypted sentence: &quot; + encrypted);\n            System.out.println(&quot;\\nThe sentence is further encrypted by: &quot;);\n            System.out.println(&quot;- Reversing the words in the code sentence&quot;);\n            System.out.println(&quot;- Placing even indexed letters at the start of the word&quot;);\n            System.out.println(&quot;As below:&quot;);\n            System.out.println(reversed);\n        }\n\n        // if user wants to decrypt\n        if (ans == 'D') {\n            System.out.print(&quot;Enter a sentence to decrypt: &quot;);\n            sentence = scanner.nextLine();\n            length = sentence.length();\n\n            int start = 0;\n            String newWord = &quot;&quot;;\n            // reverse the words in the code sentence\n            for (int j = 0; j &lt;= length; j++) {\n                // check for space or after sentence has ended\n                if (j == length || sentence.charAt(j) == ' ') {\n                    String word = sentence.substring(start, j);\n                    String odd = &quot;&quot;, even = &quot;&quot;;\n                    // placing even indexed letters at the start of the word\n                    for (int k = 0; k &lt; word.length(); k++) {\n                        if (k == 0) {\n                            // dont change the position of the first letter\n                            newWord += word.charAt(k);\n                        } else if (k % 2 == 0) {\n                            even = word.charAt(k) + even;\n                        } else {\n                            odd = word.charAt(k) + odd;\n                        }\n                    }\n                    newWord += odd + even;\n                    reversed = newWord + &quot; &quot; + reversed;\n                    start = j + 1;\n                    newWord = &quot;&quot;;\n                }\n            }\n\n            for (int i = 0; i &lt; length; i++) {\n                // test if there is a non-letter input (space, @!#$, etc)\n                if (cText.indexOf(reversed.charAt(i)) == -1) {\n                    decrypted += reversed.charAt(i);\n                } else {\n                    // convert the letters into decrypted sentence\n                    char letters = pText.charAt(cText.indexOf(reversed.charAt(i)));\n                    decrypted += letters;\n                }\n            }\n            System.out.println(&quot;Decrypted sentence: &quot; + decrypted);\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","vault"],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701795554,"creation_date":1701795554,"question_id":77607974,"body_markdown":"I&#39;m study about Vault. After running vault with docker in dev mode\r\n```\r\ndocker run --name vault -p 8200:8200 --cap-add=IPC_LOCK -e &#39;VAULT_DEV_ROOT_TOKEN_ID=00000000-0000-0000-0000-000000000000&#39; -e &#39;VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200&#39; vault:1.13.3\r\n```\r\n\r\nI access vault gui, create a sample kv like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, I want to connect to Vault from my application (Spring Boot)\r\n\r\nI followed config [here](https://spring.io/guides/gs/vault-config/)\r\n```application.properties\r\nspring.application.name=gs-vault-config\r\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\r\nspring.cloud.vault.scheme=http\r\nspring.cloud.vault.kv.enabled=true\r\nspring.config.import:  vault://\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;vn.com.david&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-vault&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-vault&lt;/name&gt;\r\n    &lt;description&gt;spring-vault&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.30&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nLast, my controller, I want to get data from Vault\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/vault&quot;)\r\npublic class VaultController {\r\n\r\n    @Autowired\r\n    private VaultTemplate vaultTemplate;\r\n\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test() {\r\n        String secret = (String) vaultTemplate.read(&quot;secret/data&quot;).getData().get(&quot;value&quot;);\r\n        return secret;\r\n    }\r\n}\r\n```\r\n\r\nIt raise a error\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.vault.support.VaultResponse.getData()&quot; because the return value of &quot;org.springframework.vault.core.VaultTemplate.read(String)&quot; is null\r\n\tat vn.com.david.springvault.controller.VaultController.test(VaultController.java:46) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nFrom my understanding, I don&#39;t know why, can anyone help me solve this?\r\n\r\nThank you from the bottom of my heart\r\n\r\n  [1]: https://i.stack.imgur.com/c9jHH.png","title":"How to connect Vault with Spring Boot","body":"<p>I'm study about Vault. After running vault with docker in dev mode</p>\n<pre><code>docker run --name vault -p 8200:8200 --cap-add=IPC_LOCK -e 'VAULT_DEV_ROOT_TOKEN_ID=00000000-0000-0000-0000-000000000000' -e 'VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200' vault:1.13.3\n</code></pre>\n<p>I access vault gui, create a sample kv like:</p>\n<p><a href=\"https://i.stack.imgur.com/c9jHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c9jHH.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, I want to connect to Vault from my application (Spring Boot)</p>\n<p>I followed config <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>spring.application.name=gs-vault-config\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\nspring.cloud.vault.scheme=http\nspring.cloud.vault.kv.enabled=true\nspring.config.import:  vault://\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;vn.com.david&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-vault&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-vault&lt;/name&gt;\n    &lt;description&gt;spring-vault&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Last, my controller, I want to get data from Vault</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1/vault&quot;)\npublic class VaultController {\n\n    @Autowired\n    private VaultTemplate vaultTemplate;\n\n\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        String secret = (String) vaultTemplate.read(&quot;secret/data&quot;).getData().get(&quot;value&quot;);\n        return secret;\n    }\n}\n</code></pre>\n<p>It raise a error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.vault.support.VaultResponse.getData()&quot; because the return value of &quot;org.springframework.vault.core.VaultTemplate.read(String)&quot; is null\n    at vn.com.david.springvault.controller.VaultController.test(VaultController.java:46) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>From my understanding, I don't know why, can anyone help me solve this?</p>\n<p>Thank you from the bottom of my heart</p>\n"},{"tags":["java","zip","passwords","zip4j"],"owner":{"account_id":27084309,"reputation":1,"user_id":20633049,"display_name":"Axion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701795088,"creation_date":1701795026,"question_id":77607918,"body_markdown":"Writing an archiver in java using zip4j library. (resources: https://github.com/srikanth-lingala/zip4j)  \r\nFilename.zip is an encrypted zip file:  \r\n[files structure](https://i.stack.imgur.com/kfrWa.png)\r\n\r\nWhat happens when I open it and enter the correct password:\r\n\r\n[problem](https://i.stack.imgur.com/LVavY.png)\r\n\r\nThere is no such a problem in windows.\r\n\r\nCode:\r\n\r\n```\r\npublic void create() throws Exception {\r\n        ZipParameters zipParameters = new ZipParameters();\r\n        zipParameters.setEncryptFiles(true);\r\n        zipParameters.setEncryptionMethod(EncryptionMethod.AES);\r\n        // Below line is optional. AES 256 is used by default. You can override it to use AES 128. AES 192 is supported only for extracting.\r\n        zipParameters.setAesKeyStrength(AesKeyStrength.KEY_STRENGTH_256);\r\n        File file1 = new File(&quot;/Users/axionlogvinov/zipper-test/file1.txt&quot;);\r\n        file1.createNewFile();\r\n        File file2 = new File(&quot;/Users/axionlogvinov/zipper-test/file2.txt&quot;);\r\n        file2.createNewFile();\r\n        List&lt;File&gt; filesToAdd = Arrays.asList(file1, file2);\r\n\r\n        ZipFile zipFile = new ZipFile(&quot;/Users/axionlogvinov/zipper-test/filename.zip&quot;, &quot;password&quot;.toCharArray());\r\n        zipFile.addFiles(filesToAdd, zipParameters);\r\n    }\r\n```\r\n\r\nHaven&#39;t tried anything yet","title":"Can&#39;t open an encrypted zip file using zip4j in hava","body":"<p>Writing an archiver in java using zip4j library. (resources: <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">https://github.com/srikanth-lingala/zip4j</a>)<br />\nFilename.zip is an encrypted zip file:<br />\n<a href=\"https://i.stack.imgur.com/kfrWa.png\" rel=\"nofollow noreferrer\">files structure</a></p>\n<p>What happens when I open it and enter the correct password:</p>\n<p><a href=\"https://i.stack.imgur.com/LVavY.png\" rel=\"nofollow noreferrer\">problem</a></p>\n<p>There is no such a problem in windows.</p>\n<p>Code:</p>\n<pre><code>public void create() throws Exception {\n        ZipParameters zipParameters = new ZipParameters();\n        zipParameters.setEncryptFiles(true);\n        zipParameters.setEncryptionMethod(EncryptionMethod.AES);\n        // Below line is optional. AES 256 is used by default. You can override it to use AES 128. AES 192 is supported only for extracting.\n        zipParameters.setAesKeyStrength(AesKeyStrength.KEY_STRENGTH_256);\n        File file1 = new File(&quot;/Users/axionlogvinov/zipper-test/file1.txt&quot;);\n        file1.createNewFile();\n        File file2 = new File(&quot;/Users/axionlogvinov/zipper-test/file2.txt&quot;);\n        file2.createNewFile();\n        List&lt;File&gt; filesToAdd = Arrays.asList(file1, file2);\n\n        ZipFile zipFile = new ZipFile(&quot;/Users/axionlogvinov/zipper-test/filename.zip&quot;, &quot;password&quot;.toCharArray());\n        zipFile.addFiles(filesToAdd, zipParameters);\n    }\n</code></pre>\n<p>Haven't tried anything yet</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1700064137,"post_id":77489193,"comment_id":136609411,"body_markdown":"Does this answer your question? [Define a fixed-size list in Java](https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java\">Define a fixed-size list in Java</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700064469,"post_id":77489193,"comment_id":136609473,"body_markdown":"The `List` interface has an `add` method, you will not get a compile-time error whatever you do. You may get an `UnsupportedOperationException` at runtime if you choose an implementation of `List` that left the method unimplemented.","body":"The <code>List</code> interface has an <code>add</code> method, you will not get a compile-time error whatever you do. You may get an <code>UnsupportedOperationException</code> at runtime if you choose an implementation of <code>List</code> that left the method unimplemented."},{"owner":{"account_id":19896419,"reputation":66,"user_id":14577421,"display_name":"Maxime Pillier"},"score":0,"creation_date":1700064905,"post_id":77489193,"comment_id":136609550,"body_markdown":"I think you&#39;re using the right code to create fixed size List. Maybe the issue is coming from the content you&#39;re trying to add into the List ? I suppose it can be null when you call : board.get[...].get[...]","body":"I think you&#39;re using the right code to create fixed size List. Maybe the issue is coming from the content you&#39;re trying to add into the List ? I suppose it can be null when you call : board.get[...].get[...]"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700070702,"post_id":77489193,"comment_id":136610712,"body_markdown":"This is a great exercise, slightly more challenging than most.","body":"This is a great exercise, slightly more challenging than most."}],"answers":[{"tags":[],"owner":{"account_id":29055881,"reputation":35,"user_id":22257686,"display_name":"Denis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701794693,"creation_date":1700065164,"answer_id":77489350,"question_id":77489193,"body_markdown":"I think you dont need `java.util.List`. You can just use normal arrays!\r\n\r\n```java\r\npublic class Test {\r\n    SudokuField[][] board = new int[size_1][size_2];\r\n    \r\n    public void get() {\r\n        System.out.println(board[x][y]);\r\n    }\r\n    public void set() {\r\n        board[x][y] = value;\r\n    }\r\n}\r\n```\r\n***\r\nOr if you REALY need List you can do something like this:\r\n```java\r\nimport java.util.ArrayList;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Object&gt; board = new ArrayList&lt;&gt;(){\r\n            @Override\r\n            public boolean add(Object o) {\r\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\r\n                    return false; \r\n                }\r\n                return super.add(o);\r\n            }\r\n\r\n            @Override\r\n            public void add(int index, Object element) {\r\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\r\n                    return false;\r\n                }\r\n                super.add(index, element);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd it actually is in apchare commons library.\r\n&gt; The Apache Commons library provides the FixedSizeList class which does not support the add, remove and clear methods (but the set method is allowed because it does not modify the List&#39;s size). Ditto for FixedSizeList in Eclipse Collections. If you try to call one of these methods, your list remains the same size.\r\n\r\nhttps://stackoverflow.com/a/5968535/22257686","title":"Fixed-size List","body":"<p>I think you dont need <code>java.util.List</code>. You can just use normal arrays!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    SudokuField[][] board = new int[size_1][size_2];\n    \n    public void get() {\n        System.out.println(board[x][y]);\n    }\n    public void set() {\n        board[x][y] = value;\n    }\n}\n</code></pre>\n<hr />\n<p>Or if you REALY need List you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Test {\n    public static void main(String[] args) {\n        ArrayList&lt;Object&gt; board = new ArrayList&lt;&gt;(){\n            @Override\n            public boolean add(Object o) {\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\n                    return false; \n                }\n                return super.add(o);\n            }\n\n            @Override\n            public void add(int index, Object element) {\n                if (super.size() + 1 &gt;= YOUR_SIZE) {\n                    return false;\n                }\n                super.add(index, element);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And it actually is in apchare commons library.</p>\n<blockquote>\n<p>The Apache Commons library provides the FixedSizeList class which does not support the add, remove and clear methods (but the set method is allowed because it does not modify the List's size). Ditto for FixedSizeList in Eclipse Collections. If you try to call one of these methods, your list remains the same size.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/a/5968535/22257686\">https://stackoverflow.com/a/5968535/22257686</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700070902,"creation_date":1700070519,"answer_id":77489904,"question_id":77489193,"body_markdown":"&gt; _&quot;... How to create instances of List with fixed sizes ...&quot;_\r\n\r\nI don&#39;t believe there is anything within the _Java Framework_.\r\n\r\nHere is the _JavaDoc_ for the _Collections Framework_.\\\r\n_[The Collections Framework (Java SE 21 &amp;amp; JDK 21)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading)_.\r\n\r\nSimilar to _@Denis_&#39;s answer, just use an _array_, which are of a fixed-length, by default.\\\r\n_[Arrays (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)_.\r\n\r\n```java\r\nSudokuField[][] board = new SudokuField[9][9];\r\n```\r\n\r\nAlternately, encapsulate the _ArrayList_ class, checking the parameters for each _&quot;add&quot;_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\nclass SudokuFieldList extends ArrayList&lt;List&lt;SudokuField&gt;&gt; {\r\n    @Override\r\n    public boolean add(List&lt;SudokuField&gt; e) {\r\n        if (size() == 9 || e.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.add(e);\r\n    }\r\n\r\n    @Override\r\n    public void add(int index, List&lt;SudokuField&gt; element) {\r\n        if (size() == 9 || index &gt;= 9 || element.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        super.add(index, element);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\r\n        if (size() == 9 || c.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.addAll(c);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(int index, Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\r\n        if (size() == 9 || index &gt;= 9 || c.size() &gt; 9)\r\n            throw new ListOutOfBoundsException();\r\n        return super.addAll(index, c);\r\n    }\r\n\r\n    static class ListOutOfBoundsException extends RuntimeException { }\r\n}\r\n```\r\n\r\nAnd, here is an example usage; intentionally erroring.\r\n\r\n```java\r\nSudokuFieldList l = new SudokuFieldList();\r\nfor (int i = 0; i &lt; 20; i++) l.add(List.of());\r\n```\r\n\r\n```none\r\nException in thread &quot;main&quot; Example$SudokuFieldList$ListOutOfBoundsException\r\n\tat Example$SudokuFieldList.add(Example.java:17)\r\n\tat Example.main(Example.java:10)\r\n```\r\n\r\nOn a final note, here is a _Wikipedia_ article on solving _Sudoku_ puzzles.\\\r\n_[Wikipedia &amp;ndash; Sudoku solving algorithms](https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force)_.","title":"Fixed-size List","body":"<blockquote>\n<p><em>&quot;... How to create instances of List with fixed sizes ...&quot;</em></p>\n</blockquote>\n<p>I don't believe there is anything within the <em>Java Framework</em>.</p>\n<p>Here is the <em>JavaDoc</em> for the <em>Collections Framework</em>.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/doc-files/coll-index.html#the-collections-framework-heading\" rel=\"nofollow noreferrer\">The Collections Framework (Java SE 21 &amp; JDK 21)</a></em>.</p>\n<p>Similar to <em>@Denis</em>'s answer, just use an <em>array</em>, which are of a fixed-length, by default.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays (The Java Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SudokuField[][] board = new SudokuField[9][9];\n</code></pre>\n<p>Alternately, encapsulate the <em>ArrayList</em> class, checking the parameters for each <em>&quot;add&quot;</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SudokuFieldList extends ArrayList&lt;List&lt;SudokuField&gt;&gt; {\n    @Override\n    public boolean add(List&lt;SudokuField&gt; e) {\n        if (size() == 9 || e.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.add(e);\n    }\n\n    @Override\n    public void add(int index, List&lt;SudokuField&gt; element) {\n        if (size() == 9 || index &gt;= 9 || element.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        super.add(index, element);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\n        if (size() == 9 || c.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.addAll(c);\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends List&lt;SudokuField&gt;&gt; c) {\n        if (size() == 9 || index &gt;= 9 || c.size() &gt; 9)\n            throw new ListOutOfBoundsException();\n        return super.addAll(index, c);\n    }\n\n    static class ListOutOfBoundsException extends RuntimeException { }\n}\n</code></pre>\n<p>And, here is an example usage; intentionally erroring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SudokuFieldList l = new SudokuFieldList();\nfor (int i = 0; i &lt; 20; i++) l.add(List.of());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; Example$SudokuFieldList$ListOutOfBoundsException\n    at Example$SudokuFieldList.add(Example.java:17)\n    at Example.main(Example.java:10)\n</code></pre>\n<p>On a final note, here is a <em>Wikipedia</em> article on solving <em>Sudoku</em> puzzles.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Sudoku_solving_algorithms#Sudoku_brute_force\" rel=\"nofollow noreferrer\">Wikipedia  Sudoku solving algorithms</a></em>.</p>\n"}],"owner":{"account_id":26882599,"reputation":23,"user_id":20462765,"display_name":"jano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701794693,"creation_date":1700063907,"question_id":77489193,"body_markdown":"How to create instances of List with fixed sizes (it is not possible to perform add() operations on them, but it is possible to perform set())? When I try to change `fields.set(i, board.get(i).get(x));` into `fields.add(new SudokuField());` I do not get compiler errors in IntelliJ.\r\n\r\n```package org.sudoku;\r\n\r\nimport java.util.*;\r\n\r\npublic class SudokuBoard {\r\n\r\n    private final List&lt;List&lt;SudokuField&gt;&gt; board = new ArrayList&lt;&gt;();\r\n    private final SudokuSolver solver;\r\n    //private final List&lt;ComponentObserver&gt; observers = Arrays.asList(new ComponentObserver[3]);\r\n    private final ComponentObserver[] observers = new ComponentObserver[3];\r\n    private boolean state = true;\r\n\r\n    public SudokuBoard(SudokuSolver solver) {\r\n        this.solver = Objects.requireNonNull(solver);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            List&lt;SudokuField&gt; row = Arrays.asList(new SudokuField[9]);\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                row.set(j, new SudokuField());\r\n            }\r\n            board.add(row);\r\n        }\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            observers[i] = new ComponentObserver();\r\n        }\r\n    }\r\n\r\n    public void solveGame() {\r\n        solver.solve(this);\r\n    }\r\n\r\n    public boolean isSafe() {\r\n        return checkBoard();\r\n    }\r\n\r\n    public int get(int y, int x) {\r\n        return board.get(y).get(x).getFieldValue();\r\n    }\r\n\r\n    private  void setState() {\r\n        state = observers[0].getCorrectState();\r\n        state &amp;= observers[1].getCorrectState();\r\n        state &amp;= observers[2].getCorrectState();\r\n    }\r\n\r\n    private void update(int y, int x) {\r\n        observers[0].update(getRow(y));\r\n        observers[1].update(getColumn(x));\r\n        observers[2].update(getBox(y, x));\r\n    }\r\n\r\n    public void set(int y, int x, int value) {\r\n        board.get(y).get(x).setFieldValue(value);\r\n        update(y, x);\r\n        setState();\r\n    }\r\n\r\n    public SudokuRow getRow(int y) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            fields.set(i, board.get(y).get(i));\r\n        }\r\n        return new SudokuRow(fields);\r\n    }\r\n\r\n    public SudokuColumn getColumn(int x) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            fields.set(i, board.get(i).get(x));\r\n        }\r\n        return new SudokuColumn(fields);\r\n    }\r\n\r\n    public SudokuBox getBox(int y, int x) {\r\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\r\n        int row = y / 3 * 3;\r\n        int col = x / 3 * 3;\r\n        int index = 0;\r\n        for (int i = row; i &lt; row + 3; i++) {\r\n            for (int j = col; j &lt; col + 3; j++) {\r\n                fields.set(index, board.get(i).get(j));\r\n                index++;\r\n            }\r\n        }\r\n        return new SudokuBox(fields);\r\n    }\r\n\r\n    private boolean checkBoard() {\r\n        return state;\r\n    }\r\n}\r\n```\r\n","title":"Fixed-size List","body":"<p>How to create instances of List with fixed sizes (it is not possible to perform add() operations on them, but it is possible to perform set())? When I try to change <code>fields.set(i, board.get(i).get(x));</code> into <code>fields.add(new SudokuField());</code> I do not get compiler errors in IntelliJ.</p>\n<pre><code>\nimport java.util.*;\n\npublic class SudokuBoard {\n\n    private final List&lt;List&lt;SudokuField&gt;&gt; board = new ArrayList&lt;&gt;();\n    private final SudokuSolver solver;\n    //private final List&lt;ComponentObserver&gt; observers = Arrays.asList(new ComponentObserver[3]);\n    private final ComponentObserver[] observers = new ComponentObserver[3];\n    private boolean state = true;\n\n    public SudokuBoard(SudokuSolver solver) {\n        this.solver = Objects.requireNonNull(solver);\n        for (int i = 0; i &lt; 9; i++) {\n            List&lt;SudokuField&gt; row = Arrays.asList(new SudokuField[9]);\n            for (int j = 0; j &lt; 9; j++) {\n                row.set(j, new SudokuField());\n            }\n            board.add(row);\n        }\n        for (int i = 0; i &lt; 3; i++) {\n            observers[i] = new ComponentObserver();\n        }\n    }\n\n    public void solveGame() {\n        solver.solve(this);\n    }\n\n    public boolean isSafe() {\n        return checkBoard();\n    }\n\n    public int get(int y, int x) {\n        return board.get(y).get(x).getFieldValue();\n    }\n\n    private  void setState() {\n        state = observers[0].getCorrectState();\n        state &amp;= observers[1].getCorrectState();\n        state &amp;= observers[2].getCorrectState();\n    }\n\n    private void update(int y, int x) {\n        observers[0].update(getRow(y));\n        observers[1].update(getColumn(x));\n        observers[2].update(getBox(y, x));\n    }\n\n    public void set(int y, int x, int value) {\n        board.get(y).get(x).setFieldValue(value);\n        update(y, x);\n        setState();\n    }\n\n    public SudokuRow getRow(int y) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        for (int i = 0; i &lt; 9; i++) {\n            fields.set(i, board.get(y).get(i));\n        }\n        return new SudokuRow(fields);\n    }\n\n    public SudokuColumn getColumn(int x) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        for (int i = 0; i &lt; 9; i++) {\n            fields.set(i, board.get(i).get(x));\n        }\n        return new SudokuColumn(fields);\n    }\n\n    public SudokuBox getBox(int y, int x) {\n        List&lt;SudokuField&gt; fields = Arrays.asList(new SudokuField[9]);\n        int row = y / 3 * 3;\n        int col = x / 3 * 3;\n        int index = 0;\n        for (int i = row; i &lt; row + 3; i++) {\n            for (int j = col; j &lt; col + 3; j++) {\n                fields.set(index, board.get(i).get(j));\n                index++;\n            }\n        }\n        return new SudokuBox(fields);\n    }\n\n    private boolean checkBoard() {\n        return state;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","new-operator"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1701791252,"post_id":77607488,"comment_id":136817732,"body_markdown":"You can leave off the `new X[]` part only when assigning a constant expression, where all the values are known at the time of assignment.","body":"You can leave off the <code>new X[]</code> part only when assigning a constant expression, where all the values are known at the time of assignment."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701791334,"post_id":77607488,"comment_id":136817750,"body_markdown":"The explanation you found sounds more like stack vs. heap for allocating arrays in C (or C++). For Java, one is just a literal shorthand for the other, unless you wish to be explicit about the type. For instance, `int[] values = {1,2,3};` is obviously fine, but `int[] values = new float[]{1,2,3};` wouldn&#39;t work. For this same reason, `int[] values = {1.2, 3.4, 5.6}` also would fail (but a little less obviously, the required type in the array is now `int`). You can assign variables using the literal as well: `void foo(int s) { int[] values = {s}; }` is legal.","body":"The explanation you found sounds more like stack vs. heap for allocating arrays in C (or C++). For Java, one is just a literal shorthand for the other, unless you wish to be explicit about the type. For instance, <code>int[] values = {1,2,3};</code> is obviously fine, but <code>int[] values = new float[]{1,2,3};</code> wouldn&#39;t work. For this same reason, <code>int[] values = {1.2, 3.4, 5.6}</code> also would fail (but a little less obviously, the required type in the array is now <code>int</code>). You can assign variables using the literal as well: <code>void foo(int s) { int[] values = {s}; }</code> is legal."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701791559,"post_id":77607488,"comment_id":136817791,"body_markdown":"In short: Do what you feel is correct, and simply be consistent in your usage. It&#39;s best to have as little variation in your notation as possible imo.","body":"In short: Do what you feel is correct, and simply be consistent in your usage. It&#39;s best to have as little variation in your notation as possible imo."}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1701791782,"post_id":77607538,"comment_id":136817840,"body_markdown":"&quot;this shorthand syntax can only be used when the array elements are known at the time of assignment&quot; the shorthand syntax can only be used in a variable declaration. Even if you know the elements, you can&#39;t write e.g. `values = { 10 };`, only `float[] values = { 10 };`.","body":"&quot;this shorthand syntax can only be used when the array elements are known at the time of assignment&quot; the shorthand syntax can only be used in a variable declaration. Even if you know the elements, you can&#39;t write e.g. <code>values = { 10 };</code>, only <code>float[] values = { 10 };</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701791998,"post_id":77607538,"comment_id":136817887,"body_markdown":"Note that the type of the LHS informs the component type of the RHS literal. Obviously, the compiled code is the same only when it&#39;s compilable, and since you can only assign a literal when declaring the array, `T[] arr = new T[] {...}` may become `T[] arr = {...}`. That&#39;s the only context you can actually leave it off, when you already have (a non-generic) `T[]` on the LHS.","body":"Note that the type of the LHS informs the component type of the RHS literal. Obviously, the compiled code is the same only when it&#39;s compilable, and since you can only assign a literal when declaring the array, <code>T[] arr = new T[] {...}</code> may become <code>T[] arr = {...}</code>. That&#39;s the only context you can actually leave it off, when you already have (a non-generic) <code>T[]</code> on the LHS."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1701793097,"post_id":77607538,"comment_id":136818120,"body_markdown":"@Holger I was referring to the fact that you can only use curly braces to &quot;construct&quot; the array. I decided to remove that part because it still applies to both approaches presented in the question.","body":"@Holger I was referring to the fact that you can only use curly braces to &quot;construct&quot; the array. I decided to remove that part because it still applies to both approaches presented in the question."}],"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701792886,"creation_date":1701791504,"answer_id":77607538,"question_id":77607488,"body_markdown":"The omittance of `new float[]` is simply a shorthand. As mentioned by Andy Turner, this shorthand syntax is only allowed in a variable *declaration*. That being said, the two lines compile into identical bytecode.\r\n\r\nTake this class for example:\r\n\r\n    public class Test {\r\n    \tfloat[] values = { 10, 20, 30, 40, 50 };\r\n    \tfloat[] values2 = new float[] { 10, 20, 30, 40, 50 };\r\n    }\r\n\r\nThe compiled bytecode is equivalent to:\r\n\r\n    public class Test {\r\n    \tfloat[] values;\r\n    \tfloat[] values2;\r\n    \r\n    \tpublic Test() {\r\n    \t\tsuper();\r\n    \t\tthis.values = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\r\n    \t\tthis.values2 = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\r\n    \t}\r\n    }","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>The omittance of <code>new float[]</code> is simply a shorthand. As mentioned by Andy Turner, this shorthand syntax is only allowed in a variable <em>declaration</em>. That being said, the two lines compile into identical bytecode.</p>\n<p>Take this class for example:</p>\n<pre><code>public class Test {\n    float[] values = { 10, 20, 30, 40, 50 };\n    float[] values2 = new float[] { 10, 20, 30, 40, 50 };\n}\n</code></pre>\n<p>The compiled bytecode is equivalent to:</p>\n<pre><code>public class Test {\n    float[] values;\n    float[] values2;\n\n    public Test() {\n        super();\n        this.values = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\n        this.values2 = new float[] { 10.0f, 20.0f, 30.0f, 40.0f, 50.0f };\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1701792329,"post_id":77607562,"comment_id":136817962,"body_markdown":"Somehow, you gave a much more concise answer with half the character count. +1","body":"Somehow, you gave a much more concise answer with half the character count. +1"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701792546,"post_id":77607562,"comment_id":136818011,"body_markdown":"I cant remember a Java version where this didnt work. So its either, added in Java&#160;1.1 or even existed from day one. Its definitely *not* introduced in JDK 5.","body":"I cant remember a Java version where this didnt work. So its either, added in Java 1.1 or even existed from day one. Its definitely <i>not</i> introduced in JDK 5."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1701793094,"post_id":77607562,"comment_id":136818117,"body_markdown":"@Holger https://titanium.cs.berkeley.edu/doc/java-langspec-1.0/10.doc.html#11358 there in the Java 1.0 spec.","body":"@Holger <a href=\"https://titanium.cs.berkeley.edu/doc/java-langspec-1.0/10.doc.html#11358\" rel=\"nofollow noreferrer\">titanium.cs.berkeley.edu/doc/java-langspec-1.0/&hellip;</a> there in the Java 1.0 spec."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1701886919,"post_id":77607562,"comment_id":136831580,"body_markdown":"btw you can also create an array without &quot;new&quot; to specify annotation properties of array type.","body":"btw you can also create an array without &quot;new&quot; to specify annotation properties of array type."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701794589,"creation_date":1701791702,"answer_id":77607562,"question_id":77607488,"body_markdown":"This is known as an &quot;Array Initializer&quot;. It&#39;s a shorthand (syntactic sugar) &lt;strike&gt;introduced in JDK 5&lt;/strike&gt; that has existed since 1.0 (_credit to Andy and Holger_ below). \r\n\r\n```java\r\nfloat[] values = { 10, 20, 30, 40, 50 };\r\n```\r\n\r\nThe latter is the traditional way to assign an array.\r\n\r\n```java\r\nfloat[] values2 = new float[] { 10, 20, 30, 40, 50 };\r\n```\r\n\r\nYou can use whichever makes you feel more comfortable.\r\n\r\n---\r\n\r\nKeep in mind that the shorthand is only allowed during initialization.\r\n\r\n```java\r\npublic class ArrayInitializer {\r\n    public static void main(String[] args) {\r\n        float[] values;\r\n        values = new float[] { 10, 20, 30, 40, 50 }; // Valid\r\n\r\n        float[] values2;\r\n        values2 = { 10, 20, 30, 40, 50 }; // Invalid\r\n    }\r\n}\r\n```","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>This is known as an &quot;Array Initializer&quot;. It's a shorthand (syntactic sugar) <strike>introduced in JDK 5</strike> that has existed since 1.0 (<em>credit to Andy and Holger</em> below).</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] values = { 10, 20, 30, 40, 50 };\n</code></pre>\n<p>The latter is the traditional way to assign an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] values2 = new float[] { 10, 20, 30, 40, 50 };\n</code></pre>\n<p>You can use whichever makes you feel more comfortable.</p>\n<hr />\n<p>Keep in mind that the shorthand is only allowed during initialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayInitializer {\n    public static void main(String[] args) {\n        float[] values;\n        values = new float[] { 10, 20, 30, 40, 50 }; // Valid\n\n        float[] values2;\n        values2 = { 10, 20, 30, 40, 50 }; // Invalid\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29083304,"reputation":19,"user_id":22278821,"display_name":"Wesley Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1701802101,"accepted_answer_id":77607562,"answer_count":2,"score":0,"last_activity_date":1701794589,"creation_date":1701791098,"question_id":77607488,"body_markdown":"I would like to understand the difference the &quot;new&quot; command does in the line 2 in code below. Because when I print the positions, the answer is the same. So I don&#39;t see the necessity to use this &quot;new&quot; command.\r\n\r\n    float[] values = { 10, 20, 30, 40, 50 }; //In my view the easy way to do it\r\n    float[] values2 = new float[] { 10, 20, 30, 40, 50 }; //not understand why more verbose?\r\n\r\nI just made a research and found some explain related to heap memory and pool. However I didn&#39;t understood why and when should use the new and when shouldn&#39;t.","title":"When should I use &quot;new&quot; when creating an array in Java?","body":"<p>I would like to understand the difference the &quot;new&quot; command does in the line 2 in code below. Because when I print the positions, the answer is the same. So I don't see the necessity to use this &quot;new&quot; command.</p>\n<pre><code>float[] values = { 10, 20, 30, 40, 50 }; //In my view the easy way to do it\nfloat[] values2 = new float[] { 10, 20, 30, 40, 50 }; //not understand why more verbose?\n</code></pre>\n<p>I just made a research and found some explain related to heap memory and pool. However I didn't understood why and when should use the new and when shouldn't.</p>\n"},{"tags":["java","memory-leaks","out-of-memory","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1701801595,"post_id":77607856,"comment_id":136819638,"body_markdown":"fyi, this is also being discussed on the [github issue](https://github.com/ben-manes/caffeine/issues/1356).","body":"fyi, this is also being discussed on the <a href=\"https://github.com/ben-manes/caffeine/issues/1356\" rel=\"nofollow noreferrer\">github issue</a>."}],"owner":{"account_id":30073644,"reputation":11,"user_id":23047026,"display_name":"joy kishore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701794505,"creation_date":1701794428,"question_id":77607856,"body_markdown":"I have initialized my cache in the following way:\r\n\r\n```\r\nCache&lt;Key, Entry&gt; sharedCache =Caffeine.newBuilder()\r\n                 .ticker (ticker::read)\r\n                 .expireAfter(new ExpirySetting())\r\n                 .weigher( a weigher logic that calculates the bytes consumed by each entry value)\r\n                 .maximumWeight(maxBytesInMemory) //maxBytesInMemory =242 MB\r\n                 .executor(executor)\r\n                 .scheduler(scheduler)\r\n                 .build();\r\n```\r\nThere is a **weightedSize** variable that keeps track of the total weight consumed at any point of time. When the value of this reaches the **maxWeightedSize** (242 MB as set in the caffeine initialization), eviction start to happen as expected.\r\n\r\nbut the object com.github.benmanes.caffeine.cache.SSLSMWA consumes a lot of memory (way higher than the maxWeightedSize i.e 242 MB), example of such instances are provided below:\r\n\r\n*Unique requests were sent at the rate of 25 per second for 40 mins so that all the requests are getting writen to cache and heap dumps were taken every 3 min. Below are the observations:*\r\n\r\n\r\n```\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 262.4 MB | maxWeightedSize: 242.194645 MB | weightedSize: 198.201916 MB | time elapsed: 18 min\r\n{Retained size of SSLSMWA (262.4 MB) already exceeded the max weight (242 MB) but the weighted size is still below max weight.}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:289.2 MB | maxWeightedSize: 242.194645 MB | weightedSize: 218.480108 MB | time elapsed: 21 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:314.3 MB] maxWeightedSize: 242.194645 MB | weightedSize: 237.563964 MB | time elapsed: 24 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA:320.5 MB | maxWeightedSize: MB | weightedSize: 242.193292 MB | time elapsed : 27 min\r\n{weighted size approaches maxweight}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 299.1 MB | maxWeightedSize: 242.194645 MB | weightedSize: 226.00419 MB | time elapsed: 30 min {weighted size starts to reduce, retained size of SSLSMWA also starts to reduce}\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 258.8 MB | maxWeightedSize: 242.194645 MB | weightedSize: 195.53424 MB | time elapsed: 33 min\r\n\r\ncom.github.benmanes.caffeine.cache.SSLSMWA: 231.9 MB | maxWeightedSize: 242.194645 MB | weightedSize: 175.148864 MB | time elapsed: 36 min\r\n```\r\nCan you please answer the following questions ?\r\n\r\n1.) What is the use of SSLSMWA class?\r\n\r\n2.) Why is the com.github.benmanes.caffeine.cache.SSLSMWA consuming so much memory (causing my application to use 99% of the heap)? Why is it not contained within the maxWeightedSize (i.e. 242 MB)","title":"com.github.benmanes.caffeine.cache.SSLSMWA class of caffeine-cache consuming very high memory","body":"<p>I have initialized my cache in the following way:</p>\n<pre><code>Cache&lt;Key, Entry&gt; sharedCache =Caffeine.newBuilder()\n                 .ticker (ticker::read)\n                 .expireAfter(new ExpirySetting())\n                 .weigher( a weigher logic that calculates the bytes consumed by each entry value)\n                 .maximumWeight(maxBytesInMemory) //maxBytesInMemory =242 MB\n                 .executor(executor)\n                 .scheduler(scheduler)\n                 .build();\n</code></pre>\n<p>There is a <strong>weightedSize</strong> variable that keeps track of the total weight consumed at any point of time. When the value of this reaches the <strong>maxWeightedSize</strong> (242 MB as set in the caffeine initialization), eviction start to happen as expected.</p>\n<p>but the object com.github.benmanes.caffeine.cache.SSLSMWA consumes a lot of memory (way higher than the maxWeightedSize i.e 242 MB), example of such instances are provided below:</p>\n<p><em>Unique requests were sent at the rate of 25 per second for 40 mins so that all the requests are getting writen to cache and heap dumps were taken every 3 min. Below are the observations:</em></p>\n<pre><code>com.github.benmanes.caffeine.cache.SSLSMWA: 262.4 MB | maxWeightedSize: 242.194645 MB | weightedSize: 198.201916 MB | time elapsed: 18 min\n{Retained size of SSLSMWA (262.4 MB) already exceeded the max weight (242 MB) but the weighted size is still below max weight.}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:289.2 MB | maxWeightedSize: 242.194645 MB | weightedSize: 218.480108 MB | time elapsed: 21 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:314.3 MB] maxWeightedSize: 242.194645 MB | weightedSize: 237.563964 MB | time elapsed: 24 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA:320.5 MB | maxWeightedSize: MB | weightedSize: 242.193292 MB | time elapsed : 27 min\n{weighted size approaches maxweight}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 299.1 MB | maxWeightedSize: 242.194645 MB | weightedSize: 226.00419 MB | time elapsed: 30 min {weighted size starts to reduce, retained size of SSLSMWA also starts to reduce}\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 258.8 MB | maxWeightedSize: 242.194645 MB | weightedSize: 195.53424 MB | time elapsed: 33 min\n\ncom.github.benmanes.caffeine.cache.SSLSMWA: 231.9 MB | maxWeightedSize: 242.194645 MB | weightedSize: 175.148864 MB | time elapsed: 36 min\n</code></pre>\n<p>Can you please answer the following questions ?</p>\n<p>1.) What is the use of SSLSMWA class?</p>\n<p>2.) Why is the com.github.benmanes.caffeine.cache.SSLSMWA consuming so much memory (causing my application to use 99% of the heap)? Why is it not contained within the maxWeightedSize (i.e. 242 MB)</p>\n"},{"tags":["java","rsa","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701794219,"creation_date":1701794219,"answer_id":77607835,"question_id":77586689,"body_markdown":"Thanks to @MartinPrikryl and [this][1] linked thread, I found a solution. Looks like someone forked the original `jsch` library and solved these kind of problems. Swapping the Maven dependency from\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.55&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nto\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwas enough to solve it. Absolutely no need to refactor code.\r\n\r\n## Some considerations\r\nThis library is a thid-party, independent fork from the original `jsch`. This means it may still have some flaws and they could stop supporting it anytime (just like `com.jcraft`). Personally, I would have preferred an actual fix, but solving it was too urgent. Plus, this fork allows me to use an `OPENSSH` key. Using a converted RSA key could have been a problem, since I would avoid touching any of the production environment configurations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72771323/11961036","title":"SFTP Connection through OPENSSH IdentityFile in Java","body":"<p>Thanks to @MartinPrikryl and <a href=\"https://stackoverflow.com/a/72771323/11961036\">this</a> linked thread, I found a solution. Looks like someone forked the original <code>jsch</code> library and solved these kind of problems. Swapping the Maven dependency from</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.55&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.mwiede&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.2.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>was enough to solve it. Absolutely no need to refactor code.</p>\n<h2>Some considerations</h2>\n<p>This library is a thid-party, independent fork from the original <code>jsch</code>. This means it may still have some flaws and they could stop supporting it anytime (just like <code>com.jcraft</code>). Personally, I would have preferred an actual fix, but solving it was too urgent. Plus, this fork allows me to use an <code>OPENSSH</code> key. Using a converted RSA key could have been a problem, since I would avoid touching any of the production environment configurations.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1701974164,"accepted_answer_id":77607835,"answer_count":1,"score":2,"last_activity_date":1701794219,"creation_date":1701447844,"question_id":77586689,"body_markdown":"I&#39;m developing a Java application that has to store data inside an SFTP. \r\n\r\nThe test environment has a password authentication, meanwhile the production environment has an authorized OPENSSH key (the standard `id_rsa`) used as `IdentityFile`. This means that I have to keep both authentication methods in the same code.\r\n\r\nThat&#39;s how I handled it. Basically, if the `identityFile` path is not set, it will leverage the password login. Note that all variables come from `application.properties`:\r\n\r\n    JSch jsch = new JSch();\r\n    jsch.setKnownHosts(knownHosts);\r\n\r\n    if (!identityFile.equals(&quot;&quot;)) {\r\n        jsch.addIdentity(identityFile, passphrase);\r\n    }\r\n    Session jschSession = jsch.getSession(user, host, port);\r\n    jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\r\n    if (identityFile.equals(&quot;&quot;)) {\r\n        jschSession.setPassword(pass);\r\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n    } else {\r\n        jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\r\n    }\r\n    jschSession.connect();\r\n    ChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n    channelSftp.connect();\r\n\r\nI can connect to the test environment but cannot connect to the production SFTP, so I instantiated an SFTP on a development server with (hopefully) the same configurations. I followed [this][1] guide. \r\n\r\nConnecting to the development SFTP through shell and FileZilla, specifying the `IdentityFile`, works fine. Connecting to the test SFTP through Java, shell and FileZilla with password, works fine. \r\n\r\nJava won&#39;t connect using `IdentityFile`. All I keep getting is `com.jcraft.jsch.SftpException: Auth fail` on `jschSession.connect()`, if I use an RSA private key. \r\n\r\nProduction environment uses an OPENSSH private key, so I cannot convert it. If I use the OPENSSH key, I get `invalid privatekey: [B@48c76607` error, on `jsch.addIdentity(identityFile)`. As I&#39;ve read [here][2], `JSch` doesn&#39;t like OPENSSH keys.\r\n\r\nThis means that JSch wants an RSA key, but it doesn&#39;t connect either. I will think about converting the OPENSSH to RSA later.\r\n\r\nI tried running the `jar` on both Windows and an Ubuntu dockerized VM. The `id_rsa` file has the right permissions on both systems.\r\n\r\nThe version of `JSch` I&#39;m using is `jsch-0.1.55.jar`. I&#39;m running `Java 8`.\r\n\r\nThese are the JSch logs after connecting with an RSA key.\r\n\r\n\tConnecting to &lt;HOST&gt; port &lt;PORT&gt;\r\n\tConnection established\r\n\tRemote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3ubuntu0.3\r\n\tLocal version string: SSH-2.0-JSCH-0.1.54\r\n\tCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n\tCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n\tCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n\tSSH_MSG_KEXINIT sent\r\n\tSSH_MSG_KEXINIT received\r\n\tkex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n\tkex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\n\tkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n\tkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\n\tkex: server: none,zlib@openssh.com\r\n\tkex: server: none,zlib@openssh.com\r\n\tkex: server: \r\n\tkex: server: \r\n\tkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n\tkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n\tkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n\tkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n\tkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n\tkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n\tkex: client: none\r\n\tkex: client: none\r\n\tkex: client: \r\n\tkex: client: \r\n\tkex: server-&gt;client aes128-ctr hmac-sha1 none\r\n\tkex: client-&gt;server aes128-ctr hmac-sha1 none\r\n\tSSH_MSG_KEX_ECDH_INIT sent\r\n\texpecting SSH_MSG_KEX_ECDH_REPLY\r\n\tHost &#39;&lt;HOST&gt;&#39; is known and matches the ECDSA host key\r\n\tSSH_MSG_NEWKEYS sent\r\n\tSSH_MSG_NEWKEYS received\r\n\tSSH_MSG_SERVICE_REQUEST sent\r\n\tSSH_MSG_SERVICE_ACCEPT received\r\n\tAuthentications that can continue: publickey\r\n\tNext authentication method: publickey\r\n\tDisconnecting from &lt;HOST&gt; port &lt;PORT&gt;\r\n\r\nRealistically, there is something missing in my SSH/SFTP configuration, since my app can&#39;t connect to SSH on the same server either.\r\n\r\nAny help is highly appreciated!\r\n\r\n\r\n  [1]: https://www.ionos.com/digitalguide/server/configuration/set-up-an-ubuntu-sftp-server/\r\n  [2]: https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch","title":"SFTP Connection through OPENSSH IdentityFile in Java","body":"<p>I'm developing a Java application that has to store data inside an SFTP.</p>\n<p>The test environment has a password authentication, meanwhile the production environment has an authorized OPENSSH key (the standard <code>id_rsa</code>) used as <code>IdentityFile</code>. This means that I have to keep both authentication methods in the same code.</p>\n<p>That's how I handled it. Basically, if the <code>identityFile</code> path is not set, it will leverage the password login. Note that all variables come from <code>application.properties</code>:</p>\n<pre><code>JSch jsch = new JSch();\njsch.setKnownHosts(knownHosts);\n\nif (!identityFile.equals(&quot;&quot;)) {\n    jsch.addIdentity(identityFile, passphrase);\n}\nSession jschSession = jsch.getSession(user, host, port);\njschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n\nif (identityFile.equals(&quot;&quot;)) {\n    jschSession.setPassword(pass);\n    jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\n} else {\n    jschSession.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\n}\njschSession.connect();\nChannelSftp channelSftp = (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\nchannelSftp.connect();\n</code></pre>\n<p>I can connect to the test environment but cannot connect to the production SFTP, so I instantiated an SFTP on a development server with (hopefully) the same configurations. I followed <a href=\"https://www.ionos.com/digitalguide/server/configuration/set-up-an-ubuntu-sftp-server/\" rel=\"nofollow noreferrer\">this</a> guide.</p>\n<p>Connecting to the development SFTP through shell and FileZilla, specifying the <code>IdentityFile</code>, works fine. Connecting to the test SFTP through Java, shell and FileZilla with password, works fine.</p>\n<p>Java won't connect using <code>IdentityFile</code>. All I keep getting is <code>com.jcraft.jsch.SftpException: Auth fail</code> on <code>jschSession.connect()</code>, if I use an RSA private key.</p>\n<p>Production environment uses an OPENSSH private key, so I cannot convert it. If I use the OPENSSH key, I get <code>invalid privatekey: [B@48c76607</code> error, on <code>jsch.addIdentity(identityFile)</code>. As I've read <a href=\"https://stackoverflow.com/questions/53134212/invalid-privatekey-when-using-jsch\">here</a>, <code>JSch</code> doesn't like OPENSSH keys.</p>\n<p>This means that JSch wants an RSA key, but it doesn't connect either. I will think about converting the OPENSSH to RSA later.</p>\n<p>I tried running the <code>jar</code> on both Windows and an Ubuntu dockerized VM. The <code>id_rsa</code> file has the right permissions on both systems.</p>\n<p>The version of <code>JSch</code> I'm using is <code>jsch-0.1.55.jar</code>. I'm running <code>Java 8</code>.</p>\n<p>These are the JSch logs after connecting with an RSA key.</p>\n<pre><code>Connecting to &lt;HOST&gt; port &lt;PORT&gt;\nConnection established\nRemote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3ubuntu0.3\nLocal version string: SSH-2.0-JSCH-0.1.54\nCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nSSH_MSG_KEXINIT sent\nSSH_MSG_KEXINIT received\nkex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nkex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nkex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nkex: server: none,zlib@openssh.com\nkex: server: none,zlib@openssh.com\nkex: server: \nkex: server: \nkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: none\nkex: client: none\nkex: client: \nkex: client: \nkex: server-&gt;client aes128-ctr hmac-sha1 none\nkex: client-&gt;server aes128-ctr hmac-sha1 none\nSSH_MSG_KEX_ECDH_INIT sent\nexpecting SSH_MSG_KEX_ECDH_REPLY\nHost '&lt;HOST&gt;' is known and matches the ECDSA host key\nSSH_MSG_NEWKEYS sent\nSSH_MSG_NEWKEYS received\nSSH_MSG_SERVICE_REQUEST sent\nSSH_MSG_SERVICE_ACCEPT received\nAuthentications that can continue: publickey\nNext authentication method: publickey\nDisconnecting from &lt;HOST&gt; port &lt;PORT&gt;\n</code></pre>\n<p>Realistically, there is something missing in my SSH/SFTP configuration, since my app can't connect to SSH on the same server either.</p>\n<p>Any help is highly appreciated!</p>\n"},{"tags":["java","spring-boot","swagger","spring-rest","openapi-generator"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690980690,"post_id":76765012,"comment_id":135428182,"body_markdown":"You can try to publish an API-JAR for the generated code in one project and consume it in the other.","body":"You can try to publish an API-JAR for the generated code in one project and consume it in the other."},{"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"score":0,"creation_date":1690983078,"post_id":76765012,"comment_id":135428813,"body_markdown":"@cyberbrain We already have a Jar published, but we also want the models in jar to be referenced to yaml, else we have to create a schema with same fields for request and response in the micro-service. If we could have some thing like\ncreditCard:\n   jarPath: &quot;foo-service.jar:CreditCardModel.java&quot;","body":"@cyberbrain We already have a Jar published, but we also want the models in jar to be referenced to yaml, else we have to create a schema with same fields for request and response in the micro-service. If we could have some thing like creditCard:    jarPath: &quot;foo-service.jar:CreditCardModel.java&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17893364,"reputation":94,"user_id":12999361,"display_name":"Sowik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701793773,"creation_date":1701793773,"answer_id":77607795,"question_id":76765012,"body_markdown":"You can accomplish this with `schemaMappings` \r\n\r\nStep 1: Add `Foo` as dependency in `Bar`\r\n\r\nStep 2: Add \r\n```\r\nschemaMappings = [&quot;FooPojo&quot;: &quot;com.foo.pojo.FooPojo&quot;]\r\n```\r\nto your openApi generator config.\r\n\r\nStep 3:\r\nCreate an empty schema in your yaml file with the same name\r\n```\r\nFooPojo:\r\n   type: object\r\n```\r\n\r\nStep 4:\r\n\r\nReference it in `Bar`\r\n```\r\nBarPojo:\r\n   type: object\r\n   properties:\r\n      fooPojo:\r\n        $ref: &#39;#/components/schemas/FooPojo&#39;\r\n```","title":"How share POJOs created by OpenAPI Generator in spring boot across micro-services?","body":"<p>You can accomplish this with <code>schemaMappings</code></p>\n<p>Step 1: Add <code>Foo</code> as dependency in <code>Bar</code></p>\n<p>Step 2: Add</p>\n<pre><code>schemaMappings = [&quot;FooPojo&quot;: &quot;com.foo.pojo.FooPojo&quot;]\n</code></pre>\n<p>to your openApi generator config.</p>\n<p>Step 3:\nCreate an empty schema in your yaml file with the same name</p>\n<pre><code>FooPojo:\n   type: object\n</code></pre>\n<p>Step 4:</p>\n<p>Reference it in <code>Bar</code></p>\n<pre><code>BarPojo:\n   type: object\n   properties:\n      fooPojo:\n        $ref: '#/components/schemas/FooPojo'\n</code></pre>\n"}],"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701793773,"creation_date":1690304662,"question_id":76765012,"body_markdown":"Suppose I have 2 micro-services `Foo` and `Bar` and generate the POJOs using `gradle openApigenerate\r\n` everything specified in yaml file.\r\n\r\nThe openAPI generator generates POJOs as follows:\r\n\r\n```\r\nFoo:\r\nfooPojo1\r\nfooPojo2\r\nAccessible only to micro-service Foo\r\n```\r\n\r\n\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\nAccessible only to micro-service Bar\r\n```\r\nAlso I&#39;m sharing models across both micro-service. So `barPojo1` and `barPojo2` is available in Foo and `fooPojo1` and `fooPojo2` is available in Bar.\r\n\r\nHowever, if I want to use `fooPojo1` as a schema in `Bar` I need to re-declare `fooPojo1` in Bar micro-service which looks like:\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\nfooPojo1\r\n```\r\n\r\nSo is there anyway I don&#39;t have to create repetitive objects and just reference the existing object from imported library something like:\r\n```\r\nBar:\r\nbarPojo1\r\nbarPojo2\r\n$ref: foo-service.fooPojo1\r\n```\r\nI need a solution for this because whenever I use `fooPojo1` in Bar service I need to map the `fooPojo1` of Bar service to `fooPojo1` of Foo service and vice-versa for internal comms.\r\n\r\nI tried finding solution in OpenApi docs, stackoverflow and various other places, but not information. Not sure of referencing to external library works.","title":"How share POJOs created by OpenAPI Generator in spring boot across micro-services?","body":"<p>Suppose I have 2 micro-services <code>Foo</code> and <code>Bar</code> and generate the POJOs using <code>gradle openApigenerate </code> everything specified in yaml file.</p>\n<p>The openAPI generator generates POJOs as follows:</p>\n<pre><code>Foo:\nfooPojo1\nfooPojo2\nAccessible only to micro-service Foo\n</code></pre>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\nAccessible only to micro-service Bar\n</code></pre>\n<p>Also I'm sharing models across both micro-service. So <code>barPojo1</code> and <code>barPojo2</code> is available in Foo and <code>fooPojo1</code> and <code>fooPojo2</code> is available in Bar.</p>\n<p>However, if I want to use <code>fooPojo1</code> as a schema in <code>Bar</code> I need to re-declare <code>fooPojo1</code> in Bar micro-service which looks like:</p>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\nfooPojo1\n</code></pre>\n<p>So is there anyway I don't have to create repetitive objects and just reference the existing object from imported library something like:</p>\n<pre><code>Bar:\nbarPojo1\nbarPojo2\n$ref: foo-service.fooPojo1\n</code></pre>\n<p>I need a solution for this because whenever I use <code>fooPojo1</code> in Bar service I need to map the <code>fooPojo1</code> of Bar service to <code>fooPojo1</code> of Foo service and vice-versa for internal comms.</p>\n<p>I tried finding solution in OpenApi docs, stackoverflow and various other places, but not information. Not sure of referencing to external library works.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-el"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701775730,"post_id":77605672,"comment_id":136814791,"body_markdown":"Why not use OOP aproach? Map with data mapper and save. Using a native querry is a very slippery slope, must be a good reason for that; If you will grow them, a project will be very difficult to support in time. But if you still look for a solution in this context, you will have to summon the entity manager and instead of naming static querry use dynamic approach. Take a look https://www.baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-query","body":"Why not use OOP aproach? Map with data mapper and save. Using a native querry is a very slippery slope, must be a good reason for that; If you will grow them, a project will be very difficult to support in time. But if you still look for a solution in this context, you will have to summon the entity manager and instead of naming static querry use dynamic approach. Take a look <a href=\"https://www.baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-query\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-query#1-example-of-a-dynamic-qu&zwnj;&#8203;ery</a>"}],"owner":{"account_id":2417133,"reputation":427,"user_id":2110944,"accept_rate":75,"display_name":"theSemenov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701793685,"creation_date":1701774024,"question_id":77605672,"body_markdown":"Is it possible to bind parameter from dto in sppring data jpa native sql?\r\n\r\nHere example. I have native sql with a lot of parametr\r\n```\r\n@Entity\r\n@Table(name = &quot;my_very_usefull_field_tbl&quot;)\r\n@NamedNativeQuery(\r\n        name = INSERT_IGNORE_CONFLICT,\r\n        query = &quot;INSERT INTO my_very_usefull_field_tbl\\n&quot; +\r\n                &quot;(\\n&quot; +\r\n                &quot;   field1, \\n&quot; +\r\n                ...\r\n               \t&quot;   field50, \\n&quot; +\r\n                &quot;)\\n&quot; +\r\n                &quot;VALUES(\\n&quot; +\r\n                &quot;  :fieldDto.field1,\\n&quot; +\r\n      \t\t...\r\n         \t&quot;  :fieldDto.field50 -- modify_author\\n&quot; +\r\n                &quot;) on conflict do nothing;&quot;\r\n)\r\npublic class MyVeryUsefullFieldEntity {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(name = &quot;field1&quot;)\r\n    private String field1;\r\n\r\n    @Column(name = &quot;field2&quot;)\r\n    private String field2;\r\n    \r\n    ...\r\n    \r\n    @Column(name = &quot;field50&quot;)\r\n    private String field50;\r\n\r\n}\r\n\r\n\r\n\r\npublic interface MyVeryUsefullFieldRepository extends CrudRepository&lt;MyVeryUsefullFieldEntity, String&gt; {\r\n\r\n    String INSERT_IGNORE_CONFLICT = &quot;INSERT_IGNORE_CONFLICT&quot;;\r\n   \r\n    @Modifying\r\n    @Query(name = INSERT_IGNORE_CONFLICT, nativeQuery = true)\r\n    int insertIgnoreConflict(@Param(&quot;fieldDto&quot;) MyVeryUsefullFieldDto fieldDto);\r\n    \r\n}\r\n```\r\n\r\nEverything work fine when if I specify each flild in `MyVeryUsefullFieldRepository#insertIgnoreConflict` method (50 input parameters). But method with a lot parameter looks terrible. I want to reffer to dto field inside sql and pass dto into `insertIgnoreConflict` method. But nothing worked for me. I try to bind like example above. Not worked. I try to bind throw spell `:#{#fieldDto.field1}`. Application not started with exception: `Space is not allowed after parameter prefix &#39;:&#39;`.\r\n\r\nCan anyone give me some advice on how to do it?","title":"How to bind named parameter from dto in native query in Spring data jpa","body":"<p>Is it possible to bind parameter from dto in sppring data jpa native sql?</p>\n<p>Here example. I have native sql with a lot of parametr</p>\n<pre><code>@Entity\n@Table(name = &quot;my_very_usefull_field_tbl&quot;)\n@NamedNativeQuery(\n        name = INSERT_IGNORE_CONFLICT,\n        query = &quot;INSERT INTO my_very_usefull_field_tbl\\n&quot; +\n                &quot;(\\n&quot; +\n                &quot;   field1, \\n&quot; +\n                ...\n                &quot;   field50, \\n&quot; +\n                &quot;)\\n&quot; +\n                &quot;VALUES(\\n&quot; +\n                &quot;  :fieldDto.field1,\\n&quot; +\n            ...\n            &quot;  :fieldDto.field50 -- modify_author\\n&quot; +\n                &quot;) on conflict do nothing;&quot;\n)\npublic class MyVeryUsefullFieldEntity {\n\n    @Id\n    private String id;\n\n    @Column(name = &quot;field1&quot;)\n    private String field1;\n\n    @Column(name = &quot;field2&quot;)\n    private String field2;\n    \n    ...\n    \n    @Column(name = &quot;field50&quot;)\n    private String field50;\n\n}\n\n\n\npublic interface MyVeryUsefullFieldRepository extends CrudRepository&lt;MyVeryUsefullFieldEntity, String&gt; {\n\n    String INSERT_IGNORE_CONFLICT = &quot;INSERT_IGNORE_CONFLICT&quot;;\n   \n    @Modifying\n    @Query(name = INSERT_IGNORE_CONFLICT, nativeQuery = true)\n    int insertIgnoreConflict(@Param(&quot;fieldDto&quot;) MyVeryUsefullFieldDto fieldDto);\n    \n}\n</code></pre>\n<p>Everything work fine when if I specify each flild in <code>MyVeryUsefullFieldRepository#insertIgnoreConflict</code> method (50 input parameters). But method with a lot parameter looks terrible. I want to reffer to dto field inside sql and pass dto into <code>insertIgnoreConflict</code> method. But nothing worked for me. I try to bind like example above. Not worked. I try to bind throw spell <code>:#{#fieldDto.field1}</code>. Application not started with exception: <code>Space is not allowed after parameter prefix ':'</code>.</p>\n<p>Can anyone give me some advice on how to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1701793180,"post_id":77607702,"comment_id":136818143,"body_markdown":"Of course, you can store the result of `elementAt` in a local variable. Even in cases where it doesnt improve performance, it will help readability. But in most cases, you want to use `ArrayList` instead of `Vector`.","body":"Of course, you can store the result of <code>elementAt</code> in a local variable. Even in cases where it doesnt improve performance, it will help readability. But in most cases, you want to use <code>ArrayList</code> instead of <code>Vector</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1701794944,"post_id":77607702,"comment_id":136818494,"body_markdown":"Even better, instead of using an indexed for loop, use an enhanced for loop: `for (Produit produit : vProduit) { ... }`.","body":"Even better, instead of using an indexed for loop, use an enhanced for loop: <code>for (Produit produit : vProduit) { ... }</code>."}],"owner":{"account_id":27773718,"reputation":19,"user_id":21203519,"display_name":"sacorman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701793210,"creation_date":1701793039,"question_id":77607702,"body_markdown":"I&#39;m looking for some performances tips about vector usage and the call to elementAt method. \r\n\r\n```\r\nfor (int p = 0; p &lt; vProduit.size(); p++)\r\n  {\r\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **vProduit.elementAt(p)**);\r\n\t\t\t\t\r\n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\r\n    {\r\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **vProduit.elementAt(p)**)))\t\t\t\t\t\t\r\n\t{\r\n\tif(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\r\n\t  {\r\n\t  ...\r\n\t  }\r\n\t}\r\n      }\r\n    }\r\n```\r\nas you can read, I call vProduit.elementAt(p) 2 times, but I wondering if is not better (for performance) to call vProduit.elementAt(p) one time to a variable and test this variable...\r\n\r\n```\r\nfor (int p = 0; p &lt; vProduit.size(); p++)\r\n  {\r\n  produit = **vProduit.elementAt(p);**\r\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **produit**);\r\n\t\t\t\t\r\n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\r\n    {\r\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **produit**)))\t\t\t\t\t\t\r\n\t{\r\n\tif(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\r\n\t  {\r\n\t  ...\r\n\t  }\r\n\t}\r\n      }\r\n    }\r\n```","title":"Using vector.elementAt multiple time or use a variable","body":"<p>I'm looking for some performances tips about vector usage and the call to elementAt method.</p>\n<pre><code>for (int p = 0; p &lt; vProduit.size(); p++)\n  {\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **vProduit.elementAt(p)**);\n                \n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\n    {\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **vProduit.elementAt(p)**)))                     \n    {\n    if(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\n      {\n      ...\n      }\n    }\n      }\n    }\n</code></pre>\n<p>as you can read, I call vProduit.elementAt(p) 2 times, but I wondering if is not better (for performance) to call vProduit.elementAt(p) one time to a variable and test this variable...</p>\n<pre><code>for (int p = 0; p &lt; vProduit.size(); p++)\n  {\n  produit = **vProduit.elementAt(p);**\n  sfaacd = PArticleDao.getProductType(Xinos.getDBcon(), **produit**);\n                \n  if(&quot;O&quot;.equals(pim.getRules().get(sfaacd).BG))\n    {\n    if(&quot;B&quot;.equals(PArticleDao.getOpe(Xinos.getDBcon(), **produit**)))                       \n    {\n    if(PSpecifiqueNomenclature.isCompoDirect(Xinos.getDBcon(), sfm))\n      {\n      ...\n      }\n    }\n      }\n    }\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-app-engine","google-cloud-storage","gcs"],"comments":[{"owner":{"account_id":20755806,"reputation":175,"user_id":22852533,"display_name":"PowerCat"},"score":0,"creation_date":1701350795,"post_id":77578549,"comment_id":136766501,"body_markdown":"I&#39;m not a Java expert, but regarding GCP, an effective approach for handling GCS writing is to enumerate all the files that need to be transferred to GCS in a Pub/Sub queue. Then, utilize a Cloud Run Job (not a service) to process each file, limiting the job to `x` number of workers.","body":"I&#39;m not a Java expert, but regarding GCP, an effective approach for handling GCS writing is to enumerate all the files that need to be transferred to GCS in a Pub/Sub queue. Then, utilize a Cloud Run Job (not a service) to process each file, limiting the job to <code>x</code> number of workers."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1701353301,"post_id":77578549,"comment_id":136767002,"body_markdown":"Why don&#39;t you create your storage service in a singleton? a config.getStorageService() could solve your issue.","body":"Why don&#39;t you create your storage service in a singleton? a config.getStorageService() could solve your issue."},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1701367803,"post_id":77578549,"comment_id":136769893,"body_markdown":"There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.","body":"There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner."},{"owner":{"account_id":3011037,"reputation":165,"user_id":2554560,"display_name":"Dhivya Sadasivam"},"score":0,"creation_date":1701429583,"post_id":77578549,"comment_id":136777365,"body_markdown":"@guillaumeblaquiere We tried the singleton approach, but that dint help us either :(","body":"@guillaumeblaquiere We tried the singleton approach, but that dint help us either :("}],"answers":[{"tags":[],"owner":{"account_id":25423833,"reputation":1324,"user_id":19229284,"display_name":"Chanpols"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701793195,"creation_date":1701793195,"answer_id":77607722,"question_id":77578549,"body_markdown":"Posting this as a community for the benefits of others \r\n\r\n&lt;hr&gt;\r\n\r\nAs mentioned by @John Hanley:\r\n\r\n&gt; There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.","title":"Uploading files to GCS using Multithread keeps running","body":"<p>Posting this as a community for the benefits of others</p>\n<hr>\n<p>As mentioned by @John Hanley:</p>\n<blockquote>\n<p>There is a limit to how many HTTP egress data streams are useful. That number is around 4 egress data transfer connections to the Internet. Trying to do a large number of parallel object uploads will actually slow you down and as you found, crash your application. Transfer one object at a time and go have dinner.</p>\n</blockquote>\n"}],"owner":{"account_id":3011037,"reputation":165,"user_id":2554560,"display_name":"Dhivya Sadasivam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701793195,"creation_date":1701348350,"question_id":77578549,"body_markdown":"Am trying to upload 36k+ CSV files to GCS from a java application.\r\nThis application is hosted as an appengine in the same GCP.\r\n\r\nAs the number of files are more, am using parallelStream.foreach in java to upload the files.\r\n\r\n```\r\nvoid createFiles()\r\n    {\r\n        try {\r\n            Map&lt;Integer, FileDetail&gt; collection = GetFiles();\r\n            collection.getValue().entrySet().parallelStream().forEach((entry) -&gt; {\r\n                try{\r\n                    createFileInGCS();\r\n                } catch (Exception e) {\r\n                    LOG.error(&quot;Error occurred while creating FilesInGCS : &quot; + e.getMessage());\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        }\r\n        catch (Exception e) {\r\n            LOG.error(&quot;Error occurred while creating files : &quot;+ e.getMessage());\r\n            throw new CustomException(&quot;Unable to process files&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public void createFileInGCS()\r\n    {\r\n        try {\r\n            String fileName =&quot;file_&quot; + fileId + &quot;.csv&quot;;\r\n            String gcsBucket = config.getGcsBucket();\r\n            var blobId = BlobId.of(gcsBucket, fileName);\r\n            var blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\r\n            var storage = StorageOptions.newBuilder().setProjectId(config.getProject())\r\n                    .build().getService();\r\n            storage.create(blobInfo, csvContent.getBytes());\r\n        }\r\n        catch(Exception e){\r\n            LOG.error(&quot;Storage failed with exception :&quot;+e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nThe application is failing, as the number of files(based on external factor) to be stored has increased recently.The whole process of storing runs for  Following are the logs of appengine\r\n\r\n**ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!**\r\n\r\n**Storage successful for fileId 46010**\r\n\r\n**ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!**\r\n\r\n**Storage successful for fileId 46192**\r\n\r\nNote : **ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!** - This log is observed from the time the appengine start to act on the request\r\n\r\nThese logs are observed for a while and then we start to receive \r\n\r\n**Storage failed with exception :Broken pipe**\r\n\r\n**Storage failed with exception :Remote host terminated the handshake**\r\n\r\nLater which the application stops\r\n\r\nI also tried batching the collection into 10 equal parts, but the strange behaviour is every batch (~3k files) is completing in 4mins except for the last batch, which keeps running for more than an hour and fails with the same error logs.\r\n\r\n**Storage failed with exception :Broken pipe**\r\n\r\n**Storage failed with exception :Remote host terminated the handshake**\r\n\r\nCan someone helps us on, is there a better way to bulk upload these files to GCS. Tried StorageBatch from GCS, but it doesnt have a create option.","title":"Uploading files to GCS using Multithread keeps running","body":"<p>Am trying to upload 36k+ CSV files to GCS from a java application.\nThis application is hosted as an appengine in the same GCP.</p>\n<p>As the number of files are more, am using parallelStream.foreach in java to upload the files.</p>\n<pre><code>void createFiles()\n    {\n        try {\n            Map&lt;Integer, FileDetail&gt; collection = GetFiles();\n            collection.getValue().entrySet().parallelStream().forEach((entry) -&gt; {\n                try{\n                    createFileInGCS();\n                } catch (Exception e) {\n                    LOG.error(&quot;Error occurred while creating FilesInGCS : &quot; + e.getMessage());\n                    throw new RuntimeException(e);\n                }\n            });\n        }\n        catch (Exception e) {\n            LOG.error(&quot;Error occurred while creating files : &quot;+ e.getMessage());\n            throw new CustomException(&quot;Unable to process files&quot;);\n        }\n    }\n\n\n    public void createFileInGCS()\n    {\n        try {\n            String fileName =&quot;file_&quot; + fileId + &quot;.csv&quot;;\n            String gcsBucket = config.getGcsBucket();\n            var blobId = BlobId.of(gcsBucket, fileName);\n            var blobInfo = BlobInfo.newBuilder(blobId).setContentType(&quot;text/plain&quot;).build();\n            var storage = StorageOptions.newBuilder().setProjectId(config.getProject())\n                    .build().getService();\n            storage.create(blobInfo, csvContent.getBytes());\n        }\n        catch(Exception e){\n            LOG.error(&quot;Storage failed with exception :&quot;+e.getMessage());\n        }\n    }\n</code></pre>\n<p>The application is failing, as the number of files(based on external factor) to be stored has increased recently.The whole process of storing runs for  Following are the logs of appengine</p>\n<p><strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong></p>\n<p><strong>Storage successful for fileId 46010</strong></p>\n<p><strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong></p>\n<p><strong>Storage successful for fileId 46192</strong></p>\n<p>Note : <strong>ERROR: onFailure exception: com.google.cloud.logging.LoggingException: io.grpc.StatusRuntimeException: INTERNAL: Panic! This is a bug!</strong> - This log is observed from the time the appengine start to act on the request</p>\n<p>These logs are observed for a while and then we start to receive</p>\n<p><strong>Storage failed with exception :Broken pipe</strong></p>\n<p><strong>Storage failed with exception :Remote host terminated the handshake</strong></p>\n<p>Later which the application stops</p>\n<p>I also tried batching the collection into 10 equal parts, but the strange behaviour is every batch (~3k files) is completing in 4mins except for the last batch, which keeps running for more than an hour and fails with the same error logs.</p>\n<p><strong>Storage failed with exception :Broken pipe</strong></p>\n<p><strong>Storage failed with exception :Remote host terminated the handshake</strong></p>\n<p>Can someone helps us on, is there a better way to bulk upload these files to GCS. Tried StorageBatch from GCS, but it doesnt have a create option.</p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698127082,"creation_date":1698126236,"answer_id":77349755,"question_id":77349724,"body_markdown":"Sorting the array first was a good idea. And since you are now working on a sorted array, you only need one loop. Pick a number from index `i` and if number of elements after `i` equals value in `i`, then return `1`. You also need to check if there are identical values in the array, since the rule was &quot;number of integers *greater than* p in the array equals p&quot;. Remember that integers can also be negative or zero.\r\n\r\n    Arrays.sort(a);\r\n\r\n    // If the last value is zero we can stop immediately. This helps\r\n    // remove one array length check from the next loop.\r\n    if (a[a.length - 1] == 0) {\r\n        return 1;\r\n    }\r\n\r\n    // Loop until next-to-last. The last element was checked\r\n    // above.\r\n    for (int i = 0; i &lt; a.length - 1; i++) {\r\n        final int p = a[i];\r\n\r\n        // Ignore value if the next one is not greater.\r\n        if (p == a[i + 1]) {\r\n            continue;\r\n        }\r\n\r\n        if (p == (a.length - i - 1)) {\r\n            return 1;\r\n        }\r\n    }\r\n\r\nFor future reference, it would be helpful in debugging to add the failing test cases. But it didn&#39;t matter here because rewriting your algorithm was easier.","title":"Noble Integers (Java)","body":"<p>Sorting the array first was a good idea. And since you are now working on a sorted array, you only need one loop. Pick a number from index <code>i</code> and if number of elements after <code>i</code> equals value in <code>i</code>, then return <code>1</code>. You also need to check if there are identical values in the array, since the rule was &quot;number of integers <em>greater than</em> p in the array equals p&quot;. Remember that integers can also be negative or zero.</p>\n<pre><code>Arrays.sort(a);\n\n// If the last value is zero we can stop immediately. This helps\n// remove one array length check from the next loop.\nif (a[a.length - 1] == 0) {\n    return 1;\n}\n\n// Loop until next-to-last. The last element was checked\n// above.\nfor (int i = 0; i &lt; a.length - 1; i++) {\n    final int p = a[i];\n\n    // Ignore value if the next one is not greater.\n    if (p == a[i + 1]) {\n        continue;\n    }\n\n    if (p == (a.length - i - 1)) {\n        return 1;\n    }\n}\n</code></pre>\n<p>For future reference, it would be helpful in debugging to add the failing test cases. But it didn't matter here because rewriting your algorithm was easier.</p>\n"},{"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1698128126,"post_id":77349837,"comment_id":136362333,"body_markdown":"Why didn&#39;t I think about reversing the sort order, that makes it so much simpler! Anyway, if you check that the first value is not zero before entering the loop, you can start from 1 and simplify the test inside the loop.","body":"Why didn&#39;t I think about reversing the sort order, that makes it so much simpler! Anyway, if you check that the first value is not zero before entering the loop, you can start from 1 and simplify the test inside the loop."}],"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698127894,"creation_date":1698127542,"answer_id":77349837,"question_id":77349724,"body_markdown":"If you sort your array in descending order, the index of an element basically tell you there are n-element that is either larger or equals to that element.\r\n\r\ne.g.\r\n```\r\nindex:  0    1    2    3    4    5    6\r\nvalue: 11    9    6    6    6    5    2\r\n```\r\n\r\nindex 0, the value is 11 and there is 0 value that is larger/equals to 11.\r\nindex 5, the value is 5 and there is 5 value that are larger/equals to 5.\r\n\r\nThe tricky part are the duplicated values: index 2,3,4 are all 6, and only the first one (index 2) is telling you that 2 elements are greater than it.\r\n\r\n\r\nSo it is basically sorting the array in descending order, find any index that is the same as the value in array, and make sure that value is the first one in duplicated sequence:\r\n\r\n```\r\nsort array in desc order\r\n\r\nfor (int i = 0; i &lt; array.length; ++i) {\r\n    if (array[i] == i &amp;&amp; (i == 0 || array[i-1] != array[i]) {\r\n        return true;\r\n    }\r\n}\r\nreturn false\r\n```","title":"Noble Integers (Java)","body":"<p>If you sort your array in descending order, the index of an element basically tell you there are n-element that is either larger or equals to that element.</p>\n<p>e.g.</p>\n<pre><code>index:  0    1    2    3    4    5    6\nvalue: 11    9    6    6    6    5    2\n</code></pre>\n<p>index 0, the value is 11 and there is 0 value that is larger/equals to 11.\nindex 5, the value is 5 and there is 5 value that are larger/equals to 5.</p>\n<p>The tricky part are the duplicated values: index 2,3,4 are all 6, and only the first one (index 2) is telling you that 2 elements are greater than it.</p>\n<p>So it is basically sorting the array in descending order, find any index that is the same as the value in array, and make sure that value is the first one in duplicated sequence:</p>\n<pre><code>sort array in desc order\n\nfor (int i = 0; i &lt; array.length; ++i) {\n    if (array[i] == i &amp;&amp; (i == 0 || array[i-1] != array[i]) {\n        return true;\n    }\n}\nreturn false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701793038,"creation_date":1701789773,"answer_id":77607333,"question_id":77349724,"body_markdown":"- first, handle the special cases of empty or null array. Then check for the special case of `[0]` to avoid needless repetitive logic within the main loop.\r\n- sort the array.\r\n- then iterate across the array until you find a value that equals the number left to iterate while making certain that the numbers ahead of it are not equal to the found solution.\r\n\r\nNote that it is not required to iterate across the entire array. If the the current value is greater than the amount of numbers remaining, then no solution can exist so the loop is terminated.\r\n```\r\npublic static int solve(int[] arr) {\r\n    if (arr == null || arr.length == 0) {\r\n        return -1;\r\n    }\r\n    if (arr[arr.length-1] == 0) { \r\n        return 1;\r\n    }\r\n    Arrays.sort(arr);\r\n    for (int i = 0; arr[i] &lt; arr.length-i; i++) {\r\n        if (arr[i] == arr.length - i - 1 &amp;&amp; arr[i] != arr[i+1]) {\r\n            return 1;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n}","title":"Noble Integers (Java)","body":"<ul>\n<li>first, handle the special cases of empty or null array. Then check for the special case of <code>[0]</code> to avoid needless repetitive logic within the main loop.</li>\n<li>sort the array.</li>\n<li>then iterate across the array until you find a value that equals the number left to iterate while making certain that the numbers ahead of it are not equal to the found solution.</li>\n</ul>\n<p>Note that it is not required to iterate across the entire array. If the the current value is greater than the amount of numbers remaining, then no solution can exist so the loop is terminated.</p>\n<pre><code>public static int solve(int[] arr) {\n    if (arr == null || arr.length == 0) {\n        return -1;\n    }\n    if (arr[arr.length-1] == 0) { \n        return 1;\n    }\n    Arrays.sort(arr);\n    for (int i = 0; arr[i] &lt; arr.length-i; i++) {\n        if (arr[i] == arr.length - i - 1 &amp;&amp; arr[i] != arr[i+1]) {\n            return 1;\n        }\n    }\n    return -1;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":29133768,"reputation":1,"user_id":22318407,"display_name":"Swarnim Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77349837,"answer_count":3,"score":-1,"last_activity_date":1701793038,"creation_date":1698125717,"question_id":77349724,"body_markdown":"Given an integer array A, find if an integer p exists in the array such that the number of integers greater than p in the array equals p.Return 1 if any such integer p is present else, return -1.\r\n\r\ni tried this but this only passed some test cases..\r\n\r\n\r\n\r\n\r\n```\r\npublic class Solution {\r\n    public int solve(int[] A) {\r\n        Arrays.sort(A);\r\n        int [] newarr = new int [A.length];\r\n        for (int i = A.length -1 ; i &gt;=0 ; i--){\r\n            newarr[A.length-1-i]=A[i];\r\n        }\r\n        for (int i = 0 ; i &lt; A.length ; i++){\r\n            if (newarr[i]==i){\r\n                return 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Noble Integers (Java)","body":"<p>Given an integer array A, find if an integer p exists in the array such that the number of integers greater than p in the array equals p.Return 1 if any such integer p is present else, return -1.</p>\n<p>i tried this but this only passed some test cases..</p>\n<pre><code>public class Solution {\n    public int solve(int[] A) {\n        Arrays.sort(A);\n        int [] newarr = new int [A.length];\n        for (int i = A.length -1 ; i &gt;=0 ; i--){\n            newarr[A.length-1-i]=A[i];\n        }\n        for (int i = 0 ; i &lt; A.length ; i++){\n            if (newarr[i]==i){\n                return 1;\n            }\n        }\n        return -1;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","geometry","esri"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686885518,"post_id":76485896,"comment_id":134862825,"body_markdown":"You are not using the API and it&#39;s library contains it, https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic8275.html","body":"You are not using the API and it&#39;s library contains it, <a href=\"https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic8275.html\" rel=\"nofollow noreferrer\">pro.arcgis.com/en/pro-app/latest/sdk/api-reference/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686885694,"post_id":76485896,"comment_id":134862833,"body_markdown":"Note: with api&#39;s use documentation &quot;index&quot; link at the top of the javadoc page and press ctrl + F for find on page and enter the method or class name then click your way through to find if it exists.","body":"Note: with api&#39;s use documentation &quot;index&quot; link at the top of the javadoc page and press ctrl + F for find on page and enter the method or class name then click your way through to find if it exists."}],"answers":[{"tags":[],"owner":{"account_id":26013166,"reputation":1,"user_id":19721890,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792488,"creation_date":1701732707,"answer_id":77603088,"question_id":76485896,"body_markdown":"The Project method only takes two parameters: the geometry and the desired spatial reference.  The original spatial reference is stored on the original geometry.  I suspect the examples you are looking at are old and the three parameter version has been deprecated.\r\n\r\nI would also use an Equal-area projection system like Albers (https://en.wikipedia.org/wiki/Equal-area_projection) rather then Web Mercator.  Web Mercator is designed to preserve compass bearings, and it will wildly distort areas the farther away you get from the equator.  It&#39;s really not suitable for anything other than driving directions.","title":"GeometryEngine.project() method of Esri Geometry API for Java not working","body":"<p>The Project method only takes two parameters: the geometry and the desired spatial reference.  The original spatial reference is stored on the original geometry.  I suspect the examples you are looking at are old and the three parameter version has been deprecated.</p>\n<p>I would also use an Equal-area projection system like Albers (<a href=\"https://en.wikipedia.org/wiki/Equal-area_projection\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Equal-area_projection</a>) rather then Web Mercator.  Web Mercator is designed to preserve compass bearings, and it will wildly distort areas the farther away you get from the equator.  It's really not suitable for anything other than driving directions.</p>\n"}],"owner":{"account_id":5858208,"reputation":45,"user_id":5884109,"accept_rate":33,"display_name":"Khoi Boo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701792488,"creation_date":1686868462,"question_id":76485896,"body_markdown":"I am trying to calculate the 2D area of a polygon created from vertices defined by latitude and longitude coordinates using the following dependencies:\r\n\r\n```java\r\nimport com.esri.core.geometry.Geometry;\r\nimport com.esri.core.geometry.GeometryEngine;\r\nimport com.esri.core.geometry.Point;\r\nimport com.esri.core.geometry.Polygon;\r\nimport com.esri.core.geometry.SpatialReference;\r\n```\r\n\r\nI have initialized the vertices using latitude and longitude coordinates and assuming that they are in the wgs84 spatial reference system. In the [documentation](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/Point.html), it is also stated that &quot;In case of Geographic Coordinate Systems, the X coordinate is the longitude and the Y is the latitude.&quot; \r\n\r\n```java\r\nSpatialReference wgs84 = SpatialReference.create(4326);\r\n\r\nPoint kassel = new Point(9.49, 51.29);\r\nPoint bamberg = new Point (10.90, 49.88);\r\nPoint gotha = new Point(10.70,50.93);\r\n```\r\n\r\nNow the polygon is formed without any problems:\r\n\r\n```java\r\nPolygon polygon = new Polygon();\r\npolygon.startPath(kassel);\r\npolygon.lineTo(bamberg);\r\npolygon.lineTo(gotha);\r\npolygon.closePathWithLine();\r\n```\r\n\r\nIf I use the method `polygon.calculateArea2D()`, then the result is negative. It is [explained](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/MultiPath.html#calculateArea2D--) that &quot;If the spatial reference is a Geographic Coordinate System (WGS84) then the 2D area calculation is defined in angular units.&quot;\r\n\r\nAfter some research, it seems to me that the polygon should be projected to another spatial reference system (Web Mercator), so that the measurement can be done in proper units (meters and square meters):\r\n\r\n```java\r\nSpatialReference webMercator= SpatialReference.create(3857);\r\nPolygon newPolygon = GeometryEngine.project(polygon,wgs84,webMercator);\r\n```\r\n\r\nHowever, I receive an error that the method is not found. I have seen several examples use this method to project a geometry from one spatial reference system to another. I also could not find this method in the [documentation](https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/GeometryEngine.html) of the `GeometryEngine` class. Does anyone have any ideas what went wrong here? Your help would be much appreciated.","title":"GeometryEngine.project() method of Esri Geometry API for Java not working","body":"<p>I am trying to calculate the 2D area of a polygon created from vertices defined by latitude and longitude coordinates using the following dependencies:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.esri.core.geometry.Geometry;\nimport com.esri.core.geometry.GeometryEngine;\nimport com.esri.core.geometry.Point;\nimport com.esri.core.geometry.Polygon;\nimport com.esri.core.geometry.SpatialReference;\n</code></pre>\n<p>I have initialized the vertices using latitude and longitude coordinates and assuming that they are in the wgs84 spatial reference system. In the <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/Point.html\" rel=\"nofollow noreferrer\">documentation</a>, it is also stated that &quot;In case of Geographic Coordinate Systems, the X coordinate is the longitude and the Y is the latitude.&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpatialReference wgs84 = SpatialReference.create(4326);\n\nPoint kassel = new Point(9.49, 51.29);\nPoint bamberg = new Point (10.90, 49.88);\nPoint gotha = new Point(10.70,50.93);\n</code></pre>\n<p>Now the polygon is formed without any problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Polygon polygon = new Polygon();\npolygon.startPath(kassel);\npolygon.lineTo(bamberg);\npolygon.lineTo(gotha);\npolygon.closePathWithLine();\n</code></pre>\n<p>If I use the method <code>polygon.calculateArea2D()</code>, then the result is negative. It is <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/MultiPath.html#calculateArea2D--\" rel=\"nofollow noreferrer\">explained</a> that &quot;If the spatial reference is a Geographic Coordinate System (WGS84) then the 2D area calculation is defined in angular units.&quot;</p>\n<p>After some research, it seems to me that the polygon should be projected to another spatial reference system (Web Mercator), so that the measurement can be done in proper units (meters and square meters):</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpatialReference webMercator= SpatialReference.create(3857);\nPolygon newPolygon = GeometryEngine.project(polygon,wgs84,webMercator);\n</code></pre>\n<p>However, I receive an error that the method is not found. I have seen several examples use this method to project a geometry from one spatial reference system to another. I also could not find this method in the <a href=\"https://esri.github.io/geometry-api-java/javadoc/com/esri/core/geometry/GeometryEngine.html\" rel=\"nofollow noreferrer\">documentation</a> of the <code>GeometryEngine</code> class. Does anyone have any ideas what went wrong here? Your help would be much appreciated.</p>\n"},{"tags":["java","redis","sdk","lettuce"],"owner":{"account_id":13542899,"reputation":436,"user_id":9770110,"display_name":"Nipuna Ranasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701792201,"creation_date":1701792201,"question_id":77607618,"body_markdown":"I am using the Lettuce Core library, a Java Redis SDK, and noticed the following logs during the client initialization:\r\n\r\n```\r\nDec 05, 2023 3:48:47 PM io.lettuce.core.EpollProvider &lt;clinit&gt;\r\nINFO: Starting without optional epoll library\r\nDec 05, 2023 3:48:47 PM io.lettuce.core.KqueueProvider &lt;clinit&gt;\r\nINFO: Starting without optional kqueue library\r\n```\r\n\r\nWhat&#39;s the significance of these logs, and should I be concerned about not having the optional `epoll` and `kqueue` libraries? I&#39;m particularly interested in understanding any performance considerations or functional differences when these optional libraries are not included.","title":"What does it mean when Lettuce Core logs indicate missing epoll and kqueue libraries during initialization?","body":"<p>I am using the Lettuce Core library, a Java Redis SDK, and noticed the following logs during the client initialization:</p>\n<pre><code>Dec 05, 2023 3:48:47 PM io.lettuce.core.EpollProvider &lt;clinit&gt;\nINFO: Starting without optional epoll library\nDec 05, 2023 3:48:47 PM io.lettuce.core.KqueueProvider &lt;clinit&gt;\nINFO: Starting without optional kqueue library\n</code></pre>\n<p>What's the significance of these logs, and should I be concerned about not having the optional <code>epoll</code> and <code>kqueue</code> libraries? I'm particularly interested in understanding any performance considerations or functional differences when these optional libraries are not included.</p>\n"},{"tags":["java","ssl-certificate","httpurlconnection"],"comments":[{"owner":{"account_id":1093179,"reputation":297,"user_id":1087338,"accept_rate":0,"display_name":"sus007"},"score":11,"creation_date":1417442365,"post_id":21076179,"comment_id":43691559,"body_markdown":"Hello Please check below URL. I am sure these will help you. http://www.java-samples.com/showtutorial.php?tutorialid=210 https://confluence.atlassian.com/display/JIRAKB/Unable+to+Connect+to+SSL+Services+due+to+PKIX+Path+Building+Failed+sun.security.provider.certpath.SunCertPathBuilderException. You have to add your ssl certificate into java truststore certificate (Path: jre/lib/security/cacerts).","body":"Hello Please check below URL. I am sure these will help you. <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=210\" rel=\"nofollow noreferrer\">java-samples.com/showtutorial.php?tutorialid=210</a> <a href=\"https://confluence.atlassian.com/display/JIRAKB/Unable+to+Connect+to+SSL+Services+due+to+PKIX+Path+Building+Failed+sun.security.provider.certpath.SunCertPathBuilderException\" rel=\"nofollow noreferrer\">confluence.atlassian.com/display/JIRAKB/&hellip;</a>. You have to add your ssl certificate into java truststore certificate (Path: jre/lib/security/cacerts)."},{"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"score":0,"creation_date":1478245793,"post_id":21076179,"comment_id":68084371,"body_markdown":"Please refer [this](http://stackoverflow.com/a/40417523/1802348) answer for solution plus do confirm you are packaging your software as bundled jre ? if yes then copy your cacerts file form system and replace that packaged jre cacerts file.","body":"Please refer <a href=\"http://stackoverflow.com/a/40417523/1802348\">this</a> answer for solution plus do confirm you are packaging your software as bundled jre ? if yes then copy your cacerts file form system and replace that packaged jre cacerts file."},{"owner":{"account_id":6073790,"reputation":3697,"user_id":4741746,"accept_rate":86,"display_name":"Sushant Gosavi"},"score":0,"creation_date":1478521938,"post_id":21076179,"comment_id":68174751,"body_markdown":"try this http://stackoverflow.com/a/9210661/4741746 may be this is your answer","body":"try this <a href=\"http://stackoverflow.com/a/9210661/4741746\">stackoverflow.com/a/9210661/4741746</a> may be this is your answer"},{"owner":{"account_id":1218424,"reputation":793,"user_id":1185559,"accept_rate":30,"display_name":"Reddymails"},"score":4,"creation_date":1497376314,"post_id":21076179,"comment_id":76048454,"body_markdown":"I just used this java code and for https don&#39;t forget to specify the port as 443.\nJava code at \nhttps://github.com/escline/InstallCert/blob/master/InstallCert.java\n\nIt will take your CACERTS file and will add all those plus the current cert for the URL you give as input.\nIn my case I hardcoded the values to \nhost=&quot;mywebservice.uat.xyz.com&quot;;\nport=443;\npassphrase=&quot;changeit&quot;.toCharArray();\n\nThen the program creates a new file called &quot;jssecacerts&quot; which will have everything. Rename this to &quot;cacerts&quot; and use this . You will be all set.","body":"I just used this java code and for https don&#39;t forget to specify the port as 443. Java code at  <a href=\"https://github.com/escline/InstallCert/blob/master/InstallCert.java\" rel=\"nofollow noreferrer\">github.com/escline/InstallCert/blob/master/InstallCert.java</a>  It will take your CACERTS file and will add all those plus the current cert for the URL you give as input. In my case I hardcoded the values to  host=&quot;mywebservice.uat.xyz.com&quot;; port=443; passphrase=&quot;changeit&quot;.toCharArray();  Then the program creates a new file called &quot;jssecacerts&quot; which will have everything. Rename this to &quot;cacerts&quot; and use this . You will be all set."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1614010116,"post_id":21076179,"comment_id":117246835,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"},{"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"score":0,"creation_date":1616497272,"post_id":21076179,"comment_id":118014538,"body_markdown":"I just replace HTTPS to HTTP and it works. Maybe my comment will be useful for someone","body":"I just replace HTTPS to HTTP and it works. Maybe my comment will be useful for someone"},{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":0,"creation_date":1625618203,"post_id":21076179,"comment_id":120672576,"body_markdown":"When running `mvn` adding this argument fixed it for me because it wasn&#39;t using the default java trust store in JAVA_HOME for some reason: `-&quot;Djavax.net.ssl.trustStore&quot;=&quot;C:\\path\\to\\your\\cacerts&quot;`","body":"When running <code>mvn</code> adding this argument fixed it for me because it wasn&#39;t using the default java trust store in JAVA_HOME for some reason: <code>-&quot;Djavax.net.ssl.trustStore&quot;=&quot;C:\\path\\to\\your\\cacerts&quot;</code>"}],"answers":[{"comments":[{"owner":{"account_id":2428395,"reputation":343,"user_id":2119861,"display_name":"Deepak Gangore"},"score":0,"creation_date":1390328780,"post_id":21079274,"comment_id":32040849,"body_markdown":"Can you please tell me the exact configuration where i can install certificate. \nActaully i am having issue regarding this, i had installed the certificate regarding this issue using **keytool**, this works for around 20-30 mins and then the server issue same error again.\n\nPlease help me. I have been stucked in this issue for 2 days.","body":"Can you please tell me the exact configuration where i can install certificate.  Actaully i am having issue regarding this, i had installed the certificate regarding this issue using <b>keytool</b>, this works for around 20-30 mins and then the server issue same error again.  Please help me. I have been stucked in this issue for 2 days."},{"owner":{"account_id":3707495,"reputation":1675,"user_id":3085605,"accept_rate":50,"display_name":"Vishwanath gowda k"},"score":0,"creation_date":1414564088,"post_id":21079274,"comment_id":41857680,"body_markdown":"I think the certificate changes every 20-30 minutes","body":"I think the certificate changes every 20-30 minutes"},{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":0,"creation_date":1448033481,"post_id":21079274,"comment_id":55425669,"body_markdown":"I facing similar problem but for issue is :\nMY java pick default location for$JAVA_HOME/lib/security/cacerts of Java applications though i have supplied -Djavax.net.ssl.trustStore=/myapp/app.jks\n\nCan any one help me on this: \nhttp://stackoverflow.com/questions/33821785/why-java-pick-default-location-for-keystore-truststore-of-java-applications-when?noredirect=1#comment55409847_33821785","body":"I facing similar problem but for issue is : MY java pick default location for$JAVA_HOME/lib/security/cacerts of Java applications though i have supplied -Djavax.net.ssl.trustStore=/myapp/app.jks  Can any one help me on this:  <a href=\"http://stackoverflow.com/questions/33821785/why-java-pick-default-location-for-keystore-truststore-of-java-applications-when?noredirect=1#comment55409847_33821785\" title=\"why java pick default location for keystore truststore of java applications when\">stackoverflow.com/questions/33821785/&hellip;</a>"}],"tags":[],"owner":{"account_id":2928224,"reputation":1,"user_id":2509136,"display_name":"ketan"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389555173,"creation_date":1389555173,"answer_id":21079274,"question_id":21076179,"body_markdown":"Here normally this kind of exception occurs when there is mismatch in the PATH of trusted certificate. Check the configuration or path where this server certificate is required for secured communication.  ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Here normally this kind of exception occurs when there is mismatch in the PATH of trusted certificate. Check the configuration or path where this server certificate is required for secured communication.  </p>\n"},{"comments":[{"owner":{"account_id":2169984,"reputation":10031,"user_id":1922258,"accept_rate":52,"display_name":"Oleg Belousov"},"score":5,"creation_date":1393866630,"post_id":21507568,"comment_id":33616949,"body_markdown":"I am trying to access an ssl server with a self-signed certificate, tried adding it&#39;s certificate using keytool, but no luck, any suggestions?","body":"I am trying to access an ssl server with a self-signed certificate, tried adding it&#39;s certificate using keytool, but no luck, any suggestions?"},{"owner":{"account_id":3707495,"reputation":1675,"user_id":3085605,"accept_rate":50,"display_name":"Vishwanath gowda k"},"score":1,"creation_date":1414566115,"post_id":21507568,"comment_id":41858483,"body_markdown":"Glad it worked.. But do you know what was the root cause. what made it to fail with java 6 certs.. and how does the java 7 certs fixed the problem","body":"Glad it worked.. But do you know what was the root cause. what made it to fail with java 6 certs.. and how does the java 7 certs fixed the problem"},{"owner":{"account_id":117983,"reputation":17117,"user_id":308668,"accept_rate":77,"display_name":"mike3996"},"score":0,"creation_date":1416058962,"post_id":21507568,"comment_id":42435104,"body_markdown":"This did it, although I went from icedtea 1.6 to oracle 1.7. :)","body":"This did it, although I went from icedtea 1.6 to oracle 1.7. :)"},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":0,"creation_date":1460471845,"post_id":21507568,"comment_id":60751754,"body_markdown":"Also consider this solution: http://stackoverflow.com/questions/33439905/is-the-cacerts-file-missing-in-ubuntu-15-10-and-openjdk-8-jdk","body":"Also consider this solution: <a href=\"http://stackoverflow.com/questions/33439905/is-the-cacerts-file-missing-in-ubuntu-15-10-and-openjdk-8-jdk\" title=\"is the cacerts file missing in ubuntu 15 10 and openjdk 8 jdk\">stackoverflow.com/questions/33439905/&hellip;</a>"},{"owner":{"account_id":6316030,"reputation":832,"user_id":4905958,"accept_rate":86,"display_name":"Ryan Heathcote"},"score":23,"creation_date":1468514844,"post_id":21507568,"comment_id":64169616,"body_markdown":"For those who like me sometimes miss the obvious -- make sure you are going into `$JAVA_HOME/jre/lib`, not `$JAVA_HOME/lib` -- I spent a bit of time missing that detail.","body":"For those who like me sometimes miss the obvious -- make sure you are going into <code>$JAVA_HOME&#47;jre&#47;lib</code>, not <code>$JAVA_HOME&#47;lib</code> -- I spent a bit of time missing that detail."},{"owner":{"account_id":72439,"reputation":2520,"user_id":209129,"display_name":"Amit Naidu"},"score":0,"creation_date":1597102929,"post_id":21507568,"comment_id":112019006,"body_markdown":"@Vishwanathgowdak The root cause likely is just that the newer JRE came with newer certificates built-in, which did not exist at the time the older version was released.","body":"@Vishwanathgowdak The root cause likely is just that the newer JRE came with newer certificates built-in, which did not exist at the time the older version was released."}],"tags":[],"owner":{"account_id":107535,"reputation":18395,"user_id":285878,"accept_rate":94,"display_name":"Jeremy Goodell"},"comment_count":6,"down_vote_count":1,"up_vote_count":125,"is_accepted":false,"score":124,"last_activity_date":1391321704,"creation_date":1391320514,"answer_id":21507568,"question_id":21076179,"body_markdown":"After many hours trying to build cert files to get my Java 6 installation working with the new twitter cert&#39;s, I finally stumbled onto an incredibly simple solution buried in a comment in one of the message boards. Just copy the cacerts file from a Java 7 installation and overwrite the one in your Java 6 installation. Probably best to make a backup of the cacerts file first, but then you just copy the new one in and BOOM! it just works.\r\n\r\nNote that I actually copied a Windows cacerts file onto a Linux installation and it worked just fine.\r\n\r\nThe file is located in `jre/lib/security/cacerts` in both the old and new Java jdk installations.\r\n\r\nHope this saves someone else hours of aggravation.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>After many hours trying to build cert files to get my Java 6 installation working with the new twitter cert's, I finally stumbled onto an incredibly simple solution buried in a comment in one of the message boards. Just copy the cacerts file from a Java 7 installation and overwrite the one in your Java 6 installation. Probably best to make a backup of the cacerts file first, but then you just copy the new one in and BOOM! it just works.</p>\n\n<p>Note that I actually copied a Windows cacerts file onto a Linux installation and it worked just fine.</p>\n\n<p>The file is located in <code>jre/lib/security/cacerts</code> in both the old and new Java jdk installations.</p>\n\n<p>Hope this saves someone else hours of aggravation.</p>\n"},{"comments":[{"owner":{"account_id":4204685,"reputation":51,"user_id":3443931,"display_name":"DeanDP"},"score":2,"creation_date":1454530201,"post_id":30532709,"comment_id":58090447,"body_markdown":"Note the file created is jssecacerts!","body":"Note the file created is jssecacerts!"},{"owner":{"account_id":143519,"reputation":10086,"user_id":351903,"accept_rate":58,"display_name":"Sandeepan Nath"},"score":0,"creation_date":1591897080,"post_id":30532709,"comment_id":110236998,"body_markdown":"I tried using this solution for Java 7 and 8. While running on Java 7, I got protocol_version or handshake_failure for all the remote repository urls I tried with. `SandeepanNath:test sandeepan.nath$ java InstallCert repo1.maven.org:443\nLoading KeyStore /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/jre/lib/security/cacerts...\nOpening connection to repo1.maven.org:443 ...\nStarting SSL handshake...\n\njavax.net.ssl.SSLException: Received fatal alert: protocol_version .. Could not obtain server certificate chain`","body":"I tried using this solution for Java 7 and 8. While running on Java 7, I got protocol_version or handshake_failure for all the remote repository urls I tried with. <code>SandeepanNath:test sandeepan.nath$ java InstallCert repo1.maven.org:443 Loading KeyStore &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.7.0_80.jdk&#47;Contents&#47;H&zwnj;&#8203;ome&#47;jre&#47;lib&#47;security&zwnj;&#8203;&#47;cacerts... Opening connection to repo1.maven.org:443 ... Starting SSL handshake...  javax.net.ssl.SSLException: Received fatal alert: protocol_version .. Could not obtain server certificate chain</code>"}],"tags":[],"owner":{"account_id":349327,"reputation":2203,"user_id":684549,"accept_rate":100,"display_name":"will824"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1452253154,"creation_date":1432911143,"answer_id":30532709,"question_id":21076179,"body_markdown":"I have stumbled upon this issue which took many hours of research to fix, specially with auto-generated certificates, which unlike Official ones, are quite tricky and Java does not like them that much.\r\n\r\nPlease check the following link: [Solve Problem with certificates in Java][1]\r\n\r\nBasically you have to add the certificate from the server to the Java Home certs. \r\n\r\n 1. Generate or Get your certificate and configure Tomcat to use it in Servers.xml\r\n 2. Download the Java source code of the class `InstallCert` and execute it while the server is running, providing the following arguments `server[:port]`. No password is needed, as the original password works for the Java certs (&quot;changeit&quot;).\r\n 3. The Program will connect to the server and Java will throw an exception, it will analyze the certificate provided by the server and allow you to create a `jssecerts` file inside the directory where you executed the Program (If executed from Eclipse then make sure you configure the Work directory in `Run -&gt; Configurations`).\r\n 4. Manually copy that file to `$JAVA_HOME/jre/lib/security`\r\n\r\nAfter following these steps, the connections with the certificate will not generate exceptions anymore within Java.\r\n\r\nThe following source code is important and it disappeared from (Sun) Oracle blogs, the only page I found it was on the link provided, therefore I am attaching it in the answer for any reference.\r\n\r\n \r\n\r\n    /*\r\n     * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions\r\n     * are met:\r\n     *\r\n     *   - Redistributions of source code must retain the above copyright\r\n     *     notice, this list of conditions and the following disclaimer.\r\n     *\r\n     *   - Redistributions in binary form must reproduce the above copyright\r\n     *     notice, this list of conditions and the following disclaimer in the\r\n     *     documentation and/or other materials provided with the distribution.\r\n     *\r\n     *   - Neither the name of Sun Microsystems nor the names of its\r\n     *     contributors may be used to endorse or promote products derived\r\n     *     from this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS\r\n     * IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\r\n     * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\r\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\r\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\r\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\r\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\r\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\r\n     * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\r\n     * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n     * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n     */\r\n    /**\r\n     * Originally from:\r\n     * http://blogs.sun.com/andreas/resource/InstallCert.java\r\n     * Use:\r\n     * java InstallCert hostname\r\n     * Example:\r\n     *% java InstallCert ecc.fedora.redhat.com\r\n     */\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.io.*;\r\n    import java.security.KeyStore;\r\n    import java.security.MessageDigest;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    /**\r\n     * Class used to add the server&#39;s certificate to the KeyStore\r\n     * with your trusted certificates.\r\n     */\r\n    public class InstallCert {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String host;\r\n            int port;\r\n            char[] passphrase;\r\n            if ((args.length == 1) || (args.length == 2)) {\r\n                String[] c = args[0].split(&quot;:&quot;);\r\n                host = c[0];\r\n                port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\r\n                String p = (args.length == 1) ? &quot;changeit&quot; : args[1];\r\n                passphrase = p.toCharArray();\r\n            } else {\r\n                System.out.println(&quot;Usage: java InstallCert [:port] [passphrase]&quot;);\r\n                return;\r\n            }\r\n    \r\n            File file = new File(&quot;jssecacerts&quot;);\r\n            if (file.isFile() == false) {\r\n                char SEP = File.separatorChar;\r\n                File dir = new File(System.getProperty(&quot;java.home&quot;) + SEP\r\n                        + &quot;lib&quot; + SEP + &quot;security&quot;);\r\n                file = new File(dir, &quot;jssecacerts&quot;);\r\n                if (file.isFile() == false) {\r\n                    file = new File(dir, &quot;cacerts&quot;);\r\n                }\r\n            }\r\n            System.out.println(&quot;Loading KeyStore &quot; + file + &quot;...&quot;);\r\n            InputStream in = new FileInputStream(file);\r\n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(in, passphrase);\r\n            in.close();\r\n    \r\n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            TrustManagerFactory tmf =\r\n                    TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n            X509TrustManager defaultTrustManager = (X509TrustManager) tmf.getTrustManagers()[0];\r\n            SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\r\n            context.init(null, new TrustManager[]{tm}, null);\r\n            SSLSocketFactory factory = context.getSocketFactory();\r\n    \r\n            System.out.println(&quot;Opening connection to &quot; + host + &quot;:&quot; + port + &quot;...&quot;);\r\n            SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\r\n            socket.setSoTimeout(10000);\r\n            try {\r\n                System.out.println(&quot;Starting SSL handshake...&quot;);\r\n                socket.startHandshake();\r\n                socket.close();\r\n                System.out.println();\r\n                System.out.println(&quot;No errors, certificate is already trusted&quot;);\r\n            } catch (SSLException e) {\r\n                System.out.println();\r\n                e.printStackTrace(System.out);\r\n            }\r\n    \r\n            X509Certificate[] chain = tm.chain;\r\n            if (chain == null) {\r\n                System.out.println(&quot;Could not obtain server certificate chain&quot;);\r\n                return;\r\n            }\r\n    \r\n            BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;Server sent &quot; + chain.length + &quot; certificate(s):&quot;);\r\n            System.out.println();\r\n            MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n            MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            for (int i = 0; i &lt; chain.length; i++) {\r\n                X509Certificate cert = chain[i];\r\n                System.out.println\r\n                        (&quot; &quot; + (i + 1) + &quot; Subject &quot; + cert.getSubjectDN());\r\n                System.out.println(&quot;   Issuer  &quot; + cert.getIssuerDN());\r\n                sha1.update(cert.getEncoded());\r\n                System.out.println(&quot;   sha1    &quot; + toHexString(sha1.digest()));\r\n                md5.update(cert.getEncoded());\r\n                System.out.println(&quot;   md5     &quot; + toHexString(md5.digest()));\r\n                System.out.println();\r\n            }\r\n    \r\n            System.out.println(&quot;Enter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]&quot;);\r\n            String line = reader.readLine().trim();\r\n            int k;\r\n            try {\r\n                k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;KeyStore not changed&quot;);\r\n                return;\r\n            }\r\n    \r\n            X509Certificate cert = chain[k];\r\n            String alias = host + &quot;-&quot; + (k + 1);\r\n            ks.setCertificateEntry(alias, cert);\r\n    \r\n            OutputStream out = new FileOutputStream(&quot;jssecacerts&quot;);\r\n            ks.store(out, passphrase);\r\n            out.close();\r\n    \r\n            System.out.println();\r\n            System.out.println(cert);\r\n            System.out.println();\r\n            System.out.println\r\n                    (&quot;Added certificate to keystore &#39;jssecacerts&#39; using alias &#39;&quot;\r\n                            + alias + &quot;&#39;&quot;);\r\n        }\r\n    \r\n        private static final char[] HEXDIGITS = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n        private static String toHexString(byte[] bytes) {\r\n            StringBuilder sb = new StringBuilder(bytes.length * 3);\r\n            for (int b : bytes) {\r\n                b &amp;= 0xff;\r\n                sb.append(HEXDIGITS[b &gt;&gt; 4]);\r\n                sb.append(HEXDIGITS[b &amp; 15]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static class SavingTrustManager implements X509TrustManager {\r\n    \r\n            private final X509TrustManager tm;\r\n            private X509Certificate[] chain;\r\n    \r\n            SavingTrustManager(X509TrustManager tm) {\r\n                this.tm = tm;\r\n            }\r\n    \r\n            public X509Certificate[] getAcceptedIssuers() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n    \r\n            public void checkClientTrusted(X509Certificate[] chain, String authType)\r\n                    throws CertificateException {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n    \r\n            public void checkServerTrusted(X509Certificate[] chain, String authType)\r\n                    throws CertificateException {\r\n                this.chain = chain;\r\n                tm.checkServerTrusted(chain, authType);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://nodsw.com/blog/leeland/2006/12/06-no-more-unable-find-valid-certification-path-requested-target","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I have stumbled upon this issue which took many hours of research to fix, specially with auto-generated certificates, which unlike Official ones, are quite tricky and Java does not like them that much.</p>\n\n<p>Please check the following link: <a href=\"http://nodsw.com/blog/leeland/2006/12/06-no-more-unable-find-valid-certification-path-requested-target\">Solve Problem with certificates in Java</a></p>\n\n<p>Basically you have to add the certificate from the server to the Java Home certs. </p>\n\n<ol>\n<li>Generate or Get your certificate and configure Tomcat to use it in Servers.xml</li>\n<li>Download the Java source code of the class <code>InstallCert</code> and execute it while the server is running, providing the following arguments <code>server[:port]</code>. No password is needed, as the original password works for the Java certs (\"changeit\").</li>\n<li>The Program will connect to the server and Java will throw an exception, it will analyze the certificate provided by the server and allow you to create a <code>jssecerts</code> file inside the directory where you executed the Program (If executed from Eclipse then make sure you configure the Work directory in <code>Run -&gt; Configurations</code>).</li>\n<li>Manually copy that file to <code>$JAVA_HOME/jre/lib/security</code></li>\n</ol>\n\n<p>After following these steps, the connections with the certificate will not generate exceptions anymore within Java.</p>\n\n<p>The following source code is important and it disappeared from (Sun) Oracle blogs, the only page I found it was on the link provided, therefore I am attaching it in the answer for any reference.</p>\n\n<pre><code>/*\n * Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n *   - Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n *\n *   - Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n *\n *   - Neither the name of Sun Microsystems nor the names of its\n *     contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * Originally from:\n * http://blogs.sun.com/andreas/resource/InstallCert.java\n * Use:\n * java InstallCert hostname\n * Example:\n *% java InstallCert ecc.fedora.redhat.com\n */\n\nimport javax.net.ssl.*;\nimport java.io.*;\nimport java.security.KeyStore;\nimport java.security.MessageDigest;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\n/**\n * Class used to add the server's certificate to the KeyStore\n * with your trusted certificates.\n */\npublic class InstallCert {\n\n    public static void main(String[] args) throws Exception {\n        String host;\n        int port;\n        char[] passphrase;\n        if ((args.length == 1) || (args.length == 2)) {\n            String[] c = args[0].split(\":\");\n            host = c[0];\n            port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);\n            String p = (args.length == 1) ? \"changeit\" : args[1];\n            passphrase = p.toCharArray();\n        } else {\n            System.out.println(\"Usage: java InstallCert [:port] [passphrase]\");\n            return;\n        }\n\n        File file = new File(\"jssecacerts\");\n        if (file.isFile() == false) {\n            char SEP = File.separatorChar;\n            File dir = new File(System.getProperty(\"java.home\") + SEP\n                    + \"lib\" + SEP + \"security\");\n            file = new File(dir, \"jssecacerts\");\n            if (file.isFile() == false) {\n                file = new File(dir, \"cacerts\");\n            }\n        }\n        System.out.println(\"Loading KeyStore \" + file + \"...\");\n        InputStream in = new FileInputStream(file);\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(in, passphrase);\n        in.close();\n\n        SSLContext context = SSLContext.getInstance(\"TLS\");\n        TrustManagerFactory tmf =\n                TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        X509TrustManager defaultTrustManager = (X509TrustManager) tmf.getTrustManagers()[0];\n        SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);\n        context.init(null, new TrustManager[]{tm}, null);\n        SSLSocketFactory factory = context.getSocketFactory();\n\n        System.out.println(\"Opening connection to \" + host + \":\" + port + \"...\");\n        SSLSocket socket = (SSLSocket) factory.createSocket(host, port);\n        socket.setSoTimeout(10000);\n        try {\n            System.out.println(\"Starting SSL handshake...\");\n            socket.startHandshake();\n            socket.close();\n            System.out.println();\n            System.out.println(\"No errors, certificate is already trusted\");\n        } catch (SSLException e) {\n            System.out.println();\n            e.printStackTrace(System.out);\n        }\n\n        X509Certificate[] chain = tm.chain;\n        if (chain == null) {\n            System.out.println(\"Could not obtain server certificate chain\");\n            return;\n        }\n\n        BufferedReader reader =\n                new BufferedReader(new InputStreamReader(System.in));\n\n        System.out.println();\n        System.out.println(\"Server sent \" + chain.length + \" certificate(s):\");\n        System.out.println();\n        MessageDigest sha1 = MessageDigest.getInstance(\"SHA1\");\n        MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n        for (int i = 0; i &lt; chain.length; i++) {\n            X509Certificate cert = chain[i];\n            System.out.println\n                    (\" \" + (i + 1) + \" Subject \" + cert.getSubjectDN());\n            System.out.println(\"   Issuer  \" + cert.getIssuerDN());\n            sha1.update(cert.getEncoded());\n            System.out.println(\"   sha1    \" + toHexString(sha1.digest()));\n            md5.update(cert.getEncoded());\n            System.out.println(\"   md5     \" + toHexString(md5.digest()));\n            System.out.println();\n        }\n\n        System.out.println(\"Enter certificate to add to trusted keystore or 'q' to quit: [1]\");\n        String line = reader.readLine().trim();\n        int k;\n        try {\n            k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;\n        } catch (NumberFormatException e) {\n            System.out.println(\"KeyStore not changed\");\n            return;\n        }\n\n        X509Certificate cert = chain[k];\n        String alias = host + \"-\" + (k + 1);\n        ks.setCertificateEntry(alias, cert);\n\n        OutputStream out = new FileOutputStream(\"jssecacerts\");\n        ks.store(out, passphrase);\n        out.close();\n\n        System.out.println();\n        System.out.println(cert);\n        System.out.println();\n        System.out.println\n                (\"Added certificate to keystore 'jssecacerts' using alias '\"\n                        + alias + \"'\");\n    }\n\n    private static final char[] HEXDIGITS = \"0123456789abcdef\".toCharArray();\n\n    private static String toHexString(byte[] bytes) {\n        StringBuilder sb = new StringBuilder(bytes.length * 3);\n        for (int b : bytes) {\n            b &amp;= 0xff;\n            sb.append(HEXDIGITS[b &gt;&gt; 4]);\n            sb.append(HEXDIGITS[b &amp; 15]);\n            sb.append(' ');\n        }\n        return sb.toString();\n    }\n\n    private static class SavingTrustManager implements X509TrustManager {\n\n        private final X509TrustManager tm;\n        private X509Certificate[] chain;\n\n        SavingTrustManager(X509TrustManager tm) {\n            this.tm = tm;\n        }\n\n        public X509Certificate[] getAcceptedIssuers() {\n            throw new UnsupportedOperationException();\n        }\n\n        public void checkClientTrusted(X509Certificate[] chain, String authType)\n                throws CertificateException {\n            throw new UnsupportedOperationException();\n        }\n\n        public void checkServerTrusted(X509Certificate[] chain, String authType)\n                throws CertificateException {\n            this.chain = chain;\n            tm.checkServerTrusted(chain, authType);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1413316,"reputation":2195,"user_id":1339495,"display_name":"malajisi"},"score":2,"creation_date":1489997361,"post_id":34996234,"comment_id":72897144,"body_markdown":"@gorums How to setup it in Eclipse?","body":"@gorums How to setup it in Eclipse?"},{"owner":{"account_id":286728,"reputation":963,"user_id":586148,"display_name":"Bryan"},"score":18,"creation_date":1507832447,"post_id":34996234,"comment_id":80379091,"body_markdown":"Do NOT do this unless you want to risk running arbitrary malicious code on your machine.\n\nDownvoted as it risks compromising any machine that runs it.","body":"Do NOT do this unless you want to risk running arbitrary malicious code on your machine.  Downvoted as it risks compromising any machine that runs it."},{"owner":{"account_id":3614695,"reputation":4509,"user_id":3014890,"accept_rate":79,"display_name":"Paradoxis"},"score":2,"creation_date":1543223639,"post_id":34996234,"comment_id":93825673,"body_markdown":"Just because it &#39;works&#39; doesn&#39;t mean it&#39;s safe, you&#39;re putting everyone that follows this advice at risk. Have my downvote","body":"Just because it &#39;works&#39; doesn&#39;t mean it&#39;s safe, you&#39;re putting everyone that follows this advice at risk. Have my downvote"},{"owner":{"account_id":42463,"reputation":28235,"user_id":123695,"accept_rate":89,"display_name":"Michael Mior"},"score":14,"creation_date":1560534308,"post_id":34996234,"comment_id":99781911,"body_markdown":"@AceKing The point is that it&#39;s *not* trusted code if you don&#39;t validate the certificate. That said, I think this is still a useful answer. People doing it just need to understand the risks.","body":"@AceKing The point is that it&#39;s <i>not</i> trusted code if you don&#39;t validate the certificate. That said, I think this is still a useful answer. People doing it just need to understand the risks."},{"owner":{"account_id":13646621,"reputation":85,"user_id":9845481,"display_name":"AceKing"},"score":0,"creation_date":1564999491,"post_id":34996234,"comment_id":101199588,"body_markdown":"Totally agree with you @MichaelMior","body":"Totally agree with you @MichaelMior"},{"owner":{"account_id":477984,"reputation":401,"user_id":889790,"display_name":"wadjakman"},"score":0,"creation_date":1584460267,"post_id":34996234,"comment_id":107440508,"body_markdown":"I you trust the server that hold the repositories this the way to go.","body":"I you trust the server that hold the repositories this the way to go."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":1,"creation_date":1584958674,"post_id":34996234,"comment_id":107591186,"body_markdown":"@MichaelMior If you know to trust the URL, you know to trust the code. You should only skip certificate validation if you only use URLs you know well (such as your company&#39;s Jira repository), but that should be common sense. Of course there can still be issues if a corrupted hosts file or something similar remaps the URL to a malicious server, but if that&#39;s happening you&#39;re already screwed anyway.","body":"@MichaelMior If you know to trust the URL, you know to trust the code. You should only skip certificate validation if you only use URLs you know well (such as your company&#39;s Jira repository), but that should be common sense. Of course there can still be issues if a corrupted hosts file or something similar remaps the URL to a malicious server, but if that&#39;s happening you&#39;re already screwed anyway."},{"owner":{"account_id":42463,"reputation":28235,"user_id":123695,"accept_rate":89,"display_name":"Michael Mior"},"score":4,"creation_date":1584997178,"post_id":34996234,"comment_id":107609218,"body_markdown":"@EgorHans That&#39;s rather dangerous and if you take that approach, you leave yourself open to MITM attacks. One of the main points of certificate validation is that you&#39;re *not *screwed if someone hijacks a URL because you know when this happens.","body":"@EgorHans That&#39;s rather dangerous and if you take that approach, you leave yourself open to MITM attacks. One of the main points of certificate validation is that you&#39;re *not *screwed if someone hijacks a URL because you know when this happens."},{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":1,"creation_date":1625615351,"post_id":34996234,"comment_id":120672206,"body_markdown":"@EgorHans Yeah, you can only trust a URL if you verify the authenticity of it, which is done with SSL. You can&#39;t just trust a URL with SSL disabled, since as Michael said, anyone can man-in-the-middle and pretend to own that address when SSL is disabled.","body":"@EgorHans Yeah, you can only trust a URL if you verify the authenticity of it, which is done with SSL. You can&#39;t just trust a URL with SSL disabled, since as Michael said, anyone can man-in-the-middle and pretend to own that address when SSL is disabled."},{"owner":{"account_id":485590,"reputation":2558,"user_id":901982,"accept_rate":54,"display_name":"Matto"},"score":1,"creation_date":1668914815,"post_id":34996234,"comment_id":131521043,"body_markdown":"This is a really reckless solution. Cyber attacks are everywhere; all it takes is one unsecured machine within an organisation to get through to its systems.","body":"This is a really reckless solution. Cyber attacks are everywhere; all it takes is one unsecured machine within an organisation to get through to its systems."},{"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"score":1,"creation_date":1669804765,"post_id":34996234,"comment_id":131724672,"body_markdown":"In my opinion, this solution is only acceptable for one particular scenario: You are absolutely sure what you&#39;re doing and you&#39;re only dealing with your own certificate for your own URL. For example, you run integration tests against your local development instance - here it could make sense to skip cert validation. Still, with great power...","body":"In my opinion, this solution is only acceptable for one particular scenario: You are absolutely sure what you&#39;re doing and you&#39;re only dealing with your own certificate for your own URL. For example, you run integration tests against your local development instance - here it could make sense to skip cert validation. Still, with great power..."}],"tags":[],"owner":{"account_id":1398031,"reputation":1577,"user_id":1327403,"display_name":"gorums"},"comment_count":11,"down_vote_count":30,"up_vote_count":85,"is_accepted":false,"score":55,"last_activity_date":1661335685,"creation_date":1453735724,"answer_id":34996234,"question_id":21076179,"body_markdown":"    -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true\r\n\r\nIt is used for jump the certificate validation.\r\n\r\n**Warning!**\r\n-----------\r\n\r\nOnly use for development purposes for this is unsecure!","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<pre><code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true\n</code></pre>\n<p>It is used for jump the certificate validation.</p>\n<h2><strong>Warning!</strong></h2>\n<p>Only use for development purposes for this is unsecure!</p>\n"},{"comments":[{"owner":{"account_id":3155121,"reputation":5078,"user_id":2667686,"accept_rate":73,"display_name":"Theodore K."},"score":50,"creation_date":1478094789,"post_id":36427118,"comment_id":68015181,"body_markdown":"I had to put the path in quotes and also save it as Base64 instead of DER","body":"I had to put the path in quotes and also save it as Base64 instead of DER"},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":5,"creation_date":1478755304,"post_id":36427118,"comment_id":68282014,"body_markdown":"wow..its worked like a magic\nby the way in chrome you just click the lock icon on left address bar, and then click _details_\n\nplus there is no restart needed","body":"wow..its worked like a magic by the way in chrome you just click the lock icon on left address bar, and then click <i>details</i>  plus there is no restart needed"},{"owner":{"account_id":1413316,"reputation":2195,"user_id":1339495,"display_name":"malajisi"},"score":1,"creation_date":1490003705,"post_id":36427118,"comment_id":72900679,"body_markdown":"On Mac OS X 10.11, jdk8, restart dosen&#39;t  needed in fact.","body":"On Mac OS X 10.11, jdk8, restart dosen&#39;t  needed in fact."},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":2,"creation_date":1500974396,"post_id":36427118,"comment_id":77559440,"body_markdown":"since java is not a  daemon and runs on demand, how to restart jvm?","body":"since java is not a  daemon and runs on demand, how to restart jvm?"},{"owner":{"account_id":5871102,"reputation":462,"user_id":4623417,"accept_rate":100,"display_name":"Michael Clark"},"score":3,"creation_date":1501679772,"post_id":36427118,"comment_id":77884312,"body_markdown":"Is the restart really necessary?  If so that&#39;s bollocks.","body":"Is the restart really necessary?  If so that&#39;s bollocks."},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1504527802,"post_id":36427118,"comment_id":79034058,"body_markdown":"Worked fine. Just had to add quotes around the cert file path as @TheodoreK. mentioned","body":"Worked fine. Just had to add quotes around the cert file path as @TheodoreK. mentioned"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":18,"creation_date":1505242246,"post_id":36427118,"comment_id":79329814,"body_markdown":"Note that instructions should be repeated for all certificates in the chain. Also certificate&#39;s `alias` name in command line should be unique.","body":"Note that instructions should be repeated for all certificates in the chain. Also certificate&#39;s <code>alias</code> name in command line should be unique."},{"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"score":1,"creation_date":1513959199,"post_id":36427118,"comment_id":82858396,"body_markdown":"Is there any workaround if I do not have write permissions to Program Files?","body":"Is there any workaround if I do not have write permissions to Program Files?"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1513975045,"post_id":36427118,"comment_id":82864093,"body_markdown":"Even though I&#39;m using a different browser and OS, this gave me the successful clue I needed - or reminded me of what I knew once, as certificate issues come up only once in a blue moon. The essential datum is: `$JAVA_HOME/jre/lib/security/cacerts`","body":"Even though I&#39;m using a different browser and OS, this gave me the successful clue I needed - or reminded me of what I knew once, as certificate issues come up only once in a blue moon. The essential datum is: <code>$JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts</code>"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1513975091,"post_id":36427118,"comment_id":82864100,"body_markdown":"And it&#39;s here too: https://stackoverflow.com/questions/8980364/how-do-i-find-out-what-keystore-my-jvm-is-using","body":"And it&#39;s here too: <a href=\"https://stackoverflow.com/questions/8980364/how-do-i-find-out-what-keystore-my-jvm-is-using\" title=\"how do i find out what keystore my jvm is using\">stackoverflow.com/questions/8980364/&hellip;</a>"},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":10,"creation_date":1520432301,"post_id":36427118,"comment_id":85312607,"body_markdown":"If your home is a JDK, make sure to specify that the jre lies within that:keytool -import -alias example -keystore  &quot;C:\\Program Files\\Java\\jdk1.8.0_73\\jre\\lib\\security\\cacerts&quot; -file example.cer","body":"If your home is a JDK, make sure to specify that the jre lies within that:keytool -import -alias example -keystore  &quot;C:\\Program Files\\Java\\jdk1.8.0_73\\jre\\lib\\security\\cacerts&quot; -file example.cer"},{"owner":{"account_id":2399763,"reputation":531,"user_id":2097730,"accept_rate":71,"display_name":"Walker Christie"},"score":30,"creation_date":1524584985,"post_id":36427118,"comment_id":87028348,"body_markdown":"For anyone getting an &quot;access denied&quot; error, make sure you&#39;re running command prompt as an administrator.","body":"For anyone getting an &quot;access denied&quot; error, make sure you&#39;re running command prompt as an administrator."},{"owner":{"account_id":7699892,"reputation":117,"user_id":9740318,"display_name":"Eric"},"score":1,"creation_date":1525426363,"post_id":36427118,"comment_id":87360589,"body_markdown":"For us it was necessary to import the certificate to the file $JAVA_HOME/jre/lib/security/jssecacerts as well.","body":"For us it was necessary to import the certificate to the file $JAVA_HOME/jre/lib/security/jssecacerts as well."},{"owner":{"account_id":6678304,"reputation":569,"user_id":5152279,"accept_rate":64,"display_name":"ManishNegi"},"score":0,"creation_date":1525436131,"post_id":36427118,"comment_id":87366298,"body_markdown":"Hi all, I&#39;m facing the same issue. I&#39;ve implemented the provided answer but still getting the same ssl excepton; also can you please tell me what to do with generated keystore file?","body":"Hi all, I&#39;m facing the same issue. I&#39;ve implemented the provided answer but still getting the same ssl excepton; also can you please tell me what to do with generated keystore file?"},{"owner":{"account_id":7172876,"reputation":641,"user_id":5479826,"accept_rate":79,"display_name":"Rohan Gala"},"score":0,"creation_date":1530784034,"post_id":36427118,"comment_id":89357938,"body_markdown":"in my case it was .net certificate","body":"in my case it was .net certificate"},{"owner":{"account_id":4537840,"reputation":128,"user_id":3686515,"display_name":"Taher"},"score":0,"creation_date":1533178508,"post_id":36427118,"comment_id":90253673,"body_markdown":"Works like a charm. I added the .crt file exported from Firefox.","body":"Works like a charm. I added the .crt file exported from Firefox."},{"owner":{"account_id":4805840,"reputation":79,"user_id":3880943,"display_name":"Vijayendra Gade"},"score":1,"creation_date":1534454749,"post_id":36427118,"comment_id":90722595,"body_markdown":"Wooowww finally I got the solution, i was trying the same solution from so many days in MAC and it was not working. The reason was the certificate was by default getting saved with .crt extension and which was not getting recognized. I saved the certificate with .cer extension and followed the same steps and tested using SSLPoke Class mentioned in below URL\nhttps://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html","body":"Wooowww finally I got the solution, i was trying the same solution from so many days in MAC and it was not working. The reason was the certificate was by default getting saved with .crt extension and which was not getting recognized. I saved the certificate with .cer extension and followed the same steps and tested using SSLPoke Class mentioned in below URL <a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\" rel=\"nofollow noreferrer\">confluence.atlassian.com/kb/&hellip;</a>"},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":0,"creation_date":1535447117,"post_id":36427118,"comment_id":91058194,"body_markdown":"fyi https://sourceforge.net/projects/portecle/ is an awesome java utility to manage the java keystore, do export/import of CertSignRequests etc.","body":"fyi <a href=\"https://sourceforge.net/projects/portecle/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/portecle</a> is an awesome java utility to manage the java keystore, do export/import of CertSignRequests etc."},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":1,"creation_date":1535447501,"post_id":36427118,"comment_id":91058444,"body_markdown":"SSL(x.509) is about &#39;chain-of-trust&#39;. So preferably one should add the &#39;certificate of the issuer&#39; to the trust store, not the website certificate itself.","body":"SSL(x.509) is about &#39;chain-of-trust&#39;. So preferably one should add the &#39;certificate of the issuer&#39; to the trust store, not the website certificate itself."},{"owner":{"account_id":2252016,"reputation":6192,"user_id":1984049,"accept_rate":74,"display_name":"Oliver"},"score":0,"creation_date":1536232469,"post_id":36427118,"comment_id":91354502,"body_markdown":"I got this error Certificate for &lt;ipaddress&gt; doesn&#39;t match common name of the certificate subject: hybris","body":"I got this error Certificate for &lt;ipaddress&gt; doesn&#39;t match common name of the certificate subject: hybris"},{"owner":{"account_id":2940282,"reputation":145,"user_id":2518336,"accept_rate":100,"display_name":"BCZmarts"},"score":0,"creation_date":1545419302,"post_id":36427118,"comment_id":94626283,"body_markdown":"Restarting the Virtual Machine (ec2) was the major factor in getting this solution to work for me. Thanks!","body":"Restarting the Virtual Machine (ec2) was the major factor in getting this solution to work for me. Thanks!"},{"owner":{"account_id":1223457,"reputation":1287,"user_id":1971461,"display_name":"Faruk Toptas"},"score":0,"creation_date":1562582996,"post_id":36427118,"comment_id":100407162,"body_markdown":"It works for me but when I try to update Android studio, it fails because of a conflict of cacerts. Any solution to this problem?","body":"It works for me but when I try to update Android studio, it fails because of a conflict of cacerts. Any solution to this problem?"},{"owner":{"account_id":7729976,"reputation":86,"user_id":5853454,"display_name":"Aidan Grimshaw"},"score":3,"creation_date":1563208781,"post_id":36427118,"comment_id":100615630,"body_markdown":"for url is this just any random url?","body":"for url is this just any random url?"},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":1,"creation_date":1565335475,"post_id":36427118,"comment_id":101328868,"body_markdown":"Its not working for me. Tried it from Android Studio and still getting the same","body":"Its not working for me. Tried it from Android Studio and still getting the same"},{"owner":{"account_id":4006519,"reputation":727,"user_id":3301051,"display_name":"Roman"},"score":0,"creation_date":1579081717,"post_id":36427118,"comment_id":105644213,"body_markdown":"Our companie&#39;s IT has it&#39;s own root certificate so I had to import this. Worked for AdoptOpenJDK.","body":"Our companie&#39;s IT has it&#39;s own root certificate so I had to import this. Worked for AdoptOpenJDK."},{"owner":{"account_id":4006849,"reputation":3048,"user_id":3301316,"accept_rate":58,"display_name":"Jet"},"score":0,"creation_date":1588663984,"post_id":36427118,"comment_id":108977457,"body_markdown":"Worked like Charm - use double quotes for space related exception.","body":"Worked like Charm - use double quotes for space related exception."},{"owner":{"account_id":4865238,"reputation":119,"user_id":3923737,"display_name":"Sumit"},"score":0,"creation_date":1595934565,"post_id":36427118,"comment_id":111639230,"body_markdown":"I tried to use with -alias option but was getting the error as &quot;Illegal option:  alias&quot;. So had to remove the -alias option and it worked perfect.                                        keytool -import -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_241\\lib\\security\\cacerts&quot; -file test-cert.cer","body":"I tried to use with -alias option but was getting the error as &quot;Illegal option:  alias&quot;. So had to remove the -alias option and it worked perfect.                                        keytool -import -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_241\\lib\\security\\cacerts&quot; -file test-cert.cer"},{"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"score":0,"creation_date":1598719620,"post_id":36427118,"comment_id":112553290,"body_markdown":"Took a few extra steps on a Macbook, but this worked!","body":"Took a few extra steps on a Macbook, but this worked!"},{"owner":{"account_id":7802705,"reputation":70,"user_id":6252067,"display_name":"Prakhar Gajbhiye"},"score":1,"creation_date":1599017785,"post_id":36427118,"comment_id":112639658,"body_markdown":"I am still facing the issue. I have uploaded(imported) the cert from the site [link](https://services.gradle.org/distributions/)  in my cacerts file in jre and jdk both. I have verified by the serial number in cacert file and they are imported successfully. Any further suggestions ?","body":"I am still facing the issue. I have uploaded(imported) the cert from the site <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">link</a>  in my cacerts file in jre and jdk both. I have verified by the serial number in cacert file and they are imported successfully. Any further suggestions ?"},{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":1,"creation_date":1599744585,"post_id":36427118,"comment_id":112873357,"body_markdown":"Worked as advertised.  Now if I could only put back in the hairs I pulled out....","body":"Worked as advertised.  Now if I could only put back in the hairs I pulled out...."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":2,"creation_date":1610956141,"post_id":36427118,"comment_id":116285877,"body_markdown":"to run keytool command remember to run it from  cd %JAVA_HOME%\\bin","body":"to run keytool command remember to run it from  cd %JAVA_HOME%\\bin"},{"owner":{"account_id":418378,"reputation":397,"user_id":794903,"accept_rate":73,"display_name":"ChambreNoire"},"score":0,"creation_date":1617010994,"post_id":36427118,"comment_id":118171563,"body_markdown":"hmm I did this but now I&#39;m getting &quot;Certificate for &lt;my-ec2-id.compute-1.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names: []&quot;. Any ideas?","body":"hmm I did this but now I&#39;m getting &quot;Certificate for &lt;my-ec2-id.compute-1.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names: []&quot;. Any ideas?"},{"owner":{"account_id":4324594,"reputation":4993,"user_id":3531756,"accept_rate":91,"display_name":"Tushar Gogna"},"score":0,"creation_date":1620882003,"post_id":36427118,"comment_id":119333347,"body_markdown":"I have added the required certificates and also restarted my system after that but still I am getting same error in my  IDE. Any suggestions?","body":"I have added the required certificates and also restarted my system after that but still I am getting same error in my  IDE. Any suggestions?"},{"owner":{"account_id":18145107,"reputation":643,"user_id":13198513,"display_name":"Bogdan"},"score":0,"creation_date":1621256812,"post_id":36427118,"comment_id":119432887,"body_markdown":"Where do I save the example.cer ?","body":"Where do I save the example.cer ?"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1623795862,"post_id":36427118,"comment_id":120179159,"body_markdown":"Hi, I am having same issues with Eclipse Marketplace (https://marketplace.eclipse.org/content/spring-tools-4-aka-spring-tool-suite-4) when I try to access it through Eclipse &gt; Help &gt; Eclipse Marketplace menu.  When you say &quot;In your browser, go to URL...&quot; to export certificate, which URL  are you referring to?  I tried from this eclipse market place URL and although I exported and added certificate successfully following your explanation, it did not fix my issue.  Thank you","body":"Hi, I am having same issues with Eclipse Marketplace (<a href=\"https://marketplace.eclipse.org/content/spring-tools-4-aka-spring-tool-suite-4\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>) when I try to access it through Eclipse &gt; Help &gt; Eclipse Marketplace menu.  When you say &quot;In your browser, go to URL...&quot; to export certificate, which URL  are you referring to?  I tried from this eclipse market place URL and although I exported and added certificate successfully following your explanation, it did not fix my issue.  Thank you"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":1,"creation_date":1623797410,"post_id":36427118,"comment_id":120179486,"body_markdown":"For java jdk11, there is no jre.  How to run the above keytool command in case of jdk11?","body":"For java jdk11, there is no jre.  How to run the above keytool command in case of jdk11?"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1624429760,"post_id":36427118,"comment_id":120353163,"body_markdown":"How do we acheive the same for local jenkins set up? Because unable to get .cert format and only able to get .p12, .jks and when we bind that it throws error like &quot;keytool error: java.lang.Exception: Input not an X.509 certificate&quot;","body":"How do we acheive the same for local jenkins set up? Because unable to get .cert format and only able to get .p12, .jks and when we bind that it throws error like &quot;keytool error: java.lang.Exception: Input not an X.509 certificate&quot;"},{"owner":{"account_id":14233019,"reputation":159,"user_id":10281672,"display_name":"neil"},"score":0,"creation_date":1627314500,"post_id":36427118,"comment_id":121117378,"body_markdown":"I did all that but still getting the error in STS.\nhttps://stackoverflow.com/questions/68531872/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-request - For reference. If someone could help.","body":"I did all that but still getting the error in STS. <a href=\"https://stackoverflow.com/questions/68531872/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-request\" title=\"suncertpathbuilderexception unable to find valid certification path to request\">stackoverflow.com/questions/68531872/&hellip;</a> - For reference. If someone could help."},{"owner":{"account_id":93254,"reputation":8418,"user_id":255243,"accept_rate":88,"display_name":"raddevus"},"score":0,"creation_date":1630590961,"post_id":36427118,"comment_id":122003420,"body_markdown":"Had this problem related to Maven repository at: https://repo.maven.apache.org/maven2/  Blows my mind because our internal network was generating a self-signed cert that I had to export (using web browser) and then import using these instructions.  Couldn&#39;t have gotten through it without these instructions &amp; I&#39;m amazed I was even able to work through it considering how cryptic the error info from Maven the internal network error was.  Thanks again. &#128077;&#127997;","body":"Had this problem related to Maven repository at: <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>  Blows my mind because our internal network was generating a self-signed cert that I had to export (using web browser) and then import using these instructions.  Couldn&#39;t have gotten through it without these instructions &amp; I&#39;m amazed I was even able to work through it considering how cryptic the error info from Maven the internal network error was.  Thanks again. "},{"owner":{"account_id":5883581,"reputation":370,"user_id":4632265,"display_name":"AlpharettaTechy"},"score":0,"creation_date":1636145907,"post_id":36427118,"comment_id":123488013,"body_markdown":"Did not work for me.. the bottom answer did! Clearly, I am doing something screwy! meh!","body":"Did not work for me.. the bottom answer did! Clearly, I am doing something screwy! meh!"},{"owner":{"account_id":456611,"reputation":72,"user_id":855465,"display_name":"Dani Rodr&#237;guez"},"score":0,"creation_date":1636272679,"post_id":36427118,"comment_id":123508602,"body_markdown":"Note to me: RTFM, &quot;... You will be asked for password which default is `changeit`...&quot;.","body":"Note to me: RTFM, &quot;... You will be asked for password which default is <code>changeit</code>...&quot;."},{"owner":{"account_id":14096472,"reputation":882,"user_id":10183099,"display_name":"zeitgeist"},"score":0,"creation_date":1646662536,"post_id":36427118,"comment_id":126172164,"body_markdown":"https://stackoverflow.com/a/64997148/10183099 has the complete details and helped me when this answer did not.","body":"<a href=\"https://stackoverflow.com/a/64997148/10183099\">stackoverflow.com/a/64997148/10183099</a> has the complete details and helped me when this answer did not."},{"owner":{"account_id":11524360,"reputation":233,"user_id":8445277,"display_name":"Thiago"},"score":1,"creation_date":1656879449,"post_id":36427118,"comment_id":128673265,"body_markdown":"When he say &quot;Go to URL in your browser&quot;, what url is it?","body":"When he say &quot;Go to URL in your browser&quot;, what url is it?"},{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1681907628,"post_id":36427118,"comment_id":134132196,"body_markdown":"i dont have admin access what should i do?","body":"i dont have admin access what should i do?"}],"tags":[],"owner":{"account_id":1913170,"reputation":19646,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"comment_count":44,"down_vote_count":2,"up_vote_count":1108,"is_accepted":true,"score":1106,"last_activity_date":1614009279,"creation_date":1459861249,"answer_id":36427118,"question_id":21076179,"body_markdown":"1. Go to URL in your browser:\r\n  * firefox -  click on HTTPS certificate chain (the lock icon right next to URL address). Click `&quot;more info&quot; &gt; &quot;security&quot; &gt; &quot;show certificate&quot; &gt; &quot;details&quot; &gt; &quot;export..&quot;`. Pickup the name and choose file type example.cer\r\n  * chrome - click on site icon left to address in address bar, select &quot;Certificate&quot; -&gt; &quot;Details&quot; -&gt; &quot;Export&quot; and save in format &quot;Der-encoded binary, single certificate&quot;.\r\n2. Now you have file with keystore and you have to add it to your JVM. Determine location of cacerts files, eg. \r\n`C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts. `\r\n\r\n3. Next import the `example.cer` file into cacerts in command line (may need administrator command prompt):\r\n\r\n`keytool -import -alias example -keystore  &quot;C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot; -file example.cer` \r\n\r\nYou will be asked for password which default is `changeit`\r\n\r\nRestart your JVM/PC.\r\n\r\nsource:\r\nhttp://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\r\n    \r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<ol>\n<li>Go to URL in your browser:</li>\n</ol>\n<ul>\n<li>firefox -  click on HTTPS certificate chain (the lock icon right next to URL address). Click <code>&quot;more info&quot; &gt; &quot;security&quot; &gt; &quot;show certificate&quot; &gt; &quot;details&quot; &gt; &quot;export..&quot;</code>. Pickup the name and choose file type example.cer</li>\n<li>chrome - click on site icon left to address in address bar, select &quot;Certificate&quot; -&gt; &quot;Details&quot; -&gt; &quot;Export&quot; and save in format &quot;Der-encoded binary, single certificate&quot;.</li>\n</ul>\n<ol start=\"2\">\n<li><p>Now you have file with keystore and you have to add it to your JVM. Determine location of cacerts files, eg.\n<code>C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts. </code></p>\n</li>\n<li><p>Next import the <code>example.cer</code> file into cacerts in command line (may need administrator command prompt):</p>\n</li>\n</ol>\n<p><code>keytool -import -alias example -keystore  &quot;C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot; -file example.cer</code></p>\n<p>You will be asked for password which default is <code>changeit</code></p>\n<p>Restart your JVM/PC.</p>\n<p>source:\n<a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\" rel=\"noreferrer\">http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html</a></p>\n"},{"tags":[],"owner":{"account_id":1466556,"reputation":9,"user_id":1379218,"display_name":"user1379218"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1465241545,"creation_date":1465241545,"answer_id":37665482,"question_id":21076179,"body_markdown":"i have the same problem on ubuntu 15.10. Please try download plugin locally e.g. https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip and install with this command:\r\n\r\n    sudo /usr/share/elasticsearch/bin/plugin install file:/home/dev/Downloads/elasticsearch-kopf-master.zip\r\n\r\nPath maybe different depending on your environment. \r\n\r\nRegards. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>i have the same problem on ubuntu 15.10. Please try download plugin locally e.g. <a href=\"https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip\" rel=\"nofollow\">https://github.com/lmenezes/elasticsearch-kopf/archive/master.zip</a> and install with this command:</p>\n\n<pre><code>sudo /usr/share/elasticsearch/bin/plugin install file:/home/dev/Downloads/elasticsearch-kopf-master.zip\n</code></pre>\n\n<p>Path maybe different depending on your environment. </p>\n\n<p>Regards. </p>\n"},{"comments":[{"owner":{"account_id":374653,"reputation":1960,"user_id":724968,"accept_rate":22,"display_name":"arvindwill"},"score":0,"creation_date":1470384438,"post_id":37934102,"comment_id":64938991,"body_markdown":"same prob happening in eclipse , even after closing all application","body":"same prob happening in eclipse , even after closing all application"},{"owner":{"account_id":1666939,"reputation":1710,"user_id":1534157,"display_name":"Janesh Kodikara"},"score":1,"creation_date":1621157262,"post_id":37934102,"comment_id":119405467,"body_markdown":"@Atihska this really resolved my issue. Thank you and really appreciated","body":"@Atihska this really resolved my issue. Thank you and really appreciated"},{"owner":{"account_id":80211,"reputation":58977,"user_id":226958,"accept_rate":76,"display_name":"Nicolas Raoul"},"score":0,"creation_date":1646201771,"post_id":37934102,"comment_id":126062036,"body_markdown":"Same, I had forgotten that Charles Proxy was running, and got that error. After stopping Charles, everything worked correctly.","body":"Same, I had forgotten that Charles Proxy was running, and got that error. After stopping Charles, everything worked correctly."}],"tags":[],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466471399,"creation_date":1466471399,"answer_id":37934102,"question_id":21076179,"body_markdown":"For me, certificate error popped up because I had fiddler running in background and that messes up with certificate. It acts as a proxy so close that and restart eclipse.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>For me, certificate error popped up because I had fiddler running in background and that messes up with certificate. It acts as a proxy so close that and restart eclipse.</p>\n"},{"comments":[{"owner":{"account_id":1413316,"reputation":2195,"user_id":1339495,"display_name":"malajisi"},"score":3,"creation_date":1490003793,"post_id":40743987,"comment_id":72900742,"body_markdown":"On mac, with CMD-Line, should use sudo to run the command.                   # sudo keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts","body":"On mac, with CMD-Line, should use sudo to run the command.                   # sudo keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts"},{"owner":{"account_id":5194385,"reputation":744,"user_id":4156219,"display_name":"Gabriel Patricio Bonilla"},"score":2,"creation_date":1501100001,"post_id":40743987,"comment_id":77635106,"body_markdown":"On Windows, the command wich works: `keytool  -importcert -file dinardap_cert.cer alias dinardap keystore %JAVA_HOME%/jre/lib/security/cacerts`","body":"On Windows, the command wich works: <code>keytool  -importcert -file dinardap_cert.cer alias dinardap keystore %JAVA_HOME%&#47;jre&#47;lib&#47;security&#47;cacerts</code>"},{"owner":{"account_id":465685,"reputation":5164,"user_id":869936,"accept_rate":44,"display_name":"kraftydevil"},"score":0,"creation_date":1504577582,"post_id":40743987,"comment_id":79051975,"body_markdown":"where to get the cert file from? I can&#39;t tell which URL to go to. https://www.jetty.com ?","body":"where to get the cert file from? I can&#39;t tell which URL to go to. <a href=\"https://www.jetty.com\" rel=\"nofollow noreferrer\">jetty.com</a> ?"},{"owner":{"account_id":1700578,"reputation":1529,"user_id":1560780,"accept_rate":75,"display_name":"rtbf"},"score":1,"creation_date":1583157065,"post_id":40743987,"comment_id":107010698,"body_markdown":"I&#39;ve get my cert by exporting it from web browser, context action on padlock","body":"I&#39;ve get my cert by exporting it from web browser, context action on padlock"},{"owner":{"account_id":248744,"reputation":921,"user_id":524321,"accept_rate":86,"display_name":"Vasudevan Kannan"},"score":0,"creation_date":1594314146,"post_id":40743987,"comment_id":111089964,"body_markdown":"This seems much simpler than working from command line.","body":"This seems much simpler than working from command line."},{"owner":{"account_id":2317545,"reputation":1211,"user_id":2034240,"display_name":"FlipNovid"},"score":1,"creation_date":1625572738,"post_id":40743987,"comment_id":120657180,"body_markdown":"&quot;Enter keystore password&quot; ...?","body":"&quot;Enter keystore password&quot; ...?"},{"owner":{"account_id":298783,"reputation":2621,"user_id":604990,"accept_rate":97,"display_name":"Varun Sharma"},"score":0,"creation_date":1633466893,"post_id":40743987,"comment_id":122766535,"body_markdown":"Thanks this worked for me as well. But I had to browse the endpoint from within company network to download the cert chain. On my PC I have ESET installed and it didn&#39;t show me the full cert path and instead root path was ESET itself somehow.","body":"Thanks this worked for me as well. But I had to browse the endpoint from within company network to download the cert chain. On my PC I have ESET installed and it didn&#39;t show me the full cert path and instead root path was ESET itself somehow."},{"owner":{"account_id":1563022,"reputation":823,"user_id":1452460,"display_name":"tam.teixeira"},"score":0,"creation_date":1684828705,"post_id":40743987,"comment_id":134570171,"body_markdown":"Worked for me in ubuntu, using java 11 installed with sdkman","body":"Worked for me in ubuntu, using java 11 installed with sdkman"},{"owner":{"account_id":1068338,"reputation":580,"user_id":1068246,"accept_rate":100,"display_name":"Muzaffer Galata"},"score":0,"creation_date":1686218542,"post_id":40743987,"comment_id":134770169,"body_markdown":"@FlipNovid password is &quot;changeit&quot; It is too late I know, but anyone else may need that.","body":"@FlipNovid password is &quot;changeit&quot; It is too late I know, but anyone else may need that."}],"tags":[],"owner":{"account_id":236595,"reputation":6900,"user_id":504184,"accept_rate":56,"display_name":"Mike Mitterer"},"comment_count":9,"down_vote_count":1,"up_vote_count":108,"is_accepted":false,"score":107,"last_activity_date":1580269207,"creation_date":1479823583,"answer_id":40743987,"question_id":21076179,"body_markdown":"MY UI approach:\r\n\r\n 1. Download keystore explorer from [here][1] \r\n 2. Open $JAVA_HOME/jre/lib/security/cacerts\r\n 3. enter PW: changeit (Can be changeme on Mac)\r\n 4. Import your .crt file\r\n\r\nCMD-Line:\r\n\r\n  1. `keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts`\r\n  2. enter PW: `changeit` (Can be changeme on Mac)\r\n\r\n\r\n  [1]: https://keystore-explorer.org/","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>MY UI approach:</p>\n\n<ol>\n<li>Download keystore explorer from <a href=\"https://keystore-explorer.org/\" rel=\"noreferrer\">here</a> </li>\n<li>Open $JAVA_HOME/jre/lib/security/cacerts</li>\n<li>enter PW: changeit (Can be changeme on Mac)</li>\n<li>Import your .crt file</li>\n</ol>\n\n<p>CMD-Line:</p>\n\n<ol>\n<li><code>keytool -importcert -file jetty.crt -alias jetty -keystore $JAVA_HOME/jre/lib/security/cacerts</code></li>\n<li>enter PW: <code>changeit</code> (Can be changeme on Mac)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1490950047,"post_id":41259084,"comment_id":73349871,"body_markdown":"I directly imported certs I needed into the JRE/lib/security/cacerts using keytool, but it changed nothing for me :( still getting the same error, I also added them via the IDE, or even into the classpath and added a Bean to specify the keystore location !! It&#39;s crazy AF !","body":"I directly imported certs I needed into the JRE/lib/security/cacerts using keytool, but it changed nothing for me :( still getting the same error, I also added them via the IDE, or even into the classpath and added a Bean to specify the keystore location !! It&#39;s crazy AF !"}],"tags":[],"owner":{"account_id":9880348,"reputation":1704,"user_id":7316656,"display_name":"M. F."},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1482311953,"creation_date":1482311953,"answer_id":41259084,"question_id":21076179,"body_markdown":"I had a slightly different situation, when both JDK and JRE 1.8.0_112 were present on my system. \r\n\r\nI imported the new CA certificates into `[JDK_FOLDER]\\jre\\lib\\security\\cacerts` using the already known command:\r\n\r\n    keytool -import -trustcacerts -keystore cacerts -alias &lt;new_ca_alias&gt; -file &lt;path_to_ca_cert_file&gt;\r\n\r\nStill, I kept getting the same *PKIX path building failed* error. \r\n\r\nI added debug information to the java CLI, by using `java -Djavax.net.debug=all ... &gt; debug.log`. In the debug.log file, the line that begins with *trustStore is:* actually pointed to the cacerts store found in `[JRE_FOLDER]\\lib\\security\\cacerts`. \r\n\r\nIn my case the solution was to copy the cacerts file used by JDK (which had the new CAs added) over the one used by the JRE and that fixed the issue. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I had a slightly different situation, when both JDK and JRE 1.8.0_112 were present on my system. </p>\n\n<p>I imported the new CA certificates into <code>[JDK_FOLDER]\\jre\\lib\\security\\cacerts</code> using the already known command:</p>\n\n<pre><code>keytool -import -trustcacerts -keystore cacerts -alias &lt;new_ca_alias&gt; -file &lt;path_to_ca_cert_file&gt;\n</code></pre>\n\n<p>Still, I kept getting the same <em>PKIX path building failed</em> error. </p>\n\n<p>I added debug information to the java CLI, by using <code>java -Djavax.net.debug=all ... &gt; debug.log</code>. In the debug.log file, the line that begins with <em>trustStore is:</em> actually pointed to the cacerts store found in <code>[JRE_FOLDER]\\lib\\security\\cacerts</code>. </p>\n\n<p>In my case the solution was to copy the cacerts file used by JDK (which had the new CAs added) over the one used by the JRE and that fixed the issue. </p>\n"},{"comments":[{"owner":{"account_id":5116366,"reputation":561,"user_id":4101334,"display_name":"metatron"},"score":2,"creation_date":1619470644,"post_id":41799444,"comment_id":118911316,"body_markdown":"If you are getting &quot;Input not an X.509 certificate&quot; error message during certificate import, make sure you copied BEGIN CERTIFICATE and END CERTIFICATE text also.","body":"If you are getting &quot;Input not an X.509 certificate&quot; error message during certificate import, make sure you copied BEGIN CERTIFICATE and END CERTIFICATE text also."},{"owner":{"account_id":8229310,"reputation":619,"user_id":6190527,"display_name":"Christophe"},"score":1,"creation_date":1631622449,"post_id":41799444,"comment_id":122267648,"body_markdown":"Password is changeit with an n (or changeme on mac)","body":"Password is changeit with an n (or changeme on mac)"}],"tags":[],"owner":{"account_id":5004580,"reputation":311,"user_id":4022604,"display_name":"Sneha Shejwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1652273140,"creation_date":1485147184,"answer_id":41799444,"question_id":21076179,"body_markdown":"I wanted to import certificate for `smtp.gmail.com`. The only solution that worked for me is\r\n\r\n1. Enter command to view this certificate\r\n\r\n       D:\\openssl\\bin\\openssl.exe s_client -connect smtp.gmail.com:465\r\n\r\n2. Copy and save the lines between `-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----` into a file, `gmail.cer`\r\n\r\n3. Run\r\n\r\n       keytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file C:\\Users\\Admin\\Desktop\\gmail.cer\r\n\r\n4. Enter password: `changeit`\r\n5. Click &quot;Yes&quot; to import the certificate \r\n6. Restart Java\r\n\r\nNow run the command and you are good to go.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I wanted to import certificate for <code>smtp.gmail.com</code>. The only solution that worked for me is</p>\n<ol>\n<li><p>Enter command to view this certificate</p>\n<pre><code>D:\\openssl\\bin\\openssl.exe s_client -connect smtp.gmail.com:465\n</code></pre>\n</li>\n<li><p>Copy and save the lines between <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code> into a file, <code>gmail.cer</code></p>\n</li>\n<li><p>Run</p>\n<pre><code>keytool -import -alias smtp.gmail.com -keystore &quot;%JAVA_HOME%/jre/lib/security/cacerts&quot; -file C:\\Users\\Admin\\Desktop\\gmail.cer\n</code></pre>\n</li>\n<li><p>Enter password: <code>changeit</code></p>\n</li>\n<li><p>Click &quot;Yes&quot; to import the certificate</p>\n</li>\n<li><p>Restart Java</p>\n</li>\n</ol>\n<p>Now run the command and you are good to go.</p>\n"},{"comments":[{"owner":{"account_id":1994358,"reputation":2196,"user_id":1787607,"display_name":"Done Data Solutions"},"score":3,"creation_date":1493675860,"post_id":43726527,"comment_id":74497979,"body_markdown":"Are you sure you are answering the right question? There is no mentioning of cucumber in the original question ...","body":"Are you sure you are answering the right question? There is no mentioning of cucumber in the original question ..."},{"owner":{"account_id":4578755,"reputation":81,"user_id":3716485,"display_name":"royfripple"},"score":1,"creation_date":1493781819,"post_id":43726527,"comment_id":74543407,"body_markdown":"I feel that I am.  I received the same SunCertPathBuilderException error and while searching for a resolution, found this question as well as [this one](http://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore).  However, neither of them had appropriate solution for my situation.\n\nI wasn&#39;t trying to answer the specific question of how to add the Cucumber-Eclipse plugin site to eclipse.  I wanted to provide context for the issue I faced (URL redirection) and explain how it was resolved.","body":"I feel that I am.  I received the same SunCertPathBuilderException error and while searching for a resolution, found this question as well as <a href=\"http://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">this one</a>.  However, neither of them had appropriate solution for my situation.  I wasn&#39;t trying to answer the specific question of how to add the Cucumber-Eclipse plugin site to eclipse.  I wanted to provide context for the issue I faced (URL redirection) and explain how it was resolved."},{"owner":{"account_id":4578755,"reputation":81,"user_id":3716485,"display_name":"royfripple"},"score":1,"creation_date":1493782649,"post_id":43726527,"comment_id":74543610,"body_markdown":"I&#39;ve updated my answer to make it clear that I received the same error, noting that the underlying issue and solution were different.  I feel this is valid since others may find this question when searching on the same error.  Please consider changing your vote if you feel this makes sense.","body":"I&#39;ve updated my answer to make it clear that I received the same error, noting that the underlying issue and solution were different.  I feel this is valid since others may find this question when searching on the same error.  Please consider changing your vote if you feel this makes sense."},{"owner":{"account_id":1994358,"reputation":2196,"user_id":1787607,"display_name":"Done Data Solutions"},"score":0,"creation_date":1493797452,"post_id":43726527,"comment_id":74549589,"body_markdown":"Thank you. Makes things much clearer, reversed my downvote","body":"Thank you. Makes things much clearer, reversed my downvote"},{"owner":{"account_id":4578755,"reputation":81,"user_id":3716485,"display_name":"royfripple"},"score":0,"creation_date":1494045353,"post_id":43726527,"comment_id":74672450,"body_markdown":"You&#39;re welcome! And thanks for taking the time to review it again.","body":"You&#39;re welcome! And thanks for taking the time to review it again."}],"tags":[],"owner":{"account_id":4578755,"reputation":81,"user_id":3716485,"display_name":"royfripple"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493782579,"creation_date":1493672836,"answer_id":43726527,"question_id":21076179,"body_markdown":"I came across this question while trying to install the Cucumber-Eclipse plugin in Eclipse via their update site.  I received the same SunCertPathBuilderException error:\r\n\r\n    Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\r\n        Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\r\n        sun.security.validator.ValidatorException: PKIX path building failed: \r\n       sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nWhile some of the other answers are appropriate and helpful for this question&#39;s given situation, they were nevertheless unhelpful and misleading for my issue. \r\n\r\nIn my case, the issue was that the URL provided for their update site is:\r\n\r\n&gt; https://cucumber.io/cucumber-eclipse/update-site\r\n\r\nHowever when navigating to it via a browser, it redirected to (note the added &quot;**.github**&quot;):\r\n\r\n&gt; http://cucumber.github.io/cucumber-eclipse/update-site/\r\n\r\n\r\nSo the resolution is to simply use the redirected version of the update site URL when adding the update site in eclipse.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I came across this question while trying to install the Cucumber-Eclipse plugin in Eclipse via their update site.  I received the same SunCertPathBuilderException error:</p>\n\n<pre><code>Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\n    Unable to read repository at http://cucumber.io/cucumber-eclipse/update-site/content.xml.\n    sun.security.validator.ValidatorException: PKIX path building failed: \n   sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>While some of the other answers are appropriate and helpful for this question's given situation, they were nevertheless unhelpful and misleading for my issue. </p>\n\n<p>In my case, the issue was that the URL provided for their update site is:</p>\n\n<blockquote>\n  <p><a href=\"https://cucumber.io/cucumber-eclipse/update-site\" rel=\"nofollow noreferrer\">https://cucumber.io/cucumber-eclipse/update-site</a></p>\n</blockquote>\n\n<p>However when navigating to it via a browser, it redirected to (note the added \"<strong>.github</strong>\"):</p>\n\n<blockquote>\n  <p><a href=\"http://cucumber.github.io/cucumber-eclipse/update-site/\" rel=\"nofollow noreferrer\">http://cucumber.github.io/cucumber-eclipse/update-site/</a></p>\n</blockquote>\n\n<p>So the resolution is to simply use the redirected version of the update site URL when adding the update site in eclipse.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1530070268,"post_id":45100780,"comment_id":89099109,"body_markdown":"The missing explanation here is that Java will use `jssecacerts` if present, otherwise `cacerts`.","body":"The missing explanation here is that Java will use <code>jssecacerts</code> if present, otherwise <code>cacerts</code>."}],"tags":[],"owner":{"account_id":8755685,"reputation":125,"user_id":6547358,"display_name":"alk453"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500028311,"creation_date":1500028311,"answer_id":45100780,"question_id":21076179,"body_markdown":"Adding `cacerts` did not work for me.\r\nAfter enabling log with flag `-Djavax.net.debug=all`, then came to know java reading from `jssecacerts`.\r\n\r\nImport to `jssecacerts` worked finally.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Adding <code>cacerts</code> did not work for me.\nAfter enabling log with flag <code>-Djavax.net.debug=all</code>, then came to know java reading from <code>jssecacerts</code>.</p>\n\n<p>Import to <code>jssecacerts</code> worked finally.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1530070326,"post_id":45860983,"comment_id":89099120,"body_markdown":"This double misuse of `available()` is specifically warned against in its own Javadoc.","body":"This double misuse of <code>available()</code> is specifically warned against in its own Javadoc."}],"tags":[],"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503575760,"creation_date":1503575760,"answer_id":45860983,"question_id":21076179,"body_markdown":"goals:\r\n\r\n1. use https connections\r\n2. verify SSL chains\r\n3. do not deal with cacerts\r\n4. add certificate in runtime\r\n5. do not lose certificates from cacerts\r\n\r\nHow to do it:\r\n\r\n1. define own keystore\r\n2. put certificate into keystore\r\n3. redefine SSL default context with our custom class\r\n4. ???\r\n5. profit\r\n\r\nMy Keystore wrapper file:\r\n\r\n       \r\n    public class CertificateManager {\r\n    \r\n        private final static Logger logger = Logger.getLogger(CertificateManager.class);\r\n    \r\n        private String keyStoreLocation;\r\n        private String keyStorePassword;\r\n        private X509TrustManager myTrustManager;\r\n        private static KeyStore myTrustStore;\r\n    \r\n        public CertificateManager(String keyStoreLocation, String keyStorePassword) throws Exception {\r\n            this.keyStoreLocation = keyStoreLocation;\r\n            this.keyStorePassword = keyStorePassword;\r\n            myTrustStore = createKeyStore(keyStoreLocation, keyStorePassword);\r\n        }\r\n    \r\n        public void addCustomCertificate(String certFileName, String certificateAlias)\r\n                throws Exception {\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init((KeyStore) null);\r\n            Certificate certificate = myTrustStore.getCertificate(certificateAlias);\r\n            if (certificate == null) {\r\n                logger.info(&quot;Certificate not exists&quot;);\r\n                addCertificate(certFileName, certificateAlias);\r\n            } else {\r\n                logger.info(&quot;Certificate exists&quot;);\r\n            }\r\n            tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(myTrustStore);\r\n            for (TrustManager tm : tmf.getTrustManagers()) {\r\n                if (tm instanceof X509TrustManager) {\r\n                    setMytrustManager((X509TrustManager) tm);\r\n                    logger.info(&quot;Trust manager found&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private InputStream fullStream(String fname) throws IOException {\r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n            InputStream resource = classLoader.getResourceAsStream(fname);\r\n            try {\r\n                if (resource != null) {\r\n                    DataInputStream dis = new DataInputStream(resource);\r\n                    byte[] bytes = new byte[dis.available()];\r\n                    dis.readFully(bytes);\r\n                    return new ByteArrayInputStream(bytes);\r\n                } else {\r\n                    logger.info(&quot;resource not found&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;exception in certificate fetching as resource&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static KeyStore createKeyStore(String keystore, String pass) throws Exception {\r\n            try {\r\n                InputStream in = CertificateManager.class.getClass().getResourceAsStream(keystore);\r\n                KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                keyStore.load(in, pass.toCharArray());\r\n                logger.info(&quot;Keystore was created from resource file&quot;);\r\n                return keyStore;\r\n            } catch (Exception e) {\r\n                logger.info(&quot;Fail to create keystore from resource file&quot;);\r\n            }\r\n    \r\n            File file = new File(keystore);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            if (file.exists()) {\r\n                keyStore.load(new FileInputStream(file), pass.toCharArray());\r\n                logger.info(&quot;Default keystore loaded&quot;);\r\n            } else {\r\n                keyStore.load(null, null);\r\n                keyStore.store(new FileOutputStream(file), pass.toCharArray());\r\n                logger.info(&quot;New keystore created&quot;);\r\n            }\r\n            return keyStore;\r\n        }\r\n    \r\n        private void addCertificate(String certFileName, String certificateAlias) throws CertificateException,\r\n                IOException, KeyStoreException, NoSuchAlgorithmException {\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            InputStream certStream = fullStream(certFileName);\r\n            Certificate certs = cf.generateCertificate(certStream);\r\n            myTrustStore.setCertificateEntry(certificateAlias, certs);\r\n            FileOutputStream out = new FileOutputStream(getKeyStoreLocation());\r\n            myTrustStore.store(out, getKeyStorePassword().toCharArray());\r\n            out.close();\r\n            logger.info(&quot;Certificate pushed&quot;);\r\n        }\r\n    \r\n        public String getKeyStoreLocation() {\r\n            return keyStoreLocation;\r\n        }\r\n    \r\n        public String getKeyStorePassword() {\r\n            return keyStorePassword;\r\n        }\r\n        public X509TrustManager getMytrustManager() {\r\n            return myTrustManager;\r\n        }\r\n        public void setMytrustManager(X509TrustManager myTrustManager) {\r\n            this.myTrustManager = myTrustManager;\r\n        }\r\n    }\r\n\r\nThis class will create keystore if necessary, and will be able to manage certificates inside of it. Now class for SSL context:\r\n\r\n   \r\n\r\n     \r\n    public class CustomTrustManager implements X509TrustManager {\r\n    \r\n        private final static Logger logger = Logger.getLogger(CertificateManager.class);\r\n    \r\n        private static SSLSocketFactory socketFactory;\r\n        private static CustomTrustManager instance = new CustomTrustManager();\r\n        private static List&lt;CertificateManager&gt; register = new ArrayList&lt;&gt;();\r\n    \r\n        public static CustomTrustManager getInstance() {\r\n            return instance;\r\n        }\r\n    \r\n        private X509TrustManager defaultTm;\r\n    \r\n        public void register(CertificateManager certificateManager) {\r\n            for(CertificateManager manager : register) {\r\n                if(manager == certificateManager) {\r\n                    logger.info(&quot;Certificate manager already registered&quot;);\r\n                    return;\r\n                }\r\n            }\r\n            register.add(certificateManager);\r\n            logger.info(&quot;New Certificate manager registered&quot;);\r\n        }\r\n    \r\n        private CustomTrustManager() {\r\n            try {\r\n                String algorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\r\n    \r\n                tmf.init((KeyStore) null);\r\n                boolean found = false;\r\n                for (TrustManager tm : tmf.getTrustManagers()) {\r\n                    if (tm instanceof X509TrustManager) {\r\n                        defaultTm = (X509TrustManager) tm;\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(found) {\r\n                    logger.info(&quot;Default trust manager found&quot;);\r\n                } else {\r\n                    logger.warn(&quot;Default trust manager was not found&quot;);\r\n                }\r\n    \r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, new TrustManager[]{this}, null);\r\n                SSLContext.setDefault(sslContext);\r\n                socketFactory = sslContext.getSocketFactory();\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(socketFactory);\r\n    \r\n    \r\n                logger.info(&quot;Custom trust manager was set&quot;);\r\n            } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\r\n                logger.warn(&quot;Custom trust manager can&#39;t be set&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            List&lt;X509Certificate&gt; out = new ArrayList&lt;&gt;();\r\n            if (defaultTm != null) {\r\n                out.addAll(Arrays.asList(defaultTm.getAcceptedIssuers()));\r\n            }\r\n            int defaultCount = out.size();\r\n            logger.info(&quot;Default trust manager contain &quot; + defaultCount + &quot; certficates&quot;);\r\n            for(CertificateManager manager : register) {\r\n                X509TrustManager customTrustManager = manager.getMytrustManager();\r\n                X509Certificate[] issuers = customTrustManager.getAcceptedIssuers();\r\n                out.addAll(Arrays.asList(issuers));\r\n            }\r\n            logger.info(&quot;Custom trust managers contain &quot; + (out.size() - defaultCount) + &quot; certficates&quot;);\r\n            X509Certificate[] arrayOut = new X509Certificate[out.size()];\r\n            return out.toArray(arrayOut);\r\n        }\r\n    \r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] chain,\r\n                                       String authType) throws CertificateException {\r\n            for(CertificateManager certificateManager : register) {\r\n                X509TrustManager customTrustManager = certificateManager.getMytrustManager();\r\n                try {\r\n                    customTrustManager.checkServerTrusted(chain, authType);\r\n                    logger.info(&quot;Certificate chain (server) was aproved by custom trust manager&quot;);\r\n                    return;\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n            if (defaultTm != null) {\r\n                defaultTm.checkServerTrusted(chain, authType);\r\n                logger.info(&quot;Certificate chain (server) was aproved by default trust manager&quot;);\r\n            } else {\r\n                logger.info(&quot;Certificate chain (server) was rejected&quot;);\r\n                throw new CertificateException(&quot;Can&#39;t check server trusted certificate.&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] chain,\r\n                                       String authType) throws CertificateException {\r\n            try {\r\n                if (defaultTm != null) {\r\n                    defaultTm.checkClientTrusted(chain, authType);\r\n                    logger.info(&quot;Certificate chain (client) was aproved by default trust manager&quot;);\r\n                } else {\r\n                    throw new NullPointerException();\r\n                }\r\n            } catch (Exception e) {\r\n                for(CertificateManager certificateManager : register) {\r\n                    X509TrustManager customTrustManager = certificateManager.getMytrustManager();\r\n                    try {\r\n                        customTrustManager.checkClientTrusted(chain, authType);\r\n                        logger.info(&quot;Certificate chain (client) was aproved by custom trust manager&quot;);\r\n                        return;\r\n                    } catch (Exception e1) {\r\n                    }\r\n                }\r\n                logger.info(&quot;Certificate chain (client) was rejected&quot;);\r\n                throw new CertificateException(&quot;Can&#39;t check client trusted certificate.&quot;);\r\n            }\r\n        }\r\n    \r\n        public SSLSocketFactory getSocketFactory() {\r\n            return socketFactory;\r\n        }\r\n    }\r\n\r\nThis class made as singleton, because only one defaultSSL context allowed. So, now usage:\r\n     \r\n\r\n        \r\n                CertificateManager certificateManager = new CertificateManager(&quot;C:\\\\myapplication\\\\mykeystore.jks&quot;, &quot;changeit&quot;);\r\n                String certificatePath = &quot;C:\\\\myapplication\\\\public_key_for_your_ssl_service.crt&quot;;\r\n                try {\r\n                    certificateManager.addCustomCertificate(certificatePath, &quot;alias_for_public_key_for_your_ssl_service&quot;);\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Can&#39;t add custom certificate&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n                CustomTrustManager.getInstance().register(certificateManager);\r\n\r\n\r\nPossibly, it will not work with this settings, because I keep certificate file inside of resource folder, so my path is not absolute. But generally, it work perfectly.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>goals:</p>\n\n<ol>\n<li>use https connections</li>\n<li>verify SSL chains</li>\n<li>do not deal with cacerts</li>\n<li>add certificate in runtime</li>\n<li>do not lose certificates from cacerts</li>\n</ol>\n\n<p>How to do it:</p>\n\n<ol>\n<li>define own keystore</li>\n<li>put certificate into keystore</li>\n<li>redefine SSL default context with our custom class</li>\n<li>???</li>\n<li>profit</li>\n</ol>\n\n<p>My Keystore wrapper file:</p>\n\n<pre><code>public class CertificateManager {\n\n    private final static Logger logger = Logger.getLogger(CertificateManager.class);\n\n    private String keyStoreLocation;\n    private String keyStorePassword;\n    private X509TrustManager myTrustManager;\n    private static KeyStore myTrustStore;\n\n    public CertificateManager(String keyStoreLocation, String keyStorePassword) throws Exception {\n        this.keyStoreLocation = keyStoreLocation;\n        this.keyStorePassword = keyStorePassword;\n        myTrustStore = createKeyStore(keyStoreLocation, keyStorePassword);\n    }\n\n    public void addCustomCertificate(String certFileName, String certificateAlias)\n            throws Exception {\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init((KeyStore) null);\n        Certificate certificate = myTrustStore.getCertificate(certificateAlias);\n        if (certificate == null) {\n            logger.info(\"Certificate not exists\");\n            addCertificate(certFileName, certificateAlias);\n        } else {\n            logger.info(\"Certificate exists\");\n        }\n        tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(myTrustStore);\n        for (TrustManager tm : tmf.getTrustManagers()) {\n            if (tm instanceof X509TrustManager) {\n                setMytrustManager((X509TrustManager) tm);\n                logger.info(\"Trust manager found\");\n                break;\n            }\n        }\n    }\n\n    private InputStream fullStream(String fname) throws IOException {\n        ClassLoader classLoader = getClass().getClassLoader();\n        InputStream resource = classLoader.getResourceAsStream(fname);\n        try {\n            if (resource != null) {\n                DataInputStream dis = new DataInputStream(resource);\n                byte[] bytes = new byte[dis.available()];\n                dis.readFully(bytes);\n                return new ByteArrayInputStream(bytes);\n            } else {\n                logger.info(\"resource not found\");\n            }\n        } catch (Exception e) {\n            logger.error(\"exception in certificate fetching as resource\", e);\n        }\n        return null;\n    }\n\n    public static KeyStore createKeyStore(String keystore, String pass) throws Exception {\n        try {\n            InputStream in = CertificateManager.class.getClass().getResourceAsStream(keystore);\n            KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keyStore.load(in, pass.toCharArray());\n            logger.info(\"Keystore was created from resource file\");\n            return keyStore;\n        } catch (Exception e) {\n            logger.info(\"Fail to create keystore from resource file\");\n        }\n\n        File file = new File(keystore);\n        KeyStore keyStore = KeyStore.getInstance(\"JKS\");\n        if (file.exists()) {\n            keyStore.load(new FileInputStream(file), pass.toCharArray());\n            logger.info(\"Default keystore loaded\");\n        } else {\n            keyStore.load(null, null);\n            keyStore.store(new FileOutputStream(file), pass.toCharArray());\n            logger.info(\"New keystore created\");\n        }\n        return keyStore;\n    }\n\n    private void addCertificate(String certFileName, String certificateAlias) throws CertificateException,\n            IOException, KeyStoreException, NoSuchAlgorithmException {\n        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n        InputStream certStream = fullStream(certFileName);\n        Certificate certs = cf.generateCertificate(certStream);\n        myTrustStore.setCertificateEntry(certificateAlias, certs);\n        FileOutputStream out = new FileOutputStream(getKeyStoreLocation());\n        myTrustStore.store(out, getKeyStorePassword().toCharArray());\n        out.close();\n        logger.info(\"Certificate pushed\");\n    }\n\n    public String getKeyStoreLocation() {\n        return keyStoreLocation;\n    }\n\n    public String getKeyStorePassword() {\n        return keyStorePassword;\n    }\n    public X509TrustManager getMytrustManager() {\n        return myTrustManager;\n    }\n    public void setMytrustManager(X509TrustManager myTrustManager) {\n        this.myTrustManager = myTrustManager;\n    }\n}\n</code></pre>\n\n<p>This class will create keystore if necessary, and will be able to manage certificates inside of it. Now class for SSL context:</p>\n\n<pre><code>public class CustomTrustManager implements X509TrustManager {\n\n    private final static Logger logger = Logger.getLogger(CertificateManager.class);\n\n    private static SSLSocketFactory socketFactory;\n    private static CustomTrustManager instance = new CustomTrustManager();\n    private static List&lt;CertificateManager&gt; register = new ArrayList&lt;&gt;();\n\n    public static CustomTrustManager getInstance() {\n        return instance;\n    }\n\n    private X509TrustManager defaultTm;\n\n    public void register(CertificateManager certificateManager) {\n        for(CertificateManager manager : register) {\n            if(manager == certificateManager) {\n                logger.info(\"Certificate manager already registered\");\n                return;\n            }\n        }\n        register.add(certificateManager);\n        logger.info(\"New Certificate manager registered\");\n    }\n\n    private CustomTrustManager() {\n        try {\n            String algorithm = TrustManagerFactory.getDefaultAlgorithm();\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(algorithm);\n\n            tmf.init((KeyStore) null);\n            boolean found = false;\n            for (TrustManager tm : tmf.getTrustManagers()) {\n                if (tm instanceof X509TrustManager) {\n                    defaultTm = (X509TrustManager) tm;\n                    found = true;\n                    break;\n                }\n            }\n            if(found) {\n                logger.info(\"Default trust manager found\");\n            } else {\n                logger.warn(\"Default trust manager was not found\");\n            }\n\n            SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n            sslContext.init(null, new TrustManager[]{this}, null);\n            SSLContext.setDefault(sslContext);\n            socketFactory = sslContext.getSocketFactory();\n            HttpsURLConnection.setDefaultSSLSocketFactory(socketFactory);\n\n\n            logger.info(\"Custom trust manager was set\");\n        } catch (NoSuchAlgorithmException | KeyManagementException | KeyStoreException e) {\n            logger.warn(\"Custom trust manager can't be set\");\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        List&lt;X509Certificate&gt; out = new ArrayList&lt;&gt;();\n        if (defaultTm != null) {\n            out.addAll(Arrays.asList(defaultTm.getAcceptedIssuers()));\n        }\n        int defaultCount = out.size();\n        logger.info(\"Default trust manager contain \" + defaultCount + \" certficates\");\n        for(CertificateManager manager : register) {\n            X509TrustManager customTrustManager = manager.getMytrustManager();\n            X509Certificate[] issuers = customTrustManager.getAcceptedIssuers();\n            out.addAll(Arrays.asList(issuers));\n        }\n        logger.info(\"Custom trust managers contain \" + (out.size() - defaultCount) + \" certficates\");\n        X509Certificate[] arrayOut = new X509Certificate[out.size()];\n        return out.toArray(arrayOut);\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] chain,\n                                   String authType) throws CertificateException {\n        for(CertificateManager certificateManager : register) {\n            X509TrustManager customTrustManager = certificateManager.getMytrustManager();\n            try {\n                customTrustManager.checkServerTrusted(chain, authType);\n                logger.info(\"Certificate chain (server) was aproved by custom trust manager\");\n                return;\n            } catch (Exception e) {\n            }\n        }\n        if (defaultTm != null) {\n            defaultTm.checkServerTrusted(chain, authType);\n            logger.info(\"Certificate chain (server) was aproved by default trust manager\");\n        } else {\n            logger.info(\"Certificate chain (server) was rejected\");\n            throw new CertificateException(\"Can't check server trusted certificate.\");\n        }\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] chain,\n                                   String authType) throws CertificateException {\n        try {\n            if (defaultTm != null) {\n                defaultTm.checkClientTrusted(chain, authType);\n                logger.info(\"Certificate chain (client) was aproved by default trust manager\");\n            } else {\n                throw new NullPointerException();\n            }\n        } catch (Exception e) {\n            for(CertificateManager certificateManager : register) {\n                X509TrustManager customTrustManager = certificateManager.getMytrustManager();\n                try {\n                    customTrustManager.checkClientTrusted(chain, authType);\n                    logger.info(\"Certificate chain (client) was aproved by custom trust manager\");\n                    return;\n                } catch (Exception e1) {\n                }\n            }\n            logger.info(\"Certificate chain (client) was rejected\");\n            throw new CertificateException(\"Can't check client trusted certificate.\");\n        }\n    }\n\n    public SSLSocketFactory getSocketFactory() {\n        return socketFactory;\n    }\n}\n</code></pre>\n\n<p>This class made as singleton, because only one defaultSSL context allowed. So, now usage:</p>\n\n<pre><code>            CertificateManager certificateManager = new CertificateManager(\"C:\\\\myapplication\\\\mykeystore.jks\", \"changeit\");\n            String certificatePath = \"C:\\\\myapplication\\\\public_key_for_your_ssl_service.crt\";\n            try {\n                certificateManager.addCustomCertificate(certificatePath, \"alias_for_public_key_for_your_ssl_service\");\n            } catch (Exception e) {\n                log.error(\"Can't add custom certificate\");\n                e.printStackTrace();\n            }\n            CustomTrustManager.getInstance().register(certificateManager);\n</code></pre>\n\n<p>Possibly, it will not work with this settings, because I keep certificate file inside of resource folder, so my path is not absolute. But generally, it work perfectly.</p>\n"},{"comments":[{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":6,"creation_date":1584958205,"post_id":46195965,"comment_id":107590993,"body_markdown":"With how well-elaborated this is, it should be the accepted answer.","body":"With how well-elaborated this is, it should be the accepted answer."},{"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"score":0,"creation_date":1593578113,"post_id":46195965,"comment_id":110826778,"body_markdown":"Should be `keytool -list -trustcacerts -keystore &quot;$JAVA_HOME/jre/lib/security/cacerts&quot; -storepass changeit` on Mac","body":"Should be <code>keytool -list -trustcacerts -keystore &quot;$JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts&quot; -storepass changeit</code> on Mac"},{"owner":{"account_id":42927,"reputation":1704,"user_id":125246,"display_name":"paulcm"},"score":0,"creation_date":1599748298,"post_id":46195965,"comment_id":112875436,"body_markdown":"I was trying to access a site with a LetsEncrypt-generated certificate, and upgrading to a Java version &gt;= 8u101 fixed the issue - https://letsencrypt.org/docs/certificate-compatibility/","body":"I was trying to access a site with a LetsEncrypt-generated certificate, and upgrading to a Java version &gt;= 8u101 fixed the issue - <a href=\"https://letsencrypt.org/docs/certificate-compatibility/\" rel=\"nofollow noreferrer\">letsencrypt.org/docs/certificate-compatibility</a>"}],"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"comment_count":3,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1562057205,"creation_date":1505301026,"answer_id":46195965,"question_id":21076179,"body_markdown":"1. Check the certificate\r\n---------------------------------------------------------------\r\n\r\nTry to load the target URL in browser and view the site&#39;s certificate (usually it&#39;s accessible by the icon with the lock sign. It&#39;s on the left or right side of the browser&#39;s address bar) whether it&#39;s expired or untrusted by other reason.\r\n\r\n2. Install latest versions of JRE and JDK\r\n-----------------------------------------\r\nNew versions usually come with the updated set of the trusted certificates.\r\n\r\nAlso if it&#39;s possible, uninstall old versions. This will make misconfiguration errors explicit.\r\n\r\n3. Check your configuration:\r\n---------------------------------------\r\n\r\n* Check where your JAVA_HOME environment variable points to.\r\n* Check which java version you use to run the program. In IntelliJ check:\r\n   * File -&gt; Project Structure... -&gt; Project Settings -&gt; Project -&gt; Project SDK:\r\n   * File -&gt; Project Structure... -&gt; Platform Settings -&gt; SDKs\r\n\r\n4. Copy whole keystore from the new Java version\r\n---------------------------------------------------\r\n\r\nIf you develop under the JDK other than the latest available - try to replace the `%JAVA_HOME%/jre/lib/security/cacerts` file with the new one from the latest installed JRE (make a backup copy first) as @jeremy-goodell suggests in his [answer][1]\r\n\r\n5. Add certificate(s) to your keystore\r\n------------------------------------------\r\n\r\nIf nothing above solves your problem use `keytool` to save certificate(s) to the Java&#39;s keystore:\r\n\r\n    keytool -trustcacerts -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit -importcert -alias &lt;alias_name&gt; -file &lt;path_to_crt_file&gt;\r\n\r\nFile with the certificate can be obtained from the browser as @MagGGG suggests in his [answer][2].\r\n\r\nNote 1: you may need to repeat this for every certificate in the chain to you site&#39;s certificate. Start from the root one.\r\n\r\nNote 2: `&lt;alias_name&gt;` should be unique among the keys in the store or `keytool` will show an error.\r\n\r\nTo get list of all the certificates in the store you may run:\r\n\r\n    keytool -list -trustcacerts -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit\r\n\r\nIn case something goes wrong this will help you to remove certificate from the store:\r\n\r\n    keytool -delete -alias &lt;alias_name&gt; -keystore &quot;%JAVA_HOME%jre\\lib\\security\\cacerts&quot; -storepass changeit\r\n\r\n  [1]: https://stackoverflow.com/a/21507568/355438\r\n  [2]: https://stackoverflow.com/a/36427118/355438","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>1. Check the certificate</h2>\n\n<p>Try to load the target URL in browser and view the site's certificate (usually it's accessible by the icon with the lock sign. It's on the left or right side of the browser's address bar) whether it's expired or untrusted by other reason.</p>\n\n<h2>2. Install latest versions of JRE and JDK</h2>\n\n<p>New versions usually come with the updated set of the trusted certificates.</p>\n\n<p>Also if it's possible, uninstall old versions. This will make misconfiguration errors explicit.</p>\n\n<h2>3. Check your configuration:</h2>\n\n<ul>\n<li>Check where your JAVA_HOME environment variable points to.</li>\n<li>Check which java version you use to run the program. In IntelliJ check:\n\n<ul>\n<li>File -> Project Structure... -> Project Settings -> Project -> Project SDK:</li>\n<li>File -> Project Structure... -> Platform Settings -> SDKs</li>\n</ul></li>\n</ul>\n\n<h2>4. Copy whole keystore from the new Java version</h2>\n\n<p>If you develop under the JDK other than the latest available - try to replace the <code>%JAVA_HOME%/jre/lib/security/cacerts</code> file with the new one from the latest installed JRE (make a backup copy first) as @jeremy-goodell suggests in his <a href=\"https://stackoverflow.com/a/21507568/355438\">answer</a></p>\n\n<h2>5. Add certificate(s) to your keystore</h2>\n\n<p>If nothing above solves your problem use <code>keytool</code> to save certificate(s) to the Java's keystore:</p>\n\n<pre><code>keytool -trustcacerts -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit -importcert -alias &lt;alias_name&gt; -file &lt;path_to_crt_file&gt;\n</code></pre>\n\n<p>File with the certificate can be obtained from the browser as @MagGGG suggests in his <a href=\"https://stackoverflow.com/a/36427118/355438\">answer</a>.</p>\n\n<p>Note 1: you may need to repeat this for every certificate in the chain to you site's certificate. Start from the root one.</p>\n\n<p>Note 2: <code>&lt;alias_name&gt;</code> should be unique among the keys in the store or <code>keytool</code> will show an error.</p>\n\n<p>To get list of all the certificates in the store you may run:</p>\n\n<pre><code>keytool -list -trustcacerts -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit\n</code></pre>\n\n<p>In case something goes wrong this will help you to remove certificate from the store:</p>\n\n<pre><code>keytool -delete -alias &lt;alias_name&gt; -keystore \"%JAVA_HOME%jre\\lib\\security\\cacerts\" -storepass changeit\n</code></pre>\n"},{"comments":[{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1608288436,"post_id":47141367,"comment_id":115543285,"body_markdown":"Link is broken.However it does work for me.","body":"Link is broken.However it does work for me."}],"tags":[],"owner":{"account_id":321896,"reputation":963,"user_id":641001,"accept_rate":0,"display_name":"Ankur jain"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1542185720,"creation_date":1509985257,"answer_id":47141367,"question_id":21076179,"body_markdown":"I was facing the same issue and get it resolved using the below simple steps:\r\n\r\n1) Download the InstallCert.java from google\r\n\r\n2) Compile it using **javac InstallCert.java**\r\n\r\n3) Run InstallCert.java using **java InstallCert.java**, with the hostname and https port, and press 1 when asking for input. It will add the localhost as a trusted keystore, and generate a file named jssecacerts as below:\r\n\r\n**java InstallCert localhost:443**\r\n\r\n4) copy the jssecacerts into $JAVA_HOME/jre/lib/security folder\r\n\r\nMain source to resolve the issue here is:\r\n\r\nhttps://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing the same issue and get it resolved using the below simple steps:</p>\n\n<p>1) Download the InstallCert.java from google</p>\n\n<p>2) Compile it using <strong>javac InstallCert.java</strong></p>\n\n<p>3) Run InstallCert.java using <strong>java InstallCert.java</strong>, with the hostname and https port, and press 1 when asking for input. It will add the localhost as a trusted keystore, and generate a file named jssecacerts as below:</p>\n\n<p><strong>java InstallCert localhost:443</strong></p>\n\n<p>4) copy the jssecacerts into $JAVA_HOME/jre/lib/security folder</p>\n\n<p>Main source to resolve the issue here is:</p>\n\n<p><a href=\"https://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html\" rel=\"noreferrer\">https://ankurjain26.blogspot.in/2017/11/javaxnetsslsslhandshakeexception.html</a></p>\n"},{"comments":[{"owner":{"account_id":6678304,"reputation":569,"user_id":5152279,"accept_rate":64,"display_name":"ManishNegi"},"score":0,"creation_date":1525579235,"post_id":47548746,"comment_id":87409225,"body_markdown":"Hi I followed all the steps but no luck :(","body":"Hi I followed all the steps but no luck :("},{"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"score":0,"creation_date":1525672712,"post_id":47548746,"comment_id":87432581,"body_markdown":"do you have any other certificate in the path other than cacerts? if you have some other, try to add it to that certificate","body":"do you have any other certificate in the path other than cacerts? if you have some other, try to add it to that certificate"},{"owner":{"account_id":6678304,"reputation":569,"user_id":5152279,"accept_rate":64,"display_name":"ManishNegi"},"score":0,"creation_date":1525755662,"post_id":47548746,"comment_id":87469479,"body_markdown":"Thanks @Barani r , It was my mistake I was executing command from jre and using JDK in my eclipse","body":"Thanks @Barani r , It was my mistake I was executing command from jre and using JDK in my eclipse"},{"owner":{"account_id":9891936,"reputation":388,"user_id":7324645,"display_name":"Another coder"},"score":0,"creation_date":1554205028,"post_id":47548746,"comment_id":97658096,"body_markdown":"Wasn&#39;t able to download certificate but after, &quot;run as administrator&quot;, worked well.","body":"Wasn&#39;t able to download certificate but after, &quot;run as administrator&quot;, worked well."},{"owner":{"account_id":2137674,"reputation":635,"user_id":1897036,"accept_rate":100,"display_name":"Kemuel Sanchez"},"score":0,"creation_date":1611154575,"post_id":47548746,"comment_id":116360103,"body_markdown":"@Baranir I went to the trouble of loggin in (didn&#39;t remember if my main account was linked through Facebook, Google or SO) just to upvote this answer. At first it wasn&#39;t working but turns out I was missing the -keystore parameter. People, please don&#39;t omit the -keystore parameter. It won&#39;t work and you will pull out some of the few remaining hair on your head. Jokes aside,  +1 for a solid answer.","body":"@Baranir I went to the trouble of loggin in (didn&#39;t remember if my main account was linked through Facebook, Google or SO) just to upvote this answer. At first it wasn&#39;t working but turns out I was missing the -keystore parameter. People, please don&#39;t omit the -keystore parameter. It won&#39;t work and you will pull out some of the few remaining hair on your head. Jokes aside,  +1 for a solid answer."}],"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511946088,"creation_date":1511946088,"answer_id":47548746,"question_id":21076179,"body_markdown":"**Issue Background:** \r\n\r\nI was getting following error when i try to run mvn clean install in my project and through Netbeans IDE clean and build option.\r\nThis issue is due to certificate not available when we download through NET beans IDE/through command prompt, but able to download the files through the browser. \r\n\r\n**Error**:\r\n\r\n    Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact com.java.project:product:jar:1.0.32 from/to repo-local (https://url/local-repo): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \r\n\r\n**Resolution:**\r\n \r\n\r\n **1. Download the certificate of the Url in question:**\r\n\r\n - Launch IE by &quot;run as adminstrator&quot; (otherwise, we will not be able to download the certificate)\r\n - Enter the url in IE-&gt; https://url/local-repo\r\n (In my case this url had a untrusted certificate[![enter image description here][1]][1].)\r\n - Download the certificate by clicking on Certificate error -&gt; view certificate\r\n - Select Details tab -&gt; copy to file -&gt; next -&gt; select &quot;DER encoded binary X.509 (.CER) \r\n - save the certificate in some location, example : c:/user/sheldon/desktop/product.cer  \r\n - Congrats! you have successfully downloaded the certificate for the site\r\n\r\n\r\n**2. Now install the key store to fix the issue.**\r\n\r\n - Run the keytool command to append the downloaded keystore into the\r\n       existing certificate file.\r\n - **Command:  Below command in the bin folder of jdk (JAVA_HOME)**.  \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.8.0_141\\jre\\bin&gt;keytool -importcert -file\r\n&gt; &quot;C:/user/sheldon/desktop/product.cer&quot; -alias product -keystore\r\n&gt; &quot;C:/Program Files/Java/jdk1.8.0_141/jre/lib/security/cacerts&quot;.\r\n\r\n - You will be prompted to enter password.  Enter keystore password:\r\n   enter &quot;changeit&quot; again for &quot;Trust this certificate? [no]:&quot;, enter \r\n   &quot;yes&quot;\r\n\r\nSample command line commands/output:\r\n\r\n    keytool -importcert -file &quot;C:/Users/sheldon/Desktop/product.cer&quot; -alias product -keystore &quot;C:/Program iles/Java/jdk1.8.0_141/jre/lib/security/cacerts&quot;\r\n    Enter keystore password:\r\n    Trust this certificate? [no]:  yes\r\n    Certificate was added to keystore\r\n\r\n - Contgrats! now you should have got rid of &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException&quot; error in your Netbeans IDE.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dSH2A.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>Issue Background:</strong> </p>\n\n<p>I was getting following error when i try to run mvn clean install in my project and through Netbeans IDE clean and build option.\nThis issue is due to certificate not available when we download through NET beans IDE/through command prompt, but able to download the files through the browser. </p>\n\n<p><strong>Error</strong>:</p>\n\n<pre><code>Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact com.java.project:product:jar:1.0.32 from/to repo-local (https://url/local-repo): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  \n</code></pre>\n\n<p><strong>Resolution:</strong></p>\n\n<p><strong>1. Download the certificate of the Url in question:</strong></p>\n\n<ul>\n<li>Launch IE by \"run as adminstrator\" (otherwise, we will not be able to download the certificate)</li>\n<li>Enter the url in IE-> <a href=\"https://url/local-repo\" rel=\"noreferrer\">https://url/local-repo</a>\n(In my case this url had a untrusted certificate<a href=\"https://i.stack.imgur.com/dSH2A.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dSH2A.png\" alt=\"enter image description here\"></a>.)</li>\n<li>Download the certificate by clicking on Certificate error -> view certificate</li>\n<li>Select Details tab -> copy to file -> next -> select \"DER encoded binary X.509 (.CER) </li>\n<li>save the certificate in some location, example : c:/user/sheldon/desktop/product.cer  </li>\n<li>Congrats! you have successfully downloaded the certificate for the site</li>\n</ul>\n\n<p><strong>2. Now install the key store to fix the issue.</strong></p>\n\n<ul>\n<li>Run the keytool command to append the downloaded keystore into the\n   existing certificate file.</li>\n<li><strong>Command:  Below command in the bin folder of jdk (JAVA_HOME)</strong>.  </li>\n</ul>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.8.0_141\\jre\\bin>keytool -importcert -file\n  \"C:/user/sheldon/desktop/product.cer\" -alias product -keystore\n  \"C:/Program Files/Java/jdk1.8.0_141/jre/lib/security/cacerts\".</p>\n</blockquote>\n\n<ul>\n<li>You will be prompted to enter password.  Enter keystore password:\nenter \"changeit\" again for \"Trust this certificate? [no]:\", enter \n\"yes\"</li>\n</ul>\n\n<p>Sample command line commands/output:</p>\n\n<pre><code>keytool -importcert -file \"C:/Users/sheldon/Desktop/product.cer\" -alias product -keystore \"C:/Program iles/Java/jdk1.8.0_141/jre/lib/security/cacerts\"\nEnter keystore password:\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n\n<ul>\n<li>Contgrats! now you should have got rid of \"PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException\" error in your Netbeans IDE.  </li>\n</ul>\n"},{"comments":[{"owner":{"account_id":277973,"reputation":653,"user_id":572286,"accept_rate":98,"display_name":"KisnardOnline"},"score":3,"creation_date":1584243838,"post_id":47563948,"comment_id":107375499,"body_markdown":"You are brilliant.  Thank you!  I had an issue with the new buildout of my Java server because I forgot to remove the # in front of SSLCertificateChainFile!!!  Really well explained.","body":"You are brilliant.  Thank you!  I had an issue with the new buildout of my Java server because I forgot to remove the # in front of SSLCertificateChainFile!!!  Really well explained."}],"tags":[],"owner":{"account_id":84485,"reputation":19109,"user_id":236139,"accept_rate":100,"display_name":"Reid"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1512000825,"creation_date":1512000825,"answer_id":47563948,"question_id":21076179,"body_markdown":"This isn&#39;t a Twitter-specific answer, but this is the question that comes up when you search for this error. If your system is receiving this error when connecting to a website that **appears to have a valid certificate when viewed in a web browser**, that probably means **that website has an incomplete certificate chain**. \r\n\r\nFor a brief summary of the problem: Certificate Authorities don&#39;t use their Root Certificate to sign just any old certificate. Instead, they (usually) sign _intermediate_ certificates that also have the Certificate Authority flag set (that is, are allowed to sign certificates). Then when you purchase a certificate from a CA, they sign your CSR with one of these intermediate certificates.\r\n\r\nYour Java trust store most likely only has the Root Cert, not the intermediate ones. \r\n\r\nA misconfigured site might return _just_ their signed cert. Problem: it was signed with an intermediate cert that&#39;s not in your trust store. Browsers will handle this problem by downloading or using a cached intermediate certificate; this maximizes website compatibility. Java and tools like OpenSSL, however, won&#39;t. And that will cause the error in the question.\r\n\r\nYou can verify this suspicion by using the [Qualys SSL Test](https://www.ssllabs.com/ssltest/index.html). If you run that against a site and it says\r\n\r\n&gt; This server&#39;s certificate chain is incomplete.\r\n\r\nthen that confirms it. You can also see this by looking at the certification paths and seeing the text _Extra Download_.\r\n\r\nHow to fix it: the server administrator needs to configure the web server to return the intermediate certificates as well. For Comodo, for example, this is where the `.ca-bundle` file comes in handy. For example, in an Apache configuration with mod_ssl, you&#39;d use the `SSLCertificateChainFile` configuration setting. For nginx, you need to concatenate the intermediate certificates and the signed certificate and use that in the SSL cert configuration. You can find more by searching for &quot;incomplete certificate chain&quot; online.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This isn't a Twitter-specific answer, but this is the question that comes up when you search for this error. If your system is receiving this error when connecting to a website that <strong>appears to have a valid certificate when viewed in a web browser</strong>, that probably means <strong>that website has an incomplete certificate chain</strong>. </p>\n\n<p>For a brief summary of the problem: Certificate Authorities don't use their Root Certificate to sign just any old certificate. Instead, they (usually) sign <em>intermediate</em> certificates that also have the Certificate Authority flag set (that is, are allowed to sign certificates). Then when you purchase a certificate from a CA, they sign your CSR with one of these intermediate certificates.</p>\n\n<p>Your Java trust store most likely only has the Root Cert, not the intermediate ones. </p>\n\n<p>A misconfigured site might return <em>just</em> their signed cert. Problem: it was signed with an intermediate cert that's not in your trust store. Browsers will handle this problem by downloading or using a cached intermediate certificate; this maximizes website compatibility. Java and tools like OpenSSL, however, won't. And that will cause the error in the question.</p>\n\n<p>You can verify this suspicion by using the <a href=\"https://www.ssllabs.com/ssltest/index.html\" rel=\"noreferrer\">Qualys SSL Test</a>. If you run that against a site and it says</p>\n\n<blockquote>\n  <p>This server's certificate chain is incomplete.</p>\n</blockquote>\n\n<p>then that confirms it. You can also see this by looking at the certification paths and seeing the text <em>Extra Download</em>.</p>\n\n<p>How to fix it: the server administrator needs to configure the web server to return the intermediate certificates as well. For Comodo, for example, this is where the <code>.ca-bundle</code> file comes in handy. For example, in an Apache configuration with mod_ssl, you'd use the <code>SSLCertificateChainFile</code> configuration setting. For nginx, you need to concatenate the intermediate certificates and the signed certificate and use that in the SSL cert configuration. You can find more by searching for \"incomplete certificate chain\" online.</p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1514061132,"creation_date":1514061132,"answer_id":47955799,"question_id":21076179,"body_markdown":"It&#39;s addition to the answer https://stackoverflow.com/a/36427118/1491414. Thanks @MagGGG\r\n\r\n- Please make sure you have administrator permission\r\n- Please use double quotes for the keystore path (-keystore  C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts&quot;) because in Windows OS the default installs location will be Program Files and you will get an error because of space between Program Files. \r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>It's addition to the answer <a href=\"https://stackoverflow.com/a/36427118/1491414\">https://stackoverflow.com/a/36427118/1491414</a>. Thanks @MagGGG</p>\n\n<ul>\n<li>Please make sure you have administrator permission</li>\n<li>Please use double quotes for the keystore path (-keystore  C:\\Program Files (x86)\\Java\\jre1.6.0_22\\lib\\security\\cacerts\") because in Windows OS the default installs location will be Program Files and you will get an error because of space between Program Files. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1054183,"reputation":3254,"user_id":1057261,"accept_rate":74,"display_name":"AndroDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532343083,"creation_date":1532343083,"answer_id":51477089,"question_id":21076179,"body_markdown":"**I fixed this using below method-**\r\n\r\n 1. Copy url which is having connecting issue\r\n 2. Go to Android Studio-&gt;Settings-&gt;Http settings\r\n 3. In &#39;Test Connection&#39;, paste that url and press ok\r\n 4. On Ok click, Android Studio will ask to import certificate of that\r\n    url, import it\r\n 5. That&#39;s it. Nothing else to be done and my issue was gone. No need to\r\n    restart studio as well.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>I fixed this using below method-</strong></p>\n\n<ol>\n<li>Copy url which is having connecting issue</li>\n<li>Go to Android Studio->Settings->Http settings</li>\n<li>In 'Test Connection', paste that url and press ok</li>\n<li>On Ok click, Android Studio will ask to import certificate of that\nurl, import it</li>\n<li>That's it. Nothing else to be done and my issue was gone. No need to\nrestart studio as well.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7020824,"reputation":344,"user_id":5380255,"display_name":"Karol Murawski"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1534588067,"creation_date":1534588067,"answer_id":51907615,"question_id":21076179,"body_markdown":"When you have above error with atlassian software ex. jira\r\n\r\n    2018-08-18 11:35:00,312 Caesium-1-4 WARN anonymous    Default Mail Handler [c.a.mail.incoming.mailfetcherservice] Default Mail Handler[10001]: javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target while connecting to host &#39;imap.xyz.pl&#39; as user &#39;jira@xyz.pl&#39; via protocol &#39;imaps, caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nyou can add certs to it&#39;s trusted keystore (change missing_ca to proper cert name):\r\n\r\n    keytool -importcert -file missing_ca.crt -alias missing_ca -keystore /opt/atlassian/jira/jre/lib/security/cacerts\r\n\r\nIf asked for password put `` changeit `` and confirm `` y ``\r\n\r\nAfter that simply restart jira.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>When you have above error with atlassian software ex. jira</p>\n\n<pre><code>2018-08-18 11:35:00,312 Caesium-1-4 WARN anonymous    Default Mail Handler [c.a.mail.incoming.mailfetcherservice] Default Mail Handler[10001]: javax.mail.MessagingException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target while connecting to host 'imap.xyz.pl' as user 'jira@xyz.pl' via protocol 'imaps, caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>you can add certs to it's trusted keystore (change missing_ca to proper cert name):</p>\n\n<pre><code>keytool -importcert -file missing_ca.crt -alias missing_ca -keystore /opt/atlassian/jira/jre/lib/security/cacerts\n</code></pre>\n\n<p>If asked for password put <code>changeit</code> and confirm <code>y</code></p>\n\n<p>After that simply restart jira.</p>\n"},{"comments":[{"owner":{"account_id":6319592,"reputation":579,"user_id":4908212,"display_name":"Dorjee Dhondup"},"score":0,"creation_date":1649098017,"post_id":52643649,"comment_id":126785474,"body_markdown":"Could you elaborate more on resolving this?\n\n&quot;If it still doesnt work and get an SSL handshake exception. It probably means you are using different domain than registered in the certificate.&quot;","body":"Could you elaborate more on resolving this?  &quot;If it still doesnt work and get an SSL handshake exception. It probably means you are using different domain than registered in the certificate.&quot;"}],"tags":[],"owner":{"account_id":7812311,"reputation":2813,"user_id":5908154,"accept_rate":10,"display_name":"Abhishek Galoda"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1547048917,"creation_date":1538646276,"answer_id":52643649,"question_id":21076179,"body_markdown":"The reason, we get above error is that JDK is bundled with a lot of trusted Certificate Authority(CA) certificates into a file called cacerts but this file has no clue of our self-signed certificate. In other words, the cacerts file doesnt have our self-signed certificate imported and thus doesnt treat it as a trusted entity and hence it gives the above error.\r\n\r\n\r\n \r\n[How to fix the above error][1]\r\n\r\nTo fix the above error, all we need is to import the self-signed certificate into the cacerts file.\r\n\r\nFirst, locate the cacerts file. We will need to find out the JDK location. If you are running your application through one of the IDEs like Eclipse or IntelliJ Idea go to project settings and figure out what is the JDK location.\r\nFor e.g on a Mac OS typical location of cacerts file would be at this location /Library/Java/JavaVirtualMachines/ {{JDK_version}}/Contents/Home/jre/lib/security\r\non a Windows machine it would be under {{Installation_directory}}/{{JDK_version}}/jre/lib/security\r\n\r\nOnce you have located the cacerts file, now we need to import our self-signed certificate to this cacerts file. Check the last article, if you dont know how to generate the self-signed certificate correctly.\r\n\r\nIf you dont have a certificate file(.crt) and just have a .jks file you can generate a .crt file by using below command. In case you already have a .crt/.pem file then you can ignore below command\r\n\r\n\r\n ##To generate certificate from keystore(.jks file) ####\r\n\r\n    keytool -export -keystore keystore.jks -alias selfsigned -file selfsigned.crt\r\n \r\nAbove step will generate a file called selfsigned.crt.Now Import the certificate to cacerts\r\n\r\n\r\n#### Now add the certificate to JRE/lib/security/cacerts (trustore) #####\r\n\r\n    keytool -importcert -file selfsigned.crt -alias selfsigned -keystore {{cacerts path}}\r\n\r\n \r\nfor e.g\r\n \r\n\r\n    keytool -importcert -file selfsigned.nextgen.crt -alias selfsigned.nextgen -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\r\n     \r\n\r\n \r\n\r\nThats all, restart your application and it should work fine. If it still doesnt work and get an SSL handshake exception. It probably means you are using different domain then registered in the certificate.\r\n\r\nThe Link [with detailed explanation and  step by step resolution is over here.][1]\r\n\r\n\r\n  [1]: http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The reason, we get above error is that JDK is bundled with a lot of trusted Certificate Authority(CA) certificates into a file called cacerts but this file has no clue of our self-signed certificate. In other words, the cacerts file doesnt have our self-signed certificate imported and thus doesnt treat it as a trusted entity and hence it gives the above error.</p>\n\n<p><a href=\"http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/\" rel=\"noreferrer\">How to fix the above error</a></p>\n\n<p>To fix the above error, all we need is to import the self-signed certificate into the cacerts file.</p>\n\n<p>First, locate the cacerts file. We will need to find out the JDK location. If you are running your application through one of the IDEs like Eclipse or IntelliJ Idea go to project settings and figure out what is the JDK location.\nFor e.g on a Mac OS typical location of cacerts file would be at this location /Library/Java/JavaVirtualMachines/ {{JDK_version}}/Contents/Home/jre/lib/security\non a Windows machine it would be under {{Installation_directory}}/{{JDK_version}}/jre/lib/security</p>\n\n<p>Once you have located the cacerts file, now we need to import our self-signed certificate to this cacerts file. Check the last article, if you dont know how to generate the self-signed certificate correctly.</p>\n\n<p>If you dont have a certificate file(.crt) and just have a .jks file you can generate a .crt file by using below command. In case you already have a .crt/.pem file then you can ignore below command</p>\n\n<p>##To generate certificate from keystore(.jks file) ####</p>\n\n<pre><code>keytool -export -keystore keystore.jks -alias selfsigned -file selfsigned.crt\n</code></pre>\n\n<p>Above step will generate a file called selfsigned.crt.Now Import the certificate to cacerts</p>\n\nNow add the certificate to JRE/lib/security/cacerts (trustore)\n\n<pre><code>keytool -importcert -file selfsigned.crt -alias selfsigned -keystore {{cacerts path}}\n</code></pre>\n\n<p>for e.g</p>\n\n<pre><code>keytool -importcert -file selfsigned.nextgen.crt -alias selfsigned.nextgen -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\n</code></pre>\n\n<p>Thats all, restart your application and it should work fine. If it still doesnt work and get an SSL handshake exception. It probably means you are using different domain then registered in the certificate.</p>\n\n<p>The Link <a href=\"http://www.littlebigextra.com/how-to-fix-pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexception/\" rel=\"noreferrer\">with detailed explanation and  step by step resolution is over here.</a></p>\n"},{"comments":[{"owner":{"account_id":6205573,"reputation":18140,"user_id":4833705,"accept_rate":86,"display_name":"Lance Samaria"},"score":0,"creation_date":1666101789,"post_id":53295765,"comment_id":130852328,"body_markdown":"what&#39;s the difference?","body":"what&#39;s the difference?"}],"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542183816,"creation_date":1542183816,"answer_id":53295765,"question_id":21076179,"body_markdown":"If your repository URL also work on HTTP and the security is not a concern, you can go to **settings.xml** (often, but not always, located in `%USERPROFILE%/.m2`) and **replace HTTPS with HTTP** for `&lt;repository&gt;` and `&lt;pluginRepository&gt;` URLs.\r\n\r\nFor example, this:\r\n\r\n\t&lt;repository&gt;\r\n\t\t&lt;snapshots&gt;\r\n\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t&lt;/snapshots&gt;\r\n\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t&lt;name&gt;libs-release&lt;/name&gt;\r\n\t\t&lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n\r\nshould be replaced by this:\r\n\r\n\t&lt;repository&gt;\r\n\t\t&lt;snapshots&gt;\r\n\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t&lt;/snapshots&gt;\r\n\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t&lt;name&gt;libs-release&lt;/name&gt;\r\n\t\t&lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\r\n\t&lt;/repository&gt;","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If your repository URL also work on HTTP and the security is not a concern, you can go to <strong>settings.xml</strong> (often, but not always, located in <code>%USERPROFILE%/.m2</code>) and <strong>replace HTTPS with HTTP</strong> for <code>&lt;repository&gt;</code> and <code>&lt;pluginRepository&gt;</code> URLs.</p>\n\n<p>For example, this:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;id&gt;central&lt;/id&gt;\n    &lt;name&gt;libs-release&lt;/name&gt;\n    &lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>should be replaced by this:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;id&gt;central&lt;/id&gt;\n    &lt;name&gt;libs-release&lt;/name&gt;\n    &lt;url&gt;https://&lt;artifactory&gt;/libs-release&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":0,"creation_date":1625617951,"post_id":54742944,"comment_id":120672535,"body_markdown":"This worked for me when I was trying to figure out how to get maven to behave properly. `-&quot;Djavax.net.ssl.trustStore&quot;=&lt;path&gt;` is all I needed. Thanks.","body":"This worked for me when I was trying to figure out how to get maven to behave properly. <code>-&quot;Djavax.net.ssl.trustStore&quot;=&lt;path&gt;</code> is all I needed. Thanks."}],"tags":[],"owner":{"account_id":2251730,"reputation":883,"user_id":1983825,"display_name":"jasonoriordan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550477810,"creation_date":1550477810,"answer_id":54742944,"question_id":21076179,"body_markdown":"I was using my own trust store rather than JRE one by passing arg `-Djavax.net.ssl.trustStore=`\r\n\r\nI was getting this error regardless of certs in truststore. The issue for me was the ordering of of the properties passed on arg line. \r\nWhen i put `-Djavax.net.ssl.trustStore=`&amp; `-Djavax.net.ssl.trustStorePassword=` **before** ` -Dspring.config.location=` &amp; ` -jar ` args i was able to successfully invoke my rest call over https. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was using my own trust store rather than JRE one by passing arg <code>-Djavax.net.ssl.trustStore=</code></p>\n\n<p>I was getting this error regardless of certs in truststore. The issue for me was the ordering of of the properties passed on arg line. \nWhen i put <code>-Djavax.net.ssl.trustStore=</code>&amp; <code>-Djavax.net.ssl.trustStorePassword=</code> <strong>before</strong> <code>-Dspring.config.location=</code> &amp; <code>-jar</code> args i was able to successfully invoke my rest call over https. </p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551825579,"creation_date":1551825579,"answer_id":55012752,"question_id":21076179,"body_markdown":"If you&#39;re using CloudFoundry and run into certificate issue then you&#39;d have to make sure that you push the jar again with the keystore-service with the certificate in it. Simply unbind, bind and restart won&#39;t work.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you're using CloudFoundry and run into certificate issue then you'd have to make sure that you push the jar again with the keystore-service with the certificate in it. Simply unbind, bind and restart won't work.</p>\n"},{"comments":[{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":0,"creation_date":1630659733,"post_id":56152688,"comment_id":122022297,"body_markdown":"This post really saved my day. I was not able to solve the issue until I tweaked with above settings by adding proxy details. Worked like a champ.","body":"This post really saved my day. I was not able to solve the issue until I tweaked with above settings by adding proxy details. Worked like a champ."}],"tags":[],"owner":{"account_id":6844658,"reputation":1061,"user_id":5263842,"display_name":"A W"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557933373,"creation_date":1557933373,"answer_id":56152688,"question_id":21076179,"body_markdown":"In case your **host sits behind firewall/proxy** , use following command in cmd:\r\n\r\n    keytool -J-Dhttps.proxyHost=&lt;proxy_hostname&gt; -J-Dhttps.proxyPort=&lt;proxy_port&gt; -printcert -rfc -sslserver &lt;remote_host_name:remote_ssl_port&gt;\r\n\r\nReplace `&lt;proxy_hostname&gt;` and `&lt;proxy_port&gt;` with the HTTP proxy server that is configured. Replace `&lt;remote_host_name:remote_ssl_port&gt;` with one of the remote host (basically url) and port having the certification problem.\r\n\r\nTake the last certificate content printed and copy it (also copy begin and end certificate). Paste it in text file and give *.crt*  extension to it . Now import this certificate to *cacerts* using java keytool command and it should work .\r\n\r\n    keytool -importcert -file &lt;filename&gt;.crt -alias randomaliasname -keystore %JAVA_HOME%/jre/lib/security/cacerts -storepass changeit","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In case your <strong>host sits behind firewall/proxy</strong> , use following command in cmd:</p>\n\n<pre><code>keytool -J-Dhttps.proxyHost=&lt;proxy_hostname&gt; -J-Dhttps.proxyPort=&lt;proxy_port&gt; -printcert -rfc -sslserver &lt;remote_host_name:remote_ssl_port&gt;\n</code></pre>\n\n<p>Replace <code>&lt;proxy_hostname&gt;</code> and <code>&lt;proxy_port&gt;</code> with the HTTP proxy server that is configured. Replace <code>&lt;remote_host_name:remote_ssl_port&gt;</code> with one of the remote host (basically url) and port having the certification problem.</p>\n\n<p>Take the last certificate content printed and copy it (also copy begin and end certificate). Paste it in text file and give <em>.crt</em>  extension to it . Now import this certificate to <em>cacerts</em> using java keytool command and it should work .</p>\n\n<pre><code>keytool -importcert -file &lt;filename&gt;.crt -alias randomaliasname -keystore %JAVA_HOME%/jre/lib/security/cacerts -storepass changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7513284,"reputation":2260,"user_id":7885903,"display_name":"Lucas Mendes Mota Da Fonseca"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560878547,"creation_date":1560878547,"answer_id":56654175,"question_id":21076179,"body_markdown":"Try copying java cacerts:\r\n\r\n`cp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.172-9.b11.fc28.x86_64/jre/lib/security/cacerts $JAVA_HOME/jre/lib/security/cacerts`","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Try copying java cacerts:</p>\n\n<p><code>cp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.172-9.b11.fc28.x86_64/jre/lib/security/cacerts $JAVA_HOME/jre/lib/security/cacerts</code></p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562184678,"creation_date":1562184678,"answer_id":56877298,"question_id":21076179,"body_markdown":"If you are seeing this issue in a linux container when java application is trying to communicate with another application/site, it is because the certificate have been imported incorrectly into the load balancer. There is sequence of steps to be followed for importing certificates and that if not done correctly, you will see issues like \r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n    certification path to requested target\r\n\r\nOnce the certs are imported correctly, it should be done. No need to tinker with any JDK certs.\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you are seeing this issue in a linux container when java application is trying to communicate with another application/site, it is because the certificate have been imported incorrectly into the load balancer. There is sequence of steps to be followed for importing certificates and that if not done correctly, you will see issues like </p>\n\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \ncertification path to requested target\n</code></pre>\n\n<p>Once the certs are imported correctly, it should be done. No need to tinker with any JDK certs.</p>\n"},{"tags":[],"owner":{"account_id":14472970,"reputation":1136,"user_id":10454340,"display_name":"Vikash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1661334811,"creation_date":1564560190,"answer_id":57285966,"question_id":21076179,"body_markdown":"**This is a solution but in form of my story with this problem:**\r\n\r\nI was almost dead trying all the solutions given above(for 3 days ) and nothing worked for me.\r\n\r\nI lost all hope.\r\n\r\nI contacted my security team regarding this because I was behind a proxy and they told me that they had recently updated their security policy.\r\n\r\nLater they issued a new &quot;cacerts&quot; file which contains all the certificates.\r\n\r\nI removed the `cacerts` file which is present inside `%JAVA_HOME%/jre/lib/security` and it solved my problem.\r\n\r\nSo if you are facing this issue it might be from your network team also like this.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>This is a solution but in form of my story with this problem:</strong></p>\n<p>I was almost dead trying all the solutions given above(for 3 days ) and nothing worked for me.</p>\n<p>I lost all hope.</p>\n<p>I contacted my security team regarding this because I was behind a proxy and they told me that they had recently updated their security policy.</p>\n<p>Later they issued a new &quot;cacerts&quot; file which contains all the certificates.</p>\n<p>I removed the <code>cacerts</code> file which is present inside <code>%JAVA_HOME%/jre/lib/security</code> and it solved my problem.</p>\n<p>So if you are facing this issue it might be from your network team also like this.</p>\n"},{"tags":[],"owner":{"account_id":7187217,"reputation":261,"user_id":5488802,"accept_rate":50,"display_name":"Sharan"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1589540712,"creation_date":1565358466,"answer_id":57431480,"question_id":21076179,"body_markdown":"download the cert file, and update the keystore with the certificate file as in the below command.\r\n\r\n\r\nsudo keytool -importcert -alias aws2 -file ~/Desktop/\\*aws.crt -keystore  /Library/java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/security/cacerts","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>download the cert file, and update the keystore with the certificate file as in the below command.</p>\n\n<p>sudo keytool -importcert -alias aws2 -file ~/Desktop/*aws.crt -keystore  /Library/java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/lib/security/cacerts</p>\n"},{"tags":[],"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1576251627,"creation_date":1576250952,"answer_id":59325503,"question_id":21076179,"body_markdown":"I solved it for **Intellij Idea**\r\nI facing this problem  Althouh , I change a lot of place to resolve problem.I found a solution for me .Right click your project ,You will see **Maven** ,after that press **Generate Sources And Update Folders** and **ReImport** [![enter image description here][1]][1]\r\n\r\nIt is done.\r\n\r\n  [1]: https://i.stack.imgur.com/ZwUcv.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I solved it for <strong>Intellij Idea</strong>\nI facing this problem  Althouh , I change a lot of place to resolve problem.I found a solution for me .Right click your project ,You will see <strong>Maven</strong> ,after that press <strong>Generate Sources And Update Folders</strong> and <strong>ReImport</strong> <a href=\"https://i.stack.imgur.com/ZwUcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwUcv.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is done.</p>\n"},{"comments":[{"owner":{"account_id":1943569,"reputation":191,"user_id":1749184,"display_name":"Shashikant Soni"},"score":1,"creation_date":1587039680,"post_id":59394822,"comment_id":108355512,"body_markdown":"I used this approach on a Mac and it just worked. My Cert was of course self signed and generated to I imported the .pfx file which I had generated on my windows adfs server.\nUsing Java 10 for my app\nThanks","body":"I used this approach on a Mac and it just worked. My Cert was of course self signed and generated to I imported the .pfx file which I had generated on my windows adfs server. Using Java 10 for my app Thanks"},{"owner":{"account_id":5749872,"reputation":2007,"user_id":4539906,"display_name":"Asad Shakeel"},"score":0,"creation_date":1623771963,"post_id":59394822,"comment_id":120170927,"body_markdown":"Path to Java cacerts should be:\n`C:\\Program Files\\Java\\jdk1.8.0_281\\jre\\lib\\security\\cacerts` instead of `Java\\jre1.8...` `Java\\jdk1.8...\\jre\\` should be used","body":"Path to Java cacerts should be: <code>C:\\Program Files\\Java\\jdk1.8.0_281\\jre\\lib\\security\\cacerts</code> instead of <code>Java\\jre1.8...</code> `Java\\jdk1.8...\\jre` should be used"}],"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576681544,"creation_date":1576681544,"answer_id":59394822,"question_id":21076179,"body_markdown":"I solved this issue on Windows Server 2016 with Java 8, by importing cert from &lt;code&gt;pkcs12&lt;/code&gt; store to &lt;code&gt;cacerts&lt;/code&gt; keystore.\r\n&lt;br /&gt;&lt;br /&gt;\r\nPath to pkcs12 store: \r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Apps\\pkcs12.pfx&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nPath to Java cacerts:\r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts&lt;/code&gt;\r\n&lt;br /&gt;&lt;br &gt;\r\nPath to keytool:\r\n&lt;br /&gt;\r\n&lt;code&gt;C:\\Program Files\\Java\\jre1.8.0_151\\bin&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nAfter possitioning to folder with keytool in command prompt (as administrator), command to import cert from &lt;code&gt;pkcs12&lt;/code&gt; to &lt;code&gt;cacerts&lt;/code&gt; is as follows:\r\n&lt;br /&gt;\r\n&lt;code&gt;keytool -v -importkeystore -srckeystore C:\\Apps\\pkcs12.pfx -srcstoretype PKCS12 -destkeystore &quot;C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts&quot; -deststoretype JKS&lt;/code&gt;\r\n&lt;br /&gt;&lt;br /&gt;\r\nYou will be prompted to:&lt;br /&gt;\r\n 1. enter destination keystore password (cacerts pasword, default is &quot;changeit&quot;)&lt;br /&gt;\r\n 2. enter source keystore password (pkcs12 password)\r\n\r\n&lt;br /&gt;\r\nFor changes to take effect, restart server machine (or just restart JVM). \r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I solved this issue on Windows Server 2016 with Java 8, by importing cert from <code>pkcs12</code> store to <code>cacerts</code> keystore.\n<br /><br />\nPath to pkcs12 store: \n<br />\n<code>C:\\Apps\\pkcs12.pfx</code>\n<br /><br />\nPath to Java cacerts:\n<br />\n<code>C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts</code>\n<br /><br >\nPath to keytool:\n<br />\n<code>C:\\Program Files\\Java\\jre1.8.0_151\\bin</code>\n<br /><br />\nAfter possitioning to folder with keytool in command prompt (as administrator), command to import cert from <code>pkcs12</code> to <code>cacerts</code> is as follows:\n<br />\n<code>keytool -v -importkeystore -srckeystore C:\\Apps\\pkcs12.pfx -srcstoretype PKCS12 -destkeystore \"C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts\" -deststoretype JKS</code>\n<br /><br />\nYou will be prompted to:<br />\n 1. enter destination keystore password (cacerts pasword, default is \"changeit\")<br />\n 2. enter source keystore password (pkcs12 password)</p>\n\n<p><br />\nFor changes to take effect, restart server machine (or just restart JVM). </p>\n"},{"tags":[],"owner":{"account_id":13167435,"reputation":445,"user_id":9511049,"display_name":"Darshil Shah"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583995017,"creation_date":1583995017,"answer_id":60648775,"question_id":21076179,"body_markdown":"I was facing the same issue, i was using 8.1.0-3, but later i used 9.2.1-0 and the issue was fixed without any manual steps. The self-signed certificate worked fine.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing the same issue, i was using 8.1.0-3, but later i used 9.2.1-0 and the issue was fixed without any manual steps. The self-signed certificate worked fine.</p>\n"},{"tags":[],"owner":{"account_id":4416215,"reputation":4087,"user_id":3597746,"accept_rate":92,"display_name":"Ammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606167591,"creation_date":1590023900,"answer_id":61925589,"question_id":21076179,"body_markdown":"I ran into same issue but updating wrong jre on my linux machine. It is highly likely that tomcat is using different jre and your cli prompt is configured to use a different jre.\r\n \r\nMake sure you are picking up the correct jre.\r\n\r\nStep #1:\r\n\r\n    ps -ef | grep tomcat\r\n\r\nYou will see some thing like:\r\n\r\n    root     29855     1  3 17:54 pts/3    00:00:42 /usr/java/jdk1.7.0_79/jre/bin/java \r\n\r\nNow use this:\r\n\r\n    keytool -import -alias example -keystore  /usr/java/jdk1.7.0_79/jre/lib/security/cacerts -file cert.cer\r\n    PWD: changeit\r\n\r\n*.cer file can be geneated as shown below: (or you can use your own)\r\n\r\n    openssl x509 -in cert.pem -outform pem -outform der -out cert.cer","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I ran into same issue but updating wrong jre on my linux machine. It is highly likely that tomcat is using different jre and your cli prompt is configured to use a different jre.</p>\n<p>Make sure you are picking up the correct jre.</p>\n<p>Step #1:</p>\n<pre><code>ps -ef | grep tomcat\n</code></pre>\n<p>You will see some thing like:</p>\n<pre><code>root     29855     1  3 17:54 pts/3    00:00:42 /usr/java/jdk1.7.0_79/jre/bin/java \n</code></pre>\n<p>Now use this:</p>\n<pre><code>keytool -import -alias example -keystore  /usr/java/jdk1.7.0_79/jre/lib/security/cacerts -file cert.cer\nPWD: changeit\n</code></pre>\n<p>*.cer file can be geneated as shown below: (or you can use your own)</p>\n<pre><code>openssl x509 -in cert.pem -outform pem -outform der -out cert.cer\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"score":0,"creation_date":1611170112,"post_id":63074163,"comment_id":116367870,"body_markdown":"How did you get CA certificate in key chain access? My key chain access doesn&#39;t have any certificates.","body":"How did you get CA certificate in key chain access? My key chain access doesn&#39;t have any certificates."}],"tags":[],"owner":{"account_id":2066910,"reputation":191,"user_id":1842262,"display_name":"Venkatesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1676372847,"creation_date":1595595933,"answer_id":63074163,"question_id":21076179,"body_markdown":"After struggling for half-day, found one more way to solve this problem. I was able to solve this in MAC 10.15.5 ( Catalina). Followed the below steps. \r\n\r\n - This problem occurs when we are running behind a company proxy , In my case its Zscaler. \r\n - Open Key chain access, export CA certificate.(Select CA certificate, `File-&gt;export items` and save with the desired name)  \r\n - Copy the path of existing cacerts from java folder(`/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts`\r\n)\r\n - Open terminal and navigate to the Keytool folder (`/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/bin`\r\n)\r\n - Run the below command. \r\n - `Keytool -importcert - file (Path to exported cert from the keychainaccess) -alias (give a name) -keystore (Path of existing cacerts from java folder)`\r\n - `sudo Keytool -importcert -file /Users/Desktop/RootCA.cer -alias demo -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts`\r\n - It will ask for password , give it as : `changeit`\r\n - It asks for confirmation , Say : yes \r\n\r\nAfter all of these steps, Quit eclipse and terminal start fresh session. \r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>After struggling for half-day, found one more way to solve this problem. I was able to solve this in MAC 10.15.5 ( Catalina). Followed the below steps.</p>\n<ul>\n<li>This problem occurs when we are running behind a company proxy , In my case its Zscaler.</li>\n<li>Open Key chain access, export CA certificate.(Select CA certificate, <code>File-&gt;export items</code> and save with the desired name)</li>\n<li>Copy the path of existing cacerts from java folder(<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts</code>\n)</li>\n<li>Open terminal and navigate to the Keytool folder (<code>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/bin</code>\n)</li>\n<li>Run the below command.</li>\n<li><code>Keytool -importcert - file (Path to exported cert from the keychainaccess) -alias (give a name) -keystore (Path of existing cacerts from java folder)</code></li>\n<li><code>sudo Keytool -importcert -file /Users/Desktop/RootCA.cer -alias demo -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home/jre/lib/security/cacerts</code></li>\n<li>It will ask for password , give it as : <code>changeit</code></li>\n<li>It asks for confirmation , Say : yes</li>\n</ul>\n<p>After all of these steps, Quit eclipse and terminal start fresh session.</p>\n"},{"tags":[],"owner":{"account_id":165872,"reputation":12769,"user_id":389649,"display_name":"Cristan"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1602062390,"creation_date":1602062390,"answer_id":64240996,"question_id":21076179,"body_markdown":"You&#39;ll get this error when the certificate is newer than your Java version. Using a newer Java version will solve this.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>You'll get this error when the certificate is newer than your Java version. Using a newer Java version will solve this.</p>\n"},{"tags":[],"owner":{"account_id":3286384,"reputation":3371,"user_id":2765792,"display_name":"Aman Goel"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1611565420,"creation_date":1611565420,"answer_id":65881701,"question_id":21076179,"body_markdown":"Problem is, your eclipse is not able to connect the site which actually it is trying to.\r\nI have faced similar issue and below given solution worked for me. \r\n\r\n1. Turn off any third party internet security application e.g. Zscaler\r\n2. Sometimes also need to disconnect VPN if you are connected.\r\n\r\nThanks","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Problem is, your eclipse is not able to connect the site which actually it is trying to.\nI have faced similar issue and below given solution worked for me.</p>\n<ol>\n<li>Turn off any third party internet security application e.g. Zscaler</li>\n<li>Sometimes also need to disconnect VPN if you are connected.</li>\n</ol>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612268776,"creation_date":1612268776,"answer_id":66009703,"question_id":21076179,"body_markdown":"1-First of all, import you&#39;r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you&#39;r jdk version. For example from `jdk1.8.0_17` to `jdk1.8.0_231` ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>1-First of all, import you'r crt file into {JAVA_HOME}/jre/security/cacerts, if you still faced with this exception, change you'r jdk version. For example from <code>jdk1.8.0_17</code> to <code>jdk1.8.0_231</code></p>\n"},{"comments":[{"owner":{"account_id":2315616,"reputation":413,"user_id":2082660,"display_name":"scavenger"},"score":0,"creation_date":1630099393,"post_id":66385788,"comment_id":121872495,"body_markdown":"certainly you need to rename your crt into cer","body":"certainly you need to rename your crt into cer"}],"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700977599,"creation_date":1614342164,"answer_id":66385788,"question_id":21076179,"body_markdown":"If you are still getting this error \r\n\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \r\n    certification path to requested target\r\n\r\nafter executing the below command and restarting the java process or restart the system\r\n\r\n    keytool -import -alias certificatealias -keystore C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts -file certificate.cer\r\n\r\n\r\n**If there is some issue in JDK, Try to install JDK from a trusted provider.\r\nOnce you reinstalled it from trusted provider you won&#39;t face this issue.**","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you are still getting this error</p>\n<pre><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid \ncertification path to requested target\n</code></pre>\n<p>after executing the below command and restarting the java process or restart the system</p>\n<pre><code>keytool -import -alias certificatealias -keystore C:\\Program Files\\Java\\jre1.8.0_151\\lib\\security\\cacerts -file certificate.cer\n</code></pre>\n<p><strong>If there is some issue in JDK, Try to install JDK from a trusted provider.\nOnce you reinstalled it from trusted provider you won't face this issue.</strong></p>\n"},{"comments":[{"owner":{"account_id":9361635,"reputation":115,"user_id":6947783,"display_name":"Navin"},"score":0,"creation_date":1648544479,"post_id":66889979,"comment_id":126644768,"body_markdown":"If I need a certificate to access the local host from mac, how to generate the certificate?","body":"If I need a certificate to access the local host from mac, how to generate the certificate?"},{"owner":{"account_id":3529693,"reputation":1020,"user_id":2949645,"display_name":"Sahib Yar"},"score":1,"creation_date":1684246985,"post_id":66889979,"comment_id":134488087,"body_markdown":"This answer worked for me. Regarding Certificate, I was facing this problem when we are running behind a company proxy. In my case it&#39;s zscaler.\nOpen Key chain access, export CA certificate.(Select CA certificate, File-&gt;export items and save with the desired name)","body":"This answer worked for me. Regarding Certificate, I was facing this problem when we are running behind a company proxy. In my case it&#39;s zscaler. Open Key chain access, export CA certificate.(Select CA certificate, File-&gt;export items and save with the desired name)"}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1628871058,"creation_date":1617201553,"answer_id":66889979,"question_id":21076179,"body_markdown":"## Mac\r\n\r\nThe accepted answer does not work for Mac as there is no &lt;kbd&gt;Export&lt;/kbd&gt; button available in Mac (Chrome or Firefox). Please check [this answer](https://stackoverflow.com/a/59466184/10819573) to download the certificate and follow the next steps as mentioned below:\r\n\r\n 1. **List all certificates installed in the keystore**:\r\n\r\n```\r\ncd $JAVA_HOME/lib/security\r\nkeytool -list -keystore cacerts\r\n```\r\n\r\n**Notes:** \r\n\r\n  - The default password of the keystore is: `changeit`.\r\n  - For Java-8 or lower version use the command, `cd $JAVA_HOME/jre/lib/security`\r\n\r\n 2. **Before you import the certificate in the keystore, make a backup of the keystore**:\r\n\r\n```\r\nsudo cp cacerts cacerts.bak\r\n```\r\n\r\n 3. **Import the downloaded certificate in the keystore**:\r\n\r\n```\r\nsudo keytool -importcert -alias youralias -file /path/to/the/downloaded/certificate -keystore cacerts\r\n```\r\n\r\n 4. **Check if the certificate is stored in the keystore**:\r\n\r\n```\r\nsudo keytool -list -keystore cacerts -alias youralias\r\n```\r\n\r\nIf you want to see more detailed information, add the `-v` flag:\r\n\r\n```\r\nsudo keytool -v -list -keystore cacerts -alias youralias\r\n```","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>Mac</h2>\n<p>The accepted answer does not work for Mac as there is no <kbd>Export</kbd> button available in Mac (Chrome or Firefox). Please check <a href=\"https://stackoverflow.com/a/59466184/10819573\">this answer</a> to download the certificate and follow the next steps as mentioned below:</p>\n<ol>\n<li><strong>List all certificates installed in the keystore</strong>:</li>\n</ol>\n<pre><code>cd $JAVA_HOME/lib/security\nkeytool -list -keystore cacerts\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>The default password of the keystore is: <code>changeit</code>.</li>\n<li>For Java-8 or lower version use the command, <code>cd $JAVA_HOME/jre/lib/security</code></li>\n</ul>\n<ol start=\"2\">\n<li><strong>Before you import the certificate in the keystore, make a backup of the keystore</strong>:</li>\n</ol>\n<pre><code>sudo cp cacerts cacerts.bak\n</code></pre>\n<ol start=\"3\">\n<li><strong>Import the downloaded certificate in the keystore</strong>:</li>\n</ol>\n<pre><code>sudo keytool -importcert -alias youralias -file /path/to/the/downloaded/certificate -keystore cacerts\n</code></pre>\n<ol start=\"4\">\n<li><strong>Check if the certificate is stored in the keystore</strong>:</li>\n</ol>\n<pre><code>sudo keytool -list -keystore cacerts -alias youralias\n</code></pre>\n<p>If you want to see more detailed information, add the <code>-v</code> flag:</p>\n<pre><code>sudo keytool -v -list -keystore cacerts -alias youralias\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3569131,"reputation":3964,"user_id":2979938,"accept_rate":55,"display_name":"Combine"},"score":0,"creation_date":1634726992,"post_id":68268082,"comment_id":123101064,"body_markdown":"How do you do this?","body":"How do you do this?"}],"tags":[],"owner":{"account_id":13954041,"reputation":1443,"user_id":10084851,"display_name":"Makdous"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625564285,"creation_date":1625564285,"answer_id":68268082,"question_id":21076179,"body_markdown":"Although I did copy the Certificates to the `cacerts` file The error did not disappear.\r\n\r\nThe problem was that the **date** on the certificate was **expired**, That&#39;s why it returned the error.\r\n\r\nI requested a new valid Certificates and the error is now gone.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Although I did copy the Certificates to the <code>cacerts</code> file The error did not disappear.</p>\n<p>The problem was that the <strong>date</strong> on the certificate was <strong>expired</strong>, That's why it returned the error.</p>\n<p>I requested a new valid Certificates and the error is now gone.</p>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627491590,"creation_date":1627491590,"answer_id":68564551,"question_id":21076179,"body_markdown":"I leave some tips.\r\n\r\n1) Use -Dssl.debug=true to check SSL.\r\n2) Check if you are creating a tunnel or try to ignore it\r\n \r\n```\r\nSSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(null, (x509CertChain, authType) -&gt; true).build();\r\n            httpClient = HttpClientBuilder.create()\r\n                    .setSSLContext(sslContext)\r\n                    .setConnectionManager(new PoolingHttpClientConnectionManager(RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                            .register(&quot;http&quot;, PlainConnectionSocketFactory.INSTANCE)\r\n                            .register(&quot;https&quot;, new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE))\r\n                            .build()\r\n                    )).build();\r\n\r\nhttpClient.execute(requisicao)\r\n```\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I leave some tips.</p>\n<ol>\n<li>Use -Dssl.debug=true to check SSL.</li>\n<li>Check if you are creating a tunnel or try to ignore it</li>\n</ol>\n<pre><code>SSLContext sslContext = new SSLContextBuilder().loadTrustMaterial(null, (x509CertChain, authType) -&gt; true).build();\n            httpClient = HttpClientBuilder.create()\n                    .setSSLContext(sslContext)\n                    .setConnectionManager(new PoolingHttpClientConnectionManager(RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                            .register(&quot;http&quot;, PlainConnectionSocketFactory.INSTANCE)\n                            .register(&quot;https&quot;, new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE))\n                            .build()\n                    )).build();\n\nhttpClient.execute(requisicao)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3435648,"reputation":109,"user_id":2878837,"display_name":"Wojciech Zawadzki"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629109913,"creation_date":1629109913,"answer_id":68801301,"question_id":21076179,"body_markdown":"In my case (Windows 10, IIS, local development environment (self signed SSL certificate), Apache JMeter). I have to import two certificates to cacerts.\r\nOne for my custom host name:\r\nCN = localhostCustom\r\nand second for localhost host name:\r\nCN = localhost\r\n\r\nRegards.\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case (Windows 10, IIS, local development environment (self signed SSL certificate), Apache JMeter). I have to import two certificates to cacerts.\nOne for my custom host name:\nCN = localhostCustom\nand second for localhost host name:\nCN = localhost</p>\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":12444230,"reputation":549,"user_id":9061008,"display_name":"Dmitry Rakovets"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635749219,"creation_date":1635749219,"answer_id":69793427,"question_id":21076179,"body_markdown":"**For Linux**\r\n1. Download certificate:\r\n\r\n```sh\r\necho \\\r\nopenssl s_client -showcerts -servername DOMAIN_NAME -connect DOMAIN_NAME:443 2&gt;/dev/null \\\r\nawk &#39;/-----BEGIN CERTIFICATE-----/, /-----END CERTIFICATE-----/&#39; &gt;&gt; ~/FILENAME.cer\r\n```\r\nPlaceholders:\r\n* `DOMAIN_NAME` - domain name for service\r\n* `FILENAME` - filepath cert\r\n\r\n2. Import cert to Java CA certs (**Java 11**):\r\n\r\n```sh\r\nkeytool -importcert -trustcacerts -file ~/FILENAME.cer -alias ca_alias -keystore $JAVA_HOME/lib/security/cacerts\r\n```\r\n\r\n3. Enter keystore default password `changeit`\r\n4. Trust this certificate: enter `yes`. Output:\r\n\r\n```\r\nCertificate was added to keystore\r\n```\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>For Linux</strong></p>\n<ol>\n<li>Download certificate:</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>echo \\\nopenssl s_client -showcerts -servername DOMAIN_NAME -connect DOMAIN_NAME:443 2&gt;/dev/null \\\nawk '/-----BEGIN CERTIFICATE-----/, /-----END CERTIFICATE-----/' &gt;&gt; ~/FILENAME.cer\n</code></pre>\n<p>Placeholders:</p>\n<ul>\n<li><code>DOMAIN_NAME</code> - domain name for service</li>\n<li><code>FILENAME</code> - filepath cert</li>\n</ul>\n<ol start=\"2\">\n<li>Import cert to Java CA certs (<strong>Java 11</strong>):</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>keytool -importcert -trustcacerts -file ~/FILENAME.cer -alias ca_alias -keystore $JAVA_HOME/lib/security/cacerts\n</code></pre>\n<ol start=\"3\">\n<li>Enter keystore default password <code>changeit</code></li>\n<li>Trust this certificate: enter <code>yes</code>. Output:</li>\n</ol>\n<pre><code>Certificate was added to keystore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268261,"reputation":117,"user_id":1996331,"display_name":"Shadaksharayya H A"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642851083,"creation_date":1642851083,"answer_id":70812354,"question_id":21076179,"body_markdown":"I was facing this issue with Java 8 but it got solved after upgrading to Java 11","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing this issue with Java 8 but it got solved after upgrading to Java 11</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645215724,"creation_date":1645215356,"answer_id":71179380,"question_id":21076179,"body_markdown":"## Error ##\r\n\r\n    A problem occurred configuring root project &#39;uy-android-pagos&#39;.\r\n    &gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n       &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\r\n         Required by:\r\n             project :\r\n          &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\r\n             &gt; Could not get resource &#39;https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom&#39;.\r\n                &gt; Could not GET &#39;https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom&#39;.\r\n                   &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n___\r\n\r\nSolution\r\n--------\r\n\r\nKeep in mind that there are many possible causes that generate this error, in my case I fixed it in the following way:\r\n\r\n1. Sync Project with Gradle Files\r\n2. Check the error `Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.`\r\n3. Change in `build.gradle (:project)` from `com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0` to `com.google.firebase:firebase-crashlytics-gradle:2.1.0` (note the whitespaces)\r\n\r\nAny errors in the dependency classpaths generate this type of exception. Check the gradle of the commit that generates the issue.\r\n\r\nGL","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<h2>Error</h2>\n<pre><code>A problem occurred configuring root project 'uy-android-pagos'.\n&gt; Could not resolve all artifacts for configuration ':classpath'.\n   &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\n     Required by:\n         project :\n      &gt; Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.\n         &gt; Could not get resource 'https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom'.\n            &gt; Could not GET 'https://depdes.artifactory.prod.cloud.ihf/artifactory/itau-oq6-frameworks-maven/com/goo%20%20gle/firebase/firebase-crashlytics-gradle/2.1.0/firebase-crashlytics-gradle-2.1.0.pom'.\n               &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>Keep in mind that there are many possible causes that generate this error, in my case I fixed it in the following way:</p>\n<ol>\n<li>Sync Project with Gradle Files</li>\n<li>Check the error <code>Could not resolve com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0.</code></li>\n<li>Change in <code>build.gradle (:project)</code> from <code>com.goo  gle.firebase:firebase-crashlytics-gradle:2.1.0</code> to <code>com.google.firebase:firebase-crashlytics-gradle:2.1.0</code> (note the whitespaces)</li>\n</ol>\n<p>Any errors in the dependency classpaths generate this type of exception. Check the gradle of the commit that generates the issue.</p>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645437567,"creation_date":1645437567,"answer_id":71204298,"question_id":21076179,"body_markdown":"If you encountered this error in an IDE such as `Spring Tools Suite` or `Eclipse`, first try using the `HTTP` version of your **URL** instead of `HTTPS`.\r\n\r\nI was encountering this error when I was trying to add `SonarQube` link to `Spring Tools Suite`. I replaced my **URL** with:\r\n\r\n    http://sonarqube...\r\n\r\ninstead of \r\n\r\n    https://sonarqube...\r\n\r\nI have successfully connected `SonarQube`.\r\n\r\nI hope it will be helpful for those who are looking for an answer to this question like me.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you encountered this error in an IDE such as <code>Spring Tools Suite</code> or <code>Eclipse</code>, first try using the <code>HTTP</code> version of your <strong>URL</strong> instead of <code>HTTPS</code>.</p>\n<p>I was encountering this error when I was trying to add <code>SonarQube</code> link to <code>Spring Tools Suite</code>. I replaced my <strong>URL</strong> with:</p>\n<pre><code>http://sonarqube...\n</code></pre>\n<p>instead of</p>\n<pre><code>https://sonarqube...\n</code></pre>\n<p>I have successfully connected <code>SonarQube</code>.</p>\n<p>I hope it will be helpful for those who are looking for an answer to this question like me.</p>\n"},{"tags":[],"owner":{"account_id":2391396,"reputation":22048,"user_id":2091181,"display_name":"Jorge Casariego"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646257700,"creation_date":1646257700,"answer_id":71329551,"question_id":21076179,"body_markdown":"In my case I solved this problem running from the Android Studio terminal the following command\r\n\r\n`./gradlew assemble`\r\n\r\nAfter that the project ran without problem. ","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case I solved this problem running from the Android Studio terminal the following command</p>\n<p><code>./gradlew assemble</code></p>\n<p>After that the project ran without problem.</p>\n"},{"tags":[],"owner":{"account_id":306491,"reputation":1448,"user_id":617271,"accept_rate":94,"display_name":"olyanren"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655905806,"creation_date":1655905806,"answer_id":72716758,"question_id":21076179,"body_markdown":"This is for Glassfish Server:\r\n\r\nNormally Glassfish looks at the cacerts.jks certificate file stored in the `GLASSFISH_SERVER\\glassfish\\domains\\domain1\\config` location.You can change this configuration or replace cacerts.jks file with your cacerts file.\r\n\r\nThere are some default JVM Options which Glassfish is used:\r\n\r\n     -XX:+UnlockDiagnosticVMOptions\r\n     -XX:NewRatio=2\r\n     -XX:MaxPermSize=192m\r\n     -Xmx512m\r\n     -client\r\n     -javaagent:C:/glassfish5/glassfish/lib/monitor/flashlight-agent.jar\r\n     -Djavax.xml.accessExternalSchema=all\r\n     -Djavax.net.ssl.trustStore=C:\\glassfish5\\glassfish\\domains\\domain1/config/cacerts.jks\r\n     -Djdk.tls.rejectClientInitiatedRenegotiation=true\r\n     -Djdk.corba.allowOutputStreamSubclass=true","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This is for Glassfish Server:</p>\n<p>Normally Glassfish looks at the cacerts.jks certificate file stored in the <code>GLASSFISH_SERVER\\glassfish\\domains\\domain1\\config</code> location.You can change this configuration or replace cacerts.jks file with your cacerts file.</p>\n<p>There are some default JVM Options which Glassfish is used:</p>\n<pre><code> -XX:+UnlockDiagnosticVMOptions\n -XX:NewRatio=2\n -XX:MaxPermSize=192m\n -Xmx512m\n -client\n -javaagent:C:/glassfish5/glassfish/lib/monitor/flashlight-agent.jar\n -Djavax.xml.accessExternalSchema=all\n -Djavax.net.ssl.trustStore=C:\\glassfish5\\glassfish\\domains\\domain1/config/cacerts.jks\n -Djdk.tls.rejectClientInitiatedRenegotiation=true\n -Djdk.corba.allowOutputStreamSubclass=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13865920,"reputation":19,"user_id":10010425,"display_name":"Kundan Thakur"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663858218,"creation_date":1663858218,"answer_id":73816710,"question_id":21076179,"body_markdown":"if you&#39;re using ubuntu/linux system run the below command in terminal.\r\n\r\n**cd /usr/local/share/ca-certificates**\r\n\r\n**cp /location ofthe file/----.crt .** (copy the crt file in this /usr/local/share/ca-certificates)\r\n\r\n**sudo update-ca-certificates**","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>if you're using ubuntu/linux system run the below command in terminal.</p>\n<p><strong>cd /usr/local/share/ca-certificates</strong></p>\n<p><strong>cp /location ofthe file/----.crt .</strong> (copy the crt file in this /usr/local/share/ca-certificates)</p>\n<p><strong>sudo update-ca-certificates</strong></p>\n"},{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664860949,"creation_date":1664860949,"answer_id":73943425,"question_id":21076179,"body_markdown":"The trusted certificate are stored in at key tool . When any website trusted certificates are not added in key tools this error occurs. In addition to above answer please refer\r\n\r\nhttps://stackoverflow.com/questions/72859703/facing-pkix-path-building-failed-exception-in-selenium-broken-link-script/72862934#72862934","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The trusted certificate are stored in at key tool . When any website trusted certificates are not added in key tools this error occurs. In addition to above answer please refer</p>\n<p><a href=\"https://stackoverflow.com/questions/72859703/facing-pkix-path-building-failed-exception-in-selenium-broken-link-script/72862934#72862934\">Facing PKIX path building failed exception in selenium broken link script</a></p>\n"},{"tags":[],"owner":{"account_id":21969128,"reputation":83,"user_id":16245897,"display_name":"Vineeta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666549249,"creation_date":1666549249,"answer_id":74173665,"question_id":21076179,"body_markdown":" -  change JDK version from older jdk1.8.0_90 version to some latest version jdk1.8.0_239\r\n - As mentioned in above answers import certificates to keystore\r\n - Add keystore properties to gradle.properties file in java/react native android based projects\r\n\r\n&gt;  systemProp.javax.net.ssl.trustStore=C://Program\r\n&gt; Files//AdoptOpenJDK//jdk-8.0.282.8-hotspot//jre//lib//security//cacerts\r\n&gt; \r\n&gt; systemProp.javax.net.ssl.trustStorePassword=changeit","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<ul>\n<li>change JDK version from older jdk1.8.0_90 version to some latest version jdk1.8.0_239</li>\n<li>As mentioned in above answers import certificates to keystore</li>\n<li>Add keystore properties to gradle.properties file in java/react native android based projects</li>\n</ul>\n<blockquote>\n<p>systemProp.javax.net.ssl.trustStore=C://Program\nFiles//AdoptOpenJDK//jdk-8.0.282.8-hotspot//jre//lib//security//cacerts</p>\n<p>systemProp.javax.net.ssl.trustStorePassword=changeit</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1669660577,"creation_date":1669660577,"answer_id":74605095,"question_id":21076179,"body_markdown":"Simple Steps to resolve this Exception, (I did it on java 11),\r\n\r\n* First you need to Download the public SSL certificate file of the target domain that you are trying to call,for that\r\n* Open the target domain website in the chrome (Example: https://amazonservice.domain.com)\r\n* Click on the small lock icon before the URL in the browser\r\n* Click View certificates\r\n* Now Click on Certificate is valid as shown below\r\n* [![enter image description here][1]][1]\r\n* Now a new Popup will open as shown below, \r\n[![Go][2]][2]\r\n* Open the details tab\r\n* Select the RootCert at the top\r\n* Click Export and save the .cer file to your system in a directory\r\n\r\nNow you have the public keystore of your target domain which you are trying to call in your java application,now we need to impot that keystore into you jre,for that go to the $JAVA_HOME/bin directory and run the following command\r\n\r\n    ./keytool -importcert -alias someAliasName -keystore {JAVA_HOME}/lib/security/cacerts -file {PathToDownloads}/certificateFileName.cer\r\n\r\nIt will ask you for password, enter the password if you know, the default password for the certificate is `changeit`\r\n\r\nReferences\r\n\r\n 1. https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\r\n 2. https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html\r\n\r\n  [1]: https://i.stack.imgur.com/r9OwI.png\r\n  [2]: https://i.stack.imgur.com/Lbw03.png","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Simple Steps to resolve this Exception, (I did it on java 11),</p>\n<ul>\n<li>First you need to Download the public SSL certificate file of the target domain that you are trying to call,for that</li>\n<li>Open the target domain website in the chrome (Example: <a href=\"https://amazonservice.domain.com\" rel=\"noreferrer\">https://amazonservice.domain.com</a>)</li>\n<li>Click on the small lock icon before the URL in the browser</li>\n<li>Click View certificates</li>\n<li>Now Click on Certificate is valid as shown below</li>\n<li><a href=\"https://i.stack.imgur.com/r9OwI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/r9OwI.png\" alt=\"enter image description here\" /></a></li>\n<li>Now a new Popup will open as shown below,\n<a href=\"https://i.stack.imgur.com/Lbw03.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Lbw03.png\" alt=\"Go\" /></a></li>\n<li>Open the details tab</li>\n<li>Select the RootCert at the top</li>\n<li>Click Export and save the .cer file to your system in a directory</li>\n</ul>\n<p>Now you have the public keystore of your target domain which you are trying to call in your java application,now we need to impot that keystore into you jre,for that go to the $JAVA_HOME/bin directory and run the following command</p>\n<pre><code>./keytool -importcert -alias someAliasName -keystore {JAVA_HOME}/lib/security/cacerts -file {PathToDownloads}/certificateFileName.cer\n</code></pre>\n<p>It will ask you for password, enter the password if you know, the default password for the certificate is <code>changeit</code></p>\n<p>References</p>\n<ol>\n<li><a href=\"https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\" rel=\"noreferrer\">https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html</a></li>\n<li><a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html\" rel=\"noreferrer\">https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-error-779355358.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":281666,"reputation":3093,"user_id":578098,"accept_rate":25,"display_name":"Khushboo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671040609,"creation_date":1671040609,"answer_id":74802450,"question_id":21076179,"body_markdown":"Please select the root certificate. By default browsers select the child certificate which may not resolve the issue. See this thread for more details: https://stackoverflow.com/questions/74799868/unable-to-find-valid-certification-path-to-requested-target\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Please select the root certificate. By default browsers select the child certificate which may not resolve the issue. See this thread for more details: <a href=\"https://stackoverflow.com/questions/74799868/unable-to-find-valid-certification-path-to-requested-target\">unable to find valid certification path to requested target</a></p>\n"},{"comments":[{"owner":{"account_id":2277880,"reputation":153,"user_id":2003712,"display_name":"brajmohan"},"score":0,"creation_date":1689315232,"post_id":75532442,"comment_id":135198644,"body_markdown":"WOW, Awesome. This is indispensible tool","body":"WOW, Awesome. This is indispensible tool"}],"tags":[],"owner":{"account_id":13243884,"reputation":289,"user_id":9563588,"display_name":"Mic&#243; Papp"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678787015,"creation_date":1677067379,"answer_id":75532442,"question_id":21076179,"body_markdown":"Above suggestions work however I wanted a more simple and command line only solution as I need it relatively often so I came up with `jssl`.\r\n\r\n**TLDR:**  \r\n`jssl example.com install`  \r\n`jssl example.com ping`  \r\n`jssl example.com uninstall`\r\n\r\nYou can install jssl via homebrew:  \r\n`brew install pmamico/java/jssl`  \r\nor without homebrew:  \r\n`curl -sL https://raw.githubusercontent.com/pmamico/java-ssl-tools/main/install.sh | bash`\r\n\r\nIt works on Windows, macOS and Linux also.   \r\nSee more at https://github.com/pmamico/java-ssl-tools","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Above suggestions work however I wanted a more simple and command line only solution as I need it relatively often so I came up with <code>jssl</code>.</p>\n<p><strong>TLDR:</strong><br />\n<code>jssl example.com install</code><br />\n<code>jssl example.com ping</code><br />\n<code>jssl example.com uninstall</code></p>\n<p>You can install jssl via homebrew:<br />\n<code>brew install pmamico/java/jssl</code><br />\nor without homebrew:<br />\n<code>curl -sL https://raw.githubusercontent.com/pmamico/java-ssl-tools/main/install.sh | bash</code></p>\n<p>It works on Windows, macOS and Linux also.<br />\nSee more at <a href=\"https://github.com/pmamico/java-ssl-tools\" rel=\"nofollow noreferrer\">https://github.com/pmamico/java-ssl-tools</a></p>\n"},{"tags":[],"owner":{"account_id":9252076,"reputation":316,"user_id":6872259,"display_name":"Akhilesh Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679335588,"creation_date":1679335588,"answer_id":75793837,"question_id":21076179,"body_markdown":"**Working steps via Linux terminal ( steps below )**\r\n\r\n 1. download the certs for the URL complaining ( for me `repo.maven.apache.org` was complaining )\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    openssl s_client -showcerts -connect repo.maven.apache.org:443 &lt;/dev/null | sed -n -e &#39;/-.BEGIN/,/-.END/ p&#39; &gt; /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Extract the certificate information to existing keystore file ( let&#39;s say `abc.jks` )\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    sudo $JAVA_HOME/bin/keytool -trustcacerts -keystore /home/akhilesh/abc.jks  -storepass changeit -importcert -alias mavenrepo -file /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. If you do not have existing keystore file then you can add it to `${JAVA_HOME}/lib/security/cacerts`\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    sudo ${JAVA_HOME}/bin/keytool -importcert -alias &quot;MavenCert&quot; -keystore /${JAVA_HOME}/lib/security/cacerts -file /tmp/maven_repo.pem\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p><strong>Working steps via Linux terminal ( steps below )</strong></p>\n<ol>\n<li>download the certs for the URL complaining ( for me <code>repo.maven.apache.org</code> was complaining )</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>openssl s_client -showcerts -connect repo.maven.apache.org:443 &lt;/dev/null | sed -n -e '/-.BEGIN/,/-.END/ p' &gt; /tmp/maven_repo.pem\n</code></pre>\n\n<ol start=\"2\">\n<li>Extract the certificate information to existing keystore file ( let's say <code>abc.jks</code> )</li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>sudo $JAVA_HOME/bin/keytool -trustcacerts -keystore /home/akhilesh/abc.jks  -storepass changeit -importcert -alias mavenrepo -file /tmp/maven_repo.pem\n</code></pre>\n\n<ol start=\"3\">\n<li>If you do not have existing keystore file then you can add it to <code>${JAVA_HOME}/lib/security/cacerts</code></li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>sudo ${JAVA_HOME}/bin/keytool -importcert -alias &quot;MavenCert&quot; -keystore /${JAVA_HOME}/lib/security/cacerts -file /tmp/maven_repo.pem\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680774738,"creation_date":1680774738,"answer_id":75948144,"question_id":21076179,"body_markdown":"In my case a proxy software installed on my mac was the culprit.\r\n\r\n\r\nI faced this when I was trying build project on my Macbook. I tried so many solutions but none worked. Finally saw that the IT team had installed a proxy software and suspected that the proxy software could be blocking gradle to download the dependencies. I connected with IT Team and got the proxy uninstalled and then synced the project and it worked finally.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>In my case a proxy software installed on my mac was the culprit.</p>\n<p>I faced this when I was trying build project on my Macbook. I tried so many solutions but none worked. Finally saw that the IT team had installed a proxy software and suspected that the proxy software could be blocking gradle to download the dependencies. I connected with IT Team and got the proxy uninstalled and then synced the project and it worked finally.</p>\n"},{"tags":[],"owner":{"account_id":16156651,"reputation":381,"user_id":11663756,"display_name":"Rohit Tatiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684236656,"creation_date":1684236656,"answer_id":76262524,"question_id":21076179,"body_markdown":"If you&#39;re facing issues with below exception:\r\n\r\n**Issue:** javax.net.ssl.SSLHandshakeException: PKIX path building failed ..... unable to find valid certification path to requested target.\r\n\r\n**Cause:** SSL Handshake is failing because the require server certificate is not present at client. For JAVA application stack it uses its own certificate store either in JRE or JDK locations:\r\n1) **JRE:** jre/lib/security/cacerts\r\n2) **JDK:** :\\Program Files\\Java\\jdk-11.0.15.1\\lib/security/cacerts\r\n\r\n**Solution:** you need to register the certificate inside cacerts folder of JAVA set up using below command:\r\n\r\n**keytool -import -alias {certificate-name} -keystore  &quot;{absolute-path-of-cacerts-directory}&quot; -file {.cer-file-location}**\r\n\r\nThis utility uses default password as &quot;changeit&quot;. Please enter this password when get prompted.\r\n\r\nIf keytool is not recognized please note that this .exe is part of JRE or JDK bin folder hence adding that path inside local machine environment variable called &quot;Path&quot; should fix this issue.\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>If you're facing issues with below exception:</p>\n<p><strong>Issue:</strong> javax.net.ssl.SSLHandshakeException: PKIX path building failed ..... unable to find valid certification path to requested target.</p>\n<p><strong>Cause:</strong> SSL Handshake is failing because the require server certificate is not present at client. For JAVA application stack it uses its own certificate store either in JRE or JDK locations:</p>\n<ol>\n<li><strong>JRE:</strong> jre/lib/security/cacerts</li>\n<li><strong>JDK:</strong> :\\Program Files\\Java\\jdk-11.0.15.1\\lib/security/cacerts</li>\n</ol>\n<p><strong>Solution:</strong> you need to register the certificate inside cacerts folder of JAVA set up using below command:</p>\n<p><strong>keytool -import -alias {certificate-name} -keystore  &quot;{absolute-path-of-cacerts-directory}&quot; -file {.cer-file-location}</strong></p>\n<p>This utility uses default password as &quot;changeit&quot;. Please enter this password when get prompted.</p>\n<p>If keytool is not recognized please note that this .exe is part of JRE or JDK bin folder hence adding that path inside local machine environment variable called &quot;Path&quot; should fix this issue.</p>\n"},{"tags":[],"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685551185,"creation_date":1685551185,"answer_id":76375673,"question_id":21076179,"body_markdown":"The proposed solutions did not work for me. I ended up using this workaround. Keep in mind, not ideal.\r\n\r\n    -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.resolver.transport=wagon","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>The proposed solutions did not work for me. I ended up using this workaround. Keep in mind, not ideal.</p>\n<pre><code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true -Dmaven.resolver.transport=wagon\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1693220349,"creation_date":1693220023,"answer_id":76992172,"question_id":21076179,"body_markdown":"This issue is mostly due to the request is being blocked by the application in our system that protect us from the cyberattacks.\r\n\r\nIn my case, I tried accessing a trusted API service so I just resolved it by adding the zscaler certicate to the `lib/security/cacerts` file of my jdk 17, which is being used in the IDE by executing the below keytool command in the cmd.\r\n\r\n    keytool -keystore  &quot;C:\\dev\\java\\jdk-17.0.7\\lib\\security\\cacerts&quot; -import -alias zscalarCert -file &quot;C:\\Users\\theri\\Documents\\zscalar-cert.crt&quot;\r\n    \r\n    password:- changeit\r\n\r\n","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>This issue is mostly due to the request is being blocked by the application in our system that protect us from the cyberattacks.</p>\n<p>In my case, I tried accessing a trusted API service so I just resolved it by adding the zscaler certicate to the <code>lib/security/cacerts</code> file of my jdk 17, which is being used in the IDE by executing the below keytool command in the cmd.</p>\n<pre><code>keytool -keystore  &quot;C:\\dev\\java\\jdk-17.0.7\\lib\\security\\cacerts&quot; -import -alias zscalarCert -file &quot;C:\\Users\\theri\\Documents\\zscalar-cert.crt&quot;\n\npassword:- changeit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699192501,"creation_date":1697909775,"answer_id":77337117,"question_id":21076179,"body_markdown":"Although alot answers have been provided, I would like to suggest a simple alternative based on [certificate ripper][1] which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.\r\n```\r\ncrip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\r\n```\r\n\r\nIn some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linx. Binaries can be found here: [certificate ripper binaries][2]\r\n\r\n\r\n  [1]: https://github.com/Hakky54/certificate-ripper\r\n  [2]: https://github.com/Hakky54/certificate-ripper/releases","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>Although alot answers have been provided, I would like to suggest a simple alternative based on <a href=\"https://github.com/Hakky54/certificate-ripper\" rel=\"nofollow noreferrer\">certificate ripper</a> which I have built myself. It extracts the server certificate and adds it the cacert truststore of the jdk. See below for the command.</p>\n<pre><code>crip export jks -u=https://[HOST:[PORT] -d=$JAVA_HOME/jre/lib/security/cacerts\n</code></pre>\n<p>In some cases you need to run it with sudo or admin rights. It is available for Windows, Mac and Linx. Binaries can be found here: <a href=\"https://github.com/Hakky54/certificate-ripper/releases\" rel=\"nofollow noreferrer\">certificate ripper binaries</a></p>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792195,"creation_date":1701792195,"answer_id":77607615,"question_id":21076179,"body_markdown":"I was facing this error in Flutter project.\r\n\r\nThe issue was due to the restriction put by the security softwares installed in my company&#39;s laptop.\r\n\r\nThe solution was given by the IT team that connect to the VPN provided by company. Then I was able to download the required files and the project ran successfully.\r\n\r\nNote: I needed to connect only one time to the company&#39;s VPN. Once the project ran successfully, then I didn&#39;t need to connect to VPN.","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I was facing this error in Flutter project.</p>\n<p>The issue was due to the restriction put by the security softwares installed in my company's laptop.</p>\n<p>The solution was given by the IT team that connect to the VPN provided by company. Then I was able to download the required files and the project ran successfully.</p>\n<p>Note: I needed to connect only one time to the company's VPN. Once the project ran successfully, then I didn't need to connect to VPN.</p>\n"}],"owner":{"account_id":1148416,"reputation":10826,"user_id":1130672,"accept_rate":74,"display_name":"bofanda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3175723,"favorite_count":0,"down_vote_count":1,"up_vote_count":894,"accepted_answer_id":36427118,"answer_count":61,"score":893,"last_activity_date":1701792195,"creation_date":1389539085,"question_id":21076179,"body_markdown":"I&#39;m trying to get tweets using twitter4j library for my java project which uses under the covers `java.net.HttpURLConnection` (as can be seen in stack trace). On my first run I got an error about certificate `sun.security.validator.ValidatorException` and `sun.security.provider.certpath.SunCertPathBuilderException`. Then I added twitter certificate by:\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security&gt;keytool -importcert -trustcacerts -file PathToCert -alias ca_alias -keystore &quot;C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts&quot;\r\n\r\nBut without success. Here is the procedure to get tweets:\r\n\r\n    public static void main(String[] args) throws TwitterException {\r\n        ConfigurationBuilder cb = new ConfigurationBuilder();\r\n        cb.setDebugEnabled(true)\r\n            .setOAuthConsumerKey(&quot;myConsumerKey&quot;)\r\n            .setOAuthConsumerSecret(&quot;myConsumerSecret&quot;)\r\n            .setOAuthAccessToken(&quot;myAccessToken&quot;)\r\n            .setOAuthAccessTokenSecret(&quot;myAccessTokenSecret&quot;);\r\n        \r\n        TwitterFactory tf = new TwitterFactory(cb.build());\r\n        Twitter twitter = tf.getInstance();\r\n        \r\n        try {\r\n            Query query = new Query(&quot;iphone&quot;);\r\n            QueryResult result;\r\n            result = twitter.search(query);\r\n            System.out.println(&quot;Total amount of tweets: &quot; + result.getTweets().size());\r\n            List&lt;Status&gt; tweets = result.getTweets();\r\n            \r\n            for (Status tweet : tweets) {\r\n                System.out.println(&quot;@&quot; + tweet.getUser().getScreenName() + &quot; : &quot; + tweet.getText());\r\n            }\r\n        } catch (TwitterException te) {\r\n            te.printStackTrace();\r\n            System.out.println(&quot;Failed to search tweets: &quot; + te.getMessage());\r\n        }\r\n\r\nAnd here is the error:\r\n\r\n    sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    Relevant discussions can be found on the Internet at:\r\n        http://www.google.co.jp/search?q=d35baff5 or\r\n        http://www.google.co.jp/search?q=1446302e\r\n    TwitterException{exceptionCode=[d35baff5-1446302e 43208640-747fd158 43208640-747fd158 43208640-747fd158], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=3.0.5}\r\n        at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:177)\r\n        at twitter4j.internal.http.HttpClientWrapper.request(HttpClientWrapper.java:61)\r\n        at twitter4j.internal.http.HttpClientWrapper.get(HttpClientWrapper.java:81)\r\n        at twitter4j.TwitterImpl.get(TwitterImpl.java:1929)\r\n        at twitter4j.TwitterImpl.search(TwitterImpl.java:306)\r\n        at jku.cc.servlets.TweetsAnalyzer.main(TweetsAnalyzer.java:38)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n        at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n        at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n        at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n        at sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n        at sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n        at java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\r\n        at twitter4j.internal.http.HttpResponseImpl.&lt;init&gt;(HttpResponseImpl.java:34)\r\n        at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:141)\r\n        ... 5 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n        at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n        at sun.security.validator.Validator.validate(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n        ... 20 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n        at java.security.cert.CertPathBuilder.build(Unknown Source)\r\n        ... 26 more\r\n    Failed to search tweets: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","title":"&quot;PKIX path building failed&quot; and &quot;unable to find valid certification path to requested target&quot;","body":"<p>I'm trying to get tweets using twitter4j library for my java project which uses under the covers <code>java.net.HttpURLConnection</code> (as can be seen in stack trace). On my first run I got an error about certificate <code>sun.security.validator.ValidatorException</code> and <code>sun.security.provider.certpath.SunCertPathBuilderException</code>. Then I added twitter certificate by:</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security&gt;keytool -importcert -trustcacerts -file PathToCert -alias ca_alias -keystore &quot;C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts&quot;\n</code></pre>\n<p>But without success. Here is the procedure to get tweets:</p>\n<pre><code>public static void main(String[] args) throws TwitterException {\n    ConfigurationBuilder cb = new ConfigurationBuilder();\n    cb.setDebugEnabled(true)\n        .setOAuthConsumerKey(&quot;myConsumerKey&quot;)\n        .setOAuthConsumerSecret(&quot;myConsumerSecret&quot;)\n        .setOAuthAccessToken(&quot;myAccessToken&quot;)\n        .setOAuthAccessTokenSecret(&quot;myAccessTokenSecret&quot;);\n    \n    TwitterFactory tf = new TwitterFactory(cb.build());\n    Twitter twitter = tf.getInstance();\n    \n    try {\n        Query query = new Query(&quot;iphone&quot;);\n        QueryResult result;\n        result = twitter.search(query);\n        System.out.println(&quot;Total amount of tweets: &quot; + result.getTweets().size());\n        List&lt;Status&gt; tweets = result.getTweets();\n        \n        for (Status tweet : tweets) {\n            System.out.println(&quot;@&quot; + tweet.getUser().getScreenName() + &quot; : &quot; + tweet.getText());\n        }\n    } catch (TwitterException te) {\n        te.printStackTrace();\n        System.out.println(&quot;Failed to search tweets: &quot; + te.getMessage());\n    }\n</code></pre>\n<p>And here is the error:</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nRelevant discussions can be found on the Internet at:\n    http://www.google.co.jp/search?q=d35baff5 or\n    http://www.google.co.jp/search?q=1446302e\nTwitterException{exceptionCode=[d35baff5-1446302e 43208640-747fd158 43208640-747fd158 43208640-747fd158], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=3.0.5}\n    at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:177)\n    at twitter4j.internal.http.HttpClientWrapper.request(HttpClientWrapper.java:61)\n    at twitter4j.internal.http.HttpClientWrapper.get(HttpClientWrapper.java:81)\n    at twitter4j.TwitterImpl.get(TwitterImpl.java:1929)\n    at twitter4j.TwitterImpl.search(TwitterImpl.java:306)\n    at jku.cc.servlets.TweetsAnalyzer.main(TweetsAnalyzer.java:38)\nCaused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source)\n    at twitter4j.internal.http.HttpResponseImpl.&lt;init&gt;(HttpResponseImpl.java:34)\n    at twitter4j.internal.http.HttpClientImpl.request(HttpClientImpl.java:141)\n    ... 5 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\n    at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n    at sun.security.validator.Validator.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n    ... 20 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\n    at java.security.cert.CertPathBuilder.build(Unknown Source)\n    ... 26 more\nFailed to search tweets: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1701792320,"post_id":77607612,"comment_id":136817958,"body_markdown":"Can you process the records one-by-one, or you need all of them in memory at one time?","body":"Can you process the records one-by-one, or you need all of them in memory at one time?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701800572,"post_id":77607612,"comment_id":136819475,"body_markdown":"Use pagination to pull in batches of a data at at time for processing, then clear the results from memory (EntityManager.clear() and other cache clearing mechanisms exist depending on your level of caching). Building objects is overhead , so if you can use the raw data, just pull it using data queries instead of building entities (&quot;select entity.x, entity.y from Entity entity where ...&quot;) so that the data itself isn&#39;t built into objects and cached. Less you need to pull the better though as you&#39;ll need to balance GC overhead and network traffic.","body":"Use pagination to pull in batches of a data at at time for processing, then clear the results from memory (EntityManager.clear() and other cache clearing mechanisms exist depending on your level of caching). Building objects is overhead , so if you can use the raw data, just pull it using data queries instead of building entities (&quot;select entity.x, entity.y from Entity entity where ...&quot;) so that the data itself isn&#39;t built into objects and cached. Less you need to pull the better though as you&#39;ll need to balance GC overhead and network traffic."},{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":0,"creation_date":1701860693,"post_id":77607612,"comment_id":136826624,"body_markdown":"It depends whats in the columns. 200k records is a small number and should be no problem. You can fetch that into memory and do your computation. Only fetch the columns you really need. Not all 500 columns.","body":"It depends whats in the columns. 200k records is a small number and should be no problem. You can fetch that into memory and do your computation. Only fetch the columns you really need. Not all 500 columns."}],"owner":{"account_id":26421834,"reputation":1,"user_id":20069397,"display_name":"KP_EV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701802990,"answer_count":0,"score":-2,"last_activity_date":1701792182,"creation_date":1701792182,"question_id":77607612,"body_markdown":"for reasons i cannot explain, i have a really big table (500 columns and ~200k rows) and **really** need to call findAll() or something simliar to iterate over the whole table and compute some internal values with java code.\r\n\r\nI am mostly thinking about the memory usage of such big objects and lots of entities.\r\n\r\nIs there a way to keep the memory footprint low/the performance okayish for such a thing?\r\n\r\ni have read that streamAll() still keeps everything in memory because of hibernate caching mechanisms.\r\n\r\n","title":"efficient findAll to iterate over a table in java?","body":"<p>for reasons i cannot explain, i have a really big table (500 columns and ~200k rows) and <strong>really</strong> need to call findAll() or something simliar to iterate over the whole table and compute some internal values with java code.</p>\n<p>I am mostly thinking about the memory usage of such big objects and lots of entities.</p>\n<p>Is there a way to keep the memory footprint low/the performance okayish for such a thing?</p>\n<p>i have read that streamAll() still keeps everything in memory because of hibernate caching mechanisms.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6839005,"reputation":133551,"user_id":5260024,"display_name":"Jonas Wilms"},"score":0,"creation_date":1471268136,"post_id":38956056,"comment_id":65266140,"body_markdown":"Set count to a boolean. Simply set it to true and if it is already true set it back to false and exit the loop","body":"Set count to a boolean. Simply set it to true and if it is already true set it back to false and exit the loop"},{"owner":{"account_id":8720371,"reputation":1009,"user_id":6523710,"accept_rate":100,"display_name":"Javant"},"score":3,"creation_date":1471268177,"post_id":38956056,"comment_id":65266158,"body_markdown":"Well you do have count%2==0 which means there was an even number of times the letter showed up.. if you want exactly two just do count == 2","body":"Well you do have count%2==0 which means there was an even number of times the letter showed up.. if you want exactly two just do count == 2"},{"owner":{"account_id":2721223,"reputation":7815,"user_id":2347483,"display_name":"Phylogenesis"},"score":1,"creation_date":1471268583,"post_id":38956056,"comment_id":65266371,"body_markdown":"You are counting the total number of paired letters in your string and seeing if it&#39;s even. This is not what you say you are trying to do. For instance, the strings `aa` and `abcabc` would both fail your test.","body":"You are counting the total number of paired letters in your string and seeing if it&#39;s even. This is not what you say you are trying to do. For instance, the strings <code>aa</code> and <code>abcabc</code> would both fail your test."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":1,"creation_date":1471268927,"post_id":38956056,"comment_id":65266569,"body_markdown":"You could use a `hashmap` to store each letter and the number of times it occurs in the `string`. Loop through your `hashmap`&#39;s values and if any of them do not equal 2 then it is not a `doubloon`...","body":"You could use a <code>hashmap</code> to store each letter and the number of times it occurs in the <code>string</code>. Loop through your <code>hashmap</code>&#39;s values and if any of them do not equal 2 then it is not a <code>doubloon</code>..."}],"answers":[{"comments":[{"owner":{"account_id":6951436,"reputation":1275,"user_id":5333936,"accept_rate":89,"display_name":"CloudPotato"},"score":0,"creation_date":1471271950,"post_id":38956195,"comment_id":65268486,"body_markdown":"@JO_VIC It is like the efficiency of the algorithm. See here: [Big O notation](https://en.wikipedia.org/wiki/Big_O_notation)","body":"@JO_VIC It is like the efficiency of the algorithm. See here: <a href=\"https://en.wikipedia.org/wiki/Big_O_notation\" rel=\"nofollow noreferrer\">Big O notation</a>"}],"tags":[],"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471269023,"creation_date":1471268405,"answer_id":38956195,"question_id":38956056,"body_markdown":"Your code counts how often each letter occurs (-1) and adds all this values. If the result is even you imply that each letter is exactly twice in the word. That cannot work.\r\n\r\nSimply try the word &quot;aaabbbb&quot;. (your code think it is a doubloon)\r\n\r\nSo you need to check if no character occurs exactly twice and that for each character separately.\r\n\r\nYou could do it this way:\r\n\r\n    public static void main(String[] args) {\r\n      if(isDoubloon(&quot;Shanghaiingss&quot;)){\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n      }else{\r\n        System.err.println(&quot;False, This is not a doubloon&quot;);\r\n      }\r\n    }   \r\n\r\n\r\n    public static boolean isDoubloon(final String s) {\r\n        final String l = s.toLowerCase();\r\n\r\n        for (int i = 0; i &lt; l.length(); i++) {\r\n            int count = 0;\r\n            for (int j = 0; j &lt; l.length(); j++) {\r\n               if (l.charAt(i) == l.charAt(j)) {\r\n                  count++;\r\n                  if (2 &lt; count) {\r\n                    return false; // more than twice\r\n                  } \r\n               }\r\n            }\r\n            if (1 == count) {\r\n                return false; // character occurs only once\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nThis algorithm is similar to yours. But it is far from fast **O(n&#178;)**. Is you need it you can implement it faster **O(n)** but you would need some extra space.","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Your code counts how often each letter occurs (-1) and adds all this values. If the result is even you imply that each letter is exactly twice in the word. That cannot work.</p>\n\n<p>Simply try the word \"aaabbbb\". (your code think it is a doubloon)</p>\n\n<p>So you need to check if no character occurs exactly twice and that for each character separately.</p>\n\n<p>You could do it this way:</p>\n\n<pre><code>public static void main(String[] args) {\n  if(isDoubloon(\"Shanghaiingss\")){\n    System.out.println(\"True, This is a doubloon\");\n  }else{\n    System.err.println(\"False, This is not a doubloon\");\n  }\n}   \n\n\npublic static boolean isDoubloon(final String s) {\n    final String l = s.toLowerCase();\n\n    for (int i = 0; i &lt; l.length(); i++) {\n        int count = 0;\n        for (int j = 0; j &lt; l.length(); j++) {\n           if (l.charAt(i) == l.charAt(j)) {\n              count++;\n              if (2 &lt; count) {\n                return false; // more than twice\n              } \n           }\n        }\n        if (1 == count) {\n            return false; // character occurs only once\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This algorithm is similar to yours. But it is far from fast <strong>O(n)</strong>. Is you need it you can implement it faster <strong>O(n)</strong> but you would need some extra space.</p>\n"},{"comments":[{"owner":{"account_id":8425242,"reputation":3,"user_id":6322750,"accept_rate":50,"display_name":"JO_VIC"},"score":0,"creation_date":1471269659,"post_id":38956323,"comment_id":65267026,"body_markdown":"thanks alot, your&#39;s works perfectly, but was my error initializing j=i+1; and count%2==0;...i&#39;m kinda new to java so its pretty tough","body":"thanks alot, your&#39;s works perfectly, but was my error initializing j=i+1; and count%2==0;...i&#39;m kinda new to java so its pretty tough"},{"owner":{"account_id":6951436,"reputation":1275,"user_id":5333936,"accept_rate":89,"display_name":"CloudPotato"},"score":0,"creation_date":1471270947,"post_id":38956323,"comment_id":65267856,"body_markdown":"@JO_VIC The main problem was that you haven&#39;t checked each character by its own (counter outside the loop). And the `%2` operator doesn&#39;t make much sense, because it is also true if the occurence is 4,6,8,... But keep on programming. Your code style looks good. It was just a logical mistake :)","body":"@JO_VIC The main problem was that you haven&#39;t checked each character by its own (counter outside the loop). And the <code>%2</code> operator doesn&#39;t make much sense, because it is also true if the occurence is 4,6,8,... But keep on programming. Your code style looks good. It was just a logical mistake :)"},{"owner":{"account_id":8425242,"reputation":3,"user_id":6322750,"accept_rate":50,"display_name":"JO_VIC"},"score":0,"creation_date":1471271240,"post_id":38956323,"comment_id":65268046,"body_markdown":"@Blobanat, oww i get the flaw now hmm good ,the encouragement is gon make me work harder :)  thanks again.","body":"@Blobanat, oww i get the flaw now hmm good ,the encouragement is gon make me work harder :)  thanks again."}],"tags":[],"owner":{"account_id":6951436,"reputation":1275,"user_id":5333936,"accept_rate":89,"display_name":"CloudPotato"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1471268946,"creation_date":1471268946,"answer_id":38956323,"question_id":38956056,"body_markdown":"Your whole logic is not correct. You have to check for every letter in your text if it occurs twice.\r\n\r\nTry this:\r\n\r\n    String l=s.toLowerCase();\r\n    boolean check = true;\r\n    \r\n    for(int i= 0; i&lt;l.length();i++){\r\n        int count=0;\r\n        for(int j=0;j&lt;l.length();j++){\r\n            if(l.charAt(i)==l.charAt(j)) count++;\r\n         }\r\n         if (count != 2) {\r\n             check = false;\r\n             break;\r\n         }\r\n    }\r\n    if(check==true){\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n    }else\r\n        System.out.println(&quot;False, This is not a doubloon&quot;);\r\n    }","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Your whole logic is not correct. You have to check for every letter in your text if it occurs twice.</p>\n\n<p>Try this:</p>\n\n<pre><code>String l=s.toLowerCase();\nboolean check = true;\n\nfor(int i= 0; i&lt;l.length();i++){\n    int count=0;\n    for(int j=0;j&lt;l.length();j++){\n        if(l.charAt(i)==l.charAt(j)) count++;\n     }\n     if (count != 2) {\n         check = false;\n         break;\n     }\n}\nif(check==true){\n    System.out.println(\"True, This is a doubloon\");\n}else\n    System.out.println(\"False, This is not a doubloon\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471269308,"creation_date":1471269308,"answer_id":38956433,"question_id":38956056,"body_markdown":"The main flaw here is that you are using a single &quot;count&quot; variable when you want to do a count for each letter.\r\n\r\nI would suggest using a map to hold a count for each letter, loop over the list and add each letter to your map and finally iterate over the map and confirm all values are 2.\r\n\r\n    public static void isDoubloon(String s){\r\n        String l=s.toLowerCase();\r\n        Map&lt;Character, Integer&gt; counts = new HashMap();\r\n\r\n        for(int i= 0; i&lt;l.length()-1;i++){\r\n            int prevValue = counts.getOrDefault(l.charAt(i), 0);\r\n            counts.put(l.charAt(i), prevValue + 1);\r\n        }\r\n\r\n        for (Map.Entry&lt;Character, Integer&gt; entry: counts.entrySet()) {\r\n            if (entry.getValue() != 2) {\r\n                System.err.println(&quot;False, This is not a doubloon&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;True, This is a doubloon&quot;);\r\n    }\r\n\r\n\r\n","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>The main flaw here is that you are using a single \"count\" variable when you want to do a count for each letter.</p>\n\n<p>I would suggest using a map to hold a count for each letter, loop over the list and add each letter to your map and finally iterate over the map and confirm all values are 2.</p>\n\n<pre><code>public static void isDoubloon(String s){\n    String l=s.toLowerCase();\n    Map&lt;Character, Integer&gt; counts = new HashMap();\n\n    for(int i= 0; i&lt;l.length()-1;i++){\n        int prevValue = counts.getOrDefault(l.charAt(i), 0);\n        counts.put(l.charAt(i), prevValue + 1);\n    }\n\n    for (Map.Entry&lt;Character, Integer&gt; entry: counts.entrySet()) {\n        if (entry.getValue() != 2) {\n            System.err.println(\"False, This is not a doubloon\");\n        }\n    }\n    System.out.println(\"True, This is a doubloon\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11376787,"reputation":1,"user_id":8340845,"display_name":"Nomad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501864770,"creation_date":1501864770,"answer_id":45511760,"question_id":38956056,"body_markdown":"Other solution\r\n\r\n\tprivate boolean isDoubloon(String s) {\r\n\t\tString convertWord = s.toLowerCase();\r\n\t\tchar[] letter = convertWord.toCharArray();\r\n\t\tint[] count = new int[26];\r\n\t\tfor (int letters = 0; letters &lt; letter.length; letters++) {\r\n\t\t\tchar index = letter[letters];\r\n\t\t\tcount[index - 97]++;\r\n\t\t}\r\n\t\tfor( int i = 0; i &lt; 26; i++ ) {\r\n\t\t\tif (count[i] != 0 &amp;&amp; count[i] != 2) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Other solution</p>\n\n<pre><code>private boolean isDoubloon(String s) {\n    String convertWord = s.toLowerCase();\n    char[] letter = convertWord.toCharArray();\n    int[] count = new int[26];\n    for (int letters = 0; letters &lt; letter.length; letters++) {\n        char index = letter[letters];\n        count[index - 97]++;\n    }\n    for( int i = 0; i &lt; 26; i++ ) {\n        if (count[i] != 0 &amp;&amp; count[i] != 2) return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12755310,"reputation":1,"user_id":11563751,"display_name":"Adi"},"score":0,"creation_date":1558981856,"post_id":56330897,"comment_id":99268807,"body_markdown":"I am not happy with any of the above variants. I&#39;m not a programmer.","body":"I am not happy with any of the above variants. I&#39;m not a programmer."}],"tags":[],"owner":{"account_id":12755310,"reputation":1,"user_id":11563751,"display_name":"Adi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558985224,"creation_date":1558981758,"answer_id":56330897,"question_id":38956056,"body_markdown":"\tpublic static boolean isDoubloon(String s) {\r\n\t\tif (s.length() %2 != 0)\r\n\t\t\treturn false;\r\n\t\t\r\n\t\tString str = s.toLowerCase();\r\n\t\t\r\n\t\twhile (str.length() &gt; 0) {\r\n\t\t\tint index2 = str.indexOf(str.charAt(0), 1);\r\n\t\t\tif (index2 == -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tint index3 = str.indexOf(str.charAt(0), index2 + 1);\r\n\t\t\tif (index3 != -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tstr = str.substring(1, index2) + str.substring(index2 + 1);\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<pre><code>public static boolean isDoubloon(String s) {\n    if (s.length() %2 != 0)\n        return false;\n\n    String str = s.toLowerCase();\n\n    while (str.length() &gt; 0) {\n        int index2 = str.indexOf(str.charAt(0), 1);\n        if (index2 == -1) {\n            return false;\n        }\n        int index3 = str.indexOf(str.charAt(0), index2 + 1);\n        if (index3 != -1) {\n            return false;\n        }\n\n        str = str.substring(1, index2) + str.substring(index2 + 1);\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558988218,"creation_date":1558986907,"answer_id":56331793,"question_id":38956056,"body_markdown":"Obligatory Java Streams examples:\r\n\r\n### groupingBy() and counting() ###\r\n\r\n    public static boolean isDoubloon(String str) {\r\n        return\r\n            // Stream over chars, and box to Integer\r\n            // These will be the ASCII values of the chars\r\n            !str.chars().boxed() \r\n\r\n            // Group by identity\r\n            .collect(Collectors.groupingBy(Function.identity(),\r\n            // and map each key to the count of characters\r\n                Collectors.counting()))\r\n\r\n            // We now have a Map&lt;Integer, Long&gt;, the Integer being the character\r\n            // value and the Long being the number of occurrences.\r\n            // Stream over the Map&#39;s values\r\n            .values().stream()\r\n\r\n            // Retain all values unequal to 2\r\n            .filter(i -&gt; !Objects.equals(i, 2L))\r\n\r\n            // Shortcut if found and check if a value is present\r\n            .findAny().isPresent();\r\n\r\n            // If a value is present, that means that there are one or more\r\n            // characters with less or more than two occurrences.\r\n\t}\r\n\r\n&lt;sub&gt;https://ideone.com/PT8sQi&lt;/sub&gt;\r\n\r\n### distinct() and count() ###\r\n\r\n    public static boolean isDoubloon(String str) {\r\n        long distinct = str.chars().distinct().count();\r\n        long length = str.length();\r\n\r\n        return (length % 2 == 0 &amp;&amp; length / 2 == distinct);\r\n    }\r\n\r\n&lt;sub&gt;https://ideone.com/UaOKDF&lt;/sub&gt;","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>Obligatory Java Streams examples:</p>\n\n<h3>groupingBy() and counting()</h3>\n\n<pre><code>public static boolean isDoubloon(String str) {\n    return\n        // Stream over chars, and box to Integer\n        // These will be the ASCII values of the chars\n        !str.chars().boxed() \n\n        // Group by identity\n        .collect(Collectors.groupingBy(Function.identity(),\n        // and map each key to the count of characters\n            Collectors.counting()))\n\n        // We now have a Map&lt;Integer, Long&gt;, the Integer being the character\n        // value and the Long being the number of occurrences.\n        // Stream over the Map's values\n        .values().stream()\n\n        // Retain all values unequal to 2\n        .filter(i -&gt; !Objects.equals(i, 2L))\n\n        // Shortcut if found and check if a value is present\n        .findAny().isPresent();\n\n        // If a value is present, that means that there are one or more\n        // characters with less or more than two occurrences.\n}\n</code></pre>\n\n<p><sub><a href=\"https://ideone.com/PT8sQi\" rel=\"nofollow noreferrer\">https://ideone.com/PT8sQi</a></sub></p>\n\n<h3>distinct() and count()</h3>\n\n<pre><code>public static boolean isDoubloon(String str) {\n    long distinct = str.chars().distinct().count();\n    long length = str.length();\n\n    return (length % 2 == 0 &amp;&amp; length / 2 == distinct);\n}\n</code></pre>\n\n<p><sub><a href=\"https://ideone.com/UaOKDF\" rel=\"nofollow noreferrer\">https://ideone.com/UaOKDF</a></sub></p>\n"},{"comments":[{"owner":{"account_id":14213549,"reputation":1,"user_id":10268051,"display_name":"steez123"},"score":1,"creation_date":1701792215,"post_id":77607606,"comment_id":136817934,"body_markdown":"Look no further. I had to practically lay items on a table to come up with this solution. The GitHub link is https://github.com/Akaiso/JRefresh/blob/main/Doubloon.java","body":"Look no further. I had to practically lay items on a table to come up with this solution. The GitHub link is <a href=\"https://github.com/Akaiso/JRefresh/blob/main/Doubloon.java\" rel=\"nofollow noreferrer\">github.com/Akaiso/JRefresh/blob/main/Doubloon.java</a>"}],"tags":[],"owner":{"account_id":14213549,"reputation":1,"user_id":10268051,"display_name":"steez123"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701792149,"creation_date":1701792149,"answer_id":77607606,"question_id":38956056,"body_markdown":"    //Using for loop and charAt to check if each letter appears exactly twice in a word\r\n    //This program takes an input\r\n    //validates the input to be sure its a string\r\n    //checks if the input has a letter appeariing twice in it (doubloon)\r\n    //Tells you if its a doubloon or not`enter code here`enter code here`\r\n    //YOU CAN TAKE OUT THE VALIDATION TO MAKE IT WORK WITH STRING OF N`enter code here`UBERS\r\n    //My first push to stackoverflow Dec 5,2023 . Took me 2 days to get this.\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Doubloon{\r\n    \r\n        public static void main(String[] args){\r\n            isDoubloon();\r\n        }\r\n    \r\n        public static void isDoubloon(){\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            String userInput ;\r\n            int i;\r\n            int x;\r\n            boolean isNotDoolean = false;\r\n    \r\n    \r\n            System.out.println(&quot;Enter a word: &quot;);\r\n    \r\n    //Validate user input\r\n            do{\r\n                if(input.hasNextInt()){\r\n                    System.out.println(&quot;Numbers are not allowed&quot;);\r\n                    System.out.println(&quot;Try again: &quot;);\r\n                    input.nextLine();\r\n                    continue;\r\n                }else if(!input.hasNextInt()){\r\n    //userInput = input.nextLine();\r\n                    break;\r\n                }\r\n            }while(input.hasNextInt());\r\n    \r\n    //store validated input\r\n            userInput = input.nextLine();\r\n    \r\n    //parse userinput and confirm if it is a doubloon or not\r\n            for(x = 0; x &lt; userInput.length(); x++){\r\n                for( i = 1; i &lt; userInput.length(); i ++){\r\n                    if(userInput.charAt(x) == userInput.charAt(i) &amp;&amp; x != i){\r\n                        System.out.print(&quot;Yes! this is a doubloon&quot;);\r\n                        return;\r\n                    }else{isNotDoolean = true;}\r\n                    if(x == userInput.length()-1 &amp;&amp; isNotDoolean == true){\r\n                        System.out.print(&quot;Oh no! this is not a doubloon&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                }\r\n    \r\n            } //end of for loop;\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<pre><code>//Using for loop and charAt to check if each letter appears exactly twice in a word\n//This program takes an input\n//validates the input to be sure its a string\n//checks if the input has a letter appeariing twice in it (doubloon)\n//Tells you if its a doubloon or not`enter code here`enter code here`\n//YOU CAN TAKE OUT THE VALIDATION TO MAKE IT WORK WITH STRING OF N`enter code here`UBERS\n//My first push to stackoverflow Dec 5,2023 . Took me 2 days to get this.\n\nimport java.util.Scanner;\n\npublic class Doubloon{\n\n    public static void main(String[] args){\n        isDoubloon();\n    }\n\n    public static void isDoubloon(){\n\n        Scanner input = new Scanner(System.in);\n        String userInput ;\n        int i;\n        int x;\n        boolean isNotDoolean = false;\n\n\n        System.out.println(&quot;Enter a word: &quot;);\n\n//Validate user input\n        do{\n            if(input.hasNextInt()){\n                System.out.println(&quot;Numbers are not allowed&quot;);\n                System.out.println(&quot;Try again: &quot;);\n                input.nextLine();\n                continue;\n            }else if(!input.hasNextInt()){\n//userInput = input.nextLine();\n                break;\n            }\n        }while(input.hasNextInt());\n\n//store validated input\n        userInput = input.nextLine();\n\n//parse userinput and confirm if it is a doubloon or not\n        for(x = 0; x &lt; userInput.length(); x++){\n            for( i = 1; i &lt; userInput.length(); i ++){\n                if(userInput.charAt(x) == userInput.charAt(i) &amp;&amp; x != i){\n                    System.out.print(&quot;Yes! this is a doubloon&quot;);\n                    return;\n                }else{isNotDoolean = true;}\n                if(x == userInput.length()-1 &amp;&amp; isNotDoolean == true){\n                    System.out.print(&quot;Oh no! this is not a doubloon&quot;);\n                    return;\n                }\n\n            }\n\n        } //end of for loop;\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8425242,"reputation":3,"user_id":6322750,"accept_rate":50,"display_name":"JO_VIC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38956323,"answer_count":7,"score":0,"last_activity_date":1701792149,"creation_date":1471267934,"question_id":38956056,"body_markdown":"i&#39;m writing a program in java that checks if a letter appers exactly twice, i was able to write it but my problem is that for some words the code doesn&#39;t check if the letter appear exactly twice.\r\nhere is my code:\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n      isDoubloon(&quot;abba&quot;);\r\n      isDoubloon(&quot;Shanghaiingss&quot;);/*it still prints out true though &#39;s&#39; does appear exactly twice*/}\r\n\r\n\r\n    //checks if every letter appears twice in a word\r\n\tpublic static void isDoubloon(String s){\r\n\t\tString l=s.toLowerCase();\r\n\t\tint count=0;\r\n\t\t\r\n\t\tfor(int i= 0; i&lt;l.length()-1;i++){\r\n\t\t\tfor(int j=i+1;j&lt;l.length();j++){\r\n\t\t\t\t\r\n\t\t\t\tif(l.charAt(i)==l.charAt(j)) count++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif(count%2==0){\r\n\t\t\tSystem.out.println(&quot;True, This is a doubloon&quot;);\r\n\t\t}else\r\n\t\t\tSystem.err.println(&quot;False, This is not a doubloon&quot;);\r\n\t\t\r\n\t\t\r\n\t}}","title":"Using for loop and charAt to check if each letter appears exactly twice in a word","body":"<p>i'm writing a program in java that checks if a letter appers exactly twice, i was able to write it but my problem is that for some words the code doesn't check if the letter appear exactly twice.\nhere is my code:</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n  isDoubloon(\"abba\");\n  isDoubloon(\"Shanghaiingss\");/*it still prints out true though 's' does appear exactly twice*/}\n\n\n//checks if every letter appears twice in a word\npublic static void isDoubloon(String s){\n    String l=s.toLowerCase();\n    int count=0;\n\n    for(int i= 0; i&lt;l.length()-1;i++){\n        for(int j=i+1;j&lt;l.length();j++){\n\n            if(l.charAt(i)==l.charAt(j)) count++;\n        }\n\n    }\n    if(count%2==0){\n        System.out.println(\"True, This is a doubloon\");\n    }else\n        System.err.println(\"False, This is not a doubloon\");\n\n\n}}\n</code></pre>\n"},{"tags":["java","gradle","minecraft-forge"],"owner":{"account_id":19852756,"reputation":1,"user_id":14542912,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701791359,"answer_count":0,"score":-3,"last_activity_date":1701792102,"creation_date":1701790774,"question_id":77607449,"body_markdown":"Can someone please help with cleaning up the project from module-info.class otherwise, it throws such exceptions. \r\n1. I&#39;m following this example\r\n```https://github.com/jjohannes/understanding-gradle/blob/groovy-dsl/32_Artifact_Transforms/```\r\nI wanted to use this code to register an artifact transformer\r\n```def javaModuleAttribute = Attribute.of(&quot;javaModule&quot;, Boolean)\r\nconfigurations.compileClasspath {\r\n    attributes.attribute(javaModuleAttribute, true)\r\n}\r\nconfigurations.runtimeClasspath {\r\n    attributes.attribute(javaModuleAttribute, true)\r\n}\r\n\r\ndependencies.artifactTypes.maybeCreate(&quot;jar&quot;).attributes.attribute(javaModuleAttribute, false)\r\n\r\ndependencies.registerTransform(JavaModuleTransform) {\r\n    from.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, false)\r\n    to.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, true)\r\n}\r\n```\r\nbut an error occurs and it cannot find the main class of the net.minecraftforge.legacydev package\r\n\r\n```2. I had to create buildSrc/build.gradle and perform the conversion of the artifact already in build.gradle since the groovy script can only be imported into the main build.gradle. I expect that the conversion of the artifact will be performed, but now it is not being performed since I apparently register it incorrectly. I have a println that should display something when converting an artifact```\r\n\r\n3. I&#39;m sorry that I didn&#39;t describe everything so well, since this is my first question, but the bottom line is that I need to clear all dependencies and the entire project from module-info.class\r\nHere is the error, and below is the code. Could you help fix it so that it does it correctly.\r\n**ERROR:**\r\n\r\nhttps://pastebin.com/pbnBXt0C\r\n\r\n**BUILD.GRADLE(ROOT) and buildSrc/build.gradle**\r\n \r\n\r\nhttps://pastebin.com/TbwXDdT0\r\n \r\n**buildSrc/src/main/groovy/org/example/JavaModuleTransform.groovy**\r\n\r\nhttps://pastebin.com/hFygDi8d\r\n\r\n\r\n","title":"Artifact Transformer. Cleaning up the project from module-info.class","body":"<p>Can someone please help with cleaning up the project from module-info.class otherwise, it throws such exceptions.</p>\n<ol>\n<li>I'm following this example\n<code>https://github.com/jjohannes/understanding-gradle/blob/groovy-dsl/32_Artifact_Transforms/</code>\nI wanted to use this code to register an artifact transformer</li>\n</ol>\n<pre><code>configurations.compileClasspath {\n    attributes.attribute(javaModuleAttribute, true)\n}\nconfigurations.runtimeClasspath {\n    attributes.attribute(javaModuleAttribute, true)\n}\n\ndependencies.artifactTypes.maybeCreate(&quot;jar&quot;).attributes.attribute(javaModuleAttribute, false)\n\ndependencies.registerTransform(JavaModuleTransform) {\n    from.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, false)\n    to.attributes.attribute(ARTIFACT_TYPE_ATTRIBUTE, &quot;jar&quot;).attribute(javaModuleAttribute, true)\n}\n</code></pre>\n<p>but an error occurs and it cannot find the main class of the net.minecraftforge.legacydev package</p>\n<p><code>2. I had to create buildSrc/build.gradle and perform the conversion of the artifact already in build.gradle since the groovy script can only be imported into the main build.gradle. I expect that the conversion of the artifact will be performed, but now it is not being performed since I apparently register it incorrectly. I have a println that should display something when converting an artifact</code></p>\n<ol start=\"3\">\n<li>I'm sorry that I didn't describe everything so well, since this is my first question, but the bottom line is that I need to clear all dependencies and the entire project from module-info.class\nHere is the error, and below is the code. Could you help fix it so that it does it correctly.\n<strong>ERROR:</strong></li>\n</ol>\n<p><a href=\"https://pastebin.com/pbnBXt0C\" rel=\"nofollow noreferrer\">https://pastebin.com/pbnBXt0C</a></p>\n<p><strong>BUILD.GRADLE(ROOT) and buildSrc/build.gradle</strong></p>\n<p><a href=\"https://pastebin.com/TbwXDdT0\" rel=\"nofollow noreferrer\">https://pastebin.com/TbwXDdT0</a></p>\n<p><strong>buildSrc/src/main/groovy/org/example/JavaModuleTransform.groovy</strong></p>\n<p><a href=\"https://pastebin.com/hFygDi8d\" rel=\"nofollow noreferrer\">https://pastebin.com/hFygDi8d</a></p>\n"},{"tags":["java","jetty","slf4j"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701792078,"creation_date":1701792078,"answer_id":77607600,"question_id":77607039,"body_markdown":"The message ...\r\n\r\n`\r\nDetected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError.\r\n`\r\n\r\n... is coming from your `org.slf4j:slf4j-reload4j` dependency.\r\n\r\n[It is simply looking for a class `org.apache.log4j.Log4jLoggerFactory` and if found, reports that message to you.][1]\r\n\r\nFirst step, is to look for the class `org.apache.log4j.Log4jLoggerFactory` in your dependency jar files.\r\n\r\nNext step is to run your application outside of gradle.  It&#39;s not that unusual for various dependencies (esp logging) to come from your build environment itself (or it&#39;s plugins).\r\n\r\nAlternate approach, don&#39;t use the deprecated log4j 1.x APIs.  Upgrade to log4j 2.x.  (the slf4j 2.x bridge for log4j 2 is available from the log4j group itself)\r\n\r\n\r\n  [1]: https://github.com/qos-ch/slf4j/blob/5ccbe20b118828f35fd64a887d77fb9b72ad1a6e/slf4j-reload4j/src/main/java/org/slf4j/reload4j/Reload4jLoggerFactory.java#L46-L59","title":"slf4j and jetty conflict: SLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>The message ...</p>\n<p><code>Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError.</code></p>\n<p>... is coming from your <code>org.slf4j:slf4j-reload4j</code> dependency.</p>\n<p><a href=\"https://github.com/qos-ch/slf4j/blob/5ccbe20b118828f35fd64a887d77fb9b72ad1a6e/slf4j-reload4j/src/main/java/org/slf4j/reload4j/Reload4jLoggerFactory.java#L46-L59\" rel=\"nofollow noreferrer\">It is simply looking for a class <code>org.apache.log4j.Log4jLoggerFactory</code> and if found, reports that message to you.</a></p>\n<p>First step, is to look for the class <code>org.apache.log4j.Log4jLoggerFactory</code> in your dependency jar files.</p>\n<p>Next step is to run your application outside of gradle.  It's not that unusual for various dependencies (esp logging) to come from your build environment itself (or it's plugins).</p>\n<p>Alternate approach, don't use the deprecated log4j 1.x APIs.  Upgrade to log4j 2.x.  (the slf4j 2.x bridge for log4j 2 is available from the log4j group itself)</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701792078,"creation_date":1701787038,"question_id":77607039,"body_markdown":"This error occurred when the slf4j dependency was added:\r\n`implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;)`\r\n\r\nAnd in the line:\r\n`org.eclipse.jetty.server.Server server = new Server(port);`\r\n\r\nI have excluded `slf4j` everywhere where it might be, but the error still reproduces.\r\n\r\n\r\nThe dependencies (gradle.build.kts):\r\n\r\n```kotlin\r\ndependencies {    \r\n    implementation(&quot;org.eclipse.jetty:jetty-server:$jettyVersion&quot;) {\r\n       exclude(group = &quot;org.slf4j&quot;)\r\n    }\r\n    implementation(&quot;org.eclipse.jetty:jetty-servlet:$jettyVersion&quot;) {    \r\n        exclude(group = &quot;org.slf4j&quot;)\r\n    }\r\n...\r\n    implementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    testImplementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-api:2.0.7&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;) {    \r\n        exclude(group = &quot;log4j&quot;)\r\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\r\n    }\r\n    \r\n    configurations.all {        \r\n        resolutionStrategy {            \r\n            eachDependency {\r\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\r\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\r\n                exclude(group = &quot;log4j&quot;, module = &quot;log4j&quot;)\r\n            }        \r\n        }    \r\n    }\r\n}\r\n```\r\n\r\nDependency tree:\r\n`gradlew dependencies --configuration runtimeClasspath `\r\n\r\n```\r\n+--- org.eclipse.jetty:jetty-server:11.0.8  \r\n|    +--- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2  \r\n|    +--- org.eclipse.jetty:jetty-http:11.0.8  \r\n|    |    +--- org.eclipse.jetty:jetty-util:11.0.8  \r\n|    |    \\--- org.eclipse.jetty:jetty-io:11.0.8  \r\n|    |         \\--- org.eclipse.jetty:jetty-util:11.0.8  \r\n|    \\--- org.eclipse.jetty:jetty-io:11.0.8 (*)  \r\n+--- org.eclipse.jetty:jetty-servlet:11.0.8  \r\n|    \\--- org.eclipse.jetty:jetty-security:11.0.8  \r\n|         \\--- org.eclipse.jetty:jetty-server:11.0.8 (*)  \r\n+--- org.projectlombok:lombok:1.18.24  \r\n+--- org.slf4j:slf4j-api:2.0.7  \r\n\\--- org.slf4j:slf4j-log4j12:2.0.7  \r\n     \\--- org.slf4j:slf4j-reload4j:2.0.7  \r\n          +--- org.slf4j:slf4j-api:2.0.7  \r\n          \\--- ch.qos.reload4j:reload4j:1.2.22  \r\n```\r\n# Additional info\r\n\r\nYes, I found several duplicates, but no one of them is the same. All solutions say to exclude `log4j-over-slf4j.jar` - and we can see that this dependency doesn&#39;t exist in my dependency tree and I already excluded all excessive.\r\n\r\nAlso, I made sure that `log4j-over-slf4j.jar` doesn&#39;t exist in the project folder. This jar exists only in the `.m2` folder.\r\n\r\n\r\n","title":"slf4j and jetty conflict: SLF4J: Detected both log4j-over-slf4j.jar AND bound slf4j-log4j12.jar on the class path, preempting StackOverflowError","body":"<p>This error occurred when the slf4j dependency was added:\n<code>implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;)</code></p>\n<p>And in the line:\n<code>org.eclipse.jetty.server.Server server = new Server(port);</code></p>\n<p>I have excluded <code>slf4j</code> everywhere where it might be, but the error still reproduces.</p>\n<p>The dependencies (gradle.build.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {    \n    implementation(&quot;org.eclipse.jetty:jetty-server:$jettyVersion&quot;) {\n       exclude(group = &quot;org.slf4j&quot;)\n    }\n    implementation(&quot;org.eclipse.jetty:jetty-servlet:$jettyVersion&quot;) {    \n        exclude(group = &quot;org.slf4j&quot;)\n    }\n...\n    implementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    testImplementation(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    implementation(&quot;org.slf4j:slf4j-api:2.0.7&quot;)\n    implementation(&quot;org.slf4j:slf4j-log4j12:2.0.7&quot;) {    \n        exclude(group = &quot;log4j&quot;)\n        exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\n    }\n    \n    configurations.all {        \n        resolutionStrategy {            \n            eachDependency {\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;log4j-over-slf4j&quot;)\n                exclude(group = &quot;org.slf4j&quot;, module = &quot;slf4j-log4j12&quot;)\n                exclude(group = &quot;log4j&quot;, module = &quot;log4j&quot;)\n            }        \n        }    \n    }\n}\n</code></pre>\n<p>Dependency tree:\n<code>gradlew dependencies --configuration runtimeClasspath </code></p>\n<pre><code>+--- org.eclipse.jetty:jetty-server:11.0.8  \n|    +--- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:5.0.2  \n|    +--- org.eclipse.jetty:jetty-http:11.0.8  \n|    |    +--- org.eclipse.jetty:jetty-util:11.0.8  \n|    |    \\--- org.eclipse.jetty:jetty-io:11.0.8  \n|    |         \\--- org.eclipse.jetty:jetty-util:11.0.8  \n|    \\--- org.eclipse.jetty:jetty-io:11.0.8 (*)  \n+--- org.eclipse.jetty:jetty-servlet:11.0.8  \n|    \\--- org.eclipse.jetty:jetty-security:11.0.8  \n|         \\--- org.eclipse.jetty:jetty-server:11.0.8 (*)  \n+--- org.projectlombok:lombok:1.18.24  \n+--- org.slf4j:slf4j-api:2.0.7  \n\\--- org.slf4j:slf4j-log4j12:2.0.7  \n     \\--- org.slf4j:slf4j-reload4j:2.0.7  \n          +--- org.slf4j:slf4j-api:2.0.7  \n          \\--- ch.qos.reload4j:reload4j:1.2.22  \n</code></pre>\n<h1>Additional info</h1>\n<p>Yes, I found several duplicates, but no one of them is the same. All solutions say to exclude <code>log4j-over-slf4j.jar</code> - and we can see that this dependency doesn't exist in my dependency tree and I already excluded all excessive.</p>\n<p>Also, I made sure that <code>log4j-over-slf4j.jar</code> doesn't exist in the project folder. This jar exists only in the <code>.m2</code> folder.</p>\n"},{"tags":["java","if-statement","parsing","antlr","boolean-logic"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1701241938,"post_id":77568789,"comment_id":136749834,"body_markdown":"Are you aware that string comparison in Java is done with the `equals` method, not the `==` operator?  I&#39;m not sure from the wording of your question whether this is the difficulty you&#39;re facing or not.","body":"Are you aware that string comparison in Java is done with the <code>equals</code> method, not the <code>==</code> operator?  I&#39;m not sure from the wording of your question whether this is the difficulty you&#39;re facing or not."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1701255179,"post_id":77568789,"comment_id":136752119,"body_markdown":"So, given an &quot;end result&quot;, like `a == &quot;Yes&quot;`, you want all the paths that lead to this result? In the case of `a` equals to `&quot;Yes&quot;`, for example `[b==&quot;foo1&quot;, c==&quot;foo2&quot;, d==&quot;foo3&quot;]`, `[b==&quot;foo1&quot;, c==&quot;foo13&quot;, d!=(&quot;foo11&quot;,&quot;foo12&quot;,&quot;foo8&quot;,&quot;foo9&quot;)]` , `[b==&quot;foo1&quot;, c!=&quot;foo13&quot;]`, etc.","body":"So, given an &quot;end result&quot;, like <code>a == &quot;Yes&quot;</code>, you want all the paths that lead to this result? In the case of <code>a</code> equals to <code>&quot;Yes&quot;</code>, for example <code>[b==&quot;foo1&quot;, c==&quot;foo2&quot;, d==&quot;foo3&quot;]</code>, <code>[b==&quot;foo1&quot;, c==&quot;foo13&quot;, d!=(&quot;foo11&quot;,&quot;foo12&quot;,&quot;foo8&quot;,&quot;foo9&quot;)]</code> , <code>[b==&quot;foo1&quot;, c!=&quot;foo13&quot;]</code>, etc."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1701255214,"post_id":77568789,"comment_id":136752125,"body_markdown":"This is an algebraic rewrite problem. You want to rewrite &quot;if e1 then e2 else e3&quot; as the Boolean expression &quot;(e1 and e2) or (not e1 and not e3)&quot;. You&#39;re stack should be an expression (which you never say), but you don&#39;t need one. You are rewriting if-then-else into an expression of ands, ors, and nots. Proceed recursively, bottom up, returning an expression. You can ignore `a = &quot;No&quot;` if you assume the value is set in the following statement, which it is. For &quot;if e1 then a=yes then a=no&quot;, simply return &quot;e1&quot;. The output expression can probably be simplified, but that is another step.","body":"This is an algebraic rewrite problem. You want to rewrite &quot;if e1 then e2 else e3&quot; as the Boolean expression &quot;(e1 and e2) or (not e1 and not e3)&quot;. You&#39;re stack should be an expression (which you never say), but you don&#39;t need one. You are rewriting if-then-else into an expression of ands, ors, and nots. Proceed recursively, bottom up, returning an expression. You can ignore <code>a = &quot;No&quot;</code> if you assume the value is set in the following statement, which it is. For &quot;if e1 then a=yes then a=no&quot;, simply return &quot;e1&quot;. The output expression can probably be simplified, but that is another step."},{"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"score":0,"creation_date":1701266509,"post_id":77568789,"comment_id":136754296,"body_markdown":"@DawoodibnKareem the pseudocode I provided is not Java, I will be converting the pseudocode to Java. Sorry that was not clear","body":"@DawoodibnKareem the pseudocode I provided is not Java, I will be converting the pseudocode to Java. Sorry that was not clear"},{"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"score":0,"creation_date":1701266531,"post_id":77568789,"comment_id":136754303,"body_markdown":"@BartKiers yes that sounds about right","body":"@BartKiers yes that sounds about right"}],"owner":{"account_id":16476044,"reputation":1,"user_id":11904003,"display_name":"mohammed ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701791970,"creation_date":1701236224,"question_id":77568789,"body_markdown":"I have some pseudocode that is in the form: \r\n\r\n```\r\npatch a:\r\n  if b == &quot;foo1&quot;\r\n  then\r\n    a = &quot;No&quot;\r\n    if c == &quot;foo2&quot;\r\n    then\r\n      if d == &quot;foo3&quot; || d == &quot;foo4&quot; || d == &quot;foo5&quot; || d == &quot;foo6&quot;\r\n      then\r\n        a = &quot;Yes&quot;\r\n      else\r\n        a = &quot;No&quot;\r\n    else\r\n      if c == &quot;foo7&quot;\r\n      then\r\n        if d == &quot;foo8&quot; || d == &quot;foo9&quot;\r\n        then\r\n          a = &quot;Yes&quot;\r\n        else\r\n          a = &quot;No&quot;\r\n      else\r\n        if c == &quot;foo10&quot;\r\n        then\r\n          if d == &quot;foo11&quot; || d == &quot;foo12&quot;\r\n          then\r\n            a = &quot;Yes&quot;\r\n          else\r\n            a = &quot;No&quot;\r\n        else\r\n          if c == &quot;foo13&quot;\r\n          then\r\n            if d != &quot;foo11&quot; &amp;&amp; d != &quot;foo12&quot; &amp;&amp; d != &quot;foo8&quot; &amp;&amp; d != &quot;foo9&quot;\r\n            then\r\n              a = &quot;Yes&quot;\r\n            else\r\n              a = &quot;No&quot;\r\n          else\r\n            a = &quot;Yes&quot;\r\n\r\n```\r\nI have an ANTLR file that I am using to parse this pseudocode. I would like to be able to derive a single condition that satisfies each variable assignment I encounter as I parse the pseudocode.\r\nFor the example above a single condition for `a = &quot;yes&quot;` would look like:\r\n```(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND (d == &quot;foo3&quot; OR d == &quot;foo4&quot; OR d == &quot;foo5&quot; OR d == &quot;foo6&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND (d == &quot;foo8&quot; OR d == &quot;foo9&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot;)) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;)\r\n```\r\nand the single condition for `a = &quot;no&quot;` would look like:\r\n```\r\n(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND d != &quot;foo3&quot; AND d != &quot;foo4&quot; AND d != &quot;foo5&quot; AND d != &quot;foo6&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot;) OR\r\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot; OR d == &quot;foo8&quot; OR d == &quot;foo9&quot;))\r\n```\r\n\r\n\r\n\r\nI am using a stack to maintain my conditions. Everytime, I enter an `if` block I push my condition to the stack and pop it when I leave the `if` block. When I enter a `then` block I push an AND to the stack and when I enter an `else` block I push an `OR` to stack. This works fine for simple patches but I am struggling to figure how to accommodate for line 4 in the example patch.\r\n\r\nWith the my current solution I am getting something like `a = &quot;No&quot;` when `b == &quot;foo1&quot; OR ...` this causing problems since it possible for `a == &quot;Yes&quot;` if a couple of more conditions are met. How do I account for this situation? \r\n\r\n**Update 1**\r\nInstead of trying to do this entirely in pass I decided to build an AST out of ANTLR&#39;s parse tree. It has a couple of node types which just store some data, like conditionNode storing if statements, assignmentNode storing assignments and the main ASTNode which captures scope and has things reference to parent, thenBranch, elseBranch and a root node which can be an assignmentNode or conditionNode. Using this structure it was easy to build out the conditions for leaf node assignments. Still would like help trying to figure out nonleaf node assignments. ","title":"Derive conditions for each variable assignment from pseudocode","body":"<p>I have some pseudocode that is in the form:</p>\n<pre><code>patch a:\n  if b == &quot;foo1&quot;\n  then\n    a = &quot;No&quot;\n    if c == &quot;foo2&quot;\n    then\n      if d == &quot;foo3&quot; || d == &quot;foo4&quot; || d == &quot;foo5&quot; || d == &quot;foo6&quot;\n      then\n        a = &quot;Yes&quot;\n      else\n        a = &quot;No&quot;\n    else\n      if c == &quot;foo7&quot;\n      then\n        if d == &quot;foo8&quot; || d == &quot;foo9&quot;\n        then\n          a = &quot;Yes&quot;\n        else\n          a = &quot;No&quot;\n      else\n        if c == &quot;foo10&quot;\n        then\n          if d == &quot;foo11&quot; || d == &quot;foo12&quot;\n          then\n            a = &quot;Yes&quot;\n          else\n            a = &quot;No&quot;\n        else\n          if c == &quot;foo13&quot;\n          then\n            if d != &quot;foo11&quot; &amp;&amp; d != &quot;foo12&quot; &amp;&amp; d != &quot;foo8&quot; &amp;&amp; d != &quot;foo9&quot;\n            then\n              a = &quot;Yes&quot;\n            else\n              a = &quot;No&quot;\n          else\n            a = &quot;Yes&quot;\n\n</code></pre>\n<p>I have an ANTLR file that I am using to parse this pseudocode. I would like to be able to derive a single condition that satisfies each variable assignment I encounter as I parse the pseudocode.\nFor the example above a single condition for <code>a = &quot;yes&quot;</code> would look like:</p>\n<pre><code>  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND (d == &quot;foo8&quot; OR d == &quot;foo9&quot;)) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot;)) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;)\n</code></pre>\n<p>and the single condition for <code>a = &quot;no&quot;</code> would look like:</p>\n<pre><code>(b == &quot;foo1&quot; AND c == &quot;foo2&quot; AND d != &quot;foo3&quot; AND d != &quot;foo4&quot; AND d != &quot;foo5&quot; AND d != &quot;foo6&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo7&quot; AND d != &quot;foo8&quot; AND d != &quot;foo9&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo10&quot; AND d != &quot;foo11&quot; AND d != &quot;foo12&quot;) OR\n  (b == &quot;foo1&quot; AND c == &quot;foo13&quot; AND (d == &quot;foo11&quot; OR d == &quot;foo12&quot; OR d == &quot;foo8&quot; OR d == &quot;foo9&quot;))\n</code></pre>\n<p>I am using a stack to maintain my conditions. Everytime, I enter an <code>if</code> block I push my condition to the stack and pop it when I leave the <code>if</code> block. When I enter a <code>then</code> block I push an AND to the stack and when I enter an <code>else</code> block I push an <code>OR</code> to stack. This works fine for simple patches but I am struggling to figure how to accommodate for line 4 in the example patch.</p>\n<p>With the my current solution I am getting something like <code>a = &quot;No&quot;</code> when <code>b == &quot;foo1&quot; OR ...</code> this causing problems since it possible for <code>a == &quot;Yes&quot;</code> if a couple of more conditions are met. How do I account for this situation?</p>\n<p><strong>Update 1</strong>\nInstead of trying to do this entirely in pass I decided to build an AST out of ANTLR's parse tree. It has a couple of node types which just store some data, like conditionNode storing if statements, assignmentNode storing assignments and the main ASTNode which captures scope and has things reference to parent, thenBranch, elseBranch and a root node which can be an assignmentNode or conditionNode. Using this structure it was easy to build out the conditions for leaf node assignments. Still would like help trying to figure out nonleaf node assignments.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":3,"creation_date":1701788731,"post_id":77607207,"comment_id":136817238,"body_markdown":"Why can&#39;t you remove the `final` keyword?","body":"Why can&#39;t you remove the <code>final</code> keyword?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701788871,"post_id":77607207,"comment_id":136817261,"body_markdown":"Use a different variable? Don&#39;t use a string, rather a string buffer (or whatever the current string buffer-y hotness is in Java these days)?","body":"Use a different variable? Don&#39;t use a string, rather a string buffer (or whatever the current string buffer-y hotness is in Java these days)?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701788922,"post_id":77607207,"comment_id":136817268,"body_markdown":"I&#39;m struggling to understand the nature of this question: if it&#39;s your code, why can&#39;t you remove it? If it&#39;s not, is it some sort of pop quiz? (Hint: they say it&#39;s always the red wire but it isn&#39;t.)","body":"I&#39;m struggling to understand the nature of this question: if it&#39;s your code, why can&#39;t you remove it? If it&#39;s not, is it some sort of pop quiz? (Hint: they say it&#39;s always the red wire but it isn&#39;t.)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1701789008,"post_id":77607207,"comment_id":136817288,"body_markdown":"Ada and Dave, variables used inside a closure in Java must be effectively `final`. I&#39;m guessing OP tried without the `final` keyword, saw an error that said &quot;This variable must be `final`&quot;, and rolled with it without understanding what the `final` keyword does.","body":"Ada and Dave, variables used inside a closure in Java must be effectively <code>final</code>. I&#39;m guessing OP tried without the <code>final</code> keyword, saw an error that said &quot;This variable must be <code>final</code>&quot;, and rolled with it without understanding what the <code>final</code> keyword does."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701789137,"post_id":77607207,"comment_id":136817304,"body_markdown":"Not exactly a duplicate, but read [Variable used in lambda expression should be final or effectively final](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final). The concept is explained, some answers have workarounds as well.","body":"Not exactly a duplicate, but read <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">Variable used in lambda expression should be final or effectively final</a>. The concept is explained, some answers have workarounds as well."},{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701789374,"post_id":77607207,"comment_id":136817344,"body_markdown":"@Ada if i remove final i will get error categoryCodeProductTypes.add(categoryCodeProductType); asking for initialize the variable.","body":"@Ada if i remove final i will get error categoryCodeProductTypes.add(categoryCodeProductType); asking for initialize the variable."},{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701789447,"post_id":77607207,"comment_id":136817361,"body_markdown":"also i will get error in  categoryCodeProductType.concat(b.getCode()); this line saying the variable must be final","body":"also i will get error in  categoryCodeProductType.concat(b.getCode()); this line saying the variable must be final"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1701789679,"post_id":77607207,"comment_id":136817417,"body_markdown":"@SilvioMayolo Ahhh, makes perfect sense &#128077;","body":"@SilvioMayolo Ahhh, makes perfect sense "}],"answers":[{"comments":[{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701789671,"post_id":77607247,"comment_id":136817412,"body_markdown":"if i am using StringBuilder i cant use add() .that is the problem here","body":"if i am using StringBuilder i cant use add() .that is the problem here"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1701790413,"post_id":77607247,"comment_id":136817558,"body_markdown":"@MohammedMuntazim `myStringBuilder().toString()` can be invoked at any time to get the current String value in that builder.","body":"@MohammedMuntazim <code>myStringBuilder().toString()</code> can be invoked at any time to get the current String value in that builder."},{"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"score":0,"creation_date":1701873695,"post_id":77607247,"comment_id":136829041,"body_markdown":"Thanks it worked.","body":"Thanks it worked."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701788933,"creation_date":1701788933,"answer_id":77607247,"question_id":77607207,"body_markdown":"You can&#39;t reassign a `final` variable. And you can only use effectively-`final` variables (that is, `final` variables or those that could&#39;ve been declared as such) inside of closures. So if you want to mutate a string inside of a closure, you&#39;ll need to use a mutable string type like [`StringBuilder`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html).\r\n\r\n    final StringBuilder myStringBuilder = new StringBuilder();\r\n    someStream.forEach(value -&gt; {\r\n        myStringBuilder.append(value.getCode());\r\n    });\r\n    final String result = myStringBuilder.toString();\r\n\r\nWe never actually *reassign* the variable `myStringBuilder`, so it can still be `final`. But we can *mutate* it in-place. This is also more efficient than continually allocating new strings for concatenation, as `StringBuilder` will use a mutable buffer internally and save on copying.","title":"How to use final variable within forEach method","body":"<p>You can't reassign a <code>final</code> variable. And you can only use effectively-<code>final</code> variables (that is, <code>final</code> variables or those that could've been declared as such) inside of closures. So if you want to mutate a string inside of a closure, you'll need to use a mutable string type like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>.</p>\n<pre><code>final StringBuilder myStringBuilder = new StringBuilder();\nsomeStream.forEach(value -&gt; {\n    myStringBuilder.append(value.getCode());\n});\nfinal String result = myStringBuilder.toString();\n</code></pre>\n<p>We never actually <em>reassign</em> the variable <code>myStringBuilder</code>, so it can still be <code>final</code>. But we can <em>mutate</em> it in-place. This is also more efficient than continually allocating new strings for concatenation, as <code>StringBuilder</code> will use a mutable buffer internally and save on copying.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701790817,"creation_date":1701790817,"answer_id":77607456,"question_id":77607207,"body_markdown":"Class `Uda` has method `getReferences` which returns something that can be streamed, for example some kind of collection.\r\n\r\nYou want to concatenate the code of each element (in the collection returned by method `getReferences`) into a single string and then you want to collect all those strings into a `List`.\r\n\r\nIf the above summary is correct, then consider the below [uncompiled and untested] code:\r\n```java\r\nuda4.stream()\r\n    .map(a -&gt; a.getReferences()\r\n               .stream()\r\n               .map(b -&gt; b.getCode())\r\n               .collect(Collectors.joining()))\r\n    .collect(Collectors.toList());\r\n```\r\nBasically, the `map` method returns a stream of strings where each string is the concatenation of all the codes in the collection returned by method `getReferences`. All that remains is to collect all the strings, that the `map` method produces, to a `List`.\r\n\r\nNote that I cannot compile nor test the above code as you did not provide a [reproducible example][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"How to use final variable within forEach method","body":"<p>Class <code>Uda</code> has method <code>getReferences</code> which returns something that can be streamed, for example some kind of collection.</p>\n<p>You want to concatenate the code of each element (in the collection returned by method <code>getReferences</code>) into a single string and then you want to collect all those strings into a <code>List</code>.</p>\n<p>If the above summary is correct, then consider the below [uncompiled and untested] code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>uda4.stream()\n    .map(a -&gt; a.getReferences()\n               .stream()\n               .map(b -&gt; b.getCode())\n               .collect(Collectors.joining()))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Basically, the <code>map</code> method returns a stream of strings where each string is the concatenation of all the codes in the collection returned by method <code>getReferences</code>. All that remains is to collect all the strings, that the <code>map</code> method produces, to a <code>List</code>.</p>\n<p>Note that I cannot compile nor test the above code as you did not provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">reproducible example</a>.</p>\n"},{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701791493,"creation_date":1701791250,"answer_id":77607512,"question_id":77607207,"body_markdown":"You adding `categoryCodeProductTypes.add(categoryCodeProductType);`\r\nAnd two lines below you are loosing ability to modify this object by reassigning attempt.\r\nDont use .forEach instead of iterator with no reason. You will see for yourself why this code is inappropriate by results it will produce. \r\nThat&#39;s closest to your approach:\r\n\r\n        class Main {\r\n        \r\n        @Getter\r\n        static class A {\r\n            List&lt;B&gt; references;\r\n        }\r\n    \r\n        @Getter\r\n        static class B {\r\n            String code;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            final List&lt;StringBuilder&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\r\n            var uda4 = List.of(new A());\r\n            uda4.forEach(a -&gt; {\r\n                final StringBuilder builder = new StringBuilder();\r\n                categoryCodeProductTypes.add(builder);\r\n                a.getReferences().forEach(b -&gt; builder.append(b.getCode()));\r\n            });\r\n            List&lt;String&gt; result = categoryCodeProductTypes.stream().map(StringBuilder::toString).toList();\r\n        }\r\n    }\r\n\r\nIt&#39;s not the best way of mapping the data. Converting into intermediate controlled objects piece by piece is much better than trying to do it on the fly at one time.","title":"How to use final variable within forEach method","body":"<p>You adding <code>categoryCodeProductTypes.add(categoryCodeProductType);</code>\nAnd two lines below you are loosing ability to modify this object by reassigning attempt.\nDont use .forEach instead of iterator with no reason. You will see for yourself why this code is inappropriate by results it will produce.\nThat's closest to your approach:</p>\n<pre><code>    class Main {\n    \n    @Getter\n    static class A {\n        List&lt;B&gt; references;\n    }\n\n    @Getter\n    static class B {\n        String code;\n    }\n\n    public static void main(String[] args) {\n        final List&lt;StringBuilder&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\n        var uda4 = List.of(new A());\n        uda4.forEach(a -&gt; {\n            final StringBuilder builder = new StringBuilder();\n            categoryCodeProductTypes.add(builder);\n            a.getReferences().forEach(b -&gt; builder.append(b.getCode()));\n        });\n        List&lt;String&gt; result = categoryCodeProductTypes.stream().map(StringBuilder::toString).toList();\n    }\n}\n</code></pre>\n<p>It's not the best way of mapping the data. Converting into intermediate controlled objects piece by piece is much better than trying to do it on the fly at one time.</p>\n"}],"owner":{"account_id":28334748,"reputation":11,"user_id":21668464,"display_name":"Mohammed Muntazim"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1701802128,"answer_count":3,"score":-5,"last_activity_date":1701791493,"creation_date":1701788454,"question_id":77607207,"body_markdown":"```java\r\nfinal List&lt;String&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\r\nList&lt;Uda&gt; uda4 = udas.stream()\r\n                     .filter(a -&gt; a.getCode().equals(Uda_Code))\r\n                     .collect(Collectors.toList());\r\nuda4.stream()\r\n    .forEach(a -&gt; {\r\n                   final String categoryCodeProductType = &quot;&quot;;\r\n                   categoryCodeProductTypes.add(categoryCodeProductType);\r\n                   a.getReferences()\r\n                    .stream()\r\n                    .forEach(b -&gt; {\r\n                                   categoryCodeProductType = categoryCodeProductType.concat(b.getCode());\r\n                                  });\r\n                  });\r\nreturn categoryCodeProductTypes;\r\n```\r\nI get error in `categoryCodeProductType = categoryCodeProductType.concat(b.getCode());` saying remove final keyword but I can&#39;t. Is there any other way we can fix this?","title":"How to use final variable within forEach method","body":"<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; categoryCodeProductTypes = new ArrayList&lt;&gt;();\nList&lt;Uda&gt; uda4 = udas.stream()\n                     .filter(a -&gt; a.getCode().equals(Uda_Code))\n                     .collect(Collectors.toList());\nuda4.stream()\n    .forEach(a -&gt; {\n                   final String categoryCodeProductType = &quot;&quot;;\n                   categoryCodeProductTypes.add(categoryCodeProductType);\n                   a.getReferences()\n                    .stream()\n                    .forEach(b -&gt; {\n                                   categoryCodeProductType = categoryCodeProductType.concat(b.getCode());\n                                  });\n                  });\nreturn categoryCodeProductTypes;\n</code></pre>\n<p>I get error in <code>categoryCodeProductType = categoryCodeProductType.concat(b.getCode());</code> saying remove final keyword but I can't. Is there any other way we can fix this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552296340,"post_id":55098507,"comment_id":96940410,"body_markdown":"Why should it. The keys for the cache differ, so the `getText` never sees the cached instance.","body":"Why should it. The keys for the cache differ, so the <code>getText</code> never sees the cached instance."},{"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"score":0,"creation_date":1552296734,"post_id":55098507,"comment_id":96940626,"body_markdown":"Ok, but I followed the tutorial, which I linked. They used key `key = &quot;#newText + 1&quot;`","body":"Ok, but I followed the tutorial, which I linked. They used key <code>key = &quot;#newText + 1&quot;</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552296816,"post_id":55098507,"comment_id":96940661,"body_markdown":"Tutorial is wrong. You cannot have 2 methods, different chache keys and expect it to work. Another problem with this is that the old values never get cleared (unless there is a timeout on the cache time).","body":"Tutorial is wrong. You cannot have 2 methods, different chache keys and expect it to work. Another problem with this is that the old values never get cleared (unless there is a timeout on the cache time)."},{"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"score":0,"creation_date":1552297209,"post_id":55098507,"comment_id":96940879,"body_markdown":"So, how to achieve update logic with one method? For me it seems that I need two methods, am I wrong?","body":"So, how to achieve update logic with one method? For me it seems that I need two methods, am I wrong?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1552297275,"post_id":55098507,"comment_id":96940925,"body_markdown":"The only thing you need to do is to make sure the cache key is the same for the `get` and the `set` method. They currently aren&#39;t.","body":"The only thing you need to do is to make sure the cache key is the same for the <code>get</code> and the <code>set</code> method. They currently aren&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":12267209,"reputation":62,"user_id":8953412,"display_name":"Muhammad Inshal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552302493,"creation_date":1552302493,"answer_id":55100490,"question_id":55098507,"body_markdown":"You need to make sure the value that you&#39;re caching in the cache is referenced by the same key as in when you are using the cache put. \r\n\r\nFor example: \r\n\r\nSay you&#39;re caching text &quot;Hello world&quot; with the key &quot;hw&quot;. Your cache would hold a key &quot;hw&quot; with the value &quot;Hello world&quot;. \r\n\r\nNow say you want to update the value with the &quot;hw&quot; key to some other text. For that, you need to make sure the key you pass in is the same as the one you passed it to cache that instance, which would be &quot;hw&quot; in that case.\r\n\r\nThat way, the key &quot;hw&quot; would hold an updated value with it.\r\n\r\n\r\n\r\n\r\n    @Cacheable(value = &quot;text&quot;, key = &quot;hw&quot;)\r\n    public String getText() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(2);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return text;\r\n    }\r\n\r\n    @CachePut(key = &quot;hw&quot;)\r\n    public String setText(String newText) {\r\n        text = newText;\r\n        return text;\r\n    }","title":"@CachePut does not update cache","body":"<p>You need to make sure the value that you're caching in the cache is referenced by the same key as in when you are using the cache put. </p>\n\n<p>For example: </p>\n\n<p>Say you're caching text \"Hello world\" with the key \"hw\". Your cache would hold a key \"hw\" with the value \"Hello world\". </p>\n\n<p>Now say you want to update the value with the \"hw\" key to some other text. For that, you need to make sure the key you pass in is the same as the one you passed it to cache that instance, which would be \"hw\" in that case.</p>\n\n<p>That way, the key \"hw\" would hold an updated value with it.</p>\n\n<pre><code>@Cacheable(value = \"text\", key = \"hw\")\npublic String getText() {\n    try {\n        TimeUnit.SECONDS.sleep(2);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return text;\n}\n\n@CachePut(key = \"hw\")\npublic String setText(String newText) {\n    text = newText;\n    return text;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1552309089,"creation_date":1552309089,"answer_id":55102364,"question_id":55098507,"body_markdown":"The problem was with key naming, string name should be enclosed by `&#39;`, [hint](https://stackoverflow.com/a/47341548/4677807). Below working code.\r\n\r\n    @Service\r\n    public class SlowService {\r\n    \r\n        String text = &quot;Initial value&quot;;\r\n    \r\n        @Cacheable(value = &quot;text&quot;, key = &quot;&#39;someKey&#39;&quot;)\r\n        public String getText() {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(2);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return text;\r\n        }\r\n    \r\n        @CachePut(value = &quot;text&quot;, key = &quot;&#39;someKey&#39;&quot;)\r\n        public String setText(String newText) {\r\n            text = newText;\r\n            return text;\r\n        }\r\n    }","title":"@CachePut does not update cache","body":"<p>The problem was with key naming, string name should be enclosed by <code>'</code>, <a href=\"https://stackoverflow.com/a/47341548/4677807\">hint</a>. Below working code.</p>\n\n<pre><code>@Service\npublic class SlowService {\n\n    String text = \"Initial value\";\n\n    @Cacheable(value = \"text\", key = \"'someKey'\")\n    public String getText() {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return text;\n    }\n\n    @CachePut(value = \"text\", key = \"'someKey'\")\n    public String setText(String newText) {\n        text = newText;\n        return text;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5949208,"reputation":2129,"user_id":4677807,"accept_rate":100,"display_name":"Bartek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55102364,"answer_count":2,"score":0,"last_activity_date":1701790932,"creation_date":1552295680,"question_id":55098507,"body_markdown":"I would like to cache `getText` method and update cache on `setText`. By now cache on `getText` method works, but I can not update value. Code below is base on tutorial from [Hazelcast](https://hazelcast.com/blog/spring-boot/).\r\n \r\n\r\n    @Service\r\n    public class SlowService {\r\n    \r\n        String text = &quot;Initial value&quot;;\r\n    \r\n        @Cacheable(&quot;text&quot;)\r\n        public String getText() {\r\n            try {\r\n                TimeUnit.SECONDS.sleep(2);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return text;\r\n        }\r\n    \r\n        @CachePut(value = &quot;text&quot;, key = &quot;#newText + 1&quot;)\r\n        public String setText(String newText) {\r\n            text = newText;\r\n            return text;\r\n        }\r\n    }\r\n\r\nHow to improve code above to make `@CachePut` annotation work?\r\n\r\nEDIT:\r\nTried adding same keys:\r\n\r\n    @Cacheable(value = &quot;text&quot;, key = &quot;#someKey&quot;)\r\n    public String getText() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(2);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return text;\r\n    }\r\n    \r\n    @CachePut(key = &quot;#someKey&quot;)\r\n    public String setText(String newText) {\r\n        text = newText;\r\n        return text;\r\n    }\r\n\r\nBut getting:\r\n\r\n&gt; java.lang.IllegalArgumentException: Null key returned for cache\r\n&gt; operation (maybe you are using named params on classes without debug\r\n&gt; info?) Builder[public java.lang.String\r\n&gt; com.example.demo.SlowService.getText()] caches=[text] | key=&#39;#someKey&#39;\r\n&gt; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39;\r\n&gt; | unless=&#39;&#39; | sync=&#39;false&#39;\r\n\r\n","title":"@CachePut does not update cache","body":"<p>I would like to cache <code>getText</code> method and update cache on <code>setText</code>. By now cache on <code>getText</code> method works, but I can not update value. Code below is base on tutorial from <a href=\"https://hazelcast.com/blog/spring-boot/\" rel=\"nofollow noreferrer\">Hazelcast</a>.</p>\n<pre><code>@Service\npublic class SlowService {\n\n    String text = &quot;Initial value&quot;;\n\n    @Cacheable(&quot;text&quot;)\n    public String getText() {\n        try {\n            TimeUnit.SECONDS.sleep(2);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return text;\n    }\n\n    @CachePut(value = &quot;text&quot;, key = &quot;#newText + 1&quot;)\n    public String setText(String newText) {\n        text = newText;\n        return text;\n    }\n}\n</code></pre>\n<p>How to improve code above to make <code>@CachePut</code> annotation work?</p>\n<p>EDIT:\nTried adding same keys:</p>\n<pre><code>@Cacheable(value = &quot;text&quot;, key = &quot;#someKey&quot;)\npublic String getText() {\n    try {\n        TimeUnit.SECONDS.sleep(2);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return text;\n}\n\n@CachePut(key = &quot;#someKey&quot;)\npublic String setText(String newText) {\n    text = newText;\n    return text;\n}\n</code></pre>\n<p>But getting:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Null key returned for cache\noperation (maybe you are using named params on classes without debug\ninfo?) Builder[public java.lang.String\ncom.example.demo.SlowService.getText()] caches=[text] | key='#someKey'\n| keyGenerator='' | cacheManager='' | cacheResolver='' | condition=''\n| unless='' | sync='false'</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701787718,"post_id":77606097,"comment_id":136817045,"body_markdown":"This is nonsense. It cant possibly know that `encoded` is user input, and it cant be.","body":"This is nonsense. It cant possibly know that <code>encoded</code> is user input, and it cant be."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1701780606,"post_id":77606128,"comment_id":136815560,"body_markdown":"This only answers half of the questions (does not explain the second issue at all), and fails to highlight a rather important point, which is that the linter tool is flat out wrong here, as there is no limited resource in play whatsoever. Wrapping in a try-with block here just serves to shut up the linter tool but made the code worse, and is, therefore, a bad answer.","body":"This only answers half of the questions (does not explain the second issue at all), and fails to highlight a rather important point, which is that the linter tool is flat out wrong here, as there is no limited resource in play whatsoever. Wrapping in a try-with block here just serves to shut up the linter tool but made the code worse, and is, therefore, a bad answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701780863,"post_id":77606128,"comment_id":136815600,"body_markdown":"@rzwitserloot I wouldnt say that using a try-with-resource causes any harm here; its ok to be consistent with all I/O streams, even if closing a `ByteArrayInputStream` is unnecessary. But changing a specific `catch` to a general catch-all without any reason makes it a bad answer. Not to speak of the fact that the code example doesnt work, as both, the type and the name of the variable have been changed. And yes, the second part has not been addressed at all.","body":"@rzwitserloot I wouldnt say that using a try-with-resource causes any harm here; its ok to be consistent with all I/O streams, even if closing a <code>ByteArrayInputStream</code> is unnecessary. But changing a specific <code>catch</code> to a general catch-all without any reason makes it a bad answer. Not to speak of the fact that the code example doesnt work, as both, the type and the name of the variable have been changed. And yes, the second part has not been addressed at all."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1701787922,"post_id":77606128,"comment_id":136817087,"body_markdown":"Can I get some help on the second part please?","body":"Can I get some help on the second part please?"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1701781784,"creation_date":1701778512,"answer_id":77606128,"question_id":77606097,"body_markdown":"Just one rule for all streams to **correctly** release all resources is **try-with-resources**:\r\n\r\n```java\r\ntry (InputStream in = new ObjectInputStream()) {\r\n   // TODO\r\n}\r\n```\r\n---\r\n```java\r\npublic Map&lt;?, ?&gt; getMap(String encoded) {\r\n    try (InputStream in = new ObjectInputStream(\r\n            new ByteArrayInputStream(Base64.getDecoder().decode(encoded))) {\r\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\r\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\r\n        return Map.of();\r\n    }\r\n}\r\n```","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>Just one rule for all streams to <strong>correctly</strong> release all resources is <strong>try-with-resources</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream in = new ObjectInputStream()) {\n   // TODO\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;?, ?&gt; getMap(String encoded) {\n    try (InputStream in = new ObjectInputStream(\n            new ByteArrayInputStream(Base64.getDecoder().decode(encoded))) {\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\n        return Map.of();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701790903,"creation_date":1701790903,"answer_id":77607469,"question_id":77606097,"body_markdown":"Oleg is correct;  even though your ObjectInputStream is reading from a ByteArrayStream and it doesnt technically matter whether it gets closed, it is good practice to put every InputStream and OutputStream in a try-with-resources statement, so it will be closed automatically.  This should also make the code analysis tool stop complaining about an unclosed resource.\r\n\r\nI semi-regularly run into your second problem when code is subject to a code analysis tool.  Validation is often given as the cause, without further explanation;  I find this immensely frustrating, especially when the variable is being used in a completely safe manner, like JPA or PreparedStatement, which take care of all sanitizing, making validation irrelevant.\r\n\r\nHowever, in your case, you have a more specific message:\r\n\r\n&gt;This elements value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log. This may enable Stored Log Forging.\r\n\r\nLog forging refers to strings which might have newline characters in them.  This allows a user to make the log appear to contain something that isnt a real log entry.  Imagine if this were user input:\r\n\r\n    &quot;John Doe\\nDec 05, 2023 10:41:00 AM com.example.app.Application Everything is fine, no intrusion is taking place.&quot;\r\n\r\nThat would make the log *appear* to contain something that isnt a real log entry at all.\r\n\r\nSo in this case, the sanitization that is required is probably stripping the text of newlines.  If your Map contains strings, you can sanitize them when logging them.  For example:\r\n\r\n    Map&lt;?, ?&gt; map = getMap(encoded);\r\n\r\n    logger.fine(() -&gt; {\r\n        Map&lt;String, String&gt; sanitized = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n            Object key = entry.getKey();\r\n            String loggableKey = (key == null ? null :\r\n                key.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\r\n\r\n            Object value = entry.getValue();\r\n            String loggableValue = (value == null ? null :\r\n                value.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\r\n\r\n            sanitized.put(loggableKey, loggableValue);\r\n        }\r\n\r\n        return &quot;getMap returned &quot; + sanitized;\r\n    });\r\n\r\n`replaceAll(&quot;\\\\R&quot;, &quot; &quot;)` uses a [regular expression](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html) to replace each newline sequence, denoted by `\\R` in a pattern, with a single space.\r\n","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>Oleg is correct;  even though your ObjectInputStream is reading from a ByteArrayStream and it doesnt technically matter whether it gets closed, it is good practice to put every InputStream and OutputStream in a try-with-resources statement, so it will be closed automatically.  This should also make the code analysis tool stop complaining about an unclosed resource.</p>\n<p>I semi-regularly run into your second problem when code is subject to a code analysis tool.  Validation is often given as the cause, without further explanation;  I find this immensely frustrating, especially when the variable is being used in a completely safe manner, like JPA or PreparedStatement, which take care of all sanitizing, making validation irrelevant.</p>\n<p>However, in your case, you have a more specific message:</p>\n<blockquote>\n<p>This elements value flows through the code without being properly sanitized or validated, and is eventually used in writing an audit log. This may enable Stored Log Forging.</p>\n</blockquote>\n<p>Log forging refers to strings which might have newline characters in them.  This allows a user to make the log appear to contain something that isnt a real log entry.  Imagine if this were user input:</p>\n<pre><code>&quot;John Doe\\nDec 05, 2023 10:41:00 AM com.example.app.Application Everything is fine, no intrusion is taking place.&quot;\n</code></pre>\n<p>That would make the log <em>appear</em> to contain something that isnt a real log entry at all.</p>\n<p>So in this case, the sanitization that is required is probably stripping the text of newlines.  If your Map contains strings, you can sanitize them when logging them.  For example:</p>\n<pre><code>Map&lt;?, ?&gt; map = getMap(encoded);\n\nlogger.fine(() -&gt; {\n    Map&lt;String, String&gt; sanitized = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n        Object key = entry.getKey();\n        String loggableKey = (key == null ? null :\n            key.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\n\n        Object value = entry.getValue();\n        String loggableValue = (value == null ? null :\n            value.toString().replaceAll(&quot;\\\\R&quot;, &quot; &quot;));\n\n        sanitized.put(loggableKey, loggableValue);\n    }\n\n    return &quot;getMap returned &quot; + sanitized;\n});\n</code></pre>\n<p><code>replaceAll(&quot;\\\\R&quot;, &quot; &quot;)</code> uses a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular expression</a> to replace each newline sequence, denoted by <code>\\R</code> in a pattern, with a single space.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701790903,"creation_date":1701778210,"question_id":77606097,"body_markdown":"I would like to close and release ```new ObjectInputStream()``` while safely use ```objectInputStream.readObject()```.\r\n\r\nLooking at this piece of code:\r\n\r\n```\r\npublic Map&lt;?, ?&gt; getMap(String encoded) {\r\n    try {\r\n        var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)));\r\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\r\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\r\n    \r\n        return Map.of();\r\n    }\r\n}\r\n```\r\n\r\nThe above is being flagged with multiple static analysis tools. The issue reported is:\r\n\r\n&gt; defines and initializes the ObjectInputStream object. This object\r\n&gt; encapsulates a limited computing resource, such as open file streams,\r\n&gt; database connections, or network streams. This resource is not\r\n&gt; properly closed and released in all situations.\r\n\r\nwith\r\n\r\n&gt; gets user input from element readObject. This elements value flows\r\n&gt; through the code without being properly sanitized or validated, and is\r\n&gt; eventually used in writing an audit log. This may enable Stored Log\r\n&gt; Forging.\r\n\r\nHow to properly use ```new ObjectInputStream()``` and ```objectInputStream.readObject()```?\r\n","title":"How to properly close and release new ObjectInputStream() and objectInputStream.readObject()","body":"<p>I would like to close and release <code>new ObjectInputStream()</code> while safely use <code>objectInputStream.readObject()</code>.</p>\n<p>Looking at this piece of code:</p>\n<pre><code>public Map&lt;?, ?&gt; getMap(String encoded) {\n    try {\n        var objectInputStream = new ObjectInputStream(new ByteArrayInputStream(Base64.getDecoder().decode(encoded)));\n        return (Map&lt;?, ?&gt;) objectInputStream.readObject();\n    } catch (IOException | ClassNotFoundException | IllegalArgumentException e) {\n    \n        return Map.of();\n    }\n}\n</code></pre>\n<p>The above is being flagged with multiple static analysis tools. The issue reported is:</p>\n<blockquote>\n<p>defines and initializes the ObjectInputStream object. This object\nencapsulates a limited computing resource, such as open file streams,\ndatabase connections, or network streams. This resource is not\nproperly closed and released in all situations.</p>\n</blockquote>\n<p>with</p>\n<blockquote>\n<p>gets user input from element readObject. This elements value flows\nthrough the code without being properly sanitized or validated, and is\neventually used in writing an audit log. This may enable Stored Log\nForging.</p>\n</blockquote>\n<p>How to properly use <code>new ObjectInputStream()</code> and <code>objectInputStream.readObject()</code>?</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1467619859,"post_id":38179689,"comment_id":63786224,"body_markdown":"Are you saying that you&#39;re providing the path of the tgz file? If so, you&#39;d need to untar/unzip it first.","body":"Are you saying that you&#39;re providing the path of the tgz file? If so, you&#39;d need to untar/unzip it first."},{"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"score":0,"creation_date":1467620426,"post_id":38179689,"comment_id":63786526,"body_markdown":"No, I unzipped it already and provided .pb file as a filename.","body":"No, I unzipped it already and provided .pb file as a filename."}],"answers":[{"comments":[{"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"score":0,"creation_date":1467729961,"post_id":38192319,"comment_id":63836807,"body_markdown":"Thanks, the problem is resolved by using `parseDelimitedFrom()` instead of `parseFrom()` and replacing `Relation` with `Document`. How can I check garbage?","body":"Thanks, the problem is resolved by using <code>parseDelimitedFrom()</code> instead of <code>parseFrom()</code> and replacing <code>Relation</code> with <code>Document</code>. How can I check garbage?"},{"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"score":0,"creation_date":1467754688,"post_id":38192319,"comment_id":63850296,"body_markdown":"By &quot;get garbage&quot;, I mean the data won&#39;t look like what you expect. There&#39;s no algorithmic way to do this; you&#39;ll need to look manually and &quot;see if it looks right&quot;.","body":"By &quot;get garbage&quot;, I mean the data won&#39;t look like what you expect. There&#39;s no algorithmic way to do this; you&#39;ll need to look manually and &quot;see if it looks right&quot;."}],"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701790762,"creation_date":1467667049,"answer_id":38192319,"question_id":38179689,"body_markdown":"Your files are actually in &quot;delimited&quot; format: each one contains multiple messages, each with a length prefix.\r\n\r\n    InputStream stream = new FileInputStream(filename);\r\n    Document document = Document.parseDelimitedFrom(stream);\r\n\r\nKeep calling `parseDelimitedFrom(stream)` to read more messages until it returns `null` (end of file).\r\n\r\nAlso note that the file I looked at -- `testNegative.pb` in `heldout_relations.tgz` -- appeared to contain instances of `Relation`, not `Document`. Make sure you are parsing the correct type, because the protobuf implementation can&#39;t tell the difference -- you&#39;ll get garbage if you parse the wrong type.","title":"java: Protocol message tag had invalid wire type error when reading .pb file","body":"<p>Your files are actually in &quot;delimited&quot; format: each one contains multiple messages, each with a length prefix.</p>\n<pre><code>InputStream stream = new FileInputStream(filename);\nDocument document = Document.parseDelimitedFrom(stream);\n</code></pre>\n<p>Keep calling <code>parseDelimitedFrom(stream)</code> to read more messages until it returns <code>null</code> (end of file).</p>\n<p>Also note that the file I looked at -- <code>testNegative.pb</code> in <code>heldout_relations.tgz</code> -- appeared to contain instances of <code>Relation</code>, not <code>Document</code>. Make sure you are parsing the correct type, because the protobuf implementation can't tell the difference -- you'll get garbage if you parse the wrong type.</p>\n"}],"owner":{"account_id":1409071,"reputation":1375,"user_id":1336058,"accept_rate":62,"display_name":"Benben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9017,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38192319,"answer_count":1,"score":2,"last_activity_date":1701790762,"creation_date":1467619720,"question_id":38179689,"body_markdown":"I try to read .pb extension file. \r\nSpecifically, I would like to read [this dataset][1] (in .tgz). \r\n\r\nI write the following code:\r\n\r\n    Path path = Paths.get(filename);\r\n    byte[] data = Files.readAllBytes(path);\r\n    Document document = Document.parseFrom(data);\r\n\r\nBut then I received the following error.\r\n\r\n    com.google.protobuf.InvalidProtocolBufferException: Protocol message tag had invalid wire type.\r\n\r\nThe last line of the code caused this error, but I do not know how to solve it. \r\n\r\n  [1]: http://iesl.cs.umass.edu/riedel/ecml/","title":"java: Protocol message tag had invalid wire type error when reading .pb file","body":"<p>I try to read .pb extension file. \nSpecifically, I would like to read <a href=\"http://iesl.cs.umass.edu/riedel/ecml/\" rel=\"nofollow\">this dataset</a> (in .tgz). </p>\n\n<p>I write the following code:</p>\n\n<pre><code>Path path = Paths.get(filename);\nbyte[] data = Files.readAllBytes(path);\nDocument document = Document.parseFrom(data);\n</code></pre>\n\n<p>But then I received the following error.</p>\n\n<pre><code>com.google.protobuf.InvalidProtocolBufferException: Protocol message tag had invalid wire type.\n</code></pre>\n\n<p>The last line of the code caused this error, but I do not know how to solve it. </p>\n"},{"tags":["java","multithreading","java-threads","thread-sleep"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701106094,"post_id":77558805,"comment_id":136731289,"body_markdown":"What kind of error were you expecting, and why?","body":"What kind of error were you expecting, and why?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701106221,"post_id":77558805,"comment_id":136731303,"body_markdown":"Tip: Replace `System.currentTimeMillis()` with `java.time.Instant.now()`.","body":"Tip: Replace <code>System.currentTimeMillis()</code> with <code>java.time.Instant.now()</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1701106301,"post_id":77558805,"comment_id":136731315,"body_markdown":"Why would `Thread#sleep` throw an error? A non-daemon `Thread` is allowed to continue running even when the main thread completes, as the jvm will not shutdown until all non-daemon threads complete (Which they are by default, unless you are currently a daemon thread. The main thread is non-daemon). What you&#39;re seeing here is normal, your main thread completes first, then the second thread completes.","body":"Why would <code>Thread#sleep</code> throw an error? A non-daemon <code>Thread</code> is allowed to continue running even when the main thread completes, as the jvm will not shutdown until all non-daemon threads complete (Which they are by default, unless you are currently a daemon thread. The main thread is non-daemon). What you&#39;re seeing here is normal, your main thread completes first, then the second thread completes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1701106320,"post_id":77558805,"comment_id":136731318,"body_markdown":"Does this answer your question? [How can thread run after main method closes?](https://stackoverflow.com/questions/22146899/how-can-thread-run-after-main-method-closes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22146899/how-can-thread-run-after-main-method-closes\">How can thread run after main method closes?</a>"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1701106365,"post_id":77558805,"comment_id":136731330,"body_markdown":"Nothing is calling interrupt on the thread. Here is an answer demonstrating thread interruption https://stackoverflow.com/a/5915306/217324","body":"Nothing is calling interrupt on the thread. Here is an answer demonstrating thread interruption <a href=\"https://stackoverflow.com/a/5915306/217324\">stackoverflow.com/a/5915306/217324</a>"},{"owner":{"account_id":30005843,"reputation":13,"user_id":22994767,"display_name":"Bh_04"},"score":0,"creation_date":1701106939,"post_id":77558805,"comment_id":136731429,"body_markdown":"@BasilBourque My confusion is how thread.sleep() puts main thread to sleep when &#39;thread&#39; here is a reference of user defined thread.","body":"@BasilBourque My confusion is how thread.sleep() puts main thread to sleep when &#39;thread&#39; here is a reference of user defined thread."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":5,"creation_date":1701107131,"post_id":77558805,"comment_id":136731458,"body_markdown":"Sleep is a static method. Java doesnt care what instance you call it on.","body":"Sleep is a static method. Java doesnt care what instance you call it on."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":2,"creation_date":1701107466,"post_id":77558805,"comment_id":136731532,"body_markdown":"You can&#39;t force another thread to sleep.","body":"You can&#39;t force another thread to sleep."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1701118448,"post_id":77558805,"comment_id":136733319,"body_markdown":"Don&#39;t think of `thread.sleep(n)` as putting _any_ thread to sleep. What `thread.sleep(1000)` does in your program is the same as what `Thread.sleep(1000)` would do. And what `Thread.sleep(1000)` does is _nothing._ It does nothing for 1000 milliseconds,\\* and then it returns. \\[* Actually, for _at least_ 1000 milliseconds. It&#39;s allowed to take a tiny bit longer than the time you specify, but it is not allowed to take any less time.]","body":"Don&#39;t think of <code>thread.sleep(n)</code> as putting <i>any</i> thread to sleep. What <code>thread.sleep(1000)</code> does in your program is the same as what <code>Thread.sleep(1000)</code> would do. And what <code>Thread.sleep(1000)</code> does is <i>nothing.</i> It does nothing for 1000 milliseconds,* and then it returns. &#91;* Actually, for <i>at least</i> 1000 milliseconds. It&#39;s allowed to take a tiny bit longer than the time you specify, but it is not allowed to take any less time.]"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701200337,"post_id":77558805,"comment_id":136745211,"body_markdown":"You said it yourself. It puts the thread *that is running it* to sleep.","body":"You said it yourself. It puts the thread <i>that is running it</i> to sleep."}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701107707,"post_id":77558906,"comment_id":136731580,"body_markdown":"Admittedly `someThread.sleep(...)` is like a witch accidentally drinking her own potions.","body":"Admittedly <code>someThread.sleep(...)</code> is like a witch accidentally drinking her own potions."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701790285,"creation_date":1701106747,"answer_id":77558906,"question_id":77558805,"body_markdown":"Letting a thread put another thread to sleep would be a security risk so it is not allowed. `Thread.sleep` is a static method that puts the current thread to sleep.  \r\n\r\n\r\nOne of the more confusing features of the Java language is that you&#39;re allowed to call static methods on object instances as if they were instance methods. The actual instance is ignored (it can even be null), the type of the variable is used to figure out what class to call the method on. But that can leave the user thinking they are doing something with a particular instance that they aren&#39;t.\r\n","title":"Looking for clarity on Thread.sleep() method","body":"<p>Letting a thread put another thread to sleep would be a security risk so it is not allowed. <code>Thread.sleep</code> is a static method that puts the current thread to sleep.</p>\n<p>One of the more confusing features of the Java language is that you're allowed to call static methods on object instances as if they were instance methods. The actual instance is ignored (it can even be null), the type of the variable is used to figure out what class to call the method on. But that can leave the user thinking they are doing something with a particular instance that they aren't.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701198603,"creation_date":1701198603,"answer_id":77566548,"question_id":77558805,"body_markdown":"&gt; Why is the main thread is sleeping when called on the reference of user defined thread.\r\n\r\nIf we look at the [`Thread` class source][1] we see:\r\n\r\n&gt;     public static native void sleep(long millis) throws InterruptedException;\r\n\r\nThis is a `static` method so should be called as `Thread.sleep(...)` and not on an instance of `Thread`.  Calling it as `thread.sleep(...)` is a an anti-pattern.  You think you are affecting the `thread` instance but in reality the caller is the one that is sleeping.  Looking at the javadocs of this method it confirms this:\r\n\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.\r\n\r\nIn [Eclipse (a free IDE)][2], when I try to use `sleep()` with an instance variable I get a warning:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nPaying attention to these sorts of warnings will help.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\r\n  [2]: https://www.eclipse.org/\r\n  [3]: https://i.stack.imgur.com/ymdbF.png","title":"Looking for clarity on Thread.sleep() method","body":"<blockquote>\n<p>Why is the main thread is sleeping when called on the reference of user defined thread.</p>\n</blockquote>\n<p>If we look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\"><code>Thread</code> class source</a> we see:</p>\n<blockquote>\n<pre><code>public static native void sleep(long millis) throws InterruptedException;\n</code></pre>\n</blockquote>\n<p>This is a <code>static</code> method so should be called as <code>Thread.sleep(...)</code> and not on an instance of <code>Thread</code>.  Calling it as <code>thread.sleep(...)</code> is a an anti-pattern.  You think you are affecting the <code>thread</code> instance but in reality the caller is the one that is sleeping.  Looking at the javadocs of this method it confirms this:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.</p>\n</blockquote>\n<p>In <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse (a free IDE)</a>, when I try to use <code>sleep()</code> with an instance variable I get a warning:</p>\n<p><a href=\"https://i.stack.imgur.com/ymdbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymdbF.png\" alt=\"enter image description here\" /></a></p>\n<p>Paying attention to these sorts of warnings will help.</p>\n"}],"owner":{"account_id":30005843,"reputation":13,"user_id":22994767,"display_name":"Bh_04"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77558906,"answer_count":2,"score":1,"last_activity_date":1701790285,"creation_date":1701105749,"question_id":77558805,"body_markdown":"Thread.sleep() method puts the thread that is running it to sleep. \r\nthread.sleep() statement in the below code will be run by main thread, &#39;thread&#39; in the below code is an user defined thread. Why is the main thread is sleeping when called on the reference of user defined thread.\r\n\r\n\r\n```\r\npublic class ThreadDemo {\r\n\r\n    public static Thread t1 = null;\r\n    public static Thread t2 = null;\r\n    public static void main(String[] args) throws InterruptedException{\r\n\r\n        System.out.println(&quot;start of main function, Thread : &quot;+Thread.currentThread().getName());\r\n        t1 = Thread.currentThread(); //main thread\r\n        MyThread thread = new MyThread();\r\n        t2 = thread;\r\n        thread.start();\r\n\r\n        System.out.println(&quot;Before sleep in main method : &quot;+System.currentTimeMillis());\r\n        thread.sleep(1000);\r\n        System.out.println(&quot;After sleep in main method : &quot;+System.currentTimeMillis());\r\n\r\n        System.out.println(&quot;In main method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\r\n        System.out.println(&quot;In main method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\r\n\r\n        System.out.println(&quot;Is thread, &quot;+thread.getName() + &quot; alive : &quot;+ thread.isAlive());\r\n\r\n        System.out.println(&quot;end of main function, Thread : &quot;+Thread.currentThread().getName());\r\n    }\r\n\r\n    public static class MyThread extends Thread{\r\n        int sum = 0;\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;In run method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\r\n            System.out.println(&quot;In run method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\r\n            System.out.println(&quot;start of run method, Thread : &quot;+Thread.currentThread().getName());\r\n            for(int i=0; i&lt;10000; i++){\r\n                sum += i;\r\n            }\r\n            try{\r\n                Thread.sleep(10000);\r\n                System.out.println(&quot;After sleep in run method : &quot;+System.currentTimeMillis());\r\n            }catch (InterruptedException e){\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;end of run method, &quot;+ Thread.currentThread().getName() +&quot;, returns : &quot;+sum);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nOutput:\r\n\r\n```\r\nstart of main function, Thread : main\r\nBefore sleep in main method : 1701105524066\r\nIn run method, Thread : main ,In state: TIMED_WAITING\r\nIn run method, Thread : Thread-0 ,In state: RUNNABLE\r\nstart of run method, Thread : Thread-0\r\nAfter sleep in main method : 1701105525070\r\nIn main method, Thread : main ,In state: RUNNABLE\r\nIn main method, Thread : Thread-0 ,In state: TIMED_WAITING\r\nIs thread, Thread-0 alive : true\r\nend of main function, Thread : main\r\nAfter sleep in run method : 1701105534071\r\nend of run method, Thread-0, returns : 49995000\r\n```\r\n\r\n\r\nI don&#39;t understand how main thread is sleeping when called on the reference of user defined thread.","title":"Looking for clarity on Thread.sleep() method","body":"<p>Thread.sleep() method puts the thread that is running it to sleep.\nthread.sleep() statement in the below code will be run by main thread, 'thread' in the below code is an user defined thread. Why is the main thread is sleeping when called on the reference of user defined thread.</p>\n<pre><code>public class ThreadDemo {\n\n    public static Thread t1 = null;\n    public static Thread t2 = null;\n    public static void main(String[] args) throws InterruptedException{\n\n        System.out.println(&quot;start of main function, Thread : &quot;+Thread.currentThread().getName());\n        t1 = Thread.currentThread(); //main thread\n        MyThread thread = new MyThread();\n        t2 = thread;\n        thread.start();\n\n        System.out.println(&quot;Before sleep in main method : &quot;+System.currentTimeMillis());\n        thread.sleep(1000);\n        System.out.println(&quot;After sleep in main method : &quot;+System.currentTimeMillis());\n\n        System.out.println(&quot;In main method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\n        System.out.println(&quot;In main method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\n\n        System.out.println(&quot;Is thread, &quot;+thread.getName() + &quot; alive : &quot;+ thread.isAlive());\n\n        System.out.println(&quot;end of main function, Thread : &quot;+Thread.currentThread().getName());\n    }\n\n    public static class MyThread extends Thread{\n        int sum = 0;\n        @Override\n        public void run() {\n            System.out.println(&quot;In run method, Thread : &quot;+t1.getName()+&quot; ,In state: &quot;+t1.getState());\n            System.out.println(&quot;In run method, Thread : &quot;+t2.getName()+&quot; ,In state: &quot;+t2.getState());\n            System.out.println(&quot;start of run method, Thread : &quot;+Thread.currentThread().getName());\n            for(int i=0; i&lt;10000; i++){\n                sum += i;\n            }\n            try{\n                Thread.sleep(10000);\n                System.out.println(&quot;After sleep in run method : &quot;+System.currentTimeMillis());\n            }catch (InterruptedException e){\n                e.printStackTrace();\n            }\n            System.out.println(&quot;end of run method, &quot;+ Thread.currentThread().getName() +&quot;, returns : &quot;+sum);\n        }\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>start of main function, Thread : main\nBefore sleep in main method : 1701105524066\nIn run method, Thread : main ,In state: TIMED_WAITING\nIn run method, Thread : Thread-0 ,In state: RUNNABLE\nstart of run method, Thread : Thread-0\nAfter sleep in main method : 1701105525070\nIn main method, Thread : main ,In state: RUNNABLE\nIn main method, Thread : Thread-0 ,In state: TIMED_WAITING\nIs thread, Thread-0 alive : true\nend of main function, Thread : main\nAfter sleep in run method : 1701105534071\nend of run method, Thread-0, returns : 49995000\n</code></pre>\n<p>I don't understand how main thread is sleeping when called on the reference of user defined thread.</p>\n"},{"tags":["java","swing","libvlc","vlcj"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1701803269,"post_id":77607354,"comment_id":136819926,"body_markdown":"I can&#39;t analyse what&#39;s wrong with your code, but I would advise starting here https://github.com/caprica/vlcj-player. There are some special requirements when implementing a scrubber, to do with threading of Swing events vs media player events for one thing.","body":"I can&#39;t analyse what&#39;s wrong with your code, but I would advise starting here <a href=\"https://github.com/caprica/vlcj-player\" rel=\"nofollow noreferrer\">github.com/caprica/vlcj-player</a>. There are some special requirements when implementing a scrubber, to do with threading of Swing events vs media player events for one thing."}],"owner":{"account_id":30072790,"reputation":1,"user_id":23046343,"display_name":"Theo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701789891,"creation_date":1701789891,"question_id":77607354,"body_markdown":"I&#39;m trying to make an embedded video player in a program using Java swing and vlcj and would like a video scrubber. I&#39;m coding between MacOS and windows and using vlcj 4.8.2.\r\n\r\nI am currently trying to use a JSlider to create the video scrubber and am struggling with the media event listeners. I have put a test output in an event listener for when the time changes in the video but it never seems to fire even though the video is playing on my screen.\r\n\r\nI have a main class that calls a UI class that calls the initializeMediaPlayer. \r\n\r\nIs there a reason this isnt outputting the time change or an easier way to create a video scrubber? \r\n\r\nI am still quite new to this library so I assume I&#39;m missing a fairly easy thing.\r\n\r\n\r\n\r\nThis is my media player class:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport uk.co.caprica.vlcj.factory.discovery.NativeDiscovery;\r\nimport uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport uk.co.caprica.vlcj.player.base.MediaPlayerEventAdapter;\r\nimport static uk.co.caprica.vlcj.player.base.State.PLAYING;\r\nimport uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\r\n\r\npublic class MediaPlayer {\r\n\r\n    public static void initializeMediaPlayer(JPanel videoPanel) {\r\n        \r\n        JButton uploadFootageButton = new JButton(&quot;&lt;html&gt;Click to Upload Footage&lt;br /&gt;(or drag and drop)&lt;/html&gt;&quot;); //upload footage button\r\n                                                                                                                       //over two lines\r\n        videoPanel.add(uploadFootageButton, BorderLayout.CENTER);\r\n        \r\n        uploadFootageButton.addActionListener(new ActionListener() { //adds the action listener\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                JFileChooser footageUpload = new JFileChooser(); //load file explorer\r\n\r\n                int result = footageUpload.showOpenDialog(null);\r\n\r\n                if (result == JFileChooser.APPROVE_OPTION) { //if a file is selected\r\n                    new NativeDiscovery().discover(); //find the vlc path\r\n\r\n                    String selectedFilePath = footageUpload.getSelectedFile().getAbsolutePath(); //path of video\r\n\r\n                    videoPanel.remove(uploadFootageButton); //remove upload button when video is uploaded\r\n                    \r\n                    JPanel mediaBar = new JPanel();\r\n                    videoPanel.add(mediaBar, BorderLayout.SOUTH);\r\n\r\n                    CallbackMediaPlayerComponent mediaPlayerComponent = new CallbackMediaPlayerComponent();\r\n                    videoPanel.add(mediaPlayerComponent); //add the media player\r\n                 \r\n                    EmbeddedMediaPlayer mediaPlayer = mediaPlayerComponent.mediaPlayer();\r\n\r\n                    mediaPlayer.media().prepare(selectedFilePath); //prepare the video\r\n                    mediaPlayer.controls().play(); //play the video\r\n                    \r\n                    videoPanel.revalidate(); //make sure video panel is correct\r\n                    videoPanel.repaint();\r\n\r\n                    initialiseMediaSettings(mediaBar, mediaPlayer, mediaPlayerComponent); //create video settings and buttons\r\n                }\r\n                \r\n            }\r\n        });\r\n    }\r\n    \r\n    public static void initialiseMediaSettings(JPanel mediaBar, EmbeddedMediaPlayer mediaPlayer, CallbackMediaPlayerComponent mediaPlayerComponent) {\r\n\r\n        //code here that adds:\r\n        //mute audio button\r\n        //play/pause button\r\n        //playback speed options\r\n\r\n        //scrubber\r\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\r\n        JSlider videoScrubber = new JSlider();\r\n\r\n        while (mediaPlayer.status().state() != PLAYING) { //while its not playing\r\n            try {\r\n                Thread.sleep(100); // Sleep for a short interval to avoid busy-waiting\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        videoScrubber.setMinimum(0); //cant have negative time in video\r\n        videoScrubber.setMaximum((int) mediaPlayer.status().length()); //max of slider is video length\r\n\r\n        mediaPlayer.controls().setRepeat(true); \r\n\r\n        videoScrubber.addChangeListener(new ChangeListener() {\r\n            @Override\r\n            public void stateChanged(ChangeEvent e) {\r\n                if (!videoScrubber.getValueIsAdjusting()) { //stops updating whilst scrubber is being moved\r\n                    mediaPlayer.controls().setPosition(((float) videoScrubber.getValue()) / videoScrubber.getMaximum());\r\n                }\r\n            }\r\n        });\r\n        \r\n        mediaPlayerComponent.mediaPlayer().events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n            public void timeChanged(MediaPlayer mediaPlayer, long newTime) {\r\n                System.err.println(&quot;Time changed: &quot; + newTime);\r\n            }\r\n        });\r\n        \r\n        mediaBar.add(videoScrubber);\r\n    }\r\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI have tried just having a reccuring excecute function that updates the scrubber but it just ends up being laggy and not working correctly.","title":"VLCJ Media Event Listener not Firing","body":"<p>I'm trying to make an embedded video player in a program using Java swing and vlcj and would like a video scrubber. I'm coding between MacOS and windows and using vlcj 4.8.2.</p>\n<p>I am currently trying to use a JSlider to create the video scrubber and am struggling with the media event listeners. I have put a test output in an event listener for when the time changes in the video but it never seems to fire even though the video is playing on my screen.</p>\n<p>I have a main class that calls a UI class that calls the initializeMediaPlayer.</p>\n<p>Is there a reason this isnt outputting the time change or an easier way to create a video scrubber?</p>\n<p>I am still quite new to this library so I assume I'm missing a fairly easy thing.</p>\n<p>This is my media player class:</p>\n<pre><code>import java.awt.BorderLayout;\nimport uk.co.caprica.vlcj.factory.discovery.NativeDiscovery;\nimport uk.co.caprica.vlcj.player.component.CallbackMediaPlayerComponent;\nimport javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport uk.co.caprica.vlcj.player.base.MediaPlayerEventAdapter;\nimport static uk.co.caprica.vlcj.player.base.State.PLAYING;\nimport uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;\n\npublic class MediaPlayer {\n\n    public static void initializeMediaPlayer(JPanel videoPanel) {\n        \n        JButton uploadFootageButton = new JButton(&quot;&lt;html&gt;Click to Upload Footage&lt;br /&gt;(or drag and drop)&lt;/html&gt;&quot;); //upload footage button\n                                                                                                                       //over two lines\n        videoPanel.add(uploadFootageButton, BorderLayout.CENTER);\n        \n        uploadFootageButton.addActionListener(new ActionListener() { //adds the action listener\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFileChooser footageUpload = new JFileChooser(); //load file explorer\n\n                int result = footageUpload.showOpenDialog(null);\n\n                if (result == JFileChooser.APPROVE_OPTION) { //if a file is selected\n                    new NativeDiscovery().discover(); //find the vlc path\n\n                    String selectedFilePath = footageUpload.getSelectedFile().getAbsolutePath(); //path of video\n\n                    videoPanel.remove(uploadFootageButton); //remove upload button when video is uploaded\n                    \n                    JPanel mediaBar = new JPanel();\n                    videoPanel.add(mediaBar, BorderLayout.SOUTH);\n\n                    CallbackMediaPlayerComponent mediaPlayerComponent = new CallbackMediaPlayerComponent();\n                    videoPanel.add(mediaPlayerComponent); //add the media player\n                 \n                    EmbeddedMediaPlayer mediaPlayer = mediaPlayerComponent.mediaPlayer();\n\n                    mediaPlayer.media().prepare(selectedFilePath); //prepare the video\n                    mediaPlayer.controls().play(); //play the video\n                    \n                    videoPanel.revalidate(); //make sure video panel is correct\n                    videoPanel.repaint();\n\n                    initialiseMediaSettings(mediaBar, mediaPlayer, mediaPlayerComponent); //create video settings and buttons\n                }\n                \n            }\n        });\n    }\n    \n    public static void initialiseMediaSettings(JPanel mediaBar, EmbeddedMediaPlayer mediaPlayer, CallbackMediaPlayerComponent mediaPlayerComponent) {\n\n        //code here that adds:\n        //mute audio button\n        //play/pause button\n        //playback speed options\n\n        //scrubber\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\n        JSlider videoScrubber = new JSlider();\n\n        while (mediaPlayer.status().state() != PLAYING) { //while its not playing\n            try {\n                Thread.sleep(100); // Sleep for a short interval to avoid busy-waiting\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        videoScrubber.setMinimum(0); //cant have negative time in video\n        videoScrubber.setMaximum((int) mediaPlayer.status().length()); //max of slider is video length\n\n        mediaPlayer.controls().setRepeat(true); \n\n        videoScrubber.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                if (!videoScrubber.getValueIsAdjusting()) { //stops updating whilst scrubber is being moved\n                    mediaPlayer.controls().setPosition(((float) videoScrubber.getValue()) / videoScrubber.getMaximum());\n                }\n            }\n        });\n        \n        mediaPlayerComponent.mediaPlayer().events().addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n            public void timeChanged(MediaPlayer mediaPlayer, long newTime) {\n                System.err.println(&quot;Time changed: &quot; + newTime);\n            }\n        });\n        \n        mediaBar.add(videoScrubber);\n    }\n/*-----------------------------------------------------------------------------------------------------------------------------------*/\n}\n\n</code></pre>\n<p>I have tried just having a reccuring excecute function that updates the scrubber but it just ends up being laggy and not working correctly.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701711567,"post_id":77601484,"comment_id":136807076,"body_markdown":"I can provide main file if necessary.","body":"I can provide main file if necessary."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701711908,"post_id":77601484,"comment_id":136807148,"body_markdown":"That parameterized ctor is currently doing nothing with those parameters... How are you calling that code? I would advise you to construct the connection url as a string and assign it to a variable, as part of a proper logging strategy","body":"That parameterized ctor is currently doing nothing with those parameters... How are you calling that code? I would advise you to construct the connection url as a string and assign it to a variable, as part of a proper logging strategy"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712176,"post_id":77601484,"comment_id":136807203,"body_markdown":"@g00se what do you mean by &quot;ctor&quot;? Also I will change the Connection connect to be a variable.","body":"@g00se what do you mean by &quot;ctor&quot;? Also I will change the Connection connect to be a variable."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701712220,"post_id":77601484,"comment_id":136807212,"body_markdown":"The constructor. I&#39;m not saying it&#39;s the reason for your problem, but you need to see to it","body":"The constructor. I&#39;m not saying it&#39;s the reason for your problem, but you need to see to it"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712282,"post_id":77601484,"comment_id":136807229,"body_markdown":"@g00se will do thank you","body":"@g00se will do thank you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701712348,"post_id":77601484,"comment_id":136807242,"body_markdown":"It would be helpful to show your calling code too in the question","body":"It would be helpful to show your calling code too in the question"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701712544,"post_id":77601484,"comment_id":136807281,"body_markdown":"@g00se I think you&#39;re correct, I don&#39;t think that constructor is being called anywhere I think it is not being utilized I will make the change (haven&#39;t worked on this in a while, so it&#39;s not all fresh in memory)","body":"@g00se I think you&#39;re correct, I don&#39;t think that constructor is being called anywhere I think it is not being utilized I will make the change (haven&#39;t worked on this in a while, so it&#39;s not all fresh in memory)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701713145,"post_id":77601484,"comment_id":136807380,"body_markdown":"It&#39;s worse than that ;) There&#39;s no sign that *anything* in that class is being used. All that is being used is class `Main` (which you still didn&#39;t post)","body":"It&#39;s worse than that ;) There&#39;s no sign that <i>anything</i> in that class is being used. All that is being used is class <code>Main</code> (which you still didn&#39;t post)"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701714029,"post_id":77601484,"comment_id":136807536,"body_markdown":"@g00se If I remember correctly I had to move quite a bit of my code from MySQLAccess to the main because the MySQLAccess class wasn&#39;t working and I think I ended up changing it to be all in the main file (bad practice I think), so I am not really sure where I&#39;ve gone wrong, it could be everywhere for all I know... (in my defense, it&#39;s for a project where prof isn&#39;t checking code just checking if it works, because she is lazy and has no idea what she is teaching in the first place.. asked why this is happening and she told me to ask another student and offered no help.","body":"@g00se If I remember correctly I had to move quite a bit of my code from MySQLAccess to the main because the MySQLAccess class wasn&#39;t working and I think I ended up changing it to be all in the main file (bad practice I think), so I am not really sure where I&#39;ve gone wrong, it could be everywhere for all I know... (in my defense, it&#39;s for a project where prof isn&#39;t checking code just checking if it works, because she is lazy and has no idea what she is teaching in the first place.. asked why this is happening and she told me to ask another student and offered no help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701714121,"post_id":77601484,"comment_id":136807550,"body_markdown":"We won&#39;t know until you post the right code","body":"We won&#39;t know until you post the right code"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701714625,"post_id":77601484,"comment_id":136807648,"body_markdown":"@g00se the main file is the right code? I don&#39;t have anywhere else where it&#39;s called, maybe that&#39;s my issue, however other students in my class have similar code with the same calls in main and theirs works.","body":"@g00se the main file is the right code? I don&#39;t have anywhere else where it&#39;s called, maybe that&#39;s my issue, however other students in my class have similar code with the same calls in main and theirs works."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701715641,"post_id":77601484,"comment_id":136807822,"body_markdown":"Sorry - didn&#39;t see your edit. Shall look","body":"Sorry - didn&#39;t see your edit. Shall look"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701726865,"post_id":77601484,"comment_id":136809445,"body_markdown":"`System.out.println(System.getProperty(&quot;java.class.path&quot;));` as the first line of `main` would be interesting","body":"<code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code> as the first line of <code>main</code> would be interesting"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701731271,"post_id":77601484,"comment_id":136809915,"body_markdown":"Putting things in the `lib` directory doesn&#39;t magically add them to the CLASSPATH. It does for webapps, but this isn&#39;t a webapp. You need to set it yourself for a console application.","body":"Putting things in the <code>lib</code> directory doesn&#39;t magically add them to the CLASSPATH. It does for webapps, but this isn&#39;t a webapp. You need to set it yourself for a console application."},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701788978,"post_id":77601484,"comment_id":136817283,"body_markdown":"@g00se this was the output of adding that line of code as the first line: &quot;/Users/sean/Java/21.0.1/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=53754:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/sean/IdeaProjects/CS350/out/production/CS350 edu.hydes.mysql.Main\n/Users/sean/IdeaProjects/CS350/out/production/CS350&quot;","body":"@g00se this was the output of adding that line of code as the first line: &quot;/Users/sean/Java/21.0.1/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=53754:/Applications/Intell&zwnj;&#8203;iJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/sean/IdeaProjects/CS350/out/production/CS350 edu.hydes.mysql.Main /Users/sean/IdeaProjects/CS350/out/production/CS350&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701793643,"post_id":77601484,"comment_id":136818242,"body_markdown":"Yes, as you can see, the driver jar is NOT in the classpath","body":"Yes, as you can see, the driver jar is NOT in the classpath"},{"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"score":0,"creation_date":1701807575,"post_id":77601484,"comment_id":136820532,"body_markdown":"@g00se thank you for your help, I appreciate it.","body":"@g00se thank you for your help, I appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701789754,"creation_date":1701789754,"answer_id":77607328,"question_id":77601484,"body_markdown":"It was a pathing error, I had to go into module settings in my IDE and add the .jar file.","title":"JDBC Driver not being Recognized (Seemingly correct file pathing)","body":"<p>It was a pathing error, I had to go into module settings in my IDE and add the .jar file.</p>\n"}],"owner":{"account_id":29804632,"reputation":1,"user_id":22841589,"display_name":"shyde"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701818252,"answer_count":1,"score":0,"last_activity_date":1701789754,"creation_date":1701711428,"question_id":77601484,"body_markdown":"I recently switched laptops from windows to Mac, and I had working Java code which utilized the JDBC driver and now when I try and run my code with the same file pathing and code, with the JDBC driver installed on machine, I get an error in terminal: \r\n\r\n     &quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/infocom?                \r\n        user=root&amp;password=root12345\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\r\n\tat edu.hydes.mysql.Main.main(Main.java:15)&quot;\r\n\r\n\r\n\r\n\r\n\r\n```\r\n     package edu.hydes.mysql;\r\n\r\n     import java.sql.DriverManager;\r\n     import java.sql.ResultSet;\r\n     import java.sql.ResultSetMetaData;\r\n     import java.sql.Statement;\r\n     import java.sql.SQLException;\r\n     import java.sql.Connection;\r\n\r\n     public class MySQLAccess {\r\n\r\n    public MySQLAccess(String username, String password) {\r\n    }\r\n\r\n    public ResultSet executeQuery(String query) throws Exception {\r\n        // Load the SQL JDBC driver\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n\r\n        // Create a connection to the database\r\n        String username = UserCredentials.getUsername();\r\n        String password = UserCredentials.getPassword();\r\n\r\n\r\n\r\n        // Create a connection to the database\r\n        try (Connection connect = DriverManager.getConnection\r\n        (&quot;jdbc:mysql://localhost/infocom?&quot; +                       \r\n                &quot;user=&quot; + username + &quot;&amp;password=&quot; + password);\r\n\r\n             //create statement to execute query\r\n             Statement statement = connect.createStatement();\r\n             ResultSet resultSet = statement.executeQuery(query)) {\r\n\r\n            // Print results\r\n            String resultString = writeResultSet(resultSet);\r\n            System.out.println(&quot;Results:&quot;);\r\n            System.out.println(resultString);\r\n\r\n            return resultSet;\r\n\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n      }\r\n\r\n\r\n        // Print result sets\r\n        public String writeResultSet(ResultSet resultSet) throws SQLException {\r\n        StringBuilder resultStringBuilder = new StringBuilder();\r\n\r\n        ResultSetMetaData metaData = resultSet.getMetaData();\r\n        int columnCount = metaData.getColumnCount();\r\n\r\n        // Print column names\r\n        while (resultSet.next()) {\r\n            for (int i = 1; i &lt;= columnCount; i++) {\r\n                String columnName = metaData.getColumnName(i);\r\n                String columnValue = resultSet.getString(i);\r\n                resultStringBuilder.append(columnName)\r\n                        .append(&quot;: &quot;)\r\n                        .append(columnValue)\r\n                        .append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n\r\n            return resultStringBuilder.toString();\r\n        }\r\n\r\n        // Close the resultSet, statement and connect\r\n        private void close(ResultSet resultSet, Statement statement, Connection connect) {\r\n        try {\r\n            if (resultSet != null)\r\n                resultSet.close();\r\n\r\n            if (statement != null)\r\n                statement.close();\r\n\r\n            if (connect != null)\r\n                connect.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n\r\n        // Retrieve user role\r\n        private String retrieveUserRole(String role) {\r\n        String roleName = UserCredentials.getRole();\r\n        return roleName;\r\n        }\r\n     }\r\n\r\n```\r\n\r\nThis is the code where the JDBC driver is loaded.\r\n\r\n[Image showing file pathing with JDBC](https://i.stack.imgur.com/Ib5j9.jpg)\r\n\r\nThis exact code and file pathing worked on my Windows machine. I downloaded the exact same versions of all MySQL Workbenches and all other required installs.\r\n\r\nMain Code: \r\n\r\n```\r\npackage edu.hydes.mysql;\r\n\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    private static final String databaseURL = &quot;jdbc:mysql://localhost/infocom?&quot;;\r\n    private static final String user = &quot;user=root&amp;&quot;;\r\n    private static final String pass = &quot;password=root12345&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            Connection connection = DriverManager.getConnection(databaseURL + user + pass);\r\n\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            boolean isProgramRunning = true;\r\n\r\n            //ask for what they want to do\r\n            while (true) {\r\n                System.out.println(&quot;(1) Login&quot;);\r\n                System.out.println(&quot;(2) Quit&quot;);\r\n                System.out.println(&quot;Enter Choice: &quot;);\r\n\r\n                int choice = input.nextInt();\r\n\r\n                switch (choice) {\r\n                    case 1:\r\n                        System.out.println(&quot;Enter username: &quot;);\r\n                        String username = input.next();\r\n                        System.out.println(&quot;Enter password: &quot;);\r\n                        String password = input.next();\r\n\r\n                        // Authenticate user\r\n                        UserManagement.User currentUser = authenticateUser(connection, username, password);\r\n\r\n                        // If user is authenticated, do actions\r\n                        if (currentUser != null) {\r\n                            doActions(connection, currentUser);\r\n                        } else {\r\n                            System.out.println(&quot;Invalid username or password&quot;);\r\n                        }\r\n                        break;\r\n                    case 2:\r\n                        System.out.println(&quot;Quitting...&quot;);\r\n                        System.exit(0);\r\n                    default:\r\n                        System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static UserManagement.User authenticateUser(Connection connection, String username, String password) {\r\n        // Authenticate user\r\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM login_credential WHERE username = ? AND password = ?&quot;)) {\r\n            preparedStatement.setString(1, username);\r\n            preparedStatement.setString(2, password);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            if (resultSet.next()) {\r\n                System.out.println(&quot;Role retrieved from database: &quot; + resultSet.getString(&quot;role&quot;));\r\n\r\n                return new UserManagement.User(username, password, resultSet.getString(&quot;role&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static void doActions(Connection connection, UserManagement.User user) {\r\n        String role = user.getRole();\r\n        switch (role.toLowerCase()) {\r\n            //check for what role to do actions for\r\n            case &quot;admin&quot;:\r\n                adminActions(connection);\r\n                break;\r\n            case &quot;general&quot;:\r\n                generalActions(connection);\r\n                break;\r\n            case &quot;hr&quot;:\r\n                hrActions(connection);\r\n                break;\r\n            case &quot;se&quot;:\r\n                seActions(connection);\r\n                break;\r\n            case &quot;pr&quot;:\r\n                prActions(connection);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid role: &quot; + role);\r\n        }\r\n    }\r\n\r\n    private static void displayTables() {\r\n        //display tables\r\n        System.out.println(&quot;Available Tables:&quot;);\r\n        System.out.println(&quot;(1) Login_Credential&quot;);\r\n        System.out.println(&quot;(2) SE_Data&quot;);\r\n        System.out.println(&quot;(3) Emp_SE&quot;);\r\n        System.out.println(&quot;(4) HR_data&quot;);\r\n        System.out.println(&quot;(5) Emp_HR&quot;);\r\n        System.out.println(&quot;(6) Emp_PR&quot;);\r\n        System.out.println(&quot;(7) PR_Data&quot;);\r\n\r\n        System.out.println(&quot;Enter Number of Table You Wish to View:&quot;);\r\n    }\r\n\r\n    private static void viewSelectedTable(Connection connection, int tableSelected) {\r\n        try {\r\n            //view selected table\r\n            Statement statement = connection.createStatement();\r\n            String tableName = &quot;&quot;;\r\n\r\n            //check for what table to view\r\n            switch (tableSelected) {\r\n                case 1:\r\n                    tableName = &quot;Login_Credential&quot;;\r\n                    break;\r\n                case 2:\r\n                    tableName = &quot;SE_Data&quot;;\r\n                    break;\r\n                case 3:\r\n                    tableName = &quot;Emp_SE&quot;;\r\n                    break;\r\n                case 4:\r\n                    tableName = &quot;HR_data&quot;;\r\n                    break;\r\n                case 5:\r\n                    tableName = &quot;Emp_HR&quot;;\r\n                    break;\r\n                case 6:\r\n                    tableName = &quot;Emp_PR&quot;;\r\n                    break;\r\n                case 7:\r\n                    tableName = &quot;PR_Data&quot;;\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid table number. Please enter a valid number.&quot;);\r\n            }\r\n            //display table\r\n            ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + tableName);\r\n\r\n            //get column names\r\n            ResultSetMetaData metaData = resultSet.getMetaData();\r\n            int colCnt = metaData.getColumnCount();\r\n\r\n            //print column names\r\n            for (int i = 1; i &lt;= colCnt; i++) {\r\n                System.out.print(metaData.getColumnName(i) + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n\r\n            //print table data\r\n            while (resultSet.next()) {\r\n                for (int i = 1; i &lt;= colCnt; i++) {\r\n                    System.out.print(resultSet.getString(i) + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    //create new user\r\n    private static void createUser(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        //ask for new user info\r\n        System.out.println(&quot;Enter username for new user: &quot;);\r\n        String username = input.next();\r\n        System.out.println(&quot;Enter password for new user: &quot;);\r\n        String password = input.next();\r\n        System.out.println(&quot;Enter role for new user: &quot;);\r\n        String role = input.next();\r\n\r\n        //insert new user into database\r\n        insertUser(connection, username, password, role);\r\n        System.out.println(&quot;New user added.&quot;);\r\n\r\n    }\r\n\r\n    private static void insertUser(Connection connection, String username,\r\n                                   String password, String role) {\r\n        try {\r\n            //insert new user into database\r\n            Statement statement = connection.createStatement();\r\n            String sql = &quot;INSERT INTO users (username, password, role) VALUES (?, ?, ?)&quot;;\r\n\r\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n\r\n            //set values for new user\r\n            preparedStatement.setString(1, username);\r\n            preparedStatement.setString(2, password);\r\n            preparedStatement.setString(3, role);\r\n\r\n            //execute update\r\n            preparedStatement.executeUpdate();\r\n            preparedStatement.close();\r\n\r\n            //close the connection\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    private static void adminActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display admin actions\r\n            System.out.println(&quot;\\nWelcome Admin&quot;);\r\n            System.out.println(&quot;(1) View Tables&quot;);\r\n            System.out.println(&quot;(2) Add User&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    displayTables();\r\n                    int tableSelected = input.nextInt();\r\n                    //view selected table\r\n                    viewSelectedTable(connection, tableSelected);\r\n                    break;\r\n                case 2:\r\n                    createUser(connection);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void generalActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display general actions\r\n            System.out.println(&quot;\\nWelcome General&quot;);\r\n            System.out.println(&quot;(1) View Emp_SE&quot;);\r\n            System.out.println(&quot;(2) View Emp_HR&quot;);\r\n            System.out.println(&quot;(3) View Emp_PR&quot;);\r\n            System.out.println(&quot;(4) Quit&quot;);\r\n\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 3);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 5);\r\n                    break;\r\n                case 3:\r\n                    viewSelectedTable(connection, 6);\r\n                    break;\r\n                case 4:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void seActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display se actions\r\n            System.out.println(&quot;\\nWelcome SE&quot;);\r\n            System.out.println(&quot;(1) View SE_Data&quot;);\r\n            System.out.println(&quot;(2) View Emp_SE&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 2);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 3);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void hrActions(Connection connection) {\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while (isProgramRunning) {\r\n            //display hr actions\r\n            System.out.println(&quot;\\nWelcome HR&quot;);\r\n            System.out.println(&quot;(1) View HR_data&quot;);\r\n            System.out.println(&quot;(2) View Emp_HR&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n\r\n            int choice = input.nextInt();\r\n            switch (choice) {\r\n                case 1:\r\n                    viewSelectedTable(connection, 4);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 5);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static void prActions(Connection connection){\r\n        Scanner input = new Scanner(System.in);\r\n        boolean isProgramRunning = true;\r\n        while(isProgramRunning){\r\n            //display pr actions\r\n\r\n            System.out.println(&quot;\\nWelcome PR&quot;);\r\n            System.out.println(&quot;(1) View Emp_PR&quot;);\r\n            System.out.println(&quot;(2) View PR_Data&quot;);\r\n            System.out.println(&quot;(3) Quit&quot;);\r\n            System.out.println(&quot;Enter Choice: &quot;);\r\n            int choice = input.nextInt();\r\n\r\n            switch(choice){\r\n                case 1:\r\n                    viewSelectedTable(connection, 6);\r\n                    break;\r\n                case 2:\r\n                    viewSelectedTable(connection, 7);\r\n                    break;\r\n                case 3:\r\n                    System.out.println(&quot;Quitting...&quot;);\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n","title":"JDBC Driver not being Recognized (Seemingly correct file pathing)","body":"<p>I recently switched laptops from windows to Mac, and I had working Java code which utilized the JDBC driver and now when I try and run my code with the same file pathing and code, with the JDBC driver installed on machine, I get an error in terminal:</p>\n<pre><code> &quot;java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/infocom?                \n    user=root&amp;password=root12345\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\nat edu.hydes.mysql.Main.main(Main.java:15)&quot;\n</code></pre>\n<pre><code>     package edu.hydes.mysql;\n\n     import java.sql.DriverManager;\n     import java.sql.ResultSet;\n     import java.sql.ResultSetMetaData;\n     import java.sql.Statement;\n     import java.sql.SQLException;\n     import java.sql.Connection;\n\n     public class MySQLAccess {\n\n    public MySQLAccess(String username, String password) {\n    }\n\n    public ResultSet executeQuery(String query) throws Exception {\n        // Load the SQL JDBC driver\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n\n        // Create a connection to the database\n        String username = UserCredentials.getUsername();\n        String password = UserCredentials.getPassword();\n\n\n\n        // Create a connection to the database\n        try (Connection connect = DriverManager.getConnection\n        (&quot;jdbc:mysql://localhost/infocom?&quot; +                       \n                &quot;user=&quot; + username + &quot;&amp;password=&quot; + password);\n\n             //create statement to execute query\n             Statement statement = connect.createStatement();\n             ResultSet resultSet = statement.executeQuery(query)) {\n\n            // Print results\n            String resultString = writeResultSet(resultSet);\n            System.out.println(&quot;Results:&quot;);\n            System.out.println(resultString);\n\n            return resultSet;\n\n        } catch (Exception e) {\n            throw e;\n        }\n      }\n\n\n        // Print result sets\n        public String writeResultSet(ResultSet resultSet) throws SQLException {\n        StringBuilder resultStringBuilder = new StringBuilder();\n\n        ResultSetMetaData metaData = resultSet.getMetaData();\n        int columnCount = metaData.getColumnCount();\n\n        // Print column names\n        while (resultSet.next()) {\n            for (int i = 1; i &lt;= columnCount; i++) {\n                String columnName = metaData.getColumnName(i);\n                String columnValue = resultSet.getString(i);\n                resultStringBuilder.append(columnName)\n                        .append(&quot;: &quot;)\n                        .append(columnValue)\n                        .append(&quot;\\n&quot;);\n            }\n        }\n\n            return resultStringBuilder.toString();\n        }\n\n        // Close the resultSet, statement and connect\n        private void close(ResultSet resultSet, Statement statement, Connection connect) {\n        try {\n            if (resultSet != null)\n                resultSet.close();\n\n            if (statement != null)\n                statement.close();\n\n            if (connect != null)\n                connect.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        }\n\n        // Retrieve user role\n        private String retrieveUserRole(String role) {\n        String roleName = UserCredentials.getRole();\n        return roleName;\n        }\n     }\n\n</code></pre>\n<p>This is the code where the JDBC driver is loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/Ib5j9.jpg\" rel=\"nofollow noreferrer\">Image showing file pathing with JDBC</a></p>\n<p>This exact code and file pathing worked on my Windows machine. I downloaded the exact same versions of all MySQL Workbenches and all other required installs.</p>\n<p>Main Code:</p>\n<pre><code>package edu.hydes.mysql;\n\nimport java.sql.*;\nimport java.util.Scanner;\n\npublic class Main {\n    private static final String databaseURL = &quot;jdbc:mysql://localhost/infocom?&quot;;\n    private static final String user = &quot;user=root&amp;&quot;;\n    private static final String pass = &quot;password=root12345&quot;;\n\n    public static void main(String[] args) {\n        try {\n\n            Connection connection = DriverManager.getConnection(databaseURL + user + pass);\n\n            Scanner input = new Scanner(System.in);\n\n            boolean isProgramRunning = true;\n\n            //ask for what they want to do\n            while (true) {\n                System.out.println(&quot;(1) Login&quot;);\n                System.out.println(&quot;(2) Quit&quot;);\n                System.out.println(&quot;Enter Choice: &quot;);\n\n                int choice = input.nextInt();\n\n                switch (choice) {\n                    case 1:\n                        System.out.println(&quot;Enter username: &quot;);\n                        String username = input.next();\n                        System.out.println(&quot;Enter password: &quot;);\n                        String password = input.next();\n\n                        // Authenticate user\n                        UserManagement.User currentUser = authenticateUser(connection, username, password);\n\n                        // If user is authenticated, do actions\n                        if (currentUser != null) {\n                            doActions(connection, currentUser);\n                        } else {\n                            System.out.println(&quot;Invalid username or password&quot;);\n                        }\n                        break;\n                    case 2:\n                        System.out.println(&quot;Quitting...&quot;);\n                        System.exit(0);\n                    default:\n                        System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n                }\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static UserManagement.User authenticateUser(Connection connection, String username, String password) {\n        // Authenticate user\n        try (PreparedStatement preparedStatement = connection.prepareStatement(&quot;SELECT * FROM login_credential WHERE username = ? AND password = ?&quot;)) {\n            preparedStatement.setString(1, username);\n            preparedStatement.setString(2, password);\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.next()) {\n                System.out.println(&quot;Role retrieved from database: &quot; + resultSet.getString(&quot;role&quot;));\n\n                return new UserManagement.User(username, password, resultSet.getString(&quot;role&quot;));\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    private static void doActions(Connection connection, UserManagement.User user) {\n        String role = user.getRole();\n        switch (role.toLowerCase()) {\n            //check for what role to do actions for\n            case &quot;admin&quot;:\n                adminActions(connection);\n                break;\n            case &quot;general&quot;:\n                generalActions(connection);\n                break;\n            case &quot;hr&quot;:\n                hrActions(connection);\n                break;\n            case &quot;se&quot;:\n                seActions(connection);\n                break;\n            case &quot;pr&quot;:\n                prActions(connection);\n                break;\n            default:\n                System.out.println(&quot;Invalid role: &quot; + role);\n        }\n    }\n\n    private static void displayTables() {\n        //display tables\n        System.out.println(&quot;Available Tables:&quot;);\n        System.out.println(&quot;(1) Login_Credential&quot;);\n        System.out.println(&quot;(2) SE_Data&quot;);\n        System.out.println(&quot;(3) Emp_SE&quot;);\n        System.out.println(&quot;(4) HR_data&quot;);\n        System.out.println(&quot;(5) Emp_HR&quot;);\n        System.out.println(&quot;(6) Emp_PR&quot;);\n        System.out.println(&quot;(7) PR_Data&quot;);\n\n        System.out.println(&quot;Enter Number of Table You Wish to View:&quot;);\n    }\n\n    private static void viewSelectedTable(Connection connection, int tableSelected) {\n        try {\n            //view selected table\n            Statement statement = connection.createStatement();\n            String tableName = &quot;&quot;;\n\n            //check for what table to view\n            switch (tableSelected) {\n                case 1:\n                    tableName = &quot;Login_Credential&quot;;\n                    break;\n                case 2:\n                    tableName = &quot;SE_Data&quot;;\n                    break;\n                case 3:\n                    tableName = &quot;Emp_SE&quot;;\n                    break;\n                case 4:\n                    tableName = &quot;HR_data&quot;;\n                    break;\n                case 5:\n                    tableName = &quot;Emp_HR&quot;;\n                    break;\n                case 6:\n                    tableName = &quot;Emp_PR&quot;;\n                    break;\n                case 7:\n                    tableName = &quot;PR_Data&quot;;\n                    break;\n                default:\n                    System.out.println(&quot;Invalid table number. Please enter a valid number.&quot;);\n            }\n            //display table\n            ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM &quot; + tableName);\n\n            //get column names\n            ResultSetMetaData metaData = resultSet.getMetaData();\n            int colCnt = metaData.getColumnCount();\n\n            //print column names\n            for (int i = 1; i &lt;= colCnt; i++) {\n                System.out.print(metaData.getColumnName(i) + &quot;\\t&quot;);\n            }\n            System.out.println();\n\n            //print table data\n            while (resultSet.next()) {\n                for (int i = 1; i &lt;= colCnt; i++) {\n                    System.out.print(resultSet.getString(i) + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    //create new user\n    private static void createUser(Connection connection) {\n        Scanner input = new Scanner(System.in);\n\n        //ask for new user info\n        System.out.println(&quot;Enter username for new user: &quot;);\n        String username = input.next();\n        System.out.println(&quot;Enter password for new user: &quot;);\n        String password = input.next();\n        System.out.println(&quot;Enter role for new user: &quot;);\n        String role = input.next();\n\n        //insert new user into database\n        insertUser(connection, username, password, role);\n        System.out.println(&quot;New user added.&quot;);\n\n    }\n\n    private static void insertUser(Connection connection, String username,\n                                   String password, String role) {\n        try {\n            //insert new user into database\n            Statement statement = connection.createStatement();\n            String sql = &quot;INSERT INTO users (username, password, role) VALUES (?, ?, ?)&quot;;\n\n            PreparedStatement preparedStatement = connection.prepareStatement(sql);\n\n            //set values for new user\n            preparedStatement.setString(1, username);\n            preparedStatement.setString(2, password);\n            preparedStatement.setString(3, role);\n\n            //execute update\n            preparedStatement.executeUpdate();\n            preparedStatement.close();\n\n            //close the connection\n            connection.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    private static void adminActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display admin actions\n            System.out.println(&quot;\\nWelcome Admin&quot;);\n            System.out.println(&quot;(1) View Tables&quot;);\n            System.out.println(&quot;(2) Add User&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    displayTables();\n                    int tableSelected = input.nextInt();\n                    //view selected table\n                    viewSelectedTable(connection, tableSelected);\n                    break;\n                case 2:\n                    createUser(connection);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void generalActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display general actions\n            System.out.println(&quot;\\nWelcome General&quot;);\n            System.out.println(&quot;(1) View Emp_SE&quot;);\n            System.out.println(&quot;(2) View Emp_HR&quot;);\n            System.out.println(&quot;(3) View Emp_PR&quot;);\n            System.out.println(&quot;(4) Quit&quot;);\n\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 3);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 5);\n                    break;\n                case 3:\n                    viewSelectedTable(connection, 6);\n                    break;\n                case 4:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void seActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display se actions\n            System.out.println(&quot;\\nWelcome SE&quot;);\n            System.out.println(&quot;(1) View SE_Data&quot;);\n            System.out.println(&quot;(2) View Emp_SE&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 2);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 3);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n\n    private static void hrActions(Connection connection) {\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while (isProgramRunning) {\n            //display hr actions\n            System.out.println(&quot;\\nWelcome HR&quot;);\n            System.out.println(&quot;(1) View HR_data&quot;);\n            System.out.println(&quot;(2) View Emp_HR&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n\n            int choice = input.nextInt();\n            switch (choice) {\n                case 1:\n                    viewSelectedTable(connection, 4);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 5);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n\n    }\n\n    private static void prActions(Connection connection){\n        Scanner input = new Scanner(System.in);\n        boolean isProgramRunning = true;\n        while(isProgramRunning){\n            //display pr actions\n\n            System.out.println(&quot;\\nWelcome PR&quot;);\n            System.out.println(&quot;(1) View Emp_PR&quot;);\n            System.out.println(&quot;(2) View PR_Data&quot;);\n            System.out.println(&quot;(3) Quit&quot;);\n            System.out.println(&quot;Enter Choice: &quot;);\n            int choice = input.nextInt();\n\n            switch(choice){\n                case 1:\n                    viewSelectedTable(connection, 6);\n                    break;\n                case 2:\n                    viewSelectedTable(connection, 7);\n                    break;\n                case 3:\n                    System.out.println(&quot;Quitting...&quot;);\n                    System.exit(0);\n                    break;\n                default:\n                    System.out.println(&quot;Invalid. Please enter a valid choice.&quot;);\n            }\n        }\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","generics","data-structures"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":7,"creation_date":1701789472,"post_id":77607281,"comment_id":136817365,"body_markdown":"`int[]` is not a primitive datatype.","body":"<code>int[]</code> is not a primitive datatype."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":7,"creation_date":1701789474,"post_id":77607281,"comment_id":136817366,"body_markdown":"`int` is a primitive data type, `int[]` is not.","body":"<code>int</code> is a primitive data type, <code>int[]</code> is not."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701790621,"post_id":77607281,"comment_id":136817602,"body_markdown":"because you are having a priority queue of int arrays. ie --&gt; `{[...], [...], [...], [...]}` rather than `{...}`","body":"because you are having a priority queue of int arrays. ie --&gt; <code>{[...], [...], [...], [...]}</code> rather than <code>{...}</code>"}],"owner":{"account_id":17032889,"reputation":11,"user_id":12322655,"display_name":"Omar Shawky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701789320,"creation_date":1701789320,"question_id":77607281,"body_markdown":"This could should not compile because of initializing Generic Class using primitive datatype but it does.\r\n\r\n```java\r\npublic int[] topKFrequent(int[] nums, int k) {\r\n    PriorityQueue&lt;int[]&gt; priorityQueue = new PriorityQueue&lt;&gt;(\r\n            (a, b) -&gt; a[1] == b[1] ? b[0] - a[0] : b[1] - a[1]);\r\n    int[] arr = new int[20001];\r\n    for (int num : nums) arr[num + 10000]++;\r\n\r\n    for (int i = 0; i &lt; 20001; i++)\r\n        if (arr[i] != 0) priorityQueue.add(new int[]{i - 10000, arr[i]});\r\n    int length = Math.min(priorityQueue.size(), k);\r\n    int[] result = new int[length];\r\n    for (int i = 0; i &lt; length; i++) result[i] = priorityQueue.poll()[0];\r\n    return result;\r\n}\r\n```\r\n\r\nAs per [Java Documentation on Java Generics Restrictions](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html), you cannot instantiate a Generic Datatype from a primitive datatype.\r\n\r\nSo how come the aforementioned code compiles?\r\n\r\nI am using java 8 (1.8.xx) SDE.","title":"Why is it acceptable to initialize a Priority Queue from primitive Data Structure in Java?","body":"<p>This could should not compile because of initializing Generic Class using primitive datatype but it does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] topKFrequent(int[] nums, int k) {\n    PriorityQueue&lt;int[]&gt; priorityQueue = new PriorityQueue&lt;&gt;(\n            (a, b) -&gt; a[1] == b[1] ? b[0] - a[0] : b[1] - a[1]);\n    int[] arr = new int[20001];\n    for (int num : nums) arr[num + 10000]++;\n\n    for (int i = 0; i &lt; 20001; i++)\n        if (arr[i] != 0) priorityQueue.add(new int[]{i - 10000, arr[i]});\n    int length = Math.min(priorityQueue.size(), k);\n    int[] result = new int[length];\n    for (int i = 0; i &lt; length; i++) result[i] = priorityQueue.poll()[0];\n    return result;\n}\n</code></pre>\n<p>As per <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">Java Documentation on Java Generics Restrictions</a>, you cannot instantiate a Generic Datatype from a primitive datatype.</p>\n<p>So how come the aforementioned code compiles?</p>\n<p>I am using java 8 (1.8.xx) SDE.</p>\n"},{"tags":["java","spring","web-applications","soap","soapui"],"answers":[{"comments":[{"owner":{"account_id":76433,"reputation":1907,"user_id":218811,"accept_rate":61,"display_name":"Phil"},"score":0,"creation_date":1347999966,"post_id":12482657,"comment_id":16796789,"body_markdown":"I&#39;ll update the question to explain what I am doing in soapUI. It&#39;s too long to explain in this comment box.","body":"I&#39;ll update the question to explain what I am doing in soapUI. It&#39;s too long to explain in this comment box."}],"tags":[],"owner":{"account_id":1529019,"reputation":2193,"user_id":1426724,"accept_rate":83,"display_name":"chrismead"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348085940,"creation_date":1347992090,"answer_id":12482657,"question_id":12481129,"body_markdown":"When you create the soapui testrequest it should populate the endpoint field for you.\r\n\r\nYou can also run the &#39;sample requests&#39; under the green &#39;I&#39; icon, at least to test your endpoint. I don&#39;t recommend editing these to use as your actual tests, but I think that many people do use SoapUI that way.\r\n\r\nWhat do you mean by &#39;I ask for a request&#39;?  You should be able to right click the test request two levels under the green &#39;I&#39; and select add to testcase.  There are a couple dialogs after that where you can take the defaults.  It will create a Junit type structure: a test suite and a test case.  Under that are test steps which you can execute by themselves or as part of the suite or testcase.\r\n\r\n\r\nEDIT 1:\r\n\r\nTo me that doesn&#39;t sound normal.  Unfortunately, I haven&#39;t written anything but simple demo services, though...","title":"SOAP - don&#39;t know what my endpoint URL is","body":"<p>When you create the soapui testrequest it should populate the endpoint field for you.</p>\n\n<p>You can also run the 'sample requests' under the green 'I' icon, at least to test your endpoint. I don't recommend editing these to use as your actual tests, but I think that many people do use SoapUI that way.</p>\n\n<p>What do you mean by 'I ask for a request'?  You should be able to right click the test request two levels under the green 'I' and select add to testcase.  There are a couple dialogs after that where you can take the defaults.  It will create a Junit type structure: a test suite and a test case.  Under that are test steps which you can execute by themselves or as part of the suite or testcase.</p>\n\n<p>EDIT 1:</p>\n\n<p>To me that doesn't sound normal.  Unfortunately, I haven't written anything but simple demo services, though...</p>\n"}],"owner":{"account_id":76433,"reputation":1907,"user_id":218811,"accept_rate":61,"display_name":"Phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701788685,"creation_date":1347985517,"question_id":12481129,"body_markdown":"I hope this problem is extremely simple and it&#39;s just me being an idiot. I am new to SOAP and am attempting to set up a SOAP WebService (using Java and Spring) and then using the tool SoapUI I attempt to send a SOAP request to my Web service. However I always get 404 Not Found errors when I submit my request. I suspect / hope that I have just set my Endpoint incorrectly in SoapUI, but I don&#39;t know what value I should be putting there. Can anyone help?\r\n\r\nThese are the steps I have taken to setup my WebApp with SOAP support:\r\n\r\n1) I am using an existing WebApp (which has existing REST Web Services) running in Spring Tool Suite (which is based on Eclipse) and using Jetty. In my web.xml file I added a new SOAP Web Service:\r\n\r\n\r\n\r\n\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ws/SOAP/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet&gt;\r\n         &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\r\n         &lt;servlet-class&gt;org.springframework.ws.transport.http.MessageDispatcherServlet&lt;/servlet-class&gt;\r\n         &lt;init-param&gt;\r\n             &lt;param-name&gt;transformWsdlLocations&lt;/param-name&gt;\r\n             &lt;param-value&gt;true&lt;/param-value&gt;\r\n         &lt;/init-param&gt;\r\n         &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n2) I created a new class &quot;ProjectSearchEndpoint&quot; which has an annotation of @Endpoint. The payload root = @PayloadRoot(namespace = &quot;http://FOO.FOO/foo&quot;, localPart = &quot;ProjectRequest&quot;)\r\n   \r\n3) I added the DSD to the WEB-INF of my WebApp: ws-project.xsd\r\n\r\n4) I created a servlet XML file called: SOAPWebService-servlet.xml which references the DSD\r\n\r\n    &lt;bean id=&quot;projectSearch&quot; class=&quot;org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition&quot;&gt;\r\n      &lt;property name=&quot;schema&quot; ref=&quot;schema&quot;/&gt;\r\n      &lt;property name=&quot;portTypeName&quot; value=&quot;ProjectSearch&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;schema&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n        &lt;property name=&quot;xsd&quot; value=&quot;/WEB-INF/ws-project.xsd&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n**NOTE:** the endpoint code and DSD come from the blog:\r\nhttp://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html I edited the namespace to make it &quot;http://FOO.FOO/foo&quot; but apart from that the code is the same although I have added System.out lines to show when the object is constructed (it is) and when the &quot;searchProjects&quot; method is invoked (it never is).\r\n\r\nI can start my webApp successfully and if in my browser I navigate to the URL: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \r\n\r\nI get to see the WSDL. All good so far. \r\n\r\nWhen I use SoapUI I create a new project and pass in the WSDL. SoapUI seems happy. I ask for a request and SoapUI creates a Soap Envelope with my ProjectRequest in it. Everything is going very well! However to submit this request SoapUI wants an Endpoint. I think my endpoint is:\r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/\r\n\r\nbut this just returns a 404 not found. Trying other combinations such as \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch?wsdl\r\n    http://localhost:8080/MyApp/ws/SOAP/ProjectRequest\r\n\r\nall result in 404. What is my endpoint? What value should I be putting into SoapUI?\r\n\r\n**Update 1**\r\n\r\nFor clarity this is what I am doing in soapUI\r\n\r\nHaving started soapUI, I create a &quot;new soapUI Project&quot;. The name is A1. The Initial WSDL is: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \r\n\r\nalso &quot;Create Requests&quot; is ticked in the dialog box.\r\n\r\nI click OK and it creates a ProjectSearchSoap11 (with an icon of a green I next to it) with a single Project underneath it (icon of red arrows) and under that &quot;Request1&quot; (icon the word SOAP). I right-click Request1 and select &quot;Show Request Editor&quot;. This displays a window with a SOAP envelope and my namespace and ProjectRequest. This all looks good. \r\n\r\nI now want to click &quot;Submit request to sepecified Endpoint URL&quot; (green arrow at top-left) but this is greyed-out until I specify an endpoint (to the right). I click on the endpoints drop-down and select &quot;edit-current&quot;. A dialog appears. I enter: \r\n\r\n    http://localhost:8080/MyApp/ws/SOAP/ \r\n\r\nand click ok. Now the run icon is enabled (green). Clicking this icon then results in a &quot;response&quot; window appearing, which is blank, but the raw data is:\r\n\r\n    HTTP/1.1 404 Not Found\r\n    Content-Length: 0\r\n    Server: Jetty(6.1.26)\r\n\r\nI am guessing that the endpoint I am choosing is wrong. Can you confirm that this is the wrong format or I&#39;m missing a suffix of some kind. If you think it&#39;s correct then it must be my setup on the web application that is at fault.\r\n\r\nThanks,\r\n\r\nPhil\r\n\r\n\r\n","title":"SOAP - don&#39;t know what my endpoint URL is","body":"<p>I hope this problem is extremely simple and it's just me being an idiot. I am new to SOAP and am attempting to set up a SOAP WebService (using Java and Spring) and then using the tool SoapUI I attempt to send a SOAP request to my Web service. However I always get 404 Not Found errors when I submit my request. I suspect / hope that I have just set my Endpoint incorrectly in SoapUI, but I don't know what value I should be putting there. Can anyone help?</p>\n\n<p>These are the steps I have taken to setup my WebApp with SOAP support:</p>\n\n<p>1) I am using an existing WebApp (which has existing REST Web Services) running in Spring Tool Suite (which is based on Eclipse) and using Jetty. In my web.xml file I added a new SOAP Web Service:</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ws/SOAP/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet&gt;\n     &lt;servlet-name&gt;SOAPWebService&lt;/servlet-name&gt;\n     &lt;servlet-class&gt;org.springframework.ws.transport.http.MessageDispatcherServlet&lt;/servlet-class&gt;\n     &lt;init-param&gt;\n         &lt;param-name&gt;transformWsdlLocations&lt;/param-name&gt;\n         &lt;param-value&gt;true&lt;/param-value&gt;\n     &lt;/init-param&gt;\n     &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>2) I created a new class \"ProjectSearchEndpoint\" which has an annotation of @Endpoint. The payload root = @PayloadRoot(namespace = \"http://FOO.FOO/foo\", localPart = \"ProjectRequest\")</p>\n\n<p>3) I added the DSD to the WEB-INF of my WebApp: ws-project.xsd</p>\n\n<p>4) I created a servlet XML file called: SOAPWebService-servlet.xml which references the DSD</p>\n\n<pre><code>&lt;bean id=\"projectSearch\" class=\"org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition\"&gt;\n  &lt;property name=\"schema\" ref=\"schema\"/&gt;\n  &lt;property name=\"portTypeName\" value=\"ProjectSearch\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"schema\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"/WEB-INF/ws-project.xsd\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> the endpoint code and DSD come from the blog:\n<a href=\"http://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html\" rel=\"nofollow\">http://javaclue.blogspot.co.uk/2012/05/soap-web-service-using-spring-ws-20.html</a> I edited the namespace to make it \"http://FOO.FOO/foo\" but apart from that the code is the same although I have added System.out lines to show when the object is constructed (it is) and when the \"searchProjects\" method is invoked (it never is).</p>\n\n<p>I can start my webApp successfully and if in my browser I navigate to the URL: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \n</code></pre>\n\n<p>I get to see the WSDL. All good so far. </p>\n\n<p>When I use SoapUI I create a new project and pass in the WSDL. SoapUI seems happy. I ask for a request and SoapUI creates a Soap Envelope with my ProjectRequest in it. Everything is going very well! However to submit this request SoapUI wants an Endpoint. I think my endpoint is:</p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/\n</code></pre>\n\n<p>but this just returns a 404 not found. Trying other combinations such as </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch\nhttp://localhost:8080/MyApp/ws/SOAP/projectSearch?wsdl\nhttp://localhost:8080/MyApp/ws/SOAP/ProjectRequest\n</code></pre>\n\n<p>all result in 404. What is my endpoint? What value should I be putting into SoapUI?</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>For clarity this is what I am doing in soapUI</p>\n\n<p>Having started soapUI, I create a \"new soapUI Project\". The name is A1. The Initial WSDL is: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/projectSearch.wsdl \n</code></pre>\n\n<p>also \"Create Requests\" is ticked in the dialog box.</p>\n\n<p>I click OK and it creates a ProjectSearchSoap11 (with an icon of a green I next to it) with a single Project underneath it (icon of red arrows) and under that \"Request1\" (icon the word SOAP). I right-click Request1 and select \"Show Request Editor\". This displays a window with a SOAP envelope and my namespace and ProjectRequest. This all looks good. </p>\n\n<p>I now want to click \"Submit request to sepecified Endpoint URL\" (green arrow at top-left) but this is greyed-out until I specify an endpoint (to the right). I click on the endpoints drop-down and select \"edit-current\". A dialog appears. I enter: </p>\n\n<pre><code>http://localhost:8080/MyApp/ws/SOAP/ \n</code></pre>\n\n<p>and click ok. Now the run icon is enabled (green). Clicking this icon then results in a \"response\" window appearing, which is blank, but the raw data is:</p>\n\n<pre><code>HTTP/1.1 404 Not Found\nContent-Length: 0\nServer: Jetty(6.1.26)\n</code></pre>\n\n<p>I am guessing that the endpoint I am choosing is wrong. Can you confirm that this is the wrong format or I'm missing a suffix of some kind. If you think it's correct then it must be my setup on the web application that is at fault.</p>\n\n<p>Thanks,</p>\n\n<p>Phil</p>\n"},{"tags":["java","file","udp","p2p","sharing"],"owner":{"account_id":21875876,"reputation":1,"user_id":16164891,"display_name":"Focus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701788626,"creation_date":1701788626,"question_id":77607222,"body_markdown":"I&#39;m making a p2p file transfer but I don&#39;t know how to share my list of file inside folder that I want to share to another client [1 folder is 1 client shared folder for testing](https://i.stack.imgur.com/FcmgB.png)\r\n\r\nI was try to send it with UDP inside a list, but I think it have better way to send. And how to download a file in shared list.","title":"Making a p2p UDP sharing folder java","body":"<p>I'm making a p2p file transfer but I don't know how to share my list of file inside folder that I want to share to another client <a href=\"https://i.stack.imgur.com/FcmgB.png\" rel=\"nofollow noreferrer\">1 folder is 1 client shared folder for testing</a></p>\n<p>I was try to send it with UDP inside a list, but I think it have better way to send. And how to download a file in shared list.</p>\n"},{"tags":["python","java","dataframe","pyspark","dataset"],"comments":[{"owner":{"account_id":3893699,"reputation":1946,"user_id":3238085,"display_name":"user238607"},"score":0,"creation_date":1701796452,"post_id":77607198,"comment_id":136818745,"body_markdown":"If you want to use java udf function in your pyspark code then you can follow this recipe : https://gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cfa  . But if you want to pass your python rdd to a java function which operations on RDD then you need to first convert python rdd into java rdd and then operate as shown in this recipe. https://gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a0","body":"If you want to use java udf function in your pyspark code then you can follow this recipe : <a href=\"https://gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cfa\" rel=\"nofollow noreferrer\">gist.github.com/dineshdharme/2e7b8fa839b67acc42c83fa542062cf&zwnj;&#8203;a</a>  . But if you want to pass your python rdd to a java function which operations on RDD then you need to first convert python rdd into java rdd and then operate as shown in this recipe. <a href=\"https://gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a0\" rel=\"nofollow noreferrer\">gist.github.com/dineshdharme/81b56fd1867954faa0d4912eda30f7a&zwnj;&#8203;0</a>"}],"owner":{"account_id":3169463,"reputation":21,"user_id":2678793,"display_name":"Vinay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701788364,"creation_date":1701788364,"question_id":77607198,"body_markdown":"I am trying to call java function from python pyspark by passing dataframe as one of the arguments. But I get &quot;&#39;DataFrame&#39; object has no attribute &#39;_get_object_id&#39;&quot; error.\r\n\r\nCan anyone please help me in solving it.\r\n\r\n\r\n\r\nI have tried below code\r\n\r\n```\r\ndef call_java_method(spark, sc, df):\r\n    df = spark.read \\\r\n        .format(&quot;csv&quot;) \\\r\n        .option(&quot;header&quot;, &quot;false&quot;) \\\r\n        .option(&quot;delimiter&quot;, &quot;|&quot;).option(&quot;ignoreLeadingWhiteSpace&quot;, &#39;true&#39;) \\\r\n        .option(&quot;ignoreTrailingWhiteSpace&quot;, &#39;true&#39;).load(&quot;resources/data_success.txt&quot;)\r\n    df1 = df.withColumn(&quot;idx&quot;, monotonically_increasing_id())\r\n    df1.createOrReplaceTempView(&#39;databas&#39;)\r\n    df1.show()\r\n    df1.persist(StorageLevel.MEMORY_AND_DISK)\r\n    \r\n    java_import(sc._jvm, &quot;en.test.data&quot;)\r\n    func = sc._jvm.data()\r\n    func.add(spark._jsparkSession, df1, 1, [2])\r\n```\r\n\r\nResult:\r\n&#39;DataFrame&#39; object has no attribute &#39;_get_object_id&#39;\r\n\r\nExpected:\r\ncall below java function from pyspark python\r\n```\r\npublic void add(SparkSession spark, Dataset&lt;Row&gt; baseDataset, int count, List&lt;Integer&gt; keys) throws InputDataException {...}\r\n```\r\n\r\ndata_success.txt\r\n\r\n374314019059271||||||||||||||||26.666666667|-833.2904092||0|Ineligible for Training\r\n374314019184053||||||||||||||||21.083333333|0.3704427414|10|64|Ineligible for Rev\r\n","title":"How to pass DataFrame of python pyspark to Dataset of Java function","body":"<p>I am trying to call java function from python pyspark by passing dataframe as one of the arguments. But I get &quot;'DataFrame' object has no attribute '_get_object_id'&quot; error.</p>\n<p>Can anyone please help me in solving it.</p>\n<p>I have tried below code</p>\n<pre><code>def call_java_method(spark, sc, df):\n    df = spark.read \\\n        .format(&quot;csv&quot;) \\\n        .option(&quot;header&quot;, &quot;false&quot;) \\\n        .option(&quot;delimiter&quot;, &quot;|&quot;).option(&quot;ignoreLeadingWhiteSpace&quot;, 'true') \\\n        .option(&quot;ignoreTrailingWhiteSpace&quot;, 'true').load(&quot;resources/data_success.txt&quot;)\n    df1 = df.withColumn(&quot;idx&quot;, monotonically_increasing_id())\n    df1.createOrReplaceTempView('databas')\n    df1.show()\n    df1.persist(StorageLevel.MEMORY_AND_DISK)\n    \n    java_import(sc._jvm, &quot;en.test.data&quot;)\n    func = sc._jvm.data()\n    func.add(spark._jsparkSession, df1, 1, [2])\n</code></pre>\n<p>Result:\n'DataFrame' object has no attribute '_get_object_id'</p>\n<p>Expected:\ncall below java function from pyspark python</p>\n<pre><code>public void add(SparkSession spark, Dataset&lt;Row&gt; baseDataset, int count, List&lt;Integer&gt; keys) throws InputDataException {...}\n</code></pre>\n<p>data_success.txt</p>\n<p>374314019059271||||||||||||||||26.666666667|-833.2904092||0|Ineligible for Training\n374314019184053||||||||||||||||21.083333333|0.3704427414|10|64|Ineligible for Rev</p>\n"},{"tags":["java","constructor","annotations","preprocessor"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701788115,"creation_date":1701788115,"answer_id":77607171,"question_id":77603520,"body_markdown":"Your description matches the concept of [service providers]. When you use service providers together with Java modules, you get the compile-time check automatically.\r\n\r\nE.g., a minimal setup for a module would look like:\r\n\r\n###### modulespackage/StaticAPI.java\r\n```java\r\npackage modulespackage;\r\n\r\npublic abstract class StaticAPI\r\n{\r\n}\r\n```\r\n###### modulespackage/DynamicClass1.java\r\n```java\r\npackage modulespackage;\r\n\r\npublic class DynamicClass1 extends StaticAPI\r\n{\r\n  // public DynamicClass1() {}\r\n}\r\n```\r\n###### module-info.java\r\n```java\r\nimport modulespackage.*;\r\n\r\nmodule example {\r\n  provides StaticAPI with DynamicClass1;\r\n  uses StaticAPI;\r\n}\r\n```\r\n\r\nThe `provides StaticAPI with DynamicClass1;` is the declaration mandating that `DynamicClass1` must be a subclass of `StaticAPI` and have a `public` no-arg constructor. Otherwise, a compile-time error occurs.\r\n\r\nThe `uses StaticAPI;` allows the module to write something like\r\n```java\r\nStaticAPI api = ServiceLoader.load(StaticAPI.class).findFirst()\r\n    .orElseThrow(() -&gt; new IllegalStateException(&quot;missing service&quot;));\r\n```\r\nto get hands on a service provider implementation of `StaticAPI` which will be an instance of `DynamicClass1` if thats the only provider. The [`ServiceLoader`] API allows you to iterate over all implementations if there is more than one and/or select a particular implementation based on your own rules.\r\n\r\nNote that this mechanism allows an alternative implementation, a `public` `static` method `provider()` returning the actual implementation instead of using a no-arg constructor, but you dont have to worry about it if youre using [`ServiceLoader`] to acquire the instance, as it will do the right thing for you.\r\n\r\nThe `provides` and `uses` declarations dont have to be in the same module, even the abstract base class or interface may be in yet another module, but the package containing the API declaration must be exported to the module(s) implementing and/or using the API.\r\n\r\n---\r\nUnfortunately, the non-modular version of the service provider mechanism is as dynamic as in your problem description, not providing you compile-time checks whether the implementation classes are sufficient.\r\n\r\n[service providers]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html#designing-services-heading\r\n[`ServiceLoader`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html","title":"Java: how to let compiler show error when specific classes defined constructors which has any argument?","body":"<p>Your description matches the concept of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html#designing-services-heading\" rel=\"nofollow noreferrer\">service providers</a>. When you use service providers together with Java modules, you get the compile-time check automatically.</p>\n<p>E.g., a minimal setup for a module would look like:</p>\n<h6>modulespackage/StaticAPI.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>package modulespackage;\n\npublic abstract class StaticAPI\n{\n}\n</code></pre>\n<h6>modulespackage/DynamicClass1.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>package modulespackage;\n\npublic class DynamicClass1 extends StaticAPI\n{\n  // public DynamicClass1() {}\n}\n</code></pre>\n<h6>module-info.java</h6>\n<pre class=\"lang-java prettyprint-override\"><code>import modulespackage.*;\n\nmodule example {\n  provides StaticAPI with DynamicClass1;\n  uses StaticAPI;\n}\n</code></pre>\n<p>The <code>provides StaticAPI with DynamicClass1;</code> is the declaration mandating that <code>DynamicClass1</code> must be a subclass of <code>StaticAPI</code> and have a <code>public</code> no-arg constructor. Otherwise, a compile-time error occurs.</p>\n<p>The <code>uses StaticAPI;</code> allows the module to write something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>StaticAPI api = ServiceLoader.load(StaticAPI.class).findFirst()\n    .orElseThrow(() -&gt; new IllegalStateException(&quot;missing service&quot;));\n</code></pre>\n<p>to get hands on a service provider implementation of <code>StaticAPI</code> which will be an instance of <code>DynamicClass1</code> if thats the only provider. The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> API allows you to iterate over all implementations if there is more than one and/or select a particular implementation based on your own rules.</p>\n<p>Note that this mechanism allows an alternative implementation, a <code>public</code> <code>static</code> method <code>provider()</code> returning the actual implementation instead of using a no-arg constructor, but you dont have to worry about it if youre using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>ServiceLoader</code></a> to acquire the instance, as it will do the right thing for you.</p>\n<p>The <code>provides</code> and <code>uses</code> declarations dont have to be in the same module, even the abstract base class or interface may be in yet another module, but the package containing the API declaration must be exported to the module(s) implementing and/or using the API.</p>\n<hr />\n<p>Unfortunately, the non-modular version of the service provider mechanism is as dynamic as in your problem description, not providing you compile-time checks whether the implementation classes are sufficient.</p>\n"}],"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701788115,"creation_date":1701743286,"question_id":77603520,"body_markdown":"Sometimes, some classes will be only dynamically instantiated by Class.newInstance(), such classes should not define any constructor which has any argument because they will not be called anywhere.\r\n\r\ne.g.,\r\n\r\n- Example1 (good):\r\n```\r\npublic class DynamicClass1 {\r\n  // no any constructor defined, this is good for dynamic instantiation, there will be a implicit no-arg constructor created.\r\n}\r\n```\r\n\r\n- Example2 (good):\r\n```\r\npublic class DynamicClass1 {\r\n   public DynamicClass() { ... }\r\n}\r\n```\r\n\r\n- example3 (**BAD**):\r\n```\r\npublic class DynamicClass1 {\r\n  public DynamicClass1(String xxx) { ... }\r\n}\r\n```\r\nprobably the author expect the constructor being called, but actually it is not called from anywhere and will not, so I want the compiler show an error message &quot;the constructor you defined will never be called&quot;.\r\n\r\n\r\nIs there any idea? \r\nMaybe I need create my own annotation processor?\r\n","title":"Java: how to let compiler show error when specific classes defined constructors which has any argument?","body":"<p>Sometimes, some classes will be only dynamically instantiated by Class.newInstance(), such classes should not define any constructor which has any argument because they will not be called anywhere.</p>\n<p>e.g.,</p>\n<ul>\n<li>Example1 (good):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n  // no any constructor defined, this is good for dynamic instantiation, there will be a implicit no-arg constructor created.\n}\n</code></pre>\n<ul>\n<li>Example2 (good):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n   public DynamicClass() { ... }\n}\n</code></pre>\n<ul>\n<li>example3 (<strong>BAD</strong>):</li>\n</ul>\n<pre><code>public class DynamicClass1 {\n  public DynamicClass1(String xxx) { ... }\n}\n</code></pre>\n<p>probably the author expect the constructor being called, but actually it is not called from anywhere and will not, so I want the compiler show an error message &quot;the constructor you defined will never be called&quot;.</p>\n<p>Is there any idea?\nMaybe I need create my own annotation processor?</p>\n"},{"tags":["java","gremlin","tinkerpop3"],"comments":[{"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"score":0,"creation_date":1517201818,"post_id":48488142,"comment_id":83982223,"body_markdown":"I search my question with many keywords in google and stackoverflow and try to find a method in gremlin by IDE autocomplete. what effort can I do more? I should emphasis that I try much to find my answer?","body":"I search my question with many keywords in google and stackoverflow and try to find a method in gremlin by IDE autocomplete. what effort can I do more? I should emphasis that I try much to find my answer?"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1517206321,"post_id":48488142,"comment_id":83983660,"body_markdown":"There might be no such thing as a &quot;schema&quot; - each node might have different properties and edges. Otherwise just modify my answer below to printout the keys instead of the values - you also only jave to visit one node (per nodeType) to get the information if your graph is uniform in the sense that a schema makes sense. What kind of &quot;schema&quot; are you interested in - please state your expectations more clearly.","body":"There might be no such thing as a &quot;schema&quot; - each node might have different properties and edges. Otherwise just modify my answer below to printout the keys instead of the values - you also only jave to visit one node (per nodeType) to get the information if your graph is uniform in the sense that a schema makes sense. What kind of &quot;schema&quot; are you interested in - please state your expectations more clearly."},{"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"score":0,"creation_date":1517206967,"post_id":48488142,"comment_id":83983878,"body_markdown":"I don&#39;t understand your question. I wanna to find out which information is in a specific node. i. e. exploratory data analysis.","body":"I don&#39;t understand your question. I wanna to find out which information is in a specific node. i. e. exploratory data analysis."},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1517207645,"post_id":48488142,"comment_id":83984167,"body_markdown":"I assume you are interested in the names and types of the properties as well as the names and &quot;types&quot; of the edges. I modified my answer accordingly. I tried to understand your hint with &quot;exploratory data analysis&quot; looking at https://en.wikipedia.org/wiki/Exploratory_data_analysis and it seems only remotely related to the graph issue. So please explain what your needs are in more detail best with an example.","body":"I assume you are interested in the names and types of the properties as well as the names and &quot;types&quot; of the edges. I modified my answer accordingly. I tried to understand your hint with &quot;exploratory data analysis&quot; looking at <a href=\"https://en.wikipedia.org/wiki/Exploratory_data_analysis\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Exploratory_data_analysis</a> and it seems only remotely related to the graph issue. So please explain what your needs are in more detail best with an example."}],"answers":[{"comments":[{"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"score":0,"creation_date":1517202364,"post_id":48488495,"comment_id":83982374,"body_markdown":"I want nodes schema not values. You know that your nodes has a &#39;name&#39; property, but I&#39;m not. It seems that gremlin does not a method to get the schema directly. Am I true?","body":"I want nodes schema not values. You know that your nodes has a &#39;name&#39; property, but I&#39;m not. It seems that gremlin does not a method to get the schema directly. Am I true?"},{"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"score":0,"creation_date":1517207446,"post_id":48488495,"comment_id":83984079,"body_markdown":"I changed my answer. It has duplicate edge information at this time but should be close to your needs.","body":"I changed my answer. It has duplicate edge information at this time but should be close to your needs."}],"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538035854,"creation_date":1517156467,"answer_id":48488495,"question_id":48488142,"body_markdown":"The last two lines in the JUnit Test Case might be closer to do what you want.\r\nsee also:\r\n\r\nhttps://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java\r\n\r\n    graph.traversal().V().next().properties()\r\n        .forEachRemaining(prop -&gt; System.out.println(String.format(&quot;%s=%s&quot;,\r\n            prop.label(), prop.value().getClass().getSimpleName())));\r\n    graph.traversal().V().next().edges(Direction.OUT)\r\n        .forEachRemaining(edge -&gt; System.out.println(\r\n            String.format(&quot;%s-&gt;%s&quot;, edge.label(), edge.outVertex().label())));\r\n\r\nproducing:\r\n\r\n    name=String\r\n    age=Integer\r\n    created-&gt;person\r\n    knows-&gt;person\r\n\r\n**JUnit Test Case** \r\n\r\n      @Test\r\n      public void testSchema() {\r\n        Graph graph = TinkerFactory.createModern();\r\n        graph.traversal().V().next().properties()\r\n            .forEachRemaining(prop -&gt; System.out.println(String.format(&quot;%s=%s&quot;,\r\n                prop.label(), prop.value().getClass().getSimpleName())));\r\n        graph.traversal().V().next().edges(Direction.OUT)\r\n            .forEachRemaining(edge -&gt; System.out.println(\r\n                String.format(&quot;%s-&gt;%s&quot;, edge.label(), edge.outVertex().label())));\r\n      }","title":"How to find graph schema in Gremlin?","body":"<p>The last two lines in the JUnit Test Case might be closer to do what you want.\nsee also:</p>\n\n<p><a href=\"https://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java\" rel=\"nofollow noreferrer\">https://github.com/BITPlan/com.bitplan.simplegraph/blob/master/simplegraph-core/src/test/java/com/bitplan/simplegraph/core/TestTinkerPop3.java</a></p>\n\n<pre><code>graph.traversal().V().next().properties()\n    .forEachRemaining(prop -&gt; System.out.println(String.format(\"%s=%s\",\n        prop.label(), prop.value().getClass().getSimpleName())));\ngraph.traversal().V().next().edges(Direction.OUT)\n    .forEachRemaining(edge -&gt; System.out.println(\n        String.format(\"%s-&gt;%s\", edge.label(), edge.outVertex().label())));\n</code></pre>\n\n<p>producing:</p>\n\n<pre><code>name=String\nage=Integer\ncreated-&gt;person\nknows-&gt;person\n</code></pre>\n\n<p><strong>JUnit Test Case</strong> </p>\n\n<pre><code>  @Test\n  public void testSchema() {\n    Graph graph = TinkerFactory.createModern();\n    graph.traversal().V().next().properties()\n        .forEachRemaining(prop -&gt; System.out.println(String.format(\"%s=%s\",\n            prop.label(), prop.value().getClass().getSimpleName())));\n    graph.traversal().V().next().edges(Direction.OUT)\n        .forEachRemaining(edge -&gt; System.out.println(\n            String.format(\"%s-&gt;%s\", edge.label(), edge.outVertex().label())));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517213229,"creation_date":1517206257,"answer_id":48495318,"question_id":48488142,"body_markdown":"If all nodes have a same properties. we can find the properties of the first vertex and generalize it to all nodes:\r\n\r\n    TinkerGraph tg = TinkerGraph.open() ;\r\n    tg.io(IoCore.graphml()).readGraph(&quot;src\\\\main\\\\resources\\\\air-routes.graphml&quot;);\r\n    GraphTraversalSource g = tg.traversal();\r\n\r\n    g.V().propertyMap().select(Column.keys).next();\r\n    // result = {LinkedHashSet@1831}  size = 12\r\n    // 0 = &quot;country&quot;\r\n    // 1 = &quot;code&quot;\r\n    // 2 = &quot;longest&quot;\r\n    // 3 = &quot;city&quot;\r\n    // 4 = &quot;elev&quot;\r\n    // 5 = &quot;icao&quot;\r\n    // 6 = &quot;lon&quot;\r\n    // 7 = &quot;type&quot;\r\n    // 8 = &quot;region&quot;\r\n    // 9 = &quot;runways&quot;\r\n    // 10 = &quot;lat&quot;\r\n    // 11 = &quot;desc&quot;\r\n\r\nbut If there is no guaranty to each node has a same set of properties, I don&#39;t find any other solution instead of retrieving all properties in a Map List and find distinct property with java collection methods (outside Gremlin).","title":"How to find graph schema in Gremlin?","body":"<p>If all nodes have a same properties. we can find the properties of the first vertex and generalize it to all nodes:</p>\n\n<pre><code>TinkerGraph tg = TinkerGraph.open() ;\ntg.io(IoCore.graphml()).readGraph(\"src\\\\main\\\\resources\\\\air-routes.graphml\");\nGraphTraversalSource g = tg.traversal();\n\ng.V().propertyMap().select(Column.keys).next();\n// result = {LinkedHashSet@1831}  size = 12\n// 0 = \"country\"\n// 1 = \"code\"\n// 2 = \"longest\"\n// 3 = \"city\"\n// 4 = \"elev\"\n// 5 = \"icao\"\n// 6 = \"lon\"\n// 7 = \"type\"\n// 8 = \"region\"\n// 9 = \"runways\"\n// 10 = \"lat\"\n// 11 = \"desc\"\n</code></pre>\n\n<p>but If there is no guaranty to each node has a same set of properties, I don't find any other solution instead of retrieving all properties in a Map List and find distinct property with java collection methods (outside Gremlin).</p>\n"},{"comments":[{"owner":{"account_id":32689,"reputation":21905,"user_id":90874,"accept_rate":52,"display_name":"thSoft"},"score":0,"creation_date":1573822221,"post_id":48500665,"comment_id":104022215,"body_markdown":"For example refer to https://docs.janusgraph.org/basics/schema/ for JanusGraph&#39;s Schema API.","body":"For example refer to <a href=\"https://docs.janusgraph.org/basics/schema/\" rel=\"nofollow noreferrer\">docs.janusgraph.org/basics/schema</a> for JanusGraph&#39;s Schema API."}],"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517231550,"creation_date":1517226841,"answer_id":48500665,"question_id":48488142,"body_markdown":"Gremlin itself has no notion of schema. This was a deliberate design choice as the capabilities and behavior around schema APIs is quite different from one graph system implementation to the next and forming an appropriate abstraction in Apache TinkerPop for that is quite difficult. In this way it is quite akin to TinkerPop 2.x&#39;s attempt to build a general index API, which ended up being too generic to be useful to anyone and had there been more complexity added, more that what was required for most cases. In the end, like indexing APIs, ideas for generalizing schema were left out for TinkerPop 3.x.\r\n\r\nIf you use a graph that allows for schema definition like JanusGraph or DSE Graph you should simply use the underlying Schema API of that graph system to get all of your schema values. If you aren&#39;t using that type of graph then you will need to do something along the lines of what has been offered in the other answers thus far and iterate through all of the vertices (or edges) and get the unique property keys. Here&#39;s my version:\r\n\r\n    gremlin&gt; graph = TinkerFactory.createModern()\r\n    ==&gt;tinkergraph[vertices:6 edges:6]\r\n    gremlin&gt; g = graph.traversal()\r\n    ==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]\r\n    gremlin&gt; g.V().properties().key().dedup()\r\n    ==&gt;name\r\n    ==&gt;age\r\n    ==&gt;lang\r\n\r\nThe problem here is that to do this type of traversal, you will require a full graph scan, which will be problematic if you have a large graph. In those cases you will need to use an OLAP-based traversal with Spark or the like.","title":"How to find graph schema in Gremlin?","body":"<p>Gremlin itself has no notion of schema. This was a deliberate design choice as the capabilities and behavior around schema APIs is quite different from one graph system implementation to the next and forming an appropriate abstraction in Apache TinkerPop for that is quite difficult. In this way it is quite akin to TinkerPop 2.x's attempt to build a general index API, which ended up being too generic to be useful to anyone and had there been more complexity added, more that what was required for most cases. In the end, like indexing APIs, ideas for generalizing schema were left out for TinkerPop 3.x.</p>\n\n<p>If you use a graph that allows for schema definition like JanusGraph or DSE Graph you should simply use the underlying Schema API of that graph system to get all of your schema values. If you aren't using that type of graph then you will need to do something along the lines of what has been offered in the other answers thus far and iterate through all of the vertices (or edges) and get the unique property keys. Here's my version:</p>\n\n<pre><code>gremlin&gt; graph = TinkerFactory.createModern()\n==&gt;tinkergraph[vertices:6 edges:6]\ngremlin&gt; g = graph.traversal()\n==&gt;graphtraversalsource[tinkergraph[vertices:6 edges:6], standard]\ngremlin&gt; g.V().properties().key().dedup()\n==&gt;name\n==&gt;age\n==&gt;lang\n</code></pre>\n\n<p>The problem here is that to do this type of traversal, you will require a full graph scan, which will be problematic if you have a large graph. In those cases you will need to use an OLAP-based traversal with Spark or the like.</p>\n"},{"tags":[],"owner":{"account_id":979918,"reputation":336,"user_id":999913,"display_name":"winxalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701788029,"creation_date":1701788029,"answer_id":77607163,"question_id":48488142,"body_markdown":"    @app.get(&quot;/schema&quot;)\r\n    async def schema():\r\n        &quot;&quot;&quot;Get Schema manually.&quot;&quot;&quot;\r\n    \r\n        # Fetch edges_raw_dict using gremlin\r\n        edges_raw_dict = tinker.g.E().group().by(T.label).by(\r\n            __.project(&#39;in&#39;, &#39;out&#39;, &#39;properties&#39;)\r\n            .by(__.inV().label())\r\n            .by(__.outV().label())\r\n            .by(__.properties().group().by(T.key).by(__.value().fold()))\r\n            .dedup().fold()\r\n        ).next()\r\n    \r\n        separator = &quot;|&quot;\r\n        edges = []\r\n    \r\n        for edge_label, edge_list in edges_raw_dict.items():\r\n            edge_filtered = edge_list[0] if edge_list else None\r\n            properties_filtered = edge_filtered.get(&#39;properties&#39;, {}) if edge_filtered else None\r\n    \r\n            for edge in edge_list[1:]:\r\n                edge_properties = edge.get(&#39;properties&#39;, {})\r\n                if edge_properties:\r\n                    for prop in edge_properties:\r\n                        properties_filtered[prop].extend(edge_properties[prop])\r\n    \r\n            if not properties_filtered:\r\n                edge_filtered.pop(&quot;properties&quot;)\r\n    \r\n            for prop in properties_filtered:\r\n                properties_filtered[prop] = separator.join(properties_filtered[prop])\r\n    \r\n            edges.append({edge_label: edge_filtered})\r\n    \r\n        # Fetch vertices using gremlin\r\n        vertices = tinker.g.V().group().by(T.label).by(__.properties().label().dedup().fold()).to_list()\r\n\r\n    return {&quot;edges&quot;: edges, &quot;vertices&quot;: vertices}\r\nWith the little help of python i got schema like this:\r\n\r\n   \r\n\r\n    {\r\n        &quot;edges&quot;: [\r\n            {\r\n                &quot;familiar with&quot;: {\r\n                    &quot;in&quot;: &quot;Sector&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;actions&quot;: {\r\n                    &quot;in&quot;: &quot;Action&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;current_goal&quot;: {\r\n                    &quot;in&quot;: &quot;Goal&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;relation&quot;: {\r\n                    &quot;in&quot;: &quot;Character&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;,\r\n                    &quot;properties&quot;: {\r\n                        &quot;type&quot;: &quot;friend|son&quot;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                &quot;current_action&quot;: {\r\n                    &quot;in&quot;: &quot;Action&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            },\r\n            {\r\n                &quot;goals&quot;: {\r\n                    &quot;in&quot;: &quot;Goal&quot;,\r\n                    &quot;out&quot;: &quot;Character&quot;\r\n                }\r\n            }\r\n        ],\r\n        &quot;vertices&quot;: [\r\n            {\r\n                &quot;Goal&quot;: [\r\n                    &quot;duration&quot;,\r\n                    &quot;permanent&quot;,\r\n                    &quot;description&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;time&quot;,\r\n                    &quot;repetition&quot;\r\n                ],\r\n                &quot;Action&quot;: [\r\n                    &quot;duration&quot;,\r\n                    &quot;description&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;time&quot;\r\n                ],\r\n                &quot;Character&quot;: [\r\n                    &quot;evacuation&quot;,\r\n                    &quot;rest&quot;,\r\n                    &quot;traits&quot;,\r\n                    &quot;occupation&quot;,\r\n                    &quot;somnolence&quot;,\r\n                    &quot;health&quot;,\r\n                    &quot;last_name&quot;,\r\n                    &quot;priority&quot;,\r\n                    &quot;nutrition&quot;,\r\n                    &quot;hydration&quot;,\r\n                    &quot;innate_tendency&quot;,\r\n                    &quot;location&quot;,\r\n                    &quot;first_name&quot;,\r\n                    &quot;age&quot;\r\n                ],\r\n                &quot;Sector&quot;: [\r\n                    &quot;name&quot;\r\n                ]\r\n            }\r\n        ]\r\n    }","title":"How to find graph schema in Gremlin?","body":"<pre><code>@app.get(&quot;/schema&quot;)\nasync def schema():\n    &quot;&quot;&quot;Get Schema manually.&quot;&quot;&quot;\n\n    # Fetch edges_raw_dict using gremlin\n    edges_raw_dict = tinker.g.E().group().by(T.label).by(\n        __.project('in', 'out', 'properties')\n        .by(__.inV().label())\n        .by(__.outV().label())\n        .by(__.properties().group().by(T.key).by(__.value().fold()))\n        .dedup().fold()\n    ).next()\n\n    separator = &quot;|&quot;\n    edges = []\n\n    for edge_label, edge_list in edges_raw_dict.items():\n        edge_filtered = edge_list[0] if edge_list else None\n        properties_filtered = edge_filtered.get('properties', {}) if edge_filtered else None\n\n        for edge in edge_list[1:]:\n            edge_properties = edge.get('properties', {})\n            if edge_properties:\n                for prop in edge_properties:\n                    properties_filtered[prop].extend(edge_properties[prop])\n\n        if not properties_filtered:\n            edge_filtered.pop(&quot;properties&quot;)\n\n        for prop in properties_filtered:\n            properties_filtered[prop] = separator.join(properties_filtered[prop])\n\n        edges.append({edge_label: edge_filtered})\n\n    # Fetch vertices using gremlin\n    vertices = tinker.g.V().group().by(T.label).by(__.properties().label().dedup().fold()).to_list()\n\nreturn {&quot;edges&quot;: edges, &quot;vertices&quot;: vertices}\n</code></pre>\n<p>With the little help of python i got schema like this:</p>\n<pre><code>{\n    &quot;edges&quot;: [\n        {\n            &quot;familiar with&quot;: {\n                &quot;in&quot;: &quot;Sector&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;actions&quot;: {\n                &quot;in&quot;: &quot;Action&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;current_goal&quot;: {\n                &quot;in&quot;: &quot;Goal&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;relation&quot;: {\n                &quot;in&quot;: &quot;Character&quot;,\n                &quot;out&quot;: &quot;Character&quot;,\n                &quot;properties&quot;: {\n                    &quot;type&quot;: &quot;friend|son&quot;\n                }\n            }\n        },\n        {\n            &quot;current_action&quot;: {\n                &quot;in&quot;: &quot;Action&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        },\n        {\n            &quot;goals&quot;: {\n                &quot;in&quot;: &quot;Goal&quot;,\n                &quot;out&quot;: &quot;Character&quot;\n            }\n        }\n    ],\n    &quot;vertices&quot;: [\n        {\n            &quot;Goal&quot;: [\n                &quot;duration&quot;,\n                &quot;permanent&quot;,\n                &quot;description&quot;,\n                &quot;location&quot;,\n                &quot;time&quot;,\n                &quot;repetition&quot;\n            ],\n            &quot;Action&quot;: [\n                &quot;duration&quot;,\n                &quot;description&quot;,\n                &quot;location&quot;,\n                &quot;time&quot;\n            ],\n            &quot;Character&quot;: [\n                &quot;evacuation&quot;,\n                &quot;rest&quot;,\n                &quot;traits&quot;,\n                &quot;occupation&quot;,\n                &quot;somnolence&quot;,\n                &quot;health&quot;,\n                &quot;last_name&quot;,\n                &quot;priority&quot;,\n                &quot;nutrition&quot;,\n                &quot;hydration&quot;,\n                &quot;innate_tendency&quot;,\n                &quot;location&quot;,\n                &quot;first_name&quot;,\n                &quot;age&quot;\n            ],\n            &quot;Sector&quot;: [\n                &quot;name&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":1133331,"reputation":304,"user_id":1118907,"display_name":"MohsenIT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5154,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":48495318,"answer_count":4,"score":2,"last_activity_date":1701788029,"creation_date":1517154334,"question_id":48488142,"body_markdown":"I wanna to find all node and edge properties in graph. How can I list node (or edge) properties that exist in graph?\r\n\r\nfor example if nodes has 3 non-reserved properties such as NAME, education, gender. I wanna a methods like\r\n\r\n    g.V().schema().toList();\r\n    // result: [ID, LABEL, NAME, GENDER, EDUCATION]","title":"How to find graph schema in Gremlin?","body":"<p>I wanna to find all node and edge properties in graph. How can I list node (or edge) properties that exist in graph?</p>\n\n<p>for example if nodes has 3 non-reserved properties such as NAME, education, gender. I wanna a methods like</p>\n\n<pre><code>g.V().schema().toList();\n// result: [ID, LABEL, NAME, GENDER, EDUCATION]\n</code></pre>\n"},{"tags":["java","spring","http","http2"],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17242,"user_id":1215076,"display_name":"sbordet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701787731,"creation_date":1701787731,"answer_id":77607137,"question_id":77597956,"body_markdown":"It is possible, but depends on many things.\r\n\r\nHTTP/1.1 does not have an explicit mechanism to tell the server to interrupt a request processing, other than closing the connection.  \r\nHowever, the server application is typically not reading from the connection to detect the close during the processing, so even if the client closes the server application won&#39;t notice.\r\n\r\nHTTP/2 and HTTP/3 do have an explicit mechanism to tell the server to interrupt a request processing.  \r\nUnfortunately, Servlets (and by extension to JAX-RS) do not have any API that allows applications to be notified of clients sending a &quot;reset stream&quot; frame.  \r\nAs Spring wraps Servlets and JAX-RS, unlikely you will have this API available, unless you want to bind to low-level, container-specific APIs, that allows your application to be notified of the &quot;reset stream&quot; event.\r\n\r\n[Disclaimer, I am a Jetty committer]\r\n\r\nWhen using Jetty you can use the [low-level HTTP/2 APIs][1] and be notified of such event.\r\n\r\nFor example:\r\n\r\n```java\r\nServerSessionListener sessionListener = new ServerSessionListener()\r\n{\r\n    @Override\r\n    public Stream.Listener onNewStream(Stream stream, HeadersFrame frame)\r\n    {\r\n        // Process the request.\r\n        MetaData.Request request = (MetaData.Request)frame.getMetaData();\r\n\r\n        ...\r\n\r\n        // Return a stream listener that can handle stream resets.\r\n        return new Stream.Listener()\r\n        {\r\n            ...\r\n\r\n            @Override\r\n            public void onReset(Stream stream, ResetFrame frame, Callback callback)\r\n            {\r\n                // Handle stream reset from the client.\r\n\r\n                ...\r\n\r\n                callback.succeeded();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-server-http2","title":"Can server know the request cancelled by client and then stop the process?","body":"<p>It is possible, but depends on many things.</p>\n<p>HTTP/1.1 does not have an explicit mechanism to tell the server to interrupt a request processing, other than closing the connection.<br />\nHowever, the server application is typically not reading from the connection to detect the close during the processing, so even if the client closes the server application won't notice.</p>\n<p>HTTP/2 and HTTP/3 do have an explicit mechanism to tell the server to interrupt a request processing.<br />\nUnfortunately, Servlets (and by extension to JAX-RS) do not have any API that allows applications to be notified of clients sending a &quot;reset stream&quot; frame.<br />\nAs Spring wraps Servlets and JAX-RS, unlikely you will have this API available, unless you want to bind to low-level, container-specific APIs, that allows your application to be notified of the &quot;reset stream&quot; event.</p>\n<p>[Disclaimer, I am a Jetty committer]</p>\n<p>When using Jetty you can use the <a href=\"https://eclipse.dev/jetty/documentation/jetty-12/programming-guide/index.html#pg-server-http2\" rel=\"nofollow noreferrer\">low-level HTTP/2 APIs</a> and be notified of such event.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServerSessionListener sessionListener = new ServerSessionListener()\n{\n    @Override\n    public Stream.Listener onNewStream(Stream stream, HeadersFrame frame)\n    {\n        // Process the request.\n        MetaData.Request request = (MetaData.Request)frame.getMetaData();\n\n        ...\n\n        // Return a stream listener that can handle stream resets.\n        return new Stream.Listener()\n        {\n            ...\n\n            @Override\n            public void onReset(Stream stream, ResetFrame frame, Callback callback)\n            {\n                // Handle stream reset from the client.\n\n                ...\n\n                callback.succeeded();\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8935976,"reputation":692,"user_id":6666797,"display_name":"Cositanto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77607137,"answer_count":1,"score":-1,"last_activity_date":1701787731,"creation_date":1701676989,"question_id":77597956,"body_markdown":"For example, my server handle a request cost 5 seconds, but the client stop waiting and cancel this request in 2 seconds, the 3 seconds left would be a waste, how can server know that and stop the handling process?\r\n\r\nAnd I&#39;m using Java Spring, is it possible to do this?\r\n\r\nAnd If not, is there any good way to handle this case of waste caused by client cancelling?","title":"Can server know the request cancelled by client and then stop the process?","body":"<p>For example, my server handle a request cost 5 seconds, but the client stop waiting and cancel this request in 2 seconds, the 3 seconds left would be a waste, how can server know that and stop the handling process?</p>\n<p>And I'm using Java Spring, is it possible to do this?</p>\n<p>And If not, is there any good way to handle this case of waste caused by client cancelling?</p>\n"},{"tags":["java","maven","intellij-idea","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":74278,"reputation":18697,"user_id":213525,"accept_rate":87,"display_name":"Neil Traft"},"score":3,"creation_date":1317697727,"post_id":7642607,"comment_id":9283557,"body_markdown":"Exactly what I was looking for! And yeah, I meant adding the default maven2 &quot;Central&quot; repository element. But I can add that myself, no big deal.","body":"Exactly what I was looking for! And yeah, I meant adding the default maven2 &quot;Central&quot; repository element. But I can add that myself, no big deal."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1317697977,"post_id":7642607,"comment_id":9283576,"body_markdown":"Cool. But you shouldn&#39;t have to add that; it&#39;s already the default.","body":"Cool. But you shouldn&#39;t have to add that; it&#39;s already the default."},{"owner":{"display_name":"user1096463"},"score":56,"creation_date":1407272799,"post_id":7642607,"comment_id":39148641,"body_markdown":"What happens if I don&#39;t have that option?","body":"What happens if I don&#39;t have that option?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1407279931,"post_id":7642607,"comment_id":39151272,"body_markdown":"@LukeyBoylsXen Check your plugins. Should be there, though.","body":"@LukeyBoylsXen Check your plugins. Should be there, though."},{"owner":{"account_id":1073614,"reputation":2773,"user_id":1072279,"accept_rate":60,"display_name":"Nick"},"score":2,"creation_date":1487627742,"post_id":7642607,"comment_id":71860501,"body_markdown":"which &quot;plugins&quot;?  I have 2 maven plugs (came default with IntelliJ).  Still no &quot;Maven&quot; option in Add Frameworks","body":"which &quot;plugins&quot;?  I have 2 maven plugs (came default with IntelliJ).  Still no &quot;Maven&quot; option in Add Frameworks"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1487862974,"post_id":7642607,"comment_id":71984566,"body_markdown":"@Nick\tIt&#39;s quite likely the IDE has changed a bit in the last five years.","body":"@Nick\tIt&#39;s quite likely the IDE has changed a bit in the last five years."},{"owner":{"account_id":1073614,"reputation":2773,"user_id":1072279,"accept_rate":60,"display_name":"Nick"},"score":0,"creation_date":1487864157,"post_id":7642607,"comment_id":71985428,"body_markdown":"Re: no &quot;Maven&quot; option:  i believe it is due to working on an IntelliJ plugin for which there is no maven support.  @Dave Newton - you make a good point, always need to consider that for older questions and answers.","body":"Re: no &quot;Maven&quot; option:  i believe it is due to working on an IntelliJ plugin for which there is no maven support.  @Dave Newton - you make a good point, always need to consider that for older questions and answers."},{"owner":{"account_id":10387706,"reputation":586,"user_id":7660161,"accept_rate":47,"display_name":"MrSir"},"score":1,"creation_date":1511615254,"post_id":7642607,"comment_id":81927351,"body_markdown":"sorry for reviving this old post but is there an automatic way to put the jsf dependencies into the pom ? The pom gets created but it&#39;s empty, i would like to have all the proper dependencies of a jsf project inside the pom.","body":"sorry for reviving this old post but is there an automatic way to put the jsf dependencies into the pom ? The pom gets created but it&#39;s empty, i would like to have all the proper dependencies of a jsf project inside the pom."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1511619391,"post_id":7642607,"comment_id":81928666,"body_markdown":"@MrSir There&#39;s probably an archetype for JSF projects, and using an archetype is one of the options IIRC.","body":"@MrSir There&#39;s probably an archetype for JSF projects, and using an archetype is one of the options IIRC."},{"owner":{"account_id":10387706,"reputation":586,"user_id":7660161,"accept_rate":47,"display_name":"MrSir"},"score":0,"creation_date":1511619607,"post_id":7642607,"comment_id":81928749,"body_markdown":"@DaveNewton that was my first idea, but i&#39;m having issues with that, i made a [question](https://stackoverflow.com/questions/47478855/how-to-build-a-jsf-application-in-intellij-using-maven?noredirect=1#comment81926817_47478855) about it.","body":"@DaveNewton that was my first idea, but i&#39;m having issues with that, i made a <a href=\"https://stackoverflow.com/questions/47478855/how-to-build-a-jsf-application-in-intellij-using-maven?noredirect=1#comment81926817_47478855\">question</a> about it."},{"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"score":0,"creation_date":1546872550,"post_id":7642607,"comment_id":94986297,"body_markdown":"@Nick - Maven can be added as a framework to be selected, or made visible in the &quot;Add Framework Support&quot; by changing the intellij Settings: File -&gt; Settings-&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing: tick Import Maven projects automatically","body":"@Nick - Maven can be added as a framework to be selected, or made visible in the &quot;Add Framework Support&quot; by changing the intellij Settings: File -&gt; Settings-&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing: tick Import Maven projects automatically"}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":11,"down_vote_count":1,"up_vote_count":805,"is_accepted":true,"score":804,"last_activity_date":1615457886,"creation_date":1317694074,"answer_id":7642607,"question_id":7642456,"body_markdown":"Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n*(This also creates a `pom.xml` for you to modify.)*\r\n\r\nIf you mean adding source repository elements, I think you need to do that manually&amp;ndash;not sure.\r\n\r\nPre-IntelliJ 13 this won&#39;t convert the project to the [Maven Standard Directory Layout][3], 13+ it will.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sC2ix.png\r\n  [2]: https://i.stack.imgur.com/RK3xx.png\r\n  [3]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.</p>\n<p><a href=\"https://i.stack.imgur.com/sC2ix.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sC2ix.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RK3xx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RK3xx.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(This also creates a <code>pom.xml</code> for you to modify.)</em></p>\n<p>If you mean adding source repository elements, I think you need to do that manuallynot sure.</p>\n<p>Pre-IntelliJ 13 this won't convert the project to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"noreferrer\">Maven Standard Directory Layout</a>, 13+ it will.</p>\n"},{"comments":[{"owner":{"account_id":7355313,"reputation":421,"user_id":5600262,"display_name":"Sylvester"},"score":1,"creation_date":1553267632,"post_id":40743598,"comment_id":97333764,"body_markdown":"When I had a parent director git URL when many sub projects, the sub projects were not recognized as Maven. This answer helped.\nTo make it clear, this functionality is available on the Maven Tool Window.","body":"When I had a parent director git URL when many sub projects, the sub projects were not recognized as Maven. This answer helped. To make it clear, this functionality is available on the Maven Tool Window."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1590157191,"post_id":40743598,"comment_id":109582116,"body_markdown":"This answer helped me to re-associate a Gradle project back to Maven.  Just needed to unlink it (use the minus sign) on the analogous Gradle menu.","body":"This answer helped me to re-associate a Gradle project back to Maven.  Just needed to unlink it (use the minus sign) on the analogous Gradle menu."},{"owner":{"account_id":7441417,"reputation":91,"user_id":5659098,"display_name":"Olga"},"score":0,"creation_date":1665697822,"post_id":40743598,"comment_id":130766017,"body_markdown":"Great hint, I was moving projects under the parent and &quot;Add framework support&quot; was not available for me. Your solution works very nice.","body":"Great hint, I was moving projects under the parent and &quot;Add framework support&quot; was not available for me. Your solution works very nice."}],"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"comment_count":3,"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1479822636,"creation_date":1479822636,"answer_id":40743598,"question_id":7642456,"body_markdown":"1. Open &#39;Maven projects&#39; (tab on the right side).  \r\n2. Use &#39;Add Maven Projects&#39;  \r\n3. Find your pom.xml  ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<ol>\n<li>Open 'Maven projects' (tab on the right side).  </li>\n<li>Use 'Add Maven Projects'  </li>\n<li>Find your pom.xml  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"comment_count":0,"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1490645704,"creation_date":1490645704,"answer_id":43055660,"question_id":7642456,"body_markdown":"A visual for those that benefit from it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3GCAR.png\r\n\r\nAfter right-clicking the project name (&quot;test&quot; in this example), select &quot;Add framework support&quot; and check the &quot;Maven&quot; option. ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>A visual for those that benefit from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GCAR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3GCAR.png\" alt=\"enter image description here\"></a></p>\n\n<p>After right-clicking the project name (\"test\" in this example), select \"Add framework support\" and check the \"Maven\" option. </p>\n"},{"tags":[],"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574704015,"creation_date":1491549907,"answer_id":43272100,"question_id":7642456,"body_markdown":"I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:\r\n\r\n1. Annotation settings are changed for the modules\r\n2. Compiler output path is changed for the modules\r\n3. Resources settings are ignored totally and only taken from pom.xml\r\n4. Module dependencies are messed up and have to checked\r\n5. Language/Encoding settings are changed for the modules\r\n\r\nAll these points need review and adjusting but after this it works like charm.\r\n\r\nFurther more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;Name&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;!-- Generic properties --&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!--All dependencies to put here, including module dependencies--&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\r\n        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n        &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessors/&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nEdit 2019: \r\n\r\n - Added recursive resource scan\r\n - Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure ","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:</p>\n\n<ol>\n<li>Annotation settings are changed for the modules</li>\n<li>Compiler output path is changed for the modules</li>\n<li>Resources settings are ignored totally and only taken from pom.xml</li>\n<li>Module dependencies are messed up and have to checked</li>\n<li>Language/Encoding settings are changed for the modules</li>\n</ol>\n\n<p>All these points need review and adjusting but after this it works like charm.</p>\n\n<p>Further more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Name&lt;/groupId&gt;\n&lt;artifactId&gt;Artifact&lt;/artifactId&gt;\n&lt;version&gt;4.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;!-- Generic properties --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!--All dependencies to put here, including module dependencies--&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n    &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessors/&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Edit 2019: </p>\n\n<ul>\n<li>Added recursive resource scan</li>\n<li>Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":240605,"reputation":106,"user_id":510944,"display_name":"ZoltanT"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503042873,"creation_date":1503042873,"answer_id":45751385,"question_id":7642456,"body_markdown":"This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.</p>\n"},{"tags":[],"owner":{"account_id":4910831,"reputation":471,"user_id":3956183,"display_name":"LostMage"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520329786,"creation_date":1520329786,"answer_id":49127831,"question_id":7642456,"body_markdown":"I had a different scenario, but still landed on this answer.  \r\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.  \r\nIntelliJ recognised the Java files, but didn&#39;t resolve the Maven dependencies.\r\n\r\nI fixed this by performing a right-click on each pom and then &quot;Add as maven project&quot;\r\n\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I had a different scenario, but still landed on this answer.<br>\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.<br>\nIntelliJ recognised the Java files, but didn't resolve the Maven dependencies.</p>\n\n<p>I fixed this by performing a right-click on each pom and then \"Add as maven project\"</p>\n"},{"tags":[],"owner":{"account_id":2785708,"reputation":390,"user_id":2397177,"accept_rate":40,"display_name":"Walid Ammou"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554320748,"creation_date":1554320273,"answer_id":55503052,"question_id":7642456,"body_markdown":"I have resolved this same issue by doing below steps:\r\n\r\n1. File &gt; Close Project\r\n\r\n2. Import Project\r\n\r\n3. Select you project via the system file popup\r\n\r\n4. Check &quot;Import project from external model&quot; radio button and select Maven entry\r\n\r\n5. And some Next buttons (select JDK, ...)\r\n\r\nThen the project will be imported as Maven module.\r\n\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I have resolved this same issue by doing below steps:</p>\n\n<ol>\n<li><p>File > Close Project</p></li>\n<li><p>Import Project</p></li>\n<li><p>Select you project via the system file popup</p></li>\n<li><p>Check \"Import project from external model\" radio button and select Maven entry</p></li>\n<li><p>And some Next buttons (select JDK, ...)</p></li>\n</ol>\n\n<p>Then the project will be imported as Maven module.</p>\n"},{"tags":[],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563440248,"creation_date":1563440248,"answer_id":57090700,"question_id":7642456,"body_markdown":"The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called &#39;Add as Maven Project&#39;, click it. This will automatically convert the project to a Maven project","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called 'Add as Maven Project', click it. This will automatically convert the project to a Maven project</p>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597212549,"creation_date":1597212549,"answer_id":63370753,"question_id":7642456,"body_markdown":"Just follow the steps:\r\n1. Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMMmb.png\r\n  [2]: https://i.stack.imgur.com/MrjeF.png","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Just follow the steps:</p>\n<ol>\n<li>Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PMMmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMMmb.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/MrjeF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MrjeF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12196540,"reputation":119,"user_id":8902000,"display_name":"Alex Yao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626573419,"creation_date":1626573419,"answer_id":68425452,"question_id":7642456,"body_markdown":"Update on version Intellij IDEA 2020.2.3\r\n\r\n`Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing`\r\nand click &quot;**create module groups for multi-module Maven projects**&quot;.\r\n\r\nThen Apply and you can see that option in &quot;Add Framework Support...&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ye4x.png\r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Update on version Intellij IDEA 2020.2.3</p>\n<p><code>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing</code>\nand click &quot;<strong>create module groups for multi-module Maven projects</strong>&quot;.</p>\n<p>Then Apply and you can see that option in &quot;Add Framework Support...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/4ye4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ye4x.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650968009,"creation_date":1650968009,"answer_id":72012159,"question_id":7642456,"body_markdown":" 1. Right-click on the module\r\n 2. Select &quot;Add framework support&quot;\r\n 3. Click the &quot;Maven&quot; option.\r\n\r\nNote: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then. \r\n\r\n**Enable Auto Import of Dependencies**\r\n\r\n(`InteliJ IDEA 14.1.1` on `Ubuntu`) \r\n\r\n    Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\r\n\r\n**Run as maven project**\r\n\r\nCreating a new Run/Debug Configuration of type maven and adding the command `clean install` \r\n\r\nFinally clicking the green button to run that Run/Debug Configuration, this will run build the project using `apache maven`. \r\n","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<ol>\n<li>Right-click on the module</li>\n<li>Select &quot;Add framework support&quot;</li>\n<li>Click the &quot;Maven&quot; option.</li>\n</ol>\n<p>Note: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then.</p>\n<p><strong>Enable Auto Import of Dependencies</strong></p>\n<p>(<code>InteliJ IDEA 14.1.1</code> on <code>Ubuntu</code>)</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\n</code></pre>\n<p><strong>Run as maven project</strong></p>\n<p>Creating a new Run/Debug Configuration of type maven and adding the command <code>clean install</code></p>\n<p>Finally clicking the green button to run that Run/Debug Configuration, this will run build the project using <code>apache maven</code>.</p>\n"},{"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684672180,"creation_date":1684672180,"answer_id":76299911,"question_id":7642456,"body_markdown":"Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:\r\n\r\n- Right click on root of your project in Explorer on the left side.\r\n- Select &quot;Add framework support&quot; (3rd option from the last as shown in image)\r\n- Choose Maven\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlaG7.png","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven\n<a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1047369,"reputation":113,"user_id":1052103,"accept_rate":40,"display_name":"VincentH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701787252,"creation_date":1701787252,"answer_id":77607068,"question_id":7642456,"body_markdown":"I could not find the option &#39;Add Framework Support&#39; at all. I figured out if you click on the project, then press Ctrl+Shift+A, a dialog pops up.\r\n\r\nStart typing &#39;Add Framework Support&#39; and the option will appear in a list. Click that option then you can add Maven support.","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I could not find the option 'Add Framework Support' at all. I figured out if you click on the project, then press Ctrl+Shift+A, a dialog pops up.</p>\n<p>Start typing 'Add Framework Support' and the option will appear in a list. Click that option then you can add Maven support.</p>\n"}],"owner":{"account_id":74278,"reputation":18697,"user_id":213525,"accept_rate":87,"display_name":"Neil Traft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257449,"favorite_count":0,"down_vote_count":0,"up_vote_count":447,"accepted_answer_id":7642607,"answer_count":13,"score":447,"last_activity_date":1701787252,"creation_date":1317692206,"question_id":7642456,"body_markdown":"I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control &gt; Checkout from Version Control from within IntelliJ.\r\n\r\nIt then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.\r\n\r\nHowever, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!\r\n\r\nIs there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)","title":"IntelliJ - Convert a Java project/module into a Maven project/module","body":"<p>I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control > Checkout from Version Control from within IntelliJ.</p>\n\n<p>It then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.</p>\n\n<p>However, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!</p>\n\n<p>Is there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1701783044,"post_id":77605929,"comment_id":136816049,"body_markdown":"I&#39;m afraid that would be a very niche exception. I&#39;m not sure that it is even possible to archieve that without somehow corrupting the jackson dependencies.\nAll the UnrecognizedPropertyException, JsonParseException and JsonMappingException inherit from JsonProcessingException.\nThe only possible exceptions you have left are: JsonGenerationException, InputCoercionException and StreamConstraintsException.\nPersonally, I don&#39;t know a way to invoke them using the modern version of Jackson and the readValue method that returns a regular POJO.","body":"I&#39;m afraid that would be a very niche exception. I&#39;m not sure that it is even possible to archieve that without somehow corrupting the jackson dependencies. All the UnrecognizedPropertyException, JsonParseException and JsonMappingException inherit from JsonProcessingException. The only possible exceptions you have left are: JsonGenerationException, InputCoercionException and StreamConstraintsException. Personally, I don&#39;t know a way to invoke them using the modern version of Jackson and the readValue method that returns a regular POJO."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1701787321,"post_id":77605929,"comment_id":136816950,"body_markdown":"You are correct, this is why I started the question. Was hoping to bump into someone who knows","body":"You are correct, this is why I started the question. Was hoping to bump into someone who knows"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701787215,"creation_date":1701776776,"question_id":77605929,"body_markdown":"- What I am trying to achieve:\r\n\r\nI want to write a unit test case, hopefully without mocking, which can help test a JsonProcessingException.\r\n\r\nI have this piece of code I would like to test:\r\n\r\n```\r\n    public MyPojo question(String jsonString) {\r\n        try {\r\n            return objectMapper.readValue(jsonString, MyPojo.class);\r\n        } catch (UnrecognizedPropertyException e) {\r\n            LOGGER.error(&quot;Unrecognized property from {}&quot;, jsonString);\r\n            throw new RuntimeException(e);\r\n        } catch (JsonParseException | JsonMappingException e) {\r\n            LOGGER.warn(&quot;Input malformed&quot;);\r\n            throw new RuntimeException(e);\r\n        } catch (JsonProcessingException e) {\r\n            LOGGER.error(&quot;How to get here? ={}&quot;, jsonString);\r\n            throw new CustomRuntimeExeption(e);\r\n        }\r\n    }\r\n```\r\n\r\nThis piece of code is from a third-party code library, I cannot change this piece of code.\r\n\r\n- What did I try\r\n\r\nI want to reach the third branch, the JsonProcessingException.\r\nTherefore, I created a test where the input looks like ```{&quot;unknown_property&quot;: &quot;value&quot;}```\r\nHowever, this would go to UnrecognizedPropertyException.\r\n\r\nThen, I created a test where the input is ```{&quot;unknown_property&quot;: &quot;val```\r\nHowever, this would go to JsonParseException.\r\n\r\n- Question:\r\n\r\nWhat kind of input can I give to this method, which will make it go into the third branch JsonProcessingException?\r\n\r\n#Edit\r\nTo make the question more specific: Here is a list of exceptions that extend class `JsonProcessingException` as of jackson version `2.15.2`:\r\n```\r\nJsonProcessingException\r\n StreamWriteException\r\n    JsonGenerationException -\r\n StreamReadException\r\n    JsonParseException +\r\n       (...)\r\n    InputCoercionException -\r\n DatabindException\r\n    JsonMappingException +\r\n        (...)\r\n StreamConstraintsException -\r\n```\r\n\r\nLegend:\r\n```\r\n+: exceptions that I can trigger\r\n-: exceptions that Im unable to trigger\r\n```\r\n\r\nSo, based on above list, I need to trigger one of the following exceptions: `JsonGenerationException`, `InputCoercionException`, `StreamConstraintsException`.\r\n\r\n","title":"Issue testing JsonProcessingException without mock","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>I want to write a unit test case, hopefully without mocking, which can help test a JsonProcessingException.</p>\n<p>I have this piece of code I would like to test:</p>\n<pre><code>    public MyPojo question(String jsonString) {\n        try {\n            return objectMapper.readValue(jsonString, MyPojo.class);\n        } catch (UnrecognizedPropertyException e) {\n            LOGGER.error(&quot;Unrecognized property from {}&quot;, jsonString);\n            throw new RuntimeException(e);\n        } catch (JsonParseException | JsonMappingException e) {\n            LOGGER.warn(&quot;Input malformed&quot;);\n            throw new RuntimeException(e);\n        } catch (JsonProcessingException e) {\n            LOGGER.error(&quot;How to get here? ={}&quot;, jsonString);\n            throw new CustomRuntimeExeption(e);\n        }\n    }\n</code></pre>\n<p>This piece of code is from a third-party code library, I cannot change this piece of code.</p>\n<ul>\n<li>What did I try</li>\n</ul>\n<p>I want to reach the third branch, the JsonProcessingException.\nTherefore, I created a test where the input looks like <code>{&quot;unknown_property&quot;: &quot;value&quot;}</code>\nHowever, this would go to UnrecognizedPropertyException.</p>\n<p>Then, I created a test where the input is <code>{&quot;unknown_property&quot;: &quot;val</code>\nHowever, this would go to JsonParseException.</p>\n<ul>\n<li>Question:</li>\n</ul>\n<p>What kind of input can I give to this method, which will make it go into the third branch JsonProcessingException?</p>\n<p>#Edit\nTo make the question more specific: Here is a list of exceptions that extend class <code>JsonProcessingException</code> as of jackson version <code>2.15.2</code>:</p>\n<pre><code>JsonProcessingException\n StreamWriteException\n    JsonGenerationException -\n StreamReadException\n    JsonParseException +\n       (...)\n    InputCoercionException -\n DatabindException\n    JsonMappingException +\n        (...)\n StreamConstraintsException -\n</code></pre>\n<p>Legend:</p>\n<pre><code>+: exceptions that I can trigger\n-: exceptions that Im unable to trigger\n</code></pre>\n<p>So, based on above list, I need to trigger one of the following exceptions: <code>JsonGenerationException</code>, <code>InputCoercionException</code>, <code>StreamConstraintsException</code>.</p>\n"},{"tags":["java","selenium-webdriver","javafx","selenium-remotedriver"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1656261667,"post_id":72762315,"comment_id":128523489,"body_markdown":"Format the stack trace as code rather than quote and it will be easier to read.","body":"Format the stack trace as code rather than quote and it will be easier to read."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1656356499,"post_id":72762315,"comment_id":128547520,"body_markdown":"According to `https://www.selenium.dev/documentation/webdriver/getting_started/install_library/`, it looks like you are using the wrong dependency.","body":"According to <code>https:&#47;&#47;www.selenium.dev&#47;documentation&#47;webdriver&#47;getting_sta&zwnj;&#8203;rted&#47;install_library&zwnj;&#8203;&#47;</code>, it looks like you are using the wrong dependency."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1656356589,"post_id":72762315,"comment_id":128547545,"body_markdown":"try `&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;`","body":"try <code>&lt;dependency&gt;     &lt;groupId&gt;org.seleniumhq.selenium&lt;&#47;groupId&gt;     &lt;artifactId&gt;selenium-java&lt;&#47;artifactId&gt;     &lt;version&gt;4.3.0&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":26395165,"reputation":1,"user_id":20046411,"display_name":"ignatius dullfeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701787205,"creation_date":1663706608,"answer_id":73792439,"question_id":72762315,"body_markdown":"I had the same error with the following maven dependency in IntelliJ:\r\n\r\n```xml\r\n&lt;dependency&gt;     \r\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;     \r\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;     \r\n&lt;version&gt;4.4.0&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nI simply followed the answer from https://stackoverflow.com/questions/69474878/java-16-chromedriver-webdriver-cannot-be-resolved-to-a-type-even-after-following and deleted my `module-info.java` file and it worked.","title":"error org.openqa.selenium.devtools.CdpInfo: module org.seleniumhq.selenium.remote_driver does not declare `uses`","body":"<p>I had the same error with the following maven dependency in IntelliJ:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;     \n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;     \n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;     \n&lt;version&gt;4.4.0&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>I simply followed the answer from <a href=\"https://stackoverflow.com/questions/69474878/java-16-chromedriver-webdriver-cannot-be-resolved-to-a-type-even-after-following\">Java 16 ChromeDriver WebDriver cannot be resolved to a type even after following all the necessary steps</a> and deleted my <code>module-info.java</code> file and it worked.</p>\n"}],"owner":{"account_id":25478019,"reputation":1,"user_id":19402848,"display_name":"Ege BULUT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701787205,"creation_date":1656252746,"question_id":72762315,"body_markdown":"I wanted to create a JavaFX application that uses Selenium for web scraping, but it didn&#39;t go well.\r\n\r\nI can&#39;t find how to solve this error:\r\n\r\n```none\r\norg.openqa.selenium.devtools.CdpInfo: module\r\norg.seleniumhq.selenium.remote_driver does not declare `uses`\r\n```\r\n\r\n(Full project: https://github.com/Ege-BULUT/BrokenApp)\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.ege&lt;/groupId&gt;\r\n    &lt;artifactId&gt;instagramtool&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;instagramtool&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;15.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;15.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;15&lt;/source&gt;\r\n                    &lt;target&gt;15&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.ege.instagramtool/com.ege.instagramtool.HelloApplication&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**HelloApplication.java**\r\n\r\n    package com.ege.instagramtool;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 600, 400);\r\n            stage.setTitle(&quot;Hi stalker!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n**HelloController.java**\r\n\r\n    package com.ege.instagramtool;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class HelloController {\r\n    \r\n        private String username = &quot;&quot;, password = &quot;&quot;, url = &quot;&quot;;\r\n        private WebDriver browser;\r\n    \r\n        @FXML\r\n        private TextField in_username, in_password, in_url;\r\n        @FXML\r\n        private Button btn_insta, btn_search;\r\n        @FXML\r\n        private Label welcomeText;\r\n    \r\n        @FXML\r\n        void onInstaBtnClick(ActionEvent event) {\r\n            browser.get(&quot;https://www.instagram.com/&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        void onSearchBtnClick(ActionEvent event) {\r\n    \r\n        }\r\n    \r\n        @FXML\r\n        public void initialize() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/PROJELER/WebScraping/ChromeDrivers/chromedriver_102.exe&quot;);\r\n            browser = new ChromeDriver();\r\n    \r\n            in_url.setDisable(true);\r\n            btn_insta.setDisable(true);\r\n            btn_search.setDisable(true);\r\n    \r\n            in_username.textProperty().addListener((observable, oldText, newText)-&gt;{\r\n                if(in_username.getText().length()&gt;0){\r\n                    username = in_username.getText();\r\n                    if(!password.isBlank()){\r\n                        btn_insta.setDisable(false);\r\n                    }\r\n                }else{\r\n                    username = &quot;&quot;;\r\n                    btn_insta.setDisable(true);\r\n                }\r\n            });\r\n    \r\n            in_password.textProperty().addListener((observable, oldText, newText)-&gt;{\r\n                if(in_password.getText().length()&gt;0){\r\n                    password = in_password.getText();\r\n                    if(!username.isBlank()){\r\n                        btn_insta.setDisable(false);\r\n                    }\r\n                }else{\r\n                    password = &quot;&quot;;\r\n                    btn_insta.setDisable(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n[Error][2]\r\n\r\n```none\r\n&quot;C:\\Program Files\\Java\\jdk-15\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program\r\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\lib\\idea_rt.jar=55468:C:\\Program\r\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\bin&quot; -Dfile.encoding=UTF-8\r\n-classpath C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service-annotations\\1.0.1\\auto-service-annotations-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service\\1.0.1\\auto-service-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\auto-common\\1.2\\auto-common-1.2.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\izcie\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.11.0\\error_prone_annotations-2.11.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec\\4.1.78.Final\\netty-codec-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler\\4.1.78.Final\\netty-handler-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.78.Final\\netty-transport-native-epoll-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.78.Final\\netty-transport-native-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.78.Final\\netty-resolver-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-exporter-logging\\1.15.0\\opentelemetry-exporter-logging-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-metrics\\1.15.0\\opentelemetry-sdk-metrics-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-logs\\1.15.0-alpha\\opentelemetry-sdk-logs-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client-netty-utils\\2.12.3\\async-http-client-netty-utils-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.60.Final\\netty-codec-socks-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.60.Final\\netty-handler-proxy-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.60.Final\\netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.60.Final\\netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.3\\reactive-streams-1.0.3.jar;C:\\Users\\izcie\\.m2\\repository\\com\\typesafe\\netty\\netty-reactive-streams\\2.0.4\\netty-reactive-streams-2.0.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\izcie\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar\r\n-p C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport\\4.1.78.Final\\netty-transport-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\4.3.0\\selenium-remote-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-kqueue\\4.1.78.Final\\netty-transport-classes-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\4.3.0\\selenium-api-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-http\\4.3.0\\selenium-http-4.3.0.jar;F:\\PROJELER\\instagramtool\\target\\classes;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-trace\\1.15.0\\opentelemetry-sdk-trace-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk\\1.15.0\\opentelemetry-sdk-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.78.Final\\netty-transport-native-unix-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.78.Final\\netty-buffer-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\ous\\jtoml\\2.0.0\\jtoml-2.0.0.jar;C:\\Users\\izcie\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.10\\byte-buddy-1.12.10.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-common\\4.1.78.Final\\netty-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chromium-driver\\4.3.0\\selenium-chromium-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-common\\1.15.0\\opentelemetry-sdk-common-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-api\\1.15.0\\opentelemetry-api-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-json\\4.3.0\\selenium-json-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure\\1.15.0-alpha\\opentelemetry-sdk-extension-autoconfigure-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-semconv\\1.15.0-alpha\\opentelemetry-semconv-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\com\\beust\\jcommander\\1.82\\jcommander-1.82.jar;C:\\Users\\izcie\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.78.Final\\netty-codec-http-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\4.3.0\\selenium-chrome-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client\\2.12.3\\async-http-client-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure-spi\\1.15.0\\opentelemetry-sdk-extension-autoconfigure-spi-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\dev\\failsafe\\failsafe\\3.2.4\\failsafe-3.2.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-context\\1.15.0\\opentelemetry-context-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\guava\\31.1-jre\\guava-31.1-jre.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-epoll\\4.1.78.Final\\netty-transport-classes-epoll-4.1.78.Final.jar\r\n-m com.ege.instagramtool/com.ege.instagramtool.HelloApplication Haz 26, 2022 4:46:35 &#214;S javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 18 by JavaFX\r\nruntime of version 15.0.1 SLF4J: Failed to load class\r\n&quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation\r\n(NOP) logger implementation SLF4J: See\r\nhttp://www.slf4j.org/codes.html#StaticLoggerBinder for further\r\ndetails. Starting ChromeDriver 102.0.5005.61\r\n(0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819})\r\non port 59087 Only local connections are allowed. Please see\r\nhttps://chromedriver.chromium.org/security-considerations for\r\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\r\nsuccessfully. Haz 26, 2022 4:46:36 &#214;S\r\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO:\r\nDetected upstream dialect: W3C Exception in Application start method\r\njava.lang.reflect.InvocationTargetException \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start\r\nmethod \tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) Caused by:\r\njavafx.fxml.LoadException: \r\n/F:/PROJELER/instagramtool/target/classes/com/ege/instagramtool/hello-view.fxml\r\n\r\n\tat\r\njavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517) \tat\r\ncom.ege.instagramtool/com.ege.instagramtool.HelloApplication.start(HelloApplication.java:14)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat\r\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\tat\r\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat\r\njavafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat\r\njavafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\r\nMethod) \tat\r\njavafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more Caused by: java.lang.reflect.InvocationTargetException \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\nMethod) \tat\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\ncom.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76) \tat\r\njdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) \tat\r\njavafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat\r\njavafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\r\n\t... 12 more Caused by: java.util.ServiceConfigurationError:\r\norg.openqa.selenium.devtools.CdpInfo: module\r\norg.seleniumhq.selenium.remote_driver does not declare `uses` \tat\r\njava.base/java.util.ServiceLoader.fail(ServiceLoader.java:591) \tat\r\njava.base/java.util.ServiceLoader.checkCaller(ServiceLoader.java:577)\r\n\tat java.base/java.util.ServiceLoader.&lt;init&gt;(ServiceLoader.java:506)\r\n\tat java.base/java.util.ServiceLoader.load(ServiceLoader.java:1648)\r\n\tat\r\norg.seleniumhq.selenium.remote_driver/org.openqa.selenium.devtools.CdpVersionFinder.&lt;init&gt;(CdpVersionFinder.java:44)\r\n\tat\r\norg.seleniumhq.selenium.chromium_driver/org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:118)\r\n\tat\r\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat\r\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat\r\ncom.ege.instagramtool/com.ege.instagramtool.HelloController.initialize(HelloController.java:39)\r\n\t... 23 more Exception running application\r\ncom.ege.instagramtool.HelloApplication\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n  [2]: https://i.stack.imgur.com/vbcHr.png","title":"error org.openqa.selenium.devtools.CdpInfo: module org.seleniumhq.selenium.remote_driver does not declare `uses`","body":"<p>I wanted to create a JavaFX application that uses Selenium for web scraping, but it didn't go well.</p>\n<p>I can't find how to solve this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.openqa.selenium.devtools.CdpInfo: module\norg.seleniumhq.selenium.remote_driver does not declare `uses`\n</code></pre>\n<p>(Full project: <a href=\"https://github.com/Ege-BULUT/BrokenApp\" rel=\"nofollow noreferrer\">https://github.com/Ege-BULUT/BrokenApp</a>)</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ege&lt;/groupId&gt;\n    &lt;artifactId&gt;instagramtool&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;instagramtool&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;15.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;15.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;15&lt;/source&gt;\n                    &lt;target&gt;15&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.ege.instagramtool/com.ege.instagramtool.HelloApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>HelloApplication.java</strong></p>\n<pre><code>package com.ege.instagramtool;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 600, 400);\n        stage.setTitle(&quot;Hi stalker!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><strong>HelloController.java</strong></p>\n<pre><code>package com.ege.instagramtool;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class HelloController {\n\n    private String username = &quot;&quot;, password = &quot;&quot;, url = &quot;&quot;;\n    private WebDriver browser;\n\n    @FXML\n    private TextField in_username, in_password, in_url;\n    @FXML\n    private Button btn_insta, btn_search;\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    void onInstaBtnClick(ActionEvent event) {\n        browser.get(&quot;https://www.instagram.com/&quot;);\n    }\n\n    @FXML\n    void onSearchBtnClick(ActionEvent event) {\n\n    }\n\n    @FXML\n    public void initialize() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;F:/PROJELER/WebScraping/ChromeDrivers/chromedriver_102.exe&quot;);\n        browser = new ChromeDriver();\n\n        in_url.setDisable(true);\n        btn_insta.setDisable(true);\n        btn_search.setDisable(true);\n\n        in_username.textProperty().addListener((observable, oldText, newText)-&gt;{\n            if(in_username.getText().length()&gt;0){\n                username = in_username.getText();\n                if(!password.isBlank()){\n                    btn_insta.setDisable(false);\n                }\n            }else{\n                username = &quot;&quot;;\n                btn_insta.setDisable(true);\n            }\n        });\n\n        in_password.textProperty().addListener((observable, oldText, newText)-&gt;{\n            if(in_password.getText().length()&gt;0){\n                password = in_password.getText();\n                if(!username.isBlank()){\n                    btn_insta.setDisable(false);\n                }\n            }else{\n                password = &quot;&quot;;\n                btn_insta.setDisable(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbcHr.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-15\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\lib\\idea_rt.jar=55468:C:\\Program\nFiles\\JetBrains\\IntelliJ IDEA 2020.3\\bin&quot; -Dfile.encoding=UTF-8\n-classpath C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service-annotations\\1.0.1\\auto-service-annotations-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\service\\auto-service\\1.0.1\\auto-service-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\auto\\auto-common\\1.2\\auto-common-1.2.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\failureaccess\\1.0.1\\failureaccess-1.0.1.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\listenablefuture\\9999.0-empty-to-avoid-conflict-with-guava\\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar;C:\\Users\\izcie\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.12.0\\checker-qual-3.12.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\errorprone\\error_prone_annotations\\2.11.0\\error_prone_annotations-2.11.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\j2objc\\j2objc-annotations\\1.3\\j2objc-annotations-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec\\4.1.78.Final\\netty-codec-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler\\4.1.78.Final\\netty-handler-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.78.Final\\netty-transport-native-epoll-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.78.Final\\netty-transport-native-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-resolver\\4.1.78.Final\\netty-resolver-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-exporter-logging\\1.15.0\\opentelemetry-exporter-logging-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-metrics\\1.15.0\\opentelemetry-sdk-metrics-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-logs\\1.15.0-alpha\\opentelemetry-sdk-logs-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client-netty-utils\\2.12.3\\async-http-client-netty-utils-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-socks\\4.1.60.Final\\netty-codec-socks-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-handler-proxy\\4.1.60.Final\\netty-handler-proxy-4.1.60.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-epoll\\4.1.60.Final\\netty-transport-native-epoll-4.1.60.Final-linux-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-kqueue\\4.1.60.Final\\netty-transport-native-kqueue-4.1.60.Final-osx-x86_64.jar;C:\\Users\\izcie\\.m2\\repository\\org\\reactivestreams\\reactive-streams\\1.0.3\\reactive-streams-1.0.3.jar;C:\\Users\\izcie\\.m2\\repository\\com\\typesafe\\netty\\netty-reactive-streams\\2.0.4\\netty-reactive-streams-2.0.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.30\\slf4j-api-1.7.30.jar;C:\\Users\\izcie\\.m2\\repository\\com\\sun\\activation\\jakarta.activation\\1.2.2\\jakarta.activation-1.2.2.jar\n-p C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport\\4.1.78.Final\\netty-transport-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-remote-driver\\4.3.0\\selenium-remote-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-kqueue\\4.1.78.Final\\netty-transport-classes-kqueue-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-api\\4.3.0\\selenium-api-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-http\\4.3.0\\selenium-http-4.3.0.jar;F:\\PROJELER\\instagramtool\\target\\classes;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-trace\\1.15.0\\opentelemetry-sdk-trace-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\apache\\commons\\commons-exec\\1.3\\commons-exec-1.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk\\1.15.0\\opentelemetry-sdk-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-native-unix-common\\4.1.78.Final\\netty-transport-native-unix-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-controls\\15.0.1\\javafx-controls-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-buffer\\4.1.78.Final\\netty-buffer-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\io\\ous\\jtoml\\2.0.0\\jtoml-2.0.0.jar;C:\\Users\\izcie\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.10\\byte-buddy-1.12.10.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-common\\4.1.78.Final\\netty-common-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chromium-driver\\4.3.0\\selenium-chromium-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-common\\1.15.0\\opentelemetry-sdk-common-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-fxml\\15.0.1\\javafx-fxml-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-api\\1.15.0\\opentelemetry-api-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-base\\15.0.1\\javafx-base-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-json\\4.3.0\\selenium-json-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure\\1.15.0-alpha\\opentelemetry-sdk-extension-autoconfigure-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-semconv\\1.15.0-alpha\\opentelemetry-semconv-1.15.0-alpha.jar;C:\\Users\\izcie\\.m2\\repository\\com\\beust\\jcommander\\1.82\\jcommander-1.82.jar;C:\\Users\\izcie\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-codec-http\\4.1.78.Final\\netty-codec-http-4.1.78.Final.jar;C:\\Users\\izcie\\.m2\\repository\\org\\seleniumhq\\selenium\\selenium-chrome-driver\\4.3.0\\selenium-chrome-driver-4.3.0.jar;C:\\Users\\izcie\\.m2\\repository\\org\\asynchttpclient\\async-http-client\\2.12.3\\async-http-client-2.12.3.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-sdk-extension-autoconfigure-spi\\1.15.0\\opentelemetry-sdk-extension-autoconfigure-spi-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\dev\\failsafe\\failsafe\\3.2.4\\failsafe-3.2.4.jar;C:\\Users\\izcie\\.m2\\repository\\org\\openjfx\\javafx-graphics\\15.0.1\\javafx-graphics-15.0.1-win.jar;C:\\Users\\izcie\\.m2\\repository\\io\\opentelemetry\\opentelemetry-context\\1.15.0\\opentelemetry-context-1.15.0.jar;C:\\Users\\izcie\\.m2\\repository\\com\\google\\guava\\guava\\31.1-jre\\guava-31.1-jre.jar;C:\\Users\\izcie\\.m2\\repository\\io\\netty\\netty-transport-classes-epoll\\4.1.78.Final\\netty-transport-classes-epoll-4.1.78.Final.jar\n-m com.ege.instagramtool/com.ege.instagramtool.HelloApplication Haz 26, 2022 4:46:35 S javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 18 by JavaFX\nruntime of version 15.0.1 SLF4J: Failed to load class\n&quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation\n(NOP) logger implementation SLF4J: See\nhttp://www.slf4j.org/codes.html#StaticLoggerBinder for further\ndetails. Starting ChromeDriver 102.0.5005.61\n(0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819})\non port 59087 Only local connections are allowed. Please see\nhttps://chromedriver.chromium.org/security-considerations for\nsuggestions on keeping ChromeDriver safe. ChromeDriver was started\nsuccessfully. Haz 26, 2022 4:46:36 S\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO:\nDetected upstream dialect: W3C Exception in Application start method\njava.lang.reflect.InvocationTargetException     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start\nmethod  at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:832) Caused by:\njavafx.fxml.LoadException: \n/F:/PROJELER/instagramtool/target/classes/com/ege/instagramtool/hello-view.fxml\n\n    at\njavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2677)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2517)    at\ncom.ege.instagramtool/com.ege.instagramtool.HelloApplication.start(HelloApplication.java:14)\n    at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at\njavafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at\njavafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\nMethod)     at\njavafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more Caused by: java.lang.reflect.InvocationTargetException   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)     at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\ncom.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)    at\njdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)   at\njavafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at\njavafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2673)\n    ... 12 more Caused by: java.util.ServiceConfigurationError:\norg.openqa.selenium.devtools.CdpInfo: module\norg.seleniumhq.selenium.remote_driver does not declare `uses`   at\njava.base/java.util.ServiceLoader.fail(ServiceLoader.java:591)  at\njava.base/java.util.ServiceLoader.checkCaller(ServiceLoader.java:577)\n    at java.base/java.util.ServiceLoader.&lt;init&gt;(ServiceLoader.java:506)\n    at java.base/java.util.ServiceLoader.load(ServiceLoader.java:1648)\n    at\norg.seleniumhq.selenium.remote_driver/org.openqa.selenium.devtools.CdpVersionFinder.&lt;init&gt;(CdpVersionFinder.java:44)\n    at\norg.seleniumhq.selenium.chromium_driver/org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:118)\n    at\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at\norg.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at\ncom.ege.instagramtool/com.ege.instagramtool.HelloController.initialize(HelloController.java:39)\n    ... 23 more Exception running application\ncom.ege.instagramtool.HelloApplication\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":26379240,"reputation":11,"user_id":22565582,"display_name":"Ludo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701787192,"creation_date":1701787192,"question_id":77607060,"body_markdown":"I am sending my remaining request as follows: \r\n\r\n```\r\nString url = getSendBaseUrl() + &quot;/path1/?jsonFile={jsonFile}&quot;;\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.add(&quot;creationDate&quot;, &quot;05.06.2023&quot;);\r\n\r\n            Map&lt;String, String&gt; urlParameters = new HashMap&lt;&gt;();\r\n            String jsonFileString= JSON.toJSONString(message.getJson());\r\n            urlParameters.put(&quot;jsonFile&quot;, jsonFileString);\r\n\r\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n\r\n            RestTemplate restTemplate = new RestTemplate();\r\n\r\n            ResponseEntity&lt;Map&gt; responseEntity = restTemplate.postForEntity(url, requestEntity, Map.class, urlParameters);\r\n```\r\n\r\n\r\nI can display the header and body of the ResponseEntity, but not the query parameters. \r\nHow can I display the entire URL here? ","title":"Java Get URL with Parameters from Springboot RestTemplate","body":"<p>I am sending my remaining request as follows:</p>\n<pre><code>String url = getSendBaseUrl() + &quot;/path1/?jsonFile={jsonFile}&quot;;\n\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_JSON);\n            headers.add(&quot;creationDate&quot;, &quot;05.06.2023&quot;);\n\n            Map&lt;String, String&gt; urlParameters = new HashMap&lt;&gt;();\n            String jsonFileString= JSON.toJSONString(message.getJson());\n            urlParameters.put(&quot;jsonFile&quot;, jsonFileString);\n\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n\n            RestTemplate restTemplate = new RestTemplate();\n\n            ResponseEntity&lt;Map&gt; responseEntity = restTemplate.postForEntity(url, requestEntity, Map.class, urlParameters);\n</code></pre>\n<p>I can display the header and body of the ResponseEntity, but not the query parameters.\nHow can I display the entire URL here?</p>\n"},{"tags":["java","selenium-webdriver","popup"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701802109,"post_id":77607008,"comment_id":136819717,"body_markdown":"You should include the markup (right-click on the popup, and choose, &quot;Inspect&quot;, copy the markup shown there... it&#39;s probably a DIV) and the code you&#39;ve tried.","body":"You should include the markup (right-click on the popup, and choose, &quot;Inspect&quot;, copy the markup shown there... it&#39;s probably a DIV) and the code you&#39;ve tried."},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1701805443,"post_id":77607008,"comment_id":136820227,"body_markdown":"Its a kind of a windows form, there are many buttons and texts and even a table in the popup. None of them is found on Chrome. On Explorer it works. Even the iframe which wraps the whole popup is not found.","body":"Its a kind of a windows form, there are many buttons and texts and even a table in the popup. None of them is found on Chrome. On Explorer it works. Even the iframe which wraps the whole popup is not found."}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701786744,"creation_date":1701786744,"question_id":77607008,"body_markdown":"I&#39;m trying to find elements and click on them in my company&#39;s website. It happens while there is an opened popup, and a second popup is opened over the first one.\r\nIt works on Explorer browser, where I implemented a way to identify if there is a new window handle opens and switch to it, and when I&#39;m done with the popup, I switch back to previous window.\r\nHowever, recently we moved to Chrome, and my tests fail when there is a popup within popup.\r\nI also noticed that on Chrome, I don&#39;t need to identify window handles, because when I open popup, I&#39;m able to identify elements, and there is only the main window handle available.\r\nBut on this scenario, where I have a second popup on I can&#39;t reach the elements on it, nor frames.\r\nWhat should I do? Tried everything possible.\r\nAnother thing - the popups can be dragged along the website, except for the first one, when there is a second one on.\r\n\r\n\r\n","title":"Can&#39;t find elements on second popup using Chrome","body":"<p>I'm trying to find elements and click on them in my company's website. It happens while there is an opened popup, and a second popup is opened over the first one.\nIt works on Explorer browser, where I implemented a way to identify if there is a new window handle opens and switch to it, and when I'm done with the popup, I switch back to previous window.\nHowever, recently we moved to Chrome, and my tests fail when there is a popup within popup.\nI also noticed that on Chrome, I don't need to identify window handles, because when I open popup, I'm able to identify elements, and there is only the main window handle available.\nBut on this scenario, where I have a second popup on I can't reach the elements on it, nor frames.\nWhat should I do? Tried everything possible.\nAnother thing - the popups can be dragged along the website, except for the first one, when there is a second one on.</p>\n"},{"tags":["java","aws-lambda","aws-api-gateway","aws-cdk"],"comments":[{"owner":{"account_id":21554489,"reputation":366,"user_id":15890006,"display_name":"Stark"},"score":0,"creation_date":1701438584,"post_id":76583718,"comment_id":136778870,"body_markdown":"Have you managed to improve it?","body":"Have you managed to improve it?"},{"owner":{"account_id":28920753,"reputation":21,"user_id":22151766,"display_name":"cbjork"},"score":0,"creation_date":1701439903,"post_id":76583718,"comment_id":136779123,"body_markdown":"No, SnapStart is for sure enabled and I am still facing 2s-3s cold start times for the function.","body":"No, SnapStart is for sure enabled and I am still facing 2s-3s cold start times for the function."}],"owner":{"account_id":28920753,"reputation":21,"user_id":22151766,"display_name":"cbjork"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701786615,"creation_date":1688062998,"question_id":76583718,"body_markdown":"I am trying to orchestrate Lambda&#39;s using the Java 11 (or 17) AWS CDK. Lambda has serious issues with JVM compilation and cold starts, so I have been looking into using the newer SnapStart feature offered by AWS. The CDK pushes the CloudFormation stack with SnapStart components included, a new version of the Lambda, and an Alias for the version. These are all necessary requirements for SnapStart.\r\n\r\n**CDK Lambda Creation w/ SnapStart Config &amp; Alias**\r\n\r\n```\r\n       //Lambda Function\r\n        String lambdaHandlerName = &quot;com.handlers.lambdaHandler::handleRequest&quot;;\r\n        IRole role5 = Role.fromRoleName(this, &quot;Lambda&quot;, &quot;LambdaRole&quot;);\r\n\r\n        Function lambdaFunction = new Function(this, &quot;lambdaFunction&quot;, getLambdaFunctionProps(lambdaEnvMap, lambdaHandlerName, role5, &quot;lambdaHandler&quot;));\r\n        dynamoTable.grantReadData(lambdaFunction);\r\n\r\n        //SnapStart Config\r\n        lambdaFunction.getCurrentVersion().addAlias(&quot;snap&quot;, AliasOptions.builder()\r\n                .description(&quot;Alias version for snap resources&quot;)\r\n                .build());\r\n        CfnFunction lambdaCfnFunction = (CfnFunction) lambdaCfnFunction.getNode().getDefaultChild();\r\n        lambdaCfnFunction.setSnapStart(CfnFunction.SnapStartProperty.builder()\r\n                .applyOn(&quot;PublishedVersions&quot;)\r\n                .build());\r\n```\r\n\r\nWithin the AWS Console itself, it appears SnapStart is enabled for the base function set to &quot;PublishedVersions&quot;.\r\n\r\n[SnapStart enabled on base function](https://i.stack.imgur.com/S1r0t.png)\r\n\r\n\r\nAnd when I look at my most recently published version, I find that it too has SnapStart enabled.\r\n\r\n[SnapStart enabled on Version](https://i.stack.imgur.com/nU1Ao.png)\r\n\r\nBut when I invoke my Lambda function through API Gateway (which is configured to the correct version of Lambda), SnapStart does not seem to be working for the function and my cold start times are still ~2s.\r\n\r\nI have also tried implementing runtime hooks, suggested by AWS for SnapStart to the Lambda function handler itself:\r\n\r\n**Handler Runtime Hooks for SnapStart**\r\n\r\n```\r\n   public GetAllQuotesHandler() {\r\n        Core.getGlobalContext().register(this);\r\n    }\r\n\r\n    @Override\r\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context) {\r\n      ...\r\n    }\r\n\r\n    \r\n    @Override\r\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        this.dynamoDb.close();\r\n        System.out.println(&quot;Before&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\r\n        System.out.println(&quot;After&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am not sure what is wrong with my configuration, any advice?\r\n\r\nI am expecting AWS Lambda to engage SnapStart and invoke my Lambda function without cold starts.","title":"AWS SnapStart For Java Lambda Using AWS CDK","body":"<p>I am trying to orchestrate Lambda's using the Java 11 (or 17) AWS CDK. Lambda has serious issues with JVM compilation and cold starts, so I have been looking into using the newer SnapStart feature offered by AWS. The CDK pushes the CloudFormation stack with SnapStart components included, a new version of the Lambda, and an Alias for the version. These are all necessary requirements for SnapStart.</p>\n<p><strong>CDK Lambda Creation w/ SnapStart Config &amp; Alias</strong></p>\n<pre><code>       //Lambda Function\n        String lambdaHandlerName = &quot;com.handlers.lambdaHandler::handleRequest&quot;;\n        IRole role5 = Role.fromRoleName(this, &quot;Lambda&quot;, &quot;LambdaRole&quot;);\n\n        Function lambdaFunction = new Function(this, &quot;lambdaFunction&quot;, getLambdaFunctionProps(lambdaEnvMap, lambdaHandlerName, role5, &quot;lambdaHandler&quot;));\n        dynamoTable.grantReadData(lambdaFunction);\n\n        //SnapStart Config\n        lambdaFunction.getCurrentVersion().addAlias(&quot;snap&quot;, AliasOptions.builder()\n                .description(&quot;Alias version for snap resources&quot;)\n                .build());\n        CfnFunction lambdaCfnFunction = (CfnFunction) lambdaCfnFunction.getNode().getDefaultChild();\n        lambdaCfnFunction.setSnapStart(CfnFunction.SnapStartProperty.builder()\n                .applyOn(&quot;PublishedVersions&quot;)\n                .build());\n</code></pre>\n<p>Within the AWS Console itself, it appears SnapStart is enabled for the base function set to &quot;PublishedVersions&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/S1r0t.png\" rel=\"nofollow noreferrer\">SnapStart enabled on base function</a></p>\n<p>And when I look at my most recently published version, I find that it too has SnapStart enabled.</p>\n<p><a href=\"https://i.stack.imgur.com/nU1Ao.png\" rel=\"nofollow noreferrer\">SnapStart enabled on Version</a></p>\n<p>But when I invoke my Lambda function through API Gateway (which is configured to the correct version of Lambda), SnapStart does not seem to be working for the function and my cold start times are still ~2s.</p>\n<p>I have also tried implementing runtime hooks, suggested by AWS for SnapStart to the Lambda function handler itself:</p>\n<p><strong>Handler Runtime Hooks for SnapStart</strong></p>\n<pre><code>   public GetAllQuotesHandler() {\n        Core.getGlobalContext().register(this);\n    }\n\n    @Override\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent event, Context context) {\n      ...\n    }\n\n    \n    @Override\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        this.dynamoDb.close();\n        System.out.println(&quot;Before&quot;);\n    }\n\n    @Override\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) throws Exception {\n        System.out.println(&quot;After&quot;);\n    }\n}\n</code></pre>\n<p>I am not sure what is wrong with my configuration, any advice?</p>\n<p>I am expecting AWS Lambda to engage SnapStart and invoke my Lambda function without cold starts.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":10160160,"reputation":2223,"user_id":7503887,"display_name":"phentnil"},"score":0,"creation_date":1646936773,"post_id":71427323,"comment_id":126253209,"body_markdown":"If you resolved your own problem, please don&#39;t edit your question with the solution. Take the solution information and create an answer so that others may see how they can resolve the same problem. Then mark your answer as accepted.","body":"If you resolved your own problem, please don&#39;t edit your question with the solution. Take the solution information and create an answer so that others may see how they can resolve the same problem. Then mark your answer as accepted."},{"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"score":1,"creation_date":1646981521,"post_id":71427323,"comment_id":126262381,"body_markdown":"@phentnil Thank you for the tip. As you can see, I&#39;m new here and I didn&#39;t no that.","body":"@phentnil Thank you for the tip. As you can see, I&#39;m new here and I didn&#39;t no that."}],"answers":[{"comments":[{"owner":{"account_id":2674308,"reputation":60,"user_id":2311042,"display_name":"Gholamalih"},"score":0,"creation_date":1655277343,"post_id":71434608,"comment_id":128291544,"body_markdown":"it didn&#39;t solve my problem.","body":"it didn&#39;t solve my problem."}],"tags":[],"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1646981277,"creation_date":1646981277,"answer_id":71434608,"question_id":71427323,"body_markdown":"**Solved:**\r\n\r\nAfter trying some other solutions I figured out that I didn&#39;t delete proxies in ```gradle-wrapper.properties```. That was preventing my project from downloading dependencies.","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p><strong>Solved:</strong></p>\n<p>After trying some other solutions I figured out that I didn't delete proxies in <code>gradle-wrapper.properties</code>. That was preventing my project from downloading dependencies.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648361193,"post_id":71633928,"comment_id":126601676,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71633928/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23438330,"reputation":1,"user_id":17496148,"display_name":"Bhagyashri Tamrakar "},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1648359111,"creation_date":1648359111,"answer_id":71633928,"question_id":71427323,"body_markdown":"go tp setting -&gt; then Plugins -&gt; in plugins -&gt; then click on three dot -&gt; then Enable all downloaded plugins\r\n\r\nTry this it will definitely work.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bt4kt.jpg","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>go tp setting -&gt; then Plugins -&gt; in plugins -&gt; then click on three dot -&gt; then Enable all downloaded plugins</p>\n<p>Try this it will definitely work.\n<a href=\"https://i.stack.imgur.com/Bt4kt.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"display_name":"user14349738"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649339524,"creation_date":1649339524,"answer_id":71783439,"question_id":71427323,"body_markdown":"I faced the same problem when I intentionally updated to gradle 7.1.3 today, I just restarted the android studio and changed the gradle version to 7.1.2 and it worked. ","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>I faced the same problem when I intentionally updated to gradle 7.1.3 today, I just restarted the android studio and changed the gradle version to 7.1.2 and it worked.</p>\n"},{"comments":[{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":0,"creation_date":1665087525,"post_id":73926446,"comment_id":130623903,"body_markdown":"Please use proper formatting for images.","body":"Please use proper formatting for images."},{"owner":{"account_id":918595,"reputation":1764,"user_id":950814,"accept_rate":60,"display_name":"behelit"},"score":1,"creation_date":1684129549,"post_id":73926446,"comment_id":134465701,"body_markdown":"This didn&#39;t work in my case","body":"This didn&#39;t work in my case"}],"tags":[],"owner":{"account_id":26507553,"reputation":29,"user_id":20143467,"display_name":"Yahya Rh"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685131963,"creation_date":1664719436,"answer_id":73926446,"question_id":71427323,"body_markdown":"That happen with the newer gradle versions, Go to Settings -&gt; Plugins -&gt; settings -&gt; HTTP proxy settings then switch it to (auto detect proxy settings) then save and sync the project, that will solve the problem.\r\n\r\nCheck the images below for quick help\r\n\r\n\r\n  ![](https://i.stack.imgur.com/BSCHA.jpg)\r\n\r\n  ![](https://i.stack.imgur.com/g4CEO.png)","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>That happen with the newer gradle versions, Go to Settings -&gt; Plugins -&gt; settings -&gt; HTTP proxy settings then switch it to (auto detect proxy settings) then save and sync the project, that will solve the problem.</p>\n<p>Check the images below for quick help</p>\n<p><img src=\"https://i.stack.imgur.com/BSCHA.jpg\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/g4CEO.png\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":6963114,"reputation":151,"user_id":5341991,"display_name":"Ali Najaphi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667372881,"creation_date":1667372881,"answer_id":74285500,"question_id":71427323,"body_markdown":"Disconnect the VPN, close and then open Android Studio\r\nIf you are in Iran or the Netherlands, be sure to use the American or British VPN","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>Disconnect the VPN, close and then open Android Studio\nIf you are in Iran or the Netherlands, be sure to use the American or British VPN</p>\n"},{"tags":[],"owner":{"account_id":5616760,"reputation":421,"user_id":4447803,"accept_rate":67,"display_name":"Android Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680109067,"creation_date":1680109067,"answer_id":75880086,"question_id":71427323,"body_markdown":"First update the AndroidStudio, SDK and Plugins to latest.\r\n\r\nthen In Gradle.properties(**Global properties**) disable/Comment the below mentioned code. \r\n\r\n    systemProp.http.proxyHost=192.3.2.1\r\n    systemProp.http.proxyPort=8088\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n    }\r\n\r\nfinally sync project with gradle files. Issue will be fixed.\r\n","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>First update the AndroidStudio, SDK and Plugins to latest.</p>\n<p>then In Gradle.properties(<strong>Global properties</strong>) disable/Comment the below mentioned code.</p>\n<pre><code>systemProp.http.proxyHost=192.3.2.1\nsystemProp.http.proxyPort=8088\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n<p>finally sync project with gradle files. Issue will be fixed.</p>\n"},{"tags":[],"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693915138,"creation_date":1693915138,"answer_id":77044314,"question_id":71427323,"body_markdown":"This fixed it for me as my company thinks it&#39;s cute to use their own certificates as a MitM.\r\n\r\nAfter adding the certificate in *File - Settings - Tools - Server Certificates*, add something similar to this in your `gradle.properties`:\r\n\r\n    -Djavax.net.ssl.trustStore=&quot;/path/to/android-studio/jre/lib/security/cacerts&quot; -Djavax.net.ssl.trustStorePassword=&quot;yourPassHere&quot;","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>This fixed it for me as my company thinks it's cute to use their own certificates as a MitM.</p>\n<p>After adding the certificate in <em>File - Settings - Tools - Server Certificates</em>, add something similar to this in your <code>gradle.properties</code>:</p>\n<pre><code>-Djavax.net.ssl.trustStore=&quot;/path/to/android-studio/jre/lib/security/cacerts&quot; -Djavax.net.ssl.trustStorePassword=&quot;yourPassHere&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26502980,"reputation":31,"user_id":20139605,"display_name":"Mahmoud Ibrahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701786533,"creation_date":1701786533,"answer_id":77606987,"question_id":71427323,"body_markdown":"The problem happens because there&#39;s something wrong with the downloading. You may check your internet connection, your proxy settings, the VPN you&#39;re using, or disable &#39;offline mode&#39; in Gradle -which was the case for me- and that should work for you.\r\n\r\nHere&#39;s the solution for my case:\r\n[![instructions to disable gradle offline mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0XF3s.png\r\n\r\n\r\n\r\n 1. Open the gradle menu at the top right (number 1 in the image).\r\n 2. Disable offline mode (just let the button be the same as the image).\r\n\r\nThis is NOT a step, it&#39;s just to differentiate the enabled button from the disabled one. The button indicated by number 3 in the image is enabled, while the one indicated by number 2 is disabled.\r\n\r\nThis might not be your case, so make sure you have a proper internet connection and there&#39;s nothing blocking it. \r\n\r\nI hope this helps you.","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>The problem happens because there's something wrong with the downloading. You may check your internet connection, your proxy settings, the VPN you're using, or disable 'offline mode' in Gradle -which was the case for me- and that should work for you.</p>\n<p>Here's the solution for my case:\n<a href=\"https://i.stack.imgur.com/0XF3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0XF3s.png\" alt=\"instructions to disable gradle offline mode\" /></a></p>\n<ol>\n<li>Open the gradle menu at the top right (number 1 in the image).</li>\n<li>Disable offline mode (just let the button be the same as the image).</li>\n</ol>\n<p>This is NOT a step, it's just to differentiate the enabled button from the disabled one. The button indicated by number 3 in the image is enabled, while the one indicated by number 2 is disabled.</p>\n<p>This might not be your case, so make sure you have a proper internet connection and there's nothing blocking it.</p>\n<p>I hope this helps you.</p>\n"}],"owner":{"account_id":11332735,"reputation":187,"user_id":14885209,"display_name":"saeid rasouli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24324,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":71434608,"answer_count":8,"score":9,"last_activity_date":1701786533,"creation_date":1646928720,"question_id":71427323,"body_markdown":"I have upgraded my Android Studio and after that I&#39;m facing this error:\r\n```\r\nGradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:\r\n\t\t\t\t- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n\t\t\t\t- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.1.2&#39;)\r\n\t\t\t\tSearched in the following repositories:\r\n\t\t\t\tGradle Central Plugin Repository\r\n\t\t\t\tGoogle\r\n\t\t\t\tMavenRepo (24 s 586 ms)\r\n```\r\n\r\nI have upgraded JDK to 11 but it didn&#39;t fix the error. What else can I do?","title":"Gradle sync failed: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.2&#39;, apply: false] was not found in any of the following sources:","body":"<p>I have upgraded my Android Studio and after that I'm facing this error:</p>\n<pre><code>Gradle sync failed: Plugin [id: 'com.android.application', version: '7.1.2', apply: false] was not found in any of the following sources:\n                - Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n                - Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.1.2')\n                Searched in the following repositories:\n                Gradle Central Plugin Repository\n                Google\n                MavenRepo (24 s 586 ms)\n</code></pre>\n<p>I have upgraded JDK to 11 but it didn't fix the error. What else can I do?</p>\n"},{"tags":["java","first-class-functions"],"comments":[{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":1,"creation_date":1299139386,"post_id":5178068,"comment_id":5817292,"body_markdown":"http://en.wikipedia.org/wiki/First-class_function","body":"<a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/First-class_function</a>"},{"owner":{"account_id":77937,"reputation":25992,"user_id":222159,"accept_rate":94,"display_name":"Adnan"},"score":0,"creation_date":1299139482,"post_id":5178068,"comment_id":5817314,"body_markdown":"take a look at: http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c","body":"take a look at: <a href=\"http://stackoverflow.com/questions/1599176/what-are-first-class-objects-in-java-and-c\" title=\"what are first class objects in java and c\">stackoverflow.com/questions/1599176/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299139465,"creation_date":1299139465,"answer_id":5178096,"question_id":5178068,"body_markdown":"The [Wikipedia definition][1] is pretty good&amp;mdash;it&#39;s a function that can be passed around like any other piece of data. Java does _not_ support them. The closest it has is `Runnable` and `Callable` objects.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow\">Wikipedia definition</a> is pretty good&mdash;it's a function that can be passed around like any other piece of data. Java does <em>not</em> support them. The closest it has is <code>Runnable</code> and <code>Callable</code> objects.</p>\n"},{"comments":[{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":0,"creation_date":1299139622,"post_id":5178101,"comment_id":5817340,"body_markdown":"in C++ you can using template function objects:  http://www.boost.org/doc/libs/1_46_0/libs/spirit/phoenix/doc/html/index.html","body":"in C++ you can using template function objects:  <a href=\"http://www.boost.org/doc/libs/1_46_0/libs/spirit/phoenix/doc/html/index.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_46_0/libs/spirit/phoenix/doc/html/&hellip;</a>"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":1,"creation_date":1299139679,"post_id":5178101,"comment_id":5817349,"body_markdown":"They&#39;re not functions, they&#39;re function objects. They behave similarly, but they&#39;re not lambdas like in C# or D, and making them is a *huge* pain compared to languages that have lambdas, since you have to declare an entirely new class, etc.","body":"They&#39;re not functions, they&#39;re function objects. They behave similarly, but they&#39;re not lambdas like in C# or D, and making them is a <i>huge</i> pain compared to languages that have lambdas, since you have to declare an entirely new class, etc."},{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":0,"creation_date":1299139876,"post_id":5178101,"comment_id":5817385,"body_markdown":"there isnt a difference between a stateless functor and function.  do look at phoenix, you&#39;ll be surprised","body":"there isnt a difference between a stateless functor and function.  do look at phoenix, you&#39;ll be surprised"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1299140070,"post_id":5178101,"comment_id":5817417,"body_markdown":"@aaa: Yes there is, because your methods explicitly have to accept a different data type than a normal function pointer. By contrast, in C#, you can just always accept a `Func&lt;int, int&gt;`, regardless of whether that function is a lambda or a regular function -- function pointers and lambdas are represented the same way.","body":"@aaa: Yes there is, because your methods explicitly have to accept a different data type than a normal function pointer. By contrast, in C#, you can just always accept a <code>Func&lt;int, int&gt;</code>, regardless of whether that function is a lambda or a regular function -- function pointers and lambdas are represented the same way."},{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":0,"creation_date":1299140236,"post_id":5178101,"comment_id":5817436,"body_markdown":"I dont follow you, explicitly have to accept a different data type?","body":"I dont follow you, explicitly have to accept a different data type?"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1299140323,"post_id":5178101,"comment_id":5817453,"body_markdown":"@aaa: Yeah. How would you do the exact equivalent of what I did in my in C++? If you write it (try [here](http://www.ideone.com/)), I&#39;ll show you what I mean.","body":"@aaa: Yeah. How would you do the exact equivalent of what I did in my in C++? If you write it (try <a href=\"http://www.ideone.com/\" rel=\"nofollow noreferrer\">here</a>), I&#39;ll show you what I mean."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1299141081,"post_id":5178101,"comment_id":5817574,"body_markdown":"@aaa: Exactly my point. The return type is `BOOST_TYPEOF(phoenix::_1 + phoenix::val(int()))`, not `int (*)(int)`, so you can&#39;t interchange it with a regular function.","body":"@aaa: Exactly my point. The return type is <code>BOOST_TYPEOF(phoenix::_1 + phoenix::val(int()))</code>, not <code>int (*)(int)</code>, so you can&#39;t interchange it with a regular function."},{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":0,"creation_date":1299141306,"post_id":5178101,"comment_id":5817599,"body_markdown":"it&#39;s similar to python duck typing in a way - its still a function albeit &quot;unusual&quot; one.  one can argue functor isnt pointer but thats just semantics.  If you accept functions as templates - there isnt difference.","body":"it&#39;s similar to python duck typing in a way - its still a function albeit &quot;unusual&quot; one.  one can argue functor isnt pointer but thats just semantics.  If you accept functions as templates - there isnt difference."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1299141347,"post_id":5178101,"comment_id":5817604,"body_markdown":"@aaa: Semantics means a lot, though... the C++ version is harder to code, a lot harder to understand, and doesn&#39;t receive the same treatment from the language as functions do in other languages.","body":"@aaa: Semantics means a lot, though... the C++ version is harder to code, a lot harder to understand, and doesn&#39;t receive the same treatment from the language as functions do in other languages."},{"owner":{"account_id":71299,"reputation":50515,"user_id":206328,"accept_rate":78,"display_name":"Anycorn"},"score":0,"creation_date":1299141451,"post_id":5178101,"comment_id":5817615,"body_markdown":"i wont argue that - lambda functions arent very easy in c++ - but you can do them.","body":"i wont argue that - lambda functions arent very easy in c++ - but you can do them."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1299141508,"post_id":5178101,"comment_id":5817625,"body_markdown":"@aaa: You can *simulate* them, but they&#39;re not lambdas, but pseudo-lambdas that are harder to work with than lambdas and treated differently by the language and compiler.","body":"@aaa: You can <i>simulate</i> them, but they&#39;re not lambdas, but pseudo-lambdas that are harder to work with than lambdas and treated differently by the language and compiler."},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":0,"creation_date":1356122056,"post_id":5178101,"comment_id":19320502,"body_markdown":"Something I forgot to note: yes, you *can* use tricks like `boost::function` in order to use the same syntax for everything even before C++11. But that isn&#39;t &quot;first-class&quot; anymore, since it&#39;s not a standard part of the C++ language. (C++11 will have `std::function`, which *does* make these first-class.)","body":"Something I forgot to note: yes, you <i>can</i> use tricks like <code>boost::function</code> in order to use the same syntax for everything even before C++11. But that isn&#39;t &quot;first-class&quot; anymore, since it&#39;s not a standard part of the C++ language. (C++11 will have <code>std::function</code>, which <i>does</i> make these first-class.)"},{"owner":{"account_id":302564,"reputation":9052,"user_id":611007,"accept_rate":62,"display_name":"n611x007"},"score":0,"creation_date":1407431446,"post_id":5178101,"comment_id":39222351,"body_markdown":"does `to be passed around` actually cover anything else than passing an object as an argument (to a function/[callable](https://en.wikipedia.org/wiki/Subroutine)), or using it in an assignment (as [right-value](https://en.wikipedia.org/wiki/Value_%28computer_science%29#lrvalue))? if yes, what exactly?","body":"does <code>to be passed around</code> actually cover anything else than passing an object as an argument (to a function/<a href=\"https://en.wikipedia.org/wiki/Subroutine\" rel=\"nofollow noreferrer\">callable</a>), or using it in an assignment (as <a href=\"https://en.wikipedia.org/wiki/Value_%28computer_science%29#lrvalue\" rel=\"nofollow noreferrer\">right-value</a>)? if yes, what exactly?"}],"tags":[],"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"comment_count":13,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1492934732,"creation_date":1299139500,"answer_id":5178101,"question_id":5178068,"body_markdown":"A language that considers procedures to be &quot;first-class&quot; ***allows functions to be passed around just like any other value***.\r\n\r\nLanguages like Java 7 (and earlier) and C &quot;kind of&quot; have this capability: C allows function pointers to be passed around, but you can&#39;t dynamically define a function in those languages and suddenly pass that somewhere else. Java before version 8 can *simulate* this to a certain extent with anonymous classes, but it doesn&#39;t technically have first-class functions.\r\n\r\nOn the other hand, C++, D, C#, Visual Basic .NET, Java 8+, and functional languages (like Scheme and Haskell) *do* allow you to pass around functions like variables. For example, the code below *returns* a function that adds `addend` to its input:\r\n\r\nWritten in D:\r\n\r\n    int delegate(int) makeAdder(int addend) //Returns a function\r\n    {\r\n        return delegate int(int x) //Long way\r\n        {\r\n            return x + addend; //Notice that addend came from _outside_ the function\r\n        };\r\n\r\n        return (int x) { return x + addend; }; //Short way\r\n\r\n        return x =&gt; addend + x; //Super-short way, introduced in D 2.058\r\n    }\r\n\r\nWritten in C#:\r\n\r\n    Func&lt;int, int&gt; MakeAdder(int addend) //Returns a function\r\n    {\r\n        return delegate(int x) //The long way. Note: Return type is implicitly &#39;int&#39;\r\n        {\r\n            return x + addend;\r\n        };\r\n\r\n        return x =&gt; x + addend; //Short way: x &quot;goes to&quot; (x + addend); inferred types\r\n    }\r\n\r\nWritten in C++:\r\n\r\n    #include &lt;functional&gt;\r\n    \r\n    std::function&lt;int(int)&gt; make_adder(int addend)\r\n    {\r\n        return [=](int x)\r\n        {\r\n            return addend + x;\r\n        };\r\n    }\r\n\r\nWritten in Scala:\r\n\r\n    def makeAdder(addend: Int) = (x: Int) =&gt; addend + x\r\n\r\nWritten in Python:\r\n\r\n    def make_adder(addend):\r\n        def f(x):\r\n            return addend + x\r\n        return f\r\n        # or...\r\n        return lambda x: addend + x\r\n\r\nWritten in Erlang:\r\n\r\n    make_adder(Addend) -&gt;\r\n        fun(X) -&gt; Addend + X end.\r\n\r\nWritten in JavaScript:\r\n\r\n    function makeAdder(addend) {\r\n        return function(x) {\r\n            return addend + x;\r\n        };\r\n    }\r\n\r\nWritten in JavaScript (ES2015 arrow function syntax):\r\n\r\n    const makeAdder = addend =&gt; x =&gt; addend + x;\r\n\r\nWritten in Scheme:\r\n\r\n    (define (makeAdder addend)\r\n      (lambda (x)\r\n        (+ x addend)))\r\n\r\nWritten in Haskell:\r\n\r\n    makeAdder :: Int -&gt; (Int -&gt; Int)\r\n    makeAdder addend = \\x -&gt; addend + x\r\n\r\nWritten in Visual Basic 2008:\r\n\r\n    Function MakeAdder(addend As Integer) As Func(Of Integer, Integer)\r\n        Return Function(x) (x + addend)\r\n    End Function\r\n\r\nWritten in Swift (both verbose and short-hand implementations):\r\n\r\n    func makeAdder(append: Int) -&gt; (x: Int) -&gt; Int {\r\n    \treturn { (x: Int) -&gt; Int in\r\n    \t\treturn x + append\r\n    \t};\r\n    }\r\n    \r\n    func makeAdder(append: Int) -&gt; (Int) -&gt; Int {\r\n    \treturn {$0 + append};\r\n    }\r\n\r\n(By the way, a &quot;lambda&quot; is just a function without a name. Lambdas are only supported in languages that support first-class functions.)","title":"What is a first-class-citizen function?","body":"<p>A language that considers procedures to be \"first-class\" <strong><em>allows functions to be passed around just like any other value</em></strong>.</p>\n\n<p>Languages like Java 7 (and earlier) and C \"kind of\" have this capability: C allows function pointers to be passed around, but you can't dynamically define a function in those languages and suddenly pass that somewhere else. Java before version 8 can <em>simulate</em> this to a certain extent with anonymous classes, but it doesn't technically have first-class functions.</p>\n\n<p>On the other hand, C++, D, C#, Visual Basic .NET, Java 8+, and functional languages (like Scheme and Haskell) <em>do</em> allow you to pass around functions like variables. For example, the code below <em>returns</em> a function that adds <code>addend</code> to its input:</p>\n\n<p>Written in D:</p>\n\n<pre><code>int delegate(int) makeAdder(int addend) //Returns a function\n{\n    return delegate int(int x) //Long way\n    {\n        return x + addend; //Notice that addend came from _outside_ the function\n    };\n\n    return (int x) { return x + addend; }; //Short way\n\n    return x =&gt; addend + x; //Super-short way, introduced in D 2.058\n}\n</code></pre>\n\n<p>Written in C#:</p>\n\n<pre><code>Func&lt;int, int&gt; MakeAdder(int addend) //Returns a function\n{\n    return delegate(int x) //The long way. Note: Return type is implicitly 'int'\n    {\n        return x + addend;\n    };\n\n    return x =&gt; x + addend; //Short way: x \"goes to\" (x + addend); inferred types\n}\n</code></pre>\n\n<p>Written in C++:</p>\n\n<pre><code>#include &lt;functional&gt;\n\nstd::function&lt;int(int)&gt; make_adder(int addend)\n{\n    return [=](int x)\n    {\n        return addend + x;\n    };\n}\n</code></pre>\n\n<p>Written in Scala:</p>\n\n<pre><code>def makeAdder(addend: Int) = (x: Int) =&gt; addend + x\n</code></pre>\n\n<p>Written in Python:</p>\n\n<pre><code>def make_adder(addend):\n    def f(x):\n        return addend + x\n    return f\n    # or...\n    return lambda x: addend + x\n</code></pre>\n\n<p>Written in Erlang:</p>\n\n<pre><code>make_adder(Addend) -&gt;\n    fun(X) -&gt; Addend + X end.\n</code></pre>\n\n<p>Written in JavaScript:</p>\n\n<pre><code>function makeAdder(addend) {\n    return function(x) {\n        return addend + x;\n    };\n}\n</code></pre>\n\n<p>Written in JavaScript (ES2015 arrow function syntax):</p>\n\n<pre><code>const makeAdder = addend =&gt; x =&gt; addend + x;\n</code></pre>\n\n<p>Written in Scheme:</p>\n\n<pre><code>(define (makeAdder addend)\n  (lambda (x)\n    (+ x addend)))\n</code></pre>\n\n<p>Written in Haskell:</p>\n\n<pre><code>makeAdder :: Int -&gt; (Int -&gt; Int)\nmakeAdder addend = \\x -&gt; addend + x\n</code></pre>\n\n<p>Written in Visual Basic 2008:</p>\n\n<pre><code>Function MakeAdder(addend As Integer) As Func(Of Integer, Integer)\n    Return Function(x) (x + addend)\nEnd Function\n</code></pre>\n\n<p>Written in Swift (both verbose and short-hand implementations):</p>\n\n<pre><code>func makeAdder(append: Int) -&gt; (x: Int) -&gt; Int {\n    return { (x: Int) -&gt; Int in\n        return x + append\n    };\n}\n\nfunc makeAdder(append: Int) -&gt; (Int) -&gt; Int {\n    return {$0 + append};\n}\n</code></pre>\n\n<p>(By the way, a \"lambda\" is just a function without a name. Lambdas are only supported in languages that support first-class functions.)</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299139902,"creation_date":1299139567,"answer_id":5178108,"question_id":5178068,"body_markdown":"Functions are first class citizen means you can pass function anywhere as if it&#39;s a variable.\r\n\r\nFrom Scala\r\n\r\n\tdef isOdd(in: Int) = in % 2 == 1\r\n\tval n = (1 to 10).toList\r\n\tn.filter(isOdd)\r\n\r\n\tsee here: isOdd is a function. passed as if it&#39;s a variale.\r\n\r\n\r\n`Objects` are first class citizen in Java. _A first class citizen is the one that can be passed anywhere._ The parallel is from a first class citizen of country are allowed _almost_ everywhere.\r\n\r\nRead:\r\n\r\n- [When is a feature considered a First class citizen in a programming language/platform?][1]\r\n- [First-class object][2]\r\n- [First-class function][3]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/39742/when-is-a-feature-considered-a-first-class-citizen-in-a-programming-language-pl\r\n  [2]: http://en.wikipedia.org/wiki/First-class_object\r\n  [3]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>Functions are first class citizen means you can pass function anywhere as if it's a variable.</p>\n\n<p>From Scala</p>\n\n<pre><code>def isOdd(in: Int) = in % 2 == 1\nval n = (1 to 10).toList\nn.filter(isOdd)\n\nsee here: isOdd is a function. passed as if it's a variale.\n</code></pre>\n\n<p><code>Objects</code> are first class citizen in Java. <em>A first class citizen is the one that can be passed anywhere.</em> The parallel is from a first class citizen of country are allowed <em>almost</em> everywhere.</p>\n\n<p>Read:</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/39742/when-is-a-feature-considered-a-first-class-citizen-in-a-programming-language-pl\">When is a feature considered a First class citizen in a programming language/platform?</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/First-class_object\" rel=\"nofollow noreferrer\">First-class object</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">First-class function</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":306792,"reputation":3838,"user_id":617750,"display_name":"Alpine"},"score":0,"creation_date":1299140300,"post_id":5178123,"comment_id":5817446,"body_markdown":"How can I wrap a function using Interfaces?","body":"How can I wrap a function using Interfaces?"}],"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1299139776,"creation_date":1299139776,"answer_id":5178123,"question_id":5178068,"body_markdown":"No, you cannot assign a method to a variable or pass it as an argument to another method for example.\r\n\r\nInstead you can use interfaces to wrap the intended behaviour, or reflection to reify methods.","title":"What is a first-class-citizen function?","body":"<p>No, you cannot assign a method to a variable or pass it as an argument to another method for example.</p>\n\n<p>Instead you can use interfaces to wrap the intended behaviour, or reflection to reify methods.</p>\n"},{"tags":[],"owner":{"account_id":157346,"reputation":54254,"user_id":375232,"accept_rate":100,"display_name":"Landei"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299149485,"creation_date":1299140650,"answer_id":5178217,"question_id":5178068,"body_markdown":"A first class function can be passed around. A typical example is the map function. Here is an example in Scala that squares the elements of a list:\r\n\r\n    val square = (x:Int) =&gt; x*x\r\n   \r\n    val squaredList = List(1,2,3,4).map(square _)\r\n    //--&gt; List(1,4,9,16)\r\n\r\nThe square function is here an argument to the map method, which applies it to every element. If you want to do something like this in Java, you have to use a method wrapped in a class, something like this:\r\n\r\n    interface F&lt;A,B&gt;{ B apply(A a); }\r\n\r\n    static &lt;A,B&gt; List&lt;B&gt; map(List&lt;A&gt; list, F&lt;A,B&gt; f) {\r\n      List&lt;B&gt; result = new ArrayList&lt;B&gt;();\r\n      for(A a:list) result.add(f.apply(a));\r\n      return result;   \r\n    }\r\n\r\n    //we have to &quot;wrap&quot; the squaring operation in a class in order to make it a function\r\n    F&lt;Integer,Integer&gt; square = new F&lt;Integer,Integer&gt;(){ \r\n      Integer apply(Integer a) { return a*a; }\r\n    }\r\n\r\n    List&lt;Integer&gt; ints = Arrays.&lt;Integer&gt;asList(1,2,3,4);\r\n    List&lt;Integer&gt; squares = map(ints, square);\r\n\r\nLooking at this you can see that you can get the same task somehow done in Java, but with more overhead, and without &quot;native&quot; support by the language, but by using a workaround (wrapper classes). So Java doesn&#39;t support first class functions, but can &quot;simulate&quot; them.\r\n\r\nHopefully Java 8 will support first class functions. If you want to have some support for this *now*, look at http://functionaljava.org/ or http://functionalj.sourceforge.net/ , or have a look at the Scala language.","title":"What is a first-class-citizen function?","body":"<p>A first class function can be passed around. A typical example is the map function. Here is an example in Scala that squares the elements of a list:</p>\n\n<pre><code>val square = (x:Int) =&gt; x*x\n\nval squaredList = List(1,2,3,4).map(square _)\n//--&gt; List(1,4,9,16)\n</code></pre>\n\n<p>The square function is here an argument to the map method, which applies it to every element. If you want to do something like this in Java, you have to use a method wrapped in a class, something like this:</p>\n\n<pre><code>interface F&lt;A,B&gt;{ B apply(A a); }\n\nstatic &lt;A,B&gt; List&lt;B&gt; map(List&lt;A&gt; list, F&lt;A,B&gt; f) {\n  List&lt;B&gt; result = new ArrayList&lt;B&gt;();\n  for(A a:list) result.add(f.apply(a));\n  return result;   \n}\n\n//we have to \"wrap\" the squaring operation in a class in order to make it a function\nF&lt;Integer,Integer&gt; square = new F&lt;Integer,Integer&gt;(){ \n  Integer apply(Integer a) { return a*a; }\n}\n\nList&lt;Integer&gt; ints = Arrays.&lt;Integer&gt;asList(1,2,3,4);\nList&lt;Integer&gt; squares = map(ints, square);\n</code></pre>\n\n<p>Looking at this you can see that you can get the same task somehow done in Java, but with more overhead, and without \"native\" support by the language, but by using a workaround (wrapper classes). So Java doesn't support first class functions, but can \"simulate\" them.</p>\n\n<p>Hopefully Java 8 will support first class functions. If you want to have some support for this <em>now</em>, look at <a href=\"http://functionaljava.org/\" rel=\"nofollow\">http://functionaljava.org/</a> or <a href=\"http://functionalj.sourceforge.net/\" rel=\"nofollow\">http://functionalj.sourceforge.net/</a> , or have a look at the Scala language.</p>\n"},{"tags":[],"owner":{"account_id":3074879,"reputation":2637,"user_id":2604532,"display_name":"Nagakishore Sidde"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1447426200,"creation_date":1447426200,"answer_id":33695408,"question_id":5178068,"body_markdown":"Let us consider the example of functional programming paradigm in which functions are the first class citizens. When we say functions are the first class citizens, we can do the following things with the function...\r\n\r\n - Function can be assigned to a variable\r\n - Function can be stored in a data structure\r\n - Function can be passed around as an argument to other functions\r\n - Function can be returned from the functions\r\n\r\nIn functional programming languages, it is possible to do the above mentioned things. \r\n\r\nNow, let us try to answer the question, whether java supports first class citizen functions (or) not.\r\n\r\nIn java, methods are equivalent of functions. It is not possible to do any of the above with methods. But all of the above are possible with java objects. So, **objects** are the first class citizens in java. Admittedly, java8 supports passing of methods (method behavior, to be precise) to other methods using functional interfaces and lambda expressions. But that does not mean that java has functions as first class citizens.\r\n\r\nThe ability to do above things such as passing around functions, returning functions from functions is very powerful and useful. This is because, it allows us to pass around the behavior not just the data. ","title":"What is a first-class-citizen function?","body":"<p>Let us consider the example of functional programming paradigm in which functions are the first class citizens. When we say functions are the first class citizens, we can do the following things with the function...</p>\n\n<ul>\n<li>Function can be assigned to a variable</li>\n<li>Function can be stored in a data structure</li>\n<li>Function can be passed around as an argument to other functions</li>\n<li>Function can be returned from the functions</li>\n</ul>\n\n<p>In functional programming languages, it is possible to do the above mentioned things. </p>\n\n<p>Now, let us try to answer the question, whether java supports first class citizen functions (or) not.</p>\n\n<p>In java, methods are equivalent of functions. It is not possible to do any of the above with methods. But all of the above are possible with java objects. So, <strong>objects</strong> are the first class citizens in java. Admittedly, java8 supports passing of methods (method behavior, to be precise) to other methods using functional interfaces and lambda expressions. But that does not mean that java has functions as first class citizens.</p>\n\n<p>The ability to do above things such as passing around functions, returning functions from functions is very powerful and useful. This is because, it allows us to pass around the behavior not just the data. </p>\n"},{"tags":[],"owner":{"account_id":4152468,"reputation":63,"user_id":3404499,"display_name":"Ravi Allishe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594669188,"creation_date":1594668776,"answer_id":62883012,"question_id":5178068,"body_markdown":"The above answers for @Alpine questions are mostly defining what is First Class Functions along with examples. But still, one question remains why to use?\r\n\r\nI&#39;ll try to answer the benefits a little differently in Scala where first-class functions are used further as higher-order functions(map, flatMap), Partially Applied Functions and Currying:\r\n\r\n 1. As we focus on declarative programming, the *how* part of processing the data is left as an implementation detail to *map, flatMap*, and focused more on handling the *what* actual logic flow.\r\nA caller can specify what should be done and leave the higher-order functions to handle the actual logic flow.\r\n\r\n 2. Partially Applied Functions and Currying: What if you wanted to reuse a function invocation and retain some of the parameters to avoid typing them in again?\r\n\r\nPartially Applied Function Example: \r\n\r\n    def factorOf(x: Int, y: Int) = y % x == 0\r\n    val multipleOf3 = factorOf(3, _: Int)\r\n    val y = multipleOf3(78)\r\n\r\nCurrying Example: \r\n\r\n    def factorOf(x: Int)(y: Int) = y % x == 0\r\n    val isEven = factorOf(2) _\r\n    val z = isEven(32)\r\n\r\nThe above examples show you how you can reuse the part of first-class functions by not passing all parameters and keep your code **DRY** principle.\r\nThese are few benefits for using first-class functions\r\n\r\nReference for more details: [https://www.oreilly.com/library/view/learning-scala][1] \r\n\r\n\r\n  [1]: https://www.oreilly.com/library/view/learning-scala/9781449368814/ch05.html#:~:text=A%20first%2Dclass%20function%20may,return%20value%20from%20another%20function.","title":"What is a first-class-citizen function?","body":"<p>The above answers for @Alpine questions are mostly defining what is First Class Functions along with examples. But still, one question remains why to use?</p>\n<p>I'll try to answer the benefits a little differently in Scala where first-class functions are used further as higher-order functions(map, flatMap), Partially Applied Functions and Currying:</p>\n<ol>\n<li><p>As we focus on declarative programming, the <em>how</em> part of processing the data is left as an implementation detail to <em>map, flatMap</em>, and focused more on handling the <em>what</em> actual logic flow.\nA caller can specify what should be done and leave the higher-order functions to handle the actual logic flow.</p>\n</li>\n<li><p>Partially Applied Functions and Currying: What if you wanted to reuse a function invocation and retain some of the parameters to avoid typing them in again?</p>\n</li>\n</ol>\n<p>Partially Applied Function Example:</p>\n<pre><code>def factorOf(x: Int, y: Int) = y % x == 0\nval multipleOf3 = factorOf(3, _: Int)\nval y = multipleOf3(78)\n</code></pre>\n<p>Currying Example:</p>\n<pre><code>def factorOf(x: Int)(y: Int) = y % x == 0\nval isEven = factorOf(2) _\nval z = isEven(32)\n</code></pre>\n<p>The above examples show you how you can reuse the part of first-class functions by not passing all parameters and keep your code <strong>DRY</strong> principle.\nThese are few benefits for using first-class functions</p>\n<p>Reference for more details: <a href=\"https://www.oreilly.com/library/view/learning-scala/9781449368814/ch05.html#:%7E:text=A%20first%2Dclass%20function%20may,return%20value%20from%20another%20function.\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/learning-scala</a></p>\n"}],"owner":{"account_id":306792,"reputation":3838,"user_id":617750,"display_name":"Alpine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27245,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":7,"score":54,"last_activity_date":1701786511,"creation_date":1299139250,"question_id":5178068,"body_markdown":"What is a first-class-citizen function?\r\n\r\nDoes Java support first-class-citizen functions?\r\n\r\nAs mentioned on [Wikipedia][1]:\r\n\r\n&gt; First-class functions are a necessity for the functional programming style.\r\n\r\nIs there any other use of first-class functions?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function","title":"What is a first-class-citizen function?","body":"<p>What is a first-class-citizen function?</p>\n<p>Does Java support first-class-citizen functions?</p>\n<p>As mentioned on <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"nofollow noreferrer\">Wikipedia</a>:</p>\n<blockquote>\n<p>First-class functions are a necessity for the functional programming style.</p>\n</blockquote>\n<p>Is there any other use of first-class functions?</p>\n"},{"tags":["java","excel","selenium-webdriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701694953,"post_id":77599276,"comment_id":136803674,"body_markdown":"how would pom.xml file info help to solve parsing issue?","body":"how would pom.xml file info help to solve parsing issue?"},{"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"score":0,"creation_date":1701747205,"post_id":77599276,"comment_id":136811178,"body_markdown":"Then what me bhi the issue ??","body":"Then what me bhi the issue ??"},{"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"score":0,"creation_date":1701747234,"post_id":77599276,"comment_id":136811179,"body_markdown":"I was thinking that may be there is issue with version of dependency","body":"I was thinking that may be there is issue with version of dependency"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701753902,"post_id":77599276,"comment_id":136811727,"body_markdown":"what i ment by that was, that the issue is in the code because it runs. It would not run if it was a lib issue. there is no actual info in the question -1","body":"what i ment by that was, that the issue is in the code because it runs. It would not run if it was a lib issue. there is no actual info in the question -1"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701929810,"post_id":77599276,"comment_id":136836407,"body_markdown":"I understand that your code is **not** producing your desired result. I suggest that you [edit] your question and post your code - preferable a [mcve]. By the way - and not necessarily related to your question - I suggest that you take the tour and also read [ask].","body":"I understand that your code is <b>not</b> producing your desired result. I suggest that you <a href=\"https://stackoverflow.com/posts/77599276/edit\">edit</a> your question and post your code - preferable a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. By the way - and not necessarily related to your question - I suggest that you take the tour and also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701786370,"creation_date":1701691257,"question_id":77599276,"body_markdown":"I am using testng version 7.8.0\r\n\r\nWhile taking data from excel for running test , i am just getting blank input and a dot .\r\n\r\nMy POM.xml goes like this : \r\n\r\n    &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    \r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n    \r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    \r\n    &lt;/dependency&gt;\r\n\r\nSomeone can tell me which version to use ??\r\n\r\nI am using Microsoft Office Professional Plus 2013","title":"Taking test data from Excel","body":"<p>I am using testng version 7.8.0</p>\n<p>While taking data from excel for running test , i am just getting blank input and a dot .</p>\n<p>My POM.xml goes like this :</p>\n<pre><code>&lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n\n    &lt;version&gt;5.2.3&lt;/version&gt;\n\n&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n\n    &lt;version&gt;2.22.0&lt;/version&gt;\n\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n\n    &lt;version&gt;2.22.0&lt;/version&gt;\n\n  &lt;/dependency&gt;\n\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n\n&lt;dependency&gt;\n\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n\n    &lt;version&gt;5.2.3&lt;/version&gt;\n\n&lt;/dependency&gt;\n</code></pre>\n<p>Someone can tell me which version to use ??</p>\n<p>I am using Microsoft Office Professional Plus 2013</p>\n"},{"tags":["java","ssl","https","xpages","hcl-domino"],"comments":[{"owner":{"account_id":1221348,"reputation":3461,"user_id":1187943,"accept_rate":71,"display_name":"Fredrik Norling"},"score":0,"creation_date":1701694894,"post_id":77584525,"comment_id":136803661,"body_markdown":"Try downgrading to FP1, I had to do this with my client","body":"Try downgrading to FP1, I had to do this with my client"},{"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"score":0,"creation_date":1701720208,"post_id":77584525,"comment_id":136808519,"body_markdown":"Also: create a support ticket with HCL","body":"Also: create a support ticket with HCL"}],"answers":[{"comments":[{"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"score":0,"creation_date":1701626856,"post_id":77587555,"comment_id":136796564,"body_markdown":"it is the server that is using the sun handler that is not working. server2. (made a change in the post about this, my bad,) \nwe are doing some more tests and will update the case if we find anything","body":"it is the server that is using the sun handler that is not working. server2. (made a change in the post about this, my bad,)  we are doing some more tests and will update the case if we find anything"},{"owner":{"account_id":1359719,"reputation":2807,"user_id":1297305,"accept_rate":90,"display_name":"John Dalsgaard"},"score":0,"creation_date":1701764915,"post_id":77587555,"comment_id":136813016,"body_markdown":"Ok. Hope you find a solution. As Per Henrik suggests, open a support ticket with HCL Support.","body":"Ok. Hope you find a solution. As Per Henrik suggests, open a support ticket with HCL Support."}],"tags":[],"owner":{"account_id":1359719,"reputation":2807,"user_id":1297305,"accept_rate":90,"display_name":"John Dalsgaard"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701457966,"creation_date":1701457966,"answer_id":77587555,"question_id":77584525,"body_markdown":"Ok, I have not tested the exact same setup that you have as we see some other problems with 12.0.2 FP2 (eg. with the editor for richtext fields in XPages).\r\n\r\nHowever, I have had to change some things in a class that we use to handle invalid SSL certs when calling adjacent systems. Originally, I used some IBM packages and at some point (11 or 12) those packages had disappeared from the product and I had to use the Sun classes instead - doing the same thing...\r\n\r\nSo my first attempt would be to change your server 2 to use the Sun handler. Agents are special creatures that really haven&#39;t been part of the more modern Java environment that XPages has used (I know there are some changes in 12.0.2 - but I haven&#39;t really tried them out). So that could explain why it works in Java agents - and not in XPages...\r\n\r\n/John","title":"Different java.protocol.handler.pkgs settings in Domino causing error in XPages java","body":"<p>Ok, I have not tested the exact same setup that you have as we see some other problems with 12.0.2 FP2 (eg. with the editor for richtext fields in XPages).</p>\n<p>However, I have had to change some things in a class that we use to handle invalid SSL certs when calling adjacent systems. Originally, I used some IBM packages and at some point (11 or 12) those packages had disappeared from the product and I had to use the Sun classes instead - doing the same thing...</p>\n<p>So my first attempt would be to change your server 2 to use the Sun handler. Agents are special creatures that really haven't been part of the more modern Java environment that XPages has used (I know there are some changes in 12.0.2 - but I haven't really tried them out). So that could explain why it works in Java agents - and not in XPages...</p>\n<p>/John</p>\n"},{"tags":[],"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701785876,"creation_date":1701785876,"answer_id":77606904,"question_id":77584525,"body_markdown":"\r\nfor some reason we can no longer reproduce the problem with urlconnection for server 2.\r\n\r\nthe only thing we can think of that has changed since we first discovered the problem is that we did a change to an internet site document to enable SSO.\r\n\r\nInternet Site document -&gt; Configuration -&gt; TLS Options -&gt; keyfileName and added the hostname there instead of the keyfile. (as described in the documentation when not using keyfiles)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Different java.protocol.handler.pkgs settings in Domino causing error in XPages java","body":"<p>for some reason we can no longer reproduce the problem with urlconnection for server 2.</p>\n<p>the only thing we can think of that has changed since we first discovered the problem is that we did a change to an internet site document to enable SSO.</p>\n<p>Internet Site document -&gt; Configuration -&gt; TLS Options -&gt; keyfileName and added the hostname there instead of the keyfile. (as described in the documentation when not using keyfiles)</p>\n"}],"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77606904,"answer_count":2,"score":1,"last_activity_date":1701785876,"creation_date":1701425995,"question_id":77584525,"body_markdown":"I have two different java settings on two different domino servers using same version. 12.0.2 FP2.\r\n\r\nhere you see the settings found in System.properties for the servers:\r\n\r\n**Server 1 This one is working fine when using urlconnection**\r\n\r\njava.protocol.handler.pkgs=com.ibm.domino.internal.protocol\r\n\r\n\r\n**Server 2 This one is not working when using urlconnection**\r\n\r\njava.protocol.handler.pkgs=com.sun.net.ssl.internal.www.protocol\r\n\r\n\r\n\r\nupdate: I misstankenly put the wrong line on the wrong server initially, should be ok now,\r\n\r\n**---**\r\n\r\n\r\n\r\nStrangely when testing java.net.UrlConnection in an agent it works on both server.  but when doing it in a java class that is used in XPages it does not work.\r\n\r\n\r\n\r\n\r\nthis is the error we get on server 2.\r\n\r\n[1410:0011-0454] 2023-09-07 12:21:45   HTTP JVM: java.lang.ClassCastException: com.sun.net.ssl.internal.\r\nwww.protocol.https.HttpsURLConnectionOldImpl\r\nincompatible with javax.net.ssl.HttpsURLConnection\r\n\r\n\r\nwhat can be the reason for this setting begin different and how can I make them the same?\r\n\r\nthis is currently causing me to write different XPages java code based on which server the xpage/script is running on when making java.net.UrlConnection calls to https.\r\n\r\n\r\nnote: I only assume that value of java.protocol.handler.pkgs is the cause of this, it could ofcourse be something else but that is my best guess.\r\n\r\nOn server 2 we also have some other settings that is pointing to wrong  path and is missing on server 1\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eh8f5.png","title":"Different java.protocol.handler.pkgs settings in Domino causing error in XPages java","body":"<p>I have two different java settings on two different domino servers using same version. 12.0.2 FP2.</p>\n<p>here you see the settings found in System.properties for the servers:</p>\n<p><strong>Server 1 This one is working fine when using urlconnection</strong></p>\n<p>java.protocol.handler.pkgs=com.ibm.domino.internal.protocol</p>\n<p><strong>Server 2 This one is not working when using urlconnection</strong></p>\n<p>java.protocol.handler.pkgs=com.sun.net.ssl.internal.www.protocol</p>\n<p>update: I misstankenly put the wrong line on the wrong server initially, should be ok now,</p>\n<p><strong>---</strong></p>\n<p>Strangely when testing java.net.UrlConnection in an agent it works on both server.  but when doing it in a java class that is used in XPages it does not work.</p>\n<p>this is the error we get on server 2.</p>\n<p>[1410:0011-0454] 2023-09-07 12:21:45   HTTP JVM: java.lang.ClassCastException: com.sun.net.ssl.internal.\n<a href=\"http://www.protocol.https.HttpsURLConnectionOldImpl\" rel=\"nofollow noreferrer\">www.protocol.https.HttpsURLConnectionOldImpl</a>\nincompatible with javax.net.ssl.HttpsURLConnection</p>\n<p>what can be the reason for this setting begin different and how can I make them the same?</p>\n<p>this is currently causing me to write different XPages java code based on which server the xpage/script is running on when making java.net.UrlConnection calls to https.</p>\n<p>note: I only assume that value of java.protocol.handler.pkgs is the cause of this, it could ofcourse be something else but that is my best guess.</p>\n<p>On server 2 we also have some other settings that is pointing to wrong  path and is missing on server 1</p>\n<p><a href=\"https://i.stack.imgur.com/eh8f5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eh8f5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"score":0,"creation_date":1701790412,"post_id":77606604,"comment_id":136817557,"body_markdown":"This is interesting behavior; I would expect the regular change and swap moves to be picked more often. That said, there are many possible reasons why that didn&#39;t happen; maybe none were doable, maybe tail chain swaps resulted in better scores... That is impossible to know from the information in the question.","body":"This is interesting behavior; I would expect the regular change and swap moves to be picked more often. That said, there are many possible reasons why that didn&#39;t happen; maybe none were doable, maybe tail chain swaps resulted in better scores... That is impossible to know from the information in the question."}],"answers":[{"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1701846855,"post_id":77606831,"comment_id":136824341,"body_markdown":"Where you looking at the DEBUG or TRACE log? The DEBUG log shows only the winning moves. The TRACE log shows all the selected moves too.","body":"Where you looking at the DEBUG or TRACE log? The DEBUG log shows only the winning moves. The TRACE log shows all the selected moves too."},{"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"score":1,"creation_date":1701848550,"post_id":77606831,"comment_id":136824549,"body_markdown":"Yes, I was looking in DEBUG log.","body":"Yes, I was looking in DEBUG log."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1701869276,"post_id":77606831,"comment_id":136828153,"body_markdown":"It&#39;s possible that only tailchain moves were winning, but selection was fair/correct.","body":"It&#39;s possible that only tailchain moves were winning, but selection was fair/correct."}],"tags":[],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701785246,"creation_date":1701785246,"answer_id":77606831,"question_id":77606604,"body_markdown":"Looks like I was too hurry.\r\nChange and swap was in the log but very rarely.\r\nThere were only picked move in the log, change and swap were picked very rarely.","title":"Timefold: Is tailChainSwap incompatible with change and swap?","body":"<p>Looks like I was too hurry.\nChange and swap was in the log but very rarely.\nThere were only picked move in the log, change and swap were picked very rarely.</p>\n"}],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701785246,"creation_date":1701783207,"question_id":77606604,"body_markdown":"I&#39;m trying this configuration\r\n\r\n    &lt;unionMoveSelector&gt;\r\n      &lt;changeMoveSelector&gt;\r\n      &lt;/changeMoveSelector&gt;\r\n      &lt;swapMoveSelector&gt;\r\n      &lt;/swapMoveSelector&gt;\r\n      &lt;tailChainSwapMoveSelector&gt;\r\n      &lt;/tailChainSwapMoveSelector&gt;\r\n    &lt;/unionMoveSelector&gt;\r\n\r\nBut according to log (debug level) only tailChainSwap was picked.\r\n\r\nI have tried to set probability of tailChainSwap to extremely low value.\r\n\r\n    &lt;unionMoveSelector&gt;\r\n      &lt;changeMoveSelector&gt;\r\n        &lt;fixedProbabilityWeight&gt;1 &lt;/fixedProbabilityWeight&gt;\r\n      &lt;/changeMoveSelector&gt;\r\n      &lt;swapMoveSelector&gt;\r\n        &lt;fixedProbabilityWeight&gt;1 &lt;/fixedProbabilityWeight&gt;\r\n      &lt;/swapMoveSelector&gt;\r\n      &lt;tailChainSwapMoveSelector&gt;\r\n        &lt;fixedProbabilityWeight&gt;0.001 &lt;/fixedProbabilityWeight&gt;\r\n      &lt;/tailChainSwapMoveSelector&gt;\r\n    &lt;/unionMoveSelector&gt;\r\n\r\nBut still only tailChainSwap was picked.\r\n\r\nConfiguration file is working, because if I set fixedProbabilityWeight to 0, I can get rid of tailChainSwap.\r\n\r\nMy timefold version: 1.3.0\r\n","title":"Timefold: Is tailChainSwap incompatible with change and swap?","body":"<p>I'm trying this configuration</p>\n<pre><code>&lt;unionMoveSelector&gt;\n  &lt;changeMoveSelector&gt;\n  &lt;/changeMoveSelector&gt;\n  &lt;swapMoveSelector&gt;\n  &lt;/swapMoveSelector&gt;\n  &lt;tailChainSwapMoveSelector&gt;\n  &lt;/tailChainSwapMoveSelector&gt;\n&lt;/unionMoveSelector&gt;\n</code></pre>\n<p>But according to log (debug level) only tailChainSwap was picked.</p>\n<p>I have tried to set probability of tailChainSwap to extremely low value.</p>\n<pre><code>&lt;unionMoveSelector&gt;\n  &lt;changeMoveSelector&gt;\n    &lt;fixedProbabilityWeight&gt;1 &lt;/fixedProbabilityWeight&gt;\n  &lt;/changeMoveSelector&gt;\n  &lt;swapMoveSelector&gt;\n    &lt;fixedProbabilityWeight&gt;1 &lt;/fixedProbabilityWeight&gt;\n  &lt;/swapMoveSelector&gt;\n  &lt;tailChainSwapMoveSelector&gt;\n    &lt;fixedProbabilityWeight&gt;0.001 &lt;/fixedProbabilityWeight&gt;\n  &lt;/tailChainSwapMoveSelector&gt;\n&lt;/unionMoveSelector&gt;\n</code></pre>\n<p>But still only tailChainSwap was picked.</p>\n<p>Configuration file is working, because if I set fixedProbabilityWeight to 0, I can get rid of tailChainSwap.</p>\n<p>My timefold version: 1.3.0</p>\n"},{"tags":["java","jsp","error-handling","tiles","servletexception"],"comments":[{"owner":{"account_id":320876,"reputation":269,"user_id":639384,"accept_rate":69,"display_name":"Turk"},"score":0,"creation_date":1321885207,"post_id":8205069,"comment_id":10096778,"body_markdown":"Thank you.  I will try that and get back to you with the results.","body":"Thank you.  I will try that and get back to you with the results."},{"owner":{"account_id":320876,"reputation":269,"user_id":639384,"accept_rate":69,"display_name":"Turk"},"score":0,"creation_date":1321885757,"post_id":8205069,"comment_id":10096967,"body_markdown":"I updated the main question with the additional information.  Thank you again.","body":"I updated the main question with the additional information.  Thank you again."},{"owner":{"account_id":320876,"reputation":269,"user_id":639384,"accept_rate":69,"display_name":"Turk"},"score":0,"creation_date":1321886234,"post_id":8205069,"comment_id":10097146,"body_markdown":"Updated again.  Only had the welcome line.  No taglibs at all.  Same result.","body":"Updated again.  Only had the welcome line.  No taglibs at all.  Same result."},{"owner":{"account_id":320876,"reputation":269,"user_id":639384,"accept_rate":69,"display_name":"Turk"},"score":0,"creation_date":1321887063,"post_id":8205069,"comment_id":10097446,"body_markdown":"Not a problem.  Thank you for trying.","body":"Not a problem.  Thank you for trying."}],"answers":[{"tags":[],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399457591,"creation_date":1399457591,"answer_id":23514914,"question_id":8205069,"body_markdown":"I had a same problem (ClassNotFound ... WEB_002dINF ...)\r\nI fix it by deleting\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nfrom my pom.xml","title":"ServletException in &#39;/left.do&#39;: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp","body":"<p>I had a same problem (ClassNotFound ... WEB_002dINF ...)\nI fix it by deleting</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>from my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":1977004,"reputation":826,"user_id":1774575,"display_name":"LConrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539801136,"creation_date":1539801136,"answer_id":52861464,"question_id":8205069,"body_markdown":"Alternatively, if removing javax.servlet breaks your app and you&#39;re inheriting it from another source (a common project that your team puts shared resources in, for example), try adding \r\n\r\n    &lt;scope&gt;provided&lt;/scope&gt; \r\n\r\nin the dependency tag for javax.servlet. ","title":"ServletException in &#39;/left.do&#39;: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp","body":"<p>Alternatively, if removing javax.servlet breaks your app and you're inheriting it from another source (a common project that your team puts shared resources in, for example), try adding </p>\n\n<pre><code>&lt;scope&gt;provided&lt;/scope&gt; \n</code></pre>\n\n<p>in the dependency tag for javax.servlet. </p>\n"}],"owner":{"account_id":320876,"reputation":269,"user_id":639384,"accept_rate":69,"display_name":"Turk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701785090,"creation_date":1321826215,"question_id":8205069,"body_markdown":"After integrating ESAPI into a login form I am getting a rendering issue and an error after a successful login.\r\n\r\nThe error generated in the browser states:\r\n\r\n       javax.servlet.ServletException: org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: ServletException in &#39;/left.do&#39;: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp\r\n\r\nAnd the server&#39;s debug log states the following:\r\n\r\n    SEVERE: Servlet.service() for servlet [ActionServlet] in context with path [/FIXED] \r\n    threw exception [javax.servlet.ServletException: org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: ServletException in &#39;/left.do&#39;: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp] with root cause\r\n    java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp\r\n\r\nThe weird thing is, I haven&#39;t even touched any jsp pages when integrating esapi, and it worked before hand.  I&#39;ve only modified a couple java pages yet I get this now after a successful login.\r\n\r\nThere is more to both error messages I can include if it will be helpful.  Since I haven&#39;t modified the leftlogged.jsp, yet it is the one giving the problems I thought I&#39;d include it as well as it may be helpful.\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://struts.apache.org/tags-bean&quot; prefix=&quot;bean&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://struts.apache.org/tags-html&quot; prefix=&quot;html&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://struts.apache.org/tags-logic&quot; prefix=&quot;logic&quot; %&gt;\r\n    Welcome ${USERNAME}!&lt;br /&gt;\r\n    &lt;logic:messagesPresent message=&quot;false&quot;&gt;\r\n      &lt;html:messages id=&quot;msg&quot;&gt;\r\n        &lt;span class=&quot;error&quot;&gt;&lt;bean:write name=&quot;msg&quot; /&gt;&lt;/span&gt;&lt;br /&gt;\r\n      &lt;/html:messages&gt;\r\n    &lt;/logic:messagesPresent&gt;\r\n    &lt;logic:messagesPresent message=&quot;true&quot;&gt;\r\n      &lt;html:messages id=&quot;msg&quot; message=&quot;true&quot;&gt;\r\n        &lt;strong&gt;&lt;bean:write name=&quot;msg&quot; /&gt;&lt;/strong&gt;&lt;br /&gt;\r\n      &lt;/html:messages&gt;\r\n    &lt;/logic:messagesPresent&gt;\r\n    Your account balance is &lt;fmt:formatNumber pattern=&quot;\\$#,##0.00&quot; value=&quot;${BALANCE}&quot; /&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    Add Balance:&lt;br /&gt;\r\n    &lt;html:form method=&quot;POST&quot; action=&quot;/addbalance&quot;&gt;\r\n    &lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;\r\n    &lt;tr&gt;\r\n    &lt;td class=&quot;prompt&quot;&gt;Type:&lt;/td&gt;\r\n    &lt;td class=&quot;ui&quot;&gt;&lt;html:select property=&quot;vendor&quot;&gt;\r\n    &lt;html:option value=&quot;&quot;&gt;-- SELECT&lt;/html:option&gt;\r\n    &lt;html:option value=&quot;VISA&quot;&gt;VISA&lt;/html:option&gt;\r\n    &lt;html:option value=&quot;MASTERCARD&quot;&gt;MASTERCARD&lt;/html:option&gt;\r\n    &lt;/html:select&gt;\r\n    &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td class=&quot;prompt&quot;&gt;Number:&lt;/td&gt;\r\n      &lt;td class=&quot;ui&quot;&gt;&lt;html:password property=&quot;cc&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td class=&quot;prompt&quot;&gt;Amount:&lt;/td&gt;\r\n      &lt;td class=&quot;ui&quot;&gt;&lt;html:text property=&quot;amount&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td colspan=&quot;2&quot; class=&quot;ui&quot; style=&quot;text-align: center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Add&quot; /&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/html:form&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;a href=&quot;&lt;c:url value=&quot;/friends.do&quot; /&gt;&quot;&gt;Friends&lt;/a&gt;&lt;br /&gt;\r\n    &lt;a href=&quot;&lt;c:url value=&quot;/profile.do&quot; /&gt;&quot;&gt;Profile&lt;/a&gt;&lt;br /&gt;\r\n    &lt;a href=&quot;&lt;c:url value=&quot;/index.jsp&quot; /&gt;&quot;&gt;CD&#39;s&lt;/a&gt;\r\n    &lt;br /&gt;\r\n    &lt;br /&gt;\r\n    &lt;a href=&quot;&lt;c:url value=&quot;/logout.do&quot; /&gt;&quot;&gt;Log Out&lt;/a&gt;\r\n\r\nCould someone explain to me what exactly Eclipse is not liking because of right now I&#39;m not sure what I should check out?\r\n\r\n**UPDATE:** I removed everything except the Welcome and taglibs from the code so that the leftlogged.jsp looks as follows:\r\n\r\n    Welcome ${USERNAME}!&lt;br /&gt;\r\n\r\nThe error message continues and didn&#39;t change any.\r\n\r\nAny further thoughts on what that could possibly mean is wrong?","title":"ServletException in &#39;/left.do&#39;: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp","body":"<p>After integrating ESAPI into a login form I am getting a rendering issue and an error after a successful login.</p>\n\n<p>The error generated in the browser states:</p>\n\n<pre><code>   javax.servlet.ServletException: org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: ServletException in '/left.do': java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp\n</code></pre>\n\n<p>And the server's debug log states the following:</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [ActionServlet] in context with path [/FIXED] \nthrew exception [javax.servlet.ServletException: org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: ServletException in '/left.do': java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp] with root cause\njava.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.tiles.leftlogged_jsp\n</code></pre>\n\n<p>The weird thing is, I haven't even touched any jsp pages when integrating esapi, and it worked before hand.  I've only modified a couple java pages yet I get this now after a successful login.</p>\n\n<p>There is more to both error messages I can include if it will be helpful.  Since I haven't modified the leftlogged.jsp, yet it is the one giving the problems I thought I'd include it as well as it may be helpful.</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %&gt;\n&lt;%@ taglib uri=\"http://struts.apache.org/tags-bean\" prefix=\"bean\" %&gt;\n&lt;%@ taglib uri=\"http://struts.apache.org/tags-html\" prefix=\"html\" %&gt;\n&lt;%@ taglib uri=\"http://struts.apache.org/tags-logic\" prefix=\"logic\" %&gt;\nWelcome ${USERNAME}!&lt;br /&gt;\n&lt;logic:messagesPresent message=\"false\"&gt;\n  &lt;html:messages id=\"msg\"&gt;\n    &lt;span class=\"error\"&gt;&lt;bean:write name=\"msg\" /&gt;&lt;/span&gt;&lt;br /&gt;\n  &lt;/html:messages&gt;\n&lt;/logic:messagesPresent&gt;\n&lt;logic:messagesPresent message=\"true\"&gt;\n  &lt;html:messages id=\"msg\" message=\"true\"&gt;\n    &lt;strong&gt;&lt;bean:write name=\"msg\" /&gt;&lt;/strong&gt;&lt;br /&gt;\n  &lt;/html:messages&gt;\n&lt;/logic:messagesPresent&gt;\nYour account balance is &lt;fmt:formatNumber pattern=\"\\$#,##0.00\" value=\"${BALANCE}\" /&gt;\n&lt;br /&gt;\n&lt;br /&gt;\nAdd Balance:&lt;br /&gt;\n&lt;html:form method=\"POST\" action=\"/addbalance\"&gt;\n&lt;table border=\"0\" width=\"100%\"&gt;\n&lt;tr&gt;\n&lt;td class=\"prompt\"&gt;Type:&lt;/td&gt;\n&lt;td class=\"ui\"&gt;&lt;html:select property=\"vendor\"&gt;\n&lt;html:option value=\"\"&gt;-- SELECT&lt;/html:option&gt;\n&lt;html:option value=\"VISA\"&gt;VISA&lt;/html:option&gt;\n&lt;html:option value=\"MASTERCARD\"&gt;MASTERCARD&lt;/html:option&gt;\n&lt;/html:select&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td class=\"prompt\"&gt;Number:&lt;/td&gt;\n  &lt;td class=\"ui\"&gt;&lt;html:password property=\"cc\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td class=\"prompt\"&gt;Amount:&lt;/td&gt;\n  &lt;td class=\"ui\"&gt;&lt;html:text property=\"amount\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td colspan=\"2\" class=\"ui\" style=\"text-align: center\"&gt;&lt;input type=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/html:form&gt;\n&lt;br /&gt;\n&lt;br /&gt;\n&lt;a href=\"&lt;c:url value=\"/friends.do\" /&gt;\"&gt;Friends&lt;/a&gt;&lt;br /&gt;\n&lt;a href=\"&lt;c:url value=\"/profile.do\" /&gt;\"&gt;Profile&lt;/a&gt;&lt;br /&gt;\n&lt;a href=\"&lt;c:url value=\"/index.jsp\" /&gt;\"&gt;CD's&lt;/a&gt;\n&lt;br /&gt;\n&lt;br /&gt;\n&lt;a href=\"&lt;c:url value=\"/logout.do\" /&gt;\"&gt;Log Out&lt;/a&gt;\n</code></pre>\n\n<p>Could someone explain to me what exactly Eclipse is not liking because of right now I'm not sure what I should check out?</p>\n\n<p><strong>UPDATE:</strong> I removed everything except the Welcome and taglibs from the code so that the leftlogged.jsp looks as follows:</p>\n\n<pre><code>Welcome ${USERNAME}!&lt;br /&gt;\n</code></pre>\n\n<p>The error message continues and didn't change any.</p>\n\n<p>Any further thoughts on what that could possibly mean is wrong?</p>\n"},{"tags":["java","spring","jms","oracle-aq","advanced-queuing"],"answers":[{"comments":[{"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"score":0,"creation_date":1538077640,"post_id":45557332,"comment_id":92028047,"body_markdown":"what is that part of `this.cloud`?","body":"what is that part of <code>this.cloud</code>?"},{"owner":{"account_id":5860199,"reputation":53,"user_id":4616181,"display_name":"Jimmi Skaria"},"score":0,"creation_date":1543358964,"post_id":45557332,"comment_id":93888754,"body_markdown":"this sample is from a spring boot project which gets the connection details from a  service binding in pivotal cloud foundry","body":"this sample is from a spring boot project which gets the connection details from a  service binding in pivotal cloud foundry"}],"tags":[],"owner":{"account_id":5860199,"reputation":53,"user_id":4616181,"display_name":"Jimmi Skaria"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502169473,"creation_date":1502150560,"answer_id":45557332,"question_id":43492803,"body_markdown":"We experienced the same exception when tried to access Oracle AQ from Spring boot. Research indicated that this exception is thrown as the Database connection pool libraries doesn&#39;t allow the access  to the underlying connection required by the oracle AQ Library.(Both dbcp and tomcat connection pool libraries threw  exceptions , not same but similar)\r\n\r\nThis exception was gone when we removed the Database connection pool libraries from dependencies which lead to an undesirable state of having no Database connection pooling for the entire application . \r\n\r\nWe noticed that the if we use the  following method  the exception is not thrown\r\n`AQjmsFactory.getQueueConnectionFactory(url, info);`\r\n\r\nPerhaps connection pooling is missing with solution also, but that is limited to the component which reads from AQ . Other components in the app will have the benefits of the connection pooling \r\n\r\nHere is the java config for the Bean definition:\r\n\r\n    @Bean\r\n\tpublic QueueConnectionFactory connectionFactory() throws Exception {\r\n\t\tOracleServiceInfo serviceInfo = (OracleServiceInfo) this.cloud().getServiceInfo(NAME_PRIMARY_DS);\r\n\t\tProperties info = new Properties();\r\n\t\tString url = serviceInfo.getJdbcUrl();\r\n\t\tinfo.put(&quot;driver-name&quot;, &quot;oracle.jdbc.OracleDriver&quot;);\r\n\t\tinfo.put(&quot;user&quot;, serviceInfo.getUserName());\r\n\t\tinfo.put(&quot;password&quot;, serviceInfo.getPassword());\r\n\t\treturn oracle.jms.AQjmsFactory.getQueueConnectionFactory(url, info);\r\n\t}\r\n   \r\n\t@Bean\r\n\tpublic JmsTemplate jmsTemplate() throws Exception {\r\n\t\tJmsTemplate jmsTemplate = new JmsTemplate();\r\n\t\tjmsTemplate.setConnectionFactory(connectionFactory());\r\n\t\treturn jmsTemplate;\r\n\t}\r\n\r\n\r\nI am not sure yet if this a good solution. But this is definitely one  way to get rid of the exception discussed in the question.","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<p>We experienced the same exception when tried to access Oracle AQ from Spring boot. Research indicated that this exception is thrown as the Database connection pool libraries doesn't allow the access  to the underlying connection required by the oracle AQ Library.(Both dbcp and tomcat connection pool libraries threw  exceptions , not same but similar)</p>\n\n<p>This exception was gone when we removed the Database connection pool libraries from dependencies which lead to an undesirable state of having no Database connection pooling for the entire application . </p>\n\n<p>We noticed that the if we use the  following method  the exception is not thrown\n<code>AQjmsFactory.getQueueConnectionFactory(url, info);</code></p>\n\n<p>Perhaps connection pooling is missing with solution also, but that is limited to the component which reads from AQ . Other components in the app will have the benefits of the connection pooling </p>\n\n<p>Here is the java config for the Bean definition:</p>\n\n<pre><code>@Bean\npublic QueueConnectionFactory connectionFactory() throws Exception {\n    OracleServiceInfo serviceInfo = (OracleServiceInfo) this.cloud().getServiceInfo(NAME_PRIMARY_DS);\n    Properties info = new Properties();\n    String url = serviceInfo.getJdbcUrl();\n    info.put(\"driver-name\", \"oracle.jdbc.OracleDriver\");\n    info.put(\"user\", serviceInfo.getUserName());\n    info.put(\"password\", serviceInfo.getPassword());\n    return oracle.jms.AQjmsFactory.getQueueConnectionFactory(url, info);\n}\n\n@Bean\npublic JmsTemplate jmsTemplate() throws Exception {\n    JmsTemplate jmsTemplate = new JmsTemplate();\n    jmsTemplate.setConnectionFactory(connectionFactory());\n    return jmsTemplate;\n}\n</code></pre>\n\n<p>I am not sure yet if this a good solution. But this is definitely one  way to get rid of the exception discussed in the question.</p>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518624926,"creation_date":1518624926,"answer_id":48791663,"question_id":43492803,"body_markdown":"Change the `jdbc` library, in my case this fixed it(if don&#39;t, try with some other versions):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.1.0.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<p>Change the <code>jdbc</code> library, in my case this fixed it(if don't, try with some other versions):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n    &lt;version&gt;12.1.0.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14966415,"reputation":1,"user_id":10804507,"display_name":"MIchael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545113357,"creation_date":1545113357,"answer_id":53827278,"question_id":43492803,"body_markdown":"the problem is that the AQ code expected an OracleConnection but when pooled the connection wrapped and hence it fails","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<p>the problem is that the AQ code expected an OracleConnection but when pooled the connection wrapped and hence it fails</p>\n"},{"tags":[],"owner":{"account_id":12215603,"reputation":21,"user_id":8916155,"display_name":"Kris Bogaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574616279,"creation_date":1574616279,"answer_id":59020404,"question_id":43492803,"body_markdown":"Hi it also took me quite some time to make the connection work, but finally it did and this is how:\r\n\r\nFirst make sure the payload of your Oracle AQ Queue table is not set to RAW but preferably to Text: SYS.AQ$_JMS_TEXT_MESSAGE\r\n\r\nNext use a OracleAQConfiguration similar as hereunder:\r\n\r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    import oracle.jms.AQjmsFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.jms.JMSException;\r\n    import javax.jms.QueueConnectionFactory;\r\n    import javax.sql.DataSource;\r\n    import java.sql.SQLException;\r\n    \r\n    @Configuration\r\n    public class OracleAQConfiguration {\r\n    \r\n        // Values are retrieved from custom added props in Spring application.properties\r\n\r\n        @Value(&quot;${myapplication.datasource.user}&quot;)\r\n        private String user;\r\n    \r\n        @Value(&quot;${myapplication.datasource.password}&quot;)\r\n        private String password;\r\n    \r\n        @Value(&quot;${myapplication.datasource.connectionstring}&quot;)\r\n        private String connectionstring;\r\n    \r\n        @Bean\r\n        /**\r\n         * Spring bean with the configuration details of where the Oracle database is containing the QUEUES\r\n         */\r\n        public DataSource dataSource() throws SQLException {\r\n            OracleDataSource ds = new OracleDataSource();\r\n            ds.setUser(user);\r\n            ds.setPassword(password);\r\n            ds.setURL(connectionstring);\r\n            ds.setImplicitCachingEnabled(true);\r\n            ds.setFastConnectionFailoverEnabled(true);\r\n            return ds;\r\n        }\r\n    \r\n        @Bean\r\n        /**\r\n         * The KEY component effectively connecting to the Oracle AQ system using the datasource input\r\n         */\r\n        public QueueConnectionFactory connectionFactory(DataSource dataSource) throws JMSException {\r\n            return AQjmsFactory.getQueueConnectionFactory(dataSource);\r\n        }\r\n    \r\n    }\r\n\r\nNext use a JMSConfiguration similar as hereunder.\r\nHere I read and write to the same queue which is unlikely in a real application integration scenario. But OK for testing\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\n    import org.springframework.jms.core.JmsTemplate;\r\n    import org.springframework.jms.listener.DefaultMessageListenerContainer;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    public class JMSConfiguration {\r\n        private static final String QUEUENAME_WRITE = &quot;MYQUEUE&quot;;\r\n    \tprivate static final String QUEUENAME_READ = &quot;MYQUEUE&quot;;\r\n    \r\n        @Autowired\r\n        private JMSReceiver jmsReceiver;\r\n    \r\n        @Bean\r\n        /**\r\n         * Spring bean to WRITE/SEND/ENQUEUE messages on a queue with a certain name\r\n         */\r\n        public JmsTemplate jmsTemplate(ConnectionFactory conFactory) {\r\n            JmsTemplate jmsTemplate = new JmsTemplate();\r\n            jmsTemplate.setDefaultDestinationName(QUEUENAME_WRITE);\r\n            jmsTemplate.setSessionTransacted(true);\r\n            jmsTemplate.setConnectionFactory(conFactory);\r\n    \r\n            return jmsTemplate;\r\n        }\r\n    \r\n        /**\r\n         * Spring bean to READ/RECEIVE/DEQUEUE messages of a queue with a certain name\r\n         * All of this happens under a code managed transaction\r\n         * to commit the change on Oracle (remove of the message from the queue table)\r\n         * Reference the application custom code handling the message here\r\n         */\r\n        @Bean\r\n        public DefaultMessageListenerContainer messageListenerContainer(ConnectionFactory conFactory, DataSource dataSource) {\r\n            DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\r\n            dmlc.setDestinationName(QUEUENAME_READ);\r\n            dmlc.setSessionTransacted(true);\r\n            dmlc.setConnectionFactory(conFactory);\r\n    \r\n            DataSourceTransactionManager manager = new DataSourceTransactionManager();\r\n            manager.setDataSource(dataSource);\r\n            dmlc.setTransactionManager(manager);\r\n    \r\n            // Add here our self-written JMS Receiver\r\n            dmlc.setMessageListener(jmsReceiver);\r\n            return dmlc;\r\n        }\r\n    \r\n    }\r\n\r\nFinally for handling incoming JMS messages use something like:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.jms.listener.SessionAwareMessageListener;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.Session;\r\n    import javax.jms.TextMessage;\r\n    \r\n    @Component\r\n    public class JMSReceiver implements SessionAwareMessageListener {\r\n        private static final Logger logger = LoggerFactory.getLogger(JMSReceiver.class);\r\n    \r\n        @Override\r\n        public void onMessage(Message message, Session session) throws JMSException {\r\n            // We know/assume the Queue Payload type was set to &#39;TextMessage&#39;\r\n            TextMessage txtMessage = (TextMessage) message;\r\n            logger.info(&quot;JMS Text Message received: &quot; + txtMessage.getText());\r\n    \t\t\r\n    \t\t// ... further implementation\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<p>Hi it also took me quite some time to make the connection work, but finally it did and this is how:</p>\n\n<p>First make sure the payload of your Oracle AQ Queue table is not set to RAW but preferably to Text: SYS.AQ$_JMS_TEXT_MESSAGE</p>\n\n<p>Next use a OracleAQConfiguration similar as hereunder:</p>\n\n<pre><code>import oracle.jdbc.pool.OracleDataSource;\nimport oracle.jms.AQjmsFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.jms.JMSException;\nimport javax.jms.QueueConnectionFactory;\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n\n@Configuration\npublic class OracleAQConfiguration {\n\n    // Values are retrieved from custom added props in Spring application.properties\n\n    @Value(\"${myapplication.datasource.user}\")\n    private String user;\n\n    @Value(\"${myapplication.datasource.password}\")\n    private String password;\n\n    @Value(\"${myapplication.datasource.connectionstring}\")\n    private String connectionstring;\n\n    @Bean\n    /**\n     * Spring bean with the configuration details of where the Oracle database is containing the QUEUES\n     */\n    public DataSource dataSource() throws SQLException {\n        OracleDataSource ds = new OracleDataSource();\n        ds.setUser(user);\n        ds.setPassword(password);\n        ds.setURL(connectionstring);\n        ds.setImplicitCachingEnabled(true);\n        ds.setFastConnectionFailoverEnabled(true);\n        return ds;\n    }\n\n    @Bean\n    /**\n     * The KEY component effectively connecting to the Oracle AQ system using the datasource input\n     */\n    public QueueConnectionFactory connectionFactory(DataSource dataSource) throws JMSException {\n        return AQjmsFactory.getQueueConnectionFactory(dataSource);\n    }\n\n}\n</code></pre>\n\n<p>Next use a JMSConfiguration similar as hereunder.\nHere I read and write to the same queue which is unlikely in a real application integration scenario. But OK for testing</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.jms.listener.DefaultMessageListenerContainer;\n\nimport javax.jms.ConnectionFactory;\nimport javax.sql.DataSource;\n\n@Configuration\npublic class JMSConfiguration {\n    private static final String QUEUENAME_WRITE = \"MYQUEUE\";\n    private static final String QUEUENAME_READ = \"MYQUEUE\";\n\n    @Autowired\n    private JMSReceiver jmsReceiver;\n\n    @Bean\n    /**\n     * Spring bean to WRITE/SEND/ENQUEUE messages on a queue with a certain name\n     */\n    public JmsTemplate jmsTemplate(ConnectionFactory conFactory) {\n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setDefaultDestinationName(QUEUENAME_WRITE);\n        jmsTemplate.setSessionTransacted(true);\n        jmsTemplate.setConnectionFactory(conFactory);\n\n        return jmsTemplate;\n    }\n\n    /**\n     * Spring bean to READ/RECEIVE/DEQUEUE messages of a queue with a certain name\n     * All of this happens under a code managed transaction\n     * to commit the change on Oracle (remove of the message from the queue table)\n     * Reference the application custom code handling the message here\n     */\n    @Bean\n    public DefaultMessageListenerContainer messageListenerContainer(ConnectionFactory conFactory, DataSource dataSource) {\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\n        dmlc.setDestinationName(QUEUENAME_READ);\n        dmlc.setSessionTransacted(true);\n        dmlc.setConnectionFactory(conFactory);\n\n        DataSourceTransactionManager manager = new DataSourceTransactionManager();\n        manager.setDataSource(dataSource);\n        dmlc.setTransactionManager(manager);\n\n        // Add here our self-written JMS Receiver\n        dmlc.setMessageListener(jmsReceiver);\n        return dmlc;\n    }\n\n}\n</code></pre>\n\n<p>Finally for handling incoming JMS messages use something like:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.jms.listener.SessionAwareMessageListener;\nimport org.springframework.stereotype.Component;\n\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.Session;\nimport javax.jms.TextMessage;\n\n@Component\npublic class JMSReceiver implements SessionAwareMessageListener {\n    private static final Logger logger = LoggerFactory.getLogger(JMSReceiver.class);\n\n    @Override\n    public void onMessage(Message message, Session session) throws JMSException {\n        // We know/assume the Queue Payload type was set to 'TextMessage'\n        TextMessage txtMessage = (TextMessage) message;\n        logger.info(\"JMS Text Message received: \" + txtMessage.getText());\n\n        // ... further implementation\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701784785,"creation_date":1701784027,"answer_id":77606701,"question_id":43492803,"body_markdown":"     @Bean\r\n        public AQjmsConnectionFactory connectionFactory(@Autowired DataSource dataSource) throws Exception{\r\n        \tAQjmsConnectionFactory connectionFactory=new AQjmsConnectionFactory();\r\n        \tconnectionFactory.setDatasource(dataSource);\r\n        \treturn connectionFactory;\r\n        }\r\n        @Bean\r\n        public JmsTemplate jmsTemplate(@Autowired AQjmsConnectionFactory connectionFactory) throws Exception{\r\n        \tJmsTemplate jmsTemplate=new JmsTemplate();\r\n        \tjmsTemplate.setConnectionFactory(connectionFactory);\r\n        \treturn jmsTemplate;\r\n        }\r\n    \r\n    POM File:\r\n    \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;com.oracle.database.messaging&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;aqapi-jakarta&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;23.2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.transaction/jakarta.transaction-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n//Code to send message to Oracle AQ JMS Queue using Spring JMS Template\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jms.core.JmsTemplate;\r\n    import org.springframework.jms.core.MessageCreator;\r\n    import org.springframework.stereotype.Service;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import jakarta.jms.JMSException;\r\n    import jakarta.jms.Message;\r\n    import jakarta.jms.Session;\r\n    \r\n    @Service\r\n    public class JmsUtil {\r\n    \t@Autowired\r\n    \tJmsTemplate jmsTemplate;\r\n    \t//Send JMS message to Oracle AQ JMS queue\r\n    \tpublic void sendMessageToJmsQueue(YourPojoClass yourPojoClass) {\r\n    \t\ttry {\r\n    \t\t\tObjectMapper mapper=new ObjectMapper();\r\n    \t\t\tString pojoAsJson=mapper.writeValueAsString(yourPojoClass);\r\n    \t\t\tjmsTemplate.send(&quot;YourQueueName&quot;, new MessageCreator() {\r\n    \t\t\t\tpublic Message createMessage(Session session) throws JMSException{\r\n    \t\t\t\t\treturn session.createTextMessage(pojoAsJson);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<pre><code> @Bean\n    public AQjmsConnectionFactory connectionFactory(@Autowired DataSource dataSource) throws Exception{\n        AQjmsConnectionFactory connectionFactory=new AQjmsConnectionFactory();\n        connectionFactory.setDatasource(dataSource);\n        return connectionFactory;\n    }\n    @Bean\n    public JmsTemplate jmsTemplate(@Autowired AQjmsConnectionFactory connectionFactory) throws Exception{\n        JmsTemplate jmsTemplate=new JmsTemplate();\n        jmsTemplate.setConnectionFactory(connectionFactory);\n        return jmsTemplate;\n    }\n\nPOM File:\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.messaging&lt;/groupId&gt;\n            &lt;artifactId&gt;aqapi-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;23.2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/jakarta.transaction/jakarta.transaction-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>//Code to send message to Oracle AQ JMS Queue using Spring JMS Template</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.jms.core.MessageCreator;\nimport org.springframework.stereotype.Service;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport jakarta.jms.JMSException;\nimport jakarta.jms.Message;\nimport jakarta.jms.Session;\n\n@Service\npublic class JmsUtil {\n    @Autowired\n    JmsTemplate jmsTemplate;\n    //Send JMS message to Oracle AQ JMS queue\n    public void sendMessageToJmsQueue(YourPojoClass yourPojoClass) {\n        try {\n            ObjectMapper mapper=new ObjectMapper();\n            String pojoAsJson=mapper.writeValueAsString(yourPojoClass);\n            jmsTemplate.send(&quot;YourQueueName&quot;, new MessageCreator() {\n                public Message createMessage(Session session) throws JMSException{\n                    return session.createTextMessage(pojoAsJson);\n                }\n            });\n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6196159,"reputation":1401,"user_id":4827363,"accept_rate":41,"display_name":"codesmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1701784785,"creation_date":1492597042,"question_id":43492803,"body_markdown":"I already found out how to create an Oracle database with AQ (Streams?) packages. I also created some queue&#39;s in Oracle (by hand). (Using PL/SQL and SQL).\r\n\r\nHowever, I&#39;m having a hard time setting up a proper connection from Spring.\r\n\r\nThe following works (using `oracle.AQ` java package):\r\n\r\n\r\n    private final String aqUrl = &quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;;\r\n    private final String aqUser = &quot;queue_mut&quot;;\r\n    private final String aqPassword = &quot;******&quot;;\r\n    private final String aqSchema = &quot;queue_mut&quot;;\r\n    private final String aqTable = &quot;aq_table1&quot;;\r\n    private final String aqQueue = &quot;aq_queue1&quot;;\r\n\r\n\r\n    @Test\r\n    public void testManualAQ() throws ClassNotFoundException, SQLException, AQException {\r\n\r\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n        Connection connection = DriverManager.getConnection(aqUrl, aqUser, aqPassword);\r\n        connection.setAutoCommit(false);\r\n\r\n        Class.forName(&quot;oracle.AQ.AQOracleDriver&quot;);\r\n        AQSession aqSession = AQDriverManager.createAQSession(connection);\r\n        AQQueueTable q_table = aqSession.createQueueTable(aqSchema, aqTable, new AQQueueTableProperty(&quot;RAW&quot;));\r\n        aqSession.createQueue(q_table, aqQueue, new AQQueueProperty());\r\n\r\n    }\r\n\r\n(based on https://docs.oracle.com/cd/B10501_01/appdev.920/a96587/apexampl.htm)\r\n\r\nThis shows me that I can connect to Oracle and reach AQ functionality.\r\n\r\nNow, I&#39;m trying to create Java Configured beans in order to use the `JmsTemplate`. \r\n\r\n\r\n\r\n    @Resource\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    @Test\r\n    public void testJmsTemplate() {\r\n        String xmlval = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                &quot;&lt;product id=\\&quot;10\\&quot;&gt;\\n&quot; +\r\n                &quot; &lt;description&gt;Foo&lt;/description&gt;\\n&quot; +\r\n                &quot; &lt;price&gt;2.05&lt;/price&gt;\\n&quot; +\r\n                &quot;&lt;/product&gt;&quot;;\r\n\r\n        jmsTemplate.convertAndSend(aqSchema + &quot;.jms_ws_incoming_queue&quot;, xmlval);\r\n    }\r\n\r\n(yes, the queue already exists ;-))\r\n\r\nWith the following configuration class:\r\n\r\n\r\n    import oracle.jms.AQjmsFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\n    import org.springframework.jms.core.JmsTemplate;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    import javax.jms.JMSException;\r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    public class OracleAQConfiguration {\r\n    \r\n        @Bean\r\n        public DataSourceTransactionManager transactionManager(DataSource dataSource) {\r\n            DataSourceTransactionManager manager = new DataSourceTransactionManager();\r\n            manager.setDataSource(dataSource);\r\n            return manager;\r\n        }\r\n    \r\n        @Bean\r\n        public ConnectionFactory connectionFactory(DataSource dataSource) throws JMSException {\r\n            return AQjmsFactory.getQueueConnectionFactory(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public JmsTemplate jmsTemplate(ConnectionFactory connectionFactory) {\r\n            JmsTemplate jmsTemplate = new JmsTemplate();\r\n            jmsTemplate.setSessionTransacted(true);\r\n            jmsTemplate.setConnectionFactory(connectionFactory);\r\n            return jmsTemplate;\r\n        }\r\n    }\r\n\r\nAnd with properties yml:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:oracle:thin:@localhost:1521:orcl\r\n        username: queue_mut\r\n        password: ******\r\n        driverClassName: oracle.jdbc.driver.OracleDriver\r\n\r\nBut with this I get errors which I cannot grasp:\r\n\r\n    2017-04-19 12:11:17,151  INFO my.project.QueueTest: Started QueueTest in 5.305 seconds (JVM running for 6.588)\r\n    \r\n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is oracle.jms.AQjmsException: Error creating the db_connection; nested exception is java.lang.ClassCastException: com.sun.proxy.$Proxy102 cannot be cast to oracle.jdbc.internal.OracleConnection\r\n    \r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316)\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169)\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487)\r\n    \tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:570)\r\n    \tat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:658)\r\n    \tat my.project.QueueTest.testJmsTemplate(QueueTest.java:51)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    Caused by: oracle.jms.AQjmsException: Error creating the db_connection\r\n    \tat oracle.jms.AQjmsDBConnMgr.getConnection(AQjmsDBConnMgr.java:625)\r\n    \tat oracle.jms.AQjmsDBConnMgr.&lt;init&gt;(AQjmsDBConnMgr.java:399)\r\n    \tat oracle.jms.AQjmsConnection.&lt;init&gt;(AQjmsConnection.java:249)\r\n    \tat oracle.jms.AQjmsConnectionFactory.createConnection(AQjmsConnectionFactory.java:513)\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:180)\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:474)\r\n    \t... 36 more\r\n    Caused by: java.lang.ClassCastException: com.sun.proxy.$Proxy102 cannot be cast to oracle.jdbc.internal.OracleConnection\r\n    \tat oracle.jms.AQjmsGeneralDBConnection.getProviderKey(AQjmsGeneralDBConnection.java:98)\r\n    \tat oracle.jms.AQjmsGeneralDBConnection.&lt;init&gt;(AQjmsGeneralDBConnection.java:67)\r\n    \tat oracle.jms.AQjmsDBConnMgr.getConnection(AQjmsDBConnMgr.java:566)\r\n    \t... 41 more\r\n\r\n\r\nI believe that the Cast exception occurs because it is a `ProxyConnection[PooledConnection[oracle.jdbc.driver.T4CConnection@40016ce1]]`. But I don&#39;t know how to fix this.","title":"How to implement an Oracle AQ queue in Spring Boot?","body":"<p>I already found out how to create an Oracle database with AQ (Streams?) packages. I also created some queue's in Oracle (by hand). (Using PL/SQL and SQL).</p>\n\n<p>However, I'm having a hard time setting up a proper connection from Spring.</p>\n\n<p>The following works (using <code>oracle.AQ</code> java package):</p>\n\n<pre><code>private final String aqUrl = \"jdbc:oracle:thin:@localhost:1521:orcl\";\nprivate final String aqUser = \"queue_mut\";\nprivate final String aqPassword = \"******\";\nprivate final String aqSchema = \"queue_mut\";\nprivate final String aqTable = \"aq_table1\";\nprivate final String aqQueue = \"aq_queue1\";\n\n\n@Test\npublic void testManualAQ() throws ClassNotFoundException, SQLException, AQException {\n\n    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n    Connection connection = DriverManager.getConnection(aqUrl, aqUser, aqPassword);\n    connection.setAutoCommit(false);\n\n    Class.forName(\"oracle.AQ.AQOracleDriver\");\n    AQSession aqSession = AQDriverManager.createAQSession(connection);\n    AQQueueTable q_table = aqSession.createQueueTable(aqSchema, aqTable, new AQQueueTableProperty(\"RAW\"));\n    aqSession.createQueue(q_table, aqQueue, new AQQueueProperty());\n\n}\n</code></pre>\n\n<p>(based on <a href=\"https://docs.oracle.com/cd/B10501_01/appdev.920/a96587/apexampl.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B10501_01/appdev.920/a96587/apexampl.htm</a>)</p>\n\n<p>This shows me that I can connect to Oracle and reach AQ functionality.</p>\n\n<p>Now, I'm trying to create Java Configured beans in order to use the <code>JmsTemplate</code>. </p>\n\n<pre><code>@Resource\nprivate JmsTemplate jmsTemplate;\n\n@Test\npublic void testJmsTemplate() {\n    String xmlval = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n\" +\n            \"&lt;product id=\\\"10\\\"&gt;\\n\" +\n            \" &lt;description&gt;Foo&lt;/description&gt;\\n\" +\n            \" &lt;price&gt;2.05&lt;/price&gt;\\n\" +\n            \"&lt;/product&gt;\";\n\n    jmsTemplate.convertAndSend(aqSchema + \".jms_ws_incoming_queue\", xmlval);\n}\n</code></pre>\n\n<p>(yes, the queue already exists ;-))</p>\n\n<p>With the following configuration class:</p>\n\n<pre><code>import oracle.jms.AQjmsFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.jms.core.JmsTemplate;\n\nimport javax.jms.ConnectionFactory;\nimport javax.jms.JMSException;\nimport javax.sql.DataSource;\n\n@Configuration\npublic class OracleAQConfiguration {\n\n    @Bean\n    public DataSourceTransactionManager transactionManager(DataSource dataSource) {\n        DataSourceTransactionManager manager = new DataSourceTransactionManager();\n        manager.setDataSource(dataSource);\n        return manager;\n    }\n\n    @Bean\n    public ConnectionFactory connectionFactory(DataSource dataSource) throws JMSException {\n        return AQjmsFactory.getQueueConnectionFactory(dataSource);\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate(ConnectionFactory connectionFactory) {\n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setSessionTransacted(true);\n        jmsTemplate.setConnectionFactory(connectionFactory);\n        return jmsTemplate;\n    }\n}\n</code></pre>\n\n<p>And with properties yml:</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@localhost:1521:orcl\n    username: queue_mut\n    password: ******\n    driverClassName: oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p>But with this I get errors which I cannot grasp:</p>\n\n<pre><code>2017-04-19 12:11:17,151  INFO my.project.QueueTest: Started QueueTest in 5.305 seconds (JVM running for 6.588)\n\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is oracle.jms.AQjmsException: Error creating the db_connection; nested exception is java.lang.ClassCastException: com.sun.proxy.$Proxy102 cannot be cast to oracle.jdbc.internal.OracleConnection\n\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316)\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169)\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487)\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:570)\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:658)\n    at my.project.QueueTest.testJmsTemplate(QueueTest.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: oracle.jms.AQjmsException: Error creating the db_connection\n    at oracle.jms.AQjmsDBConnMgr.getConnection(AQjmsDBConnMgr.java:625)\n    at oracle.jms.AQjmsDBConnMgr.&lt;init&gt;(AQjmsDBConnMgr.java:399)\n    at oracle.jms.AQjmsConnection.&lt;init&gt;(AQjmsConnection.java:249)\n    at oracle.jms.AQjmsConnectionFactory.createConnection(AQjmsConnectionFactory.java:513)\n    at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:180)\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:474)\n    ... 36 more\nCaused by: java.lang.ClassCastException: com.sun.proxy.$Proxy102 cannot be cast to oracle.jdbc.internal.OracleConnection\n    at oracle.jms.AQjmsGeneralDBConnection.getProviderKey(AQjmsGeneralDBConnection.java:98)\n    at oracle.jms.AQjmsGeneralDBConnection.&lt;init&gt;(AQjmsGeneralDBConnection.java:67)\n    at oracle.jms.AQjmsDBConnMgr.getConnection(AQjmsDBConnMgr.java:566)\n    ... 41 more\n</code></pre>\n\n<p>I believe that the Cast exception occurs because it is a <code>ProxyConnection[PooledConnection[oracle.jdbc.driver.T4CConnection@40016ce1]]</code>. But I don't know how to fix this.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1701713425,"post_id":77601661,"comment_id":136807439,"body_markdown":"`count` is just an array with 256 positions. A `char` is also equivalent to the [ASCII table](https://en.wikipedia.org/wiki/ASCII) number of that character. So when filling the array they are using the character index (say for instance for &quot;A&quot; is 65) so `count[str.charAt(i)]);` is equivalent to `count[65]` if `str.charAt(i)` returns an A);","body":"<code>count</code> is just an array with 256 positions. A <code>char</code> is also equivalent to the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ASCII table</a> number of that character. So when filling the array they are using the character index (say for instance for &quot;A&quot; is 65) so <code>count[str.charAt(i)]);</code> is equivalent to <code>count[65]</code> if <code>str.charAt(i)</code> returns an A);"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1701713790,"post_id":77601661,"comment_id":136807483,"body_markdown":"This is a formula for counting character occurrances in a string.","body":"This is a formula for counting character occurrances in a string."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701726451,"post_id":77601661,"comment_id":136809395,"body_markdown":"Give it a try with the string `&quot;&#128516;geeks&#128516;&quot;`","body":"Give it a try with the string <code>&quot;geeks&quot;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701753458,"post_id":77601661,"comment_id":136811686,"body_markdown":"That line means the author thinks its still 1990 and one character is equivalent to one byte.","body":"That line means the author thinks its still 1990 and one character is equivalent to one byte."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701777923,"post_id":77601661,"comment_id":136815079,"body_markdown":"tbf *one `char`* but that&#39;s not *much* better ;)","body":"tbf <i>one <code>char</code></i> but that&#39;s not <i>much</i> better ;)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1701785742,"post_id":77601661,"comment_id":136816620,"body_markdown":"@g00se: Nope, one *byte* as far as I can see, given `static final int MAX_CHAR = 256`. No need to go out of the BMP to cause problems - just beyond ISO-8859-1.","body":"@g00se: Nope, one <i>byte</i> as far as I can see, given <code>static final int MAX_CHAR = 256</code>. No need to go out of the BMP to cause problems - just beyond ISO-8859-1."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701785921,"post_id":77601661,"comment_id":136816666,"body_markdown":"@VGR this 1990 mindset perfectly fits the use of the legacy array syntax. My highlight, however, is how the optimized table approach is destroyed by a quadratic time complexity in the follow-up printing code","body":"@VGR this 1990 mindset perfectly fits the use of the legacy array syntax. My highlight, however, is how the optimized table approach is destroyed by a quadratic time complexity in the follow-up printing code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701786106,"post_id":77601661,"comment_id":136816695,"body_markdown":"@JonSkeet *Nope, one byte as far as I can see, given ...* Yes, you&#39;re right. Was forgetting that","body":"@JonSkeet <i>Nope, one byte as far as I can see, given ...</i> Yes, you&#39;re right. Was forgetting that"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701784046,"post_id":77606143,"comment_id":136816273,"body_markdown":"And now try with `&quot;&#128105;&#127996;&#128187;&#127987;&#127752;&quot;`. The takeaway is, even codepoints are not sufficient to handle *characters*. You can fix it by using `Pattern.compile(&quot;\\\\X&quot;).matcher(str).results() .collect(Collectors.groupingBy(MatchResult::group, Collectors.counting())) .entrySet().stream().sorted(Map.Entry.comparingByKey()) .forEach(e -&gt; System.out.println(e.getKey() + &quot; = &quot; + e.getValue()));` but its ok to implement an operation with limitations, even only handling ASCII is ok, as long as the limitations are understood and documented.","body":"And now try with <code>&quot;&quot;</code>. The takeaway is, even codepoints are not sufficient to handle <i>characters</i>. You can fix it by using <code>Pattern.compile(&quot;\\\\X&quot;).matcher(str).results() .collect(Collectors.groupingBy(MatchResult::group, Collectors.counting())) .entrySet().stream().sorted(Map.Entry.comparingByKey()) .forEach(e -&gt; System.out.println(e.getKey() + &quot; = &quot; + e.getValue()));</code> but its ok to implement an operation with limitations, even only handling ASCII is ok, as long as the limitations are understood and documented."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701784361,"post_id":77606143,"comment_id":136816357,"body_markdown":"Interesting ...","body":"Interesting ..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701785156,"post_id":77606143,"comment_id":136816511,"body_markdown":"You can convert a single codepoint to a `String` using [`Character.toString(e.getKey())`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#toString(int)). But since youre using `printf` anyway, you can also use `System.out.printf(&quot;%c = %d%n&quot;, e.getKey(), e.getValue())`","body":"You can convert a single codepoint to a <code>String</code> using <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\"><code>Character.toString(e.getKey())</code></a>. But since youre using <code>printf</code> anyway, you can also use <code>System.out.printf(&quot;%c = %d%n&quot;, e.getKey(), e.getValue())</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701786231,"post_id":77606143,"comment_id":136816727,"body_markdown":"Doh! Yes you&#39;re right. Even so, strange that the ctor doesn&#39;t exist?","body":"Doh! Yes you&#39;re right. Even so, strange that the ctor doesn&#39;t exist?"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701784483,"creation_date":1701778728,"answer_id":77606143,"question_id":77601661,"body_markdown":"Here&#39;s a possible equivalent to your code showing a way of dealing with e.g. the string &quot;&#128516;geeks&#128516;&quot;. Modern Unicode characters often break the bounds of `char` so now need to be handled with `int`:\r\n\r\n```\r\n    static void getOccurringChar(String str) {\r\n        Map&lt;Integer, Long&gt; counts = str.codePoints().boxed()\r\n                .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting()));\r\n        counts.entrySet().stream().sorted(Map.Entry.&lt;Integer, Long&gt;comparingByKey())\r\n                .forEach(e -&gt; System.out.printf(&quot;%s = %d%n&quot;, new String(new int[] { e.getKey() }, 0, 1), e.getValue()));\r\n    }\r\n```\r\nI&#39;m really not sure why there doesn&#39;t exist a ctor for `String` that allows construction from a single `int` codepoint. Running with the above string:\r\n```\r\ngoose@t410:/tmp$ java NoOfOccurrenceOfCharacters &quot;&#128516;geeks&#128516;&quot; \r\ne = 2\r\ng = 1\r\nk = 1\r\ns = 1\r\n&#128516; = 2\r\n```\r\nApologies for the less than clear formatting. I&#39;d probably need to tune my command line Eclipse formatter. If anyone knows the setting to format the chained calls one under the next, I&#39;d be interested to know.","title":"What is this count[str.charAt(i)]++;","body":"<p>Here's a possible equivalent to your code showing a way of dealing with e.g. the string &quot;geeks&quot;. Modern Unicode characters often break the bounds of <code>char</code> so now need to be handled with <code>int</code>:</p>\n<pre><code>    static void getOccurringChar(String str) {\n        Map&lt;Integer, Long&gt; counts = str.codePoints().boxed()\n                .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting()));\n        counts.entrySet().stream().sorted(Map.Entry.&lt;Integer, Long&gt;comparingByKey())\n                .forEach(e -&gt; System.out.printf(&quot;%s = %d%n&quot;, new String(new int[] { e.getKey() }, 0, 1), e.getValue()));\n    }\n</code></pre>\n<p>I'm really not sure why there doesn't exist a ctor for <code>String</code> that allows construction from a single <code>int</code> codepoint. Running with the above string:</p>\n<pre><code>goose@t410:/tmp$ java NoOfOccurrenceOfCharacters &quot;geeks&quot; \ne = 2\ng = 1\nk = 1\ns = 1\n = 2\n</code></pre>\n<p>Apologies for the less than clear formatting. I'd probably need to tune my command line Eclipse formatter. If anyone knows the setting to format the chained calls one under the next, I'd be interested to know.</p>\n"}],"owner":{"account_id":26120045,"reputation":1,"user_id":19812487,"display_name":"Pazhani_Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701784483,"creation_date":1701713064,"question_id":77601661,"body_markdown":"I was trying to understand a java program to Count the Occurrences of Each Character. I saw a solution in a portal with a program which I have provided below, \r\n\r\n```\r\n// Java program for the above approach\r\nclass NoOfOccurrenceOfCharacters {\r\n\tstatic final int MAX_CHAR = 256;\r\n\r\n\tstatic void getOccurringChar(String str)\r\n\t{\r\n\t\t\r\n\t\t// Create an array of size 256 \r\n\t\t// i.e. ASCII_SIZE\r\n\t\tint count[] = new int[MAX_CHAR];\r\n\r\n\t\tint len = str.length();\r\n\r\n\t\t// Initialize count array index\r\n\t\tfor (int i = 0; i &lt; len; i++)\r\n\t\t\tcount[str.charAt(i)]++;\r\n\r\n\t\t// Create an array of given String size\r\n\t\tchar ch[] = new char[str.length()];\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tch[i] = str.charAt(i);\r\n\t\t\tint find = 0;\r\n\t\t\tfor (int j = 0; j &lt;= i; j++) {\r\n\r\n\t\t\t\t// If any matches found\r\n\t\t\t\tif (str.charAt(i) == ch[j])\r\n\t\t\t\t\tfind++;\r\n\t\t\t}\r\n\r\n\t\t\tif (find == 1)\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;Number of Occurrence of &quot;\r\n\t\t\t\t\t+ str.charAt(i)\r\n\t\t\t\t\t+ &quot; is:&quot; + count[str.charAt(i)]);\r\n\t\t}\r\n\t}\r\n\r\n\t// Driver Code\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\r\n\t\tString str = &quot;geeksforgeeks&quot;;\r\n\r\n\t\tgetOccurringChar(str);\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nIn the above code , Can some someone explain what does the line \\*\\*count\\[str.charAt(i)\\]++;\\*\\* means. Why that line is used and what is stored in that array. It would be really helpful if someone explains the code","title":"What is this count[str.charAt(i)]++;","body":"<p>I was trying to understand a java program to Count the Occurrences of Each Character. I saw a solution in a portal with a program which I have provided below,</p>\n<pre><code>// Java program for the above approach\nclass NoOfOccurrenceOfCharacters {\n    static final int MAX_CHAR = 256;\n\n    static void getOccurringChar(String str)\n    {\n        \n        // Create an array of size 256 \n        // i.e. ASCII_SIZE\n        int count[] = new int[MAX_CHAR];\n\n        int len = str.length();\n\n        // Initialize count array index\n        for (int i = 0; i &lt; len; i++)\n            count[str.charAt(i)]++;\n\n        // Create an array of given String size\n        char ch[] = new char[str.length()];\n        for (int i = 0; i &lt; len; i++) {\n            ch[i] = str.charAt(i);\n            int find = 0;\n            for (int j = 0; j &lt;= i; j++) {\n\n                // If any matches found\n                if (str.charAt(i) == ch[j])\n                    find++;\n            }\n\n            if (find == 1)\n                System.out.println(\n                    &quot;Number of Occurrence of &quot;\n                    + str.charAt(i)\n                    + &quot; is:&quot; + count[str.charAt(i)]);\n        }\n    }\n\n    // Driver Code\n    public static void main(String[] args)\n    {\n\n        String str = &quot;geeksforgeeks&quot;;\n\n        getOccurringChar(str);\n    }\n}\n\n\n</code></pre>\n<p>In the above code , Can some someone explain what does the line **count[str.charAt(i)]++;** means. Why that line is used and what is stored in that array. It would be really helpful if someone explains the code</p>\n"},{"tags":["java","kotlin","okhttp","payload"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701541668,"post_id":77590259,"comment_id":136789648,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":30047190,"reputation":1,"user_id":23026543,"display_name":"MoeSakura"},"score":0,"creation_date":1701784210,"post_id":77590259,"comment_id":136816317,"body_markdown":"Okay, thank you for your reply.\nHere is an example given to me by Claude, which points out that Payload is located in okhttp3.Payload and is a built-in method for okhttp.\nBut later I tried to accomplish a similar function with python, and I found that I seemed to misunderstand something, or that AI gave the wrong answer, maybe okhttp itself does not have this thing, this payload comes from other people&#39;s own defined objects.","body":"Okay, thank you for your reply. Here is an example given to me by Claude, which points out that Payload is located in okhttp3.Payload and is a built-in method for okhttp. But later I tried to accomplish a similar function with python, and I found that I seemed to misunderstand something, or that AI gave the wrong answer, maybe okhttp itself does not have this thing, this payload comes from other people&#39;s own defined objects."},{"owner":{"account_id":30047190,"reputation":1,"user_id":23026543,"display_name":"MoeSakura"},"score":0,"creation_date":1701784229,"post_id":77590259,"comment_id":136816325,"body_markdown":"```\nimport okhttp3.OkHttpClient\nimport okhttp3.Request\nimport okhttp3.WebSocket\nimport okhttp3.Response\nimport okhttp3.WebSocketListener\nimport okhttp3.Payload\n\nclass MyClass {\n\n    private val client = OkHttpClient()\n\n    fun connect() {\n        // ...\n        \n        webSocket.send(Payload.create(data))\n    }\n\n}\n\n```","body":"``` import okhttp3.OkHttpClient import okhttp3.Request import okhttp3.WebSocket import okhttp3.Response import okhttp3.WebSocketListener import okhttp3.Payload  class MyClass {      private val client = OkHttpClient()      fun connect() {         // ...                  webSocket.send(Payload.create(data))     }  }  ```"}],"owner":{"account_id":30047190,"reputation":1,"user_id":23026543,"display_name":"MoeSakura"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701784473,"creation_date":1701518560,"question_id":77590259,"body_markdown":"I found code like `webSocket.send (Payload.create (data))` elsewhere.\r\nBut when I tried to use `Payload.create (data)` in IDEA, I got a Unresolved reference: Payload error\r\n`WebSocket.send (text)` works fine, but the reference Payload cannot be found.\r\n\r\nTried asking Chatgpt and claude, but nothing worked\r\nAnd the advice that comes out of it is often to update dependent versions and stuff.\r\n\r\nThis is my existing dependency.\r\n\r\n\r\n```\r\ndependencies {\r\n    testImplementation(kotlin(&quot;test&quot;))\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1&quot;)\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor:1.7.1&quot;)\r\n    implementation(&quot;io.projectreactor.netty:reactor-netty-http:1.1.5&quot;)\r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.7.2&quot;)\r\n    implementation(&quot;com.squareup.okio:okio:3.3.0&quot;)\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\r\n\r\n}\r\n```\r\n\r\n\r\nThis is a piece of my code.\r\n\r\n\r\n```\r\n        val client = OkHttpClient()\r\n        val request = Request.Builder().url(&quot;wss://api.sgroup.qq.com/websocket/&quot;).build()\r\n        val webSocket = client.newWebSocket(request, object : WebSocketListener() {\r\n            override fun onOpen(webSocket: WebSocket, response: Response)\r\n            {\r\n                webSocket.send(&quot;Hello, WebSocket!&quot;)\r\n                //The problem is here.\r\n                WebSocket.send (Payload)\r\n} \r\n```\r\n\r\n\r\nI use import okhttp3.* for import\r\n\r\n\r\n---\r\n\r\n**Update from 2023.12.5:**\r\n\r\nHere is an example given to me by Claude, which points out that Payload is located in okhttp3.\r\n\r\nAI tells me Payload is a built-in method for okhttp.\r\n\r\nBut later I tried to accomplish a similar function with python, and I found that I seemed to misunderstand something, or that AI gave the wrong answer, **maybe okhttp itself does not have this thing, this payload comes from other people&#39;s own defined objects**\r\n\r\n```\r\n        import okhttp3.OkHttpClient\r\n        import okhttp3.Request\r\n        import okhttp3.WebSocket\r\n        import okhttp3.Response\r\n        import okhttp3.WebSocketListener\r\n        import okhttp3.Payload\r\n        \r\n        class MyClass {\r\n        \r\n            private val client = OkHttpClient()\r\n        \r\n            fun connect() {\r\n                // ...\r\n                \r\n                webSocket.send(Payload.create(data))\r\n            }\r\n    \r\n    }\r\n```\r\n\r\n","title":"Unresolved reference: Payload","body":"<p>I found code like <code>webSocket.send (Payload.create (data))</code> elsewhere.\nBut when I tried to use <code>Payload.create (data)</code> in IDEA, I got a Unresolved reference: Payload error\n<code>WebSocket.send (text)</code> works fine, but the reference Payload cannot be found.</p>\n<p>Tried asking Chatgpt and claude, but nothing worked\nAnd the advice that comes out of it is often to update dependent versions and stuff.</p>\n<p>This is my existing dependency.</p>\n<pre><code>dependencies {\n    testImplementation(kotlin(&quot;test&quot;))\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor:1.7.1&quot;)\n    implementation(&quot;io.projectreactor.netty:reactor-netty-http:1.1.5&quot;)\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.7.2&quot;)\n    implementation(&quot;com.squareup.okio:okio:3.3.0&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\n\n}\n</code></pre>\n<p>This is a piece of my code.</p>\n<pre><code>        val client = OkHttpClient()\n        val request = Request.Builder().url(&quot;wss://api.sgroup.qq.com/websocket/&quot;).build()\n        val webSocket = client.newWebSocket(request, object : WebSocketListener() {\n            override fun onOpen(webSocket: WebSocket, response: Response)\n            {\n                webSocket.send(&quot;Hello, WebSocket!&quot;)\n                //The problem is here.\n                WebSocket.send (Payload)\n} \n</code></pre>\n<p>I use import okhttp3.* for import</p>\n<hr />\n<p><strong>Update from 2023.12.5:</strong></p>\n<p>Here is an example given to me by Claude, which points out that Payload is located in okhttp3.</p>\n<p>AI tells me Payload is a built-in method for okhttp.</p>\n<p>But later I tried to accomplish a similar function with python, and I found that I seemed to misunderstand something, or that AI gave the wrong answer, <strong>maybe okhttp itself does not have this thing, this payload comes from other people's own defined objects</strong></p>\n<pre><code>        import okhttp3.OkHttpClient\n        import okhttp3.Request\n        import okhttp3.WebSocket\n        import okhttp3.Response\n        import okhttp3.WebSocketListener\n        import okhttp3.Payload\n        \n        class MyClass {\n        \n            private val client = OkHttpClient()\n        \n            fun connect() {\n                // ...\n                \n                webSocket.send(Payload.create(data))\n            }\n    \n    }\n</code></pre>\n"},{"tags":["java","decision-tree"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1701784019,"post_id":77606575,"comment_id":136816270,"body_markdown":"What is the entropy of the complete dataset? My best guess right now is that you never enter the if clause due to a bad choice for `best_entropy`.","body":"What is the entropy of the complete dataset? My best guess right now is that you never enter the if clause due to a bad choice for <code>best_entropy</code>."},{"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"score":0,"creation_date":1701784198,"post_id":77606575,"comment_id":136816314,"body_markdown":"There are only two attributes, so entropy should be at max 1, right?","body":"There are only two attributes, so entropy should be at max 1, right?"},{"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"score":0,"creation_date":1701784973,"post_id":77606575,"comment_id":136816480,"body_markdown":"Yeah that was the problem I changed it and now it works fine.","body":"Yeah that was the problem I changed it and now it works fine."}],"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701783820,"creation_date":1701782950,"question_id":77606575,"body_markdown":"The object datum has members int y and []x. y is the label of the data point and y is the label and x are the attributes. The best attribute refers to the index of the attribute that is best for a split. This is the method Im using to find the best split. The best attribute comes out to being -1 for reason. Can anyone explain why?\r\n\r\n\r\n\r\n    private ArrayList&lt;Double&gt; find_best_split(ArrayList&lt;Datum&gt; dataset) {\r\n        \t\tArrayList&lt;Double&gt; result = new ArrayList&lt;&gt;();\r\n        \t\tdouble best_entropy = 1;\r\n        \t\tdouble best_attribute = -1;\r\n        \t\tdouble best_threshold = -1;\r\n                int numofattributes =dataset.get(0).x.length;\r\n        \r\n        \t\t// For each attribute. the index refers to which attribute in the list of attribute;\r\n        \t\tfor (int i = 0; i &lt; dataset.get(0).x.length; i++){\r\n        \t\t\tfor (Datum datapoint : dataset){\r\n        \t\t\t\tdouble threshold = datapoint.x[i];\r\n        \t\t\t\tArrayList&lt;Datum&gt; Data1 = new ArrayList&lt;&gt;();\r\n        \t\t\t\tArrayList&lt;Datum&gt; Data2 = new ArrayList&lt;&gt;();\r\n        \t\t\t\t//Make the split. Split into two datasets based on the threshold value set earlier\r\n        \t\t\t\tfor (Datum point : dataset) {\r\n        \t\t\t\t\tif (point.x[i] &gt;= threshold) {\r\n        \t\t\t\t\t\tData2.add(point);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\tData1.add(point);\r\n        \t\t\t\t}\r\n        \t\t\t\t// Calculate average entropy\r\n        \t\t\t\tdouble w1 = (double) Data1.size() /dataset.size();\r\n        \t\t\t\tdouble w2 = (double) Data2.size() /dataset.size();\r\n        \t\t\t\tdouble average_entropy = w1*calcEntropy(Data1) + w2*calcEntropy(Data2);\r\n        \r\n        \t\t\t\tif(average_entropy &lt; best_entropy){\r\n        \t\t\t\t\tbest_entropy = average_entropy;\r\n        \t\t\t\t\tbest_threshold = threshold;\r\n        \t\t\t\t\tbest_attribute = i;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \r\n        \t\tresult.add(best_attribute);\r\n        \t\tresult.add(best_threshold);\r\n        \t\treturn result;\r\n        \t}\r\n\r\n    double calcEntropy(ArrayList&lt;Datum&gt; datalist) {\r\n    \t\tdouble entropy = 0;\r\n    \t\tdouble px = 0;\r\n    \t\tfloat [] counter= new float[2];\r\n    \t\tif (datalist.size()==0)\r\n    \t\t\treturn 0;\r\n    \t\tdouble num0 = 0.00000001,num1 = 0.000000001;\r\n    \r\n    \t\t//calculates the number of points belonging to each of the labels\r\n    \t\tfor (Datum d : datalist)\r\n    \t\t{\r\n    \t\t\tcounter[d.y]+=1;\r\n    \t\t}\r\n    \t\t//calculates the entropy using the formula specified in the document\r\n    \t\tfor (int i = 0 ; i&lt; counter.length ; i++) {\r\n    \t\t\tif (counter[i] &gt; 0) {\r\n    \t\t\t\tpx = counter[i] / datalist.size();\r\n    \t\t\t\tentropy -= (px * Math.log(px) / Math.log(2));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn entropy;\r\n    \t}\r\n\r\n","title":"How do I successfully assign the value of index to best_attribute here?","body":"<p>The object datum has members int y and []x. y is the label of the data point and y is the label and x are the attributes. The best attribute refers to the index of the attribute that is best for a split. This is the method Im using to find the best split. The best attribute comes out to being -1 for reason. Can anyone explain why?</p>\n<pre><code>private ArrayList&lt;Double&gt; find_best_split(ArrayList&lt;Datum&gt; dataset) {\n            ArrayList&lt;Double&gt; result = new ArrayList&lt;&gt;();\n            double best_entropy = 1;\n            double best_attribute = -1;\n            double best_threshold = -1;\n            int numofattributes =dataset.get(0).x.length;\n    \n            // For each attribute. the index refers to which attribute in the list of attribute;\n            for (int i = 0; i &lt; dataset.get(0).x.length; i++){\n                for (Datum datapoint : dataset){\n                    double threshold = datapoint.x[i];\n                    ArrayList&lt;Datum&gt; Data1 = new ArrayList&lt;&gt;();\n                    ArrayList&lt;Datum&gt; Data2 = new ArrayList&lt;&gt;();\n                    //Make the split. Split into two datasets based on the threshold value set earlier\n                    for (Datum point : dataset) {\n                        if (point.x[i] &gt;= threshold) {\n                            Data2.add(point);\n                        }\n                        Data1.add(point);\n                    }\n                    // Calculate average entropy\n                    double w1 = (double) Data1.size() /dataset.size();\n                    double w2 = (double) Data2.size() /dataset.size();\n                    double average_entropy = w1*calcEntropy(Data1) + w2*calcEntropy(Data2);\n    \n                    if(average_entropy &lt; best_entropy){\n                        best_entropy = average_entropy;\n                        best_threshold = threshold;\n                        best_attribute = i;\n                    }\n                }\n            }\n    \n            result.add(best_attribute);\n            result.add(best_threshold);\n            return result;\n        }\n\ndouble calcEntropy(ArrayList&lt;Datum&gt; datalist) {\n        double entropy = 0;\n        double px = 0;\n        float [] counter= new float[2];\n        if (datalist.size()==0)\n            return 0;\n        double num0 = 0.00000001,num1 = 0.000000001;\n\n        //calculates the number of points belonging to each of the labels\n        for (Datum d : datalist)\n        {\n            counter[d.y]+=1;\n        }\n        //calculates the entropy using the formula specified in the document\n        for (int i = 0 ; i&lt; counter.length ; i++) {\n            if (counter[i] &gt; 0) {\n                px = counter[i] / datalist.size();\n                entropy -= (px * Math.log(px) / Math.log(2));\n            }\n        }\n\n        return entropy;\n    }\n</code></pre>\n"},{"tags":["java","selenium","iframe"],"comments":[{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1566963216,"post_id":57684620,"comment_id":101815079,"body_markdown":"change id to @id or just .","body":"change id to @id or just ."},{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":0,"creation_date":1566963305,"post_id":57684620,"comment_id":101815090,"body_markdown":"you should specify the attribute `id` as `@id` in your xpath. If still the iframe not detected then check if it&#39;s the another parent iframe by any chance. Btw, it&#39;s not a good idea to post the html of screenshot.","body":"you should specify the attribute <code>id</code> as <code>@id</code> in your xpath. If still the iframe not detected then check if it&#39;s the another parent iframe by any chance. Btw, it&#39;s not a good idea to post the html of screenshot."},{"owner":{"account_id":16588035,"reputation":1,"user_id":11986867,"display_name":"Jed Feng"},"score":0,"creation_date":1566964532,"post_id":57684620,"comment_id":101815324,"body_markdown":"@supputuri sorry, I am pretty new for posting, how should I post the html? Also I used @ id and still not detecting the frame.","body":"@supputuri sorry, I am pretty new for posting, how should I post the html? Also I used @ id and still not detecting the frame."}],"answers":[{"tags":[],"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566967504,"creation_date":1566967504,"answer_id":57685198,"question_id":57684620,"body_markdown":"In iframes we can switch with name, id or index\r\n\r\n    driver.switchTo().frame(&quot;name or ID&quot;);    \r\n    driver.switchTo().frame(index);\r\n\r\n**One frame**- Directly switch to the frame (with the above code)\r\n\r\n**Multiple frame** - Switch to the exact frame\r\n\r\n**Nested frame** - Switch to the parent frame (*parent frame*) and then switch to the child frame(*inner frame*)\r\n\r\n    driver.switchTo().frame(&quot;parent frame&quot;);\r\n    driver.switchTo().frame(&quot;child frame&quot;); \r\n\r\n**Switch to frame with ID or Name** If you have only one iframe then directly switch to the frame otherwise switch to parent frame and then point to the child frame.\r\n\r\n    driver.switchTo().frame(&quot;braintree-hosted-field-number&quot;);\r\n\r\n**Switch to frame with index** Seeing your html it looks like there is one iframe and then the index starts with &quot;**0**&quot;.\r\n**Example:** If you have 5 iframes then the index will be 0 1 2 3 4\r\n\r\n    driver.switchTo().frame(0);\r\n","title":"Selenium can&#39;t locate iframe element","body":"<p>In iframes we can switch with name, id or index</p>\n\n<pre><code>driver.switchTo().frame(\"name or ID\");    \ndriver.switchTo().frame(index);\n</code></pre>\n\n<p><strong>One frame</strong>- Directly switch to the frame (with the above code)</p>\n\n<p><strong>Multiple frame</strong> - Switch to the exact frame</p>\n\n<p><strong>Nested frame</strong> - Switch to the parent frame (<em>parent frame</em>) and then switch to the child frame(<em>inner frame</em>)</p>\n\n<pre><code>driver.switchTo().frame(\"parent frame\");\ndriver.switchTo().frame(\"child frame\"); \n</code></pre>\n\n<p><strong>Switch to frame with ID or Name</strong> If you have only one iframe then directly switch to the frame otherwise switch to parent frame and then point to the child frame.</p>\n\n<pre><code>driver.switchTo().frame(\"braintree-hosted-field-number\");\n</code></pre>\n\n<p><strong>Switch to frame with index</strong> Seeing your html it looks like there is one iframe and then the index starts with \"<strong>0</strong>\".\n<strong>Example:</strong> If you have 5 iframes then the index will be 0 1 2 3 4</p>\n\n<pre><code>driver.switchTo().frame(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566968659,"creation_date":1566968659,"answer_id":57685360,"question_id":57684620,"body_markdown":"Try use `WebDriverWait` with `frameToBeAvailableAndSwitchToIt`, like this:\r\n\r\n    new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.id(&quot;braintree-hosted-field-number&quot;)));\r\n\r\nFollowing import :\r\n\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    ","title":"Selenium can&#39;t locate iframe element","body":"<p>Try use <code>WebDriverWait</code> with <code>frameToBeAvailableAndSwitchToIt</code>, like this:</p>\n\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.id(\"braintree-hosted-field-number\")));\n</code></pre>\n\n<p>Following import :</p>\n\n<pre><code>import org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701783766,"creation_date":1566977027,"answer_id":57686980,"question_id":57684620,"body_markdown":"Seems you were close. To switch to the desired `&lt;iframe&gt;` you need to:\r\n\r\n- Induce _WebDriverWait_ for the desired `frameToBeAvailableAndSwitchToIt()`.\r\n- You can use the either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n - _xpath_:\r\n \r\n \t\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[@id=&#39;braintree-hosted-field-number&#39; and contains(@src, &#39;hosted-fields-frame&#39;)]&quot;)));\r\n \r\n - _cssSelector_:\r\n\r\n\t\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe#braintree-hosted-field-number[src*=&#39;hosted-fields-frame&#39;]&quot;)));\r\n\r\n- Reference: [Is it possible to switch to an element in a frame without using driver.switchTo().frame(frameName) in Selenium Webdriver Java?](https://stackoverflow.com/questions/47467518/is-it-possible-to-switch-to-an-element-in-a-frame-without-using-driver-switchto/47472200#47472200)\r\n\t\r\n&gt;Here you can find a detailed discussion on [Ways to deal with #document under iframe](https://stackoverflow.com/questions/53203417/ways-to-deal-with-document-under-iframe)","title":"Selenium can&#39;t locate iframe element","body":"<p>Seems you were close. To switch to the desired <code>&lt;iframe&gt;</code> you need to:</p>\n<ul>\n<li><p>Induce <em>WebDriverWait</em> for the desired <code>frameToBeAvailableAndSwitchToIt()</code>.</p>\n</li>\n<li><p>You can use the either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>     new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[@id='braintree-hosted-field-number' and contains(@src, 'hosted-fields-frame')]&quot;)));\n</code></pre>\n</li>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>     new WebDriverWait(driver, 20).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe#braintree-hosted-field-number[src*='hosted-fields-frame']&quot;)));\n</code></pre>\n</li>\n<li><p>Reference: <a href=\"https://stackoverflow.com/questions/47467518/is-it-possible-to-switch-to-an-element-in-a-frame-without-using-driver-switchto/47472200#47472200\">Is it possible to switch to an element in a frame without using driver.switchTo().frame(frameName) in Selenium Webdriver Java?</a></p>\n</li>\n</ul>\n<blockquote>\n<p>Here you can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/53203417/ways-to-deal-with-document-under-iframe\">Ways to deal with #document under iframe</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7865466,"reputation":575,"user_id":9142561,"accept_rate":60,"display_name":"nick318"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615052428,"creation_date":1615052428,"answer_id":66508736,"question_id":57684620,"body_markdown":"By using https://github.com/nick318/FindElementInFrames you can delegate this manual iframe switching and just search the element you need.\r\n\r\n    SearchByFrames searchInFrame = searchFactory.search(() -&gt; driver.findElement(By.tagName(&quot;body&quot;)));\r\n    Optional&lt;WebElement&gt; elem = searchInFrame.getElem();\r\n\r\nIt will look for your element across all available iframes, it works stable and fast.","title":"Selenium can&#39;t locate iframe element","body":"<p>By using <a href=\"https://github.com/nick318/FindElementInFrames\" rel=\"nofollow noreferrer\">https://github.com/nick318/FindElementInFrames</a> you can delegate this manual iframe switching and just search the element you need.</p>\n<pre><code>SearchByFrames searchInFrame = searchFactory.search(() -&gt; driver.findElement(By.tagName(&quot;body&quot;)));\nOptional&lt;WebElement&gt; elem = searchInFrame.getElem();\n</code></pre>\n<p>It will look for your element across all available iframes, it works stable and fast.</p>\n"}],"owner":{"account_id":16588035,"reputation":1,"user_id":11986867,"display_name":"Jed Feng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701783766,"creation_date":1566962600,"question_id":57684620,"body_markdown":"I want to find the input element in the iframe, however selenium is not able to locate it. \r\n\r\nI used both `switchTo().frame(id)` and `switchTo().frame(index)`, but none of it works.\r\n\r\n\r\nHere is my code:\r\n\r\n    driver.switchTo().defaultContent();\r\n    WebElement ele = driver.findElement(By.xpath(&quot;//iframe[contains(id, &#39;braintree-hosted-field-number&#39;)]&quot;));\r\n    driver.switchTo().frame(ele);\r\n\r\n**Error Message:**\r\n\r\n&gt; no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//iframe[contains(id, &#39;braintree-hosted-field-number&#39;)]&quot;}\r\n  (Session info: chrome=76.0.3809.132)\r\n\r\n**Screenshot:**\r\n\r\n[Application HTML][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DoItP.png","title":"Selenium can&#39;t locate iframe element","body":"<p>I want to find the input element in the iframe, however selenium is not able to locate it. </p>\n\n<p>I used both <code>switchTo().frame(id)</code> and <code>switchTo().frame(index)</code>, but none of it works.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>driver.switchTo().defaultContent();\nWebElement ele = driver.findElement(By.xpath(\"//iframe[contains(id, 'braintree-hosted-field-number')]\"));\ndriver.switchTo().frame(ele);\n</code></pre>\n\n<p><strong>Error Message:</strong></p>\n\n<blockquote>\n  <p>no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//iframe[contains(id, 'braintree-hosted-field-number')]\"}\n    (Session info: chrome=76.0.3809.132)</p>\n</blockquote>\n\n<p><strong>Screenshot:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/DoItP.png\" rel=\"nofollow noreferrer\">Application HTML</a></p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":25212120,"reputation":25,"user_id":19049687,"display_name":"Ferdinand Felix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701783671,"creation_date":1701783671,"question_id":77606655,"body_markdown":"I got an error\r\n\r\n/home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/MainApplication.java:32: error: cannot find symbol\r\n          packages.add(new ScreenPinningModule(reactContext));\r\n                                               ^\r\n  symbol: variable reactContext\r\n/home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/MainApplication.java:32: error: incompatible types: ScreenPinningModule cannot be converted to ReactPackage\r\n          packages.add(new ScreenPinningModule(reactContext));\r\n                       ^\r\nNote: /home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/ScreenPinningModule.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n2 errors\r\n\r\nthis is my code\r\n\r\nScreenPinningModule.java\r\n\r\n    package com.sipintarbni;\r\n    \r\n    import android.app.Activity;\r\n    import android.app.ActivityManager;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    \r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    \r\n    public class ScreenPinningModule extends ReactContextBaseJavaModule {\r\n    \r\n        public ScreenPinningModule(ReactApplicationContext reactContext) {\r\n            super(reactContext);\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return &quot;ScreenPinningModule&quot;;\r\n        }\r\n    \r\n        @ReactMethod\r\n        public void startScreenPinning() {\r\n            Activity activity = getCurrentActivity();\r\n    \r\n            if (activity != null) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    if (activity.getPackageManager().hasSystemFeature(\r\n                            &quot;android.software.picture_in_picture&quot;)) {\r\n                        if (!isInLockTaskMode(activity)) {\r\n                            activity.startLockTask();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean isInLockTaskMode(Activity activity) {\r\n            ActivityManager am = (ActivityManager) activity.getSystemService(Context.ACTIVITY_SERVICE);\r\n            return am != null &amp;&amp; am.isInLockTaskMode();\r\n        }\r\n    }\r\n\r\nMainApplication.java\r\n\r\n    package com.sipintarbni;\r\n    \r\n    import android.app.Application;\r\n    import com.facebook.react.PackageList;\r\n    import com.facebook.react.ReactApplication;\r\n    import com.facebook.react.ReactNativeHost;\r\n    import com.facebook.react.ReactPackage;\r\n    import com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\r\n    import com.facebook.react.defaults.DefaultReactNativeHost;\r\n    import com.facebook.soloader.SoLoader;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.sipintarbni.ScreenPinningModule;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class MainApplication extends Application implements ReactApplication {\r\n    \r\n      private final ReactNativeHost mReactNativeHost =\r\n          new DefaultReactNativeHost(this) {\r\n            @Override\r\n            public boolean getUseDeveloperSupport() {\r\n              return BuildConfig.DEBUG;\r\n            }\r\n    \r\n            @Override\r\n            protected List&lt;ReactPackage&gt; getPackages() {\r\n              @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n              List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n              // Packages that cannot be autolinked yet can be added manually here, for example:\r\n              // packages.add(new MyReactNativePackage());\r\n              packages.add(new ScreenPinningModule(reactContext));\r\n          //\r\n              return packages;\r\n            }\r\n    \r\n            @Override\r\n            protected String getJSMainModuleName() {\r\n              return &quot;index&quot;;\r\n            }\r\n    \r\n            @Override\r\n            protected boolean isNewArchEnabled() {\r\n              return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\r\n            }\r\n    \r\n            @Override\r\n            protected Boolean isHermesEnabled() {\r\n              return BuildConfig.IS_HERMES_ENABLED;\r\n            }\r\n          };\r\n    \r\n      @Override\r\n      public ReactNativeHost getReactNativeHost() {\r\n        return mReactNativeHost;\r\n      }\r\n    \r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n        SoLoader.init(this, /* native exopackage */ false);\r\n        if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\r\n          // If you opted-in for the New Architecture, we load the native entry point for this app.\r\n          DefaultNewArchitectureEntryPoint.load();\r\n        }\r\n        ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n      }\r\n    }","title":"React Native: MainApplication.java:32: error: cannot find symbol packages.add(new ScreenPinningModule(reactContext));","body":"<p>I got an error</p>\n<p>/home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/MainApplication.java:32: error: cannot find symbol\npackages.add(new ScreenPinningModule(reactContext));\n^\nsymbol: variable reactContext\n/home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/MainApplication.java:32: error: incompatible types: ScreenPinningModule cannot be converted to ReactPackage\npackages.add(new ScreenPinningModule(reactContext));\n^\nNote: /home/yaelahfelix/Development/SiPintarBNI/android/app/src/main/java/com/sipintarbni/ScreenPinningModule.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n2 errors</p>\n<p>this is my code</p>\n<p>ScreenPinningModule.java</p>\n<pre><code>package com.sipintarbni;\n\nimport android.app.Activity;\nimport android.app.ActivityManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\npublic class ScreenPinningModule extends ReactContextBaseJavaModule {\n\n    public ScreenPinningModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n    }\n\n    @Override\n    public String getName() {\n        return &quot;ScreenPinningModule&quot;;\n    }\n\n    @ReactMethod\n    public void startScreenPinning() {\n        Activity activity = getCurrentActivity();\n\n        if (activity != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (activity.getPackageManager().hasSystemFeature(\n                        &quot;android.software.picture_in_picture&quot;)) {\n                    if (!isInLockTaskMode(activity)) {\n                        activity.startLockTask();\n                    }\n                }\n            }\n        }\n    }\n\n    private boolean isInLockTaskMode(Activity activity) {\n        ActivityManager am = (ActivityManager) activity.getSystemService(Context.ACTIVITY_SERVICE);\n        return am != null &amp;&amp; am.isInLockTaskMode();\n    }\n}\n</code></pre>\n<p>MainApplication.java</p>\n<pre><code>package com.sipintarbni;\n\nimport android.app.Application;\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\nimport com.facebook.react.defaults.DefaultReactNativeHost;\nimport com.facebook.soloader.SoLoader;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.sipintarbni.ScreenPinningModule;\nimport java.util.List;\n\n\npublic class MainApplication extends Application implements ReactApplication {\n\n  private final ReactNativeHost mReactNativeHost =\n      new DefaultReactNativeHost(this) {\n        @Override\n        public boolean getUseDeveloperSupport() {\n          return BuildConfig.DEBUG;\n        }\n\n        @Override\n        protected List&lt;ReactPackage&gt; getPackages() {\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n          // Packages that cannot be autolinked yet can be added manually here, for example:\n          // packages.add(new MyReactNativePackage());\n          packages.add(new ScreenPinningModule(reactContext));\n      //\n          return packages;\n        }\n\n        @Override\n        protected String getJSMainModuleName() {\n          return &quot;index&quot;;\n        }\n\n        @Override\n        protected boolean isNewArchEnabled() {\n          return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\n        }\n\n        @Override\n        protected Boolean isHermesEnabled() {\n          return BuildConfig.IS_HERMES_ENABLED;\n        }\n      };\n\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\n      // If you opted-in for the New Architecture, we load the native entry point for this app.\n      DefaultNewArchitectureEntryPoint.load();\n    }\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1553041677,"post_id":55251502,"comment_id":97236269,"body_markdown":"User needs to grant permission to &quot;draw over other apps&quot; per application basis. It&#39;s up to ROM implementation to put in exceptions like granting it to Messenger by default. You can quickly check if it&#39;s granted for your app by using [`Settings.canDrawOverlays()`](https://developer.android.com/reference/android/provider/Settings#canDrawOverlays(android.content.Context)).","body":"User needs to grant permission to &quot;draw over other apps&quot; per application basis. It&#39;s up to ROM implementation to put in exceptions like granting it to Messenger by default. You can quickly check if it&#39;s granted for your app by using <a href=\"https://developer.android.com/reference/android/provider/Settings#canDrawOverlays(android.content.Context)\" rel=\"nofollow noreferrer\"><code>Settings.canDrawOverlays()</code></a>."},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553786268,"post_id":55251502,"comment_id":97522808,"body_markdown":"@ManojPerumarath 28","body":"@ManojPerumarath 28"},{"owner":{"account_id":4668061,"reputation":2749,"user_id":3780625,"accept_rate":95,"display_name":"Maxouille"},"score":0,"creation_date":1553787162,"post_id":55251502,"comment_id":97523506,"body_markdown":"Duplicate: https://stackoverflow.com/questions/46208897/android-permission-denied-for-window-type-2038-using-type-application-overlay","body":"Duplicate: <a href=\"https://stackoverflow.com/questions/46208897/android-permission-denied-for-window-type-2038-using-type-application-overlay\" title=\"android permission denied for window type 2038 using type application overlay\">stackoverflow.com/questions/46208897/&hellip;</a>"},{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":0,"creation_date":1553829638,"post_id":55251502,"comment_id":97540119,"body_markdown":"Hey, try my updated answer","body":"Hey, try my updated answer"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553853501,"post_id":55251502,"comment_id":97548517,"body_markdown":"@Maxouille I&#39;m not getting the &quot;permission denied&quot; error, nor any error, it&#39;s not the same question as that.","body":"@Maxouille I&#39;m not getting the &quot;permission denied&quot; error, nor any error, it&#39;s not the same question as that."},{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":0,"creation_date":1553859477,"post_id":55251502,"comment_id":97552076,"body_markdown":"Is this issue happening on specific devices only? `canDrawOverlays ` should be enabled, if possible share a GitHub of that specific portion","body":"Is this issue happening on specific devices only? <code>canDrawOverlays </code> should be enabled, if possible share a GitHub of that specific portion"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553879930,"post_id":55251502,"comment_id":97564192,"body_markdown":"@ManojPerumarath will try your updated solution later today! I&#39;ve tried on my device and on 2 emulators, I wouldn&#39;t think it&#39;s device specific.","body":"@ManojPerumarath will try your updated solution later today! I&#39;ve tried on my device and on 2 emulators, I wouldn&#39;t think it&#39;s device specific."}],"answers":[{"comments":[{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553802581,"post_id":55401752,"comment_id":97532181,"body_markdown":"Tried this on API 28 and it doesn&#39;t work, i.e. it gets dismissed when pressing `Home`","body":"Tried this on API 28 and it doesn&#39;t work, i.e. it gets dismissed when pressing <code>Home</code>"},{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":0,"creation_date":1553809547,"post_id":55401752,"comment_id":97535137,"body_markdown":"I tried this on Oreo and Pie, still works for me. Please post your code","body":"I tried this on Oreo and Pie, still works for me. Please post your code"},{"owner":{"account_id":2931843,"reputation":9072,"user_id":2511882,"accept_rate":63,"display_name":"user2511882"},"score":0,"creation_date":1553891539,"post_id":55401752,"comment_id":97569284,"body_markdown":"This does not work for soft home button. For example pixel devices.","body":"This does not work for soft home button. For example pixel devices."},{"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"score":0,"creation_date":1553914114,"post_id":55401752,"comment_id":97574200,"body_markdown":"@user2511882  I had tested it on Pixel and POCO F1, still working","body":"@user2511882  I had tested it on Pixel and POCO F1, still working"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553945222,"post_id":55401752,"comment_id":97579723,"body_markdown":"Adding `android:enabled=&quot;true&quot;` and `android:exported=&quot;false&quot;` to the service doesn&#39;t work","body":"Adding <code>android:enabled=&quot;true&quot;</code> and <code>android:exported=&quot;false&quot;</code> to the service doesn&#39;t work"}],"tags":[],"owner":{"account_id":6976446,"reputation":9597,"user_id":5351055,"display_name":"Manoj Perumarath"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553829617,"creation_date":1553787917,"answer_id":55401752,"question_id":55251502,"body_markdown":"In `Manifest` add permission\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\r\nIn the launcher activity you should ask for `canDrawOverlays` Permissions`\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; \r\n     !Settings.canDrawOverlays(this)) {\r\n\r\n\r\n            //If the draw over permission is not available open the settings screen\r\n            //to grant the permission.\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\r\n                    Uri.parse(&quot;package:&quot; + getPackageName()));\r\n            startActivityForResult(intent, CODE_DRAW_OVER_OTHER_APP_PERMISSION);\r\n        } else {\r\n            initializeView();\r\n        }\r\n\r\nThen inside your service \r\n\r\n     //Inflate the floating view layout\r\n        mFloatingView = \r\n        LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\r\n\r\n        int LAYOUT_TYPE;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\r\n        } else {\r\n            LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_PHONE;\r\n        }\r\n        //Add the view to the window.\r\n        final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                WindowManager.LayoutParams.WRAP_CONTENT,\r\n                LAYOUT_FLAG ,\r\n                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                PixelFormat.TRANSLUCENT);\r\n\r\n        //Specify the view position\r\n        params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\r\n        params.x = 0;\r\n        params.y = 100;\r\n\r\n        //Add the view to the window\r\n        mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n        mWindowManager.addView(mFloatingView, params);\r\nThis won&#39;t get dismissed as the user press `Home` Key.\r\n\r\nMake sure that your floating widget is defined as `service` otherwise it can&#39;t survive when there is memory low/ configuration change kind of issues.\r\nAlso register the service inside the manifest\r\n\r\n       &lt;service\r\n                android:name=&quot;.MyWidget&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;false&quot;/&gt;","title":"Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE","body":"<p>In <code>Manifest</code> add permission</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n</code></pre>\n\n<p>In the launcher activity you should ask for <code>canDrawOverlays</code> Permissions`</p>\n\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; \n !Settings.canDrawOverlays(this)) {\n\n\n        //If the draw over permission is not available open the settings screen\n        //to grant the permission.\n        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n                Uri.parse(\"package:\" + getPackageName()));\n        startActivityForResult(intent, CODE_DRAW_OVER_OTHER_APP_PERMISSION);\n    } else {\n        initializeView();\n    }\n</code></pre>\n\n<p>Then inside your service </p>\n\n<pre><code> //Inflate the floating view layout\n    mFloatingView = \n    LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\n\n    int LAYOUT_TYPE;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\n    } else {\n        LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_PHONE;\n    }\n    //Add the view to the window.\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            LAYOUT_FLAG ,\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n            PixelFormat.TRANSLUCENT);\n\n    //Specify the view position\n    params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\n    params.x = 0;\n    params.y = 100;\n\n    //Add the view to the window\n    mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\n    mWindowManager.addView(mFloatingView, params);\n</code></pre>\n\n<p>This won't get dismissed as the user press <code>Home</code> Key.</p>\n\n<p>Make sure that your floating widget is defined as <code>service</code> otherwise it can't survive when there is memory low/ configuration change kind of issues.\nAlso register the service inside the manifest</p>\n\n<pre><code>   &lt;service\n            android:name=\".MyWidget\"\n            android:enabled=\"true\"\n            android:exported=\"false\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1553978674,"post_id":55402151,"comment_id":97588367,"body_markdown":"This isn&#39;t different from what I have.","body":"This isn&#39;t different from what I have."},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554095319,"post_id":55402151,"comment_id":97611243,"body_markdown":"@JohnSardinha did you tried this code ? and if its not working let me see bcz i have an application which is runnning on playstore with this code","body":"@JohnSardinha did you tried this code ? and if its not working let me see bcz i have an application which is runnning on playstore with this code"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1554129834,"post_id":55402151,"comment_id":97628453,"body_markdown":"I tried it, it didn&#39;t work, what sdk version are you targeting?","body":"I tried it, it didn&#39;t work, what sdk version are you targeting?"},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554129926,"post_id":55402151,"comment_id":97628513,"body_markdown":"`compileSdkVersion 28 minSdkVersion 19\n        targetSdkVersion 28 `","body":"<code>compileSdkVersion 28 minSdkVersion 19         targetSdkVersion 28 </code>"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1554130022,"post_id":55402151,"comment_id":97628565,"body_markdown":"When you have your overlay being displayed, and you press the home button, it doesn&#39;t close your overlay?","body":"When you have your overlay being displayed, and you press the home button, it doesn&#39;t close your overlay?"},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554130063,"post_id":55402151,"comment_id":97628586,"body_markdown":"i using service for adding widget on screen","body":"i using service for adding widget on screen"},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554130067,"post_id":55402151,"comment_id":97628588,"body_markdown":"https://play.google.com/store/apps/details?id=com.gauravkhannamarketeer.spideronmyscreen","body":"<a href=\"https://play.google.com/store/apps/details?id=com.gauravkhannamarketeer.spideronmyscreen\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>"},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554130293,"post_id":55402151,"comment_id":97628718,"body_markdown":"@JohnSardinha first time i followed this example https://www.journaldev.com/14673/android-floating-widget then i modified as ovr requiment","body":"@JohnSardinha first time i followed this example <a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">journaldev.com/14673/android-floating-widget</a> then i modified as ovr requiment"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1554130633,"post_id":55402151,"comment_id":97628927,"body_markdown":"Yes your app works well, also how do you get permission to draw over other apps by default?","body":"Yes your app works well, also how do you get permission to draw over other apps by default?"},{"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1554131043,"post_id":55402151,"comment_id":97629170,"body_markdown":"currently i dont have source code becoz i am at home so i will suggest you use this https://www.journaldev.com/14673/android-floating-widget example and modify as your use remove deprecated code","body":"currently i dont have source code becoz i am at home so i will suggest you use this <a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">journaldev.com/14673/android-floating-widget</a> example and modify as your use remove deprecated code"},{"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"score":0,"creation_date":1554369202,"post_id":55402151,"comment_id":97729148,"body_markdown":"I have tried your code and it didn&#39;t work, I might be able to spot what&#39;s different from the full code? If you&#39;ve open sourced it of course","body":"I have tried your code and it didn&#39;t work, I might be able to spot what&#39;s different from the full code? If you&#39;ve open sourced it of course"}],"tags":[],"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701783630,"creation_date":1553789096,"answer_id":55402151,"question_id":55251502,"body_markdown":"Ref : https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\r\n\r\n[**`TYPE_PHONE`**][1]\r\n--\r\n\r\n    public static final int TYPE_APPLICATION_OVERLAY\r\n\r\nThis constant was **deprecated in API level 26**.\r\n\r\nfor non-system apps. Use TYPE_APPLICATION_OVERLAY instead.\r\n\r\nWindow type: phone. `These are non-application windows providing user interaction with the phone` (in particular incoming calls). These windows are normally placed above all applications, but behind the status bar. In multiuser systems shows on all users&#39; windows.\r\n\r\n\r\n[**`TYPE_APPLICATION_OVERLAY`**][2]\r\n--\r\n\r\n    public static final int TYPE_APPLICATION_OVERLAY\r\n\r\nWindow type: Application overlay windows are displayed above all activity windows (types between `FIRST_APPLICATION_WINDOW` and `LAST_APPLICATION_WINDOW`) but below critical system windows like the status bar or IME.\r\n\r\nThe system may change the position, size, or visibility of these windows at anytime to reduce visual clutter to the user and also manage resources.\r\n\r\nRequires `Manifest.permission.SYSTEM_ALERT_WINDOW` permission.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\r\n\r\nThe system will adjust the importance of processes with this window type to reduce the chance of the low-memory-killer killing them.\r\n\r\nIn multi-user systems shows only on the owning user&#39;s screen.\r\n\r\n\r\nwe have to use TYPE APPLICATION OVERLAY on device Oreo or later\r\nwe have already example as **Manoj Perumarath** gived\r\n\r\nyou need to defined windowlayout params like this \r\n\r\n\r\n\r\n    //if device is Oreo or latter if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\r\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n            PixelFormat.TRANSLUCENT);\r\n\r\n    //or else\r\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.TYPE_PHONE,\r\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n            PixelFormat.TRANSLUCENT);\r\n\r\n\r\n**`Manifest.xml`**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n    //...other stuff\r\n    &lt;service\r\n    android:name=&quot;.serviceClass&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;false&quot;/&gt;\r\n\r\n**`MainActivity`**\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.canDrawOverlays(this)) {\r\n        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\r\n        Uri.parse(&quot;package:&quot; + getPackageName()));\r\n        startActivityForResult(intent, APP_PERMISSION_REQUEST);\r\n    } else {\r\n        // Start service\r\n    }\r\n\r\nRead once \r\n\r\n - https://www.spaceotechnologies.com/android-floating-widget-tutorial/\r\n - https://www.journaldev.com/14673/android-floating-widget\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_PHONE\r\n  [2]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_APPLICATION_OVERLAY","title":"Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE","body":"<p>Ref : <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html</a></p>\n<h2><a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_PHONE\" rel=\"nofollow noreferrer\"><strong><code>TYPE_PHONE</code></strong></a></h2>\n<pre><code>public static final int TYPE_APPLICATION_OVERLAY\n</code></pre>\n<p>This constant was <strong>deprecated in API level 26</strong>.</p>\n<p>for non-system apps. Use TYPE_APPLICATION_OVERLAY instead.</p>\n<p>Window type: phone. <code>These are non-application windows providing user interaction with the phone</code> (in particular incoming calls). These windows are normally placed above all applications, but behind the status bar. In multiuser systems shows on all users' windows.</p>\n<h2><a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_APPLICATION_OVERLAY\" rel=\"nofollow noreferrer\"><strong><code>TYPE_APPLICATION_OVERLAY</code></strong></a></h2>\n<pre><code>public static final int TYPE_APPLICATION_OVERLAY\n</code></pre>\n<p>Window type: Application overlay windows are displayed above all activity windows (types between <code>FIRST_APPLICATION_WINDOW</code> and <code>LAST_APPLICATION_WINDOW</code>) but below critical system windows like the status bar or IME.</p>\n<p>The system may change the position, size, or visibility of these windows at anytime to reduce visual clutter to the user and also manage resources.</p>\n<p>Requires <code>Manifest.permission.SYSTEM_ALERT_WINDOW</code> permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n</code></pre>\n<p>The system will adjust the importance of processes with this window type to reduce the chance of the low-memory-killer killing them.</p>\n<p>In multi-user systems shows only on the owning user's screen.</p>\n<p>we have to use TYPE APPLICATION OVERLAY on device Oreo or later\nwe have already example as <strong>Manoj Perumarath</strong> gived</p>\n<p>you need to defined windowlayout params like this</p>\n<pre><code>//if device is Oreo or latter if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\nfinal WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n        PixelFormat.TRANSLUCENT);\n\n//or else\nfinal WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.TYPE_PHONE,\n        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n        PixelFormat.TRANSLUCENT);\n</code></pre>\n<p><strong><code>Manifest.xml</code></strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n//...other stuff\n&lt;service\nandroid:name=&quot;.serviceClass&quot;\nandroid:enabled=&quot;true&quot;\nandroid:exported=&quot;false&quot;/&gt;\n</code></pre>\n<p><strong><code>MainActivity</code></strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.canDrawOverlays(this)) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n    Uri.parse(&quot;package:&quot; + getPackageName()));\n    startActivityForResult(intent, APP_PERMISSION_REQUEST);\n} else {\n    // Start service\n}\n</code></pre>\n<p>Read once</p>\n<ul>\n<li><a href=\"https://www.spaceotechnologies.com/android-floating-widget-tutorial/\" rel=\"nofollow noreferrer\">https://www.spaceotechnologies.com/android-floating-widget-tutorial/</a></li>\n<li><a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">https://www.journaldev.com/14673/android-floating-widget</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1554570937,"creation_date":1554570937,"answer_id":55551552,"question_id":55251502,"body_markdown":"**Solution:** Don&#39;t inflate your overlay directly over other apps.\r\n\r\nNormally, using `TYPE_APPLICATION_OVERLAY` still behaves as `TYPE_PHONE`, the issue with my case was that I was displaying my view (`windowManager.addView(rootView, params)`) when an activity from another app was in the foreground, and Android attaches the view to the current foreground activity, so when the user exits that activity (by pressing the home button for example), the system also kills the overlay from my app. A solution for me was very specific, I don&#39;t have a general solution but with this information should help people finding one.","title":"Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE","body":"<p><strong>Solution:</strong> Don't inflate your overlay directly over other apps.</p>\n\n<p>Normally, using <code>TYPE_APPLICATION_OVERLAY</code> still behaves as <code>TYPE_PHONE</code>, the issue with my case was that I was displaying my view (<code>windowManager.addView(rootView, params)</code>) when an activity from another app was in the foreground, and Android attaches the view to the current foreground activity, so when the user exits that activity (by pressing the home button for example), the system also kills the overlay from my app. A solution for me was very specific, I don't have a general solution but with this information should help people finding one.</p>\n"}],"owner":{"account_id":7807716,"reputation":3576,"user_id":5905035,"accept_rate":78,"display_name":"John Sardinha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5597,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55551552,"answer_count":3,"score":8,"last_activity_date":1701783630,"creation_date":1553038635,"question_id":55251502,"body_markdown":"By sticky I mean a window that doesn&#39;t get closed by calling the launcher intent (`intent.addCategory(Intent.CATEGORY_HOME`).\r\n\r\nPreviously this was done with `WindowManager.LayoutParams.TYPE_PHONE`, but this type is now deprecated and throws an exception on api 28:\r\n &gt;WindowManager$BadTokenException ... permission denied for window type 2002\r\n\r\nThe behavious is still possible since Facebook&#39;s Messenger does it with its chat &quot;Heads&quot;, based on the assumption that facebook doesn&#39;t get system app permissions since it&#39;s pre-installed on a lot of roms.\r\n\r\nUsing `WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY` doesn&#39;t work (i.e. pressing the home button also hides the overlay window).\r\n\r\n**Edit**: The question is how to have an overlay window that doesn&#39;t get removed when user clicks the home button / calling the launcher intent. It&#39;s not the case for `TYPE_APPLICATION_OVERLAY`, it was the case for `TYPE_PHONE` but that&#39;s deprecated.\r\n\r\n**Edit 2:** Apparently this does work for some people, this is the code I&#39;m running:\r\n\r\n```\r\nclass MyClass {\r\n\r\n    var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\r\n            else WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG,\r\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\r\n            PixelFormat.TRANSLUCENT\r\n    ).apply {\r\n        windowAnimations = android.R.style.Animation_Dialog\r\n        gravity = Gravity.CENTER or Gravity.CENTER\r\n        x = 0\r\n        y = 0\r\n    }\r\n    var windowManager: WindowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\r\n\r\n    init {\r\n        val layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\r\n        rootView = layoutInflater.inflate(R.layout.view_overlay, null)\r\n        windowManager.addView(rootView, params)\r\n    }\r\n\r\n}\r\n    ","title":"Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE","body":"<p>By sticky I mean a window that doesn't get closed by calling the launcher intent (<code>intent.addCategory(Intent.CATEGORY_HOME</code>).</p>\n\n<p>Previously this was done with <code>WindowManager.LayoutParams.TYPE_PHONE</code>, but this type is now deprecated and throws an exception on api 28:</p>\n\n<blockquote>\n  <p>WindowManager$BadTokenException ... permission denied for window type 2002</p>\n</blockquote>\n\n<p>The behavious is still possible since Facebook's Messenger does it with its chat \"Heads\", based on the assumption that facebook doesn't get system app permissions since it's pre-installed on a lot of roms.</p>\n\n<p>Using <code>WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY</code> doesn't work (i.e. pressing the home button also hides the overlay window).</p>\n\n<p><strong>Edit</strong>: The question is how to have an overlay window that doesn't get removed when user clicks the home button / calling the launcher intent. It's not the case for <code>TYPE_APPLICATION_OVERLAY</code>, it was the case for <code>TYPE_PHONE</code> but that's deprecated.</p>\n\n<p><strong>Edit 2:</strong> Apparently this does work for some people, this is the code I'm running:</p>\n\n<pre><code>class MyClass {\n\n    var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n            else WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG,\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n            PixelFormat.TRANSLUCENT\n    ).apply {\n        windowAnimations = android.R.style.Animation_Dialog\n        gravity = Gravity.CENTER or Gravity.CENTER\n        x = 0\n        y = 0\n    }\n    var windowManager: WindowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\n\n    init {\n        val layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        rootView = layoutInflater.inflate(R.layout.view_overlay, null)\n        windowManager.addView(rootView, params)\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","kotlin","variables","jvm","overriding"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1701780471,"post_id":77606281,"comment_id":136815543,"body_markdown":"You need to edit this question and include some code showing precisely what you mean by &#39;variables can be overridden&#39;. The JLS explains what &#39;override&#39; means, and defines that term __solely__ for methods. Hence, the sentence &quot;variables cannot be overridden&quot; is a bit like &quot;satisfaction is blue&quot; - it&#39;s english, but as a sentence, the concepts just don&#39;t even apply to each other.","body":"You need to edit this question and include some code showing precisely what you mean by &#39;variables can be overridden&#39;. The JLS explains what &#39;override&#39; means, and defines that term <b>solely</b> for methods. Hence, the sentence &quot;variables cannot be overridden&quot; is a bit like &quot;satisfaction is blue&quot; - it&#39;s english, but as a sentence, the concepts just don&#39;t even apply to each other."},{"owner":{"account_id":27458944,"reputation":21,"user_id":20949870,"display_name":"MoeJoe"},"score":0,"creation_date":1701781577,"post_id":77606281,"comment_id":136815730,"body_markdown":"@rzwitserloot Hey, I apologize for that, I&#39;m new to this. Is my edited question clear now? So you&#39;re saying kotlin isn&#39;t actually overriding the variable rather it&#39;s just overriding the getter method?","body":"@rzwitserloot Hey, I apologize for that, I&#39;m new to this. Is my edited question clear now? So you&#39;re saying kotlin isn&#39;t actually overriding the variable rather it&#39;s just overriding the getter method?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1701783061,"post_id":77606281,"comment_id":136816053,"body_markdown":"Those arent variables. Theyre properties. Yes, you are overriding the getter. The backing variable of the superclasss property still exists conceptually. Your subclass can still call the superclasss property implementation to access it.","body":"Those arent variables. Theyre properties. Yes, you are overriding the getter. The backing variable of the superclasss property still exists conceptually. Your subclass can still call the superclasss property implementation to access it."}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1701826302,"post_id":77606622,"comment_id":136822744,"body_markdown":"Properties only have a backing field if you initialize them or they&#39;re `lateinit`.","body":"Properties only have a backing field if you initialize them or they&#39;re <code>lateinit</code>."},{"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"score":0,"creation_date":1701851307,"post_id":77606622,"comment_id":136824956,"body_markdown":"@Tenfour04 Thank you for the addition!\n\nAs far as I remember, the only case of a property without initialization (besides lateinit) is a `val` followed by `get()`, right? That turns into just a method that starts with &#39;get&#39; on the Java level.\n\nAnd I meant to imply that the rule in my answer is not absolute (e.g., not applicable to properties annotated with &#39;JvmField&#39;), that&#39;s why I wrote &#39;By default&#39;.","body":"@Tenfour04 Thank you for the addition!  As far as I remember, the only case of a property without initialization (besides lateinit) is a <code>val</code> followed by <code>get()</code>, right? That turns into just a method that starts with &#39;get&#39; on the Java level.  And I meant to imply that the rule in my answer is not absolute (e.g., not applicable to properties annotated with &#39;JvmField&#39;), that&#39;s why I wrote &#39;By default&#39;."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1701865348,"post_id":77606622,"comment_id":136827439,"body_markdown":"You can also have a `var` property with no initialization (and therefore no backing field) if its followed by `get` and `set`.","body":"You can also have a <code>var</code> property with no initialization (and therefore no backing field) if its followed by <code>get</code> and <code>set</code>."}],"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701783398,"creation_date":1701783398,"answer_id":77606622,"question_id":77606281,"body_markdown":"The reason is that `String name = &quot;Animal&quot;;` in Java is not the same as `open var name: String = &quot;Animal&quot;` in Kotlin. That&#39;s why the former construction is called *field*, and the latter is called *property*.\r\n\r\nBy default, non-private *var* properties in Kotlin are effectively a private field with non-private getter and setter on the Java level (you can see it after clicking *Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode* and then *Decompile*, as on the screenshot below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, you effectively override its getter and setter, and not the field itself. If you create a *Java* class `Cat`, you&#39;ll only be able to override the corresponding methods.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/peY6Y.png","title":"Why can variables in Kotlin be overridden, while in Java, they cannot?","body":"<p>The reason is that <code>String name = &quot;Animal&quot;;</code> in Java is not the same as <code>open var name: String = &quot;Animal&quot;</code> in Kotlin. That's why the former construction is called <em>field</em>, and the latter is called <em>property</em>.</p>\n<p>By default, non-private <em>var</em> properties in Kotlin are effectively a private field with non-private getter and setter on the Java level (you can see it after clicking <em>Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode</em> and then <em>Decompile</em>, as on the screenshot below).</p>\n<p><a href=\"https://i.stack.imgur.com/peY6Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peY6Y.png\" alt=\"enter image description here\" /></a></p>\n<p>So, you effectively override its getter and setter, and not the field itself. If you create a <em>Java</em> class <code>Cat</code>, you'll only be able to override the corresponding methods.</p>\n"},{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701783481,"creation_date":1701783481,"answer_id":77606632,"question_id":77606281,"body_markdown":"Firstly the behaviour between the Kotlin code and the Java code is the same at run time, so the only difference is in the coding style.\r\n\r\nKotlin forces you to state that you are overriding the property (as stated in a comment, in reality the getter), whereas Java doesn&#39;t. That&#39;s the only difference; Kotlin is being stricter by making it obvious that you are overriding something (e.g. making things open and using the override keyword) whereas in Java it&#39;s a bit of a free for all, Wild West approach.\r\n\r\nIn the Java there is the OverRide annotation, but it&#39;s not mandatory.","title":"Why can variables in Kotlin be overridden, while in Java, they cannot?","body":"<p>Firstly the behaviour between the Kotlin code and the Java code is the same at run time, so the only difference is in the coding style.</p>\n<p>Kotlin forces you to state that you are overriding the property (as stated in a comment, in reality the getter), whereas Java doesn't. That's the only difference; Kotlin is being stricter by making it obvious that you are overriding something (e.g. making things open and using the override keyword) whereas in Java it's a bit of a free for all, Wild West approach.</p>\n<p>In the Java there is the OverRide annotation, but it's not mandatory.</p>\n"}],"owner":{"account_id":27458944,"reputation":21,"user_id":20949870,"display_name":"MoeJoe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1701783481,"creation_date":1701780229,"question_id":77606281,"body_markdown":"In java, variables cannot be overridden but can only be hidden. Whereas in kotlin, we can override the variables. \r\n\r\n\r\nThough they both run on JVM, why is this difference? \r\nIs it because the variables in kotlin aren&#39;t really being overridden but only the default getters are being overridden? Is my understanding correct?\r\n\r\n**Kotlin code:**\r\n\r\n    open class Animal {\r\n        open var name: String = &quot;Animal&quot;\r\n    }\r\n    \r\n    class Dog : Animal() {\r\n        override var name: String = &quot;Dog&quot;\r\n    }\r\n    \r\n    fun main() {\r\n        val animal: Animal = Dog()\r\n        println(animal.name) // Output: Dog\r\n    }\r\n\r\n**Java code:**\r\n\r\n    class Animal {\r\n        String name = &quot;Animal&quot;;\r\n    }\r\n    \r\n    class Dog extends Animal {\r\n        String name = &quot;Dog&quot;;\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Animal animal = new Dog();\r\n            System.out.println(animal.name); // Output: Animal\r\n        }\r\n    }\r\n\r\n","title":"Why can variables in Kotlin be overridden, while in Java, they cannot?","body":"<p>In java, variables cannot be overridden but can only be hidden. Whereas in kotlin, we can override the variables.</p>\n<p>Though they both run on JVM, why is this difference?\nIs it because the variables in kotlin aren't really being overridden but only the default getters are being overridden? Is my understanding correct?</p>\n<p><strong>Kotlin code:</strong></p>\n<pre><code>open class Animal {\n    open var name: String = &quot;Animal&quot;\n}\n\nclass Dog : Animal() {\n    override var name: String = &quot;Dog&quot;\n}\n\nfun main() {\n    val animal: Animal = Dog()\n    println(animal.name) // Output: Dog\n}\n</code></pre>\n<p><strong>Java code:</strong></p>\n<pre><code>class Animal {\n    String name = &quot;Animal&quot;;\n}\n\nclass Dog extends Animal {\n    String name = &quot;Dog&quot;;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Animal animal = new Dog();\n        System.out.println(animal.name); // Output: Animal\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","environment-variables","spring-test"],"answers":[{"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":26,"creation_date":1346081983,"post_id":12144312,"comment_id":16248131,"body_markdown":"Silly me - OK, that would work. Even better: probably a `@BeforeClass` method to set the system property and an `@AfterClass` method to remove it would also work, and nicely clean up after itself. (Didn&#39;t try it out, though.)","body":"Silly me - OK, that would work. Even better: probably a <code>@BeforeClass</code> method to set the system property and an <code>@AfterClass</code> method to remove it would also work, and nicely clean up after itself. (Didn&#39;t try it out, though.)"},{"owner":{"account_id":317178,"reputation":1139,"user_id":633714,"display_name":"wbdarby"},"score":2,"creation_date":1396447692,"post_id":12144312,"comment_id":34792595,"body_markdown":"Tried the @BeforeClass - and it worked fine for setting system properties before other properties were set in the test instance","body":"Tried the @BeforeClass - and it worked fine for setting system properties before other properties were set in the test instance"},{"owner":{"account_id":253413,"reputation":175,"user_id":532099,"accept_rate":29,"display_name":"Midhun Agnihotram"},"score":1,"creation_date":1483072288,"post_id":12144312,"comment_id":69983398,"body_markdown":"Thanks for this. The static thing didnt work but a small method with @BeforeClass worked !","body":"Thanks for this. The static thing didnt work but a small method with @BeforeClass worked !"},{"owner":{"account_id":1108575,"reputation":796,"user_id":1099452,"accept_rate":100,"display_name":"lucasvc"},"score":0,"creation_date":1552476904,"post_id":12144312,"comment_id":97021862,"body_markdown":"This mechanism does not work if changing Log4j2 configuration file property. Seems that Spring anyway is being loaded (and so logging incorrectly) before that static piece of code.","body":"This mechanism does not work if changing Log4j2 configuration file property. Seems that Spring anyway is being loaded (and so logging incorrectly) before that static piece of code."},{"owner":{"account_id":17951233,"reputation":540,"user_id":13044314,"display_name":"Martin H."},"score":2,"creation_date":1634650775,"post_id":12144312,"comment_id":123078455,"body_markdown":"This way, the system property gets initialized once before spring application context is initialized. How would an approach look like where tests require the system property value to change? For instance, test A requires the value for `myproperty` to be `foo`, but test B requires the the value for `myproperty` to be `somethingelse`.","body":"This way, the system property gets initialized once before spring application context is initialized. How would an approach look like where tests require the system property value to change? For instance, test A requires the value for <code>myproperty</code> to be <code>foo</code>, but test B requires the the value for <code>myproperty</code> to be <code>somethingelse</code>."}],"tags":[],"owner":{"account_id":1786630,"reputation":2280,"user_id":1627978,"display_name":"Jimmy Praet"},"comment_count":5,"down_vote_count":2,"up_vote_count":172,"is_accepted":true,"score":170,"last_activity_date":1346078897,"creation_date":1346078897,"answer_id":12144312,"question_id":11306951,"body_markdown":"You can initialize the System property in a static initializer:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\r\n    public class TestWarSpringContext {\r\n    \r\n        static {\r\n            System.setProperty(&quot;myproperty&quot;, &quot;foo&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nThe static initializer code will be executed before the spring application context is initialized.","title":"How to set environment variable or system property in spring tests?","body":"<p>You can initialize the System property in a static initializer:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = \"classpath:whereever/context.xml\")\npublic class TestWarSpringContext {\n\n    static {\n        System.setProperty(\"myproperty\", \"foo\");\n    }\n\n}\n</code></pre>\n\n<p>The static initializer code will be executed before the spring application context is initialized.</p>\n"},{"comments":[{"owner":{"account_id":376382,"reputation":767,"user_id":727811,"display_name":"MigDus"},"score":3,"creation_date":1462459456,"post_id":35763386,"comment_id":61654136,"body_markdown":"This annotation also supports a properties file path.","body":"This annotation also supports a properties file path."},{"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"score":2,"creation_date":1474252323,"post_id":35763386,"comment_id":66439604,"body_markdown":"I could switch the Spring Cloud Config Client label during tests using `@TestPropertySource(properties={&quot;spring.cloud.config.label=feature/branch&quot;})`","body":"I could switch the Spring Cloud Config Client label during tests using <code>@TestPropertySource(properties={&quot;spring.cloud.config.label=f&zwnj;&#8203;eature&#47;branch&quot;})</code>"},{"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"score":13,"creation_date":1517928993,"post_id":35763386,"comment_id":84288859,"body_markdown":"Good answer, but sadly didn&#39;t work for me, using Spring 4.2.9, the property was always empty. Only the static block worked... Worked for application properties, but not for system properties.","body":"Good answer, but sadly didn&#39;t work for me, using Spring 4.2.9, the property was always empty. Only the static block worked... Worked for application properties, but not for system properties."},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":0,"creation_date":1525763843,"post_id":35763386,"comment_id":87473119,"body_markdown":"First I saw and tried the static version (which worked), but this Annotation is even cleaner und much more preferable (for me, as it also works like a charm).","body":"First I saw and tried the static version (which worked), but this Annotation is even cleaner und much more preferable (for me, as it also works like a charm)."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":10,"creation_date":1564751722,"post_id":35763386,"comment_id":101144381,"body_markdown":"This provides an `Environment` property, which is different to an &quot;Environment variable&quot;.","body":"This provides an <code>Environment</code> property, which is different to an &quot;Environment variable&quot;."},{"owner":{"account_id":1567051,"reputation":91,"user_id":1455598,"display_name":"Sajith"},"score":0,"creation_date":1570080346,"post_id":35763386,"comment_id":102802247,"body_markdown":"will this remove the property (myproperty) after the test is executed?","body":"will this remove the property (myproperty) after the test is executed?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1674858685,"post_id":35763386,"comment_id":132810825,"body_markdown":"This could work but to maintain 2 properties files and/or to pass all the properties in the string `properties = {&quot;myproperty = foo&quot;}` will be a pain","body":"This could work but to maintain 2 properties files and/or to pass all the properties in the string <code>properties = {&quot;myproperty = foo&quot;}</code> will be a pain"}],"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":7,"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1701783464,"creation_date":1456980323,"answer_id":35763386,"question_id":11306951,"body_markdown":"# Spring @TestPropertySource\r\n\r\nThe right way to do this, starting with Spring 4.1, is to use a `@TestPropertySource` annotation.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\r\n    @TestPropertySource(properties = {&quot;myproperty = foo&quot;})\r\n    public class TestWarSpringContext {\r\n        ...    \r\n    }\r\n\r\nSee `@TestPropertySource` in the [Spring docs][1] and [Javadocs][2].\r\n\r\n## Spring Boot\r\n\r\nAlternatively, when using Spring Boot along with `@SpringBootTest`, the `@SpringBootTest` annotation has a `properties` setter, which can be used as:\r\n\r\n    @SpringBootTest(\r\n      properties = {&quot;myproperty = foo&quot;}\r\n    )    \r\n`@TestPropertySource` also works with Spring Boot.\r\n\r\n## Dynamic Properties\r\n\r\nIf the property is dynamic e.g. a hostname or port from a dynamically created testcontainer, the `@DynamicPropertySource` annotation can be used. Example with a kafka TestContainer that exposes the container&#39;s bootstrap servers:\r\n\r\n    @DynamicPropertySource\r\n    static void kafkaProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafka::getBootstrapServers);\r\n    }\r\n\r\nSee `@DynamicPropertySource` in the [Spring docs][3] and [Javadocs][4].\r\n\r\n## A Note on Spring Environment Properties vs Environment Variables and System Properties\r\n\r\nOne popular comment below says:\r\n\r\n&gt; This provides an Environment property, which is different to an &quot;Environment variable&quot;.  \r\n\r\nand another popular comment says:\r\n\r\n&gt; Worked for application properties, but not for system properties.\r\n\r\nBoth of these comments are true, BUT if you are using Spring, **you shouldn&#39;t be directly accessing environment variables or system properties in your code**. Spring provides an abstraction over property sources such as configuration files, system properties, and environment variables called the [Spring PropertySource][5]. Since code in a Spring environment should be using this abstraction, this is the proper way to inject these properties, bypassing the direct access of environment variables entirely.\r\n\r\nIf you have a 3rd party library or something that is using environment variables, and you can&#39;t abstract or mock that code for your test, then you have a completely different problem, requiring [a different non-Spring-specific solution][6]. System properties are easier as they can be set early e.g. in a static block or `@Before`/`@After` test annotations, but I would argue still should not be used directly in a Spring environment.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestPropertySource.html\r\n  [3]: https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-dynamicpropertysource.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html\r\n  [5]: https://docs.spring.io/spring-framework/reference/core/beans/environment.html#beans-property-source-abstraction\r\n  [6]: https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit","title":"How to set environment variable or system property in spring tests?","body":"<h1>Spring @TestPropertySource</h1>\n<p>The right way to do this, starting with Spring 4.1, is to use a <code>@TestPropertySource</code> annotation.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\n@TestPropertySource(properties = {&quot;myproperty = foo&quot;})\npublic class TestWarSpringContext {\n    ...    \n}\n</code></pre>\n<p>See <code>@TestPropertySource</code> in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource\" rel=\"nofollow noreferrer\">Spring docs</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestPropertySource.html\" rel=\"nofollow noreferrer\">Javadocs</a>.</p>\n<h2>Spring Boot</h2>\n<p>Alternatively, when using Spring Boot along with <code>@SpringBootTest</code>, the <code>@SpringBootTest</code> annotation has a <code>properties</code> setter, which can be used as:</p>\n<pre><code>@SpringBootTest(\n  properties = {&quot;myproperty = foo&quot;}\n)    \n</code></pre>\n<p><code>@TestPropertySource</code> also works with Spring Boot.</p>\n<h2>Dynamic Properties</h2>\n<p>If the property is dynamic e.g. a hostname or port from a dynamically created testcontainer, the <code>@DynamicPropertySource</code> annotation can be used. Example with a kafka TestContainer that exposes the container's bootstrap servers:</p>\n<pre><code>@DynamicPropertySource\nstatic void kafkaProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, kafka::getBootstrapServers);\n}\n</code></pre>\n<p>See <code>@DynamicPropertySource</code> in the <a href=\"https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-dynamicpropertysource.html\" rel=\"nofollow noreferrer\">Spring docs</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/DynamicPropertySource.html\" rel=\"nofollow noreferrer\">Javadocs</a>.</p>\n<h2>A Note on Spring Environment Properties vs Environment Variables and System Properties</h2>\n<p>One popular comment below says:</p>\n<blockquote>\n<p>This provides an Environment property, which is different to an &quot;Environment variable&quot;. </p>\n</blockquote>\n<p>and another popular comment says:</p>\n<blockquote>\n<p>Worked for application properties, but not for system properties.</p>\n</blockquote>\n<p>Both of these comments are true, BUT if you are using Spring, <strong>you shouldn't be directly accessing environment variables or system properties in your code</strong>. Spring provides an abstraction over property sources such as configuration files, system properties, and environment variables called the <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/environment.html#beans-property-source-abstraction\" rel=\"nofollow noreferrer\">Spring PropertySource</a>. Since code in a Spring environment should be using this abstraction, this is the proper way to inject these properties, bypassing the direct access of environment variables entirely.</p>\n<p>If you have a 3rd party library or something that is using environment variables, and you can't abstract or mock that code for your test, then you have a completely different problem, requiring <a href=\"https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit\">a different non-Spring-specific solution</a>. System properties are easier as they can be set early e.g. in a static block or <code>@Before</code>/<code>@After</code> test annotations, but I would argue still should not be used directly in a Spring environment.</p>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1578675255,"post_id":41305482,"comment_id":105528597,"body_markdown":"This also works perfectly with Spring Boot 2.x and Junit 5.x (using `@SpringBootTest` or any of the [test slicing](https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4) annotations)","body":"This also works perfectly with Spring Boot 2.x and Junit 5.x (using <code>@SpringBootTest</code> or any of the <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"nofollow noreferrer\">test slicing</a> annotations)"}],"tags":[],"owner":{"account_id":1843851,"reputation":3637,"user_id":1672678,"display_name":"anre"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1482513691,"creation_date":1482513691,"answer_id":41305482,"question_id":11306951,"body_markdown":"One can also use a test ApplicationContextInitializer to initialize a system property:\r\n\r\n    public class TestApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\r\n    {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext)\r\n        {\r\n            System.setProperty(&quot;myproperty&quot;, &quot;value&quot;);\r\n        }\r\n    }\r\n\r\nand then configure it on the test class in addition to the Spring context config file locations:\r\n\r\n    @ContextConfiguration(initializers = TestApplicationContextInitializer.class, locations = &quot;classpath:whereever/context.xml&quot;, ...)\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class SomeTest\r\n    {\r\n    ...\r\n    }\r\n\r\nThis way code duplication can be avoided if a certain system property should be set for all the unit tests.\r\n","title":"How to set environment variable or system property in spring tests?","body":"<p>One can also use a test ApplicationContextInitializer to initialize a system property:</p>\n\n<pre><code>public class TestApplicationContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt;\n{\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext)\n    {\n        System.setProperty(\"myproperty\", \"value\");\n    }\n}\n</code></pre>\n\n<p>and then configure it on the test class in addition to the Spring context config file locations:</p>\n\n<pre><code>@ContextConfiguration(initializers = TestApplicationContextInitializer.class, locations = \"classpath:whereever/context.xml\", ...)\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class SomeTest\n{\n...\n}\n</code></pre>\n\n<p>This way code duplication can be avoided if a certain system property should be set for all the unit tests.</p>\n"},{"tags":[],"owner":{"account_id":2766699,"reputation":6030,"user_id":2382246,"accept_rate":100,"display_name":"blalasaadri"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1519988397,"creation_date":1519988397,"answer_id":49067787,"question_id":11306951,"body_markdown":"If you want your variables to be valid for all tests, you can have an `application.properties` file in your test resources directory (by default: `src/test/resources`) which will look something like this:\r\n\r\n    MYPROPERTY=foo\r\n\r\nThis will then be loaded and used unless you have definitions via `@TestPropertySource` or a similar method - the exact order in which properties are loaded can be found in the Spring documentation chapter [24. Externalized Configuration][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"How to set environment variable or system property in spring tests?","body":"<p>If you want your variables to be valid for all tests, you can have an <code>application.properties</code> file in your test resources directory (by default: <code>src/test/resources</code>) which will look something like this:</p>\n\n<pre><code>MYPROPERTY=foo\n</code></pre>\n\n<p>This will then be loaded and used unless you have definitions via <code>@TestPropertySource</code> or a similar method - the exact order in which properties are loaded can be found in the Spring documentation chapter <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">24. Externalized Configuration</a>.</p>\n"},{"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1674858773,"post_id":52147383,"comment_id":132810839,"body_markdown":"In devops flows there is not Eclipse","body":"In devops flows there is not Eclipse"}],"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539973949,"creation_date":1535968654,"answer_id":52147383,"question_id":11306951,"body_markdown":"You can set the System properties as VM arguments.\r\n\r\nIf your project is a maven project then you can execute following command while running the test class:\r\n\r\n    mvn test -Dapp.url=&quot;https://stackoverflow.com&quot;\r\n\r\n\r\nTest class:\r\n\r\n    public class AppTest  {\r\n    @Test\r\n    public void testUrl() {\r\n        System.out.println(System.getProperty(&quot;app.url&quot;));\r\n        }\r\n    }\r\n\r\n   If you want to run individual test class or method in eclipse then :\r\n\r\n1) Go to Run -&gt; Run Configuration\r\n\r\n2) On left side select your Test class under the Junit section.\r\n\r\n3) do the following :\r\n\r\n[![enter image description here][1]][1]\r\n  [1]: https://i.stack.imgur.com/kgihi.png","title":"How to set environment variable or system property in spring tests?","body":"<p>You can set the System properties as VM arguments.</p>\n\n<p>If your project is a maven project then you can execute following command while running the test class:</p>\n\n<pre><code>mvn test -Dapp.url=\"https://stackoverflow.com\"\n</code></pre>\n\n<p>Test class:</p>\n\n<pre><code>public class AppTest  {\n@Test\npublic void testUrl() {\n    System.out.println(System.getProperty(\"app.url\"));\n    }\n}\n</code></pre>\n\n<p>If you want to run individual test class or method in eclipse then :</p>\n\n<p>1) Go to Run -> Run Configuration</p>\n\n<p>2) On left side select your Test class under the Junit section.</p>\n\n<p>3) do the following :</p>\n\n<p><a href=\"https://i.stack.imgur.com/kgihi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgihi.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":941478,"reputation":13520,"user_id":969483,"accept_rate":80,"display_name":"Christian"},"score":6,"creation_date":1593427258,"post_id":55602111,"comment_id":110767818,"body_markdown":"The EnvironmentVariables rules is part of a third party library, uses hacky reflection to change the cached values of the environment in JVM memory and does not even the the actual environment variables. So, I would not like to use it or recommend anyone to do so.","body":"The EnvironmentVariables rules is part of a third party library, uses hacky reflection to change the cached values of the environment in JVM memory and does not even the the actual environment variables. So, I would not like to use it or recommend anyone to do so."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1620369215,"post_id":55602111,"comment_id":119185242,"body_markdown":"It also seems to have a ProvideSystemProperty rule and, weirdly, a RestoreSystemProperties rule. So that could work for system properties, too.","body":"It also seems to have a ProvideSystemProperty rule and, weirdly, a RestoreSystemProperties rule. So that could work for system properties, too."},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":0,"creation_date":1690384404,"post_id":55602111,"comment_id":135346675,"body_markdown":"With Spring, your code under test shouldn&#39;t be accessing environment variables directly. You should be using Spring&#39;s property abstraction. See https://stackoverflow.com/a/35763386/430128.","body":"With Spring, your code under test shouldn&#39;t be accessing environment variables directly. You should be using Spring&#39;s property abstraction. See <a href=\"https://stackoverflow.com/a/35763386/430128\">stackoverflow.com/a/35763386/430128</a>."}],"tags":[],"owner":{"account_id":5115425,"reputation":1805,"user_id":4100737,"display_name":"Harish Gokavarapu"},"comment_count":3,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1690878142,"creation_date":1554848291,"answer_id":55602111,"question_id":11306951,"body_markdown":"All of the answers here currently only talk about the system properties which are different from the environment variables that are more complex to set, esp. for tests. Thankfully, below class can be used for that and the class docs has good examples\r\n\r\n[EnvironmentVariables.html][1]\r\n\r\n  [1]: https://stefanbirkner.github.io/system-rules/apidocs/org/junit/contrib/java/lang/system/EnvironmentVariables.html\r\n\r\nA quick example from the docs, modified to work with @SpringBootTest \r\n\r\n    @SpringBootTest\r\n    public class EnvironmentVariablesTest {\r\n       @ClassRule\r\n       public final EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule().set(&quot;name&quot;, &quot;value&quot;);\r\n    \r\n       @Test\r\n       public void test() {\r\n         assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\r\n       }\r\n     }","title":"How to set environment variable or system property in spring tests?","body":"<p>All of the answers here currently only talk about the system properties which are different from the environment variables that are more complex to set, esp. for tests. Thankfully, below class can be used for that and the class docs has good examples</p>\n<p><a href=\"https://stefanbirkner.github.io/system-rules/apidocs/org/junit/contrib/java/lang/system/EnvironmentVariables.html\" rel=\"nofollow noreferrer\">EnvironmentVariables.html</a></p>\n<p>A quick example from the docs, modified to work with @SpringBootTest</p>\n<pre><code>@SpringBootTest\npublic class EnvironmentVariablesTest {\n   @ClassRule\n   public final EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule().set(&quot;name&quot;, &quot;value&quot;);\n\n   @Test\n   public void test() {\n     assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556321479,"creation_date":1556321479,"answer_id":55875989,"question_id":11306951,"body_markdown":"For Unit Tests, the System variable is not instantiated yet when I do &quot;mvn clean install&quot; because there is no server running the application. So in order to set the System properties, I need to do it in pom.xml. Like so: \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;propertyName&gt;propertyValue&lt;/propertyName&gt;\r\n    \t        &lt;MY_ENV_VAR&gt;newValue&lt;/MY_ENV_VAR&gt;\r\n    \t        &lt;ENV_TARGET&gt;olqa&lt;/ENV_TARGET&gt;\r\n                &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"How to set environment variable or system property in spring tests?","body":"<p>For Unit Tests, the System variable is not instantiated yet when I do \"mvn clean install\" because there is no server running the application. So in order to set the System properties, I need to do it in pom.xml. Like so: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;propertyName&gt;propertyValue&lt;/propertyName&gt;\n            &lt;MY_ENV_VAR&gt;newValue&lt;/MY_ENV_VAR&gt;\n            &lt;ENV_TARGET&gt;olqa&lt;/ENV_TARGET&gt;\n            &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1670007400,"creation_date":1631808619,"answer_id":69211792,"question_id":11306951,"body_markdown":"For springboot, here would be the simplest way to do it in my opinion use the `@SpringBootTest` annotation you can in **java**:\r\n\r\n```java\r\n@SpringBootTest(\r\n    properties = { &quot;spring.application.name=example&quot;, &quot;ENV_VARIABLE=secret&quot; }\r\n)\r\npublic class ApplicationTest {\r\n\r\n    // Write your tests here\r\n\r\n}\r\n```\r\n\r\nOr in **kotlin** you can do:\r\n\r\n```kotlin\r\n@SpringBootTest(\r\n    properties = [&quot;spring.application.name=example&quot;, &quot;ENV_VARIABLE=secret&quot;]\r\n)\r\ninternal class ApplicationKTest {\r\n\r\n    // Write your tests here\r\n\r\n}\r\n```\r\n\r\nAnd that&#39;s it your test should run overriding the properties with the one you have define in the annotation.\r\nLet&#39;s say you had an `application.yml` looking like that:\r\n\r\n```yml\r\nspring:\r\n  application:\r\n    name: &quot;app&quot;\r\n\r\ndb:\r\n  username: &quot;user&quot;\r\n  password: ${ENV_VARIABLE:default}\r\n```\r\n\r\nThen during the test it would be:\r\n\r\n - The spring property `spring.application.name` will return the value `&quot;example&quot;`\r\n - The environment variable `ENV_VARIABLE` will return `&quot;secret&quot;`, so if you use the value `db.password` in your code it would return `&quot;secret&quot;`.\r\n\r\n","title":"How to set environment variable or system property in spring tests?","body":"<p>For springboot, here would be the simplest way to do it in my opinion use the <code>@SpringBootTest</code> annotation you can in <strong>java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(\n    properties = { &quot;spring.application.name=example&quot;, &quot;ENV_VARIABLE=secret&quot; }\n)\npublic class ApplicationTest {\n\n    // Write your tests here\n\n}\n</code></pre>\n<p>Or in <strong>kotlin</strong> you can do:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SpringBootTest(\n    properties = [&quot;spring.application.name=example&quot;, &quot;ENV_VARIABLE=secret&quot;]\n)\ninternal class ApplicationKTest {\n\n    // Write your tests here\n\n}\n</code></pre>\n<p>And that's it your test should run overriding the properties with the one you have define in the annotation.\nLet's say you had an <code>application.yml</code> looking like that:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: &quot;app&quot;\n\ndb:\n  username: &quot;user&quot;\n  password: ${ENV_VARIABLE:default}\n</code></pre>\n<p>Then during the test it would be:</p>\n<ul>\n<li>The spring property <code>spring.application.name</code> will return the value <code>&quot;example&quot;</code></li>\n<li>The environment variable <code>ENV_VARIABLE</code> will return <code>&quot;secret&quot;</code>, so if you use the value <code>db.password</code> in your code it would return <code>&quot;secret&quot;</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4748142,"reputation":2053,"user_id":3838898,"display_name":"mykey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637363112,"creation_date":1637363112,"answer_id":70041837,"question_id":11306951,"body_markdown":"If you have a lot of test classes (IT tests that startup tomcat/server), and the tests are failing, you need to set the system property using \r\nSystem.setProperty(&quot;ccm.configs.dir&quot;, configPath);\r\nSince you need to make sure that is set before spring starts, you need to put it in a static context in a class. \r\nAnd to make sure any test that may depend on it gets this set system property, define a simple config class in your test folder setting up that variable. P.S in my case the env variable that was needed was &quot;ccm.configs.dir&quot;\r\nHere is what i added in my test folder, \r\n\r\n    @Configuration\r\n    public class ConfigLoader {\r\n      static {\r\n        \r\n        System.setProperty(&quot;ccm.configs.dir&quot;, &quot;path/to/the/resource&quot;);\r\n      }\r\n    \r\n    }\r\n\r\nAnd all my integration test classes were able to get that variable already set by the time they are run.\r\n","title":"How to set environment variable or system property in spring tests?","body":"<p>If you have a lot of test classes (IT tests that startup tomcat/server), and the tests are failing, you need to set the system property using\nSystem.setProperty(&quot;ccm.configs.dir&quot;, configPath);\nSince you need to make sure that is set before spring starts, you need to put it in a static context in a class.\nAnd to make sure any test that may depend on it gets this set system property, define a simple config class in your test folder setting up that variable. P.S in my case the env variable that was needed was &quot;ccm.configs.dir&quot;\nHere is what i added in my test folder,</p>\n<pre><code>@Configuration\npublic class ConfigLoader {\n  static {\n    \n    System.setProperty(&quot;ccm.configs.dir&quot;, &quot;path/to/the/resource&quot;);\n  }\n\n}\n</code></pre>\n<p>And all my integration test classes were able to get that variable already set by the time they are run.</p>\n"},{"tags":[],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrveanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668586799,"creation_date":1668586799,"answer_id":74457199,"question_id":11306951,"body_markdown":"@Jimmy Praet&#39;s modified answer for JUnit5:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\r\npublic class TestWarSpringContext {\r\n\r\n    @BeforeAll\r\n    static void initAll() {\r\n        System.setProperty(&quot;myproperty&quot;, &quot;foo&quot;);\r\n    }\r\n\r\n\r\n    @AfterAll\r\n    static void tearDownAll() {\r\n        System.clearProperty(&quot;myproperty&quot;);\r\n    }\r\n\r\n    ...\r\n}\r\n```","title":"How to set environment variable or system property in spring tests?","body":"<p>@Jimmy Praet's modified answer for JUnit5:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\npublic class TestWarSpringContext {\n\n    @BeforeAll\n    static void initAll() {\n        System.setProperty(&quot;myproperty&quot;, &quot;foo&quot;);\n    }\n\n\n    @AfterAll\n    static void tearDownAll() {\n        System.clearProperty(&quot;myproperty&quot;);\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674860730,"creation_date":1674860730,"answer_id":75264179,"question_id":11306951,"body_markdown":"All the answers are grouped in two:\r\n\r\n- pass the env variables one by one using some annotation or `System.setProperty`;\r\n- to have another application.properties *yml\r\n\r\nBoth approaches work but based in several projects, to maintain 2 properties files and/or to pass all the properties in the string `properties = {&quot;myproperty = foo&quot;}` on each test will be a complicated\r\n\r\nThis worked for me:\r\n\r\n- Keep just one application.properties\r\n- Use env variables in the application.properties\r\n\r\n```\r\ntruestore.custom.location = ${JRE_CACERT_LOCATION}\r\ntruestore.custom.password = ${JRE_CACERT_PASSWORD}\r\n```\r\n- In the test that requires the application.properties like `@WebMvcTest(FooController.class)` and at the same time the env vars declares on application.properties add this code:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.stream.Stream;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport com.jayway.jsonpath.JsonPath;\r\n\r\n@WebMvcTest(HealthController.class)\r\npublic class HealthControllerTest {\r\n\r\n  static {\r\n    File resourcesDirectory = new File(&quot;src/test/resources&quot;);\r\n    try (Stream&lt;String&gt; stream = Files.lines(\r\n        Paths.get(resourcesDirectory.getAbsolutePath() + File.separator + &quot;application.env&quot;))) {\r\n      stream.forEach(rawLine -&gt; {\r\n        String pair[] = rawLine.trim().split(&quot;=&quot;);\r\n        System.setProperty(pair[0], pair[1]);\r\n      });\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n- create just one file with env variables required for all the tests: **/src/test/resources/application.env**\r\n\r\n```\r\nJRE_CACERT_LOCATION=/foo/bar/jre/cacert\r\nJRE_CACERT_PASSWORD=changeme\r\n```\r\n\r\nDependencies\r\n\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n## Advantages\r\n\r\n- devops compatible\r\n- run on every shell\r\n- that file could be used for the developer to configure his [Eclipse](https://stackoverflow.com/a/12810433/3957754) or [Intellij](https://stackoverflow.com/a/72045361/3957754)\r\n- useful to configure manually the application in the server or with some configuration manager\r\n","title":"How to set environment variable or system property in spring tests?","body":"<p>All the answers are grouped in two:</p>\n<ul>\n<li>pass the env variables one by one using some annotation or <code>System.setProperty</code>;</li>\n<li>to have another application.properties *yml</li>\n</ul>\n<p>Both approaches work but based in several projects, to maintain 2 properties files and/or to pass all the properties in the string <code>properties = {&quot;myproperty = foo&quot;}</code> on each test will be a complicated</p>\n<p>This worked for me:</p>\n<ul>\n<li>Keep just one application.properties</li>\n<li>Use env variables in the application.properties</li>\n</ul>\n<pre><code>truestore.custom.location = ${JRE_CACERT_LOCATION}\ntruestore.custom.password = ${JRE_CACERT_PASSWORD}\n</code></pre>\n<ul>\n<li>In the test that requires the application.properties like <code>@WebMvcTest(FooController.class)</code> and at the same time the env vars declares on application.properties add this code:</li>\n</ul>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport com.jayway.jsonpath.JsonPath;\n\n@WebMvcTest(HealthController.class)\npublic class HealthControllerTest {\n\n  static {\n    File resourcesDirectory = new File(&quot;src/test/resources&quot;);\n    try (Stream&lt;String&gt; stream = Files.lines(\n        Paths.get(resourcesDirectory.getAbsolutePath() + File.separator + &quot;application.env&quot;))) {\n      stream.forEach(rawLine -&gt; {\n        String pair[] = rawLine.trim().split(&quot;=&quot;);\n        System.setProperty(pair[0], pair[1]);\n      });\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>create just one file with env variables required for all the tests: <strong>/src/test/resources/application.env</strong></li>\n</ul>\n<pre><code>JRE_CACERT_LOCATION=/foo/bar/jre/cacert\nJRE_CACERT_PASSWORD=changeme\n</code></pre>\n<p>Dependencies</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Advantages</h2>\n<ul>\n<li>devops compatible</li>\n<li>run on every shell</li>\n<li>that file could be used for the developer to configure his <a href=\"https://stackoverflow.com/a/12810433/3957754\">Eclipse</a> or <a href=\"https://stackoverflow.com/a/72045361/3957754\">Intellij</a></li>\n<li>useful to configure manually the application in the server or with some configuration manager</li>\n</ul>\n"}],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281371,"favorite_count":0,"down_vote_count":0,"up_vote_count":132,"accepted_answer_id":12144312,"answer_count":11,"score":132,"last_activity_date":1701783464,"creation_date":1341303366,"question_id":11306951,"body_markdown":"I&#39;d like to write some tests that check the XML Spring configuration of a deployed WAR. Unfortunately some beans require that some environment variables or system properties are set. How can I set an environment variable before the spring beans are initialized when using the convenient test style with @ContextConfiguration?\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = &quot;classpath:whereever/context.xml&quot;)\r\n    public class TestWarSpringContext { ... }\r\n\r\nIf I configure the application context with annotations, I don&#39;t see a hook where I can do something before the spring context is initialized.","title":"How to set environment variable or system property in spring tests?","body":"<p>I'd like to write some tests that check the XML Spring configuration of a deployed WAR. Unfortunately some beans require that some environment variables or system properties are set. How can I set an environment variable before the spring beans are initialized when using the convenient test style with @ContextConfiguration?</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = \"classpath:whereever/context.xml\")\npublic class TestWarSpringContext { ... }\n</code></pre>\n\n<p>If I configure the application context with annotations, I don't see a hook where I can do something before the spring context is initialized.</p>\n"},{"tags":["java","jvm","out-of-memory","heap-memory","minecraft-forge"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1701790135,"post_id":77606611,"comment_id":136817500,"body_markdown":"Try to add more specifics. Your heap size, exact way you trying to increase it.","body":"Try to add more specifics. Your heap size, exact way you trying to increase it."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701793983,"post_id":77606611,"comment_id":136818302,"body_markdown":"You haven&#39;t provide any details to troubleshoot a complex problem. Try search first for some tutorials on how to analyze this kind of issue.","body":"You haven&#39;t provide any details to troubleshoot a complex problem. Try search first for some tutorials on how to analyze this kind of issue."}],"owner":{"account_id":29851929,"reputation":1,"user_id":22877587,"display_name":"rechard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701793928,"answer_count":0,"score":-3,"last_activity_date":1701783293,"creation_date":1701783293,"question_id":77606611,"body_markdown":"I want to develop a mod using FORGE, but I am encountering an issue with insufficient heap memory during the project build.\r\n\r\n\r\nI tried modifying the virtual machine parameters file, but it doesnt seem to be taking effect.I would like to know if it is possible to solve this issue by modifying the virtual machine configuration file, or if there are any other methods to address it.","title":"Out of memory java.lang.OutOfMemoryError: Java heap space","body":"<p>I want to develop a mod using FORGE, but I am encountering an issue with insufficient heap memory during the project build.</p>\n<p>I tried modifying the virtual machine parameters file, but it doesnt seem to be taking effect.I would like to know if it is possible to solve this issue by modifying the virtual machine configuration file, or if there are any other methods to address it.</p>\n"},{"tags":["java","sql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1701783589,"post_id":77606609,"comment_id":136816163,"body_markdown":"I doubt this code is generating your error.  This error would be generated by using `IN (?1)` and then binding a Java `List` with more than 1000 items in it.  In that case, Oracle would block your query.","body":"I doubt this code is generating your error.  This error would be generated by using <code>IN (?1)</code> and then binding a Java <code>List</code> with more than 1000 items in it.  In that case, Oracle would block your query."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1701783662,"post_id":77606609,"comment_id":136816182,"body_markdown":"Specifically it&#39;s the notion of `IN (n1, n2, ..., n1000, n1001, ...)` that causes this error: you can only have up to 1000 expressions in that `IN` clause. Since you only want a single status, your `d.status = ?1` seems like the reasonable approach.","body":"Specifically it&#39;s the notion of <code>IN (n1, n2, ..., n1000, n1001, ...)</code> that causes this error: you can only have up to 1000 expressions in that <code>IN</code> clause. Since you only want a single status, your <code>d.status = ?1</code> seems like the reasonable approach."},{"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"score":0,"creation_date":1701813351,"post_id":77606609,"comment_id":136821394,"body_markdown":"@Rogue\n I tried this approach also, d.status= ?1 \nBut, as there are more than 1000 records in table with Pending status, the error is still same. Is there any other alternative solution for this error?","body":"@Rogue  I tried this approach also, d.status= ?1  But, as there are more than 1000 records in table with Pending status, the error is still same. Is there any other alternative solution for this error?"},{"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"score":0,"creation_date":1701813358,"post_id":77606609,"comment_id":136821398,"body_markdown":"@TimBiegeleisen , what could be the probable solution for this scenario ?","body":"@TimBiegeleisen , what could be the probable solution for this scenario ?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701826688,"post_id":77606609,"comment_id":136822779,"body_markdown":"In that case, show your table schema, an example value for `status`, and some example values in your table.","body":"In that case, show your table schema, an example value for <code>status</code>, and some example values in your table."}],"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701783287,"creation_date":1701783287,"question_id":77606609,"body_markdown":"I have written the below query in repo class to retrieve the records having different status such as **&#39;Pending&#39;,&#39;Outstanding&#39;,&#39;Complete&#39;** but as there are more than 1000 records with **&#39;Pending&#39;** status in the table , I am getting below error:\r\n\r\nQuery - Assuming the status passed is **&#39;Pending&#39;**\r\n\r\n```\r\n@Query(&quot;from Deal d where d.status IN (?1) and d.currentState=&#39;Active&#39;&quot;)\r\nList&lt;Deal&gt; findByStatus(String status);\r\n```\r\n\r\nI also tried to modify the Query as:\r\n```\r\n@Query(&quot;from Deal d where d.status = ?1 and d.currentState=&#39;Active&#39;&quot;)\r\nList&lt;Deal&gt; findByStatus(String status);\r\n```\r\n\r\nError\r\n```\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000\r\n```","title":"Caused by: java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000","body":"<p>I have written the below query in repo class to retrieve the records having different status such as <strong>'Pending','Outstanding','Complete'</strong> but as there are more than 1000 records with <strong>'Pending'</strong> status in the table , I am getting below error:</p>\n<p>Query - Assuming the status passed is <strong>'Pending'</strong></p>\n<pre><code>@Query(&quot;from Deal d where d.status IN (?1) and d.currentState='Active'&quot;)\nList&lt;Deal&gt; findByStatus(String status);\n</code></pre>\n<p>I also tried to modify the Query as:</p>\n<pre><code>@Query(&quot;from Deal d where d.status = ?1 and d.currentState='Active'&quot;)\nList&lt;Deal&gt; findByStatus(String status);\n</code></pre>\n<p>Error</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1693249203,"post_id":76995396,"comment_id":135732968,"body_markdown":"There&#39;s a new fluent style that uses lambdas. See the migration guide https://docs.spring.io/spring-security/reference/migration/index.html","body":"There&#39;s a new fluent style that uses lambdas. See the migration guide <a href=\"https://docs.spring.io/spring-security/reference/migration/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/migration/index.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701783114,"creation_date":1693250060,"answer_id":76995493,"question_id":76995396,"body_markdown":"Like [Michael][1] said:\r\n\r\n&gt; There&#39;s a new fluent style that uses lambdas...\r\n\r\nSo, you can do this way:\r\n\r\n```java\r\n.formLogin(formLogin -&gt;\r\n    formLogin\r\n        .loginPage(&quot;/login&quot;)\r\n        .permitAll()\r\n)\r\n```\r\n\r\nCheck the [*migration guide*][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1898563/michael\r\n  [2]: https://docs.spring.io/spring-security/reference/migration-7/configuration.html","title":"Why does my IDE say .formLogin() .and() .exceptionHandling() is deprecated?","body":"<p>Like <a href=\"https://stackoverflow.com/users/1898563/michael\">Michael</a> said:</p>\n<blockquote>\n<p>There's a new fluent style that uses lambdas...</p>\n</blockquote>\n<p>So, you can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.formLogin(formLogin -&gt;\n    formLogin\n        .loginPage(&quot;/login&quot;)\n        .permitAll()\n)\n</code></pre>\n<p>Check the <a href=\"https://docs.spring.io/spring-security/reference/migration-7/configuration.html\" rel=\"nofollow noreferrer\"><em>migration guide</em></a>.</p>\n"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1701783114,"creation_date":1693248883,"question_id":76995396,"body_markdown":"I had to upgrade the Java spring application from 11 to 19 so most of the code had the be changed because some things were deprecated. This includes the .antMatchers() being changed to .requestMatchers(), however when I changed this is my code I was left with some strange syntax errors that say  .formLogin() .and() .exceptionHandling() is deprecated and marked for removal \r\n```\r\n@Deprecated(since = &quot;6.1&quot;, forRemoval = true)\r\n```\r\n```\r\n.formLogin()\r\n .loginPage(&quot;/login&quot;)\r\n .permitAll()\r\n```\r\nWhat am I missing?","title":"Why does my IDE say .formLogin() .and() .exceptionHandling() is deprecated?","body":"<p>I had to upgrade the Java spring application from 11 to 19 so most of the code had the be changed because some things were deprecated. This includes the .antMatchers() being changed to .requestMatchers(), however when I changed this is my code I was left with some strange syntax errors that say  .formLogin() .and() .exceptionHandling() is deprecated and marked for removal</p>\n<pre><code>@Deprecated(since = &quot;6.1&quot;, forRemoval = true)\n</code></pre>\n<pre><code>.formLogin()\n .loginPage(&quot;/login&quot;)\n .permitAll()\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","mockito","jmockit"],"owner":{"account_id":30071994,"reputation":1,"user_id":23045719,"display_name":"RocketMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701785444,"answer_count":0,"score":0,"last_activity_date":1701782963,"creation_date":1701782963,"question_id":77606578,"body_markdown":"Why am I getting this error when compiling my application with tests?\r\n\r\nI am using jmockit 1.49 with maven but my test code was made for 0.999.15. Now i am migrating the code but i can&#39;t execute my tests.\r\n\r\n`java.lang.NoClassDefFoundError: mockit.Expectations`\r\n\r\n\r\n```\r\n@Before\r\n@Override\r\npublic final void setUp() {\r\n    new Expectations() {\r\n        {\r\n            mockRequestContextHolder.getRequestContext();\r\n            final RequestContext rc = new MockRequestContext();\r\n            result = rc;\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\nCan anyone help me??","title":"java.lang.NoClassDefFoundError: mockit.Expectations","body":"<p>Why am I getting this error when compiling my application with tests?</p>\n<p>I am using jmockit 1.49 with maven but my test code was made for 0.999.15. Now i am migrating the code but i can't execute my tests.</p>\n<p><code>java.lang.NoClassDefFoundError: mockit.Expectations</code></p>\n<pre><code>@Before\n@Override\npublic final void setUp() {\n    new Expectations() {\n        {\n            mockRequestContextHolder.getRequestContext();\n            final RequestContext rc = new MockRequestContext();\n            result = rc;\n        }\n    };\n}\n</code></pre>\n<p>Can anyone help me??</p>\n"},{"tags":["java","eclipselink","jpql","jpa-2.0"],"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1307562966,"post_id":6251054,"comment_id":7337204,"body_markdown":"What JPA provider are you using (i.e. Hibernate, EclipseLink, OpenJPA, etc)? What database vendor are you using (MySQL, SQL Server, Oracle)? What JDBC driver are you using?","body":"What JPA provider are you using (i.e. Hibernate, EclipseLink, OpenJPA, etc)? What database vendor are you using (MySQL, SQL Server, Oracle)? What JDBC driver are you using?"},{"owner":{"account_id":412599,"reputation":396,"user_id":785746,"display_name":"Rado Skrib"},"score":1,"creation_date":1307615388,"post_id":6251054,"comment_id":7346976,"body_markdown":"I am using Eclipselink as JPA provider, Derby as database and Derby client jdbc driver, but also Spring for creation of EntityManager, transaction managment... And there was also a problem, i have forget to specified JPA vendor. After adding &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.EclipseLinkJpaVendorAdapter&quot;/&gt;\n        &lt;/property&gt;  query with TRUE condition works.","body":"I am using Eclipselink as JPA provider, Derby as database and Derby client jdbc driver, but also Spring for creation of EntityManager, transaction managment... And there was also a problem, i have forget to specified JPA vendor. After adding &lt;property name=&quot;jpaVendorAdapter&quot;&gt;             &lt;bean class=&quot;org.springframework.orm.jpa.vendor.EclipseLinkJpaVend&zwnj;&#8203;orAdapter&quot;/&gt;         &lt;/property&gt;  query with TRUE condition works."},{"owner":{"account_id":141292,"reputation":2923,"user_id":348202,"accept_rate":70,"display_name":"Jan Goyvaerts"},"score":0,"creation_date":1333458139,"post_id":6251054,"comment_id":12772429,"body_markdown":"Have the same here with Derby/Hibernate. But it works for MySQL though. :-)","body":"Have the same here with Derby/Hibernate. But it works for MySQL though. :-)"}],"answers":[{"tags":[],"owner":{"account_id":981293,"reputation":689,"user_id":1000941,"accept_rate":91,"display_name":"punkyduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335797838,"creation_date":1335797838,"answer_id":10385795,"question_id":6251054,"body_markdown":"I am using EclipseLink as JPA provider and a MySQL database. With this configuration, using 1 for true and 0 for false works. ","title":"How to write JPA query with boolean condition","body":"<p>I am using EclipseLink as JPA provider and a MySQL database. With this configuration, using 1 for true and 0 for false works. </p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335879289,"creation_date":1335879289,"answer_id":10398440,"question_id":6251054,"body_markdown":"You can use  @TypeConverter(dataType=Integer.class)\r\n","title":"How to write JPA query with boolean condition","body":"<p>You can use  @TypeConverter(dataType=Integer.class)</p>\n"},{"comments":[{"owner":{"account_id":77890,"reputation":538,"user_id":222044,"accept_rate":40,"display_name":"ctron"},"score":3,"creation_date":1425556924,"post_id":24306031,"comment_id":46016576,"body_markdown":"&quot;u.active IS TRUE&quot; did not work for me either, but &quot;u.active = TRUE&quot; did. Working with EclipseLink 2.5","body":"&quot;u.active IS TRUE&quot; did not work for me either, but &quot;u.active = TRUE&quot; did. Working with EclipseLink 2.5"}],"tags":[],"owner":{"account_id":2340323,"reputation":50,"user_id":2051769,"accept_rate":25,"display_name":"minibi"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1403179039,"creation_date":1403179039,"answer_id":24306031,"question_id":6251054,"body_markdown":"TRUE is a special keyword.\r\ntry\r\n\r\n&gt; select u from User u where u.active IS TRUE;","title":"How to write JPA query with boolean condition","body":"<p>TRUE is a special keyword.\ntry</p>\n\n<blockquote>\n  <p>select u from User u where u.active IS TRUE;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4112953,"reputation":2266,"user_id":3375325,"accept_rate":71,"display_name":"jansohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449072478,"creation_date":1449072478,"answer_id":34047406,"question_id":6251054,"body_markdown":"I had this problem too (PostgreSQL + Eclipselink) and got it working with the `@TypeConverter` and `@Convert` annotations.\r\n\r\n    @Entity\r\n    @TypeConverter(name = &quot;booleanToInteger&quot;, dataType = Integer.class)\r\n    public User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;USR_ID&quot;)\r\n        private Short id;\r\n    \r\n        @Column(name=&quot;USR_NAME&quot;)\r\n        private String name;\r\n    \r\n        @Column(name=&quot;USR_ACTIVE&quot;)\r\n        @Convert(&quot;booleanToInteger&quot;)\r\n        private boolean active;\r\n    \r\n        .......\r\n    }","title":"How to write JPA query with boolean condition","body":"<p>I had this problem too (PostgreSQL + Eclipselink) and got it working with the <code>@TypeConverter</code> and <code>@Convert</code> annotations.</p>\n\n<pre><code>@Entity\n@TypeConverter(name = \"booleanToInteger\", dataType = Integer.class)\npublic User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=\"USR_ID\")\n    private Short id;\n\n    @Column(name=\"USR_NAME\")\n    private String name;\n\n    @Column(name=\"USR_ACTIVE\")\n    @Convert(\"booleanToInteger\")\n    private boolean active;\n\n    .......\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6910299,"reputation":493,"user_id":5306475,"display_name":"YUIOP QWERT"},"score":3,"creation_date":1449543742,"post_id":34130069,"comment_id":56042272,"body_markdown":"the answer is &quot;SELECT e FROM  Employee e WHERE e.active = TRUE&quot;,you can ignore the link. So It is not a &quot; Link-only answers&quot;! Furthermore link can be invalid so does any answer! So the link is a reference for anybody who is interesting to read more. Last but not least, the link is a wiki link ,so it&#39;s no less than an answer but a method to get what you want to know!!!","body":"the answer is &quot;SELECT e FROM  Employee e WHERE e.active = TRUE&quot;,you can ignore the link. So It is not a &quot; Link-only answers&quot;! Furthermore link can be invalid so does any answer! So the link is a reference for anybody who is interesting to read more. Last but not least, the link is a wiki link ,so it&#39;s no less than an answer but a method to get what you want to know!!!"},{"owner":{"account_id":6910299,"reputation":493,"user_id":5306475,"display_name":"YUIOP QWERT"},"score":0,"creation_date":1449638188,"post_id":34130069,"comment_id":56089700,"body_markdown":"Wow,if the answer is wrong ,you just can add your comment. And then it will be useful to recognize that the link had been out-of-date. Don&#39;t know what the downvotes means really.","body":"Wow,if the answer is wrong ,you just can add your comment. And then it will be useful to recognize that the link had been out-of-date. Don&#39;t know what the downvotes means really."}],"tags":[],"owner":{"account_id":6910299,"reputation":493,"user_id":5306475,"display_name":"YUIOP QWERT"},"comment_count":2,"down_vote_count":4,"up_vote_count":48,"is_accepted":false,"score":44,"last_activity_date":1622533894,"creation_date":1449479872,"answer_id":34130069,"question_id":6251054,"body_markdown":"Use the following form:\r\n\r\n```sql\r\nSELECT e FROM Employee e WHERE e.active = TRUE\r\n```\r\n\r\nSee [the docs](https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL) for more info.\r\n","title":"How to write JPA query with boolean condition","body":"<p>Use the following form:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT e FROM Employee e WHERE e.active = TRUE\n</code></pre>\n<p>See <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL\" rel=\"noreferrer\">the docs</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":6248920,"reputation":1505,"user_id":4859737,"display_name":"Rahul Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502347996,"creation_date":1502347996,"answer_id":45606478,"question_id":6251054,"body_markdown":"You can write query like :\r\n\r\n@Query(&quot;SELECT u from User u order by u.active&quot;); \r\n\r\nIt will display inactive users first. If you want to see active user first use like :\r\n\r\n@Query(&quot;SELECT u from User u order by u.active desc&quot;); ","title":"How to write JPA query with boolean condition","body":"<p>You can write query like :</p>\n\n<p>@Query(\"SELECT u from User u order by u.active\"); </p>\n\n<p>It will display inactive users first. If you want to see active user first use like :</p>\n\n<p>@Query(\"SELECT u from User u order by u.active desc\"); </p>\n"},{"tags":[],"owner":{"account_id":8510109,"reputation":129,"user_id":6380416,"display_name":"Kirill_code"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553096785,"creation_date":1553096785,"answer_id":55264867,"question_id":6251054,"body_markdown":"For MySql works this:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {    \r\n        @Query(&quot;SELECT e FROM  Employee e WHERE e.active=?1&quot;)\r\n        User findByStatus(Boolean active);\r\n    }\r\n\r\n","title":"How to write JPA query with boolean condition","body":"<p>For MySql works this:</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {    \n    @Query(\"SELECT e FROM  Employee e WHERE e.active=?1\")\n    User findByStatus(Boolean active);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8286505,"reputation":1117,"user_id":6229451,"display_name":"Purushottam Sadh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690057005,"creation_date":1565351956,"answer_id":57429615,"question_id":6251054,"body_markdown":"It&#39;s working in my scenerio:\r\n\r\n    findByTitleAndDocumentIdAndIsDeleted(String title, UUID docId, Boolean isDeleted);","title":"How to write JPA query with boolean condition","body":"<p>It's working in my scenerio:</p>\n<pre><code>findByTitleAndDocumentIdAndIsDeleted(String title, UUID docId, Boolean isDeleted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701782890,"creation_date":1701782890,"answer_id":77606569,"question_id":6251054,"body_markdown":"Two ways in the example, first one with the flag already set on method, the other is parametric/parametrized:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tbl_metadata&quot;)\r\n    @Data \r\n    public class TdMetadata {\r\n    \r\n        @Column\r\n        private Boolean isCalculated;\r\n    }\r\n    \r\n    \r\n    @Repository\r\n    public interface TdMetadataRepository extends PagingAndSortingRepository&lt;TdMetadata, Integer&gt; {\r\n    \r\n        List&lt;TdMetadata&gt; findByCalculatedTrue();\r\n        List&lt;TdMetadata&gt; findByCalculated(Boolean calculated);\r\n    }","title":"How to write JPA query with boolean condition","body":"<p>Two ways in the example, first one with the flag already set on method, the other is parametric/parametrized:</p>\n<pre><code>@Entity\n@Table(name = &quot;tbl_metadata&quot;)\n@Data \npublic class TdMetadata {\n\n    @Column\n    private Boolean isCalculated;\n}\n\n\n@Repository\npublic interface TdMetadataRepository extends PagingAndSortingRepository&lt;TdMetadata, Integer&gt; {\n\n    List&lt;TdMetadata&gt; findByCalculatedTrue();\n    List&lt;TdMetadata&gt; findByCalculated(Boolean calculated);\n}\n</code></pre>\n"}],"owner":{"account_id":412599,"reputation":396,"user_id":785746,"display_name":"Rado Skrib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109499,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":9,"score":31,"last_activity_date":1701782890,"creation_date":1307358121,"question_id":6251054,"body_markdown":"In my project i am using JPA 2.0 with eclipselink inplementation, an I have following problem:\r\n\r\nI have defined entity with boolean column:\r\n\r\n    @Entity\r\n    public User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;USR_ID&quot;)\r\n        private Short id;\r\n        \r\n        @Column(name=&quot;USR_NAME&quot;)\r\n        private String name;\r\n        \r\n        @Column(name=&quot;USR_ACTIVE&quot;)\r\n        private boolean active;\r\n    \r\n        .......\r\n    \r\n    }\r\n\r\nI want to create query which will return all active users, something like this:\r\n\r\n*select u from User u where u.active = TRUE;*\r\n\r\nBut if I use that query I got exception that boolean can&#39;t be cast to Short (column in database is stored as smallint). Is there any correct way how to write this query?\r\n\r\nThanks","title":"How to write JPA query with boolean condition","body":"<p>In my project i am using JPA 2.0 with eclipselink inplementation, an I have following problem:</p>\n\n<p>I have defined entity with boolean column:</p>\n\n<pre><code>@Entity\npublic User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=\"USR_ID\")\n    private Short id;\n\n    @Column(name=\"USR_NAME\")\n    private String name;\n\n    @Column(name=\"USR_ACTIVE\")\n    private boolean active;\n\n    .......\n\n}\n</code></pre>\n\n<p>I want to create query which will return all active users, something like this:</p>\n\n<p><em>select u from User u where u.active = TRUE;</em></p>\n\n<p>But if I use that query I got exception that boolean can't be cast to Short (column in database is stored as smallint). Is there any correct way how to write this query?</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701779047,"post_id":77606135,"comment_id":136815291,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). Also note that a laptop is a computer. Are you executing differently?","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, its hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>. Also note that a laptop is a computer. Are you executing differently?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1701779092,"post_id":77606135,"comment_id":136815301,"body_markdown":"Just a tip: You don&#39;t need to create a break point for every line. Just the first one you&#39;re interested in is enough. Then you can step to the next line with the angled blue arrow button (or the F8 key)","body":"Just a tip: You don&#39;t need to create a break point for every line. Just the first one you&#39;re interested in is enough. Then you can step to the next line with the angled blue arrow button (or the F8 key)"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1701779618,"post_id":77606135,"comment_id":136815395,"body_markdown":"`while (readerFile.ready())` seems suspicious. I&#39;ve never seen someone do that. The usual pattern is `String line; while ((line = readerFile.readLine()) != null) { ... }`","body":"<code>while (readerFile.ready())</code> seems suspicious. I&#39;ve never seen someone do that. The usual pattern is <code>String line; while ((line = readerFile.readLine()) != null) { ... }</code>"},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701782274,"post_id":77606135,"comment_id":136815874,"body_markdown":"I use ```while (readerFile.ready())``` all the time. Very convenient. Means that the loop will be executed as long as there is data in the file","body":"I use <code>while (readerFile.ready())</code> all the time. Very convenient. Means that the loop will be executed as long as there is data in the file"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1701782395,"post_id":77606135,"comment_id":136815901,"body_markdown":"Yea .... `Reader.ready()` is like `InputStream.available()`.  It returns `true` if it guaranteed that a `read` call won&#39;t block.  But if it returns `false`, that doesn&#39;t mean that you have reached the end of stream, or even that a `read` call *will* block.  It should not be used in this use-case.","body":"Yea .... <code>Reader.ready()</code> is like <code>InputStream.available()</code>.  It returns <code>true</code> if it guaranteed that a <code>read</code> call won&#39;t block.  But if it returns <code>false</code>, that doesn&#39;t mean that you have reached the end of stream, or even that a <code>read</code> call <i>will</i> block.  It should not be used in this use-case."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701782584,"post_id":77606135,"comment_id":136815937,"body_markdown":"@Islam  - but it doesn&#39;t work for Reader reading from a pipe, a console, a socket, etc.   And even that behavior with &quot;files&quot; is dependent on how the file system is implemented.","body":"@Islam  - but it doesn&#39;t work for Reader reading from a pipe, a console, a socket, etc.   And even that behavior with &quot;files&quot; is dependent on how the file system is implemented."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701783605,"post_id":77606135,"comment_id":136816168,"body_markdown":"Ok. Have you tried running the code? Everything should work. Why do you say that the ```ready()``` method should not be used? It isn&#39;t deprecated.","body":"Ok. Have you tried running the code? Everything should work. Why do you say that the <code>ready()</code> method should not be used? It isn&#39;t deprecated."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701783686,"post_id":77606135,"comment_id":136816187,"body_markdown":"I run this code on my computer and everything works there","body":"I run this code on my computer and everything works there"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701785586,"post_id":77606135,"comment_id":136816589,"body_markdown":"They didn&#39;t say it shouldn&#39;t be used at all; they said it shouldn&#39;t be used _the way you&#39;re trying to use it_. Just implement this the standard way (as demonstrated in [Micheal&#39;s comment](https://stackoverflow.com/questions/77606135/the-laptop-does-not-read-file-data-unlike-a-computer#comment136815395_77606135)).","body":"They didn&#39;t say it shouldn&#39;t be used at all; they said it shouldn&#39;t be used <i>the way you&#39;re trying to use it</i>. Just implement this the standard way (as demonstrated in <a href=\"https://stackoverflow.com/questions/77606135/the-laptop-does-not-read-file-data-unlike-a-computer#comment136815395_77606135\">Micheal&#39;s comment</a>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701785795,"post_id":77606135,"comment_id":136816634,"body_markdown":"&quot;_Means that the loop will be executed as long as there is data in the file_&quot; -- No, it means the loop will be executed as long as the next call to `read()` is guaranteed to not block. That is not at all the same thing as there not being any more data to read. The `BufferedReader#readLine()` method is specified to return `null` only at EOF--much more reliable if you&#39;re goal is to read all data from the file.","body":"&quot;<i>Means that the loop will be executed as long as there is data in the file</i>&quot; -- No, it means the loop will be executed as long as the next call to <code>read()</code> is guaranteed to not block. That is not at all the same thing as there not being any more data to read. The <code>BufferedReader#readLine()</code> method is specified to return <code>null</code> only at EOF--much more reliable if you&#39;re goal is to read all data from the file."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1701789230,"post_id":77606135,"comment_id":136817320,"body_markdown":"I use while (readerFile.ready()) all the time.  **You got lucky.**  You have been **misusing** the ready() method all this time, and it was always going to fail eventually.  And now, that is exactly what is happening.  You ask why its failing on one computer but not another;  the answer is that you gambled and eventually lost that gamble.  If you follow Michaels suggestion, you will be using code that is guaranteed to work properly every time, on every computer.","body":"I use while (readerFile.ready()) all the time.  <b>You got lucky.</b>  You have been <b>misusing</b> the ready() method all this time, and it was always going to fail eventually.  And now, that is exactly what is happening.  You ask why its failing on one computer but not another;  the answer is that you gambled and eventually lost that gamble.  If you follow Michaels suggestion, you will be using code that is guaranteed to work properly every time, on every computer."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701822541,"post_id":77606135,"comment_id":136822420,"body_markdown":"Sorry, but you aren&#39;t right. I used the code you suggest and it doesn&#39;t work either, but again only on one device.","body":"Sorry, but you aren&#39;t right. I used the code you suggest and it doesn&#39;t work either, but again only on one device."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701823871,"post_id":77606135,"comment_id":136822552,"body_markdown":"Here I liked the description of the method: https://www.geeksforgeeks.org/bufferedreader-ready-method-in-java-with-examples/","body":"Here I liked the description of the method: <a href=\"https://www.geeksforgeeks.org/bufferedreader-ready-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701824058,"post_id":77606135,"comment_id":136822568,"body_markdown":"Regarding the ready() method, Ill explain, I was trained in the Java language on the CodeGym website and there they periodically used the method that you propose and my method with the ready method.","body":"Regarding the ready() method, Ill explain, I was trained in the Java language on the CodeGym website and there they periodically used the method that you propose and my method with the ready method."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701824266,"post_id":77606135,"comment_id":136822589,"body_markdown":"Gentlemen, please try to run my code on your PC before you say anything.","body":"Gentlemen, please try to run my code on your PC before you say anything."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701824608,"post_id":77606135,"comment_id":136822621,"body_markdown":"The situation with ```String line; while ((line = readerFile.readLine()) != null) { ... }``` is exactly the same. In debug mode, I see that the cycle is simply skipped, since there seems to be no data in it","body":"The situation with <code>String line; while ((line = readerFile.readLine()) != null) { ... }</code> is exactly the same. In debug mode, I see that the cycle is simply skipped, since there seems to be no data in it"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701836302,"post_id":77606135,"comment_id":136823456,"body_markdown":"What you learned regarding `ready()`, or at least how you&#39;re applying that knowledge, is **wrong**. We don&#39;t need to run the code to know that. Now, if you&#39;ve made the change to the standard approach (as in Michael&#39;s comment) and you&#39;re still not seeing the file contents printed out, then the problem is not _your_ Java code. I suppose it could be a bug in Java itself, but that is unlikely, especially regarding a widely-used standard library method. I would first assume that the file does not contain the contents you think it does, or that you&#39;re reading a different file than you think you are.","body":"What you learned regarding <code>ready()</code>, or at least how you&#39;re applying that knowledge, is <b>wrong</b>. We don&#39;t need to run the code to know that. Now, if you&#39;ve made the change to the standard approach (as in Michael&#39;s comment) and you&#39;re still not seeing the file contents printed out, then the problem is not <i>your</i> Java code. I suppose it could be a bug in Java itself, but that is unlikely, especially regarding a widely-used standard library method. I would first assume that the file does not contain the contents you think it does, or that you&#39;re reading a different file than you think you are."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701863948,"post_id":77606135,"comment_id":136827169,"body_markdown":"The screenshot shows that the file is unsaved (the white circle marker), so we don&#39;t really know what the file actually contains.","body":"The screenshot shows that the file is unsaved (the white circle marker), so we don&#39;t really know what the file actually contains."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701880375,"post_id":77606135,"comment_id":136830367,"body_markdown":"Comrades, the problem has been solved, it turns out that my VS code has something strange going on with the saves, even though there is an autosave.","body":"Comrades, the problem has been solved, it turns out that my VS code has something strange going on with the saves, even though there is an autosave."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701880390,"post_id":77606135,"comment_id":136830371,"body_markdown":"When I opened the file again and again, the data did not disappear anywhere, moreover, it remained unchanged, but I noticed that Windows says that the file does not weigh at all, that is, in fact it contains nothing (I dont even know where the VS code stored the data then ). The ready() method works, if anything. Thanks everyone for your help.","body":"When I opened the file again and again, the data did not disappear anywhere, moreover, it remained unchanged, but I noticed that Windows says that the file does not weigh at all, that is, in fact it contains nothing (I dont even know where the VS code stored the data then ). The ready() method works, if anything. Thanks everyone for your help."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701895522,"post_id":77606135,"comment_id":136833039,"body_markdown":"VS Code will store unsaved files in some cache location if you close the app without saving the file. It&#39;s a mechanism to help prevent data loss. And I strongly recommend you heed our advice about `ready()`. It doesn&#39;t matter that it _happens_ to work for you, it&#39;s still the wrong way to use that method. You only have to read the documentation to see why.","body":"VS Code will store unsaved files in some cache location if you close the app without saving the file. It&#39;s a mechanism to help prevent data loss. And I strongly recommend you heed our advice about <code>ready()</code>. It doesn&#39;t matter that it <i>happens</i> to work for you, it&#39;s still the wrong way to use that method. You only have to read the documentation to see why."},{"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"score":0,"creation_date":1701931553,"post_id":77606135,"comment_id":136836561,"body_markdown":"OK, thank you!\nP.S. Autosaving in the VS code on the laptop turns out to be disabled. It was turned on on the computer, and considering that the VS code seemed to be saving data, but as we found out it was just a cache, I was confused because of all this","body":"OK, thank you! P.S. Autosaving in the VS code on the laptop turns out to be disabled. It was turned on on the computer, and considering that the VS code seemed to be saving data, but as we found out it was just a cache, I was confused because of all this"}],"owner":{"account_id":30071303,"reputation":1,"user_id":23045206,"display_name":"Islam"},"comment_count":22,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701780159,"answer_count":0,"score":-3,"last_activity_date":1701782799,"creation_date":1701778624,"question_id":77606135,"body_markdown":"The situation is as follows, let&#39;s say we have simple code:\r\n\r\n```\r\nimport java.io.*;\r\n\r\n\r\n/* \r\nC:\\Users\\yunus\\Desktop\\index.html\r\n*/\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));) {\r\n            String fileName = reader.readLine();\r\n\r\n            try (BufferedReader readerFile = new BufferedReader(new FileReader(fileName))) {\r\n                while (readerFile.ready()) {\r\n                    String line = readerFile.readLine();\r\n                    System.out.println(line);\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[File contents.](https://i.stack.imgur.com/89eDi.png)\r\n\r\n[In debug mode.](https://i.stack.imgur.com/fqmCN.png)\r\n\r\n\r\n\r\n\r\nIn the debug you can see that the loop is simply skipped; if you put any data there, it will be marked as null. In this case, the exception does not appear, that is, Java sees the file, but does not see the contents. The opposite situation is with a computer, everything works correctly there. The same code, the same file paths, the same Windows, the settings are probably the same, but the computer can do it, but the laptop cant.\r\nI dont know why stack overflow closes my question, in my opinion everything is written correctly. The main problem is that the program does not see the file data, although it is there. I would like the program to read the data","title":"The laptop does not read file data, unlike a computer","body":"<p>The situation is as follows, let's say we have simple code:</p>\n<pre><code>import java.io.*;\n\n\n/* \nC:\\Users\\yunus\\Desktop\\index.html\n*/\n\npublic class Solution {\n    public static void main(String[] args) {\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));) {\n            String fileName = reader.readLine();\n\n            try (BufferedReader readerFile = new BufferedReader(new FileReader(fileName))) {\n                while (readerFile.ready()) {\n                    String line = readerFile.readLine();\n                    System.out.println(line);\n                }\n            }\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/89eDi.png\" rel=\"nofollow noreferrer\">File contents.</a></p>\n<p><a href=\"https://i.stack.imgur.com/fqmCN.png\" rel=\"nofollow noreferrer\">In debug mode.</a></p>\n<p>In the debug you can see that the loop is simply skipped; if you put any data there, it will be marked as null. In this case, the exception does not appear, that is, Java sees the file, but does not see the contents. The opposite situation is with a computer, everything works correctly there. The same code, the same file paths, the same Windows, the settings are probably the same, but the computer can do it, but the laptop cant.\nI dont know why stack overflow closes my question, in my opinion everything is written correctly. The main problem is that the program does not see the file data, although it is there. I would like the program to read the data</p>\n"},{"tags":["java","spring","vue.js","rest","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1701545950,"post_id":77591861,"comment_id":136790143,"body_markdown":"BTW: Your `LoginContoller` makes no sense. You have to call the `/login` endpoint which you are configured.","body":"BTW: Your <code>LoginContoller</code> makes no sense. You have to call the <code>&#47;login</code> endpoint which you are configured."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1701546656,"post_id":77591861,"comment_id":136790218,"body_markdown":"@muzzletov It doesn&#39;t matter, the form login endpoint is exposed by Spring Security and is at `/login`. The controller makes no sense at all, because he must be loggend in to call this endpoint `/api/login`. This will return a 302 redirect to `/login`.","body":"@muzzletov It doesn&#39;t matter, the form login endpoint is exposed by Spring Security and is at <code>&#47;login</code>. The controller makes no sense at all, because he must be loggend in to call this endpoint <code>&#47;api&#47;login</code>. This will return a 302 redirect to <code>&#47;login</code>."},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1701548463,"post_id":77591861,"comment_id":136790374,"body_markdown":"@dur , I implemented the variant on your link but still got 403","body":"@dur , I implemented the variant on your link but still got 403"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1701634144,"post_id":77591861,"comment_id":136797327,"body_markdown":"@MC_Vovi Are you still use `POST` on `http://localhost:8080/api/login`? This endpoint is restricted for authenticated users: `.requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)`. You have to send your credentials to `/login`. But this will also not work, because you doesn&#39;t send CSRF token.","body":"@MC_Vovi Are you still use <code>POST</code> on <code>http:&#47;&#47;localhost:8080&#47;api&#47;login</code>? This endpoint is restricted for authenticated users: <code>.requestMatchers(&quot;&#47;**&quot;).hasRole(&quot;USER&quot;)</code>. You have to send your credentials to <code>&#47;login</code>. But this will also not work, because you doesn&#39;t send CSRF token."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1701634334,"post_id":77591861,"comment_id":136797343,"body_markdown":"@MC_Vovi There is also another problem. The form login parameters are `username` and `password`, not `login`.","body":"@MC_Vovi There is also another problem. The form login parameters are <code>username</code> and <code>password</code>, not <code>login</code>."},{"owner":{"account_id":2251196,"reputation":660,"user_id":1983401,"display_name":"muzzletov"},"score":1,"creation_date":1701634429,"post_id":77591861,"comment_id":136797353,"body_markdown":"@dur yes, sorry, i just saw myself that hes using the formlogin directive","body":"@dur yes, sorry, i just saw myself that hes using the formlogin directive"}],"answers":[{"comments":[{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1701548019,"post_id":77591925,"comment_id":136790329,"body_markdown":"got Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8080/login;jsessionid=4897CB13AF8C7B7965EAA022B04511AA. (Reason: CORS header Access-Control-Allow-Origin missing). Status code: 302. and Cache miss for REQUEST dispatch to &#39;/api/login&#39; (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE. on backend","body":"got Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at <a href=\"http://localhost:8080/login;jsessionid=4897CB13AF8C7B7965EAA022B04511AA\" rel=\"nofollow noreferrer\">localhost:8080/&hellip;</a>. (Reason: CORS header Access-Control-Allow-Origin missing). Status code: 302. and Cache miss for REQUEST dispatch to &#39;/api/login&#39; (previous null). Performing CorsConfiguration lookup. This is logged once only at WARN level, and every time at TRACE. on backend"},{"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"score":0,"creation_date":1701548926,"post_id":77591925,"comment_id":136790419,"body_markdown":"please try update  corsConfiguration.setAllowedOrigins(List.of(&quot;http://localhost:8081&quot;)); in your SecurityConfig.java","body":"please try update  corsConfiguration.setAllowedOrigins(List.of(&quot;<a href=\"http://localhost:8081&quot;\" rel=\"nofollow noreferrer\">localhost:8081&quot;</a>&zwnj;&#8203;)); in your SecurityConfig.java"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1701594501,"post_id":77591925,"comment_id":136793410,"body_markdown":"now got 403 error","body":"now got 403 error"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1701600140,"post_id":77591925,"comment_id":136793809,"body_markdown":"nothing changed((. Idk, maybe I should set necessary headers manually?","body":"nothing changed((. Idk, maybe I should set necessary headers manually?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701788471,"post_id":77591925,"comment_id":136817192,"body_markdown":"This answer is faulty, how to setup CORS in spring security is very clearly defined in the spring security CORS chapter in the documentation. The configuration posted here is for configuring a spring MVC application.","body":"This answer is faulty, how to setup CORS in spring security is very clearly defined in the spring security CORS chapter in the documentation. The configuration posted here is for configuring a spring MVC application."}],"tags":[],"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701595466,"creation_date":1701545791,"answer_id":77591925,"question_id":77591861,"body_markdown":"**why the error :**\r\n\r\n- your `http.cors`  in `SecurityConfig.java` does not allow request form port 8081. this is spring default security phenomena \r\n\r\n**how we can solve this :**\r\n- you have to allow your port 8081 inside java application. we can do this as follows\r\n\r\n- you need to update  `registry.addMapping` and allowedMethods\r\n\r\n```\r\n\r\n@Configuration\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:8081&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n- please update your security config as follows\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http    .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(Customizer.withDefaults())\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\r\n                )\r\n                .formLogin((formLogin) -&gt;\r\n                        formLogin\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/main&quot;)\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n}","title":"CORS configuration with Spring Security and Vue.js","body":"<p><strong>why the error :</strong></p>\n<ul>\n<li>your <code>http.cors</code>  in <code>SecurityConfig.java</code> does not allow request form port 8081. this is spring default security phenomena</li>\n</ul>\n<p><strong>how we can solve this :</strong></p>\n<ul>\n<li><p>you have to allow your port 8081 inside java application. we can do this as follows</p>\n</li>\n<li><p>you need to update  <code>registry.addMapping</code> and allowedMethods</p>\n</li>\n</ul>\n<pre><code>\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n                .allowedOrigins(&quot;http://localhost:8081&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n\n\n</code></pre>\n<ul>\n<li>please update your security config as follows</li>\n</ul>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http    .csrf(AbstractHttpConfigurer::disable)\n                .cors(Customizer.withDefaults())\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\n                )\n                .formLogin((formLogin) -&gt;\n                        formLogin\n                                .loginPage(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/main&quot;)\n                                .permitAll()\n                );\n        return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701782219,"creation_date":1701544565,"question_id":77591861,"body_markdown":"I created a Vue-Spring login API, which looks correct.\r\n\r\nAuthForm.vue\r\n```vue\r\nmethods: {\r\n  try_auth() {\r\n    if (this.check()) {\r\n      axios.post(&#39;http://localhost:8080/api/login&#39;, {\r\n        params: {\r\n          login: this.usr.login,\r\n          password: this.usr.password\r\n        }\r\n      });\r\n    }\r\n  },\r\n}\r\n```\r\nLoginController.java:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\n@CrossOrigin(&quot;http://localhost:8081&quot;)\r\npublic class LoginContoller {\r\n    @RequestMapping(method = RequestMethod.POST, path=&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestParam String login, @RequestParam String password) {\r\n        return ResponseEntity.ok(&quot;Authentication successful: &quot; + login + &quot; &quot; + password);\r\n    }\r\n}\r\n```\r\nSecurityConfig.java:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n        corsConfiguration.setAllowedOrigins(List.of(&quot;*&quot;));\r\n        corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\r\n        corsConfiguration.setAllowCredentials(true);\r\n        corsConfiguration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n        http.cors(Customizer.withDefaults())\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\r\n                )\r\n                .formLogin((formLogin) -&gt;\r\n                        formLogin\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/main&quot;)\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user =\r\n                User.builder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(passwordEncoder.encode(&quot;password&quot;))\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nHowever, when I try to execute the `try_auth()` method, I get [![enter image description here][1]][1] in the console. What did I implement wrong? The Vue project is deployed on port 8081 and Tomcat is running on port 8080.\r\nMy question is different from https://stackoverflow.com/questions/42016126/cors-issue-no-access-control-allow-origin-header-is-present-on-the-requested , because this solution is not suitable for me, I still got 403 error and don&#39;t know how to fix it. My LoginController may be used incorrectly.\r\nSo, here&#39;s my code after fixes:\r\nLoginController didn&#39;t change. Axios on frontend didn&#39;t change as well. SecurityConfig:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.cors(withDefaults())\r\n                .authorizeHttpRequests((authorizeRequests) -&gt;\r\n                        authorizeRequests\r\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\r\n                )\r\n                .formLogin((formLogin) -&gt;\r\n                        formLogin\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/main&quot;)\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user =\r\n                User.builder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(passwordEncoder.encode(&quot;password&quot;))\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:8081&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n```\r\nStill got \r\n```\r\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8080/api/login. (Reason: CORS header Access-Control-Allow-Origin missing). Status code: 403.\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OZlEr.png","title":"CORS configuration with Spring Security and Vue.js","body":"<p>I created a Vue-Spring login API, which looks correct.</p>\n<p>AuthForm.vue</p>\n<pre class=\"lang-js prettyprint-override\"><code>methods: {\n  try_auth() {\n    if (this.check()) {\n      axios.post('http://localhost:8080/api/login', {\n        params: {\n          login: this.usr.login,\n          password: this.usr.password\n        }\n      });\n    }\n  },\n}\n</code></pre>\n<p>LoginController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n@CrossOrigin(&quot;http://localhost:8081&quot;)\npublic class LoginContoller {\n    @RequestMapping(method = RequestMethod.POST, path=&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestParam String login, @RequestParam String password) {\n        return ResponseEntity.ok(&quot;Authentication successful: &quot; + login + &quot; &quot; + password);\n    }\n}\n</code></pre>\n<p>SecurityConfig.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\n        corsConfiguration.setAllowedOrigins(List.of(&quot;*&quot;));\n        corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\n        corsConfiguration.setAllowCredentials(true);\n        corsConfiguration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n        http.cors(Customizer.withDefaults())\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\n                )\n                .formLogin((formLogin) -&gt;\n                        formLogin\n                                .loginPage(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/main&quot;)\n                                .permitAll()\n                );\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user =\n                User.builder()\n                        .username(&quot;user&quot;)\n                        .password(passwordEncoder.encode(&quot;password&quot;))\n                        .roles(&quot;USER&quot;)\n                        .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>However, when I try to execute the <code>try_auth()</code> method, I get <a href=\"https://i.stack.imgur.com/OZlEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZlEr.png\" alt=\"enter image description here\" /></a> in the console. What did I implement wrong? The Vue project is deployed on port 8081 and Tomcat is running on port 8080.\nMy question is different from <a href=\"https://stackoverflow.com/questions/42016126/cors-issue-no-access-control-allow-origin-header-is-present-on-the-requested\">CORS issue - No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource</a> , because this solution is not suitable for me, I still got 403 error and don't know how to fix it. My LoginController may be used incorrectly.\nSo, here's my code after fixes:\nLoginController didn't change. Axios on frontend didn't change as well. SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.cors(withDefaults())\n                .authorizeHttpRequests((authorizeRequests) -&gt;\n                        authorizeRequests\n                                .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\n                )\n                .formLogin((formLogin) -&gt;\n                        formLogin\n                                .loginPage(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/main&quot;)\n                                .permitAll()\n                );\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user =\n                User.builder()\n                        .username(&quot;user&quot;)\n                        .password(passwordEncoder.encode(&quot;password&quot;))\n                        .roles(&quot;USER&quot;)\n                        .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:8081&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p>Still got</p>\n<pre><code>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://localhost:8080/api/login. (Reason: CORS header Access-Control-Allow-Origin missing). Status code: 403.\n</code></pre>\n"},{"tags":["java","izpack"],"owner":{"account_id":3570622,"reputation":1480,"user_id":4127330,"accept_rate":69,"display_name":"maurobio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701782064,"creation_date":1701782064,"question_id":77606488,"body_markdown":"Using izPack, I want to create an installation package for a suite of programs, which I want to appear as a program group, with a shortcut for each program of the suite, in the start menu.\r\n\r\nIn my install.xml file I have the tags:\r\n\r\n    &lt;resources&gt;\r\n       &lt;res id=&quot;shortcutSpec.xml&quot; src=&quot;myinst_shortcutSpec.xml&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\nand among the &lt;panels&gt;&lt;/panels&gt; tags I have:\r\n\r\n    &lt;panel classname=&quot;ShortcutPanel&quot;/&gt;\r\n\r\nMy shortcutSpec.xml file is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;shortcuts&gt;\r\n        &lt;programGroup defaultName=&quot;My Program Suite&quot; location=&quot;applications&quot;/&gt;\r\n        &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\r\n            name=&quot;Program1.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot;\r\n            startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\r\n        &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\r\n            name=&quot;Program2.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\r\n        &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\r\n            name=&quot;Program3.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\r\n        &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\r\n            name=&quot;Program4.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\r\n        &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\r\n            name=&quot;Program5.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\r\n    &lt;/shortcuts&gt;\r\n\r\nThe install.xml compiles fine and generates the install.jar file, but two problems appear: first, the shortcut panel is not displayed; second, and more important, the program group with the program shortcuts is not created.\r\n\r\nCould someone out there give some hints?\r\n","title":"How to create a program group with izPack","body":"<p>Using izPack, I want to create an installation package for a suite of programs, which I want to appear as a program group, with a shortcut for each program of the suite, in the start menu.</p>\n<p>In my install.xml file I have the tags:</p>\n<pre><code>&lt;resources&gt;\n   &lt;res id=&quot;shortcutSpec.xml&quot; src=&quot;myinst_shortcutSpec.xml&quot;/&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>and among the  tags I have:</p>\n<pre><code>&lt;panel classname=&quot;ShortcutPanel&quot;/&gt;\n</code></pre>\n<p>My shortcutSpec.xml file is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;shortcuts&gt;\n    &lt;programGroup defaultName=&quot;My Program Suite&quot; location=&quot;applications&quot;/&gt;\n    &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\n        name=&quot;Program1.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot;\n        startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\n    &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\n        name=&quot;Program2.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\n    &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\n        name=&quot;Program3.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\n    &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\n        name=&quot;Program4.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\n    &lt;shortcut applications=&quot;yes&quot; desktop=&quot;no&quot; initialState=&quot;noShow&quot;\n        name=&quot;Program5.exe&quot; programGroup=&quot;yes&quot; startMenu=&quot;yes&quot; startup=&quot;no&quot; target=&quot;$INSTALL_PATH/&quot;/&gt;\n&lt;/shortcuts&gt;\n</code></pre>\n<p>The install.xml compiles fine and generates the install.jar file, but two problems appear: first, the shortcut panel is not displayed; second, and more important, the program group with the program shortcuts is not created.</p>\n<p>Could someone out there give some hints?</p>\n"},{"tags":["java","spring","rest","httpclient"],"answers":[{"tags":[],"owner":{"account_id":20708540,"reputation":21,"user_id":15205767,"display_name":"Coder1337"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701781747,"creation_date":1701781747,"answer_id":77606449,"question_id":77584489,"body_markdown":"I solved it by registering a custom message converter:\r\n\r\n```\r\npublic RestClient create(String baseUrl, Duration timeout) {\r\n        return RestClient.builder()\r\n            .baseUrl(&quot;...&quot;)\r\n            //addFirst is important\r\n            .messageConverters(converterList -&gt; converterList.addFirst(new JsonMessageConverter()))\r\n            .build();\r\n    }\r\n```\r\n\r\nThis is my custom message converter:\r\n\r\n```\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpInputMessage;\r\nimport org.springframework.http.converter.HttpMessageNotReadableException;\r\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.lang.reflect.Type;\r\n\r\nclass JsonMessageConverter extends MappingJackson2HttpMessageConverter {\r\n\r\n    @Override\r\n    public Object read(@NotNull Type type, Class&lt;?&gt; contextClass, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n        var bytes = inputMessage.getBody().readAllBytes();\r\n        if (bytes.length == 0) {\r\n            return null;\r\n        }\r\n\r\n        return super.read(type, contextClass, new HttpInputMessageWrapper(new ByteArrayInputStream(bytes), inputMessage.getHeaders()));\r\n    }\r\n\r\n    private static class HttpInputMessageWrapper implements HttpInputMessage {\r\n        private final InputStream body;\r\n        private final HttpHeaders headers;\r\n\r\n        private HttpInputMessageWrapper(InputStream body, HttpHeaders headers) {\r\n            this.body = body;\r\n            this.headers = headers;\r\n        }\r\n\r\n        @Override\r\n        public @NotNull InputStream getBody() {\r\n            return this.body;\r\n        }\r\n\r\n        @Override\r\n        public @NotNull HttpHeaders getHeaders() {\r\n            return this.headers;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then, I add the error handler I posted in the question to handle 404 gracefully:\r\n\r\n```\r\n    Optional&lt;Policy&gt; fetchDataRemotly() {\r\n        var policy = restClient.get()\r\n            .uri(&quot;...&quot;)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .onStatus(RestClientFactory.ignore404())\r\n            .body(Policy.class);\r\n\r\n        /*\r\n         * Variable &#39;policy&#39; will be null if we get 404.\r\n         */\r\n        return Optional.ofNullable(policy);\r\n    }\r\n```","title":"Handling 404 Errors Gracefully with Spring&#39;s RestClient","body":"<p>I solved it by registering a custom message converter:</p>\n<pre><code>public RestClient create(String baseUrl, Duration timeout) {\n        return RestClient.builder()\n            .baseUrl(&quot;...&quot;)\n            //addFirst is important\n            .messageConverters(converterList -&gt; converterList.addFirst(new JsonMessageConverter()))\n            .build();\n    }\n</code></pre>\n<p>This is my custom message converter:</p>\n<pre><code>import org.jetbrains.annotations.NotNull;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpInputMessage;\nimport org.springframework.http.converter.HttpMessageNotReadableException;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.lang.reflect.Type;\n\nclass JsonMessageConverter extends MappingJackson2HttpMessageConverter {\n\n    @Override\n    public Object read(@NotNull Type type, Class&lt;?&gt; contextClass, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n        var bytes = inputMessage.getBody().readAllBytes();\n        if (bytes.length == 0) {\n            return null;\n        }\n\n        return super.read(type, contextClass, new HttpInputMessageWrapper(new ByteArrayInputStream(bytes), inputMessage.getHeaders()));\n    }\n\n    private static class HttpInputMessageWrapper implements HttpInputMessage {\n        private final InputStream body;\n        private final HttpHeaders headers;\n\n        private HttpInputMessageWrapper(InputStream body, HttpHeaders headers) {\n            this.body = body;\n            this.headers = headers;\n        }\n\n        @Override\n        public @NotNull InputStream getBody() {\n            return this.body;\n        }\n\n        @Override\n        public @NotNull HttpHeaders getHeaders() {\n            return this.headers;\n        }\n    }\n}\n</code></pre>\n<p>And then, I add the error handler I posted in the question to handle 404 gracefully:</p>\n<pre><code>    Optional&lt;Policy&gt; fetchDataRemotly() {\n        var policy = restClient.get()\n            .uri(&quot;...&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .onStatus(RestClientFactory.ignore404())\n            .body(Policy.class);\n\n        /*\n         * Variable 'policy' will be null if we get 404.\n         */\n        return Optional.ofNullable(policy);\n    }\n</code></pre>\n"}],"owner":{"account_id":20708540,"reputation":21,"user_id":15205767,"display_name":"Coder1337"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77606449,"answer_count":1,"score":0,"last_activity_date":1701781747,"creation_date":1701425654,"question_id":77584489,"body_markdown":"I am currently working with the new RestClient in Spring Boot 3.2/Spring Framework 5.1, and I have encountered a challenge with handling 404 errors. My goal is to gracefully handle these errors without causing subsequent steps in my code to fail, particularly when converting the response body.\r\n\r\nExample:\r\n```java\r\nclass CmsClient {\r\n    pubic Policy getPolicy() {\r\n        return restClient.get()\r\n            .uri(&quot;some/url&quot;)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .onStatus(ignore404())\r\n            .body(Policy.class);\r\n    }\r\n\r\n\r\n    public static ResponseErrorHandler ignore404() {\r\n        return new ResponseErrorHandler() {\r\n\r\n            @Override\r\n            public boolean hasError(final ClientHttpResponse response) throws IOException {\r\n                return response.getStatusCode() == HttpStatus.NOT_FOUND;\r\n            }\r\n\r\n            @Override\r\n            public void handleError(final ClientHttpResponse response) {\r\n                //Do nothing\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThis is the exception I get:\r\n```\r\norg.springframework.web.client.RestClientException: Error while extracting response for type [package.Policy] and content type [application/json]\r\n\tat org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)\r\n\tat org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:641)\r\n\tat org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:589)\r\n\tat package.CmsClient.getPolicy(CmsClient.java:27)\r\n\tat package.CmsClientTest.getPolicy_404_ThrowException_Test(CmsClientTest.java:61)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: No content to map due to end-of-input\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:406)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)\r\n\tat org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:200)\r\n\t... 7 more\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 0]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._initForReading(ObjectReader.java:360)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2095)\r\n\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1481)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)\r\n\t... 9 more\r\n```\r\n\r\nI anticipate that the method `.body(Policy.class);` should return null instead of triggering an exception due to a MismatchedInputException. This behavior aligned with what was previously observed in WebClient, and I was expecting a similar approach in this context.\r\n\r\nCurrent Solution: As a temporary measure, one can specify String.class in the body method call. However, this approach compromises the fluidity and ease of the code, necessitating additional handling with ObjectMapper and similar tools.","title":"Handling 404 Errors Gracefully with Spring&#39;s RestClient","body":"<p>I am currently working with the new RestClient in Spring Boot 3.2/Spring Framework 5.1, and I have encountered a challenge with handling 404 errors. My goal is to gracefully handle these errors without causing subsequent steps in my code to fail, particularly when converting the response body.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CmsClient {\n    pubic Policy getPolicy() {\n        return restClient.get()\n            .uri(&quot;some/url&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .onStatus(ignore404())\n            .body(Policy.class);\n    }\n\n\n    public static ResponseErrorHandler ignore404() {\n        return new ResponseErrorHandler() {\n\n            @Override\n            public boolean hasError(final ClientHttpResponse response) throws IOException {\n                return response.getStatusCode() == HttpStatus.NOT_FOUND;\n            }\n\n            @Override\n            public void handleError(final ClientHttpResponse response) {\n                //Do nothing\n            }\n        };\n    }\n}\n</code></pre>\n<p>This is the exception I get:</p>\n<pre><code>org.springframework.web.client.RestClientException: Error while extracting response for type [package.Policy] and content type [application/json]\n    at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:216)\n    at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.readBody(DefaultRestClient.java:641)\n    at org.springframework.web.client.DefaultRestClient$DefaultResponseSpec.body(DefaultRestClient.java:589)\n    at package.CmsClient.getPolicy(CmsClient.java:27)\n    at package.CmsClientTest.getPolicy_404_ThrowException_Test(CmsClientTest.java:61)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\nCaused by: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: No content to map due to end-of-input\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:406)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:354)\n    at org.springframework.web.client.DefaultRestClient.readWithMessageConverters(DefaultRestClient.java:200)\n    ... 7 more\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 0]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)\n    at com.fasterxml.jackson.databind.ObjectReader._initForReading(ObjectReader.java:360)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2095)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1481)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:395)\n    ... 9 more\n</code></pre>\n<p>I anticipate that the method <code>.body(Policy.class);</code> should return null instead of triggering an exception due to a MismatchedInputException. This behavior aligned with what was previously observed in WebClient, and I was expecting a similar approach in this context.</p>\n<p>Current Solution: As a temporary measure, one can specify String.class in the body method call. However, this approach compromises the fluidity and ease of the code, necessitating additional handling with ObjectMapper and similar tools.</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701800273,"post_id":77606429,"comment_id":136819423,"body_markdown":"This is a resource issue - &quot;java.lang.NoClassDefFoundError: org/eclipse/persistence/internal/libraries/asm/EclipseLinkClassVisitor&quot; means you don&#39;t have the complete EclipseLink jar on the class path. How are you setting up the environment and pulling in EclipseLink?","body":"This is a resource issue - &quot;java.lang.NoClassDefFoundError: org/eclipse/persistence/internal/libraries/asm/EclipseLinkCl&zwnj;&#8203;assVisitor&quot; means you don&#39;t have the complete EclipseLink jar on the class path. How are you setting up the environment and pulling in EclipseLink?"}],"owner":{"account_id":30071760,"reputation":1,"user_id":23045561,"display_name":"ANDRE VICTOR RIBEIRO CARVALHO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701781554,"creation_date":1701781554,"question_id":77606429,"body_markdown":"I&#39;m studying JPA using EclipseLink and I had the following errors and I can&#39;t resolve them. \r\nI tried to use hibernate but somehow my PU was found. I soon switched to EclipseLink and had some results, but I have this problem.\r\n\r\nCan anybody help me?\r\n\r\n**This is the full error stack**\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError\r\n\tat dao.GenericDAO.&lt;init&gt;(GenericDAO.java:23)\r\n\tat dao.GenericDAO.&lt;init&gt;(GenericDAO.java:31)\r\n\tat dao.FilmeDAO.&lt;init&gt;(FilmeDAO.java:15)\r\n\tat control.GerenciaFilme.adicionar(GerenciaFilme.java:25)\r\n\tat view.CadastroFilmes.btnConfirmarActionPerformed(CadastroFilmes.java:283)\r\n\tat view.CadastroFilmes.access$000(CadastroFilmes.java:18)\r\n\tat view.CadastroFilmes$1.actionPerformed(CadastroFilmes.java:127)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2314)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:407)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6621)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6386)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4996)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4828)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4828)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:98)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: Exception [EclipseLink-30005] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.PersistenceUnitLoadingException\r\nException Description: An exception was thrown while searching for persistence archives with ClassLoader: jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e\r\nInternal Exception: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Predeployment of PersistenceUnit [CineMaxPU] failed.\r\nInternal Exception: java.lang.NoClassDefFoundError: org/eclipse/persistence/internal/libraries/asm/EclipseLinkClassVisitor\r\n\tat org.eclipse.persistence.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:129)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:118)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat util.JPAConectionFactory.&lt;clinit&gt;(JPAConectionFactory.java:19)\r\n\t... 42 more\r\nCaused by: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Predeployment of PersistenceUnit [CineMaxPU] failed.\r\nInternal Exception: java.lang.NoClassDefFoundError\r\n```\r\n\r\n**This is my Entity**\r\n```\r\n@Entity\r\n@Table(name = &quot;filme&quot;)\r\npublic class Filme {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @Column(name = &quot;titulo&quot;)\r\n    private String titulo;\r\n    \r\n    @Column(name = &quot;genero&quot;)\r\n    private String genero;\r\n    \r\n    @Column(name = &quot;sinopse&quot;)\r\n    private String sinopse;\r\n    \r\n    @Column(name = &quot;diretor&quot;)\r\n    private String diretor;\r\n    \r\n    @Column(name = &quot;pos_clas_indicativa&quot;)\r\n    private int posClasIndicativa;\r\n    \r\n    @Column(name = &quot;ano&quot;)\r\n    private int ano;\r\n    \r\n    @Column(name = &quot;duracao&quot;)\r\n    private int duracao;\r\n    \r\n    @Column(name = &quot;caminho_imagem&quot;)\r\n    private String caminhoImagem;\r\n}\r\n```\r\n\r\n**This is my Generic DAO**\r\n```\r\npublic abstract class GenericDAO&lt;T, I extends Serializable&gt; {\r\n\r\n    protected EntityManager entityManager = JPAConectionFactory.createEntityManager();\r\n\r\n    private Class&lt;T&gt; persistedClass;\r\n\r\n    protected GenericDAO() {\r\n    }\r\n\r\n    protected GenericDAO(Class&lt;T&gt; persistedClass) {\r\n        this();\r\n        this.persistedClass = persistedClass;\r\n    }\r\n\r\n    public T salvar(T entity) {\r\n        EntityTransaction t = entityManager.getTransaction();\r\n        t.begin();\r\n        entityManager.persist(entity);\r\n        entityManager.flush();\r\n        t.commit();\r\n        return entity;\r\n    }\r\n\r\n    public T atualizar(T entity) {\r\n        EntityTransaction t = entityManager.getTransaction();\r\n        t.begin();\r\n        entityManager.merge(entity);\r\n        entityManager.flush();\r\n        t.commit();\r\n        return entity;\r\n    }\r\n\r\n    public void remover(I id) {\r\n        T entity = encontrar(id);\r\n        EntityTransaction tx = entityManager.getTransaction();\r\n        tx.begin();\r\n        T mergedEntity = entityManager.merge(entity);\r\n        entityManager.remove(mergedEntity);\r\n        entityManager.flush();\r\n        tx.commit();\r\n    }\r\n\r\n    public List&lt;T&gt; getList() {\r\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;T&gt; query = builder.createQuery(persistedClass);\r\n        query.from(persistedClass);\r\n        return entityManager.createQuery(query).getResultList();\r\n    }\r\n\r\n    public T encontrar(I id) {\r\n        return entityManager.find(persistedClass, id);\r\n    }\r\n}\r\n```\r\n\r\n**This is my Conection Factory **\r\n```\r\npublic class JPAConectionFactory {\r\n     private static EntityManagerFactory factory;\r\n\r\n    static {\r\n        factory = Persistence.createEntityManagerFactory(&quot;CineMaxPU&quot;);\r\n    }\r\n    \r\n   \r\n    public static EntityManager createEntityManager() {\r\n        EntityManager em = factory.createEntityManager();\r\n        return em;\r\n    }\r\n\r\n    public static void closeEntityManager(EntityManager manager) {\r\n        manager.close();\r\n    }\r\n}\r\n```\r\n\r\n**This is my persistence.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;CineMaxPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;class&gt;model.Filme&lt;/class&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;*****&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;*****&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;*****&quot;/&gt;\r\n      &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot;/&gt;\r\n      &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n\r\nI tryed to change the persistence.xml but dont worked.","title":"Predeployment of PersistenceUnit failed","body":"<p>I'm studying JPA using EclipseLink and I had the following errors and I can't resolve them.\nI tried to use hibernate but somehow my PU was found. I soon switched to EclipseLink and had some results, but I have this problem.</p>\n<p>Can anybody help me?</p>\n<p><strong>This is the full error stack</strong></p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ExceptionInInitializerError\n    at dao.GenericDAO.&lt;init&gt;(GenericDAO.java:23)\n    at dao.GenericDAO.&lt;init&gt;(GenericDAO.java:31)\n    at dao.FilmeDAO.&lt;init&gt;(FilmeDAO.java:15)\n    at control.GerenciaFilme.adicionar(GerenciaFilme.java:25)\n    at view.CadastroFilmes.btnConfirmarActionPerformed(CadastroFilmes.java:283)\n    at view.CadastroFilmes.access$000(CadastroFilmes.java:18)\n    at view.CadastroFilmes$1.actionPerformed(CadastroFilmes.java:127)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2314)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:407)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6621)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6386)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4996)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4828)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4828)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:98)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: Exception [EclipseLink-30005] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.PersistenceUnitLoadingException\nException Description: An exception was thrown while searching for persistence archives with ClassLoader: jdk.internal.loader.ClassLoaders$AppClassLoader@70dea4e\nInternal Exception: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Predeployment of PersistenceUnit [CineMaxPU] failed.\nInternal Exception: java.lang.NoClassDefFoundError: org/eclipse/persistence/internal/libraries/asm/EclipseLinkClassVisitor\n    at org.eclipse.persistence.exceptions.PersistenceUnitLoadingException.exceptionSearchingForPersistenceResources(PersistenceUnitLoadingException.java:129)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:118)\n    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at util.JPAConectionFactory.&lt;clinit&gt;(JPAConectionFactory.java:19)\n    ... 42 more\nCaused by: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Predeployment of PersistenceUnit [CineMaxPU] failed.\nInternal Exception: java.lang.NoClassDefFoundError\n</code></pre>\n<p><strong>This is my Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;filme&quot;)\npublic class Filme {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;titulo&quot;)\n    private String titulo;\n    \n    @Column(name = &quot;genero&quot;)\n    private String genero;\n    \n    @Column(name = &quot;sinopse&quot;)\n    private String sinopse;\n    \n    @Column(name = &quot;diretor&quot;)\n    private String diretor;\n    \n    @Column(name = &quot;pos_clas_indicativa&quot;)\n    private int posClasIndicativa;\n    \n    @Column(name = &quot;ano&quot;)\n    private int ano;\n    \n    @Column(name = &quot;duracao&quot;)\n    private int duracao;\n    \n    @Column(name = &quot;caminho_imagem&quot;)\n    private String caminhoImagem;\n}\n</code></pre>\n<p><strong>This is my Generic DAO</strong></p>\n<pre><code>public abstract class GenericDAO&lt;T, I extends Serializable&gt; {\n\n    protected EntityManager entityManager = JPAConectionFactory.createEntityManager();\n\n    private Class&lt;T&gt; persistedClass;\n\n    protected GenericDAO() {\n    }\n\n    protected GenericDAO(Class&lt;T&gt; persistedClass) {\n        this();\n        this.persistedClass = persistedClass;\n    }\n\n    public T salvar(T entity) {\n        EntityTransaction t = entityManager.getTransaction();\n        t.begin();\n        entityManager.persist(entity);\n        entityManager.flush();\n        t.commit();\n        return entity;\n    }\n\n    public T atualizar(T entity) {\n        EntityTransaction t = entityManager.getTransaction();\n        t.begin();\n        entityManager.merge(entity);\n        entityManager.flush();\n        t.commit();\n        return entity;\n    }\n\n    public void remover(I id) {\n        T entity = encontrar(id);\n        EntityTransaction tx = entityManager.getTransaction();\n        tx.begin();\n        T mergedEntity = entityManager.merge(entity);\n        entityManager.remove(mergedEntity);\n        entityManager.flush();\n        tx.commit();\n    }\n\n    public List&lt;T&gt; getList() {\n            CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;T&gt; query = builder.createQuery(persistedClass);\n        query.from(persistedClass);\n        return entityManager.createQuery(query).getResultList();\n    }\n\n    public T encontrar(I id) {\n        return entityManager.find(persistedClass, id);\n    }\n}\n</code></pre>\n<p>**This is my Conection Factory **</p>\n<pre><code>public class JPAConectionFactory {\n     private static EntityManagerFactory factory;\n\n    static {\n        factory = Persistence.createEntityManagerFactory(&quot;CineMaxPU&quot;);\n    }\n    \n   \n    public static EntityManager createEntityManager() {\n        EntityManager em = factory.createEntityManager();\n        return em;\n    }\n\n    public static void closeEntityManager(EntityManager manager) {\n        manager.close();\n    }\n}\n</code></pre>\n<p><strong>This is my persistence.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;CineMaxPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;model.Filme&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;*****&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;*****&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;*****&quot;/&gt;\n      &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot;/&gt;\n      &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot; value=&quot;database&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I tryed to change the persistence.xml but dont worked.</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":719135,"reputation":711,"user_id":642319,"accept_rate":50,"display_name":"FreeBird"},"score":0,"creation_date":1701839513,"post_id":77606377,"comment_id":136823644,"body_markdown":"You probably need to set android:exported=&quot;true&quot; in your manifest.","body":"You probably need to set android:exported=&quot;true&quot; in your manifest."}],"owner":{"account_id":29774244,"reputation":7,"user_id":22818685,"display_name":"Oleh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701781402,"creation_date":1701781097,"question_id":77606377,"body_markdown":"I inherited a class from `FirebaseMessagingService` and added the meta data and service to the manifest, but I have a problem that this class is only triggered when the application is running. Is there any way to make it work even when the application is closed?\r\n\r\n```\r\n&lt;application&gt;\r\n&lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_favicon&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/red&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.MyFirebaseMessagingService&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n&lt;/application&gt;\r\n```\r\n\r\n```\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n        // TODO(developer): Handle FCM messages here.\r\n        RemoteMessage.Notification notification = remoteMessage.getNotification();\r\n        Map&lt;String, String&gt; data = remoteMessage.getData();\r\n\r\n        if (notification != null) {\r\n            sendNotification(notification, data);\r\n        }\r\n    } \r\nprivate void sendNotification(RemoteMessage.Notification notification, Map&lt;String, String&gt; data) {\r\n        Log.d(&quot;MyFirebaseMessagingService&quot;, notification.getChannelId()+&quot;&quot;);\r\n}\r\n}\r\n```\r\n\r\nP.s.: I need this to implement the silent mode and some additional actions when a notification is clicked.\r\n","title":"FirebaseMessagingService does not work when the application is closed","body":"<p>I inherited a class from <code>FirebaseMessagingService</code> and added the meta data and service to the manifest, but I have a problem that this class is only triggered when the application is running. Is there any way to make it work even when the application is closed?</p>\n<pre><code>&lt;application&gt;\n&lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n            android:resource=&quot;@drawable/ic_favicon&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n            android:resource=&quot;@color/red&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;.MyFirebaseMessagingService&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n&lt;/application&gt;\n</code></pre>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n        // TODO(developer): Handle FCM messages here.\n        RemoteMessage.Notification notification = remoteMessage.getNotification();\n        Map&lt;String, String&gt; data = remoteMessage.getData();\n\n        if (notification != null) {\n            sendNotification(notification, data);\n        }\n    } \nprivate void sendNotification(RemoteMessage.Notification notification, Map&lt;String, String&gt; data) {\n        Log.d(&quot;MyFirebaseMessagingService&quot;, notification.getChannelId()+&quot;&quot;);\n}\n}\n</code></pre>\n<p>P.s.: I need this to implement the silent mode and some additional actions when a notification is clicked.</p>\n"},{"tags":["java","docker","maven-dependency"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1701713678,"post_id":77601643,"comment_id":136807469,"body_markdown":"I&#39;m afraid you are trying to do 4 things at once, without understanding any of these - e.g. when using Maven, you&#39;ll never manually call `javac`","body":"I&#39;m afraid you are trying to do 4 things at once, without understanding any of these - e.g. when using Maven, you&#39;ll never manually call <code>javac</code>"},{"owner":{"account_id":30065214,"reputation":1,"user_id":23040529,"display_name":"Jinq"},"score":0,"creation_date":1701714124,"post_id":77601643,"comment_id":136807551,"body_markdown":"Yes, I am trying to do 4 things at once, after I remove the javac, it lead to could not find main","body":"Yes, I am trying to do 4 things at once, after I remove the javac, it lead to could not find main"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701714530,"post_id":77601643,"comment_id":136807621,"body_markdown":"That&#39;s because you have to *use* maven. Just having a pom.xml isn&#39;t enough.","body":"That&#39;s because you have to <i>use</i> maven. Just having a pom.xml isn&#39;t enough."}],"owner":{"account_id":30065214,"reputation":1,"user_id":23040529,"display_name":"Jinq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701781334,"creation_date":1701712871,"question_id":77601643,"body_markdown":"```dockerfile\r\n# Use an official OpenJDK runtime as a parent image\r\nFROM maven:3.5.2-jdk-8\r\n\r\n# Create new app directory\r\nRUN mkdir /app\r\n\r\n# Set the working directory in the container\r\nWORKDIR /app\r\n\r\n# Copy the Maven project files\r\nCOPY pom.xml /app\r\nCOPY src/main/java /app\r\n\r\n# Compile the Java source code\r\nRUN mvn compile\r\n\r\n# Specify the command to run on container start\r\nCMD [&quot;mvn&quot;, &quot;exec:java&quot;]\r\n```\r\n\r\nI have edited the code to solve the docker build issue, but I have another issue in docker run, that is :\r\n\r\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java (default-cli) on project SimpleTelegram: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java are missing or invalid","title":"Docker Maven Telegram Bot Project","body":"<pre><code># Use an official OpenJDK runtime as a parent image\nFROM maven:3.5.2-jdk-8\n\n# Create new app directory\nRUN mkdir /app\n\n# Set the working directory in the container\nWORKDIR /app\n\n# Copy the Maven project files\nCOPY pom.xml /app\nCOPY src/main/java /app\n\n# Compile the Java source code\nRUN mvn compile\n\n# Specify the command to run on container start\nCMD [&quot;mvn&quot;, &quot;exec:java&quot;]\n</code></pre>\n<p>I have edited the code to solve the docker build issue, but I have another issue in docker run, that is :</p>\n<p>[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java (default-cli) on project SimpleTelegram: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java are missing or invalid</p>\n"},{"tags":["java","servlets","httpsession"],"answers":[{"tags":[],"owner":{"account_id":892671,"reputation":17469,"user_id":930640,"accept_rate":62,"display_name":"Magnus"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1481432859,"creation_date":1481432859,"answer_id":41083192,"question_id":41082885,"body_markdown":"Turns out it was one of those stupid Eclipse issues...\r\n\r\nProject-&gt;Clean... and restarting Tomcat did the trick.","title":"HttpSessionListener.sessionCreated() not being called","body":"<p>Turns out it was one of those stupid Eclipse issues...</p>\n\n<p>Project->Clean... and restarting Tomcat did the trick.</p>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546018009,"creation_date":1546018009,"answer_id":53962154,"question_id":41082885,"body_markdown":"If you&#39;re not using @WebListener make sure your listeners are referenced in the web.xml. \r\n\r\n    &lt;web-app&gt;...\r\n        &lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;com.yoursite.YourSessionListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n\r\n[In order to receive these notification events, the implementation class must be either declared in the deployment descriptor of the web application, annotated with WebListener, or registered via one of the addListener methods defined on ServletContext.][1]\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html#sessionDestroyed(javax.servlet.http.HttpSessionEvent)","title":"HttpSessionListener.sessionCreated() not being called","body":"<p>If you're not using @WebListener make sure your listeners are referenced in the web.xml. </p>\n\n<pre><code>&lt;web-app&gt;...\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.yoursite.YourSessionListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpSessionListener.html#sessionDestroyed(javax.servlet.http.HttpSessionEvent)\" rel=\"nofollow noreferrer\">In order to receive these notification events, the implementation class must be either declared in the deployment descriptor of the web application, annotated with WebListener, or registered via one of the addListener methods defined on ServletContext.</a></p>\n"},{"comments":[{"owner":{"account_id":6135715,"reputation":405,"user_id":5075118,"accept_rate":83,"display_name":"Kashyap Kansara"},"score":0,"creation_date":1564032599,"post_id":55424860,"comment_id":100898428,"body_markdown":"I have tested your solution and you are right. When I tried to open from Incognito Mode, session created method is called. Thanks.","body":"I have tested your solution and you are right. When I tried to open from Incognito Mode, session created method is called. Thanks."}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553890228,"creation_date":1553890228,"answer_id":55424860,"question_id":41082885,"body_markdown":"Well, I&#39;ll try to go a bit deeper here. This problem *(`sessionCreated(..)` not being invoked)* may occur even without any correlation with [any] IDE. To be honest, I think, that cleaning the project (and the like) just coincided with problem solving (which is - cookies) and it&#39;s not related to the cleaning of project per se.\r\n\r\nI ran into same problem and was resolving for about an hour or so.\r\n\r\nImportant clue and the actual problem here is that your browser may have stored `Cookies` it received in the previous runtime of the same application from the server, and those cookies aren&#39;t timed-out, killed or destroyed anyhow, hence, session will not get created with `.getSession(true)` because every time you issue the request, you send cookie along.\r\n\r\nIf, during the runtime of the application, you&#39;ll open dev-tools (or respective utility in other browser than Chrome) and clear cookies, and **then** re-try to access URL servlet of which creates the session, you will see that container will invoke `sessionCreated` method, as new session will be created.","title":"HttpSessionListener.sessionCreated() not being called","body":"<p>Well, I'll try to go a bit deeper here. This problem <em>(<code>sessionCreated(..)</code> not being invoked)</em> may occur even without any correlation with [any] IDE. To be honest, I think, that cleaning the project (and the like) just coincided with problem solving (which is - cookies) and it's not related to the cleaning of project per se.</p>\n\n<p>I ran into same problem and was resolving for about an hour or so.</p>\n\n<p>Important clue and the actual problem here is that your browser may have stored <code>Cookies</code> it received in the previous runtime of the same application from the server, and those cookies aren't timed-out, killed or destroyed anyhow, hence, session will not get created with <code>.getSession(true)</code> because every time you issue the request, you send cookie along.</p>\n\n<p>If, during the runtime of the application, you'll open dev-tools (or respective utility in other browser than Chrome) and clear cookies, and <strong>then</strong> re-try to access URL servlet of which creates the session, you will see that container will invoke <code>sessionCreated</code> method, as new session will be created.</p>\n"},{"tags":[],"owner":{"account_id":5777193,"reputation":359,"user_id":4558946,"accept_rate":29,"display_name":"Prashant Thorat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701781280,"creation_date":1701781280,"answer_id":77606394,"question_id":41082885,"body_markdown":"I was facing the same issue in spring boot application, where I had to remove session storage type as REDIS along with &quot;spring-session-data-redis&quot; maven dependancy.\r\nIt seems that redis implementation of spring session doesn&#39;t trigger this event.","title":"HttpSessionListener.sessionCreated() not being called","body":"<p>I was facing the same issue in spring boot application, where I had to remove session storage type as REDIS along with &quot;spring-session-data-redis&quot; maven dependancy.\nIt seems that redis implementation of spring session doesn't trigger this event.</p>\n"}],"owner":{"account_id":892671,"reputation":17469,"user_id":930640,"accept_rate":62,"display_name":"Magnus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41083192,"answer_count":4,"score":1,"last_activity_date":1701781280,"creation_date":1481429058,"question_id":41082885,"body_markdown":"I have a very simple Servlet and a very simple HttpSessionListener:\r\n\r\n\r\n\t@WebServlet(&quot;/HelloWorld&quot;)\r\n\tpublic class HelloWorld extends HttpServlet {\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void init(ServletConfig config) throws ServletException {\r\n\t\t\tsuper.init(config);\r\n\t\t\tgetServletContext().setAttribute(&quot;applicationHits&quot;, new AtomicInteger(0));\t\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\r\n\t\t\tSystem.out.println(&quot;get&quot;);\r\n\t\t\t\r\n\t\t\t((AtomicInteger) request.getServletContext().getAttribute(&quot;applicationHits&quot;)).incrementAndGet();\r\n\t\t\t((AtomicInteger) request.getSession(true).getAttribute(&quot;sessionHits&quot;)).incrementAndGet();\r\n\t\t\trequest.setAttribute(&quot;requestHits&quot;, 0);\r\n\t\t\t\r\n\t\t\tgetServletContext().getRequestDispatcher(&quot;/view/HelloWorld.jsp&quot;).forward(request, response);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n&amp;nbsp;\r\n\r\n\t@WebListener\r\n\tpublic class SessionListener implements HttpSessionListener {\r\n\t\r\n\t    public SessionListener() {\r\n\t    }\r\n\t\r\n\t    public void sessionCreated(HttpSessionEvent arg0)  {\r\n\t    \tSystem.out.println(&quot;session listener&quot;);\r\n\t    \targ0.getSession().setAttribute(&quot;sessionHits&quot;, new AtomicInteger(0));\r\n\t    }\r\n\t\r\n\t    public void sessionDestroyed(HttpSessionEvent arg0)  { \r\n\t    }\r\n\t\t\r\n\t}\r\n\r\n\r\nMy `HttpSessionListener.sessionCreated()` method is never called (no log output), and I end up getting a `NullPointerException` on the line where I&#39;m calling getSession()\r\n\r\n    ((AtomicInteger) request.getSession(true).getAttribute(&quot;sessionHits&quot;)).incrementAndGet();\r\n\t\t\trequest.setAttribute(&quot;requestHits&quot;, 0);\r\n\r\nI tried calling `getSession()` without `true` as well, but same problem. \r\n\r\nI don&#39;t get it - isn&#39;t the `@WebListener` annotation enough to invoke my listener? Eclipse even displays it as a listener under `Deployment Descriptor/Listeners`.","title":"HttpSessionListener.sessionCreated() not being called","body":"<p>I have a very simple Servlet and a very simple HttpSessionListener:</p>\n\n<pre><code>@WebServlet(\"/HelloWorld\")\npublic class HelloWorld extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        super.init(config);\n        getServletContext().setAttribute(\"applicationHits\", new AtomicInteger(0));  \n    }\n\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        System.out.println(\"get\");\n\n        ((AtomicInteger) request.getServletContext().getAttribute(\"applicationHits\")).incrementAndGet();\n        ((AtomicInteger) request.getSession(true).getAttribute(\"sessionHits\")).incrementAndGet();\n        request.setAttribute(\"requestHits\", 0);\n\n        getServletContext().getRequestDispatcher(\"/view/HelloWorld.jsp\").forward(request, response);\n    }\n\n}\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>@WebListener\npublic class SessionListener implements HttpSessionListener {\n\n    public SessionListener() {\n    }\n\n    public void sessionCreated(HttpSessionEvent arg0)  {\n        System.out.println(\"session listener\");\n        arg0.getSession().setAttribute(\"sessionHits\", new AtomicInteger(0));\n    }\n\n    public void sessionDestroyed(HttpSessionEvent arg0)  { \n    }\n\n}\n</code></pre>\n\n<p>My <code>HttpSessionListener.sessionCreated()</code> method is never called (no log output), and I end up getting a <code>NullPointerException</code> on the line where I'm calling getSession()</p>\n\n<pre><code>((AtomicInteger) request.getSession(true).getAttribute(\"sessionHits\")).incrementAndGet();\n        request.setAttribute(\"requestHits\", 0);\n</code></pre>\n\n<p>I tried calling <code>getSession()</code> without <code>true</code> as well, but same problem. </p>\n\n<p>I don't get it - isn't the <code>@WebListener</code> annotation enough to invoke my listener? Eclipse even displays it as a listener under <code>Deployment Descriptor/Listeners</code>.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701780954,"creation_date":1701780487,"answer_id":77606311,"question_id":77606189,"body_markdown":"In Java there is no methods not related to class. Here some examples how to pass references in Java whether static or not:\r\n\r\n\r\n    \r\n    class OtherClass{\r\n    \r\n        Function&lt;String, Integer&gt; methodName;\r\n        Consumer&lt;String&gt; consumer;\r\n        Function&lt;String, Integer&gt; nonStatFunc;\r\n    \r\n        OtherClass(Function&lt;String, Integer&gt; methodName, Consumer&lt;String&gt; consumer){\r\n            this.methodName = methodName;\r\n            this.consumer = consumer;\r\n        }\r\n    \r\n        public OtherClass(Function&lt;String, Integer&gt; nonStatFunc) {\r\n    \r\n            this.nonStatFunc = nonStatFunc;\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    class SomeClass{\r\n    \r\n        int a;\r\n    \r\n        public static void someConsumer(String x){\r\n            System.out.println(x);\r\n        }\r\n    \r\n        public static Integer someFunction(String o) {\r\n            return Integer.parseInt(o);\r\n        }\r\n    \r\n        public Integer nonStatFunc(String o){\r\n            return Integer.parseInt(o) + a;\r\n        }\r\n    }\r\n    \r\n    class Main{\r\n        public static void main(String[] args) {\r\n            OtherClass otherClass = new OtherClass(SomeClass::someFunction, SomeClass::someConsumer);\r\n            SomeClass instance = new SomeClass();\r\n            OtherClass otherClass1 = new OtherClass(instance::nonStatFunc);\r\n        }\r\n    }\r\n\r\nTake a look at `package java.util.function.*` it contains mostly all necessary contracts. If there is no suitable you made your own @FunctionalInterface. https://www.baeldung.com/java-8-functional-interfaces","title":"Passing function to another class like Dart","body":"<p>In Java there is no methods not related to class. Here some examples how to pass references in Java whether static or not:</p>\n<pre><code>class OtherClass{\n\n    Function&lt;String, Integer&gt; methodName;\n    Consumer&lt;String&gt; consumer;\n    Function&lt;String, Integer&gt; nonStatFunc;\n\n    OtherClass(Function&lt;String, Integer&gt; methodName, Consumer&lt;String&gt; consumer){\n        this.methodName = methodName;\n        this.consumer = consumer;\n    }\n\n    public OtherClass(Function&lt;String, Integer&gt; nonStatFunc) {\n\n        this.nonStatFunc = nonStatFunc;\n    }\n    \n}\n\n\nclass SomeClass{\n\n    int a;\n\n    public static void someConsumer(String x){\n        System.out.println(x);\n    }\n\n    public static Integer someFunction(String o) {\n        return Integer.parseInt(o);\n    }\n\n    public Integer nonStatFunc(String o){\n        return Integer.parseInt(o) + a;\n    }\n}\n\nclass Main{\n    public static void main(String[] args) {\n        OtherClass otherClass = new OtherClass(SomeClass::someFunction, SomeClass::someConsumer);\n        SomeClass instance = new SomeClass();\n        OtherClass otherClass1 = new OtherClass(instance::nonStatFunc);\n    }\n}\n</code></pre>\n<p>Take a look at <code>package java.util.function.*</code> it contains mostly all necessary contracts. If there is no suitable you made your own @FunctionalInterface. <a href=\"https://www.baeldung.com/java-8-functional-interfaces\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-8-functional-interfaces</a></p>\n"},{"tags":[],"owner":{"account_id":29844919,"reputation":36,"user_id":22872208,"display_name":"Tianhong Yu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701781116,"creation_date":1701781116,"answer_id":77606378,"question_id":77606189,"body_markdown":"There are a lot of classes which can be used as Function.\r\n\r\nCheck the package of jdk: `java.util.function`.\r\n\r\nIn jdk8, functional interfaces were introduced.\r\n\r\n[java.util.function][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S8BAx.png","title":"Passing function to another class like Dart","body":"<p>There are a lot of classes which can be used as Function.</p>\n<p>Check the package of jdk: <code>java.util.function</code>.</p>\n<p>In jdk8, functional interfaces were introduced.</p>\n<p><a href=\"https://i.stack.imgur.com/S8BAx.png\" rel=\"nofollow noreferrer\">java.util.function</a></p>\n"}],"owner":{"account_id":18890094,"reputation":1,"user_id":13780598,"display_name":"Mohammad Nazem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701852570,"answer_count":2,"score":0,"last_activity_date":1701781116,"creation_date":1701779285,"question_id":77606189,"body_markdown":"I need to pass a function to another class and run that method in the second class with Java like Dart. In Dart, you can create a method like this:\r\n\r\n```dart\r\nvoid methodName(){\r\n\r\n}\r\n\r\nnew OtherClass(methodName);\r\n\r\nclass OtherClass(){\r\n\r\n    Function _methodName;\r\n    \r\n    OtherClass(Function methodName){\r\n        this.methodName = methodName;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can run the method just called in the OtherClass.\r\n\r\n\r\nHow can I do this in Java?\r\n\r\n\r\nI tried passing Void, but this did not work.\r\n","title":"Passing function to another class like Dart","body":"<p>I need to pass a function to another class and run that method in the second class with Java like Dart. In Dart, you can create a method like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void methodName(){\n\n}\n\nnew OtherClass(methodName);\n\nclass OtherClass(){\n\n    Function _methodName;\n    \n    OtherClass(Function methodName){\n        this.methodName = methodName;\n    }\n\n}\n</code></pre>\n<p>You can run the method just called in the OtherClass.</p>\n<p>How can I do this in Java?</p>\n<p>I tried passing Void, but this did not work.</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1490862009,"post_id":43111853,"comment_id":73304374,"body_markdown":"Can you turn on logging for org.springframework and org.hibernate and post your logs around the point of the save ?","body":"Can you turn on logging for org.springframework and org.hibernate and post your logs around the point of the save ?"},{"owner":{"account_id":10574793,"reputation":21,"user_id":7790409,"display_name":"R. Kozlica"},"score":0,"creation_date":1490864438,"post_id":43111853,"comment_id":73306009,"body_markdown":"hi there, here is the log (Edit 1)","body":"hi there, here is the log (Edit 1)"},{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1490868214,"post_id":43111853,"comment_id":73308780,"body_markdown":"Can you post your User entity source code ? From the debug line it looks like Hibernate thinks it has nothing to save. Maybe your entity mapping is wrong and isn&#39;t allowing Hibernate to work out a row needs adding ?\n\nIs this of any use ? http://stackoverflow.com/questions/21587844/hibernate-unsaved-value-annotation","body":"Can you post your User entity source code ? From the debug line it looks like Hibernate thinks it has nothing to save. Maybe your entity mapping is wrong and isn&#39;t allowing Hibernate to work out a row needs adding ?  Is this of any use ? <a href=\"http://stackoverflow.com/questions/21587844/hibernate-unsaved-value-annotation\" title=\"hibernate unsaved value annotation\">stackoverflow.com/questions/21587844/&hellip;</a>"},{"owner":{"account_id":10574793,"reputation":21,"user_id":7790409,"display_name":"R. Kozlica"},"score":2,"creation_date":1490869655,"post_id":43111853,"comment_id":73309766,"body_markdown":"I posted the user entity in the original post, I believe if mapping would be wrong then the saving wouldnt work anywhere, but it does work in the restcontroller","body":"I posted the user entity in the original post, I believe if mapping would be wrong then the saving wouldnt work anywhere, but it does work in the restcontroller"},{"owner":{"account_id":7635187,"reputation":1521,"user_id":5788945,"display_name":"greenPadawan"},"score":2,"creation_date":1557127047,"post_id":43111853,"comment_id":98647327,"body_markdown":"@R.Kozlica: Did you find any solution for this problem? I am facing the same issue.","body":"@R.Kozlica: Did you find any solution for this problem? I am facing the same issue."},{"owner":{"account_id":3221053,"reputation":158,"user_id":2718510,"display_name":"Maciej Czarnecki"},"score":0,"creation_date":1568818757,"post_id":43111853,"comment_id":102397947,"body_markdown":"@greenPadawan: did You find the issue?","body":"@greenPadawan: did You find the issue?"}],"answers":[{"tags":[],"owner":{"account_id":26948220,"reputation":11,"user_id":20517868,"display_name":"Shohruh Mahmanazarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701780875,"creation_date":1701780875,"answer_id":77606351,"question_id":43111853,"body_markdown":"The issue lies within the fact that event listener runs in a different thread. And it looks like it needs an explicit transaction to save the entity.\r\n\r\n    Just annotate your method with @Transactional(propagation = Propagation.REQUIRES_NEW)","title":"Spring Boot Hibernate loading but not saving data from an Event Listener","body":"<p>The issue lies within the fact that event listener runs in a different thread. And it looks like it needs an explicit transaction to save the entity.</p>\n<pre><code>Just annotate your method with @Transactional(propagation = Propagation.REQUIRES_NEW)\n</code></pre>\n"}],"owner":{"account_id":10574793,"reputation":21,"user_id":7790409,"display_name":"R. Kozlica"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701780875,"creation_date":1490860855,"question_id":43111853,"body_markdown":"I am having problems when saving data from inside an event listener.\r\n\r\nCurrently I am listening for a AuthenticationSuccessEvent and the event is being called as expected (Checking with a logger).\r\n\r\nI want to be able to use a JPA Repository inside the event and save data when the event has been triggered.\r\n\r\nThe repository is being initialized, data gets loaded from the database only the userRepository.save() doesnt work. I also dont get any exceptions during the saving.\r\nThe save() method works in other RestController without any problems.\r\n\r\n(Database used is MySQL)\r\n\r\nThis is the listener class implementing the ApplicationListener interface:\r\n\r\n    @Component\r\n    @Transactional\r\n    public class AuthenticationListener implements ApplicationListener&lt;AuthenticationSuccessEvent&gt; {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\tprivate final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n\t@Override\r\n\tpublic void onApplicationEvent(AuthenticationSuccessEvent event) {\r\n\t\tlogger.info(userRepository.toString());\r\n\t\tString username = event.getAuthentication().getName();\r\n\t\tLoggedUser loggedUser = (LoggedUser) event.getAuthentication().getPrincipal();\r\n\t\tlogger.info(&quot;Logged user: &quot; + loggedUser);\r\n\r\n\t\tif (userRepository.existsByUsername(event.getAuthentication().getName())) {\r\n\t\t\tlogger.info(&quot;Existing user: &quot; + event.getAuthentication().getName());\r\n\t\t\tUser user = userRepository.findByUsername(username);\r\n\t\t\tuser.setFirstname(loggedUser.getFirstName());\r\n\t\t\tuser.setLastname(loggedUser.getLastName());\r\n\t\t\tlogger.info(&quot;Saved: &quot; + userRepository.save(user).toString());\r\n\t\t} else {\r\n\t\t\tlogger.info(&quot;Not existing user: &quot; + event.getAuthentication().getName());\r\n\t\t\tUser user = new User(loggedUser.getFirstName(), loggedUser.getLastName(), &quot;&quot;, username);\r\n\t\t\tlogger.info(user.toString());\r\n\t\t\tlogger.info(&quot;Saved: &quot; + userRepository.save(user).toString());\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\n\r\nUserRepository.java:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n\t\r\n\t  List&lt;User&gt; findAll();\r\n\r\n\t  List&lt;User&gt; findByFirstname(String firstname);\r\n\t  List&lt;User&gt; findByLastname(String lastname);\r\n\t  List&lt;User&gt; findByFirstnameAndLastnameAndEmail(String firstname, String lastname, String email);\r\n\t\r\n\t  User findByEmail(String email);\t\r\n\t  User findByUsername(String username);\r\n\r\n\t  @Query(&quot;SELECT CASE WHEN COUNT(u) &gt; 0 THEN true ELSE false END FROM User u WHERE u.email = :email&quot;)\r\n      boolean existsByEmail(@Param(&quot;email&quot;) String email);\r\n\t\r\n\r\n\t  @Query(&quot;SELECT CASE WHEN COUNT(u) &gt; 0 THEN true ELSE false END FROM User u WHERE u.username = :username&quot;)\r\n      boolean existsByUsername(@Param(&quot;username&quot;) String username);\r\n\t\r\n    }\r\n\r\n\r\nEdit 1 (added logs around save point):\r\n\r\n    10:58:52.351 [http-nio-8080-exec-4] DEBUG o.s.j.d.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/airpng]\r\n    10:58:52.404 [http-nio-8080-exec-4] DEBUG org.hibernate.loader.Loader - Result set row: 0\r\n    10:58:52.405 [http-nio-8080-exec-4] DEBUG org.hibernate.loader.Loader - Result row: \r\n    10:58:52.978 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\r\n    10:58:52.979 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Initiating transaction commit\r\n    10:58:52.979 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\r\n    10:58:52.980 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - committing\r\n    10:58:52.982 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction\r\n    10:59:03.767 [http-nio-8080-exec-4] INFO  a.p.a.shared.AuthenticationListener - Not existing user: bob\r\n    10:59:05.754 [http-nio-8080-exec-4] INFO  a.p.a.shared.AuthenticationListener -  Firstname: Bob | Lastname: Hamilton | E-Mail: \r\n    10:59:07.172 [http-nio-8080-exec-4] DEBUG o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$CustomAnnotationTransactionAttributeSource - Adding transactional method &#39;save&#39; with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; &#39;&#39;\r\n    10:59:12.915 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; &#39;&#39;\r\n    10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Opened new Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for Hibernate transaction\r\n    10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Preparing JDBC Connection of Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\r\n    10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.j.d.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/airpng]\r\n    10:59:12.932 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - begin\r\n    10:59:12.933 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Exposing Hibernate transaction as JDBC transaction [com.mysql.jdbc.JDBC4Connection@38ba8070]\r\n    10:59:17.963 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\r\n    10:59:17.964 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Registering transaction synchronization for JPA EntityManager\r\n    10:59:26.892 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\r\n    10:59:26.898 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Initiating transaction commit\r\n    10:59:26.898 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\r\n    10:59:26.899 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - committing\r\n    10:59:26.900 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction\r\n\r\n\r\nEdit 2 (User entity added):\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @JsonIgnoreProperties({ &quot;hibernateLazyInitializer&quot;, &quot;handler&quot; })\r\n    public class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;USER_ID&quot;)\r\n\r\n\tprivate long userId;\r\n\t@NotNull\r\n\t@Size(min = 1, max = 50)\r\n\t@Column(name = &quot;USER_FIRSTNAME&quot;)\r\n\tprivate String firstname;\r\n\r\n\t@NotNull\r\n\t@Size(min = 1, max = 50)\r\n\t@Column(name = &quot;USER_LASTNAME&quot;)\r\n\tprivate String lastname;\r\n\t\r\n\t@NotNull\r\n\t@Size(min = 1, max = 150)\r\n\t@Column(name = &quot;USER_USERNAME&quot;)\r\n\tprivate String username;\r\n\r\n\t@NotNull\r\n\t@Size(min = 0, max = 150)\r\n\t@Column(name = &quot;USER_EMAIL&quot;)\r\n\tprivate String email;\r\n\r\n\t@Column(name = &quot;USER_ACTIVE&quot;, nullable = false)\r\n\tprivate boolean active;\r\n\r\n\t@Autowired\r\n\t@OneToMany(mappedBy = &quot;user&quot;)\r\n\t@JsonBackReference\r\n\tprivate List&lt;Ownership&gt; ownerships;\r\n\r\n\tpublic User() {\r\n\t}\r\n\r\n\tpublic User(long userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\t\r\n\tpublic User(String firstname, String lastname, String email, String username) {\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.email = email;\r\n\t\tthis.username = username;\r\n\t\tthis.active = true;\r\n\t}\r\n\r\n\tpublic User(String firstname, String lastname, String email) {\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.email = email;\r\n\t\tthis.active = true;\r\n\t}\r\n\t\r\n\t\r\n\r\n\tpublic long getId() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\tpublic void setId(long Id) {\r\n\t\tthis.userId = Id;\r\n\t}\r\n\r\n\tpublic String getFirstname() {\r\n\t\treturn firstname;\r\n\t}\r\n\r\n\tpublic void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t}\r\n\r\n\tpublic String getLastname() {\r\n\t\treturn lastname;\r\n\t}\r\n\r\n\tpublic void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\t\r\n\tpublic List&lt;Ownership&gt; getOwnerships() {\r\n\t\treturn ownerships;\r\n\t}\r\n\r\n\tpublic void setOwnerships(List&lt;Ownership&gt; ownerships) {\r\n\t\tthis.ownerships = ownerships;\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot; Firstname: &quot; + firstname + &quot; | Lastname: &quot; + lastname + &quot; | E-Mail: &quot; + email;\r\n\t}\r\n\r\n    }\r\n","title":"Spring Boot Hibernate loading but not saving data from an Event Listener","body":"<p>I am having problems when saving data from inside an event listener.</p>\n\n<p>Currently I am listening for a AuthenticationSuccessEvent and the event is being called as expected (Checking with a logger).</p>\n\n<p>I want to be able to use a JPA Repository inside the event and save data when the event has been triggered.</p>\n\n<p>The repository is being initialized, data gets loaded from the database only the userRepository.save() doesnt work. I also dont get any exceptions during the saving.\nThe save() method works in other RestController without any problems.</p>\n\n<p>(Database used is MySQL)</p>\n\n<p>This is the listener class implementing the ApplicationListener interface:</p>\n\n<pre><code>@Component\n@Transactional\npublic class AuthenticationListener implements ApplicationListener&lt;AuthenticationSuccessEvent&gt; {\n\n@Autowired\nprivate UserRepository userRepository;\n\nprivate final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n@Override\npublic void onApplicationEvent(AuthenticationSuccessEvent event) {\n    logger.info(userRepository.toString());\n    String username = event.getAuthentication().getName();\n    LoggedUser loggedUser = (LoggedUser) event.getAuthentication().getPrincipal();\n    logger.info(\"Logged user: \" + loggedUser);\n\n    if (userRepository.existsByUsername(event.getAuthentication().getName())) {\n        logger.info(\"Existing user: \" + event.getAuthentication().getName());\n        User user = userRepository.findByUsername(username);\n        user.setFirstname(loggedUser.getFirstName());\n        user.setLastname(loggedUser.getLastName());\n        logger.info(\"Saved: \" + userRepository.save(user).toString());\n    } else {\n        logger.info(\"Not existing user: \" + event.getAuthentication().getName());\n        User user = new User(loggedUser.getFirstName(), loggedUser.getLastName(), \"\", username);\n        logger.info(user.toString());\n        logger.info(\"Saved: \" + userRepository.save(user).toString());\n    }\n  }\n}\n</code></pre>\n\n<p>UserRepository.java:</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n\n  List&lt;User&gt; findAll();\n\n  List&lt;User&gt; findByFirstname(String firstname);\n  List&lt;User&gt; findByLastname(String lastname);\n  List&lt;User&gt; findByFirstnameAndLastnameAndEmail(String firstname, String lastname, String email);\n\n  User findByEmail(String email);   \n  User findByUsername(String username);\n\n  @Query(\"SELECT CASE WHEN COUNT(u) &gt; 0 THEN true ELSE false END FROM User u WHERE u.email = :email\")\n  boolean existsByEmail(@Param(\"email\") String email);\n\n\n  @Query(\"SELECT CASE WHEN COUNT(u) &gt; 0 THEN true ELSE false END FROM User u WHERE u.username = :username\")\n  boolean existsByUsername(@Param(\"username\") String username);\n\n}\n</code></pre>\n\n<p>Edit 1 (added logs around save point):</p>\n\n<pre><code>10:58:52.351 [http-nio-8080-exec-4] DEBUG o.s.j.d.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/airpng]\n10:58:52.404 [http-nio-8080-exec-4] DEBUG org.hibernate.loader.Loader - Result set row: 0\n10:58:52.405 [http-nio-8080-exec-4] DEBUG org.hibernate.loader.Loader - Result row: \n10:58:52.978 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\n10:58:52.979 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Initiating transaction commit\n10:58:52.979 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\n10:58:52.980 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - committing\n10:58:52.982 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction\n10:59:03.767 [http-nio-8080-exec-4] INFO  a.p.a.shared.AuthenticationListener - Not existing user: bob\n10:59:05.754 [http-nio-8080-exec-4] INFO  a.p.a.shared.AuthenticationListener -  Firstname: Bob | Lastname: Hamilton | E-Mail: \n10:59:07.172 [http-nio-8080-exec-4] DEBUG o.s.d.r.c.s.TransactionalRepositoryProxyPostProcessor$CustomAnnotationTransactionAttributeSource - Adding transactional method 'save' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''\n10:59:12.915 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''\n10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Opened new Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] for Hibernate transaction\n10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Preparing JDBC Connection of Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\n10:59:12.916 [http-nio-8080-exec-4] DEBUG o.s.j.d.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:mysql://localhost:3306/airpng]\n10:59:12.932 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - begin\n10:59:12.933 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Exposing Hibernate transaction as JDBC transaction [com.mysql.jdbc.JDBC4Connection@38ba8070]\n10:59:17.963 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\n10:59:17.964 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Registering transaction synchronization for JPA EntityManager\n10:59:26.892 [http-nio-8080-exec-4] DEBUG o.s.o.jpa.EntityManagerFactoryUtils - Closing JPA EntityManager\n10:59:26.898 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Initiating transaction commit\n10:59:26.898 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Committing Hibernate transaction on Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])]\n10:59:26.899 [http-nio-8080-exec-4] DEBUG o.h.e.t.internal.TransactionImpl - committing\n10:59:26.900 [http-nio-8080-exec-4] DEBUG o.s.o.h.HibernateTransactionManager - Closing Hibernate Session [SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[]];ActionQueue[insertions=ExecutableList{size=0} updates=ExecutableList{size=0} deletions=ExecutableList{size=0} orphanRemovals=ExecutableList{size=0} collectionCreations=ExecutableList{size=0} collectionRemovals=ExecutableList{size=0} collectionUpdates=ExecutableList{size=0} collectionQueuedOps=ExecutableList{size=0} unresolvedInsertDependencies=null])] after transaction\n</code></pre>\n\n<p>Edit 2 (User entity added):</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\n@JsonIgnoreProperties({ \"hibernateLazyInitializer\", \"handler\" })\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"USER_ID\")\n\nprivate long userId;\n@NotNull\n@Size(min = 1, max = 50)\n@Column(name = \"USER_FIRSTNAME\")\nprivate String firstname;\n\n@NotNull\n@Size(min = 1, max = 50)\n@Column(name = \"USER_LASTNAME\")\nprivate String lastname;\n\n@NotNull\n@Size(min = 1, max = 150)\n@Column(name = \"USER_USERNAME\")\nprivate String username;\n\n@NotNull\n@Size(min = 0, max = 150)\n@Column(name = \"USER_EMAIL\")\nprivate String email;\n\n@Column(name = \"USER_ACTIVE\", nullable = false)\nprivate boolean active;\n\n@Autowired\n@OneToMany(mappedBy = \"user\")\n@JsonBackReference\nprivate List&lt;Ownership&gt; ownerships;\n\npublic User() {\n}\n\npublic User(long userId) {\n    this.userId = userId;\n}\n\npublic User(String firstname, String lastname, String email, String username) {\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.email = email;\n    this.username = username;\n    this.active = true;\n}\n\npublic User(String firstname, String lastname, String email) {\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.email = email;\n    this.active = true;\n}\n\n\n\npublic long getId() {\n    return userId;\n}\n\npublic void setId(long Id) {\n    this.userId = Id;\n}\n\npublic String getFirstname() {\n    return firstname;\n}\n\npublic void setFirstname(String firstname) {\n    this.firstname = firstname;\n}\n\npublic String getLastname() {\n    return lastname;\n}\n\npublic void setLastname(String lastname) {\n    this.lastname = lastname;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic boolean isActive() {\n    return active;\n}\n\npublic void setActive(boolean active) {\n    this.active = active;\n}\n\npublic List&lt;Ownership&gt; getOwnerships() {\n    return ownerships;\n}\n\npublic void setOwnerships(List&lt;Ownership&gt; ownerships) {\n    this.ownerships = ownerships;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\n@Override\npublic String toString() {\n    return \" Firstname: \" + firstname + \" | Lastname: \" + lastname + \" | E-Mail: \" + email;\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1674036762,"post_id":75157515,"comment_id":132627400,"body_markdown":"That doesn&#39;t work anymore like that. Android has now a system splash screen. Which is shown before your first activity. So setting the background in the activity is too late. Check out the splash screen docs https://developer.android.com/develop/ui/views/launch/splash-screen","body":"That doesn&#39;t work anymore like that. Android has now a system splash screen. Which is shown before your first activity. So setting the background in the activity is too late. Check out the splash screen docs <a href=\"https://developer.android.com/develop/ui/views/launch/splash-screen\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/launch/splash-screen</a>"}],"answers":[{"tags":[],"owner":{"account_id":13644275,"reputation":433,"user_id":9843657,"display_name":"m0haMed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701780816,"creation_date":1701780816,"answer_id":77606348,"question_id":75157515,"body_markdown":"it doesn&#39;t related to these attributes that you mention :\r\nthe problem maybe that you don&#39;t  put color in dark mode in color.xml\r\nwith same wight color \r\n\r\n - **in Night Mode:** `&lt;color name=&quot;wight&quot;&gt;#FFFFFF&lt;/color&gt;`\r\n - **in Dark Mode:** `&lt;color name=&quot;wight&quot;&gt;#FFFFFF&lt;/color&gt;`\r\n\r\n","title":"Android app launch background color not changing","body":"<p>it doesn't related to these attributes that you mention :\nthe problem maybe that you don't  put color in dark mode in color.xml\nwith same wight color</p>\n<ul>\n<li><strong>in Night Mode:</strong> <code>&lt;color name=&quot;wight&quot;&gt;#FFFFFF&lt;/color&gt;</code></li>\n<li><strong>in Dark Mode:</strong> <code>&lt;color name=&quot;wight&quot;&gt;#FFFFFF&lt;/color&gt;</code></li>\n</ul>\n"}],"owner":{"account_id":9718877,"reputation":11,"user_id":7208228,"display_name":"Mohammed Irfan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701780816,"creation_date":1674036283,"question_id":75157515,"body_markdown":"I am making an android application using android studio. It works fine in light mode but when I turn on dark mode the launch screen(the initial screen shown on clicking the icon) has a black background.\r\n\r\nin activity_main.xml I tried using\r\n\r\n    android:windowBackground=&quot;@color/white&quot;\r\n\r\n```\r\nandroid:drawableTint=&quot;@color/white&quot;\r\n```\r\n\r\n```\r\napp:tint=&quot;@color/white&quot;\r\n```\r\n\r\nbut none of the above options worked for me.","title":"Android app launch background color not changing","body":"<p>I am making an android application using android studio. It works fine in light mode but when I turn on dark mode the launch screen(the initial screen shown on clicking the icon) has a black background.</p>\n<p>in activity_main.xml I tried using</p>\n<pre><code>android:windowBackground=&quot;@color/white&quot;\n</code></pre>\n<pre><code>android:drawableTint=&quot;@color/white&quot;\n</code></pre>\n<pre><code>app:tint=&quot;@color/white&quot;\n</code></pre>\n<p>but none of the above options worked for me.</p>\n"},{"tags":["java","spring","spring-boot","maven","executable-jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701781198,"post_id":77606337,"comment_id":136815656,"body_markdown":"A file is a resource on the filesystem. A file packed in a jar isn&#39;t a physical resource. So this code doesn&#39;t work from within a jar. This has nothing to do with Spring but on the definition of a file that `java.io.File` keeps.","body":"A file is a resource on the filesystem. A file packed in a jar isn&#39;t a physical resource. So this code doesn&#39;t work from within a jar. This has nothing to do with Spring but on the definition of a file that <code>java.io.File</code> keeps."},{"owner":{"account_id":30071498,"reputation":1,"user_id":23045352,"display_name":"cheekz"},"score":0,"creation_date":1701781553,"post_id":77606337,"comment_id":136815724,"body_markdown":"@M.Deinum thats quite interesting. Any suggestions to replace it?","body":"@M.Deinum thats quite interesting. Any suggestions to replace it?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701782352,"post_id":77606337,"comment_id":136815891,"body_markdown":"I have no idea what you are trying to do here. As you are using Spring you should prbably be using the resource loading mechanism from spring and use `classpath:` as a prefix.","body":"I have no idea what you are trying to do here. As you are using Spring you should prbably be using the resource loading mechanism from spring and use <code>classpath:</code> as a prefix."}],"owner":{"account_id":30071498,"reputation":1,"user_id":23045352,"display_name":"cheekz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701780780,"creation_date":1701780709,"question_id":77606337,"body_markdown":"One libary i&#39;ve been using stores its templates in `resources/vc-templates/*.json`. Accessing the templates with this code:\r\n\r\n\r\n```val resource = javaClass.getResource(resourcePath)\r\n        checkNotNull(resource) { &quot;Cannot find resource path: $resourcePath&quot; }\r\n\r\n        log.debug { &quot;Loading templates from: $resource&quot; }\r\n\r\n        when {\r\n            File(resource.file).isDirectory -&gt;\r\n                File(resource.file).walk().filter { it.isFile }.map {\r\n                    (it.relativeTo(File(resource.file)).parent?.let { &quot;$it/&quot; } ?: &quot;&quot;) + it.nameWithoutExtension\r\n                }.toList()\r\n\r\n            else -&gt; {\r\n                FileSystems.newFileSystem(resource.toURI(), emptyMap&lt;String, String&gt;()).use { fs -&gt;\r\n                    Files.walk(fs.getPath(resourcePath))\r\n                        .filter { it.isRegularFile() }\r\n                        .map {\r\n                            (Path.of(it.toString()).relativeTo(Path.of(resourcePath)).parent?.let { &quot;$it/&quot; } ?: &quot;&quot;) + it.nameWithoutExtension\r\n                        }.toList()\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nIt&#39;s working fine with `./mvnw spring-boot:run`. But as I want to deploy it as .jar using `./mvnw clean package`, I get this error, caused by not finding the /vc-templates folder.\r\n\r\n```\r\nCaused by: java.nio.file.NoSuchFileException: /vc-templates\r\n        at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:769) ~[jdk.zipfs:na]\r\n        at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777) ~[jdk.zipfs:na]\r\n        at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276) ~[jdk.zipfs:na]\r\n        at java.base/java.nio.file.Files.readAttributes(Files.java:1851) ~[na:na]\r\n        at java.base/java.nio.file.FileTreeWalker.getAttributes(FileTreeWalker.java:220) ~[na:na]\r\n        at java.base/java.nio.file.FileTreeWalker.visit(FileTreeWalker.java:277) ~[na:na]\r\n        at java.base/java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:323) ~[na:na]\r\n        at java.base/java.nio.file.FileTreeIterator.&lt;init&gt;(FileTreeIterator.java:71) ~[na:na]\r\n        at java.base/java.nio.file.Files.walk(Files.java:3918) ~[na:na]\r\n        at java.base/java.nio.file.Files.walk(Files.java:3973) ~[na:na]\r\n        at id.walt.credentials.w3c.templates.VcTemplateService$resourceWalk$1.invoke(VcTemplateService.kt:124) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\r\n        at id.walt.credentials.w3c.templates.VcTemplateService$resourceWalk$1.invoke(VcTemplateService.kt:109) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74) ~[kotlin-stdlib-1.8.22.jar!/:1.8.22-release-407(1.8.22)]\r\n        at id.walt.credentials.w3c.templates.VcTemplateService.listResources(VcTemplateService.kt:134) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\r\n        at id.walt.credentials.w3c.templates.VcTemplateService.listTemplates(VcTemplateService.kt:149) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\r\n```\r\n\r\n\r\nInterestingly the code above prints out: \r\n`Loading templates from: jar:file:/Path/to/*.jar!/BOOT-INF/classes!/vc-templates`\r\n\r\nI was wondering about the exclamation mark on classes. Could it be that the folder cannot be found because of this?\r\nIs there a way around this? How does javaClass.getResource() work for jar-files?\r\n\r\nThere is also a *.jar.original generated, which is the maven version before repackage goal. I tried executing this: `no main manifest attribute, in *.jar.original`","title":"cannot access resources of .jar file using Spring Boot Maven Plugin","body":"<p>One libary i've been using stores its templates in <code>resources/vc-templates/*.json</code>. Accessing the templates with this code:</p>\n<pre><code>        checkNotNull(resource) { &quot;Cannot find resource path: $resourcePath&quot; }\n\n        log.debug { &quot;Loading templates from: $resource&quot; }\n\n        when {\n            File(resource.file).isDirectory -&gt;\n                File(resource.file).walk().filter { it.isFile }.map {\n                    (it.relativeTo(File(resource.file)).parent?.let { &quot;$it/&quot; } ?: &quot;&quot;) + it.nameWithoutExtension\n                }.toList()\n\n            else -&gt; {\n                FileSystems.newFileSystem(resource.toURI(), emptyMap&lt;String, String&gt;()).use { fs -&gt;\n                    Files.walk(fs.getPath(resourcePath))\n                        .filter { it.isRegularFile() }\n                        .map {\n                            (Path.of(it.toString()).relativeTo(Path.of(resourcePath)).parent?.let { &quot;$it/&quot; } ?: &quot;&quot;) + it.nameWithoutExtension\n                        }.toList()\n                }\n            }\n        }\n</code></pre>\n<p>It's working fine with <code>./mvnw spring-boot:run</code>. But as I want to deploy it as .jar using <code>./mvnw clean package</code>, I get this error, caused by not finding the /vc-templates folder.</p>\n<pre><code>Caused by: java.nio.file.NoSuchFileException: /vc-templates\n        at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:769) ~[jdk.zipfs:na]\n        at jdk.zipfs/jdk.nio.zipfs.ZipPath.readAttributes(ZipPath.java:777) ~[jdk.zipfs:na]\n        at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.readAttributes(ZipFileSystemProvider.java:276) ~[jdk.zipfs:na]\n        at java.base/java.nio.file.Files.readAttributes(Files.java:1851) ~[na:na]\n        at java.base/java.nio.file.FileTreeWalker.getAttributes(FileTreeWalker.java:220) ~[na:na]\n        at java.base/java.nio.file.FileTreeWalker.visit(FileTreeWalker.java:277) ~[na:na]\n        at java.base/java.nio.file.FileTreeWalker.walk(FileTreeWalker.java:323) ~[na:na]\n        at java.base/java.nio.file.FileTreeIterator.&lt;init&gt;(FileTreeIterator.java:71) ~[na:na]\n        at java.base/java.nio.file.Files.walk(Files.java:3918) ~[na:na]\n        at java.base/java.nio.file.Files.walk(Files.java:3973) ~[na:na]\n        at id.walt.credentials.w3c.templates.VcTemplateService$resourceWalk$1.invoke(VcTemplateService.kt:124) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\n        at id.walt.credentials.w3c.templates.VcTemplateService$resourceWalk$1.invoke(VcTemplateService.kt:109) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74) ~[kotlin-stdlib-1.8.22.jar!/:1.8.22-release-407(1.8.22)]\n        at id.walt.credentials.w3c.templates.VcTemplateService.listResources(VcTemplateService.kt:134) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\n        at id.walt.credentials.w3c.templates.VcTemplateService.listTemplates(VcTemplateService.kt:149) ~[waltid-ssikit-1.2306281832.0.jar!/:na]\n</code></pre>\n<p>Interestingly the code above prints out:\n<code>Loading templates from: jar:file:/Path/to/*.jar!/BOOT-INF/classes!/vc-templates</code></p>\n<p>I was wondering about the exclamation mark on classes. Could it be that the folder cannot be found because of this?\nIs there a way around this? How does javaClass.getResource() work for jar-files?</p>\n<p>There is also a *.jar.original generated, which is the maven version before repackage goal. I tried executing this: <code>no main manifest attribute, in *.jar.original</code></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1701770479,"post_id":77604829,"comment_id":136813950,"body_markdown":"Can&#39;t you just agree on a fixed json formatting standard of a tool of your choice, apply this once to your source once and then apply it again after modifying the json source?","body":"Can&#39;t you just agree on a fixed json formatting standard of a tool of your choice, apply this once to your source once and then apply it again after modifying the json source?"}],"answers":[{"comments":[{"owner":{"account_id":2132264,"reputation":194,"user_id":2083756,"accept_rate":64,"display_name":"Moutabreath"},"score":0,"creation_date":1701767147,"post_id":77604884,"comment_id":136813372,"body_markdown":"Thanks for your answer, but this seems like a manual parsing solution, which is what I am trying to avoid","body":"Thanks for your answer, but this seems like a manual parsing solution, which is what I am trying to avoid"}],"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701766371,"creation_date":1701766371,"answer_id":77604884,"question_id":77604829,"body_markdown":"You won&#39;t be able to this with Jackson.  Jackson&#39;s purpose to serialize/deserialize from/to objects and necessarily &quot;formatting&quot; is lost.\r\n\r\nI recommend you look at a library like [Streamflyer][1] allows you to modify a JSON **stream** by matching on a Regex and replacing matches as the stream passes through the processor.\r\n\r\n\r\n  [1]: https://github.com/rwitzel/streamflyer","title":"Read from json and write back while preserving original formatting in java","body":"<p>You won't be able to this with Jackson.  Jackson's purpose to serialize/deserialize from/to objects and necessarily &quot;formatting&quot; is lost.</p>\n<p>I recommend you look at a library like <a href=\"https://github.com/rwitzel/streamflyer\" rel=\"nofollow noreferrer\">Streamflyer</a> allows you to modify a JSON <strong>stream</strong> by matching on a Regex and replacing matches as the stream passes through the processor.</p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701770426,"creation_date":1701770426,"answer_id":77605290,"question_id":77604829,"body_markdown":"Jackson knows about [JsonLocation][1]. A parser keeps track of which content is being parsed at which location. You could use this information to restore a lot of formatting like whitespace at start of lines or even whitespace between array elements.\r\n\r\nBut extending this to also preserve line breaks (when needing to differentiate between line windows and linux line breaks for example) needs extensive customization in the parser and possibly `JsonLocation` too. This might be possible but its questionalbe if its worth the effort.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.14/com/fasterxml/jackson/core/JsonLocation.html","title":"Read from json and write back while preserving original formatting in java","body":"<p>Jackson knows about <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.14/com/fasterxml/jackson/core/JsonLocation.html\" rel=\"nofollow noreferrer\">JsonLocation</a>. A parser keeps track of which content is being parsed at which location. You could use this information to restore a lot of formatting like whitespace at start of lines or even whitespace between array elements.</p>\n<p>But extending this to also preserve line breaks (when needing to differentiate between line windows and linux line breaks for example) needs extensive customization in the parser and possibly <code>JsonLocation</code> too. This might be possible but its questionalbe if its worth the effort.</p>\n"},{"tags":[],"owner":{"account_id":2132264,"reputation":194,"user_id":2083756,"accept_rate":64,"display_name":"Moutabreath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701780772,"creation_date":1701780772,"answer_id":77606342,"question_id":77604829,"body_markdown":"With bard and Gson I&#39;ve come up with this:\r\n\r\n     public void updateVersion(String version){\r\n        JsonElement originalJsonObject = getRootElement();\r\n        ((JsonObject)((JsonObject)((JsonObject)originalJsonObject).get(&quot;streams&quot;)).get(&quot;provision2&quot;)).addProperty(&quot;version&quot;, version);\r\n        String jsonText = gson.toJson(originalJsonObject);\r\n        try {\r\n            writeFile(jsonText); // Write to original location\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private JsonElement getRootElement() {\r\n        gson = new GsonBuilder().setPrettyPrinting().create();\r\n        String jsonInput = null;\r\n        try {\r\n            jsonInput = readFile();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return gson.fromJson(jsonInput, JsonElement.class);\r\n    }\r\n\r\n    private String readFile() throws IOException {\r\n        FileReader reader = new FileReader(this.mono3rdJsonPath);\r\n        StringBuilder fileContent = new StringBuilder();\r\n        int read;\r\n        while ((read = reader.read()) != -1) {\r\n            fileContent.append((char) read);\r\n        }\r\n        reader.close();\r\n        return fileContent.toString();\r\n    }\r\n\r\n    private void writeFile(String fileContent) throws IOException {\r\n        FileWriter writer = new FileWriter(this.mono3rdJsonPath);\r\n        writer.write(fileContent);\r\n        writer.flush();\r\n        writer.close();\r\n    }\r\n\r\n  \r\n\r\n\r\n\r\nThe only thing left is a bit of extra spaces that at the begining of each row, and a problem with text wrapped in &#39; &#39;\r\nOriginal json:\r\n\r\n     {\r\n        &quot;first&quot;: {\r\n            \r\n        },\r\n    &quot;_comment1&quot;: &quot; entries of &#39;includeDirs&#39;&quot;,\r\n    }\r\n\r\nResult:\r\n\r\n    {\r\n      &quot;first&quot;: {},\r\n      &quot;_comment1&quot;: &quot; entries of \\u0027includeDirs\\u0027 &quot;,\r\n    }\r\n\r\n        \r\n\r\n\r\n\r\n\r\n","title":"Read from json and write back while preserving original formatting in java","body":"<p>With bard and Gson I've come up with this:</p>\n<pre><code> public void updateVersion(String version){\n    JsonElement originalJsonObject = getRootElement();\n    ((JsonObject)((JsonObject)((JsonObject)originalJsonObject).get(&quot;streams&quot;)).get(&quot;provision2&quot;)).addProperty(&quot;version&quot;, version);\n    String jsonText = gson.toJson(originalJsonObject);\n    try {\n        writeFile(jsonText); // Write to original location\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate JsonElement getRootElement() {\n    gson = new GsonBuilder().setPrettyPrinting().create();\n    String jsonInput = null;\n    try {\n        jsonInput = readFile();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return gson.fromJson(jsonInput, JsonElement.class);\n}\n\nprivate String readFile() throws IOException {\n    FileReader reader = new FileReader(this.mono3rdJsonPath);\n    StringBuilder fileContent = new StringBuilder();\n    int read;\n    while ((read = reader.read()) != -1) {\n        fileContent.append((char) read);\n    }\n    reader.close();\n    return fileContent.toString();\n}\n\nprivate void writeFile(String fileContent) throws IOException {\n    FileWriter writer = new FileWriter(this.mono3rdJsonPath);\n    writer.write(fileContent);\n    writer.flush();\n    writer.close();\n}\n</code></pre>\n<p>The only thing left is a bit of extra spaces that at the begining of each row, and a problem with text wrapped in ' '\nOriginal json:</p>\n<pre><code> {\n    &quot;first&quot;: {\n        \n    },\n&quot;_comment1&quot;: &quot; entries of 'includeDirs'&quot;,\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;first&quot;: {},\n  &quot;_comment1&quot;: &quot; entries of \\u0027includeDirs\\u0027 &quot;,\n}\n\n    \n</code></pre>\n"}],"owner":{"account_id":2132264,"reputation":194,"user_id":2083756,"accept_rate":64,"display_name":"Moutabreath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701780772,"creation_date":1701765791,"question_id":77604829,"body_markdown":"I am trying to read a json file and update a specific field. I am able to get to the proper nested location, but when I save it back after update, I get lots of &quot;\\r\\n&quot; instead of the original formatting.\r\nI have tried using two approaches for reading:\r\n\r\n       private LinkedHashMap get3rdJsonAsMap() {\r\n            objectMapper = new ObjectMapper();//.enable(SerializationFeature.INDENT_OUTPUT);\r\n            LinkedHashMap json = null;\r\n            try {\r\n                json = (LinkedHashMap)objectMapper.readValue(new File(this.mono3rdJsonPath), Object.class);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return json;\r\n        }\r\n\r\n\r\n and with:\r\n\r\n      private JsonNode get3rdJsonAsNode() {\r\n        objectMapper = new ObjectMapper();//.enable(SerializationFeature.INDENT_OUTPUT);\r\n        JsonNode json = null;\r\n        try {\r\n            json = objectMapper.readTree(new File(this.mono3rdJsonPath));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return json;\r\n    }\r\n\r\n\r\n\r\nI am writing with this:\r\n\r\n     private void writeProvisionAsObject(Object json) {\r\n            ObjectWriter writer = objectMapper.writerWithDefaultPrettyPrinter();\r\n            String updatedJsonString;\r\n            try {\r\n                updatedJsonString = writer.writeValueAsString(json);\r\n                // Write the updated JSON string back to the JSON file\r\n                objectMapper.writeValue(new File(this.filePath), updatedJsonString);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n\r\nAlso I&#39;ve heard of JsonTokenizer but I&#39;ve read that in order to preserve original formatting, I must append each line manually, which I am trying to avoid.\r\n\r\nHow can I achieve preserving orginal formating?","title":"Read from json and write back while preserving original formatting in java","body":"<p>I am trying to read a json file and update a specific field. I am able to get to the proper nested location, but when I save it back after update, I get lots of &quot;\\r\\n&quot; instead of the original formatting.\nI have tried using two approaches for reading:</p>\n<pre><code>   private LinkedHashMap get3rdJsonAsMap() {\n        objectMapper = new ObjectMapper();//.enable(SerializationFeature.INDENT_OUTPUT);\n        LinkedHashMap json = null;\n        try {\n            json = (LinkedHashMap)objectMapper.readValue(new File(this.mono3rdJsonPath), Object.class);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return json;\n    }\n</code></pre>\n<p>and with:</p>\n<pre><code>  private JsonNode get3rdJsonAsNode() {\n    objectMapper = new ObjectMapper();//.enable(SerializationFeature.INDENT_OUTPUT);\n    JsonNode json = null;\n    try {\n        json = objectMapper.readTree(new File(this.mono3rdJsonPath));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return json;\n}\n</code></pre>\n<p>I am writing with this:</p>\n<pre><code> private void writeProvisionAsObject(Object json) {\n        ObjectWriter writer = objectMapper.writerWithDefaultPrettyPrinter();\n        String updatedJsonString;\n        try {\n            updatedJsonString = writer.writeValueAsString(json);\n            // Write the updated JSON string back to the JSON file\n            objectMapper.writeValue(new File(this.filePath), updatedJsonString);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Also I've heard of JsonTokenizer but I've read that in order to preserve original formatting, I must append each line manually, which I am trying to avoid.</p>\n<p>How can I achieve preserving orginal formating?</p>\n"},{"tags":["java","rocketmq"],"answers":[{"tags":[],"owner":{"account_id":20397560,"reputation":13,"user_id":19334734,"display_name":"lingting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701780761,"creation_date":1701780761,"answer_id":77606341,"question_id":77599555,"body_markdown":"edit broker.config\r\n\r\n`maxTransferBytesOnMessageInMemory=2097152 ` \r\n`maxTransferCountOnMessageInMemory=256`\r\n`maxTransferBytesOnMessageInDisk=262144`\r\n`maxTransferCountOnMessageInDisk=64`","title":"why rockeqmq pull message size always equals 32? i`m setPullBatchSize(500);","body":"<p>edit broker.config</p>\n<p><code>maxTransferBytesOnMessageInMemory=2097152 </code>\n<code>maxTransferCountOnMessageInMemory=256</code>\n<code>maxTransferBytesOnMessageInDisk=262144</code>\n<code>maxTransferCountOnMessageInDisk=64</code></p>\n"}],"owner":{"account_id":20397560,"reputation":13,"user_id":19334734,"display_name":"lingting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77606341,"answer_count":1,"score":0,"last_activity_date":1701780761,"creation_date":1701693989,"question_id":77599555,"body_markdown":"rocketmq: 4.9.6\r\nrocketmq-java-sdk: 4.9.6\r\njdk: 1.8\r\n\r\nUsing DefaultLitePullConsumer, there are more than 10,000 messages in the queue that have not been consumed. In the case of setPullBatchSize(500), the number of messages obtained is 32.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yHuVT.png)](https://i.stack.imgur.com/yHuVT.png)\r\n\r\n`\tString group = &quot;group_test&quot;;\r\n\r\n\tString topic = &quot;topic_test&quot;;\r\n\r\n\tDefaultLitePullConsumer consumer = new DefaultLitePullConsumer();\r\n\r\n\tDefaultLitePullConsumerImpl impl;\r\n\r\n\tvoid fillImpl() throws NoSuchFieldException, IllegalAccessException {\r\n\t\tClass&lt;DefaultLitePullConsumer&gt; cls = DefaultLitePullConsumer.class;\r\n\t\tField field = cls.getDeclaredField(&quot;defaultLitePullConsumerImpl&quot;);\r\n\t\tfield.setAccessible(true);\r\n\t\timpl = (DefaultLitePullConsumerImpl) field.get(consumer);\r\n\t}\r\n\r\n\tlong maxOffset(MessageQueue queue) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n\t\tClass&lt;DefaultLitePullConsumerImpl&gt; cls = DefaultLitePullConsumerImpl.class;\r\n\t\tMethod method = cls.getDeclaredMethod(&quot;maxOffset&quot;, MessageQueue.class);\r\n\t\tmethod.setAccessible(true);\r\n\t\treturn (long) method.invoke(impl, queue);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid test() throws MQClientException, NoSuchFieldException, IllegalAccessException, InvocationTargetException,\r\n\t\t\tNoSuchMethodException {\r\n\t\tfillImpl();\r\n\r\n\t\tconsumer.setNamesrvAddr(&quot;192.168.1.10:9876&quot;);\r\n\t\tconsumer.setConsumerGroup(group);\r\n\t\tconsumer.subscribe(topic, (String) null);\r\n\t\tconsumer.setMessageModel(MessageModel.CLUSTERING);\r\n\t\tconsumer.setPullBatchSize(500);\r\n\t\tconsumer.setPullThreadNums(10);\r\n\r\n\t\tconsumer.start();\r\n\r\n\t\tboolean allowRun = true;\r\n\r\n\t\twhile (allowRun) {\r\n\t\t\tlong diff = diff();\r\n\t\t\tList&lt;MessageExt&gt; polled = consumer.poll();\r\n\r\n\t\t\tSystem.out.printf(&quot;diff: %d; size: %d%n&quot;, diff, polled.size());\r\n\r\n\t\t\tif (polled.size() &gt; 32) {\r\n\t\t\t\tallowRun = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tassertFalse(allowRun);\r\n\t}\r\n\r\n\tpublic long diff()\r\n\t\t\tthrows MQClientException, InvocationTargetException, NoSuchMethodException, IllegalAccessException {\r\n\t\tCollection&lt;MessageQueue&gt; queues = consumer.fetchMessageQueues(topic);\r\n\r\n\t\tlong diff = 0;\r\n\r\n\t\tfor (MessageQueue queue : queues) {\r\n\t\t\tOffsetStore store = consumer.getOffsetStore();\r\n\t\t\t// \r\n\t\t\tlong offset = store.readOffset(queue, ReadOffsetType.READ_FROM_MEMORY);\r\n\t\t\t// \r\n\t\t\tlong max = maxOffset(queue);\r\n\t\t\tdiff += max - offset;\r\n\t\t}\r\n\r\n\t\treturn diff;\r\n\t}\r\n\r\n`\r\n\r\nI tried setting setPullBatchSize, setPullThreadNums and consumerManageThreadPoolNums=6400, defaultQueryMaxNum=8400 in rocketmq server broke.conf. All changes did not make the message size of a single pull larger than 32","title":"why rockeqmq pull message size always equals 32? i`m setPullBatchSize(500);","body":"<p>rocketmq: 4.9.6\nrocketmq-java-sdk: 4.9.6\njdk: 1.8</p>\n<p>Using DefaultLitePullConsumer, there are more than 10,000 messages in the queue that have not been consumed. In the case of setPullBatchSize(500), the number of messages obtained is 32.</p>\n<p><a href=\"https://i.stack.imgur.com/yHuVT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHuVT.png\" alt=\"enter image description here\" /></a></p>\n<p>`   String group = &quot;group_test&quot;;</p>\n<pre><code>String topic = &quot;topic_test&quot;;\n\nDefaultLitePullConsumer consumer = new DefaultLitePullConsumer();\n\nDefaultLitePullConsumerImpl impl;\n\nvoid fillImpl() throws NoSuchFieldException, IllegalAccessException {\n    Class&lt;DefaultLitePullConsumer&gt; cls = DefaultLitePullConsumer.class;\n    Field field = cls.getDeclaredField(&quot;defaultLitePullConsumerImpl&quot;);\n    field.setAccessible(true);\n    impl = (DefaultLitePullConsumerImpl) field.get(consumer);\n}\n\nlong maxOffset(MessageQueue queue) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n    Class&lt;DefaultLitePullConsumerImpl&gt; cls = DefaultLitePullConsumerImpl.class;\n    Method method = cls.getDeclaredMethod(&quot;maxOffset&quot;, MessageQueue.class);\n    method.setAccessible(true);\n    return (long) method.invoke(impl, queue);\n}\n\n@Test\nvoid test() throws MQClientException, NoSuchFieldException, IllegalAccessException, InvocationTargetException,\n        NoSuchMethodException {\n    fillImpl();\n\n    consumer.setNamesrvAddr(&quot;192.168.1.10:9876&quot;);\n    consumer.setConsumerGroup(group);\n    consumer.subscribe(topic, (String) null);\n    consumer.setMessageModel(MessageModel.CLUSTERING);\n    consumer.setPullBatchSize(500);\n    consumer.setPullThreadNums(10);\n\n    consumer.start();\n\n    boolean allowRun = true;\n\n    while (allowRun) {\n        long diff = diff();\n        List&lt;MessageExt&gt; polled = consumer.poll();\n\n        System.out.printf(&quot;diff: %d; size: %d%n&quot;, diff, polled.size());\n\n        if (polled.size() &gt; 32) {\n            allowRun = false;\n        }\n    }\n\n    assertFalse(allowRun);\n}\n\npublic long diff()\n        throws MQClientException, InvocationTargetException, NoSuchMethodException, IllegalAccessException {\n    Collection&lt;MessageQueue&gt; queues = consumer.fetchMessageQueues(topic);\n\n    long diff = 0;\n\n    for (MessageQueue queue : queues) {\n        OffsetStore store = consumer.getOffsetStore();\n        // \n        long offset = store.readOffset(queue, ReadOffsetType.READ_FROM_MEMORY);\n        // \n        long max = maxOffset(queue);\n        diff += max - offset;\n    }\n\n    return diff;\n}\n</code></pre>\n<p>`</p>\n<p>I tried setting setPullBatchSize, setPullThreadNums and consumerManageThreadPoolNums=6400, defaultQueryMaxNum=8400 in rocketmq server broke.conf. All changes did not make the message size of a single pull larger than 32</p>\n"},{"tags":["javascript","java","android","react-native"],"comments":[{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1701781365,"post_id":77606324,"comment_id":136815686,"body_markdown":"Member for 2 years, 10 months and doesn&#39;t know that Java and JavaScript are different languages ?","body":"Member for 2 years, 10 months and doesn&#39;t know that Java and JavaScript are different languages ?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1702129964,"post_id":77606324,"comment_id":136860689,"body_markdown":"Class `com.moengage.core.model.user.deletion.UserDeletionData` is not on the CLASSPATH (or module-path). Is it a class that you wrote? Or is it part of a third party library? When you compiled your code, that class was on the build path. Can you [edit] your question and post the entire stack trace?","body":"Class <code>com.moengage.core.model.user.deletion.UserDeletionData</code> is not on the CLASSPATH (or module-path). Is it a class that you wrote? Or is it part of a third party library? When you compiled your code, that class was on the build path. Can you <a href=\"https://stackoverflow.com/posts/77606324/edit\">edit</a> your question and post the entire stack trace?"}],"owner":{"account_id":20507446,"reputation":1,"user_id":15049895,"display_name":"Arun Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702315350,"answer_count":0,"score":-2,"last_activity_date":1701780583,"creation_date":1701780583,"question_id":77606324,"body_markdown":"Error: Exception in HostObject::get for prop &#39;MoEReactBridge&#39;: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/moengage/core/model/user/deletion/UserDeletionData;, js engine: hermes\r\n\r\n[enter image description here](https://i.stack.imgur.com/mZad0.png)","title":"Error: Exception in HostObject::get for prop &#39;MoEReactBridge&#39;: java.lang.NoClassDefFoundError:","body":"<p>Error: Exception in HostObject::get for prop 'MoEReactBridge': java.lang.NoClassDefFoundError: Failed resolution of: Lcom/moengage/core/model/user/deletion/UserDeletionData;, js engine: hermes</p>\n<p><a href=\"https://i.stack.imgur.com/mZad0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576801857,"creation_date":1576801857,"answer_id":59418542,"question_id":59355051,"body_markdown":"You can directly use the ElementGuard as shown here which wraps the actual WebElement with proxy.\r\n\r\n`WebElement elt = ElementGuard.guard(getSmartElement(By.cssSelector(&quot;#my_id&quot;)));`","title":"How to init a WebElement with a wrapped element","body":"<p>You can directly use the ElementGuard as shown here which wraps the actual WebElement with proxy.</p>\n\n<p><code>WebElement elt = ElementGuard.guard(getSmartElement(By.cssSelector(\"#my_id\")));</code></p>\n"}],"owner":{"account_id":1950617,"reputation":1764,"user_id":1754790,"accept_rate":52,"display_name":"Renaud is Not Bill Gates"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701780371,"creation_date":1576493218,"question_id":59355051,"body_markdown":"I have followed a tutorial on how to close random opened popups before doing any action : \r\n\r\nhttps://www.vinsguru.com/selenium-webdriver-how-to-handle-annoying-random-popup-alerts/\r\n\r\nThe idea is to create an ElementProxy class which implements the interface `InvocationHandler`. so, the proxys invoke method would be called first before the actual method is invoked.\r\n\r\nSo we call `checkForPopupAndKill` before invoking any action on a WebElement.\r\n\r\nThen we wrap our regular WebElement with this proxy object. We basically need a class which has a method to accept a WebElement and returns the WebElement with some wrapper.\r\n\r\nIn the tutorial they init elements of the page object with wrapper elements, like this:\r\n\r\n \r\n\r\n    //first init elements\r\n            PageFactory.initElements(driver, pageobject);\r\n            \r\n            //then access all the WebElements and create a wrapper\r\n            for(Field f:pageobject.getClass().getDeclaredFields()){\r\n                if(f.getType().equals(WebElement.class)){\r\n                    boolean accessible = f.isAccessible();\r\n                    f.setAccessible(true);\r\n                    //reset the webelement with proxy object\r\n                    f.set(pageobject, ElementGuard.guard((WebElement) f.get(pageobject)));\r\n                    f.setAccessible(accessible);\r\n                }  \r\n            }\r\n\r\nThat&#39;s because they have declared fileds with the `@FindBy` annotation in the page object, but in my framework I&#39;m declaring elements as following :\r\n\r\n````\r\nWebElement elt = getSmartElement(By.cssSelector(&quot;#my_id&quot;));\r\n````\r\n\r\nMy question is, how can I init my element with with the wrapper element ?\r\n\r\nThanks in advance.","title":"How to init a WebElement with a wrapped element","body":"<p>I have followed a tutorial on how to close random opened popups before doing any action :</p>\n<p><a href=\"https://www.vinsguru.com/selenium-webdriver-how-to-handle-annoying-random-popup-alerts/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/selenium-webdriver-how-to-handle-annoying-random-popup-alerts/</a></p>\n<p>The idea is to create an ElementProxy class which implements the interface <code>InvocationHandler</code>. so, the proxys invoke method would be called first before the actual method is invoked.</p>\n<p>So we call <code>checkForPopupAndKill</code> before invoking any action on a WebElement.</p>\n<p>Then we wrap our regular WebElement with this proxy object. We basically need a class which has a method to accept a WebElement and returns the WebElement with some wrapper.</p>\n<p>In the tutorial they init elements of the page object with wrapper elements, like this:</p>\n<pre><code>//first init elements\n        PageFactory.initElements(driver, pageobject);\n        \n        //then access all the WebElements and create a wrapper\n        for(Field f:pageobject.getClass().getDeclaredFields()){\n            if(f.getType().equals(WebElement.class)){\n                boolean accessible = f.isAccessible();\n                f.setAccessible(true);\n                //reset the webelement with proxy object\n                f.set(pageobject, ElementGuard.guard((WebElement) f.get(pageobject)));\n                f.setAccessible(accessible);\n            }  \n        }\n</code></pre>\n<p>That's because they have declared fileds with the <code>@FindBy</code> annotation in the page object, but in my framework I'm declaring elements as following :</p>\n<pre><code>WebElement elt = getSmartElement(By.cssSelector(&quot;#my_id&quot;));\n</code></pre>\n<p>My question is, how can I init my element with with the wrapper element ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","image-cropper"],"answers":[{"comments":[{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1701781762,"post_id":77606299,"comment_id":136815771,"body_markdown":"please can you give me a code snippet on how to achieve that because I don&#39;t really know how to implement it @Abhinav Tiwari?","body":"please can you give me a code snippet on how to achieve that because I don&#39;t really know how to implement it @Abhinav Tiwari?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1701781810,"post_id":77606299,"comment_id":136815777,"body_markdown":"I want to get the image, display it in an imageview and then send it to firebase","body":"I want to get the image, display it in an imageview and then send it to firebase"}],"tags":[],"owner":{"account_id":29862384,"reputation":1,"user_id":22885773,"display_name":"Abhinav Tiwari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701780366,"creation_date":1701780366,"answer_id":77606299,"question_id":77606273,"body_markdown":"Load the image file using Java ImageIO (which is built into Java) BufferedImage image = ImageIO.read(new File(&quot;C:\\\\path\\\\to\\\\kitten.jpg&quot;));\r\nGet a cropped version (x, y, width, height) (0,0 is top left corner) ...\r\nSave the image back to a File.","title":"crop image implementation in java not working","body":"<p>Load the image file using Java ImageIO (which is built into Java) BufferedImage image = ImageIO.read(new File(&quot;C:\\path\\to\\kitten.jpg&quot;));\nGet a cropped version (x, y, width, height) (0,0 is top left corner) ...\nSave the image back to a File.</p>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701780366,"creation_date":1701780166,"question_id":77606273,"body_markdown":"I want to use a crop image library to pick and crop an image from the gallery but even when I have added the library, the activity wasn&#39;t recognized in the android studio. from the github link that has the crop image library, they are only showing the example using kotlin but I want to use java for it. I&#39;m also using a Fragment in doing it\r\n        This is the library that I used\r\n        implementation&quot;com.vanniktech:android-image-cropper:4.5.0&quot;\r\n    and I have added the crop image activity in my manifest file like this\r\n            &lt;activity\r\n                android:name=&quot;com.canhub.cropper.CropImageActivity&quot;\r\n                android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n    \r\n         I got this error: cannot find symbol\r\n                CropImage.activity(imageUri)\r\n        \r\n        private void pickProfileImage(){\r\n                CropImage.activity(imageUri)\r\n                        .setAspectRatio(1, 1)\r\n                        .start(getContext());\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n                super.onActivityResult(requestCode, resultCode, data);\r\n                if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\r\n                    CropImage.ActivityResult result = CropImage.activity(data);\r\n                    if (resultCode == RESULT_OK) {\r\n                        imageUri = result.getResult(data);\r\n                        profileImage.setImageURI(imageUri);\r\n                    } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\r\n                        Exception error = result.getError();\r\n                        Toast.makeText(getActivity(), error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(getActivity(), &quot;Error Occurred Try Again&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n\r\n","title":"crop image implementation in java not working","body":"<p>I want to use a crop image library to pick and crop an image from the gallery but even when I have added the library, the activity wasn't recognized in the android studio. from the github link that has the crop image library, they are only showing the example using kotlin but I want to use java for it. I'm also using a Fragment in doing it\nThis is the library that I used\nimplementation&quot;com.vanniktech:android-image-cropper:4.5.0&quot;\nand I have added the crop image activity in my manifest file like this\n</p>\n<pre><code>     I got this error: cannot find symbol\n            CropImage.activity(imageUri)\n    \n    private void pickProfileImage(){\n            CropImage.activity(imageUri)\n                    .setAspectRatio(1, 1)\n                    .start(getContext());\n    \n        }\n    \n        @Override\n        public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n            super.onActivityResult(requestCode, resultCode, data);\n            if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n                CropImage.ActivityResult result = CropImage.activity(data);\n                if (resultCode == RESULT_OK) {\n                    imageUri = result.getResult(data);\n                    profileImage.setImageURI(imageUri);\n                } else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n                    Exception error = result.getError();\n                    Toast.makeText(getActivity(), error.getMessage(), Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(getActivity(), &quot;Error Occurred Try Again&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1700491446,"post_id":77516750,"comment_id":136657719,"body_markdown":"What have you tried? Why didn&#39;t it work?","body":"What have you tried? Why didn&#39;t it work?"},{"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETM"},"score":1,"creation_date":1700491550,"post_id":77516750,"comment_id":136657737,"body_markdown":"Frankly, I haven&#39;t tried anything because I don&#39;t have enough knowledge, so I felt the need to write here.","body":"Frankly, I haven&#39;t tried anything because I don&#39;t have enough knowledge, so I felt the need to write here."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1700491636,"post_id":77516750,"comment_id":136657753,"body_markdown":"People are here to help you, not to do your work. Try first, fail then ask a proper question showing what didn&#39;t work.","body":"People are here to help you, not to do your work. Try first, fail then ask a proper question showing what didn&#39;t work."},{"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETM"},"score":1,"creation_date":1700491850,"post_id":77516750,"comment_id":136657799,"body_markdown":"I don&#39;t want anyone else to do my job. I shared it to get ideas because I didn&#39;t know what to do. If you noticed, I didn&#39;t ask if you could do it, I asked how I could do it.","body":"I don&#39;t want anyone else to do my job. I shared it to get ideas because I didn&#39;t know what to do. If you noticed, I didn&#39;t ask if you could do it, I asked how I could do it."},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":1,"creation_date":1700491965,"post_id":77516750,"comment_id":136657813,"body_markdown":"You can add spaces or tab characters to the strings to make the &quot;columns&quot; equal in width on each row.","body":"You can add spaces or tab characters to the strings to make the &quot;columns&quot; equal in width on each row."},{"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETM"},"score":1,"creation_date":1700492300,"post_id":77516750,"comment_id":136657883,"body_markdown":"Yes, I tried but the order changes in string expressions of different lengths. Thanks for your help but.","body":"Yes, I tried but the order changes in string expressions of different lengths. Thanks for your help but."},{"owner":{"account_id":29581991,"reputation":78,"user_id":22671571,"display_name":"SE User"},"score":0,"creation_date":1701876377,"post_id":77516750,"comment_id":136829563,"body_markdown":"May I ask why you reversed my edit? It seems that it would have made your post more likely to be upvoted.","body":"May I ask why you reversed my edit? It seems that it would have made your post more likely to be upvoted."}],"answers":[{"tags":[],"owner":{"account_id":29581991,"reputation":78,"user_id":22671571,"display_name":"SE User"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1700491950,"creation_date":1700491950,"answer_id":77516833,"question_id":77516750,"body_markdown":"Your question isn&#39;t very clear, but I think you want to print a table of data out in Java. Try using the `System.out.format()` method. Here&#39;s a quick  example of how to use it:\r\n\r\n```java\r\nSystem.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;Column 1&quot;, &quot;Column 2&quot;, &quot;Column 3&quot;);\r\nSystem.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;Hello&quot;, &quot;World&quot;, &quot;!&quot;);\r\nSystem.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;This&quot;, &quot;is&quot;, &quot;a table&quot;);\r\n```\r\n\r\nThis will output the following table to the console:\r\n\r\n```none\r\nColumn 1        Column 2        Column 3\r\nHello           World           !\r\nThis            is              a table\r\n```\r\n\r\nIf you want to display the table in a more sophisticated way, (right now, it might not be very clear that it&#39;s a table at all!), you can try using a third-party library such as *j-text-utils* or *ASCIITable*. These libraries provide more advanced features such as sorting, row numbering, and more. Here&#39;s an example of how to use *j-text-utils* to print a table:\r\n\r\n```java\r\nTextTable tt = new TextTable(new String[]{&quot;Column 1&quot;, &quot;Column 2&quot;, &quot;Column 3&quot;}, new String[][]{\r\n    {&quot;Hello&quot;, &quot;World&quot;, &quot;!&quot;},\r\n    {&quot;This&quot;, &quot;is&quot;, &quot;a table&quot;}\r\n});\r\ntt.printTable();\r\n```\r\n\r\nThis will output the following table to the console:\r\n\r\n```none\r\n+---------------+---------------+---------------+\r\n| Column 1      | Column 2      | Column 3      |\r\n+---------------+---------------+---------------+\r\n| Hello         | World         | !             |\r\n+---------------+---------------+---------------+\r\n| This          | is            | a table       |\r\n+---------------+---------------+---------------+\r\n```\r\n\r\nIf this isn&#39;t what you want to do, please update your question with more details. It&#39;s not very clear right now.","title":"How can I print string expressions one under the other in line in java?","body":"<p>Your question isn't very clear, but I think you want to print a table of data out in Java. Try using the <code>System.out.format()</code> method. Here's a quick  example of how to use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;Column 1&quot;, &quot;Column 2&quot;, &quot;Column 3&quot;);\nSystem.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;Hello&quot;, &quot;World&quot;, &quot;!&quot;);\nSystem.out.format(&quot;%-15s %-15s %-15s\\n&quot;, &quot;This&quot;, &quot;is&quot;, &quot;a table&quot;);\n</code></pre>\n<p>This will output the following table to the console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Column 1        Column 2        Column 3\nHello           World           !\nThis            is              a table\n</code></pre>\n<p>If you want to display the table in a more sophisticated way, (right now, it might not be very clear that it's a table at all!), you can try using a third-party library such as <em>j-text-utils</em> or <em>ASCIITable</em>. These libraries provide more advanced features such as sorting, row numbering, and more. Here's an example of how to use <em>j-text-utils</em> to print a table:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextTable tt = new TextTable(new String[]{&quot;Column 1&quot;, &quot;Column 2&quot;, &quot;Column 3&quot;}, new String[][]{\n    {&quot;Hello&quot;, &quot;World&quot;, &quot;!&quot;},\n    {&quot;This&quot;, &quot;is&quot;, &quot;a table&quot;}\n});\ntt.printTable();\n</code></pre>\n<p>This will output the following table to the console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+---------------+---------------+---------------+\n| Column 1      | Column 2      | Column 3      |\n+---------------+---------------+---------------+\n| Hello         | World         | !             |\n+---------------+---------------+---------------+\n| This          | is            | a table       |\n+---------------+---------------+---------------+\n</code></pre>\n<p>If this isn't what you want to do, please update your question with more details. It's not very clear right now.</p>\n"}],"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETM"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":8,"up_vote_count":1,"closed_date":1700495367,"accepted_answer_id":77516833,"answer_count":1,"score":-7,"last_activity_date":1701780241,"creation_date":1700491397,"question_id":77516750,"body_markdown":"In a school project, I need to print string expressions one under the other in the same alignment. How can I do that.\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/SEr4E.png)\r\n\r\nFor example, in a situation like here, how can I print names, surnames and numbers in the same line, one under the other? Thank you in advance to everyone who answers and helps.","title":"How can I print string expressions one under the other in line in java?","body":"<p>In a school project, I need to print string expressions one under the other in the same alignment. How can I do that.</p>\n<p><a href=\"https://i.stack.imgur.com/SEr4E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>For example, in a situation like here, how can I print names, surnames and numbers in the same line, one under the other? Thank you in advance to everyone who answers and helps.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","weblogic"],"owner":{"account_id":9529435,"reputation":41,"user_id":7081640,"display_name":"Michal Kowalczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701780157,"creation_date":1701780157,"question_id":77606272,"body_markdown":"Below solution is working as expected on Tomcat Server -&gt; shortly speaking I am getting 503 status code with custom timeout message after 3 seconds of task processing (Thread sleep). Unfortunately if the same application is deployed on Weblogic Server (12.2.1.4) and the same test case executed I am getting sometimes 200 status with my custom message &quot;Deferred successfully returned&quot; and sometimes I am getting 200 status code with no payload..\r\n\r\nHow to fix it to enable correct behaviour of DeferredResult on Weblogic Server?\r\n\r\n\r\n    \t@PostMapping(&quot;/deferred&quot;)\r\n        DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt; doDeferred(@RequestBody String payload) throws InterruptedException {\r\n        final ResponseEntity&lt;Object&gt; wtf = ResponseEntity.status(503).body(&quot;Deferred timeout&quot;);\r\n        final DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt; responseEntityDeferredResult = new DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt;(3000L, wtf);\r\n        if(payload == null){\r\n            payload = &quot;wtf&quot;;\r\n        }\r\n        final String finalPayload = payload;\r\n\r\n        if(finalPayload.contains(&quot;sleep&quot;)){\r\n            ForkJoinPool.commonPool().submit(() -&gt; {\r\n                log.info(&quot;Processing in separate thread&quot;);\r\n                if(finalPayload.equals(&quot;sleepMore&quot;)){\r\n                    try {\r\n                        Thread.sleep(5000);\r\n                    } catch (InterruptedException e) {\r\n\r\n                    }\r\n                } else {\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n\r\n                    }\r\n                }\r\n\r\n                log.info(&quot;After the sleep execution&quot;);\r\n                responseEntityDeferredResult.setResult(ResponseEntity.status(200).body(&quot;Deferred successfully returned&quot;));\r\n                log.info(&quot;Finished processing in separate thread&quot;);\r\n            });\r\n        } else {\r\n            responseEntityDeferredResult.setResult(ResponseEntity.status(200).body(&quot;Deferred successfully returned&quot;));\r\n        }\r\n\r\n        return responseEntityDeferredResult;\r\n    }\r\n\r\n\r\n ","title":"DeferredResult is returning wrong response during timeout","body":"<p>Below solution is working as expected on Tomcat Server -&gt; shortly speaking I am getting 503 status code with custom timeout message after 3 seconds of task processing (Thread sleep). Unfortunately if the same application is deployed on Weblogic Server (12.2.1.4) and the same test case executed I am getting sometimes 200 status with my custom message &quot;Deferred successfully returned&quot; and sometimes I am getting 200 status code with no payload..</p>\n<p>How to fix it to enable correct behaviour of DeferredResult on Weblogic Server?</p>\n<pre><code>    @PostMapping(&quot;/deferred&quot;)\n    DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt; doDeferred(@RequestBody String payload) throws InterruptedException {\n    final ResponseEntity&lt;Object&gt; wtf = ResponseEntity.status(503).body(&quot;Deferred timeout&quot;);\n    final DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt; responseEntityDeferredResult = new DeferredResult&lt;ResponseEntity&lt;Object&gt;&gt;(3000L, wtf);\n    if(payload == null){\n        payload = &quot;wtf&quot;;\n    }\n    final String finalPayload = payload;\n\n    if(finalPayload.contains(&quot;sleep&quot;)){\n        ForkJoinPool.commonPool().submit(() -&gt; {\n            log.info(&quot;Processing in separate thread&quot;);\n            if(finalPayload.equals(&quot;sleepMore&quot;)){\n                try {\n                    Thread.sleep(5000);\n                } catch (InterruptedException e) {\n\n                }\n            } else {\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n\n                }\n            }\n\n            log.info(&quot;After the sleep execution&quot;);\n            responseEntityDeferredResult.setResult(ResponseEntity.status(200).body(&quot;Deferred successfully returned&quot;));\n            log.info(&quot;Finished processing in separate thread&quot;);\n        });\n    } else {\n        responseEntityDeferredResult.setResult(ResponseEntity.status(200).body(&quot;Deferred successfully returned&quot;));\n    }\n\n    return responseEntityDeferredResult;\n}\n</code></pre>\n"},{"tags":["java","java-8","pdfbox","java-7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701779978,"post_id":77605617,"comment_id":136815460,"body_markdown":"Are you sure you&#39;re using PDFBox? There are no classes `PDF` or `NGPDF` in PDFBox...","body":"Are you sure you&#39;re using PDFBox? There are no classes <code>PDF</code> or <code>NGPDF</code> in PDFBox..."}],"owner":{"account_id":30070848,"reputation":1,"user_id":23044838,"display_name":"Sudhanshu Pal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701780058,"creation_date":1701773516,"question_id":77605617,"body_markdown":"I have a pdf having 6 pages and I have rotated the second page to 90 degrees using the pdfbox (Version 2.0.29) and input as `ByteArrayOutputStream` that is successfully rotated but again when I am taking rotated pdf as input and rotating another page of the same pdf then the page which I mentioned 2nd time is getting rotate and rest all the pages are going to original form. But it should preserve my first rotate page that the issue??\r\n\r\ncan anybody help??\r\n\r\nI tried everything passing file,changed the file but nothing worked.\r\n```\r\nPDF.rotatePage(baos, &quot;&quot;, 4, NGPDF.PageRotation.ROTATE_90);\r\n```","title":"Rotatating page using PDFBOX library having issue","body":"<p>I have a pdf having 6 pages and I have rotated the second page to 90 degrees using the pdfbox (Version 2.0.29) and input as <code>ByteArrayOutputStream</code> that is successfully rotated but again when I am taking rotated pdf as input and rotating another page of the same pdf then the page which I mentioned 2nd time is getting rotate and rest all the pages are going to original form. But it should preserve my first rotate page that the issue??</p>\n<p>can anybody help??</p>\n<p>I tried everything passing file,changed the file but nothing worked.</p>\n<pre><code>PDF.rotatePage(baos, &quot;&quot;, 4, NGPDF.PageRotation.ROTATE_90);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","spotbugs","suppression"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1702034799,"post_id":77605384,"comment_id":136851064,"body_markdown":"Does `mvn spotbugs:check` just write errors to `/dev/stdout`? If so, can you write a pipe that does some custom filtering? So it would be called `mvn spotbugs:check | errorpipe.sh`.","body":"Does <code>mvn spotbugs:check</code> just write errors to <code>&#47;dev&#47;stdout</code>? If so, can you write a pipe that does some custom filtering? So it would be called <code>mvn spotbugs:check | errorpipe.sh</code>."}],"owner":{"account_id":30070546,"reputation":1,"user_id":23044603,"display_name":"Faiz Qureshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701779998,"creation_date":1701771468,"question_id":77605384,"body_markdown":"I want to suppress an error that I got by running `mvn spotbugs:check`\r\n\r\nI have a file named `requestBodyDto.java` in my code as below:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n/**\r\n * Data Transfer Object (DTO) representing the request body.\r\n */\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class RequestBodyDto {\r\n\r\n    /**\r\n     * Reference of the sender.\r\n     */\r\n    @JsonProperty(&quot;sender_reference&quot;)\r\n    private String senderReference;\r\n\r\n    /**\r\n     * Type of the message.\r\n     */\r\n    @JsonProperty(&quot;message_type&quot;)\r\n    private String messageType;\r\n\r\n    /**\r\n     * Sender information.\r\n     */\r\n    private String sender;\r\n\r\n    /**\r\n     * Receiver information.\r\n     */\r\n    private String receiver;\r\n\r\n    /**\r\n     * Network information.\r\n     */\r\n    @JsonProperty(&quot;network_info&quot;)\r\n    private NetworkInfo networkInfo;\r\n\r\n    /**\r\n     * Payload of the message.\r\n     */\r\n    private String payload;\r\n\r\n    /**\r\n     * Network information nested class.\r\n     */\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    public static class NetworkInfo {\r\n\r\n        /**\r\n         * Priority of the network.\r\n         */\r\n        private NetworkPriority networkPriority;\r\n\r\n        /**\r\n         * Unique End-to-End Transaction Reference (UETR).\r\n         */\r\n        private String uetr;\r\n\r\n        /**\r\n         * Delivery monitoring status.\r\n         */\r\n        private DeliveryMonitoring deliveryMonitoring;\r\n\r\n        /**\r\n         * Indicates if the message is a possible duplicate.\r\n         */\r\n        private boolean possibleDuplicate;\r\n\r\n        /**\r\n         * Identifier for validation.\r\n         */\r\n        private String validationIdentifier;\r\n\r\n        /**\r\n         * Identifier for the service type.\r\n         */\r\n        private String serviceTypeIdentifier;\r\n    }\r\n\r\n    /**\r\n     * Enum representing network priority.\r\n     */\r\n    public enum NetworkPriority {\r\n        /**\r\n         * Normal network priority.\r\n         */\r\n        Normal,\r\n\r\n        /**\r\n         * Urgent network priority.\r\n         */\r\n        Urgent,\r\n\r\n        /**\r\n         * System-level network priority.\r\n         */\r\n        System\r\n    }\r\n\r\n\r\n    /**\r\n     * Enum representing delivery monitoring status.\r\n     */\r\n    public enum DeliveryMonitoring {\r\n        /**\r\n         * No delivery monitoring.\r\n         */\r\n        None,\r\n\r\n        /**\r\n         * Monitoring for non-delivery.\r\n         */\r\n        NonDelivery,\r\n\r\n        /**\r\n         * Monitoring for both non-delivery and delivery.\r\n         */\r\n        NonDeliveryAndDelivery,\r\n\r\n        /**\r\n         * Monitoring for successful delivery.\r\n         */\r\n        Delivery\r\n    }\r\n```\r\n\r\nOn running `mvn spotbugs:check` I am receiving the following error :\r\n\r\n[ERROR] new com.guardianlife.connector.client.messaging.dto.RequestBodyDto(String, String, String, String, RequestBodyDto$NetworkInfo, String) may expose internal representation by storing an externally mutable object into RequestBodyDto.networkInfo [com.guardianlife.connector.client.messaging.dto.RequestBodyDto] At RequestBodyDto.java:[line 13] EI_EXPOSE_REP2  \r\n\r\nI have written a `spotbugsSuppression.xml` file that suppresses two errors :\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;FindBugsFilter&gt;\r\n    &lt;!-- Suppress SpotBugs warnings for internal representation exposure --&gt;\r\n    &lt;Match&gt;\r\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot; /&gt;\r\n        &lt;Class name=&quot;com.guardianlife.connector.client.messaging.dto.RequestBodyDto&quot; /&gt;\r\n        &lt;Method name=&quot;getNetworkInfo&quot; /&gt;\r\n    &lt;/Match&gt;\r\n\r\n    &lt;Match&gt;\r\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot; /&gt;\r\n        &lt;Class name=&quot;com.guardianlife.connector.client.messaging.dto.RequestBodyDto&quot; /&gt;\r\n        &lt;Method name=&quot;setNetworkInfo&quot; /&gt;\r\n    &lt;/Match&gt;\r\n\r\n&lt;/FindBugsFilter&gt;\r\n\r\n```\r\n\r\nI am not able to suppress the above error, I have tried every possible way of doing that but I am not able to do so. What can I try next?\r\n","title":"SPOTBUGS SUPPRESSION","body":"<p>I want to suppress an error that I got by running <code>mvn spotbugs:check</code></p>\n<p>I have a file named <code>requestBodyDto.java</code> in my code as below:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.Setter;\n\n/**\n * Data Transfer Object (DTO) representing the request body.\n */\n@Getter\n@Setter\n@AllArgsConstructor\npublic class RequestBodyDto {\n\n    /**\n     * Reference of the sender.\n     */\n    @JsonProperty(&quot;sender_reference&quot;)\n    private String senderReference;\n\n    /**\n     * Type of the message.\n     */\n    @JsonProperty(&quot;message_type&quot;)\n    private String messageType;\n\n    /**\n     * Sender information.\n     */\n    private String sender;\n\n    /**\n     * Receiver information.\n     */\n    private String receiver;\n\n    /**\n     * Network information.\n     */\n    @JsonProperty(&quot;network_info&quot;)\n    private NetworkInfo networkInfo;\n\n    /**\n     * Payload of the message.\n     */\n    private String payload;\n\n    /**\n     * Network information nested class.\n     */\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    public static class NetworkInfo {\n\n        /**\n         * Priority of the network.\n         */\n        private NetworkPriority networkPriority;\n\n        /**\n         * Unique End-to-End Transaction Reference (UETR).\n         */\n        private String uetr;\n\n        /**\n         * Delivery monitoring status.\n         */\n        private DeliveryMonitoring deliveryMonitoring;\n\n        /**\n         * Indicates if the message is a possible duplicate.\n         */\n        private boolean possibleDuplicate;\n\n        /**\n         * Identifier for validation.\n         */\n        private String validationIdentifier;\n\n        /**\n         * Identifier for the service type.\n         */\n        private String serviceTypeIdentifier;\n    }\n\n    /**\n     * Enum representing network priority.\n     */\n    public enum NetworkPriority {\n        /**\n         * Normal network priority.\n         */\n        Normal,\n\n        /**\n         * Urgent network priority.\n         */\n        Urgent,\n\n        /**\n         * System-level network priority.\n         */\n        System\n    }\n\n\n    /**\n     * Enum representing delivery monitoring status.\n     */\n    public enum DeliveryMonitoring {\n        /**\n         * No delivery monitoring.\n         */\n        None,\n\n        /**\n         * Monitoring for non-delivery.\n         */\n        NonDelivery,\n\n        /**\n         * Monitoring for both non-delivery and delivery.\n         */\n        NonDeliveryAndDelivery,\n\n        /**\n         * Monitoring for successful delivery.\n         */\n        Delivery\n    }\n</code></pre>\n<p>On running <code>mvn spotbugs:check</code> I am receiving the following error :</p>\n<p>[ERROR] new com.guardianlife.connector.client.messaging.dto.RequestBodyDto(String, String, String, String, RequestBodyDto$NetworkInfo, String) may expose internal representation by storing an externally mutable object into RequestBodyDto.networkInfo [com.guardianlife.connector.client.messaging.dto.RequestBodyDto] At RequestBodyDto.java:[line 13] EI_EXPOSE_REP2</p>\n<p>I have written a <code>spotbugsSuppression.xml</code> file that suppresses two errors :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;FindBugsFilter&gt;\n    &lt;!-- Suppress SpotBugs warnings for internal representation exposure --&gt;\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP&quot; /&gt;\n        &lt;Class name=&quot;com.guardianlife.connector.client.messaging.dto.RequestBodyDto&quot; /&gt;\n        &lt;Method name=&quot;getNetworkInfo&quot; /&gt;\n    &lt;/Match&gt;\n\n    &lt;Match&gt;\n        &lt;Bug pattern=&quot;EI_EXPOSE_REP2&quot; /&gt;\n        &lt;Class name=&quot;com.guardianlife.connector.client.messaging.dto.RequestBodyDto&quot; /&gt;\n        &lt;Method name=&quot;setNetworkInfo&quot; /&gt;\n    &lt;/Match&gt;\n\n&lt;/FindBugsFilter&gt;\n\n</code></pre>\n<p>I am not able to suppress the above error, I have tried every possible way of doing that but I am not able to do so. What can I try next?</p>\n"},{"tags":["java","json","spring"],"answers":[{"comments":[{"owner":{"account_id":7730120,"reputation":751,"user_id":5853556,"accept_rate":68,"display_name":"Kervvv"},"score":8,"creation_date":1530411485,"post_id":45110497,"comment_id":89225424,"body_markdown":"what would be the reason for this exception being thrown if the json I&#39;m parsing does not have any blank or null values? I&#39;m just trying to get a better understanding all-together.","body":"what would be the reason for this exception being thrown if the json I&#39;m parsing does not have any blank or null values? I&#39;m just trying to get a better understanding all-together."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1530413245,"post_id":45110497,"comment_id":89225592,"body_markdown":"@Kervvv this exception wont be thrown if the input doesnt have any empty string.","body":"@Kervvv this exception wont be thrown if the input doesnt have any empty string."}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":2,"down_vote_count":2,"up_vote_count":67,"is_accepted":true,"score":65,"last_activity_date":1636623204,"creation_date":1500061201,"answer_id":45110497,"question_id":45110371,"body_markdown":"Try setting \r\n```java\r\nmapper.configure(\r\n          DeserializationConfig.Feature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,\r\n          true)\r\n```\r\nor \r\n\r\n    mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\r\ndepending on your Jackson version.","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Try setting</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.configure(\n          DeserializationConfig.Feature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,\n          true)\n</code></pre>\n<p>or</p>\n<pre><code>mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n</code></pre>\n<p>depending on your Jackson version.</p>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":4,"creation_date":1542781202,"post_id":53316543,"comment_id":93687352,"body_markdown":"What does your answer add that mine doesnt from 1.5 years ago?","body":"What does your answer add that mine doesnt from 1.5 years ago?"}],"tags":[],"owner":{"account_id":12203280,"reputation":7,"user_id":8907042,"display_name":"Herman XU"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1542275174,"creation_date":1542275174,"answer_id":53316543,"question_id":45110371,"body_markdown":"    mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\r\nMy code work well just as the answer above.\r\nThe reason is that the json from jackson is different with the json sent from controller.\r\n\r\n    String test1= mapper.writeValueAsString(result1);\r\nAnd the json is like(which can be deserialized normally):\r\n\r\n    {&quot;code&quot;:200,&quot;message&quot;:&quot;god&quot;,&quot;data&quot;:[{&quot;nics&quot;:null,&quot;status&quot;:null,&quot;desktopOperatorType&quot;:null,&quot;marker&quot;:null,&quot;user_name&quot;:null,&quot;user_group&quot;:null,&quot;user_email&quot;:null,&quot;product_id&quot;:null,&quot;image_id&quot;:null,&quot;computer_name&quot;:&quot;AAAA&quot;,&quot;desktop_id&quot;:null,&quot;created&quot;:null,&quot;ip_address&quot;:null,&quot;security_groups&quot;:null,&quot;root_volume&quot;:null,&quot;data_volumes&quot;:null,&quot;availability_zone&quot;:null,&quot;ou_name&quot;:null,&quot;login_status&quot;:null,&quot;desktop_ip&quot;:null,&quot;ad_id&quot;:null},{&quot;nics&quot;:null,&quot;status&quot;:null,&quot;desktopOperatorType&quot;:null,&quot;marker&quot;:null,&quot;user_name&quot;:null,&quot;user_group&quot;:null,&quot;user_email&quot;:null,&quot;product_id&quot;:null,&quot;image_id&quot;:null,&quot;computer_name&quot;:&quot;BBBB&quot;,&quot;desktop_id&quot;:null,&quot;created&quot;:null,&quot;ip_address&quot;:null,&quot;security_groups&quot;:null,&quot;root_volume&quot;:null,&quot;data_volumes&quot;:null,&quot;availability_zone&quot;:null,&quot;ou_name&quot;:null,&quot;login_status&quot;:null,&quot;desktop_ip&quot;:null,&quot;ad_id&quot;:null}]}\r\n\r\nbut the json send from the another service just like:\r\n\r\n    {&quot;code&quot;:200,&quot;message&quot;:&quot;&quot;,&quot;data&quot;:[{&quot;nics&quot;:&quot;&quot;,&quot;status&quot;:&quot;&quot;,&quot;metadata&quot;:&quot;&quot;,&quot;desktopOperatorType&quot;:&quot;&quot;,&quot;marker&quot;:&quot;&quot;,&quot;user_name&quot;:&quot;csrgzbsjy&quot;,&quot;user_group&quot;:&quot;ADMINISTRATORS&quot;,&quot;user_email&quot;:&quot;&quot;,&quot;product_id&quot;:&quot;&quot;,&quot;image_id&quot;:&quot;&quot;,&quot;computer_name&quot;:&quot;B-jiegou-all-15&quot;,&quot;desktop_id&quot;:&quot;6360ee29-eb82-416b-aab8-18ded887e8ff&quot;,&quot;created&quot;:&quot;2018-11-12T07:45:15.000Z&quot;,&quot;ip_address&quot;:&quot;192.168.2.215&quot;,&quot;security_groups&quot;:&quot;&quot;,&quot;root_volume&quot;:&quot;&quot;,&quot;data_volumes&quot;:&quot;&quot;,&quot;availability_zone&quot;:&quot;&quot;,&quot;ou_name&quot;:&quot;&quot;,&quot;login_status&quot;:&quot;&quot;,&quot;desktop_ip&quot;:&quot;&quot;,&quot;ad_id&quot;:&quot;&quot;},{&quot;nics&quot;:&quot;&quot;,&quot;status&quot;:&quot;&quot;,&quot;metadata&quot;:&quot;&quot;,&quot;desktopOperatorType&quot;:&quot;&quot;,&quot;marker&quot;:&quot;&quot;,&quot;user_name&quot;:&quot;glory_2147&quot;,&quot;user_group&quot;:&quot;ADMINISTRATORS&quot;,&quot;user_email&quot;:&quot;&quot;,&quot;product_id&quot;:&quot;&quot;,&quot;image_id&quot;:&quot;&quot;,&quot;computer_name&quot;:&quot;H-pkpm-all-357&quot;,&quot;desktop_id&quot;:&quot;709164e4-d3e6-495d-9c1e-a7b82e30bc83&quot;,&quot;created&quot;:&quot;2018-11-09T09:54:09.000Z&quot;,&quot;ip_address&quot;:&quot;192.168.2.235&quot;,&quot;security_groups&quot;:&quot;&quot;,&quot;root_volume&quot;:&quot;&quot;,&quot;data_volumes&quot;:&quot;&quot;,&quot;availability_zone&quot;:&quot;&quot;,&quot;ou_name&quot;:&quot;&quot;,&quot;login_status&quot;:&quot;&quot;,&quot;desktop_ip&quot;:&quot;&quot;,&quot;ad_id&quot;:&quot;&quot;}]}\r\nYou can notice the difference when dealing with the param without initiation.\r\nBe careful\r\n","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<pre><code>mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n</code></pre>\n\n<p>My code work well just as the answer above.\nThe reason is that the json from jackson is different with the json sent from controller.</p>\n\n<pre><code>String test1= mapper.writeValueAsString(result1);\n</code></pre>\n\n<p>And the json is like(which can be deserialized normally):</p>\n\n<pre><code>{\"code\":200,\"message\":\"god\",\"data\":[{\"nics\":null,\"status\":null,\"desktopOperatorType\":null,\"marker\":null,\"user_name\":null,\"user_group\":null,\"user_email\":null,\"product_id\":null,\"image_id\":null,\"computer_name\":\"AAAA\",\"desktop_id\":null,\"created\":null,\"ip_address\":null,\"security_groups\":null,\"root_volume\":null,\"data_volumes\":null,\"availability_zone\":null,\"ou_name\":null,\"login_status\":null,\"desktop_ip\":null,\"ad_id\":null},{\"nics\":null,\"status\":null,\"desktopOperatorType\":null,\"marker\":null,\"user_name\":null,\"user_group\":null,\"user_email\":null,\"product_id\":null,\"image_id\":null,\"computer_name\":\"BBBB\",\"desktop_id\":null,\"created\":null,\"ip_address\":null,\"security_groups\":null,\"root_volume\":null,\"data_volumes\":null,\"availability_zone\":null,\"ou_name\":null,\"login_status\":null,\"desktop_ip\":null,\"ad_id\":null}]}\n</code></pre>\n\n<p>but the json send from the another service just like:</p>\n\n<pre><code>{\"code\":200,\"message\":\"\",\"data\":[{\"nics\":\"\",\"status\":\"\",\"metadata\":\"\",\"desktopOperatorType\":\"\",\"marker\":\"\",\"user_name\":\"csrgzbsjy\",\"user_group\":\"ADMINISTRATORS\",\"user_email\":\"\",\"product_id\":\"\",\"image_id\":\"\",\"computer_name\":\"B-jiegou-all-15\",\"desktop_id\":\"6360ee29-eb82-416b-aab8-18ded887e8ff\",\"created\":\"2018-11-12T07:45:15.000Z\",\"ip_address\":\"192.168.2.215\",\"security_groups\":\"\",\"root_volume\":\"\",\"data_volumes\":\"\",\"availability_zone\":\"\",\"ou_name\":\"\",\"login_status\":\"\",\"desktop_ip\":\"\",\"ad_id\":\"\"},{\"nics\":\"\",\"status\":\"\",\"metadata\":\"\",\"desktopOperatorType\":\"\",\"marker\":\"\",\"user_name\":\"glory_2147\",\"user_group\":\"ADMINISTRATORS\",\"user_email\":\"\",\"product_id\":\"\",\"image_id\":\"\",\"computer_name\":\"H-pkpm-all-357\",\"desktop_id\":\"709164e4-d3e6-495d-9c1e-a7b82e30bc83\",\"created\":\"2018-11-09T09:54:09.000Z\",\"ip_address\":\"192.168.2.235\",\"security_groups\":\"\",\"root_volume\":\"\",\"data_volumes\":\"\",\"availability_zone\":\"\",\"ou_name\":\"\",\"login_status\":\"\",\"desktop_ip\":\"\",\"ad_id\":\"\"}]}\n</code></pre>\n\n<p>You can notice the difference when dealing with the param without initiation.\nBe careful</p>\n"},{"comments":[{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":3,"creation_date":1561023794,"post_id":56323851,"comment_id":99932069,"body_markdown":"@AbhijitSarkar what? The problem is error &quot;no String-argument constructor/factory method to deserialize.....&quot;. The SO has to offer answers not only to TS specific question but to the problem as whole. I&#39;ve had this problem with slightly different input, but was going through same process of debugging this exact problem. I&#39;ve posted my answer since it might help with debugging of this particular problem but slightly modified circumstances. Second point is that people will search for problem with this input and it might help them. Input is the same, circumstances are different","body":"@AbhijitSarkar what? The problem is error &quot;no String-argument constructor/factory method to deserialize.....&quot;. The SO has to offer answers not only to TS specific question but to the problem as whole. I&#39;ve had this problem with slightly different input, but was going through same process of debugging this exact problem. I&#39;ve posted my answer since it might help with debugging of this particular problem but slightly modified circumstances. Second point is that people will search for problem with this input and it might help them. Input is the same, circumstances are different"},{"owner":{"account_id":4011828,"reputation":81,"user_id":3304980,"display_name":"louhow"},"score":1,"creation_date":1614979606,"post_id":56323851,"comment_id":117560355,"body_markdown":"For anybody curious why this is the case, it&#39;s buried in the docs: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class) - &quot;Further note that functianality is not designed to support &quot;advanced&quot; use cases, such as conversion of polymorphic values, or cases where Object Identity is used.&quot;","body":"For anybody curious why this is the case, it&#39;s buried in the docs: <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectMapper.html#convertValue(java.lang.Object,%20java.lang.Class)\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterx&zwnj;&#8203;ml/&hellip;</a> - &quot;Further note that functianality is not designed to support &quot;advanced&quot; use cases, such as conversion of polymorphic values, or cases where Object Identity is used.&quot;"}],"tags":[],"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":173,"is_accepted":false,"score":173,"last_activity_date":1558951463,"creation_date":1558951463,"answer_id":56323851,"question_id":45110371,"body_markdown":"Had this when I accidentally was calling \r\n\r\n    mapper.convertValue(...)\r\n\r\ninstead of \r\n\r\n    mapper.readValue(...)\r\n\r\nSo, just make sure you call correct method, since argument are same and IDE can find many things","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Had this when I accidentally was calling </p>\n\n<pre><code>mapper.convertValue(...)\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>mapper.readValue(...)\n</code></pre>\n\n<p>So, just make sure you call correct method, since argument are same and IDE can find many things</p>\n"},{"comments":[{"owner":{"account_id":11598561,"reputation":2332,"user_id":8496502,"display_name":"Deekshith Anand"},"score":2,"creation_date":1616606491,"post_id":58571817,"comment_id":118057797,"body_markdown":"this is so precise reason for this exception! I straight away foound out the bug after reading this comment!! Ty!","body":"this is so precise reason for this exception! I straight away foound out the bug after reading this comment!! Ty!"}],"tags":[],"owner":{"account_id":9395090,"reputation":151,"user_id":8023898,"display_name":"papaRomik"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1572101108,"creation_date":1572101108,"answer_id":58571817,"question_id":45110371,"body_markdown":"This exception says that you are trying to deserialize the object &quot;Address&quot; from string &quot;\\&quot;\\&quot;&quot; instead of an object description like &quot;{}&quot;. The deserializer can&#39;t find a constructor of Address with String argument. You have to replace &quot;&quot; by {} to avoid this error.","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>This exception says that you are trying to deserialize the object \"Address\" from string \"\\\"\\\"\" instead of an object description like \"{}\". The deserializer can't find a constructor of Address with String argument. You have to replace \"\" by {} to avoid this error.</p>\n"},{"tags":[],"owner":{"account_id":8704380,"reputation":149,"user_id":6513014,"display_name":"orly.sharon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590400732,"creation_date":1590400732,"answer_id":62000036,"question_id":45110371,"body_markdown":"I found a different way to handle this error. (the variables is according to the original question) \r\n\r\n       JsonNode parsedNodes = mapper.readValue(jsonMessage , JsonNode.class);\r\n            Response response = xmlMapper.enable(ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,ACCEPT_SINGLE_VALUE_AS_ARRAY )\r\n                    .disable(FAIL_ON_UNKNOWN_PROPERTIES, FAIL_ON_IGNORED_PROPERTIES)\r\n                    .convertValue(parsedNodes, Response.class);\r\n ","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>I found a different way to handle this error. (the variables is according to the original question) </p>\n\n<pre><code>   JsonNode parsedNodes = mapper.readValue(jsonMessage , JsonNode.class);\n        Response response = xmlMapper.enable(ACCEPT_EMPTY_STRING_AS_NULL_OBJECT,ACCEPT_SINGLE_VALUE_AS_ARRAY )\n                .disable(FAIL_ON_UNKNOWN_PROPERTIES, FAIL_ON_IGNORED_PROPERTIES)\n                .convertValue(parsedNodes, Response.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1776813,"reputation":735,"user_id":1620446,"display_name":"Abhilash Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1605461157,"creation_date":1605460750,"answer_id":64847463,"question_id":45110371,"body_markdown":"Use below code snippet This worked for me  \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\tString jsonString = &quot;{\\&quot;symbol\\&quot;:\\&quot;ABCD\\}&quot;;\r\n\tobjectMapper.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\tTrade trade = objectMapper.readValue(jsonString, new TypeReference&lt;Symbol&gt;() {});\r\n\r\n\r\n-------\r\nModel Class \r\n\r\n    @JsonIgnoreProperties    public class Symbol {\r\n        @JsonProperty(&quot;symbol&quot;)\r\n        private String symbol;\r\n    }","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Use below code snippet This worked for me</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nString jsonString = &quot;{\\&quot;symbol\\&quot;:\\&quot;ABCD\\}&quot;;\nobjectMapper.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\nTrade trade = objectMapper.readValue(jsonString, new TypeReference&lt;Symbol&gt;() {});\n</code></pre>\n<hr />\n<p>Model Class</p>\n<pre><code>@JsonIgnoreProperties    public class Symbol {\n    @JsonProperty(&quot;symbol&quot;)\n    private String symbol;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630681948,"creation_date":1630681948,"answer_id":69047151,"question_id":45110371,"body_markdown":"Create Object Mapper as -&gt;\r\n\r\n    private static final ObjectMapper objectMapper = new ObjectMapper()\r\n\t\t\t.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\t\t\t.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\r\nand then use \r\n\r\n    objectMapper.convertValue(object, value.class);","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Create Object Mapper as -&gt;</p>\n<pre><code>private static final ObjectMapper objectMapper = new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n</code></pre>\n<p>and then use</p>\n<pre><code>objectMapper.convertValue(object, value.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637303913,"creation_date":1637303913,"answer_id":70030772,"question_id":45110371,"body_markdown":"I received the same exception because I accidentally quoted an object like\r\n\r\n    { &quot;foo&quot;: &quot;{ \\&quot;value\\&quot;: 42}&quot; }\r\n\r\ninstead of\r\n\r\n    { &quot;foo&quot;: { &quot;value&quot;: 42 } }","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>I received the same exception because I accidentally quoted an object like</p>\n<pre><code>{ &quot;foo&quot;: &quot;{ \\&quot;value\\&quot;: 42}&quot; }\n</code></pre>\n<p>instead of</p>\n<pre><code>{ &quot;foo&quot;: { &quot;value&quot;: 42 } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16696395,"reputation":654,"user_id":13782870,"display_name":"Saurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641366596,"creation_date":1641366596,"answer_id":70589000,"question_id":45110371,"body_markdown":"Well, I encountered the same error and it took a long time to debug it.\r\nThe JSON I was passing had this structure\r\n```json\r\n{\r\n &quot;details&quot;: &quot;id&quot;\r\n}\r\n```\r\n\r\nAnd the error trace was `No String-argument constructor/factory method to deserialize from String value (&#39;id&#39;)`\r\n\r\nWhereas the pojo expected the id to be an object instead, so correct way would be\r\n\r\n```json\r\n{\r\n  &quot;details&quot;: {\r\n    &quot;key&quot;: &quot;id&quot;\r\n  }\r\n}\r\n```","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Well, I encountered the same error and it took a long time to debug it.\nThe JSON I was passing had this structure</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;details&quot;: &quot;id&quot;\n}\n</code></pre>\n<p>And the error trace was <code>No String-argument constructor/factory method to deserialize from String value ('id')</code></p>\n<p>Whereas the pojo expected the id to be an object instead, so correct way would be</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;details&quot;: {\n    &quot;key&quot;: &quot;id&quot;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4100532,"reputation":11,"user_id":6075553,"display_name":"Rajat Mehla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658221565,"creation_date":1658221565,"answer_id":73034157,"question_id":45110371,"body_markdown":"I also faced this issue and solution which worked for me is: \r\n\r\n    String jsonString=&quot;&quot;;\r\n    ObjectMapper objectMapper = new ObjectMapper()\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n            .configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n    JsonNode jsonObj=objectMapper.readTree(jsonString);\r\n    TypeObject typeObject=objectMapper.convertValue(jsonObj, TypeObject.class);","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>I also faced this issue and solution which worked for me is:</p>\n<pre><code>String jsonString=&quot;&quot;;\nObjectMapper objectMapper = new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\nJsonNode jsonObj=objectMapper.readTree(jsonString);\nTypeObject typeObject=objectMapper.convertValue(jsonObj, TypeObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489343,"creation_date":1674489343,"answer_id":75211915,"question_id":45110371,"body_markdown":"In my case it helped to create a constructor with a String argument and to annotate it with `@JsonCreator`:\r\n```java\r\n    @JsonCreator\r\n    public MyClass(String value) throws JsonProcessingException {\r\n        MyClass root = objectMapper.readValue(value, MyClass.class);\r\n        this.inst = root.getInst();\r\n    }\r\n\r\n```","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>In my case it helped to create a constructor with a String argument and to annotate it with <code>@JsonCreator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonCreator\n    public MyClass(String value) throws JsonProcessingException {\n        MyClass root = objectMapper.readValue(value, MyClass.class);\n        this.inst = root.getInst();\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5297121,"reputation":89,"user_id":4228000,"display_name":"Azhwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682583746,"creation_date":1682583746,"answer_id":76118263,"question_id":45110371,"body_markdown":"The leading cause behind the exception is trying to perform deserialization using double quotes  instead of bracelets {}.\r\n\r\nJackson interprets the double quotes as a string. So it expects the target object to have a string argument constructor or a factory method. Hence the error [no String-argument constructor/factory method][1].\r\n\r\n\r\n  [1]: https://devwithus.com/no-string-argument-constructor-factory-method-to-deserialize-from-string/","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>The leading cause behind the exception is trying to perform deserialization using double quotes  instead of bracelets {}.</p>\n<p>Jackson interprets the double quotes as a string. So it expects the target object to have a string argument constructor or a factory method. Hence the error <a href=\"https://devwithus.com/no-string-argument-constructor-factory-method-to-deserialize-from-string/\" rel=\"nofollow noreferrer\">no String-argument constructor/factory method</a>.</p>\n"},{"tags":[],"owner":{"account_id":23521486,"reputation":1,"user_id":17568550,"display_name":"Vaidehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701779776,"creation_date":1701779776,"answer_id":77606241,"question_id":45110371,"body_markdown":"Remove additional inverted commas and you object mapper is an escaped string so pls unescape it.\r\n\r\n    \r\n     LanguageCodeValues[] languageCodeList;\r\n        ObjectMapper om = new ObjectMapper();\r\n        try {\r\n            languageCodeValues = modifyStringToParse(languageCodeValues);\r\n            languageCodeList = om.readValue(languageCodeValues, LanguageCodeValues[].class);\r\n            return languageCodeList;\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;CustomDeserializer :: getLanguageCodeValues() :: JSON PROCESSING EXCEPTION&quot;, e);\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, MESSAGE.INTERNAL_SERVER_ERROR);\r\n        }\r\n\r\n   \r\n\r\n    public static String modifyStringToParse(String jsonString){\r\n        jsonString = StringEscapeUtils.unescapeJson(jsonString);\r\n        jsonString = jsonString.substring(1, jsonString.length()-1);\r\n        return jsonString;\r\n    }\r\n\r\n ","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>Remove additional inverted commas and you object mapper is an escaped string so pls unescape it.</p>\n<pre><code> LanguageCodeValues[] languageCodeList;\n    ObjectMapper om = new ObjectMapper();\n    try {\n        languageCodeValues = modifyStringToParse(languageCodeValues);\n        languageCodeList = om.readValue(languageCodeValues, LanguageCodeValues[].class);\n        return languageCodeList;\n    } catch (JsonProcessingException e) {\n        log.error(&quot;CustomDeserializer :: getLanguageCodeValues() :: JSON PROCESSING EXCEPTION&quot;, e);\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, MESSAGE.INTERNAL_SERVER_ERROR);\n    }\n\n\n\npublic static String modifyStringToParse(String jsonString){\n    jsonString = StringEscapeUtils.unescapeJson(jsonString);\n    jsonString = jsonString.substring(1, jsonString.length()-1);\n    return jsonString;\n}\n</code></pre>\n"}],"owner":{"account_id":2654765,"reputation":2027,"user_id":2295692,"display_name":"Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332281,"favorite_count":0,"down_vote_count":0,"up_vote_count":128,"accepted_answer_id":45110497,"answer_count":13,"score":128,"last_activity_date":1701779776,"creation_date":1500060588,"question_id":45110371,"body_markdown":"I&#39;m running into a json parsing issue when using the `ObjectMapper` class from the `com.fasterxml.jackson.databind` package, and the error that I&#39;m getting is:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.graybar.utilities.ups.beans.Address: no String-argument constructor/factory method to deserialize from String value (&#39;&#39;)\r\n\r\nThe web application where this problem is occurring is a Spring MVC application using an AngularJS front end, but I can duplicate the issue with a much smaller, all java program. Here are my beans:\r\n\r\nShipment.java\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Shipment {\r\n\t    @JsonProperty(&quot;Activity&quot;)\r\n    \tprivate ArrayList&lt;Activity&gt; activity;\r\n    \tpublic ArrayList&lt;Activity&gt; getActivity() {\r\n\t    \treturn activity;\r\n    \t}\r\n\t    public void setActivity(ArrayList&lt;Activity&gt; activity) {\r\n\t\t    this.activity = activity;\r\n    \t}\r\n    }\r\n\r\nActivity.java\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Activity {\r\n\t    @JsonProperty(&quot;ActivityLocation&quot;)\r\n\t    private ArrayList&lt;ActivityLocation&gt; activityLocation;\r\n\t    public ArrayList&lt;ActivityLocation&gt; getActivityLocation() {\r\n\t\t    return activityLocation;\r\n\t    }\r\n\t    public void setActivityLocation(ArrayList&lt;ActivityLocation&gt; activityLocation) {\r\n\t\t    this.activityLocation = activityLocation;\r\n\t    }\r\n    }\r\n\r\nActivityLocation.java\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ActivityLocation {\r\n\t    @JsonProperty(&quot;Address&quot;)\r\n\t    private Address address;\r\n\t    public Address getAddress() {\r\n\t\t    return address;\r\n\t    }\r\n\t    public void setAddress(Address address) {\r\n\t\t    this.address = address;\r\n\t    }\r\n    }\r\n\r\nAddress.java\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Address {\r\n\t    @JsonProperty(&quot;City&quot;)\r\n\t    private String city;\r\n\t    @JsonProperty(&quot;StateProvinceCode&quot;)\r\n\t    private String stateProvinceCode;\r\n\t    @JsonProperty(&quot;CountryCode&quot;)\r\n\t    private String countryCode;\r\n\t    public String getCity() {\r\n\t\t    return city;\r\n\t    }\r\n\t    public void setCity(String city) {\r\n\t\t    this.city = city;\r\n\t    }\r\n\t    public String getCountryCode() {\r\n\t\t    return countryCode;\r\n\t    }\r\n\t    public void setCountryCode(String countryCode) {\r\n\t\t    this.countryCode = countryCode;\r\n\t    }\r\n\t    public String getStateProvinceCode() {\r\n\t\t    return stateProvinceCode;\r\n\t    }\r\n\t    public void setStateProvinceCode(String stateProvinceCode) {\r\n\t\t    this.stateProvinceCode = stateProvinceCode;\r\n\t    }\r\n    }\r\n\r\nHere is the code where I can properly map the json:\r\n\r\n    public static void main(String[] args) {\r\n\t    String jsonMessage = &quot;&quot; +\r\n    \t    &quot;{&quot; + \r\n    \t    &quot;\t\\&quot;Activity\\&quot;: [{ &quot; +\r\n\t        &quot;\t\t\\&quot;ActivityLocation\\&quot;: { &quot; +\r\n    \t    &quot;\t\t\t\\&quot;Address\\&quot;: { &quot; +\r\n    \t    &quot;\t\t\t\t\\&quot;City\\&quot;: \\&quot;Hana\\&quot;, &quot; +\r\n    \t    &quot;\t\t\t\t\\&quot;StateProvinceCode\\&quot;: \\&quot;Hi\\&quot;, &quot; +\r\n    \t    &quot;\t\t\t\t\\&quot;CountryCode\\&quot;: \\&quot;US\\&quot; &quot; +\r\n    \t    &quot;\t\t\t} &quot; +\r\n\t        &quot;\t\t} &quot; +\r\n    \t    &quot;\t}, &quot; +\r\n    \t    &quot;\t{ &quot; +\r\n\t        &quot;\t\t\\&quot;ActivityLocation\\&quot;: { &quot; +\r\n    \t    &quot;\t\t\t\\&quot;Address\\&quot;: { &quot; +\r\n    \t    &quot;\t\t\t\t\\&quot;City\\&quot;: \\&quot;Honolulu\\&quot;, &quot; +\r\n    \t    &quot;\t\t\t\t\\&quot;StateProvinceCode\\&quot;: \\&quot;Hi\\&quot;, &quot; +\r\n\t        &quot;\t\t\t\t\\&quot;CountryCode\\&quot;: \\&quot;US\\&quot; &quot; +\r\n    \t    &quot;\t\t\t} &quot; +\r\n    \t    &quot;\t\t} &quot; +\r\n\t        &quot;\t}] &quot; +\r\n\t    &quot;} &quot;;\r\n\t\r\n    \ttry {\r\n\t    \tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n\r\n\t    \tShipment shipment = mapper.readValue(jsonMessage, Shipment.class);\r\n\t\t    System.out.println(&quot;shipment.toString = &quot; + shipment.toString());\r\n    \t} catch (Exception e) {\r\n\t    \te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nWhen adjusting the data in the `jsonMessage` var is when I run into the error that I mentioned above:\r\n\r\n\t\t&quot;{&quot; + \r\n\t\t&quot;\t\\&quot;Activity\\&quot;: [{ &quot; +\r\n\t\t&quot;\t\t\\&quot;ActivityLocation\\&quot;: { &quot; +\r\n\t\t&quot;\t\t\t\\&quot;Address\\&quot;: { &quot; +\r\n\t\t&quot;\t\t\t\t\\&quot;City\\&quot;: \\&quot;Hana\\&quot;, &quot; +\r\n\t\t&quot;\t\t\t\t\\&quot;StateProvinceCode\\&quot;: \\&quot;Hi\\&quot;, &quot; +\r\n\t\t&quot;\t\t\t\t\\&quot;CountryCode\\&quot;: \\&quot;US\\&quot; &quot; +\r\n\t\t&quot;\t\t\t} &quot; +\r\n\t\t&quot;\t\t} &quot; +\r\n\t\t&quot;\t}, &quot; +\r\n\t\t&quot;\t{ &quot; +\r\n\t\t&quot;\t\t\\&quot;ActivityLocation\\&quot;: { &quot; +\r\n\t\t&quot;\t\t\t\\&quot;Address\\&quot;: \\&quot;\\&quot; &quot; +\r\n\t\t&quot;\t\t\t} &quot; +\r\n\t\t&quot;\t\t} &quot; +\r\n\t\t&quot;\t}] &quot; +\r\n\t\t&quot;} &quot;;\r\n\r\nSo, the problem happens when changing the json from this:\r\n\r\n    {\r\n\t    &quot;ActivityLocation&quot;: { \r\n\t\t    &quot;Address&quot;: {\r\n\t\t\t    &quot;City&quot;: &quot;Honolulu&quot;, \r\n\t\t\t    &quot;StateProvinceCode&quot;: &quot;Hi&quot;, \r\n\t\t\t    &quot;CountryCode&quot;: &quot;US&quot;\r\n\t\t    }\r\n\t    }\r\n    }]\r\n\r\nto this:\r\n\r\n    {\r\n    &quot;ActivityLocation&quot;: {\r\n\t     &quot;Address&quot;: &quot;&quot;\r\n\t    }\r\n    }\r\n\r\nInstead of sending values for my `Address` bean, I&#39;m getting just an empty string. Unfortunately, I&#39;m receiving my data from a third party and have no control over the data I receive. \r\n\r\nIs there an annotation that needs to be added to be able to handle this?","title":"No String-argument constructor/factory method to deserialize from String value (&#39;&#39;)","body":"<p>I'm running into a json parsing issue when using the <code>ObjectMapper</code> class from the <code>com.fasterxml.jackson.databind</code> package, and the error that I'm getting is:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.graybar.utilities.ups.beans.Address: no String-argument constructor/factory method to deserialize from String value ('')\n</code></pre>\n\n<p>The web application where this problem is occurring is a Spring MVC application using an AngularJS front end, but I can duplicate the issue with a much smaller, all java program. Here are my beans:</p>\n\n<p>Shipment.java</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Shipment {\n    @JsonProperty(\"Activity\")\n    private ArrayList&lt;Activity&gt; activity;\n    public ArrayList&lt;Activity&gt; getActivity() {\n        return activity;\n    }\n    public void setActivity(ArrayList&lt;Activity&gt; activity) {\n        this.activity = activity;\n    }\n}\n</code></pre>\n\n<p>Activity.java</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Activity {\n    @JsonProperty(\"ActivityLocation\")\n    private ArrayList&lt;ActivityLocation&gt; activityLocation;\n    public ArrayList&lt;ActivityLocation&gt; getActivityLocation() {\n        return activityLocation;\n    }\n    public void setActivityLocation(ArrayList&lt;ActivityLocation&gt; activityLocation) {\n        this.activityLocation = activityLocation;\n    }\n}\n</code></pre>\n\n<p>ActivityLocation.java</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ActivityLocation {\n    @JsonProperty(\"Address\")\n    private Address address;\n    public Address getAddress() {\n        return address;\n    }\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n}\n</code></pre>\n\n<p>Address.java</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Address {\n    @JsonProperty(\"City\")\n    private String city;\n    @JsonProperty(\"StateProvinceCode\")\n    private String stateProvinceCode;\n    @JsonProperty(\"CountryCode\")\n    private String countryCode;\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public String getCountryCode() {\n        return countryCode;\n    }\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n    public String getStateProvinceCode() {\n        return stateProvinceCode;\n    }\n    public void setStateProvinceCode(String stateProvinceCode) {\n        this.stateProvinceCode = stateProvinceCode;\n    }\n}\n</code></pre>\n\n<p>Here is the code where I can properly map the json:</p>\n\n<pre><code>public static void main(String[] args) {\n    String jsonMessage = \"\" +\n        \"{\" + \n        \"   \\\"Activity\\\": [{ \" +\n        \"       \\\"ActivityLocation\\\": { \" +\n        \"           \\\"Address\\\": { \" +\n        \"               \\\"City\\\": \\\"Hana\\\", \" +\n        \"               \\\"StateProvinceCode\\\": \\\"Hi\\\", \" +\n        \"               \\\"CountryCode\\\": \\\"US\\\" \" +\n        \"           } \" +\n        \"       } \" +\n        \"   }, \" +\n        \"   { \" +\n        \"       \\\"ActivityLocation\\\": { \" +\n        \"           \\\"Address\\\": { \" +\n        \"               \\\"City\\\": \\\"Honolulu\\\", \" +\n        \"               \\\"StateProvinceCode\\\": \\\"Hi\\\", \" +\n        \"               \\\"CountryCode\\\": \\\"US\\\" \" +\n        \"           } \" +\n        \"       } \" +\n        \"   }] \" +\n    \"} \";\n\n    try {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n\n        Shipment shipment = mapper.readValue(jsonMessage, Shipment.class);\n        System.out.println(\"shipment.toString = \" + shipment.toString());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>When adjusting the data in the <code>jsonMessage</code> var is when I run into the error that I mentioned above:</p>\n\n<pre><code>    \"{\" + \n    \"   \\\"Activity\\\": [{ \" +\n    \"       \\\"ActivityLocation\\\": { \" +\n    \"           \\\"Address\\\": { \" +\n    \"               \\\"City\\\": \\\"Hana\\\", \" +\n    \"               \\\"StateProvinceCode\\\": \\\"Hi\\\", \" +\n    \"               \\\"CountryCode\\\": \\\"US\\\" \" +\n    \"           } \" +\n    \"       } \" +\n    \"   }, \" +\n    \"   { \" +\n    \"       \\\"ActivityLocation\\\": { \" +\n    \"           \\\"Address\\\": \\\"\\\" \" +\n    \"           } \" +\n    \"       } \" +\n    \"   }] \" +\n    \"} \";\n</code></pre>\n\n<p>So, the problem happens when changing the json from this:</p>\n\n<pre><code>{\n    \"ActivityLocation\": { \n        \"Address\": {\n            \"City\": \"Honolulu\", \n            \"StateProvinceCode\": \"Hi\", \n            \"CountryCode\": \"US\"\n        }\n    }\n}]\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>{\n\"ActivityLocation\": {\n     \"Address\": \"\"\n    }\n}\n</code></pre>\n\n<p>Instead of sending values for my <code>Address</code> bean, I'm getting just an empty string. Unfortunately, I'm receiving my data from a third party and have no control over the data I receive. </p>\n\n<p>Is there an annotation that needs to be added to be able to handle this?</p>\n"},{"tags":["java","jaxb"],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1244634564,"creation_date":1244634564,"answer_id":975124,"question_id":975099,"body_markdown":"I don&#39;t know why you think there&#39;s no constructor.  See &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html#JAXBElement(javax.xml.namespace.QName,%20java.lang.Class,%20T)&quot;&gt;the API&lt;/a&gt;.","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<p>I don't know why you think there's no constructor.  See <a href=\"http://java.sun.com/javase/6/docs/api/javax/xml/bind/JAXBElement.html#JAXBElement(javax.xml.namespace.QName,%20java.lang.Class,%20T)\" rel=\"nofollow noreferrer\">the API</a>.</p>\n"},{"comments":[{"owner":{"account_id":73480,"reputation":7699,"user_id":211599,"accept_rate":60,"display_name":"Harish"},"score":8,"creation_date":1322716206,"post_id":2649075,"comment_id":10279612,"body_markdown":"Itse better to use ObjectFactory class as mentioned below rather than using JAXBElement constructor","body":"Itse better to use ObjectFactory class as mentioned below rather than using JAXBElement constructor"}],"tags":[],"owner":{"account_id":605504,"reputation":89,"user_id":318007,"display_name":"JC."},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1317223187,"creation_date":1271366554,"answer_id":2649075,"question_id":975099,"body_markdown":"Here is how I do it. You will need to get the namespace URL and the element name from your generated code.\r\n  \r\n    new JAXBElement(new QName(&quot;http://www.novell.com/role/service&quot;,&quot;userDN&quot;),\r\n                    new String(&quot;&quot;).getClass(),testDN);\r\n","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<p>Here is how I do it. You will need to get the namespace URL and the element name from your generated code.</p>\n\n<pre><code>new JAXBElement(new QName(\"http://www.novell.com/role/service\",\"userDN\"),\n                new String(\"\").getClass(),testDN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":674812,"reputation":121,"user_id":514060,"display_name":"vik"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1291931055,"creation_date":1290206811,"answer_id":4230057,"question_id":975099,"body_markdown":"    ObjectFactory fact = new ObjectFactory();   \r\n    JAXBElement&lt;String&gt; str = fact.createCompositeTypeStringValue(&quot;vik&quot;);    \r\n    comp.setStringValue(str);\r\n    CompositeType retcomp = service.getDataUsingDataContract(comp);\r\n    System.out.println(retcomp.getStringValue().getValue());","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<pre><code>ObjectFactory fact = new ObjectFactory();   \nJAXBElement&lt;String&gt; str = fact.createCompositeTypeStringValue(\"vik\");    \ncomp.setStringValue(str);\nCompositeType retcomp = service.getDataUsingDataContract(comp);\nSystem.out.println(retcomp.getStringValue().getValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":772343,"reputation":2224,"user_id":816667,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":1,"up_vote_count":221,"is_accepted":true,"score":220,"last_activity_date":1309163758,"creation_date":1309139130,"answer_id":6487914,"question_id":975099,"body_markdown":"When you imported the WSDL, you should have an `ObjectFactory` class which should have bunch of methods for creating various input parameters. \r\n\r\n    ObjectFactory factory = new ObjectFactory();\r\n    JAXBElement&lt;String&gt; createMessageDescription = factory.createMessageDescription(&quot;description&quot;);\r\n    message.setDescription(createMessageDescription);\r\n\r\n","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<p>When you imported the WSDL, you should have an <code>ObjectFactory</code> class which should have bunch of methods for creating various input parameters. </p>\n\n<pre><code>ObjectFactory factory = new ObjectFactory();\nJAXBElement&lt;String&gt; createMessageDescription = factory.createMessageDescription(\"description\");\nmessage.setDescription(createMessageDescription);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130636,"reputation":4681,"user_id":1116802,"accept_rate":85,"display_name":"alditis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536699619,"creation_date":1536699619,"answer_id":52284144,"question_id":975099,"body_markdown":"\r\nOther alternative:\r\n\r\n    JAXBElement&lt;String&gt; element = new JAXBElement&lt;&gt;(new QName(&quot;Your localPart&quot;),\r\n                                                    String.class, &quot;Your message&quot;);\r\n\r\nThen:\r\n\r\n    System.out.println(element.getValue()); // Result: Your message\r\n\r\n    ","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<p>Other alternative:</p>\n\n<pre><code>JAXBElement&lt;String&gt; element = new JAXBElement&lt;&gt;(new QName(\"Your localPart\"),\n                                                String.class, \"Your message\");\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>System.out.println(element.getValue()); // Result: Your message\n</code></pre>\n"}],"owner":{"account_id":38051,"reputation":2981,"user_id":109002,"accept_rate":82,"display_name":"miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129051,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":6487914,"answer_count":5,"score":140,"last_activity_date":1701779677,"creation_date":1244634203,"question_id":975099,"body_markdown":"I need to create one of these as the interface requires it. Can someone please let me know how to create one, as there doesn&#39;t seem to be a constructor defined?\r\n\r\n","title":"How do I instantiate a JAXBElement&lt;String&gt; object?","body":"<p>I need to create one of these as the interface requires it. Can someone please let me know how to create one, as there doesn't seem to be a constructor defined?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701765527,"post_id":77604219,"comment_id":136813121,"body_markdown":"This sounds more like a problem how you run the code (with which Java VM and under which operating system) than a problem with the IDE you used to write and compile the code. Have you verified it with the compiled code you created before you installed the latest version of Eclipse?","body":"This sounds more like a problem how you run the code (with which Java VM and under which operating system) than a problem with the IDE you used to write and compile the code. Have you verified it with the compiled code you created before you installed the latest version of Eclipse?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1701782339,"post_id":77604219,"comment_id":136815889,"body_markdown":"The code may have worked before but the code does not follow Java/Swing coding conventions. 1) All Swing components should be created on the Event Dispatch Thread (EDT). This is done by using SwingUtilities.invokeLater(...) 2) You should NOT be using static variables and methods. 3) Don&#39;t know why the DisplayImage class extends JComponent. As far as I can tell that class just scales an Image. 4) Swing components are focusable by default.","body":"The code may have worked before but the code does not follow Java/Swing coding conventions. 1) All Swing components should be created on the Event Dispatch Thread (EDT). This is done by using SwingUtilities.invokeLater(...) 2) You should NOT be using static variables and methods. 3) Don&#39;t know why the DisplayImage class extends JComponent. As far as I can tell that class just scales an Image. 4) Swing components are focusable by default."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701793388,"post_id":77604219,"comment_id":136818194,"body_markdown":"This sounds more like youre (also) updated the Java version and use a high resolution monitor with screen scaling (in one configuration).","body":"This sounds more like youre (also) updated the Java version and use a high resolution monitor with screen scaling (in one configuration)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701796449,"post_id":77604219,"comment_id":136818742,"body_markdown":"Maybe Im missing something;  it appears DisplayImage extends JComponent, but never displays its image.  I see no paintComponent method.","body":"Maybe Im missing something;  it appears DisplayImage extends JComponent, but never displays its image.  I see no paintComponent method."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1701824639,"post_id":77604219,"comment_id":136822627,"body_markdown":"@howlger: well what is confusing me is that it used to run with earlier versions of eclipse under Windows 10. However when I updated to Windows 11 I also had to intall the lastest version of eclipse. And since it is still an on-going project, I hadn&#39;t created a compiled code so sadly I cannot verify it.","body":"@howlger: well what is confusing me is that it used to run with earlier versions of eclipse under Windows 10. However when I updated to Windows 11 I also had to intall the lastest version of eclipse. And since it is still an on-going project, I hadn&#39;t created a compiled code so sadly I cannot verify it."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1701825225,"post_id":77604219,"comment_id":136822658,"body_markdown":"@camickr: 1) I might need more information on that since I never was trained in these things. Anything I know is taught by myself or web tutorials so I honestly have no idea what these EDTs are. 2) I am in need of statistic methods because in the whole project some of these methods or variables are used in a static context. 3) Because of the setImage() method which is usind parts of JComponent.","body":"@camickr: 1) I might need more information on that since I never was trained in these things. Anything I know is taught by myself or web tutorials so I honestly have no idea what these EDTs are. 2) I am in need of statistic methods because in the whole project some of these methods or variables are used in a static context. 3) Because of the setImage() method which is usind parts of JComponent."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1701826701,"post_id":77604219,"comment_id":136822780,"body_markdown":"@VGR: image is painted in the setImage() method and since it is part of comp which itself is part of the frame, the image is displayed automatically.","body":"@VGR: image is painted in the setImage() method and since it is part of comp which itself is part of the frame, the image is displayed automatically."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701831724,"post_id":77604219,"comment_id":136823128,"body_markdown":"1) Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for information about the EDT. Note you can also search for &quot;Event Dispatch Thread&quot;. Thats what Google is for. 2) The fact that your code uses static variables and mehtods is wrong. You are using them incorrectly. You have a poor design which needs to be fixed. Read the tutorial from the above link for working examples of Swing programs. *image is displayed automatically* - no it isn&#39;t. A JComponent paints nothing automatically.","body":"1) Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for information about the EDT. Note you can also search for &quot;Event Dispatch Thread&quot;. Thats what Google is for. 2) The fact that your code uses static variables and mehtods is wrong. You are using them incorrectly. You have a poor design which needs to be fixed. Read the tutorial from the above link for working examples of Swing programs. <i>image is displayed automatically</i> - no it isn&#39;t. A JComponent paints nothing automatically."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701831753,"post_id":77604219,"comment_id":136823129,"body_markdown":"To display an Image just use a JLabel with an ImageIcon. Again read the tutorial there is a section on &quot;How to Use Icons&quot;. Can&#39;t really offer any further advice until the code is restructured.","body":"To display an Image just use a JLabel with an ImageIcon. Again read the tutorial there is a section on &quot;How to Use Icons&quot;. Can&#39;t really offer any further advice until the code is restructured."}],"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701779360,"creation_date":1701757934,"question_id":77604219,"body_markdown":"I am programming a JFrame in Java with eclipse that is supposed to have the same size as the screen display where it is displayed on.\r\n\r\nThe frame itself is divided into two parts - one on the left (4/5 of screen size) that is supposed to display an image which is scaled down to match this part of the frame, and one on the right (1/5 of screen size) that is supposed to display a text additionally to the picture.\r\nMy code was running and working flawless for years already. Just until recently.\r\n\r\nAfter installing the latest version of Eclipse, all of a sudden it is utterly broken and displays different behaviours on different operating systems. While it is still working as intended on my Windows 7 computer on my Windows 11 computer the JFrame all of a sudden is not having the correct size anymore even though I didn&#39;t change anything in the code. Same goes for Linux.\r\n\r\nEven worse - now all of a sudden the pictures are not scaled down anymore. Instead of seeing the full picture with a lower resolution in the frame, I only see parts of the pictures displayed in the frame in the original resolution of the picture.\r\n\r\nI have been breaking my head over this unexplained behaviour now for days to come and am seriously at the end with my knowledge. What is wrong all of a sudden? Can you please help me to fix this so it is working as intended again?\r\n\r\nHere is the code:\r\n```\r\npublic class ScreenManager {\r\n\r\n\tprotected static Dimension screenSize = new Dimension();\r\n\tprotected static DisplayImage comp = new DisplayImage();\t\r\n\tprivate static File error = new File(&quot;error.jpg&quot;);\r\n\r\n    public static void buildFrame() {\r\n\t\tscreenSize.setSize(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getWidth(), GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getHeight());\r\n\t\tJFrame frame = TextDisplay.displayText(comp, screenSize);\r\n        loadDisplay(&quot;&quot;);       //Enter filepath here\r\n    }\r\n\r\n\tprotected static void loadDisplay(File imageFile) throws IOException {\r\n\t\tImage image = null;\r\n\t\t\r\n\t\tif (imageFile.exists()) {\r\n\t\t\tif(ImageIO.read(imageFile) != null) {\r\n\t\t\t\timage = DisplayImage.displayImage(imageFile, screenSize);\r\n\t\t\t}  else {\r\n\t        \timage = DisplayImage.displayImage(error, screenSize);\r\n\t        }\r\n\t\t} else {\r\n        \timage = DisplayImage.displayImage(error, screenSize);\r\n\t\t}\r\n\t\tcomp.setImage(image);\r\n\t}\r\n}\r\n\r\n\r\npublic class DisplayImage extends JComponent {\r\n\tprivate static final long serialVersionUID = 2613775805584208452L;\r\n\r\n    private static Image image;\r\n    \r\n\tpublic static Image displayImage(File f, Dimension screenSize) throws IOException {\r\n    \t\r\n        BufferedImage img = ImageIO.read(f);\r\n        Image dimg;\r\n        double width = screenSize.getWidth()*0.75;\r\n        double z1 = (img.getWidth()/width);\r\n        double z2 = (img.getHeight()/screenSize.getHeight());\r\n        \r\n        if (img.getHeight()/z1 &lt;= width &amp;&amp; img.getHeight()/z1 &lt; screenSize.getHeight()) {\r\n        \tdimg = img.getScaledInstance((int)(img.getWidth()/z1), (int)(img.getHeight()/z1),Image.SCALE_SMOOTH);\r\n        } else {\r\n\t       \tdimg = img.getScaledInstance((int)(img.getWidth()/z2), (int)(img.getHeight()/z2),Image.SCALE_SMOOTH);\r\n        }\r\n        return dimg;\r\n    }\r\n\r\n    public void setImage(Image image1) {\r\n       image = image1;\r\n//       setPreferredSize(new Dimension(image.getWidth(), image.getHeight()));\r\n       repaint();\r\n       invalidate();\r\n    }\t\r\n}\r\n\r\npublic class TextDisplay {\r\n\t\r\n\tpublic static JTextArea textField = new JTextArea();\r\n\tprivate static JTextArea operatorsField = new JTextArea();\r\n\tprivate static JSplitPane panelText = new JSplitPane();\r\n\tprivate static JFrame frame = new JFrame();\r\n\tprivate static Font backupFont = new Font(&quot;Tahoma&quot;, Font.PLAIN, 25);\r\n\r\n\tpublic static JFrame displayText(DisplayImage comp, Dimension screenSize) {\r\n\t\t\r\n\t\ttextField.setLayout((LayoutManager) new BoxLayout(textField, BoxLayout.Y_AXIS));\r\n    \ttextField.setPreferredSize(new Dimension(screenSize.width/5,screenSize.height));\r\n    \ttextField.setFont(backupFont);\r\n    \ttextField.setLineWrap(true);\r\n    \ttextField.setWrapStyleWord(true);\r\n    \ttextField.setEditable(false);\r\n    \ttextField.setFocusable(true);\r\n    \t\r\n    \toperatorsField.setLayout((LayoutManager) new BoxLayout(operatorsField, BoxLayout.Y_AXIS));\r\n    \toperatorsField.setMaximumSize(new Dimension(screenSize.width/5, screenSize.height*17/24));\r\n    \toperatorsField.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\r\n    \toperatorsField.setText(&quot;&quot;);\r\n    \toperatorsField.setLineWrap(true);\r\n    \toperatorsField.setWrapStyleWord(true);\r\n    \toperatorsField.setEditable(false);\r\n    \toperatorsField.setFocusable(true);\t\r\n    \t\r\n    \tpanelText.setLayout(new BoxLayout(panelText, BoxLayout.Y_AXIS));\r\n    \tpanelText.setOrientation(JSplitPane.VERTICAL_SPLIT);\r\n    \tpanelText.setDividerLocation(screenSize.height/3);\r\n    \tpanelText.setDividerSize(5);\r\n    \tpanelText.setOneTouchExpandable(false);\r\n    \tpanelText.setFocusable(true);\r\n    \tpanelText.setTopComponent(operatorsField);\r\n    \tpanelText.setBottomComponent(textField);\r\n    \tpanelText.setEnabled(false);\r\n    \t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.setPreferredSize(new Dimension(screenSize.width, screenSize.height));\r\n    \tframe.setVisible(true);\r\n    \tframe.add(comp, BorderLayout.CENTER);\r\n    \tframe.add(panelText,BorderLayout.EAST);\r\n    \tframe.pack();\r\n    \t\r\n    \treturn frame;\r\n\t}\r\n}\r\n```","title":"Different JFrame behaviour on different operating systems","body":"<p>I am programming a JFrame in Java with eclipse that is supposed to have the same size as the screen display where it is displayed on.</p>\n<p>The frame itself is divided into two parts - one on the left (4/5 of screen size) that is supposed to display an image which is scaled down to match this part of the frame, and one on the right (1/5 of screen size) that is supposed to display a text additionally to the picture.\nMy code was running and working flawless for years already. Just until recently.</p>\n<p>After installing the latest version of Eclipse, all of a sudden it is utterly broken and displays different behaviours on different operating systems. While it is still working as intended on my Windows 7 computer on my Windows 11 computer the JFrame all of a sudden is not having the correct size anymore even though I didn't change anything in the code. Same goes for Linux.</p>\n<p>Even worse - now all of a sudden the pictures are not scaled down anymore. Instead of seeing the full picture with a lower resolution in the frame, I only see parts of the pictures displayed in the frame in the original resolution of the picture.</p>\n<p>I have been breaking my head over this unexplained behaviour now for days to come and am seriously at the end with my knowledge. What is wrong all of a sudden? Can you please help me to fix this so it is working as intended again?</p>\n<p>Here is the code:</p>\n<pre><code>public class ScreenManager {\n\n    protected static Dimension screenSize = new Dimension();\n    protected static DisplayImage comp = new DisplayImage();    \n    private static File error = new File(&quot;error.jpg&quot;);\n\n    public static void buildFrame() {\n        screenSize.setSize(GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getWidth(), GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0].getDisplayMode().getHeight());\n        JFrame frame = TextDisplay.displayText(comp, screenSize);\n        loadDisplay(&quot;&quot;);       //Enter filepath here\n    }\n\n    protected static void loadDisplay(File imageFile) throws IOException {\n        Image image = null;\n        \n        if (imageFile.exists()) {\n            if(ImageIO.read(imageFile) != null) {\n                image = DisplayImage.displayImage(imageFile, screenSize);\n            }  else {\n                image = DisplayImage.displayImage(error, screenSize);\n            }\n        } else {\n            image = DisplayImage.displayImage(error, screenSize);\n        }\n        comp.setImage(image);\n    }\n}\n\n\npublic class DisplayImage extends JComponent {\n    private static final long serialVersionUID = 2613775805584208452L;\n\n    private static Image image;\n    \n    public static Image displayImage(File f, Dimension screenSize) throws IOException {\n        \n        BufferedImage img = ImageIO.read(f);\n        Image dimg;\n        double width = screenSize.getWidth()*0.75;\n        double z1 = (img.getWidth()/width);\n        double z2 = (img.getHeight()/screenSize.getHeight());\n        \n        if (img.getHeight()/z1 &lt;= width &amp;&amp; img.getHeight()/z1 &lt; screenSize.getHeight()) {\n            dimg = img.getScaledInstance((int)(img.getWidth()/z1), (int)(img.getHeight()/z1),Image.SCALE_SMOOTH);\n        } else {\n            dimg = img.getScaledInstance((int)(img.getWidth()/z2), (int)(img.getHeight()/z2),Image.SCALE_SMOOTH);\n        }\n        return dimg;\n    }\n\n    public void setImage(Image image1) {\n       image = image1;\n//       setPreferredSize(new Dimension(image.getWidth(), image.getHeight()));\n       repaint();\n       invalidate();\n    }   \n}\n\npublic class TextDisplay {\n    \n    public static JTextArea textField = new JTextArea();\n    private static JTextArea operatorsField = new JTextArea();\n    private static JSplitPane panelText = new JSplitPane();\n    private static JFrame frame = new JFrame();\n    private static Font backupFont = new Font(&quot;Tahoma&quot;, Font.PLAIN, 25);\n\n    public static JFrame displayText(DisplayImage comp, Dimension screenSize) {\n        \n        textField.setLayout((LayoutManager) new BoxLayout(textField, BoxLayout.Y_AXIS));\n        textField.setPreferredSize(new Dimension(screenSize.width/5,screenSize.height));\n        textField.setFont(backupFont);\n        textField.setLineWrap(true);\n        textField.setWrapStyleWord(true);\n        textField.setEditable(false);\n        textField.setFocusable(true);\n        \n        operatorsField.setLayout((LayoutManager) new BoxLayout(operatorsField, BoxLayout.Y_AXIS));\n        operatorsField.setMaximumSize(new Dimension(screenSize.width/5, screenSize.height*17/24));\n        operatorsField.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 15));\n        operatorsField.setText(&quot;&quot;);\n        operatorsField.setLineWrap(true);\n        operatorsField.setWrapStyleWord(true);\n        operatorsField.setEditable(false);\n        operatorsField.setFocusable(true);  \n        \n        panelText.setLayout(new BoxLayout(panelText, BoxLayout.Y_AXIS));\n        panelText.setOrientation(JSplitPane.VERTICAL_SPLIT);\n        panelText.setDividerLocation(screenSize.height/3);\n        panelText.setDividerSize(5);\n        panelText.setOneTouchExpandable(false);\n        panelText.setFocusable(true);\n        panelText.setTopComponent(operatorsField);\n        panelText.setBottomComponent(textField);\n        panelText.setEnabled(false);\n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setPreferredSize(new Dimension(screenSize.width, screenSize.height));\n        frame.setVisible(true);\n        frame.add(comp, BorderLayout.CENTER);\n        frame.add(panelText,BorderLayout.EAST);\n        frame.pack();\n        \n        return frame;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch","rest-client"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701794728,"post_id":77605794,"comment_id":136818450,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":21166772,"reputation":1,"user_id":15563930,"display_name":"elaydi elagal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701779244,"creation_date":1701775251,"question_id":77605794,"body_markdown":"In our production environment, we are encountering an issue while fetching records based on an index. Despite verifying the JVM, we&#39;re experiencing an exception &#39;Request cannot be executed i/o reactor status stopped&#39; during high concurrency. We&#39;ve noticed occasional connection closures leading to various errors, even though there are no prior logged errors. Notably, we never manually call &#39;client.close()&#39;.\r\n\r\nWe use a single client, and every few weeks, it sporadically disconnects, causing our application to continuously fail with the mentioned exception until we recreate the client. This problem persists across multiple customers/installations and seems unexpected, especially with the 7.10 version of the client\r\n\r\n`java.lang.IllegalStateException: Request cannot be executed; I/O reactor status: STOPPED`","title":"I/O dispatch worker terminated abnormally","body":"<p>In our production environment, we are encountering an issue while fetching records based on an index. Despite verifying the JVM, we're experiencing an exception 'Request cannot be executed i/o reactor status stopped' during high concurrency. We've noticed occasional connection closures leading to various errors, even though there are no prior logged errors. Notably, we never manually call 'client.close()'.</p>\n<p>We use a single client, and every few weeks, it sporadically disconnects, causing our application to continuously fail with the mentioned exception until we recreate the client. This problem persists across multiple customers/installations and seems unexpected, especially with the 7.10 version of the client</p>\n<p><code>java.lang.IllegalStateException: Request cannot be executed; I/O reactor status: STOPPED</code></p>\n"},{"tags":["java","oop","coupling","class-instance-variables"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1701776700,"post_id":77605894,"comment_id":136814918,"body_markdown":"Since your code is working, check [Code Review](https://codereview.stackexchange.com/), it seems a better fit for your question.","body":"Since your code is working, check <a href=\"https://codereview.stackexchange.com/\">Code Review</a>, it seems a better fit for your question."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701785106,"post_id":77605894,"comment_id":136816501,"body_markdown":"AFAIK in good practice logic is separated into sets of actions for purpose, i would think the result passed back to a &quot;handler&quot; class as mediator between validation , continuation , cancellation classes.","body":"AFAIK in good practice logic is separated into sets of actions for purpose, i would think the result passed back to a &quot;handler&quot; class as mediator between validation , continuation , cancellation classes."}],"owner":{"account_id":29273012,"reputation":1,"user_id":22427364,"display_name":"Mikael Stray Fr&#248;yshov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701807351,"answer_count":0,"score":0,"last_activity_date":1701779086,"creation_date":1701776421,"question_id":77605894,"body_markdown":"I am developing a simplified train dispatch system as a final assessment for my CS major, first semester. I have a user interface class, with the TrainDispatch instance as a UI class variable.\r\n\r\nFurthermore, I have one UserInputHandler class and a InputValidator class. I need some methods from the TrainDispatch system in the InputValidator class. So, my question is:\r\n\r\nShould I use the TrainDispatch instance in the UI class as a parameter in the UI methods that call methods in the UserInputHandler, where these methods again call some methods in the InputValidator class, or should I create a new TrainDispatch instance directly in the InputValidator class?\r\n\r\nA method in UI:\r\n\r\n  ```\r\n  private int validateAndGetTrainNumberToFindDeparture() {\r\n    return userInputHandler.validateTrainNumberToFindDeparture(trainDispatch);\r\n  }\r\n```\r\n\r\n\r\nThe corresponding method in UserInputValidator:\r\n\r\n  ```\r\n  public int validateTrainNumberToFindDeparture(TrainDispatch trainDispatch) {\r\n    System.out.print(&quot;\\nTrain number, max 4 digits. Press 0 to exit: &quot;);\r\n    // asks for right format until user input is valid\r\n    while (true) {\r\n      String trainNumber = scanner.nextLine();\r\n      try {\r\n        // Check if the user wants to exit\r\n        if (trainNumber.equals(&quot;0&quot;)) {\r\n          return 0;\r\n        }\r\n        // if input is valid (validation method does not throw exception), return new time\r\n        return inputValidator.validateTrainNumberToFind(trainNumber, trainDispatch);\r\n      } catch (NumberFormatException e) {\r\n        System.out.print(WRONG_FORMAT);\r\n      } catch (IllegalArgumentException e) {\r\n        System.out.print(e.getMessage() + PLEASE_TRY_AGAIN + &quot; (0 to exit): &quot;);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nAnd again, the corresponding method in InputValidator:\r\n\r\n  ```\r\n  public int validateTrainNumberToFind(String trainNumber, TrainDispatch trainDispatch) {\r\n    if (trainNumber.isEmpty()) {\r\n      throw new IllegalArgumentException(INPUT_CANNOT_BE_EMPTY);\r\n    }\r\n    int trainNumberInt = Integer.parseInt(trainNumber);\r\n    if (trainNumberInt &lt;= 0 || trainNumberInt &gt; 9999) {\r\n      throw new IllegalArgumentException(&quot;Train number has to be positive and max 4 digits. &quot;);\r\n    }\r\n    if (!trainDispatch.findDuplicateTrainNumber(trainNumberInt)) {\r\n      throw new IllegalArgumentException(&quot;Train number does not exist. &quot;);\r\n    }\r\n    return trainNumberInt;\r\n  }\r\n```\r\nIs this better than creating a new TrainDispatch instance in the InputValidators, for example in terms of low coupling?\r\n\r\n\r\nThe system works fine, I just wonder what the better approach is.","title":"Class instance parameter through classes or class variable?","body":"<p>I am developing a simplified train dispatch system as a final assessment for my CS major, first semester. I have a user interface class, with the TrainDispatch instance as a UI class variable.</p>\n<p>Furthermore, I have one UserInputHandler class and a InputValidator class. I need some methods from the TrainDispatch system in the InputValidator class. So, my question is:</p>\n<p>Should I use the TrainDispatch instance in the UI class as a parameter in the UI methods that call methods in the UserInputHandler, where these methods again call some methods in the InputValidator class, or should I create a new TrainDispatch instance directly in the InputValidator class?</p>\n<p>A method in UI:</p>\n<pre><code>private int validateAndGetTrainNumberToFindDeparture() {\n  return userInputHandler.validateTrainNumberToFindDeparture(trainDispatch);\n}\n</code></pre>\n<p>The corresponding method in UserInputValidator:</p>\n<pre><code>public int validateTrainNumberToFindDeparture(TrainDispatch trainDispatch) {\n  System.out.print(&quot;\\nTrain number, max 4 digits. Press 0 to exit: &quot;);\n  // asks for right format until user input is valid\n  while (true) {\n    String trainNumber = scanner.nextLine();\n    try {\n      // Check if the user wants to exit\n      if (trainNumber.equals(&quot;0&quot;)) {\n        return 0;\n      }\n      // if input is valid (validation method does not throw exception), return new time\n      return inputValidator.validateTrainNumberToFind(trainNumber, trainDispatch);\n    } catch (NumberFormatException e) {\n      System.out.print(WRONG_FORMAT);\n    } catch (IllegalArgumentException e) {\n      System.out.print(e.getMessage() + PLEASE_TRY_AGAIN + &quot; (0 to exit): &quot;);\n    }\n  }\n}\n</code></pre>\n<p>And again, the corresponding method in InputValidator:</p>\n<pre><code>public int validateTrainNumberToFind(String trainNumber, TrainDispatch trainDispatch) {\n  if (trainNumber.isEmpty()) {\n    throw new IllegalArgumentException(INPUT_CANNOT_BE_EMPTY);\n  }\n  int trainNumberInt = Integer.parseInt(trainNumber);\n  if (trainNumberInt &lt;= 0 || trainNumberInt &gt; 9999) {\n    throw new IllegalArgumentException(&quot;Train number has to be positive and max 4 digits. &quot;);\n  }\n  if (!trainDispatch.findDuplicateTrainNumber(trainNumberInt)) {\n    throw new IllegalArgumentException(&quot;Train number does not exist. &quot;);\n  }\n  return trainNumberInt;\n}\n</code></pre>\n<p>Is this better than creating a new TrainDispatch instance in the InputValidators, for example in terms of low coupling?</p>\n<p>The system works fine, I just wonder what the better approach is.</p>\n"},{"tags":["java","android","gradle","android-room","lifecycle"],"comments":[{"owner":{"account_id":5758152,"reputation":508,"user_id":4545369,"accept_rate":67,"display_name":"StarterPack"},"score":0,"creation_date":1701772005,"post_id":77605280,"comment_id":136814232,"body_markdown":"You can do ViewmodelProvider(this) instead or use viewModels(). Check out this answer: https://stackoverflow.com/a/54313573/4545369","body":"You can do ViewmodelProvider(this) instead or use viewModels(). Check out this answer: <a href=\"https://stackoverflow.com/a/54313573/4545369\">stackoverflow.com/a/54313573/4545369</a>"},{"owner":{"account_id":22245553,"reputation":1,"user_id":16479320,"display_name":"Great Gamer"},"score":0,"creation_date":1701772872,"post_id":77605280,"comment_id":136814386,"body_markdown":"@StarterPack But ViewModelProvider() is not even being imported it is showing error &quot;Cannot resolve symbol ViewModelProider&quot; and to the next part I don&#39;t know how to use viewModels() in java","body":"@StarterPack But ViewModelProvider() is not even being imported it is showing error &quot;Cannot resolve symbol ViewModelProider&quot; and to the next part I don&#39;t know how to use viewModels() in java"}],"answers":[{"tags":[],"owner":{"account_id":25285238,"reputation":407,"user_id":19112370,"display_name":"Harshali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701778428,"creation_date":1701778428,"answer_id":77606120,"question_id":77605280,"body_markdown":"As per official doc https://developer.android.com/reference/android/arch/lifecycle/ViewModelProviders `ViewModelProviders.of()` method is deprecated.  \r\nPlease refer https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders  \r\n\r\n&gt; For **Java** \r\n```\r\n// replace\r\nviewModel = ViewModelProviders.of(this).get(MainActivityViewModel.class);\r\n\r\n// with\r\nvewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\r\n```\r\n\r\n&gt; For **kotlin** reference\r\n```\r\n// replace \r\nviewModel = ViewModelProviders.of(this).get(MainActivityViewModel::class.java)\r\n\r\n// with\r\nviewModel = ViewModelProvider(this).get(MainActivityViewModel::class.java)\r\n```\r\nif you use kotlin you have one advantage of **Lazy Initialization**\r\n```\r\nprivate val viewModel: MainActivityViewModel by viewModels()\r\n```\r\n\r\n","title":"Could Not use ViewModelProvider in androidx JAVA","body":"<p>As per official doc <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModelProviders\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/ViewModelProviders</a> <code>ViewModelProviders.of()</code> method is deprecated.<br />\nPlease refer <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders</a></p>\n<blockquote>\n<p>For <strong>Java</strong></p>\n</blockquote>\n<pre><code>// replace\nviewModel = ViewModelProviders.of(this).get(MainActivityViewModel.class);\n\n// with\nvewModel = new ViewModelProvider(this).get(MainActivityViewModel.class);\n</code></pre>\n<blockquote>\n<p>For <strong>kotlin</strong> reference</p>\n</blockquote>\n<pre><code>// replace \nviewModel = ViewModelProviders.of(this).get(MainActivityViewModel::class.java)\n\n// with\nviewModel = ViewModelProvider(this).get(MainActivityViewModel::class.java)\n</code></pre>\n<p>if you use kotlin you have one advantage of <strong>Lazy Initialization</strong></p>\n<pre><code>private val viewModel: MainActivityViewModel by viewModels()\n</code></pre>\n"}],"owner":{"account_id":22245553,"reputation":1,"user_id":16479320,"display_name":"Great Gamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701778428,"creation_date":1701770337,"question_id":77605280,"body_markdown":"This question might look like an duplicate question but those questions didn&#39;t help me : (\r\n\r\nIm using Java, AndroidX and Android Studio 3.6\r\n\r\nI am trying to implement Room Database with LiveData, ViewModel and Lifecycle\r\n\r\nBut When I am initializing MyViewModelClass using **`ViewModelProviders.of(this).get()`**\r\n\r\nI am Getting **&quot;Cannot resolve method get()&quot;** error [Image Of the Error](https://i.stack.imgur.com/4DEgD.jpg)\r\n\r\nSo I searched on google and found to use another alternative class **`ViewModelProvider`**\r\n\r\nBut I can&#39;t even **Import** this class\r\n\r\nWhile Importing I get **&quot;Cannot resolve symbol ViewModelProvider&quot;** [[Image Of the Error]](https://i.stack.imgur.com/hD9nF.jpg)\r\n\r\nMy Gradle dependencies for lifecycle and room are\r\n\r\n\r\n```\r\n\r\n    implementation &#39;androidx.room:room-runtime:2.4.2&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.4.2&#39;\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.6.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel:2.6.2&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata:2.6.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-core:2.6.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2&#39;\r\n\r\n```\r\n\r\n\r\nI tried Changing the Dependecy versions, creating new project\r\n\r\nI don&#39;t understand what the problem is \r\n\r\nIf I made any mistake in implementing ***Please*** let me know\r\n\r\nThanks in advance : )","title":"Could Not use ViewModelProvider in androidx JAVA","body":"<p>This question might look like an duplicate question but those questions didn't help me : (</p>\n<p>Im using Java, AndroidX and Android Studio 3.6</p>\n<p>I am trying to implement Room Database with LiveData, ViewModel and Lifecycle</p>\n<p>But When I am initializing MyViewModelClass using <strong><code>ViewModelProviders.of(this).get()</code></strong></p>\n<p>I am Getting <strong>&quot;Cannot resolve method get()&quot;</strong> error <a href=\"https://i.stack.imgur.com/4DEgD.jpg\" rel=\"nofollow noreferrer\">Image Of the Error</a></p>\n<p>So I searched on google and found to use another alternative class <strong><code>ViewModelProvider</code></strong></p>\n<p>But I can't even <strong>Import</strong> this class</p>\n<p>While Importing I get <strong>&quot;Cannot resolve symbol ViewModelProvider&quot;</strong> <a href=\"https://i.stack.imgur.com/hD9nF.jpg\" rel=\"nofollow noreferrer\">[Image Of the Error]</a></p>\n<p>My Gradle dependencies for lifecycle and room are</p>\n<pre><code>\n    implementation 'androidx.room:room-runtime:2.4.2'\n    annotationProcessor 'androidx.room:room-compiler:2.4.2'\n\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.6.2'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.6.2'\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:2.2.0&quot;\n    implementation 'androidx.lifecycle:lifecycle-livedata:2.6.2'\n    implementation 'androidx.lifecycle:lifecycle-livedata-core:2.6.2'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2'\n\n</code></pre>\n<p>I tried Changing the Dependecy versions, creating new project</p>\n<p>I don't understand what the problem is</p>\n<p>If I made any mistake in implementing <em><strong>Please</strong></em> let me know</p>\n<p>Thanks in advance : )</p>\n"},{"tags":["java","spring-boot","rest","design-patterns","sonarqube"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701778727,"post_id":77606119,"comment_id":136815226,"body_markdown":"If it complains about a cyclomatic complexity of 1, then I would say you have misconfigured the ruleset used in SonarQube.","body":"If it complains about a cyclomatic complexity of 1, then I would say you have misconfigured the ruleset used in SonarQube."},{"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"score":0,"creation_date":1701780304,"post_id":77606119,"comment_id":136815522,"body_markdown":"Thanks for update. Is there any way to stop scanning for Cyclomatic Complexity and Cognitive Complexity.\nI am using &quot;Jacoco-maven-plugin&quot; and &quot;Sonar-maven-plugin&quot; to export analysis. We can skip some classes or file from reports. Similarly is there a way to skip &quot;Complexity&quot; checks.  I am using &quot;mvn clean verify sonar:sonar -Dsonar.login=$$$&quot; command to do analysis","body":"Thanks for update. Is there any way to stop scanning for Cyclomatic Complexity and Cognitive Complexity. I am using &quot;Jacoco-maven-plugin&quot; and &quot;Sonar-maven-plugin&quot; to export analysis. We can skip some classes or file from reports. Similarly is there a way to skip &quot;Complexity&quot; checks.  I am using &quot;mvn clean verify sonar:sonar -Dsonar.login=$$$&quot; command to do analysis"},{"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"score":0,"creation_date":1701782212,"post_id":77606119,"comment_id":136815860,"body_markdown":"In my Sonar Rules I haven&#39;t found any rule with that parameters. I checked from SonaQube tool. How can check","body":"In my Sonar Rules I haven&#39;t found any rule with that parameters. I checked from SonaQube tool. How can check"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1701783302,"post_id":77606119,"comment_id":136816094,"body_markdown":"Cyclomatic complexity of 1 is the lowest possible. It is definitely NOT an issue. It would be an issue when greater 20.","body":"Cyclomatic complexity of 1 is the lowest possible. It is definitely NOT an issue. It would be an issue when greater 20."}],"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701778426,"creation_date":1701778426,"question_id":77606119,"body_markdown":"I am using SonaQube scans for my Java project and trying to understand cyclomatic complexity issues. However this is very know design issues, I am trying to understand why simple return statements causing issues.\r\n   \r\n    public class HelloController{ \r\n       @GetMapping(&quot;/hello&quot;)\r\n       public ResponseEntity&lt;String&gt; helloGet(){\r\n        return ResponseEntity.ok(&quot;Hello&quot;);}\r\n      }\r\n    }\r\n\r\nThe SonaQube report produces produces Cyclomatic Complexity 1 in HelloController.java\r\n\r\nI did small change by moving body constructions to Service layer\r\n\r\n    public class HelloController{\r\n      @Service\r\n      HelloService service;\r\n     \r\n      @GetMapping(&quot;/hello&quot;)\r\n      public ResponseEntity&lt;String&gt; helloGet(){\r\n         String body = service.getResponse();\r\n         return ResponseEntity.ok(body);}\r\n      }\r\n    }\r\n    \r\n    @Service\r\n    public class HelloService {\r\n      public String getResponse(){\r\n          retrun &quot;Hello&quot;\r\n      }\r\n    }\r\n\r\nAfter above change SonaQube report produces 2 cyclomatic complexity issues one is in Controller class and one in Service Class. I am wondering even though we don&#39;t have any conditional logic or any other logic, why simple retrun causing cyclomatic problems. \r\nI appreciate all your thoughts.","title":"Cyclomatic complexity issues with Simple Spring boot Rest Controller","body":"<p>I am using SonaQube scans for my Java project and trying to understand cyclomatic complexity issues. However this is very know design issues, I am trying to understand why simple return statements causing issues.</p>\n<pre><code>public class HelloController{ \n   @GetMapping(&quot;/hello&quot;)\n   public ResponseEntity&lt;String&gt; helloGet(){\n    return ResponseEntity.ok(&quot;Hello&quot;);}\n  }\n}\n</code></pre>\n<p>The SonaQube report produces produces Cyclomatic Complexity 1 in HelloController.java</p>\n<p>I did small change by moving body constructions to Service layer</p>\n<pre><code>public class HelloController{\n  @Service\n  HelloService service;\n \n  @GetMapping(&quot;/hello&quot;)\n  public ResponseEntity&lt;String&gt; helloGet(){\n     String body = service.getResponse();\n     return ResponseEntity.ok(body);}\n  }\n}\n\n@Service\npublic class HelloService {\n  public String getResponse(){\n      retrun &quot;Hello&quot;\n  }\n}\n</code></pre>\n<p>After above change SonaQube report produces 2 cyclomatic complexity issues one is in Controller class and one in Service Class. I am wondering even though we don't have any conditional logic or any other logic, why simple retrun causing cyclomatic problems.\nI appreciate all your thoughts.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696948548,"post_id":77266685,"comment_id":136216176,"body_markdown":"Those spring security methods are being changed to take lambdas to configure them instead of using that fluent style.","body":"Those spring security methods are being changed to take lambdas to configure them instead of using that fluent style."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696948955,"post_id":77266685,"comment_id":136216269,"body_markdown":"See [here](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors()) and [here](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors(org.springframework.security.config.Customizer)).","body":"See <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors()\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors(org.springframework.security.config.Customizer)\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1701690293,"post_id":77266685,"comment_id":136802821,"body_markdown":"Does this answer your question? [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696948608,"creation_date":1696948608,"answer_id":77266742,"question_id":77266685,"body_markdown":"According to [Migration Guide][1] and also [configuration][2] to newest version, the `securityFilterChain` should have next one body.\r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf(AbstractHttpConfigurer::disable)\r\n            .cors(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(request -&gt; {\r\n              request.requestMatchers(&quot;/register&quot;).permitAll();\r\n              request.requestMatchers(&quot;/users&quot;)\r\n                  .hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n            }).formLogin(Customizer.withDefaults()).build();\r\n    \r\n      }\r\n\r\nAlso please read/check from above references to documentation.\r\nBy the way here on stack overflow are many posts about migration to newest version of framework.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n  [2]: https://docs.spring.io/spring-security/reference/migration-7/configuration.html","title":"Spring Security 6: cors() is deprecated and marked for removal","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide</a> and also <a href=\"https://docs.spring.io/spring-security/reference/migration-7/configuration.html\" rel=\"nofollow noreferrer\">configuration</a> to newest version, the <code>securityFilterChain</code> should have next one body.</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.csrf(AbstractHttpConfigurer::disable)\n        .cors(AbstractHttpConfigurer::disable)\n        .authorizeHttpRequests(request -&gt; {\n          request.requestMatchers(&quot;/register&quot;).permitAll();\n          request.requestMatchers(&quot;/users&quot;)\n              .hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;);\n        }).formLogin(Customizer.withDefaults()).build();\n\n  }\n</code></pre>\n<p>Also please read/check from above references to documentation.\nBy the way here on stack overflow are many posts about migration to newest version of framework.</p>\n"},{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696949019,"creation_date":1696949019,"answer_id":77266790,"question_id":77266685,"body_markdown":"    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .httpBasic(AbstractHttpConfigurer::disable)\r\n                .cors(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(c -&gt; c.requestMatchers(&quot;/register&quot;).permitAll().requestMatchers(&quot;/users&quot;).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;))\r\n                .formLogin(Customizer.withDefaults())\r\n                .build();\r\n    }","title":"Spring Security 6: cors() is deprecated and marked for removal","body":"<pre><code>public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic(AbstractHttpConfigurer::disable)\n            .cors(Customizer.withDefaults())\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(c -&gt; c.requestMatchers(&quot;/register&quot;).permitAll().requestMatchers(&quot;/users&quot;).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;))\n            .formLogin(Customizer.withDefaults())\n            .build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4804715,"reputation":21,"user_id":3880210,"display_name":"user3880210"},"score":0,"creation_date":1701681869,"post_id":77598332,"comment_id":136801446,"body_markdown":"Fixed the coding style","body":"Fixed the coding style"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1701770714,"post_id":77598332,"comment_id":136813987,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77598332/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4804715,"reputation":21,"user_id":3880210,"display_name":"user3880210"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701681839,"creation_date":1701681760,"answer_id":77598332,"question_id":77266685,"body_markdown":"We need to configure beans as below.\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .cors(httpSecurityCorsConfigurer -&gt; httpSecurityCorsConfigurer.configurationSource(corsConfigurationSource()))\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                .requestMatchers(&quot;/myAccount&quot;, &quot;/myBalance&quot;, &quot;/myLoans&quot;, &quot;/myCards&quot;, &quot;/user&quot;).authenticated()\r\n                .requestMatchers(&quot;/contacts&quot;, &quot;/notices&quot;, &quot;/register&quot;).permitAll()\r\n        );\r\n        http.formLogin(withDefaults());\r\n        http.httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n```\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        //Make the below setting as * to allow connection from any hos\r\n        corsConfiguration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n        corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\r\n        corsConfiguration.setAllowCredentials(true);\r\n        corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        corsConfiguration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n        return source;\r\n    }","title":"Spring Security 6: cors() is deprecated and marked for removal","body":"<p>We need to configure beans as below.</p>\n<pre><code>@Bean\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable)\n                .cors(httpSecurityCorsConfigurer -&gt; httpSecurityCorsConfigurer.configurationSource(corsConfigurationSource()))\n                .authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/myAccount&quot;, &quot;/myBalance&quot;, &quot;/myLoans&quot;, &quot;/myCards&quot;, &quot;/user&quot;).authenticated()\n                .requestMatchers(&quot;/contacts&quot;, &quot;/notices&quot;, &quot;/register&quot;).permitAll()\n        );\n        http.formLogin(withDefaults());\n        http.httpBasic(withDefaults());\n        return http.build();\n    }\n</code></pre>\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    //Make the below setting as * to allow connection from any hos\n    corsConfiguration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n    corsConfiguration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\n    corsConfiguration.setAllowCredentials(true);\n    corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\n    corsConfiguration.setMaxAge(3600L);\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n    return source;\n}\n</code></pre>\n"}],"owner":{"account_id":29640982,"reputation":11,"user_id":22717156,"display_name":"Lohith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3907,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1701777555,"creation_date":1696948120,"question_id":77266685,"body_markdown":"I have this code below:    \r\n\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .httpBasic().disable()\r\n                .cors().and().csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/register&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/users&quot;)\r\n                .hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .and().formLogin().and().build();\r\n    }\r\n\r\nPlease help me in making this feature work","title":"Spring Security 6: cors() is deprecated and marked for removal","body":"<p>I have this code below:</p>\n<pre><code>public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic().disable()\n            .cors().and().csrf().disable()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/register&quot;)\n            .permitAll()\n            .and()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/users&quot;)\n            .hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n            .and().formLogin().and().build();\n}\n</code></pre>\n<p>Please help me in making this feature work</p>\n"},{"tags":["java","spring-boot","kubernetes","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":30059443,"reputation":46,"user_id":23035900,"display_name":"Tarun Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701777520,"creation_date":1701777520,"answer_id":77606019,"question_id":77601608,"body_markdown":"According to your deploy.yaml, JAVA_OPTIONS contains something like sub environment variable. I assume your java program expects env var &quot;javax.net.ssl.keyStore&quot; but instead it has JAVA_OPTIONS=&quot;javax.net.ssl.keyStore=&lt;path_to_keystore&gt;&quot;. \r\n\r\nTo achieve something like below\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&lt;path_to_keystore&gt;&quot;);\r\nBreak JAVA_OPTIONS in multiple ENV name-value pairs like\r\nspec:\r\n  containers:\r\n    - env:\r\n        - name: javax.net.ssl.keyStore\r\n          value: &lt;path_to_keystore&gt;\r\n","title":"Environment variables (certifictaes) not being working in Kubernetes which are passed in dpeloy.yaml","body":"<p>According to your deploy.yaml, JAVA_OPTIONS contains something like sub environment variable. I assume your java program expects env var &quot;javax.net.ssl.keyStore&quot; but instead it has JAVA_OPTIONS=&quot;javax.net.ssl.keyStore=&lt;path_to_keystore&gt;&quot;.</p>\n<p>To achieve something like below\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&lt;path_to_keystore&gt;&quot;);\nBreak JAVA_OPTIONS in multiple ENV name-value pairs like\nspec:\ncontainers:\n- env:\n- name: javax.net.ssl.keyStore\nvalue: &lt;path_to_keystore&gt;</p>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701777520,"creation_date":1701712583,"question_id":77601608,"body_markdown":"I am passing certificates in Java environment variables in deploy.yaml but the Kubernetes container is not able the pick the certificates which are passed as Java_Options . Can anyone assist why the Kubernetes container is not able to pick the certificates which are passed in JAVA_OPTIONS. Now I am passing in JAVA code explicitly, but I don&#39;t want to pass the certificates in java code.\r\n\r\n    spec:\r\n      containers:\r\n        - env:\r\n            - name: SPRING_PROFILE\r\n              value: cids-migration\r\n            - name: JAVA_MAIN_CLASS\r\n              value: com.agcs.cids.Application\r\n            - name: JAVA_OPTIONS\r\n              value: &gt;-\r\n                -Djavax.net.ssl.trustStore=/usr/lib/jvm/java/jre/lib/security/cacerts\r\n                -Djavax.net.ssl.trustStorePassword=changeit\r\n                -Djavax.net.ssl.keyStore=keystore.pkcs12\r\n                -Djavax.net.ssl.keyStorePassword=changeit\r\n\r\n   \r\nDocker File :\r\n\r\n\r\n    EXPOSE 8103\r\n    ENV JAVA_OPTIONS=&quot;&quot;\r\n    RUN pwd &amp;&amp; ls -lrt\r\n    #COPY target/lib/* /deployments/lib/\r\n    COPY /*.jar /opt/jboss/app.jar\r\n    ENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]  \r\n\r\nJava :\r\n\r\n    public static void main(String args[]) {\r\n    \r\n      // Set system properties via commandline or programmatically\r\n    \r\n      System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&lt;path_to_keystore&gt;&quot;);\r\n    \r\n      System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;&lt;keystore_password&gt;&quot;);\r\n     ","title":"Environment variables (certifictaes) not being working in Kubernetes which are passed in dpeloy.yaml","body":"<p>I am passing certificates in Java environment variables in deploy.yaml but the Kubernetes container is not able the pick the certificates which are passed as Java_Options . Can anyone assist why the Kubernetes container is not able to pick the certificates which are passed in JAVA_OPTIONS. Now I am passing in JAVA code explicitly, but I don't want to pass the certificates in java code.</p>\n<pre><code>spec:\n  containers:\n    - env:\n        - name: SPRING_PROFILE\n          value: cids-migration\n        - name: JAVA_MAIN_CLASS\n          value: com.agcs.cids.Application\n        - name: JAVA_OPTIONS\n          value: &gt;-\n            -Djavax.net.ssl.trustStore=/usr/lib/jvm/java/jre/lib/security/cacerts\n            -Djavax.net.ssl.trustStorePassword=changeit\n            -Djavax.net.ssl.keyStore=keystore.pkcs12\n            -Djavax.net.ssl.keyStorePassword=changeit\n</code></pre>\n<p>Docker File :</p>\n<pre><code>EXPOSE 8103\nENV JAVA_OPTIONS=&quot;&quot;\nRUN pwd &amp;&amp; ls -lrt\n#COPY target/lib/* /deployments/lib/\nCOPY /*.jar /opt/jboss/app.jar\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]  \n</code></pre>\n<p>Java :</p>\n<pre><code>public static void main(String args[]) {\n\n  // Set system properties via commandline or programmatically\n\n  System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;&lt;path_to_keystore&gt;&quot;);\n\n  System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;&lt;keystore_password&gt;&quot;);\n \n</code></pre>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1442155750,"post_id":32550292,"comment_id":52957696,"body_markdown":"Did anything else change on your machine? New jvm / jdk? New dependency / jars in your project? Is it just this one project that won&#39;t index, or all?","body":"Did anything else change on your machine? New jvm / jdk? New dependency / jars in your project? Is it just this one project that won&#39;t index, or all?"},{"owner":{"account_id":234378,"reputation":8776,"user_id":500478,"accept_rate":75,"display_name":"Bastien Jansen"},"score":0,"creation_date":1442156739,"post_id":32550292,"comment_id":52958057,"body_markdown":"Is your project located on a network file system? Did you try another version of IntelliJ? Is there something interesting in the logs ? (likely `~/.IntelliJ/system/log`)","body":"Is your project located on a network file system? Did you try another version of IntelliJ? Is there something interesting in the logs ? (likely <code>~&#47;.IntelliJ&#47;system&#47;log</code>)"},{"owner":{"account_id":2075756,"reputation":1644,"user_id":1849152,"accept_rate":75,"display_name":"AppleDash"},"score":0,"creation_date":1442156849,"post_id":32550292,"comment_id":52958098,"body_markdown":"@vikingsteve Nothing else as far as I&#39;m aware, and as I said in my question, I tried different projects. Like, it was working, I closed IntelliJ, rebooted awhile later, and then when I opened IntelliJ again after the reboot, it started doing this.","body":"@vikingsteve Nothing else as far as I&#39;m aware, and as I said in my question, I tried different projects. Like, it was working, I closed IntelliJ, rebooted awhile later, and then when I opened IntelliJ again after the reboot, it started doing this."},{"owner":{"account_id":2075756,"reputation":1644,"user_id":1849152,"accept_rate":75,"display_name":"AppleDash"},"score":0,"creation_date":1442156979,"post_id":32550292,"comment_id":52958147,"body_markdown":"@Nebelmann Nope, it is local, on an SSD RAID array that I&#39;ve benchmarked at 1.2GB/s read. I just tried the IntelliJ IDEA 15 EAP and it is exhibiting this too. The logs don&#39;t say much, here is the last bit (the only relevant bit I can find in the last 100 lines): `2015-09-13 10:50:28,495 [  13439]   INFO - indexing.UnindexedFilesUpdater - Indexable files iterated in 5192 ms \n2015-09-13 10:50:28,495 [  13439]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update started: 62583 files to update \n`","body":"@Nebelmann Nope, it is local, on an SSD RAID array that I&#39;ve benchmarked at 1.2GB/s read. I just tried the IntelliJ IDEA 15 EAP and it is exhibiting this too. The logs don&#39;t say much, here is the last bit (the only relevant bit I can find in the last 100 lines): <code>2015-09-13 10:50:28,495 [  13439]   INFO - indexing.UnindexedFilesUpdater - Indexable files iterated in 5192 ms  2015-09-13 10:50:28,495 [  13439]   INFO - indexing.UnindexedFilesUpdater - Unindexed files update started: 62583 files to update  </code>"}],"answers":[{"comments":[{"owner":{"account_id":2040128,"reputation":3660,"user_id":1821548,"accept_rate":91,"display_name":"Det"},"score":6,"creation_date":1663880600,"post_id":32673224,"comment_id":130350035,"body_markdown":"Uh, what.........?","body":"Uh, what.........?"},{"owner":{"account_id":24470605,"reputation":425,"user_id":18579129,"display_name":"Jake"},"score":0,"creation_date":1702135960,"post_id":32673224,"comment_id":136861229,"body_markdown":"I can&#39;t believe it, but this actually worked for me.","body":"I can&#39;t believe it, but this actually worked for me."}],"tags":[],"owner":{"account_id":2075756,"reputation":1644,"user_id":1849152,"accept_rate":75,"display_name":"AppleDash"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1688149840,"creation_date":1442696626,"answer_id":32673224,"question_id":32550292,"body_markdown":"I&#39;ve finally figured it out. The solution was...rather odd. TL;DR: Run it under `strace`. Read on for a more detailed explanation.\r\n\r\n\r\nI came upon it when I decided to run IntelliJ under `strace` to see what files it was opening to determine whether or not it was a filesystem bottleneck.\r\n\r\nThis gave me some very strange results: `strace` was spewing out a near-constant stream of segfaults. Not only that, but IntelliJ was running just fine, not taking forever to index.\r\n\r\nAfter consulting with a friend, I learned that on Arch Linux, `systemd` logs a dump of a process&#39;s memory every time a segfault occurs, **except when a debugger is attached**. `strace` is considered a debugger. Arch was thrashing my disks when it kept logging memory dumps due to all the segfaults, hence why the indexing was taking so long, because it was fighting for disk I/O.\r\n\r\nMy solution for now is to simply run IntelliJ under `strace`. I will, however, be looking into the issue further, as I don&#39;t think `java` should be segfaulting that much.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I've finally figured it out. The solution was...rather odd. TL;DR: Run it under <code>strace</code>. Read on for a more detailed explanation.</p>\n<p>I came upon it when I decided to run IntelliJ under <code>strace</code> to see what files it was opening to determine whether or not it was a filesystem bottleneck.</p>\n<p>This gave me some very strange results: <code>strace</code> was spewing out a near-constant stream of segfaults. Not only that, but IntelliJ was running just fine, not taking forever to index.</p>\n<p>After consulting with a friend, I learned that on Arch Linux, <code>systemd</code> logs a dump of a process's memory every time a segfault occurs, <strong>except when a debugger is attached</strong>. <code>strace</code> is considered a debugger. Arch was thrashing my disks when it kept logging memory dumps due to all the segfaults, hence why the indexing was taking so long, because it was fighting for disk I/O.</p>\n<p>My solution for now is to simply run IntelliJ under <code>strace</code>. I will, however, be looking into the issue further, as I don't think <code>java</code> should be segfaulting that much.</p>\n"},{"tags":[],"owner":{"account_id":1014318,"reputation":1548,"user_id":1026224,"accept_rate":68,"display_name":"Fabrizio Fortino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455099980,"creation_date":1455099980,"answer_id":35312589,"question_id":32550292,"body_markdown":"Had the same issue in the past on some Scala project. I have installed IDEA 16 EAP (https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP) and the problem has gone.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Had the same issue in the past on some Scala project. I have installed IDEA 16 EAP (<a href=\"https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP\" rel=\"nofollow\">https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP</a>) and the problem has gone.</p>\n"},{"comments":[{"owner":{"account_id":7921176,"reputation":3993,"user_id":5982110,"display_name":"rpy"},"score":4,"creation_date":1465040239,"post_id":37627121,"comment_id":62741239,"body_markdown":"While your hint might answer the question, it is absolutely not providing any hint on why it might solve the problem. This makes the answer (if at all) less useful to others. So, please consider explaining about about your hint.","body":"While your hint might answer the question, it is absolutely not providing any hint on why it might solve the problem. This makes the answer (if at all) less useful to others. So, please consider explaining about about your hint."},{"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"score":2,"creation_date":1604028644,"post_id":37627121,"comment_id":114228817,"body_markdown":"https://www.jetbrains.com/help/idea/tuning-the-ide.html#configure-platform-properties","body":"<a href=\"https://www.jetbrains.com/help/idea/tuning-the-ide.html#configure-platform-properties\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":171551,"reputation":664,"user_id":399058,"accept_rate":50,"display_name":"Tails"},"score":0,"creation_date":1631807174,"post_id":37627121,"comment_id":122328204,"body_markdown":"this fixed it for me as opposed to cache invalidation, restarts and deleting .idea! Note that on Mac I had to &quot;show package contents&quot; of the Application to get to the .properties file.","body":"this fixed it for me as opposed to cache invalidation, restarts and deleting .idea! Note that on Mac I had to &quot;show package contents&quot; of the Application to get to the .properties file."},{"owner":{"account_id":321456,"reputation":294,"user_id":640300,"accept_rate":67,"display_name":"Yohanes Pradono"},"score":0,"creation_date":1641494430,"post_id":37627121,"comment_id":124824586,"body_markdown":"Mine was 2500, I set it to 1000 now my PHPStorm can index php app on WSL2. thanks!","body":"Mine was 2500, I set it to 1000 now my PHPStorm can index php app on WSL2. thanks!"}],"tags":[],"owner":{"account_id":5332377,"reputation":1238,"user_id":4252616,"display_name":"BuffK"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1688149877,"creation_date":1465021649,"answer_id":37627121,"question_id":32550292,"body_markdown":"Edit Intellij[VERSION]/bin/idea.properties,\r\nset `idea.max.intellisense.filesize=50`.\r\n\r\n**Update:**\r\nIntellij will skip index files that size larger than 50kb. Try this if you have many libraries or many large files (too many characters one line or too many lines).","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Edit Intellij[VERSION]/bin/idea.properties,\nset <code>idea.max.intellisense.filesize=50</code>.</p>\n<p><strong>Update:</strong>\nIntellij will skip index files that size larger than 50kb. Try this if you have many libraries or many large files (too many characters one line or too many lines).</p>\n"},{"comments":[{"owner":{"account_id":1720411,"reputation":1802,"user_id":1576467,"accept_rate":62,"display_name":"GameSalutes"},"score":25,"creation_date":1498769656,"post_id":38456452,"comment_id":76650195,"body_markdown":"This worked for me but you have to be quick as if you can&#39;t get to the menu fast enough it freezes again.","body":"This worked for me but you have to be quick as if you can&#39;t get to the menu fast enough it freezes again."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1605727230,"post_id":38456452,"comment_id":114742962,"body_markdown":"Cured my IntelliJ IDEA 2020.2","body":"Cured my IntelliJ IDEA 2020.2"},{"owner":{"account_id":11373312,"reputation":109,"user_id":8338329,"display_name":"dynamo"},"score":0,"creation_date":1628576246,"post_id":38456452,"comment_id":121450478,"body_markdown":"Invalidating caches and restarting intellij ide solution worked for me.","body":"Invalidating caches and restarting intellij ide solution worked for me."},{"owner":{"account_id":18498363,"reputation":89,"user_id":13476259,"display_name":"Alan Telles"},"score":1,"creation_date":1633437762,"post_id":38456452,"comment_id":122754965,"body_markdown":"Worked on 2021.1 also","body":"Worked on 2021.1 also"},{"owner":{"account_id":18498363,"reputation":89,"user_id":13476259,"display_name":"Alan Telles"},"score":2,"creation_date":1633438643,"post_id":38456452,"comment_id":122755373,"body_markdown":"Additionally: There are options available for invalidate cache. Mark only &quot;Clear downloaded shared indexes&quot; was enough","body":"Additionally: There are options available for invalidate cache. Mark only &quot;Clear downloaded shared indexes&quot; was enough"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":1,"creation_date":1678880620,"post_id":38456452,"comment_id":133617920,"body_markdown":"This usually helps, but it&#39;s very tiring having to invalidate caches and reindex massive projects multiple times a week. Not that that&#39;s your fault...","body":"This usually helps, but it&#39;s very tiring having to invalidate caches and reindex massive projects multiple times a week. Not that that&#39;s your fault..."}],"tags":[],"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"comment_count":6,"down_vote_count":3,"up_vote_count":90,"is_accepted":false,"score":87,"last_activity_date":1468925482,"creation_date":1468925482,"answer_id":38456452,"question_id":32550292,"body_markdown":"Try [Invalidating the cache and restarting IntelliJ](https://www.jetbrains.com/help/idea/2016.1/cleaning-system-cache.html).\r\n\r\nIn the **File** menu, select **Invalidate Caches / Restart...** and then click the **Invalidate and Restart** button.\r\n\r\n","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Try <a href=\"https://www.jetbrains.com/help/idea/2016.1/cleaning-system-cache.html\">Invalidating the cache and restarting IntelliJ</a>.</p>\n\n<p>In the <strong>File</strong> menu, select <strong>Invalidate Caches / Restart...</strong> and then click the <strong>Invalidate and Restart</strong> button.</p>\n"},{"comments":[{"owner":{"account_id":1767650,"reputation":332,"user_id":1613104,"display_name":"LittleTiger"},"score":0,"creation_date":1473863001,"post_id":39105891,"comment_id":66303264,"body_markdown":"Finally a simple way that TOTALLY works. No idea what is causing it exactly, will try removing files of the .idea folder I backed up later, seeing what file in particular causes this issue.","body":"Finally a simple way that TOTALLY works. No idea what is causing it exactly, will try removing files of the .idea folder I backed up later, seeing what file in particular causes this issue."},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":2,"creation_date":1605571308,"post_id":39105891,"comment_id":114686109,"body_markdown":"Idea 2020.2 and this problem just occurred. &quot;Invalidate Caches / Restart&quot; did not solve the indexing issue. Removal of .idea directory however did :-)","body":"Idea 2020.2 and this problem just occurred. &quot;Invalidate Caches / Restart&quot; did not solve the indexing issue. Removal of .idea directory however did :-)"}],"tags":[],"owner":{"account_id":1148665,"reputation":299,"user_id":1130856,"display_name":"The Rockncoder"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1688149910,"creation_date":1471968017,"answer_id":39105891,"question_id":32550292,"body_markdown":"I had this issue as well with version 2016.2 on Mac OS X. I had to do a force quit to end the application, then I deleted the `.idea` folder. The next time I launched IntelliJ everything worked fine. It had no problem indexing the project. ","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I had this issue as well with version 2016.2 on Mac OS X. I had to do a force quit to end the application, then I deleted the <code>.idea</code> folder. The next time I launched IntelliJ everything worked fine. It had no problem indexing the project.</p>\n"},{"tags":[],"owner":{"account_id":211687,"reputation":111,"user_id":464006,"display_name":"maaxiim"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688150056,"creation_date":1510232255,"answer_id":47202447,"question_id":32550292,"body_markdown":"Select Help -&gt; Debug Log Settings...\r\n\r\nAdd the following line (note the leading # symbol)\r\n\r\n&gt; \\#com.intellij.util.indexing:trace\r\n\r\nRelaunch the IDE (don&#39;t need to invalidate cache as that will cause it to start from scratch, whereas restarting from the point of failure, for me anyway, reported the problem file as soon as I restarted):\r\n\r\n&gt; Scheduling indexing of file://C:/dev/tools/ruby/lib/ruby/2.2.0/x64-mingw32/win32ole.so by request of index Stubs \r\n\r\nOur project doesn&#39;t use `win32ole`, so I moved the file to a safe location and restarted my IDE. Bingo, the problem was gone, and indexing finally completed after almost 1 year of effectively using Intellij as a slightly-smarter-than-notepad Ruby editor. ","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Select Help -&gt; Debug Log Settings...</p>\n<p>Add the following line (note the leading # symbol)</p>\n<blockquote>\n<p>#com.intellij.util.indexing:trace</p>\n</blockquote>\n<p>Relaunch the IDE (don't need to invalidate cache as that will cause it to start from scratch, whereas restarting from the point of failure, for me anyway, reported the problem file as soon as I restarted):</p>\n<blockquote>\n<p>Scheduling indexing of file://C:/dev/tools/ruby/lib/ruby/2.2.0/x64-mingw32/win32ole.so by request of index Stubs</p>\n</blockquote>\n<p>Our project doesn't use <code>win32ole</code>, so I moved the file to a safe location and restarted my IDE. Bingo, the problem was gone, and indexing finally completed after almost 1 year of effectively using Intellij as a slightly-smarter-than-notepad Ruby editor.</p>\n"},{"tags":[],"owner":{"account_id":225321,"reputation":83,"user_id":485734,"display_name":"seonghuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688150383,"creation_date":1514937369,"answer_id":48069461,"question_id":32550292,"body_markdown":"I had the same problem with IntelliJ 2017.3.2. When I clicked on the indexing progress bar I noticed it was hung on a directory within my build directory. When I did a `gradlew clean`, which removed that directory, then the indexing was able to proceed.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I had the same problem with IntelliJ 2017.3.2. When I clicked on the indexing progress bar I noticed it was hung on a directory within my build directory. When I did a <code>gradlew clean</code>, which removed that directory, then the indexing was able to proceed.</p>\n"},{"tags":[],"owner":{"account_id":2245525,"reputation":99,"user_id":1978965,"display_name":"user1978965"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688150750,"creation_date":1515497502,"answer_id":48167255,"question_id":32550292,"body_markdown":"I have encountered this problem, and resolved it:\r\n\r\n1. Remove Idea.\r\n2. Delete all files and directories which match the regular expression `*jetbrain*` and `*IntelliJ*` in my computer, a Mac mini.\r\n3. Then install Idea.\r\n\r\nI also tried to just delete the Idea cache files. It do not work.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I have encountered this problem, and resolved it:</p>\n<ol>\n<li>Remove Idea.</li>\n<li>Delete all files and directories which match the regular expression <code>*jetbrain*</code> and <code>*IntelliJ*</code> in my computer, a Mac mini.</li>\n<li>Then install Idea.</li>\n</ol>\n<p>I also tried to just delete the Idea cache files. It do not work.</p>\n"},{"comments":[{"owner":{"account_id":2010686,"reputation":6562,"user_id":1799189,"display_name":"xxfelixxx"},"score":1,"creation_date":1595498365,"post_id":50113108,"comment_id":111498127,"body_markdown":"This should be the accepted answer, I had exactly this problem...huge logs in a sub directory causing indexing to take forever.  Even restarting and clearing cache didn&#39;t help here.","body":"This should be the accepted answer, I had exactly this problem...huge logs in a sub directory causing indexing to take forever.  Even restarting and clearing cache didn&#39;t help here."}],"tags":[],"owner":{"account_id":952269,"reputation":1800,"user_id":978164,"accept_rate":58,"display_name":"dux2"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525161270,"creation_date":1525161270,"answer_id":50113108,"question_id":32550292,"body_markdown":"In my case I found out that Intellij is actually trying to index a 50GB directory with logs that was under the project&#39;s root. Make sure that if you have such a directory, it is marked as &quot;Excluded&quot; in the IDE.\r\n\r\nYou can see which file the IDE is indexing currently in the Indexing Status window (access by clicking on the indexing message in the toolbar). You may need to enlarge this window to see the full path of the file currently being indexed.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>In my case I found out that Intellij is actually trying to index a 50GB directory with logs that was under the project's root. Make sure that if you have such a directory, it is marked as \"Excluded\" in the IDE.</p>\n\n<p>You can see which file the IDE is indexing currently in the Indexing Status window (access by clicking on the indexing message in the toolbar). You may need to enlarge this window to see the full path of the file currently being indexed.</p>\n"},{"comments":[{"owner":{"account_id":171551,"reputation":664,"user_id":399058,"accept_rate":50,"display_name":"Tails"},"score":0,"creation_date":1631864243,"post_id":50863486,"comment_id":122342589,"body_markdown":"sometimes plugins also scan directories that are not under the project root. in that case, files will have to be excluded using Settings -&gt; File Types","body":"sometimes plugins also scan directories that are not under the project root. in that case, files will have to be excluded using Settings -&gt; File Types"}],"tags":[],"owner":{"account_id":3718072,"reputation":19099,"user_id":3093731,"accept_rate":81,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688150121,"creation_date":1528999654,"answer_id":50863486,"question_id":32550292,"body_markdown":"In PhpStorm, what solved this for me was excluding folders I didn&#39;t need to be indexed from the indexing (specifically the vendor folder, a caches folder, and a few asset folders that contained thousands of images). Instantly it began making progress and completed.\r\n\r\nTo do this:\r\n\r\n1. In the project directory list, right click the folder you want to exclude\r\n2. Mark Directory As Excluded ","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>In PhpStorm, what solved this for me was excluding folders I didn't need to be indexed from the indexing (specifically the vendor folder, a caches folder, and a few asset folders that contained thousands of images). Instantly it began making progress and completed.</p>\n<p>To do this:</p>\n<ol>\n<li>In the project directory list, right click the folder you want to exclude</li>\n<li>Mark Directory As Excluded</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15283338,"reputation":1,"user_id":11027015,"display_name":"Alex Gligor"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1549526856,"creation_date":1549525644,"answer_id":54568541,"question_id":32550292,"body_markdown":"I was able to resolve this problem by removing all of my &quot;target&quot; folders from my project.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I was able to resolve this problem by removing all of my \"target\" folders from my project.</p>\n"},{"comments":[{"owner":{"account_id":3942775,"reputation":3036,"user_id":3256489,"display_name":"4givN"},"score":1,"creation_date":1614013452,"post_id":59288562,"comment_id":117248431,"body_markdown":"Mine was stuck if the Laravel plugin was enabled, I had to remove it","body":"Mine was stuck if the Laravel plugin was enabled, I had to remove it"},{"owner":{"account_id":4394677,"reputation":15428,"user_id":4034572,"display_name":"Albert Vila Calvo"},"score":0,"creation_date":1695985611,"post_id":59288562,"comment_id":136099188,"body_markdown":"I uninstalled the Kubernetes plugin and disabled a few others, and the problem is gone :) Really sad that this is still happening in 2023, almost 4 years later :/","body":"I uninstalled the Kubernetes plugin and disabled a few others, and the problem is gone :) Really sad that this is still happening in 2023, almost 4 years later :/"}],"tags":[],"owner":{"account_id":373068,"reputation":5257,"user_id":722475,"accept_rate":50,"display_name":"khusrav"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1688149984,"creation_date":1576076329,"answer_id":59288562,"question_id":32550292,"body_markdown":"I was stuck with a similar issue with the latest **IntelliJ Idea 2019.3**, so maybe it&#39;ll help. For me the issue was with one of the plugins. Uninstalling, reinstalling, and cleaning caches didn&#39;t help. My steps were:\r\n\r\n 1. Kill Intellij. Start it over.\r\n 2. When it&#39;s starting and about to load a project, be quick and cancel opening the project. This way you&#39;ll end up with a small window with a list of previously opened projects and a few menu items.\r\n 3. Open menu &gt; plugins, disable them all.\r\n 4. Restart Intellij Idea. Open any project.\r\n\r\nIf step 4 above succeeds (which happened to me), one by one try enabling the plugins to see which one is causing error. For me it was **Kubernetes** plugin from **JetBrains**.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I was stuck with a similar issue with the latest <strong>IntelliJ Idea 2019.3</strong>, so maybe it'll help. For me the issue was with one of the plugins. Uninstalling, reinstalling, and cleaning caches didn't help. My steps were:</p>\n<ol>\n<li>Kill Intellij. Start it over.</li>\n<li>When it's starting and about to load a project, be quick and cancel opening the project. This way you'll end up with a small window with a list of previously opened projects and a few menu items.</li>\n<li>Open menu &gt; plugins, disable them all.</li>\n<li>Restart Intellij Idea. Open any project.</li>\n</ol>\n<p>If step 4 above succeeds (which happened to me), one by one try enabling the plugins to see which one is causing error. For me it was <strong>Kubernetes</strong> plugin from <strong>JetBrains</strong>.</p>\n"},{"comments":[{"owner":{"account_id":297461,"reputation":29114,"user_id":603003,"accept_rate":92,"display_name":"ComFreek"},"score":1,"creation_date":1622552348,"post_id":60492893,"comment_id":119820132,"body_markdown":"In IDEA 2021.1 the activity monitor is reachable via `Help &gt; Diagnostic Tools &gt; Activity Monitor`.","body":"In IDEA 2021.1 the activity monitor is reachable via <code>Help &gt; Diagnostic Tools &gt; Activity Monitor</code>."}],"tags":[],"owner":{"account_id":9088973,"reputation":408,"user_id":6765734,"display_name":"randy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622645590,"creation_date":1583166233,"answer_id":60492893,"question_id":32550292,"body_markdown":"I had a similar problem with 2019.1.4. However, mine would change directories and _sometimes_, eventually, finish. If it did finish, it was somewhere in the 8-10 minute range.\r\n\r\nI was all over SO, and even JetBrains&#39; forums. I excluded directories via `Project Structure | Modules`. I used `Invalidate Caches And Restart` on multiple occasions. I tried having only 1 project open to let it finish. I installed and tried 2019.2.4 and 2019.3.3 (the latter would crash for other reasons). And best of all, it only seemed to happen on one project!\r\n\r\nWhat ultimately led me to an answer was `Help &gt; Activity Monitor...` where I found  `psi.impl.cache.impl.todo` was running at nearly 100% CPU and not showing signs of stopping.\r\n\r\nIt turned out, I had a TODO filter setup with a poorly-defined RegEx. It was something like `\\b.*wip\\b.*`; the idea was to find all of our &quot;WIP&quot; values. Well, the leading `.*` was a huge mistake and one that didn&#39;t occur to me until losing many hours blaming a plugin upgrade. I believe the reason this was a bad filter was because the project it was hanging on is in ExtJS, which is JavaScript, which means things are in triplicate with the `app.js` file and whatnot...\r\n\r\n**Update**\r\nIn IntelliJ 2020.x and 2021.x, the option has moved to `Help &gt; Diagnostic Tools &gt; Activity Monitor`.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I had a similar problem with 2019.1.4. However, mine would change directories and <em>sometimes</em>, eventually, finish. If it did finish, it was somewhere in the 8-10 minute range.</p>\n<p>I was all over SO, and even JetBrains' forums. I excluded directories via <code>Project Structure | Modules</code>. I used <code>Invalidate Caches And Restart</code> on multiple occasions. I tried having only 1 project open to let it finish. I installed and tried 2019.2.4 and 2019.3.3 (the latter would crash for other reasons). And best of all, it only seemed to happen on one project!</p>\n<p>What ultimately led me to an answer was <code>Help &gt; Activity Monitor...</code> where I found  <code>psi.impl.cache.impl.todo</code> was running at nearly 100% CPU and not showing signs of stopping.</p>\n<p>It turned out, I had a TODO filter setup with a poorly-defined RegEx. It was something like <code>\\b.*wip\\b.*</code>; the idea was to find all of our &quot;WIP&quot; values. Well, the leading <code>.*</code> was a huge mistake and one that didn't occur to me until losing many hours blaming a plugin upgrade. I believe the reason this was a bad filter was because the project it was hanging on is in ExtJS, which is JavaScript, which means things are in triplicate with the <code>app.js</code> file and whatnot...</p>\n<p><strong>Update</strong>\nIn IntelliJ 2020.x and 2021.x, the option has moved to <code>Help &gt; Diagnostic Tools &gt; Activity Monitor</code>.</p>\n"},{"comments":[{"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"score":0,"creation_date":1589466718,"post_id":61723608,"comment_id":109311115,"body_markdown":"Great catch. Looks like CSV plugin 2.11.0 breaks indexing. Update is already available.","body":"Great catch. Looks like CSV plugin 2.11.0 breaks indexing. Update is already available."},{"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"score":0,"creation_date":1589466817,"post_id":61723608,"comment_id":109311199,"body_markdown":"CSV plugin 2.11.1 fixed it","body":"CSV plugin 2.11.1 fixed it"},{"owner":{"account_id":4171491,"reputation":121,"user_id":3419148,"accept_rate":0,"display_name":"user3419148"},"score":0,"creation_date":1635767605,"post_id":61723608,"comment_id":123373564,"body_markdown":"Not sure which plugin was my culprit but disabling quite a few solved my issue","body":"Not sure which plugin was my culprit but disabling quite a few solved my issue"}],"tags":[],"owner":{"account_id":15318122,"reputation":31,"user_id":11051455,"display_name":"Ofer Karp"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688150162,"creation_date":1589178907,"answer_id":61723608,"question_id":32550292,"body_markdown":"It seems that there might be several reasons for getting into this &quot;indexing&quot; hell. I spent a few hours trying to fix it using the ideas above.\r\nAt the end of the day, with some profiling work, I found that the bad guy in my case was the CSV plugin: \r\nhttps://plugins.jetbrains.com/plugin/10037-csv-plugin\r\n\r\nI had a few (not so large) CSV files serving as input, and although I marked them as not to be indexed, the plugin kept trying to index them. \r\nOnce I removed the plugin everything worked fine. ","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>It seems that there might be several reasons for getting into this &quot;indexing&quot; hell. I spent a few hours trying to fix it using the ideas above.\nAt the end of the day, with some profiling work, I found that the bad guy in my case was the CSV plugin:\n<a href=\"https://plugins.jetbrains.com/plugin/10037-csv-plugin\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/10037-csv-plugin</a></p>\n<p>I had a few (not so large) CSV files serving as input, and although I marked them as not to be indexed, the plugin kept trying to index them.\nOnce I removed the plugin everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688150416,"creation_date":1628660925,"answer_id":68736599,"question_id":32550292,"body_markdown":"There might be another project opened in parallel in a new window which is being indexed. ","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>There might be another project opened in parallel in a new window which is being indexed.</p>\n"},{"tags":[],"owner":{"account_id":171551,"reputation":664,"user_id":399058,"accept_rate":50,"display_name":"Tails"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688150638,"creation_date":1631863505,"answer_id":69219343,"question_id":32550292,"body_markdown":"I was using the Elm plugin and installed the elm-bounded-nats package which included a semi-large source file. IntelliJ kept hanging on this file, but did not always report this correctly in the indexing popover dialog (perhaps due to threading). When I exluded this specific file in Settings -&gt; File Types (&quot;Nats.elm&quot;), indexing managed to complete successfully. Now the editor renders errors for this package, but the compilation process still works.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I was using the Elm plugin and installed the elm-bounded-nats package which included a semi-large source file. IntelliJ kept hanging on this file, but did not always report this correctly in the indexing popover dialog (perhaps due to threading). When I exluded this specific file in Settings -&gt; File Types (&quot;Nats.elm&quot;), indexing managed to complete successfully. Now the editor renders errors for this package, but the compilation process still works.</p>\n"},{"comments":[{"owner":{"account_id":3153314,"reputation":9499,"user_id":2666270,"accept_rate":90,"display_name":"pceccon"},"score":1,"creation_date":1672974826,"post_id":69600592,"comment_id":132399241,"body_markdown":"The only thing that worked for me.","body":"The only thing that worked for me."},{"owner":{"account_id":1451138,"reputation":2399,"user_id":1368038,"display_name":"Dandalf"},"score":0,"creation_date":1680717913,"post_id":69600592,"comment_id":133947271,"body_markdown":"This worked for me in v2023.1. Thank you.","body":"This worked for me in v2023.1. Thank you."},{"owner":{"account_id":1079773,"reputation":85,"user_id":1077050,"display_name":"Sergey Suvorov"},"score":0,"creation_date":1689021900,"post_id":69600592,"comment_id":135151753,"body_markdown":"God bless you a good person! The only thing that worked","body":"God bless you a good person! The only thing that worked"}],"tags":[],"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1634431952,"creation_date":1634431952,"answer_id":69600592,"question_id":32550292,"body_markdown":"I ran into this problem today on a Mac. It would hang before I was able to get to the menu and invalidate the cache. \r\n\r\nI deleted the cache from command line using the following command and it worked for me. \r\n\r\n    rm -rf ~/Library/Caches/JetBrains/IntelliJIdea*\r\n\r\nAfter that it started up with no issues.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I ran into this problem today on a Mac. It would hang before I was able to get to the menu and invalidate the cache.</p>\n<p>I deleted the cache from command line using the following command and it worked for me.</p>\n<pre><code>rm -rf ~/Library/Caches/JetBrains/IntelliJIdea*\n</code></pre>\n<p>After that it started up with no issues.</p>\n"},{"comments":[{"owner":{"account_id":10991782,"reputation":1463,"user_id":10391157,"display_name":"Luke100000"},"score":0,"creation_date":1656445384,"post_id":70024199,"comment_id":128573011,"body_markdown":"Thanks, for me the Kotlin plugin froze during indexing after upgrading to 2022.1.3","body":"Thanks, for me the Kotlin plugin froze during indexing after upgrading to 2022.1.3"}],"tags":[],"owner":{"account_id":8894340,"reputation":59,"user_id":6639918,"display_name":"Tomthomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688150288,"creation_date":1637256450,"answer_id":70024199,"question_id":32550292,"body_markdown":"Disabling unused plugins will improve the indexing. In my case I have disabled Kotlin plugin from File -&gt; Settings-&gt; Plugins\r\n\r\nIf you check the Intellij logs, which can be found under `C:\\Users\\&lt;User Name&gt;\\.IntelliJIdea2019.1\\system\\log`, you will get a pointer on what is failing. I was getting an error in Kotlin. After disabling the plugin and restarting Intellij, my issue was fixed.\r\n\r\n    java.lang.RuntimeException: java.io.EOFException\r\n\tat com.intellij.util.ExceptionUtilRt.rethrow(ExceptionUtilRt.java:31)\r\n\tat com.intellij.util.ExceptionUtil.rethrow(ExceptionUtil.java:120)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$DbConnection.handleError(FSRecords.java:516)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$DbConnection.access$000(FSRecords.java:153)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.FSRecords.writeAndHandleErrors(FSRecords.java:965)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.FSRecords.access$300(FSRecords.java:47)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$AttributeOutputStream.close(FSRecords.java:1629)\r\n\tat kotlin.io.CloseableKt.closeFinally(Closeable.kt:53)\r\n\tat org.jetbrains.kotlin.idea.caches.FileAttributeServiceImpl.write(FileAttributeServiceImpl.kt:64)\r\n\tat org.jetbrains.kotlin.idea.caches.FileAttributeServiceImpl.writeBooleanAttribute(FileAttributeServiceImpl.kt:48)\r\n\tat org.jetbrains.kotlin.idea.caches.IDEKotlinBinaryClassCache.getKotlinBinaryClass(IDEKotlinBinaryClassCache.kt:67)\r\n\tat org.jetbrains.kotlin.idea.caches.IDEKotlinBinaryClassCache.getKotlinBinaryClassHeaderData(IDEKotlinBinaryClassCache.kt:8\r\n\r\n","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Disabling unused plugins will improve the indexing. In my case I have disabled Kotlin plugin from File -&gt; Settings-&gt; Plugins</p>\n<p>If you check the Intellij logs, which can be found under <code>C:\\Users\\&lt;User Name&gt;\\.IntelliJIdea2019.1\\system\\log</code>, you will get a pointer on what is failing. I was getting an error in Kotlin. After disabling the plugin and restarting Intellij, my issue was fixed.</p>\n<pre><code>java.lang.RuntimeException: java.io.EOFException\nat com.intellij.util.ExceptionUtilRt.rethrow(ExceptionUtilRt.java:31)\nat com.intellij.util.ExceptionUtil.rethrow(ExceptionUtil.java:120)\nat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$DbConnection.handleError(FSRecords.java:516)\nat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$DbConnection.access$000(FSRecords.java:153)\nat com.intellij.openapi.vfs.newvfs.persistent.FSRecords.writeAndHandleErrors(FSRecords.java:965)\nat com.intellij.openapi.vfs.newvfs.persistent.FSRecords.access$300(FSRecords.java:47)\nat com.intellij.openapi.vfs.newvfs.persistent.FSRecords$AttributeOutputStream.close(FSRecords.java:1629)\nat kotlin.io.CloseableKt.closeFinally(Closeable.kt:53)\nat org.jetbrains.kotlin.idea.caches.FileAttributeServiceImpl.write(FileAttributeServiceImpl.kt:64)\nat org.jetbrains.kotlin.idea.caches.FileAttributeServiceImpl.writeBooleanAttribute(FileAttributeServiceImpl.kt:48)\nat org.jetbrains.kotlin.idea.caches.IDEKotlinBinaryClassCache.getKotlinBinaryClass(IDEKotlinBinaryClassCache.kt:67)\nat org.jetbrains.kotlin.idea.caches.IDEKotlinBinaryClassCache.getKotlinBinaryClassHeaderData(IDEKotlinBinaryClassCache.kt:8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68206,"reputation":353,"user_id":199153,"display_name":"dev101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639591658,"creation_date":1639591658,"answer_id":70368408,"question_id":32550292,"body_markdown":"Invalidate Cache and Restart did not work for me on IntelliJ 2021.3 Ultimate.\r\nI was curious to see if the new **Repair IDE** feature on 2021.3 Ultimate version works on this issue on my mac.\r\n\r\n1.  On startup, IntelliJ froze on indexing\r\n    - Force quit and relaunched IntelliJ\r\n2.  On Startup, manually &quot;paused&quot; the indexing from the status bar at the bottom\r\n3.  Invalidated cache and restarted\r\n    - Still froze on indexing\r\n    - Forced quit and relaunched IntelliJ\r\n4.  Repeated Step #2 on startup\r\n5.  From File Menu, executed **Repair IDE**, and went through repair steps\r\n    - FIXED; no longer froze on indexing\r\n6.  Quit IntelliJ and Relaunch\r\n    - No Index issues","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>Invalidate Cache and Restart did not work for me on IntelliJ 2021.3 Ultimate.\nI was curious to see if the new <strong>Repair IDE</strong> feature on 2021.3 Ultimate version works on this issue on my mac.</p>\n<ol>\n<li>On startup, IntelliJ froze on indexing\n<ul>\n<li>Force quit and relaunched IntelliJ</li>\n</ul>\n</li>\n<li>On Startup, manually &quot;paused&quot; the indexing from the status bar at the bottom</li>\n<li>Invalidated cache and restarted\n<ul>\n<li>Still froze on indexing</li>\n<li>Forced quit and relaunched IntelliJ</li>\n</ul>\n</li>\n<li>Repeated Step #2 on startup</li>\n<li>From File Menu, executed <strong>Repair IDE</strong>, and went through repair steps\n<ul>\n<li>FIXED; no longer froze on indexing</li>\n</ul>\n</li>\n<li>Quit IntelliJ and Relaunch\n<ul>\n<li>No Index issues</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6828033,"reputation":611,"user_id":5253113,"display_name":"Nitin Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688150532,"creation_date":1639659336,"answer_id":70379387,"question_id":32550292,"body_markdown":"I was also facing the freezing issue with Intellij 2021.3. Earlier I was using Intellij 2021.1 version and that was working fine, but since I upgraded to Intellij version to 2021.3, it started freezing on indexing of files.\r\n\r\nSomeone in this thread suggested to repair the IDE using the **Repair IDE** feature. Butm that didn&#39;t work for me.\r\n\r\nSo, I went through the thread dumps available in the Intellij logs folder. After analyzing the logs, I found out that calls are blocking on the **Package Search** plugin. So, I disabled that plugin in Settings -&gt; Plugin. To do that I had to pause indexing at the start for the time being. After disabling this plugin, it is working fine for me.\r\n\r\nThis is a known issue and I know disabling it is not a correct fix for it. But I will use it till Intellij will release an official fix for this issue.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I was also facing the freezing issue with Intellij 2021.3. Earlier I was using Intellij 2021.1 version and that was working fine, but since I upgraded to Intellij version to 2021.3, it started freezing on indexing of files.</p>\n<p>Someone in this thread suggested to repair the IDE using the <strong>Repair IDE</strong> feature. Butm that didn't work for me.</p>\n<p>So, I went through the thread dumps available in the Intellij logs folder. After analyzing the logs, I found out that calls are blocking on the <strong>Package Search</strong> plugin. So, I disabled that plugin in Settings -&gt; Plugin. To do that I had to pause indexing at the start for the time being. After disabling this plugin, it is working fine for me.</p>\n<p>This is a known issue and I know disabling it is not a correct fix for it. But I will use it till Intellij will release an official fix for this issue.</p>\n"},{"tags":[],"owner":{"account_id":3150389,"reputation":1496,"user_id":2663959,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688150663,"creation_date":1653479925,"answer_id":72377225,"question_id":32550292,"body_markdown":"It looks like the problem can come from many different sources as other answers point out.\r\n\r\nIn my case, it was the Subversion plugin that had difficulties communicating with the server and made the IDE hang on indexing.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>It looks like the problem can come from many different sources as other answers point out.</p>\n<p>In my case, it was the Subversion plugin that had difficulties communicating with the server and made the IDE hang on indexing.</p>\n"},{"tags":[],"owner":{"account_id":11112769,"reputation":41,"user_id":8157910,"display_name":"Thang Ngo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688371748,"creation_date":1688371748,"answer_id":76602913,"question_id":32550292,"body_markdown":"I have tried setting idea.max.intellisense.filesize, clearing cache and many other ways, and they didn&#39;t work.\r\n\r\nFor me, below steps solved (or at least, mitigated) the problem:\r\n1. Make sure your antivirus software excludes idea64.exe (or similar). Even try to disable real-time scan.\r\n2. Disable all plugins and restart the IDE. If it runs smoothly, try to enable one by one to detect the culprit. Mine were &quot;DGS&quot; and &quot;GraphQL&quot;.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I have tried setting idea.max.intellisense.filesize, clearing cache and many other ways, and they didn't work.</p>\n<p>For me, below steps solved (or at least, mitigated) the problem:</p>\n<ol>\n<li>Make sure your antivirus software excludes idea64.exe (or similar). Even try to disable real-time scan.</li>\n<li>Disable all plugins and restart the IDE. If it runs smoothly, try to enable one by one to detect the culprit. Mine were &quot;DGS&quot; and &quot;GraphQL&quot;.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696275226,"creation_date":1696274922,"answer_id":77218036,"question_id":32550292,"body_markdown":"I tried all advices here but it has stuck right after opening the project. So I forcestopped it through task manager , removed project&#39;s  **.idea** folder and  then relaunched, it restored the **.idea** one , started indexing but  this time I was able to mark as *excluded* **vendor**, **bootstrap**, **storage/views** folders and now it opens the project  quickly as  before","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I tried all advices here but it has stuck right after opening the project. So I forcestopped it through task manager , removed project's  <strong>.idea</strong> folder and  then relaunched, it restored the <strong>.idea</strong> one , started indexing but  this time I was able to mark as <em>excluded</em> <strong>vendor</strong>, <strong>bootstrap</strong>, <strong>storage/views</strong> folders and now it opens the project  quickly as  before</p>\n"},{"tags":[],"owner":{"account_id":22326816,"reputation":41,"user_id":16548722,"display_name":"Spilvergo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701777476,"creation_date":1701777476,"answer_id":77606013,"question_id":32550292,"body_markdown":"In my case i had to disable the sonar plugin.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>In my case i had to disable the sonar plugin.</p>\n"}],"owner":{"account_id":2075756,"reputation":1644,"user_id":1849152,"accept_rate":75,"display_name":"AppleDash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91254,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":32673224,"answer_count":24,"score":84,"last_activity_date":1701777476,"creation_date":1442151941,"question_id":32550292,"body_markdown":"I&#39;m running on Arch Linux, on an i7-5930k 6 core CPU and 64GB of DDR4 RAM, and I&#39;m using IntelliJ IDEA 14.\r\n\r\nIDEA was working just fine for me several days ago, but one day, suddenly, it began hanging after opening a project, during the &quot;Indexing&quot; stage. I did not update IDEA and nothing changed about my projects. The IDE&#39;s UI hangs after it opens the project, with just a tiny little sliver of the progress bar for &quot;Indexing&quot; complete. Every 5-10 minutes or so it unfreezes and the progress bar crawls forward a little bit, before the IDE freezes again for another few minutes. This happens repeatedly for anywhere between 15 minutes and an hour, until it is finally finished indexing, at which point it hangs for another 5-10 minutes doing nothing, before it finally unlocks and allows me to develop.\r\n\r\nWhile this is happening, my system is fairly unresponsive. Firefox tabs take a long time to switch, and scrolling in them is laggy. Opening a new terminal window takes a long time. Switching windows in general takes awhile. In `htop`, one of my CPU cores is loaded at 100% while the rest have a normal load, and about 6GB of RAM is used (fairly normal load when this system is idle.)\r\n\r\nThings I have tried that have not helped:\r\n\r\n- Delete caches folder\r\n- Delete entire ~/.IntelliJIDEA14 folder\r\n- Reinstall IntelliJ package\r\n- Download IntelliJ manually from JetBrains&#39; site and run it from my Downloads folder (to see if there was something wrong with the Arch AUR package)\r\n- Configure IntelliJ to use my system JVM and Maven for importing instead of its embedded tools\r\n- Opening multiple different projects (not just the one I initially experienced the issue on.)\r\n\r\nThis issue is really hurting my workflow. If anybody has any solution to this I would be very grateful.","title":"Why is IntelliJ IDEA hanging on &quot;Indexing&quot;?","body":"<p>I'm running on Arch Linux, on an i7-5930k 6 core CPU and 64GB of DDR4 RAM, and I'm using IntelliJ IDEA 14.</p>\n<p>IDEA was working just fine for me several days ago, but one day, suddenly, it began hanging after opening a project, during the &quot;Indexing&quot; stage. I did not update IDEA and nothing changed about my projects. The IDE's UI hangs after it opens the project, with just a tiny little sliver of the progress bar for &quot;Indexing&quot; complete. Every 5-10 minutes or so it unfreezes and the progress bar crawls forward a little bit, before the IDE freezes again for another few minutes. This happens repeatedly for anywhere between 15 minutes and an hour, until it is finally finished indexing, at which point it hangs for another 5-10 minutes doing nothing, before it finally unlocks and allows me to develop.</p>\n<p>While this is happening, my system is fairly unresponsive. Firefox tabs take a long time to switch, and scrolling in them is laggy. Opening a new terminal window takes a long time. Switching windows in general takes awhile. In <code>htop</code>, one of my CPU cores is loaded at 100% while the rest have a normal load, and about 6GB of RAM is used (fairly normal load when this system is idle.)</p>\n<p>Things I have tried that have not helped:</p>\n<ul>\n<li>Delete caches folder</li>\n<li>Delete entire ~/.IntelliJIDEA14 folder</li>\n<li>Reinstall IntelliJ package</li>\n<li>Download IntelliJ manually from JetBrains' site and run it from my Downloads folder (to see if there was something wrong with the Arch AUR package)</li>\n<li>Configure IntelliJ to use my system JVM and Maven for importing instead of its embedded tools</li>\n<li>Opening multiple different projects (not just the one I initially experienced the issue on.)</li>\n</ul>\n<p>This issue is really hurting my workflow. If anybody has any solution to this I would be very grateful.</p>\n"},{"tags":["java","arraylist","reflection","constructor","java-17"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":6,"creation_date":1701299154,"post_id":77574918,"comment_id":136760047,"body_markdown":"The code assumes that `ArrayList.toArray();` does create a new array, while other implementations of `Collection` don&#39;t necessarily do that, but might return the internal working array. So it assumes that it can simply use that newly created array without having to copy it, but in the other cases it has to copy it, because sharing a read-write data source in multiple `Collection`s usually bears great risk. But old code in Java is usually a mess, with 100s of classes (mostly inner ones) being unnecessary rewrites of already existing ones, and sometimes horribly slow and convoluted code.","body":"The code assumes that <code>ArrayList.toArray();</code> does create a new array, while other implementations of <code>Collection</code> don&#39;t necessarily do that, but might return the internal working array. So it assumes that it can simply use that newly created array without having to copy it, but in the other cases it has to copy it, because sharing a read-write data source in multiple <code>Collection</code>s usually bears great risk. But old code in Java is usually a mess, with 100s of classes (mostly inner ones) being unnecessary rewrites of already existing ones, and sometimes horribly slow and convoluted code."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701299180,"post_id":77574918,"comment_id":136760053,"body_markdown":"`c.getClass()` could return a sub-class of `ArrayList`  (The class `ArrayList` is not final and users can subclass it).","body":"<code>c.getClass()</code> could return a sub-class of <code>ArrayList</code>  (The class <code>ArrayList</code> is not final and users can subclass it)."}],"answers":[{"comments":[{"owner":{"account_id":7868858,"reputation":91,"user_id":5946873,"display_name":"Jesus Aransay"},"score":0,"creation_date":1701387264,"post_id":77575733,"comment_id":136772804,"body_markdown":"I think you got it right when you say that the code knows that the array `a` is not shared with the original `Collection` if it comes from another `ArrayList`, and otherwise it prefers to make an explicit copy of it, by means of `Arrays.copyOf`. On the contrary, I think that even if `toArray()` would return an array of wrong component type, since we have assigned it to `a`, which is of type `Object[]`, that would not be an issue anymore.   Probably this is what the comment in [link](https://github.com/openjdk/jdk/commit/343ecd806bb05065d31124573b3e58a864cfc617) refers to.","body":"I think you got it right when you say that the code knows that the array <code>a</code> is not shared with the original <code>Collection</code> if it comes from another <code>ArrayList</code>, and otherwise it prefers to make an explicit copy of it, by means of <code>Arrays.copyOf</code>. On the contrary, I think that even if <code>toArray()</code> would return an array of wrong component type, since we have assigned it to <code>a</code>, which is of type <code>Object[]</code>, that would not be an issue anymore.   Probably this is what the comment in <a href=\"https://github.com/openjdk/jdk/commit/343ecd806bb05065d31124573b3e58a864cfc617\" rel=\"nofollow noreferrer\">link</a> refers to."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701390152,"post_id":77575733,"comment_id":136773061,"body_markdown":"Arrays know their component type at run-time. Assigning a `String[]`, for example, to an `Object[]` reference does not change the component type; the array is still a `String[]`. I added some code to my answer demonstrating this. Note that `Arrays#copyOf(T[],int)` will return a copy of the array with the same component type as the source array, whereas `Arrays#copyOf(T[],int,Class)` will return a copy of the array with the component type specified by the third argument.","body":"Arrays know their component type at run-time. Assigning a <code>String[]</code>, for example, to an <code>Object[]</code> reference does not change the component type; the array is still a <code>String[]</code>. I added some code to my answer demonstrating this. Note that <code>Arrays#copyOf(T[],int)</code> will return a copy of the array with the same component type as the source array, whereas <code>Arrays#copyOf(T[],int,Class)</code> will return a copy of the array with the component type specified by the third argument."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701430795,"post_id":77575733,"comment_id":136777560,"body_markdown":"I do not agree that the contract of `toArray()` allows to return an array of a different size than the collection. Even the number of `null` elements in the returned array should match the number of `null` elements in the collection. *Nothing in the documentation says anything about the length of the returned array.* should be read as *Nothing in the documentation  says that returning an array of a different length was allowed.* And well, the `size` used in the `Arrays.copyOf()` step has been initialized from the array length anyway.","body":"I do not agree that the contract of <code>toArray()</code> allows to return an array of a different size than the collection. Even the number of <code>null</code> elements in the returned array should match the number of <code>null</code> elements in the collection. <i>Nothing in the documentation says anything about the length of the returned array.</i> should be read as <i>Nothing in the documentation  says that returning an array of a different length was allowed.</i> And well, the <code>size</code> used in the <code>Arrays.copyOf()</code> step has been initialized from the array length anyway."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701473064,"post_id":77575733,"comment_id":136784296,"body_markdown":"@Holger I agree it&#39;s common sense that `a.length == c.size()`. But I find the lack of requiring that explicitly to be jarring, given how specific the documentation is in most other respects (including the fact that any `null` elements in the collection must be included in the array). But you&#39;re right, that point doesn&#39;t really matter here, because `size` is taken from `a.length` instead of `c.size()` (I overlooked that part; it&#39;s also not how I would have implemented it). I&#39;ll remove that from my answer.","body":"@Holger I agree it&#39;s common sense that <code>a.length == c.size()</code>. But I find the lack of requiring that explicitly to be jarring, given how specific the documentation is in most other respects (including the fact that any <code>null</code> elements in the collection must be included in the array). But you&#39;re right, that point doesn&#39;t really matter here, because <code>size</code> is taken from <code>a.length</code> instead of <code>c.size()</code> (I overlooked that part; it&#39;s also not how I would have implemented it). I&#39;ll remove that from my answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701686807,"post_id":77575733,"comment_id":136802274,"body_markdown":"The way it has been implemented is the most robust. It only requires the incoming collection to implement a single operation correctly; it even works with concurrent collections having updates while the constructor is executed, as long as the `toArray` operation returns a valid result, either atomically or weakly consistent.","body":"The way it has been implemented is the most robust. It only requires the incoming collection to implement a single operation correctly; it even works with concurrent collections having updates while the constructor is executed, as long as the <code>toArray</code> operation returns a valid result, either atomically or weakly consistent."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701752495,"post_id":77575733,"comment_id":136811596,"body_markdown":"@Holger Thanks for pointing out the need to consider concurrent collections. I hadn&#39;t considered that.","body":"@Holger Thanks for pointing out the need to consider concurrent collections. I hadn&#39;t considered that."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701472931,"creation_date":1701315427,"answer_id":77575733,"question_id":77574918,"body_markdown":"_Disclaimer: I was not involved in writing the code for `java.util.ArrayList`, nor know anyone who was_.\r\n\r\n---\r\n\r\nThe constructor you&#39;re looking at is a &quot;copy constructor&quot;; it is meant to create a shallow copy of the given collection `c`. That means the elements of `c` must be copied into the new collection, but the new collection&#39;s &quot;structure&quot; (the array in the case of `ArrayList`) must be distinct. Otherwise, structural modifications to `c` would also be visible via the new collection and vice versa.\r\n\r\nThis part:\r\n\r\n&gt; ```java\r\n&gt; if (c.getClass() == ArrayList.class) {\r\n&gt;     elementData = a;\r\n&gt; } else {\r\n&gt;     elementData = Arrays.copyOf(a, size, Object[].class);\r\n&gt; }\r\n&gt; ```\r\n\r\nEnsures the new `ArrayList` and `c` do not share the same array. But `ArrayList` _knows_ its own implementation of `toArray()` returns a distinct array. So, when `c` is an `ArrayList`, it avoids copying the array, thus avoiding unecessary work. Otherwise, if `c` is an instance of any other collection type, _including a subtype of_ `ArrayList` (which could override `toArray()`),&#160;then that knowledge of `toArray()` can no longer be relied upon, so a defensive copy of the array is made.\r\n\r\nThat said, the contract of [`Collection#toArray()`][1] states:\r\n\r\n&gt; The returned array will be &quot;safe&quot; in that no references to it are maintained by this collection. (In other words, this method must allocate a new array even if this collection is backed by an array). The caller is thus free to modify the returned array.\r\n\r\nSo, it would appear copying the array is not necessary, making the above code seem superfluous. But I can think of one reason why the array should be copied:\r\n\r\n* Security. A malicious implementation of `Collection` could break the contract of `toArray()` and keep a reference to the array, allowing an actor to unexpectedly view and/or modify the new `ArrayList`. Since `ArrayList` is a very widely used class, it&#39;s important this sort of thing is guarded against.\r\n\r\n* _Bonus reason (from [meriton&#39;s answer][2])_: Ensure the component type of the array is `Object`. The component type of `elementData` must be `Object` in order to work correctly with the generic nature of `ArrayList`. A bad implementation of `Collection`, malicious or otherwise, could force an `ArrayStoreException` by having `toArray()` return an array with the wrong component type. By passing `Object[].class` to `Arrays.copyOf`, the above code avoids this problem.\r\n\r\nIn both cases, however, `ArrayList` still _knows_ that its own implementation of `toArray()` returns a distinct array with a component type of `Object`, so copying the array can still be avoided when `c.getClass() == ArrayList.class`.\r\n\r\n---\r\n\r\n## Demonstration\r\n\r\nHere is some code demonstrating the problems described by the two points above when the array is not copied correctly.\r\n\r\n**Main.java**:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        MaliciousStringCollection malicious = new MaliciousStringCollection();\r\n\r\n        MyArrayList&lt;Object&gt; objects = new MyArrayList&lt;&gt;(malicious);\r\n\r\n        System.out.println(&quot;Current elements of &#39;objects&#39;:&quot;);\r\n        for (int i = 0; i &lt; objects.size(); i++) {\r\n            System.out.printf(&quot;    objects[%d] = %s%n&quot;, i, objects.get(i));\r\n        }\r\n        System.out.println();\r\n\r\n        // Demonstrate how not copying the array can lead to the list&#39;s array being\r\n        // modified unexpectedly.\r\n        System.out.println(&quot;Changing elements of &#39;objects&#39; via &#39;malicious&#39;. New elements of &#39;objects&#39;:&quot;);\r\n        malicious.changeData();\r\n        for (int i = 0; i &lt; objects.size(); i++) {\r\n            System.out.printf(&quot;    objects[%d] = %s%n&quot;, i, objects.get(i));\r\n        }\r\n        System.out.println();\r\n\r\n        // Demonstrate how not ensuring the component type of the backing array is `Object` can\r\n        // lead to an ArrayStoreException.\r\n        System.out.println(&quot;Adding &#39;42&#39; to &#39;objects&#39;.&quot;);\r\n        objects.add(42); // throws ArrayStoreException\r\n    }\r\n\r\n    public interface MyCollection&lt;E&gt; {\r\n\r\n        /**\r\n         * @return a new array, with a component type of {@code Object}, that contains\r\n         *         the elements of this collection in encounter order\r\n         */\r\n        Object[] toArray();\r\n\r\n        /**\r\n         * @return the size of this collection\r\n         */\r\n        int size();\r\n    }\r\n\r\n    public static class MyArrayList&lt;E&gt; implements MyCollection&lt;E&gt; {\r\n\r\n        private Object[] data;\r\n        private int size;\r\n\r\n        public MyArrayList(MyCollection&lt;? extends E&gt; col) {\r\n            size = col.size();\r\n            /*\r\n             * Fails two things:\r\n             * \r\n             *     1. To ensure the component type of &#39;data&#39; is &#39;Object&#39;\r\n             *     2. To ensure the array is not shared with other code.\r\n             * \r\n             * Both things can be fixed by changing the code to:\r\n             * \r\n             *     data = Arrays.copyOf(col.toArray(), size, Object[].class);\r\n             */\r\n            data = col.toArray();\r\n        }\r\n\r\n        public void add(E e) {\r\n            if (data.length == size) {\r\n                int newLength = data.length + Math.max(data.length / 2, 1);\r\n                data = Arrays.copyOf(data, newLength);\r\n            }\r\n            data[size++] = e;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public E get(int index) {\r\n            Objects.checkIndex(index, size);\r\n            return (E) data[index];\r\n        }\r\n\r\n        @Override\r\n        public int size() {\r\n            return size;\r\n        }\r\n\r\n        @Override\r\n        public Object[] toArray() {\r\n            return Arrays.copyOf(data, size);\r\n        }\r\n    }\r\n\r\n    public static class MaliciousStringCollection implements MyCollection&lt;String&gt; {\r\n\r\n        private final String[] data = {&quot;Hello&quot;, &quot;World&quot;};\r\n\r\n        @Override\r\n        public int size() {\r\n            return data.length;\r\n        }\r\n\r\n        public void changeData() {\r\n            data[0] = &quot;Goodbye&quot;;\r\n        }\r\n        \r\n        @Override\r\n        public Object[] toArray() {\r\n            /*\r\n             * Malicious implementation:\r\n             * \r\n             *     1. Does not return a new, distinct array.\r\n             *     2. Returns an array whose component type is &#39;String&#39;, not &#39;Object&#39;.\r\n             */\r\n            return data;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nCurrent elements of &#39;objects&#39;:\r\n    objects[0] = Hello\r\n    objects[1] = World\r\n\r\nChanging elements of &#39;objects&#39; via &#39;malicious&#39;. New elements of &#39;objects&#39;:\r\n    objects[0] = Goodbye\r\n    objects[1] = World\r\n\r\nAdding &#39;42&#39; to &#39;objects&#39;.\r\nException in thread &quot;main&quot; java.lang.ArrayStoreException: java.lang.Integer\r\n        at Main$MyArrayList.add(Main.java:71)\r\n        at Main.main(Main.java:29)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray()\r\n  [2]: https://stackoverflow.com/a/77576162/6395627\r\n","title":"Is there a good reason to split in two different cases the following ArrayList constructor in the OpenJDK code?","body":"<p><em>Disclaimer: I was not involved in writing the code for <code>java.util.ArrayList</code>, nor know anyone who was</em>.</p>\n<hr />\n<p>The constructor you're looking at is a &quot;copy constructor&quot;; it is meant to create a shallow copy of the given collection <code>c</code>. That means the elements of <code>c</code> must be copied into the new collection, but the new collection's &quot;structure&quot; (the array in the case of <code>ArrayList</code>) must be distinct. Otherwise, structural modifications to <code>c</code> would also be visible via the new collection and vice versa.</p>\n<p>This part:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>if (c.getClass() == ArrayList.class) {\n    elementData = a;\n} else {\n    elementData = Arrays.copyOf(a, size, Object[].class);\n}\n</code></pre>\n</blockquote>\n<p>Ensures the new <code>ArrayList</code> and <code>c</code> do not share the same array. But <code>ArrayList</code> <em>knows</em> its own implementation of <code>toArray()</code> returns a distinct array. So, when <code>c</code> is an <code>ArrayList</code>, it avoids copying the array, thus avoiding unecessary work. Otherwise, if <code>c</code> is an instance of any other collection type, <em>including a subtype of</em> <code>ArrayList</code> (which could override <code>toArray()</code>),then that knowledge of <code>toArray()</code> can no longer be relied upon, so a defensive copy of the array is made.</p>\n<p>That said, the contract of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray()\" rel=\"nofollow noreferrer\"><code>Collection#toArray()</code></a> states:</p>\n<blockquote>\n<p>The returned array will be &quot;safe&quot; in that no references to it are maintained by this collection. (In other words, this method must allocate a new array even if this collection is backed by an array). The caller is thus free to modify the returned array.</p>\n</blockquote>\n<p>So, it would appear copying the array is not necessary, making the above code seem superfluous. But I can think of one reason why the array should be copied:</p>\n<ul>\n<li><p>Security. A malicious implementation of <code>Collection</code> could break the contract of <code>toArray()</code> and keep a reference to the array, allowing an actor to unexpectedly view and/or modify the new <code>ArrayList</code>. Since <code>ArrayList</code> is a very widely used class, it's important this sort of thing is guarded against.</p>\n</li>\n<li><p><em>Bonus reason (from <a href=\"https://stackoverflow.com/a/77576162/6395627\">meriton's answer</a>)</em>: Ensure the component type of the array is <code>Object</code>. The component type of <code>elementData</code> must be <code>Object</code> in order to work correctly with the generic nature of <code>ArrayList</code>. A bad implementation of <code>Collection</code>, malicious or otherwise, could force an <code>ArrayStoreException</code> by having <code>toArray()</code> return an array with the wrong component type. By passing <code>Object[].class</code> to <code>Arrays.copyOf</code>, the above code avoids this problem.</p>\n</li>\n</ul>\n<p>In both cases, however, <code>ArrayList</code> still <em>knows</em> that its own implementation of <code>toArray()</code> returns a distinct array with a component type of <code>Object</code>, so copying the array can still be avoided when <code>c.getClass() == ArrayList.class</code>.</p>\n<hr />\n<h2>Demonstration</h2>\n<p>Here is some code demonstrating the problems described by the two points above when the array is not copied correctly.</p>\n<p><strong>Main.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Objects;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        MaliciousStringCollection malicious = new MaliciousStringCollection();\n\n        MyArrayList&lt;Object&gt; objects = new MyArrayList&lt;&gt;(malicious);\n\n        System.out.println(&quot;Current elements of 'objects':&quot;);\n        for (int i = 0; i &lt; objects.size(); i++) {\n            System.out.printf(&quot;    objects[%d] = %s%n&quot;, i, objects.get(i));\n        }\n        System.out.println();\n\n        // Demonstrate how not copying the array can lead to the list's array being\n        // modified unexpectedly.\n        System.out.println(&quot;Changing elements of 'objects' via 'malicious'. New elements of 'objects':&quot;);\n        malicious.changeData();\n        for (int i = 0; i &lt; objects.size(); i++) {\n            System.out.printf(&quot;    objects[%d] = %s%n&quot;, i, objects.get(i));\n        }\n        System.out.println();\n\n        // Demonstrate how not ensuring the component type of the backing array is `Object` can\n        // lead to an ArrayStoreException.\n        System.out.println(&quot;Adding '42' to 'objects'.&quot;);\n        objects.add(42); // throws ArrayStoreException\n    }\n\n    public interface MyCollection&lt;E&gt; {\n\n        /**\n         * @return a new array, with a component type of {@code Object}, that contains\n         *         the elements of this collection in encounter order\n         */\n        Object[] toArray();\n\n        /**\n         * @return the size of this collection\n         */\n        int size();\n    }\n\n    public static class MyArrayList&lt;E&gt; implements MyCollection&lt;E&gt; {\n\n        private Object[] data;\n        private int size;\n\n        public MyArrayList(MyCollection&lt;? extends E&gt; col) {\n            size = col.size();\n            /*\n             * Fails two things:\n             * \n             *     1. To ensure the component type of 'data' is 'Object'\n             *     2. To ensure the array is not shared with other code.\n             * \n             * Both things can be fixed by changing the code to:\n             * \n             *     data = Arrays.copyOf(col.toArray(), size, Object[].class);\n             */\n            data = col.toArray();\n        }\n\n        public void add(E e) {\n            if (data.length == size) {\n                int newLength = data.length + Math.max(data.length / 2, 1);\n                data = Arrays.copyOf(data, newLength);\n            }\n            data[size++] = e;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public E get(int index) {\n            Objects.checkIndex(index, size);\n            return (E) data[index];\n        }\n\n        @Override\n        public int size() {\n            return size;\n        }\n\n        @Override\n        public Object[] toArray() {\n            return Arrays.copyOf(data, size);\n        }\n    }\n\n    public static class MaliciousStringCollection implements MyCollection&lt;String&gt; {\n\n        private final String[] data = {&quot;Hello&quot;, &quot;World&quot;};\n\n        @Override\n        public int size() {\n            return data.length;\n        }\n\n        public void changeData() {\n            data[0] = &quot;Goodbye&quot;;\n        }\n        \n        @Override\n        public Object[] toArray() {\n            /*\n             * Malicious implementation:\n             * \n             *     1. Does not return a new, distinct array.\n             *     2. Returns an array whose component type is 'String', not 'Object'.\n             */\n            return data;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Current elements of 'objects':\n    objects[0] = Hello\n    objects[1] = World\n\nChanging elements of 'objects' via 'malicious'. New elements of 'objects':\n    objects[0] = Goodbye\n    objects[1] = World\n\nAdding '42' to 'objects'.\nException in thread &quot;main&quot; java.lang.ArrayStoreException: java.lang.Integer\n        at Main$MyArrayList.add(Main.java:71)\n        at Main.main(Main.java:29)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1701459038,"post_id":77576162,"comment_id":136782566,"body_markdown":"Note, in old implementations `Arrays.toList(&quot;foo&quot;).toArray().getClass() == String[].class`.","body":"Note, in old implementations <code>Arrays.toList(&quot;foo&quot;).toArray().getClass() == String[].class</code>."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701323670,"creation_date":1701323076,"answer_id":77576162,"question_id":77574918,"body_markdown":"If you do a [git blame](https://github.com/openjdk/jdk/blame/master/src/java.base/share/classes/java/util/ArrayList.java) on that source file, you will find that this code was introduced as part of the commit [343ecd806bb050](https://github.com/openjdk/jdk/commit/343ecd806bb05065d31124573b3e58a864cfc617), whose commit message\r\n\r\n&gt; 8231800: Better listing of arrays \r\n\r\nreferences the issue JDK-8231800 in the JDK bugtracker. Alas, this issue is not visible to the public, but googling it reveals it has been shipped with security updates to all Java versions supported at the time, providing strong evidence that this was related to a security issue (which also explains why the details of the issue haven&#39;t been made public, and why the commit message is not descriptive).\r\n\r\nHowever, googling also finds an [enhancement request](https://bugs.openjdk.org/browse/JDK-8257475?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel) filed by the autor of that code, which does describe the challenges this piece of code is intended to solve:\r\n\r\n&gt; Consider new ArrayList&lt;E&gt;(Collection&lt;E&gt; arg). This calls arg.toArray() and makes a defensive copy of it for use use as the internal array to the ArrayList. This copy is necessary in case the arg&#39;s toArray() implementation produces an array whose class is something other than Object[].class or if it retains a reference to the returned array. (Both of these are spec violations, but they&#39;re unenforceable.)\r\n\r\nThat is, ArrayList needs its array to\r\n\r\n* admit elements of type `E`\r\n* not be accessible (and therefore modifiable) by other code\r\n\r\nImplementations of `Collection.toArray` are specified to satisfy this:\r\n\r\n&gt; `Object[] toArray()`\r\n&gt; \r\n&gt; Returns an array containing all of the elements in this collection. If this collection makes any guarantees as to what order its elements are returned by its iterator, this method must return the elements in the same order. The returned array&#39;s runtime component type is Object.\r\n&gt; \r\n&gt; The returned array will be &quot;safe&quot; in that no references to it are maintained by this collection. (In other words, this method must allocate a new array even if this collection is backed by an array). The caller is thus free to modify the returned array.\r\n\r\nhowever, we can&#39;t be sure that an implementation actually does this. For instance, an implementation might do:\r\n\r\n```\r\nclass StringList implements Collection&lt;String&gt; {\r\n    String[] elements = new String[10];\r\n    int size = 0;\r\n    \r\n    // other methods omitted\r\n\r\n    @Override \r\n    Object[] toArray() {\r\n        return Arrays.copyOf(elements, size);\r\n    }\r\n}\r\n```\r\n\r\nwhich looks totally innocent, right? But this implementation actually violates the spec, because `copyOf` will return a `String[]` rather than an `Object[]`, so if somebody did:\r\n\r\n  \t\tvar strings = new StringList(&quot;Hello&quot;, &quot;World&quot;);\r\n\t\tvar objects = new ArrayList&lt;Object&gt;(strings);\r\n\t\tobjects.add(42); \r\n\r\nThat code is totally correct as far as the compile time type system is concerned, but would fail at runtime with an `ArrayStoreException` if `ArrayList` reused the array returned by `StringList.toArray()`. \r\n\r\nThe second issue is more nefarious. Suppose you have code like this:\r\n\r\n```\r\nclass AccessManager {\r\n    final List&lt;Permission&gt; permissions;\r\n\r\n    public AccessManager(List&lt;Permission&gt; requestedPermissions) {\r\n        permissions = new ArrayList&lt;&gt;(requestedPermissions);\r\n        verifyPermissions();\r\n    }\r\n\r\n    private verifyPermissions() { \r\n        for (var p : permissions) {\r\n            if (!currentUser.has(p)) {\r\n                throw new SecurityException();\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean checkAccess(Permission p) {\r\n        return permissions.contains(p);\r\n    }\r\n}\r\n```\r\n\r\nand some nefarious hacker declared:\r\n\r\n```\r\nclass NefariousList implements Collection&lt;Permission&gt; {\r\n    Object[] permissions = { new InnocentPermission() };\r\n\r\n    @Override\r\n    public Object[] toArray() {\r\n        return permissions;\r\n    }\r\n}\r\n```\r\n\r\nand then did:\r\n\r\n```\r\nvar nefarious = new NefariousList();\r\nvar accessManager = new AccessManager(nefarious);\r\nvar service = new Service(accessManager);\r\n\r\nnefarious.permissions[0] = new AdminPermission();\r\nservice.deleteDatabase();\r\n```\r\n\r\nthey could successfully delete the database, because `AccessManager` finds an `AdminPermission` in the list of verified permissions ... \r\n\r\n(if you believe such hand-written security code with reference sharing bugs to be contrived, behold this [real world example from a recent stackoverflow question](https://stackoverflow.com/questions/77212901/java-static-list-causes-memory-leak/77212960#77212960))\r\n\r\nSince core classes of the Java Language are [required to work correctly even if untrusted code executes within the same JVM](https://www.oracle.com/java/technologies/javase/seccodeguide.html), `ArrayList` can not, in general, rely on `Collection.toArray` to be implemented correctly unless it has verified that the implementation is, in fact, safe, because it comes from a trustworthy JDK class.","title":"Is there a good reason to split in two different cases the following ArrayList constructor in the OpenJDK code?","body":"<p>If you do a <a href=\"https://github.com/openjdk/jdk/blame/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"noreferrer\">git blame</a> on that source file, you will find that this code was introduced as part of the commit <a href=\"https://github.com/openjdk/jdk/commit/343ecd806bb05065d31124573b3e58a864cfc617\" rel=\"noreferrer\">343ecd806bb050</a>, whose commit message</p>\n<blockquote>\n<p>8231800: Better listing of arrays</p>\n</blockquote>\n<p>references the issue JDK-8231800 in the JDK bugtracker. Alas, this issue is not visible to the public, but googling it reveals it has been shipped with security updates to all Java versions supported at the time, providing strong evidence that this was related to a security issue (which also explains why the details of the issue haven't been made public, and why the commit message is not descriptive).</p>\n<p>However, googling also finds an <a href=\"https://bugs.openjdk.org/browse/JDK-8257475?page=com.atlassian.jira.plugin.system.issuetabpanels%3Achangehistory-tabpanel\" rel=\"noreferrer\">enhancement request</a> filed by the autor of that code, which does describe the challenges this piece of code is intended to solve:</p>\n<blockquote>\n<p>Consider new ArrayList(Collection arg). This calls arg.toArray() and makes a defensive copy of it for use use as the internal array to the ArrayList. This copy is necessary in case the arg's toArray() implementation produces an array whose class is something other than Object[].class or if it retains a reference to the returned array. (Both of these are spec violations, but they're unenforceable.)</p>\n</blockquote>\n<p>That is, ArrayList needs its array to</p>\n<ul>\n<li>admit elements of type <code>E</code></li>\n<li>not be accessible (and therefore modifiable) by other code</li>\n</ul>\n<p>Implementations of <code>Collection.toArray</code> are specified to satisfy this:</p>\n<blockquote>\n<p><code>Object[] toArray()</code></p>\n<p>Returns an array containing all of the elements in this collection. If this collection makes any guarantees as to what order its elements are returned by its iterator, this method must return the elements in the same order. The returned array's runtime component type is Object.</p>\n<p>The returned array will be &quot;safe&quot; in that no references to it are maintained by this collection. (In other words, this method must allocate a new array even if this collection is backed by an array). The caller is thus free to modify the returned array.</p>\n</blockquote>\n<p>however, we can't be sure that an implementation actually does this. For instance, an implementation might do:</p>\n<pre><code>class StringList implements Collection&lt;String&gt; {\n    String[] elements = new String[10];\n    int size = 0;\n    \n    // other methods omitted\n\n    @Override \n    Object[] toArray() {\n        return Arrays.copyOf(elements, size);\n    }\n}\n</code></pre>\n<p>which looks totally innocent, right? But this implementation actually violates the spec, because <code>copyOf</code> will return a <code>String[]</code> rather than an <code>Object[]</code>, so if somebody did:</p>\n<pre><code>    var strings = new StringList(&quot;Hello&quot;, &quot;World&quot;);\n    var objects = new ArrayList&lt;Object&gt;(strings);\n    objects.add(42); \n</code></pre>\n<p>That code is totally correct as far as the compile time type system is concerned, but would fail at runtime with an <code>ArrayStoreException</code> if <code>ArrayList</code> reused the array returned by <code>StringList.toArray()</code>.</p>\n<p>The second issue is more nefarious. Suppose you have code like this:</p>\n<pre><code>class AccessManager {\n    final List&lt;Permission&gt; permissions;\n\n    public AccessManager(List&lt;Permission&gt; requestedPermissions) {\n        permissions = new ArrayList&lt;&gt;(requestedPermissions);\n        verifyPermissions();\n    }\n\n    private verifyPermissions() { \n        for (var p : permissions) {\n            if (!currentUser.has(p)) {\n                throw new SecurityException();\n            }\n        }\n    }\n\n    boolean checkAccess(Permission p) {\n        return permissions.contains(p);\n    }\n}\n</code></pre>\n<p>and some nefarious hacker declared:</p>\n<pre><code>class NefariousList implements Collection&lt;Permission&gt; {\n    Object[] permissions = { new InnocentPermission() };\n\n    @Override\n    public Object[] toArray() {\n        return permissions;\n    }\n}\n</code></pre>\n<p>and then did:</p>\n<pre><code>var nefarious = new NefariousList();\nvar accessManager = new AccessManager(nefarious);\nvar service = new Service(accessManager);\n\nnefarious.permissions[0] = new AdminPermission();\nservice.deleteDatabase();\n</code></pre>\n<p>they could successfully delete the database, because <code>AccessManager</code> finds an <code>AdminPermission</code> in the list of verified permissions ...</p>\n<p>(if you believe such hand-written security code with reference sharing bugs to be contrived, behold this <a href=\"https://stackoverflow.com/questions/77212901/java-static-list-causes-memory-leak/77212960#77212960\">real world example from a recent stackoverflow question</a>)</p>\n<p>Since core classes of the Java Language are <a href=\"https://www.oracle.com/java/technologies/javase/seccodeguide.html\" rel=\"noreferrer\">required to work correctly even if untrusted code executes within the same JVM</a>, <code>ArrayList</code> can not, in general, rely on <code>Collection.toArray</code> to be implemented correctly unless it has verified that the implementation is, in fact, safe, because it comes from a trustworthy JDK class.</p>\n"}],"owner":{"account_id":7868858,"reputation":91,"user_id":5946873,"display_name":"Jesus Aransay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1701777337,"creation_date":1701298545,"question_id":77574918,"body_markdown":"When reading through the OpenJDK code for class ArrayList, for instance, in JDK17 \r\n\r\n&gt;(https://github.com/openjdk/jdk17/blob/master/src/java.base/share/classes/java/util/ArrayList.java)\r\n\r\nI stumbled upon the following constructor:\r\n\r\n\r\n```java\r\npublic ArrayList(Collection&lt;? extends E&gt; c) {\r\n    Object[] a = c.toArray();\r\n    if ((size = a.length) != 0) {\r\n        if (c.getClass() == ArrayList.class) {\r\n            elementData = a;\r\n        } else {\r\n            elementData = Arrays.copyOf(a, size, Object[].class);\r\n        }\r\n    } else {\r\n        // replace with empty array.\r\n        elementData = EMPTY_ELEMENTDATA;\r\n    }\r\n}\r\n```\r\n\r\nWhat is the reason behind the distinction whether `c.getClass()` is an `ArrayList.class` or not? Is this case splitting necessary at all?\r\n\r\n(I was just trying to understand Java code that is part of the OpenJDK distribution for class ArrayList.)","title":"Is there a good reason to split in two different cases the following ArrayList constructor in the OpenJDK code?","body":"<p>When reading through the OpenJDK code for class ArrayList, for instance, in JDK17</p>\n<blockquote>\n<p>(<a href=\"https://github.com/openjdk/jdk17/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk17/blob/master/src/java.base/share/classes/java/util/ArrayList.java</a>)</p>\n</blockquote>\n<p>I stumbled upon the following constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList(Collection&lt;? extends E&gt; c) {\n    Object[] a = c.toArray();\n    if ((size = a.length) != 0) {\n        if (c.getClass() == ArrayList.class) {\n            elementData = a;\n        } else {\n            elementData = Arrays.copyOf(a, size, Object[].class);\n        }\n    } else {\n        // replace with empty array.\n        elementData = EMPTY_ELEMENTDATA;\n    }\n}\n</code></pre>\n<p>What is the reason behind the distinction whether <code>c.getClass()</code> is an <code>ArrayList.class</code> or not? Is this case splitting necessary at all?</p>\n<p>(I was just trying to understand Java code that is part of the OpenJDK distribution for class ArrayList.)</p>\n"},{"tags":["java","playframework","jackson","jackson-databind"],"owner":{"account_id":372707,"reputation":2330,"user_id":721899,"accept_rate":86,"display_name":"Ijaz Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701776524,"creation_date":1701776524,"question_id":77605904,"body_markdown":"Working on application based on Java play framework, task is to replace legacy date java.util.Date to java8 java.time.LocalDatetime in the whole application. But there is issue with the form binding when a Date attribute changed to LocalDateTime .\r\n\r\nFE send the data as \r\n```\r\n{&quot;dob&quot;: &quot;2023-12-05T00:00:00+01:00}\r\n```\r\n\r\n\r\nForm is like that \r\n```\r\n @Data\r\n    @Constraints.Validate\r\n    public static class StudentForm implements Constraints.Validatable&lt;List&lt;ValidationError&gt;&gt; {\r\n\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT,\r\n                timezone = DEFAULT_TIME_ZONE)\r\n        @Formats.DateTime(pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT)\r\n        //NEW CODE\r\n        private LocalDateTime dob;\r\n \r\n}\r\n```\r\n\r\nin the old code dob is a java.util.Date object\r\n```\r\n @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT,\r\n                timezone = DEFAULT_TIME_ZONE)\r\n        @Formats.DateTime(pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT)\r\n private Date dob;\r\n```\r\n\r\nRequest is received in the following controller \r\n\r\n```\r\npublic class StudentController extends Controller {\r\n\r\n  public CompletionStage&lt;Result&gt; create(Http.Request request) {\r\n\r\n \tvar form = formFactory.form(StudentForm.class).bindFromRequest(request);\r\n        if (form.hasErrors())\r\n            return completedFuture(badRequest(error(form.errors())));\r\n \r\n    }\r\n}\r\n\r\n```\r\n\r\ngives validation error\r\n```\r\n &quot;error.invalid&quot;\r\n```\r\n\r\n\r\neven tried with following annotations in the form but still no succes\r\n```\r\n @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n        private LocalDateTime dob;\r\n```\r\n\r\n\r\ndate Deserialization during the form binding failing , Its really hard to debug and see whats happening inside Playframwork\r\n\r\nSo how to bind a java 8 LocalDateTime in the form? \r\n\r\n\r\n\r\n","title":"Java Play Framework Form Binding fails for Java 8 LocalDateTime with validation error.invalid","body":"<p>Working on application based on Java play framework, task is to replace legacy date java.util.Date to java8 java.time.LocalDatetime in the whole application. But there is issue with the form binding when a Date attribute changed to LocalDateTime .</p>\n<p>FE send the data as</p>\n<pre><code>{&quot;dob&quot;: &quot;2023-12-05T00:00:00+01:00}\n</code></pre>\n<p>Form is like that</p>\n<pre><code> @Data\n    @Constraints.Validate\n    public static class StudentForm implements Constraints.Validatable&lt;List&lt;ValidationError&gt;&gt; {\n\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT,\n                timezone = DEFAULT_TIME_ZONE)\n        @Formats.DateTime(pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT)\n        //NEW CODE\n        private LocalDateTime dob;\n \n}\n</code></pre>\n<p>in the old code dob is a java.util.Date object</p>\n<pre><code> @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT,\n                timezone = DEFAULT_TIME_ZONE)\n        @Formats.DateTime(pattern = ISO_DATE_TIME_WITH_OFFSET_FORMAT)\n private Date dob;\n</code></pre>\n<p>Request is received in the following controller</p>\n<pre><code>public class StudentController extends Controller {\n\n  public CompletionStage&lt;Result&gt; create(Http.Request request) {\n\n    var form = formFactory.form(StudentForm.class).bindFromRequest(request);\n        if (form.hasErrors())\n            return completedFuture(badRequest(error(form.errors())));\n \n    }\n}\n\n</code></pre>\n<p>gives validation error</p>\n<pre><code> &quot;error.invalid&quot;\n</code></pre>\n<p>even tried with following annotations in the form but still no succes</p>\n<pre><code> @JsonSerialize(using = LocalDateTimeSerializer.class)\n        @JsonFormat(pattern=&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;)\n        private LocalDateTime dob;\n</code></pre>\n<p>date Deserialization during the form binding failing , Its really hard to debug and see whats happening inside Playframwork</p>\n<p>So how to bind a java 8 LocalDateTime in the form?</p>\n"},{"tags":["java","regex","chess"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":1,"creation_date":1583349188,"post_id":60533174,"comment_id":107089678,"body_markdown":"Does this answer your question? [Learning Regular Expressions](https://stackoverflow.com/questions/4736/learning-regular-expressions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">Learning Regular Expressions</a>"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1583350141,"post_id":60533174,"comment_id":107090085,"body_markdown":"@CarySwoveland I can understand this. Unfortunately, I could not see any attempts of OP though I understand that OP is new at regex and OP just showed us the attempts so now I am going to open the post :)","body":"@CarySwoveland I can understand this. Unfortunately, I could not see any attempts of OP though I understand that OP is new at regex and OP just showed us the attempts so now I am going to open the post :)"},{"owner":{"account_id":17776589,"reputation":19,"user_id":12908773,"display_name":"rutger1490"},"score":0,"creation_date":1583350383,"post_id":60533174,"comment_id":107090197,"body_markdown":"My compiler states that i am not using a valid escape sequence? @Pavneet_Singh","body":"My compiler states that i am not using a valid escape sequence? @Pavneet_Singh"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1583350443,"post_id":60533174,"comment_id":107090225,"body_markdown":"use double `\\\\s` to escape the `\\s` and remove `+`","body":"use double <code>\\\\s</code> to escape the <code>\\s</code> and remove <code>+</code>"},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1583353202,"post_id":60533174,"comment_id":107091459,"body_markdown":"I&#39;m going to add a warning (because I&#39;ve fallen into similar, _terrible_ ideas in the past once I&#39;ve gotten regex involved in a process).  Finding the moves like this is fine...  Do _not_ start trying to verify if a move is legal with regex.","body":"I&#39;m going to add a warning (because I&#39;ve fallen into similar, <i>terrible</i> ideas in the past once I&#39;ve gotten regex involved in a process).  Finding the moves like this is fine...  Do <i>not</i> start trying to verify if a move is legal with regex."},{"owner":{"account_id":17776589,"reputation":19,"user_id":12908773,"display_name":"rutger1490"},"score":1,"creation_date":1583364193,"post_id":60533174,"comment_id":107095495,"body_markdown":"@BeUndead I have seperate logic that determines whether a move is valid. I just needed to do some initial input verification to make sure the input is properly formatted.","body":"@BeUndead I have seperate logic that determines whether a move is valid. I just needed to do some initial input verification to make sure the input is properly formatted."},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1590145175,"post_id":60533174,"comment_id":109575563,"body_markdown":"@rutger1490 - If one of the answers resolved your issue, you can help the community by marking it as accepted. An accepted answer helps future visitors use the solution confidently. Check https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work to learn how to do it.","body":"@rutger1490 - If one of the answers resolved your issue, you can help the community by marking it as accepted. An accepted answer helps future visitors use the solution confidently. Check <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a> to learn how to do it."}],"answers":[{"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1583350526,"post_id":60533480,"comment_id":107090265,"body_markdown":"note : `\\d` will match 0 and 9, \\w will match A-Z, i-z","body":"note : <code>\\d</code> will match 0 and 9, \\w will match A-Z, i-z"},{"owner":{"account_id":17776589,"reputation":19,"user_id":12908773,"display_name":"rutger1490"},"score":0,"creation_date":1583350828,"post_id":60533480,"comment_id":107090402,"body_markdown":"How can I limit the possible digits and the possible letters to specific characters?","body":"How can I limit the possible digits and the possible letters to specific characters?"}],"tags":[],"owner":{"account_id":17874757,"reputation":111,"user_id":12985115,"display_name":"Huatxu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583352648,"creation_date":1583350455,"answer_id":60533480,"question_id":60533174,"body_markdown":"```([a-h][1-8] [a-h][1-8])```\r\n\r\nhttps://regexr.com/ is a great resource that you should check.\r\n\r\n","title":"Java Chess Game Regex","body":"<p><code>([a-h][1-8] [a-h][1-8])</code></p>\n\n<p><a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a> is a great resource that you should check.</p>\n"},{"comments":[{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1625780795,"post_id":68308896,"comment_id":120726242,"body_markdown":"I&#39;m not sure what the rationale would be for trying to capture so much specific &quot;chess move logic&quot; in the validation regex. You just end up with a difficult-to-verify expression whose logic will need to be duplicated in the game implementation in any case?","body":"I&#39;m not sure what the rationale would be for trying to capture so much specific &quot;chess move logic&quot; in the validation regex. You just end up with a difficult-to-verify expression whose logic will need to be duplicated in the game implementation in any case?"}],"tags":[],"owner":{"account_id":496250,"reputation":543,"user_id":1757756,"display_name":"Mavaddat Javid"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625780340,"creation_date":1625780340,"answer_id":68308896,"question_id":60533174,"body_markdown":"A comprehensive regular expression to check the validity of input can be as follows:\r\n\r\n```lang-regex\r\n\\s*(\\d{1,3})\\.?\\s*((?:(?:O-O(?:-O)?)|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?))\\+?)(?:\\s*\\d+\\.?\\d+?m?s)?\\.?\\s*((?:(?:O-O(?:-O)?)|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?))\\+?)?(?:\\s*\\d+\\.?\\d+?m?s)?\r\n```\r\n\r\nThe explanation of the above is as follows:\r\n\r\n```lang-java\r\n\\s*                                     // Ignore whitespace before\r\n(\\d{1,3})                               // Capture group 1: Move number between 1 and 999 will precede white side&#39;s move.\r\n\\.?                                     // Literal period, in case move numbers followed by a period. The replace pattern will restore period, so it is not captured. \r\n\\s*                                     // Ignore whitespace\r\n(                                       // Capture group 2: This will collect the white side&#39;s move\r\n(?:                                     // Start non-capturing group A: Use vertical bar | between non-capturing groups to check for castling, piece moves/captures, pawn moves/captures/promotion\r\n(?:O-O(?:-O)?)                          // Non-capturing subgroup A1: For castling kingside or queenside. Change the O to 0 to work for sites that 0-0 for castling notation\r\n|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])     // Non-capturing subgroup A2: For piece (non-pawn) moves and piece captures\r\n|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?)       // Non-capturing subgroup A3: Pawn moves, captures, and promotions\r\n)                                       // End non-capturing group A\r\n\\+?                                     // Allow plus symbol for checks (attacks on king)\r\n)                                       // End capturing group 2: White side&#39;s move\r\n(?:\\s*\\d+\\.?\\d+?m?s)?                   // Non-capturing group B: Skip over move-times; it is possible to retain move times if you make this a capturing group\r\n\\.?                                     // Allow period in case a time ends in a decimal point\r\n\\s*                                     // Ignore whitespace\r\n(                                       // Capture group 3: This will collect the black side&#39;s move\r\n(?:                                     // Start non-capturing group C: Use vertical bar | between non-capturing groups to check for castling, piece moves/captures, pawn moves/captures/promotion\r\n(?:O-O(?:-O)?)                          // Non-capturing subgroup C1: For castling kingside or queenside. Change the O to 0 to work for sites that 0-0 for castling notation\r\n|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])     // Non-capturing subgroup C2: For piece (non-pawn) moves and piece captures\r\n|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?)       // Non-capturing subgroup C3: Pawn moves, captures, and promotions\r\n)                                       // End non-capturing group C\r\n\\+?                                     // Allow plus symbol for checks (attacks on king)\r\n)?                                      // End capturing group 3: Black side&#39;s move. Question mark allows final move to be white side&#39;s move without any subsequent black moves\r\n(?:\\s*\\d+\\.?\\d+?m?s)?                   // Non-capturing group D: Skip over move-times; it is possible to retain move times if you make this a capturing group\r\n```","title":"Java Chess Game Regex","body":"<p>A comprehensive regular expression to check the validity of input can be as follows:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\s*(\\d{1,3})\\.?\\s*((?:(?:O-O(?:-O)?)|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?))\\+?)(?:\\s*\\d+\\.?\\d+?m?s)?\\.?\\s*((?:(?:O-O(?:-O)?)|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?))\\+?)?(?:\\s*\\d+\\.?\\d+?m?s)?\n</code></pre>\n<p>The explanation of the above is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\\s*                                     // Ignore whitespace before\n(\\d{1,3})                               // Capture group 1: Move number between 1 and 999 will precede white side's move.\n\\.?                                     // Literal period, in case move numbers followed by a period. The replace pattern will restore period, so it is not captured. \n\\s*                                     // Ignore whitespace\n(                                       // Capture group 2: This will collect the white side's move\n(?:                                     // Start non-capturing group A: Use vertical bar | between non-capturing groups to check for castling, piece moves/captures, pawn moves/captures/promotion\n(?:O-O(?:-O)?)                          // Non-capturing subgroup A1: For castling kingside or queenside. Change the O to 0 to work for sites that 0-0 for castling notation\n|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])     // Non-capturing subgroup A2: For piece (non-pawn) moves and piece captures\n|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?)       // Non-capturing subgroup A3: Pawn moves, captures, and promotions\n)                                       // End non-capturing group A\n\\+?                                     // Allow plus symbol for checks (attacks on king)\n)                                       // End capturing group 2: White side's move\n(?:\\s*\\d+\\.?\\d+?m?s)?                   // Non-capturing group B: Skip over move-times; it is possible to retain move times if you make this a capturing group\n\\.?                                     // Allow period in case a time ends in a decimal point\n\\s*                                     // Ignore whitespace\n(                                       // Capture group 3: This will collect the black side's move\n(?:                                     // Start non-capturing group C: Use vertical bar | between non-capturing groups to check for castling, piece moves/captures, pawn moves/captures/promotion\n(?:O-O(?:-O)?)                          // Non-capturing subgroup C1: For castling kingside or queenside. Change the O to 0 to work for sites that 0-0 for castling notation\n|(?:[KQNBR][1-8a-h]?x?[a-h]x?[1-8])     // Non-capturing subgroup C2: For piece (non-pawn) moves and piece captures\n|(?:[a-h]x?[a-h]?[1-8]\\=?[QRNB]?)       // Non-capturing subgroup C3: Pawn moves, captures, and promotions\n)                                       // End non-capturing group C\n\\+?                                     // Allow plus symbol for checks (attacks on king)\n)?                                      // End capturing group 3: Black side's move. Question mark allows final move to be white side's move without any subsequent black moves\n(?:\\s*\\d+\\.?\\d+?m?s)?                   // Non-capturing group D: Skip over move-times; it is possible to retain move times if you make this a capturing group\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20351922,"reputation":3,"user_id":14928421,"display_name":"Drogo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649687507,"creation_date":1649687507,"answer_id":71829646,"question_id":60533174,"body_markdown":"Based on the general notation for chess moves, you can apply the following regex.\r\nThe chess moves could look like this:\r\n\r\n```\r\nMOVE1.    e4   c5   \r\nMOVE2.   Sf3  Sc6   \r\nMOVE3.   Lb5  g6   \r\nMOVE4.   Lxc6 dxc6  \r\nMOVE5.    d3   Lg7  \r\nMOVE6.    h3   Sf6  \r\nMOVE7.   Sc3  Sd7    \r\nMOVE8.   Le3   e5   \r\nMOVE9.   O-O   b6  \r\nMOVE10.  Sh2  Sf8  \r\nMOVE11.   f4   exf4\r\n```\r\n\r\nAfter cutting out the first part of the line, the corresponding regex for validating whether the notation is correct looks like this:\r\n\r\n```\r\n([a-h]|\\\\s|[KDTLSO])([a-h]|\\\\d|[KDTLSx-]|\\\\s)([a-h]|\\\\s|[+#xO]|\\\\d)([a-h]|\\\\s|\\\\d|[+#-])(\\\\s|[+#O]|\\\\d)\r\n```\r\n","title":"Java Chess Game Regex","body":"<p>Based on the general notation for chess moves, you can apply the following regex.\nThe chess moves could look like this:</p>\n<pre><code>MOVE1.    e4   c5   \nMOVE2.   Sf3  Sc6   \nMOVE3.   Lb5  g6   \nMOVE4.   Lxc6 dxc6  \nMOVE5.    d3   Lg7  \nMOVE6.    h3   Sf6  \nMOVE7.   Sc3  Sd7    \nMOVE8.   Le3   e5   \nMOVE9.   O-O   b6  \nMOVE10.  Sh2  Sf8  \nMOVE11.   f4   exf4\n</code></pre>\n<p>After cutting out the first part of the line, the corresponding regex for validating whether the notation is correct looks like this:</p>\n<pre><code>([a-h]|\\\\s|[KDTLSO])([a-h]|\\\\d|[KDTLSx-]|\\\\s)([a-h]|\\\\s|[+#xO]|\\\\d)([a-h]|\\\\s|\\\\d|[+#-])(\\\\s|[+#O]|\\\\d)\n</code></pre>\n"}],"owner":{"account_id":17776589,"reputation":19,"user_id":12908773,"display_name":"rutger1490"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1701776152,"creation_date":1583349155,"question_id":60533174,"body_markdown":"I am currently working on a chess game in java. I want to create a method to check the format of the string input. A typical chess move in my game is: \r\n\r\n    e2 e4 \r\n    a1 a3 \r\n\r\nIn general, its:\r\n   \r\n    [letter][number][space][letter][number]\r\n\r\nHow can I check this format with a regex? I am fairly new to regular expression and would appreciate any help\r\n\r\nSo far, I have: \r\n\r\n    [a-h]+[1-8]+\\s+[a-h]+[1-8]","title":"Java Chess Game Regex","body":"<p>I am currently working on a chess game in java. I want to create a method to check the format of the string input. A typical chess move in my game is: </p>\n\n<pre><code>e2 e4 \na1 a3 \n</code></pre>\n\n<p>In general, its:</p>\n\n<pre><code>[letter][number][space][letter][number]\n</code></pre>\n\n<p>How can I check this format with a regex? I am fairly new to regular expression and would appreciate any help</p>\n\n<p>So far, I have: </p>\n\n<pre><code>[a-h]+[1-8]+\\s+[a-h]+[1-8]\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1701776337,"post_id":77605872,"comment_id":136814876,"body_markdown":"You already do.","body":"You already do."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701776363,"post_id":77605872,"comment_id":136814879,"body_markdown":"*What would be the appropriate way to access &quot;myList&quot; defined in &quot;FirstClass&quot; from &quot;SecondClass&quot;?* - depends on the purpose of `FirstClass` and `myList`. You should provide more context, currently your question can&#39;t be answered objectively.","body":"<i>What would be the appropriate way to access &quot;myList&quot; defined in &quot;FirstClass&quot; from &quot;SecondClass&quot;?</i> - depends on the purpose of <code>FirstClass</code> and <code>myList</code>. You should provide more context, currently your question can&#39;t be answered objectively."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701776745,"post_id":77605872,"comment_id":136814921,"body_markdown":"What you are doing there *could* be appropriate or it *could* be inappropriate ... depending on what the classes are modelling.  Unfortunately, the class, field, variable and method names provide no clues as to the purpose of these classes, so we can&#39;t make judgements of appropriateness.","body":"What you are doing there <i>could</i> be appropriate or it <i>could</i> be inappropriate ... depending on what the classes are modelling.  Unfortunately, the class, field, variable and method names provide no clues as to the purpose of these classes, so we can&#39;t make judgements of appropriateness."}],"owner":{"account_id":29657872,"reputation":35,"user_id":22730212,"display_name":"RichpooR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701776928,"answer_count":0,"score":-2,"last_activity_date":1701776137,"creation_date":1701776137,"question_id":77605872,"body_markdown":"I have an ArrayList created within a class in Java. How can I access this ArrayList from other classes?\r\n\r\nLet&#39;s say I have a class named FirstClass where I define an ArrayList:\r\n\r\n    public class FirstClass {\r\n    private ArrayList&lt;String&gt; myList;\r\n\r\n    public FirstClass() {\r\n        myList = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getMyList() {\r\n        return myList;\r\n    }\r\n}\r\n\r\nNow, I want to access this &quot;myList&quot; ArrayList from another class, let&#39;s call it &quot;SecondClass&quot;. How can I achieve this?\r\n\r\n    public class SecondClass {\r\n    public void accessMethod() {\r\n        FirstClass firstClassObject = new FirstClass();\r\n\r\n        // How can I access the myList ArrayList from FirstClass here?\r\n        ArrayList&lt;String&gt; accessedList = firstClassObject.getMyList();\r\n\r\n        // Now, what can I do with accessedList?\r\n        accessedList.add(&quot;New Item&quot;);\r\n        // etc.\r\n    }\r\n}\r\n\r\nWhat would be the appropriate way to access &quot;myList&quot; defined in &quot;FirstClass&quot; from &quot;SecondClass&quot;? Should I use a different approach or modify the access method? Any guidance would be appreciated. Thanks!","title":"Accessing ArrayLists created in one class from other classes in Java","body":"<p>I have an ArrayList created within a class in Java. How can I access this ArrayList from other classes?</p>\n<p>Let's say I have a class named FirstClass where I define an ArrayList:</p>\n<pre><code>public class FirstClass {\nprivate ArrayList&lt;String&gt; myList;\n\npublic FirstClass() {\n    myList = new ArrayList&lt;&gt;();\n}\n\npublic ArrayList&lt;String&gt; getMyList() {\n    return myList;\n}\n</code></pre>\n<p>}</p>\n<p>Now, I want to access this &quot;myList&quot; ArrayList from another class, let's call it &quot;SecondClass&quot;. How can I achieve this?</p>\n<pre><code>public class SecondClass {\npublic void accessMethod() {\n    FirstClass firstClassObject = new FirstClass();\n\n    // How can I access the myList ArrayList from FirstClass here?\n    ArrayList&lt;String&gt; accessedList = firstClassObject.getMyList();\n\n    // Now, what can I do with accessedList?\n    accessedList.add(&quot;New Item&quot;);\n    // etc.\n}\n</code></pre>\n<p>}</p>\n<p>What would be the appropriate way to access &quot;myList&quot; defined in &quot;FirstClass&quot; from &quot;SecondClass&quot;? Should I use a different approach or modify the access method? Any guidance would be appreciated. Thanks!</p>\n"},{"tags":["java","url","file","uri"],"answers":[{"comments":[{"owner":{"account_id":4133546,"reputation":101,"user_id":3390719,"display_name":"Obaidah"},"score":1,"creation_date":1602844021,"post_id":3234185,"comment_id":113854765,"body_markdown":"this fails in case of no internet","body":"this fails in case of no internet"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1602856671,"post_id":3234185,"comment_id":113860593,"body_markdown":"Well yea.  But if there is not internet, you can&#39;t fetch the file.  So it hardly matters what its type is.  (And you can wait until the internet comes back, or &quot;guess based on the extension&quot; if you *really* need to &quot;know&quot; *now*.)","body":"Well yea.  But if there is not internet, you can&#39;t fetch the file.  So it hardly matters what its type is.  (And you can wait until the internet comes back, or &quot;guess based on the extension&quot; if you <i>really</i> need to &quot;know&quot; <i>now</i>.)"},{"owner":{"account_id":4133546,"reputation":101,"user_id":3390719,"display_name":"Obaidah"},"score":0,"creation_date":1602860605,"post_id":3234185,"comment_id":113862655,"body_markdown":"Maybe you just need to know the extension without fetching the file?","body":"Maybe you just need to know the extension without fetching the file?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1602860927,"post_id":3234185,"comment_id":113862817,"body_markdown":"If the extension is not in the URI, AND you can&#39;t fetch the file or its metadata to find out what the file type really is, then there is no solution ... that doesn&#39;t involve time travel, clairvoyance, or some other mumbo jumbo.","body":"If the extension is not in the URI, AND you can&#39;t fetch the file or its metadata to find out what the file type really is, then there is no solution ... that doesn&#39;t involve time travel, clairvoyance, or some other mumbo jumbo."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1348301929,"creation_date":1278995055,"answer_id":3234185,"question_id":3234090,"body_markdown":"There are two answers to this.\r\n\r\nIf a URI does not have a &quot;file extension&quot;, then there is no way that you can infer one by looking at it textually, or by converting it to a `File`.  In general, neither the URI or the File needs to have an extension at all.  Extensions are just a file naming **convention**.\r\n\r\nWhat you are really after is the media type / MIMEtype / content type of the file.  You may be able to determine the media type by doing something like this:\r\n\r\n    URLConnection conn = url.connect();\r\n    String type = conn.getContentType();\r\n\r\nHowever the [`getContentType()`][1] method will return `null` if the server did not set a content type in the response.  (Or it could give you the wrong content type, or a non-specific content type.)  At that point, you would need to resort to content type &quot;guessing&quot;, and I don&#39;t know if that would give you a specific enough type in this case.\r\n\r\nBut if you &quot;know&quot; that the file *should* be OWL, why don&#39;t you just give it a &quot;.owl&quot; extension anyway?\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/net/URLConnection.html#getContentType()","title":"How to determine the file extension of a file from a uri","body":"<p>There are two answers to this.</p>\n\n<p>If a URI does not have a \"file extension\", then there is no way that you can infer one by looking at it textually, or by converting it to a <code>File</code>.  In general, neither the URI or the File needs to have an extension at all.  Extensions are just a file naming <strong>convention</strong>.</p>\n\n<p>What you are really after is the media type / MIMEtype / content type of the file.  You may be able to determine the media type by doing something like this:</p>\n\n<pre><code>URLConnection conn = url.connect();\nString type = conn.getContentType();\n</code></pre>\n\n<p>However the <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/net/URLConnection.html#getContentType()\" rel=\"noreferrer\"><code>getContentType()</code></a> method will return <code>null</code> if the server did not set a content type in the response.  (Or it could give you the wrong content type, or a non-specific content type.)  At that point, you would need to resort to content type \"guessing\", and I don't know if that would give you a specific enough type in this case.</p>\n\n<p>But if you \"know\" that the file <em>should</em> be OWL, why don't you just give it a \".owl\" extension anyway?</p>\n"},{"comments":[{"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"score":0,"creation_date":1436368683,"post_id":5967650,"comment_id":50584413,"body_markdown":"URLConnection.guessContentTypeFromName(address) // (String address) is the best answer imho.","body":"URLConnection.guessContentTypeFromName(address) // (String address) is the best answer imho."}],"tags":[],"owner":{"account_id":751067,"reputation":251,"user_id":748689,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377273992,"creation_date":1305131750,"answer_id":5967650,"question_id":3234090,"body_markdown":"`URLConnection.guessContentTypeFromName(url)` would deliver the mime type as in the first answer.\r\nMaybe you simply wanted:\r\n\r\n    String extension = url.getPath().replaceFirst(&quot;^.*/[^/]*(\\\\.[^\\\\./]*|)$&quot;, &quot;$1&quot;);\r\n\r\nThe regular expression consuming all upto the last slash, then upto a period and either returns an extension like &quot;.owl&quot; or &quot;&quot;. (If not mistaken)","title":"How to determine the file extension of a file from a uri","body":"<p><code>URLConnection.guessContentTypeFromName(url)</code> would deliver the mime type as in the first answer.\nMaybe you simply wanted:</p>\n\n<pre><code>String extension = url.getPath().replaceFirst(\"^.*/[^/]*(\\\\.[^\\\\./]*|)$\", \"$1\");\n</code></pre>\n\n<p>The regular expression consuming all upto the last slash, then upto a period and either returns an extension like \".owl\" or \"\". (If not mistaken)</p>\n"},{"comments":[{"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"score":25,"creation_date":1436366690,"post_id":14604637,"comment_id":50582813,"body_markdown":"This won&#39;t work if the url has a question mark after the filename or a hash.","body":"This won&#39;t work if the url has a question mark after the filename or a hash."},{"owner":{"account_id":909177,"reputation":2696,"user_id":943432,"accept_rate":100,"display_name":"Alex A."},"score":3,"creation_date":1487345821,"post_id":14604637,"comment_id":71758286,"body_markdown":"That period character check you added doesn&#39;t do anything very useful, since there&#39;s a period before the top level domain anyway.","body":"That period character check you added doesn&#39;t do anything very useful, since there&#39;s a period before the top level domain anyway."},{"owner":{"account_id":4630649,"reputation":9217,"user_id":3753273,"accept_rate":63,"display_name":"Android Developer"},"score":0,"creation_date":1542623708,"post_id":14604637,"comment_id":93621425,"body_markdown":"If uri doesn&#39;t contain period character can I assume that uri is NOT a uri of a file?","body":"If uri doesn&#39;t contain period character can I assume that uri is NOT a uri of a file?"},{"owner":{"account_id":3437223,"reputation":3289,"user_id":2880055,"display_name":"ThinkDigital"},"score":0,"creation_date":1576792276,"post_id":14604637,"comment_id":105021968,"body_markdown":"@AndroidDeveloper, no. Take the following url as an example.\nhttps://fluttercommunity.dev/_github/header/flutter_webview_plugin","body":"@AndroidDeveloper, no. Take the following url as an example. <a href=\"https://fluttercommunity.dev/_github/header/flutter_webview_plugin\" rel=\"nofollow noreferrer\">fluttercommunity.dev/_github/header/flutter_webview_plugin</a>"},{"owner":{"account_id":6832619,"reputation":3131,"user_id":5255963,"display_name":"Ali Rezaiyan"},"score":0,"creation_date":1609356331,"post_id":14604637,"comment_id":115823777,"body_markdown":"Uri is different than Url","body":"Uri is different than Url"}],"tags":[],"owner":{"account_id":980236,"reputation":3073,"user_id":1000145,"accept_rate":74,"display_name":"Tim Vis&#233;e"},"comment_count":5,"down_vote_count":4,"up_vote_count":84,"is_accepted":true,"score":80,"last_activity_date":1419955186,"creation_date":1359550808,"answer_id":14604637,"question_id":3234090,"body_markdown":"At first, I want to make sure you know it&#39;s impossible to find out what kind of file a URI links too, since a link ending with `.jpg` might let you access a `.exe` file (this is especially true for URL&#39;s, due to symbolic links and .htaccess files), thus it isn&#39;t a rock solid solution to fetch the *real* extension from the URI if you want to limit allowed file types, if this is what you&#39;re going for of course. So, I assume you just want to know what extension a file has based on it&#39;s URI even though this isn&#39;t completely trustworthy;\r\n\r\nYou can get the extension from any URI, URL or file path using the method bellow. You don&#39;t have to use any libraries or extensions, since this is basic Java functionality. This solution get&#39;s the position of the last `.` (period) sign in the URI string, and creates a sub-string starting at the position of the period sign, ending at the end of the URI string.\r\n\r\n    String uri = &quot;http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/integrating_apps/images/google_logo.png&quot;;\r\n    String extension = uri.substring(uri.lastIndexOf(&quot;.&quot;));\r\n\r\nThis code sample will above will output the `.png` extension from the URI in the `extension` variable, note that a `.` (period) is included in the extension, if you want to gather the file extension without a prefixed period, increase the substring index by one, like this:\r\n\r\n    String extension = uri.substring(url.lastIndexOf(&quot;.&quot;) + 1);\r\n\r\nOne pro for using this method over regular expressions (a method other people use a lot) is that this is a lot less resource expensive and a lot less heavy to execute while giving the same result.\r\n\r\nAdditionally, you might want to make sure the URL contains a period character, use the following code to achieve this:\r\n\r\n    String uri = &quot;http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/integrating_apps/images/google_logo.png&quot;;\r\n    if(uri.contains(&quot;.&quot;)) {\r\n        String extension = uri.substring(url.lastIndexOf(&quot;.&quot;));\r\n    }\r\n\r\nYou might want to improve the functionally even further to create a more robust system. Two examples might be:\r\n\r\n - Validate the URI by checking it exists, or by making sure the syntax of the URI is valid, possibly using a regular expression.\r\n - Trim the extension to remove unwanted white spaces.\r\n\r\nI won&#39;t cover the solutions for these two features in here, because that isn&#39;t what was being asked in the first place.\r\n\r\nHope this helps!","title":"How to determine the file extension of a file from a uri","body":"<p>At first, I want to make sure you know it's impossible to find out what kind of file a URI links too, since a link ending with <code>.jpg</code> might let you access a <code>.exe</code> file (this is especially true for URL's, due to symbolic links and .htaccess files), thus it isn't a rock solid solution to fetch the <em>real</em> extension from the URI if you want to limit allowed file types, if this is what you're going for of course. So, I assume you just want to know what extension a file has based on it's URI even though this isn't completely trustworthy;</p>\n\n<p>You can get the extension from any URI, URL or file path using the method bellow. You don't have to use any libraries or extensions, since this is basic Java functionality. This solution get's the position of the last <code>.</code> (period) sign in the URI string, and creates a sub-string starting at the position of the period sign, ending at the end of the URI string.</p>\n\n<pre><code>String uri = \"http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/integrating_apps/images/google_logo.png\";\nString extension = uri.substring(uri.lastIndexOf(\".\"));\n</code></pre>\n\n<p>This code sample will above will output the <code>.png</code> extension from the URI in the <code>extension</code> variable, note that a <code>.</code> (period) is included in the extension, if you want to gather the file extension without a prefixed period, increase the substring index by one, like this:</p>\n\n<pre><code>String extension = uri.substring(url.lastIndexOf(\".\") + 1);\n</code></pre>\n\n<p>One pro for using this method over regular expressions (a method other people use a lot) is that this is a lot less resource expensive and a lot less heavy to execute while giving the same result.</p>\n\n<p>Additionally, you might want to make sure the URL contains a period character, use the following code to achieve this:</p>\n\n<pre><code>String uri = \"http://www.google.com/support/enterprise/static/gsa/docs/admin/70/gsa_doc_set/integrating_apps/images/google_logo.png\";\nif(uri.contains(\".\")) {\n    String extension = uri.substring(url.lastIndexOf(\".\"));\n}\n</code></pre>\n\n<p>You might want to improve the functionally even further to create a more robust system. Two examples might be:</p>\n\n<ul>\n<li>Validate the URI by checking it exists, or by making sure the syntax of the URI is valid, possibly using a regular expression.</li>\n<li>Trim the extension to remove unwanted white spaces.</li>\n</ul>\n\n<p>I won't cover the solutions for these two features in here, because that isn't what was being asked in the first place.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":7706953,"reputation":1256,"user_id":5837616,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1460193163,"creation_date":1460193163,"answer_id":36514869,"question_id":3234090,"body_markdown":"This link might help for those who are still having problems:\r\nhttps://stackoverflow.com/questions/12473851/how-i-can-get-the-mime-type-of-a-file-having-its-uri\r\n\r\n     public static String getMimeType(Context context, Uri uri) {\r\n        String extension;\r\n\r\n        //Check uri format to avoid null\r\n        if (uri.getScheme().equals(ContentResolver.SCHEME_CONTENT)) {\r\n            //If scheme is a content\r\n            final MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n            extension = mime.getExtensionFromMimeType(context.getContentResolver().getType(uri));\r\n        } else {\r\n            //If scheme is a File\r\n            //This will replace white spaces with %20 and also other special characters. This will avoid returning null values on file name with spaces and special characters.\r\n            extension = MimeTypeMap.getFileExtensionFromUrl(Uri.fromFile(new File(uri.getPath())).toString());\r\n\r\n        }\r\n\r\n        return extension;\r\n    }","title":"How to determine the file extension of a file from a uri","body":"<p>This link might help for those who are still having problems:\n<a href=\"https://stackoverflow.com/questions/12473851/how-i-can-get-the-mime-type-of-a-file-having-its-uri\">How I can get the mime type of a file having its Uri?</a></p>\n\n<pre><code> public static String getMimeType(Context context, Uri uri) {\n    String extension;\n\n    //Check uri format to avoid null\n    if (uri.getScheme().equals(ContentResolver.SCHEME_CONTENT)) {\n        //If scheme is a content\n        final MimeTypeMap mime = MimeTypeMap.getSingleton();\n        extension = mime.getExtensionFromMimeType(context.getContentResolver().getType(uri));\n    } else {\n        //If scheme is a File\n        //This will replace white spaces with %20 and also other special characters. This will avoid returning null values on file name with spaces and special characters.\n        extension = MimeTypeMap.getFileExtensionFromUrl(Uri.fromFile(new File(uri.getPath())).toString());\n\n    }\n\n    return extension;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1510789860,"creation_date":1477375132,"answer_id":40232403,"question_id":3234090,"body_markdown":"I am doing it in this way. \r\n\r\nYou can check any file extension with more validation:\r\n\r\n    String stringUri = uri.toString();\r\n    String fileFormat = &quot;png&quot;;\r\n    \r\n                        if (stringUri.contains(&quot;.&quot;) &amp;&amp; fileFormat.equalsIgnoreCase(stringUri.substring(stringUri.lastIndexOf(&quot;.&quot;) + 1))) {\r\n\r\n                            // do anything\r\n\r\n                        } else {\r\n\r\n                            // invalid file\r\n\r\n                        }","title":"How to determine the file extension of a file from a uri","body":"<p>I am doing it in this way. </p>\n\n<p>You can check any file extension with more validation:</p>\n\n<pre><code>String stringUri = uri.toString();\nString fileFormat = \"png\";\n\n                    if (stringUri.contains(\".\") &amp;&amp; fileFormat.equalsIgnoreCase(stringUri.substring(stringUri.lastIndexOf(\".\") + 1))) {\n\n                        // do anything\n\n                    } else {\n\n                        // invalid file\n\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496765340,"creation_date":1496765340,"answer_id":44394953,"question_id":3234090,"body_markdown":"As other answers have explained, you don&#39;t really know the content type without inspecting the file. However, you can predict the file type from a URL. \r\n\r\nJava *almost* provides this functionality as part of the `URL` class. The method `URL::getFile` will intelligently grab the file portion of a `URL`: \r\n\r\n    final URL url = new URL(&quot;http://www.example.com/a/b/c/stuff.zip?u=1&quot;);\r\n    final String file = url.getFile(); // file = &quot;/a/b/c/stuff.zip?u=1&quot;\r\n\r\nWe can use this to write our implementation: \r\n\r\n    public static Optional&lt;String&gt; getFileExtension(final URL url) {\r\n\r\n        Objects.requireNonNull(url, &quot;url is null&quot;);\r\n\r\n        final String file = url.getFile();\r\n\r\n        if (file.contains(&quot;.&quot;)) {\r\n\r\n            final String sub = file.substring(file.lastIndexOf(&#39;.&#39;) + 1);\r\n\r\n            if (sub.length() == 0) {\r\n                return Optional.empty();\r\n            }\r\n\r\n            if (sub.contains(&quot;?&quot;)) {\r\n                return Optional.of(sub.substring(0, sub.indexOf(&#39;?&#39;)));\r\n            }\r\n\r\n            return Optional.of(sub);\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n\r\nThis implementation should handle edge-cases properly: \r\n\r\n    assertEquals(\r\n        Optional.of(&quot;zip&quot;), \r\n        getFileExtension(new URL(&quot;http://www.example.com/stuff.zip&quot;)));\r\n\r\n    assertEquals(\r\n        Optional.of(&quot;zip&quot;), \r\n        getFileExtension(new URL(&quot;http://www.example.com/stuff.zip&quot;)));\r\n\r\n    assertEquals(\r\n        Optional.of(&quot;zip&quot;), \r\n        getFileExtension(new URL(&quot;http://www.example.com/a/b/c/stuff.zip&quot;)));\r\n\r\n    assertEquals(\r\n        Optional.empty(), \r\n        getFileExtension(new URL(&quot;http://www.example.com&quot;)));\r\n\r\n    assertEquals(\r\n        Optional.empty(), \r\n        getFileExtension(new URL(&quot;http://www.example.com/&quot;)));\r\n\r\n    assertEquals(\r\n        Optional.empty(), \r\n        getFileExtension(new URL(&quot;http://www.example.com/.&quot;)));","title":"How to determine the file extension of a file from a uri","body":"<p>As other answers have explained, you don't really know the content type without inspecting the file. However, you can predict the file type from a URL. </p>\n\n<p>Java <em>almost</em> provides this functionality as part of the <code>URL</code> class. The method <code>URL::getFile</code> will intelligently grab the file portion of a <code>URL</code>: </p>\n\n<pre><code>final URL url = new URL(\"http://www.example.com/a/b/c/stuff.zip?u=1\");\nfinal String file = url.getFile(); // file = \"/a/b/c/stuff.zip?u=1\"\n</code></pre>\n\n<p>We can use this to write our implementation: </p>\n\n<pre><code>public static Optional&lt;String&gt; getFileExtension(final URL url) {\n\n    Objects.requireNonNull(url, \"url is null\");\n\n    final String file = url.getFile();\n\n    if (file.contains(\".\")) {\n\n        final String sub = file.substring(file.lastIndexOf('.') + 1);\n\n        if (sub.length() == 0) {\n            return Optional.empty();\n        }\n\n        if (sub.contains(\"?\")) {\n            return Optional.of(sub.substring(0, sub.indexOf('?')));\n        }\n\n        return Optional.of(sub);\n    }\n\n    return Optional.empty();\n}\n</code></pre>\n\n<p>This implementation should handle edge-cases properly: </p>\n\n<pre><code>assertEquals(\n    Optional.of(\"zip\"), \n    getFileExtension(new URL(\"http://www.example.com/stuff.zip\")));\n\nassertEquals(\n    Optional.of(\"zip\"), \n    getFileExtension(new URL(\"http://www.example.com/stuff.zip\")));\n\nassertEquals(\n    Optional.of(\"zip\"), \n    getFileExtension(new URL(\"http://www.example.com/a/b/c/stuff.zip\")));\n\nassertEquals(\n    Optional.empty(), \n    getFileExtension(new URL(\"http://www.example.com\")));\n\nassertEquals(\n    Optional.empty(), \n    getFileExtension(new URL(\"http://www.example.com/\")));\n\nassertEquals(\n    Optional.empty(), \n    getFileExtension(new URL(\"http://www.example.com/.\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13652732,"reputation":687,"user_id":9850128,"display_name":"Nevil Ghelani"},"score":0,"creation_date":1548572240,"post_id":54385559,"comment_id":95584009,"body_markdown":"Hey Tedinoz, Don&#39;t you notice comment of tim visee&#39;s answer? This will not work if url has &#39;?&#39; or &#39;/&#39; after filename. If you have url of image from firebase then it gives whole string after &quot;.&quot; (dot). e.g, if url is &quot;https://firebasestorage.googleapis.com/v0/b/mememaker-13a8c.appspot.com/o/A_Letter_For%20_You.jpg?alt=media&amp;token=e89f415c-8338-4e56-9d4c-9a87b6e0edb5&quot; then it gives extension as &quot;.jpg?alt=media&amp;token=e89f415c-8338-4e56-9d4c-9a87b6e0edb5&quot; but I want only &quot;.jpg&quot; as extension","body":"Hey Tedinoz, Don&#39;t you notice comment of tim visee&#39;s answer? This will not work if url has &#39;?&#39; or &#39;/&#39; after filename. If you have url of image from firebase then it gives whole string after &quot;.&quot; (dot). e.g, if url is &quot;<a href=\"https://firebasestorage.googleapis.com/v0/b/mememaker-13a8c.appspot.com/o/A_Letter_For%20_You.jpg?alt=media&amp;token=e89f415c-8338-4e56-9d4c-9a87b6e0edb5\" rel=\"nofollow noreferrer\">firebasestorage.googleapis.com/v0/b/mememaker-13a8c.appspot&zwnj;&#8203;.com/&hellip;</a>&quot; then it gives extension as &quot;.jpg?alt=media&amp;token=e89f415c-8338-4e56-9d4c-9a87b6e0edb5&quot; but I want only &quot;.jpg&quot; as extension"}],"tags":[],"owner":{"account_id":13652732,"reputation":687,"user_id":9850128,"display_name":"Nevil Ghelani"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548916483,"creation_date":1548569785,"answer_id":54385559,"question_id":3234090,"body_markdown":"Accepted answer is not useful for url contains &#39;?&#39; or &#39;/&#39; after extension. So, to remove that extra string,\r\nYou can use getLastPathSegment() method. It gives you only name from uri and then you can get extension as follows:\r\n\r\n    String name = uri.getLastPathSegment();\r\n    //Here uri is your uri from which you want to get extension\r\n    String extension = name.substring(name.lastIndexOf(&quot;.&quot;));\r\n\r\nabove code gets extension with .(dot) if you want to remove the dot then you can code as follows:\r\n\r\n    String extension = name.substring(name.lastIndexOf(&quot;.&quot;) + 1);\r\n\r\n   \r\n    ","title":"How to determine the file extension of a file from a uri","body":"<p>Accepted answer is not useful for url contains '?' or '/' after extension. So, to remove that extra string,\nYou can use getLastPathSegment() method. It gives you only name from uri and then you can get extension as follows:</p>\n\n<pre><code>String name = uri.getLastPathSegment();\n//Here uri is your uri from which you want to get extension\nString extension = name.substring(name.lastIndexOf(\".\"));\n</code></pre>\n\n<p>above code gets extension with .(dot) if you want to remove the dot then you can code as follows:</p>\n\n<pre><code>String extension = name.substring(name.lastIndexOf(\".\") + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1555313736,"creation_date":1555313736,"answer_id":55684441,"question_id":3234090,"body_markdown":"Another useful way which is not mentioned in accepted answer is, If you have a remote url, then you can get mimeType from URLConnection, Like\r\n\r\n      URLConnection urlConnection = new URL(&quot;http://www.google.com&quot;).openConnection();\r\n      String mimeType = urlConnection.getContentType(); \r\n\r\nNow to get file extension from MimeType, I&#39;ll refer to this [post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51598473/5701085","title":"How to determine the file extension of a file from a uri","body":"<p>Another useful way which is not mentioned in accepted answer is, If you have a remote url, then you can get mimeType from URLConnection, Like</p>\n\n<pre><code>  URLConnection urlConnection = new URL(\"http://www.google.com\").openConnection();\n  String mimeType = urlConnection.getContentType(); \n</code></pre>\n\n<p>Now to get file extension from MimeType, I'll refer to this <a href=\"https://stackoverflow.com/a/51598473/5701085\">post</a></p>\n"},{"tags":[],"owner":{"account_id":18222082,"reputation":1,"user_id":13262632,"display_name":"Pavel Finskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701775859,"creation_date":1701775859,"answer_id":77605851,"question_id":3234090,"body_markdown":"You can just make in such way:\r\n```\r\nimport org.apache.commons.io.FilenameUtils;\r\nFilenameUtils.getExtension(url.getPath());\r\n```","title":"How to determine the file extension of a file from a uri","body":"<p>You can just make in such way:</p>\n<pre><code>import org.apache.commons.io.FilenameUtils;\nFilenameUtils.getExtension(url.getPath());\n</code></pre>\n"}],"owner":{"account_id":26725,"reputation":50482,"user_id":69803,"accept_rate":65,"display_name":"Ankur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84694,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":14604637,"answer_count":9,"score":38,"last_activity_date":1701775859,"creation_date":1278993466,"question_id":3234090,"body_markdown":"Assuming I am given a URI, and I want to find the file extension of the file that is returned, what do I have to do in Java.\r\n\r\nFor example the file at http://www.daml.org/2001/08/baseball/baseball-ont is http://www.daml.org/2001/08/baseball/baseball-ont.owl\r\n\r\nWhen I do \r\n\r\n\t\tURI uri = new URI(address); \r\n\t\tURL url = uri.toURL();\r\n\t\tString file = url.getFile();\r\n\t\tSystem.out.println(file);\r\n\r\nI am not able to see the full file name with `.owl` extension, just `/2001/08/baseball/baseball-ont` how do I get the file extension as well.\r\n``","title":"How to determine the file extension of a file from a uri","body":"<p>Assuming I am given a URI, and I want to find the file extension of the file that is returned, what do I have to do in Java.</p>\n\n<p>For example the file at <a href=\"http://www.daml.org/2001/08/baseball/baseball-ont\" rel=\"noreferrer\">http://www.daml.org/2001/08/baseball/baseball-ont</a> is <a href=\"http://www.daml.org/2001/08/baseball/baseball-ont.owl\" rel=\"noreferrer\">http://www.daml.org/2001/08/baseball/baseball-ont.owl</a></p>\n\n<p>When I do </p>\n\n<pre><code>    URI uri = new URI(address); \n    URL url = uri.toURL();\n    String file = url.getFile();\n    System.out.println(file);\n</code></pre>\n\n<p>I am not able to see the full file name with <code>.owl</code> extension, just <code>/2001/08/baseball/baseball-ont</code> how do I get the file extension as well.\n``</p>\n"},{"tags":["java","android","debugging","build"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701667990,"post_id":77597192,"comment_id":136799860,"body_markdown":"That&#39;s all enabled by default.  When you build by default it&#39;s a debug build.  You can check which mode its in at runtime by checking BuildConfig.  How were you doing it?","body":"That&#39;s all enabled by default.  When you build by default it&#39;s a debug build.  You can check which mode its in at runtime by checking BuildConfig.  How were you doing it?"}],"answers":[{"tags":[],"owner":{"account_id":28801081,"reputation":15,"user_id":22057982,"display_name":"Cruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676794,"creation_date":1701676794,"answer_id":77597946,"question_id":77597192,"body_markdown":"I hope this helps:\r\n\r\n*Note this is how to set up correctly, not necessarily fixing your specific error. Try undoing what you&#39;ve done, and doing this. If you don&#39;t want to do that, try looking for debugging solutions in the website I provided.\r\n\r\nSelect **Build** in the top menu &gt; Select **Build Variant** &gt; **View** &gt; **Tool** **Windows** &gt; **Build Variants.**\r\n\r\nThen, click the **Build Variants** tab on the tool window bar.\r\n\r\nI suspect this website should also help you:\r\n\r\nhttps://developer.android.com/studio/run\r\n\r\nGood luck!","title":"How to change build type in Android Studio","body":"<p>I hope this helps:</p>\n<p>*Note this is how to set up correctly, not necessarily fixing your specific error. Try undoing what you've done, and doing this. If you don't want to do that, try looking for debugging solutions in the website I provided.</p>\n<p>Select <strong>Build</strong> in the top menu &gt; Select <strong>Build Variant</strong> &gt; <strong>View</strong> &gt; <strong>Tool</strong> <strong>Windows</strong> &gt; <strong>Build Variants.</strong></p>\n<p>Then, click the <strong>Build Variants</strong> tab on the tool window bar.</p>\n<p>I suspect this website should also help you:</p>\n<p><a href=\"https://developer.android.com/studio/run\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/run</a></p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701684560,"creation_date":1701684560,"answer_id":77598592,"question_id":77597192,"body_markdown":"You need to add productFlavor to your app so that your **build.gradle(app-level)** file :\r\n\r\n    flavorDimensions &quot;app&quot;\r\n    productFlavors {\r\n        appOneRelease {\r\n            applicationId &quot;com.example.appOneRelease&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            // you can add other flavor related configurations here\r\n            return true\r\n        }\r\n        appOneDevelopment {\r\n            applicationId &quot;com.example.appOneDevelopment&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            // you can add other flavor related configurations here\r\n            return true\r\n        }\r\n    }","title":"How to change build type in Android Studio","body":"<p>You need to add productFlavor to your app so that your <strong>build.gradle(app-level)</strong> file :</p>\n<pre><code>flavorDimensions &quot;app&quot;\nproductFlavors {\n    appOneRelease {\n        applicationId &quot;com.example.appOneRelease&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        // you can add other flavor related configurations here\n        return true\n    }\n    appOneDevelopment {\n        applicationId &quot;com.example.appOneDevelopment&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        // you can add other flavor related configurations here\n        return true\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15323686,"reputation":1,"user_id":11055428,"display_name":"hellooxd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701775315,"creation_date":1701663262,"question_id":77597192,"body_markdown":"I am using Android Studio and want to have two different versions of my app. One &quot;release&quot; version for the public and a &quot;debug&quot; version for developers. I have made the two build variants and can go to the &quot;debug&quot; build where the code is a little different. But when I run the code, the normal &quot;main&quot; or &quot;release&quot; code gets ran, its like Ive never made a &quot;debug&quot; and &quot;release&quot; version. It just runs the code like it did before. And I have to say I tried everything.\r\n\r\nAnyone expierenced can help me out maybe?\r\n\r\nI have tried to fix it with gradle commands and changing lines in the build.gradle. Ive changed the build variant in Android Studio 100%.\r\n\r\nEDIT: Oh god, I just found the problem. I just had to set the exported value of the activity to &quot;true&quot; in the AndroidManifest so it can run.. But your answers actually helped me too, thank you!!","title":"How to change build type in Android Studio","body":"<p>I am using Android Studio and want to have two different versions of my app. One &quot;release&quot; version for the public and a &quot;debug&quot; version for developers. I have made the two build variants and can go to the &quot;debug&quot; build where the code is a little different. But when I run the code, the normal &quot;main&quot; or &quot;release&quot; code gets ran, its like Ive never made a &quot;debug&quot; and &quot;release&quot; version. It just runs the code like it did before. And I have to say I tried everything.</p>\n<p>Anyone expierenced can help me out maybe?</p>\n<p>I have tried to fix it with gradle commands and changing lines in the build.gradle. Ive changed the build variant in Android Studio 100%.</p>\n<p>EDIT: Oh god, I just found the problem. I just had to set the exported value of the activity to &quot;true&quot; in the AndroidManifest so it can run.. But your answers actually helped me too, thank you!!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9901,"page":16,"page_size":100}
