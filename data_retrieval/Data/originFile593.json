{"items":[{"tags":["java","jmapviewer"],"answers":[{"comments":[{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":0,"creation_date":1411224308,"post_id":25944439,"comment_id":40626346,"body_markdown":"Thanks for the example - I have about 50 markers on the map, so that&#39;s a lot of iterations every time the mouse moves on the map. Is there a way of adding a tooltip directly to an image? I was going to try with using a &#39;jLabel&#39; with an icon to the map but I don&#39;t believe they can be shown on a jMapViewer","body":"Thanks for the example - I have about 50 markers on the map, so that&#39;s a lot of iterations every time the mouse moves on the map. Is there a way of adding a tooltip directly to an image? I was going to try with using a &#39;jLabel&#39; with an icon to the map but I don&#39;t believe they can be shown on a jMapViewer"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1411266444,"post_id":25944439,"comment_id":40635718,"body_markdown":"I&#39;ve elaborated above.","body":"I&#39;ve elaborated above."},{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":0,"creation_date":1411328822,"post_id":25944439,"comment_id":40650575,"body_markdown":"That&#39;s excellent - Thanks for pointing me towards such a concrete example. I&#39;ll look to implement it like this. Thanks for your time and help!","body":"That&#39;s excellent - Thanks for pointing me towards such a concrete example. I&#39;ll look to implement it like this. Thanks for your time and help!"},{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":1,"creation_date":1411338402,"post_id":25944439,"comment_id":40652969,"body_markdown":"Implemented your suggestion and it worked perfectly! many thanks for all your help.","body":"Implemented your suggestion and it worked perfectly! many thanks for all your help."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678300955,"creation_date":1411178009,"answer_id":25944439,"question_id":25940174,"body_markdown":"Override the `getToolTipText()` method of `JMapViewer`. In your implementation, use `getPosition()` to convert the `MouseEvent` coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you&#39;ll want to find the nearest `MapMarker` and return the appropriate text.\r\n\r\n    JMapViewer map = new JMapViewer() {\r\n\r\n        @Override\r\n        public String getToolTipText(MouseEvent e) {\r\n            Coordinate c = getPosition(e.getX(), e.getY());\r\n            return c.getLat() + &quot; &quot; + c.getLon();\r\n        }\r\n    };\r\n    map.setToolTipText(&quot;&quot;); // initialize \r\n\r\nAddendum: _Is there a way of adding a tooltip directly to an image?_\r\n\r\nNo; `JMapViewer` is the enclosing `JComponent` that handles tool tips.\r\n\r\n_I have about 50 markers on the map…that&#39;s a lot of iterations._\r\n\r\nYou definitely can&#39;t load images in your `MapMarker` implementation; use a [`SWingWorker`][1] to load images in the background, for [example][2].\r\n\r\nAs a concrete iteration example, `JFreeChart` easily handles tool tips for scores of entities in this way. Here&#39;s the enclosing panel&#39;s [`getToolTipText()`][3] implementation, and here&#39;s the [loop][4] that invokes `Shape#contains()`. A simplified example that illustrates the approach is seen [here][5].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [2]: https://stackoverflow.com/a/4530659/230513\r\n  [3]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\r\n  [4]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\r\n  [5]: https://stackoverflow.com/a/53609066/230513","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>Override the <code>getToolTipText()</code> method of <code>JMapViewer</code>. In your implementation, use <code>getPosition()</code> to convert the <code>MouseEvent</code> coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you'll want to find the nearest <code>MapMarker</code> and return the appropriate text.</p>\n<pre><code>JMapViewer map = new JMapViewer() {\n\n    @Override\n    public String getToolTipText(MouseEvent e) {\n        Coordinate c = getPosition(e.getX(), e.getY());\n        return c.getLat() + &quot; &quot; + c.getLon();\n    }\n};\nmap.setToolTipText(&quot;&quot;); // initialize \n</code></pre>\n<p>Addendum: <em>Is there a way of adding a tooltip directly to an image?</em></p>\n<p>No; <code>JMapViewer</code> is the enclosing <code>JComponent</code> that handles tool tips.</p>\n<p><em>I have about 50 markers on the map…that's a lot of iterations.</em></p>\n<p>You definitely can't load images in your <code>MapMarker</code> implementation; use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SWingWorker</code></a> to load images in the background, for <a href=\"https://stackoverflow.com/a/4530659/230513\">example</a>.</p>\n<p>As a concrete iteration example, <code>JFreeChart</code> easily handles tool tips for scores of entities in this way. Here's the enclosing panel's <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\" rel=\"nofollow noreferrer\"><code>getToolTipText()</code></a> implementation, and here's the <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\" rel=\"nofollow noreferrer\">loop</a> that invokes <code>Shape#contains()</code>. A simplified example that illustrates the approach is seen <a href=\"https://stackoverflow.com/a/53609066/230513\">here</a>.</p>\n"}],"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25944439,"answer_count":1,"score":2,"last_activity_date":1678300955,"creation_date":1411151067,"question_id":25940174,"body_markdown":"I&#39;m trying to add a `ToolTip` to a custom `MapMarker` on *JMapViewer*. But repeaded searches on are not helping me solve this.\r\n\r\nThe custom *MapMarker* is:\r\n\r\n    public class MapMarkerUnit extends MapObjectImpl implements MapMarker\r\n\r\nand the Paint Method overide is \r\n\r\n    public void paint(Graphics g, Point position, int radio) {\r\n        String filename = &quot;marker.png&quot;;\r\n        //System.out.print(filename);\r\n        BufferedImage x = null;\r\n        try {\r\n            x = ImageIO.read(getClass().getResource(filename));\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        g.drawImage(x, position.x-16, position.y-37,null);\r\n        \r\n        //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\r\n    }\r\n\r\nThanks for any help your able to offer.","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>I'm trying to add a <code>ToolTip</code> to a custom <code>MapMarker</code> on <em>JMapViewer</em>. But repeaded searches on are not helping me solve this.</p>\n\n<p>The custom <em>MapMarker</em> is:</p>\n\n<pre><code>public class MapMarkerUnit extends MapObjectImpl implements MapMarker\n</code></pre>\n\n<p>and the Paint Method overide is </p>\n\n<pre><code>public void paint(Graphics g, Point position, int radio) {\n    String filename = \"marker.png\";\n    //System.out.print(filename);\n    BufferedImage x = null;\n    try {\n        x = ImageIO.read(getClass().getResource(filename));\n    } catch (IOException ex) {\n        Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\n    }\n\n    g.drawImage(x, position.x-16, position.y-37,null);\n\n    //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\n}\n</code></pre>\n\n<p>Thanks for any help your able to offer.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1507268,"reputation":144,"user_id":1410365,"display_name":"vmayatskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678300781,"creation_date":1678300781,"answer_id":75676978,"question_id":75676683,"body_markdown":"You have to use `RelativeLayout.ALIGN_PARENT_BOTTOM` instead of `RelativeLayout.ALIGN_BOTTOM`. To set margins please use `setMargins()` method.\r\n\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n    buttonDetails.setMargins(0, 0, 0, 10);\r\n\r\n","title":"How to align button to bottom with Java","body":"<p>You have to use <code>RelativeLayout.ALIGN_PARENT_BOTTOM</code> instead of <code>RelativeLayout.ALIGN_BOTTOM</code>. To set margins please use <code>setMargins()</code> method.</p>\n<pre><code>buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\nbuttonDetails.setMargins(0, 0, 0, 10);\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300781,"creation_date":1678298802,"question_id":75676683,"body_markdown":"I cannot get the button to align at the bottom of the screen with `RelativeLayout.ALIGN_BOTTOM` how can I get it to position correctly at the bottom of the screen?\r\n\r\nAlso, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don&#39;t see an option to be able to add a positional offset anywhere in the layout rules.\r\n\r\n    RelativeLayout gameLayout = new RelativeLayout(this);\r\n    Button gameButton = new Button(this);\r\n    gameButton.setText(&quot;Start&quot;);\r\n    gameButton.setBackgroundColor(Color.MAGENTA);\r\n    gameLayout.setBackgroundColor(Color.LTGRAY);\r\n    //gameButton.\r\n    RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT\r\n    );\r\n    buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\r\n\r\n    gameLayout.addView(gameButton, buttonDetails);\r\n    setContentView(gameLayout);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvU8t.png","title":"How to align button to bottom with Java","body":"<p>I cannot get the button to align at the bottom of the screen with <code>RelativeLayout.ALIGN_BOTTOM</code> how can I get it to position correctly at the bottom of the screen?</p>\n<p>Also, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don't see an option to be able to add a positional offset anywhere in the layout rules.</p>\n<pre><code>RelativeLayout gameLayout = new RelativeLayout(this);\nButton gameButton = new Button(this);\ngameButton.setText(&quot;Start&quot;);\ngameButton.setBackgroundColor(Color.MAGENTA);\ngameLayout.setBackgroundColor(Color.LTGRAY);\n//gameButton.\nRelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.WRAP_CONTENT,\n        RelativeLayout.LayoutParams.WRAP_CONTENT\n);\nbuttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\nbuttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\n\ngameLayout.addView(gameButton, buttonDetails);\nsetContentView(gameLayout);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uvU8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvU8t.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","jackson"],"comments":[{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677759062,"post_id":75615034,"comment_id":133403225,"body_markdown":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different","body":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different"},{"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"score":0,"creation_date":1677759309,"post_id":75615034,"comment_id":133403300,"body_markdown":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on.","body":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on."}],"answers":[{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677760041,"creation_date":1677760041,"answer_id":75615406,"question_id":75615034,"body_markdown":"Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);","title":"Json String Mapping containing a field having big decimal field","body":"<p>Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"score":0,"creation_date":1677761980,"post_id":75615734,"comment_id":133404032,"body_markdown":"you can try this  I got below output\n{amount=600.014545218781256, currency=SATS}","body":"you can try this  I got below output {amount=600.014545218781256, currency=SATS}"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678174557,"post_id":75615734,"comment_id":133477529,"body_markdown":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained.","body":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained."}],"tags":[],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300706,"creation_date":1677761902,"answer_id":75615734,"question_id":75615034,"body_markdown":"   \r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n           ObjectMapper mapper = new ObjectMapper();\r\n           String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\r\n           mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\r\n    \r\n           Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\r\n           System.out.println(map);\r\n       }        \r\n    }","title":"Json String Mapping containing a field having big decimal field","body":"<pre><code>public class Test {\n\n    public static void main(String[] args) throws IOException {\n\n       ObjectMapper mapper = new ObjectMapper();\n       String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\n       mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\n\n       Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\n       System.out.println(map);\n   }        \n}\n</code></pre>\n"}],"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300706,"creation_date":1677757834,"question_id":75615034,"body_markdown":"There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead\r\n\r\nExample\r\n\r\n```javascript\r\n{\r\n    &quot;amount&quot;:600.014545218781256,\r\n    &quot;currency&quot;: &quot;SATS&quot;\r\n} \r\n```\r\n\r\nthis is the request\r\nbut the **amount** gets truncated to **600.0145452187812**. \r\n\r\n\r\nWe tried using object mapper, but as the incoming data is a string, we weren&#39;t able to use the features of object mapper such as :\r\n`objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);`\r\n","title":"Json String Mapping containing a field having big decimal field","body":"<p>There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead</p>\n<p>Example</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n    &quot;amount&quot;:600.014545218781256,\n    &quot;currency&quot;: &quot;SATS&quot;\n} \n</code></pre>\n<p>this is the request\nbut the <strong>amount</strong> gets truncated to <strong>600.0145452187812</strong>.</p>\n<p>We tried using object mapper, but as the incoming data is a string, we weren't able to use the features of object mapper such as :\n<code>objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);</code></p>\n"},{"tags":["java","interface","abstract-class","junit5","allure"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1678369957,"post_id":75676962,"comment_id":133521847,"body_markdown":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: https://junit.org/junit5/docs/current/user-guide/#extensions and it does NOT work through subclass but through annotation `@ExtendWith`.","body":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#extensions</a> and it does NOT work through subclass but through annotation <code>@ExtendWith</code>."},{"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"score":0,"creation_date":1678391472,"post_id":75676962,"comment_id":133528278,"body_markdown":"Thank you, will try it tomorrow.","body":"Thank you, will try it tomorrow."}],"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300679,"creation_date":1678300679,"question_id":75676962,"body_markdown":"I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:\r\n\r\n\r\nThis is how the rule looked like in my abstract class for jUnit4.\r\n```\r\n@Rule\r\n\tpublic TestRule watchman = new TestWatcher() {\r\n\r\n\t\t@Override\r\n\t\tpublic Statement apply(Statement base, Description description) {\r\n\r\n\t\t\treturn super.apply(base, description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void succeeded(Description description) {\r\n\t\t\tmainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\r\n\t\t}\r\n\r\n\t\t/* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\r\n\t\t@Override\r\n\t\tprotected void failed(Throwable e, Description description) {\r\n\t\t\tmainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\r\n\t\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void starting(Description description) {\r\n\t\t\tsuper.starting(description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void finished(Description description) {\r\n\t\t\tsuper.finished(description);\r\n\t\t\tif (getDriver() != null) {\r\n\t\t\t\tscreenshothandler.tearDown();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n```\r\n\r\nSo now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don&#39;t know why.\r\n\r\n```\r\npublic abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\r\n\r\n\tfinal static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\r\n\tprotected static final TestConfig testConfig = new TestConfig();\r\n\tprivate final WebDriverConfig webDriverConfig = new WebDriverConfig();\r\n\tprotected final WebDriverProvider webDriverProvider;\r\n\tpublic DatabaseProvider dbProvider;\r\n\tprotected ScreenshotHandler screenshothandler;\r\n\tpublic List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\r\n\t\r\n\tfinal static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\r\n\tfinal static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\r\n\r\n\tpublic SeleniumTestWrapper() {\r\n\t\tsuper();\r\n\t\tthis.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\r\n\t\tthis.screenshothandler = new ScreenshotHandler(this.getDriver());\r\n\t\tthis.dbProvider = new DatabaseProvider();\r\n\t\t\r\n\t\t// Inicijaliziraj dbProvider ako je property = true\r\n\t\tboolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\r\n\t\tif (jdbcEnabled) {\r\n\t\t\tthis.dbProvider.initialize();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected enum TestResultStatus {\r\n\t\tSUCCESSFUL, ABORTED, FAILED, DISABLED;\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void afterAll(ExtensionContext context) throws Exception {\r\n\t\tMap&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n\t\tlog.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n\t\tlog.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\r\n\t\t\t\tcontext.getDisplayName(),\r\n\t\t\t\treason.orElse(&quot;No reason&quot;));\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.DISABLED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testSuccessful(ExtensionContext context) {\r\n\t\tlog.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.SUCCESSFUL);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testAborted(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.ABORTED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testFailed(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\t\tlog.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\r\n\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\ttestResultsStatus.add(TestResultStatus.FAILED);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is the test class:\r\n\r\n\r\n```\r\npublic class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\r\n\tprivate CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\r\n\tfinal static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\r\n\tprivate MenuPage menu = new MenuPage(getDriver());\r\n\tprivate TestUtils testUtils = new TestUtils();\r\n\tprivate OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\r\n\tprivate PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\r\n\tprivate EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\r\n\tprivate ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\r\n\tprivate ObracunDAO obracunDao = new ObracunDAO(dbProvider);\r\n\tprivate CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\r\n\t\tClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\r\n\t\tccs.setChromeCertificate(UserRoles.RESOLVER);\r\n\t\t\r\n\t\ttestUtils.testStartLog(this.getClass().getSimpleName());\r\n\t\tassertTrue(startPage.enterApplication());\r\n\t\tobracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\r\n\t}\r\n\r\n\r\n\t@Test\t\r\n\t@Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\r\n\tpublic void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\r\n\t\tmenu.clickMenuDDObracuni();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tassertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\r\n\t\tmenu.clickSubMenuObracunDrugogDohotka();\r\n\t\tobracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \r\n\t\tassertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\r\n\t\t// testiraj xml, pdf\r\n\t\t// TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\r\n\t\tobracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\r\n\t\t// TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\r\n\t\t\r\n\t\tobracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\r\n\t\t// počisti obračun iz tablice\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tevidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\r\n\t\tevidencijaPrimitakaPage.brisiEvidenciju();\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tpripremaParameteraPrimateljaPage.uskladiParametre();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void after() {\r\n\t\tassertFalse(startPage.fatalExceptionOccured());\r\n\t\ttestUtils.testEndLog(this.getClass().getSimpleName());\r\n\t}\r\n}```\r\n\r\n","title":"Can TestWatcher interface be implemented in a abstract class that all Test classes extend (jUnit5)","body":"<p>I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:</p>\n<p>This is how the rule looked like in my abstract class for jUnit4.</p>\n<pre><code>@Rule\n    public TestRule watchman = new TestWatcher() {\n\n        @Override\n        public Statement apply(Statement base, Description description) {\n\n            return super.apply(base, description);\n        }\n\n        @Override\n        protected void succeeded(Description description) {\n            mainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\n        }\n\n        /* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\n        @Override\n        protected void failed(Throwable e, Description description) {\n            mainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\n            screenshothandler.takeScreenshotForAllure();\n        }\n\n        @Override\n        protected void starting(Description description) {\n            super.starting(description);\n        }\n\n        @Override\n        protected void finished(Description description) {\n            super.finished(description);\n            if (getDriver() != null) {\n                screenshothandler.tearDown();\n            }\n        }\n\n    };\n</code></pre>\n<p>So now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don't know why.</p>\n<pre><code>public abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\n\n    final static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\n    protected static final TestConfig testConfig = new TestConfig();\n    private final WebDriverConfig webDriverConfig = new WebDriverConfig();\n    protected final WebDriverProvider webDriverProvider;\n    public DatabaseProvider dbProvider;\n    protected ScreenshotHandler screenshothandler;\n    public List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\n    \n    final static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\n    final static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\n\n    public SeleniumTestWrapper() {\n        super();\n        this.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\n        this.screenshothandler = new ScreenshotHandler(this.getDriver());\n        this.dbProvider = new DatabaseProvider();\n        \n        // Inicijaliziraj dbProvider ako je property = true\n        boolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\n        if (jdbcEnabled) {\n            this.dbProvider.initialize();\n        }\n    }\n\n    protected enum TestResultStatus {\n        SUCCESSFUL, ABORTED, FAILED, DISABLED;\n    }\n    \n\n    @Override\n    public void afterAll(ExtensionContext context) throws Exception {\n        Map&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n        log.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\n    }\n\n    @Override\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n        log.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\n                context.getDisplayName(),\n                reason.orElse(&quot;No reason&quot;));\n\n        testResultsStatus.add(TestResultStatus.DISABLED);\n    }\n\n    @Override\n    public void testSuccessful(ExtensionContext context) {\n        log.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n\n        testResultsStatus.add(TestResultStatus.SUCCESSFUL);\n    }\n\n    @Override\n    public void testAborted(ExtensionContext context, Throwable cause) {\n        log.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\n\n        testResultsStatus.add(TestResultStatus.ABORTED);\n    }\n\n    @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n        log.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n        log.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\n        screenshothandler.takeScreenshotForAllure();\n        testResultsStatus.add(TestResultStatus.FAILED);\n    }\n\n}\n</code></pre>\n<p>Here is the test class:</p>\n<pre><code>public class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\n    private CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\n    final static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\n    private MenuPage menu = new MenuPage(getDriver());\n    private TestUtils testUtils = new TestUtils();\n    private OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\n    private PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\n    private EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\n    private ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\n    private ObracunDAO obracunDao = new ObracunDAO(dbProvider);\n    private CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\n\n    @BeforeEach\n    public void setup() {\n\n        ClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\n        ccs.setChromeCertificate(UserRoles.RESOLVER);\n        \n        testUtils.testStartLog(this.getClass().getSimpleName());\n        assertTrue(startPage.enterApplication());\n        obracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\n    }\n\n\n    @Test   \n    @Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\n    public void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\n        menu.clickMenuDDObracuni();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        assertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\n        menu.clickSubMenuObracunDrugogDohotka();\n        obracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \n        assertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\n        // testiraj xml, pdf\n        // TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\n        obracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\n        // TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\n        \n        obracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\n        // počisti obračun iz tablice\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\n        evidencijaPrimitakaPage.brisiEvidenciju();\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        pripremaParameteraPrimateljaPage.uskladiParametre();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\n    }\n\n    @AfterEach\n    public void after() {\n        assertFalse(startPage.fatalExceptionOccured());\n        testUtils.testEndLog(this.getClass().getSimpleName());\n    }\n}```\n\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson2","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1678108835,"post_id":75651295,"comment_id":133463944,"body_markdown":"this might help https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar","body":"this might help <a href=\"https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar\" title=\"xstream unmarshalling xmlgregoriancalendar\">stackoverflow.com/questions/68443664/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678108916,"post_id":75651295,"comment_id":133463971,"body_markdown":"&quot;JSON like this&quot; though valid is problematic,   ... `0001-01-01T00:00:00` gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like `[&quot;0001-01-01T00:00:00&quot;]` (`{}-&gt;[]` ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)","body":"&quot;JSON like this&quot; though valid is problematic,   ... <code>0001-01-01T00:00:00</code> gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like <code>[&quot;0001-01-01T00:00:00&quot;]</code> (<code>{}-&gt;[]</code> ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":2,"creation_date":1678108918,"post_id":75651295,"comment_id":133463972,"body_markdown":"thanks, that&#39;s me asking that question, with xstream, years ago","body":"thanks, that&#39;s me asking that question, with xstream, years ago"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109118,"post_id":75651295,"comment_id":133464043,"body_markdown":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;","body":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109245,"post_id":75651295,"comment_id":133464091,"body_markdown":"If you *need* this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with `value=null`)","body":"If you <i>need</i> this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with <code>value=null</code>)"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109296,"post_id":75651295,"comment_id":133464108,"body_markdown":"I  don&#39;t understand.  dateIssuedField is the key.","body":"I  don&#39;t understand.  dateIssuedField is the key."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109424,"post_id":75651295,"comment_id":133464148,"body_markdown":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )","body":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109534,"post_id":75651295,"comment_id":133464195,"body_markdown":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though.","body":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though."}],"answers":[{"comments":[{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":1,"creation_date":1678119458,"post_id":75652841,"comment_id":133467328,"body_markdown":"thanks for the big help.  I&#39;ll reply soon when i get it working.  (gotta do some traversing, etc).","body":"thanks for the big help.  I&#39;ll reply soon when i get it working.  (gotta do some traversing, etc)."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":1,"creation_date":1678132607,"post_id":75652841,"comment_id":133470944,"body_markdown":"I managed to get it working with your answer (and some recursion)","body":"I managed to get it working with your answer (and some recursion)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678117138,"creation_date":1678117138,"answer_id":75652841,"question_id":75651295,"body_markdown":"As I commented: The desired output format \r\n\r\n```lang-json\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\r\n```\r\n\r\nis not really/fully [valid JSON][1]...\r\n\r\n(1) null value:\r\n```\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\r\n```\r\nor (2) single element array:\r\n```\r\n{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\r\n```\r\nor just (my fav 3):\r\n```\r\n{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\r\n```\r\nwould be.\r\n\r\n\r\n----------\r\n\r\n\r\nWith `in.xml`:\r\n```lang-xml\r\n&lt;myRoot&gt;\r\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\r\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n  &lt;/dateIssuedField&gt;\r\n&lt;/myRoot&gt;\r\n```\r\n(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.\r\n\r\nTo achieve (1):\r\n```lang-java\r\npackage com.acme.jackson;\r\n\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class Demo1 {\r\n\r\n  public static void main(String[] args) {\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    // xmlMapper.configure ...\r\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n      // navigate the structure...:\r\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\r\n\r\n      // ..and modify to our needs:\r\n      node.remove(&quot;class&quot;);\r\n      node.remove(&quot;resolves-to&quot;); // ...\r\n\r\n      // ...value to key:\r\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\r\n      node.remove(&quot;lexicalValue&quot;);\r\n      node.put(val, (String) null);\r\n\r\n      // and verify:\r\n      System.err.println(objectMapper.writeValueAsString(root));\r\n    } catch (IOException ex) {\r\n      System.err.println(&quot;ohoh:&quot;);\r\n      System.err.println(ex.getLocalizedMessage());\r\n    }\r\n\r\n  }\r\n}\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor (my fav 3) we can:\r\n```lang-java\r\n// ...\r\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n  root.replace(&quot;dateIssuedField&quot;,\r\n    new TextNode(\r\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\r\n    )\r\n  );\r\n  // verify:\r\n  System.err.println(objectMapper.writeValueAsString(root));\r\n} catch (IOException ex) { // ...\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nEven better: Map your model (of interest) as objects!\r\n\r\nFor larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.\r\n\r\nAdvantages: \r\n- No need to cast\r\n- Accessor navigation\r\n- More flexible de-/serialization\r\n- OO advantages/modeling flexibility\r\n- ...\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JSON","title":"Jackson XML to JSON, ignore attributes","body":"<p>As I commented: The desired output format</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\n</code></pre>\n<p>is not really/fully <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">valid JSON</a>...</p>\n<p>(1) null value:</p>\n<pre><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\n</code></pre>\n<p>or (2) single element array:</p>\n<pre><code>{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\n</code></pre>\n<p>or just (my fav 3):</p>\n<pre><code>{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>would be.</p>\n<hr />\n<p>With <code>in.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;myRoot&gt;\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n&lt;/myRoot&gt;\n</code></pre>\n<p>(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.</p>\n<p>To achieve (1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.jackson;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class Demo1 {\n\n  public static void main(String[] args) {\n    XmlMapper xmlMapper = new XmlMapper();\n    ObjectMapper objectMapper = new ObjectMapper();\n    // xmlMapper.configure ...\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n      // navigate the structure...:\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\n\n      // ..and modify to our needs:\n      node.remove(&quot;class&quot;);\n      node.remove(&quot;resolves-to&quot;); // ...\n\n      // ...value to key:\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\n      node.remove(&quot;lexicalValue&quot;);\n      node.put(val, (String) null);\n\n      // and verify:\n      System.err.println(objectMapper.writeValueAsString(root));\n    } catch (IOException ex) {\n      System.err.println(&quot;ohoh:&quot;);\n      System.err.println(ex.getLocalizedMessage());\n    }\n\n  }\n}\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\n</code></pre>\n<hr />\n<p>For (my fav 3) we can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n  root.replace(&quot;dateIssuedField&quot;,\n    new TextNode(\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\n    )\n  );\n  // verify:\n  System.err.println(objectMapper.writeValueAsString(root));\n} catch (IOException ex) { // ...\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<hr />\n<p>Even better: Map your model (of interest) as objects!</p>\n<p>For larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.</p>\n<p>Advantages:</p>\n<ul>\n<li>No need to cast</li>\n<li>Accessor navigation</li>\n<li>More flexible de-/serialization</li>\n<li>OO advantages/modeling flexibility</li>\n<li>...</li>\n</ul>\n"}],"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75652841,"answer_count":1,"score":1,"last_activity_date":1678300540,"creation_date":1678108413,"question_id":75651295,"body_markdown":"I have XML like this:\r\n\r\n    ....\r\n      &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\r\n        &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n      &lt;/dateIssuedField&gt;\r\n    ....\r\n\r\nand I&#39;d like to get JSON like this:\r\n\r\n    &quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\r\n\r\n\r\nI&#39;ve tried so many things.  Unfortunately this &#39;class&#39; and &#39;resolves-to&#39; don&#39;t actually match any existing class.  So I can&#39;t add a serializer/deserializer that matches these classes.\r\n\r\nThe simplest fix would be to get rid of all attributes.  Then I&#39;ll just deal with &#39;lexicalValue&#39;. \r\n But I can&#39;t even work that out.\r\n\r\n\r\n\r\n\tXmlMapper xmlMapper = new XmlMapper();\r\n\txmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n\tJsonNode node = xmlMapper.readTree(xml.getBytes());\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tString jsonOutput = objectMapper.writeValueAsString(node);\r\n\t\t\t\r\n\r\nI don&#39;t have the classes generated, so I can&#39;t use annotations to ignore the fields.\r\n\r\nIt looks like there is a MixIn technique, but I can&#39;t work out how to use it in this case.\r\n","title":"Jackson XML to JSON, ignore attributes","body":"<p>I have XML like this:</p>\n<pre><code>....\n  &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n....\n</code></pre>\n<p>and I'd like to get JSON like this:</p>\n<pre><code>&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>I've tried so many things.  Unfortunately this 'class' and 'resolves-to' don't actually match any existing class.  So I can't add a serializer/deserializer that matches these classes.</p>\n<p>The simplest fix would be to get rid of all attributes.  Then I'll just deal with 'lexicalValue'.\nBut I can't even work that out.</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\nJsonNode node = xmlMapper.readTree(xml.getBytes());\nObjectMapper objectMapper = new ObjectMapper();\nString jsonOutput = objectMapper.writeValueAsString(node);\n        \n</code></pre>\n<p>I don't have the classes generated, so I can't use annotations to ignore the fields.</p>\n<p>It looks like there is a MixIn technique, but I can't work out how to use it in this case.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300498,"creation_date":1678156279,"answer_id":75657559,"question_id":75655505,"body_markdown":"The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..\r\n\r\nhttps://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\r\n","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..</p>\n<p><a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html</a></p>\n"}],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300498,"creation_date":1678134280,"question_id":75655505,"body_markdown":"I&#39;ve the following requirement:\r\nWrite a `JsonDeserializer` that is invoked when doing something like:\r\n\r\n```\r\npublic CustomConfiguration deserialize(User user, String data) {\r\n    objectMapper.readValue(data, CustomConfiguration.class);\r\n}\r\n```\r\n\r\n*AND* I would like to pass the `user` instance to the `deserialize` method.\r\n\r\nP.S: I&#39;m using SpringBoot 2.7.3, so my CustomDeserializes class uses the `@JsonComponent` annotation, so I&#39;m able to `@Autowired` objects.\r\n\r\nIs there a nice way to make this happen?\r\n\r\nThank you!","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>I've the following requirement:\nWrite a <code>JsonDeserializer</code> that is invoked when doing something like:</p>\n<pre><code>public CustomConfiguration deserialize(User user, String data) {\n    objectMapper.readValue(data, CustomConfiguration.class);\n}\n</code></pre>\n<p><em>AND</em> I would like to pass the <code>user</code> instance to the <code>deserialize</code> method.</p>\n<p>P.S: I'm using SpringBoot 2.7.3, so my CustomDeserializes class uses the <code>@JsonComponent</code> annotation, so I'm able to <code>@Autowired</code> objects.</p>\n<p>Is there a nice way to make this happen?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","reverse-engineering"],"owner":{"account_id":23479798,"reputation":11,"user_id":17532119,"display_name":"Noah Osterholz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300459,"creation_date":1678300459,"question_id":75676929,"body_markdown":"The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn&#39;t figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn&#39;t be too much if it was needed. Also the app is very simple, presumably written in java and you don&#39;t need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?\r\n\r\nI haven&#39;t yet tried anything but searching the app for the desired function. I frankly don&#39;t know where to start with this as I don&#39;t have a clue about anything mobile related.","title":"How can I extract an applink for an app that doesn&#39;t have a function for this itself?","body":"<p>The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn't figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn't be too much if it was needed. Also the app is very simple, presumably written in java and you don't need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?</p>\n<p>I haven't yet tried anything but searching the app for the desired function. I frankly don't know where to start with this as I don't have a clue about anything mobile related.</p>\n"},{"tags":["java","json","spring-boot","jackson","spring-restcontroller"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1678265688,"post_id":75670577,"comment_id":133497611,"body_markdown":"Does this annotation is effective on method/class level? `@JsonFormat(prettyPrint = true)`","body":"Does this annotation is effective on method/class level? <code>@JsonFormat(prettyPrint = true)</code>"},{"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"score":0,"creation_date":1678272385,"post_id":75670577,"comment_id":133499324,"body_markdown":"@PAX JsonFormat has not property prettyPrint","body":"@PAX JsonFormat has not property prettyPrint"}],"answers":[{"comments":[{"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"score":2,"creation_date":1678272523,"post_id":75671075,"comment_id":133499355,"body_markdown":"Its doesn&#39;t work. I tried JsonFormat(shape = JsonFormat.Shape.OBJECT) on entity, on controller class and on methods in controller.","body":"Its doesn&#39;t work. I tried JsonFormat(shape = JsonFormat.Shape.OBJECT) on entity, on controller class and on methods in controller."}],"tags":[],"owner":{"account_id":16518376,"reputation":11,"user_id":11935193,"display_name":"TIM BERR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678266063,"creation_date":1678266063,"answer_id":75671075,"question_id":75670577,"body_markdown":"Let&#39;s say you have a simple `Person` class with 2 properties, `name` and `age`:\r\n\r\n    public class Person {\r\n\r\n       private String name;\r\n       private int age;\r\n\r\n       public Person(String name, int age) {\r\n           this.name = name;\r\n           this.age = age;\r\n       }\r\n\r\n       public String getName() {\r\n           return name;\r\n       }\r\n\r\n       public int getAge() {\r\n           return age;\r\n       }\r\n    }\r\n\r\nAnd let&#39;s say you have a spring `RestController` that returns a `Person` object as JSON:\r\n\r\n    @RestController\r\n    public class MyRestController {\r\n\r\n       @GetMapping(&quot;/person&quot;)\r\n       public Person getPerson() {\r\n          return new Person(&quot;John Doe&quot;, 30);\r\n       }\r\n    }\r\n\r\nBy default, the JSON output will be compact and not indented:\r\n\r\n    {&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\r\n\r\nTo pretty-print the JSON output, you can use the `@JsonFormat` annotation on the `Person` class:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public class Person {\r\n        //...\r\n    }\r\n\r\nThe `shape` property of the annotation specifics the shape of the serialized JSON. In this case, we set it to `JsonFormat.Shape.OBJECT` to indicate that the output should be formatted as a JSON object.\r\n\r\nNow, when you call the `/Person` endpoint, the JSON output will be pretty-printed\r\n\r\n    {\r\n      &quot;name&quot; : &quot;John Doe&quot;,\r\n      &quot;age&quot; : 30\r\n    }\r\n\r\nAs you can see, the JSON output is now indented and easier to read.\r\n\r\n","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>Let's say you have a simple <code>Person</code> class with 2 properties, <code>name</code> and <code>age</code>:</p>\n<pre><code>public class Person {\n\n   private String name;\n   private int age;\n\n   public Person(String name, int age) {\n       this.name = name;\n       this.age = age;\n   }\n\n   public String getName() {\n       return name;\n   }\n\n   public int getAge() {\n       return age;\n   }\n}\n</code></pre>\n<p>And let's say you have a spring <code>RestController</code> that returns a <code>Person</code> object as JSON:</p>\n<pre><code>@RestController\npublic class MyRestController {\n\n   @GetMapping(&quot;/person&quot;)\n   public Person getPerson() {\n      return new Person(&quot;John Doe&quot;, 30);\n   }\n}\n</code></pre>\n<p>By default, the JSON output will be compact and not indented:</p>\n<pre><code>{&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\n</code></pre>\n<p>To pretty-print the JSON output, you can use the <code>@JsonFormat</code> annotation on the <code>Person</code> class:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic class Person {\n    //...\n}\n</code></pre>\n<p>The <code>shape</code> property of the annotation specifics the shape of the serialized JSON. In this case, we set it to <code>JsonFormat.Shape.OBJECT</code> to indicate that the output should be formatted as a JSON object.</p>\n<p>Now, when you call the <code>/Person</code> endpoint, the JSON output will be pretty-printed</p>\n<pre><code>{\n  &quot;name&quot; : &quot;John Doe&quot;,\n  &quot;age&quot; : 30\n}\n</code></pre>\n<p>As you can see, the JSON output is now indented and easier to read.</p>\n"}],"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300373,"creation_date":1678262637,"question_id":75670577,"body_markdown":"I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.\r\n\r\nI found one way with the configuration in application.yml\r\n```\r\njackson:\r\n  serialization:\r\n    indent-output: true\r\n```\r\nHowever, this solution imposes this rule on the entire project, and I want to do this for only one class.\r\nAlso, I think @JsonSerialize can help me, but I couldn&#39;t set up an annotation for pretty print","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.</p>\n<p>I found one way with the configuration in application.yml</p>\n<pre><code>jackson:\n  serialization:\n    indent-output: true\n</code></pre>\n<p>However, this solution imposes this rule on the entire project, and I want to do this for only one class.\nAlso, I think @JsonSerialize can help me, but I couldn't set up an annotation for pretty print</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678300112,"creation_date":1678300112,"answer_id":75676880,"question_id":75651961,"body_markdown":"You&#39;re using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the [WildFly downloads][1] page..\r\n\r\n[1]: https://www.wildfly.org/downloads/","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>You're using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the <a href=\"https://www.wildfly.org/downloads/\" rel=\"nofollow noreferrer\">WildFly downloads</a> page..</p>\n"}],"owner":{"account_id":20927538,"reputation":5,"user_id":15374648,"display_name":"denisxoctavian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676880,"answer_count":1,"score":0,"last_activity_date":1678300112,"creation_date":1678112435,"question_id":75651961,"body_markdown":"I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:\r\n```\r\n(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\r\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan &#39;Taedonggang&#39; 12.1.4.Final\r\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\r\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\r\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        ... 6 more\r\n```\r\nAnd because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:\r\n\r\n```\r\n[INFO] +- com.splunk:splunk:jar:1.9.3:compile\r\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\r\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\r\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\r\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n```\r\n\r\nAnd this is how the module.xml of the wildfly server looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\r\n  &lt;/resources&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;module name=&quot;javax.api&quot;/&gt;\r\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\nHow can I get rid of this problem ?\r\n\r\n\r\n\r\nI tried to change things in web.xml but no results.","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:</p>\n<pre><code>(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan 'Taedonggang' 12.1.4.Final\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        ... 6 more\n</code></pre>\n<p>And because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:</p>\n<pre><code>[INFO] +- com.splunk:splunk:jar:1.9.3:compile\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n</code></pre>\n<p>And this is how the module.xml of the wildfly server looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=&quot;javax.api&quot;/&gt;\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>How can I get rid of this problem ?</p>\n<p>I tried to change things in web.xml but no results.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1678299928,"post_id":75676590,"comment_id":133507491,"body_markdown":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)","body":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)"}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678298565,"creation_date":1678298565,"answer_id":75676650,"question_id":75676590,"body_markdown":"Not as written.  The static return type is &#39;AnimalImpl&#39;.  But generics may be able to solve your problem; something like\r\n\r\n    class zoo {\r\n        &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\r\n    }\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Not as written.  The static return type is 'AnimalImpl'.  But generics may be able to solve your problem; something like</p>\n<pre><code>class zoo {\n    &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300085,"creation_date":1678300085,"answer_id":75676874,"question_id":75676590,"body_markdown":"Generics, but, you don&#39;t want to use instances of `java.lang.Class` as the carrier of choice like this. It&#39;s extremely inflexible. For example, the job &#39;hey, here is an instance of `Class&lt;Lion&gt;`, now you get to make a lion&#39; __does not work__ - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that `Lion` (the class) _must_ have a no-args public constructor, and that it can&#39;t be abstract either.\r\n\r\nThe better solution is to make... a factory! (Yes, java is the clich&#233;d &#39;oooh factories everywhere&#39; language, but that&#39;s just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don&#39;t let the memes mislead you).\r\n\r\nYou want the concept of &#39;a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification&#39;.\r\n\r\nThus, you want something like:\r\n\r\n```\r\npublic interface AnimalMaker&lt;A extends Animal&gt; {\r\n  A create();\r\n  String describe();\r\n}\r\n\r\npublic abstract class Animal {}\r\n\r\npublic class Lion extends Animal {}\r\n\r\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\r\n  public Lion create() { return new Lion(); }\r\n  public String describe() { return &quot;Describe lion here&quot;; }\r\n}\r\n```\r\n\r\nand then you can make a method that makes lions like so:\r\n\r\n```\r\npublic class Zoo {\r\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\r\n    A animal = maker.create();\r\n    animals.add(animal);\r\n    return animal;\r\n  }\r\n}\r\n```\r\n\r\nand use _that_ like so:\r\n\r\n```\r\nvoid specializeAsLionZoo() {\r\n  LionMaker maker = new LionMaker();\r\n  Lion newLion = zoo.importAnimal(maker);\r\n}\r\n```\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Generics, but, you don't want to use instances of <code>java.lang.Class</code> as the carrier of choice like this. It's extremely inflexible. For example, the job 'hey, here is an instance of <code>Class&lt;Lion&gt;</code>, now you get to make a lion' <strong>does not work</strong> - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that <code>Lion</code> (the class) <em>must</em> have a no-args public constructor, and that it can't be abstract either.</p>\n<p>The better solution is to make... a factory! (Yes, java is the clichéd 'oooh factories everywhere' language, but that's just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don't let the memes mislead you).</p>\n<p>You want the concept of 'a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification'.</p>\n<p>Thus, you want something like:</p>\n<pre><code>public interface AnimalMaker&lt;A extends Animal&gt; {\n  A create();\n  String describe();\n}\n\npublic abstract class Animal {}\n\npublic class Lion extends Animal {}\n\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\n  public Lion create() { return new Lion(); }\n  public String describe() { return &quot;Describe lion here&quot;; }\n}\n</code></pre>\n<p>and then you can make a method that makes lions like so:</p>\n<pre><code>public class Zoo {\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\n    A animal = maker.create();\n    animals.add(animal);\n    return animal;\n  }\n}\n</code></pre>\n<p>and use <em>that</em> like so:</p>\n<pre><code>void specializeAsLionZoo() {\n  LionMaker maker = new LionMaker();\n  Lion newLion = zoo.importAnimal(maker);\n}\n</code></pre>\n"}],"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300085,"creation_date":1678298147,"question_id":75676590,"body_markdown":"To give a concrete example, I am looking to do something like the following (contrived example, of course):\r\n\r\n    Interface Animal {}\r\n    Interface AnimalImpl {}\r\n    Interface Lion extends Animal {}\r\n    Interface Hippo extends Animal {}\r\n    Class LionImpl implements Lion, AnimalImpl {}\r\n    Class HippoImpl implements Hippo, AnimalImpl {}\r\n\r\nThen we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.\r\n\r\nThen I would want to call something like \r\n\r\n`zoo.getAnimal(Lion.class)` and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I&#39;m looking to avoid that cast.  (And likewise, if I called `zoo.getAnimal(Hippo.class)`, it should return a Hippo.)\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>To give a concrete example, I am looking to do something like the following (contrived example, of course):</p>\n<pre><code>Interface Animal {}\nInterface AnimalImpl {}\nInterface Lion extends Animal {}\nInterface Hippo extends Animal {}\nClass LionImpl implements Lion, AnimalImpl {}\nClass HippoImpl implements Hippo, AnimalImpl {}\n</code></pre>\n<p>Then we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.</p>\n<p>Then I would want to call something like</p>\n<p><code>zoo.getAnimal(Lion.class)</code> and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I'm looking to avoid that cast.  (And likewise, if I called <code>zoo.getAnimal(Hippo.class)</code>, it should return a Hippo.)</p>\n"},{"tags":["java","jax-rs","open-liberty"],"comments":[{"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"score":0,"creation_date":1678225090,"post_id":75667179,"comment_id":133491464,"body_markdown":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31)","body":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was-liberty/&hellip;</a>)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288652,"post_id":75667179,"comment_id":133504045,"body_markdown":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)","body":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288767,"post_id":75667179,"comment_id":133504088,"body_markdown":"@Uzair add your `server.xml` to the question. If you want to use rest you need to add jaxrs feature.","body":"@Uzair add your <code>server.xml</code> to the question. If you want to use rest you need to add jaxrs feature."},{"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"score":0,"creation_date":1678300291,"post_id":75667179,"comment_id":133507595,"body_markdown":"updated with server.xml file. @Gas","body":"updated with server.xml file. @Gas"},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385305,"post_id":75667179,"comment_id":133526802,"body_markdown":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. `jaxrs-2.0` enables `servlet-3.1`:   https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty.","body":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. <code>jaxrs-2.0</code> enables <code>servlet-3.1</code>:   <a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables\" rel=\"nofollow noreferrer\">openliberty.io/docs/latest/reference/feature/&hellip;</a>, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty."},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385372,"post_id":75667179,"comment_id":133526815,"body_markdown":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)","body":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)"}],"answers":[{"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678384859,"post_id":75675306,"comment_id":133526683,"body_markdown":"Yes, the EE 6 features such as jaxrs-1.1 are available in WebSphere Liberty, but Open Liberty only supports EE 7 and above (generally speaking).","body":"Yes, the EE 6 features such as jaxrs-1.1 are available in WebSphere Liberty, but Open Liberty only supports EE 7 and above (generally speaking)."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678290980,"creation_date":1678290980,"answer_id":75675306,"question_id":75667179,"body_markdown":"When Liberty was first build, they made a concious decision to only support the more current standards. They didn&#39;t want to get bogged down with old and obsolete specifications.\r\n\r\nSo, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.\r\n\r\nSee:\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\r\n* https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\r\n\r\n","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>When Liberty was first build, they made a concious decision to only support the more current standards. They didn't want to get bogged down with old and obsolete specifications.</p>\n<p>So, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html</a></li>\n</ul>\n"}],"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300075,"creation_date":1678223311,"question_id":75667179,"body_markdown":"I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\r\nI am having a hard time with the set up.\r\n\r\nIf I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as \r\n```\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\r\n```\r\n\r\nand this makes me think JAXRS comes embedded. \r\n\r\nI have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0\r\n\r\nHere is the server.xml\r\n\r\n    &lt;server description=&quot;Sample Servlet server&quot;&gt;\r\n        &lt;featureManager&gt;\r\n            \r\n            &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\r\n            \r\n            &lt;feature&gt;servlet-3.1&lt;/feature&gt;\r\n            &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \r\n        &lt;/featureManager&gt;\r\n    \r\n        &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\r\n        &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\r\n        &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\r\n    \r\n        &lt;!-- tag::httpEndpoint[] --&gt;\r\n        &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\r\n        &lt;!-- end::httpEndpoint[] --&gt;\r\n    \r\n        &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\r\n    \r\n        &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\r\n        &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n    \r\n    &lt;/server&gt;\r\nand since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven&#39;s pom.xml dependency section look like this:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\nI am having a hard time with the set up.</p>\n<p>If I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as</p>\n<pre><code>[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\n</code></pre>\n<p>and this makes me think JAXRS comes embedded.</p>\n<p>I have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0</p>\n<p>Here is the server.xml</p>\n<pre><code>&lt;server description=&quot;Sample Servlet server&quot;&gt;\n    &lt;featureManager&gt;\n        \n        &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\n        \n        &lt;feature&gt;servlet-3.1&lt;/feature&gt;\n        &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \n    &lt;/featureManager&gt;\n\n    &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\n    &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\n    &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\n\n    &lt;!-- tag::httpEndpoint[] --&gt;\n    &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\n    &lt;!-- end::httpEndpoint[] --&gt;\n\n    &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\n\n    &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\n    &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n\n&lt;/server&gt;\n</code></pre>\n<p>and since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven's pom.xml dependency section look like this:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"comments":[{"owner":{"account_id":2591194,"reputation":673,"user_id":2245872,"accept_rate":63,"display_name":"Jo&#227;o Pereira"},"score":0,"creation_date":1682629964,"post_id":75542802,"comment_id":134250454,"body_markdown":"Did you find a fix to this?","body":"Did you find a fix to this?"}],"owner":{"account_id":27858689,"reputation":21,"user_id":21271673,"display_name":"robhok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678299942,"creation_date":1677144175,"question_id":75542802,"body_markdown":"I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n\r\n...\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nMy feign client looks fairly easy:\r\n\r\n\r\n```\r\n@FeignClient\r\npublic interface MyFeignClient {\r\n\r\n    @RequestLine(&quot;GET /Users&quot;)\r\n    @CollectionFormat(feign.CollectionFormat.CSV)\r\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\r\n//...\r\n```\r\n\r\nThe query dto consists of 2 fields, select and filter which both are list of strings.\r\n\r\n```\r\npublic class QueryDTO{\r\n\r\n    @JsonProperty(&quot;$select&quot;)\r\n    private List&lt;String&gt; select;\r\n    @JsonProperty(&quot;$filter&quot;)\r\n    private List&lt;String&gt; filter;\r\n\r\n// getters + setters + add\r\n```\r\n\r\n\r\nAfter I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.\r\n\r\n \r\n```\r\nQueryDTO dto = new QueryDTO ();\r\ndto.addSelect(&quot;UserCode&quot;);\r\ndto.addSelect(&quot;InternalKey&quot;);\r\ndto.addFilter(&quot;IsAllowed eq &#39;Y&#39;&quot;);\r\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\r\n```\r\n\r\nThe expected request URL would be:\r\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\n\r\nBut instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:\r\n\r\n```\r\n2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\r\n...\r\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq &#39;Y&#39;&quot; ][\\r][\\n]&quot;\r\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\r\n\r\n```\r\n\r\nAlso in the access log of the corresponding service I only see requests to /Users\r\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +\r\n\r\n\r\nAny ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.\r\n\r\n\r\n\r\n\r\nI read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation. \r\n\r\nI expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\nbut instead the query params were passed as body in my GET request.","title":"SpringQueryMap adds query params as body instead passing them in the url","body":"<p>I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n...\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My feign client looks fairly easy:</p>\n<pre><code>@FeignClient\npublic interface MyFeignClient {\n\n    @RequestLine(&quot;GET /Users&quot;)\n    @CollectionFormat(feign.CollectionFormat.CSV)\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\n//...\n</code></pre>\n<p>The query dto consists of 2 fields, select and filter which both are list of strings.</p>\n<pre><code>public class QueryDTO{\n\n    @JsonProperty(&quot;$select&quot;)\n    private List&lt;String&gt; select;\n    @JsonProperty(&quot;$filter&quot;)\n    private List&lt;String&gt; filter;\n\n// getters + setters + add\n</code></pre>\n<p>After I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.</p>\n<pre><code>QueryDTO dto = new QueryDTO ();\ndto.addSelect(&quot;UserCode&quot;);\ndto.addSelect(&quot;InternalKey&quot;);\ndto.addFilter(&quot;IsAllowed eq 'Y'&quot;);\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\n</code></pre>\n<p>The expected request URL would be:\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'</p>\n<p>But instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:</p>\n<pre><code>2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\n...\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq 'Y'&quot; ][\\r][\\n]&quot;\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\n\n</code></pre>\n<p>Also in the access log of the corresponding service I only see requests to /Users\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +</p>\n<p>Any ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.</p>\n<p>I read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation.</p>\n<p>I expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'\nbut instead the query params were passed as body in my GET request.</p>\n"},{"tags":["java","jlink"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1678306253,"post_id":75676783,"comment_id":133509068,"body_markdown":"From `jlink --list-plugins`: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it.","body":"From <code>jlink --list-plugins</code>: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it."}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299421,"creation_date":1678299421,"question_id":75676783,"body_markdown":"I am trying to generate a JRE using jlink.\r\n\r\nI do so by executing:\r\n\r\n    /Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\r\n    --verbose --output /Users/alex/sources/project/target/runtime\r\n    --module-path /Users/alex/sources/project/target/mods\r\n    --add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\r\n    --strip-native-commands\r\n    --no-header-files\r\n    --no-man-pages\r\n    --strip-debug\r\n    --compress=1\r\n\r\nthis is the generated runtime image:\r\n\r\n    out\r\n    ├── conf\r\n    │&#160;&#160; ├── logging.properties\r\n    │&#160;&#160; ├── net.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── java.policy\r\n    │&#160;&#160; │&#160;&#160; ├── java.security\r\n    │&#160;&#160; │&#160;&#160; └── policy\r\n    │&#160;&#160; │&#160;&#160;     ├── README.txt\r\n    │&#160;&#160; │&#160;&#160;     ├── limited\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_local.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; └── exempt_local.policy\r\n    │&#160;&#160; │&#160;&#160;     └── unlimited\r\n    │&#160;&#160; │&#160;&#160;         ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;         └── default_local.policy\r\n    │&#160;&#160; └── sound.properties\r\n    ├── legal\r\n    │&#160;&#160; ├── java.base\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── aes.md\r\n    │&#160;&#160; │&#160;&#160; ├── asm.md\r\n    │&#160;&#160; │&#160;&#160; ├── c-libutl.md\r\n    │&#160;&#160; │&#160;&#160; ├── cldr.md\r\n    │&#160;&#160; │&#160;&#160; ├── icu.md\r\n    │&#160;&#160; │&#160;&#160; ├── public_suffix.md\r\n    │&#160;&#160; │&#160;&#160; └── unicode.md\r\n    │&#160;&#160; ├── java.compiler\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.datatransfer\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.desktop\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── colorimaging.md\r\n    │&#160;&#160; │&#160;&#160; ├── freetype.md\r\n    │&#160;&#160; │&#160;&#160; ├── giflib.md\r\n    │&#160;&#160; │&#160;&#160; ├── harfbuzz.md\r\n    │&#160;&#160; │&#160;&#160; ├── jpeg.md\r\n    │&#160;&#160; │&#160;&#160; ├── lcms.md\r\n    │&#160;&#160; │&#160;&#160; ├── libpng.md\r\n    │&#160;&#160; │&#160;&#160; ├── mesa3d.md\r\n    │&#160;&#160; │&#160;&#160; └── xwd.md\r\n    │&#160;&#160; ├── java.instrument\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.logging\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.naming\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.prefs\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.scripting\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.security.sasl\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.sql\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.transaction.xa\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.xml\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── bcel.md\r\n    │&#160;&#160; │&#160;&#160; ├── dom.md\r\n    │&#160;&#160; │&#160;&#160; ├── jcup.md\r\n    │&#160;&#160; │&#160;&#160; ├── xalan.md\r\n    │&#160;&#160; │&#160;&#160; └── xerces.md\r\n    │&#160;&#160; └── jdk.unsupported\r\n    │&#160;&#160;     ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160;     ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160;     └── LICENSE -&gt; ../java.base/LICENSE\r\n    ├── lib\r\n    │&#160;&#160; ├── classlist\r\n    │&#160;&#160; ├── fontconfig.bfc\r\n    │&#160;&#160; ├── fontconfig.properties.src\r\n    │&#160;&#160; ├── jrt-fs.jar\r\n    │&#160;&#160; ├── jspawnhelper\r\n    │&#160;&#160; ├── jvm.cfg\r\n    │&#160;&#160; ├── libawt.dylib\r\n    │&#160;&#160; ├── libawt_lwawt.dylib\r\n    │&#160;&#160; ├── libfontmanager.dylib\r\n    │&#160;&#160; ├── libfreetype.dylib\r\n    │&#160;&#160; ├── libinstrument.dylib\r\n    │&#160;&#160; ├── libjava.dylib\r\n    │&#160;&#160; ├── libjavajpeg.dylib\r\n    │&#160;&#160; ├── libjawt.dylib\r\n    │&#160;&#160; ├── libjimage.dylib\r\n    │&#160;&#160; ├── libjli.dylib\r\n    │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; ├── libjsound.dylib\r\n    │&#160;&#160; ├── liblcms.dylib\r\n    │&#160;&#160; ├── libmlib_image.dylib\r\n    │&#160;&#160; ├── libnet.dylib\r\n    │&#160;&#160; ├── libnio.dylib\r\n    │&#160;&#160; ├── libosx.dylib\r\n    │&#160;&#160; ├── libosxapp.dylib\r\n    │&#160;&#160; ├── libosxsecurity.dylib\r\n    │&#160;&#160; ├── libosxui.dylib\r\n    │&#160;&#160; ├── libprefs.dylib\r\n    │&#160;&#160; ├── libsplashscreen.dylib\r\n    │&#160;&#160; ├── libverify.dylib\r\n    │&#160;&#160; ├── libzip.dylib\r\n    │&#160;&#160; ├── modules\r\n    │&#160;&#160; ├── psfont.properties.ja\r\n    │&#160;&#160; ├── psfontj2d.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── blocked.certs\r\n    │&#160;&#160; │&#160;&#160; ├── cacerts\r\n    │&#160;&#160; │&#160;&#160; ├── default.policy\r\n    │&#160;&#160; │&#160;&#160; └── public_suffix_list.dat\r\n    │&#160;&#160; ├── server\r\n    │&#160;&#160; │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; │&#160;&#160; └── libjvm.dylib\r\n    │&#160;&#160; ├── shaders.metallib\r\n    │&#160;&#160; └── tzdb.dat\r\n    └── release\r\n\r\nWhat I am missing here is `bin/java`. How do I start Java using this runtime?\r\n\r\n","title":"jlink generated runtime does not contain Java binary","body":"<p>I am trying to generate a JRE using jlink.</p>\n<p>I do so by executing:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\n--verbose --output /Users/alex/sources/project/target/runtime\n--module-path /Users/alex/sources/project/target/mods\n--add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\n--strip-native-commands\n--no-header-files\n--no-man-pages\n--strip-debug\n--compress=1\n</code></pre>\n<p>this is the generated runtime image:</p>\n<pre><code>out\n├── conf\n│   ├── logging.properties\n│   ├── net.properties\n│   ├── security\n│   │   ├── java.policy\n│   │   ├── java.security\n│   │   └── policy\n│   │       ├── README.txt\n│   │       ├── limited\n│   │       │   ├── default_US_export.policy\n│   │       │   ├── default_local.policy\n│   │       │   └── exempt_local.policy\n│   │       └── unlimited\n│   │           ├── default_US_export.policy\n│   │           └── default_local.policy\n│   └── sound.properties\n├── legal\n│   ├── java.base\n│   │   ├── ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE\n│   │   ├── aes.md\n│   │   ├── asm.md\n│   │   ├── c-libutl.md\n│   │   ├── cldr.md\n│   │   ├── icu.md\n│   │   ├── public_suffix.md\n│   │   └── unicode.md\n│   ├── java.compiler\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.datatransfer\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.desktop\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── colorimaging.md\n│   │   ├── freetype.md\n│   │   ├── giflib.md\n│   │   ├── harfbuzz.md\n│   │   ├── jpeg.md\n│   │   ├── lcms.md\n│   │   ├── libpng.md\n│   │   ├── mesa3d.md\n│   │   └── xwd.md\n│   ├── java.instrument\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.logging\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.naming\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.prefs\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.scripting\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.security.sasl\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.sql\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.transaction.xa\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.xml\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── bcel.md\n│   │   ├── dom.md\n│   │   ├── jcup.md\n│   │   ├── xalan.md\n│   │   └── xerces.md\n│   └── jdk.unsupported\n│       ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│       ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│       └── LICENSE -&gt; ../java.base/LICENSE\n├── lib\n│   ├── classlist\n│   ├── fontconfig.bfc\n│   ├── fontconfig.properties.src\n│   ├── jrt-fs.jar\n│   ├── jspawnhelper\n│   ├── jvm.cfg\n│   ├── libawt.dylib\n│   ├── libawt_lwawt.dylib\n│   ├── libfontmanager.dylib\n│   ├── libfreetype.dylib\n│   ├── libinstrument.dylib\n│   ├── libjava.dylib\n│   ├── libjavajpeg.dylib\n│   ├── libjawt.dylib\n│   ├── libjimage.dylib\n│   ├── libjli.dylib\n│   ├── libjsig.dylib\n│   ├── libjsound.dylib\n│   ├── liblcms.dylib\n│   ├── libmlib_image.dylib\n│   ├── libnet.dylib\n│   ├── libnio.dylib\n│   ├── libosx.dylib\n│   ├── libosxapp.dylib\n│   ├── libosxsecurity.dylib\n│   ├── libosxui.dylib\n│   ├── libprefs.dylib\n│   ├── libsplashscreen.dylib\n│   ├── libverify.dylib\n│   ├── libzip.dylib\n│   ├── modules\n│   ├── psfont.properties.ja\n│   ├── psfontj2d.properties\n│   ├── security\n│   │   ├── blocked.certs\n│   │   ├── cacerts\n│   │   ├── default.policy\n│   │   └── public_suffix_list.dat\n│   ├── server\n│   │   ├── libjsig.dylib\n│   │   └── libjvm.dylib\n│   ├── shaders.metallib\n│   └── tzdb.dat\n└── release\n</code></pre>\n<p>What I am missing here is <code>bin/java</code>. How do I start Java using this runtime?</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","queue"],"owner":{"account_id":15286938,"reputation":317,"user_id":11029695,"display_name":"khalD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299324,"creation_date":1678293785,"question_id":75675855,"body_markdown":"I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:\r\n\r\n1. Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)\r\n2. Perform all operations inside the receiveMessage() function in the consumer class.\r\n3. Return a specific object that was processed inside the receiveMessage() function as a response in my controller.\r\n\r\nI am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):\r\n\r\n```\r\n@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\r\n\r\n\t// send the message to the queue\r\n\trabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n    // how could I get the value returned from convertAndSend ?\r\n\r\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\r\n\t// DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n\t\t\r\n\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n}\r\n```\r\n\r\nBut i now that `rabbitTemplate.convertAndSend()` must be a void. Honestly i don&#39;t know how to figure it out, maybe I misunderstood something ?\r\n","title":"How to get object handled by consumer (RabbitMq using Spring Boot)","body":"<p>I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:</p>\n<ol>\n<li>Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)</li>\n<li>Perform all operations inside the receiveMessage() function in the consumer class.</li>\n<li>Return a specific object that was processed inside the receiveMessage() function as a response in my controller.</li>\n</ol>\n<p>I am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):</p>\n<pre><code>@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\n\n    // send the message to the queue\n    rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n    // how could I get the value returned from convertAndSend ?\n\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\n    // DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n        \n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n<p>But i now that <code>rabbitTemplate.convertAndSend()</code> must be a void. Honestly i don't know how to figure it out, maybe I misunderstood something ?</p>\n"},{"tags":["java","database","oracle","hibernate","stored-procedures"],"owner":{"account_id":936903,"reputation":727,"user_id":965682,"accept_rate":54,"display_name":"Jack1987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298836,"creation_date":1678296600,"question_id":75676330,"body_markdown":"I&#39;m working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I&#39;m calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:\r\n\r\n    public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \r\n        @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\r\n        public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\r\n                @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \r\n                @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;T&quot;)\r\n    public class TgHyDetail extends Domain {\r\n\r\n","title":"Calling stored procedure using Java and Hibernate takes to much time","body":"<p>I'm working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I'm calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:</p>\n<pre><code>public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \n    @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\n    public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\n            @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \n            @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \n}\n\n\n@Entity\n@Table(name = &quot;T&quot;)\npublic class TgHyDetail extends Domain {\n</code></pre>\n"},{"tags":["java","spring-boot","webserver","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"score":0,"creation_date":1678286880,"post_id":75602241,"comment_id":133503479,"body_markdown":"What is the behavior on a server, does it also pick up the IP address and not the host name?","body":"What is the behavior on a server, does it also pick up the IP address and not the host name?"}],"answers":[{"tags":[],"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678298788,"creation_date":1678298788,"answer_id":75676680,"question_id":75602241,"body_markdown":"Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see [https://github.com/spring-projects/spring-framework/issues/30033][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/30033","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see <a href=\"https://github.com/spring-projects/spring-framework/issues/30033\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30033</a></p>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676680,"answer_count":1,"score":0,"last_activity_date":1678298788,"creation_date":1677665454,"question_id":75602241,"body_markdown":"We recently upgraded our application to Spring Boot 3 and Springdoc 2:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n`application.properties` contain the port definition:\r\n\r\n```\r\nserver.port=8096\r\n```\r\n\r\nEverything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.\r\n\r\nWhen I run SwaggerUI on the address `http://localhost:8096/swagger-ui.html` as usual, it generates the OpenApi definition with server address not as `http://localhost:8096` as before the upgrade, but as `http://[0:0:0:0:0:0:0:1]:8096`. For some reason it decides to use IPv6.\r\n\r\nWhen I modify `application.properties` to explicitly contain the server address:\r\n\r\n```\r\nserver.address=localhost\r\nserver.port=8096\r\n```\r\n\r\nOpenApi now willfuly replaces it with its IPv4 address, so the server address is now `http://127.0.0.1:8096`.\r\n\r\nThen I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at `http://localhost:8096`, however HTTP requests called from within the UI go to `http://127.0.0.1:8096`.)\r\n\r\nI would somehow accept it and call Swagger UI via the IP address, but it is awkward, and *most of all*, it **used to work smoothly before the upgrade**.\r\n\r\nI am running under Windows 11. For the record, I didn&#39;t do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!\r\n\r\nI came with a workaround which is functional, but I am not happy with it as it is an ugly hack:\r\n\r\n```java\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class OpenApi30Config {\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String profile;\r\n\r\n    @Bean\r\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\r\n        return serverBaseUrl -&gt; {\r\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\r\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\r\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\r\n                return newServerBaseUrl;\r\n            }\r\n            return serverBaseUrl;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n### Questions (strongly related):\r\n\r\n1. Why did Spring Boot 3 / OpenApi 2 change this behaviour?\r\n2. Is there a more &quot;canonical&quot; way to return it back to using `localhost` in the server address?","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>We recently upgraded our application to Spring Boot 3 and Springdoc 2:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>application.properties</code> contain the port definition:</p>\n<pre><code>server.port=8096\n</code></pre>\n<p>Everything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.</p>\n<p>When I run SwaggerUI on the address <code>http://localhost:8096/swagger-ui.html</code> as usual, it generates the OpenApi definition with server address not as <code>http://localhost:8096</code> as before the upgrade, but as <code>http://[0:0:0:0:0:0:0:1]:8096</code>. For some reason it decides to use IPv6.</p>\n<p>When I modify <code>application.properties</code> to explicitly contain the server address:</p>\n<pre><code>server.address=localhost\nserver.port=8096\n</code></pre>\n<p>OpenApi now willfuly replaces it with its IPv4 address, so the server address is now <code>http://127.0.0.1:8096</code>.</p>\n<p>Then I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at <code>http://localhost:8096</code>, however HTTP requests called from within the UI go to <code>http://127.0.0.1:8096</code>.)</p>\n<p>I would somehow accept it and call Swagger UI via the IP address, but it is awkward, and <em>most of all</em>, it <strong>used to work smoothly before the upgrade</strong>.</p>\n<p>I am running under Windows 11. For the record, I didn't do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!</p>\n<p>I came with a workaround which is functional, but I am not happy with it as it is an ugly hack:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.StringUtils;\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApi30Config {\n    @Value(&quot;${spring.profiles.active}&quot;)\n    private String profile;\n\n    @Bean\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\n        return serverBaseUrl -&gt; {\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\n                return newServerBaseUrl;\n            }\n            return serverBaseUrl;\n        };\n    }\n}\n</code></pre>\n<h3>Questions (strongly related):</h3>\n<ol>\n<li>Why did Spring Boot 3 / OpenApi 2 change this behaviour?</li>\n<li>Is there a more &quot;canonical&quot; way to return it back to using <code>localhost</code> in the server address?</li>\n</ol>\n"},{"tags":["java","properties","configuration","struts2","app-config"],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1678298290,"post_id":75619459,"comment_id":133507096,"body_markdown":"You can also upvote this answer. It will help others to find a better solution.","body":"You can also upvote this answer. It will help others to find a better solution."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298739,"creation_date":1677781495,"answer_id":75619459,"question_id":75591111,"body_markdown":"Struts2 keeps it&#39;s configuration in the `struts.xml` or `struts.properties` files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.\r\n\r\nBut there&#39;s another way to configure your actions with properties files. It&#39;s known as Message Resource properties. You can configure them either in `struts.xml` or `struts.properties` file. The key/values are loaded via the\r\n\r\n&gt; Within action classes that extend `ActionSupport` through the `getText()` method\r\n\r\nThere&#39;s a lot of places and properties where you can configure. Everything about it is described in the [Localization Guide][1].\r\n\r\nFor your purpose you can use global properties, or custom text provider.\r\n\r\n\r\n\r\n&gt;Global Resources (`struts.custom.i18n.resource`s) in `struts.properties`\r\nA global resource bundle could be specified programmatically, as well as the locale.\r\n&gt;\r\n&gt;Comparison with Struts 1\r\nStruts 1 users should be familiar with the `application.properties` resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles \r\n&gt;\r\n&gt;Using only global bundles\r\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via `struts.custom.i18n.resources`) you can use existing `GlobalLocalizedTextProvider` implementation. To use this please define the following option in your `struts.xml`:\r\n&gt;\r\n&gt;```\r\n&gt;&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\r\n&gt;```\r\n&gt;Custom `TextProvider` and `TextProviderFactory`\r\n&gt;If you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the `TextProvider`. \r\n\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/localization.html","title":"Application properties for a struts2 java web application","body":"<p>Struts2 keeps it's configuration in the <code>struts.xml</code> or <code>struts.properties</code> files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.</p>\n<p>But there's another way to configure your actions with properties files. It's known as Message Resource properties. You can configure them either in <code>struts.xml</code> or <code>struts.properties</code> file. The key/values are loaded via the</p>\n<blockquote>\n<p>Within action classes that extend <code>ActionSupport</code> through the <code>getText()</code> method</p>\n</blockquote>\n<p>There's a lot of places and properties where you can configure. Everything about it is described in the <a href=\"https://struts.apache.org/core-developers/localization.html\" rel=\"nofollow noreferrer\">Localization Guide</a>.</p>\n<p>For your purpose you can use global properties, or custom text provider.</p>\n<blockquote>\n<p>Global Resources (<code>struts.custom.i18n.resource</code>s) in <code>struts.properties</code>\nA global resource bundle could be specified programmatically, as well as the locale.</p>\n<p>Comparison with Struts 1\nStruts 1 users should be familiar with the <code>application.properties</code> resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles</p>\n<p>Using only global bundles\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via <code>struts.custom.i18n.resources</code>) you can use existing <code>GlobalLocalizedTextProvider</code> implementation. To use this please define the following option in your <code>struts.xml</code>:</p>\n<pre><code>&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\n</code></pre>\n<p>Custom <code>TextProvider</code> and <code>TextProviderFactory</code>\nIf you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the <code>TextProvider</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75619459,"answer_count":1,"score":1,"last_activity_date":1678298739,"creation_date":1677582020,"question_id":75591111,"body_markdown":"I am new to Struts2 framework and I am trying to add some configuration properties like `applicationId`, `timeout` etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the `application.properties/application.yml` file and we are able to access the values using the `@Value` or `@ConfigurationProperties` annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers) ","title":"Application properties for a struts2 java web application","body":"<p>I am new to Struts2 framework and I am trying to add some configuration properties like <code>applicationId</code>, <code>timeout</code> etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the <code>application.properties/application.yml</code> file and we are able to access the values using the <code>@Value</code> or <code>@ConfigurationProperties</code> annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1678299008,"post_id":75676649,"comment_id":133507269,"body_markdown":"`&quot;John Smith&quot;` is a `String`.  A JSON object would be enclosed by curly braces -- `{  }`.  For example `billTo` and `shipTo` would be JSON objects.","body":"<code>&quot;John Smith&quot;</code> is a <code>String</code>.  A JSON object would be enclosed by curly braces -- <code>{  }</code>.  For example <code>billTo</code> and <code>shipTo</code> would be JSON objects."}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298588,"creation_date":1678298551,"question_id":75676649,"body_markdown":"I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:\r\n\r\n    org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\r\n\r\nI am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!\r\n\r\nimport org.json.*; \r\n\r\n    public class Transform {\r\n        public JSONObject JsonToJson(String payload) {\r\n            JSONObject myPayload = new JSONObject(payload);\r\n            JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\r\n            JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\r\n            JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\r\n            JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\r\n            JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\r\n            JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\r\n            JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\r\n    \r\n            shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\r\n            return myPayload;\r\n        } \r\n    }\r\n\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(payload);\r\n    Transform p = new Transform();\r\n    JSONObject tPayload = p.JsonToJson(payload);\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(tPayload.toString());\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n\r\n    { &quot;name&quot;   : &quot;John Smith&quot;,\r\n      &quot;sku&quot;    : &quot;20223&quot;,\r\n      &quot;price&quot;  : 23.95,\r\n      &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; },\r\n      &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; }\r\n    }","title":"JSON Conversion In Java","body":"<p>I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\n</code></pre>\n<p>I am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!</p>\n<p>import org.json.*;</p>\n<pre><code>public class Transform {\n    public JSONObject JsonToJson(String payload) {\n        JSONObject myPayload = new JSONObject(payload);\n        JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\n        JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\n        JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\n        JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\n        JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\n        JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\n        JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\n        JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\n        JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\n        JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\n        JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\n        JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\n        JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\n        JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\n        JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\n\n        shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\n        return myPayload;\n    } \n}\n\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(payload);\nTransform p = new Transform();\nJSONObject tPayload = p.JsonToJson(payload);\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(tPayload.toString());\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\n\n{ &quot;name&quot;   : &quot;John Smith&quot;,\n  &quot;sku&quot;    : &quot;20223&quot;,\n  &quot;price&quot;  : 23.95,\n  &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; },\n  &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1678099484,"post_id":75649176,"comment_id":133461458,"body_markdown":"Thanks! I guess you are right, using repository or service class is more convenient","body":"Thanks! I guess you are right, using repository or service class is more convenient"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298570,"creation_date":1678095381,"answer_id":75649176,"question_id":75644504,"body_markdown":"It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.\r\n\r\nSomething like this:\r\n\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    Product product = productService.getProduct(productId);\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.</p>\n<p>Something like this:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    Product product = productService.getProduct(productId);\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75649176,"answer_count":1,"score":0,"last_activity_date":1678298570,"creation_date":1678041620,"question_id":75644504,"body_markdown":"I&#39;m creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke ```POST``` request and put this item in user&#39;s cart.\r\n```\r\n&lt;div class=&quot;container&quot;&gt;\r\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\r\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \r\n          th:each=&quot;item:${products}&quot;&gt;\r\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\r\n      &lt;div class=&quot;card-body&quot;&gt;\r\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\r\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\r\n          No Description\r\n        &lt;/p&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n@PostMapping itself:\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```\r\n\r\n However, once I click the button I get this output:\r\n\r\n&gt; 2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;com.ivand.shopfullstack.model.Product&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.String] to type [java.lang.Long] for\r\n&gt; value &#39;Product(id=25, name=Sneaker1, description=An amazing sneakers,\r\n&gt; sex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\r\n&gt; image=null, category=Category(id=19, type=SHOES, name=Sneakers))&#39;;\r\n&gt; nested exception is java.lang.NumberFormatException: For input string:\r\n&gt; &quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]\r\n\r\nI understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>I'm creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke <code>POST</code> request and put this item in user's cart.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \n          th:each=&quot;item:${products}&quot;&gt;\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\n      &lt;div class=&quot;card-body&quot;&gt;\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\n          No Description\n        &lt;/p&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>@PostMapping itself:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>However, once I click the button I get this output:</p>\n<blockquote>\n<p>2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\nFailed to convert value of type 'java.lang.String' to required type\n'com.ivand.shopfullstack.model.Product'; nested exception is\norg.springframework.core.convert.ConversionFailedException: Failed to\nconvert from type [java.lang.String] to type [java.lang.Long] for\nvalue 'Product(id=25, name=Sneaker1, description=An amazing sneakers,\nsex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\nimage=null, category=Category(id=19, type=SHOES, name=Sneakers))';\nnested exception is java.lang.NumberFormatException: For input string:\n&quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]</p>\n</blockquote>\n<p>I understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.</p>\n"},{"tags":["java","active-directory","ldap","keycloak","event-listener"],"owner":{"account_id":27833218,"reputation":1,"user_id":21251233,"display_name":"Vineeth C Sreepad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298386,"creation_date":1678277562,"question_id":75672884,"body_markdown":"UseCase:\r\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\r\n\r\nThis works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.\r\n\r\nCurious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.\r\n\r\nCurrently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.","title":"Keycloak: Does/Can LDAPStorageMapper have a onDeleteUserFromLDAP override method?","body":"<p>UseCase:\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : <a href=\"https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\" rel=\"nofollow noreferrer\">https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc</a></p>\n<p>This works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.</p>\n<p>Curious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.</p>\n<p>Currently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.</p>\n"},{"tags":["java","certificate","pdfbox","digital-signature","aatl"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678298559,"post_id":75676607,"comment_id":133507156,"body_markdown":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have.","body":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have."}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678298231,"creation_date":1678298231,"question_id":75676607,"body_markdown":"For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.\r\n\r\nWhen I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?","title":"How java PDFBox check whether certificate is registered in AATL or EUTL","body":"<p>For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.</p>\n<p>When I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?</p>\n"},{"tags":["java","generics","vert.x"],"answers":[{"comments":[{"owner":{"account_id":27966877,"reputation":1,"user_id":21357539,"display_name":"Lokraj Ahuja"},"score":0,"creation_date":1678305094,"post_id":75675876,"comment_id":133508790,"body_markdown":"Thank you.\nIs there a way to do this without using the interface MyHandler?","body":"Thank you. Is there a way to do this without using the interface MyHandler?"},{"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"score":0,"creation_date":1678328451,"post_id":75675876,"comment_id":133512793,"body_markdown":"No problem! Actually no, the standard way of creating a function in Java 8+ is through a single-method interface.","body":"No problem! Actually no, the standard way of creating a function in Java 8+ is through a single-method interface."}],"tags":[],"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293895,"creation_date":1678293895,"answer_id":75675876,"question_id":75675558,"body_markdown":"The idea of a generic handler would work for sure. When you construct the `EventProducerService` instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService. \r\n\r\n`public class EventProducerService&lt;T extends MyInterface&gt;{...`\r\n\r\nThe downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.\r\n\r\nAll in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.\r\n\r\n    public interface MyHandler&lt;T&gt; {\r\n        void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\r\n    }\r\n\r\n    public class EventProducerService&lt;T&gt;{\r\n    MyHandler&lt;T&gt; handler;\r\n    private Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n            final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n    \r\n            final String body;\r\n            try {\r\n                body = JacksonUtils.toJson(events);\r\n            } catch (JsonProcessingException e) {\r\n                return Future.failedFuture(e);\r\n            }\r\n    \r\n            Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n            handler.handle(f, events);\r\n            return f;\r\n        }\r\n    }\r\n\r\nand you can pass the handler as a Java 8+ function to the constructor.\r\n\r\n    new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n                topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\r\n                // your code\r\n                });","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>The idea of a generic handler would work for sure. When you construct the <code>EventProducerService</code> instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService.</p>\n<p><code>public class EventProducerService&lt;T extends MyInterface&gt;{...</code></p>\n<p>The downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.</p>\n<p>All in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.</p>\n<pre><code>public interface MyHandler&lt;T&gt; {\n    void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\n}\n\npublic class EventProducerService&lt;T&gt;{\nMyHandler&lt;T&gt; handler;\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n        handler.handle(f, events);\n        return f;\n    }\n}\n</code></pre>\n<p>and you can pass the handler as a Java 8+ function to the constructor.</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\n            // your code\n            });\n</code></pre>\n"}],"owner":{"account_id":27966877,"reputation":1,"user_id":21357539,"display_name":"Lokraj Ahuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678298115,"creation_date":1678292294,"question_id":75675558,"body_markdown":"I have a method that publishes List of events in Kafka:-    \r\n```\r\npublic class EventProducerService&lt;T&gt;{\r\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n\r\n        final String body;\r\n        try {\r\n            body = JacksonUtils.toJson(events);\r\n        } catch (JsonProcessingException e) {\r\n            return Future.failedFuture(e);\r\n        }\r\n\r\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n    }\r\n}\r\n```\r\n\r\nand this class is defined using :-\r\n\r\n```\r\nnew EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n            topic, BUFFER_SIZE, vertx, metricRegistry);\r\n```\r\n\r\nI want to send the event info to a tracking service after a successful publish. The T in List&lt;T&gt; events can have different classes with their own unique methods. I want to track one of them **OrderTrackingInfoEvent**.\r\n\r\nSo, How do I access methods of **TrackingInfoEvent** inside the above publish method?\r\n\r\nPlease note that casting cannot be used.\r\n\r\n\r\n\r\nPlease help. I am new to Java.\r\n\r\n\r\n\r\n\r\nI was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.\r\n\r\nand the handler would be specified when constructing the EventProducerService instance.","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>I have a method that publishes List of events in Kafka:-</p>\n<pre><code>public class EventProducerService&lt;T&gt;{\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n    }\n}\n</code></pre>\n<p>and this class is defined using :-</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry);\n</code></pre>\n<p>I want to send the event info to a tracking service after a successful publish. The T in List events can have different classes with their own unique methods. I want to track one of them <strong>OrderTrackingInfoEvent</strong>.</p>\n<p>So, How do I access methods of <strong>TrackingInfoEvent</strong> inside the above publish method?</p>\n<p>Please note that casting cannot be used.</p>\n<p>Please help. I am new to Java.</p>\n<p>I was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.</p>\n<p>and the handler would be specified when constructing the EventProducerService instance.</p>\n"},{"tags":["java","char","uppercase"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1284323087,"post_id":3696441,"comment_id":3896525,"body_markdown":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question.","body":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1507515555,"post_id":3696441,"comment_id":80225197,"body_markdown":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers.","body":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers."}],"answers":[{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1284322838,"creation_date":1284322838,"answer_id":3696455,"question_id":3696441,"body_markdown":"    f = Character.toUpperCase(f);\r\n    l = Character.toUpperCase(l);","title":"Converting a char to uppercase in Java","body":"<pre><code>f = Character.toUpperCase(f);\nl = Character.toUpperCase(l);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":2,"creation_date":1284323040,"post_id":3696457,"comment_id":3896518,"body_markdown":"+1 I like the answers that providers the user with a reference to go seek the answer","body":"+1 I like the answers that providers the user with a reference to go seek the answer"},{"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"score":3,"creation_date":1390063702,"post_id":3696457,"comment_id":31935650,"body_markdown":"-1, if we dragnet for students we remove one of SO main benefits. Not spending inordinate amounts of time following peoples nested references across broken links.","body":"-1, if we dragnet for students we remove one of SO main benefits. Not spending inordinate amounts of time following peoples nested references across broken links."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1284322855,"creation_date":1284322855,"answer_id":3696457,"question_id":3696441,"body_markdown":"Have a look at the `java.lang.Character` class, it provides a lot of useful methods to convert or test chars.","title":"Converting a char to uppercase in Java","body":"<p>Have a look at the <code>java.lang.Character</code> class, it provides a lot of useful methods to convert or test chars.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":159,"is_accepted":false,"score":159,"last_activity_date":1415000072,"creation_date":1284322858,"answer_id":3696458,"question_id":3696441,"body_markdown":"You can use [`Character#toUpperCase()`][1] for this.\r\n\r\n    char fUpper = Character.toUpperCase(f);\r\n    char lUpper = Character.toUpperCase(l);\r\n\r\nIt has however some limitations since the world is aware of many more characters than can ever fit in 16bit `char` range. See also the following excerpt of the [javadoc][2]:\r\n\r\n&gt; Note: This method cannot handle  [supplementary characters][3]. To support all Unicode characters, including supplementary characters, use the [`toUpperCase(int)`][4] method. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29","title":"Converting a char to uppercase in Java","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\"><code>Character#toUpperCase()</code></a> for this.</p>\n\n<pre><code>char fUpper = Character.toUpperCase(f);\nchar lUpper = Character.toUpperCase(l);\n</code></pre>\n\n<p>It has however some limitations since the world is aware of many more characters than can ever fit in 16bit <code>char</code> range. See also the following excerpt of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Note: This method cannot handle  <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\" rel=\"noreferrer\">supplementary characters</a>. To support all Unicode characters, including supplementary characters, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29\" rel=\"noreferrer\"><code>toUpperCase(int)</code></a> method. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1284322920,"creation_date":1284322920,"answer_id":3696463,"question_id":3696441,"body_markdown":"The easiest solution for your case - change the first line, let it do just the opposite thing:\r\n\r\n    String lower = Name.toUpperCase ();\r\n\r\nOf course, it&#39;s worth to change its name too.\r\n","title":"Converting a char to uppercase in Java","body":"<p>The easiest solution for your case - change the first line, let it do just the opposite thing:</p>\n\n<pre><code>String lower = Name.toUpperCase ();\n</code></pre>\n\n<p>Of course, it's worth to change its name too.</p>\n"},{"comments":[{"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"score":0,"creation_date":1373021428,"post_id":3696495,"comment_id":25415222,"body_markdown":"The [link](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29) you provided gives 404 error!!!! can you correct it??","body":"The <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29\" rel=\"nofollow noreferrer\">link</a> you provided gives 404 error!!!! can you correct it??"}],"tags":[],"owner":{"account_id":178996,"reputation":6452,"user_id":411326,"accept_rate":75,"display_name":"Asaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373147708,"creation_date":1284323553,"answer_id":3696495,"question_id":3696441,"body_markdown":"If you are including the apache commons lang jar in your project than the easiest solution would be to do:\r\n\r\n    WordUtils.capitalize(Name)\r\n\r\ntakes care of all the dirty work for you.\r\nSee the javadoc [here][1]\r\n\r\nAlternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)","title":"Converting a char to uppercase in Java","body":"<p>If you are including the apache commons lang jar in your project than the easiest solution would be to do:</p>\n\n<pre><code>WordUtils.capitalize(Name)\n</code></pre>\n\n<p>takes care of all the dirty work for you.\nSee the javadoc <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Alternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.</p>\n"},{"comments":[{"owner":{"account_id":3044819,"reputation":8098,"user_id":2580791,"accept_rate":82,"display_name":"Mike Laren"},"score":4,"creation_date":1423364883,"post_id":28390007,"comment_id":45117657,"body_markdown":"This only works if the string is composed exclusively of ASCII characters. Languages like French, Greek, Spanish, Turkish, etc, have non-ASCII characters with upper/lower forms. This approach wouldn&#39;t work in those cases...","body":"This only works if the string is composed exclusively of ASCII characters. Languages like French, Greek, Spanish, Turkish, etc, have non-ASCII characters with upper/lower forms. This approach wouldn&#39;t work in those cases..."},{"owner":{"account_id":221711,"reputation":14051,"user_id":479851,"accept_rate":69,"display_name":"S&#233;bastien"},"score":0,"creation_date":1444742303,"post_id":28390007,"comment_id":54022282,"body_markdown":"Actually this basic approach *does* work for the most common non-ASCII characters in French, Spanish, German... e.g. `&#233;` `&#224;` `&#246;` `&#251;` `&#241;` ...  So if the OP knows that he will only have to deal with such characters, he can stick to this method for the sake of simplicity and performance.","body":"Actually this basic approach <i>does</i> work for the most common non-ASCII characters in French, Spanish, German... e.g. <code>&#233;</code> <code>&#224;</code> <code>&#246;</code> <code>&#251;</code> <code>&#241;</code> ...  So if the OP knows that he will only have to deal with such characters, he can stick to this method for the sake of simplicity and performance."},{"owner":{"account_id":1410110,"reputation":739,"user_id":1516636,"accept_rate":80,"display_name":"Floyd"},"score":1,"creation_date":1450342168,"post_id":28390007,"comment_id":56401775,"body_markdown":"Doing calculations with characters to change the case is one of the worst habits, and so not 21st century! There is more than ascii chars!","body":"Doing calculations with characters to change the case is one of the worst habits, and so not 21st century! There is more than ascii chars!"}],"tags":[],"owner":{"account_id":5753148,"reputation":1525,"user_id":4542084,"display_name":"Burrito"},"comment_count":3,"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1423363326,"creation_date":1423363326,"answer_id":28390007,"question_id":3696441,"body_markdown":"Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:\r\n\r\n    char a = &#39;a&#39;;\r\n    a -= 32;\r\n    System.out.println(&quot;a is &quot; + a); //a is A\r\n\r\nHere is an [ASCII table][1] for reference\r\n\r\n\r\n  [1]: https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html","title":"Converting a char to uppercase in Java","body":"<p>Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:</p>\n\n<pre><code>char a = 'a';\na -= 32;\nSystem.out.println(\"a is \" + a); //a is A\n</code></pre>\n\n<p>Here is an <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html\" rel=\"noreferrer\">ASCII table</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":8320328,"reputation":29,"user_id":6252267,"display_name":"امون بسام"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1461603063,"creation_date":1461599214,"answer_id":36845299,"question_id":3696441,"body_markdown":"You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - \r\n\r\n    String str;\r\n    TextView txt;\r\n\r\n    str.toUpperCase();// will change it to all upper case OR\r\n    txt.append(str.toUpperCase());\r\n    txt.setText(str.toUpperCase());\r\n","title":"Converting a char to uppercase in Java","body":"<p>You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - </p>\n\n<pre><code>String str;\nTextView txt;\n\nstr.toUpperCase();// will change it to all upper case OR\ntxt.append(str.toUpperCase());\ntxt.setText(str.toUpperCase());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1465836,"reputation":433,"user_id":1378685,"display_name":"Adam Hewitt"},"score":15,"creation_date":1504713137,"post_id":38707004,"comment_id":79120492,"body_markdown":"I&#39;m honestly shocked that this has 7 votes. While I applaud the clever approach, being clever rarely leads to maintainable code, especially when used in place of a built-in method like `Character.toUpperCase()`. Any users of this should understand it will not handle anything non-ASCII.","body":"I&#39;m honestly shocked that this has 7 votes. While I applaud the clever approach, being clever rarely leads to maintainable code, especially when used in place of a built-in method like <code>Character.toUpperCase()</code>. Any users of this should understand it will not handle anything non-ASCII."},{"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"score":1,"creation_date":1504719461,"post_id":38707004,"comment_id":79124184,"body_markdown":"@AdamHewitt this approach work with non-ASCII chars as well e.g. &#39;250&#39;, however, few non-ASCII characters wouldn&#39;t give expected results.Your point is correct that users should understand right usage of this approach and it should be used mainly for English alphabets.","body":"@AdamHewitt this approach work with non-ASCII chars as well e.g. &#39;250&#39;, however, few non-ASCII characters wouldn&#39;t give expected results.Your point is correct that users should understand right usage of this approach and it should be used mainly for English alphabets."},{"owner":{"account_id":306864,"reputation":956,"user_id":617857,"accept_rate":43,"display_name":"Steven Yue"},"score":1,"creation_date":1518745927,"post_id":38707004,"comment_id":84641918,"body_markdown":"I think it should be `c | 0x20` instead of `c ^ 0x20` for lower case. Otherwise, if the character is already lower case, your code will convert it to uppercase","body":"I think it should be <code>c | 0x20</code> instead of <code>c ^ 0x20</code> for lower case. Otherwise, if the character is already lower case, your code will convert it to uppercase"}],"tags":[],"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"comment_count":3,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1518934069,"creation_date":1470080998,"answer_id":38707004,"question_id":3696441,"body_markdown":"Instead of using existing utilities, you may try below conversion using boolean operation:\r\n\r\n**To upper case:**\r\n\r\n     char upperChar = &#39;l&#39; &amp; 0x5f\r\n\r\n**To lower case:**\r\n\r\n       char lowerChar = &#39;L&#39; ^ 0x20\r\n\r\n\r\n------------------\r\n**How it works:**\r\n\r\nBinary, hex and decimal table:\r\n\r\n    ------------------------------------------\r\n    | Binary   |   Hexadecimal     | Decimal |\r\n    -----------------------------------------\r\n    | 1011111  |    0x5f           |  95     |\r\n    ------------------------------------------\r\n    | 100000   |    0x20           |  32     |\r\n    ------------------------------------------\r\n\r\n**Let&#39;s take an example of small `l` to `L` conversion:**&lt;br&gt;\r\n\r\nThe binary AND operation: `(l &amp; 0x5f)`\r\n\r\n`l` character has **ASCII** 108 and `01101100` is binary represenation. \r\n\r\n\r\n       1101100\r\n    &amp;  1011111\r\n    -----------\r\n       1001100 = 76 in decimal which is **ASCII** code of L\r\n\r\n\r\n**Similarly the `L` to `l` conversion:** \r\n\r\nThe binary XOR operation: `(L ^ 0x20)`\r\n\r\n       1001100\r\n    ^  0100000\r\n    -----------\r\n       1101100 = 108 in decimal which is **ASCII** code of l\r\n","title":"Converting a char to uppercase in Java","body":"<p>Instead of using existing utilities, you may try below conversion using boolean operation:</p>\n\n<p><strong>To upper case:</strong></p>\n\n<pre><code> char upperChar = 'l' &amp; 0x5f\n</code></pre>\n\n<p><strong>To lower case:</strong></p>\n\n<pre><code>   char lowerChar = 'L' ^ 0x20\n</code></pre>\n\n<hr>\n\n<p><strong>How it works:</strong></p>\n\n<p>Binary, hex and decimal table:</p>\n\n<pre><code>------------------------------------------\n| Binary   |   Hexadecimal     | Decimal |\n-----------------------------------------\n| 1011111  |    0x5f           |  95     |\n------------------------------------------\n| 100000   |    0x20           |  32     |\n------------------------------------------\n</code></pre>\n\n<p><strong>Let's take an example of small <code>l</code> to <code>L</code> conversion:</strong><br></p>\n\n<p>The binary AND operation: <code>(l &amp; 0x5f)</code></p>\n\n<p><code>l</code> character has <strong>ASCII</strong> 108 and <code>01101100</code> is binary represenation. </p>\n\n<pre><code>   1101100\n&amp;  1011111\n-----------\n   1001100 = 76 in decimal which is **ASCII** code of L\n</code></pre>\n\n<p><strong>Similarly the <code>L</code> to <code>l</code> conversion:</strong> </p>\n\n<p>The binary XOR operation: <code>(L ^ 0x20)</code></p>\n\n<pre><code>   1001100\n^  0100000\n-----------\n   1101100 = 108 in decimal which is **ASCII** code of l\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8916832,"reputation":1078,"user_id":6655094,"display_name":"soundslikeodd"},"score":1,"creation_date":1483853341,"post_id":41529776,"comment_id":70265148,"body_markdown":"Can you explain your answer?","body":"Can you explain your answer?"},{"owner":{"account_id":9978043,"reputation":161,"user_id":7381898,"display_name":"Likhith Kumar"},"score":0,"creation_date":1483883944,"post_id":41529776,"comment_id":70271944,"body_markdown":"first.substring(0,1) will retrieve substring which is at 0 index of string  and then applying toUpperCase method to that string which will   give you the first character in that string as uppercase","body":"first.substring(0,1) will retrieve substring which is at 0 index of string  and then applying toUpperCase method to that string which will   give you the first character in that string as uppercase"}],"tags":[],"owner":{"account_id":9978043,"reputation":161,"user_id":7381898,"display_name":"Likhith Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483860812,"creation_date":1483853130,"answer_id":41529776,"question_id":3696441,"body_markdown":"    System.out.println(first.substring(0,1).toUpperCase()); \r\n    System.out.println(last.substring(0,1).toUpperCase());","title":"Converting a char to uppercase in Java","body":"<pre><code>System.out.println(first.substring(0,1).toUpperCase()); \nSystem.out.println(last.substring(0,1).toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5834336,"reputation":1811,"user_id":4597890,"accept_rate":78,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512633453,"creation_date":1512633453,"answer_id":47690204,"question_id":3696441,"body_markdown":"I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.&lt;br&gt;\r\n\r\n**Can be done through `StringBuffer`:**&lt;br&gt;\r\n\r\n    public static String toFirstLastCharUpperAll(String string){\r\n        StringBuffer sb=new StringBuffer(string);\r\n            for(int i=0;i&lt;sb.length();i++)\r\n            \tif(i==0 || sb.charAt(i-1)==&#39; &#39; //for first character of string/each word\r\n       \t    \t\t|| i==sb.length()-1 || sb.charAt(i+1)==&#39; &#39;) //for last character of string/each word\r\n       \t    \t\tsb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\r\n       \t return sb.toString();\r\n    }","title":"Converting a char to uppercase in Java","body":"<p>I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.<br></p>\n\n<p><strong>Can be done through <code>StringBuffer</code>:</strong><br></p>\n\n<pre><code>public static String toFirstLastCharUpperAll(String string){\n    StringBuffer sb=new StringBuffer(string);\n        for(int i=0;i&lt;sb.length();i++)\n            if(i==0 || sb.charAt(i-1)==' ' //for first character of string/each word\n                || i==sb.length()-1 || sb.charAt(i+1)==' ') //for last character of string/each word\n                sb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\n     return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267255,"reputation":771,"user_id":11746909,"display_name":"MUGABA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649926837,"creation_date":1649926837,"answer_id":71869040,"question_id":3696441,"body_markdown":"Lets assume you have a variable you want split\r\n\r\n    String name = &quot;Your name variable&quot;;\r\n    char nameChar = Character.toUpperCase(name.charAt(0));","title":"Converting a char to uppercase in Java","body":"<p>Lets assume you have a variable you want split</p>\n<pre><code>String name = &quot;Your name variable&quot;;\nchar nameChar = Character.toUpperCase(name.charAt(0));\n</code></pre>\n"}],"owner":{"account_id":649117,"reputation":879,"user_id":445738,"display_name":"shep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383719,"favorite_count":0,"down_vote_count":1,"up_vote_count":87,"answer_count":11,"score":86,"last_activity_date":1678298030,"creation_date":1284322648,"question_id":3696441,"body_markdown":"How could I get the `f` and `l` variables converted to uppercase?\r\n\r\n    String lower = Name.toLowerCase();\r\n    int a = Name.indexOf(&quot; &quot;,0);\r\n    String first = lower.substring(0, a);\r\n    String last = lower.substring(a+1);\r\n\r\n    char f = first.charAt(0);\r\n    char l = last.charAt(0);\r\n\r\n    System.out.println(l);\r\n","title":"Converting a char to uppercase in Java","body":"<p>How could I get the <code>f</code> and <code>l</code> variables converted to uppercase?</p>\n<pre><code>String lower = Name.toLowerCase();\nint a = Name.indexOf(&quot; &quot;,0);\nString first = lower.substring(0, a);\nString last = lower.substring(a+1);\n\nchar f = first.charAt(0);\nchar l = last.charAt(0);\n\nSystem.out.println(l);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","twitter","twitter4j"],"owner":{"account_id":18271327,"reputation":35,"user_id":13313938,"display_name":"Iv&#225;n Jes&#250;s Monferrer Marz&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678297828,"creation_date":1678297828,"question_id":75676541,"body_markdown":"A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.\r\n\r\nI have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance\r\n\r\n\r\n**1. Main class:**\r\n\r\n```\r\n@SpringBootApplication\r\npublic class TweetManagerApplication {\r\n\t\r\n\tpublic static void main(String[] args) throws TwitterException {\r\n\t\tSpringApplication.run(TweetManagerApplication.class, args);\r\n\t}\r\n\t\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic TwitterStream streamFeed() throws TwitterException {\r\n\t\t\r\n\t\tStatusListener listener = new StatusListener(){\r\n            @Override\r\n            public void onStatus(Status status) {\r\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\r\n            }\r\n\r\n            @Override\r\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\r\n\r\n            @Override\r\n            public void onScrubGeo(long userId, long upToStatusId) {}\r\n\r\n            @Override\r\n            public void onException(Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\t\t\t@Override\r\n\t\t\tpublic void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void onStallWarning(StallWarning warning) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n        };\r\n        TwitterStream twitterStream = Twitter.newBuilder()\r\n                .listener(listener).build().v1().stream();\r\n        return twitterStream.sample();\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\n**2. Configuration class**\r\n\r\n```\r\n@SpringBootConfiguration\r\n@EnableAsync\r\npublic class AsyncConfiguration {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\r\n\r\n    @Bean(name = &quot;taskExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\r\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(2);\r\n        executor.setMaxPoolSize(2);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**3. Maven dependency**\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.1&lt;/version&gt;\r\n```\r\n\r\n\r\n**4. The last logs and the information about this issue are the following:**\r\n\r\n```\r\n2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\r\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nRelevant discussions can be found on the Internet at:\r\n\thttp://www.google.co.jp/search?q=ee74468e or\r\n\thttp://www.google.co.jp/search?q=9eaf216e\r\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:191)\r\n\tat twitter4j.HttpClient.request(HttpClient.java:72)\r\n\tat twitter4j.HttpClient.get(HttpClient.java:279)\r\n\tat twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\r\n\tat twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\r\n\tat twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\r\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:155)\r\n\t... 5 more\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\r\n\t... 6 more\r\n```\r\n\r\nI am trying to use the twitter4j stream as it works a year ago","title":"Issue getting the stream (TwitterStreamImpl) using Java SpringBoot + twitter4j","body":"<p>A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.</p>\n<p>I have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance</p>\n<p><strong>1. Main class:</strong></p>\n<pre><code>@SpringBootApplication\npublic class TweetManagerApplication {\n    \n    public static void main(String[] args) throws TwitterException {\n        SpringApplication.run(TweetManagerApplication.class, args);\n    }\n    \n    @EventListener(ApplicationReadyEvent.class)\n    public TwitterStream streamFeed() throws TwitterException {\n        \n        StatusListener listener = new StatusListener(){\n            @Override\n            public void onStatus(Status status) {\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\n            }\n\n            @Override\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\n\n            @Override\n            public void onScrubGeo(long userId, long upToStatusId) {}\n\n            @Override\n            public void onException(Exception ex) {\n                ex.printStackTrace();\n            }\n            @Override\n            public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\n                // TODO Auto-generated method stub\n                \n            }\n            @Override\n            public void onStallWarning(StallWarning warning) {\n                // TODO Auto-generated method stub\n                \n            }\n        };\n        TwitterStream twitterStream = Twitter.newBuilder()\n                .listener(listener).build().v1().stream();\n        return twitterStream.sample();\n    \n    }\n}\n</code></pre>\n<p><strong>2. Configuration class</strong></p>\n<pre><code>@SpringBootConfiguration\n@EnableAsync\npublic class AsyncConfiguration {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\n\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor taskExecutor() {\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p><strong>3. Maven dependency</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n</code></pre>\n<p><strong>4. The last logs and the information about this issue are the following:</strong></p>\n<pre><code>2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nRelevant discussions can be found on the Internet at:\n    http://www.google.co.jp/search?q=ee74468e or\n    http://www.google.co.jp/search?q=9eaf216e\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:191)\n    at twitter4j.HttpClient.request(HttpClient.java:72)\n    at twitter4j.HttpClient.get(HttpClient.java:279)\n    at twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\n    at twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\n    at twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:155)\n    ... 5 more\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\n    ... 6 more\n</code></pre>\n<p>I am trying to use the twitter4j stream as it works a year ago</p>\n"},{"tags":["java","intellij-idea","plugins"],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496421627,"creation_date":1496421627,"answer_id":44333738,"question_id":44329121,"body_markdown":"if I understand you correctly, please try the following:   \r\nopen Preferences &gt;&gt; Keymap &gt;&gt; Plug-ins &gt;&gt; select your plug-in &gt;&gt; double click on plug-in&#39;s item &gt;&gt; Add Mouse shortcut &gt;&gt; save your right click option.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>if I understand you correctly, please try the following:<br>\nopen Preferences >> Keymap >> Plug-ins >> select your plug-in >> double click on plug-in's item >> Add Mouse shortcut >> save your right click option.</p>\n"},{"tags":[],"owner":{"account_id":9600222,"reputation":774,"user_id":7128028,"display_name":"Sean K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297787,"creation_date":1678297787,"answer_id":75676532,"question_id":44329121,"body_markdown":"In the \\&lt;actions\\&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)\r\n\r\n        &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\r\n                description=&quot;Does Something&quot;&gt;\r\n            &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\r\n        &lt;/action&gt;\r\n\r\nAlso, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn&#39;t registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>In the &lt;actions&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)</p>\n<pre><code>    &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\n            description=&quot;Does Something&quot;&gt;\n        &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\n    &lt;/action&gt;\n</code></pre>\n<p>Also, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn't registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.</p>\n"}],"owner":{"account_id":10626702,"reputation":1,"user_id":7826134,"display_name":"John Vahanyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678297787,"creation_date":1496406879,"question_id":44329121,"body_markdown":"I have written a plugin for **IntelliJ IDEA** . It works when I press **alt + insert** .\r\n\r\n[![works with alt + insert][1]][1]\r\n\r\n\r\nBut I want it to create icon in this menu ,so that I can run my plugin from here.\r\n\r\n[![I want to add somewhere here][2]][2]\r\n\r\nHow can I config it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wZhbL.jpg\r\n  [2]: https://i.stack.imgur.com/5zDMs.jpg","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>I have written a plugin for <strong>IntelliJ IDEA</strong> . It works when I press <strong>alt + insert</strong> .</p>\n\n<p><a href=\"https://i.stack.imgur.com/wZhbL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZhbL.jpg\" alt=\"works with alt + insert\"></a></p>\n\n<p>But I want it to create icon in this menu ,so that I can run my plugin from here.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5zDMs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zDMs.jpg\" alt=\"I want to add somewhere here\"></a></p>\n\n<p>How can I config it?</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1386286746,"post_id":20413076,"comment_id":30486659,"body_markdown":"why do not you regular expression for that\n\nhttp://stackoverflow.com/questions/5034580/comparing-chars-in-java","body":"why do not you regular expression for that  <a href=\"http://stackoverflow.com/questions/5034580/comparing-chars-in-java\" title=\"comparing chars in java\">stackoverflow.com/questions/5034580/comparing-chars-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386286724,"creation_date":1386286724,"answer_id":20413106,"question_id":20413076,"body_markdown":"Just use the char primitive:\r\n\r\n    if (command.charAt(index) == &#39;[&#39;){ //Note the single quotes; double quotes won&#39;t work\r\nProduces much clearer code and always works.","title":"Java special character in conditional check","body":"<p>Just use the char primitive:</p>\n\n<pre><code>if (command.charAt(index) == '['){ //Note the single quotes; double quotes won't work\n</code></pre>\n\n<p>Produces much clearer code and always works.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386287258,"creation_date":1386287258,"answer_id":20413210,"question_id":20413076,"body_markdown":"Try running this experiment:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(Character.getNumericValue(&#39;[&#39;));\r\n        }\r\n    }\r\n\r\nand notice that it returns -1.\r\n\r\nFrom the API:\r\n\r\n&gt; Returns: the numeric value of the character, as a nonnegative int\r\n&gt; value; -2 if the character has a numeric value that is not a\r\n&gt; nonnegative integer; -1 if the character has no numeric value.\r\n\r\nSo the correct way to do this is \r\n\r\n`command.charAt(index) == &#39;[&#39;` as has been pointed out.","title":"Java special character in conditional check","body":"<p>Try running this experiment:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(Character.getNumericValue('['));\n    }\n}\n</code></pre>\n\n<p>and notice that it returns -1.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p>Returns: the numeric value of the character, as a nonnegative int\n  value; -2 if the character has a numeric value that is not a\n  nonnegative integer; -1 if the character has no numeric value.</p>\n</blockquote>\n\n<p>So the correct way to do this is </p>\n\n<p><code>command.charAt(index) == '['</code> as has been pointed out.</p>\n"}],"owner":{"account_id":2435370,"reputation":925,"user_id":2125416,"accept_rate":69,"display_name":"Son of a Sailor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20413106,"answer_count":2,"score":1,"last_activity_date":1678297524,"creation_date":1386286576,"question_id":20413076,"body_markdown":"I have some lines of code that check for brackets in a string.  \r\n\r\n    while (index &lt;= command.length()-1 &amp;&amp; done == false) {\r\n        if (command.charAt(index) == 123) { // ASCII value for open bracket\r\n            braces++;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (command.charAt(index) == 125) {\r\n            braces--;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (braces &gt; 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n            } else \r\n                index++;\r\n        } else if (braces == 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n                if (command.charAt(index) == 123)\r\n                    done = true;\r\n                } else {\r\n                    index++;\r\n                    done = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe issue I have is with this line: `if (command.charAt(index) == 123)`   \r\n\r\nUsing the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.  \r\n\r\nIs it illegal to use conditional checking like this?","title":"Java special character in conditional check","body":"<p>I have some lines of code that check for brackets in a string.</p>\n<pre><code>while (index &lt;= command.length()-1 &amp;&amp; done == false) {\n    if (command.charAt(index) == 123) { // ASCII value for open bracket\n        braces++;\n        token = token + command.charAt(index);\n        index++;\n    } else if (command.charAt(index) == 125) {\n        braces--;\n        token = token + command.charAt(index);\n        index++;\n    } else if (braces &gt; 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\n            token = token + command.charAt(index);\n            index++;\n        } else \n            index++;\n    } else if (braces == 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\n            token = token + command.charAt(index);\n            index++;\n            if (command.charAt(index) == 123)\n                done = true;\n            } else {\n                index++;\n                done = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The issue I have is with this line: <code>if (command.charAt(index) == 123)</code></p>\n<p>Using the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.</p>\n<p>Is it illegal to use conditional checking like this?</p>\n"},{"tags":["java","tomcat","grails","character-encoding","gsp"],"answers":[{"tags":[],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297366,"creation_date":1678297366,"answer_id":75676459,"question_id":75673595,"body_markdown":"Answered my own question.\r\n\r\nMy particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):\r\n\r\nhttps://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\r\n\r\nAnyway, in dev the application worked as expected and \r\n\r\n    g.render(template: template, model: model)\r\n\r\nworked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.\r\n\r\nThe solution was to call the method like so:\r\n\r\n    g.render(template: template, model: model, encodeAs: &#39;raw&#39;)\r\n\r\nwhich gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:\r\n\r\n    views:\r\n        default:\r\n            codec: none # none, html, base64\r\n        gsp:\r\n            encoding: UTF-8\r\n            codecs:\r\n                taglib: raw   \r\n\r\nWhich did fix part of my application, but was too broad a solution and broke other things.\r\n\r\nThe first example I gave above `g.render(encodeAs: &#39;raw&#39;)` needed to be used selectively.\r\n\r\nAgain, very annoying that this behaviour changes when non-dev profiles are used. I couldn&#39;t find any documentation explaining it either.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>Answered my own question.</p>\n<p>My particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):</p>\n<p><a href=\"https://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\">Grails GSP expressions encoded only in production</a></p>\n<p>Anyway, in dev the application worked as expected and</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>worked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.</p>\n<p>The solution was to call the method like so:</p>\n<pre><code>g.render(template: template, model: model, encodeAs: 'raw')\n</code></pre>\n<p>which gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:</p>\n<pre><code>views:\n    default:\n        codec: none # none, html, base64\n    gsp:\n        encoding: UTF-8\n        codecs:\n            taglib: raw   \n</code></pre>\n<p>Which did fix part of my application, but was too broad a solution and broke other things.</p>\n<p>The first example I gave above <code>g.render(encodeAs: 'raw')</code> needed to be used selectively.</p>\n<p>Again, very annoying that this behaviour changes when non-dev profiles are used. I couldn't find any documentation explaining it either.</p>\n"}],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678297366,"creation_date":1678281672,"question_id":75673595,"body_markdown":"\r\n\r\nI&#39;ve recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I&#39;m ready to put this into our test environment.\r\n\r\nWe call the\r\n\r\n    g.render(template: template, model: model)\r\n\r\nmethod where the template is just a string reference to a GSP, and the model is a `Map&lt;String, String&gt;` that is used to populate that GSP.\r\n\r\nBehaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.\r\n\r\nThe crux of the matter is; given the exact same inputs to the `g.render()` method, the outputs differ like:\r\n\r\nIntelliJ IDEA run-app:\r\n\r\n    &#39;EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)&#39;\r\n\r\nTomcat 9:\r\n\r\n    &#39;EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029&#39;\r\n\r\nThere is obviously some character encoding issue going on, but I&#39;m not sure how to override the behaviour of Tomcat or the deployed WAR to make `g.render()` consistent with local `grails run-app`.\r\n\r\nWe already have this config in our Grails 5 YML:\r\n\r\n        views:\r\n            default:\r\n                codec: none # none, html, base64\r\n            gsp:\r\n                encoding: UTF-8\r\n                codecs:\r\n                    expression: none\r\n                    scriptlet: none\r\n                    taglib: none\r\n                    staticparts: none\r\n\r\nWhat could be the reason for this change in behaviour when running under Tomcat?\r\n\r\nThanks in advance for any suggestions.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>I've recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I'm ready to put this into our test environment.</p>\n<p>We call the</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>method where the template is just a string reference to a GSP, and the model is a <code>Map&lt;String, String&gt;</code> that is used to populate that GSP.</p>\n<p>Behaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.</p>\n<p>The crux of the matter is; given the exact same inputs to the <code>g.render()</code> method, the outputs differ like:</p>\n<p>IntelliJ IDEA run-app:</p>\n<pre><code>'EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)'\n</code></pre>\n<p>Tomcat 9:</p>\n<pre><code>'EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029'\n</code></pre>\n<p>There is obviously some character encoding issue going on, but I'm not sure how to override the behaviour of Tomcat or the deployed WAR to make <code>g.render()</code> consistent with local <code>grails run-app</code>.</p>\n<p>We already have this config in our Grails 5 YML:</p>\n<pre><code>    views:\n        default:\n            codec: none # none, html, base64\n        gsp:\n            encoding: UTF-8\n            codecs:\n                expression: none\n                scriptlet: none\n                taglib: none\n                staticparts: none\n</code></pre>\n<p>What could be the reason for this change in behaviour when running under Tomcat?</p>\n<p>Thanks in advance for any suggestions.</p>\n"},{"tags":["java","android","kotlin","web","webview"],"answers":[{"comments":[{"owner":{"account_id":19362870,"reputation":3,"user_id":14157804,"display_name":"Khalfan Mohamed"},"score":0,"creation_date":1678295758,"post_id":75676046,"comment_id":133506405,"body_markdown":"Hi Alireza Khosroabadi, I try adding setSupportActionBar(), but it needs an argument, what argument should I pass there?","body":"Hi Alireza Khosroabadi, I try adding setSupportActionBar(), but it needs an argument, what argument should I pass there?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1678298229,"post_id":75676046,"comment_id":133507076,"body_markdown":"A toolbar. which you should add at the top of the activity","body":"A toolbar. which you should add at the top of the activity"},{"owner":{"account_id":14727726,"reputation":16,"user_id":10636070,"display_name":"Alireza Khosroabadi"},"score":0,"creation_date":1678355190,"post_id":75676046,"comment_id":133517498,"body_markdown":"you should pass Toolbar to it","body":"you should pass Toolbar to it"}],"tags":[],"owner":{"account_id":14727726,"reputation":16,"user_id":10636070,"display_name":"Alireza Khosroabadi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294930,"creation_date":1678294930,"answer_id":75676046,"question_id":75675936,"body_markdown":"Before\r\n     `getSupportActionBar().hide()`\r\nyou should call\r\n `setSupportActionBar()`\r\n\r\nBecause `getSupportActionBar()` is Null by default and you couldn&#39;t call `hide()` and it throws NullPointerException","title":"How to fix APP has stopped in android studio","body":"<p>Before\n<code>getSupportActionBar().hide()</code>\nyou should call\n<code>setSupportActionBar()</code></p>\n<p>Because <code>getSupportActionBar()</code> is Null by default and you couldn't call <code>hide()</code> and it throws NullPointerException</p>\n"},{"comments":[{"owner":{"account_id":19362870,"reputation":3,"user_id":14157804,"display_name":"Khalfan Mohamed"},"score":0,"creation_date":1678298832,"post_id":75676458,"comment_id":133507227,"body_markdown":"Thanks @Lookyus, I have removed getSupportActionBar() and everything works fine now","body":"Thanks @Lookyus, I have removed getSupportActionBar() and everything works fine now"}],"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678297363,"creation_date":1678297363,"answer_id":75676458,"question_id":75675936,"body_markdown":"I think you could be using NoActionBar theme. Check that and if your theme is NoActionBar then you don’t need to call `getSupportActionBar()`","title":"How to fix APP has stopped in android studio","body":"<p>I think you could be using NoActionBar theme. Check that and if your theme is NoActionBar then you don’t need to call <code>getSupportActionBar()</code></p>\n"}],"owner":{"account_id":19362870,"reputation":3,"user_id":14157804,"display_name":"Khalfan Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75676458,"answer_count":2,"score":-1,"last_activity_date":1678297363,"creation_date":1678294256,"question_id":75675936,"body_markdown":"I have been creating a webView APP using Android Studio, I have tried building the project, the build ends up successful, but when I try running the APP via an emulator the APP crashes, Bun when I click on run to see what happens I get this error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.newvemo.newvemo, PID: 4628\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.newvemo.newvemo/com.newvemo.newvemo.SplashActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\r\n            at android.app.Activity.performCreate(Activity.java:6975)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:164)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\nMore Specific the error is\r\n\r\n      Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.appcompat.app.ActionBar.hide()&#39; on a null object reference\r\n            at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\r\n\r\nHere is my SplashScreen.java\r\n\r\n    package com.newvemo.newvemo;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    \r\n    public class SplashActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_splash);\r\n    \r\n            Thread splashThread = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        sleep(300);\r\n                        startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                        finish();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            };\r\n            splashThread.start();\r\n        }\r\n    }\r\nHere is the AndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.newvemo.newvemo&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.SplashActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nAnd here is the activity_splash.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.SplashActivity&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;363dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:src=&quot;@drawable/splash_logo&quot;\r\n            android:padding=&quot;50dp&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:layout_width=&quot;220dp&quot;\r\n            android:layout_height=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n            android:max=&quot;100&quot;\r\n            android:indeterminate=&quot;true&quot;\r\n            android:progress=&quot;0&quot;\r\n            android:layout_marginTop=&quot;150dp&quot;\r\n            /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nI tried the followings but still a problem persists\r\n1. Invalidate and Restart\r\n2. Commenting `getSupportActionBar().hide();`\r\n\r\nHelp me how to solve such scenario so that my app runs well","title":"How to fix APP has stopped in android studio","body":"<p>I have been creating a webView APP using Android Studio, I have tried building the project, the build ends up successful, but when I try running the APP via an emulator the APP crashes, Bun when I click on run to see what happens I get this error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.newvemo.newvemo, PID: 4628\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.newvemo.newvemo/com.newvemo.newvemo.SplashActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6541) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n</code></pre>\n<p>More Specific the error is</p>\n<pre><code>  Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.appcompat.app.ActionBar.hide()' on a null object reference\n        at com.newvemo.newvemo.SplashActivity.onCreate(SplashActivity.java:19)\n</code></pre>\n<p>Here is my SplashScreen.java</p>\n<pre><code>package com.newvemo.newvemo;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Window;\nimport android.view.WindowManager;\n\npublic class SplashActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Window window = getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_splash);\n\n        Thread splashThread = new Thread(){\n            @Override\n            public void run() {\n                try {\n                    sleep(300);\n                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                    finish();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        };\n        splashThread.start();\n    }\n}\n</code></pre>\n<p>Here is the AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.newvemo.newvemo&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.SplashActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>And here is the activity_splash.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.SplashActivity&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;363dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/splash_logo&quot;\n        android:padding=&quot;50dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;/&gt;\n\n    &lt;ProgressBar\n        android:layout_width=&quot;220dp&quot;\n        android:layout_height=&quot;10dp&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:max=&quot;100&quot;\n        android:indeterminate=&quot;true&quot;\n        android:progress=&quot;0&quot;\n        android:layout_marginTop=&quot;150dp&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried the followings but still a problem persists</p>\n<ol>\n<li>Invalidate and Restart</li>\n<li>Commenting <code>getSupportActionBar().hide();</code></li>\n</ol>\n<p>Help me how to solve such scenario so that my app runs well</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":6951632,"reputation":289,"user_id":5334094,"display_name":"Lo&#239;c Madi&#232;s"},"score":0,"creation_date":1678143083,"post_id":75656524,"comment_id":133473194,"body_markdown":"Did you tried to put the image name of your DB instead of localhost? It should work between docker images","body":"Did you tried to put the image name of your DB instead of localhost? It should work between docker images"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678145104,"post_id":75656524,"comment_id":133473534,"body_markdown":"not work. I try with the name of image..\n\nspring:\n  main:\n    banner-mode: off\n  datasource:\n    url: jdbc:postgresql://materia_postgres_1:5432/materia\n\nFor get the name of image, i use &quot;docker ps -a&quot; and the last columns is the name. It&#39;s ok?","body":"not work. I try with the name of image..  spring:   main:     banner-mode: off   datasource:     url: jdbc:postgresql://materia_postgres_1:5432/materia  For get the name of image, i use &quot;docker ps -a&quot; and the last columns is the name. It&#39;s ok?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1678152529,"post_id":75656524,"comment_id":133474578,"body_markdown":"For similar questions, it&#39;s been useful to know the connection string, which parts are running in containers, and how you started the containers involved.  Please search for similar questions, though: basic database connectivity questions come up very often, and the database connection string will be different if both the application and database are running in containers.","body":"For similar questions, it&#39;s been useful to know the connection string, which parts are running in containers, and how you started the containers involved.  Please search for similar questions, though: basic database connectivity questions come up very often, and the database connection string will be different if both the application and database are running in containers."},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678176868,"post_id":75656524,"comment_id":133478093,"body_markdown":"Share your property file, please and the dockerfile.","body":"Share your property file, please and the dockerfile."},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678185579,"post_id":75656524,"comment_id":133480513,"body_markdown":"I had update the message with dockerfile and docker-compose.yml content","body":"I had update the message with dockerfile and docker-compose.yml content"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1678297661,"post_id":75656524,"comment_id":133506890,"body_markdown":"@DavielS&#225;nchez Are you using the name of the _service_ in your jdbc connection string, which in this case is `postgres`?","body":"@DavielS&#225;nchez Are you using the name of the <i>service</i> in your jdbc connection string, which in this case is <code>postgres</code>?"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678355880,"post_id":75656524,"comment_id":133517707,"body_markdown":"in this case is ... nameofproject_postgres_1","body":"in this case is ... nameofproject_postgres_1"}],"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678296879,"creation_date":1678142743,"question_id":75656524,"body_markdown":"i have a Little question/issue. I have one api created with springboot, and this little app use a postgress db, when I try to put in a docker the java application, I receive the next error:\r\n\r\n&gt; 2023-03-06 17:23:55,369 ERROR com.zaxxer.hikari.pool.HikariPool : BackendHikariPool - Exception during pool initialization.\r\n&gt; org.postgresql.util.PSQLException: The connection attempt failed.\r\n&gt; at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\r\n&gt; at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n&gt; at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n&gt; at org.postgresql.Driver.makeConnection(Driver.java:402)\r\n&gt; at org.postgresql.Driver.connect(Driver.java:261)\r\n&gt; at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n&gt; at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n&gt; at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n&gt; at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n&gt; at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n&gt; at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)\r\n\r\nI review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error\r\n\r\n\r\n\r\nI review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error\r\n\r\n\r\nUpdated:\r\n\r\n  Dockerfile\r\n\r\n    FROM openjdk:17-jdk-slim \r\n    ADD target/fitness-0.0.1-SNAPSHOT.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\nDatabase and another services\r\ndocker-compose.yml\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      postgres:\r\n        image: &#39;postgres:12-alpine&#39;\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        environment:\r\n          POSTGRES_USER: myuser\r\n          POSTGRES_PASSWORD: mypassword\r\n          POSTGRES_DB: fitness\r\n        volumes:\r\n          - &#39;postgres_data:/var/lib/postgresql/data&#39;\r\n      localstack:\r\n        image: &#39;localstack/localstack:0.12.14&#39;\r\n        ports:\r\n          - &quot;4566:4566&quot;\r\n        environment:\r\n          - DEFAULT_REGION=eu-central-1\r\n          - SERVICES=sqs\r\n          - DATA_DIR=/tmp/localstack/data\r\n          - DOCKER_HOST=unix:///var/run/docker.sock\r\n        volumes:\r\n          - /tmp/localstack:/tmp/localstack\r\n          - ./config/localstack/sqs/setup-local-env.sh:/docker-entrypoint-initaws.d/setup-local-env.sh\r\n    \r\n    volumes:\r\n      postgres_data:\r\n      localstack_data:","title":"Docker springboot + postgresql","body":"<p>i have a Little question/issue. I have one api created with springboot, and this little app use a postgress db, when I try to put in a docker the java application, I receive the next error:</p>\n<blockquote>\n<p>2023-03-06 17:23:55,369 ERROR com.zaxxer.hikari.pool.HikariPool : BackendHikariPool - Exception during pool initialization.\norg.postgresql.util.PSQLException: The connection attempt failed.\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\nat org.postgresql.jdbc.PgConnection.(PgConnection.java:223)\nat org.postgresql.Driver.makeConnection(Driver.java:402)\nat org.postgresql.Driver.connect(Driver.java:261)\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\nat com.zaxxer.hikari.pool.HikariPool.(HikariPool.java:115)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)</p>\n</blockquote>\n<p>I review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error</p>\n<p>I review all de logic and stuff, and i think is connection problem. The database is another image running in docker. From the local machine I can connect using localhost, or the IP assigned in the docker network, but from another docker image (java) when try to run, always receive that error</p>\n<p>Updated:</p>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:17-jdk-slim \nADD target/fitness-0.0.1-SNAPSHOT.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>Database and another services\ndocker-compose.yml</p>\n<pre><code>version: '3.1'\nservices:\n  postgres:\n    image: 'postgres:12-alpine'\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_USER: myuser\n      POSTGRES_PASSWORD: mypassword\n      POSTGRES_DB: fitness\n    volumes:\n      - 'postgres_data:/var/lib/postgresql/data'\n  localstack:\n    image: 'localstack/localstack:0.12.14'\n    ports:\n      - &quot;4566:4566&quot;\n    environment:\n      - DEFAULT_REGION=eu-central-1\n      - SERVICES=sqs\n      - DATA_DIR=/tmp/localstack/data\n      - DOCKER_HOST=unix:///var/run/docker.sock\n    volumes:\n      - /tmp/localstack:/tmp/localstack\n      - ./config/localstack/sqs/setup-local-env.sh:/docker-entrypoint-initaws.d/setup-local-env.sh\n\nvolumes:\n  postgres_data:\n  localstack_data:\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-sqs"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1678302416,"post_id":75676356,"comment_id":133508091,"body_markdown":"I think your end-point.uri is wrong. It should be something like `https://sqs.us-central-1.amazonaws.com/&lt;some id&gt;/&lt;queue name&gt;`","body":"I think your end-point.uri is wrong. It should be something like <code>https:&#47;&#47;sqs.us-central-1.amazonaws.com&#47;&lt;some id&gt;&#47;&lt;queue name&gt;</code>"},{"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"score":0,"creation_date":1678383579,"post_id":75676356,"comment_id":133526283,"body_markdown":"I try with your recommendations and have the same error. In my local computer work very fine (using IntelijIDEA with docker). In this machine, this case i try to use a localstack with a machine for dev enviroments","body":"I try with your recommendations and have the same error. In my local computer work very fine (using IntelijIDEA with docker). In this machine, this case i try to use a localstack with a machine for dev enviroments"}],"owner":{"account_id":18094858,"reputation":23,"user_id":14326167,"display_name":"Daviel S&#225;nchez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678296764,"creation_date":1678296764,"question_id":75676356,"body_markdown":"I have a api in docker, and when i try to run the docker always get the next error:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesController&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxx/fitness/taxes/rest/XxxxxController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;historyService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;SQSProducerService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxx/fitness/sqs/service/SQSProducerService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;amazonSQSAsync&#39; defined in class path resource [com/xxxxxxx/xxxxxxxxx/fitness/config/SQSConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.sqs.AmazonSQSAsync]: Factory method &#39;amazonSQSAsync&#39; threw exception; nested exception is java.lang.IllegalArgumentException: hostname cannot be null\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at com.xxxxx.xxxxx.xxxxx.FitnessApplication.main(FitnessApplication.java:22)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxesService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxx/xxxxxxxx/fitness/xxxxxx/service/XxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;historyService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/HistoryService.class]: Unsatisfied dependency expressed through constructor paramete\r\n```\r\n\r\nThat is my application.yml (I was tried with the name of image, with localhost, with the ip in network from docker...) \r\n\r\n```\r\ncloud:\r\n  aws:\r\n    stack:\r\n      auto: false\r\n    region:\r\n      static: eu-central-1\r\n    credentials:\r\n      access-key: MyAPIKEY\r\n      secret-key: MySecretKey\r\n    end-point:\r\n      uri: http://172.18.0.3:4566\r\nsqs:\r\n  history:\r\n    url: http://172.18.0.3:4566/000000000000/local_material_deportivo_fitness_history\r\n    name: local_fitness_history\r\n```\r\n\r\nI was tried with the name of image, with localhost, with the ip in network from docker... always got the same error. (sorry for my english)","title":"Issue with docker + springboot + aws sqs","body":"<p>I have a api in docker, and when i try to run the docker always get the next error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesController' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxx/fitness/taxes/rest/XxxxxController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'historyService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/XxxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'SQSProducerService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxx/fitness/sqs/service/SQSProducerService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'amazonSQSAsync' defined in class path resource [com/xxxxxxx/xxxxxxxxx/fitness/config/SQSConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.amazonaws.services.sqs.AmazonSQSAsync]: Factory method 'amazonSQSAsync' threw exception; nested exception is java.lang.IllegalArgumentException: hostname cannot be null\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at com.xxxxx.xxxxx.xxxxx.FitnessApplication.main(FitnessApplication.java:22)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxesService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxx/xxxxxxxx/fitness/xxxxxx/service/XxxxxService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'historyService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/xxxxxx/xxxxxxx/fitness/xxxxxxx/service/HistoryService.class]: Unsatisfied dependency expressed through constructor paramete\n</code></pre>\n<p>That is my application.yml (I was tried with the name of image, with localhost, with the ip in network from docker...)</p>\n<pre><code>cloud:\n  aws:\n    stack:\n      auto: false\n    region:\n      static: eu-central-1\n    credentials:\n      access-key: MyAPIKEY\n      secret-key: MySecretKey\n    end-point:\n      uri: http://172.18.0.3:4566\nsqs:\n  history:\n    url: http://172.18.0.3:4566/000000000000/local_material_deportivo_fitness_history\n    name: local_fitness_history\n</code></pre>\n<p>I was tried with the name of image, with localhost, with the ip in network from docker... always got the same error. (sorry for my english)</p>\n"},{"tags":["java","spring","postgresql","hibernate","dto"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1677696032,"post_id":75607086,"comment_id":133390730,"body_markdown":"Storing a list of products is a very poor design and additionally you **cannot** have that list defined as a FK  (relationship). You need to create another table something like sale_product where each row contains (sale_id,product_id). Search for and study *data normalization*.","body":"Storing a list of products is a very poor design and additionally you <b>cannot</b> have that list defined as a FK  (relationship). You need to create another table something like sale_product where each row contains (sale_id,product_id). Search for and study <i>data normalization</i>."},{"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"score":0,"creation_date":1677787059,"post_id":75607086,"comment_id":133411431,"body_markdown":"Whe I use the OneToMany annotation, spring automatically create a new table (sale_product) where is saved the sale_id and product_id. I made this relationship (sale_product) unidirectional, the problems is when I add the products to the sale and the save the sale (using saleRepository to update the database).","body":"Whe I use the OneToMany annotation, spring automatically create a new table (sale_product) where is saved the sale_id and product_id. I made this relationship (sale_product) unidirectional, the problems is when I add the products to the sale and the save the sale (using saleRepository to update the database)."}],"answers":[{"tags":[],"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296730,"creation_date":1678296730,"answer_id":75676351,"question_id":75607086,"body_markdown":"I had used wrong the relationship (annotation), I was using OneToMany I changed it for ManyToMany.\r\nso, one product only can in one sale not in another sale.","title":"How can I create a entity with a list of entities that has already been created","body":"<p>I had used wrong the relationship (annotation), I was using OneToMany I changed it for ManyToMany.\nso, one product only can in one sale not in another sale.</p>\n"}],"owner":{"account_id":24263775,"reputation":11,"user_id":18212993,"display_name":"Cristian Osorio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678296730,"creation_date":1677691710,"question_id":75607086,"body_markdown":"I&#39;m trying create a new entity (sale) with its attributes, one of them is a list of products that have already been created. When I try to save the sale with the repository I get a error\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n```\r\nTherefore, I realize that the error is because spring try to do the relationship between sale and product and sale doesn&#39;t has a id (is null). But the repository (SaleRepository) is supposed to generate the id, so I used the   @GeneratedValue(strategy = GenerationType.IDENTITY).\r\n\r\nI don&#39;t know what I should do, someone know how I can fix it?\r\n\r\ncode:\r\n\r\nsale\r\n```\r\n@Entity\r\npublic class Sale {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String concept;\r\n    @Temporal(TemporalType.DATE)\r\n    private Date created_at;\r\n    private Double price;\r\n    @OneToOne(cascade = CascadeType.REFRESH)\r\n    private Customer customer;\r\n    @OneToMany\r\n    private Set&lt;Product&gt; products;\r\n public Sale(){}\r\n\r\n    public Sale(String concept, Customer customer, Set&lt;Product&gt; products) {\r\n        this.concept = concept;\r\n        this.customer = customer;\r\n        this.products = products;\r\n        this.price=0.0;\r\n        onPrePersist();\r\n    }\r\n\r\n    @PrePersist  void onPrePersist() {created_at = new java.util.Date();}\r\n\r\n    //get and setter\r\n}\r\n```\r\nproduct\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private String description;\r\n    private Double price;\r\n    private Integer amount;\r\n    private String barCode;\r\n    private String origin;\r\n\r\n    public Product(){}\r\n\r\n    public Product(String name, String description, Double price, Integer amount, String barCode, String origin) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.price = price;\r\n        this.amount = amount;\r\n        this.barCode = barCode;\r\n        this.origin = origin;\r\n    }\r\n//get and setter\r\n}\r\n```\r\n\r\nsaleServiceImp (method where I create a sale)\r\n```\r\n   public SaleDTO save(SaleRegistrationRequest saleRegistrationRequest) {\r\n        Sale sale= new Sale(\r\n                saleRegistrationRequest.concept(),\r\n                findCustomerOfSale(saleRegistrationRequest.customerDTO()),\r\n                convertProductsDTOToProduct(saleRegistrationRequest.productsDTO())\r\n        );\r\n        LOGGER.info(&quot;SALE: &quot;+sale.toString());\r\n        saleRepository.save(sale);  // HERE FAIL!\r\n        LOGGER.info(&quot;Sale saved successfully &quot;+sale.toString() );\r\n        return saleDTOMapper.apply(sale);\r\n    }\r\n\r\n    private Customer findCustomerOfSale(CustomerDTO customerDTO){\r\n            return customerRepository.findById(customerDTO.id()).orElse(null);\r\n\r\n    }\r\n\r\n    private Set&lt;Product&gt; convertProductsDTOToProduct(Set&lt;ProductDTO&gt; productDTOS){\r\n\r\n        if(productDTOS ==null || productDTOS.isEmpty())\r\n            return null;\r\n\r\n        return productDTOS.stream().map(productDTO -&gt; {\r\n            return iProductService.findProductById(productDTO.id());\r\n        }).collect(Collectors.toSet());\r\n    }\r\n```\r\n\r\nThe error\r\n```\r\n2023-03-01 17:18:15.064 ERROR 8422 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n2023-03-01 17:18:15.065  INFO 8422 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2023-03-01 17:18:15.086 ERROR 8422 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\r\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:508) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.index.Index.getDuplicateKeyException(Index.java:525) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.mvstore.db.MVTable.addRow(MVTable.java:519) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.Insert.insertRows(Insert.java:174) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.Insert.update(Insert.java:135) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169) ~[h2-2.1.214.jar:2.1.214]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source) ~[na:na]\r\n\tat com.api.store.service.SaleServiceImp.save(SaleServiceImp.java:43) ~[classes/:na]\r\n\tat com.api.store.controller.SaleController.save(SaleController.java:21) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-03-01 17:23:30.191  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-01 17:23:30.195  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 130 (interrupted by signal 2: SIGINT)\r\n\r\n```\r\n","title":"How can I create a entity with a list of entities that has already been created","body":"<p>I'm trying create a new entity (sale) with its attributes, one of them is a list of products that have already been created. When I try to save the sale with the repository I get a error</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n</code></pre>\n<p>Therefore, I realize that the error is because spring try to do the relationship between sale and product and sale doesn't has a id (is null). But the repository (SaleRepository) is supposed to generate the id, so I used the   @GeneratedValue(strategy = GenerationType.IDENTITY).</p>\n<p>I don't know what I should do, someone know how I can fix it?</p>\n<p>code:</p>\n<p>sale</p>\n<pre><code>@Entity\npublic class Sale {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String concept;\n    @Temporal(TemporalType.DATE)\n    private Date created_at;\n    private Double price;\n    @OneToOne(cascade = CascadeType.REFRESH)\n    private Customer customer;\n    @OneToMany\n    private Set&lt;Product&gt; products;\n public Sale(){}\n\n    public Sale(String concept, Customer customer, Set&lt;Product&gt; products) {\n        this.concept = concept;\n        this.customer = customer;\n        this.products = products;\n        this.price=0.0;\n        onPrePersist();\n    }\n\n    @PrePersist  void onPrePersist() {created_at = new java.util.Date();}\n\n    //get and setter\n}\n</code></pre>\n<p>product</p>\n<pre><code>@Entity\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String description;\n    private Double price;\n    private Integer amount;\n    private String barCode;\n    private String origin;\n\n    public Product(){}\n\n    public Product(String name, String description, Double price, Integer amount, String barCode, String origin) {\n        this.name = name;\n        this.description = description;\n        this.price = price;\n        this.amount = amount;\n        this.barCode = barCode;\n        this.origin = origin;\n    }\n//get and setter\n}\n</code></pre>\n<p>saleServiceImp (method where I create a sale)</p>\n<pre><code>   public SaleDTO save(SaleRegistrationRequest saleRegistrationRequest) {\n        Sale sale= new Sale(\n                saleRegistrationRequest.concept(),\n                findCustomerOfSale(saleRegistrationRequest.customerDTO()),\n                convertProductsDTOToProduct(saleRegistrationRequest.productsDTO())\n        );\n        LOGGER.info(&quot;SALE: &quot;+sale.toString());\n        saleRepository.save(sale);  // HERE FAIL!\n        LOGGER.info(&quot;Sale saved successfully &quot;+sale.toString() );\n        return saleDTOMapper.apply(sale);\n    }\n\n    private Customer findCustomerOfSale(CustomerDTO customerDTO){\n            return customerRepository.findById(customerDTO.id()).orElse(null);\n\n    }\n\n    private Set&lt;Product&gt; convertProductsDTOToProduct(Set&lt;ProductDTO&gt; productDTOS){\n\n        if(productDTOS ==null || productDTOS.isEmpty())\n            return null;\n\n        return productDTOS.stream().map(productDTO -&gt; {\n            return iProductService.findProductById(productDTO.id());\n        }).collect(Collectors.toSet());\n    }\n</code></pre>\n<p>The error</p>\n<pre><code>2023-03-01 17:18:15.064 ERROR 8422 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n2023-03-01 17:18:15.065  INFO 8422 --- [nio-8080-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2023-03-01 17:18:15.086 ERROR 8422 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.UK_PENFKDX7890EQY3I2RH0BA4WV_INDEX_4 ON PUBLIC.SALE_PRODUCTS(PRODUCTS_ID NULLS FIRST) VALUES ( /* 7 */ CAST(7 AS BIGINT) )&quot;; SQL statement:\ninsert into sale_products (sale_id, products_id) values (?, ?) [23505-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:508) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.index.Index.getDuplicateKeyException(Index.java:525) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.mvstore.db.MVTable.addRow(MVTable.java:519) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.Insert.insertRows(Insert.java:174) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.Insert.update(Insert.java:135) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:209) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:169) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.persister.collection.AbstractCollectionPersister.recreate(AbstractCollectionPersister.java:1352) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.action.internal.CollectionRecreateAction.execute(CollectionRecreateAction.java:50) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\n    at jdk.proxy2/jdk.proxy2.$Proxy108.save(Unknown Source) ~[na:na]\n    at com.api.store.service.SaleServiceImp.save(SaleServiceImp.java:43) ~[classes/:na]\n    at com.api.store.controller.SaleController.save(SaleController.java:21) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-03-01 17:23:29.979  INFO 8422 --- [ionShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-03-01 17:23:30.191  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-01 17:23:30.195  INFO 8422 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 130 (interrupted by signal 2: SIGINT)\n\n</code></pre>\n"},{"tags":["java","apache-poi","comments"],"comments":[{"owner":{"account_id":19171994,"reputation":127,"user_id":14005535,"display_name":"Shephard"},"score":0,"creation_date":1675942404,"post_id":74061338,"comment_id":133038165,"body_markdown":"Could you solve this problem?","body":"Could you solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":4520505,"reputation":1,"user_id":3673915,"display_name":"user3673915"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296714,"creation_date":1678296714,"answer_id":75676345,"question_id":74061338,"body_markdown":"    package com.dev.ananth;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.openxml4j.opc.OPCPackage;\r\n    import org.apache.poi.xwpf.usermodel.IBodyElement;\r\n    import org.apache.poi.xwpf.usermodel.XWPFComment;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.xmlbeans.XmlCursor;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTMarkupRange;\r\n    import org.w3c.dom.Attr;\r\n    import org.w3c.dom.Node;\r\n    \r\n    public class ExtractCommentText {\r\n    \tpublic static void main(String[] a) throws InvalidFormatException, IOException {\r\n    \t\tString fileName = &quot;D:\\\\test.docx&quot;;\r\n    \t\tFileInputStream fis = new FileInputStream(fileName);\r\n    \t\tXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\r\n    \t\tList&lt;XWPFParagraph&gt; paragraphs = xdoc.getParagraphs();\r\n    \t\tMap&lt;String, CommentDto&gt; map=new LinkedHashMap&lt;&gt;();\r\n    \t\tMap&lt;String, Boolean&gt; checkMap=new LinkedHashMap&lt;&gt;();\r\n    \t\tList&lt;CommentDto&gt; list=new LinkedList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor (XWPFParagraph p : paragraphs) {\r\n    \t\t\tList&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\r\n    \t\t\tfor (CTMarkupRange markup : markups) {\r\n    \t\t\t\tSystem.out.println(&quot;Comment Id: &quot;+markup.getId());\r\n    \t\t\t\tboolean hasComment=false;\r\n    \t\t\t\tString commentReferenceText = &quot;&quot;;\r\n    \t\t\t\tString startId=&quot;&quot;;\r\n    \t\t\t\tString endId=&quot;&quot;;\r\n    \t\t\t\tXmlCursor xmlCursor =markup.newCursor();\r\n    \t\t\t\twhile (\txmlCursor.hasNextToken()){\r\n    \t\t\t\t\r\n    \t\t\t\t\t Node node = xmlCursor.getDomNode();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t if(hasComment) {\r\n    \t\t\t\t\t\t if(node.getNodeName().contains(&quot;#text&quot;) ) {\r\n    \t\t\t\t\t\t\t commentReferenceText +=  node.getNodeValue();\r\n    \t\t\t\t\t\t }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t if(node.getNodeName().contains(&quot;w:commentRangeStart&quot;)) {\r\n    \t\t\t\t\t\t Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\r\n    \t\t\t\t\t        if (attr != null) {\r\n    \t\t\t\t\t             startId = attr.getValue();\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t\t if(markup.getId().toString() .equals(startId)) {\r\n    \t\t\t\t\t\t\t hasComment=true;\r\n    \t\t\t\t\t\t }\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t else if(node.getNodeName().contains(&quot;w:commentRangeEnd&quot;)) {\r\n    \t\t\t\t\t\t Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\r\n    \t\t\t\t\t        if (attr != null) {\r\n    \t\t\t\t\t             endId = attr.getValue();\r\n    \t\t\t\t\t            //System.out.println(&quot;endId: &quot; + endId);\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t\t\t if(markup.getId().toString() .equals(endId)) {\r\n    \t\t\t\t\t\t\t\t hasComment=false;\r\n    \t\t\t\t\t\t\t\t XWPFComment comment = xdoc.getCommentByID(markup.getId().toString());\r\n    \t\t\t\t\t\t\t\t \tSystem.out.println(&quot;comment text: &quot;+commentReferenceText);\r\n    \t\t\t\t\t\t\t\t \tSystem.out.println(&quot;comment: &quot;+comment.getText());\r\n    \t\t\t\t\t\t\t\t \t\r\n    \t\t\t\t\t\t\t\t break;\r\n    \t\t\t\t\t\t\t }\r\n    \t\t\t\t\t }\r\n    \t\t\t\t\t xmlCursor.toNextToken();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n        \r\n    }\r\n\r\n","title":"Apache POI: Retrieve highlighted text for comment","body":"<pre><code>package com.dev.ananth;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xwpf.usermodel.IBodyElement;\nimport org.apache.poi.xwpf.usermodel.XWPFComment;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.xmlbeans.XmlCursor;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTMarkupRange;\nimport org.w3c.dom.Attr;\nimport org.w3c.dom.Node;\n\npublic class ExtractCommentText {\n    public static void main(String[] a) throws InvalidFormatException, IOException {\n        String fileName = &quot;D:\\\\test.docx&quot;;\n        FileInputStream fis = new FileInputStream(fileName);\n        XWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\n        List&lt;XWPFParagraph&gt; paragraphs = xdoc.getParagraphs();\n        Map&lt;String, CommentDto&gt; map=new LinkedHashMap&lt;&gt;();\n        Map&lt;String, Boolean&gt; checkMap=new LinkedHashMap&lt;&gt;();\n        List&lt;CommentDto&gt; list=new LinkedList&lt;&gt;();\n        \n        for (XWPFParagraph p : paragraphs) {\n            List&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\n            for (CTMarkupRange markup : markups) {\n                System.out.println(&quot;Comment Id: &quot;+markup.getId());\n                boolean hasComment=false;\n                String commentReferenceText = &quot;&quot;;\n                String startId=&quot;&quot;;\n                String endId=&quot;&quot;;\n                XmlCursor xmlCursor =markup.newCursor();\n                while ( xmlCursor.hasNextToken()){\n                \n                     Node node = xmlCursor.getDomNode();\n                    \n                     if(hasComment) {\n                         if(node.getNodeName().contains(&quot;#text&quot;) ) {\n                             commentReferenceText +=  node.getNodeValue();\n                         }\n                         \n                     }\n                     if(node.getNodeName().contains(&quot;w:commentRangeStart&quot;)) {\n                         Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\n                            if (attr != null) {\n                                 startId = attr.getValue();\n                            }\n                         \n                         if(markup.getId().toString() .equals(startId)) {\n                             hasComment=true;\n                         }\n                     }\n                     else if(node.getNodeName().contains(&quot;w:commentRangeEnd&quot;)) {\n                         Attr attr = (Attr) node.getAttributes().getNamedItem(&quot;w:id&quot;);\n                            if (attr != null) {\n                                 endId = attr.getValue();\n                                //System.out.println(&quot;endId: &quot; + endId);\n                            }\n                         \n                             if(markup.getId().toString() .equals(endId)) {\n                                 hasComment=false;\n                                 XWPFComment comment = xdoc.getCommentByID(markup.getId().toString());\n                                    System.out.println(&quot;comment text: &quot;+commentReferenceText);\n                                    System.out.println(&quot;comment: &quot;+comment.getText());\n                                    \n                                 break;\n                             }\n                     }\n                     xmlCursor.toNextToken();\n            }\n        }\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3119090,"reputation":193,"user_id":2639243,"display_name":"ccudmore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678296714,"creation_date":1665692173,"question_id":74061338,"body_markdown":"I&#39;m trying to retrieve all comments in a document using Apache POI along with the text that was selected for the comment. I can retrieve the text of the comments, but can&#39;t figure out how to determine the text that was highlighted/selected for the comment.\r\n\r\nThe code below will provide the comment text.\r\n\r\nAny direction on how to retrieve the selected text?\r\n\r\n```\r\nString fileName = &quot;test.docx&quot;;\r\nFileInputStream fis = new FileInputStream(fileName);\r\nXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\r\nList&lt;XWPFParagraph&gt; pl = xdoc.getParagraphs();\r\nfor (XWPFParagraph p : pl) {\r\n\tList&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\r\n\tfor (CTMarkupRange markup: markups) {\r\n\t\tXWPFComment commentText = xdoc.getCommentByID(markup.getId().toString());\r\n\t\tSystem.out.println(commentText.getText());\r\n\t}\r\n}\r\n```\r\n","title":"Apache POI: Retrieve highlighted text for comment","body":"<p>I'm trying to retrieve all comments in a document using Apache POI along with the text that was selected for the comment. I can retrieve the text of the comments, but can't figure out how to determine the text that was highlighted/selected for the comment.</p>\n<p>The code below will provide the comment text.</p>\n<p>Any direction on how to retrieve the selected text?</p>\n<pre><code>String fileName = &quot;test.docx&quot;;\nFileInputStream fis = new FileInputStream(fileName);\nXWPFDocument xdoc = new XWPFDocument(OPCPackage.open(fis));\nList&lt;XWPFParagraph&gt; pl = xdoc.getParagraphs();\nfor (XWPFParagraph p : pl) {\n    List&lt;CTMarkupRange&gt; markups = p.getCTP().getCommentRangeStartList();\n    for (CTMarkupRange markup: markups) {\n        XWPFComment commentText = xdoc.getCommentByID(markup.getId().toString());\n        System.out.println(commentText.getText());\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1678277903,"post_id":75672710,"comment_id":133500668,"body_markdown":"Your code has this same 2D array declared and initialized 4 times, not good.  Better would be to declare the array once and passed to where it is needed.  Making changes on one object (one of the arrays) won&#39;t magically change a completely different object (the other arrays) since Java doesn&#39;t work that way. You should give your methods a 2D array parameter so that one single array can be created and then be passed into the methods.","body":"Your code has this same 2D array declared and initialized 4 times, not good.  Better would be to declare the array once and passed to where it is needed.  Making changes on one object (one of the arrays) won&#39;t magically change a completely different object (the other arrays) since Java doesn&#39;t work that way. You should give your methods a 2D array parameter so that one single array can be created and then be passed into the methods."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678282499,"post_id":75672710,"comment_id":133502013,"body_markdown":"Each method has its own arrays, so obviously the changes in one method do not propagate to the other method","body":"Each method has its own arrays, so obviously the changes in one method do not propagate to the other method"}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296501,"creation_date":1678296501,"answer_id":75676311,"question_id":75672710,"body_markdown":"If the arrays are intended to be a shared resource then you will need to share them.  You could do this in a number of ways. \r\n\r\n - You could define the array as static as well and then work with it\r\n   within static methods.\r\n   \r\n - You could define the array as an instance variable, instantiate an\r\n   instance within your driver (i.e. `main`), and work with the class\r\n   instance.\r\n   \r\n - You could define the array within the `main` method and then\r\n   pass it as an argument to those methods that work with it.\r\n\r\n","title":"How do you update an array that is inside a method so an array inside another method can perform accordingly","body":"<p>If the arrays are intended to be a shared resource then you will need to share them.  You could do this in a number of ways.</p>\n<ul>\n<li><p>You could define the array as static as well and then work with it\nwithin static methods.</p>\n</li>\n<li><p>You could define the array as an instance variable, instantiate an\ninstance within your driver (i.e. <code>main</code>), and work with the class\ninstance.</p>\n</li>\n<li><p>You could define the array within the <code>main</code> method and then\npass it as an argument to those methods that work with it.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":23303016,"reputation":1,"user_id":17383387,"display_name":"Yumeth Weerasekera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678296501,"creation_date":1678276488,"question_id":75672710,"body_markdown":"The Java code that I&#39;m building has two methods in it which has 3 arrays in it. The first method&#39;s 3 arrays after the method is called is updated accordingly. After calling the second method, the changes that happened in the first method are not represented in the second method.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class ticket_reservation {\r\n\r\n    public static int [][] method1(){\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n\r\n        //code that involve the above 3 arrays\r\n\r\n        int [][] array = { array1, array2, array3};\r\n    \r\n        return array;\r\n    }\r\n\r\n    public static int [][] method2(){\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n    \r\n        //code that involve the above 3 arrays\r\n    \r\n        int [][] array = { array1, array2, array3};\r\n    \r\n        return array;\r\n   }\r\n\r\n    public static void main(String [] args) {\r\n        int [] array1 = { 1, 2, 3};\r\n        int [] array2 = { 4, 5, 6, 7};\r\n        int [] array3 = { 8, 9, 10, 11, 12};\r\n\r\n        int [][] method1_array = method1();\r\n\r\n        //code to make the 2D method1_array into 3 single dimention arrays\r\n    \r\n        int [][] method2_array = method2();\r\n    \r\n        //code to make the 2D method2_array into 3 single dimention arrays\r\n    \r\n        //this is where the problem arise. as the changes i made in the first method don&#39;t \r\n        //show in the second method\r\n   }\r\n}\r\n```\r\n\r\nI find it hard to find a solution here, as I expected the changes I made in the first method to also be made in the second method. I tried to write the code in the methods without using the arrays, but found it difficult.\r\n","title":"How do you update an array that is inside a method so an array inside another method can perform accordingly","body":"<p>The Java code that I'm building has two methods in it which has 3 arrays in it. The first method's 3 arrays after the method is called is updated accordingly. After calling the second method, the changes that happened in the first method are not represented in the second method.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ticket_reservation {\n\n    public static int [][] method1(){\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n\n        //code that involve the above 3 arrays\n\n        int [][] array = { array1, array2, array3};\n    \n        return array;\n    }\n\n    public static int [][] method2(){\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n    \n        //code that involve the above 3 arrays\n    \n        int [][] array = { array1, array2, array3};\n    \n        return array;\n   }\n\n    public static void main(String [] args) {\n        int [] array1 = { 1, 2, 3};\n        int [] array2 = { 4, 5, 6, 7};\n        int [] array3 = { 8, 9, 10, 11, 12};\n\n        int [][] method1_array = method1();\n\n        //code to make the 2D method1_array into 3 single dimention arrays\n    \n        int [][] method2_array = method2();\n    \n        //code to make the 2D method2_array into 3 single dimention arrays\n    \n        //this is where the problem arise. as the changes i made in the first method don't \n        //show in the second method\n   }\n}\n</code></pre>\n<p>I find it hard to find a solution here, as I expected the changes I made in the first method to also be made in the second method. I tried to write the code in the methods without using the arrays, but found it difficult.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi","export-to-excel"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1678297772,"post_id":75676263,"comment_id":133506924,"body_markdown":"Have two cell styles, one for your &quot;normal&quot; cells, and a different one for you date cells, then take care about which one you apply where?","body":"Have two cell styles, one for your &quot;normal&quot; cells, and a different one for you date cells, then take care about which one you apply where?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678304149,"post_id":75676263,"comment_id":133508542,"body_markdown":"Thank you very much, I understood how to do it, I created one\n`CellStyle cellStyleData = workbook.createCellStyle();` separated and I replaced the cell8 one and what I needed came, which was just her.","body":"Thank you very much, I understood how to do it, I created one <code>CellStyle cellStyleData = workbook.createCellStyle();</code> separated and I replaced the cell8 one and what I needed came, which was just her."}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678296262,"creation_date":1678296262,"question_id":75676263,"body_markdown":"I am currently formatting a date in a cell, but this formatting is leaking to other cells, transforming some cells into dates, I wanted to know how to format only a single cell without affecting the others.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/SV97Q.png)](https://i.stack.imgur.com/SV97Q.png)\r\n\r\nThe Date formatting would only be in my last column I due date, but as in the image above it formatted my column C file 3 something that should not happen\r\n\r\nI followed this tutorial but it doesn&#39;t solve my problem because the date formatting is going to other fields\r\n[Link](https://www.baeldung.com/java-apache-poi-date-format)\r\n\r\n\r\n \r\n           `\r\n                  \r\n                  import com.xxxxxxxxxxxxxxxxxxxxxx.entity.xxxxxxxxx.xxxxxxxxx;\r\n                  import org.apache.poi.ss.usermodel.*;\r\n                  import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n                  import org.springframework.beans.factory.annotation.Autowired;\r\n\r\n                  import javax.servlet.http.HttpServletResponse;\r\n                  import java.io.IOException;\r\n                  import java.util.List;\r\n\r\n                  public class xxxxxxxxxxxxxxxxxx {\r\n\r\n                  @Autowired\r\n                  private xxxxxxxxxxxxxxxxDTO xxxxxxxxxxxxxxxxxxxxxDTO;\r\n\r\n\r\n\r\n                 public static void xxxxxxxx(HttpServletResponse response,    List&lt;xxxxxxxxxxxxxxxxxxxxDTO&gt; xxxxxxx) {\r\n                 try(Workbook workbook = new XSSFWorkbook()){\r\n                  Sheet sheet = workbook.createSheet(&quot;xxxxxx a xxxxxx&quot;);\r\n\r\n                 CellStyle cellStyle = workbook.createCellStyle();\r\n\r\n\r\n\r\n\r\n                cellStyle.setBorderTop(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderRight(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderBottom(BorderStyle.MEDIUM);\r\n                cellStyle.setBorderLeft(BorderStyle.MEDIUM);\r\n                cellStyle.setAlignment(HorizontalAlignment.LEFT);\r\n\r\n\r\n                Row row = sheet.createRow(0);\r\n                Cell cell = row.createCell(0);\r\n                cell.setCellValue(&quot;file&quot;);\r\n                cell.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell1 = row.createCell(1);\r\n                cell1.setCellValue(&quot;file1&quot;);\r\n                cell1.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell2 = row.createCell(2);\r\n                cell2.setCellValue(&quot;file2&quot;);\r\n                cell2.setCellStyle(cellStyle);\r\n\r\n                Cell cell3 = row.createCell(3);\r\n                cell3.setCellValue(&quot;file3&quot;);\r\n                cell3.setCellStyle(cellStyle);\r\n\r\n                Cell cell4 = row.createCell(4);\r\n                cell4.setCellValue(&quot;file4&quot;);\r\n                cell4.setCellStyle(cellStyle);\r\n\r\n                Cell cell5 = row.createCell(5);\r\n                cell5.setCellValue(&quot;file5&quot;);\r\n                cell5.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell6 = row.createCell(6);\r\n                cell6.setCellValue(&quot;file6&quot;);\r\n                cell6.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell7 = row.createCell(7);\r\n                cell7.setCellValue(&quot;file7&quot;);\r\n                cell7.setCellStyle(cellStyle);\r\n\r\n\r\n                Cell cell8 = row.createCell(8);\r\n                cell8.setCellValue(&quot;file8&quot;);\r\n                cell8.setCellStyle(cellStyle);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                int rowNum = 1;\r\n                for (xxxxxxxxxxxxxxxDTO integ : xxxx) {\r\n                Row intDataRow = sheet.createRow(rowNum++);\r\n\r\n                Cell empCell = intDataRow.createCell(0);\r\n                empCell.setCellStyle(cellStyle);\r\n                empCell.setCellValue(integ.getFile());\r\n\r\n                Cell filNameCell = intDataRow.createCell(1);\r\n                filNameCell.setCellStyle(cellStyle);\r\n                filNameCell.setCellValue(integ.getFile1());\r\n\r\n                Cell cdCell = intDataRow.createCell(2);\r\n                cdCell.setCellStyle(cellStyle);\r\n                cdCell.setCellValue(integ.getFile2());\r\n\r\n                Cell coCell = intDataRow.createCell(3);\r\n                coCell.setCellStyle(cellStyle);\r\n                coCell.setCellValue(integ.getFile3());\r\n\r\n                Cell poCell = intDataRow.createCell(4);\r\n                poCell.setCellStyle(cellStyle);\r\n                poCell.setCellValue(integ.getFile4());\r\n\r\n                Cell tiCell = intDataRow.createCell(5);\r\n                tiCell.setCellStyle(cellStyle);\r\n                tiCell.setCellValue(integ.getFile5());\r\n\r\n\r\n                Cell saCell = intDataRow.createCell(6);\r\n                saCell.setCellStyle(cellStyle);\r\n                saCell.setCellValue(integ.getFile6());\r\n\r\n                Cell comCell = intDataRow.createCell(7);\r\n                comCell.setCellStyle(cellStyle);\r\n                comCell.setCellValue(integ.getFile7());\r\n\r\n\r\n                Cell venCell = intDataRow.createCell(8);\r\n                venCell.setCellStyle(cellStyle);\r\n                venCell.setCellValue(integ.getFile8());\r\n\t\t\t\tcellStyle.setDataFormat((short) 14);\r\n                \r\n\r\n\r\n            }\r\n\r\n\r\n            workbook.write(response.getOutputStream());\r\n\r\n            } catch (IOException e) {\r\n            e.printStackTrace();\r\n            }\r\n\r\n          }\r\n\r\n\r\n      }`\r\n\r\n\r\n","title":"How to apply formatting to just one cell in Apache Poi in Spring Boot with Java","body":"<p>I am currently formatting a date in a cell, but this formatting is leaking to other cells, transforming some cells into dates, I wanted to know how to format only a single cell without affecting the others.</p>\n<p><a href=\"https://i.stack.imgur.com/SV97Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SV97Q.png\" alt=\"enter image description here\" /></a></p>\n<p>The Date formatting would only be in my last column I due date, but as in the image above it formatted my column C file 3 something that should not happen</p>\n<p>I followed this tutorial but it doesn't solve my problem because the date formatting is going to other fields\n<a href=\"https://www.baeldung.com/java-apache-poi-date-format\" rel=\"nofollow noreferrer\">Link</a></p>\n<pre><code>       `\n              \n              import com.xxxxxxxxxxxxxxxxxxxxxx.entity.xxxxxxxxx.xxxxxxxxx;\n              import org.apache.poi.ss.usermodel.*;\n              import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n              import org.springframework.beans.factory.annotation.Autowired;\n\n              import javax.servlet.http.HttpServletResponse;\n              import java.io.IOException;\n              import java.util.List;\n\n              public class xxxxxxxxxxxxxxxxxx {\n\n              @Autowired\n              private xxxxxxxxxxxxxxxxDTO xxxxxxxxxxxxxxxxxxxxxDTO;\n\n\n\n             public static void xxxxxxxx(HttpServletResponse response,    List&lt;xxxxxxxxxxxxxxxxxxxxDTO&gt; xxxxxxx) {\n             try(Workbook workbook = new XSSFWorkbook()){\n              Sheet sheet = workbook.createSheet(&quot;xxxxxx a xxxxxx&quot;);\n\n             CellStyle cellStyle = workbook.createCellStyle();\n\n\n\n\n            cellStyle.setBorderTop(BorderStyle.MEDIUM);\n            cellStyle.setBorderRight(BorderStyle.MEDIUM);\n            cellStyle.setBorderBottom(BorderStyle.MEDIUM);\n            cellStyle.setBorderLeft(BorderStyle.MEDIUM);\n            cellStyle.setAlignment(HorizontalAlignment.LEFT);\n\n\n            Row row = sheet.createRow(0);\n            Cell cell = row.createCell(0);\n            cell.setCellValue(&quot;file&quot;);\n            cell.setCellStyle(cellStyle);\n\n\n            Cell cell1 = row.createCell(1);\n            cell1.setCellValue(&quot;file1&quot;);\n            cell1.setCellStyle(cellStyle);\n\n\n            Cell cell2 = row.createCell(2);\n            cell2.setCellValue(&quot;file2&quot;);\n            cell2.setCellStyle(cellStyle);\n\n            Cell cell3 = row.createCell(3);\n            cell3.setCellValue(&quot;file3&quot;);\n            cell3.setCellStyle(cellStyle);\n\n            Cell cell4 = row.createCell(4);\n            cell4.setCellValue(&quot;file4&quot;);\n            cell4.setCellStyle(cellStyle);\n\n            Cell cell5 = row.createCell(5);\n            cell5.setCellValue(&quot;file5&quot;);\n            cell5.setCellStyle(cellStyle);\n\n\n            Cell cell6 = row.createCell(6);\n            cell6.setCellValue(&quot;file6&quot;);\n            cell6.setCellStyle(cellStyle);\n\n\n            Cell cell7 = row.createCell(7);\n            cell7.setCellValue(&quot;file7&quot;);\n            cell7.setCellStyle(cellStyle);\n\n\n            Cell cell8 = row.createCell(8);\n            cell8.setCellValue(&quot;file8&quot;);\n            cell8.setCellStyle(cellStyle);\n\n\n\n\n\n\n\n            int rowNum = 1;\n            for (xxxxxxxxxxxxxxxDTO integ : xxxx) {\n            Row intDataRow = sheet.createRow(rowNum++);\n\n            Cell empCell = intDataRow.createCell(0);\n            empCell.setCellStyle(cellStyle);\n            empCell.setCellValue(integ.getFile());\n\n            Cell filNameCell = intDataRow.createCell(1);\n            filNameCell.setCellStyle(cellStyle);\n            filNameCell.setCellValue(integ.getFile1());\n\n            Cell cdCell = intDataRow.createCell(2);\n            cdCell.setCellStyle(cellStyle);\n            cdCell.setCellValue(integ.getFile2());\n\n            Cell coCell = intDataRow.createCell(3);\n            coCell.setCellStyle(cellStyle);\n            coCell.setCellValue(integ.getFile3());\n\n            Cell poCell = intDataRow.createCell(4);\n            poCell.setCellStyle(cellStyle);\n            poCell.setCellValue(integ.getFile4());\n\n            Cell tiCell = intDataRow.createCell(5);\n            tiCell.setCellStyle(cellStyle);\n            tiCell.setCellValue(integ.getFile5());\n\n\n            Cell saCell = intDataRow.createCell(6);\n            saCell.setCellStyle(cellStyle);\n            saCell.setCellValue(integ.getFile6());\n\n            Cell comCell = intDataRow.createCell(7);\n            comCell.setCellStyle(cellStyle);\n            comCell.setCellValue(integ.getFile7());\n\n\n            Cell venCell = intDataRow.createCell(8);\n            venCell.setCellStyle(cellStyle);\n            venCell.setCellValue(integ.getFile8());\n            cellStyle.setDataFormat((short) 14);\n            \n\n\n        }\n\n\n        workbook.write(response.getOutputStream());\n\n        } catch (IOException e) {\n        e.printStackTrace();\n        }\n\n      }\n\n\n  }`\n</code></pre>\n"},{"tags":["java","gradle","visual-studio-code","lombok"],"comments":[{"owner":{"account_id":6308914,"reputation":2176,"user_id":4901118,"display_name":"isAif"},"score":0,"creation_date":1597479092,"post_id":63418817,"comment_id":112150416,"body_markdown":"Which instructions you followed, can you provide the link? Also when mentioning the plugins please provide the links. Did you include the *Lombok* dependency to your `pom.xml` file ?","body":"Which instructions you followed, can you provide the link? Also when mentioning the plugins please provide the links. Did you include the <i>Lombok</i> dependency to your <code>pom.xml</code> file ?"}],"answers":[{"comments":[{"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"score":2,"creation_date":1597772982,"post_id":63429449,"comment_id":112241565,"body_markdown":"That&#39;s the plugin that I&#39;m using","body":"That&#39;s the plugin that I&#39;m using"}],"tags":[],"owner":{"account_id":2758758,"reputation":813,"user_id":2376087,"display_name":"sercheo_87"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1597515598,"creation_date":1597515598,"answer_id":63429449,"question_id":63418817,"body_markdown":"Use next plugin [Lombok Annotations Support for VS Code][1]\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Use next plugin <a href=\"https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok\" rel=\"noreferrer\">Lombok Annotations Support for VS Code</a></p>\n"},{"comments":[{"owner":{"account_id":420039,"reputation":1764,"user_id":797519,"accept_rate":61,"display_name":"flyingfoxlee"},"score":1,"creation_date":1630645161,"post_id":63474071,"comment_id":122017929,"body_markdown":"Command Palette, on mac one can launch the wizard by opening the Command Palette (⇧⌘P) and typing the command above.","body":"Command Palette, on mac one can launch the wizard by opening the Command Palette (⇧⌘P) and typing the command above."}],"tags":[],"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1597773046,"creation_date":1597773046,"answer_id":63474071,"question_id":63418817,"body_markdown":"Turns out I had to run the following command in VS Code:\r\n\r\n    &gt; Java: Clean the Java language server workspace","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Turns out I had to run the following command in VS Code:</p>\n<pre><code>&gt; Java: Clean the Java language server workspace\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337675,"reputation":143,"user_id":2049626,"display_name":"Sudeep Krishnan M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638678718,"creation_date":1638676824,"answer_id":70231366,"question_id":63418817,"body_markdown":"Try to exclude transitive dependency for better control\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nI am using VScode editor try to add lombok for from the extension window. After that clean the workspace it worked for me. ","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>Try to exclude transitive dependency for better control</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using VScode editor try to add lombok for from the extension window. After that clean the workspace it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1414063,"reputation":1696,"user_id":1340069,"display_name":"James O&#39;Brien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678296104,"creation_date":1678296104,"answer_id":75676239,"question_id":63418817,"body_markdown":"As of Dec. 2022, according to this announcement https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/ , quote: &quot;Starting in July, our Java extensions can directly support projects that are using Lombok without installing any additional extensions.&quot;\r\n\r\nOf course, lombok must be in your classpath, either as a jar or part of a build tool configuration like maven or gradle.\r\n\r\nSetup:\r\n * maven: https://projectlombok.org/setup/maven\r\n * gradle: https://projectlombok.org/setup/gradle\r\n\r\nIt must be enabled in settings though. I&#39;m not sure if it is by default. This screenshot shows how to enable.\r\n\r\n[![Settings for enabling lombok][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/melXe.png","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>As of Dec. 2022, according to this announcement <a href=\"https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-december-2022/</a> , quote: &quot;Starting in July, our Java extensions can directly support projects that are using Lombok without installing any additional extensions.&quot;</p>\n<p>Of course, lombok must be in your classpath, either as a jar or part of a build tool configuration like maven or gradle.</p>\n<p>Setup:</p>\n<ul>\n<li>maven: <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></li>\n<li>gradle: <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></li>\n</ul>\n<p>It must be enabled in settings though. I'm not sure if it is by default. This screenshot shows how to enable.</p>\n<p><a href=\"https://i.stack.imgur.com/melXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/melXe.png\" alt=\"Settings for enabling lombok\" /></a></p>\n"}],"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14026,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63474071,"answer_count":4,"score":7,"last_activity_date":1678296104,"creation_date":1597432377,"question_id":63418817,"body_markdown":"I have a java gradle project in vscode, and I followed the instructions on the site to use the gradle plugin and the vscode lombok extension. However, vscode is still unable to resolve the lombok.Data java import. What am I missing?","title":"How do I get lombok to work with Visual Studio Code?","body":"<p>I have a java gradle project in vscode, and I followed the instructions on the site to use the gradle plugin and the vscode lombok extension. However, vscode is still unable to resolve the lombok.Data java import. What am I missing?</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","completable-future"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1678294552,"post_id":75675668,"comment_id":133506031,"body_markdown":"could you show the code that calls getApplicationSettings() method?","body":"could you show the code that calls getApplicationSettings() method?"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1678295912,"post_id":75675668,"comment_id":133506457,"body_markdown":"Added details in EDIT","body":"Added details in EDIT"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678295809,"creation_date":1678292841,"question_id":75675668,"body_markdown":"I am using spring webflux client to call reactive apis.\r\nIt is resulting into this error\r\n```\r\njava.lang.IllegalStateException: Spec. Rule 2.12 - Subscriber.onSubscribe MUST NOT be called more than once (based on object equality)\r\n\tat reactor.core.Exceptions.duplicateOnSubscribeException(Exceptions.java:181)\r\n\tat reactor.core.publisher.Operators.reportSubscriptionSet(Operators.java:1083)\r\n\tat reactor.core.publisher.Operators.setOnce(Operators.java:1188)\r\n\tat reactor.core.publisher.MonoFlatMap.onSubscribe(MonoFlatMap.java:102)\r\n\tat reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:225)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4255)\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4363)\r\n\tat reactor.core.publisher.Mono.toFuture(Mono.java:4697)\r\n\tat abc.bcd.cde.fgh.SettingsRepositoryImplP2.getApplicationSettings(SettingsRepositoryImplP2.java:32)\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n\tat abc.bcd.cde.fgh.ApplicationSettingsCache.hasMaxCapture(ApplicationSettingsCache.java:38)\r\n\tat abc.bcd.cde.fgh.ApplicationDebugService.shouldBeCaptured(ApplicationDebugService.java:20)\r\n\tat abc.bcd.cde.fgh.ApplicationDebugService.lambdaf865c(ApplicationDebugService.java:26)\r\n\tat akka.stream.javadsl.Flow.(Flow.scala:739)\r\n\tat akka.stream.impl.fusing.MapAsync96775anon.onPush(Ops.scala:1307)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\r\n\tat akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:423)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.execute(ActorGraphInterpreter.scala:521)\r\n\tat akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka96775processEvent(ActorGraphInterpreter.scala:800)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.akka96775shortCircuitBatch(ActorGraphInterpreter.scala:787)\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter96775anonfun.applyOrElse(ActorGraphInterpreter.scala:819)\r\n\tat akka.actor.Actor.aroundReceive(Actor.scala:537)\r\n\tat akka.actor.Actor.aroundReceive\r\n\tat akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\r\n\tat akka.actor.ActorCell.receiveMessage96775(ActorCell.scala:580)\r\n\tat akka.actor.ActorCell.receiveMessage(ActorCell.scala)\r\n\tat akka.actor.ActorCell.invoke(ActorCell.scala:548)\r\n\tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\r\n\tat akka.dispatch.Mailbox.run(Mailbox.scala:231)\r\n\tat akka.dispatch.Mailbox.exec(Mailbox.scala:243)\r\n\tat java.util.concurrent.ForkJoinTask.doExec96775(ForkJoinTask.java:290)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n\tat java.util.concurrent.ForkJoinPool.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```\r\n\r\nMy Call looks like this\r\n```\r\npublic Mono&lt;TestSettings&gt; retrieveApplicationConfiguration(String applicationId) {\r\n\r\n        var url = applicationConfigurationServiceUrl.concat(&quot;/conf&quot;).concat(&quot;/{id}&quot;);\r\n\r\n        return webClient.get()\r\n                .uri(url, applicationId)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::is4xxClientError,\r\n                        (clientResponse -&gt; {\r\n                            log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\r\n                            if (clientResponse.statusCode().equals(HttpStatus.NOT_FOUND)) {\r\n                                //return TestSettings.captureABC();\r\n                                return Mono.error(new ApplicationConfigServiceException(&quot;Error fetching Applications for application &quot; + applicationId, clientResponse.statusCode().value()));\r\n                            }\r\n                            return clientResponse.bodyToMono(String.class)\r\n                                    .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(&quot; Error fetching Applications for &quot; + applicationId + response, clientResponse.statusCode().value())));\r\n                        }))\r\n                .onStatus(HttpStatus::is5xxServerError,\r\n                        (clientResponse -&gt; {\r\n                        log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\r\n                        return clientResponse.bodyToMono(String.class)\r\n                            .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(response, clientResponse.statusCode().value())));\r\n                }))\r\n                .bodyToMono(ApplicationConfigurationResponse.class)\r\n                .map(a -&gt; {\r\n                    log.info(&quot;LOG : {}&quot;, a);\r\n                    return TestSettings.create(a);\r\n                })\r\n                //.retryWhen(WebClientRetryUtil.retrySpec())\r\n                .log();\r\n    }\r\n```\r\n\r\nand webclient call is then used as below. here i am converting `Mono` to `CompletableFuture`.\r\n```\r\n    @Override\r\n    public CompletableFuture&lt;TestSettings&gt; getApplicationSettings(String application) {\r\n        return webClient.retrieveApplicationConfiguration(application)\r\n                .toFuture();\r\n    }\r\n```\r\n\r\n## EDIT 1\r\nThere is one method upstream which is calling `getApplicationSettings()` and from where error is originating.\r\n`fetchSettings::fetch` is a function passed as an argument.\r\n\r\n```\r\nreturn testSettingsMap\r\n    .computeIfAbsent(app, testSettings::fetch)\r\n    .thenApply(TestSettings::debugSettings)\r\n    .thenApply(s -&gt; s.equals(MAXIMUM));\r\n```\r\n\r\nNote :testSettingsMap is a ConcurrentHashMap `private final ConcurrentHashMap&lt;String, CompletableFuture&lt;TestSettings&gt;&gt; testSettingsMap;`\r\n\r\nHow can I debug or fix this problem ?","title":"ERROR : Duplicate Subscription has been detected while using Reactive webclient","body":"<p>I am using spring webflux client to call reactive apis.\nIt is resulting into this error</p>\n<pre><code>java.lang.IllegalStateException: Spec. Rule 2.12 - Subscriber.onSubscribe MUST NOT be called more than once (based on object equality)\n    at reactor.core.Exceptions.duplicateOnSubscribeException(Exceptions.java:181)\n    at reactor.core.publisher.Operators.reportSubscriptionSet(Operators.java:1083)\n    at reactor.core.publisher.Operators.setOnce(Operators.java:1188)\n    at reactor.core.publisher.MonoFlatMap.onSubscribe(MonoFlatMap.java:102)\n    at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:225)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4255)\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4363)\n    at reactor.core.publisher.Mono.toFuture(Mono.java:4697)\n    at abc.bcd.cde.fgh.SettingsRepositoryImplP2.getApplicationSettings(SettingsRepositoryImplP2.java:32)\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at abc.bcd.cde.fgh.ApplicationSettingsCache.hasMaxCapture(ApplicationSettingsCache.java:38)\n    at abc.bcd.cde.fgh.ApplicationDebugService.shouldBeCaptured(ApplicationDebugService.java:20)\n    at abc.bcd.cde.fgh.ApplicationDebugService.lambdaf865c(ApplicationDebugService.java:26)\n    at akka.stream.javadsl.Flow.(Flow.scala:739)\n    at akka.stream.impl.fusing.MapAsync96775anon.onPush(Ops.scala:1307)\n    at akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\n    at akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:423)\n    at akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\n    at akka.stream.impl.fusing.GraphInterpreterShell.execute(ActorGraphInterpreter.scala:521)\n    at akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.akka96775processEvent(ActorGraphInterpreter.scala:800)\n    at akka.stream.impl.fusing.ActorGraphInterpreter.akka96775shortCircuitBatch(ActorGraphInterpreter.scala:787)\n    at akka.stream.impl.fusing.ActorGraphInterpreter96775anonfun.applyOrElse(ActorGraphInterpreter.scala:819)\n    at akka.actor.Actor.aroundReceive(Actor.scala:537)\n    at akka.actor.Actor.aroundReceive\n    at akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\n    at akka.actor.ActorCell.receiveMessage96775(ActorCell.scala:580)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:548)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:231)\n    at akka.dispatch.Mailbox.exec(Mailbox.scala:243)\n    at java.util.concurrent.ForkJoinTask.doExec96775(ForkJoinTask.java:290)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.util.concurrent.ForkJoinPool.topLevelExec(ForkJoinPool.java:1020)\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n<p>My Call looks like this</p>\n<pre><code>public Mono&lt;TestSettings&gt; retrieveApplicationConfiguration(String applicationId) {\n\n        var url = applicationConfigurationServiceUrl.concat(&quot;/conf&quot;).concat(&quot;/{id}&quot;);\n\n        return webClient.get()\n                .uri(url, applicationId)\n                .retrieve()\n                .onStatus(HttpStatus::is4xxClientError,\n                        (clientResponse -&gt; {\n                            log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\n                            if (clientResponse.statusCode().equals(HttpStatus.NOT_FOUND)) {\n                                //return TestSettings.captureABC();\n                                return Mono.error(new ApplicationConfigServiceException(&quot;Error fetching Applications for application &quot; + applicationId, clientResponse.statusCode().value()));\n                            }\n                            return clientResponse.bodyToMono(String.class)\n                                    .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(&quot; Error fetching Applications for &quot; + applicationId + response, clientResponse.statusCode().value())));\n                        }))\n                .onStatus(HttpStatus::is5xxServerError,\n                        (clientResponse -&gt; {\n                        log.info(&quot;Status code : {}&quot;, clientResponse.statusCode().value());\n                        return clientResponse.bodyToMono(String.class)\n                            .flatMap(response -&gt; Mono.error(new ApplicationConfigServiceException(response, clientResponse.statusCode().value())));\n                }))\n                .bodyToMono(ApplicationConfigurationResponse.class)\n                .map(a -&gt; {\n                    log.info(&quot;LOG : {}&quot;, a);\n                    return TestSettings.create(a);\n                })\n                //.retryWhen(WebClientRetryUtil.retrySpec())\n                .log();\n    }\n</code></pre>\n<p>and webclient call is then used as below. here i am converting <code>Mono</code> to <code>CompletableFuture</code>.</p>\n<pre><code>    @Override\n    public CompletableFuture&lt;TestSettings&gt; getApplicationSettings(String application) {\n        return webClient.retrieveApplicationConfiguration(application)\n                .toFuture();\n    }\n</code></pre>\n<h2>EDIT 1</h2>\n<p>There is one method upstream which is calling <code>getApplicationSettings()</code> and from where error is originating.\n<code>fetchSettings::fetch</code> is a function passed as an argument.</p>\n<pre><code>return testSettingsMap\n    .computeIfAbsent(app, testSettings::fetch)\n    .thenApply(TestSettings::debugSettings)\n    .thenApply(s -&gt; s.equals(MAXIMUM));\n</code></pre>\n<p>Note :testSettingsMap is a ConcurrentHashMap <code>private final ConcurrentHashMap&lt;String, CompletableFuture&lt;TestSettings&gt;&gt; testSettingsMap;</code></p>\n<p>How can I debug or fix this problem ?</p>\n"},{"tags":["java","android","tablelayout","landscape"],"answers":[{"tags":[],"owner":{"account_id":6229528,"reputation":94,"user_id":4846768,"display_name":"Pedro Val&#233;rio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497387271,"creation_date":1497387271,"answer_id":44531377,"question_id":44526027,"body_markdown":"Not sure why it&#39;s displaying different, from what I can understand it&#39;s displaying as it should be considering the layout attributes (i.e. all wrap_content), there is nothing to indicate it should fill the parent.\r\nHowever changing the fillViewPort attribute of the horizontal ScrollView and it&#39;s width to match_parent do the trick work. \r\n\r\nhttps://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport\r\n\r\n        ...\r\n        &lt;HorizontalScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n        ...","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>Not sure why it's displaying different, from what I can understand it's displaying as it should be considering the layout attributes (i.e. all wrap_content), there is nothing to indicate it should fill the parent.\nHowever changing the fillViewPort attribute of the horizontal ScrollView and it's width to match_parent do the trick work. </p>\n\n<p><a href=\"https://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/ScrollView.html#attr_android:fillViewport</a></p>\n\n<pre><code>    ...\n    &lt;HorizontalScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:fillViewport=\"true\"&gt;\n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678295048,"creation_date":1678295048,"answer_id":75676071,"question_id":44526027,"body_markdown":"If work for someone, the solution was change `RelativeLayout` to `CoordinatorLayout` and change `HorizontalScrollView` to `NestedScrollView`:\r\n\r\n    &lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n    &lt;include\r\n        android:id=&quot;@id/action_bar&quot;\r\n        layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\r\n    \r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    \r\n        &lt;HorizontalScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:stretchColumns=&quot;*&quot; /&gt;\r\n        &lt;/HorizontalScrollView&gt;\r\n    \r\n    &lt;/android.support.v4.widget.NestedScrollView&gt;","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>If work for someone, the solution was change <code>RelativeLayout</code> to <code>CoordinatorLayout</code> and change <code>HorizontalScrollView</code> to <code>NestedScrollView</code>:</p>\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:fitsSystemWindows=&quot;true&quot;&gt;\n\n&lt;include\n    android:id=&quot;@id/action_bar&quot;\n    layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\n\n&lt;android.support.v4.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n    &lt;HorizontalScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;TableLayout\n            android:id=&quot;@+id/table&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:stretchColumns=&quot;*&quot; /&gt;\n    &lt;/HorizontalScrollView&gt;\n\n&lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678295048,"creation_date":1497368502,"question_id":44526027,"body_markdown":"I make an app which uses dynamic tables, my XML code is:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:scrollbars=&quot;none&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@id/action_bar&quot;\r\n        layout=&quot;@layout/actionbar_toolbar&quot; /&gt;\r\n\r\n    &lt;HorizontalScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/action_bar&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TableLayout\r\n                android:id=&quot;@+id/table&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                 android:stretchColumns=&quot;*&quot;&gt;\r\n\r\n            &lt;/TableLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/HorizontalScrollView&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\nThe table take all values from code. My problem is that in Android 23 and less, when you put screen orientation in landscape mode, the screen looks like:\r\n\r\n[![landscape 23][1]][1]\r\n\r\nBut in Android version 24 and above, the screen looks good:\r\n\r\n[![landscape 24][2]][2]\r\n\r\nP.D: `match_parent` property don&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/mTejv.png\r\n  [2]: https://i.stack.imgur.com/3sQG1.png","title":"Android 23 and smaller don&#39;t fill all screen in landscape mode","body":"<p>I make an app which uses dynamic tables, my XML code is:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:layout_weight=\"1\"\nandroid:scrollbars=\"none\"&gt;\n\n&lt;include\n    android:id=\"@id/action_bar\"\n    layout=\"@layout/actionbar_toolbar\" /&gt;\n\n&lt;HorizontalScrollView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@id/action_bar\"&gt;\n\n    &lt;ScrollView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TableLayout\n            android:id=\"@+id/table\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n             android:stretchColumns=\"*\"&gt;\n\n        &lt;/TableLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/HorizontalScrollView&gt;\n</code></pre>\n\n<p></p>\n\n<p>The table take all values from code. My problem is that in Android 23 and less, when you put screen orientation in landscape mode, the screen looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mTejv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTejv.png\" alt=\"landscape 23\"></a></p>\n\n<p>But in Android version 24 and above, the screen looks good:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3sQG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3sQG1.png\" alt=\"landscape 24\"></a></p>\n\n<p>P.D: <code>match_parent</code> property don't work.</p>\n"},{"tags":["python","java","windows","optapy"],"comments":[{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1678131061,"post_id":75622934,"comment_id":133470570,"body_markdown":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?","body":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?"}],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294959,"creation_date":1678294959,"answer_id":75676054,"question_id":75622934,"body_markdown":"From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is `JAVA_HOME`, not `JAVA-HOME`; ensure `JAVA_HOME` is set to the path where Java JDK-17.0.6.10 is installed.","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is <code>JAVA_HOME</code>, not <code>JAVA-HOME</code>; ensure <code>JAVA_HOME</code> is set to the path where Java JDK-17.0.6.10 is installed.</p>\n"}],"owner":{"account_id":27923646,"reputation":1,"user_id":21323198,"display_name":"vctrgv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678294959,"creation_date":1677814298,"question_id":75622934,"body_markdown":"I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn&#39;t let me and all I get is a big error where it says the OSError: could not get source code.\r\n\r\npd: I&#39;m using python 3.9\r\n\r\n[error message](https://i.stack.imgur.com/Wh1oh.png)\r\n[error message 2](https://i.stack.imgur.com/LWluE.png)\r\n\r\nI hope someone can help me with this problem and tell me what to do","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn't let me and all I get is a big error where it says the OSError: could not get source code.</p>\n<p>pd: I'm using python 3.9</p>\n<p><a href=\"https://i.stack.imgur.com/Wh1oh.png\" rel=\"nofollow noreferrer\">error message</a>\n<a href=\"https://i.stack.imgur.com/LWluE.png\" rel=\"nofollow noreferrer\">error message 2</a></p>\n<p>I hope someone can help me with this problem and tell me what to do</p>\n"},{"tags":["java","kotlin","android-tv","leanback"],"owner":{"account_id":27873048,"reputation":1,"user_id":21283114,"display_name":"dev123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294941,"creation_date":1678294941,"question_id":75676048,"body_markdown":"I need to add a banner (that is not selectable or focusable) between two rows.\r\n\r\nWhen I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top. \r\n\r\nIf I add the view to FrameLayout programmatically like [this](https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment), the view is in the foreground with rows scrolling in the background. \r\n\r\nI want the view to scroll with the rows. \r\n\r\nIf I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?","title":"Add view to RowsSupportFragment AndroidTV Leanback?","body":"<p>I need to add a banner (that is not selectable or focusable) between two rows.</p>\n<p>When I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top.</p>\n<p>If I add the view to FrameLayout programmatically like <a href=\"https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment\">this</a>, the view is in the foreground with rows scrolling in the background.</p>\n<p>I want the view to scroll with the rows.</p>\n<p>If I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","geckodriver","selenium-java"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1687665345,"post_id":72185792,"comment_id":134967392,"body_markdown":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi.","body":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi."}],"owner":{"account_id":2378991,"reputation":100,"user_id":2081492,"display_name":"Lucas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678294611,"creation_date":1652183412,"question_id":72185792,"body_markdown":"In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.\r\n\r\nFor the tests I am using:\r\n\r\n - Firefox 100.0\r\n - geckodriver 0.31\r\n - Selenium 4.1.4\r\n\r\n```\r\npublic static void main(String... args) {\r\n    \r\n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\r\n\r\n    try {\r\n        \r\n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\r\n        devTools.createSessionIfThereIsNotOne();\r\n        devTools.send(Log.enable());\r\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\r\n\r\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\r\n\r\n    } finally {\r\n        webDriver.quit();   \r\n    }\r\n}\r\n```\r\n\r\nRunning the previous snippet will always raise the following errors.\r\n\r\n```\r\nJavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\r\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=400 text=Bad Request\r\njava.io.IOException: Invalid Status code=400 text=Bad Request\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n```\r\nUnable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\r\nBuild info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.13&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n```","title":"Unable to establish websocket connection error getting Firefox console logs using Selenium for Java","body":"<p>In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.</p>\n<p>For the tests I am using:</p>\n<ul>\n<li>Firefox 100.0</li>\n<li>geckodriver 0.31</li>\n<li>Selenium 4.1.4</li>\n</ul>\n<pre><code>public static void main(String... args) {\n    \n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\n\n    try {\n        \n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\n        devTools.createSessionIfThereIsNotOne();\n        devTools.send(Log.enable());\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\n\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\n\n    } finally {\n        webDriver.quit();   \n    }\n}\n</code></pre>\n<p>Running the previous snippet will always raise the following errors.</p>\n<pre><code>JavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=400 text=Bad Request\njava.io.IOException: Invalid Status code=400 text=Bad Request\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<pre><code>Unable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.13'\nDriver info: driver.version: FirefoxDriver\n</code></pre>\n"},{"tags":["java","arrays","indexof"],"comments":[{"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"score":1,"creation_date":1337315037,"post_id":10646520,"comment_id":13804481,"body_markdown":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses","body":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses"}],"answers":[{"comments":[{"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"score":0,"creation_date":1337314842,"post_id":10646562,"comment_id":13804458,"body_markdown":"Thx jmort, that hit the spot!","body":"Thx jmort, that hit the spot!"}],"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1337313989,"creation_date":1337313989,"answer_id":10646562,"question_id":10646520,"body_markdown":"You have to check each item in the array individually, as each array item is a separate string:\r\n\r\n    String[] full = { &quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot; };\r\n    String doT = &quot;b2&quot;;\r\n   \r\n    for(int i = 0; i &lt; full.length; i++) {\r\n        if(full[i].contains(doT)) {\r\n            System.out.println(&quot;Found item at index &quot; + i);\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You have to check each item in the array individually, as each array item is a separate string:</p>\n\n<pre><code>String[] full = { \"a1a\", \"b2b\", \"c3c\" };\nString doT = \"b2\";\n\nfor(int i = 0; i &lt; full.length; i++) {\n    if(full[i].contains(doT)) {\n        System.out.println(\"Found item at index \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314003,"creation_date":1337314003,"answer_id":10646565,"question_id":10646520,"body_markdown":"You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.\r\n\r\n    for (String s : FullDirPrt) {\r\n        if (s.indexOf(&quot;bs&quot;) &gt; 0) {\r\n            // do something\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.</p>\n\n<pre><code>for (String s : FullDirPrt) {\n    if (s.indexOf(\"bs\") &gt; 0) {\n        // do something\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314183,"creation_date":1337314183,"answer_id":10646584,"question_id":10646520,"body_markdown":"With Simple String array without using List also you can do like below.\r\n\r\n    String[] full={&quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot;};\r\n    String doT = &quot;b2&quot;;\r\n    for(String str:full){\r\n    if(str.contains(doT)){\r\n    System.out.println(str+&quot; contains &quot;+doT);\r\n    }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>With Simple String array without using List also you can do like below.</p>\n\n<pre><code>String[] full={\"a1a\", \"b2b\", \"c3c\"};\nString doT = \"b2\";\nfor(String str:full){\nif(str.contains(doT)){\nSystem.out.println(str+\" contains \"+doT);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22811207,"reputation":1,"user_id":16962469,"display_name":"Aditya Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294080,"creation_date":1677862311,"answer_id":75629824,"question_id":10646520,"body_markdown":"    public int stringFinder(String haystack, String needle) {\r\n        return haystack.indexOf(needle);       \r\n    } \r\n\r\n&gt; haystack is String\r\n&gt; needle which is to find in It\r\n\r\n    string.indexOf(stringTofind)","title":"Java - find indexof for part of a needle in array haystack","body":"<pre><code>public int stringFinder(String haystack, String needle) {\n    return haystack.indexOf(needle);       \n} \n</code></pre>\n<blockquote>\n<p>haystack is String\nneedle which is to find in It</p>\n</blockquote>\n<pre><code>string.indexOf(stringTofind)\n</code></pre>\n"}],"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10646562,"answer_count":4,"score":1,"last_activity_date":1678294080,"creation_date":1337313626,"question_id":10646520,"body_markdown":"I am trying to find what array index position contains part of a string.\r\n\r\n    FullDirPrt = &quot;a1a&quot; &quot;b2b&quot; &quot;c3c&quot;\r\n\r\n    String doT =&quot;b2&quot;;\r\n    int DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\r\n\r\nIf I search for b2b it returns indexOf. If I search for only b2, it returns -1.\r\n","title":"Java - find indexof for part of a needle in array haystack","body":"<p>I am trying to find what array index position contains part of a string.</p>\n\n<pre><code>FullDirPrt = \"a1a\" \"b2b\" \"c3c\"\n\nString doT =\"b2\";\nint DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\n</code></pre>\n\n<p>If I search for b2b it returns indexOf. If I search for only b2, it returns -1.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1678284913,"post_id":75673879,"comment_id":133502832,"body_markdown":"Most likely, `func1` is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a [MRE](https://stackoverflow.com/help/minimal-reproducible-example). \nThe root problem with your code (aside from overusing `vars`) is that `func1` is side-effecting. Having `accum` as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here.","body":"Most likely, <code>func1</code> is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>.  The root problem with your code (aside from overusing <code>vars</code>) is that <code>func1</code> is side-effecting. Having <code>accum</code> as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here."},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678293764,"post_id":75673879,"comment_id":133505779,"body_markdown":"what could be a better way to achieve the goal of counting the requests here?\n\nHave verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this","body":"what could be a better way to achieve the goal of counting the requests here?  Have verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678300405,"post_id":75673879,"comment_id":133507620,"body_markdown":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like `df.count()` would do what you are looking for &#129335;","body":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like <code>df.count()</code> would do what you are looking for 🤷"},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678343227,"post_id":75673879,"comment_id":133514595,"body_markdown":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit","body":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678372955,"post_id":75673879,"comment_id":133522862,"body_markdown":"I dunno ... then maybe you are adding 2 too often &#129335;\nLook, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;","body":"I dunno ... then maybe you are adding 2 too often 🤷 Look, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;"}],"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294040,"creation_date":1678283138,"question_id":75673879,"body_markdown":"I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below: \r\n\r\n    abstract class A{\r\n      var accum = sparkCtx.accumulator(0)\r\n      def func1(df) {\r\n        var df2 = df.map(func2)\r\n        func3(df2)\r\n      }\r\n      def func3(df2) {\r\n        //filter operation on df2 which basically makes the count 0\r\n        var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\r\n        var df4 = df3.map(func2)\r\n    }\r\n    class B extends A{\r\n      def func2() {\r\n        accum.add(1)\r\n       //return df\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong here?\r\n","title":"Spark accumulator giving twice the sum","body":"<p>I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below:</p>\n<pre><code>abstract class A{\n  var accum = sparkCtx.accumulator(0)\n  def func1(df) {\n    var df2 = df.map(func2)\n    func3(df2)\n  }\n  def func3(df2) {\n    //filter operation on df2 which basically makes the count 0\n    var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\n    var df4 = df3.map(func2)\n}\nclass B extends A{\n  def func2() {\n    accum.add(1)\n   //return df\n  }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"owner":{"account_id":9896308,"reputation":143,"user_id":7327706,"display_name":"Arczi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294016,"creation_date":1678294016,"question_id":75675890,"body_markdown":"Hello I have problem to solve, I have class:\r\n\r\n    @Entity\r\n    public class Test {\r\n      private String a;\r\n      private String b;\r\n      private String c;\r\n      private String d;\r\n      private String e;\r\n    }\r\n\r\nThis entity is saved into database.\r\nNow I have (list may be changed)\r\n\r\n    List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\r\n\r\nNow database should return object with this aggregated ID from field (a,b,d);\r\nIs it way to resolve it via repository, specification etc ?\r\n\r\nActually I resolving it by switch and I check string and return correct field, but I it looks messy.\r\n\r\nAny idea to do it in better way ?\r\n","title":"Best way to dynamic aggregate field","body":"<p>Hello I have problem to solve, I have class:</p>\n<pre><code>@Entity\npublic class Test {\n  private String a;\n  private String b;\n  private String c;\n  private String d;\n  private String e;\n}\n</code></pre>\n<p>This entity is saved into database.\nNow I have (list may be changed)</p>\n<pre><code>List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\n</code></pre>\n<p>Now database should return object with this aggregated ID from field (a,b,d);\nIs it way to resolve it via repository, specification etc ?</p>\n<p>Actually I resolving it by switch and I check string and return correct field, but I it looks messy.</p>\n<p>Any idea to do it in better way ?</p>\n"},{"tags":["java","keystore","client-certificates","pem","pkcs#12"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678308285,"post_id":75665942,"comment_id":133509559,"body_markdown":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to _convert_ to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use `openssl pkcs12 -export -legacy`) (2) use a program that handles PEM, like https://keystore-explorer.org (3) use https://www.BouncyCastle.org to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box.","body":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to <i>convert</i> to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use <code>openssl pkcs12 -export -legacy</code>) (2) use a program that handles PEM, like <a href=\"https://keystore-explorer.org\" rel=\"nofollow noreferrer\">keystore-explorer.org</a> (3) use <a href=\"https://www.BouncyCastle.org\" rel=\"nofollow noreferrer\">BouncyCastle.org</a> to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box."}],"owner":{"account_id":26085885,"reputation":1,"user_id":19783418,"display_name":"User 3598"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293718,"creation_date":1678214168,"question_id":75665942,"body_markdown":"I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.\r\n\r\nI also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;\r\n\r\n    String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\r\n    String certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    byte[] stream = Base64.getDecoder().decode(certificateContent);\r\n    InputStream input = new ByteArrayInputStream(stream);\r\n    keyStore.load(input,keyStorePassword.toCharArray());\r\n\r\nHow can I import this into KeyStore? Any advice or hints are much welcome.","title":"Import of PEM certificate chain and key to Java Keystore","body":"<p>I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.</p>\n<p>I also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;</p>\n<pre><code>String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\nString certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\nbyte[] stream = Base64.getDecoder().decode(certificateContent);\nInputStream input = new ByteArrayInputStream(stream);\nkeyStore.load(input,keyStorePassword.toCharArray());\n</code></pre>\n<p>How can I import this into KeyStore? Any advice or hints are much welcome.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714144,"post_id":12985827,"comment_id":17614188,"body_markdown":"@VincenzoSanchez : I didn&#39;t feel so...","body":"@VincenzoSanchez : I didn&#39;t feel so..."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714200,"post_id":12985827,"comment_id":17614194,"body_markdown":"Priyanka please edit your question, format code. It is difficult to read your code.","body":"Priyanka please edit your question, format code. It is difficult to read your code."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1350714259,"post_id":12985827,"comment_id":17614201,"body_markdown":"What system are you trying to login to?","body":"What system are you trying to login to?"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1350714657,"post_id":12985827,"comment_id":17614251,"body_markdown":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password","body":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password"}],"answers":[{"comments":[{"owner":{"account_id":1545009,"reputation":67059,"user_id":1438733,"accept_rate":100,"display_name":"Cat"},"score":1,"creation_date":1350715243,"post_id":12985963,"comment_id":17614330,"body_markdown":"Could you explain what you did to the OP&#39;s code? What changed to make it work?","body":"Could you explain what you did to the OP&#39;s code? What changed to make it work?"},{"owner":{"account_id":1499642,"reputation":676,"user_id":1404731,"accept_rate":50,"display_name":"Jeetu"},"score":1,"creation_date":1350715321,"post_id":12985963,"comment_id":17614345,"body_markdown":"BobbeHoddi can put intent in to on post execute method and i think he  is correct","body":"BobbeHoddi can put intent in to on post execute method and i think he  is correct"}],"tags":[],"owner":{"account_id":1428198,"reputation":1965,"user_id":1386998,"accept_rate":62,"display_name":"Zombie"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677788268,"creation_date":1350715212,"answer_id":12985963,"question_id":12985827,"body_markdown":"    private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\r\n    private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\r\n    protected void onPreExecute() {\r\n      this.dialog.setMessage(&quot;Loading ...&quot;);\r\n      this.dialog.show();\r\n    }\r\n    @Override\r\n    protected Void doInBackground(final Void...unused) {\r\n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;\r\n        username);\r\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;\r\n        password);\r\n      String auth = BusinessLogic_login.candidatelogin(username, password);\r\n      String userid = auth;\r\n      Log.i(&quot;priyanka&quot;, &quot;auth&quot;\r\n        auth);\r\n      if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\r\n        flag = true;\r\n        Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\r\n          public void run() {\r\n            final AlertDialog alertDialog51;\r\n            alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n            alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\r\n            alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.show();\r\n          }\r\n        });\r\n      }\r\n      return null;\r\n    }\r\n    @Override\r\n    protected void onPostExecute(Void result) {\r\n      if (!flag) {\r\n        Intent intnt = new Intent(getBaseContext(), Tab.class);\r\n        startActivity(intnt);\r\n      }\r\n      if (this.dialog.isShowing()) {\r\n        this.dialog.dismiss();\r\n      }\r\n     }\r\n    }\r\n\r\ntry this code... Have a `boolean` value called **flag** and set it to false. I have just used it.. you have to initialize it.\r\n\r\n`onPostExecute()` will run in the UI thread.. if you call intent in `doInBackground()` method it doesnt change in `UIThread` and you cant see the changes is what i got to know from your code.. check this","title":"Issue while navigating to new activity when using async task","body":"<pre><code>private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\nprivate final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\nprotected void onPreExecute() {\n  this.dialog.setMessage(&quot;Loading ...&quot;);\n  this.dialog.show();\n}\n@Override\nprotected Void doInBackground(final Void...unused) {\n  Log.i(&quot;Priyanka&quot;, &quot;username&quot;\n    username);\n  Log.i(&quot;Priyanka&quot;, &quot;password&quot;\n    password);\n  String auth = BusinessLogic_login.candidatelogin(username, password);\n  String userid = auth;\n  Log.i(&quot;priyanka&quot;, &quot;auth&quot;\n    auth);\n  if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\n    flag = true;\n    Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\n      public void run() {\n        final AlertDialog alertDialog51;\n        alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n        alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\n        alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.show();\n      }\n    });\n  }\n  return null;\n}\n@Override\nprotected void onPostExecute(Void result) {\n  if (!flag) {\n    Intent intnt = new Intent(getBaseContext(), Tab.class);\n    startActivity(intnt);\n  }\n  if (this.dialog.isShowing()) {\n    this.dialog.dismiss();\n  }\n }\n}\n</code></pre>\n<p>try this code... Have a <code>boolean</code> value called <strong>flag</strong> and set it to false. I have just used it.. you have to initialize it.</p>\n<p><code>onPostExecute()</code> will run in the UI thread.. if you call intent in <code>doInBackground()</code> method it doesnt change in <code>UIThread</code> and you cant see the changes is what i got to know from your code.. check this</p>\n"}],"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":12985963,"answer_count":1,"score":-4,"last_activity_date":1678293331,"creation_date":1350713846,"question_id":12985827,"body_markdown":"Can anyone please tell me how to login? I am trying to login in with the user name `Priyanka` and password `Priyanka` but it is unsuccessful.\r\n\r\nCan anyone help me out?\r\n\r\n\tpackage org.example.rig_parking;\r\n \r\n\timport android.app.Activity;\r\n\timport android.app.AlertDialog;\r\n\timport android.app.ProgressDialog;\r\n\timport android.content.Context;\r\n\timport android.content.DialogInterface;\r\n\timport android.content.Intent;\r\n\timport android.graphics.Typeface;\r\n\timport android.os.AsyncTask;\r\n\timport android.os.Bundle;\r\n\timport android.text.Html;\r\n\timport android.util.Log;\r\n\timport android.view.View;\r\n\timport android.view.View.OnClickListener;\r\n\timport android.widget.Button;\r\n\timport android.widget.EditText;\r\n\timport android.widget.TextView;\r\n\timport android.widget.Toast;\r\n\r\n\t public class Rig_ParkingActivity extends Activity {\r\n    \r\n\tString username,password;\r\n\t\r\n\t    @Override\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.main);\r\n        \r\n\r\n\t        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\r\n\t        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\r\n\t        myTextView.setTypeface(myTypeface);\r\n\t        TextView forget_main = (TextView)findViewById(R.id.forget_main);\r\n\t        forget_main.setTypeface(myTypeface);\r\n\t        final EditText email_main = (EditText)findViewById(R.id.email_main);\r\n\t        email_main.setTypeface(myTypeface);\r\n\t        final EditText password_main = (EditText)findViewById(R.id.password_main);\r\n\t        password_main.setTypeface(myTypeface);\r\n        \r\n        \tButton copy=(Button) findViewById(R.id.copyright);\r\n\t        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\r\n\t        copy.setTypeface(myTypeface);\r\n        \r\n        \tTextView register=(TextView) findViewById(R.id.register_main);       \r\n       \t register.setTypeface(myTypeface);\r\n       \r\n\t        register.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Register.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t /*      forget_main.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Tab.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t        */\r\n\t        TextView login=(TextView) findViewById(R.id.login_main);       \r\n\t        login.setTypeface(myTypeface);\r\n\t        login.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t\t\tusername=email_main.getText().toString();\r\n\t\t\t\tpassword=password_main.getText().toString();\r\n\t\t\t\t\r\n\t\t\t\tif(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\r\n\t            {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show();                      \t\t\r\n\t            }\t\t\t\t\t\t\t\t\t\r\n\t\t\t\telse if(username.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse if(password.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse{\r\n\t\t\t\tLoginTask logintsk=new LoginTask();\r\n\t\t\t\tlogintsk.execute();\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t    }\r\n\t    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \r\n   \t \r\n\t        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\r\n        \r\n        \t@Override\r\n    \tprotected void onPreExecute() { \r\n\r\n                this.dialog.setMessage(&quot;Loading ...&quot;); \r\n                this.dialog.show(); \r\n\t        } \r\n\r\n        \r\n        @Override\r\n    \tprotected Void doInBackground(final Void... unused) { \r\n        \t\r\n          Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\r\n          Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\r\n          String auth=BusinessLogic_login.candidatelogin(username, password); \r\n          String userid=auth; \r\n            Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\r\n            if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\r\n    \t\t{\r\n    \t\t\tRig_ParkingActivity.this.runOnUiThread(new Runnable() {\t\t\t\t\r\n    \t\t\t\tpublic void run() {\t\t\t\t\t\r\n    \t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n  \t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n  \t\t\t \t  \t\talertDialog51.setMessage(Html\r\n  \t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n  \t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n  \t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n  \t\t\t \t  \t\t           }\r\n  \t\t\t \t  \t\t     });\t  \t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n  \t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n  \t\t\t \t  \t\t   }\r\n  \t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.show(); \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\t\t\r\n    \t\t}\r\n    \t\telse {\t\t\t\r\n    \t\t\r\n    \t\tIntent intnt=new Intent(getBaseContext(), Tab.class);\r\n    \t\tstartActivity(intnt);    \t\t\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t}\r\n            return null; // don&#39;t interact with the ui! \r\n        } \r\n         \r\n        @Override\r\n    \tprotected void onPostExecute(Void result)  \r\n        {  \r\n                if (this.dialog.isShowing()) \r\n                { \r\n                this.dialog.dismiss(); \r\n                }\r\n          } \r\n      }  \r\n      }","title":"Issue while navigating to new activity when using async task","body":"<p>Can anyone please tell me how to login? I am trying to login in with the user name <code>Priyanka</code> and password <code>Priyanka</code> but it is unsuccessful.</p>\n<p>Can anyone help me out?</p>\n<pre><code>package org.example.rig_parking;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.Typeface;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n public class Rig_ParkingActivity extends Activity {\n\nString username,password;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    \n\n        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\n        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\n        myTextView.setTypeface(myTypeface);\n        TextView forget_main = (TextView)findViewById(R.id.forget_main);\n        forget_main.setTypeface(myTypeface);\n        final EditText email_main = (EditText)findViewById(R.id.email_main);\n        email_main.setTypeface(myTypeface);\n        final EditText password_main = (EditText)findViewById(R.id.password_main);\n        password_main.setTypeface(myTypeface);\n    \n        Button copy=(Button) findViewById(R.id.copyright);\n        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\n        copy.setTypeface(myTypeface);\n    \n        TextView register=(TextView) findViewById(R.id.register_main);       \n     register.setTypeface(myTypeface);\n   \n        register.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Register.class);    \n     startActivity(register);               \n        }\n    });\n    \n /*      forget_main.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Tab.class); \n     startActivity(register);               \n        }\n    });\n        */\n        TextView login=(TextView) findViewById(R.id.login_main);       \n        login.setTypeface(myTypeface);\n        login.setOnClickListener(new OnClickListener() {\n        \n        public void onClick(View arg0) {\n        \n            username=email_main.getText().toString();\n            password=password_main.getText().toString();\n            \n            if(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\n            {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                     \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();                           \n            }                                   \n            else if(username.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else if(password.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                        \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else{\n            LoginTask logintsk=new LoginTask();\n            logintsk.execute();             \n            }\n            \n        }\n    });\n    \n    }\n    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \n \n        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\n    \n        @Override\n    protected void onPreExecute() { \n\n            this.dialog.setMessage(&quot;Loading ...&quot;); \n            this.dialog.show(); \n        } \n\n    \n    @Override\n    protected Void doInBackground(final Void... unused) { \n        \n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\n      String auth=BusinessLogic_login.candidatelogin(username, password); \n      String userid=auth; \n        Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\n        if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\n        {\n            Rig_ParkingActivity.this.runOnUiThread(new Runnable() {             \n                public void run() {                 \n                    final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();               \n                }\n            });     \n        }\n        else {          \n        \n        Intent intnt=new Intent(getBaseContext(), Tab.class);\n        startActivity(intnt);           \n                                        \n        }\n        return null; // don't interact with the ui! \n    } \n     \n    @Override\n    protected void onPostExecute(Void result)  \n    {  \n            if (this.dialog.isShowing()) \n            { \n            this.dialog.dismiss(); \n            }\n      } \n  }  \n  }\n</code></pre>\n"},{"tags":["java","kotlin","android-listfragment"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678293489,"post_id":75675714,"comment_id":133505683,"body_markdown":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?","body":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?"}],"owner":{"account_id":15375821,"reputation":1,"user_id":11092577,"display_name":"Andres Mora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293328,"creation_date":1678293084,"question_id":75675714,"body_markdown":"I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.\r\n\r\n\r\n```\r\nclass CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\r\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val binding =\r\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        return ViewHolder(binding)\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return characters.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val character = characters[position]\r\n        holder.name.text = character.name\r\n        holder.quantity.text = character.quantity.toString()\r\n\r\n        val currentPrice = (12000 * character.quantity)\r\n        holder.price.text = currentPrice.toString()\r\n\r\n        Glide.with(holder.itemView)\r\n            .load(character.image)\r\n            .thumbnail(0.1f)\r\n            .into(holder.image)\r\n\r\n        holder.btnAdd.setOnClickListener{\r\n            ++character.quantity\r\n            updateFields(holder, position)\r\n        }\r\n        holder.btnRemove.setOnClickListener{\r\n            if (character.quantity &gt; 0){\r\n                --character.quantity\r\n                updateFields(holder, position)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun updateTotal(){\r\n        var total = 0\r\n\r\n        characters.forEach { character -&gt;\r\n            total += when(character.status) {\r\n                &quot;Alive&quot; -&gt; character.quantity * 14400\r\n                &quot;Dead&quot; -&gt; character.quantity * 9600\r\n                else -&gt; character.quantity * 12000\r\n            }\r\n        }\r\n        tvTotalPrice.text =  &quot;\\$$total&quot;\r\n    }\r\n\r\n    private fun updateFields(holder: ViewHolder, position: Int){\r\n        val character = characters[position]\r\n        holder.quantity.text = character.quantity.toString()\r\n        val currentPrice = (12000 * character.quantity)\r\n        var totalBalance = 0\r\n        totalBalance = when(characters[position].status) {\r\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\r\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\r\n            else -&gt; currentPrice\r\n        }\r\n        holder.price.text = totalBalance.toString()\r\n        updateTotal()\r\n    }\r\n\r\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n        val image: ImageView = binding.characterImage\r\n        val name: TextView = binding.characterName\r\n        val price: TextView = binding.tvPrice\r\n        val quantity: TextView = binding.tvCurrentQuantity\r\n        val btnAdd: Button = binding.buttonAdd\r\n        val btnRemove: Button = binding.buttonRemove\r\n    }\r\n\r\n    fun updateCharacters(characters: List&lt;Character&gt;) {\r\n        this.characters = characters\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have to build a button that allows to click to go to a new fragment view and only display the selected elements.","title":"I need clone this fragment list view to build to cart shop section only the elements selected","body":"<p>I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.</p>\n<pre><code>class CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val binding =\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        return ViewHolder(binding)\n    }\n\n    override fun getItemCount(): Int {\n        return characters.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val character = characters[position]\n        holder.name.text = character.name\n        holder.quantity.text = character.quantity.toString()\n\n        val currentPrice = (12000 * character.quantity)\n        holder.price.text = currentPrice.toString()\n\n        Glide.with(holder.itemView)\n            .load(character.image)\n            .thumbnail(0.1f)\n            .into(holder.image)\n\n        holder.btnAdd.setOnClickListener{\n            ++character.quantity\n            updateFields(holder, position)\n        }\n        holder.btnRemove.setOnClickListener{\n            if (character.quantity &gt; 0){\n                --character.quantity\n                updateFields(holder, position)\n            }\n        }\n    }\n\n    private fun updateTotal(){\n        var total = 0\n\n        characters.forEach { character -&gt;\n            total += when(character.status) {\n                &quot;Alive&quot; -&gt; character.quantity * 14400\n                &quot;Dead&quot; -&gt; character.quantity * 9600\n                else -&gt; character.quantity * 12000\n            }\n        }\n        tvTotalPrice.text =  &quot;\\$$total&quot;\n    }\n\n    private fun updateFields(holder: ViewHolder, position: Int){\n        val character = characters[position]\n        holder.quantity.text = character.quantity.toString()\n        val currentPrice = (12000 * character.quantity)\n        var totalBalance = 0\n        totalBalance = when(characters[position].status) {\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\n            else -&gt; currentPrice\n        }\n        holder.price.text = totalBalance.toString()\n        updateTotal()\n    }\n\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        val image: ImageView = binding.characterImage\n        val name: TextView = binding.characterName\n        val price: TextView = binding.tvPrice\n        val quantity: TextView = binding.tvCurrentQuantity\n        val btnAdd: Button = binding.buttonAdd\n        val btnRemove: Button = binding.buttonRemove\n    }\n\n    fun updateCharacters(characters: List&lt;Character&gt;) {\n        this.characters = characters\n        notifyDataSetChanged()\n    }\n\n}\n</code></pre>\n<p>I have to build a button that allows to click to go to a new fragment view and only display the selected elements.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"score":0,"creation_date":1678293614,"post_id":75675538,"comment_id":133505724,"body_markdown":"Not work for me  get an empty data in browser","body":"Not work for me  get an empty data in browser"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1678294009,"post_id":75675538,"comment_id":133505854,"body_markdown":"And if you use the h2-console? Can you see the data? http://localhost:8080/h2-console","body":"And if you use the h2-console? Can you see the data? <a href=\"http://localhost:8080/h2-console\" rel=\"nofollow noreferrer\">localhost:8080/h2-console</a>"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1678294052,"post_id":75675538,"comment_id":133505876,"body_markdown":"Set for the h2-console in application.properites: spring.h2.console.enabled=true \nspring.h2.console.path=/console","body":"Set for the h2-console in application.properites: spring.h2.console.enabled=true  spring.h2.console.path=/console"},{"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"score":0,"creation_date":1678294378,"post_id":75675538,"comment_id":133505981,"body_markdown":"I find data in h2 console but in browser data get empty","body":"I find data in h2 console but in browser data get empty"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1678294461,"post_id":75675538,"comment_id":133506008,"body_markdown":"Very good. Then the problem is not the loading of the data. One more small note: I find date as a name for the database field a bit unfortunate. date could be a keyword, maybe not in h2, but in another database.","body":"Very good. Then the problem is not the loading of the data. One more small note: I find date as a name for the database field a bit unfortunate. date could be a keyword, maybe not in h2, but in another database."},{"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"score":0,"creation_date":1678294951,"post_id":75675538,"comment_id":133506161,"body_markdown":"but when i send data from postman in h2 console, i find the data i transferred is null","body":"but when i send data from postman in h2 console, i find the data i transferred is null"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1678295157,"post_id":75675538,"comment_id":133506232,"body_markdown":"And when you make a GET request with Postman, you don&#39;t see any data either? Basically, everything looks good.","body":"And when you make a GET request with Postman, you don&#39;t see any data either? Basically, everything looks good."},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1678295947,"post_id":75675538,"comment_id":133506467,"body_markdown":"Tricky. I&#39;m afraid I can&#39;t help you here. But good luck!","body":"Tricky. I&#39;m afraid I can&#39;t help you here. But good luck!"},{"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"score":0,"creation_date":1678382084,"post_id":75675538,"comment_id":133525880,"body_markdown":"Thank you very much finally I changed eclipse editor and I used intileji it work","body":"Thank you very much finally I changed eclipse editor and I used intileji it work"}],"tags":[],"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293315,"creation_date":1678292197,"answer_id":75675538,"question_id":75675470,"body_markdown":"Set in application.properties the path to the data file:\r\n\r\n\r\n    spring.datasource.platform=h2\r\n    spring.datasource.schema=classpath:/h2/schema-h2.sql\r\n    spring.datasource.data=classpath:/h2/data-h2.sql\r\n\r\n\r\nThe data file is located in the resources/h2 directory with the name data-h2.sql for this example.","title":"Spring boot Rest API give empty data in browser","body":"<p>Set in application.properties the path to the data file:</p>\n<pre><code>spring.datasource.platform=h2\nspring.datasource.schema=classpath:/h2/schema-h2.sql\nspring.datasource.data=classpath:/h2/data-h2.sql\n</code></pre>\n<p>The data file is located in the resources/h2 directory with the name data-h2.sql for this example.</p>\n"}],"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678293315,"creation_date":1678291829,"question_id":75675470,"body_markdown":"Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn&#39;t inserted into the database however tables are created successfully when I call the findAll API I get an empty data.\r\n\r\nthis is application.properties\r\n```\r\nserver.port=8080\r\nspring.h2.console.enabled=true\r\nspring.jpa.show-sql=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:todo\r\nspring.datasource.username=to\r\nspring.datasource.password=\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\r\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \r\n\r\n\r\n```\r\nthis is todo.java\r\n```\r\npackage todo.model;\r\n\r\nimport java.time.LocalDate;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;todo&quot;)\r\npublic class Todo {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String task;\r\n\tprivate LocalDate date;\r\n\tprivate boolean isDone;\r\n\r\n}\r\n\r\n```\r\nthis todo.repository\r\n```\r\npackage todo.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport todo.model.Todo;\r\n\r\n@Repository\r\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\r\n\r\n}\r\n```\r\nthis is todo.controller\r\n```\r\n\r\npackage todo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport todo.model.Todo;\r\nimport todo.repositories.TodoRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/todo&quot;)\r\npublic class TodoController {\r\n\r\n\t@Autowired\r\n\tTodoRepository todoRepository;\r\n\r\n\t@GetMapping(&quot;/findall&quot;)\r\n\tpublic List&lt;Todo&gt; fetchAll() {\r\n\r\n\t\treturn this.todoRepository.findAll();\r\n\r\n\t}\r\n\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\r\n\r\n\t}\r\n}\r\n\r\n```\r\nthis is data.sql\r\n```\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;sleep&#39;,&#39;200-12-05&#39;,false);\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;down&#39;,&#39;2001-12-05&#39;,true);\r\n\r\n\r\n```\r\n\r\n","title":"Spring boot Rest API give empty data in browser","body":"<p>Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn't inserted into the database however tables are created successfully when I call the findAll API I get an empty data.</p>\n<p>this is application.properties</p>\n<pre><code>server.port=8080\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:todo\nspring.datasource.username=to\nspring.datasource.password=\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \n\n\n</code></pre>\n<p>this is todo.java</p>\n<pre><code>package todo.model;\n\nimport java.time.LocalDate;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;todo&quot;)\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String task;\n    private LocalDate date;\n    private boolean isDone;\n\n}\n\n</code></pre>\n<p>this todo.repository</p>\n<pre><code>package todo.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport todo.model.Todo;\n\n@Repository\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\n\n}\n</code></pre>\n<p>this is todo.controller</p>\n<pre><code>\npackage todo.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport todo.model.Todo;\nimport todo.repositories.TodoRepository;\n\n@RestController\n@RequestMapping(&quot;/todo&quot;)\npublic class TodoController {\n\n    @Autowired\n    TodoRepository todoRepository;\n\n    @GetMapping(&quot;/findall&quot;)\n    public List&lt;Todo&gt; fetchAll() {\n\n        return this.todoRepository.findAll();\n\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\n\n        return new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\n\n    }\n}\n\n</code></pre>\n<p>this is data.sql</p>\n<pre><code>INSERT INTO todo (task,date,is_done) VALUES ('sleep','200-12-05',false);\nINSERT INTO todo (task,date,is_done) VALUES ('down','2001-12-05',true);\n\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5181005,"reputation":2233,"user_id":4146722,"display_name":"Pratik Tank"},"score":1,"creation_date":1505554738,"post_id":46252389,"comment_id":79468288,"body_markdown":"Possible duplicate of [Simple way to count character occurrences in a string](https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string\">Simple way to count character occurrences in a string</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505554874,"post_id":46252389,"comment_id":79468334,"body_markdown":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need","body":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need"},{"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"score":1,"creation_date":1505555077,"post_id":46252389,"comment_id":79468399,"body_markdown":"Possible duplicate of [Find occurrences of characters in a Java String](https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string\">Find occurrences of characters in a Java String</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505555626,"post_id":46252389,"comment_id":79468560,"body_markdown":"Who has down voted my question , Please dnt do this again without reading the question. \nI am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;","body":"Who has down voted my question , Please dnt do this again without reading the question.  I am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555898,"creation_date":1505554911,"answer_id":46252436,"question_id":46252389,"body_markdown":"try this\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int cnt=0;\r\n       for (int i=0;i&lt;one.length();i++){\r\n           for (int j=0;j&lt;two.length();j++){\r\n                if(one.charAt(i) == two.charAt(j) ){\r\n                    cnt++;\r\n                }\r\n            }\r\n        }\r\n\r\n    Toast.makeText(this, &quot;count&quot;+cnt, Toast.LENGTH_SHORT).show();","title":"Count of of characters matched in sequence of two string","body":"<p>try this</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint cnt=0;\n   for (int i=0;i&lt;one.length();i++){\n       for (int j=0;j&lt;two.length();j++){\n            if(one.charAt(i) == two.charAt(j) ){\n                cnt++;\n            }\n        }\n    }\n\nToast.makeText(this, \"count\"+cnt, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505556589,"creation_date":1505554971,"answer_id":46252448,"question_id":46252389,"body_markdown":"Maybe something like this will do it.\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int counter = 0;\r\n\r\n    // Iterate over the string character by character - stop when reaching the\r\n    // end of the shortest string\r\n    for( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\r\n        // Compare the strings character at the current position/index\r\n        if(one.charAt(i) == two.charAt(i)) {\r\n            // The characters matched so increment the counter\r\n            counter++;\r\n        } \r\n    }","title":"Count of of characters matched in sequence of two string","body":"<p>Maybe something like this will do it.</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint counter = 0;\n\n// Iterate over the string character by character - stop when reaching the\n// end of the shortest string\nfor( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\n    // Compare the strings character at the current position/index\n    if(one.charAt(i) == two.charAt(i)) {\n        // The characters matched so increment the counter\n        counter++;\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555056,"creation_date":1505555056,"answer_id":46252459,"question_id":46252389,"body_markdown":"\r\n    import java.io.*;\r\n    import java.util.*;\r\n    class happy {\r\n        public static void main(String args[])\r\n        {\r\n            String one=&quot;ABCDEFGHIJK&quot;;\r\n            String two=&quot;ZANDEFGHOPQ&quot;;\r\n            int a=0,c=0;\r\n            if(one.length()&lt;two.length())\r\n                a=one.length();\r\n            else\r\n                a=two.length();\r\n\t        for(int i=0;i&lt;a;i++)\r\n            {\r\n                if(one.charAt(i)==(two.charAt(i)))\r\n                    c++;\r\n            }\r\n            System.out.println(c);\r\n        }\r\n    }\r\n","title":"Count of of characters matched in sequence of two string","body":"<pre><code>import java.io.*;\nimport java.util.*;\nclass happy {\n    public static void main(String args[])\n    {\n        String one=\"ABCDEFGHIJK\";\n        String two=\"ZANDEFGHOPQ\";\n        int a=0,c=0;\n        if(one.length()&lt;two.length())\n            a=one.length();\n        else\n            a=two.length();\n        for(int i=0;i&lt;a;i++)\n        {\n            if(one.charAt(i)==(two.charAt(i)))\n                c++;\n        }\n        System.out.println(c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8537036"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555575,"creation_date":1505555575,"answer_id":46252542,"question_id":46252389,"body_markdown":"    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString one=&quot;ABCDEFGHIJK&quot;;\r\n\t\tString two=&quot;ZANDEFGHOPQ&quot;;\r\n\t\tint size1 = one.length();\r\n\t\tint size2 = two.length();\r\n\t\tint i = 0;\r\n\t\tint j = (size1 &gt;= size2 ? size2 : size1);\r\n\t\tchar[] oneTab = one.toCharArray();\r\n\t\tchar[] twoTab = two.toCharArray();\r\n\t\tint k = 0;\r\n\t\tfor(i = 0; i&lt; j; i++){\r\n\t\t\tif((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\r\n\t\t\t\tk = k+1;\r\n\t\t\t};\r\n\t\t};\r\n\t\tSystem.out.println(k);\t\t\r\n\t}\r\n}","title":"Count of of characters matched in sequence of two string","body":"<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    String one=\"ABCDEFGHIJK\";\n    String two=\"ZANDEFGHOPQ\";\n    int size1 = one.length();\n    int size2 = two.length();\n    int i = 0;\n    int j = (size1 &gt;= size2 ? size2 : size1);\n    char[] oneTab = one.toCharArray();\n    char[] twoTab = two.toCharArray();\n    int k = 0;\n    for(i = 0; i&lt; j; i++){\n        if((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\n            k = k+1;\n        };\n    };\n    System.out.println(k);      \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9785479,"reputation":101,"user_id":7829081,"display_name":"I_Really_Want_To_Heal_Myself"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292938,"creation_date":1678292938,"answer_id":75675690,"question_id":46252389,"body_markdown":"I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing *len* in the loop by its definition.\r\n\r\n```java\r\npublic class TestClass {\r\n    public static void main(String[] args) {\r\n        String one = &quot;ABCDEFGHIJK&quot;;\r\n        String two = &quot;ZANDEFGHOPQ&quot;;\r\n        int len = Math.min(one.length(), two.length());\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\r\n        }\r\n        System.out.println(counter);\r\n    }\r\n}\r\n```","title":"Count of of characters matched in sequence of two string","body":"<p>I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing <em>len</em> in the loop by its definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        String one = &quot;ABCDEFGHIJK&quot;;\n        String two = &quot;ZANDEFGHOPQ&quot;;\n        int len = Math.min(one.length(), two.length());\n        int counter = 0;\n        for (int i = 0; i &lt; len; i++) {\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\n        }\n        System.out.println(counter);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1678292938,"creation_date":1505554531,"question_id":46252389,"body_markdown":"I want to match two string  and get how many chars matched in sequence. \r\nLike :\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n\r\nlike you can see that it must return 5 chars in sequence matched because **DEFGH** are exist on both sequence.\r\n\r\n\r\nThanks","title":"Count of of characters matched in sequence of two string","body":"<p>I want to match two string  and get how many chars matched in sequence. \nLike :</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\n</code></pre>\n\n<p>like you can see that it must return 5 chars in sequence matched because <strong>DEFGH</strong> are exist on both sequence.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","time","libgdx"],"comments":[{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1388974837,"post_id":20941866,"comment_id":31450788,"body_markdown":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?","body":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?"},{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":2,"creation_date":1389050158,"post_id":20941866,"comment_id":31486994,"body_markdown":"duration is the final time of the music : e.g 3 mins 30","body":"duration is the final time of the music : e.g 3 mins 30"},{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1389059814,"post_id":20941866,"comment_id":31489987,"body_markdown":"yea, i don&#39;t think libgdx has built-in functions to simple get that info.","body":"yea, i don&#39;t think libgdx has built-in functions to simple get that info."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1607508045,"post_id":20941866,"comment_id":115291937,"body_markdown":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing.","body":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing."}],"answers":[{"comments":[{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":0,"creation_date":1389050401,"post_id":20942424,"comment_id":31487094,"body_markdown":"Ok so it&#39;s not possible with libgdx, I will search to do this with another lib","body":"Ok so it&#39;s not possible with libgdx, I will search to do this with another lib"},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1607508297,"post_id":20942424,"comment_id":115292055,"body_markdown":"Thanks for the definition of the word &#39;duration&#39; at least. The duration of the music WITH looping you can calculate yourself as &#39;until the end of the universe&#39;.","body":"Thanks for the definition of the word &#39;duration&#39; at least. The duration of the music WITH looping you can calculate yourself as &#39;until the end of the universe&#39;."}],"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1388978289,"creation_date":1388978289,"answer_id":20942424,"question_id":20941866,"body_markdown":"To be clear by &quot;duration&quot; you mean the total time the music would play without looping.\r\n\r\nI don&#39;t think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).\r\n\r\nYou may be able to get this information out of the files you&#39;re loading into system, though (e.g., if they&#39;re wav or mp3 files there should be APIs to query their duration).","title":"Libgdx get duration of a Music","body":"<p>To be clear by \"duration\" you mean the total time the music would play without looping.</p>\n\n<p>I don't think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).</p>\n\n<p>You may be able to get this information out of the files you're loading into system, though (e.g., if they're wav or mp3 files there should be APIs to query their duration).</p>\n"},{"comments":[{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":0,"creation_date":1389050207,"post_id":20957878,"comment_id":31487022,"body_markdown":"Im looking to get the final time of the music, the lenght","body":"Im looking to get the final time of the music, the lenght"},{"owner":{"account_id":3259572,"reputation":301,"user_id":2745392,"accept_rate":83,"display_name":"srikanth"},"score":0,"creation_date":1389135716,"post_id":20957878,"comment_id":31529440,"body_markdown":"take a timer nd using the function call \n`boolean isPlaying = music.isPlaying();`\nkeep checking it.... when it returns false get the timer count, that is ur duration of song.... knw this is not the exact function u asked for...but this works for ur cause i hope...","body":"take a timer nd using the function call  <code>boolean isPlaying = music.isPlaying();</code> keep checking it.... when it returns false get the timer count, that is ur duration of song.... knw this is not the exact function u asked for...but this works for ur cause i hope..."},{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":1,"creation_date":1389137346,"post_id":20957878,"comment_id":31530150,"body_markdown":"no it&#39;s so bad !, it&#39;s need to play whole the music just to get the final time, so if my music is 6 min long, I can&#39;t wait that time, it&#39;s so bad sorry.","body":"no it&#39;s so bad !, it&#39;s need to play whole the music just to get the final time, so if my music is 6 min long, I can&#39;t wait that time, it&#39;s so bad sorry."},{"owner":{"account_id":3671296,"reputation":2453,"user_id":3058454,"accept_rate":17,"display_name":"Neerkoli"},"score":0,"creation_date":1484398790,"post_id":20957878,"comment_id":70499223,"body_markdown":"OP specifically asked for the duration of the file.","body":"OP specifically asked for the duration of the file."}],"tags":[],"owner":{"account_id":3259572,"reputation":301,"user_id":2745392,"accept_rate":83,"display_name":"srikanth"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1389037155,"creation_date":1389037155,"answer_id":20957878,"question_id":20941866,"body_markdown":"if ur looking to stop the music when u want then by using\r\n\r\n    music.stop(); \r\nor pause the music by \r\n\r\n    music.pause(); \r\nor for other tasks refer to this link  https://github.com/libgdx/libgdx/wiki/Streaming-music \r\n","title":"Libgdx get duration of a Music","body":"<p>if ur looking to stop the music when u want then by using</p>\n\n<pre><code>music.stop(); \n</code></pre>\n\n<p>or pause the music by </p>\n\n<pre><code>music.pause(); \n</code></pre>\n\n<p>or for other tasks refer to this link  <a href=\"https://github.com/libgdx/libgdx/wiki/Streaming-music\" rel=\"nofollow\">https://github.com/libgdx/libgdx/wiki/Streaming-music</a> </p>\n"},{"comments":[{"owner":{"account_id":3671296,"reputation":2453,"user_id":3058454,"accept_rate":17,"display_name":"Neerkoli"},"score":0,"creation_date":1484401053,"post_id":25549916,"comment_id":70499853,"body_markdown":"`Mpg123Decoder` is now deprecated. Is there an alternative method?","body":"<code>Mpg123Decoder</code> is now deprecated. Is there an alternative method?"}],"tags":[],"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409245990,"creation_date":1409232220,"answer_id":25549916,"question_id":20941866,"body_markdown":"Its an old question but I will give my answer for the future visitors\r\n\r\nTo get the duration of a music file you can use the gdx-audio extension.\r\n\r\n\t\tFileHandle file=Gdx.files.internal(filepath);\r\n\t\tFileHandle external=Gdx.files.external(&quot;mygame/&quot;+filepath);\r\n\t\tif(!external.exists())file.copyTo(external); //copy the file to the external storage \r\n\t\tMpg123Decoder\tdecoder = new Mpg123Decoder(external);\r\n\t\tSystem.out.println(&quot;name:&quot;+filepath+&quot;  duration:&quot;+decoder.getLength());","title":"Libgdx get duration of a Music","body":"<p>Its an old question but I will give my answer for the future visitors</p>\n\n<p>To get the duration of a music file you can use the gdx-audio extension.</p>\n\n<pre><code>    FileHandle file=Gdx.files.internal(filepath);\n    FileHandle external=Gdx.files.external(\"mygame/\"+filepath);\n    if(!external.exists())file.copyTo(external); //copy the file to the external storage \n    Mpg123Decoder   decoder = new Mpg123Decoder(external);\n    System.out.println(\"name:\"+filepath+\"  duration:\"+decoder.getLength());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292898,"creation_date":1678292898,"answer_id":75675682,"question_id":20941866,"body_markdown":"You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:\r\n\r\n        float pos = 0;\r\n\t\tboolean repeat = true;\r\n\t\tmusic.play(); // no real sound output expected here\r\n\t\twhile (repeat) {\r\n\t\t\tpos += 1F; // seek second by second\r\n\t\t\tmusic.setPosition(pos);\r\n\t\t\trepeat = music.getPosition() != 0; // will reset to 0 when completed\r\n\t\t}\r\n\t\tmusic.stop();\r\n\t\tSystem.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\r\n\r\nBut it&#39;s a little ugly. Maybe better use a library like [Jaudiotagger][1] as recommended here: https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\r\n\r\n\r\n  [1]: https://www.jthink.net/jaudiotagger/","title":"Libgdx get duration of a Music","body":"<p>You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:</p>\n<pre><code>    float pos = 0;\n    boolean repeat = true;\n    music.play(); // no real sound output expected here\n    while (repeat) {\n        pos += 1F; // seek second by second\n        music.setPosition(pos);\n        repeat = music.getPosition() != 0; // will reset to 0 when completed\n    }\n    music.stop();\n    System.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\n</code></pre>\n<p>But it's a little ugly. Maybe better use a library like <a href=\"https://www.jthink.net/jaudiotagger/\" rel=\"nofollow noreferrer\">Jaudiotagger</a> as recommended here: <a href=\"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\">Check audio file duration in java</a></p>\n"}],"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1678292898,"creation_date":1388974284,"question_id":20941866,"body_markdown":"Im trying to get the duration of a Music, in libgdx\r\n\r\nIm **not** talking about :\r\n\r\n \tgetPosition();\r\n\r\nWhat I want is the Duration of the music. (in seconds)\r\n\r\nThanks","title":"Libgdx get duration of a Music","body":"<p>Im trying to get the duration of a Music, in libgdx</p>\n\n<p>Im <strong>not</strong> talking about :</p>\n\n<pre><code>getPosition();\n</code></pre>\n\n<p>What I want is the Duration of the music. (in seconds)</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","acl"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678326973,"post_id":75675666,"comment_id":133512602,"body_markdown":"Try setting `listeners=PLAINTEXT://0.0.0.0:9092` instead if you want to be able to connect remotely. Also, you don&#39;t need sudo","body":"Try setting <code>listeners=PLAINTEXT:&#47;&#47;0.0.0.0:9092</code> instead if you want to be able to connect remotely. Also, you don&#39;t need sudo"}],"owner":{"account_id":27100332,"reputation":3,"user_id":20647019,"display_name":"snigln"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678292838,"creation_date":1678292838,"question_id":75675666,"body_markdown":"So I&#180;m running zookeeper and kafka on the same machine, I&#180;ve modified the server.properties file as the following\r\n\r\n\r\n```\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the &quot;License&quot;); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#    http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n#\r\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\r\n# See kafka.server.KafkaConfig for additional details and defaults\r\n#\r\n\r\n############################# Server Basics #############################\r\n\r\n# The id of the broker. This must be set to a unique integer for each broker.\r\nbroker.id=0\r\n\r\n############################# Socket Server Settings #############################\r\n\r\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\r\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\r\n#   FORMAT:\r\n#     listeners = listener_name://host_name:port\r\n#   EXAMPLE:\r\n#     listeners = PLAINTEXT://your.host.name:9092\r\nlisteners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Listener name, hostname and port the broker will advertise to clients.\r\n# If not set, it uses the value for &quot;listeners&quot;.\r\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\r\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\n\r\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\r\nnum.network.threads=3\r\n\r\n# The number of threads that the server uses for processing requests, which may include disk I/O\r\nnum.io.threads=8\r\n\r\n# The send buffer (SO_SNDBUF) used by the socket server\r\nsocket.send.buffer.bytes=102400\r\n\r\n# The receive buffer (SO_RCVBUF) used by the socket server\r\nsocket.receive.buffer.bytes=102400\r\n\r\n# The maximum size of a request that the socket server will accept (protection against OOM)\r\nsocket.request.max.bytes=104857600\r\n\r\n# Enables ACL authorizer by configuring class name\r\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\r\n\r\n############################# Log Basics #############################\r\n\r\n# A comma separated list of directories under which to store log files\r\nlog.dirs=/tmp/kafka-logs\r\n\r\n# The default number of log partitions per topic. More partitions allow greater\r\n# parallelism for consumption, but this will also result in more files across\r\n# the brokers.\r\nnum.partitions=1\r\n\r\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\r\n# This value is recommended to be increased for installations with data dirs located in RAID array.\r\nnum.recovery.threads.per.data.dir=1\r\n\r\n############################# Internal Topic Settings  #############################\r\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\r\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\r\noffsets.topic.replication.factor=1\r\ntransaction.state.log.replication.factor=1\r\ntransaction.state.log.min.isr=1\r\n\r\n############################# Log Flush Policy #############################\r\n\r\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\r\n# the OS cache lazily. The following configurations control the flush of data to disk.\r\n# There are a few important trade-offs here:\r\n#    1. Durability: Unflushed data may be lost if you are not using replication.\r\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\r\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\r\n# The settings below allow one to configure the flush policy to flush data after a period of time or\r\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\r\n\r\n# The number of messages to accept before forcing a flush of data to disk\r\n#log.flush.interval.messages=10000\r\n\r\n# The maximum amount of time a message can sit in a log before we force a flush\r\n#log.flush.interval.ms=1000\r\n\r\n############################# Log Retention Policy #############################\r\n\r\n# The following configurations control the disposal of log segments. The policy can\r\n# be set to delete segments after a period of time, or after a given size has accumulated.\r\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\r\n# from the end of the log.\r\n\r\n# The minimum age of a log file to be eligible for deletion due to age\r\nlog.retention.hours=168\r\n\r\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\r\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\r\n#log.retention.bytes=1073741824\r\n\r\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\r\n#log.segment.bytes=1073741824\r\n\r\n# The interval at which log segments are checked to see if they can be deleted according\r\n# to the retention policies\r\nlog.retention.check.interval.ms=300000\r\n\r\n############################# Zookeeper #############################\r\n\r\n# Zookeeper connection string (see zookeeper docs for details).\r\n# This is a comma separated host:port pairs, each corresponding to a zk\r\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\r\n# You can also append an optional chroot string to the urls to specify the\r\n# root directory for all kafka znodes.\r\nzookeeper.connect=localhost:2181\r\n\r\n# Timeout in ms for connecting to zookeeper\r\nzookeeper.connection.timeout.ms=18000\r\n\r\n\r\n############################# Group Coordinator Settings #############################\r\n\r\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\r\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\r\n# The default value for this is 3 seconds.\r\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\r\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\r\ngroup.initial.rebalance.delay.ms=0\r\n\r\n# Grant permissions to the Kafka admin user\r\nsuperUser=User:*;\r\n\r\n# Allow all clients to connect to the broker\r\nUser:*;Host:*,Permission:allow,Operation:All;\r\n\r\n# Grant read and write permissions to a specific topic\r\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\r\n\r\n```\r\n\r\n\r\nSo when i try add a ACL with this command for example:\r\n&gt; sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test\r\n\r\nI get this crash message:\r\n\r\n```\r\nAdding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\r\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\r\n\r\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\r\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\r\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\r\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\r\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\r\n        at kafka.admin.AclCommand.main(AclCommand.scala)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n```\r\n\r\n\r\nIt seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I can&#180;t seem to find the issue about this line and every guide that I could find have the exact same line. \r\n\r\nI&#180;ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.","title":"Error whilst creating ACL on Apache Kafka","body":"<p>So I´m running zookeeper and kafka on the same machine, I´ve modified the server.properties file as the following</p>\n<pre><code># Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\n# See kafka.server.KafkaConfig for additional details and defaults\n#\n\n############################# Server Basics #############################\n\n# The id of the broker. This must be set to a unique integer for each broker.\nbroker.id=0\n\n############################# Socket Server Settings #############################\n\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\n#   FORMAT:\n#     listeners = listener_name://host_name:port\n#   EXAMPLE:\n#     listeners = PLAINTEXT://your.host.name:9092\nlisteners=PLAINTEXT://192.168.1.88:9092\n\n# Listener name, hostname and port the broker will advertise to clients.\n# If not set, it uses the value for &quot;listeners&quot;.\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\n\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\nnum.network.threads=3\n\n# The number of threads that the server uses for processing requests, which may include disk I/O\nnum.io.threads=8\n\n# The send buffer (SO_SNDBUF) used by the socket server\nsocket.send.buffer.bytes=102400\n\n# The receive buffer (SO_RCVBUF) used by the socket server\nsocket.receive.buffer.bytes=102400\n\n# The maximum size of a request that the socket server will accept (protection against OOM)\nsocket.request.max.bytes=104857600\n\n# Enables ACL authorizer by configuring class name\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\n\n############################# Log Basics #############################\n\n# A comma separated list of directories under which to store log files\nlog.dirs=/tmp/kafka-logs\n\n# The default number of log partitions per topic. More partitions allow greater\n# parallelism for consumption, but this will also result in more files across\n# the brokers.\nnum.partitions=1\n\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\n# This value is recommended to be increased for installations with data dirs located in RAID array.\nnum.recovery.threads.per.data.dir=1\n\n############################# Internal Topic Settings  #############################\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\noffsets.topic.replication.factor=1\ntransaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\n############################# Log Flush Policy #############################\n\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\n# the OS cache lazily. The following configurations control the flush of data to disk.\n# There are a few important trade-offs here:\n#    1. Durability: Unflushed data may be lost if you are not using replication.\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\n# The settings below allow one to configure the flush policy to flush data after a period of time or\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\n\n# The number of messages to accept before forcing a flush of data to disk\n#log.flush.interval.messages=10000\n\n# The maximum amount of time a message can sit in a log before we force a flush\n#log.flush.interval.ms=1000\n\n############################# Log Retention Policy #############################\n\n# The following configurations control the disposal of log segments. The policy can\n# be set to delete segments after a period of time, or after a given size has accumulated.\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\n# from the end of the log.\n\n# The minimum age of a log file to be eligible for deletion due to age\nlog.retention.hours=168\n\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\n#log.retention.bytes=1073741824\n\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\n#log.segment.bytes=1073741824\n\n# The interval at which log segments are checked to see if they can be deleted according\n# to the retention policies\nlog.retention.check.interval.ms=300000\n\n############################# Zookeeper #############################\n\n# Zookeeper connection string (see zookeeper docs for details).\n# This is a comma separated host:port pairs, each corresponding to a zk\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\n# You can also append an optional chroot string to the urls to specify the\n# root directory for all kafka znodes.\nzookeeper.connect=localhost:2181\n\n# Timeout in ms for connecting to zookeeper\nzookeeper.connection.timeout.ms=18000\n\n\n############################# Group Coordinator Settings #############################\n\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\n# The default value for this is 3 seconds.\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\ngroup.initial.rebalance.delay.ms=0\n\n# Grant permissions to the Kafka admin user\nsuperUser=User:*;\n\n# Allow all clients to connect to the broker\nUser:*;Host:*,Permission:allow,Operation:All;\n\n# Grant read and write permissions to a specific topic\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\n\n</code></pre>\n<p>So when i try add a ACL with this command for example:</p>\n<blockquote>\n<p>sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test</p>\n</blockquote>\n<p>I get this crash message:</p>\n<pre><code>Adding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\n\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\n        at kafka.admin.AclCommand.main(AclCommand.scala)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n</code></pre>\n<p>It seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I can´t seem to find the issue about this line and every guide that I could find have the exact same line.</p>\n<p>I´ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.</p>\n"},{"tags":["java","testcontainers","localstack"],"answers":[{"tags":[],"owner":{"account_id":27965298,"reputation":86,"user_id":21356283,"display_name":"bentsku"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678291898,"creation_date":1678291866,"answer_id":75675478,"question_id":75660363,"body_markdown":"It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\r\nCould try replacing the network alias with the followings?\r\n\r\n```\r\npublic class LocalStackContainerExtended extends LocalStackContainer {\r\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n   // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\r\n   // You need to also include an alias for the to-be-created bucket\r\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\r\n\r\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n       super(dockerImageName);\r\n\r\n       withServices(Service.S3);\r\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\r\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\r\n   }\r\n\r\n   @Override\r\n   public void start() {\r\n       super.start();\r\n       try {\r\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n       } catch (Exception e) {\r\n           throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nWhen receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.\r\n\r\nMore informations about virtual host addressing in LocalStack: https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\r\n\r\nYou then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use `LOCALSTACK_S3_NETWORK_ALIAS ` as the `overrideEndpoint` (but beware, only for the client targeting S3!). Most other clients can use the endpoint `localstack:4566` pointing to your container. \r\n\r\n```\r\npublic class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n   ...\r\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\r\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n   }\r\n   ...\r\n}\r\n```","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\nCould try replacing the network alias with the followings?</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\n   // You need to also include an alias for the to-be-created bucket\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>When receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.</p>\n<p>More informations about virtual host addressing in LocalStack: <a href=\"https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/user-guide/aws/s3/#getting-started</a></p>\n<p>You then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use <code>LOCALSTACK_S3_NETWORK_ALIAS </code> as the <code>overrideEndpoint</code> (but beware, only for the client targeting S3!). Most other clients can use the endpoint <code>localstack:4566</code> pointing to your container.</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678291898,"creation_date":1678182722,"question_id":75660363,"body_markdown":"Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can&#39;t get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.\r\n\r\nMy extended Testcontainer looks like this:\r\n\r\n    public class LocalStackContainerExtended extends LocalStackContainer {\r\n       public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n       // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n       public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\r\n\r\n       public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n           super(dockerImageName);\r\n\r\n           withServices(Service.S3);\r\n           withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\r\n       }\r\n\r\n       @Override\r\n       public void start() {\r\n           super.start();\r\n           try {\r\n               execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n           } catch (Exception e) {\r\n               throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nAWS SDK client config for the component that needs to talk with Localstack:\r\n\r\n    @Bean\r\n    // AwsConfigService collection class of aws override values\r\n    public S3Client getS3Client(AwsConfigService awsConfigService) {\r\n        S3ClientBuilder builder = S3Client.builder()\r\n            .region(awsConfigService.getRegion());\r\n\r\n        return awsConfigService.getOverrideEndpoint()\r\n            .map(URI::create)\r\n            .map(builder::endpointOverride)\r\n            .orElse(builder).build();\r\n    }\r\n\r\nTestcontainer setup for the component:\r\n\r\n    public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n       ...\r\n       public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n          withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n          String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\r\n          withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n       }\r\n       ...\r\n    }\r\n\r\nBut when running tests between the the client and Testcontainer I always get the following error:\r\n\r\n&gt; The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp\r\n\r\nWhat have I miss-configured or what is missing?","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can't get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.</p>\n<p>My extended Testcontainer looks like this:</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>AWS SDK client config for the component that needs to talk with Localstack:</p>\n<pre><code>@Bean\n// AwsConfigService collection class of aws override values\npublic S3Client getS3Client(AwsConfigService awsConfigService) {\n    S3ClientBuilder builder = S3Client.builder()\n        .region(awsConfigService.getRegion());\n\n    return awsConfigService.getOverrideEndpoint()\n        .map(URI::create)\n        .map(builder::endpointOverride)\n        .orElse(builder).build();\n}\n</code></pre>\n<p>Testcontainer setup for the component:</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n<p>But when running tests between the the client and Testcontainer I always get the following error:</p>\n<blockquote>\n<p>The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp</p>\n</blockquote>\n<p>What have I miss-configured or what is missing?</p>\n"},{"tags":["java","android","ios","kotlin"],"answers":[{"comments":[{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1678437238,"post_id":75675343,"comment_id":133535662,"body_markdown":"Apple solution is much better : 1) the user does not quit the app 2) can install the app directly from the panel coming over the app. Same difference as allowing rating in the app or redirecting the user to the store to rate ; not at all the same user experience.","body":"Apple solution is much better : 1) the user does not quit the app 2) can install the app directly from the panel coming over the app. Same difference as allowing rating in the app or redirecting the user to the store to rate ; not at all the same user experience."}],"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678291186,"creation_date":1678291186,"answer_id":75675343,"question_id":75675247,"body_markdown":"You can create a link to your playstore app and have an icon with your other app&#39;s icon. Post that fire a intent to go to the market and open your app install page\r\n\r\n```\r\nstartActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\r\n```","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>You can create a link to your playstore app and have an icon with your other app's icon. Post that fire a intent to go to the market and open your app install page</p>\n<pre><code>startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\n</code></pre>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678291186,"creation_date":1678290619,"question_id":75675247,"body_markdown":"I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.\r\n\r\nIs it possible to do that on Android ?\r\n\r\nThanks.","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.</p>\n<p>Is it possible to do that on Android ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","lazy-loading"],"comments":[{"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"score":0,"creation_date":1386347000,"post_id":20428560,"comment_id":30514054,"body_markdown":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?","body":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1386347003,"post_id":20428560,"comment_id":30514057,"body_markdown":"`totalMemory()` may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current **and future** objects, measured in bytes.&quot; (http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory())","body":"<code>totalMemory()</code> may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current <b>and future</b> objects, measured in bytes.&quot; (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>)"},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":2,"creation_date":1386347017,"post_id":20428560,"comment_id":30514074,"body_markdown":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility.","body":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1386347313,"post_id":20428560,"comment_id":30514238,"body_markdown":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them.","body":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386347763,"post_id":20428560,"comment_id":30514515,"body_markdown":"I&#39;ve added an example of how it looks with a couple sample properties.","body":"I&#39;ve added an example of how it looks with a couple sample properties."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1386348203,"post_id":20428560,"comment_id":30514790,"body_markdown":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern.","body":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386348583,"post_id":20428560,"comment_id":30515018,"body_markdown":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern.","body":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern."}],"answers":[{"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":2,"creation_date":1386347843,"post_id":20428942,"comment_id":30514560,"body_markdown":"`instance` needs to be `volatile` for double-checked locking to be correct.","body":"<code>instance</code> needs to be <code>volatile</code> for double-checked locking to be correct."},{"owner":{"account_id":208605,"reputation":5894,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"score":0,"creation_date":1386348608,"post_id":20428942,"comment_id":30515037,"body_markdown":"To improve approach-1, you could use a LRU cache (LinkedHasMap) implementation with a cap of say 10, that way you system will automagically keep on dropping off properties that are not used, bringing down the memory foot-print of your class.","body":"To improve approach-1, you could use a LRU cache (LinkedHasMap) implementation with a cap of say 10, that way you system will automagically keep on dropping off properties that are not used, bringing down the memory foot-print of your class."}],"tags":[],"owner":{"account_id":208605,"reputation":5894,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386348193,"creation_date":1386347625,"answer_id":20428942,"question_id":20428560,"body_markdown":"**Approach 1**&lt;br&gt;\r\nHere&#39;s another approach you could use given the `NodeConfig` code: \r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pTwoWay;\r\n        public NodeProperty pBinary;\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n        \r\n        public NodeProperty getProperty(NodePropertyEnum nodeProp) {\r\n            switch(nodeProp) {\r\n                case TWO_WAY: \r\n                    if (pTwoWay != null) {return pTwoWay;}\r\n                    pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE ); \r\n                case BINARY_MODE: \r\n                    if (pBinary != null) {return pBinary;}\r\n                    pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.VISIBLE); \r\n                // other cases\r\n                default: \r\n                    throw new IllegalArgumentException();\r\n            }\r\n        }\r\n    }\r\n\r\n**Approach 2**&lt;BR&gt;\r\nLooks like a case for `Singleton` design pattern. Rather than checking for `propOne` instance to be `null`, it will be better if you make all Property classes singleton. Something like: \r\n\r\n    public class NodeProperty {\r\n        \r\n        private static volatile NodeProperty instance = null;\r\n        \r\n        private NodeProperty() {\r\n            // instantiatin logic\r\n        }\r\n        \r\n        public NodeProperty getInstance() {\r\n            if(instance == null) {\r\n                synchronized(NodeProperty.class) {\r\n                    if(instance==null) {\r\n                        instance = new NodeProperty();\r\n                    }\r\n                } \r\n            }\r\n        }\r\n\r\n    }\r\n\r\n","title":"Less verbose way to do lazy loading","body":"<p><strong>Approach 1</strong><br>\nHere's another approach you could use given the <code>NodeConfig</code> code: \n    public class NodeConfig {</p>\n\n<pre><code>    public NodeProperty pTwoWay;\n    public NodeProperty pBinary;\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n\n    public NodeProperty getProperty(NodePropertyEnum nodeProp) {\n        switch(nodeProp) {\n            case TWO_WAY: \n                if (pTwoWay != null) {return pTwoWay;}\n                pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE ); \n            case BINARY_MODE: \n                if (pBinary != null) {return pBinary;}\n                pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.VISIBLE); \n            // other cases\n            default: \n                throw new IllegalArgumentException();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Approach 2</strong><BR>\nLooks like a case for <code>Singleton</code> design pattern. Rather than checking for <code>propOne</code> instance to be <code>null</code>, it will be better if you make all Property classes singleton. Something like: </p>\n\n<pre><code>public class NodeProperty {\n\n    private static volatile NodeProperty instance = null;\n\n    private NodeProperty() {\n        // instantiatin logic\n    }\n\n    public NodeProperty getInstance() {\n        if(instance == null) {\n            synchronized(NodeProperty.class) {\n                if(instance==null) {\n                    instance = new NodeProperty();\n                }\n            } \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678290657,"creation_date":1386347757,"answer_id":20428998,"question_id":20428560,"body_markdown":"Guava&#39;s [Suppliers][1] library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn&#39;t have).\r\n\r\n    import com.google.common.base.Supplier;\r\n    import com.google.common.base.Suppliers;\r\n\r\n    private Supplier&lt;NodeProperty&gt; propOneSupplier =\r\n        Suppliers.memoize(() -&gt; new NodeProperty(...));\r\n\r\n    public NodeProperty propOne() {\r\n        return propOneSupplier.get();\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html","title":"Less verbose way to do lazy loading","body":"<p>Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html\" rel=\"nofollow noreferrer\">Suppliers</a> library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn't have).</p>\n<pre><code>import com.google.common.base.Supplier;\nimport com.google.common.base.Suppliers;\n\nprivate Supplier&lt;NodeProperty&gt; propOneSupplier =\n    Suppliers.memoize(() -&gt; new NodeProperty(...));\n\npublic NodeProperty propOne() {\n    return propOneSupplier.get();\n}\n</code></pre>\n"}],"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20428942,"answer_count":2,"score":1,"last_activity_date":1678290657,"creation_date":1386346440,"question_id":20428560,"body_markdown":"I am refactoring a class called `ConfigNode` that stores 50 &quot;properties&quot;. Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.\r\n\r\nCurrently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million `Config` objects, Java tells me I&#39;m using 2.5 gigs of memory. When I comment out the property instantiation, Java says I&#39;m using 300 MB.\r\n\r\nThe benchmark code I&#39;m using is\r\n\r\n    Runtime.getRuntime().gc();\r\n    // do my stuff\r\n    Runtime.getRuntime().gc();\r\n    long memory = Runtime.getRuntime().totalMemory();\r\n    System.out.println(&quot;Memory used: &quot; + memory / 1000000 + &quot; MB&quot;);\r\n\r\nSo I&#39;m thinking of rewriting the class to lazy load a property when it&#39;s accessed, but having to write something like \r\n\r\n    // This is probably not thread safe, so it could be even more verbose\r\n    public NodeProperty propOne() {\r\n       if (propOne == null) {\r\n          propOne = new NodeProperty( ... )\r\n       }\r\n       return propOne\r\n    }\r\n\r\nAnd then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?\r\n\r\nHere is how the NodeConfig looks like\r\n\r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pVersion = new NodeProperty( &quot;Spec Version&quot;, Status.REQUIRED, Visibility.HIDDEN);\r\n        public NodeProperty pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE );\r\n        public NodeProperty pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.HIDDEN);\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n    }\r\n","title":"Less verbose way to do lazy loading","body":"<p>I am refactoring a class called <code>ConfigNode</code> that stores 50 \"properties\". Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.</p>\n\n<p>Currently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million <code>Config</code> objects, Java tells me I'm using 2.5 gigs of memory. When I comment out the property instantiation, Java says I'm using 300 MB.</p>\n\n<p>The benchmark code I'm using is</p>\n\n<pre><code>Runtime.getRuntime().gc();\n// do my stuff\nRuntime.getRuntime().gc();\nlong memory = Runtime.getRuntime().totalMemory();\nSystem.out.println(\"Memory used: \" + memory / 1000000 + \" MB\");\n</code></pre>\n\n<p>So I'm thinking of rewriting the class to lazy load a property when it's accessed, but having to write something like </p>\n\n<pre><code>// This is probably not thread safe, so it could be even more verbose\npublic NodeProperty propOne() {\n   if (propOne == null) {\n      propOne = new NodeProperty( ... )\n   }\n   return propOne\n}\n</code></pre>\n\n<p>And then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?</p>\n\n<p>Here is how the NodeConfig looks like</p>\n\n<pre><code>public class NodeConfig {\n\n    public NodeProperty pVersion = new NodeProperty( \"Spec Version\", Status.REQUIRED, Visibility.HIDDEN);\n    public NodeProperty pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE );\n    public NodeProperty pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.HIDDEN);\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1678290269,"post_id":75674917,"comment_id":133504649,"body_markdown":"Thank you, `flatMapmany` after the filter gives me the expected response!","body":"Thank you, <code>flatMapmany</code> after the filter gives me the expected response!"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288719,"creation_date":1678288719,"answer_id":75674917,"question_id":75674802,"body_markdown":"The `Mono` has this operator:\r\n\r\n\r\n\t/**\r\n\t * Transform the item emitted by this {@link Mono} into a Publisher, then forward\r\n\t * its emissions into the returned {@link Flux}.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * @param mapper the\r\n\t * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\r\n\t * @param &lt;R&gt; the merged sequence type\r\n\t *\r\n\t * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\r\n\t */\r\n\tpublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>The <code>Mono</code> has this operator:</p>\n<pre><code>/**\n * Transform the item emitted by this {@link Mono} into a Publisher, then forward\n * its emissions into the returned {@link Flux}.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\n *\n * @param mapper the\n * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\n * @param &lt;R&gt; the merged sequence type\n *\n * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\n */\npublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678290041,"creation_date":1678289007,"answer_id":75674956,"question_id":75674802,"body_markdown":"In your first example nothing happens with `validate(id1,id2);` because no one subscribes to it. You should build your reactive chain from the start to the end.\r\n\r\nTo return `Flux` after the successful validation you should use `flatMapMany()`\r\n&lt;!-- language: java --&gt;\r\n    return validate(id1,id2)\r\n            .filter(valid -&gt; valid)\r\n            .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\r\n\r\nFrom `flatMapMany()` docs:\r\n\r\n     * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>In your first example nothing happens with <code>validate(id1,id2);</code> because no one subscribes to it. You should build your reactive chain from the start to the end.</p>\n<p>To return <code>Flux</code> after the successful validation you should use <code>flatMapMany()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>return validate(id1,id2)\n        .filter(valid -&gt; valid)\n        .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\n</code></pre>\n<p>From <code>flatMapMany()</code> docs:</p>\n<pre><code> * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674956,"answer_count":2,"score":0,"last_activity_date":1678290296,"creation_date":1678288121,"question_id":75674802,"body_markdown":"I have a validator method that returns a `Mono&lt;Boolean&gt;`. \r\nThe validation is happening as expected and returns bad request exception in case of invalid `id1` or `id2`. \r\n\r\n```\r\npublic static Mono&lt;Boolean&gt; validate(String id1, String id2) {\r\n   //some condition to check id1 &amp; id2.\r\n   // either return Mono.just(false)/mono.just(true)\r\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \r\n}\r\n```\r\n\r\nHowever, the control is going to the next line instead of returning from the execution. \r\nHere is the method where the validator method is referred: \r\n\r\n```\r\npublic Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\r\n    validate(id1,id2);\r\n    return facilityService.getFacilityResponse(id1,id2);  \r\n }\r\n```\r\n\r\nThe validator method returns `Mono&lt;Boolean&gt;`, but the method returns `Flux&lt;FacilitiesResponse&gt;`. How to re-write this whole method in `reactive` way such that it returns `Flux&lt; FacilitiesResponse&gt;` ? \r\n\r\nI tried something like below:\r\n```\r\nreturn validate(id1,id2)\r\n       .filter(valid -&gt; valid)\r\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \r\n```\r\n\r\nbut it gives me `Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;` instead. \r\n\r\nUnfortunately,  I cannot change the return type of `facilityService.getFacilityResponse(id1,id2)`.\r\n\r\n\r\n","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>I have a validator method that returns a <code>Mono&lt;Boolean&gt;</code>.\nThe validation is happening as expected and returns bad request exception in case of invalid <code>id1</code> or <code>id2</code>.</p>\n<pre><code>public static Mono&lt;Boolean&gt; validate(String id1, String id2) {\n   //some condition to check id1 &amp; id2.\n   // either return Mono.just(false)/mono.just(true)\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \n}\n</code></pre>\n<p>However, the control is going to the next line instead of returning from the execution.\nHere is the method where the validator method is referred:</p>\n<pre><code>public Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\n    validate(id1,id2);\n    return facilityService.getFacilityResponse(id1,id2);  \n }\n</code></pre>\n<p>The validator method returns <code>Mono&lt;Boolean&gt;</code>, but the method returns <code>Flux&lt;FacilitiesResponse&gt;</code>. How to re-write this whole method in <code>reactive</code> way such that it returns <code>Flux&lt; FacilitiesResponse&gt;</code> ?</p>\n<p>I tried something like below:</p>\n<pre><code>return validate(id1,id2)\n       .filter(valid -&gt; valid)\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \n</code></pre>\n<p>but it gives me <code>Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;</code> instead.</p>\n<p>Unfortunately,  I cannot change the return type of <code>facilityService.getFacilityResponse(id1,id2)</code>.</p>\n"},{"tags":["java","eclipse","excel","syntax","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":2,"creation_date":1511718710,"post_id":21589821,"comment_id":81953625,"body_markdown":"This includes import statements.","body":"This includes import statements."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":2,"creation_date":1511726290,"post_id":21589821,"comment_id":81956234,"body_markdown":"Obviously this doesnt include import statements :)","body":"Obviously this doesnt include import statements :)"},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":3,"creation_date":1511845360,"post_id":21589821,"comment_id":82004724,"body_markdown":"I meant to say that if an import statement gets down in between your braces, it will cause this error just like other code. Happened to me with a velocity Include macro.","body":"I meant to say that if an import statement gets down in between your braces, it will cause this error just like other code. Happened to me with a velocity Include macro."},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1580852776,"post_id":21589821,"comment_id":106232765,"body_markdown":"Noumenon, that was the fix for my issue too. Someone had created 2 classes on the same page, and put one import statement for the 2nd class lower on the page after the first class, not in any code black (because imports wouldn&#39;t be in one). When I moved it back to the top, the error went away. I guess they can only be at the top.","body":"Noumenon, that was the fix for my issue too. Someone had created 2 classes on the same page, and put one import statement for the 2nd class lower on the page after the first class, not in any code black (because imports wouldn&#39;t be in one). When I moved it back to the top, the error went away. I guess they can only be at the top."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1391652611,"creation_date":1391638848,"answer_id":21589821,"question_id":21589784,"body_markdown":"You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block\r\n\r\n    private void processFile() {\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); // &lt;--Syntax error  \r\n         ...//snip\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n      } \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block</p>\n\n<pre><code>private void processFile() {\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); // &lt;--Syntax error  \n     ...//snip\n  } catch (Exception e) {\n     e.printStackTrace();\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391638920,"creation_date":1391638920,"answer_id":21589838,"question_id":21589784,"body_markdown":"Place all of your code within a main method:\r\n\r\n \tpublic static void main(String[] args) {\r\n            //All of your code goes here\r\n\r\n\t}\r\n\r\nStatements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Place all of your code within a main method:</p>\n\n<pre><code>public static void main(String[] args) {\n        //All of your code goes here\n\n}\n</code></pre>\n\n<p>Statements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.</p>\n"},{"tags":[],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391734768,"creation_date":1391734768,"answer_id":21617379,"question_id":21589784,"body_markdown":"Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.</p>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524215997,"creation_date":1524215997,"answer_id":49938253,"question_id":21589784,"body_markdown":"**Paste try and catch block inside any method**. Above question your try block only inside the class that&#39;s why your getting **Syntax Error message** or Learn deeply about try \r\n\r\n \r\n\r\n    public void yourMethod(){    \r\n            try \r\n             {\r\n               //Write the workbook in file system\r\n               FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n                        workbook.write(out);\r\n                        out.close();\r\n                        System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n                    } \r\n                    catch (Exception e)\r\n                    {\r\n                        e.printStackTrace();\r\n                }\r\n            }","title":"Syntax error on token(s), misplaced construct(s)","body":"<p><strong>Paste try and catch block inside any method</strong>. Above question your try block only inside the class that's why your getting <strong>Syntax Error message</strong> or Learn deeply about try </p>\n\n<pre><code>public void yourMethod(){    \n        try \n         {\n           //Write the workbook in file system\n           FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n                    workbook.write(out);\n                    out.close();\n                    System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n                } \n                catch (Exception e)\n                {\n                    e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109575,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1678290190,"creation_date":1391638731,"question_id":21589784,"body_markdown":"How to fix this error ---&gt; Syntax error on token(s), misplaced construct(s) \r\nThe error is at the line below indicated.\r\nNote: This code was copied on the web and trying to get it to work as a learning tool \r\nI&#39;m using Eclipse\r\nThanks!\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeMap;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class EcellTest22 {\r\n    \t //Blank workbook\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n    \r\n        //Create a blank sheet\r\n        XSSFSheet sheet = workbook.createSheet(&quot;Employee Data&quot;);\r\n    \r\n        //This data needs to be written (Object[])\r\n        Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\r\n         //\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); &lt;--Syntax error on token(s), misplaced construct(s) \r\n    \r\n    \r\n        data.put(&quot;2&quot;, new Object[]{1, &quot;Amit&quot;, &quot;Shukla&quot;});\r\n        data.put(&quot;3&quot;, new Object[]{2, &quot;Lokesh&quot;, &quot;Gupta&quot;});\r\n        data.put(&quot;4&quot;, new Object[]{3, &quot;John&quot;, &quot;Adwards&quot;});\r\n        data.put(&quot;5&quot;, new Object[]{4, &quot;Brian&quot;, &quot;Schultz&quot;});\r\n    \r\n        //Iterate over data and write to sheet\r\n        Set&lt;String&gt; keyset = data.keySet();\r\n    \r\n        int rownum = 0;\r\n        for (String key : keyset) \r\n        {\r\n            //create a row of excelsheet\r\n            Row row = sheet.createRow(rownum++);\r\n    \r\n            //get object array of prerticuler key\r\n            Object[] objArr = data.get(key);\r\n    \r\n            int cellnum = 0;\r\n    \r\n            for (Object obj : objArr) \r\n            {\r\n                Cell cell = row.createCell(cellnum++);\r\n                if (obj instanceof String) \r\n                {\r\n                    cell.setCellValue((String) obj);\r\n                }\r\n                else if (obj instanceof Integer) \r\n                {\r\n                    cell.setCellValue((Integer) obj);\r\n                }\r\n            }\r\n        }\r\n        try \r\n        {\r\n            //Write the workbook in file system\r\n            FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n            workbook.write(out);\r\n            out.close();\r\n            System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n        } \r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>How to fix this error ---> Syntax error on token(s), misplaced construct(s) \nThe error is at the line below indicated.\nNote: This code was copied on the web and trying to get it to work as a learning tool \nI'm using Eclipse\nThanks!</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class EcellTest22 {\n     //Blank workbook\n    XSSFWorkbook workbook = new XSSFWorkbook();\n\n    //Create a blank sheet\n    XSSFSheet sheet = workbook.createSheet(\"Employee Data\");\n\n    //This data needs to be written (Object[])\n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\n     //\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); &lt;--Syntax error on token(s), misplaced construct(s) \n\n\n    data.put(\"2\", new Object[]{1, \"Amit\", \"Shukla\"});\n    data.put(\"3\", new Object[]{2, \"Lokesh\", \"Gupta\"});\n    data.put(\"4\", new Object[]{3, \"John\", \"Adwards\"});\n    data.put(\"5\", new Object[]{4, \"Brian\", \"Schultz\"});\n\n    //Iterate over data and write to sheet\n    Set&lt;String&gt; keyset = data.keySet();\n\n    int rownum = 0;\n    for (String key : keyset) \n    {\n        //create a row of excelsheet\n        Row row = sheet.createRow(rownum++);\n\n        //get object array of prerticuler key\n        Object[] objArr = data.get(key);\n\n        int cellnum = 0;\n\n        for (Object obj : objArr) \n        {\n            Cell cell = row.createCell(cellnum++);\n            if (obj instanceof String) \n            {\n                cell.setCellValue((String) obj);\n            }\n            else if (obj instanceof Integer) \n            {\n                cell.setCellValue((Integer) obj);\n            }\n        }\n    }\n    try \n    {\n        //Write the workbook in file system\n        FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n        workbook.write(out);\n        out.close();\n        System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n    } \n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678289910,"creation_date":1678289910,"answer_id":75675118,"question_id":75672712,"body_markdown":"You can&#39;t set a TTL on a scope ([see documentation here][1]): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;\r\n\r\nAs for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for *all documents* in the collection.\r\n\r\nYou can also set TTL on individual documents (using the KV API).\r\n\r\n\r\n  [1]: https://docs.couchbase.com/server/current/learn/data/expiration.html","title":"Using scope with TTL in Couchbase","body":"<p>You can't set a TTL on a scope (<a href=\"https://docs.couchbase.com/server/current/learn/data/expiration.html\" rel=\"nofollow noreferrer\">see documentation here</a>): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;</p>\n<p>As for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for <em>all documents</em> in the collection.</p>\n<p>You can also set TTL on individual documents (using the KV API).</p>\n"}],"owner":{"account_id":4750084,"reputation":2929,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75675118,"answer_count":1,"score":1,"last_activity_date":1678289910,"creation_date":1678276495,"question_id":75672712,"body_markdown":"I have a couple of questions in couchbase 7 version :\r\n\r\n1. What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.\r\n\r\n2. What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.","title":"Using scope with TTL in Couchbase","body":"<p>I have a couple of questions in couchbase 7 version :</p>\n<ol>\n<li><p>What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.</p>\n</li>\n<li><p>What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-data","matcher","query-by-example"],"answers":[{"comments":[{"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"score":0,"creation_date":1551327756,"post_id":54912452,"comment_id":96602338,"body_markdown":"I think this is not working for me, since i have other properties with numeric type. (int area).  When i create new teacher, that area will be fill  with 0 by java default.(can&#39;t be null) since it&#39;s integer.","body":"I think this is not working for me, since i have other properties with numeric type. (int area).  When i create new teacher, that area will be fill  with 0 by java default.(can&#39;t be null) since it&#39;s integer."},{"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"score":0,"creation_date":1551328001,"post_id":54912452,"comment_id":96602402,"body_markdown":"And, how if I also have properties with datetime type ??","body":"And, how if I also have properties with datetime type ??"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1551334833,"post_id":54912452,"comment_id":96604433,"body_markdown":"@JiguJigu updated the answer. Update also your question with new details instead of putting them as a comment it helps others to answer.","body":"@JiguJigu updated the answer. Update also your question with new details instead of putting them as a comment it helps others to answer."},{"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"score":0,"creation_date":1551379502,"post_id":54912452,"comment_id":96629038,"body_markdown":"i change the property type to Interger. Thank You","body":"i change the property type to Interger. Thank You"}],"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1551334752,"creation_date":1551293007,"answer_id":54912452,"question_id":54911363,"body_markdown":"Try this:\r\n\r\n    Teacher t = new Teacher(&quot;Peter&quot;);\r\n    Example&lt;Teacher&gt; te = Example.of(t,\r\n        ExampleMatcher.matching()\r\n            .withStringMatcher(StringMatcher.CONTAINING)\r\n            .withIgnoreCase());\r\n\r\nWith `ExampleMatcher.matching()` or `ExampleMatcher.matchingAll()` comparison is done against all non-null fields in your example teacher `t` so just name (assumed from &quot;Peter&quot;).\r\n\r\n**NOTE**: with primitive values you just need to add them to `withIgnorePaths(..)` or change them to boxed types like `int -&gt; Integer`, there are no other easy workarounds.\r\n\r\nIf you need to search only by `int area` set no name but are\r\n in your example `t`\r\n\r\n    t.setArea(55);\r\n\r\nor if you had `Date created`, searching by created:\r\n\r\n    t.setCreated(someDate);\r\n\r\nyou can even set them all to narrow the search by applying them all.\r\n\r\nFrom [the docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--)\r\n\r\n&gt; static ExampleMatcher matching()    \r\n&gt; ( &amp; static ExampleMatcher matchingAll() )    \r\n\r\n&gt;Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.","title":"How to make ExampleMatcher to match just one property?","body":"<p>Try this:</p>\n\n<pre><code>Teacher t = new Teacher(\"Peter\");\nExample&lt;Teacher&gt; te = Example.of(t,\n    ExampleMatcher.matching()\n        .withStringMatcher(StringMatcher.CONTAINING)\n        .withIgnoreCase());\n</code></pre>\n\n<p>With <code>ExampleMatcher.matching()</code> or <code>ExampleMatcher.matchingAll()</code> comparison is done against all non-null fields in your example teacher <code>t</code> so just name (assumed from \"Peter\").</p>\n\n<p><strong>NOTE</strong>: with primitive values you just need to add them to <code>withIgnorePaths(..)</code> or change them to boxed types like <code>int -&gt; Integer</code>, there are no other easy workarounds.</p>\n\n<p>If you need to search only by <code>int area</code> set no name but are\n in your example <code>t</code></p>\n\n<pre><code>t.setArea(55);\n</code></pre>\n\n<p>or if you had <code>Date created</code>, searching by created:</p>\n\n<pre><code>t.setCreated(someDate);\n</code></pre>\n\n<p>you can even set them all to narrow the search by applying them all.</p>\n\n<p>From <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--\" rel=\"noreferrer\">the docs</a></p>\n\n<blockquote>\n  <p>static ExampleMatcher matching()<br>\n  ( &amp; static ExampleMatcher matchingAll() )    </p>\n  \n  <p>Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.</p>\n</blockquote>\n"}],"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8181,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54912452,"answer_count":1,"score":8,"last_activity_date":1678289852,"creation_date":1551288989,"question_id":54911363,"body_markdown":"How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?\r\n\r\nAssume my class like this :\r\n\r\n    Public Class Teacher() {\r\n    \tString id;\r\n    \tString name;\r\n    \tString address;\r\n    \tString phone;\r\n    \tint area;\r\n    \t..other properties is here...\r\n    }\r\n\r\nIf I want to match by the name:\r\n\r\n    Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\r\n    \r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \r\n\r\nand if I want to match by the address:\r\n\r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\r\n\r\nso I need to repeat the `withIgnorePaths(..)` How to avoid that?\r\n\r\n\r\n","title":"How to make ExampleMatcher to match just one property?","body":"<p>How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?</p>\n<p>Assume my class like this :</p>\n<pre><code>Public Class Teacher() {\n    String id;\n    String name;\n    String address;\n    String phone;\n    int area;\n    ..other properties is here...\n}\n</code></pre>\n<p>If I want to match by the name:</p>\n<pre><code>Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\n\nExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \n</code></pre>\n<p>and if I want to match by the address:</p>\n<pre><code>ExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\n</code></pre>\n<p>so I need to repeat the <code>withIgnorePaths(..)</code> How to avoid that?</p>\n"},{"tags":["java","spring","hibernate","backend"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678290966,"post_id":75675015,"comment_id":133504891,"body_markdown":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s `save()` method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both.","body":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s <code>save()</code> method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both."}],"owner":{"account_id":15543294,"reputation":23,"user_id":18222922,"display_name":"aalvisj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678289338,"creation_date":1678289338,"question_id":75675015,"body_markdown":"I&#39;m trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.\r\n\r\nThis looks like this in the &quot;Item&quot; class:\r\n\r\n```\r\n@ManyToMany()\r\n@JoinTable(\r\n\tname = &quot;item_keywords&quot;,\r\n\tjoinColumns = @JoinColumn(name = &quot;item_id&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\r\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\r\n```\r\n\r\nAnd like this in the &quot;Keyword&quot; class:\r\n\r\n```\r\n@ManyToMany(mappedBy = &quot;keywords&quot;)\r\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n```\r\n\r\nMy problem is then creating a function that makes it possible to link an existing Item to an existing Keyword. \r\n\r\nI used a function that takes the item&#39;s ID as well as a keyword as input, and tries to achieve this by running the following code snippet:\r\n\r\n```\r\nOptional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\r\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\r\n\r\n\r\nif (keywordInTable.isPresent()) {\r\n    optionalItem.get().addKeyword(keywordInTable.get());\r\n    keywordInTable.get().addItem(optionalItem.get());\r\n    return true;\r\n    }\r\n```\r\n\r\nThe addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.\r\n\r\nAlso, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.\r\n\r\nCould anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.","title":"Java &amp; Spring Boot: Adding a new &quot;link&quot; in a ManyToMany relationship?","body":"<p>I'm trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.</p>\n<p>This looks like this in the &quot;Item&quot; class:</p>\n<pre><code>@ManyToMany()\n@JoinTable(\n    name = &quot;item_keywords&quot;,\n    joinColumns = @JoinColumn(name = &quot;item_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And like this in the &quot;Keyword&quot; class:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;keywords&quot;)\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My problem is then creating a function that makes it possible to link an existing Item to an existing Keyword.</p>\n<p>I used a function that takes the item's ID as well as a keyword as input, and tries to achieve this by running the following code snippet:</p>\n<pre><code>Optional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\n\n\nif (keywordInTable.isPresent()) {\n    optionalItem.get().addKeyword(keywordInTable.get());\n    keywordInTable.get().addItem(optionalItem.get());\n    return true;\n    }\n</code></pre>\n<p>The addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.</p>\n<p>Also, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.</p>\n<p>Could anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.</p>\n"},{"tags":["java","maven","gradle","querydsl"],"answers":[{"comments":[{"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"score":0,"creation_date":1678323618,"post_id":75674987,"comment_id":133512168,"body_markdown":"Also I updated repository with changes you mentioned","body":"Also I updated repository with changes you mentioned"}],"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678289162,"creation_date":1678289162,"answer_id":75674987,"question_id":75625807,"body_markdown":"Because Maven throws together things that should not be thrown together which Gradle properly separates.\r\nThe class using the services you define is run as part of annotation processing.\r\nSo your services are not needed as `implementation` dependencies, but as `annotationProcessor` dependencies.\r\n\r\nReplace\r\n```groovy\r\nimplementation project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nby\r\n```groovy\r\nannotationProcessor project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nand your services are found where necessary.","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>Because Maven throws together things that should not be thrown together which Gradle properly separates.\nThe class using the services you define is run as part of annotation processing.\nSo your services are not needed as <code>implementation</code> dependencies, but as <code>annotationProcessor</code> dependencies.</p>\n<p>Replace</p>\n<pre><code>implementation project(':querydsl-ext-apt')\n</code></pre>\n<p>by</p>\n<pre><code>annotationProcessor project(':querydsl-ext-apt')\n</code></pre>\n<p>and your services are found where necessary.</p>\n"}],"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674987,"answer_count":1,"score":0,"last_activity_date":1678289162,"creation_date":1677838791,"question_id":75625807,"body_markdown":"I have created a repository here https://github.com/bigbang4u2/query-dsl-hibernate-types (This has been copied from [here][1]). \r\n\r\nRepository created by me [here][2] contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don&#39;t know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl\r\n\r\nI need to to work with gradle as that&#39;s what I am using in my project\r\n\r\nKindly help\r\n\r\n\r\n  [1]: https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\r\n  [2]: https://github.com/bigbang4u2/query-dsl-hibernate-types","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>I have created a repository here <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/bigbang4u2/query-dsl-hibernate-types</a> (This has been copied from <a href=\"https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Repository created by me <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">here</a> contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don't know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl</p>\n<p>I need to to work with gradle as that's what I am using in my project</p>\n<p>Kindly help</p>\n"},{"tags":["java","kotlin","http2","bidi"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678281750,"post_id":75672933,"comment_id":133501789,"body_markdown":"This sounds like it might be a good use case for gRPC.","body":"This sounds like it might be a good use case for gRPC."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678282200,"post_id":75672933,"comment_id":133501926,"body_markdown":"You should take a look to Server Sent Event https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events. Using  base64-encoding you will be able to send multiple file on the same connection.","body":"You should take a look to Server Sent Event <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/&zwnj;&#8203;&hellip;</a>. Using  base64-encoding you will be able to send multiple file on the same connection."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282239,"post_id":75672933,"comment_id":133501941,"body_markdown":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?","body":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?"},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282376,"post_id":75672933,"comment_id":133501975,"body_markdown":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction.","body":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678283132,"post_id":75672933,"comment_id":133502210,"body_markdown":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request.","body":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678284466,"post_id":75672933,"comment_id":133502662,"body_markdown":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?","body":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678285612,"post_id":75672933,"comment_id":133503064,"body_markdown":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data.","body":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678288046,"post_id":75672933,"comment_id":133503819,"body_markdown":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?","body":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?"}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17242,"user_id":1215076,"display_name":"sbordet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288973,"creation_date":1678288973,"answer_id":75674952,"question_id":75672933,"body_markdown":"[Disclaimer, I work on the Jetty Project.]\r\n\r\nThis is possible with Jetty&#39;s `HttpClient`, exactly like you want:\r\n\r\n```java\r\nHTTP2Client http2Client = new HTTP2Client();\r\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\r\nclient.start();\r\n\r\nOutputStreamRequestContent content = new OutputStreamRequestContent();\r\nInputStreamResponseListener listener = new InputStreamResponseListener();\r\n\r\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\r\n    .method(HttpMethod.POST)\r\n    .body(content)\r\n    .send(listener);\r\n\r\n// Optionally, get the response (with headers) \r\n// from the server and verify it is a 200.\r\nResponse response = listener.get(5, TimeUnit.SECONDS);\r\nassertEquals(HttpStatus.OK_200, response.getStatus());\r\n\r\nInputStream input = listener.getInputStream();\r\nOutputStream output = content.getOutputStream();\r\n\r\n// Write some content and expect the response\r\n// (assuming it is echoed back in this example).\r\noutput.write(&#39;a&#39;);\r\nint read = input.read();\r\nassertEquals(&#39;a&#39;, read);\r\n\r\noutput.write(&#39;b&#39;);\r\nread = input.read();\r\nassertEquals(&#39;b&#39;, read);\r\n\r\n// Terminate.\r\noutput.close();\r\nread = input.read();\r\nassertEquals(-1, read);\r\n\r\nclient.stop();\r\n```","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>[Disclaimer, I work on the Jetty Project.]</p>\n<p>This is possible with Jetty's <code>HttpClient</code>, exactly like you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HTTP2Client http2Client = new HTTP2Client();\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\nclient.start();\n\nOutputStreamRequestContent content = new OutputStreamRequestContent();\nInputStreamResponseListener listener = new InputStreamResponseListener();\n\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\n    .method(HttpMethod.POST)\n    .body(content)\n    .send(listener);\n\n// Optionally, get the response (with headers) \n// from the server and verify it is a 200.\nResponse response = listener.get(5, TimeUnit.SECONDS);\nassertEquals(HttpStatus.OK_200, response.getStatus());\n\nInputStream input = listener.getInputStream();\nOutputStream output = content.getOutputStream();\n\n// Write some content and expect the response\n// (assuming it is echoed back in this example).\noutput.write('a');\nint read = input.read();\nassertEquals('a', read);\n\noutput.write('b');\nread = input.read();\nassertEquals('b', read);\n\n// Terminate.\noutput.close();\nread = input.read();\nassertEquals(-1, read);\n\nclient.stop();\n</code></pre>\n"}],"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678288973,"creation_date":1678277831,"question_id":75672933,"body_markdown":"I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.\r\n\r\nAfter each piece of data, the server responds with a JSON, containing the related information.\r\n\r\nThe requirements are as follows:\r\n- The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)\r\n- This must happen on a single connection and can&#39;t be split up into multiple requests (for reasons I am not going to disclose now)\r\n- The data being streamed is binary.\r\n\r\nI have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can&#39;t be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.\r\n\r\nThe idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.\r\n\r\n\r\nHere is my current attempt at OkHttp:\r\n\r\n```kotlin\r\nval request = Request.Builder()\r\n    .url(&quot;/media&quot;.customApiUrl)\r\n    .post(object : RequestBody() {\r\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\r\n\r\n        override fun writeTo(sink: BufferedSink) {\r\n            sink.writeAll(pipeIn.source())\r\n        }\r\n    })\r\n    .build()\r\nOkHttpClient().newBuilder()\r\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\r\n    .build()\r\n    .newCall(request).enqueue(object : Callback {\r\n        override fun onFailure(call: Call, e: IOException) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onResponse(call: Call, response: Response) {\r\n            // this is never called\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n\r\n    })\r\n```\r\n\r\nThis was my attempt at Ktor:\r\n\r\n```kotlin\r\n        logger.debug(&quot;Making HTTP call&quot;)\r\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\r\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\r\n            setBody(pipeIn)\r\n            logger.debug(&quot;Media session ready to execute&quot;)\r\n        }.execute {\r\n            // This is never called (checked using breakpoint)\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n        // this is also never called but that&#39;s fine\r\n        logger.info(&quot;Media session closed&quot;)\r\n```\r\n\r\nThis is how the streams are created:\r\n\r\n```kotlin\r\n        val pipeOut = PipedOutputStream()\r\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\r\n```\r\n\r\nHow `pipeOut` is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.\r\n\r\nI would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.\r\n\r\n**Edit:** I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.</p>\n<p>After each piece of data, the server responds with a JSON, containing the related information.</p>\n<p>The requirements are as follows:</p>\n<ul>\n<li>The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)</li>\n<li>This must happen on a single connection and can't be split up into multiple requests (for reasons I am not going to disclose now)</li>\n<li>The data being streamed is binary.</li>\n</ul>\n<p>I have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can't be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.</p>\n<p>The idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.</p>\n<p>Here is my current attempt at OkHttp:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val request = Request.Builder()\n    .url(&quot;/media&quot;.customApiUrl)\n    .post(object : RequestBody() {\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\n\n        override fun writeTo(sink: BufferedSink) {\n            sink.writeAll(pipeIn.source())\n        }\n    })\n    .build()\nOkHttpClient().newBuilder()\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\n    .build()\n    .newCall(request).enqueue(object : Callback {\n        override fun onFailure(call: Call, e: IOException) {\n            TODO(&quot;Not yet implemented&quot;)\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            // this is never called\n            logger.debug(&quot;Media session executing&quot;)\n        }\n\n    })\n</code></pre>\n<p>This was my attempt at Ktor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        logger.debug(&quot;Making HTTP call&quot;)\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\n            setBody(pipeIn)\n            logger.debug(&quot;Media session ready to execute&quot;)\n        }.execute {\n            // This is never called (checked using breakpoint)\n            logger.debug(&quot;Media session executing&quot;)\n        }\n        // this is also never called but that's fine\n        logger.info(&quot;Media session closed&quot;)\n</code></pre>\n<p>This is how the streams are created:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        val pipeOut = PipedOutputStream()\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\n</code></pre>\n<p>How <code>pipeOut</code> is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.</p>\n<p>I would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.</p>\n<p><strong>Edit:</strong> I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.</p>\n"},{"tags":["java","java-8","java-stream","atomicinteger","atomic-values"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1629258503,"post_id":68826181,"comment_id":121636342,"body_markdown":"all the code that you write inside a lambda function must be `functional` what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable `bool` this is why it&#39;s preventing it from doing the same. Please use a different logic like : `list.stream().any( c -&gt; c.getName != null )`","body":"all the code that you write inside a lambda function must be <code>functional</code> what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable <code>bool</code> this is why it&#39;s preventing it from doing the same. Please use a different logic like : <code>list.stream().any( c -&gt; c.getName != null )</code>"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629259617,"post_id":68826181,"comment_id":121636486,"body_markdown":"Please post a [https://stackoverflow.com/help/minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) I can&#39;t reproduce your problem.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">https://stackoverflow.com/help/minimal-reproducible-example</a> I can&#39;t reproduce your problem."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1629297656,"post_id":68826181,"comment_id":121650459,"body_markdown":"The three most upvoted answers of the [duplicate link](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final) should provide you with enough information.","body":"The three most upvoted answers of the <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">duplicate link</a> should provide you with enough information."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629327148,"post_id":68826181,"comment_id":121660810,"body_markdown":"The &quot;performance&quot; impact of using `AtomicBoolean` is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first `getName != null` is found is quite large and easily measurable even with very modestly size lists.","body":"The &quot;performance&quot; impact of using <code>AtomicBoolean</code> is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first <code>getName != null</code> is found is quite large and easily measurable even with very modestly size lists."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629328378,"post_id":68826181,"comment_id":121661036,"body_markdown":"The *effectively final* restriction only applies to local variables. Because you are setting an instance field, you can simply use: `boolean bool = true;` and set it from within the lambda.","body":"The <i>effectively final</i> restriction only applies to local variables. Because you are setting an instance field, you can simply use: <code>boolean bool = true;</code> and set it from within the lambda."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629483762,"post_id":68826181,"comment_id":121707702,"body_markdown":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it.","body":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629484160,"post_id":68826181,"comment_id":121707817,"body_markdown":"@CausingUnderflowsEverywhere use my comments as you like.","body":"@CausingUnderflowsEverywhere use my comments as you like."},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1630375294,"post_id":68826181,"comment_id":121932791,"body_markdown":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);\n list.add(true);\n list.get(0);","body":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);  list.add(true);  list.get(0);"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1629273182,"post_id":68826376,"comment_id":121640022,"body_markdown":"Use `anyMatch` and further, don’t use `Boolean` objects without a reason. Just `boolean`. “hasEmptyNames” is a strange choice for “there are any names that are not null”.","body":"Use <code>anyMatch</code> and further, don’t use <code>Boolean</code> objects without a reason. Just <code>boolean</code>. “hasEmptyNames” is a strange choice for “there are any names that are not null”."},{"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"score":0,"creation_date":1629295633,"post_id":68826376,"comment_id":121649457,"body_markdown":"Good point guys!","body":"Good point guys!"}],"tags":[],"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678288889,"creation_date":1629259018,"answer_id":68826376,"question_id":68826181,"body_markdown":"You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.\r\n\r\nSomething like this:\r\n\r\n    boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n\r\nThe choice `bool` is not a good one for variable name by the way.\r\n\r\nEdit:  \r\n- Replaced Boolean with base type per comment.\r\n- Used `anyMatch()` instead of `filter()` count per comment\r\nThanks\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.</p>\n<p>Something like this:</p>\n<pre><code>boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>The choice <code>bool</code> is not a good one for variable name by the way.</p>\n<p>Edit:</p>\n<ul>\n<li>Replaced Boolean with base type per comment.</li>\n<li>Used <code>anyMatch()</code> instead of <code>filter()</code> count per comment\nThanks</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629328063,"post_id":68826482,"comment_id":121660981,"body_markdown":"Setting `bool` to the result of `anyMatch()` is *not* the same effect as OP&#39;s code: If `bool` is already `true`, but none the the elements have a non-null name, OP&#39;s code would leave `bool` as `true`, but your code would set it to `false`. Although OP&#39;s code may not reflect OP&#39;s intention, your code nevertheless may produce a different result.","body":"Setting <code>bool</code> to the result of <code>anyMatch()</code> is <i>not</i> the same effect as OP&#39;s code: If <code>bool</code> is already <code>true</code>, but none the the elements have a non-null name, OP&#39;s code would leave <code>bool</code> as <code>true</code>, but your code would set it to <code>false</code>. Although OP&#39;s code may not reflect OP&#39;s intention, your code nevertheless may produce a different result."}],"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629484690,"creation_date":1629260216,"answer_id":68826482,"question_id":68826181,"body_markdown":"The effectively final restriction only applies to local variables.   \r\nSince you are setting an instance field, you can simply use: \r\n`boolean bool = true;` and set it from within the lambda. \r\n\r\nIf you need to use a local variable, add the `final` modifier to the declaration.\r\n\r\nRegarding the overhead of using `AtomicBoolean`, keep in mind that streams also have overhead and if you&#39;re only using them for iteration you&#39;re better off using a for loop instead:\r\n\r\n```\r\nboolean bool = true;\r\n\r\n    public void testBool(){\r\n        for (var c : list) {\r\n            if (c.getName() != null) {\r\n                bool = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n```    \r\n\r\nLastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:\r\n\r\n```\r\nboolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n```\r\n\r\n**Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.*","title":"Java 8 variable should be final or effectively final issue","body":"<p>The effectively final restriction only applies to local variables.<br />\nSince you are setting an instance field, you can simply use:\n<code>boolean bool = true;</code> and set it from within the lambda.</p>\n<p>If you need to use a local variable, add the <code>final</code> modifier to the declaration.</p>\n<p>Regarding the overhead of using <code>AtomicBoolean</code>, keep in mind that streams also have overhead and if you're only using them for iteration you're better off using a for loop instead:</p>\n<pre><code>boolean bool = true;\n\n    public void testBool(){\n        for (var c : list) {\n            if (c.getName() != null) {\n                bool = true;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>Lastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:</p>\n<pre><code>boolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>*<em>Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.</em></p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1629297547,"accepted_answer_id":68826376,"answer_count":2,"score":0,"last_activity_date":1678288889,"creation_date":1629257127,"question_id":68826181,"body_markdown":"I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.\r\n\r\n    AtomicBoolean bool = new AtomicBoolean(true);\r\n    public void testBool(){\r\n    list.stream().forEach(c-&gt;{ \r\n          if( c.getName() != null){\r\n    \tbool.set(true);\r\n    \t}\r\n    });\r\n    \r\n    }\r\n    \r\n    public void test(){\r\n      if(bool.get()){\r\n    \tSystem.out.println(&quot;value is there&quot;);\r\n      }\r\n    }\r\n\r\nBut I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage? \r\nWithout this am getting the error as a variable should be a final or effectively final error.\r\n\r\nPlease help me to resolve this issue.\r\n\r\nThanks in advance.\r\n\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.</p>\n<pre><code>AtomicBoolean bool = new AtomicBoolean(true);\npublic void testBool(){\nlist.stream().forEach(c-&gt;{ \n      if( c.getName() != null){\n    bool.set(true);\n    }\n});\n\n}\n\npublic void test(){\n  if(bool.get()){\n    System.out.println(&quot;value is there&quot;);\n  }\n}\n</code></pre>\n<p>But I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage?\nWithout this am getting the error as a variable should be a final or effectively final error.</p>\n<p>Please help me to resolve this issue.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","regex","parsing","active-directory","ldap"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1504312753,"post_id":31309673,"comment_id":78979791,"body_markdown":"Does this really need doing fi you supply the arguments via the `{0}` mechanism?","body":"Does this really need doing fi you supply the arguments via the <code>{0}</code> mechanism?"}],"answers":[{"tags":[],"owner":{"account_id":1633932,"reputation":2930,"user_id":1507941,"accept_rate":83,"display_name":"Pluto"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1515115920,"creation_date":1484853202,"answer_id":41749853,"question_id":31309673,"body_markdown":"For escaping LDAP filters, I relied on this page to write the code below: http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\r\n\r\n    String LdapEscape(String ldap)\r\n    {\r\n        if(ldap == null) return &quot;&quot;;\r\n        return ldap.replace(&quot;\\\\&quot;, &quot;\\\\5C&quot;).replace(&quot;*&quot;, &quot;\\\\2A&quot;).replace(&quot;(&quot;, &quot;\\\\28&quot;).replace(&quot;)&quot;, &quot;\\\\29&quot;).replace(&quot;\\000&quot;, &quot;\\\\00&quot;);\r\n    }\r\n\r\nThe most important thing to keep in mind here is that replacing `\\` with `\\5C` must happen first so that you don&#39;t double escape any characters. Otherwise it&#39;s very straightforward; there aren&#39;t any special tricks to watch out for.\r\n\r\nI&#39;d like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:\r\n\r\n    LdapEscape(&quot;(!(sn=m*))&quot;); // \\28!\\28sn=m\\2A\\29\r\n\r\n","title":"Parse ldap filter to escape special characters","body":"<p>For escaping LDAP filters, I relied on this page to write the code below: <a href=\"http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\" rel=\"noreferrer\">http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters</a></p>\n\n<pre><code>String LdapEscape(String ldap)\n{\n    if(ldap == null) return \"\";\n    return ldap.replace(\"\\\\\", \"\\\\5C\").replace(\"*\", \"\\\\2A\").replace(\"(\", \"\\\\28\").replace(\")\", \"\\\\29\").replace(\"\\000\", \"\\\\00\");\n}\n</code></pre>\n\n<p>The most important thing to keep in mind here is that replacing <code>\\</code> with <code>\\5C</code> must happen first so that you don't double escape any characters. Otherwise it's very straightforward; there aren't any special tricks to watch out for.</p>\n\n<p>I'd like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:</p>\n\n<pre><code>LdapEscape(\"(!(sn=m*))\"); // \\28!\\28sn=m\\2A\\29\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1528469048,"post_id":46008789,"comment_id":88533791,"body_markdown":"what about the `/` character?","body":"what about the <code>&#47;</code> character?"},{"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"score":2,"creation_date":1528842889,"post_id":46008789,"comment_id":88658194,"body_markdown":"Per this site, the forward slash does not need to be escaped: https://social.technet.microsoft.com/wiki/contents/articles/5312.active-directory-characters-to-escape.aspx#LDAP_Filters","body":"Per this site, the forward slash does not need to be escaped: <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/5312.active-directory-characters-to-escape.aspx#LDAP_Filters\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/wiki/contents/articles/&hellip;</a>"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1528898469,"post_id":46008789,"comment_id":88682064,"body_markdown":"it definitely needs escaped when it&#39;s part of a DN. that&#39;s what brought me here anyways","body":"it definitely needs escaped when it&#39;s part of a DN. that&#39;s what brought me here anyways"},{"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"score":3,"creation_date":1529007834,"post_id":46008789,"comment_id":88733209,"body_markdown":"Yes... If you scroll to the top of the link I sent, check out the &quot;Active Directory&quot; and &quot;ADSI&quot; sections.  They explain what needs to be escaped for DNs, and that the forward slash needs to be escaped only when you use an ADSI interface. (Hopefully it can&#39;t hurt if you escape too much, to be safe.)\n\nThe code I posted was only for escaping characters used in a filter, not a DN.  (Rant: IMHO, all these varying escape rules signify a fragile protocol design, but it&#39;s too late now.)","body":"Yes... If you scroll to the top of the link I sent, check out the &quot;Active Directory&quot; and &quot;ADSI&quot; sections.  They explain what needs to be escaped for DNs, and that the forward slash needs to be escaped only when you use an ADSI interface. (Hopefully it can&#39;t hurt if you escape too much, to be safe.)  The code I posted was only for escaping characters used in a filter, not a DN.  (Rant: IMHO, all these varying escape rules signify a fragile protocol design, but it&#39;s too late now.)"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1666286930,"post_id":46008789,"comment_id":130906789,"body_markdown":"Suggestions for code improvement: (1) it&#39;s not necessary to `&amp; 0xff` twice, both in the call and in the helper-method and (2) string-concatenation is &quot;expensive&quot;. With a pre-defined `char[]` array you can simply index into it for a one-liner which is very fast.","body":"Suggestions for code improvement: (1) it&#39;s not necessary to <code>&amp; 0xff</code> twice, both in the call and in the helper-method and (2) string-concatenation is &quot;expensive&quot;. With a pre-defined <code>char[]</code> array you can simply index into it for a one-liner which is very fast."},{"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"score":0,"creation_date":1678289190,"post_id":46008789,"comment_id":133504251,"body_markdown":"@ChristopherSchultz, good point about the extra &amp;0xff... I edited the code, thanks!  Regarding concatenation, I agree it&#39;s expensive in general, but I don&#39;t see where a char[] can best replace it here, since the final string length depends on how many escapes are needed within it.  I suppose you could loop through the string chars twice to pre-calculate then apply to a fixed char[], but I&#39;m not sure that&#39;s much faster, and certainly extra code that is less clear and could invite bugs.  Or were you looking at the &quot;+&quot; used in the helper function?","body":"@ChristopherSchultz, good point about the extra &amp;0xff... I edited the code, thanks!  Regarding concatenation, I agree it&#39;s expensive in general, but I don&#39;t see where a char[] can best replace it here, since the final string length depends on how many escapes are needed within it.  I suppose you could loop through the string chars twice to pre-calculate then apply to a fixed char[], but I&#39;m not sure that&#39;s much faster, and certainly extra code that is less clear and could invite bugs.  Or were you looking at the &quot;+&quot; used in the helper function?"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1678367621,"post_id":46008789,"comment_id":133521097,"body_markdown":"@ChrisJanicki I&#39;m talking about maintaining a list of hex characters like `&quot;0123456789abcdef&quot;.getChars()&quot; and indexing into that instead of doing `&quot;0&quot; + s` in your `to2CharHexString` method.","body":"@ChrisJanicki I&#39;m talking about maintaining a list of hex characters like <code>&quot;0123456789abcdef&quot;.getChars()&quot; and indexing into that instead of doing </code>&quot;0&quot; + s` in your <code>to2CharHexString</code> method."}],"tags":[],"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678288551,"creation_date":1504305600,"answer_id":46008789,"question_id":31309673,"body_markdown":"The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. &#233;, &#225;, &#246;, etc.) need special handling too.  Here&#39;s my verbose solution.  \r\n\r\n    /** \r\n\t * Filter components need to escape special chars.\r\n\t * Note that each piece of the filter needs to be escaped, \r\n\t * not the whole filter expression, for example:\r\n\t * \r\n\t * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, J&#246;hn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\r\n\t * \r\n\t * @see Oracle Directory Server Enterprise Edition 11g Reference doc\r\n\t * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\r\n\t * @param s A String field within the search expression\r\n\t * @return The escaped string, safe for use in the search expression.\r\n\t */\r\n\tpublic static String esc(String s)\r\n\t{\r\n\t\tif(s == null) return &quot;&quot;;\r\n\t\tStringBuilder sb = new StringBuilder(s.length());\r\n\t\tfor (byte c : s.getBytes(StandardCharsets.UTF_8))\r\n\t\t{\r\n\t\t\tif (c==&#39;\\\\&#39;) { sb.append(&quot;\\\\5c&quot;); }\r\n\t\t\telse if (c==&#39;*&#39;) { sb.append(&quot;\\\\2a&quot;); }\r\n\t\t\telse if (c==&#39;(&#39;) { sb.append(&quot;\\\\28&quot;); }\r\n\t\t\telse if (c==&#39;)&#39;) { sb.append(&quot;\\\\29&quot;); }\r\n\t\t\telse if (c==0) { sb.append(&quot;\\\\00&quot;); }\r\n\t\t\telse if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8&#39;s non-7-bit characters, e.g. &#233;, &#225;, etc...\r\n\t\t\telse { sb.append((char)c); }\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t/** \r\n\t * @return The least significant 16 bits as a two-character hex string, \r\n\t * padded by a leading &#39;0&#39; if necessary.\r\n\t */\r\n\tpublic static String to2CharHexString(int i)\r\n\t{\r\n\t\tString s = Integer.toHexString(i &amp; 0xff);\r\n\t\tif (s.length()==1) return &quot;0&quot;+s;\r\n\t\telse return s;\r\n\t}\r\n","title":"Parse ldap filter to escape special characters","body":"<p>The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. é, á, ö, etc.) need special handling too.  Here's my verbose solution.</p>\n<pre><code>/** \n * Filter components need to escape special chars.\n * Note that each piece of the filter needs to be escaped, \n * not the whole filter expression, for example:\n * \n * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, Jöhn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\n * \n * @see Oracle Directory Server Enterprise Edition 11g Reference doc\n * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\n * @param s A String field within the search expression\n * @return The escaped string, safe for use in the search expression.\n */\npublic static String esc(String s)\n{\n    if(s == null) return &quot;&quot;;\n    StringBuilder sb = new StringBuilder(s.length());\n    for (byte c : s.getBytes(StandardCharsets.UTF_8))\n    {\n        if (c=='\\\\') { sb.append(&quot;\\\\5c&quot;); }\n        else if (c=='*') { sb.append(&quot;\\\\2a&quot;); }\n        else if (c=='(') { sb.append(&quot;\\\\28&quot;); }\n        else if (c==')') { sb.append(&quot;\\\\29&quot;); }\n        else if (c==0) { sb.append(&quot;\\\\00&quot;); }\n        else if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8's non-7-bit characters, e.g. é, á, etc...\n        else { sb.append((char)c); }\n    }\n    return sb.toString();\n}\n\n/** \n * @return The least significant 16 bits as a two-character hex string, \n * padded by a leading '0' if necessary.\n */\npublic static String to2CharHexString(int i)\n{\n    String s = Integer.toHexString(i &amp; 0xff);\n    if (s.length()==1) return &quot;0&quot;+s;\n    else return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10102165,"reputation":2457,"user_id":7465947,"display_name":"horstr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591425930,"creation_date":1591271720,"answer_id":62193991,"question_id":31309673,"body_markdown":"You can&#39;t reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2=&quot; + value + &quot;))&quot;;\r\nsearch(filter);\r\n```\r\n\r\nThe resulting filter matches all objects because the code does not escape `value`:\r\n\r\n```\r\n(|(attr1=constvalue)(attr2=*)(objectClass=*))\r\n```\r\n\r\nThere is no way to escape `value` based on the final filter because the start and end position cannot be identified anymore.\r\n\r\nTo resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that&#39;s error-prone, so I don&#39;t recommend that.\r\n\r\nAll it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java&#39;s `DirContext` already provides a mechanism you can take advantage of. `DirContext.search` has a `filterExpr` parameter that represents a filter template that can contain placeholders and a `filterArgs` parameter representing a list of corresponding values.\r\n\r\nWith that, the example above would turn into:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2={0}))&quot;;\r\nsearch(filter, new String[] { value });\r\n```\r\nImplementation of `search`:\r\n```\r\ndircontext.search(basedn, filter, valuearray, null);\r\n```\r\n\r\nThat is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.\r\n\r\nGenerally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.","title":"Parse ldap filter to escape special characters","body":"<p>You can't reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2=\" + value + \"))\";\nsearch(filter);\n</code></pre>\n\n<p>The resulting filter matches all objects because the code does not escape <code>value</code>:</p>\n\n<pre><code>(|(attr1=constvalue)(attr2=*)(objectClass=*))\n</code></pre>\n\n<p>There is no way to escape <code>value</code> based on the final filter because the start and end position cannot be identified anymore.</p>\n\n<p>To resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that's error-prone, so I don't recommend that.</p>\n\n<p>All it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java's <code>DirContext</code> already provides a mechanism you can take advantage of. <code>DirContext.search</code> has a <code>filterExpr</code> parameter that represents a filter template that can contain placeholders and a <code>filterArgs</code> parameter representing a list of corresponding values.</p>\n\n<p>With that, the example above would turn into:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2={0}))\";\nsearch(filter, new String[] { value });\n</code></pre>\n\n<p>Implementation of <code>search</code>:</p>\n\n<pre><code>dircontext.search(basedn, filter, valuearray, null);\n</code></pre>\n\n<p>That is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.</p>\n\n<p>Generally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.</p>\n"},{"tags":[],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591970331,"creation_date":1591970331,"answer_id":62345781,"question_id":31309673,"body_markdown":"Here&#39;s mine:\r\n\r\n\t\tstatic public string LDAPEscape(string s)\r\n\t\t{\r\n\t\t\tStringBuilder sb = new StringBuilder(s.Length);\r\n\t\t\tint i;\r\n\t\t\tfor (i = 0; i &lt; s.Length; i++)\r\n\t\t\t{\r\n\t\t\t\tchar c = s[i];\r\n\t\t\t\tif (&quot;/*)(\\\\\\0&quot;.IndexOf(c) &gt;= 0)\r\n\t\t\t\t\tsb.Append(&#39;\\\\&#39;).Append(((uint)c).ToString(&quot;x2&quot;));\r\n\t\t\t\telse\r\n\t\t\t\t\tsb.Append(c);\r\n\t\t\t}\r\n\t\t\treturn sb.ToString();\r\n\t\t}","title":"Parse ldap filter to escape special characters","body":"<p>Here's mine:</p>\n\n<pre><code>    static public string LDAPEscape(string s)\n    {\n        StringBuilder sb = new StringBuilder(s.Length);\n        int i;\n        for (i = 0; i &lt; s.Length; i++)\n        {\n            char c = s[i];\n            if (\"/*)(\\\\\\0\".IndexOf(c) &gt;= 0)\n                sb.Append('\\\\').Append(((uint)c).ToString(\"x2\"));\n            else\n                sb.Append(c);\n        }\n        return sb.ToString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619532335,"creation_date":1619532335,"answer_id":67284683,"question_id":31309673,"body_markdown":"If using maven repository [apache-ldap-api][1] as LDAP client library, we can use Util class [FilterEncoder][2] to handle encoding of special characters in LDAP search filter values as below\r\n\r\n    filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\r\n\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\r\n  [2]: https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html","title":"Parse ldap filter to escape special characters","body":"<p>If using maven repository <a href=\"https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\" rel=\"nofollow noreferrer\">apache-ldap-api</a> as LDAP client library, we can use Util class <a href=\"https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html\" rel=\"nofollow noreferrer\">FilterEncoder</a> to handle encoding of special characters in LDAP search filter values as below</p>\n<pre><code>filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\n</code></pre>\n"}],"owner":{"account_id":3135547,"reputation":1278,"user_id":2652122,"accept_rate":71,"display_name":"Robert Mugattarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15025,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41749853,"answer_count":5,"score":7,"last_activity_date":1678288551,"creation_date":1436423215,"question_id":31309673,"body_markdown":"An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\r\n&lt;br&gt;&lt;br&gt;The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\r\n&lt;br&gt;and for distinguished name attibute values as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\r\n&lt;br&gt;In order to accomplish this the service must do the following:\r\n\r\n 1. Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.\r\n 2. Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.\r\n 3. Combine the results as the new escaped filter and pass it on.\r\n\r\nJava native `javax.naming.ldap.Rdn` escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\r\n&lt;br&gt;&lt;br&gt;Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\r\n&lt;br&gt;&lt;br&gt;Any ideas on how to solve this? Can this task be automated at all?","title":"Parse ldap filter to escape special characters","body":"<p>An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\n<br><br>The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx</a>\n<br>and for distinguished name attibute values as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx</a>\n<br>In order to accomplish this the service must do the following:</p>\n\n<ol>\n<li>Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.</li>\n<li>Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.</li>\n<li>Combine the results as the new escaped filter and pass it on.</li>\n</ol>\n\n<p>Java native <code>javax.naming.ldap.Rdn</code> escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\n<br><br>Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\n<br><br>Any ideas on how to solve this? Can this task be automated at all?</p>\n"},{"tags":["java","spring","spring-mvc","localization","internationalization"],"answers":[{"comments":[{"owner":{"account_id":1249312,"reputation":20734,"user_id":1210071,"accept_rate":83,"display_name":"Adrian Ber"},"score":0,"creation_date":1426708814,"post_id":12115254,"comment_id":46488827,"body_markdown":"The second link gives 404. Is this code part of a package? (hopefully a Maven package) Under which license is distributed?","body":"The second link gives 404. Is this code part of a package? (hopefully a Maven package) Under which license is distributed?"},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1504292745,"post_id":12115254,"comment_id":78974085,"body_markdown":"@Daniele: fixed","body":"@Daniele: fixed"},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":0,"creation_date":1535463519,"post_id":12115254,"comment_id":91068799,"body_markdown":"@Michael: The code and JavaDoc is in my answer. The links are for reference of the source","body":"@Michael: The code and JavaDoc is in my answer. The links are for reference of the source"}],"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1504292732,"creation_date":1345835142,"answer_id":12115254,"question_id":12107317,"body_markdown":"I think you need to write your own [LocaleResolver][1] that wraps a list of Spring&#39;s locale resolvers. You call them one after the other until a `Locale` is resolved. If the list does not produce a `Locale`, you provide a default behavior in your `LocaleResolver`.\r\n\r\nHere are some links you might find useful:\r\n\r\nhttp://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\r\n\r\nhttps://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\r\n\r\nOr if you prefer a view from both the links:\r\n\r\n    package org.lds.stack.web.spring.i18n;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.web.servlet.LocaleResolver;\r\n    import org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\r\n    import org.springframework.web.servlet.i18n.FixedLocaleResolver;\r\n    \r\n    /**\r\n     * This locale resolver provides the ability to define a list of resolvers from which to determine\r\n     * the locale.  This allows us to give preference to certain locale resolution schemes by putting\r\n     * them earlier in the list.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The order of resolvers from which to find the given locale (or set a specified locale) could be\r\n     * defined in the spring context file with something like:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t&amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\r\n     * \t\t\t&amp;lt;list&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t\t\t\t&amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\r\n     * \t\t\t\t&amp;lt;/bean&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t&amp;lt;/list&amp;gt;\r\n     * \t\t&amp;lt;/property&amp;gt;\r\n     * \t&amp;lt;/bean&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\r\n     * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\r\n     * resolver as the LocaleResolver by virtue of the id being &quot;localeResolver&quot;.\r\n     * &lt;p/&gt;\r\n     * \r\n     * NOTE: If the default resolver order, shown above, will work for your application, then you can \r\n     * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \r\n     * attribute values for minor customizations.  The namespace handler is defined as follows:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;stack-web:locale-resolver /&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * Additionally, in order to change the locale based on a url parameter, you can configure a\r\n     * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\r\n     * resolver, so that they can be found when resolveLocale(...) is called on them.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The interceptor configuration might look as follows:\r\n     * &lt;pre&gt;\r\n     * \t&amp;lt;mvc:interceptors&amp;gt;\r\n     *\t\t&amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\r\n     *\t&amp;lt;/mvc:interceptors&amp;gt;\r\n     * &lt;/pre&gt;\r\n     */\r\n    public class ChainedLocaleResolver implements LocaleResolver {\r\n    \t\r\n    \tprivate List&lt;LocaleResolver&gt; localeResolvers;\r\n    \t\r\n    \tpublic ChainedLocaleResolver() {\r\n    \t\t//if anything other than this default order or set is desired, the list of resolvers\r\n    \t\t//to be chained should be set up in the bean definition as shown above\r\n    \t\tlocaleResolvers = new ArrayList&lt;LocaleResolver&gt;();\r\n    \t\t//TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\r\n    \t\tlocaleResolvers.add(new UrlLocaleResolver());\r\n    \t\tlocaleResolvers.add(new NoDefaultSessionLocaleResolver());\r\n    \t\tNoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\r\n    \t\tcookieLocaleResolver.setCookieMaxAge(31536000);\r\n    \t\tlocaleResolvers.add(cookieLocaleResolver);\r\n    \t\t//TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\r\n    \t\t//by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\r\n    \t\t//gets the default, and then if people did not use this one, they could add the fixed one back in.\r\n    \t\tlocaleResolvers.add(new AcceptHeaderLocaleResolver());\r\n    \t\tlocaleResolvers.add(new FixedLocaleResolver());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Locale resolveLocale(HttpServletRequest request) {\r\n    \t\tLocale locale = null;\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\tlocale = resolver.resolveLocale(request);\r\n    \t\t\tif (locale != null) {\r\n    \t\t\t\treturn locale;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn locale;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tresolver.setLocale(request, response, locale);\r\n    \t\t\t} catch (UnsupportedOperationException uoe) {}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;LocaleResolver&gt; getLocaleResolvers() {\r\n    \t\treturn localeResolvers;\r\n    \t}\r\n    \tpublic void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\r\n    \t\tthis.localeResolvers = localeResolvers;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html","title":"Spring LocaleResolver chaining","body":"<p>I think you need to write your own <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html\" rel=\"nofollow noreferrer\">LocaleResolver</a> that wraps a list of Spring's locale resolvers. You call them one after the other until a <code>Locale</code> is resolved. If the list does not produce a <code>Locale</code>, you provide a default behavior in your <code>LocaleResolver</code>.</p>\n\n<p>Here are some links you might find useful:</p>\n\n<p><a href=\"http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\" rel=\"nofollow noreferrer\">http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8</a></p>\n\n<p>Or if you prefer a view from both the links:</p>\n\n<pre><code>package org.lds.stack.web.spring.i18n;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.servlet.LocaleResolver;\nimport org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\nimport org.springframework.web.servlet.i18n.FixedLocaleResolver;\n\n/**\n * This locale resolver provides the ability to define a list of resolvers from which to determine\n * the locale.  This allows us to give preference to certain locale resolution schemes by putting\n * them earlier in the list.  \n * &lt;p/&gt;\n * \n * The order of resolvers from which to find the given locale (or set a specified locale) could be\n * defined in the spring context file with something like:\n * \n * &lt;pre&gt;\n * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\n *      &amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\n *          &amp;lt;list&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\n *                  &amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\n *              &amp;lt;/bean&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\n *          &amp;lt;/list&amp;gt;\n *      &amp;lt;/property&amp;gt;\n *  &amp;lt;/bean&amp;gt;\n * &lt;/pre&gt;\n * \n * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\n * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\n * resolver as the LocaleResolver by virtue of the id being \"localeResolver\".\n * &lt;p/&gt;\n * \n * NOTE: If the default resolver order, shown above, will work for your application, then you can \n * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \n * attribute values for minor customizations.  The namespace handler is defined as follows:\n * \n * &lt;pre&gt;\n * &amp;lt;stack-web:locale-resolver /&amp;gt;\n * &lt;/pre&gt;\n * \n * Additionally, in order to change the locale based on a url parameter, you can configure a\n * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\n * resolver, so that they can be found when resolveLocale(...) is called on them.  \n * &lt;p/&gt;\n * \n * The interceptor configuration might look as follows:\n * &lt;pre&gt;\n *  &amp;lt;mvc:interceptors&amp;gt;\n *      &amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\n *  &amp;lt;/mvc:interceptors&amp;gt;\n * &lt;/pre&gt;\n */\npublic class ChainedLocaleResolver implements LocaleResolver {\n\n    private List&lt;LocaleResolver&gt; localeResolvers;\n\n    public ChainedLocaleResolver() {\n        //if anything other than this default order or set is desired, the list of resolvers\n        //to be chained should be set up in the bean definition as shown above\n        localeResolvers = new ArrayList&lt;LocaleResolver&gt;();\n        //TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\n        localeResolvers.add(new UrlLocaleResolver());\n        localeResolvers.add(new NoDefaultSessionLocaleResolver());\n        NoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\n        cookieLocaleResolver.setCookieMaxAge(31536000);\n        localeResolvers.add(cookieLocaleResolver);\n        //TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\n        //by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\n        //gets the default, and then if people did not use this one, they could add the fixed one back in.\n        localeResolvers.add(new AcceptHeaderLocaleResolver());\n        localeResolvers.add(new FixedLocaleResolver());\n    }\n\n    @Override\n    public Locale resolveLocale(HttpServletRequest request) {\n        Locale locale = null;\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            locale = resolver.resolveLocale(request);\n            if (locale != null) {\n                return locale;\n            }\n        }\n        return locale;\n    }\n\n    @Override\n    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            try {\n                resolver.setLocale(request, response, locale);\n            } catch (UnsupportedOperationException uoe) {}\n        }\n    }\n\n    public List&lt;LocaleResolver&gt; getLocaleResolvers() {\n        return localeResolvers;\n    }\n    public void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\n        this.localeResolvers = localeResolvers;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1030240,"reputation":365,"user_id":1038698,"accept_rate":31,"display_name":"Fred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678288222,"creation_date":1678288222,"answer_id":75674825,"question_id":12107317,"body_markdown":"this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence\r\n\r\n 1. if LocaleIterceptor finds a &#39;lang&#39; request parameter, use that locale and also set a cookie \r\n2. Else, if there&#39;s a cookie, use that as the locale\r\n3. otherwise, fall back to the browser&#39;s locale.\r\n\r\nThis allows users and testers to quickly change the locale by just adding a &#39;?lang={locale} query parameter one time.  That&#39;ll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.","title":"Spring LocaleResolver chaining","body":"<p>this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence</p>\n<ol>\n<li>if LocaleIterceptor finds a 'lang' request parameter, use that locale and also set a cookie</li>\n<li>Else, if there's a cookie, use that as the locale</li>\n<li>otherwise, fall back to the browser's locale.</li>\n</ol>\n<p>This allows users and testers to quickly change the locale by just adding a '?lang={locale} query parameter one time.  That'll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.</p>\n"}],"owner":{"account_id":1126566,"reputation":3908,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2770,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12115254,"answer_count":2,"score":7,"last_activity_date":1678288222,"creation_date":1345802899,"question_id":12107317,"body_markdown":"Is it possible to chain locale resolvers?\r\n\r\nI&#39;d like to take the locale value from:\r\n\r\n 1. The session if maps with my accepted languages\r\n\r\n 2. The cookie if maps with my accepted languages\r\n\r\n 3. If both don&#39;t contain locale information extract it from the accept language and do the best match with my accepted locales.\r\n\r\nHow would you do that?","title":"Spring LocaleResolver chaining","body":"<p>Is it possible to chain locale resolvers?</p>\n\n<p>I'd like to take the locale value from:</p>\n\n<ol>\n<li><p>The session if maps with my accepted languages</p></li>\n<li><p>The cookie if maps with my accepted languages</p></li>\n<li><p>If both don't contain locale information extract it from the accept language and do the best match with my accepted locales.</p></li>\n</ol>\n\n<p>How would you do that?</p>\n"},{"tags":["java","extjs"],"comments":[{"owner":{"account_id":65891,"reputation":278,"user_id":193606,"accept_rate":50,"display_name":"Josh"},"score":0,"creation_date":1687366268,"post_id":74428533,"comment_id":134928007,"body_markdown":"Similar to https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9","body":"Similar to <a href=\"https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9\" title=\"ant running from maven antrun plugin cant find scripting engine on java 9\">stackoverflow.com/questions/43067454/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1421719,"reputation":4330,"user_id":1346203,"accept_rate":13,"display_name":"klodoma"},"score":4,"creation_date":1678443817,"post_id":75674809,"comment_id":133537572,"body_markdown":"Yes, its a workaround, not quite a solution, we want to move forward not backward.","body":"Yes, its a workaround, not quite a solution, we want to move forward not backward."},{"owner":{"account_id":144075,"reputation":165,"user_id":352856,"display_name":"giraffe"},"score":0,"creation_date":1691263666,"post_id":75674809,"comment_id":135469447,"body_markdown":"I use the same workaround but with Java 11 which is also an LTS release.","body":"I use the same workaround but with Java 11 which is also an LTS release."}],"tags":[],"owner":{"account_id":27966383,"reputation":9,"user_id":21357137,"display_name":"lonke_junior"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678288175,"creation_date":1678288175,"answer_id":75674809,"question_id":74428533,"body_markdown":"I had same issue, but with Java 17. \r\n\r\nI changed Java to version 8 and I restarted all terminals and it resolved my problem. ","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>I had same issue, but with Java 17.</p>\n<p>I changed Java to version 8 and I restarted all terminals and it resolved my problem.</p>\n"}],"owner":{"account_id":1421719,"reputation":4330,"user_id":1346203,"accept_rate":13,"display_name":"klodoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1678288175,"creation_date":1668413063,"question_id":74428533,"body_markdown":"Following the &quot;default&quot; installation of extjs, I can&#39;t get it running with any Java &gt; version 14.\r\n\r\nWith Java 14 the main warning is:\r\n```\r\n[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\r\n```\r\n\r\nWith Java 15 the `ant` build is failing:\r\n```\r\nException information:\r\n=======================\r\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\r\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\r\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\r\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\r\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\r\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\r\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\r\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\r\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\r\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\r\n     at com.sencha.cli.Command.dispatch(Command.java:43)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\r\n     at com.sencha.command.Sencha.main(Sencha.java:151)\r\n```\r\n\r\nhttps://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\r\n\r\nAny way to fix this?","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>Following the &quot;default&quot; installation of extjs, I can't get it running with any Java &gt; version 14.</p>\n<p>With Java 14 the main warning is:</p>\n<pre><code>[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\n</code></pre>\n<p>With Java 15 the <code>ant</code> build is failing:</p>\n<pre><code>Exception information:\n=======================\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\n     at com.sencha.cli.Command.dispatch(Command.java:43)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\n     at com.sencha.command.Sencha.main(Sencha.java:151)\n</code></pre>\n<p><a href=\"https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\" rel=\"noreferrer\">https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html</a></p>\n<p>Any way to fix this?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1678282390,"post_id":75673673,"comment_id":133501980,"body_markdown":"I would say that you don&#39;t need an interface for the configuration. The concrete implementations of ServiceX will need concrete implementations of the configuration. And I have a strong feeling that the method `Service.getConfig()` is a bad idea. Why would you like to leak the configuration of the service?","body":"I would say that you don&#39;t need an interface for the configuration. The concrete implementations of ServiceX will need concrete implementations of the configuration. And I have a strong feeling that the method <code>Service.getConfig()</code> is a bad idea. Why would you like to leak the configuration of the service?"}],"answers":[{"tags":[],"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678283548,"creation_date":1678283548,"answer_id":75673954,"question_id":75673673,"body_markdown":"You can use genericity in `Service` definition : \r\n\r\n```java\r\npublic interface Service&lt;T extends ServiceConfiguration&gt;{   \r\n   T getConfig()\r\n}\r\n```\r\n```public class ServiceA implements Service&lt;ServiceAConfiguration&gt;{}```\r\n\r\n\r\n```public class ServiceB implements Service&lt;ServiceBConfiguration&gt;{}```\r\n\r\n```java\r\npublic class ServiceAConfiguration implements ServiceConfiguration {\r\n    int port;\r\n    int version;\r\n    String url;\r\n}\r\n```\r\n```java\r\npublic class ServiceBConfiguration implements ServiceConfiguration {\r\n    int port;\r\n    Socket socket;\r\n    File file;\r\n}\r\n```\r\n\r\nYou no longer need to cast the configuration :\r\n\r\n```java\r\nService s = new ServiceA(...);\r\nServiceAConfiguration config = s.getConfig();\r\n```","title":"Different properties for different implementation of the Interface","body":"<p>You can use genericity in <code>Service</code> definition :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Service&lt;T extends ServiceConfiguration&gt;{   \n   T getConfig()\n}\n</code></pre>\n<p><code>public class ServiceA implements Service&lt;ServiceAConfiguration&gt;{}</code></p>\n<p><code>public class ServiceB implements Service&lt;ServiceBConfiguration&gt;{}</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    int port;\n    int version;\n    String url;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceBConfiguration implements ServiceConfiguration {\n    int port;\n    Socket socket;\n    File file;\n}\n</code></pre>\n<p>You no longer need to cast the configuration :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Service s = new ServiceA(...);\nServiceAConfiguration config = s.getConfig();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678291420,"post_id":75674764,"comment_id":133505050,"body_markdown":"Do you mean like how [`java.sql.DataSource`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html) interface has a `getConnection` method to produce a [`java.sql.Connection`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html) object? The `DataSource` is merely a holder of data fields needed to connect to database, like username, password, and a bunch of various config parameters that are proprietary to the concrete implementation of `DataSource` specific to a particular database engine (Postgres, MS SQL Server, MySQL, etc.).","body":"Do you mean like how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>java.sql.DataSource</code></a> interface has a <code>getConnection</code> method to produce a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\" rel=\"nofollow noreferrer\"><code>java.sql.Connection</code></a> object? The <code>DataSource</code> is merely a holder of data fields needed to connect to database, like username, password, and a bunch of various config parameters that are proprietary to the concrete implementation of <code>DataSource</code> specific to a particular database engine (Postgres, MS SQL Server, MySQL, etc.)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1678296320,"post_id":75674764,"comment_id":133506565,"body_markdown":"@BasilBourque Yes, exactly like that. Each `ServiceConfiguration` holds a bunch of different properties, and using them returns a configured `Connection`. I believe this is the factory design pattern, or at least a variation of it, but may be wrong.","body":"@BasilBourque Yes, exactly like that. Each <code>ServiceConfiguration</code> holds a bunch of different properties, and using them returns a configured <code>Connection</code>. I believe this is the factory design pattern, or at least a variation of it, but may be wrong."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678287936,"creation_date":1678287936,"answer_id":75674764,"question_id":75673673,"body_markdown":"It looks to me that you are using `Configuration`s as data carriers, thus the need to expose the actual state (port, url, etc.). I suggest that you change the approach and provide it whatever has to be configured, or create new configured object (whatever is more appropriate for your use case).\r\n\r\nProperties make it look like configurations for a connection, so i will use that as placeholder.\r\n```\r\npublic interface ServiceConfiguration {\r\n\r\n   Connection configureConnection();\r\n}\r\n```\r\n```\r\npublic class ServiceAConfiguration implements ServiceConfiguration {\r\n    //properties\r\n    \r\n    @Override\r\n    Connection configureConnection() {\r\n        return a connection using port, version and url;\r\n    }\r\n}\r\n```\r\n```\r\npublic class ServiceBConfiguration implements ServiceConfiguration {\r\n    //properties\r\n\r\n    @Override\r\n    Connection configureConnection() {\r\n        return a connection using port, socket and file;\r\n    }\r\n}\r\n```\r\nLike this you don&#39;t need to expose the actual configuration details to the outside world and consequently you don&#39;t need to cast `ServiceConfiguration` to the actual class.","title":"Different properties for different implementation of the Interface","body":"<p>It looks to me that you are using <code>Configuration</code>s as data carriers, thus the need to expose the actual state (port, url, etc.). I suggest that you change the approach and provide it whatever has to be configured, or create new configured object (whatever is more appropriate for your use case).</p>\n<p>Properties make it look like configurations for a connection, so i will use that as placeholder.</p>\n<pre><code>public interface ServiceConfiguration {\n\n   Connection configureConnection();\n}\n</code></pre>\n<pre><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    //properties\n    \n    @Override\n    Connection configureConnection() {\n        return a connection using port, version and url;\n    }\n}\n</code></pre>\n<pre><code>public class ServiceBConfiguration implements ServiceConfiguration {\n    //properties\n\n    @Override\n    Connection configureConnection() {\n        return a connection using port, socket and file;\n    }\n}\n</code></pre>\n<p>Like this you don't need to expose the actual configuration details to the outside world and consequently you don't need to cast <code>ServiceConfiguration</code> to the actual class.</p>\n"}],"owner":{"account_id":5152626,"reputation":331,"user_id":4126768,"accept_rate":36,"display_name":"Dingo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678287936,"creation_date":1678282136,"question_id":75673673,"body_markdown":"I have interface `Service`\r\n\r\n`public interface Service{}`\r\n\r\nAnd multiple implementations \r\n\r\n`public class ServiceA implements Service{}`\r\n\r\n`public class ServiceB implements Service{}`\r\n\r\nNow each service has some kind of configuration, e.g\r\n\r\n    public interface Service{   \r\n       ServiceConfiguration getConfig()\r\n    }\r\n\r\n\r\nHowever each of these implementation requires different configuration. So for example `ServiceA` needs `port`,`version`,`url` , serviceB needs `port`,`socket`,`file` and so on.\r\n\r\nWhat is some elegant and good practice way to achieve this? The only thing that comes to my mind is create implementation of `ServiceConfiguration` (and use it as Marker interface ) for each service, and then cast it, e.g\r\n\r\n`public interface ServiceConfiguration {}`\r\n\r\n    public class ServiceAConfiguration implements ServiceConfiguration {\r\n        int port;\r\n        int version;\r\n        String url;\r\n    }\r\n\r\n    public class ServiceBConfiguration implements ServiceConfiguration {\r\n        int port;\r\n        Socket socket;\r\n        File file;\r\n    }\r\n\r\nAnd then casting it in code like:\r\n\r\n    Service s = new ServiceA(...);\r\n    ServiceAConfiguration config = (ServiceAConfiguration)s.getConfig();\r\n\r\nIs there better way, some kind of best practice or some design pattern for this? So far i have found only `AbstractDocument` design pattern for dealing with properties but i think that is not applicable here.\r\n\r\nThanks for helP!","title":"Different properties for different implementation of the Interface","body":"<p>I have interface <code>Service</code></p>\n<p><code>public interface Service{}</code></p>\n<p>And multiple implementations</p>\n<p><code>public class ServiceA implements Service{}</code></p>\n<p><code>public class ServiceB implements Service{}</code></p>\n<p>Now each service has some kind of configuration, e.g</p>\n<pre><code>public interface Service{   \n   ServiceConfiguration getConfig()\n}\n</code></pre>\n<p>However each of these implementation requires different configuration. So for example <code>ServiceA</code> needs <code>port</code>,<code>version</code>,<code>url</code> , serviceB needs <code>port</code>,<code>socket</code>,<code>file</code> and so on.</p>\n<p>What is some elegant and good practice way to achieve this? The only thing that comes to my mind is create implementation of <code>ServiceConfiguration</code> (and use it as Marker interface ) for each service, and then cast it, e.g</p>\n<p><code>public interface ServiceConfiguration {}</code></p>\n<pre><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    int port;\n    int version;\n    String url;\n}\n\npublic class ServiceBConfiguration implements ServiceConfiguration {\n    int port;\n    Socket socket;\n    File file;\n}\n</code></pre>\n<p>And then casting it in code like:</p>\n<pre><code>Service s = new ServiceA(...);\nServiceAConfiguration config = (ServiceAConfiguration)s.getConfig();\n</code></pre>\n<p>Is there better way, some kind of best practice or some design pattern for this? So far i have found only <code>AbstractDocument</code> design pattern for dealing with properties but i think that is not applicable here.</p>\n<p>Thanks for helP!</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678290018,"post_id":75674749,"comment_id":133504547,"body_markdown":"You wrote: &quot;when I package the app as a JDK image&quot;. Does it mean the package contains Java libraries? I guess this would be wrong as they are already there on PCF. The error says that you need &quot;a single, compatible version of org.apache.catalina.core.StandardContext&quot;.","body":"You wrote: &quot;when I package the app as a JDK image&quot;. Does it mean the package contains Java libraries? I guess this would be wrong as they are already there on PCF. The error says that you need &quot;a single, compatible version of org.apache.catalina.core.StandardContext&quot;."}],"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678287874,"creation_date":1678287874,"question_id":75674749,"body_markdown":"I have a spring boot app that&#39;s configured to use springboot 3.0.3 and JDK 17. I am able to run the app successfully in the IntelliJ but when I package the app as a JDK image and deploy on to our cloud provider, I get an error saying NoSuchMethodError.\r\n\r\nFrom the logs, I gather that there is some class level conflict but both the calling method and called method are from the same class that&#39;s loaded from the same exact file. I&#39;m really confused and unsure why this error is happening. I can paste my enter pom file if it helps to troubleshoot the issue.\r\n\r\n     [OUT] ***************************\r\n     [OUT] APPLICATION FAILED TO START\r\n     [OUT] ***************************\r\n     [OUT] Description:\r\n     [OUT] An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n     [OUT] org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n     [OUT] The following method did not exist:\r\n     [OUT] &#39;javax.servlet.ServletContext org.apache.catalina.core.StandardContext.getServletContext()&#39;\r\n     [OUT] The calling method&#39;s class, org.apache.catalina.core.StandardContext, was loaded from the following location:\r\n     [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\r\n     [OUT] The called method&#39;s class, org.apache.catalina.core.StandardContext, is available from the following locations:\r\n     [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\r\n     [OUT] The called method&#39;s class hierarchy was loaded from the following locations:\r\n     [OUT] org.apache.catalina.core.StandardContext: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.core.ContainerBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.util.LifecycleMBeanBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.util.LifecycleBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] Action:\r\n     [OUT] Correct the classpath of your application so that it contains a single, compatible version of org.apache.catalina.core.StandardContext","title":"Springboot app failing to start when deployed on to PCF","body":"<p>I have a spring boot app that's configured to use springboot 3.0.3 and JDK 17. I am able to run the app successfully in the IntelliJ but when I package the app as a JDK image and deploy on to our cloud provider, I get an error saying NoSuchMethodError.</p>\n<p>From the logs, I gather that there is some class level conflict but both the calling method and called method are from the same class that's loaded from the same exact file. I'm really confused and unsure why this error is happening. I can paste my enter pom file if it helps to troubleshoot the issue.</p>\n<pre><code> [OUT] ***************************\n [OUT] APPLICATION FAILED TO START\n [OUT] ***************************\n [OUT] Description:\n [OUT] An attempt was made to call a method that does not exist. The attempt was made from the following location:\n [OUT] org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n [OUT] The following method did not exist:\n [OUT] 'javax.servlet.ServletContext org.apache.catalina.core.StandardContext.getServletContext()'\n [OUT] The calling method's class, org.apache.catalina.core.StandardContext, was loaded from the following location:\n [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\n [OUT] The called method's class, org.apache.catalina.core.StandardContext, is available from the following locations:\n [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\n [OUT] The called method's class hierarchy was loaded from the following locations:\n [OUT] org.apache.catalina.core.StandardContext: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.core.ContainerBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.util.LifecycleMBeanBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.util.LifecycleBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] Action:\n [OUT] Correct the classpath of your application so that it contains a single, compatible version of org.apache.catalina.core.StandardContext\n</code></pre>\n"},{"tags":["java","xml","soap","xsd","jaxb"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678133668,"post_id":75655387,"comment_id":133471226,"body_markdown":"annotating the attribute with @XmlElement(nillable=true) doesn&#39;t work?","body":"annotating the attribute with @XmlElement(nillable=true) doesn&#39;t work?"},{"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"score":0,"creation_date":1678133911,"post_id":75655387,"comment_id":133471284,"body_markdown":"doesn&#39;t work, it marks tag in the xsd like &lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt; but in the code variable year=0, not null","body":"doesn&#39;t work, it marks tag in the xsd like &lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt; but in the code variable year=0, not null"},{"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"score":0,"creation_date":1678140948,"post_id":75655387,"comment_id":133472838,"body_markdown":"So set it as a string and give that variable regex that just able enter integer value","body":"So set it as a string and give that variable regex that just able enter integer value"}],"answers":[{"tags":[],"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287846,"creation_date":1678287493,"answer_id":75674676,"question_id":75655387,"body_markdown":"It looks like Skaffman&#39;s answer [JAXB: how to make JAXB NOT to unmarshal empty string to 0][1] in the link in the description is the best option after all.\r\n\r\nI annotated my fields like this:\r\n\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer year;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer month;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer day;\r\n\r\nAdded some annotations to the class declaration:\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class LocalDate\r\n\r\nAnd created adapter class:\r\n\r\n    public class XmlStringToIntegerAdapter extends XmlAdapter&lt;String, Integer&gt; {\r\n    public Integer unmarshal(String value) {\r\n        return new Integer(value);\r\n    }\r\n\r\n    public String marshal(Integer value) {\r\n        if (value == null) {\r\n            return null;\r\n        }\r\n        return value.toString();\r\n    }}\r\n\r\n  [1]: https://stackoverflow.com/questions/5133250/jaxb-how-to-make-jaxb-not-to-unmarshal-empty-string-to-0#5133273","title":"How to get null object for Integer class from Soap message request?","body":"<p>It looks like Skaffman's answer <a href=\"https://stackoverflow.com/questions/5133250/jaxb-how-to-make-jaxb-not-to-unmarshal-empty-string-to-0#5133273\">JAXB: how to make JAXB NOT to unmarshal empty string to 0</a> in the link in the description is the best option after all.</p>\n<p>I annotated my fields like this:</p>\n<pre><code>@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer year;\n@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer month;\n@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer day;\n</code></pre>\n<p>Added some annotations to the class declaration:</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class LocalDate\n</code></pre>\n<p>And created adapter class:</p>\n<pre><code>public class XmlStringToIntegerAdapter extends XmlAdapter&lt;String, Integer&gt; {\npublic Integer unmarshal(String value) {\n    return new Integer(value);\n}\n\npublic String marshal(Integer value) {\n    if (value == null) {\n        return null;\n    }\n    return value.toString();\n}}\n</code></pre>\n"}],"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678287846,"creation_date":1678133323,"question_id":75655387,"body_markdown":"Soap is a new technology for me. I get a Soap message request, this is a part of it\r\n\r\n```\r\n&lt;patient&gt;\r\n\t\t\t\t&lt;dateOfBirth&gt;\r\n\t\t\t\t\t&lt;year&gt;&lt;/year&gt;\r\n\t\t\t\t\t&lt;month&gt;&lt;/month&gt;\r\n\t\t\t\t\t&lt;day&gt;&lt;/day&gt;\r\n\t\t\t\t&lt;/dateOfBirth&gt;\r\n\t\t\t\t&lt;firstName&gt;Ivan&lt;/firstName&gt;\r\n\t\t\t\t&lt;lastName&gt;Luku&lt;/lastName&gt;\t\t\r\n\t\t\t&lt;/patient&gt;\r\n```\r\nThis is xsd schema for this part.\r\n\r\n```\r\nxs:complexType name=&quot;personVO&quot;&gt;\r\n&lt;xs:complexContent&gt;\r\n&lt;xs:extension base=&quot;tns:tenantableVO&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;dateOfBirth&quot; type=&quot;tns:localDateVO&quot;/&gt;\r\n&lt;xs:element name=&quot;firstName&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;xs:element name=&quot;lastName&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:extension&gt;\r\n&lt;/xs:complexContent&gt;\r\n&lt;/xs:complexType&gt;\r\n\r\n------------------------------------------\r\n&lt;xs:complexType name=&quot;localDateVO&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;day&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;xs:element name=&quot;month&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\nAs you can see year, day, month in the dateOfBirth tag have empty value. This variable presented in java code like Integer type. What should I do to get null for this variable after got this request?\r\n\r\nI tried to write annotation above the get methods, but it didn&#39;t work. When I wrote annotation @XmlAttribute it gives me null always whether there are values or not.\r\n\r\n\r\n```\r\n    @XmlAttribute\r\n    public Integer getDay() {\r\n        return day;\r\n    }\r\n    @XmlAttribute\r\n    public Integer getMonth() {\r\n        return month;\r\n    }\r\n    @XmlAttribute\r\n    public Integer getYear() {\r\n        return year;\r\n    }\r\n```\r\nAnd I tried to do the same annotation for field, but it&#39;s give me error like this (Class has two properties of the same name)","title":"How to get null object for Integer class from Soap message request?","body":"<p>Soap is a new technology for me. I get a Soap message request, this is a part of it</p>\n<pre><code>&lt;patient&gt;\n                &lt;dateOfBirth&gt;\n                    &lt;year&gt;&lt;/year&gt;\n                    &lt;month&gt;&lt;/month&gt;\n                    &lt;day&gt;&lt;/day&gt;\n                &lt;/dateOfBirth&gt;\n                &lt;firstName&gt;Ivan&lt;/firstName&gt;\n                &lt;lastName&gt;Luku&lt;/lastName&gt;       \n            &lt;/patient&gt;\n</code></pre>\n<p>This is xsd schema for this part.</p>\n<pre><code>xs:complexType name=&quot;personVO&quot;&gt;\n&lt;xs:complexContent&gt;\n&lt;xs:extension base=&quot;tns:tenantableVO&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;dateOfBirth&quot; type=&quot;tns:localDateVO&quot;/&gt;\n&lt;xs:element name=&quot;firstName&quot; type=&quot;xs:string&quot;/&gt;\n&lt;xs:element name=&quot;lastName&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:extension&gt;\n&lt;/xs:complexContent&gt;\n&lt;/xs:complexType&gt;\n\n------------------------------------------\n&lt;xs:complexType name=&quot;localDateVO&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;day&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;xs:element name=&quot;month&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>As you can see year, day, month in the dateOfBirth tag have empty value. This variable presented in java code like Integer type. What should I do to get null for this variable after got this request?</p>\n<p>I tried to write annotation above the get methods, but it didn't work. When I wrote annotation @XmlAttribute it gives me null always whether there are values or not.</p>\n<pre><code>    @XmlAttribute\n    public Integer getDay() {\n        return day;\n    }\n    @XmlAttribute\n    public Integer getMonth() {\n        return month;\n    }\n    @XmlAttribute\n    public Integer getYear() {\n        return year;\n    }\n</code></pre>\n<p>And I tried to do the same annotation for field, but it's give me error like this (Class has two properties of the same name)</p>\n"},{"tags":["java","eclipse","gradle","cxf"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670335541,"post_id":74703600,"comment_id":131849115,"body_markdown":"No, eclipse has known support for this stuff. Most likely culprit: Eclipse thinks the project&#39;s &#39;release&#39; level is lower than 14. Gradle is technically turing complete so presumably if you change the gradle build file you need to tell either gradle or eclipse to reload a few things or it&#39;s not going to be able to pick up the change to sourceCompat. Also, &#39;sourceCompatibility&#39; is old style - the modern way is to combine source and target into &#39;release&#39;. A full answer to this question should probably include more details about how to properly set up the gradle build - I&#39;m not familiar enough.","body":"No, eclipse has known support for this stuff. Most likely culprit: Eclipse thinks the project&#39;s &#39;release&#39; level is lower than 14. Gradle is technically turing complete so presumably if you change the gradle build file you need to tell either gradle or eclipse to reload a few things or it&#39;s not going to be able to pick up the change to sourceCompat. Also, &#39;sourceCompatibility&#39; is old style - the modern way is to combine source and target into &#39;release&#39;. A full answer to this question should probably include more details about how to properly set up the gradle build - I&#39;m not familiar enough."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1670337096,"post_id":74703600,"comment_id":131849724,"body_markdown":"Eclipse knows about all these things and everything up to Java 18 (Java 19 in Eclipse 2022-12 released tomorrow). Check the project Java properties to see what compliance level you have set.","body":"Eclipse knows about all these things and everything up to Java 18 (Java 19 in Eclipse 2022-12 released tomorrow). Check the project Java properties to see what compliance level you have set."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1670338301,"post_id":74703600,"comment_id":131850259,"body_markdown":"compiler screenshot attached, as you suggested I&#39;ll try 2022-12 eclipse version as well","body":"compiler screenshot attached, as you suggested I&#39;ll try 2022-12 eclipse version as well"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670340148,"post_id":74703600,"comment_id":131851012,"body_markdown":"Eclipse 2022-09 supports Java 17, Java 18 and lower. How to reproduce your issue? Where is your issue: in the Java editor (project settings looks fine, but disabling _Use default compliance settings_ does not make sense here), running Gradle (Gradle preferences looks fine, but might be overridden by the Gradle run configuration) or when running your application (show your launch configuration).","body":"Eclipse 2022-09 supports Java 17, Java 18 and lower. How to reproduce your issue? Where is your issue: in the Java editor (project settings looks fine, but disabling <i>Use default compliance settings</i> does not make sense here), running Gradle (Gradle preferences looks fine, but might be overridden by the Gradle run configuration) or when running your application (show your launch configuration)."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676287809,"post_id":74703600,"comment_id":133100394,"body_markdown":"@howlger more screenshots added, thanks","body":"@howlger more screenshots added, thanks"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676290528,"post_id":74703600,"comment_id":133101128,"body_markdown":"Your `build.gradle` seems to be wrong. `sourceCompatibility = 1.8` means Java 8 which does not have those language features of Java 17 you are using. There should no `eclipse { ... }` section at all in your `build.gradle`.","body":"Your <code>build.gradle</code> seems to be wrong. <code>sourceCompatibility = 1.8</code> means Java 8 which does not have those language features of Java 17 you are using. There should no <code>eclipse { ... }</code> section at all in your <code>build.gradle</code>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676303848,"post_id":74703600,"comment_id":133105538,"body_markdown":"@howlger thanks for your input, I&#39;ve applied 17 instead of 1.8 but the issue still same","body":"@howlger thanks for your input, I&#39;ve applied 17 instead of 1.8 but the issue still same"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676304786,"post_id":74703600,"comment_id":133105884,"body_markdown":"According to your screenshot you still have `sourceCompatibility = 1.8` which is clearly wrong. Your `build.gradle` should not have an `eclipse { ... } section` at all! Please show your [minimal `build.gradle` with which your issue can be reproduced](https://stackoverflow.com/help/minimal-reproducible-example).","body":"According to your screenshot you still have <code>sourceCompatibility = 1.8</code> which is clearly wrong. Your <code>build.gradle</code> should not have an <code>eclipse { ... } section</code> at all! Please show your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal <code>build.gradle</code> with which your issue can be reproduced</a>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676306109,"post_id":74703600,"comment_id":133106339,"body_markdown":"@howlger, Please find the attached build gradle file. thanks\nhttps://notepad.link/share/O310KvZsEhGICCOhOazM","body":"@howlger, Please find the attached build gradle file. thanks <a href=\"https://notepad.link/share/O310KvZsEhGICCOhOazM\" rel=\"nofollow noreferrer\">notepad.link/share/O310KvZsEhGICCOhOazM</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676307302,"post_id":74703600,"comment_id":133106714,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Again, the whole `eclipse { ... }` section looks quite suspicious.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Again, the whole <code>eclipse { ... }</code> section looks quite suspicious."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676308051,"post_id":74703600,"comment_id":133106955,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251835/discussion-between-priyanwl2022-and-howlger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251835/discussion-between-priyanwl2022-and-howlger\">continue this discussion in chat</a>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676325728,"post_id":74703600,"comment_id":133111471,"body_markdown":"@howlger\nPlease refer to the attached example &gt;&gt; https://drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/view?usp=sharing\nhope it helps you to reproduce the issue. Thank you so much.!","body":"@howlger Please refer to the attached example &gt;&gt; <a href=\"https://drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/&hellip;</a> hope it helps you to reproduce the issue. Thank you so much.!"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676974874,"post_id":74703600,"comment_id":133240611,"body_markdown":"@howlger, I&#39;ve shared Minimal, Reproducible Example via above link. is it helpful for you.?","body":"@howlger, I&#39;ve shared Minimal, Reproducible Example via above link. is it helpful for you.?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676980940,"post_id":74703600,"comment_id":133242428,"body_markdown":"11 MB is far from being minimal. According to the screenshots, you have `sourceCompatibility = 1.8` which is wrong and I doubt inside `eclipse { ... }` is the right place.","body":"11 MB is far from being minimal. According to the screenshots, you have <code>sourceCompatibility = 1.8</code> which is wrong and I doubt inside <code>eclipse { ... }</code> is the right place."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676994882,"post_id":74703600,"comment_id":133247230,"body_markdown":"@howlger, sorry that is because of the hidden .git folder, I&#39;ve removed that one.\nnow its almost 10KB","body":"@howlger, sorry that is because of the hidden .git folder, I&#39;ve removed that one. now its almost 10KB"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677062954,"post_id":74703600,"comment_id":133261909,"body_markdown":"@howlger, have you got any clue from the example.? - thanks","body":"@howlger, have you got any clue from the example.? - thanks"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1677073238,"post_id":74703600,"comment_id":133265038,"body_markdown":"With a `build.gradle` file in `service/Service` that contains the three lines `plugins { id &#39;application&#39; }`, `sourceCompatibility = &#39;17&#39;` and `targetCompatibility = &#39;17&#39;` it works for me (imported via _File &gt; Import...: Grade &gt; Existing Gradle Project_ and fixing the broken Java example code, e.g. `switch (type)` where `type` is a String does not work with cases of enum types, etc.). It&#39;s recommended (and maybe required by Eclipse) to have `build.gradle` file in each Gradle project. Settings outside the project (to avoid redundancy), are hard to read and against self-contained modules.","body":"With a <code>build.gradle</code> file in <code>service&#47;Service</code> that contains the three lines <code>plugins { id &#39;application&#39; }</code>, <code>sourceCompatibility = &#39;17&#39;</code> and <code>targetCompatibility = &#39;17&#39;</code> it works for me (imported via <i>File &gt; Import...: Grade &gt; Existing Gradle Project</i> and fixing the broken Java example code, e.g. <code>switch (type)</code> where <code>type</code> is a String does not work with cases of enum types, etc.). It&#39;s recommended (and maybe required by Eclipse) to have <code>build.gradle</code> file in each Gradle project. Settings outside the project (to avoid redundancy), are hard to read and against self-contained modules."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1677074141,"post_id":74703600,"comment_id":133265328,"body_markdown":"`eclipse { jdt { sourceCompatibility = 17 } }` sets the source compatibility, but not the target compatibility and misses also to set the system library on the Java Build Path. You should have `sourceCompatibility = 17` and `targetCompatibility = 17` outside of `eclipse { ... }` in a `build.gradle` file instead.","body":"<code>eclipse { jdt { sourceCompatibility = 17 } }</code> sets the source compatibility, but not the target compatibility and misses also to set the system library on the Java Build Path. You should have <code>sourceCompatibility = 17</code> and <code>targetCompatibility = 17</code> outside of <code>eclipse { ... }</code> in a <code>build.gradle</code> file instead."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677079250,"post_id":74703600,"comment_id":133267160,"body_markdown":"@howlger thanks a lot for your inputs. its really means a lot to me. seems lot of faults in my side even importing project part (previously I did using import git-project). Thanks again I&#39;ll fix the issues based on your advises. Have a nice day.!","body":"@howlger thanks a lot for your inputs. its really means a lot to me. seems lot of faults in my side even importing project part (previously I did using import git-project). Thanks again I&#39;ll fix the issues based on your advises. Have a nice day.!"}],"answers":[{"tags":[],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287583,"creation_date":1678287583,"answer_id":75674698,"question_id":74703600,"body_markdown":"This is not a solution but an alternative way, &lt;br/&gt;\r\nwe can used when we need to fix build issues in gradle + eclipse + java.&lt;br/&gt;\r\n&lt;br/&gt;\r\nI&#39;ve tried and resolved in a following way.&lt;br/&gt;\r\n\r\n 1. `./gradlew eclipse` and make project to eclipse type project\r\n \r\n 2. `./gradlew clean install`\r\n 3. import project to eclipse\r\n 4. get all libraries from\r\n    `&lt;projectName&gt;\\build\\install\\&lt;projectName&gt;\\lib\\`\r\n 5. apply them to build-path manually\r\n 6. run the project","title":"Why eclipse not detect java 14+ changes.?","body":"<p>This is not a solution but an alternative way, <br/>\nwe can used when we need to fix build issues in gradle + eclipse + java.<br/>\n<br/>\nI've tried and resolved in a following way.<br/></p>\n<ol>\n<li><p><code>./gradlew eclipse</code> and make project to eclipse type project</p>\n</li>\n<li><p><code>./gradlew clean install</code></p>\n</li>\n<li><p>import project to eclipse</p>\n</li>\n<li><p>get all libraries from\n<code>&lt;projectName&gt;\\build\\install\\&lt;projectName&gt;\\lib\\</code></p>\n</li>\n<li><p>apply them to build-path manually</p>\n</li>\n<li><p>run the project</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678287583,"creation_date":1670334408,"question_id":74703600,"body_markdown":"I&#39;m running java project which is using CXF. Eclipse version: 2022-09 (4.25.0). Gradle used as a build tool and using gradle-7.3 version. OpenJDK set to the build path and it is openjdk-17.0.1, also compiler \r\nin gradle file, tried with sourceCompatibility = 14 and latest versions.\r\n\r\n\r\nIt is not detecting below Java features.\r\n\r\n- record\r\n\r\n  `private record CommercialAgreement(Set&lt;Long&gt; agreementIds, Double value) {}`\r\n\r\n- diamond operator &lt;&gt; (without types)\r\n\r\n  `List&lt;Shop&gt; shops = getShopsList(ids, new TypeToken&lt;&gt;() {});`\r\n\r\n- arrow in case statement &amp; with return statements &amp; multi constants case labels\r\n\r\n    ```\r\n    return switch (date) {\r\n        case 1, 2 -&gt; format(input, begin);\r\n        case 3, 4, 5 -&gt; format(input, mid);\r\n        case 6, 7 -&gt; format(input, end);\r\n        default -&gt; input;\r\n    };\r\n    ```\r\n\r\nAre they known bugs or do we need to get some specific eclipse version to avoid these issues?\r\n\r\n[![Eclipse compiler tab][1]][1]\r\n\r\n[![Gradle configs tab][2]][2]\r\n\r\n\r\nMore screenshots added\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\nPlease find the updated gradle build file here &gt;&gt;\r\n[https://notepad.link/share/O310KvZsEhGICCOhOazM][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RayW5.png\r\n  [2]: https://i.stack.imgur.com/cqAKu.png\r\n  [3]: https://i.stack.imgur.com/xQNIa.png\r\n  [4]: https://i.stack.imgur.com/zBmt2.png\r\n  [5]: https://i.stack.imgur.com/5fko6.png\r\n  [6]: https://i.stack.imgur.com/CL7Xl.png\r\n  [7]: https://i.stack.imgur.com/qZmMf.png\r\n  [8]: https://notepad.link/share/O310KvZsEhGICCOhOazM","title":"Why eclipse not detect java 14+ changes.?","body":"<p>I'm running java project which is using CXF. Eclipse version: 2022-09 (4.25.0). Gradle used as a build tool and using gradle-7.3 version. OpenJDK set to the build path and it is openjdk-17.0.1, also compiler\nin gradle file, tried with sourceCompatibility = 14 and latest versions.</p>\n<p>It is not detecting below Java features.</p>\n<ul>\n<li><p>record</p>\n<p><code>private record CommercialAgreement(Set&lt;Long&gt; agreementIds, Double value) {}</code></p>\n</li>\n<li><p>diamond operator &lt;&gt; (without types)</p>\n<p><code>List&lt;Shop&gt; shops = getShopsList(ids, new TypeToken&lt;&gt;() {});</code></p>\n</li>\n<li><p>arrow in case statement &amp; with return statements &amp; multi constants case labels</p>\n<pre><code>return switch (date) {\n    case 1, 2 -&gt; format(input, begin);\n    case 3, 4, 5 -&gt; format(input, mid);\n    case 6, 7 -&gt; format(input, end);\n    default -&gt; input;\n};\n</code></pre>\n</li>\n</ul>\n<p>Are they known bugs or do we need to get some specific eclipse version to avoid these issues?</p>\n<p><a href=\"https://i.stack.imgur.com/RayW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RayW5.png\" alt=\"Eclipse compiler tab\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cqAKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cqAKu.png\" alt=\"Gradle configs tab\" /></a></p>\n<p>More screenshots added</p>\n<p><a href=\"https://i.stack.imgur.com/xQNIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQNIa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zBmt2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zBmt2.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5fko6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fko6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CL7Xl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CL7Xl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qZmMf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZmMf.png\" alt=\"enter image description here\" /></a></p>\n<p>Please find the updated gradle build file here &gt;&gt;\n<a href=\"https://notepad.link/share/O310KvZsEhGICCOhOazM\" rel=\"nofollow noreferrer\">https://notepad.link/share/O310KvZsEhGICCOhOazM</a></p>\n"},{"tags":["java","android","radio-button"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1678285715,"post_id":75674288,"comment_id":133503094,"body_markdown":"You may change buttons text based on selected radio ... Where is the problem ?","body":"You may change buttons text based on selected radio ... Where is the problem ?"},{"owner":{"account_id":27642825,"reputation":25,"user_id":21099413,"display_name":"kyesia"},"score":0,"creation_date":1678287633,"post_id":75674288,"comment_id":133503696,"body_markdown":"Each button has a different function.","body":"Each button has a different function."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1678287746,"post_id":75674288,"comment_id":133503730,"body_markdown":"and ? ... you can have in onClick `if(radio1checked) { doButtonXCode1() } else { doButtonXCode2() }`","body":"and ? ... you can have in onClick <code>if(radio1checked) { doButtonXCode1() } else { doButtonXCode2() }</code>"}],"answers":[{"tags":[],"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678287494,"creation_date":1678287494,"answer_id":75674678,"question_id":75674288,"body_markdown":"you can simply add in you XML layout two different radio groups, with their personal ID.\r\nSo, based on check selected, you hide and show the correct radio-groups.\r\n\r\nExample:\r\n\r\n    radioA.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n           @Override\r\n           public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\r\n    //show groupA\r\n    //hide groupB\r\n           }\r\n       }\r\n    );     \r\n\r\n\r\n\r\n    radioB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n        \r\n               @Override\r\n               public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\r\n        //show groupB\r\n        //hide groupA\r\n               }\r\n           }\r\n        );   \r\n\r\n","title":"Show views depending on radio button selection","body":"<p>you can simply add in you XML layout two different radio groups, with their personal ID.\nSo, based on check selected, you hide and show the correct radio-groups.</p>\n<p>Example:</p>\n<pre><code>radioA.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n       @Override\n       public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\n//show groupA\n//hide groupB\n       }\n   }\n);     \n\n\n\nradioB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n    \n           @Override\n           public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\n    //show groupB\n    //hide groupA\n           }\n       }\n    );   \n</code></pre>\n"}],"owner":{"account_id":27642825,"reputation":25,"user_id":21099413,"display_name":"kyesia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75674678,"answer_count":1,"score":0,"last_activity_date":1678287494,"creation_date":1678285339,"question_id":75674288,"body_markdown":"Thank you for understanding my lack of English skills.\r\n\r\nI am working on an android app in java. Is there a way to change the group of 6 buttons according to the selection of A Radio button and B Radio button?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/F5y90.png)](https://i.stack.imgur.com/F5y90.png)[![enter image description here](https://i.stack.imgur.com/Fu9jf.png)](https://i.stack.imgur.com/Fu9jf.png)\r\n\r\nI didn&#39;t try because I didn&#39;t have a good idea.","title":"Show views depending on radio button selection","body":"<p>Thank you for understanding my lack of English skills.</p>\n<p>I am working on an android app in java. Is there a way to change the group of 6 buttons according to the selection of A Radio button and B Radio button?</p>\n<p><a href=\"https://i.stack.imgur.com/F5y90.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5y90.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/Fu9jf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fu9jf.png\" alt=\"enter image description here\" /></a></p>\n<p>I didn't try because I didn't have a good idea.</p>\n"},{"tags":["java","sql-server","hibernate","jpa"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1633468780,"post_id":69453483,"comment_id":122767067,"body_markdown":"Is this [relevant](https://stackoverflow.com/a/42485612/390122)?","body":"Is this <a href=\"https://stackoverflow.com/a/42485612/390122\">relevant</a>?"},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1633504353,"post_id":69453483,"comment_id":122773710,"body_markdown":"The `@Type` annotation did the trick. I never noticed that the UUIDs were actually the same but had different representation. Thanks for googling that for me!","body":"The <code>@Type</code> annotation did the trick. I never noticed that the UUIDs were actually the same but had different representation. Thanks for googling that for me!"}],"answers":[{"tags":[],"owner":{"account_id":15139639,"reputation":31,"user_id":10925031,"display_name":"MadeInDigital"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287233,"creation_date":1678287233,"answer_id":75674624,"question_id":69453483,"body_markdown":"With Spring 3 / Hibernate 6 **@Type(type = &quot;uuid-char&quot;)** is not available anymore.\r\n\r\nYou can specify\r\n\r\n`spring.jpa.properties.hibernate.type.preferred_uuid_jdbc_type: CHAR`\r\n\r\nin your application.yml in order to convert uuid type globally.\r\n\r\nSee also: https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html","title":"JPA mapping for SQL Server UNIQUEIDENTIFIER with `default NEWID()`","body":"<p>With Spring 3 / Hibernate 6 <strong>@Type(type = &quot;uuid-char&quot;)</strong> is not available anymore.</p>\n<p>You can specify</p>\n<p><code>spring.jpa.properties.hibernate.type.preferred_uuid_jdbc_type: CHAR</code></p>\n<p>in your application.yml in order to convert uuid type globally.</p>\n<p>See also: <a href=\"https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html</a></p>\n"}],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678287233,"creation_date":1633448431,"question_id":69453483,"body_markdown":"I am struggling to insert JPA mapped entities (via a Spring Data `CrudRepository`) into a table on SQL Server 2019 that has a primary key column of type `UNIQUEIDENTIFIER` and a default value of `NEWID()`. \r\n\r\n```sql\r\nCREATE TABLE some_table\r\n(\r\n  id UNIQUEIDENTIFIER not null primary key default NEWID(),\r\n  -- ...\r\n)\r\n```\r\n\r\n\r\nThe problem is that all variations I managed to get to work involve a UUID generator on the JPA/Hibernate side and I end up with two different UUID values in the table and the saved JPA entity object.\r\n\r\nE.g. this mapping &quot;works&quot; in the sense that there is no error reported, but the saved entity object&#39;s `id` field contains a different UUID than what is saved as a PK value in the underlying table.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;some_table&quot;)\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;uniqueidentifier&quot;)\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    // ...\r\n}\r\n\r\n// id field not set\r\nmyEntityRepository.save(myEntity);\r\n// if field set, but value differs from DB\r\n```\r\nUsing `@GeneratedValue (strategy = GenerationType.IDENTITY)` yields a\r\n```\r\norg.hibernate.id.IdentifierGenerationException: unrecognized id type : uuid-binary -&gt; java.util.UUID\r\n```\r\ndespite the columndefinition.\r\n\r\nHow do I have to set up the mapping to either correctly pick up the UUID value generated by SQL Server or store the UUID value generated by a Hibernate generator strategy?","title":"JPA mapping for SQL Server UNIQUEIDENTIFIER with `default NEWID()`","body":"<p>I am struggling to insert JPA mapped entities (via a Spring Data <code>CrudRepository</code>) into a table on SQL Server 2019 that has a primary key column of type <code>UNIQUEIDENTIFIER</code> and a default value of <code>NEWID()</code>.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE some_table\n(\n  id UNIQUEIDENTIFIER not null primary key default NEWID(),\n  -- ...\n)\n</code></pre>\n<p>The problem is that all variations I managed to get to work involve a UUID generator on the JPA/Hibernate side and I end up with two different UUID values in the table and the saved JPA entity object.</p>\n<p>E.g. this mapping &quot;works&quot; in the sense that there is no error reported, but the saved entity object's <code>id</code> field contains a different UUID than what is saved as a PK value in the underlying table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;some_table&quot;)\npublic class MyEntity {\n\n    @Id\n    @Column(columnDefinition = &quot;uniqueidentifier&quot;)\n    @GeneratedValue\n    private UUID id;\n\n    // ...\n}\n\n// id field not set\nmyEntityRepository.save(myEntity);\n// if field set, but value differs from DB\n</code></pre>\n<p>Using <code>@GeneratedValue (strategy = GenerationType.IDENTITY)</code> yields a</p>\n<pre><code>org.hibernate.id.IdentifierGenerationException: unrecognized id type : uuid-binary -&gt; java.util.UUID\n</code></pre>\n<p>despite the columndefinition.</p>\n<p>How do I have to set up the mapping to either correctly pick up the UUID value generated by SQL Server or store the UUID value generated by a Hibernate generator strategy?</p>\n"},{"tags":["javascript","java","ecmascript-6"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678115945,"post_id":75652581,"comment_id":133466213,"body_markdown":"I mean... 400 means a bad request, we don&#39;t know the request you&#39;re making, what the request expects, or much else, so...","body":"I mean... 400 means a bad request, we don&#39;t know the request you&#39;re making, what the request expects, or much else, so..."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116173,"post_id":75652581,"comment_id":133466289,"body_markdown":"@DaveNewton could you please help me to debug this? This error is a generic error, how can I retrieve the full stack trace?","body":"@DaveNewton could you please help me to debug this? This error is a generic error, how can I retrieve the full stack trace?"},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116400,"post_id":75652581,"comment_id":133466378,"body_markdown":"@DaveNewton I am trying to make a request of https://developer.okta.com/docs/reference/api/users/#create-user-with-password","body":"@DaveNewton I am trying to make a request of <a href=\"https://developer.okta.com/docs/reference/api/users/#create-user-with-password\" rel=\"nofollow noreferrer\">developer.okta.com/docs/reference/api/users/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678116740,"post_id":75652581,"comment_id":133466498,"body_markdown":"A 400 means a bad request, so the thing I&#39;d look at first is what is actually in the request, which we cannot see. You can also test your requests using Postman or similar tool.","body":"A 400 means a bad request, so the thing I&#39;d look at first is what is actually in the request, which we cannot see. You can also test your requests using Postman or similar tool."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116938,"post_id":75652581,"comment_id":133466560,"body_markdown":"@DaveNewton Using postman I can able to call this successfully, but using this code I am getting an error, I have pasted a link where you can find the API request details.","body":"@DaveNewton Using postman I can able to call this successfully, but using this code I am getting an error, I have pasted a link where you can find the API request details."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678117070,"post_id":75652581,"comment_id":133466599,"body_markdown":"API docs show what&#39;s expected, not what you&#39;ve sent.","body":"API docs show what&#39;s expected, not what you&#39;ve sent."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678118154,"post_id":75652581,"comment_id":133466957,"body_markdown":"@DaveNewton I added the JSON post data in the question.","body":"@DaveNewton I added the JSON post data in the question."}],"answers":[{"tags":[],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678287222,"creation_date":1678287222,"answer_id":75674619,"question_id":75652581,"body_markdown":"I have resolved this issue by using `getErrorStream()`, I updated the below code.\r\n\r\n    var stream_in = &quot;&quot;;\r\n    if(responseCode == &quot;200&quot;) {\r\n    \tstream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\r\n    } else {\r\n    \tstream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getErrorStream()));\r\n    }\r\n\r\nPlease suggest if I missed anything or anything I can improve on this.","title":"javascript java.io.IOException: Server returned HTTP response code 400","body":"<p>I have resolved this issue by using <code>getErrorStream()</code>, I updated the below code.</p>\n<pre><code>var stream_in = &quot;&quot;;\nif(responseCode == &quot;200&quot;) {\n    stream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\n} else {\n    stream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getErrorStream()));\n}\n</code></pre>\n<p>Please suggest if I missed anything or anything I can improve on this.</p>\n"}],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75674619,"answer_count":1,"score":0,"last_activity_date":1678287222,"creation_date":1678115792,"question_id":75652581,"body_markdown":"I am invoking the Rest API using the below code to create User in target application, but if I am posting the duplicate user information in Postman, I am getting &quot;400 Bad Request&quot; with below data as JSON.\r\n\r\n    {\r\n        &quot;errorCode&quot;: &quot;E0000001&quot;,\r\n        &quot;errorSummary&quot;: &quot;Api validation failed: login&quot;,\r\n        &quot;errorLink&quot;: &quot;E0000001&quot;,\r\n        &quot;errorId&quot;: &quot;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\r\n        &quot;errorCauses&quot;: [\r\n            {\r\n                &quot;errorSummary&quot;: &quot;login: An object with this field already exists in the current organization&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nI am using the below code to get the response and unable to get the response when I am get &quot;400 Bad Request&quot;.\r\n\r\nRest Call Details: https://developer.okta.com/docs/reference/api/users/#create-user-with-password\r\n\r\nIn the API call, I am posting the Authorization token in the header `SSWS xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxx`\r\n\r\nI am posting the below data in the body.\r\n\r\n    {\r\n    \t&quot;profile&quot;: {\r\n    \t\t&quot;firstName&quot;: &quot;John1&quot;,\r\n    \t\t&quot;lastName&quot;: &quot;Flow1&quot;,\r\n    \t\t&quot;email&quot;: &quot;john1.flow1@test.com&quot;,\r\n    \t\t&quot;login&quot;: &quot;john1.flow1@test.com&quot;,\r\n    \t\t&quot;mobilePhone&quot;: &quot;&quot;\r\n    \t},\r\n    \t&quot;credentials&quot;: {\r\n    \t\t&quot;password&quot;: {\r\n    \t\t\t&quot;value&quot;: &quot;xxxxxxxx&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\njava.io.IOException: Server returned HTTP response code: 400 for URL: https://test-app.testlab.com/api/v1/users&quot;\r\n\r\n    function CreateUserInApp(rest_url, api_token, postJSON) {\r\n        try {\r\n            var postValBytes = new java.lang.String(postJSON).getBytes(&quot;UTF8&quot;);\r\n            var posturl = new java.net.URL(rest_url);\r\n            var stream = posturl.openConnection();\r\n            stream.setRequestMethod(&quot;POST&quot;);\r\n            stream.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            stream.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            stream.setRequestProperty(&quot;Authorization&quot;, api_token);\r\n            stream.setDoOutput(true);\r\n            stream.setDoInput(true);\r\n            var outStream = stream.getOutputStream();\r\n            outStream[&quot;write(byte[])&quot;](postValBytes);\r\n            outStream.flush();\r\n            var responseCode = stream.getResponseCode();\r\n            var stream = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\r\n            var inputLine;\r\n            var response = new java.lang.StringBuilder();\r\n            while ((inputLine = stream.readLine()) != null) {\r\n                response.append(inputLine);\r\n            }\r\n            var response = response.toString();\r\n            return response;\r\n        } catch(e) {\r\n            return &quot;ERROR Is: &quot; + e.toString();\r\n        }\r\n    }\r\n\r\nI am not sure if I am closing the connection properly or not, please help me to resolve this issue.","title":"javascript java.io.IOException: Server returned HTTP response code 400","body":"<p>I am invoking the Rest API using the below code to create User in target application, but if I am posting the duplicate user information in Postman, I am getting &quot;400 Bad Request&quot; with below data as JSON.</p>\n<pre><code>{\n    &quot;errorCode&quot;: &quot;E0000001&quot;,\n    &quot;errorSummary&quot;: &quot;Api validation failed: login&quot;,\n    &quot;errorLink&quot;: &quot;E0000001&quot;,\n    &quot;errorId&quot;: &quot;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\n    &quot;errorCauses&quot;: [\n        {\n            &quot;errorSummary&quot;: &quot;login: An object with this field already exists in the current organization&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I am using the below code to get the response and unable to get the response when I am get &quot;400 Bad Request&quot;.</p>\n<p>Rest Call Details: <a href=\"https://developer.okta.com/docs/reference/api/users/#create-user-with-password\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/reference/api/users/#create-user-with-password</a></p>\n<p>In the API call, I am posting the Authorization token in the header <code>SSWS xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxx</code></p>\n<p>I am posting the below data in the body.</p>\n<pre><code>{\n    &quot;profile&quot;: {\n        &quot;firstName&quot;: &quot;John1&quot;,\n        &quot;lastName&quot;: &quot;Flow1&quot;,\n        &quot;email&quot;: &quot;john1.flow1@test.com&quot;,\n        &quot;login&quot;: &quot;john1.flow1@test.com&quot;,\n        &quot;mobilePhone&quot;: &quot;&quot;\n    },\n    &quot;credentials&quot;: {\n        &quot;password&quot;: {\n            &quot;value&quot;: &quot;xxxxxxxx&quot;\n        }\n    }\n}\n</code></pre>\n<p>java.io.IOException: Server returned HTTP response code: 400 for URL: <a href=\"https://test-app.testlab.com/api/v1/users%22\" rel=\"nofollow noreferrer\">https://test-app.testlab.com/api/v1/users&quot;</a></p>\n<pre><code>function CreateUserInApp(rest_url, api_token, postJSON) {\n    try {\n        var postValBytes = new java.lang.String(postJSON).getBytes(&quot;UTF8&quot;);\n        var posturl = new java.net.URL(rest_url);\n        var stream = posturl.openConnection();\n        stream.setRequestMethod(&quot;POST&quot;);\n        stream.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        stream.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        stream.setRequestProperty(&quot;Authorization&quot;, api_token);\n        stream.setDoOutput(true);\n        stream.setDoInput(true);\n        var outStream = stream.getOutputStream();\n        outStream[&quot;write(byte[])&quot;](postValBytes);\n        outStream.flush();\n        var responseCode = stream.getResponseCode();\n        var stream = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\n        var inputLine;\n        var response = new java.lang.StringBuilder();\n        while ((inputLine = stream.readLine()) != null) {\n            response.append(inputLine);\n        }\n        var response = response.toString();\n        return response;\n    } catch(e) {\n        return &quot;ERROR Is: &quot; + e.toString();\n    }\n}\n</code></pre>\n<p>I am not sure if I am closing the connection properly or not, please help me to resolve this issue.</p>\n"},{"tags":["java","android","kotlin","webview","camera"],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678287010,"creation_date":1678287010,"question_id":75674587,"body_markdown":"I am trying to create a webView for my web application which has upload features using camera. I have build an option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field. Please Help..\r\n\r\nHere is my webView file :\r\n\r\n     webView.apply {\r\n                webViewClient = customWebViewClient\r\n                webChromeClient = customWebChromeClient\r\n    \r\n                loadUrl(&quot;https://xxxxxxxxxx&quot;)\r\n    \r\n                settings.apply {\r\n                    javaScriptEnabled = true\r\n                    pluginState = WebSettings.PluginState.OFF\r\n                    blockNetworkLoads = false\r\n                    loadsImagesAutomatically = true\r\n                    loadWithOverviewMode = true\r\n                    useWideViewPort = false\r\n                    allowFileAccess = true\r\n                    allowContentAccess = true\r\n                    javaScriptCanOpenWindowsAutomatically = true\r\n                    domStorageEnabled = true\r\n                    mediaPlaybackRequiresUserGesture = false\r\n                    userAgentString =\r\n                        &quot;Android Mozilla/5.0 AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30&quot;\r\n\r\nHere is my webChromeClient file:\r\n\r\n    private val customWebChromeClient = object : WebChromeClient() {\r\n        override fun onPermissionRequest(request: PermissionRequest) {\r\n            val PERMISSIONS = arrayOf(\r\n                PermissionRequest.RESOURCE_AUDIO_CAPTURE,\r\n                PermissionRequest.RESOURCE_VIDEO_CAPTURE,\r\n                PermissionRequest.RESOURCE_PROTECTED_MEDIA_ID,\r\n            )\r\n            runOnUiThread {\r\n                request.grant(PERMISSIONS)\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.M)\r\n        override fun onShowFileChooser(\r\n            view: WebView?,\r\n            filePath: ValueCallback&lt;Array&lt;Uri&gt;&gt;?,\r\n            fileChooserParams: FileChooserParams?\r\n        ): Boolean {\r\n            verifyPermissions()\r\n            imagePathCallback?.onReceiveValue(null)\r\n    \r\n            imagePathCallback = null\r\n    \r\n            imagePathCallback = filePath\r\n    \r\n            val takePictureIntent = createImageCaptureIntent()\r\n    \r\n            val contentSelectionIntent = Intent(Intent.ACTION_GET_CONTENT)\r\n            contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE)\r\n            contentSelectionIntent.type = INTENT_FILE_TYPE\r\n            \r\n    \r\n            val intentArray: Array&lt;Intent?&gt; =\r\n                takePictureIntent?.let { arrayOf(it) } ?: arrayOfNulls(0)\r\n    \r\n            val chooserIntent = Intent(Intent.ACTION_CHOOSER)\r\n            chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent)\r\n            chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;File choose&quot;)\r\n            chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray)\r\n    \r\n            try {\r\n                startActivityForResult(chooserIntent, REQUEST_SELECT_FILE)\r\n    \r\n            } catch (e: ActivityNotFoundException) {\r\n                imagePathCallback = null\r\n                cameraImagePath = null\r\n    \r\n                Toast.makeText(\r\n                    this@MainActivity,\r\n                    &quot;Cannot open file chooser text&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show()\r\n    \r\n                return false\r\n            }\r\n    \r\n            return true\r\n        }\r\n    \r\n        private fun createImageCaptureIntent(): Intent? {\r\n            var captureImageIntent: Intent? = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\r\n    \r\n            if (captureImageIntent?.resolveActivity(packageManager) != null) {\r\n                var imageFile: File? = null\r\n    \r\n                try {\r\n                    imageFile = createImageFile()\r\n                    captureImageIntent.putExtra(&quot;CameraImagePath&quot;, cameraImagePath)\r\n    \r\n                } catch (ex: IOException) {\r\n                    ex.printStackTrace()\r\n                }\r\n    \r\n                if (imageFile != null) {\r\n    \r\n                    cameraImagePath = CAMERA_PHOTO_PATH_POSTFIX + imageFile.absolutePath\r\n                    Log.d(\r\n                        &quot;Success&quot;,\r\n                        &quot;ImageFile are the  $imageFile  and ${Uri.fromFile(imageFile)}&quot;\r\n                    )\r\n    \r\n                } else {\r\n                    captureImageIntent = null\r\n                }\r\n            }\r\n            return captureImageIntent\r\n        }\r\n    \r\n        private fun createImageFile(): File? {\r\n            val timeStamp = SimpleDateFormat.getDateInstance().format(Date())\r\n            val imageFileName = PHOTO_NAME_POSTFIX + timeStamp + &quot;_&quot;\r\n            val storageDir =\r\n                getExternalFilesDir(Environment.DIRECTORY_PICTURES)\r\n            val imageFile = File.createTempFile(imageFileName, PHOTO_EXTENSION, storageDir)\r\n    \r\n            return imageFile\r\n        }\r\n    }\r\n\r\n\r\nHere is my onActivityResult file:\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n    \r\n        if (requestCode != REQUEST_SELECT_FILE || imagePathCallback == null) return\r\n    \r\n        var results: Array&lt;Uri&gt;? = null\r\n        if (resultCode == RESULT_OK) {\r\n    \r\n            if (data == null || data.dataString == null) {\r\n    \r\n                if (cameraImagePath != null) results = arrayOf(Uri.parse(cameraImagePath))\r\n            } else {\r\n    \r\n                val dataString = data.dataString\r\n    \r\n                if (dataString != null) results = arrayOf(Uri.parse(dataString as String?))\r\n            }\r\n        } else if (resultCode == RESULT_CANCELED) {\r\n            Log.d(&quot;Success&quot;, &quot;Request Cancelled&quot;)\r\n        }\r\n    \r\n        imagePathCallback?.onReceiveValue(results)\r\n        imagePathCallback = null\r\n    }\r\n\r\n\r\n**Here is my permissions on Manifest file:**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\r\n    \r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n","title":"Camera is open and captured but not uploaded in webview [Android ]","body":"<p>I am trying to create a webView for my web application which has upload features using camera. I have build an option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field. Please Help..</p>\n<p>Here is my webView file :</p>\n<pre><code> webView.apply {\n            webViewClient = customWebViewClient\n            webChromeClient = customWebChromeClient\n\n            loadUrl(&quot;https://xxxxxxxxxx&quot;)\n\n            settings.apply {\n                javaScriptEnabled = true\n                pluginState = WebSettings.PluginState.OFF\n                blockNetworkLoads = false\n                loadsImagesAutomatically = true\n                loadWithOverviewMode = true\n                useWideViewPort = false\n                allowFileAccess = true\n                allowContentAccess = true\n                javaScriptCanOpenWindowsAutomatically = true\n                domStorageEnabled = true\n                mediaPlaybackRequiresUserGesture = false\n                userAgentString =\n                    &quot;Android Mozilla/5.0 AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30&quot;\n</code></pre>\n<p>Here is my webChromeClient file:</p>\n<pre><code>private val customWebChromeClient = object : WebChromeClient() {\n    override fun onPermissionRequest(request: PermissionRequest) {\n        val PERMISSIONS = arrayOf(\n            PermissionRequest.RESOURCE_AUDIO_CAPTURE,\n            PermissionRequest.RESOURCE_VIDEO_CAPTURE,\n            PermissionRequest.RESOURCE_PROTECTED_MEDIA_ID,\n        )\n        runOnUiThread {\n            request.grant(PERMISSIONS)\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    override fun onShowFileChooser(\n        view: WebView?,\n        filePath: ValueCallback&lt;Array&lt;Uri&gt;&gt;?,\n        fileChooserParams: FileChooserParams?\n    ): Boolean {\n        verifyPermissions()\n        imagePathCallback?.onReceiveValue(null)\n\n        imagePathCallback = null\n\n        imagePathCallback = filePath\n\n        val takePictureIntent = createImageCaptureIntent()\n\n        val contentSelectionIntent = Intent(Intent.ACTION_GET_CONTENT)\n        contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE)\n        contentSelectionIntent.type = INTENT_FILE_TYPE\n        \n\n        val intentArray: Array&lt;Intent?&gt; =\n            takePictureIntent?.let { arrayOf(it) } ?: arrayOfNulls(0)\n\n        val chooserIntent = Intent(Intent.ACTION_CHOOSER)\n        chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent)\n        chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;File choose&quot;)\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray)\n\n        try {\n            startActivityForResult(chooserIntent, REQUEST_SELECT_FILE)\n\n        } catch (e: ActivityNotFoundException) {\n            imagePathCallback = null\n            cameraImagePath = null\n\n            Toast.makeText(\n                this@MainActivity,\n                &quot;Cannot open file chooser text&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n\n            return false\n        }\n\n        return true\n    }\n\n    private fun createImageCaptureIntent(): Intent? {\n        var captureImageIntent: Intent? = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n\n        if (captureImageIntent?.resolveActivity(packageManager) != null) {\n            var imageFile: File? = null\n\n            try {\n                imageFile = createImageFile()\n                captureImageIntent.putExtra(&quot;CameraImagePath&quot;, cameraImagePath)\n\n            } catch (ex: IOException) {\n                ex.printStackTrace()\n            }\n\n            if (imageFile != null) {\n\n                cameraImagePath = CAMERA_PHOTO_PATH_POSTFIX + imageFile.absolutePath\n                Log.d(\n                    &quot;Success&quot;,\n                    &quot;ImageFile are the  $imageFile  and ${Uri.fromFile(imageFile)}&quot;\n                )\n\n            } else {\n                captureImageIntent = null\n            }\n        }\n        return captureImageIntent\n    }\n\n    private fun createImageFile(): File? {\n        val timeStamp = SimpleDateFormat.getDateInstance().format(Date())\n        val imageFileName = PHOTO_NAME_POSTFIX + timeStamp + &quot;_&quot;\n        val storageDir =\n            getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        val imageFile = File.createTempFile(imageFileName, PHOTO_EXTENSION, storageDir)\n\n        return imageFile\n    }\n}\n</code></pre>\n<p>Here is my onActivityResult file:</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode != REQUEST_SELECT_FILE || imagePathCallback == null) return\n\n    var results: Array&lt;Uri&gt;? = null\n    if (resultCode == RESULT_OK) {\n\n        if (data == null || data.dataString == null) {\n\n            if (cameraImagePath != null) results = arrayOf(Uri.parse(cameraImagePath))\n        } else {\n\n            val dataString = data.dataString\n\n            if (dataString != null) results = arrayOf(Uri.parse(dataString as String?))\n        }\n    } else if (resultCode == RESULT_CANCELED) {\n        Log.d(&quot;Success&quot;, &quot;Request Cancelled&quot;)\n    }\n\n    imagePathCallback?.onReceiveValue(results)\n    imagePathCallback = null\n}\n</code></pre>\n<p><strong>Here is my permissions on Manifest file:</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n</code></pre>\n"},{"tags":["java","class","java.util.scanner"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1427580245,"post_id":29323116,"comment_id":46837167,"body_markdown":"This would seem to be somewhat fragile as another `class` could `close()` the `Scanner` and break everything - no? Maybe you should read the file into memory? Or is it very large?","body":"This would seem to be somewhat fragile as another <code>class</code> could <code>close()</code> the <code>Scanner</code> and break everything - no? Maybe you should read the file into memory? Or is it very large?"},{"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"score":0,"creation_date":1427580267,"post_id":29323116,"comment_id":46837176,"body_markdown":"one option would be to declare reader as a static field in your main class","body":"one option would be to declare reader as a static field in your main class"},{"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"score":0,"creation_date":1427580396,"post_id":29323116,"comment_id":46837203,"body_markdown":"another option would be to inject reader into other objects created from main class (assuming that main class is responsible for all the wirings)","body":"another option would be to inject reader into other objects created from main class (assuming that main class is responsible for all the wirings)"},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427580602,"post_id":29323116,"comment_id":46837260,"body_markdown":"@SergeyPauk How would I go about doing this, as I have indeed used objects to call other methods in the other classes","body":"@SergeyPauk How would I go about doing this, as I have indeed used objects to call other methods in the other classes"}],"answers":[{"comments":[{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427580430,"post_id":29323161,"comment_id":46837211,"body_markdown":"So just do this with the Scanner that I have already defined, ie the &quot;reader&quot;?","body":"So just do this with the Scanner that I have already defined, ie the &quot;reader&quot;?"},{"owner":{"account_id":2248697,"reputation":740,"user_id":1981450,"display_name":"ar4ers"},"score":1,"creation_date":1427580575,"post_id":29323161,"comment_id":46837254,"body_markdown":"Yes. You can declare your local field `public static Scanner reader` in `MainClass`, initialize it from you code and use it from anywhere. But be careful with closing this resources.","body":"Yes. You can declare your local field <code>public static Scanner reader</code> in <code>MainClass</code>, initialize it from you code and use it from anywhere. But be careful with closing this resources."},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427581032,"post_id":29323161,"comment_id":46837370,"body_markdown":"I cannot seem to call the Scanner into another class using the way you suggested, I am getting an error : &quot;not a statement&quot;","body":"I cannot seem to call the Scanner into another class using the way you suggested, I am getting an error : &quot;not a statement&quot;"},{"owner":{"account_id":2248697,"reputation":740,"user_id":1981450,"display_name":"ar4ers"},"score":1,"creation_date":1427581315,"post_id":29323161,"comment_id":46837440,"body_markdown":"First, you need to declare local public static field in you `MainClass` like this: `public static Scanner reader;`. Second. You need to initialize it from your code, like this: `reader = new Scanner(filename);`. And, finally, you can call it from any other class like this: `MainClass.reader.nextLine()`. Beware of null pointers and resource closing.","body":"First, you need to declare local public static field in you <code>MainClass</code> like this: <code>public static Scanner reader;</code>. Second. You need to initialize it from your code, like this: <code>reader = new Scanner(filename);</code>. And, finally, you can call it from any other class like this: <code>MainClass.reader.nextLine()</code>. Beware of null pointers and resource closing."},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427581745,"post_id":29323161,"comment_id":46837525,"body_markdown":"Okay I&#39;ve done this however now the Scanner is not correctly Scanning the file, before I had written a simple program that counted the number of spaces in a file however now it keeps saying there are 0 spaces, which is incorret","body":"Okay I&#39;ve done this however now the Scanner is not correctly Scanning the file, before I had written a simple program that counted the number of spaces in a file however now it keeps saying there are 0 spaces, which is incorret"},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427582013,"post_id":29323161,"comment_id":46837576,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/74016/discussion-between-samolivercz-and-ar4ers).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/74016/discussion-between-samolivercz-and-ar4ers\">continue this discussion in chat</a>."},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427584874,"post_id":29323161,"comment_id":46838284,"body_markdown":"I have just stumbled across another problem, it can only do one class at a time.","body":"I have just stumbled across another problem, it can only do one class at a time."}],"tags":[],"owner":{"account_id":2248697,"reputation":740,"user_id":1981450,"display_name":"ar4ers"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1427583498,"creation_date":1427580320,"answer_id":29323161,"question_id":29323116,"body_markdown":"Simply use `public static final Scanner in = new Scanner(System.in);` in you `main` class.\r\nAfter that you can call it from anywhere by `MainClassName.in`.\r\n\r\nAlso, be careful with arguments you pass to Scanner. I guess you wanted to put `InputFile` into `Scanner`, rather than `filename` =)\r\n\r\n    File InputFile = new File (filename);\r\n    Scanner reader = new Scanner(filename);","title":"How to use the same Scanner across multiple classes in Java","body":"<p>Simply use <code>public static final Scanner in = new Scanner(System.in);</code> in you <code>main</code> class.\nAfter that you can call it from anywhere by <code>MainClassName.in</code>.</p>\n\n<p>Also, be careful with arguments you pass to Scanner. I guess you wanted to put <code>InputFile</code> into <code>Scanner</code>, rather than <code>filename</code> =)</p>\n\n<pre><code>File InputFile = new File (filename);\nScanner reader = new Scanner(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859980,"reputation":182,"user_id":2455432,"display_name":"Remo Liechti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427580667,"creation_date":1427580667,"answer_id":29323215,"question_id":29323116,"body_markdown":"There are so called [design patterns][1] that help you to deal with such daily issues. They show up best practises. \r\n\r\nYou are looking for something like a [Singleton][2], an instance of a class that is unique to your software echosystem.\r\n\r\nFor your example, you can do something like this:\r\n\r\n    public class MyScanner{\r\n       private static MyScanner instance = new MyScanner();\r\n       private MyScanner(){\r\n           // init the scanner\r\n       }\r\n    \r\n       //Get the only object available\r\n       public static MyScanner getInstance(){\r\n          return instance;\r\n       }\r\n    \r\n       public void read(File f){\r\n          // read your file\r\n       }\r\n    }\r\n\r\n  [1]: http://www.tutorialspoint.com/design_pattern/\r\n  [2]: http://www.tutorialspoint.com/design_pattern/singleton_pattern.htm","title":"How to use the same Scanner across multiple classes in Java","body":"<p>There are so called <a href=\"http://www.tutorialspoint.com/design_pattern/\" rel=\"nofollow\">design patterns</a> that help you to deal with such daily issues. They show up best practises. </p>\n\n<p>You are looking for something like a <a href=\"http://www.tutorialspoint.com/design_pattern/singleton_pattern.htm\" rel=\"nofollow\">Singleton</a>, an instance of a class that is unique to your software echosystem.</p>\n\n<p>For your example, you can do something like this:</p>\n\n<pre><code>public class MyScanner{\n   private static MyScanner instance = new MyScanner();\n   private MyScanner(){\n       // init the scanner\n   }\n\n   //Get the only object available\n   public static MyScanner getInstance(){\n      return instance;\n   }\n\n   public void read(File f){\n      // read your file\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427612166,"creation_date":1427581649,"answer_id":29323338,"question_id":29323116,"body_markdown":"Answering your question about dependency injection: here&#39;s a rough idea of [dependency injection][1] (via constructor):\r\n\r\n\tpublic void wire() {\r\n\t\t...\r\n\t\tScanner reader = new Scanner(filename);\r\n\t\tClassA objectA = new ClassA(reader);\r\n\t\tClassB objectB = new ClassB(reader);\r\n        ...\r\n\t}\r\n\r\nclass A (class B would have a similar constructor):\r\n\r\n    public class ClassA {\r\n    \r\n    \tprivate Scanner reader;\r\n    \t\r\n    \tpublic ClassA(Scanner reader) {\r\n    \t\tthis.reader = reader;\r\n    \t}\r\n        ...\r\n    }\r\n\r\nSo the idea is that you create and wire up your objects in wire() method.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dependency_injection","title":"How to use the same Scanner across multiple classes in Java","body":"<p>Answering your question about dependency injection: here's a rough idea of <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow\">dependency injection</a> (via constructor):</p>\n\n<pre><code>public void wire() {\n    ...\n    Scanner reader = new Scanner(filename);\n    ClassA objectA = new ClassA(reader);\n    ClassB objectB = new ClassB(reader);\n    ...\n}\n</code></pre>\n\n<p>class A (class B would have a similar constructor):</p>\n\n<pre><code>public class ClassA {\n\n    private Scanner reader;\n\n    public ClassA(Scanner reader) {\n        this.reader = reader;\n    }\n    ...\n}\n</code></pre>\n\n<p>So the idea is that you create and wire up your objects in wire() method.</p>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678286975,"creation_date":1678286975,"answer_id":75674577,"question_id":29323116,"body_markdown":"An alternative to using the great [Singleton][1] solution like in [Remo Liechtis answer][2] would be to use:  \r\na **private static field** in a new or existing *&quot;utility class&quot;* e.g. &quot;IO&quot;.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class IO {\r\n        private static final Scanner s_scanner = new Scanner(System.in);\r\n\r\n        public static Scanner getScanner() {\r\n            return s_scanner;\r\n        }\r\n\r\n        public static void closeScanner() {\r\n            s_scanner.close();\r\n        }\r\n    }\r\n\r\nAnd then use the Scanner object by calling `IO.getScanner()`.  \r\nE.g.:  \r\n\r\n    IO.getScanner().nextLine()  \r\n\r\nor (for readability assign) the IO Scanner to a **private static field**.  \r\nE.g.:  \r\n\r\n    private static final Scanner s_scanner = IO.getScanner(); // Get Scanner from IO Class  \r\n    s_scanner.nextLine()  \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-singleton\r\n  [2]: https://stackoverflow.com/a/29323215/10749567","title":"How to use the same Scanner across multiple classes in Java","body":"<p>An alternative to using the great <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">Singleton</a> solution like in <a href=\"https://stackoverflow.com/a/29323215/10749567\">Remo Liechtis answer</a> would be to use:<br />\na <strong>private static field</strong> in a new or existing <em>&quot;utility class&quot;</em> e.g. &quot;IO&quot;.</p>\n<pre><code>import java.util.Scanner;\n\npublic class IO {\n    private static final Scanner s_scanner = new Scanner(System.in);\n\n    public static Scanner getScanner() {\n        return s_scanner;\n    }\n\n    public static void closeScanner() {\n        s_scanner.close();\n    }\n}\n</code></pre>\n<p>And then use the Scanner object by calling <code>IO.getScanner()</code>.<br />\nE.g.:</p>\n<pre><code>IO.getScanner().nextLine()  \n</code></pre>\n<p>or (for readability assign) the IO Scanner to a <strong>private static field</strong>.<br />\nE.g.:</p>\n<pre><code>private static final Scanner s_scanner = IO.getScanner(); // Get Scanner from IO Class  \ns_scanner.nextLine()  \n</code></pre>\n"}],"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15356,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29323161,"answer_count":4,"score":11,"last_activity_date":1678286975,"creation_date":1427580008,"question_id":29323116,"body_markdown":"I have a program that uses multiple classes, I want the other classes to be able to access the same scanner that I have declared in the main class.  \r\n\r\nI assume it would be done using some sort of get method, however I am unable to find any resources to help me. \r\n\r\nHere are the Scanners that I have made in my main class:\r\n \r\n\r\n    Scanner in = new Scanner(System.in);\r\n    \r\n    System.out.println(&quot;Enter a filename&quot;);\r\n    String filename = in.nextLine();\r\n    File InputFile = new File (filename);\r\n\r\n    Scanner reader = new Scanner(filename);\r\n\r\nThe reader Scanner is the one I want to be able to access across the other classes in my program.  \r\n\r\nCan anyone give me some guidance on how to do this?","title":"How to use the same Scanner across multiple classes in Java","body":"<p>I have a program that uses multiple classes, I want the other classes to be able to access the same scanner that I have declared in the main class.</p>\n<p>I assume it would be done using some sort of get method, however I am unable to find any resources to help me.</p>\n<p>Here are the Scanners that I have made in my main class:</p>\n<pre><code>Scanner in = new Scanner(System.in);\n\nSystem.out.println(&quot;Enter a filename&quot;);\nString filename = in.nextLine();\nFile InputFile = new File (filename);\n\nScanner reader = new Scanner(filename);\n</code></pre>\n<p>The reader Scanner is the one I want to be able to access across the other classes in my program.</p>\n<p>Can anyone give me some guidance on how to do this?</p>\n"},{"tags":["java","wiremock-standalone"],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678286321,"creation_date":1678286068,"question_id":75674418,"body_markdown":"My Java application creates a wiremock to a mapping directory.\r\n\r\n    final var  baseDir = System.getProperty(&quot;user.dir&quot;);\r\n    final var mappingsDir = baseDir + &quot;/src/test/resources/wm-mappings/app1&quot;;\r\n\r\nUnder app1 I have another folder called mappings.\r\n\r\n    wireMockServer = new WireMockServer(WireMockConfiguration\r\n        .options()\r\n        .port(56008)\r\n        .usingFilesUnderDirectory(mappingsDir));\r\n\r\nThis works fine, but I want to include another directory. How can I do that?","title":"wiremock adding multiple mapping directories","body":"<p>My Java application creates a wiremock to a mapping directory.</p>\n<pre><code>final var  baseDir = System.getProperty(&quot;user.dir&quot;);\nfinal var mappingsDir = baseDir + &quot;/src/test/resources/wm-mappings/app1&quot;;\n</code></pre>\n<p>Under app1 I have another folder called mappings.</p>\n<pre><code>wireMockServer = new WireMockServer(WireMockConfiguration\n    .options()\n    .port(56008)\n    .usingFilesUnderDirectory(mappingsDir));\n</code></pre>\n<p>This works fine, but I want to include another directory. How can I do that?</p>\n"},{"tags":["java","json","google-api"],"answers":[{"tags":[],"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447934264,"creation_date":1447023514,"answer_id":33600047,"question_id":33571883,"body_markdown":"[@pongrad][1] has investigated this issue and produced code which illustrates that the API works correctly in isolation.\r\n\r\nI recant this question as it is too isolated (suspect Maven transient dependency issue in the context of my other project dependencies).\r\n\r\n\r\n  [1]: https://github.com/google/google-api-java-client/issues/979#issuecomment-157899802","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p><a href=\"https://github.com/google/google-api-java-client/issues/979#issuecomment-157899802\" rel=\"nofollow\">@pongrad</a> has investigated this issue and produced code which illustrates that the API works correctly in isolation.</p>\n\n<p>I recant this question as it is too isolated (suspect Maven transient dependency issue in the context of my other project dependencies).</p>\n"},{"tags":[],"owner":{"account_id":16208510,"reputation":21,"user_id":11703141,"display_name":"Mercy Jemosop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678285820,"creation_date":1678285820,"answer_id":75674370,"question_id":33571883,"body_markdown":"For every change, restart IDE. This was the mistake I was making, not restarting the IDE after attempting the different solutions. My filename.json file is in the resource folder.\r\n\r\n````\r\nGoogleCredentials googleCredentials = GoogleCredentials\r\n.fromStream(new ClassPathResource(&quot;your file.json&quot;)\r\n.getInputStream());\r\n````\r\n\r\n","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p>For every change, restart IDE. This was the mistake I was making, not restarting the IDE after attempting the different solutions. My filename.json file is in the resource folder.</p>\n<pre><code>GoogleCredentials googleCredentials = GoogleCredentials\n.fromStream(new ClassPathResource(&quot;your file.json&quot;)\n.getInputStream());\n</code></pre>\n"}],"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678285820,"creation_date":1446829276,"question_id":33571883,"body_markdown":"Using Google Developer Console I have downloaded a `JSON` file of my public/private Credentials for my Service Account:\r\n\r\n    {\r\n      &quot;private_key_id&quot;: &quot;myPrivateKey&quot;,\r\n      &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\\myPrivateKeyString\\n-----END PRIVATE KEY-----\\n&quot;,\r\n      &quot;client_email&quot;: &quot;myClientEmail@developer.gserviceaccount.com&quot;,\r\n      &quot;client_id&quot;: &quot;myClientEmailId.apps.googleusercontent.com&quot;,\r\n      &quot;type&quot;: &quot;service_account&quot;\r\n    }\r\n\r\nThey are stored on the classpath in a file called `serviceAccountCredentials.json`\r\n\r\nWhen I try to execute the following code to return a `GoogleCredential` instance:\r\n\r\n         InputStream credentialsJSON = MyClass.class.getClassLoader().getResourceAsStream(&quot;serviceAccountCredentials.json&quot;);\r\n\t\tJsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\t\tHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\treturn GoogleCredential.fromStream(credentialsJSON ,httpTransport,JSON_FACTORY);\r\n\r\n\r\nIt blows up with the following stack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: no JSON input found\r\n    \tat com.google.api.client.repackaged.com.google.common.base.Preconditions.checkArgument(Preconditions.java:92)\r\n    \tat com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:49)\r\n    \tat com.google.api.client.json.JsonParser.startParsing(JsonParser.java:222)\r\n    \tat com.google.api.client.json.JsonParser.parse(JsonParser.java:379)\r\n    \tat com.google.api.client.json.JsonParser.parse(JsonParser.java:354)\r\n    \tat com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:87)\r\n    \tat com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:81)\r\n    \tat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.fromStream(GoogleCredential.java:250)\r\n\r\nI am able to print the contents of the file to the console using the following code:\r\n\r\n`System.out.println(IOUtils.toString(credentialsJSON));`\r\n\r\n**Therefore I know that the `JSON` file is accessible and contains content.**\r\n\r\nOne therefore assumes that this API is fundamentally broken?\r\n\r\nI favour a solution using JSON. I do not want to use a a `P12` file because:\r\n\r\n 1. I wish to supply my credentials from the classpath. `GoogleCredential.Builder` [does not provide a method which consumes an `InputStream`][1] (only `File`) so P12 is not an acceptable option:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n 2. Google implies in their UI for creating the credentials that `P12` is the legacy manner of authentication and that JSON should be used in the first instance:\r\n\r\n[![Image showing JSON is recommended][3]][3]\r\n\r\n\r\n  [1]: https://github.com/google/google-api-java-client/issues/857\r\n  [2]: http://i.stack.imgur.com/5JQYM.png\r\n  [3]: http://i.stack.imgur.com/wzZ7k.png","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p>Using Google Developer Console I have downloaded a <code>JSON</code> file of my public/private Credentials for my Service Account:</p>\n\n<pre><code>{\n  \"private_key_id\": \"myPrivateKey\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----\\myPrivateKeyString\\n-----END PRIVATE KEY-----\\n\",\n  \"client_email\": \"myClientEmail@developer.gserviceaccount.com\",\n  \"client_id\": \"myClientEmailId.apps.googleusercontent.com\",\n  \"type\": \"service_account\"\n}\n</code></pre>\n\n<p>They are stored on the classpath in a file called <code>serviceAccountCredentials.json</code></p>\n\n<p>When I try to execute the following code to return a <code>GoogleCredential</code> instance:</p>\n\n<pre><code>     InputStream credentialsJSON = MyClass.class.getClassLoader().getResourceAsStream(\"serviceAccountCredentials.json\");\n    JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    return GoogleCredential.fromStream(credentialsJSON ,httpTransport,JSON_FACTORY);\n</code></pre>\n\n<p>It blows up with the following stack trace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: no JSON input found\n    at com.google.api.client.repackaged.com.google.common.base.Preconditions.checkArgument(Preconditions.java:92)\n    at com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:49)\n    at com.google.api.client.json.JsonParser.startParsing(JsonParser.java:222)\n    at com.google.api.client.json.JsonParser.parse(JsonParser.java:379)\n    at com.google.api.client.json.JsonParser.parse(JsonParser.java:354)\n    at com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:87)\n    at com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:81)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.fromStream(GoogleCredential.java:250)\n</code></pre>\n\n<p>I am able to print the contents of the file to the console using the following code:</p>\n\n<p><code>System.out.println(IOUtils.toString(credentialsJSON));</code></p>\n\n<p><strong>Therefore I know that the <code>JSON</code> file is accessible and contains content.</strong></p>\n\n<p>One therefore assumes that this API is fundamentally broken?</p>\n\n<p>I favour a solution using JSON. I do not want to use a a <code>P12</code> file because:</p>\n\n<ol>\n<li>I wish to supply my credentials from the classpath. <code>GoogleCredential.Builder</code> <a href=\"https://github.com/google/google-api-java-client/issues/857\" rel=\"nofollow noreferrer\">does not provide a method which consumes an <code>InputStream</code></a> (only <code>File</code>) so P12 is not an acceptable option:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/5JQYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JQYM.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Google implies in their UI for creating the credentials that <code>P12</code> is the legacy manner of authentication and that JSON should be used in the first instance:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/wzZ7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wzZ7k.png\" alt=\"Image showing JSON is recommended\"></a></p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678279162,"post_id":75672971,"comment_id":133501030,"body_markdown":"Did you read the error message? `Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty);`","body":"Did you read the error message? <code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678285578,"creation_date":1678279788,"answer_id":75673253,"question_id":75672971,"body_markdown":"As @tgdavies mentioned in his comment, the CAR table does not exist in your database. This is most likely because by default Hibernate won&#39;t create it. You a have to set it up in your `application.yml`. To be more specific you need these 2 properties set up correctly:\r\n\r\n```\r\nspring.jpa.generate-ddl: true\r\nspring.jpa.hibernate.ddl-auto: create\r\n``` \r\n\r\nThe Hibernate property can have other values depending on your environment / use case. You can read about this more here: https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html ","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>As @tgdavies mentioned in his comment, the CAR table does not exist in your database. This is most likely because by default Hibernate won't create it. You a have to set it up in your <code>application.yml</code>. To be more specific you need these 2 properties set up correctly:</p>\n<pre><code>spring.jpa.generate-ddl: true\nspring.jpa.hibernate.ddl-auto: create\n</code></pre>\n<p>The Hibernate property can have other values depending on your environment / use case. You can read about this more here: <a href=\"https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html</a></p>\n"},{"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1678311078,"post_id":75673262,"comment_id":133510240,"body_markdown":"Ah, unfortunately this did not work, I&#39;m getting the same error =/","body":"Ah, unfortunately this did not work, I&#39;m getting the same error =/"},{"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"score":0,"creation_date":1678385416,"post_id":75673262,"comment_id":133526838,"body_markdown":"Did you write this line in properties file ? \nspring.jpa.hibernate.ddl-auto=update","body":"Did you write this line in properties file ?  spring.jpa.hibernate.ddl-auto=update"}],"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678280135,"creation_date":1678279819,"answer_id":75673262,"question_id":75672971,"body_markdown":"Add @Table annotation into Car class and check it...!! Which will create table name with car. If we want to use different name from entity then we need to use @Table(name=&quot;[Table name we want]&quot;)","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>Add @Table annotation into Car class and check it...!! Which will create table name with car. If we want to use different name from entity then we need to use @Table(name=&quot;[Table name we want]&quot;)</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678285578,"creation_date":1678278114,"question_id":75672971,"body_markdown":"New to Spring, I&#39;m building a toy car dealership. This is my Entity class for cars:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Car {\r\n  @Id @GeneratedValue private Long id;\r\n  private String vin;\r\n  private String make;\r\n  private String model;\r\n  private Integer year;\r\n  private Long cost;\r\n\r\n  public Car() {}\r\n\r\n  public Car(String vin, String make, String model, Integer year, Long cost) {\r\n    this.vin = vin;\r\n    this.make = make;\r\n    this.model = model;\r\n    this.year = year;\r\n    this.cost = cost;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Car car = (Car) o;\r\n    return Objects.equals(id, car.id)\r\n        &amp;&amp; Objects.equals(vin, car.vin)\r\n        &amp;&amp; Objects.equals(make, car.make)\r\n        &amp;&amp; Objects.equals(model, car.model)\r\n        &amp;&amp; Objects.equals(year, car.year)\r\n        &amp;&amp; Objects.equals(cost, car.cost);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(id, vin, make, model, year, cost);\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\nMy repository class extends `CrudRepository`:\r\n\r\n```java\r\npublic interface CarRepository extends CrudRepository&lt;Car, Long&gt; {\r\n.\r\n.\r\n.\r\n```\r\n\r\nMy service interface:\r\n\r\n```java\r\npublic interface DealershipService {\r\n\r\n  Long getRevenue();\r\n\r\n  void sell(Car car);\r\n\r\n  void buy(Car car);\r\n.\r\n.\r\n.\r\n```\r\n\r\nAnd its implementation of `buy(Car car)`:\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  @Value(&quot;${revenue}&quot;)\r\n  private Long revenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(CarRepository carRepository) {\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n  @Override\r\n  public void buy(Car car) {\r\n    if (revenue &gt;= car.getCost()) {\r\n      carRepository.save(car);\r\n      revenue -= car.getCost();\r\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\r\n    } else {\r\n      log.warn(&quot;Unable to buy car {}; we&#39;re broke!&quot;, car);\r\n      throw new InsufficientRevenueException();\r\n    }\r\n  }\r\n\r\n.\r\n.\r\n.\r\n```\r\n\r\nI have the following test:\r\n\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class DealershipServiceIT {\r\n\r\n    @Autowired\r\n    private  DealershipService dealershipService;\r\n\r\n    @Test\r\n    public void whenMakingTransactions_revenueIsAffected(){\r\n        Car car = new Car(&quot;1234&quot;, &quot;Nissan&quot;, &quot;Sentra&quot;, 2012, 12_000L);\r\n        dealershipService.buy(car);\r\n        assertThat(dealershipService.getRevenue(), is(990_000L));\r\n    }\r\n}\r\n```\r\n\r\nWhen the code hits the line of `DealershipServiceImpl` where I call `save()` on the Car instance, I get the following exception:\r\n\r\n```\r\n2023-03-08T07:09:27.757-05:00  WARN 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42104, SQLState: 42S04\r\n2023-03-08T07:09:27.758-05:00 ERROR 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table &quot;CAR&quot; not found (this database is empty); SQL statement:\r\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\r\n2023-03-08T07:09:27.868-05:00  INFO 22592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-08T07:09:27.870-05:00  INFO 22592 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-03-08T07:09:27.881-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-08T07:09:27.887-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?)]\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:656)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:409)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy104.save(Unknown Source)\r\n\tat com.jason.cardealership.service.impl.DealershipServiceImpl.buy(DealershipServiceImpl.java:43)\r\n\tat com.jason.cardealership.service.DealershipServiceIT.whenMakingTransactions_revenueIsAffected(DealershipServiceIT.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:142)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:131)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3419)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4073)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)\r\n\t... 86 more\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty); SQL statement:\r\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:8358)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:8328)\r\n\tat org.h2.command.Parser.parseInsert(Parser.java:1632)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:814)\r\n\tat org.h2.command.Parser.parse(Parser.java:689)\r\n\tat org.h2.command.Parser.parse(Parser.java:661)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:569)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:327)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n\t... 108 more\r\n\r\n```\r\n\r\nConsidering that I&#39;ve tagged my `Car` as an `@Entity`, I&#39;m not sure why I&#39;m getting that exception about the database being empty. Any help appreciated. If it matters, here are my spring-data-jpa and h2 dependencies in the pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\t\t\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>New to Spring, I'm building a toy car dealership. This is my Entity class for cars:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString\npublic class Car {\n  @Id @GeneratedValue private Long id;\n  private String vin;\n  private String make;\n  private String model;\n  private Integer year;\n  private Long cost;\n\n  public Car() {}\n\n  public Car(String vin, String make, String model, Integer year, Long cost) {\n    this.vin = vin;\n    this.make = make;\n    this.model = model;\n    this.year = year;\n    this.cost = cost;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Car car = (Car) o;\n    return Objects.equals(id, car.id)\n        &amp;&amp; Objects.equals(vin, car.vin)\n        &amp;&amp; Objects.equals(make, car.make)\n        &amp;&amp; Objects.equals(model, car.model)\n        &amp;&amp; Objects.equals(year, car.year)\n        &amp;&amp; Objects.equals(cost, car.cost);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(id, vin, make, model, year, cost);\n  }\n\n\n}\n</code></pre>\n<p>My repository class extends <code>CrudRepository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CarRepository extends CrudRepository&lt;Car, Long&gt; {\n.\n.\n.\n</code></pre>\n<p>My service interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DealershipService {\n\n  Long getRevenue();\n\n  void sell(Car car);\n\n  void buy(Car car);\n.\n.\n.\n</code></pre>\n<p>And its implementation of <code>buy(Car car)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  @Value(&quot;${revenue}&quot;)\n  private Long revenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(CarRepository carRepository) {\n    this.carRepository = carRepository;\n  }\n\n  @Override\n  public void buy(Car car) {\n    if (revenue &gt;= car.getCost()) {\n      carRepository.save(car);\n      revenue -= car.getCost();\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\n    } else {\n      log.warn(&quot;Unable to buy car {}; we're broke!&quot;, car);\n      throw new InsufficientRevenueException();\n    }\n  }\n\n.\n.\n.\n</code></pre>\n<p>I have the following test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic class DealershipServiceIT {\n\n    @Autowired\n    private  DealershipService dealershipService;\n\n    @Test\n    public void whenMakingTransactions_revenueIsAffected(){\n        Car car = new Car(&quot;1234&quot;, &quot;Nissan&quot;, &quot;Sentra&quot;, 2012, 12_000L);\n        dealershipService.buy(car);\n        assertThat(dealershipService.getRevenue(), is(990_000L));\n    }\n}\n</code></pre>\n<p>When the code hits the line of <code>DealershipServiceImpl</code> where I call <code>save()</code> on the Car instance, I get the following exception:</p>\n<pre><code>2023-03-08T07:09:27.757-05:00  WARN 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42104, SQLState: 42S04\n2023-03-08T07:09:27.758-05:00 ERROR 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table &quot;CAR&quot; not found (this database is empty); SQL statement:\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\n2023-03-08T07:09:27.868-05:00  INFO 22592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-03-08T07:09:27.870-05:00  INFO 22592 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-03-08T07:09:27.881-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-08T07:09:27.887-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?)]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:656)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:409)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy104.save(Unknown Source)\n    at com.jason.cardealership.service.impl.DealershipServiceImpl.buy(DealershipServiceImpl.java:43)\n    at com.jason.cardealership.service.DealershipServiceIT.whenMakingTransactions_revenueIsAffected(DealershipServiceIT.java:27)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81)\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:142)\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:131)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3419)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4073)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)\n    ... 86 more\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty); SQL statement:\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\n    at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\n    at org.h2.command.Parser.readTableOrView(Parser.java:8358)\n    at org.h2.command.Parser.readTableOrView(Parser.java:8328)\n    at org.h2.command.Parser.parseInsert(Parser.java:1632)\n    at org.h2.command.Parser.parsePrepared(Parser.java:814)\n    at org.h2.command.Parser.parse(Parser.java:689)\n    at org.h2.command.Parser.parse(Parser.java:661)\n    at org.h2.command.Parser.prepareCommand(Parser.java:569)\n    at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\n    at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288)\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:327)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n    ... 108 more\n\n</code></pre>\n<p>Considering that I've tagged my <code>Car</code> as an <code>@Entity</code>, I'm not sure why I'm getting that exception about the database being empty. Any help appreciated. If it matters, here are my spring-data-jpa and h2 dependencies in the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678317578,"post_id":75674176,"comment_id":133511458,"body_markdown":"Off-topic: Do you actually have a class or interface`string`, or did you intend to use `String`? Remember, Java is case sensitive.","body":"Off-topic: Do you actually have a class or interface<code>string</code>, or did you intend to use <code>String</code>? Remember, Java is case sensitive."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678318360,"post_id":75674176,"comment_id":133511562,"body_markdown":"Questions of this type should include, as text, a copy of the actual error message, and where it occurs /  what it points to. However, in this case, the example indicates a misunderstanding of basic inheritance. An instance of `C` already contains a `name` reference, and has `void setName (string)` and `string getName ()` methods. So, an instance of `C` has two variables called `name`.  One is a `string` (sic), the other is a `C`.","body":"Questions of this type should include, as text, a copy of the actual error message, and where it occurs /  what it points to. However, in this case, the example indicates a misunderstanding of basic inheritance. An instance of <code>C</code> already contains a <code>name</code> reference, and has <code>void setName (string)</code> and <code>string getName ()</code> methods. So, an instance of <code>C</code> has two variables called <code>name</code>.  One is a <code>string</code> (sic), the other is a <code>C</code>."}],"owner":{"account_id":27965807,"reputation":11,"user_id":21356690,"display_name":"Andr&#233; Gon&#231;alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678284799,"creation_date":1678284799,"question_id":75674176,"body_markdown":"I have an error when i try to integrate two webmethods:\r\nException Description: Name collision.  Two classes have the XML type with uri http://xxx and name yyy.\r\n\r\nThe input of first webmethod is of type A. The input of second webmethod is of type B. \r\n\r\n```\r\nclass C {\r\n string name;\r\n\r\n public string getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(string name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass A extends C {\r\n C name;\r\n\r\n public C getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(C name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n```\r\nclass B extends C {\r\n C name;\r\n\r\n public C getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(C name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n(This is an example of my code; The classes are generated by an xsd)\r\n\r\nHow I fix this. Thank you for your help\r\n\r\nI try to use \r\n - @WebMethod (operationName = &quot;operationA&quot;) for first method;\r\n - @WebMethod (operationName = &quot;operationB&quot;) for second method;\r\n\r\nThis is not fix the problem","title":"Name collision. Two classes have the same XML type with uri and name","body":"<p>I have an error when i try to integrate two webmethods:\nException Description: Name collision.  Two classes have the XML type with uri http://xxx and name yyy.</p>\n<p>The input of first webmethod is of type A. The input of second webmethod is of type B.</p>\n<pre><code>class C {\n string name;\n\n public string getName() {\n  return name;\n }\n\n public void setName(string name) {\n  this.name= name;\n }\n}\n</code></pre>\n<pre><code>class A extends C {\n C name;\n\n public C getName() {\n  return name;\n }\n\n public void setName(C name) {\n  this.name= name;\n }\n}\n</code></pre>\n<pre><code>class B extends C {\n C name;\n\n public C getName() {\n  return name;\n }\n\n public void setName(C name) {\n  this.name= name;\n }\n}\n</code></pre>\n<p>(This is an example of my code; The classes are generated by an xsd)</p>\n<p>How I fix this. Thank you for your help</p>\n<p>I try to use</p>\n<ul>\n<li>@WebMethod (operationName = &quot;operationA&quot;) for first method;</li>\n<li>@WebMethod (operationName = &quot;operationB&quot;) for second method;</li>\n</ul>\n<p>This is not fix the problem</p>\n"},{"tags":["java","mongodb","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"score":1,"creation_date":1588535707,"post_id":61580731,"comment_id":108929573,"body_markdown":"Does this answer your question? [Spring Data JPA - &quot;No Property Found for Type&quot; Exception](https://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception\">Spring Data JPA - &quot;No Property Found for Type&quot; Exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590246113,"creation_date":1588535781,"answer_id":61580805,"question_id":61580731,"body_markdown":"Try changing the `Product` class as the following:\r\n\r\n    @Entity\r\n    public class Product {\r\n    \r\n        @Id\r\n        private String productId; // MongoRepository&lt;Product, String&gt;\r\n\r\n        // methods\r\n    }\r\n\r\nIn the `Product` class the `@Entity` annotation is missing and the `productId` should be a `String`, as specified in the repository.\r\n\r\nOr change to `extends MongoRepository&lt;Product, Integer&gt;` if you want to keep the current field type.\r\n\r\nIn any case, they should match.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Try changing the <code>Product</code> class as the following:</p>\n\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    private String productId; // MongoRepository&lt;Product, String&gt;\n\n    // methods\n}\n</code></pre>\n\n<p>In the <code>Product</code> class the <code>@Entity</code> annotation is missing and the <code>productId</code> should be a <code>String</code>, as specified in the repository.</p>\n\n<p>Or change to <code>extends MongoRepository&lt;Product, Integer&gt;</code> if you want to keep the current field type.</p>\n\n<p>In any case, they should match.</p>\n"},{"tags":[],"owner":{"account_id":18147066,"reputation":21,"user_id":13200292,"display_name":"Learning_To_Code"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588540315,"creation_date":1588540315,"answer_id":61581686,"question_id":61580731,"body_markdown":"Make You That Your Spring Application Knows Where Your Classes Resides.\r\nUse `@ComponentScan(basePackages = &quot;com.package&quot;)`.\r\n\r\nMoreover If Your Product Class Is Something That You Want to Persist Mark It With `@Entity` So Spring Knows about It And Creates A Bean Out Of it.\r\n\r\nMark Your interface ProductService with `@service`, So that Spring Knows About it.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Make You That Your Spring Application Knows Where Your Classes Resides.\nUse <code>@ComponentScan(basePackages = \"com.package\")</code>.</p>\n\n<p>Moreover If Your Product Class Is Something That You Want to Persist Mark It With <code>@Entity</code> So Spring Knows about It And Creates A Bean Out Of it.</p>\n\n<p>Mark Your interface ProductService with <code>@service</code>, So that Spring Knows About it.</p>\n"},{"tags":[],"owner":{"account_id":27381903,"reputation":1,"user_id":20886378,"display_name":"Sundaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678284766,"creation_date":1678284766,"answer_id":75674166,"question_id":61580731,"body_markdown":"Unsatisfieddependencyexception:\r\nRepository.java this page like @respository annotation class below being return type null and near optinal &lt;&gt; using default keyword\r\nThis method working me.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Unsatisfieddependencyexception:\nRepository.java this page like @respository annotation class below being return type null and near optinal &lt;&gt; using default keyword\nThis method working me.</p>\n"}],"owner":{"account_id":15856830,"reputation":121,"user_id":11441018,"display_name":"Dinuli Thalakumbura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61580805,"answer_count":3,"score":1,"last_activity_date":1678284766,"creation_date":1588535432,"question_id":61580731,"body_markdown":"I am building a REST API and can&#39;t seem to get rid of the org.springframework.beans.factory.UnsatisfiedDependencyException, I can&#39;t spot the issue in this. I will appreciate a fresh insight into this. \r\n\r\np.s: Using mongo DB for this \r\n\r\nfirst off the full error\r\n\r\n```\r\n2020-05-04 01:16:31.468  WARN 14412 \r\n--- [           main] ConfigServletWebServerApplicationContext : \r\nException encountered during context initialization - \r\ncancelling refresh attempt: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;productController&#39;: \r\nUnsatisfied dependency expressed through field &#39;productService&#39;; \r\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n Error creating bean with name &#39;productServiceImpl&#39;:\r\n Unsatisfied dependency expressed through field &#39;productRepo&#39;; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;productRepo&#39;: \r\nInvocation of init method failed; nested exception is org.springframework.data.mapping.PropertyReferenceException:\r\n No property id found for type Product!\r\n\r\n```\r\n\r\n```\r\npublic class Product {\r\n\r\n    @Id\r\n    private int ProductId;\r\n    \r\n// and other variables plus setters and getters \r\n```\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\r\n\r\n   // methods\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface ProductService {\r\n // methods\r\n}\r\n\r\n```\r\n```\r\n\r\n@Service\r\npublic class ProductServiceImpl implements ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepo productRepo;\r\n \r\n// implementations\r\n}\r\n```\r\n","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>I am building a REST API and can't seem to get rid of the org.springframework.beans.factory.UnsatisfiedDependencyException, I can't spot the issue in this. I will appreciate a fresh insight into this. </p>\n\n<p>p.s: Using mongo DB for this </p>\n\n<p>first off the full error</p>\n\n<pre><code>2020-05-04 01:16:31.468  WARN 14412 \n--- [           main] ConfigServletWebServerApplicationContext : \nException encountered during context initialization - \ncancelling refresh attempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'productController': \nUnsatisfied dependency expressed through field 'productService'; \nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException:\n Error creating bean with name 'productServiceImpl':\n Unsatisfied dependency expressed through field 'productRepo'; \nnested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'productRepo': \nInvocation of init method failed; nested exception is org.springframework.data.mapping.PropertyReferenceException:\n No property id found for type Product!\n\n</code></pre>\n\n<pre><code>public class Product {\n\n    @Id\n    private int ProductId;\n\n// and other variables plus setters and getters \n</code></pre>\n\n<pre><code>@Repository\npublic interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\n\n   // methods\n}\n\n</code></pre>\n\n<pre><code>public interface ProductService {\n // methods\n}\n\n</code></pre>\n\n<pre><code>\n@Service\npublic class ProductServiceImpl implements ProductService {\n\n    @Autowired\n    private ProductRepo productRepo;\n\n// implementations\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":10617793,"reputation":81,"user_id":7819736,"display_name":"Lewis_McReu"},"score":0,"creation_date":1678280468,"post_id":75671472,"comment_id":133501434,"body_markdown":"Does your controller execute the same code for both of your endpoints?","body":"Does your controller execute the same code for both of your endpoints?"},{"owner":{"account_id":8430535,"reputation":11,"user_id":6326456,"display_name":"John Doe"},"score":0,"creation_date":1678281269,"post_id":75671472,"comment_id":133501643,"body_markdown":"@Lewis_McReu, yes it does.","body":"@Lewis_McReu, yes it does."}],"owner":{"account_id":8430535,"reputation":11,"user_id":6326456,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678284499,"creation_date":1678268754,"question_id":75671472,"body_markdown":"I already have seen different answers for the LazyInitializationException (could not initialize proxy - no Session) exception but I think my problem is different. \r\n\r\nI have a working API and a security-context.xml with &lt;s:intercept-url&gt; for each endpoints and I want to create a second API with different privileges.\r\n\r\nThen, I have added a second endpoint to my already existing controller : \r\n\r\n    @Controller\r\n    @Slf4j\r\n    @RequestMapping(path =[&quot;/settings/&quot;, &quot;/v2/settings/&quot;])\r\n    class ThisIsAController {\r\n\r\nAnd I have added the endpoints to my security-context.xml\r\n\r\n    &lt;s:intercept-url pattern=&quot;/settings/create/**&quot; access=&quot;hasAnyRole(&#39;ROLE&#39;)&quot; /&gt;\r\n    &lt;s:intercept-url pattern=&quot;/v2/settings/create/**&quot; access=&quot;hasAnyRole(&#39;ROLE&#39;)&quot; /&gt;\r\n\r\n\r\nBut When I tried to reach : \r\n\r\n&gt; /v2/settings/....\r\n\r\nI have the following exception : \r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: xxx.xxx.xxx.xxx.model.ModelClass.entries, could not initialize proxy - no Session\r\n\r\nAnd when I tried to reach the first api it works well. \r\n\r\nDoes anyone have any idea where the exception could be coming from?\r\n\r\nThanks\r\n","title":"RequestMapping with multiple endpoints and LazyInitializationException exception","body":"<p>I already have seen different answers for the LazyInitializationException (could not initialize proxy - no Session) exception but I think my problem is different.</p>\n<p>I have a working API and a security-context.xml with &lt;s:intercept-url&gt; for each endpoints and I want to create a second API with different privileges.</p>\n<p>Then, I have added a second endpoint to my already existing controller :</p>\n<pre><code>@Controller\n@Slf4j\n@RequestMapping(path =[&quot;/settings/&quot;, &quot;/v2/settings/&quot;])\nclass ThisIsAController {\n</code></pre>\n<p>And I have added the endpoints to my security-context.xml</p>\n<pre><code>&lt;s:intercept-url pattern=&quot;/settings/create/**&quot; access=&quot;hasAnyRole('ROLE')&quot; /&gt;\n&lt;s:intercept-url pattern=&quot;/v2/settings/create/**&quot; access=&quot;hasAnyRole('ROLE')&quot; /&gt;\n</code></pre>\n<p>But When I tried to reach :</p>\n<blockquote>\n<p>/v2/settings/....</p>\n</blockquote>\n<p>I have the following exception :</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: xxx.xxx.xxx.xxx.model.ModelClass.entries, could not initialize proxy - no Session\n</code></pre>\n<p>And when I tried to reach the first api it works well.</p>\n<p>Does anyone have any idea where the exception could be coming from?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875092,"post_id":75631512,"comment_id":133430383,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677875398,"post_id":75631512,"comment_id":133430451,"body_markdown":"I don&#39;t know what else I can add, it&#39;s just that the error and I don&#39;t know how to solve it","body":"I don&#39;t know what else I can add, it&#39;s just that the error and I don&#39;t know how to solve it"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875535,"post_id":75631512,"comment_id":133430486,"body_markdown":"If only the `@PostMapping` is relevant, remove all the other handler methods. Does the body of the method matter? If not, reduce it to the bare minimum. Provide your `main` method where you start the `SpringApplication`. Reduce it to the bare minimum to reproduce your error as well.","body":"If only the <code>@PostMapping</code> is relevant, remove all the other handler methods. Does the body of the method matter? If not, reduce it to the bare minimum. Provide your <code>main</code> method where you start the <code>SpringApplication</code>. Reduce it to the bare minimum to reproduce your error as well."},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677875671,"post_id":75631512,"comment_id":133430518,"body_markdown":"First of all `@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)` is not correct please fix this and check your code again. It must be `@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)`","body":"First of all <code>@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)</code> is not correct please fix this and check your code again. It must be <code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)</code>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875889,"post_id":75631512,"comment_id":133430560,"body_markdown":"@G.Guvenal That&#39;s likely the answer. `MULTIPART_FORM_DATA_VALUE` is a String. `@PostMapping` default `value` element is a synonym for path. So their `@PostMapping` is registered to handle a path equal to the value of `MULTIPART_FORM_DATA_VALUE`, which obviously isn&#39;t `product`.","body":"@G.Guvenal That&#39;s likely the answer. <code>MULTIPART_FORM_DATA_VALUE</code> is a String. <code>@PostMapping</code> default <code>value</code> element is a synonym for path. So their <code>@PostMapping</code> is registered to handle a path equal to the value of <code>MULTIPART_FORM_DATA_VALUE</code>, which obviously isn&#39;t <code>product</code>."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677876075,"post_id":75631512,"comment_id":133430597,"body_markdown":"now the error is &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data&#39; is not supported]&quot;","body":"now the error is &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data&#39; is not supported]&quot;"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677877225,"post_id":75631512,"comment_id":133430865,"body_markdown":"@JunqRal please edit your question with new error and screenshots.","body":"@JunqRal please edit your question with new error and screenshots."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677909119,"post_id":75631512,"comment_id":133434529,"body_markdown":"Check your html form tag attribute !!!   enctype=&quot;multipart/form-data&quot;","body":"Check your html form tag attribute !!!   enctype=&quot;multipart/form-data&quot;"}],"answers":[{"comments":[{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677877368,"post_id":75631796,"comment_id":133430900,"body_markdown":"now the error is &quot; Content-Type &#39;multipart/form-data&#39; is not supported&quot;","body":"now the error is &quot; Content-Type &#39;multipart/form-data&#39; is not supported&quot;"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1677877459,"post_id":75631796,"comment_id":133430916,"body_markdown":"I updated my answer change RequestPart to RequestParam","body":"I updated my answer change RequestPart to RequestParam"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1677877597,"post_id":75631796,"comment_id":133430950,"body_markdown":"@JunqRal did it work? if anything else put your error here","body":"@JunqRal did it work? if anything else put your error here"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677877940,"post_id":75631796,"comment_id":133431020,"body_markdown":"ok, I put the &quot;/&quot; at the end of the link, and it returned the error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.api.business_manager_api.Dtos.ProductDto&#39;; Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.api.business_manager_api.Dtos.ProductDto&#39;: no matching editors or conversion strategy found]","body":"ok, I put the &quot;/&quot; at the end of the link, and it returned the error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.api.business_manager_api.Dtos.ProductDto&#39;; Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;com.api.business_manager_api.Dtos.ProductDto&#39;: no matching editors or conversion strategy found]"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1677878430,"post_id":75631796,"comment_id":133431130,"body_markdown":"now we have to deal a separate issue which is conversion: you have two solution change either change ProductDto in the Post method to Sting and convert it later \n\npublic ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {\n\nObjectMapper objectMapper = new ObjectMapper();\nProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);","body":"now we have to deal a separate issue which is conversion: you have two solution change either change ProductDto in the Post method to Sting and convert it later   public ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {  ObjectMapper objectMapper = new ObjectMapper(); ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677880831,"post_id":75631796,"comment_id":133431590,"body_markdown":"I did the first solution, and now I&#39;m falling into the exception of the post. I decided to put the exception to return to know what&#39;s going on, and I got some stuff in my postman and I updated the question (I got more stuff like this, but the text is so big that it doesn&#39;t fit in the question)","body":"I did the first solution, and now I&#39;m falling into the exception of the post. I decided to put the exception to return to know what&#39;s going on, and I got some stuff in my postman and I updated the question (I got more stuff like this, but the text is so big that it doesn&#39;t fit in the question)"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677882140,"post_id":75631796,"comment_id":133431842,"body_markdown":"UnrecognizedPropertyException","body":"UnrecognizedPropertyException"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1677885282,"post_id":75631796,"comment_id":133432363,"body_markdown":"use https://pastebin.com/ to print the whole exception","body":"use <a href=\"https://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a> to print the whole exception"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677939313,"post_id":75631796,"comment_id":133438092,"body_markdown":"https://uploaddeimagens.com.br/imagens/Owx9Bsc","body":"<a href=\"https://uploaddeimagens.com.br/imagens/Owx9Bsc\" rel=\"nofollow noreferrer\">uploaddeimagens.com.br/imagens/Owx9Bsc</a>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677939844,"post_id":75631796,"comment_id":133438165,"body_markdown":"&quot;originalMessage&quot;: &quot;Unexpected character (&#39;n&#39; (code 110)): was expecting a colon to separate field name and value&quot;,\n    &quot;suppressed&quot;: [],\n    &quot;localizedMessage&quot;: &quot;Unexpected character (&#39;n&#39; (code 110)): was expecting a colon to separate field name and value\\n at [Source: (String)\\&quot;{\\&quot;product\\&quot;: \\&quot;iPhone 13 270 gb\\&quot;, \\&quot;brand\\&quot;: \\&quot;Apple\\&quot;, \\&quot;description: \\&quot;nada a declarar\\&quot;, \\&quot;price\\&quot;: 8500, \\&quot;stock\\&quot;: 56, \\&quot;productCategory\\&quot;: {\\&quot;category_id\\&quot;: \\&quot;6fc186b1-c97a-49c9-ba6a-2da8e38e53d8\\&quot;}}\\&quot;; line: 1, column: 67]&quot;","body":"&quot;originalMessage&quot;: &quot;Unexpected character (&#39;n&#39; (code 110)): was expecting a colon to separate field name and value&quot;,     &quot;suppressed&quot;: [],     &quot;localizedMessage&quot;: &quot;Unexpected character (&#39;n&#39; (code 110)): was expecting a colon to separate field name and value\\n at [Source: (String)\\&quot;{\\&quot;product\\&quot;: \\&quot;iPhone 13 270 gb\\&quot;, \\&quot;brand\\&quot;: \\&quot;Apple\\&quot;, \\&quot;description: \\&quot;nada a declarar\\&quot;, \\&quot;price\\&quot;: 8500, \\&quot;stock\\&quot;: 56, \\&quot;productCategory\\&quot;: {\\&quot;category_id\\&quot;: \\&quot;6fc186b1-c97a-49c9-ba6a-2da8e38e53d8\\&quot;}}\\&quot;; line: 1, column: 67]&quot;"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677949032,"post_id":75631796,"comment_id":133439787,"body_markdown":"Do you have knowledge about amazon s3? aws","body":"Do you have knowledge about amazon s3? aws"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678092369,"post_id":75631796,"comment_id":133459551,"body_markdown":"yes I have some knowledge, you can create a new question and tag me in it","body":"yes I have some knowledge, you can create a new question and tag me in it"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678124516,"post_id":75631796,"comment_id":133468863,"body_markdown":"https://stackoverflow.com/questions/75653867/amazon-aws-error-with-s3-bucket-not-existing-spring-boot","body":"<a href=\"https://stackoverflow.com/questions/75653867/amazon-aws-error-with-s3-bucket-not-existing-spring-boot\" title=\"amazon aws error with s3 bucket not existing spring boot\">stackoverflow.com/questions/75653867/&hellip;</a>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678124527,"post_id":75631796,"comment_id":133468867,"body_markdown":"Could you help me ?","body":"Could you help me ?"},{"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"score":0,"creation_date":1689265777,"post_id":75631796,"comment_id":135192565,"body_markdown":"Error for the second solution: `Class &#39;ProductDtoConverter&#39; must either be declared abstract or implement abstract method &#39;writeInternal(T, HttpOutputMessage)&#39; in &#39;AbstractHttpMessageConverter&#39;`","body":"Error for the second solution: <code>Class &#39;ProductDtoConverter&#39; must either be declared abstract or implement abstract method &#39;writeInternal(T, HttpOutputMessage)&#39; in &#39;AbstractHttpMessageConverter&#39;</code>"}],"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677879137,"creation_date":1677876983,"answer_id":75631796,"question_id":75631512,"body_markdown":"Change your     `@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)`\r\n because putting the media type there will actually map the URL to `/product/multipart/form-data` and not `/product/`\r\n\r\nchange it to this\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\r\nalso, you need to update the method signature to something like this (Change @RequestPart to @RequestParam)\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n           ObjectMapper objectMapper = new ObjectMapper();\r\n           ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\r\n        }\r\n\r\nand make sure you have the relevant dependencies commons-fileupload and commons-io\r\n\r\nalso I recomemend when Uploading set a maximum upload size for the file you can do it like this:\r\n\r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n        resolver.setMaxUploadSize(1024 * 1024 * 5); // 5 MB\r\n        return resolver;\r\n    }\r\n\r\n\r\n\r\nand then in postman call `http://localhost:8078/product/`\r\n\r\nA second solution you can create the suitable converter in Spring:\r\nthe solution is like\r\n\r\n    public class ProductDtoConverter extends AbstractHttpMessageConverter&lt;ProductDto&gt; {\r\n        \r\n        public ProductDtoConverter() {\r\n            super(MediaType.APPLICATION_JSON);\r\n        }\r\n        \r\n        @Override\r\n        protected boolean supports(Class&lt;?&gt; clazz) {\r\n            return ProductDto.class.isAssignableFrom(clazz);\r\n        }\r\n        \r\n        @Override\r\n        protected ProductDto readInternal(Class&lt;? extends ProductDto&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n            String productDtoString = IOUtils.toString(inputMessage.getBody(), StandardCharsets.UTF_8);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.readValue(productDtoString, ProductDto.class);\r\n        }\r\n    }\r\n\r\n\r\nand in you AppConfig:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n        \r\n        @Bean\r\n        public ProductDtoConverter productDtoConverter() {\r\n            return new ProductDtoConverter();\r\n        }\r\n    }\r\n\r\n","title":"Spring boot - method &#39;POST&#39; is not supported (multipart/form-data)","body":"<p>Change your     <code>@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)</code>\nbecause putting the media type there will actually map the URL to <code>/product/multipart/form-data</code> and not <code>/product/</code></p>\n<p>change it to this</p>\n<pre><code>@PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n</code></pre>\n<p>also, you need to update the method signature to something like this (Change @RequestPart to @RequestParam)</p>\n<pre><code>@PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {\n       ObjectMapper objectMapper = new ObjectMapper();\n       ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\n    }\n</code></pre>\n<p>and make sure you have the relevant dependencies commons-fileupload and commons-io</p>\n<p>also I recomemend when Uploading set a maximum upload size for the file you can do it like this:</p>\n<pre><code>@Bean\npublic MultipartResolver multipartResolver() {\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n    resolver.setMaxUploadSize(1024 * 1024 * 5); // 5 MB\n    return resolver;\n}\n</code></pre>\n<p>and then in postman call <code>http://localhost:8078/product/</code></p>\n<p>A second solution you can create the suitable converter in Spring:\nthe solution is like</p>\n<pre><code>public class ProductDtoConverter extends AbstractHttpMessageConverter&lt;ProductDto&gt; {\n    \n    public ProductDtoConverter() {\n        super(MediaType.APPLICATION_JSON);\n    }\n    \n    @Override\n    protected boolean supports(Class&lt;?&gt; clazz) {\n        return ProductDto.class.isAssignableFrom(clazz);\n    }\n    \n    @Override\n    protected ProductDto readInternal(Class&lt;? extends ProductDto&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n        String productDtoString = IOUtils.toString(inputMessage.getBody(), StandardCharsets.UTF_8);\n        ObjectMapper objectMapper = new ObjectMapper();\n        return objectMapper.readValue(productDtoString, ProductDto.class);\n    }\n}\n</code></pre>\n<p>and in you AppConfig:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    \n    @Bean\n    public ProductDtoConverter productDtoConverter() {\n        return new ProductDtoConverter();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75631796,"answer_count":1,"score":-1,"last_activity_date":1678284468,"creation_date":1677874499,"question_id":75631512,"body_markdown":"I&#39;m trying to send through multipart/form-data  a post request from my products controller, where I upload a file of images and information of my product in json\r\n\r\n```\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    final ProductService productService;\r\n    final CategoryService categoryService;\r\n    final ProductMapper productMapper;\r\n    final S3Client s3Client;\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\r\n\r\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\r\n        this.productService = productService;\r\n        this.productMapper = productMapper;\r\n        this.categoryService = categoryService;\r\n        this.s3Client = s3Client;\r\n    }\r\n    @PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(value = &quot;file&quot;)MultipartFile file) {\r\n        try {\r\n            if (productService.existsByProduct(productDto.getProduct())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\r\n            }\r\n            ProductModel productModel = productMapper.toProductModel(productDto);\r\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\r\n            productModel.setProductCategory(categoryModel);\r\n\r\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\r\n\r\n            s3Client.putObject(PutObjectRequest\r\n                            .builder()\r\n                            .bucket(BUCKET_NAME)\r\n                            .key(fileName)\r\n                            .build(),\r\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nin my postman I&#39;m sending it like this, and getting the error 405\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9U3VG.png\r\n\r\nIn my console I am getting the error:\r\n\r\n```\r\nRequest method &#39;POST&#39; is not supported]\r\n```\r\n\r\nI don&#39;t understand why since I am sending a postMapping\r\n\r\n\r\nupdated error in postman:\r\n\r\n```\r\n\r\n{\r\n    &quot;cause&quot;: null,\r\n    &quot;stackTrace&quot;: [\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;from&quot;,\r\n            &quot;fileName&quot;: &quot;UnrecognizedPropertyException.java&quot;,\r\n            &quot;lineNumber&quot;: 61,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\r\n            &quot;fileName&quot;: &quot;DeserializationContext.java&quot;,\r\n            &quot;lineNumber&quot;: 1132,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.DeserializationContext&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\r\n            &quot;fileName&quot;: &quot;StdDeserializer.java&quot;,\r\n            &quot;lineNumber&quot;: 2202,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer&quot;\r\n        }, ...\r\n```","title":"Spring boot - method &#39;POST&#39; is not supported (multipart/form-data)","body":"<p>I'm trying to send through multipart/form-data  a post request from my products controller, where I upload a file of images and information of my product in json</p>\n<pre><code>\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    final ProductService productService;\n    final CategoryService categoryService;\n    final ProductMapper productMapper;\n    final S3Client s3Client;\n\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\n\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\n        this.productService = productService;\n        this.productMapper = productMapper;\n        this.categoryService = categoryService;\n        this.s3Client = s3Client;\n    }\n    @PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(value = &quot;file&quot;)MultipartFile file) {\n        try {\n            if (productService.existsByProduct(productDto.getProduct())) {\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\n            }\n            ProductModel productModel = productMapper.toProductModel(productDto);\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\n            productModel.setProductCategory(categoryModel);\n\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\n\n            s3Client.putObject(PutObjectRequest\n                            .builder()\n                            .bucket(BUCKET_NAME)\n                            .key(fileName)\n                            .build(),\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\n        }\n    }\n\n\n\n</code></pre>\n<p>in my postman I'm sending it like this, and getting the error 405\n<a href=\"https://i.stack.imgur.com/9U3VG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9U3VG.png\" alt=\"enter image description here\" /></a></p>\n<p>In my console I am getting the error:</p>\n<pre><code>Request method 'POST' is not supported]\n</code></pre>\n<p>I don't understand why since I am sending a postMapping</p>\n<p>updated error in postman:</p>\n<pre><code>\n{\n    &quot;cause&quot;: null,\n    &quot;stackTrace&quot;: [\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;from&quot;,\n            &quot;fileName&quot;: &quot;UnrecognizedPropertyException.java&quot;,\n            &quot;lineNumber&quot;: 61,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException&quot;\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\n            &quot;fileName&quot;: &quot;DeserializationContext.java&quot;,\n            &quot;lineNumber&quot;: 1132,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.DeserializationContext&quot;\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\n            &quot;fileName&quot;: &quot;StdDeserializer.java&quot;,\n            &quot;lineNumber&quot;: 2202,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer&quot;\n        }, ...\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1678282950,"post_id":75673775,"comment_id":133502152,"body_markdown":"You need `(?&lt;![0-9a-z])([a-z]+)`, include the letters into the character class inside the lookbehind.","body":"You need <code>(?&lt;![0-9a-z])([a-z]+)</code>, include the letters into the character class inside the lookbehind."},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1678283429,"post_id":75673775,"comment_id":133502303,"body_markdown":"Yep, @WiktorStribiżew you are absolutely right, it works for both look-aheads and look-behinds. Thank you! Feel free to add it as proper answer and I&#39;m happy to approve.","body":"Yep, @WiktorStribiżew you are absolutely right, it works for both look-aheads and look-behinds. Thank you! Feel free to add it as proper answer and I&#39;m happy to approve."}],"answers":[{"comments":[{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1678284023,"post_id":75673995,"comment_id":133502506,"body_markdown":"I need the capturing because I wan to report back all &quot;orphans&quot;.","body":"I need the capturing because I wan to report back all &quot;orphans&quot;."},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1678284055,"post_id":75673995,"comment_id":133502521,"body_markdown":"Extra points for the interactive demo","body":"Extra points for the interactive demo"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678283780,"creation_date":1678283780,"answer_id":75673995,"question_id":75673775,"body_markdown":"You need to include the letter pattern into the character class inside the lookbehind:\r\n```none\r\n(?&lt;![0-9a-z])([a-z]+)\r\n```\r\nNote that the capturing group around `[a-z]+` is superfluous, and should be removed.\r\n\r\nSee the [regex demo][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/G1PA5V/1","title":"Regext to find text segments where text in not preceded by a number","body":"<p>You need to include the letter pattern into the character class inside the lookbehind:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;![0-9a-z])([a-z]+)\n</code></pre>\n<p>Note that the capturing group around <code>[a-z]+</code> is superfluous, and should be removed.</p>\n<p>See the <a href=\"https://regex101.com/r/G1PA5V/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75673995,"answer_count":1,"score":3,"last_activity_date":1678283780,"creation_date":1678282662,"question_id":75673775,"body_markdown":"Using this text as an example: `foo 34abcd bar 7890xyz 123`.\r\nPlease help me find a regex to find all &quot;orphan&quot; numbers, that would be `123`; \r\nand regex to find all &quot;orphan&quot; texts, that would be `foo` and `bar`.\r\n\r\nTo find all number followed immediately by a text is simple, I use a simple regex \r\n`([0-9]+)([a-z]+)`. But how to find all non-conforming segments/words?\r\n\r\nTo find number not followed by a text, the &quot;orphan&quot; nuber, I tried to use regex negative look-ahead `([0-9]+)(?![a-z]+)`, but that return false positive like `3` from `34abcd`, because `3` is not followed by a letter. How can I make regex consider `34` and not a `3` and `4`?\r\n\r\nTo find texts not immediately predeced by a number, the &quot;orphan&quot; texts,\r\nI tried regex with negative look-behind, `(?&lt;![0-9]+)([a-z]+)`.\r\nBut it make false positive match on `34abcd` returning text `bcd`.\r\nThe look-behing seems to work only for exact texts, like (min|sec|year|years), but not for a any string of letters.\r\n\r\n\r\nBackground:\r\nI&#39;m trying to write a regex based parser for Java `Duration`, something more human friendly then the default parser in `Duration.parse`. Something what would parse &quot;1h 30min 5sec&quot; but also detect and report back any unparsable bits, like &quot;foo bar 30min&quot; shoudl complain about not recognizing &quot;foo bar&quot;.\r\n\r\nThere is a question for that\r\nhttps://stackoverflow.com/questions/6403851/parsing-time-strings-like-1h-30min\r\nbut the suggested solutions are not satisfactory.","title":"Regext to find text segments where text in not preceded by a number","body":"<p>Using this text as an example: <code>foo 34abcd bar 7890xyz 123</code>.\nPlease help me find a regex to find all &quot;orphan&quot; numbers, that would be <code>123</code>;\nand regex to find all &quot;orphan&quot; texts, that would be <code>foo</code> and <code>bar</code>.</p>\n<p>To find all number followed immediately by a text is simple, I use a simple regex\n<code>([0-9]+)([a-z]+)</code>. But how to find all non-conforming segments/words?</p>\n<p>To find number not followed by a text, the &quot;orphan&quot; nuber, I tried to use regex negative look-ahead <code>([0-9]+)(?![a-z]+)</code>, but that return false positive like <code>3</code> from <code>34abcd</code>, because <code>3</code> is not followed by a letter. How can I make regex consider <code>34</code> and not a <code>3</code> and <code>4</code>?</p>\n<p>To find texts not immediately predeced by a number, the &quot;orphan&quot; texts,\nI tried regex with negative look-behind, <code>(?&lt;![0-9]+)([a-z]+)</code>.\nBut it make false positive match on <code>34abcd</code> returning text <code>bcd</code>.\nThe look-behing seems to work only for exact texts, like (min|sec|year|years), but not for a any string of letters.</p>\n<p>Background:\nI'm trying to write a regex based parser for Java <code>Duration</code>, something more human friendly then the default parser in <code>Duration.parse</code>. Something what would parse &quot;1h 30min 5sec&quot; but also detect and report back any unparsable bits, like &quot;foo bar 30min&quot; shoudl complain about not recognizing &quot;foo bar&quot;.</p>\n<p>There is a question for that\n<a href=\"https://stackoverflow.com/questions/6403851/parsing-time-strings-like-1h-30min\">Parsing time strings like &quot;1h 30min&quot;</a>\nbut the suggested solutions are not satisfactory.</p>\n"},{"tags":["java","arrays","string","split","null"],"owner":{"account_id":27957674,"reputation":9,"user_id":21350177,"display_name":"Caio Christhian"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678204106,"answer_count":0,"score":0,"last_activity_date":1678283641,"creation_date":1678201681,"question_id":75663724,"body_markdown":"[code](https://i.stack.imgur.com/DiwFt.png)\r\n\r\n[i&#39;ve tried change the constructor](https://i.stack.imgur.com/DteZN.png)\r\n\r\nand tried do a for to replace the value like this but its not working\r\n\r\n```\r\npublic Cliente(String nome, String cpf, String tel, String end, String num, String cidade, String estado) {\r\n        if (nome == &quot;&quot;) {\r\n            this.nome = null;\r\n        } else {\r\n            this.nome = nome;\r\n        }\r\n\r\n        if (cpf == &quot;&quot;) {\r\n            this.cpf = null;\r\n        } else {\r\n            this.cpf = Long.valueOf(cpf.trim());\r\n        }\r\n\r\n        if (tel == &quot;&quot;) {\r\n            this.tel = null;\r\n        } else {\r\n            this.tel = Long.valueOf(tel.trim());\r\n        }\r\n\r\n        if (end == &quot;&quot;) {\r\n            this.end = null;\r\n        } else {\r\n            this.end = end;\r\n        }\r\n\r\n        if (num == &quot;&quot;) {\r\n            this.numero = null;\r\n        } else {\r\n            this.numero = Integer.valueOf(num.trim());\r\n        }\r\n\r\n        if (cidade == &quot;&quot;) {\r\n            this.cidade = null;\r\n        } else {\r\n            this.cidade = cidade;\r\n        }\r\n\r\n        if (estado == &quot;&quot;) {\r\n            this.estado = null;\r\n        } else {\r\n            this.estado = estado;\r\n        }\r\n    }\r\n```\r\ni think if i change the constructor would be works but i have no idea now.\r\n\r\nUPDATE: i found a solution\r\n[solution][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8jAbr.png","title":"how can i validate this string array if one value was null","body":"<p><a href=\"https://i.stack.imgur.com/DiwFt.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p><a href=\"https://i.stack.imgur.com/DteZN.png\" rel=\"nofollow noreferrer\">i've tried change the constructor</a></p>\n<p>and tried do a for to replace the value like this but its not working</p>\n<pre><code>public Cliente(String nome, String cpf, String tel, String end, String num, String cidade, String estado) {\n        if (nome == &quot;&quot;) {\n            this.nome = null;\n        } else {\n            this.nome = nome;\n        }\n\n        if (cpf == &quot;&quot;) {\n            this.cpf = null;\n        } else {\n            this.cpf = Long.valueOf(cpf.trim());\n        }\n\n        if (tel == &quot;&quot;) {\n            this.tel = null;\n        } else {\n            this.tel = Long.valueOf(tel.trim());\n        }\n\n        if (end == &quot;&quot;) {\n            this.end = null;\n        } else {\n            this.end = end;\n        }\n\n        if (num == &quot;&quot;) {\n            this.numero = null;\n        } else {\n            this.numero = Integer.valueOf(num.trim());\n        }\n\n        if (cidade == &quot;&quot;) {\n            this.cidade = null;\n        } else {\n            this.cidade = cidade;\n        }\n\n        if (estado == &quot;&quot;) {\n            this.estado = null;\n        } else {\n            this.estado = estado;\n        }\n    }\n</code></pre>\n<p>i think if i change the constructor would be works but i have no idea now.</p>\n<p>UPDATE: i found a solution\n<a href=\"https://i.stack.imgur.com/8jAbr.png\" rel=\"nofollow noreferrer\">solution</a></p>\n"},{"tags":["java","spring-boot","yaml"],"answers":[{"comments":[{"owner":{"account_id":339786,"reputation":1941,"user_id":669472,"accept_rate":70,"display_name":"vissu"},"score":0,"creation_date":1659071206,"post_id":33821690,"comment_id":129212478,"body_markdown":"Does this work in Spring MVC ? I tried but not working :(","body":"Does this work in Spring MVC ? I tried but not working :("},{"owner":{"account_id":3111173,"reputation":422,"user_id":2632860,"accept_rate":71,"display_name":"Hellaren"},"score":0,"creation_date":1679098989,"post_id":33821690,"comment_id":133666203,"body_markdown":"Don&#39;t forget to copy getters and setters when testing this example or use @@Getter @@Setter annotations from Lombok. If you skip this part (as I did) SB won&#39;t be able to bind the configuration values","body":"Don&#39;t forget to copy getters and setters when testing this example or use @@Getter @@Setter annotations from Lombok. If you skip this part (as I did) SB won&#39;t be able to bind the configuration values"}],"tags":[],"owner":{"account_id":5101035,"reputation":1027,"user_id":4090651,"display_name":"Yonatan Wilkof"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1448006449,"creation_date":1448006449,"answer_id":33821690,"question_id":33699171,"body_markdown":"Firstly, I believe your yaml file structure is invalid. In your Locator class you have given names to the fields - you should do the same in your yaml file. In the end it should look like this:\r\n\r\n    system:\r\n      locators:\r\n      - name: first.com\r\n        ports:\r\n          - 103\r\n          - 105\r\n      - name: second.com\r\n        ports:\r\n          - 105\r\n\r\nSecondly, you can leverage Spring Boot&#39;s rather advanced properties-to-bean auto mapping. As in every Spring Boot app, you need to annotate your main class with  @SpringBootApplication. Then, you can create a class representing your properties structure:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;system&quot;)\r\n    public class SystemProperties {\r\n    \r\n        private List&lt;Locator&gt; locators;\r\n    \r\n        public List&lt;Locator&gt; getLocators() {\r\n            return locators;\r\n        }\r\n    \r\n        public void setLocators(List&lt;Locator&gt; locators) {\r\n            this.locators = locators;\r\n        }\r\n    \r\n        public static class Locator {\r\n            private String name;\r\n            private List&lt;String&gt; ports;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public List&lt;String&gt; getPorts() {\r\n                return ports;\r\n            }\r\n    \r\n            public void setPorts(List&lt;String&gt; ports) {\r\n                this.ports = ports;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNotice the @ConfigurationProperties annotation that defines the prefix which is the root of this classe&#39;s mapped configuration. It can of course be any node in a yaml tree of properties, not necessarily the main level as in your case.\r\n\r\nFor further reading I would suggest this [blog post][1] and the [official documentation][2] as there are more ppowerful abilities when it comes to property bean mapping. \r\n\r\n\r\n  [1]: https://spring.io/blog/2013/10/30/empowering-your-apps-with-spring-boot-s-property-support\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>Firstly, I believe your yaml file structure is invalid. In your Locator class you have given names to the fields - you should do the same in your yaml file. In the end it should look like this:</p>\n\n<pre><code>system:\n  locators:\n  - name: first.com\n    ports:\n      - 103\n      - 105\n  - name: second.com\n    ports:\n      - 105\n</code></pre>\n\n<p>Secondly, you can leverage Spring Boot's rather advanced properties-to-bean auto mapping. As in every Spring Boot app, you need to annotate your main class with  @SpringBootApplication. Then, you can create a class representing your properties structure:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"system\")\npublic class SystemProperties {\n\n    private List&lt;Locator&gt; locators;\n\n    public List&lt;Locator&gt; getLocators() {\n        return locators;\n    }\n\n    public void setLocators(List&lt;Locator&gt; locators) {\n        this.locators = locators;\n    }\n\n    public static class Locator {\n        private String name;\n        private List&lt;String&gt; ports;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;String&gt; getPorts() {\n            return ports;\n        }\n\n        public void setPorts(List&lt;String&gt; ports) {\n            this.ports = ports;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Notice the @ConfigurationProperties annotation that defines the prefix which is the root of this classe's mapped configuration. It can of course be any node in a yaml tree of properties, not necessarily the main level as in your case.</p>\n\n<p>For further reading I would suggest this <a href=\"https://spring.io/blog/2013/10/30/empowering-your-apps-with-spring-boot-s-property-support\" rel=\"noreferrer\">blog post</a> and the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html\" rel=\"noreferrer\">official documentation</a> as there are more ppowerful abilities when it comes to property bean mapping. </p>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678282753,"creation_date":1678282753,"answer_id":75673800,"question_id":33699171,"body_markdown":"Assume the following config class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    @Configuration\r\n    public class AppConfiguration {\r\n   \r\n    \r\n        List&lt;Users&gt; users;\r\n    }\r\n\r\nthe according application.yml entry would look like this:\r\n\r\n    app.users:\r\n      -\r\n        name: &quot;name1&quot;\r\n        password: &quot;password1&quot;\r\n      -\r\n        name: &quot;name2&quot;\r\n        password: &quot;password2&quot;\r\n      -\r\n        name: &quot;name3&quot;\r\n        password: &quot;password3&quot;","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>Assume the following config class:</p>\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;app&quot;)\n@Configuration\npublic class AppConfiguration {\n\n\n    List&lt;Users&gt; users;\n}\n</code></pre>\n<p>the according application.yml entry would look like this:</p>\n<pre><code>app.users:\n  -\n    name: &quot;name1&quot;\n    password: &quot;password1&quot;\n  -\n    name: &quot;name2&quot;\n    password: &quot;password2&quot;\n  -\n    name: &quot;name3&quot;\n    password: &quot;password3&quot;\n</code></pre>\n"}],"owner":{"account_id":327816,"reputation":705,"user_id":650399,"accept_rate":79,"display_name":"Brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6001,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33821690,"answer_count":2,"score":8,"last_activity_date":1678282753,"creation_date":1447438027,"question_id":33699171,"body_markdown":"I have a yaml file setup like this:\r\n\r\n    system:\r\n      locators:\r\n      - first.com\r\n        - 103\r\n        - 105\r\n      - second.com\r\n        - 105\r\n\r\nI want to load this as `@autowired` configuration that looks something like this:\r\n\r\n    @Autowired\r\n    List&lt;Locator&gt; locators;\r\n\r\nI&#39;m thinking that the Locator class would look something like this:\r\n\r\n    class Locator {\r\n        String name;\r\n        List&lt;String&gt; ports;\r\n    }\r\n\r\nBut I&#39;m not sure how to put this all together. Any help is appreciated!","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>I have a yaml file setup like this:</p>\n\n<pre><code>system:\n  locators:\n  - first.com\n    - 103\n    - 105\n  - second.com\n    - 105\n</code></pre>\n\n<p>I want to load this as <code>@autowired</code> configuration that looks something like this:</p>\n\n<pre><code>@Autowired\nList&lt;Locator&gt; locators;\n</code></pre>\n\n<p>I'm thinking that the Locator class would look something like this:</p>\n\n<pre><code>class Locator {\n    String name;\n    List&lt;String&gt; ports;\n}\n</code></pre>\n\n<p>But I'm not sure how to put this all together. Any help is appreciated!</p>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1539881325,"post_id":52869672,"comment_id":92671140,"body_markdown":"I would do anything possible to avoid having to do this; I wouldn&#39;t expect it to work very effectively.  For example, you could add another Kotlin function to launch the coroutine however you think is appropriate, that isn&#39;t a suspend fun, and call that from Java.","body":"I would do anything possible to avoid having to do this; I wouldn&#39;t expect it to work very effectively.  For example, you could add another Kotlin function to launch the coroutine however you think is appropriate, that isn&#39;t a suspend fun, and call that from Java."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1539956052,"post_id":52869672,"comment_id":92699495,"body_markdown":"I used to have [Java code](https://stackoverflow.com/questions/51808992/kotlin-suspend-fun/51811597#51811597) that managed to create an implementation of `Continuation` and call a `suspend fun`, but in Kotlin 1.3 `Continuation` declares `resumeWith(Result)`, where `Result` is a discriminated union of the result and an `internal class Failure` and there&#39;s just no way to supply that from Java, save for using reflection to access private members in Kotlin implementation.","body":"I used to have <a href=\"https://stackoverflow.com/questions/51808992/kotlin-suspend-fun/51811597#51811597\">Java code</a> that managed to create an implementation of <code>Continuation</code> and call a <code>suspend fun</code>, but in Kotlin 1.3 <code>Continuation</code> declares <code>resumeWith(Result)</code>, where <code>Result</code> is a discriminated union of the result and an <code>internal class Failure</code> and there&#39;s just no way to supply that from Java, save for using reflection to access private members in Kotlin implementation."}],"answers":[{"comments":[{"owner":{"account_id":2748199,"reputation":409,"user_id":2368137,"accept_rate":60,"display_name":"Oreoluwa"},"score":0,"creation_date":1541287875,"post_id":52887677,"comment_id":93165961,"body_markdown":"why is this not marked as the answer?? worked like a charm.","body":"why is this not marked as the answer?? worked like a charm."},{"owner":{"account_id":11122503,"reputation":1897,"user_id":8164968,"accept_rate":19,"display_name":"Alex"},"score":0,"creation_date":1562960655,"post_id":52887677,"comment_id":100558526,"body_markdown":"Is it possible to call from java the next kotlin code: GlobalScope.launch(Dispatchers.Main)... ?","body":"Is it possible to call from java the next kotlin code: GlobalScope.launch(Dispatchers.Main)... ?"},{"owner":{"account_id":11122503,"reputation":1897,"user_id":8164968,"accept_rate":19,"display_name":"Alex"},"score":4,"creation_date":1563190559,"post_id":52887677,"comment_id":100605552,"body_markdown":"Not work on Android 6.0.  Error:  java.lang.NoClassDefFoundError: Failed resolution of: Ljava/util/concurrent/CompletableFuture;","body":"Not work on Android 6.0.  Error:  java.lang.NoClassDefFoundError: Failed resolution of: Ljava/util/concurrent/CompletableFuture;"},{"owner":{"account_id":1046776,"reputation":27433,"user_id":1051598,"accept_rate":20,"display_name":"Roman  Elizarov"},"score":2,"creation_date":1563280231,"post_id":52887677,"comment_id":100640228,"body_markdown":"You represent it as any other future type and you are using in your Java code. We have built-in support for conversion into CompletableFuture, ListenableFuture, Rx Single, Reactor Mono. You can write your own, too.","body":"You represent it as any other future type and you are using in your Java code. We have built-in support for conversion into CompletableFuture, ListenableFuture, Rx Single, Reactor Mono. You can write your own, too."},{"owner":{"account_id":10206444,"reputation":324,"user_id":7535024,"display_name":"Nil Oleart"},"score":0,"creation_date":1566996373,"post_id":52887677,"comment_id":101829673,"body_markdown":"Worked perfectly. My only problem is how to test it in kotlin using mockito2, verify is never beeing called :/","body":"Worked perfectly. My only problem is how to test it in kotlin using mockito2, verify is never beeing called :/"},{"owner":{"account_id":6411292,"reputation":1179,"user_id":4970976,"accept_rate":83,"display_name":"bartonstanley"},"score":26,"creation_date":1570829096,"post_id":52887677,"comment_id":103052333,"body_markdown":"Note: this requires API level 24 or above.","body":"Note: this requires API level 24 or above."},{"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"score":0,"creation_date":1573484756,"post_id":52887677,"comment_id":103887632,"body_markdown":"check my answer for every android API","body":"check my answer for every android API"},{"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"score":0,"creation_date":1574694577,"post_id":52887677,"comment_id":104312669,"body_markdown":"use jdk7 for older APIs","body":"use jdk7 for older APIs"},{"owner":{"account_id":363092,"reputation":12286,"user_id":706628,"accept_rate":73,"display_name":"Barry Fruitman"},"score":1,"creation_date":1607378509,"post_id":52887677,"comment_id":115249469,"body_markdown":"&quot;Now use doSomethingAsync from Java in the same way as you are using other asynchronous APIs in the Java world.&quot; How???","body":"&quot;Now use doSomethingAsync from Java in the same way as you are using other asynchronous APIs in the Java world.&quot; How???"},{"owner":{"account_id":92247,"reputation":6925,"user_id":252871,"accept_rate":60,"display_name":"SteelBytes"},"score":2,"creation_date":1615100086,"post_id":52887677,"comment_id":117583634,"body_markdown":"using Dispatchers.Main is typically what would be wanted when calling from java:\n\nfun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =\n    GlobalScope.future(Dispatchers.Main) { doSomething() }","body":"using Dispatchers.Main is typically what would be wanted when calling from java:  fun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =     GlobalScope.future(Dispatchers.Main) { doSomething() }"},{"owner":{"account_id":474491,"reputation":233,"user_id":6869836,"display_name":"lehvolk"},"score":0,"creation_date":1665648640,"post_id":52887677,"comment_id":130750466,"body_markdown":"Though that the main problem with Kotlin coroutines is that 4 years old code (strict and simple as hell) from coroutine author highlights with warning about `delicate api` in ide. So one need to figure out is it something changed for this 4 years before using this code.","body":"Though that the main problem with Kotlin coroutines is that 4 years old code (strict and simple as hell) from coroutine author highlights with warning about <code>delicate api</code> in ide. So one need to figure out is it something changed for this 4 years before using this code."},{"owner":{"account_id":14557927,"reputation":83,"user_id":10514901,"display_name":"Pampastu"},"score":0,"creation_date":1670254158,"post_id":52887677,"comment_id":131827700,"body_markdown":"@lehvolk have you found anything about this? is it possible to use this approach now? My IDE also returns Warnings about delicate api","body":"@lehvolk have you found anything about this? is it possible to use this approach now? My IDE also returns Warnings about delicate api"},{"owner":{"account_id":474491,"reputation":233,"user_id":6869836,"display_name":"lehvolk"},"score":0,"creation_date":1670314331,"post_id":52887677,"comment_id":131841624,"body_markdown":"@pampastu I stayed with suggested `delicate API`. From my prospective I see no side effects.","body":"@pampastu I stayed with suggested <code>delicate API</code>. From my prospective I see no side effects."},{"owner":{"account_id":7553507,"reputation":161,"user_id":5734098,"display_name":"Chizoba Ogbonna"},"score":0,"creation_date":1674650337,"post_id":52887677,"comment_id":132758793,"body_markdown":"@lehvolk `delicate api` should be referring to the use of `GlobalScope`. You can create a coroutine scope within your class and you will be fine.","body":"@lehvolk <code>delicate api</code> should be referring to the use of <code>GlobalScope</code>. You can create a coroutine scope within your class and you will be fine."},{"owner":{"account_id":396239,"reputation":1673,"user_id":759684,"accept_rate":63,"display_name":"Khushbu Shah"},"score":0,"creation_date":1698987533,"post_id":52887677,"comment_id":136476819,"body_markdown":"I tried this way. It is working fine. Able to get return data in a blocking way by calling async function. But if that suspend function has another async call, it is not working. I mean function returns immediately (not blocking till the result is received). Is there any way to resolve this?","body":"I tried this way. It is working fine. Able to get return data in a blocking way by calling async function. But if that suspend function has another async call, it is not working. I mean function returns immediately (not blocking till the result is received). Is there any way to resolve this?"},{"owner":{"account_id":396239,"reputation":1673,"user_id":759684,"accept_rate":63,"display_name":"Khushbu Shah"},"score":0,"creation_date":1698987595,"post_id":52887677,"comment_id":136476825,"body_markdown":"Also, how can I  get a success/failure callback if we call this Kotlin suspend function from Java this way?","body":"Also, how can I  get a success/failure callback if we call this Kotlin suspend function from Java this way?"}],"tags":[],"owner":{"account_id":1046776,"reputation":27433,"user_id":1051598,"accept_rate":20,"display_name":"Roman  Elizarov"},"comment_count":16,"down_vote_count":2,"up_vote_count":102,"is_accepted":true,"score":100,"last_activity_date":1539934234,"creation_date":1539934234,"answer_id":52887677,"question_id":52869672,"body_markdown":"First, add `org.jetbrains.kotlinx:kotlinx-coroutines-jdk8` module to your dependencies. In your Kotlin file define the following async function that corresponds to Java style of writing async APIs:\r\n\r\n    fun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =\r\n        GlobalScope.future { doSomething() }\r\n\r\nNow use `doSomethingAsync` from Java in the same way as you are using other asynchronous APIs in the Java world.\r\n","title":"Call Kotlin suspend function in Java class","body":"<p>First, add <code>org.jetbrains.kotlinx:kotlinx-coroutines-jdk8</code> module to your dependencies. In your Kotlin file define the following async function that corresponds to Java style of writing async APIs:</p>\n\n<pre><code>fun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =\n    GlobalScope.future { doSomething() }\n</code></pre>\n\n<p>Now use <code>doSomethingAsync</code> from Java in the same way as you are using other asynchronous APIs in the Java world.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1580808034,"post_id":58803893,"comment_id":106210011,"body_markdown":"This approach is useless because you can&#39;t resume the continuation, it takes an inline class that you can&#39;t access from Java.","body":"This approach is useless because you can&#39;t resume the continuation, it takes an inline class that you can&#39;t access from Java."},{"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"score":0,"creation_date":1581587147,"post_id":58803893,"comment_id":106488100,"body_markdown":"I don&#39;t understand what you mean. If you want to use Deferred you can use BuildersKt.async instead of launch, this is how coroutines work.","body":"I don&#39;t understand what you mean. If you want to use Deferred you can use BuildersKt.async instead of launch, this is how coroutines work."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":6,"creation_date":1581588126,"post_id":58803893,"comment_id":106488687,"body_markdown":"`// do what you want` -- you can&#39;t do what you want here because you must supply a continuation that expects to be resumed with the return type of the called function, but you don&#39;t have such a continuation and your answer doesn&#39;t show how to construct it from Java. The continuation you get from `launch` is just the completion continuation, the one you invoke with `Unit` when the whole coroutine is done.","body":"<code>&#47;&#47; do what you want</code> -- you can&#39;t do what you want here because you must supply a continuation that expects to be resumed with the return type of the called function, but you don&#39;t have such a continuation and your answer doesn&#39;t show how to construct it from Java. The continuation you get from <code>launch</code> is just the completion continuation, the one you invoke with <code>Unit</code> when the whole coroutine is done."},{"owner":{"account_id":5754036,"reputation":173,"user_id":4542645,"accept_rate":100,"display_name":"programmer dreamer"},"score":1,"creation_date":1636521510,"post_id":58803893,"comment_id":123576524,"body_markdown":"@MarkoTopolnik you can try to pass the continuation on the lambda there as the last parameter of your suspendFunction().\n\ni.e., (coroutineScope, continuation) -&gt; suspendFunction(arguments, continuation)","body":"@MarkoTopolnik you can try to pass the continuation on the lambda there as the last parameter of your suspendFunction().  i.e., (coroutineScope, continuation) -&gt; suspendFunction(arguments, continuation)"},{"owner":{"account_id":4120260,"reputation":499,"user_id":3380832,"accept_rate":40,"display_name":"shtas"},"score":0,"creation_date":1652959720,"post_id":58803893,"comment_id":127736740,"body_markdown":"@Dragos Rachieru I like this solution however I&#39;m not sure how to use this approach in methods with a return type. I.e. public MyObject getMyObject() - MyObject Id like to return depends on the data that comes from suspend function. Unfortunately I can&#39;t return from inside the BuildersKt.launch{}. Can you help me solve it?","body":"@Dragos Rachieru I like this solution however I&#39;m not sure how to use this approach in methods with a return type. I.e. public MyObject getMyObject() - MyObject Id like to return depends on the data that comes from suspend function. Unfortunately I can&#39;t return from inside the BuildersKt.launch{}. Can you help me solve it?"},{"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"score":0,"creation_date":1653048538,"post_id":58803893,"comment_id":127761787,"body_markdown":"@shtas you can&#39;t return from a launch as it can run on a separate thread from where you called the `launch`, `launch` returns a `Job` if you want to cancel or check if the coroutine is still running","body":"@shtas you can&#39;t return from a launch as it can run on a separate thread from where you called the <code>launch</code>, <code>launch</code> returns a <code>Job</code> if you want to cancel or check if the coroutine is still running"},{"owner":{"account_id":8650815,"reputation":66,"user_id":6476571,"display_name":"Iseulde Lange"},"score":0,"creation_date":1682102024,"post_id":58803893,"comment_id":134168319,"body_markdown":"Worked for me, but like this ---- BuildersKt.launch((CoroutineScope) GlobalScope.INSTANCE,\n                    (CoroutineContext) Dispatchers.getMain(),\n                    CoroutineStart.DEFAULT,\n                    (coroutineScope, continuation) -&gt;\n                            suspendFunction(arguments)\n            );","body":"Worked for me, but like this ---- BuildersKt.launch((CoroutineScope) GlobalScope.INSTANCE,                     (CoroutineContext) Dispatchers.getMain(),                     CoroutineStart.DEFAULT,                     (coroutineScope, continuation) -&gt;                             suspendFunction(arguments)             );"}],"tags":[],"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1574693733,"creation_date":1573484728,"answer_id":58803893,"question_id":52869672,"body_markdown":"For coroutines 1.3.0 use this:\r\n\r\n```\r\nBuildersKt.launch(GlobalScope.INSTANCE,\r\n                Dispatchers.getMain(),//context to be ran on\r\n                CoroutineStart.DEFAULT,\r\n                (coroutineScope, continuation) -&gt; suspendFunction(arguments)\r\n        );\r\n```\r\n\r\nFor java &lt; 8:\r\n\r\n```\r\nBuildersKt.launch(\r\n        GlobalScope.INSTANCE,\r\n        Dispatchers.getMain(),//context to be ran on\r\n        CoroutineStart.DEFAULT,\r\n        new Function2&lt;CoroutineScope, Continuation&lt;? super Unit&gt;, Unit/*or your return type here*/&gt;() {\r\n            @Override\r\n            public Unit/*or your return type here*/ invoke(CoroutineScope coroutineScope, Continuation&lt;? super Unit&gt; continuation) {\r\n                //do what you want\r\n                return Unit.INSTANCE; //or something with the defined type\r\n            }\r\n        }\r\n);\r\n```\r\n\r\nMy gradle file:\r\n\r\n```\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.50&quot;\r\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0&quot;\r\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0&quot;\r\n```\r\nKotlin uses static classes for extension functions, launch is an extension function, so it is defined in BuildersKt. The first parameter is the target of the extension function, the rest are the parameters from the extension functions.","title":"Call Kotlin suspend function in Java class","body":"<p>For coroutines 1.3.0 use this:</p>\n\n<pre><code>BuildersKt.launch(GlobalScope.INSTANCE,\n                Dispatchers.getMain(),//context to be ran on\n                CoroutineStart.DEFAULT,\n                (coroutineScope, continuation) -&gt; suspendFunction(arguments)\n        );\n</code></pre>\n\n<p>For java &lt; 8:</p>\n\n<pre><code>BuildersKt.launch(\n        GlobalScope.INSTANCE,\n        Dispatchers.getMain(),//context to be ran on\n        CoroutineStart.DEFAULT,\n        new Function2&lt;CoroutineScope, Continuation&lt;? super Unit&gt;, Unit/*or your return type here*/&gt;() {\n            @Override\n            public Unit/*or your return type here*/ invoke(CoroutineScope coroutineScope, Continuation&lt;? super Unit&gt; continuation) {\n                //do what you want\n                return Unit.INSTANCE; //or something with the defined type\n            }\n        }\n);\n</code></pre>\n\n<p>My gradle file:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.50\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0\"\n</code></pre>\n\n<p>Kotlin uses static classes for extension functions, launch is an extension function, so it is defined in BuildersKt. The first parameter is the target of the extension function, the rest are the parameters from the extension functions.</p>\n"},{"comments":[{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1588766016,"post_id":60613645,"comment_id":109023219,"body_markdown":"awesome!!! this is a workaround to call coroutine inside java for interopability","body":"awesome!!! this is a workaround to call coroutine inside java for interopability"},{"owner":{"account_id":5246190,"reputation":194,"user_id":4191837,"display_name":"Samuel T."},"score":3,"creation_date":1620236389,"post_id":60613645,"comment_id":119143691,"body_markdown":"Just like Roman&#39;s answer, this also requires API 24 or higher","body":"Just like Roman&#39;s answer, this also requires API 24 or higher"},{"owner":{"account_id":16070558,"reputation":191,"user_id":11599112,"display_name":"Kenvix Zure"},"score":0,"creation_date":1624368493,"post_id":60613645,"comment_id":120335800,"body_markdown":"@Samuel Maybe you can replace BiConsumer and Lambda by your own interface and anonymous class to make it compatible with old Android SDK (not tested)","body":"@Samuel Maybe you can replace BiConsumer and Lambda by your own interface and anonymous class to make it compatible with old Android SDK (not tested)"}],"tags":[],"owner":{"account_id":16070558,"reputation":191,"user_id":11599112,"display_name":"Kenvix Zure"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1678282349,"creation_date":1583827958,"answer_id":60613645,"question_id":52869672,"body_markdown":"If you dont want to use `org.jetbrains.kotlinx:kotlinx-coroutines-jdk8`, I have a new idea.\r\n\r\nWrite below code in your kotlin project.\r\n\r\n```kotlin\r\n@JvmOverloads\r\nfun &lt;R&gt; getContinuation(onFinished: BiConsumer&lt;R?, Throwable?&gt;, dispatcher: CoroutineDispatcher = Dispatchers.Default): Continuation&lt;R&gt; {\r\n    return object : Continuation&lt;R&gt; {\r\n            override val context: CoroutineContext\r\n                get() = dispatcher\r\n\r\n            override fun resumeWith(result: Result&lt;R&gt;) {\r\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\r\n            }\r\n    }\r\n}\r\n```\r\nI wrote it in my `Coroutines` class\r\n\r\nThen you can call your suspend function like:\r\n\r\n```java\r\nCoroutines coroutines = new Coroutines();  // My coroutines utils class\r\nUserUtils.INSTANCE.login(&quot;user&quot;, &quot;pass&quot;, coroutines.getContinuation(\r\n    (tokenResult, throwable) -&gt; {\r\n        System.out.println(&quot;Coroutines finished&quot;);\r\n        System.out.println(&quot;Result: &quot; + tokenResult);\r\n        System.out.println(&quot;Exception: &quot; + throwable);\r\n    }\r\n));\r\n```\r\n\r\nlogin() function is a suspend function.      \r\n`suspend fun login(username: String, password: String): TokenResult`\r\n\r\nFor your code, you can:\r\n```java\r\ndoSomething(getContinuation((result, throwable) -&gt; { \r\n       //TODO\r\n}));\r\n```\r\n\r\nBesides, you may want to run your callback code in a different thread (e.g. Main thread), just use `launch(Dispathers.Main)` to wrap `resumeWith()`\r\n\r\n```java\r\n...\r\n        override fun resumeWith(result: Result&lt;R&gt;) {\r\n            launch(Dispathers.Main) {\r\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\r\n            }\r\n        }\r\n...\r\n```\r\n\r\n---\r\n\r\nUpdate: My friend has developed a plugin [kotlin-jvm-blocking-bridge][1] that can **automatically generate** blocking bridges for calling suspend functions from Java with minimal effort, also give it a try.\r\n\r\n\r\n  [1]: https://github.com/Him188/kotlin-jvm-blocking-bridge","title":"Call Kotlin suspend function in Java class","body":"<p>If you dont want to use <code>org.jetbrains.kotlinx:kotlinx-coroutines-jdk8</code>, I have a new idea.</p>\n<p>Write below code in your kotlin project.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmOverloads\nfun &lt;R&gt; getContinuation(onFinished: BiConsumer&lt;R?, Throwable?&gt;, dispatcher: CoroutineDispatcher = Dispatchers.Default): Continuation&lt;R&gt; {\n    return object : Continuation&lt;R&gt; {\n            override val context: CoroutineContext\n                get() = dispatcher\n\n            override fun resumeWith(result: Result&lt;R&gt;) {\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\n            }\n    }\n}\n</code></pre>\n<p>I wrote it in my <code>Coroutines</code> class</p>\n<p>Then you can call your suspend function like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Coroutines coroutines = new Coroutines();  // My coroutines utils class\nUserUtils.INSTANCE.login(&quot;user&quot;, &quot;pass&quot;, coroutines.getContinuation(\n    (tokenResult, throwable) -&gt; {\n        System.out.println(&quot;Coroutines finished&quot;);\n        System.out.println(&quot;Result: &quot; + tokenResult);\n        System.out.println(&quot;Exception: &quot; + throwable);\n    }\n));\n</code></pre>\n<p>login() function is a suspend function.<br />\n<code>suspend fun login(username: String, password: String): TokenResult</code></p>\n<p>For your code, you can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>doSomething(getContinuation((result, throwable) -&gt; { \n       //TODO\n}));\n</code></pre>\n<p>Besides, you may want to run your callback code in a different thread (e.g. Main thread), just use <code>launch(Dispathers.Main)</code> to wrap <code>resumeWith()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        override fun resumeWith(result: Result&lt;R&gt;) {\n            launch(Dispathers.Main) {\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\n            }\n        }\n...\n</code></pre>\n<hr />\n<p>Update: My friend has developed a plugin <a href=\"https://github.com/Him188/kotlin-jvm-blocking-bridge\" rel=\"nofollow noreferrer\">kotlin-jvm-blocking-bridge</a> that can <strong>automatically generate</strong> blocking bridges for calling suspend functions from Java with minimal effort, also give it a try.</p>\n"},{"tags":[],"owner":{"account_id":3178065,"reputation":1032,"user_id":2685454,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655886629,"creation_date":1655886629,"answer_id":72712129,"question_id":52869672,"body_markdown":"I created interface class based on @Kenvix answer to make it compatible with old Android SDK (lower than API 24)\r\n\r\n\r\n    interface CoroutineCallback&lt;RESULT&gt; {\r\n\r\n    companion object {\r\n\r\n        @JvmOverloads\r\n        fun &lt;R&gt; call(\r\n            callback: CoroutineCallback&lt;R&gt;,\r\n            dispatcher: CoroutineDispatcher = Dispatchers.Default\r\n        ): Continuation&lt;R&gt; {\r\n            return object : Continuation&lt;R&gt; {\r\n                override val context: CoroutineContext\r\n                    get() = dispatcher\r\n\r\n                override fun resumeWith(result: Result&lt;R&gt;) {\r\n                    callback.onComplete(result.getOrNull(), result.exceptionOrNull())\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n     fun onComplete(result: RESULT?, error: Throwable?)\r\n    }\r\n\r\n\r\n\r\nusage\r\n\r\n    class kotlinClass {\r\n      suspend doSomething(foo, bar) : FooBar {}\r\n    }\r\n\r\n\r\n    class javaClass {\r\n      void doSomething(){\r\n       kotlinClassObject.doSomething(&quot;foo&quot;, &quot;bar&quot;, CoroutineCallback.Companion.call((fooBar, error) -&gt; { \r\n         //do something with result or error\r\n       }));\r\n      }\r\n    }\r\n\r\nnow call suspend function from any java class by passing `CoroutineCallback`","title":"Call Kotlin suspend function in Java class","body":"<p>I created interface class based on @Kenvix answer to make it compatible with old Android SDK (lower than API 24)</p>\n<pre><code>interface CoroutineCallback&lt;RESULT&gt; {\n\ncompanion object {\n\n    @JvmOverloads\n    fun &lt;R&gt; call(\n        callback: CoroutineCallback&lt;R&gt;,\n        dispatcher: CoroutineDispatcher = Dispatchers.Default\n    ): Continuation&lt;R&gt; {\n        return object : Continuation&lt;R&gt; {\n            override val context: CoroutineContext\n                get() = dispatcher\n\n            override fun resumeWith(result: Result&lt;R&gt;) {\n                callback.onComplete(result.getOrNull(), result.exceptionOrNull())\n            }\n        }\n    }\n}\n\n fun onComplete(result: RESULT?, error: Throwable?)\n}\n</code></pre>\n<p>usage</p>\n<pre><code>class kotlinClass {\n  suspend doSomething(foo, bar) : FooBar {}\n}\n\n\nclass javaClass {\n  void doSomething(){\n   kotlinClassObject.doSomething(&quot;foo&quot;, &quot;bar&quot;, CoroutineCallback.Companion.call((fooBar, error) -&gt; { \n     //do something with result or error\n   }));\n  }\n}\n</code></pre>\n<p>now call suspend function from any java class by passing <code>CoroutineCallback</code></p>\n"}],"owner":{"account_id":16073,"reputation":6803,"user_id":34623,"accept_rate":54,"display_name":"mrtaikandi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50757,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":52887677,"answer_count":4,"score":96,"last_activity_date":1678282349,"creation_date":1539850334,"question_id":52869672,"body_markdown":"Assume we have the following suspend function:\r\n\r\n    suspend fun doSomething(): List&lt;MyClass&gt; { ... }\r\n\r\nIf I want to call this function in one of my existing Java classes (which I&#39;m not able to convert to Kotlin for now) and get its return value I have to provide a `Continuation&lt;? super List&lt;MyClass&gt;&gt;` as its parameter (Obviously). \r\n\r\nMy question is, How can I implement one. Specially its `getContext` getter.","title":"Call Kotlin suspend function in Java class","body":"<p>Assume we have the following suspend function:</p>\n\n<pre><code>suspend fun doSomething(): List&lt;MyClass&gt; { ... }\n</code></pre>\n\n<p>If I want to call this function in one of my existing Java classes (which I'm not able to convert to Kotlin for now) and get its return value I have to provide a <code>Continuation&lt;? super List&lt;MyClass&gt;&gt;</code> as its parameter (Obviously). </p>\n\n<p>My question is, How can I implement one. Specially its <code>getContext</code> getter.</p>\n"},{"tags":["java","kubernetes","sigterm","graceful-shutdown"],"owner":{"account_id":27752731,"reputation":21,"user_id":21186865,"display_name":"Agilulfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678282221,"creation_date":1678281632,"question_id":75673588,"body_markdown":"I have a Java application running inside Docker containers in Kubernetes. I would like to introduce a graceful shutdown of the application when Kubernetes sends a SIGTERM signal to the container and keep all the threads alive while the shutdown hook is running.\r\n\r\nI have used the addShutdownHook method to register a shutdown hook. It&#39;s working and the shutdown hook is ran each time a SIGTERM is sent. However, only that shutdown hook is ran and all the other threads are automatically terminated (e.g. DB connection, servlets, ...).\r\n\r\nI would like to keep all the threads alive while the shutdown hook is running. Is there any way to do that?","title":"How to ignore SIGTERM signal and keep threads alive","body":"<p>I have a Java application running inside Docker containers in Kubernetes. I would like to introduce a graceful shutdown of the application when Kubernetes sends a SIGTERM signal to the container and keep all the threads alive while the shutdown hook is running.</p>\n<p>I have used the addShutdownHook method to register a shutdown hook. It's working and the shutdown hook is ran each time a SIGTERM is sent. However, only that shutdown hook is ran and all the other threads are automatically terminated (e.g. DB connection, servlets, ...).</p>\n<p>I would like to keep all the threads alive while the shutdown hook is running. Is there any way to do that?</p>\n"},{"tags":["java","pdf","itext","pdfbox","itext7"],"comments":[{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678610076,"post_id":75673144,"comment_id":133564042,"body_markdown":"@mkl, whether my requirement possible?","body":"@mkl, whether my requirement possible?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678627223,"post_id":75673144,"comment_id":133566360,"body_markdown":"As far as I know there are no highlevel methods in iText 7 for flattening arbitrary annotations yet, only for flattening widget annotations (form fields). It should be possible, though, to flatten other annotations in a similar manner with iText 7. Thus, a solution would be to copy that form field flattening code and adapt it for other annotation types.","body":"As far as I know there are no highlevel methods in iText 7 for flattening arbitrary annotations yet, only for flattening widget annotations (form fields). It should be possible, though, to flatten other annotations in a similar manner with iText 7. Thus, a solution would be to copy that form field flattening code and adapt it for other annotation types."},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678775540,"post_id":75673144,"comment_id":133594102,"body_markdown":"@mkl I can try that. Can you provide me any POC of that?, \nand also In iText 5.5.9 version there is a method called setAnnotationFlattening (https://javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/text/pdf/PdfStamper.html#setAnnotationFlattening-boolean-) Isn&#39;t there any equivalent method in the current version of iText?","body":"@mkl I can try that. Can you provide me any POC of that?,  and also In iText 5.5.9 version there is a method called setAnnotationFlattening (<a href=\"https://javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/text/pdf/PdfStamper.html#setAnnotationFlattening-boolean-\" rel=\"nofollow noreferrer\">javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/tex&zwnj;&#8203;t/&hellip;</a>) Isn&#39;t there any equivalent method in the current version of iText?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678779602,"post_id":75673144,"comment_id":133594927,"body_markdown":"Have a look at the iText forms class [`PdfAcroForm`](https://github.com/itext/itext7/blob/develop/forms/src/main/java/com/itextpdf/forms/PdfAcroForm.java). It has a method `flattenFields` to flatten the widget annotations of form fields. you can take this code as inspiration for a flattener of arbitrary annotations (at least those that bring along an appearance stream).","body":"Have a look at the iText forms class <a href=\"https://github.com/itext/itext7/blob/develop/forms/src/main/java/com/itextpdf/forms/PdfAcroForm.java\" rel=\"nofollow noreferrer\"><code>PdfAcroForm</code></a>. It has a method <code>flattenFields</code> to flatten the widget annotations of form fields. you can take this code as inspiration for a flattener of arbitrary annotations (at least those that bring along an appearance stream)."},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678779814,"post_id":75673144,"comment_id":133594984,"body_markdown":"will try it and get back if any issue arises. Anything on setAnnotationFlattening ?","body":"will try it and get back if any issue arises. Anything on setAnnotationFlattening ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678780354,"post_id":75673144,"comment_id":133595110,"body_markdown":"*&quot;Anything on setAnnotationFlattening ?&quot;* - As far as I can see that functionality has not been ported to iText 7.","body":"<i>&quot;Anything on setAnnotationFlattening ?&quot;</i> - As far as I can see that functionality has not been ported to iText 7."}],"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678282205,"creation_date":1678279166,"question_id":75673144,"body_markdown":"I have a document with a stamp annotation added to it, I can flatten the acroform present in the pdf, but this doesn&#39;t flatten the stamp annotations present in the pdf. I&#39;m attaching the normal pdf with stamp and acroform flattened pdf. \r\n\r\nI would like to flatten the annotations because if you open the flattened pdf in the Preview application of MAC, we can edit the pdf like moving the annotations and deleting them. I would like to avoid those. So if I can flatten the annotations in the pdf along with form fields, then I guess the movement of annotations will be restricted in the Preview application.\r\n\r\nThis is the code I have used to add the stamp:\r\n\r\n\tPdfReader reader1 = new PdfReader(file);\r\n    ByteArrayOutputStream mos = new ByteArrayOutputStream();\r\n    PdfDocument docc = new PdfDocument(reader1, new PdfWriter(mos),new StampingProperties().useAppendMode());\r\n    String filePath = &quot;rectangle.png&quot;;\r\n    ImageData img = ImageDataFactory.create(filePath);\r\n    Rectangle rect=null;\r\n    float w = img.getWidth();\r\n    float h = img.getHeight();\r\n    rect = new Rectangle(0,0,250,400);\r\n    PdfFormXObject xObj = new PdfFormXObject(new Rectangle(w,h));\r\n    PdfCanvas canvas = new PdfCanvas(xObj, docc);\r\n    canvas.addImageAt(img,0,0,false);\r\n    PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\r\n    stamp.setNormalAppearance(xObj.getPdfObject());\r\n    docc.getPage(1).addAnnotation(stamp);\r\n    \r\n    docc.close();\r\n\r\n    file = new File(&quot;Annotation Added.pdf&quot;);\r\n    FileOutputStream fout1 = new FileOutputStream(file);\r\n    fout1.write(mos.toByteArray());\r\n    fout1.close();\r\n\r\nThese are the files :\r\n\r\n[PDF Before flattening with stamp annotation][1]\r\n\r\n[PDF After flattening][2]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1nP1W5H2-HPra8JKPrh9TvFR5wS7f1aBL/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1z2piiIeOmylZnblqCBNMUtrlSmJf4kWT/view?usp=sharing\r\n","title":"How to flatten stamp annotations in a pdf using iText or PdfBox?","body":"<p>I have a document with a stamp annotation added to it, I can flatten the acroform present in the pdf, but this doesn't flatten the stamp annotations present in the pdf. I'm attaching the normal pdf with stamp and acroform flattened pdf.</p>\n<p>I would like to flatten the annotations because if you open the flattened pdf in the Preview application of MAC, we can edit the pdf like moving the annotations and deleting them. I would like to avoid those. So if I can flatten the annotations in the pdf along with form fields, then I guess the movement of annotations will be restricted in the Preview application.</p>\n<p>This is the code I have used to add the stamp:</p>\n<pre><code>PdfReader reader1 = new PdfReader(file);\nByteArrayOutputStream mos = new ByteArrayOutputStream();\nPdfDocument docc = new PdfDocument(reader1, new PdfWriter(mos),new StampingProperties().useAppendMode());\nString filePath = &quot;rectangle.png&quot;;\nImageData img = ImageDataFactory.create(filePath);\nRectangle rect=null;\nfloat w = img.getWidth();\nfloat h = img.getHeight();\nrect = new Rectangle(0,0,250,400);\nPdfFormXObject xObj = new PdfFormXObject(new Rectangle(w,h));\nPdfCanvas canvas = new PdfCanvas(xObj, docc);\ncanvas.addImageAt(img,0,0,false);\nPdfStampAnnotation stamp = new PdfStampAnnotation(rect);\nstamp.setNormalAppearance(xObj.getPdfObject());\ndocc.getPage(1).addAnnotation(stamp);\n\ndocc.close();\n\nfile = new File(&quot;Annotation Added.pdf&quot;);\nFileOutputStream fout1 = new FileOutputStream(file);\nfout1.write(mos.toByteArray());\nfout1.close();\n</code></pre>\n<p>These are the files :</p>\n<p><a href=\"https://drive.google.com/file/d/1nP1W5H2-HPra8JKPrh9TvFR5wS7f1aBL/view?usp=sharing\" rel=\"nofollow noreferrer\">PDF Before flattening with stamp annotation</a></p>\n<p><a href=\"https://drive.google.com/file/d/1z2piiIeOmylZnblqCBNMUtrlSmJf4kWT/view?usp=sharing\" rel=\"nofollow noreferrer\">PDF After flattening</a></p>\n"},{"tags":["java","spring","hibernate","kotlin","transactions"],"comments":[{"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"score":0,"creation_date":1678406796,"post_id":75672318,"comment_id":133531325,"body_markdown":"Not sure if that will resolve the problem or not, but as you mention that the current code has it all in 1 single transaction, perhaps instead of removing the top level transactional entirely you could put an Transactional with propagation_requires_new on the two db calls, forcing them to be called in their own transaction, while the outer transaction is temporarily suspended.","body":"Not sure if that will resolve the problem or not, but as you mention that the current code has it all in 1 single transaction, perhaps instead of removing the top level transactional entirely you could put an Transactional with propagation_requires_new on the two db calls, forcing them to be called in their own transaction, while the outer transaction is temporarily suspended."},{"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"score":0,"creation_date":1678443652,"post_id":75672318,"comment_id":133537522,"body_markdown":"The main motivation for doing this redesign is to avoid connection pool exhaustion, so running the expensive calls inside another transaction is not a solution.","body":"The main motivation for doing this redesign is to avoid connection pool exhaustion, so running the expensive calls inside another transaction is not a solution."}],"answers":[{"comments":[{"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"score":0,"creation_date":1678281591,"post_id":75673528,"comment_id":133501734,"body_markdown":"To clarify:\n\n&gt; your transaction would still be blocked until\nI forgot to mention that I want to remove the outer transaction. I thought that was implied by the requirement &quot;methodWithExternalCalls must not run in a transaction&quot;, though.\n\n&gt; the following database calls require information from your long external requests\nThat&#39;s unfortunately exactly my situation.","body":"To clarify:  &gt; your transaction would still be blocked until I forgot to mention that I want to remove the outer transaction. I thought that was implied by the requirement &quot;methodWithExternalCalls must not run in a transaction&quot;, though.  &gt; the following database calls require information from your long external requests That&#39;s unfortunately exactly my situation."}],"tags":[],"owner":{"account_id":10617793,"reputation":81,"user_id":7819736,"display_name":"Lewis_McReu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678281323,"creation_date":1678281323,"answer_id":75673528,"question_id":75672318,"body_markdown":"I think you&#39;re on the right track with your current solutions for the LazyInitializationException.\r\nThe only other solution I can offer (but not recommend) is applying eager fetching to the relevant instance variables of the Entity class. I&#39;d go with a DTO myself.\r\n\r\nHowever, considering that methodWithDbCalls1, methodWithExternalCalls and methodWithDbCalls2 would be run in sequence based on your example, your transaction would still be blocked until the external calls were completed because the transaction would still be in use in the outer method call. Removing the transaction context from the inner method would do nothing to fix that. \r\n\r\nYou may want to consider using non-blocking calls for your external logic, perhaps with an Executor. That way the transaction and all logic that has to be executed within it can continue. If the following database calls require information from your long external requests, there&#39;s nothing to be done but wait for the information.","title":"Interrupted transactions and lazy loading","body":"<p>I think you're on the right track with your current solutions for the LazyInitializationException.\nThe only other solution I can offer (but not recommend) is applying eager fetching to the relevant instance variables of the Entity class. I'd go with a DTO myself.</p>\n<p>However, considering that methodWithDbCalls1, methodWithExternalCalls and methodWithDbCalls2 would be run in sequence based on your example, your transaction would still be blocked until the external calls were completed because the transaction would still be in use in the outer method call. Removing the transaction context from the inner method would do nothing to fix that.</p>\n<p>You may want to consider using non-blocking calls for your external logic, perhaps with an Executor. That way the transaction and all logic that has to be executed within it can continue. If the following database calls require information from your long external requests, there's nothing to be done but wait for the information.</p>\n"}],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678281963,"creation_date":1678274231,"question_id":75672318,"body_markdown":"Currently, I have this code:\r\n```\r\n@Transactional\r\nfun apiMethod() {\r\n  val entity: SomeEntity = myRepo.find()\r\n  methodWithDbCalls1(entity)\r\n  methodWithExternalCalls(entity)\r\n  methodWithDbCalls2(entity)\r\n}\r\n```\r\nBecause I have `@Transactional` on the top-level method all DB manipulation (including `entity`) runs in a single transaction.\r\n\r\nNow, `methodWithExternalCalls` calls some 3rd party service and these requests take a long time so it&#39;s not a good idea to block the whole transaction by that. So instead I want to wrap only the methods `methodWithDbCalls1` and `methodWithDbCalls2` into `@Transactional`, while `methodWithExternalCalls` must not run in a transaction at all. **The trouble now is that the `entity` is of course lazily loaded, so by dropping the encompassing transaction, I start getting lazy initialization exceptions.**\r\n\r\nMy question is how to handle that. Two solutions come to my mind, neither of them ideal:\r\n- prefetch those `entity` properties which are needed by either of the inner methods. This has the disadvantage that the outer method would be tightly bound to the inner methods logic. Moreover, it seems a little bit hacky.\r\n- materialize the `entity` into a suitable DTO. This seems a little bit cleaner but actually suffers from the same issue because &quot;suitable DTO&quot; again means tailor-made to the inner methods&#39; usage.\r\n\r\nAre there any better solutions? **I&#39;m especially interested in those that can avoid the necessity of the outer method knowing about the inner workings of the inner ones**.","title":"Interrupted transactions and lazy loading","body":"<p>Currently, I have this code:</p>\n<pre><code>@Transactional\nfun apiMethod() {\n  val entity: SomeEntity = myRepo.find()\n  methodWithDbCalls1(entity)\n  methodWithExternalCalls(entity)\n  methodWithDbCalls2(entity)\n}\n</code></pre>\n<p>Because I have <code>@Transactional</code> on the top-level method all DB manipulation (including <code>entity</code>) runs in a single transaction.</p>\n<p>Now, <code>methodWithExternalCalls</code> calls some 3rd party service and these requests take a long time so it's not a good idea to block the whole transaction by that. So instead I want to wrap only the methods <code>methodWithDbCalls1</code> and <code>methodWithDbCalls2</code> into <code>@Transactional</code>, while <code>methodWithExternalCalls</code> must not run in a transaction at all. <strong>The trouble now is that the <code>entity</code> is of course lazily loaded, so by dropping the encompassing transaction, I start getting lazy initialization exceptions.</strong></p>\n<p>My question is how to handle that. Two solutions come to my mind, neither of them ideal:</p>\n<ul>\n<li>prefetch those <code>entity</code> properties which are needed by either of the inner methods. This has the disadvantage that the outer method would be tightly bound to the inner methods logic. Moreover, it seems a little bit hacky.</li>\n<li>materialize the <code>entity</code> into a suitable DTO. This seems a little bit cleaner but actually suffers from the same issue because &quot;suitable DTO&quot; again means tailor-made to the inner methods' usage.</li>\n</ul>\n<p>Are there any better solutions? <strong>I'm especially interested in those that can avoid the necessity of the outer method knowing about the inner workings of the inner ones</strong>.</p>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678279942,"post_id":75672821,"comment_id":133501272,"body_markdown":"You&#39;re missing a `-` before `impl`: The artifact name ends in `-client-impl`, but you wrote `-clientimpl` (you&#39;re also missing a version number, but that might be comming from some BOM).","body":"You&#39;re missing a <code>-</code> before <code>impl</code>: The artifact name ends in <code>-client-impl</code>, but you wrote <code>-clientimpl</code> (you&#39;re also missing a version number, but that might be comming from some BOM)."},{"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"score":0,"creation_date":1678281656,"post_id":75672821,"comment_id":133501755,"body_markdown":"Thanks for noticing. It was a bad copy paste from somewhere or I accidentally removed it here, but in my code it is with -client-impl. So that&#39;s not it.\n\nAlso the version is not needed apparently.","body":"Thanks for noticing. It was a bad copy paste from somewhere or I accidentally removed it here, but in my code it is with -client-impl. So that&#39;s not it.  Also the version is not needed apparently."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678281784,"post_id":75672821,"comment_id":133501804,"body_markdown":"With the fixed name and a version, your code worked just fine for me (excluding the dependency).","body":"With the fixed name and a version, your code worked just fine for me (excluding the dependency)."}],"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678281817,"creation_date":1678277098,"question_id":75672821,"body_markdown":"I want to exclude the following dependency in build.gradle in a module, but it doesn&#39;t work\r\n\r\n            implementation(&quot;org.apache.chemistry.opencmis:chemistry-opencmis-client-impl&quot;) {\r\n        exclude group: &#39;org.codehaus.woodstox&#39;, module: &#39;woodstox-core-asl&#39;\r\n        }\r\n\r\nI still get the following dependency tree:\r\n \r\n\r\n    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-impl -&gt; 1.1.0\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-api:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0\r\n    |    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-bindings:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0 (*)\r\n    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2\r\n    |    |    |    |    |    |    |    +--- xml-resolver:xml-resolver:1.2\r\n    |    |    |    |    |    |    |    +--- org.ow2.asm:asm:9.0\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0\r\n    |    |    |    |    |    |    |    |    +--- org.glassfish.jaxb:jaxb-runtime:2.3.5 -&gt; 2.3.7 (*)\r\n    |    |    |    |    |    |    |    |    +--- com.fasterxml.woodstox:woodstox-core:6.2.7 -&gt; 6.3.1\r\n    |    |    |    |    |    |    |    |    |    \\--- org.codehaus.woodstox:stax2-api:4.2.1\r\n    |    |    |    |    |    |    |    |    +--- org.apache.ws.xmlschema:xmlschema-core:2.3.0\r\n    |    |    |    |    |    |    |    |    \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-wsdl:3.4.2\r\n    |    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    |    +--- wsdl4j:wsdl4j:1.6.3\r\n    |    |    |    |    |    |    |    |    |    \\--- org.ow2.asm:asm:9.0\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-databinding-jaxb:3.4.2\r\n    |    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-xml:3.4.2\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-simple:3.4.2\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\r\n    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-ws-addr:3.4.2\r\n    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\r\n    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-ws-policy:3.4.2\r\n    |    |    |    |    |    |    |              +--- wsdl4j:wsdl4j:1.6.3\r\n    |    |    |    |    |    |    |              +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |              \\--- org.apache.neethi:neethi:3.1.1\r\n    |    |    |    |    |    |    |                   \\--- org.codehaus.woodstox:woodstox-core-asl:4.4.1\r\n    |    |    |    |    |    |    |                        +--- javax.xml.stream:stax-api:1.0-2 -&gt; org.codehaus.woodstox:stax2-api:4.2.1\r\n    |    |    |    |    |    |    |                        \\--- org.codehaus.woodstox:stax2-api:3.1.4 -&gt; 4.2.1\r\n    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2\r\n    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-ws-policy:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n\r\nThis is gradle groovy. I&#39;m using gradle 7. I already read these pages but nothing seems to help:\r\n\r\nhttps://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\r\n\r\nhttps://tomgregory.com/how-to-exclude-gradle-dependencies/\r\n","title":"Exclude dependency in gradle 7","body":"<p>I want to exclude the following dependency in build.gradle in a module, but it doesn't work</p>\n<pre><code>        implementation(&quot;org.apache.chemistry.opencmis:chemistry-opencmis-client-impl&quot;) {\n    exclude group: 'org.codehaus.woodstox', module: 'woodstox-core-asl'\n    }\n</code></pre>\n<p>I still get the following dependency tree:</p>\n<pre><code>+--- org.apache.chemistry.opencmis:chemistry-opencmis-client-impl -&gt; 1.1.0\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-api:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0\n|    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-bindings:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0 (*)\n|    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2\n|    |    |    |    |    |    |    +--- xml-resolver:xml-resolver:1.2\n|    |    |    |    |    |    |    +--- org.ow2.asm:asm:9.0\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0\n|    |    |    |    |    |    |    |    +--- org.glassfish.jaxb:jaxb-runtime:2.3.5 -&gt; 2.3.7 (*)\n|    |    |    |    |    |    |    |    +--- com.fasterxml.woodstox:woodstox-core:6.2.7 -&gt; 6.3.1\n|    |    |    |    |    |    |    |    |    \\--- org.codehaus.woodstox:stax2-api:4.2.1\n|    |    |    |    |    |    |    |    +--- org.apache.ws.xmlschema:xmlschema-core:2.3.0\n|    |    |    |    |    |    |    |    \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-wsdl:3.4.2\n|    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    |    +--- wsdl4j:wsdl4j:1.6.3\n|    |    |    |    |    |    |    |    |    \\--- org.ow2.asm:asm:9.0\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-databinding-jaxb:3.4.2\n|    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-xml:3.4.2\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-simple:3.4.2\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\n|    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-ws-addr:3.4.2\n|    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |         +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\n|    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-ws-policy:3.4.2\n|    |    |    |    |    |    |              +--- wsdl4j:wsdl4j:1.6.3\n|    |    |    |    |    |    |              +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |              \\--- org.apache.neethi:neethi:3.1.1\n|    |    |    |    |    |    |                   \\--- org.codehaus.woodstox:woodstox-core-asl:4.4.1\n|    |    |    |    |    |    |                        +--- javax.xml.stream:stax-api:1.0-2 -&gt; org.codehaus.woodstox:stax2-api:4.2.1\n|    |    |    |    |    |    |                        \\--- org.codehaus.woodstox:stax2-api:3.1.4 -&gt; 4.2.1\n|    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2\n|    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-ws-policy:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n</code></pre>\n<p>This is gradle groovy. I'm using gradle 7. I already read these pages but nothing seems to help:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html</a></p>\n<p><a href=\"https://tomgregory.com/how-to-exclude-gradle-dependencies/\" rel=\"nofollow noreferrer\">https://tomgregory.com/how-to-exclude-gradle-dependencies/</a></p>\n"},{"tags":["java","serialization","awt","serialversionuid"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1339855303,"post_id":11052627,"comment_id":14478477,"body_markdown":"possible duplicate of [What is a serialVersionUID and why should I use it?](http://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it\">What is a serialVersionUID and why should I use it?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1560370,"reputation":664,"user_id":1450359,"accept_rate":57,"display_name":"Surender Thakran"},"score":0,"creation_date":1339770809,"post_id":11052689,"comment_id":14459429,"body_markdown":"but i have worked on serialization in tha past and never declared any such field and still never got this warning. What is different this time? or what was different earlier?","body":"but i have worked on serialization in tha past and never declared any such field and still never got this warning. What is different this time? or what was different earlier?"},{"owner":{"account_id":1560370,"reputation":664,"user_id":1450359,"accept_rate":57,"display_name":"Surender Thakran"},"score":0,"creation_date":1339770904,"post_id":11052689,"comment_id":14459481,"body_markdown":"also the javadoc says : `If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification.`","body":"also the javadoc says : <code>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification.</code>"},{"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"score":1,"creation_date":1339770929,"post_id":11052689,"comment_id":14459489,"body_markdown":"It&#39;s possible that Eclipse had that warning disabled.","body":"It&#39;s possible that Eclipse had that warning disabled."},{"owner":{"account_id":73906,"reputation":5850,"user_id":212589,"accept_rate":83,"display_name":"wolfcastle"},"score":0,"creation_date":1339771491,"post_id":11052689,"comment_id":14459762,"body_markdown":"Eclipse has a &#39;quick fix&#39; option on that warning to generate a serialVersionUID field if you want. Or if you aren&#39;t planning on actually serializing this object, then you can just disable the compiler warninger in your Eclipse preferences.","body":"Eclipse has a &#39;quick fix&#39; option on that warning to generate a serialVersionUID field if you want. Or if you aren&#39;t planning on actually serializing this object, then you can just disable the compiler warninger in your Eclipse preferences."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1540560328,"post_id":11052689,"comment_id":92922901,"body_markdown":"@SurenderThakran If you have worked on serialization in the past, you should know why the serial version is important in RMI/CORBA. If not, try reading up on Joshua Block&#39;s Effective Java. If you change your exception to store different types internally, for instance, then clients that interface with your code might suddenly crash as the serial version has changed. See https://stackoverflow.com/a/285809/200987","body":"@SurenderThakran If you have worked on serialization in the past, you should know why the serial version is important in RMI/CORBA. If not, try reading up on Joshua Block&#39;s Effective Java. If you change your exception to store different types internally, for instance, then clients that interface with your code might suddenly crash as the serial version has changed. See <a href=\"https://stackoverflow.com/a/285809/200987\">stackoverflow.com/a/285809/200987</a>"}],"tags":[],"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1339770624,"creation_date":1339770624,"answer_id":11052689,"question_id":11052627,"body_markdown":"`TestGUI` extends `Frame` which in turn implements `Serializable`. A requirement of the `Serializable` interface is to have a `final long serialVersionUID` field. See the [Serializable javadoc][1] for more info.\r\n\r\nTo quote the important part of that Javadoc:\r\n\r\n    ...it is strongly recommended that all serializable classes explicitly declare\r\n    serialVersionUID values, since the default serialVersionUID computation is highly\r\n    sensitive to class details that may vary depending on compiler implementations...\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html","title":"serialVersionUID field warning in eclipse","body":"<p><code>TestGUI</code> extends <code>Frame</code> which in turn implements <code>Serializable</code>. A requirement of the <code>Serializable</code> interface is to have a <code>final long serialVersionUID</code> field. See the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html\">Serializable javadoc</a> for more info.</p>\n\n<p>To quote the important part of that Javadoc:</p>\n\n<pre><code>...it is strongly recommended that all serializable classes explicitly declare\nserialVersionUID values, since the default serialVersionUID computation is highly\nsensitive to class details that may vary depending on compiler implementations...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":163609,"reputation":2000,"user_id":385868,"display_name":"Zagrev"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1678280974,"creation_date":1339771610,"answer_id":11052980,"question_id":11052627,"body_markdown":"Eclipse used to have that warning disabled by default. In Eclipse Indigo (3.7), the default was to enable the warning. You can change the setting in 2 places, one for everything in the workspace, and one for a single project.\r\n\r\nTo disable the warning for all projects in the **workspace**:\r\n\r\n**Preferences** -&gt; **Java** -&gt; **Compiler** -&gt; **Errors/Warnings** tab -&gt; **Potential programming problems** section -&gt; **Serializable class without serialVersionUID** -&gt; **Ignore**\r\n\r\nTo disable the warning for a **single project**:\r\n\r\nRight-click on the project -&gt; **Properties** -&gt; **Java Compiler** -&gt; **Errors/Warnings** -&gt; click **Enable project specific settings** (if necessary) -&gt; **Potential programming problems** section -&gt; **Serializable class without serialVersionUID** -&gt; **Ignore**","title":"serialVersionUID field warning in eclipse","body":"<p>Eclipse used to have that warning disabled by default. In Eclipse Indigo (3.7), the default was to enable the warning. You can change the setting in 2 places, one for everything in the workspace, and one for a single project.</p>\n<p>To disable the warning for all projects in the <strong>workspace</strong>:</p>\n<p><strong>Preferences</strong> -&gt; <strong>Java</strong> -&gt; <strong>Compiler</strong> -&gt; <strong>Errors/Warnings</strong> tab -&gt; <strong>Potential programming problems</strong> section -&gt; <strong>Serializable class without serialVersionUID</strong> -&gt; <strong>Ignore</strong></p>\n<p>To disable the warning for a <strong>single project</strong>:</p>\n<p>Right-click on the project -&gt; <strong>Properties</strong> -&gt; <strong>Java Compiler</strong> -&gt; <strong>Errors/Warnings</strong> -&gt; click <strong>Enable project specific settings</strong> (if necessary) -&gt; <strong>Potential programming problems</strong> section -&gt; <strong>Serializable class without serialVersionUID</strong> -&gt; <strong>Ignore</strong></p>\n"}],"owner":{"account_id":1560370,"reputation":664,"user_id":1450359,"accept_rate":57,"display_name":"Surender Thakran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12844,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":11052980,"answer_count":2,"score":15,"last_activity_date":1678280974,"creation_date":1339770425,"question_id":11052627,"body_markdown":"I have just started on AWT and made a simple program in it, it works fine but it shows a warning message in eclipse which i don&#39;t understand:\r\n\r\n&gt; The serializable class TestGUI does not declare a static final\r\n&gt; serialVersionUID field of type long\r\n\r\nI know that the warning message is not related to AWT and there was no need to post my whole code but when i tried to make a SSCCE of the code the warning also disappeared. Since I don&#39;t know why this warning is generated i didn&#39;t knew which part to retain in my SSCCE. Hence the whole code!\r\n\r\nMy code is:\r\n\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    public class TestGUI extends Frame {\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tprivate int x = 50;\r\n    \tprivate int y = 50;\r\n    \t\r\n    \tTestGUI(String s) {\r\n    \t\taddWindowListener(new WindowAdapter() {\r\n    \t\t\tpublic void windowClosing(WindowEvent we) {\r\n    \t\t\t\tsetVisible(false);\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\taddMouseListener(new MouseAdapter() {\r\n    \t\t\tpublic void mouseClicked(MouseEvent me) {\r\n    \t\t\t\tx = me.getX();\r\n    \t\t\t\ty = me.getY();\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tg.drawString(&quot;Hello Princess&quot;, 100, 100);\r\n    \t\tg.drawString(&quot;Mouse clicked here&quot;, x, y);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tTestGUI tg = new TestGUI(&quot;first&quot;);\r\n    \t\ttg.setSize(500, 500);\r\n    \t\ttg.setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\nThanx in advance!","title":"serialVersionUID field warning in eclipse","body":"<p>I have just started on AWT and made a simple program in it, it works fine but it shows a warning message in eclipse which i don't understand:</p>\n\n<blockquote>\n  <p>The serializable class TestGUI does not declare a static final\n  serialVersionUID field of type long</p>\n</blockquote>\n\n<p>I know that the warning message is not related to AWT and there was no need to post my whole code but when i tried to make a SSCCE of the code the warning also disappeared. Since I don't know why this warning is generated i didn't knew which part to retain in my SSCCE. Hence the whole code!</p>\n\n<p>My code is:</p>\n\n<pre><code>import java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\npublic class TestGUI extends Frame {\n    /**\n     * @param args\n     */\n    private int x = 50;\n    private int y = 50;\n\n    TestGUI(String s) {\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent we) {\n                setVisible(false);\n                System.exit(0);\n            }\n        });\n        addMouseListener(new MouseAdapter() {\n            public void mouseClicked(MouseEvent me) {\n                x = me.getX();\n                y = me.getY();\n                repaint();\n            }\n        });\n    }\n\n    public void paint(Graphics g) {\n        g.drawString(\"Hello Princess\", 100, 100);\n        g.drawString(\"Mouse clicked here\", x, y);\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        TestGUI tg = new TestGUI(\"first\");\n        tg.setSize(500, 500);\n        tg.setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>Thanx in advance!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1678212382,"post_id":75663581,"comment_id":133488384,"body_markdown":"did you add the second part of my answer with containerFactory inside @KafkaListener?","body":"did you add the second part of my answer with containerFactory inside @KafkaListener?"},{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":0,"creation_date":1678214856,"post_id":75663581,"comment_id":133489017,"body_markdown":"Yeah, I idid. Please see the update KafkaListener above","body":"Yeah, I idid. Please see the update KafkaListener above"}],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678209099,"post_id":75664062,"comment_id":133487448,"body_markdown":"Given that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that which loaded the listener, for example because Spring Dev Tools is being used.","body":"Given that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that which loaded the listener, for example because Spring Dev Tools is being used."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678209827,"post_id":75664062,"comment_id":133487674,"body_markdown":"So adding the deserializer like shown here should avoid it (or you can use a setter on Boot&#39;s auto configured factory).","body":"So adding the deserializer like shown here should avoid it (or you can use a setter on Boot&#39;s auto configured factory)."},{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":1,"creation_date":1678210815,"post_id":75664062,"comment_id":133487957,"body_markdown":"Thanks a lot for the information. I tried using JsonDeserializer&lt;&gt;(ExampleEvent.class) but my payload is Avro format. looks like JsonDeserializer is not able to deserialize the message. but after your hint I created DefaultKafkaConsumerFactory and ConcurrentKafkaListenerContainerFactory (please see above), but still got the same error. I feel like some configuration doesn&#39;t do right with the KafkaAvroDeserializer. Any ideas again? Many thanks","body":"Thanks a lot for the information. I tried using JsonDeserializer&lt;&gt;(ExampleEvent.class) but my payload is Avro format. looks like JsonDeserializer is not able to deserialize the message. but after your hint I created DefaultKafkaConsumerFactory and ConcurrentKafkaListenerContainerFactory (please see above), but still got the same error. I feel like some configuration doesn&#39;t do right with the KafkaAvroDeserializer. Any ideas again? Many thanks"},{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":0,"creation_date":1678279940,"post_id":75664062,"comment_id":133501270,"body_markdown":"Thanks again. Like @Gary Russell mentioned above, the root of the issue is spring-boot-devtools. Once I remove it, it start to work.","body":"Thanks again. Like @Gary Russell mentioned above, the root of the issue is spring-boot-devtools. Once I remove it, it start to work."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678203782,"creation_date":1678203452,"answer_id":75664062,"question_id":75663581,"body_markdown":"Check this [article][1]. You have to provide the message converter for your custom java object `ExampleEvent`. The `@Payload` just by it self is able to receive just a `String` message.\r\n\r\nTry with\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Greeting&gt; exampleConsumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n          props,\r\n          new StringDeserializer(), \r\n          new JsonDeserializer&lt;&gt;(ExampleEvent.class));\r\n    }\r\n    \r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; \r\n      exampleKafkaListenerContainerFactory() {\r\n    \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; factory =\r\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(exampleConsumerFactory());\r\n        return factory;\r\n    }\r\n\r\nAnd then register this by\r\n\r\n          @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;,\r\n          containerFactory = &quot;exampleKafkaListenerContainerFactory&quot;  //&lt;-------\r\n      )\r\n      public void process(ExampleEvent event) {\r\n         this.helloKafkaService.handleMessage(event);\r\n         log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n     }\r\n\r\nAlso ensure that in your dependencies you already have the following otherwise add it manually\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://www.baeldung.com/spring-kafka#2-consuming-messages","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<p>Check this <a href=\"https://www.baeldung.com/spring-kafka#2-consuming-messages\" rel=\"nofollow noreferrer\">article</a>. You have to provide the message converter for your custom java object <code>ExampleEvent</code>. The <code>@Payload</code> just by it self is able to receive just a <code>String</code> message.</p>\n<p>Try with</p>\n<pre><code>@Bean\npublic ConsumerFactory&lt;String, Greeting&gt; exampleConsumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n      props,\n      new StringDeserializer(), \n      new JsonDeserializer&lt;&gt;(ExampleEvent.class));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; \n  exampleKafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; factory =\n      new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(exampleConsumerFactory());\n    return factory;\n}\n</code></pre>\n<p>And then register this by</p>\n<pre><code>      @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;,\n      containerFactory = &quot;exampleKafkaListenerContainerFactory&quot;  //&lt;-------\n  )\n  public void process(ExampleEvent event) {\n     this.helloKafkaService.handleMessage(event);\n     log.info(&quot;Processing event: &quot; + event.getExampleField());\n }\n</code></pre>\n<p>Also ensure that in your dependencies you already have the following otherwise add it manually</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":1,"creation_date":1678247734,"post_id":75665142,"comment_id":133494688,"body_markdown":"Thanks a lot! Exactly, the spring-boot-devtools issue. After I remove it, everything works fine. Just wondering is any work around to keep the spring-boot-devtools also make sure the same issue won&#39;t happen again?","body":"Thanks a lot! Exactly, the spring-boot-devtools issue. After I remove it, everything works fine. Just wondering is any work around to keep the spring-boot-devtools also make sure the same issue won&#39;t happen again?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678274260,"post_id":75665142,"comment_id":133499753,"body_markdown":"The work around is, as I said, add the deserializer to the factory instead of via the property.","body":"The work around is, as I said, add the deserializer to the factory instead of via the property."},{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":1,"creation_date":1678279869,"post_id":75665142,"comment_id":133501245,"body_markdown":"Thanks you, Yeah, I have updated my code (above) to add a KafkaAvroDeserializer, but once add the Spring Dev Tools back, the issue happens again. It&#39;s not a huge deal not to use the Spring Dev Tools, but just curious any better solution","body":"Thanks you, Yeah, I have updated my code (above) to add a KafkaAvroDeserializer, but once add the Spring Dev Tools back, the issue happens again. It&#39;s not a huge deal not to use the Spring Dev Tools, but just curious any better solution"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678372919,"post_id":75665142,"comment_id":133522843,"body_markdown":"I believe that adding the deserializer to the factory, instead of Kafka loading it via a property, resolved the problem for others, try running in a debugger to see which class loader is loading the class.","body":"I believe that adding the deserializer to the factory, instead of Kafka loading it via a property, resolved the problem for others, try running in a debugger to see which class loader is loading the class."},{"owner":{"account_id":10077021,"reputation":153,"user_id":12418723,"display_name":"JM_24"},"score":0,"creation_date":1700596493,"post_id":75665142,"comment_id":136673561,"body_markdown":"Stuck in the same situation as Zichen. Added this to my ContainerFactory bean but it did not help: `factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps(), new StringDeserializer(), new KafkaAvroDeserializer()))`. Also removed setting the deserializer in my consumer props so this is the only place where the deserializer is being declared.","body":"Stuck in the same situation as Zichen. Added this to my ContainerFactory bean but it did not help: <code>factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps(), new StringDeserializer(), new KafkaAvroDeserializer()))</code>. Also removed setting the deserializer in my consumer props so this is the only place where the deserializer is being declared."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678209790,"creation_date":1678209086,"answer_id":75665142,"question_id":75663581,"body_markdown":"&gt;`[example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent]` \r\n\r\nGiven that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that used to load the listener, for example because  Spring Dev Tools is being used.\r\n\r\nWhen specified via a property, the deserializer is loaded by the Kafka clients instead of Spring.\r\n\r\nOne way to avoid that is to add the deserializer directly to the consumer factory instead of via a property. You can use the constructor or setter on the factory, as shown in the other answer.","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<blockquote>\n<p><code>[example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent]</code></p>\n</blockquote>\n<p>Given that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that used to load the listener, for example because  Spring Dev Tools is being used.</p>\n<p>When specified via a property, the deserializer is loaded by the Kafka clients instead of Spring.</p>\n<p>One way to avoid that is to add the deserializer directly to the consumer factory instead of via a property. You can use the constructor or setter on the factory, as shown in the other answer.</p>\n"}],"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678280658,"creation_date":1678200927,"question_id":75663581,"body_markdown":"I am using SpringBoot 2.7.5 got an issue which the @KafkaListener got the MessageConversionException. The whole error logs show below:\r\n\r\n    Bean [example.package.api.kafka.HelloKafkaListener@30e312a2]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]\r\nThe consumer configurations:\r\n\r\n    consumer:\r\n      group-id: my-topic:HelloKafkaListener\r\n      auto-offset-reset: latest\r\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      properties:\r\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\r\n        spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n        request.timeout.ms: 5000\r\n\r\nThe versions I used are:\r\n\r\n    &lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\r\n    &lt;avro.version&gt;1.11.1&lt;/avro.version&gt; \r\n    &lt;spring.kafka.version&gt;2.8.10&lt;/spring.kafka.version&gt;\r\n\r\nMy pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n        &lt;version&gt;${avro.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy event.avsc is like this:\r\n\r\n    {\r\n      &quot;namespace&quot;: &quot;my.name.space&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;ExampleEvent&quot;,\r\n      &quot;doc&quot;: &quot;A sample event&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;exampleField&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nI use the confluent tool send the message in the terminal like this:\r\n\r\n        ./kafka-avro-console-producer \\\r\n        --broker-list localhost:59092 --topic my-topic \\\r\n        --property schema.registry.url=http://kafka-schema:80 \\\r\n        --property value.schema=&quot;$(cat ~/codebase/avro/event.avsc)&quot;\r\n        {&quot;exampleField&quot;:&quot;HELLO WORLD&quot;}\r\nAnd if using the `./kafka-avro-console-consumer` to get the message, it works well.\r\n \r\nMy listener is like this:\r\n\r\n    public class HelloKafkaListener {\r\n      private final HelloKafkaService helloKafkaService;\r\n      \r\n      @Autowired\r\n      public HelloKafkaListener(HelloKafkaService helloKafkaService) {\r\n        this.helloKafkaService = helloKafkaService;\r\n      }\r\n      \r\n      @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;\r\n      )\r\n    //  public void process(ConsumerRecord record) {\r\n    //    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\r\n    //  }\r\n      public void process(@Payload ExampleEvent event) {\r\n        this.helloKafkaService.handleMessage(event);\r\n        log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n      }\r\n    }\r\nIf I use `ConsumerRecord record`, it works I can see the `record.value().toString()` is `{&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}`, but switch to `ExampleEvent event`, it throws exception. Anyone knows why this happens? Many Thanks!\r\n\r\nThank you for the help! After reviewing the comments, I created a `DefaultKafkaConsumerFactory` and `ConcurrentKafkaListenerContainerFactory` like this: \r\n\r\n    @Bean\r\n      public DefaultKafkaConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory(\r\n          @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapAddress,\r\n          @Value(value = &quot;${spring.kafka.properties.schema.registry.url}&quot;) String schemaRegistryUrl\r\n      ) {\r\n        var props = Map.&lt;String, Object&gt;of(\r\n            ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\r\n            ConsumerConfig.GROUP_ID_CONFIG, groupId\r\n        );\r\n        var keyDeserializer = new ErrorHandlingDeserializer&lt;&gt;(new StringDeserializer());\r\n        var config = new HashMap&lt;String, Object&gt;();\r\n        config.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n        config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n        var jsonDeserializer = new KafkaAvroDeserializer(null, config);\r\n        var valueDeserializer = new ErrorHandlingDeserializer&lt;&gt;(jsonDeserializer);\r\n    \r\n        var factory = new DefaultKafkaConsumerFactory(props, keyDeserializer, valueDeserializer, false);\r\n        \r\n        return factory;\r\n      }\r\n      \r\n      @Bean\r\n      public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt;\r\n      helloKafkaListenerContainerFactory(ConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory helloContainerFactory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        helloContainerFactory.setConsumerFactory(helloConsumerFactory);\r\n        return helloContainerFactory;\r\n      }\r\n\r\nUpdated Listener: \r\n\r\n      @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;,\r\n          containerFactory = &quot;helloKafkaListenerContainerFactory&quot;\r\n      )\r\n    //  public void process(ConsumerRecord record) {\r\n    //    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\r\n    //  }\r\n      public void process(@Payload ExampleEvent event) {\r\n        this.helloKafkaService.handleMessage(event);\r\n        log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n      }\r\n\r\nHowever, still got the same issue. ","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<p>I am using SpringBoot 2.7.5 got an issue which the @KafkaListener got the MessageConversionException. The whole error logs show below:</p>\n<pre><code>Bean [example.package.api.kafka.HelloKafkaListener@30e312a2]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]\n</code></pre>\n<p>The consumer configurations:</p>\n<pre><code>consumer:\n  group-id: my-topic:HelloKafkaListener\n  auto-offset-reset: latest\n  key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n  value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n  properties:\n    spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\n    spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\n    request.timeout.ms: 5000\n</code></pre>\n<p>The versions I used are:</p>\n<pre><code>&lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\n&lt;avro.version&gt;1.11.1&lt;/avro.version&gt; \n&lt;spring.kafka.version&gt;2.8.10&lt;/spring.kafka.version&gt;\n</code></pre>\n<p>My pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n    &lt;artifactId&gt;avro&lt;/artifactId&gt;\n    &lt;version&gt;${avro.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My event.avsc is like this:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;my.name.space&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;ExampleEvent&quot;,\n  &quot;doc&quot;: &quot;A sample event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;exampleField&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I use the confluent tool send the message in the terminal like this:</p>\n<pre><code>    ./kafka-avro-console-producer \\\n    --broker-list localhost:59092 --topic my-topic \\\n    --property schema.registry.url=http://kafka-schema:80 \\\n    --property value.schema=&quot;$(cat ~/codebase/avro/event.avsc)&quot;\n    {&quot;exampleField&quot;:&quot;HELLO WORLD&quot;}\n</code></pre>\n<p>And if using the <code>./kafka-avro-console-consumer</code> to get the message, it works well.</p>\n<p>My listener is like this:</p>\n<pre><code>public class HelloKafkaListener {\n  private final HelloKafkaService helloKafkaService;\n  \n  @Autowired\n  public HelloKafkaListener(HelloKafkaService helloKafkaService) {\n    this.helloKafkaService = helloKafkaService;\n  }\n  \n  @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;\n  )\n//  public void process(ConsumerRecord record) {\n//    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\n//  }\n  public void process(@Payload ExampleEvent event) {\n    this.helloKafkaService.handleMessage(event);\n    log.info(&quot;Processing event: &quot; + event.getExampleField());\n  }\n}\n</code></pre>\n<p>If I use <code>ConsumerRecord record</code>, it works I can see the <code>record.value().toString()</code> is <code>{&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}</code>, but switch to <code>ExampleEvent event</code>, it throws exception. Anyone knows why this happens? Many Thanks!</p>\n<p>Thank you for the help! After reviewing the comments, I created a <code>DefaultKafkaConsumerFactory</code> and <code>ConcurrentKafkaListenerContainerFactory</code> like this:</p>\n<pre><code>@Bean\n  public DefaultKafkaConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory(\n      @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapAddress,\n      @Value(value = &quot;${spring.kafka.properties.schema.registry.url}&quot;) String schemaRegistryUrl\n  ) {\n    var props = Map.&lt;String, Object&gt;of(\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\n        ConsumerConfig.GROUP_ID_CONFIG, groupId\n    );\n    var keyDeserializer = new ErrorHandlingDeserializer&lt;&gt;(new StringDeserializer());\n    var config = new HashMap&lt;String, Object&gt;();\n    config.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n    config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n    var jsonDeserializer = new KafkaAvroDeserializer(null, config);\n    var valueDeserializer = new ErrorHandlingDeserializer&lt;&gt;(jsonDeserializer);\n\n    var factory = new DefaultKafkaConsumerFactory(props, keyDeserializer, valueDeserializer, false);\n    \n    return factory;\n  }\n  \n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt;\n  helloKafkaListenerContainerFactory(ConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory helloContainerFactory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    helloContainerFactory.setConsumerFactory(helloConsumerFactory);\n    return helloContainerFactory;\n  }\n</code></pre>\n<p>Updated Listener:</p>\n<pre><code>  @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;,\n      containerFactory = &quot;helloKafkaListenerContainerFactory&quot;\n  )\n//  public void process(ConsumerRecord record) {\n//    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\n//  }\n  public void process(@Payload ExampleEvent event) {\n    this.helloKafkaService.handleMessage(event);\n    log.info(&quot;Processing event: &quot; + event.getExampleField());\n  }\n</code></pre>\n<p>However, still got the same issue.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"owner":{"account_id":9178252,"reputation":77,"user_id":6823114,"display_name":"Baal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678280543,"creation_date":1678279882,"question_id":75673281,"body_markdown":"I am having issues with the pipeline working. After a few days of running, it stops producing results to the sink, without any exception.\r\n\r\n I don’t see any back-pressure or Flink State leak.\r\nThe pipeline is still running and receiving records, but it&#39;s not producing any output.\r\nThe time during which it operates correctly seems to increase as the Parallelism is increased, but still ends at some point.\r\n\r\nThe flow of the pipeline is as follow:\r\n\r\n-&gt; keyBy ID -&gt; create GlobalWindow \r\n\r\n-&gt; Trigger when specific one type of record arrived \r\n\r\n-&gt; Evictor which removes all records before this specific trigger record timestamp minus 500ms \r\n\r\n-&gt; Process remaining records and generate new type of record and send it to the sink.\r\n\r\n----------\r\n\r\nThe characteristic of my data stream is as follow:\r\n\r\nAverage numbers of unique IDs in the same time : ~5.000\r\n\r\nNumber of records received per ID: ~100/s\r\n\r\nPercent of records that pass the filter operator: ~80%\r\n\r\nPercent of records that Evictor need to remove before processing: average around 60%\r\n\r\nThe percent of the processed result records, stand for ~10% of incoming records.\r\n\r\n----------\r\n\r\nFirst question is, how I can check what is causing the problem? Is it memory? Is it processing power? Is it some Flink related properties?\r\nCan anyone tell me what and where should I look for?\r\n\r\n-----\r\n\r\nAlso my reflection on this matter:\r\n\r\nI was wondering if GlobalWindow approach, is the best one here. I have many keyBy values, so Flink create ~5000 separate global windows. Additionally the percent amount of data which need to be Evicted before processed is large. In my opinion this can be the issue. \r\nDo I think correctly that using GlobalWindow is not the optimal solution for the data characteristic I have? \r\n","title":"Flink Global Window performance issue","body":"<p>I am having issues with the pipeline working. After a few days of running, it stops producing results to the sink, without any exception.</p>\n<p>I don’t see any back-pressure or Flink State leak.\nThe pipeline is still running and receiving records, but it's not producing any output.\nThe time during which it operates correctly seems to increase as the Parallelism is increased, but still ends at some point.</p>\n<p>The flow of the pipeline is as follow:</p>\n<p>-&gt; keyBy ID -&gt; create GlobalWindow</p>\n<p>-&gt; Trigger when specific one type of record arrived</p>\n<p>-&gt; Evictor which removes all records before this specific trigger record timestamp minus 500ms</p>\n<p>-&gt; Process remaining records and generate new type of record and send it to the sink.</p>\n<hr />\n<p>The characteristic of my data stream is as follow:</p>\n<p>Average numbers of unique IDs in the same time : ~5.000</p>\n<p>Number of records received per ID: ~100/s</p>\n<p>Percent of records that pass the filter operator: ~80%</p>\n<p>Percent of records that Evictor need to remove before processing: average around 60%</p>\n<p>The percent of the processed result records, stand for ~10% of incoming records.</p>\n<hr />\n<p>First question is, how I can check what is causing the problem? Is it memory? Is it processing power? Is it some Flink related properties?\nCan anyone tell me what and where should I look for?</p>\n<hr />\n<p>Also my reflection on this matter:</p>\n<p>I was wondering if GlobalWindow approach, is the best one here. I have many keyBy values, so Flink create ~5000 separate global windows. Additionally the percent amount of data which need to be Evicted before processed is large. In my opinion this can be the issue.\nDo I think correctly that using GlobalWindow is not the optimal solution for the data characteristic I have?</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":22938329,"reputation":1,"user_id":17071471,"display_name":"Vrenotte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651274862,"creation_date":1651274862,"answer_id":72064562,"question_id":71638877,"body_markdown":"You are missing the netty library in your .minecraft folder or it is in the wrong version.\r\n\r\nIf you want MCP to be able to decompile the game, there should be a `1.8.8` folder in `~/.minecraft/libraries/com/mojang/netty`\r\n\r\nI have encountered this issue twice and fixed this in two different ways:\r\n- Retrieve it from another installation \r\n- Rename the existing folder and the inside jar `1.8.8` (instead of `1.6` or `1.7.7` in my case)","title":"How to fix error &quot;Error copying library com.mojang:netty:1.8.8&quot; for MCP 1.7.10","body":"<p>You are missing the netty library in your .minecraft folder or it is in the wrong version.</p>\n<p>If you want MCP to be able to decompile the game, there should be a <code>1.8.8</code> folder in <code>~/.minecraft/libraries/com/mojang/netty</code></p>\n<p>I have encountered this issue twice and fixed this in two different ways:</p>\n<ul>\n<li>Retrieve it from another installation</li>\n<li>Rename the existing folder and the inside jar <code>1.8.8</code> (instead of <code>1.6</code> or <code>1.7.7</code> in my case)</li>\n</ul>\n"}],"owner":{"account_id":21999318,"reputation":11,"user_id":16271250,"display_name":"Jackson-eng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678280056,"creation_date":1648403674,"question_id":71638877,"body_markdown":"I&#39;ve been trying to decompile MCP 1.7.10 but I keep getting this error. The error says it has something to do with Minecraft 1.8.8 but I want 1.7.10. I don&#39;t know if that has to do anything with it. Here is the error I keep getting:\r\n\r\n```\r\n== MCP 9.04 (data: 9.08, client: 1.7.10, server: 1.7.10) ==\r\n&quot;scalac&quot; is not found on the PATH.  Scala files will not be recompiled\r\n# found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle config, rg, ss\r\nLooking in C:\\Users\\jacks\\AppData\\Roaming\\.minecraft\\versions for mc installs... OK\r\nCopying assets... OK\r\nParsing JSON file... OK\r\nLooking for minecraft main jar... OK\r\n&gt; Checking libraries...\r\n        Copying library netty... Error copying library com.mojang:netty:1.8.8\r\nPress any key to continue . . .\r\n```","title":"How to fix error &quot;Error copying library com.mojang:netty:1.8.8&quot; for MCP 1.7.10","body":"<p>I've been trying to decompile MCP 1.7.10 but I keep getting this error. The error says it has something to do with Minecraft 1.8.8 but I want 1.7.10. I don't know if that has to do anything with it. Here is the error I keep getting:</p>\n<pre><code>== MCP 9.04 (data: 9.08, client: 1.7.10, server: 1.7.10) ==\n&quot;scalac&quot; is not found on the PATH.  Scala files will not be recompiled\n# found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle config, rg, ss\nLooking in C:\\Users\\jacks\\AppData\\Roaming\\.minecraft\\versions for mc installs... OK\nCopying assets... OK\nParsing JSON file... OK\nLooking for minecraft main jar... OK\n&gt; Checking libraries...\n        Copying library netty... Error copying library com.mojang:netty:1.8.8\nPress any key to continue . . .\n</code></pre>\n"},{"tags":["java","android","database","sqlite","unique-constraint"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":4,"creation_date":1453662698,"post_id":34980137,"comment_id":57689410,"body_markdown":"You&#39;re trying to insert an already existing id. Since the key is UNIQUE, you can&#39;t.","body":"You&#39;re trying to insert an already existing id. Since the key is UNIQUE, you can&#39;t."},{"owner":{"display_name":"user5669913"},"score":0,"creation_date":1453662817,"post_id":34980137,"comment_id":57689456,"body_markdown":"what code should i edit? @ Hrundi V. Bakshi","body":"what code should i edit? @ Hrundi V. Bakshi"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":2,"creation_date":1453663475,"post_id":34980137,"comment_id":57689723,"body_markdown":"I&#39;d make the key an AUTOINCREMENT one. And then I&#39;d not pass the ID, since it would be automatically generated.","body":"I&#39;d make the key an AUTOINCREMENT one. And then I&#39;d not pass the ID, since it would be automatically generated."},{"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"score":0,"creation_date":1552914352,"post_id":34980137,"comment_id":97178924,"body_markdown":"https://stackoverflow.com/a/45299979/6665568  . This answer fully fixed the issue for me . Handles cases if u directly wanna replace if row already present.","body":"<a href=\"https://stackoverflow.com/a/45299979/6665568\">stackoverflow.com/a/45299979/6665568</a>  . This answer fully fixed the issue for me . Handles cases if u directly wanna replace if row already present."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453662797,"creation_date":1453662797,"answer_id":34980197,"question_id":34980137,"body_markdown":"The table has a unique constraint on it.  That means that only one row can exist with a given ID value.  If you&#39;re trying to change some of the values for a row, use UPDATE not INSERT.  If you&#39;re trying to add this row, you need to either give it a different, unique ID or you need to delete the pre-existing row first.  Which of these is the right answer depends on what your app is doing.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>The table has a unique constraint on it.  That means that only one row can exist with a given ID value.  If you're trying to change some of the values for a row, use UPDATE not INSERT.  If you're trying to add this row, you need to either give it a different, unique ID or you need to delete the pre-existing row first.  Which of these is the right answer depends on what your app is doing.</p>\n"},{"comments":[{"owner":{"display_name":"user5669913"},"score":0,"creation_date":1453664743,"post_id":34980212,"comment_id":57690229,"body_markdown":"thank u so much... second solution worked for me...Did not insert the id..@Mateusz Herych","body":"thank u so much... second solution worked for me...Did not insert the id..@Mateusz Herych"},{"owner":{"account_id":4264857,"reputation":5594,"user_id":3488208,"accept_rate":20,"display_name":"Surendar D"},"score":0,"creation_date":1492427234,"post_id":34980212,"comment_id":73956005,"body_markdown":"Wow, first one is working for me thanks, @Mateusz Herych","body":"Wow, first one is working for me thanks, @Mateusz Herych"},{"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"score":0,"creation_date":1581340343,"post_id":34980212,"comment_id":106388146,"body_markdown":"A question is, could we surround the insert with a try catch ?","body":"A question is, could we surround the insert with a try catch ?"},{"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"score":0,"creation_date":1581340855,"post_id":34980212,"comment_id":106388446,"body_markdown":"i guess no, because insert is done by a thread asynchronously","body":"i guess no, because insert is done by a thread asynchronously"}],"tags":[],"owner":{"account_id":5857488,"reputation":1595,"user_id":4614310,"display_name":"Mateusz Herych"},"comment_count":4,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1453662861,"creation_date":1453662861,"answer_id":34980212,"question_id":34980137,"body_markdown":"Your code probably violates primary key&#39;s uniqueness constraint on a `KEY_ID` field.\r\n\r\nTwo possible solutions are:\r\n\r\n1. Make sure that your `EventData.getId()` returns unique values per object. For now, I don&#39;t see you pass any identifier to its constructor and perhaps all the events are inserted with the same `id` value.\r\n2. If you don&#39;t care about generating ids by yourself, you can add `AUTOINCREMENT` setting to your `KEY_ID` column definition. This way `KEY_ID` field will be filled automatically and each row will have its own, unique value. Once there, don&#39;t forget to remove adding `KEY_ID` to `ContentValues` by yourself.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Your code probably violates primary key's uniqueness constraint on a <code>KEY_ID</code> field.</p>\n\n<p>Two possible solutions are:</p>\n\n<ol>\n<li>Make sure that your <code>EventData.getId()</code> returns unique values per object. For now, I don't see you pass any identifier to its constructor and perhaps all the events are inserted with the same <code>id</code> value.</li>\n<li>If you don't care about generating ids by yourself, you can add <code>AUTOINCREMENT</code> setting to your <code>KEY_ID</code> column definition. This way <code>KEY_ID</code> field will be filled automatically and each row will have its own, unique value. Once there, don't forget to remove adding <code>KEY_ID</code> to <code>ContentValues</code> by yourself.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470162329,"creation_date":1470162329,"answer_id":38727889,"question_id":34980137,"body_markdown":"Try checking if the ID is already existed. If true, do not insert, because you already have the row with this ID.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Try checking if the ID is already existed. If true, do not insert, because you already have the row with this ID.</p>\n"},{"tags":[],"owner":{"account_id":5642130,"reputation":3491,"user_id":4465605,"display_name":"HannahCarney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499163026,"creation_date":1499163026,"answer_id":44903076,"question_id":34980137,"body_markdown":"I originally put the new unique constraint infant of the old one. Instead make sure you&#39;re current unique column is first:\r\n\r\n    CREATE TABLE TEST (client_id TEXT unique, remote_id INT unique)","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I originally put the new unique constraint infant of the old one. Instead make sure you're current unique column is first:</p>\n\n<pre><code>CREATE TABLE TEST (client_id TEXT unique, remote_id INT unique)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6845381,"reputation":6435,"user_id":5264367,"accept_rate":12,"display_name":"Samir"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610216242,"creation_date":1499330315,"answer_id":44943794,"question_id":34980137,"body_markdown":"My mistake was, I tried to fill `ID` column though it was already defined   as `INTEGER PRIMARY KEY AUTOINCREMENT`\r\n\r\n","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>My mistake was, I tried to fill <code>ID</code> column though it was already defined   as <code>INTEGER PRIMARY KEY AUTOINCREMENT</code></p>\n"},{"tags":[],"owner":{"account_id":12100225,"reputation":17,"user_id":8841812,"display_name":"Vickie Kangare"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510048337,"creation_date":1510048337,"answer_id":47154737,"question_id":34980137,"body_markdown":"make id column id integer autoincrement, and do not put the id value into content values.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>make id column id integer autoincrement, and do not put the id value into content values.</p>\n"},{"comments":[{"owner":{"account_id":5745249,"reputation":785,"user_id":9766649,"display_name":"user155"},"score":0,"creation_date":1552291037,"post_id":50896304,"comment_id":96937935,"body_markdown":"but it&#39;s just going to replace an existing row... if you really want to update the item then you should use `@Update`, `@Insert` is for adding new items","body":"but it&#39;s just going to replace an existing row... if you really want to update the item then you should use <code>@Update</code>, <code>@Insert</code> is for adding new items"},{"owner":{"account_id":3319676,"reputation":1860,"user_id":2791168,"display_name":"sagar.android"},"score":1,"creation_date":1582285018,"post_id":50896304,"comment_id":106733517,"body_markdown":"Thanks. This answer should be accepted instead of above one.","body":"Thanks. This answer should be accepted instead of above one."},{"owner":{"account_id":5745249,"reputation":785,"user_id":9766649,"display_name":"user155"},"score":0,"creation_date":1613602986,"post_id":50896304,"comment_id":117129407,"body_markdown":"BE AWARE IF YOU USE CASCADE DELETION it will remove all related objects to this related object","body":"BE AWARE IF YOU USE CASCADE DELETION it will remove all related objects to this related object"},{"owner":{"account_id":21208933,"reputation":922,"user_id":15597975,"display_name":"mars8"},"score":1,"creation_date":1657477186,"post_id":50896304,"comment_id":128813883,"body_markdown":"I am still getting the exception even with `OnConflictStrategy.REPLACE/IGNORE`. My composite primary key is not unique, but I would like room to just ignore these cases instead of crashing with `SQLiteConstraintException`. How can I fix?","body":"I am still getting the exception even with <code>OnConflictStrategy.REPLACE&#47;IGNORE</code>. My composite primary key is not unique, but I would like room to just ignore these cases instead of crashing with <code>SQLiteConstraintException</code>. How can I fix?"}],"tags":[],"owner":{"account_id":2725908,"reputation":3152,"user_id":5873832,"accept_rate":80,"display_name":"Dasser Basyouni"},"comment_count":4,"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1529235957,"creation_date":1529235957,"answer_id":50896304,"question_id":34980137,"body_markdown":"For developers using [Room Persistence Library][1]. You can use \r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)  // or OnConflictStrategy.IGNORE\r\n\r\nin DAO according to [Insert Documentation][2]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/room\r\n  [2]: https://developer.android.com/reference/android/arch/persistence/room/Insert","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>For developers using <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"noreferrer\">Room Persistence Library</a>. You can use </p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)  // or OnConflictStrategy.IGNORE\n</code></pre>\n\n<p>in DAO according to <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Insert\" rel=\"noreferrer\">Insert Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":9470871,"reputation":1070,"user_id":7041761,"display_name":"Neuron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541148722,"creation_date":1541148722,"answer_id":53115345,"question_id":34980137,"body_markdown":"I had the same problem and the problem was that I forgot to add `db.execSQL(YOUR_TABLE);` in my `DbHelper`","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I had the same problem and the problem was that I forgot to add <code>db.execSQL(YOUR_TABLE);</code> in my <code>DbHelper</code></p>\n"},{"comments":[{"owner":{"account_id":1109086,"reputation":2201,"user_id":1099884,"accept_rate":60,"display_name":"Yeung"},"score":0,"creation_date":1624350430,"post_id":55097140,"comment_id":120328158,"body_markdown":"make the `id` nonnull is also ok. Pass `0` to id, `insert` func will also return new id","body":"make the <code>id</code> nonnull is also ok. Pass <code>0</code> to id, <code>insert</code> func will also return new id"}],"tags":[],"owner":{"account_id":5745249,"reputation":785,"user_id":9766649,"display_name":"user155"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1552291181,"creation_date":1552289901,"answer_id":55097140,"question_id":34980137,"body_markdown":"If you use **Room** then instead of `@PrimaryKey` you should use `@PrimaryKey(autoGenerate = true)`\r\n\r\nand make your id variable optional:\r\n\r\n`@Entity(tableName = &quot;contact_table&quot;)\r\ndata class Contact(@PrimaryKey(autoGenerate = true) @ColumnInfo(name = &quot;id&quot;) var id: Long?,\r\n                   @ColumnInfo(name = &quot;name&quot;) val name: String,\r\n                   @ColumnInfo(name = &quot;phone&quot;) val phone: String)`\r\n\r\nand then when adding a new item, pass `null` as id, `insert` func will return new id, add it to your object\r\n\r\n    val contact = Contact(null, name, phone)\r\n    contact.id = ContactRoomDatabase.getDatabase().contactDao().insert(contact)","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>If you use <strong>Room</strong> then instead of <code>@PrimaryKey</code> you should use <code>@PrimaryKey(autoGenerate = true)</code></p>\n\n<p>and make your id variable optional:</p>\n\n<p><code>@Entity(tableName = \"contact_table\")\ndata class Contact(@PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"id\") var id: Long?,\n                   @ColumnInfo(name = \"name\") val name: String,\n                   @ColumnInfo(name = \"phone\") val phone: String)</code></p>\n\n<p>and then when adding a new item, pass <code>null</code> as id, <code>insert</code> func will return new id, add it to your object</p>\n\n<pre><code>val contact = Contact(null, name, phone)\ncontact.id = ContactRoomDatabase.getDatabase().contactDao().insert(contact)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14876397,"reputation":196,"user_id":10742321,"display_name":"Angad Cheema"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1603275188,"creation_date":1603275188,"answer_id":64461346,"question_id":34980137,"body_markdown":"This is the case of duplicate id of the record in the database. Just clear the app storage and try again. A good solution would be adding below in your Dao class.     \r\n\r\n        @Insert (onConflict = OnConflictStrategy.REPLACE)\r\n\r\n\r\nCorrect solution to this problem is to make sure that the id is unique. Please have a look at this [Google Codelabs Room Example][1]\r\n\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/android-room-with-a-view\r\n\r\nAnother way to avoid this would be adding `    @PrimaryKey(autoGenerate = true)\r\n`","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>This is the case of duplicate id of the record in the database. Just clear the app storage and try again. A good solution would be adding below in your Dao class.</p>\n<pre><code>    @Insert (onConflict = OnConflictStrategy.REPLACE)\n</code></pre>\n<p>Correct solution to this problem is to make sure that the id is unique. Please have a look at this <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view\" rel=\"noreferrer\">Google Codelabs Room Example</a></p>\n<p>Another way to avoid this would be adding <code>   @PrimaryKey(autoGenerate = true)</code></p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17307,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629581843,"creation_date":1629581843,"answer_id":68876923,"question_id":34980137,"body_markdown":"*For Kotlin model classes*\r\n\r\nIf you&#39;re assigning a **default value** to the primary key like this:\r\n\r\n```kotlin\r\ndata class MyModel(\r\n @PrimaryKey(autoGenerate = true) val id: Int = defaultValue\r\n)\r\n```\r\n\r\n**Make sure default value is `0` for `Long` and `Int` types.**\r\n\r\n---\r\n\r\nFrom the `autoGenerate` comment:\r\n\r\n&gt;  If the field type is `long` or `int` (or its TypeConverter converts it to a `long` or `int`), `Insert` methods treat `0` as **not-set** while inserting the item.\r\n\r\nIn my case, I used `-1` as the defaultValue and this error was occurring.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p><em>For Kotlin model classes</em></p>\n<p>If you're assigning a <strong>default value</strong> to the primary key like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyModel(\n @PrimaryKey(autoGenerate = true) val id: Int = defaultValue\n)\n</code></pre>\n<p><strong>Make sure default value is <code>0</code> for <code>Long</code> and <code>Int</code> types.</strong></p>\n<hr />\n<p>From the <code>autoGenerate</code> comment:</p>\n<blockquote>\n<p>If the field type is <code>long</code> or <code>int</code> (or its TypeConverter converts it to a <code>long</code> or <code>int</code>), <code>Insert</code> methods treat <code>0</code> as <strong>not-set</strong> while inserting the item.</p>\n</blockquote>\n<p>In my case, I used <code>-1</code> as the defaultValue and this error was occurring.</p>\n"},{"tags":[],"owner":{"account_id":23823633,"reputation":51,"user_id":17830998,"display_name":"Umut Can"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641293739,"creation_date":1641293739,"answer_id":70577650,"question_id":34980137,"body_markdown":"Guys i had the same problem and i cleared my local database from android settings and a clear run the app, that is work for me. Maybe you made a little change in db and you forgot.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Guys i had the same problem and i cleared my local database from android settings and a clear run the app, that is work for me. Maybe you made a little change in db and you forgot.</p>\n"},{"tags":[],"owner":{"account_id":19518003,"reputation":49,"user_id":14280462,"display_name":"faribakhandani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279989,"creation_date":1678279989,"answer_id":75673299,"question_id":34980137,"body_markdown":"I solved it by didn&#39;t insert the primary key manually when it is autoGenerate, this means that instead of putting value in the insert method for id, try to create an instance of entity class and use it in the insert method","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I solved it by didn't insert the primary key manually when it is autoGenerate, this means that instead of putting value in the insert method for id, try to create an instance of entity class and use it in the insert method</p>\n"}],"owner":{"display_name":"user5669913"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144462,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":34980212,"answer_count":13,"score":63,"last_activity_date":1678279989,"creation_date":1453662483,"question_id":34980137,"body_markdown":"I am trying to insert values in table. But there is only one value inserted. I am getting an error in log cat when I am trying to insert new values. \r\n\r\nLog cat shows :\r\n\r\n    abort at 13 in [INSERT INTO event(totalminutesfrom,dayofweek,title,location,totalminutesto,id) VALUES (?,?,?,?,?,?)]: UNIQUE constraint failed: event.id\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: Error inserting totalminutesfrom=694 dayofweek=null title=qxs location=Eded &amp; Mariz totalminutesto=0 id=0\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: event.id (code 1555)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:782)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.EventTableHelper.addEvent(EventTableHelper.java:76)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.AddEventActivity$5.onClick(AddEventActivity.java:217)\r\n\r\n\r\nIts showing error on these two lines while inserting row.\r\n\r\n    db.insert(TABLE, null, values);\r\n\r\n       db.addEvent(new EventData(eventTitle,dayOfWeek,totalMinutesFrom, totalMinutesTo,location));\r\n\r\n\r\n\r\nEventTableHelper\r\n\r\n\r\n        \r\n    public class EventTableHelper extends SQLiteOpenHelper {\r\n    \r\n    \r\n        private static final String TABLE = &quot;event&quot;;\r\n        private static final String KEY_ID = &quot;id&quot;;\r\n        private static final String KEY_TITLE = &quot;title&quot;;\r\n        private static final String KEY_LOCATION = &quot;location&quot;;\r\n        private static final String KEY_DAY_OF_WEEK = &quot;dayofweek&quot;;\r\n        private static final String KEY_TOTAL_MINUTES_FROM = &quot;totalminutesfrom&quot;;\r\n        private static final String KEY_TOTAL_MINUTES_TO = &quot;totalminutesto&quot;;\r\n    \r\n    \r\n    \r\n        public EventTableHelper(Context context) {\r\n            super(context, Constants.DATABASE_NAME, null, Constants.DATABASE_VERSION);\r\n            //3rd argument to be passed is CursorFactory instance\r\n        }\r\n    \r\n        // Creating Tables\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            //createTable(db);\r\n        }\r\n    \r\n        public void createTable(SQLiteDatabase db){\r\n            String CREATE_EVENTS_TABLE = &quot;CREATE TABLE &quot; + TABLE + &quot;(&quot;\r\n                    + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + KEY_TITLE + &quot; TEXT,&quot;\r\n                    + KEY_DAY_OF_WEEK +&quot;TEXT&quot; + KEY_TOTAL_MINUTES_FROM +&quot;INTEGER&quot;\r\n                    + KEY_TOTAL_MINUTES_TO + &quot;INTEGER&quot; +  KEY_LOCATION + &quot;TEXT&quot; +  &quot;)&quot;;\r\n    \r\n            db.execSQL(CREATE_EVENTS_TABLE);\r\n    \r\n        }\r\n        // Upgrading database\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            // Drop older table if existed\r\n           // db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE);\r\n    \r\n          //  createTable(db);\r\n    \r\n            // Create tables again\r\n            //onCreate(db);\r\n        }\r\n    \r\n        // code to add the new contact\r\n        public void addEvent(EventData event) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n    \r\n            ContentValues values = new ContentValues();\r\n            values.put(KEY_ID, event.getId());\r\n            values.put(KEY_TITLE,event.getTitle()); // Contact Name\r\n            values.put(KEY_DAY_OF_WEEK,event.getDayofWeek());\r\n            values.put(KEY_TOTAL_MINUTES_FROM,event.getFromMinutes());\r\n            values.put(KEY_TOTAL_MINUTES_TO,event.getToMinutes());\r\n            values.put(KEY_LOCATION,event.getLocation());\r\n            // Inserting Row\r\n            db.insert(TABLE, null, values);\r\n            //2nd argument is String containing nullColumnHack\r\n            db.close(); // Closing database connection\r\n        }\r\n    \r\n        // code to get the single contact\r\n       EventData getEvent(int id) {\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = db.query(TABLE, new String[] { KEY_ID,\r\n                            KEY_TITLE, KEY_DAY_OF_WEEK, KEY_TOTAL_MINUTES_FROM,KEY_TOTAL_MINUTES_TO,KEY_LOCATION }, KEY_ID + &quot;=?&quot;,\r\n                    new String[] { String.valueOf(id) }, null, null, null, null);\r\n            if (cursor != null)\r\n                cursor.moveToFirst();\r\n           EventData eventData = new EventData(Integer.parseInt(cursor.getString(0)),cursor.getString(1), cursor.getString(2),\r\n                   cursor.getInt(3),cursor.getInt(4),cursor.getString(5));\r\n    \r\n            return eventData;\r\n        }\r\n    \r\n    \r\n    \r\n        // code to get all contacts in a list view\r\n        public List&lt;EventData&gt; getAllEvents() {\r\n            List&lt;EventData&gt; conList = new ArrayList&lt;EventData&gt;();\r\n            // Select All Query\r\n            String selectQuery = &quot;SELECT  * FROM &quot; + TABLE;\r\n    \r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            Cursor cursor = db.rawQuery(selectQuery, null);\r\n    \r\n            // looping through all rows and adding to list\r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n    \r\n                    EventData event = new EventData();\r\n    \r\n                    event.setId(Integer.parseInt(cursor.getString(0)));\r\n                    event.setTitle(cursor.getString(1));\r\n                    event.setDayofWeek(cursor.getString(2));\r\n                    event.setFromMinutes(cursor.getInt(3));\r\n                    event.setToMinutes(cursor.getInt(4));\r\n                    event.setLocation(cursor.getString(5));\r\n                    // Adding contact to list\r\n                    conList.add(event);\r\n                } while (cursor.moveToNext());\r\n            }\r\n    \r\n            // return contact list\r\n            return conList;\r\n        }\r\n    }\r\n\r\nHow to solve this??","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I am trying to insert values in table. But there is only one value inserted. I am getting an error in log cat when I am trying to insert new values. </p>\n\n<p>Log cat shows :</p>\n\n<pre><code>abort at 13 in [INSERT INTO event(totalminutesfrom,dayofweek,title,location,totalminutesto,id) VALUES (?,?,?,?,?,?)]: UNIQUE constraint failed: event.id\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: Error inserting totalminutesfrom=694 dayofweek=null title=qxs location=Eded &amp; Mariz totalminutesto=0 id=0\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: event.id (code 1555)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:782)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.EventTableHelper.addEvent(EventTableHelper.java:76)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.AddEventActivity$5.onClick(AddEventActivity.java:217)\n</code></pre>\n\n<p>Its showing error on these two lines while inserting row.</p>\n\n<pre><code>db.insert(TABLE, null, values);\n\n   db.addEvent(new EventData(eventTitle,dayOfWeek,totalMinutesFrom, totalMinutesTo,location));\n</code></pre>\n\n<p>EventTableHelper</p>\n\n<pre><code>public class EventTableHelper extends SQLiteOpenHelper {\n\n\n    private static final String TABLE = \"event\";\n    private static final String KEY_ID = \"id\";\n    private static final String KEY_TITLE = \"title\";\n    private static final String KEY_LOCATION = \"location\";\n    private static final String KEY_DAY_OF_WEEK = \"dayofweek\";\n    private static final String KEY_TOTAL_MINUTES_FROM = \"totalminutesfrom\";\n    private static final String KEY_TOTAL_MINUTES_TO = \"totalminutesto\";\n\n\n\n    public EventTableHelper(Context context) {\n        super(context, Constants.DATABASE_NAME, null, Constants.DATABASE_VERSION);\n        //3rd argument to be passed is CursorFactory instance\n    }\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        //createTable(db);\n    }\n\n    public void createTable(SQLiteDatabase db){\n        String CREATE_EVENTS_TABLE = \"CREATE TABLE \" + TABLE + \"(\"\n                + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_TITLE + \" TEXT,\"\n                + KEY_DAY_OF_WEEK +\"TEXT\" + KEY_TOTAL_MINUTES_FROM +\"INTEGER\"\n                + KEY_TOTAL_MINUTES_TO + \"INTEGER\" +  KEY_LOCATION + \"TEXT\" +  \")\";\n\n        db.execSQL(CREATE_EVENTS_TABLE);\n\n    }\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n       // db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE);\n\n      //  createTable(db);\n\n        // Create tables again\n        //onCreate(db);\n    }\n\n    // code to add the new contact\n    public void addEvent(EventData event) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_ID, event.getId());\n        values.put(KEY_TITLE,event.getTitle()); // Contact Name\n        values.put(KEY_DAY_OF_WEEK,event.getDayofWeek());\n        values.put(KEY_TOTAL_MINUTES_FROM,event.getFromMinutes());\n        values.put(KEY_TOTAL_MINUTES_TO,event.getToMinutes());\n        values.put(KEY_LOCATION,event.getLocation());\n        // Inserting Row\n        db.insert(TABLE, null, values);\n        //2nd argument is String containing nullColumnHack\n        db.close(); // Closing database connection\n    }\n\n    // code to get the single contact\n   EventData getEvent(int id) {\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = db.query(TABLE, new String[] { KEY_ID,\n                        KEY_TITLE, KEY_DAY_OF_WEEK, KEY_TOTAL_MINUTES_FROM,KEY_TOTAL_MINUTES_TO,KEY_LOCATION }, KEY_ID + \"=?\",\n                new String[] { String.valueOf(id) }, null, null, null, null);\n        if (cursor != null)\n            cursor.moveToFirst();\n       EventData eventData = new EventData(Integer.parseInt(cursor.getString(0)),cursor.getString(1), cursor.getString(2),\n               cursor.getInt(3),cursor.getInt(4),cursor.getString(5));\n\n        return eventData;\n    }\n\n\n\n    // code to get all contacts in a list view\n    public List&lt;EventData&gt; getAllEvents() {\n        List&lt;EventData&gt; conList = new ArrayList&lt;EventData&gt;();\n        // Select All Query\n        String selectQuery = \"SELECT  * FROM \" + TABLE;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n\n                EventData event = new EventData();\n\n                event.setId(Integer.parseInt(cursor.getString(0)));\n                event.setTitle(cursor.getString(1));\n                event.setDayofWeek(cursor.getString(2));\n                event.setFromMinutes(cursor.getInt(3));\n                event.setToMinutes(cursor.getInt(4));\n                event.setLocation(cursor.getString(5));\n                // Adding contact to list\n                conList.add(event);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return conList;\n    }\n}\n</code></pre>\n\n<p>How to solve this??</p>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"comments":[{"owner":{"account_id":18769316,"reputation":105,"user_id":13686510,"display_name":"Fredrik HD"},"score":0,"creation_date":1628158140,"post_id":68653755,"comment_id":121348384,"body_markdown":"I managed to get an order that kind of suits my needs using what I stated above but still not complete. However,  if it is as you say then I will have to circumvent this some other way. Thank you for your input!","body":"I managed to get an order that kind of suits my needs using what I stated above but still not complete. However,  if it is as you say then I will have to circumvent this some other way. Thank you for your input!"}],"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628089896,"creation_date":1628089896,"answer_id":68653755,"question_id":68652842,"body_markdown":"See [this question](https://stackoverflow.com/questions/19823761/how-to-get-line-number-of-an-instance-variable-from-a-java-object-during-runtime), which discusses that you cannot get the line number of a declared field via reflection.\r\n\r\nTogether with the fact that reflection gives you a classes&#39; fields in [no particular order](https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html#getDeclaredFields()), it is obvious that it is not possible to observe the order of declared fields in a class at runtime, and it follows that you cannot order the keys in your YAML output according to their position/order in the source, because you cannot know that order.\r\n\r\nThe remedy is to transport the knowledge of the order to the runtime. Some possible ways to do this might be:\r\n\r\n * Annotate each field with a `weight` that defines the position of the resulting YAML key (ugly because you need annotations on the fields).\r\n * Autogenerate code by parsing the class&#39; definition discovering the order from there, and write it to some autogenerated source file whose code is then used to order the properties in your Representer (this solution, while avoiding bloat in the original class, is very complex and elaborate).\r\n * Hard-code the field order in the Representer. That&#39;s basically the previous solution but without autogenerating. Error-prone because the Representer must be adjusted each time the class is changed.\r\n\r\nI recommend against using any of those solutions. The YAML spec specifically says that key order must not convey content information, and if the order is important to you, you are already violating the YAML spec and should switch to a format that better serves your needs.","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>See <a href=\"https://stackoverflow.com/questions/19823761/how-to-get-line-number-of-an-instance-variable-from-a-java-object-during-runtime\">this question</a>, which discusses that you cannot get the line number of a declared field via reflection.</p>\n<p>Together with the fact that reflection gives you a classes' fields in <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html#getDeclaredFields()\" rel=\"nofollow noreferrer\">no particular order</a>, it is obvious that it is not possible to observe the order of declared fields in a class at runtime, and it follows that you cannot order the keys in your YAML output according to their position/order in the source, because you cannot know that order.</p>\n<p>The remedy is to transport the knowledge of the order to the runtime. Some possible ways to do this might be:</p>\n<ul>\n<li>Annotate each field with a <code>weight</code> that defines the position of the resulting YAML key (ugly because you need annotations on the fields).</li>\n<li>Autogenerate code by parsing the class' definition discovering the order from there, and write it to some autogenerated source file whose code is then used to order the properties in your Representer (this solution, while avoiding bloat in the original class, is very complex and elaborate).</li>\n<li>Hard-code the field order in the Representer. That's basically the previous solution but without autogenerating. Error-prone because the Representer must be adjusted each time the class is changed.</li>\n</ul>\n<p>I recommend against using any of those solutions. The YAML spec specifically says that key order must not convey content information, and if the order is important to you, you are already violating the YAML spec and should switch to a format that better serves your needs.</p>\n"},{"tags":[],"owner":{"account_id":7766804,"reputation":1,"user_id":5877739,"display_name":"joesturge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279593,"creation_date":1678279593,"answer_id":75673217,"question_id":68652842,"body_markdown":"use this as your get properties function\r\n\r\n        @Override\r\n        protected Set&lt;Property&gt; getProperties(final Class&lt;?&gt; type) {\r\n            // This is the order to output properties, other properties will not be output\r\n            final List&lt;String&gt; order = List.of(&quot;name&quot;, &quot;lastName&quot;, &quot;address&quot;);\r\n            final Set&lt;Property&gt; result = new TreeSet&lt;&gt;(Comparator.comparingInt(a -&gt; order.indexOf(a.getName())));\r\n            result.addAll(super.getProperties(type)\r\n                               .stream()\r\n                               .filter(property -&gt; order.contains(property.getName()))\r\n                               .collect(Collectors.toSet()));\r\n            return result;\r\n        }","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>use this as your get properties function</p>\n<pre><code>    @Override\n    protected Set&lt;Property&gt; getProperties(final Class&lt;?&gt; type) {\n        // This is the order to output properties, other properties will not be output\n        final List&lt;String&gt; order = List.of(&quot;name&quot;, &quot;lastName&quot;, &quot;address&quot;);\n        final Set&lt;Property&gt; result = new TreeSet&lt;&gt;(Comparator.comparingInt(a -&gt; order.indexOf(a.getName())));\n        result.addAll(super.getProperties(type)\n                           .stream()\n                           .filter(property -&gt; order.contains(property.getName()))\n                           .collect(Collectors.toSet()));\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":18769316,"reputation":105,"user_id":13686510,"display_name":"Fredrik HD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68653755,"answer_count":2,"score":1,"last_activity_date":1678279593,"creation_date":1628086417,"question_id":68652842,"body_markdown":"I am using SnakeYaml to both load/dump data in Java. For this I have created a custom class with fields, say that the class looks something like this:\r\n\r\n```Java\r\npublic class Person {\r\n        private String name;\r\n        private String lastName;\r\n        private String address;\r\n        \r\n        public Person() {\r\n            // Do nothing\r\n        }\r\n        \r\n        // Getters and setters initialized for all the fields\r\n    }\r\n```\r\n\r\nNow, what I would like is that when I write a Person object to a file with SnakeYaml I would want to have the fields in the order they are defined in the class.\r\n\r\ne.g.\r\n\r\n    name: Patrick\r\n    lastName: Star\r\n    Age : 42\r\n\r\n\r\nThe problem is that for more advanced examples, this ordering is **not** achieved. Currently I am writing/dumping to a yaml file like the following:\r\n\r\n```\r\nConstructor struct = new Constructor(YamlIteratorModel.class);\r\nYaml yaml = new Yaml(struct);\r\n\r\ntry {\r\n   String path = &quot;Some/File/Path/yamlfile.yaml&quot;;\r\n   FileWriter writer = new FileWriter(path);\r\n   yaml.dump(iteratorModel, writer);\r\n} catch (IOExcepton e) {\r\n   // Do something\r\n}\r\n```\r\n\r\n\r\nWhat I have also tried is creating a **Representer** class which extends Representer and calls the Yaml constructor in a similar manner. This one is taken from another post, and it doesn&#39;t do the job for me as it only sorts the Properties in an order I am not entirely sure of (can&#39;t find the link right now but will update if I find it again)..\r\n\r\n\r\n```Java\r\npublic class ConfigurationModelRepresenter extends Representer {\r\n\r\n    /**\r\n     * Create object without specified dumper object\r\n     */\r\n    public ConfigurationModelRepresenter() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * Create object with dumper options\r\n     *\r\n     * @param options\r\n     */\r\n    public ConfigurationModelRepresenter(DumperOptions options) {\r\n        super(options);\r\n    }\r\n\r\n    /** {@inheritDoc} */\r\n    @Override\r\n    protected Set&lt;Property&gt; getProperties(Class&lt; ? extends Object&gt; type) {\r\n        Set&lt;Property&gt; propertySet;\r\n        if (typeDefinitions.containsKey(type)) {\r\n            propertySet = typeDefinitions.get(type).getProperties();\r\n        } else {\r\n            propertySet = getPropertyUtils().getProperties(type);\r\n        }\r\n\r\n        List&lt;Property&gt; propsList = new ArrayList&lt;&gt;(propertySet);\r\n        Collections.sort(propsList, new BeanPropertyComparator());\r\n\r\n        return new LinkedHashSet&lt;&gt;(propsList);\r\n    }\r\n\r\n    class BeanPropertyComparator implements Comparator&lt;Property&gt; {\r\n        @Override\r\n        public int compare(Property p1, Property p2) {\r\n            // p1.getType().get\r\n            if (p1.getType().getCanonicalName().contains(&quot;util&quot;) &amp;&amp; !p2.getType().getCanonicalName().contains(&quot;util&quot;)) {\r\n                return 1;\r\n            } else if (p2.getName().endsWith(&quot;Name&quot;) || p2.getName().equalsIgnoreCase(&quot;name&quot;)) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**SUMMARY**: How do I maintain the ordering when dumping an object to a YAML file (using SnakeYaml) e.g. the order the fields appear defined in the custom class?","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>I am using SnakeYaml to both load/dump data in Java. For this I have created a custom class with fields, say that the class looks something like this:</p>\n<pre><code>public class Person {\n        private String name;\n        private String lastName;\n        private String address;\n        \n        public Person() {\n            // Do nothing\n        }\n        \n        // Getters and setters initialized for all the fields\n    }\n</code></pre>\n<p>Now, what I would like is that when I write a Person object to a file with SnakeYaml I would want to have the fields in the order they are defined in the class.</p>\n<p>e.g.</p>\n<pre><code>name: Patrick\nlastName: Star\nAge : 42\n</code></pre>\n<p>The problem is that for more advanced examples, this ordering is <strong>not</strong> achieved. Currently I am writing/dumping to a yaml file like the following:</p>\n<pre><code>Constructor struct = new Constructor(YamlIteratorModel.class);\nYaml yaml = new Yaml(struct);\n\ntry {\n   String path = &quot;Some/File/Path/yamlfile.yaml&quot;;\n   FileWriter writer = new FileWriter(path);\n   yaml.dump(iteratorModel, writer);\n} catch (IOExcepton e) {\n   // Do something\n}\n</code></pre>\n<p>What I have also tried is creating a <strong>Representer</strong> class which extends Representer and calls the Yaml constructor in a similar manner. This one is taken from another post, and it doesn't do the job for me as it only sorts the Properties in an order I am not entirely sure of (can't find the link right now but will update if I find it again)..</p>\n<pre><code>public class ConfigurationModelRepresenter extends Representer {\n\n    /**\n     * Create object without specified dumper object\n     */\n    public ConfigurationModelRepresenter() {\n        super();\n    }\n\n    /**\n     * Create object with dumper options\n     *\n     * @param options\n     */\n    public ConfigurationModelRepresenter(DumperOptions options) {\n        super(options);\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    protected Set&lt;Property&gt; getProperties(Class&lt; ? extends Object&gt; type) {\n        Set&lt;Property&gt; propertySet;\n        if (typeDefinitions.containsKey(type)) {\n            propertySet = typeDefinitions.get(type).getProperties();\n        } else {\n            propertySet = getPropertyUtils().getProperties(type);\n        }\n\n        List&lt;Property&gt; propsList = new ArrayList&lt;&gt;(propertySet);\n        Collections.sort(propsList, new BeanPropertyComparator());\n\n        return new LinkedHashSet&lt;&gt;(propsList);\n    }\n\n    class BeanPropertyComparator implements Comparator&lt;Property&gt; {\n        @Override\n        public int compare(Property p1, Property p2) {\n            // p1.getType().get\n            if (p1.getType().getCanonicalName().contains(&quot;util&quot;) &amp;&amp; !p2.getType().getCanonicalName().contains(&quot;util&quot;)) {\n                return 1;\n            } else if (p2.getName().endsWith(&quot;Name&quot;) || p2.getName().equalsIgnoreCase(&quot;name&quot;)) {\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>SUMMARY</strong>: How do I maintain the ordering when dumping an object to a YAML file (using SnakeYaml) e.g. the order the fields appear defined in the custom class?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1678200287,"post_id":75662210,"comment_id":133484521,"body_markdown":"Please, show your code if it’s possible","body":"Please, show your code if it’s possible"},{"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"score":0,"creation_date":1678210801,"post_id":75662210,"comment_id":133487954,"body_markdown":"@tornadoradon\n i&#39;ve add the rquired code","body":"@tornadoradon  i&#39;ve add the rquired code"}],"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678279497,"creation_date":1678193472,"question_id":75662210,"body_markdown":"Is it possible to have one adapter for 2 recycleviews ? \r\nI&#39;ve tried to do so but after I get out from an activity and return my recycleview is become empty \r\n\r\nThis is my adapter : \r\n\r\n```java\r\npublic class MyRecipeAdapter extends RecyclerView.Adapter&lt;MyRecipeAdapter.RecipeHolder&gt; {\r\n\r\n    ArrayList &lt;Recipe&gt; list_of_recipe;\r\n    Context context;\r\n\r\n    public MyRecipeAdapter (Context context ,   ArrayList &lt;Recipe&gt;list_of_recipe){\r\n        this.context = context ;\r\n        this.list_of_recipe = list_of_recipe ;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyRecipeAdapter.RecipeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_recipe_tap,parent,false);\r\n        //holder will take the info put it in the item layout\r\n        RecipeHolder holder = new RecipeHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @SuppressLint(&quot;RecyclerView&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyRecipeAdapter.RecipeHolder holder, int position) {\r\n        Recipe recipe = list_of_recipe.get(position);\r\n        holder.recipename.setText(recipe.getRecipe_name());\r\n\r\n        Picasso.get().load(recipe.getImage()).into(holder.recipeImage);\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String id = list_of_recipe.get(position).getRecipe_id();\r\n\r\n                Intent intent = new Intent(context,RecipePage.class);\r\n                intent.putExtra(&quot;recipe_id_home&quot;,id);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list_of_recipe.size();\r\n    }\r\n\r\n\r\n\r\n    public class RecipeHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView recipeImage;\r\n        TextView recipename;\r\n        RelativeLayout recipe_parent ;\r\n\r\n        public RecipeHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            recipe_parent = (RelativeLayout) itemView.findViewById(R.id.recipe_parent);\r\n            recipeImage = (ImageView) itemView.findViewById(R.id.image);\r\n            recipename = (TextView) itemView.findViewById(R.id.name);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I user it twice in 2 different fragments each fragment has a recycleview and I want both of them to show same layout inflated in the adapter `R.layout.single_recipe_tap`.\r\n\r\nThis is the first fragment :\r\n```java\r\n    //retriving user recipes\r\n        data_ref_recipe = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;);\r\n        Query query = data_ref_recipe.orderByChild(&quot;uid&quot;).equalTo(current_uid);\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n\r\n                    for (DataSnapshot data : snapshot.getChildren()) {\r\n                        Recipe recipe = data.getValue(Recipe.class);\r\n                        recipe_list.add(recipe);\r\n                    }\r\n                    newAdapter.notifyDataSetChanged();\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\r\n        myrecipe_cycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\r\n        //create the adapter\r\n        newAdapter = new MyRecipeAdapter(this.getContext(), recipe_list);\r\n        myrecipe_cycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\r\n```\r\n\r\nAnd this is the second fragment : \r\n```java\r\n    newAdapter = new MyRecipeAdapter(this.getContext(),recipe_list);\r\n        saved_recycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\r\n\r\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\r\n        saved_recycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\r\n\r\n        user_ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(current_uid).child(&quot;Saved Recipes&quot;);\r\n        user_ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if (snapshot.exists()){\r\n\r\n                    for(DataSnapshot data : snapshot.getChildren()){\r\n\r\n                        //retrive id of recipe\r\n                        String id = data.getValue(String.class);\r\n\r\n                        //retrive recipe obj\r\n                        recipe_ref = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;).child(id);\r\n                        recipe_ref.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                                Recipe recipe = snapshot.getValue(Recipe.class);\r\n                                recipe_list.add(0, recipe); //0 to put data in first not buttom\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                            }\r\n}); } newAdapter.notifyDataSetChanged();}\r\n```","title":"one adapter fot 2 recycleviews","body":"<p>Is it possible to have one adapter for 2 recycleviews ?\nI've tried to do so but after I get out from an activity and return my recycleview is become empty</p>\n<p>This is my adapter :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRecipeAdapter extends RecyclerView.Adapter&lt;MyRecipeAdapter.RecipeHolder&gt; {\n\n    ArrayList &lt;Recipe&gt; list_of_recipe;\n    Context context;\n\n    public MyRecipeAdapter (Context context ,   ArrayList &lt;Recipe&gt;list_of_recipe){\n        this.context = context ;\n        this.list_of_recipe = list_of_recipe ;\n    }\n\n    @NonNull\n    @Override\n    public MyRecipeAdapter.RecipeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_recipe_tap,parent,false);\n        //holder will take the info put it in the item layout\n        RecipeHolder holder = new RecipeHolder(view);\n        return holder;\n    }\n\n    @SuppressLint(&quot;RecyclerView&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull MyRecipeAdapter.RecipeHolder holder, int position) {\n        Recipe recipe = list_of_recipe.get(position);\n        holder.recipename.setText(recipe.getRecipe_name());\n\n        Picasso.get().load(recipe.getImage()).into(holder.recipeImage);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String id = list_of_recipe.get(position).getRecipe_id();\n\n                Intent intent = new Intent(context,RecipePage.class);\n                intent.putExtra(&quot;recipe_id_home&quot;,id);\n                context.startActivity(intent);\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list_of_recipe.size();\n    }\n\n\n\n    public class RecipeHolder extends RecyclerView.ViewHolder {\n\n        ImageView recipeImage;\n        TextView recipename;\n        RelativeLayout recipe_parent ;\n\n        public RecipeHolder(@NonNull View itemView) {\n            super(itemView);\n\n            recipe_parent = (RelativeLayout) itemView.findViewById(R.id.recipe_parent);\n            recipeImage = (ImageView) itemView.findViewById(R.id.image);\n            recipename = (TextView) itemView.findViewById(R.id.name);\n\n        }\n    }\n}\n</code></pre>\n<p>and I user it twice in 2 different fragments each fragment has a recycleview and I want both of them to show same layout inflated in the adapter <code>R.layout.single_recipe_tap</code>.</p>\n<p>This is the first fragment :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //retriving user recipes\n        data_ref_recipe = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;);\n        Query query = data_ref_recipe.orderByChild(&quot;uid&quot;).equalTo(current_uid);\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n\n                    for (DataSnapshot data : snapshot.getChildren()) {\n                        Recipe recipe = data.getValue(Recipe.class);\n                        recipe_list.add(recipe);\n                    }\n                    newAdapter.notifyDataSetChanged();\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\n        myrecipe_cycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\n        //create the adapter\n        newAdapter = new MyRecipeAdapter(this.getContext(), recipe_list);\n        myrecipe_cycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\n</code></pre>\n<p>And this is the second fragment :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    newAdapter = new MyRecipeAdapter(this.getContext(),recipe_list);\n        saved_recycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\n\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\n        saved_recycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\n\n        user_ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(current_uid).child(&quot;Saved Recipes&quot;);\n        user_ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                if (snapshot.exists()){\n\n                    for(DataSnapshot data : snapshot.getChildren()){\n\n                        //retrive id of recipe\n                        String id = data.getValue(String.class);\n\n                        //retrive recipe obj\n                        recipe_ref = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;).child(id);\n                        recipe_ref.addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                                Recipe recipe = snapshot.getValue(Recipe.class);\n                                recipe_list.add(0, recipe); //0 to put data in first not buttom\n\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n\n                            }\n}); } newAdapter.notifyDataSetChanged();}\n</code></pre>\n"},{"tags":["java","keycloak","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":15523182,"reputation":264,"user_id":11198812,"display_name":"Koppa P&#233;ter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678279431,"creation_date":1678279431,"answer_id":75673194,"question_id":75665181,"body_markdown":"I managed to fix the issue by creating an assembly descriptor in `src/assembly/assembly.xml` with the following content:\r\n\r\n```xml\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n    &lt;id&gt;with-dependencies&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n            &lt;unpack&gt;true&lt;/unpack&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;containerDescriptorHandlers&gt;\r\n        &lt;containerDescriptorHandler&gt;\r\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\r\n        &lt;/containerDescriptorHandler&gt;\r\n    &lt;/containerDescriptorHandlers&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nThen added this to my `pom.xml`:\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;descriptors&gt;\r\n        &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\r\n    &lt;/descriptors&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Java gRPC client cannot invoke server","body":"<p>I managed to fix the issue by creating an assembly descriptor in <code>src/assembly/assembly.xml</code> with the following content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n    &lt;id&gt;with-dependencies&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;containerDescriptorHandlers&gt;\n        &lt;containerDescriptorHandler&gt;\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\n        &lt;/containerDescriptorHandler&gt;\n    &lt;/containerDescriptorHandlers&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Then added this to my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;descriptors&gt;\n        &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\n    &lt;/descriptors&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":15523182,"reputation":264,"user_id":11198812,"display_name":"Koppa P&#233;ter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75673194,"answer_count":1,"score":1,"last_activity_date":1678279431,"creation_date":1678209250,"question_id":75665181,"body_markdown":"I am currently trying to implement a custom provider for keycloak. This provider needs to invoke a gRPC service. However I can&#39;t seem to make it work, and I don&#39;t really see why. I tried to invoke the gPRC service with multiple clients and it worked, however when I try to invoke it from my custom REST endpoint it gives me this error:\r\n\r\n```\r\n 2023-03-07 17:06:29,101 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (grpc-default-executor-0) Uncaught server error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n   at io.grpc.Status.asRuntimeException(Status.java:539)\r\n   at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n   at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:576)\r\n   at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:757)\r\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:736)\r\n   at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n   at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n   at java.base/java.lang.Thread.run(Thread.java:833)\r\n Caused by: java.io.FileNotFoundException\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:153)\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollDomainSocketChannel.doConnect(EpollDomainSocketChannel.java:87)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\r\n   at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n   at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\n   at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n   at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n   ... 1 more\r\n```\r\nAs my provider requires external dependencies that are not present in Keycloak&#39;s classpath I am using the maven assembly plugin to create a JAR file that contains all the dependencies. What I found out is maybe it can be causing this error according to this comment:\r\n\r\nhttps://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933\r\n\r\nIn the with-depencies jar file I also have the META-INF/services/io.grpc.NameResolverProvider with the content io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider, and according to the comment this is not good. I tried removing this file from the jar file, but it resulted in failure, as this time it did not find any registered implementations for the io.grpc.NameResolverProvider. I don&#39;t know what I need tho replace this with to make it work, I cannot seem to find any docs on these NameResolverProviders.","title":"Java gRPC client cannot invoke server","body":"<p>I am currently trying to implement a custom provider for keycloak. This provider needs to invoke a gRPC service. However I can't seem to make it work, and I don't really see why. I tried to invoke the gPRC service with multiple clients and it worked, however when I try to invoke it from my custom REST endpoint it gives me this error:</p>\n<pre><code> 2023-03-07 17:06:29,101 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (grpc-default-executor-0) Uncaught server error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n   at io.grpc.Status.asRuntimeException(Status.java:539)\n   at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n   at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:576)\n   at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:757)\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:736)\n   at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n   at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n   at java.base/java.lang.Thread.run(Thread.java:833)\n Caused by: java.io.FileNotFoundException\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:153)\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\n   at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollDomainSocketChannel.doConnect(EpollDomainSocketChannel.java:87)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\n   at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n   at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\n   at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n   at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n   ... 1 more\n</code></pre>\n<p>As my provider requires external dependencies that are not present in Keycloak's classpath I am using the maven assembly plugin to create a JAR file that contains all the dependencies. What I found out is maybe it can be causing this error according to this comment:</p>\n<p><a href=\"https://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933</a></p>\n<p>In the with-depencies jar file I also have the META-INF/services/io.grpc.NameResolverProvider with the content io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider, and according to the comment this is not good. I tried removing this file from the jar file, but it resulted in failure, as this time it did not find any registered implementations for the io.grpc.NameResolverProvider. I don't know what I need tho replace this with to make it work, I cannot seem to find any docs on these NameResolverProviders.</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279271,"creation_date":1678278835,"answer_id":75673084,"question_id":75672719,"body_markdown":"You cannot pass the additional fields to the superclass. Instead your class must manage them itself. Example:\r\n\r\n    public class CustomException extends ProductsException {\r\n\r\n        private final String personId;\r\n        private final String code;\r\n        private final List&lt;String&gt; debugger;\r\n\r\n        public CustomException(String personId, String code, List&lt;String&gt; debugger) {\r\n            super();\r\n            this.personId = personId;\r\n            this.code = code;\r\n            this.debugger = debugger;\r\n        }\r\n\r\n        public CustomException(String personId, String code, List&lt;String&gt; debugger, Exception cause) {\r\n            super(cause);\r\n            this.personId = personId;\r\n            this.code = code;\r\n            this.debugger = debugger;\r\n        }\r\n\r\n        public String getMessage() {\r\n            return &quot;Failed at &quot; + personId + &quot;, &quot; + code + &quot;, &quot; + debugger;\r\n        }\r\n\r\n    }\r\n\r\nChange getMessage() to format the message to your needs. Or add getter functions so some other code part can take over formatting as needed, e.g. it would be different for your customer than for the logfile.\r\n\r\nI cannot tell why you get uncaught exceptions. There may be something missing in your try/catch blocks but you show where you throw, not where you catch.","title":"How to create exception with specific fields?","body":"<p>You cannot pass the additional fields to the superclass. Instead your class must manage them itself. Example:</p>\n<pre><code>public class CustomException extends ProductsException {\n\n    private final String personId;\n    private final String code;\n    private final List&lt;String&gt; debugger;\n\n    public CustomException(String personId, String code, List&lt;String&gt; debugger) {\n        super();\n        this.personId = personId;\n        this.code = code;\n        this.debugger = debugger;\n    }\n\n    public CustomException(String personId, String code, List&lt;String&gt; debugger, Exception cause) {\n        super(cause);\n        this.personId = personId;\n        this.code = code;\n        this.debugger = debugger;\n    }\n\n    public String getMessage() {\n        return &quot;Failed at &quot; + personId + &quot;, &quot; + code + &quot;, &quot; + debugger;\n    }\n\n}\n</code></pre>\n<p>Change getMessage() to format the message to your needs. Or add getter functions so some other code part can take over formatting as needed, e.g. it would be different for your customer than for the logfile.</p>\n<p>I cannot tell why you get uncaught exceptions. There may be something missing in your try/catch blocks but you show where you throw, not where you catch.</p>\n"}],"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678279271,"creation_date":1678276536,"question_id":75672719,"body_markdown":"I have an exception class as : \r\n\r\n```\r\n@NoArgsConstructor\r\npublic class ProductsException extends RuntimeException {\r\n\r\n\tprivate MyError error;\r\n\r\n\tpublic ProductsException(Exception e) {\r\n        super(e);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\npublic class MyError {\r\n    private final String errorCode;\r\n    private final String message;\r\n    private final String moreInfo;\r\n    private final List&lt;Errors&gt; errors;\r\n\r\n\r\n    public MyError(String errorCode, String message, String moreInfo, List&lt;Errors&gt; errors) {\r\n        this.errorCode = errorCode;\r\n        this.message = message;\r\n        this.moreInfo = moreInfo;\r\n        this.errors = errors;\r\n    }\r\n```\r\n\r\nThis exception is being thrown from inside the service class but my client expects exception as :\r\n```\r\n\r\n{\r\n\t&quot;personId&quot; : &quot;1&quot;,\r\n\t&quot;code&quot; : &quot;1&quot;,\r\n\t&quot;debugger&quot; : &quot;[\r\n\t\t//List\r\n\t]&quot;\r\n\t\r\n}\r\n\r\n```\r\n\r\nSo I created a new class as \r\n\r\n```\r\n@Builder\r\npublic class CustomException extends ProductsException {\r\n\r\n    private final String personId;\r\n    private final String code;\r\n    private final List&lt;String&gt; debugger;\r\n\r\n}\r\n```\r\n\r\nAnd in the controller :\r\n\r\n```\r\ncatch(ProductsException e) {\r\n  throw CustomException.builder()\r\n    .code(e.getErrorCode())\r\n    .debugger(List.of(e.getError().getMessage()))\r\n    .build();\r\n}\r\n```\r\n\r\nThis does not seem to work and I am getting uncaught exception.\r\nI am suspecting that I need to pass these fields in the constructor but not sure what needs to be done exactly.\r\n\r\nEven if I do `public class CustomException extends RuntimeException`\r\nhow can I pass all these fields to `super()` ?\r\n\r\nAny help will be highly appreciated.","title":"How to create exception with specific fields?","body":"<p>I have an exception class as :</p>\n<pre><code>@NoArgsConstructor\npublic class ProductsException extends RuntimeException {\n\n    private MyError error;\n\n    public ProductsException(Exception e) {\n        super(e);\n    }\n}\n</code></pre>\n<pre><code>\npublic class MyError {\n    private final String errorCode;\n    private final String message;\n    private final String moreInfo;\n    private final List&lt;Errors&gt; errors;\n\n\n    public MyError(String errorCode, String message, String moreInfo, List&lt;Errors&gt; errors) {\n        this.errorCode = errorCode;\n        this.message = message;\n        this.moreInfo = moreInfo;\n        this.errors = errors;\n    }\n</code></pre>\n<p>This exception is being thrown from inside the service class but my client expects exception as :</p>\n<pre><code>\n{\n    &quot;personId&quot; : &quot;1&quot;,\n    &quot;code&quot; : &quot;1&quot;,\n    &quot;debugger&quot; : &quot;[\n        //List\n    ]&quot;\n    \n}\n\n</code></pre>\n<p>So I created a new class as</p>\n<pre><code>@Builder\npublic class CustomException extends ProductsException {\n\n    private final String personId;\n    private final String code;\n    private final List&lt;String&gt; debugger;\n\n}\n</code></pre>\n<p>And in the controller :</p>\n<pre><code>catch(ProductsException e) {\n  throw CustomException.builder()\n    .code(e.getErrorCode())\n    .debugger(List.of(e.getError().getMessage()))\n    .build();\n}\n</code></pre>\n<p>This does not seem to work and I am getting uncaught exception.\nI am suspecting that I need to pass these fields in the constructor but not sure what needs to be done exactly.</p>\n<p>Even if I do <code>public class CustomException extends RuntimeException</code>\nhow can I pass all these fields to <code>super()</code> ?</p>\n<p>Any help will be highly appreciated.</p>\n"},{"tags":["java","android","dependency-injection","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678265145,"post_id":75670475,"comment_id":133497461,"body_markdown":"Sorry, but this question is way to broad. You&#39;re *basically* asking &quot;how do I implement dagger&quot;. Generally, for a small enough area, you&#39;re probably better of to have one central class that sets up the object structures according to your needs (and possibly external configuration) instead of trying to build a generally useful DI system (of which there already exist plenty, you just chose to not use them). Another option is to just pick an existing (small) one (like Dagger), use that and shade it into your library (i.e. ship renamed classes of it in your library jar, to avoid conflicts).","body":"Sorry, but this question is way to broad. You&#39;re <i>basically</i> asking &quot;how do I implement dagger&quot;. Generally, for a small enough area, you&#39;re probably better of to have one central class that sets up the object structures according to your needs (and possibly external configuration) instead of trying to build a generally useful DI system (of which there already exist plenty, you just chose to not use them). Another option is to just pick an existing (small) one (like Dagger), use that and shade it into your library (i.e. ship renamed classes of it in your library jar, to avoid conflicts)."},{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":0,"creation_date":1678292117,"post_id":75670475,"comment_id":133505279,"body_markdown":"Please read [this](https://blog.ploeh.dk/2014/05/19/di-friendly-library/) and [this](https://blog.ploeh.dk/2014/05/19/di-friendly-framework/).","body":"Please read <a href=\"https://blog.ploeh.dk/2014/05/19/di-friendly-library/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://blog.ploeh.dk/2014/05/19/di-friendly-framework/\" rel=\"nofollow noreferrer\">this</a>."}],"answers":[{"comments":[{"owner":{"account_id":27963071,"reputation":3,"user_id":21354428,"display_name":"SdkDroider177"},"score":0,"creation_date":1678277717,"post_id":75672863,"comment_id":133500622,"body_markdown":"Thanks a ton. Although not complete but got most of the picture of what we need to do here.","body":"Thanks a ton. Although not complete but got most of the picture of what we need to do here."}],"tags":[],"owner":{"account_id":13836056,"reputation":108,"user_id":9987550,"display_name":"Madhur Lalit"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678279180,"creation_date":1678277424,"answer_id":75672863,"question_id":75670475,"body_markdown":"You are going in correct direction when using a hash-map for using it as a registry of classes. Just that instead of instance as values you need to pass consumers which would instantiate when called.\r\n\r\nHere are steps to implement the same :\r\n\r\n**Objective 1st : Storing the classes in registry :**\r\n\r\n**Step 1**: Create a class where you would keep your Hash-map of registries. Let&#39;s name this class as DiConstructor where you would declare the hash-map like one below :\r\n\r\n    private final Map&lt;Class&lt;T&gt;, ClassFactory&gt; holder = new HashMap&lt;&gt;();\r\n\r\nhere ClassFactory being Interface to Factories of new instances of type T\r\n\r\n**Step 2**: Write a function that would create registry for all of your classes.\r\n\r\n    public &lt;T&gt; void registerFactory(Class&lt;T&gt; clazz, ClassFactory&lt;T&gt; factory) {\r\n            holder.put(clazz, factory);\r\n    }\r\n\r\n**Step 3**: Create a declaration class where you would add registries for all of your classes and use this method :\r\n\r\n    registerFactory(MyClassNameToDi.class,\r\n                        new ClassFactory&lt;MyClassNameToDi&gt;() {\r\n                            @NonNull\r\n                            @Override\r\n                            public MyClassNameToDi get(DiConstructor di) {\r\n                                return new MyClassNameToDi();\r\n                            }\r\n                        });\r\n\r\nNote : This code to create and declare registries should be done while initialising your library so that the classes will be resolvable on run time later.\r\n\r\n**Objective 2nd: Retrieving values from registry**\r\n\r\nThere are multiple ways to do so, now that you have the class factory stored as value.\r\n\r\n**Option 1:** When you have DiConstructor reference with you, you can write a getter method which would return the class instance when its reference is passed as argument. It would look something like this :\r\n\r\n    public &lt;T&gt; T get(Class&lt;T&gt; clazz) {\r\n         ClassFactory classFactory = holder.get(clazz);\r\n         Object instance = null;\r\n         if (classFactory != null) {\r\n            instance = classFactory.get(this);\r\n         }\r\n       return clazz.cast(instance);\r\n    }\r\n\r\n**Note**: You will need to try-catch this code as it might throw exception when record is not found in HashMap\r\nNow using this would be pretty much straightforward with DiConstructor instance . Keeping instance name di here.\r\n\r\n        di.get(MyClassNameToDi.class);\r\n\r\n**Option 2:** Using annotations, just like dagger\r\n\r\nExample of usage in source code :\r\n\r\nDeclare the dependency with inject annotation .\r\n\r\n    @Inject\r\n    private YourClassToDi classInstance;\r\n\r\nNow create a class which would receive all fields with inject annotations from this class to resolve the dependencies. Let&#39;s name it as MyAndroidInjector. Inside this class write a function inject which would contain activity context as argument.\r\n\r\nLet&#39;s see what we need to do in this inject method .\r\n\r\nCollect all fields annotated with inject. You will need to use some of the Java reflection concepts here to retrieve the fields here. The code would look something like one below :\r\n\r\n    Set&lt;Field&gt; result = new HashSet&lt;&gt;();\r\n    Class&lt;?&gt; c = classs;\r\n    String canonicalName = c.getCanonicalName();\r\n    while (c != null &amp;&amp; canonicalName != null &amp;&amp; canonicalName.startsWith(&quot;com.yourpackagename&quot;)) {\r\n    for (Field field : c.getDeclaredFields())\r\n    {\r\n     if (field.isAnnotationPresent(Named.class))\r\n        {\r\n         result.add(field);\r\n        }\r\n    }\r\n    c = c.getSuperclass();canonicalName = c.getCanonicalName();\r\n    }\r\n\r\nNow pick every field instance , check its annotation and resolve its dependency using field.set() and do not forget to apply setAccessible as true. Here you would need to get your Di registry class instance in getDiConstructor() method and resolve the dependencies.\r\n\r\n    for (Field field : result){\r\n                String named = null;\r\n                if (field.isAnnotationPresent(Named.class)) {\r\n                    named = field.getAnnotation(Named.class).value();\r\n                }\r\n                field.setAccessible(true);\r\n                field.set(targetObject, getDiConstructor().get(named,\r\n                field.getType()));\r\n        }\r\n\r\nAt last calling this in your onCreate of activity containing the inject annotations would do the job.\r\n\r\n        MyAndroidInjector.inject(this);\r\n\r\n","title":"Creating an indigenous dependency injection framework","body":"<p>You are going in correct direction when using a hash-map for using it as a registry of classes. Just that instead of instance as values you need to pass consumers which would instantiate when called.</p>\n<p>Here are steps to implement the same :</p>\n<p><strong>Objective 1st : Storing the classes in registry :</strong></p>\n<p><strong>Step 1</strong>: Create a class where you would keep your Hash-map of registries. Let's name this class as DiConstructor where you would declare the hash-map like one below :</p>\n<pre><code>private final Map&lt;Class&lt;T&gt;, ClassFactory&gt; holder = new HashMap&lt;&gt;();\n</code></pre>\n<p>here ClassFactory being Interface to Factories of new instances of type T</p>\n<p><strong>Step 2</strong>: Write a function that would create registry for all of your classes.</p>\n<pre><code>public &lt;T&gt; void registerFactory(Class&lt;T&gt; clazz, ClassFactory&lt;T&gt; factory) {\n        holder.put(clazz, factory);\n}\n</code></pre>\n<p><strong>Step 3</strong>: Create a declaration class where you would add registries for all of your classes and use this method :</p>\n<pre><code>registerFactory(MyClassNameToDi.class,\n                    new ClassFactory&lt;MyClassNameToDi&gt;() {\n                        @NonNull\n                        @Override\n                        public MyClassNameToDi get(DiConstructor di) {\n                            return new MyClassNameToDi();\n                        }\n                    });\n</code></pre>\n<p>Note : This code to create and declare registries should be done while initialising your library so that the classes will be resolvable on run time later.</p>\n<p><strong>Objective 2nd: Retrieving values from registry</strong></p>\n<p>There are multiple ways to do so, now that you have the class factory stored as value.</p>\n<p><strong>Option 1:</strong> When you have DiConstructor reference with you, you can write a getter method which would return the class instance when its reference is passed as argument. It would look something like this :</p>\n<pre><code>public &lt;T&gt; T get(Class&lt;T&gt; clazz) {\n     ClassFactory classFactory = holder.get(clazz);\n     Object instance = null;\n     if (classFactory != null) {\n        instance = classFactory.get(this);\n     }\n   return clazz.cast(instance);\n}\n</code></pre>\n<p><strong>Note</strong>: You will need to try-catch this code as it might throw exception when record is not found in HashMap\nNow using this would be pretty much straightforward with DiConstructor instance . Keeping instance name di here.</p>\n<pre><code>    di.get(MyClassNameToDi.class);\n</code></pre>\n<p><strong>Option 2:</strong> Using annotations, just like dagger</p>\n<p>Example of usage in source code :</p>\n<p>Declare the dependency with inject annotation .</p>\n<pre><code>@Inject\nprivate YourClassToDi classInstance;\n</code></pre>\n<p>Now create a class which would receive all fields with inject annotations from this class to resolve the dependencies. Let's name it as MyAndroidInjector. Inside this class write a function inject which would contain activity context as argument.</p>\n<p>Let's see what we need to do in this inject method .</p>\n<p>Collect all fields annotated with inject. You will need to use some of the Java reflection concepts here to retrieve the fields here. The code would look something like one below :</p>\n<pre><code>Set&lt;Field&gt; result = new HashSet&lt;&gt;();\nClass&lt;?&gt; c = classs;\nString canonicalName = c.getCanonicalName();\nwhile (c != null &amp;&amp; canonicalName != null &amp;&amp; canonicalName.startsWith(&quot;com.yourpackagename&quot;)) {\nfor (Field field : c.getDeclaredFields())\n{\n if (field.isAnnotationPresent(Named.class))\n    {\n     result.add(field);\n    }\n}\nc = c.getSuperclass();canonicalName = c.getCanonicalName();\n}\n</code></pre>\n<p>Now pick every field instance , check its annotation and resolve its dependency using field.set() and do not forget to apply setAccessible as true. Here you would need to get your Di registry class instance in getDiConstructor() method and resolve the dependencies.</p>\n<pre><code>for (Field field : result){\n            String named = null;\n            if (field.isAnnotationPresent(Named.class)) {\n                named = field.getAnnotation(Named.class).value();\n            }\n            field.setAccessible(true);\n            field.set(targetObject, getDiConstructor().get(named,\n            field.getType()));\n    }\n</code></pre>\n<p>At last calling this in your onCreate of activity containing the inject annotations would do the job.</p>\n<pre><code>    MyAndroidInjector.inject(this);\n</code></pre>\n"}],"owner":{"account_id":27963071,"reputation":3,"user_id":21354428,"display_name":"SdkDroider177"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678282551,"accepted_answer_id":75672863,"answer_count":1,"score":0,"last_activity_date":1678279180,"creation_date":1678261837,"question_id":75670475,"body_markdown":"I am creating an analytics library. I have dozens of classes in it which i need to use via dependency injection to avoid writing boilerplate code. I would have used dagger but i want to keep the library independent of third party SDKs . Can someone guide me through writing our own indigenous dependency injection framework which would efficiently take care of all of class declarations and instatiations on demand in the code? \r\n\r\nI tried using Hashmap for class registry for storing instances of all of my classes, but that would mean we would declare all of the classes at once where many of them would be left unused in runtime","title":"Creating an indigenous dependency injection framework","body":"<p>I am creating an analytics library. I have dozens of classes in it which i need to use via dependency injection to avoid writing boilerplate code. I would have used dagger but i want to keep the library independent of third party SDKs . Can someone guide me through writing our own indigenous dependency injection framework which would efficiently take care of all of class declarations and instatiations on demand in the code?</p>\n<p>I tried using Hashmap for class registry for storing instances of all of my classes, but that would mean we would declare all of the classes at once where many of them would be left unused in runtime</p>\n"},{"tags":["java","maven","xslt","apache-fop","apache-xml-graphics"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678276387,"post_id":75672181,"comment_id":133500297,"body_markdown":"Are you sure you have the right dependencies loaded? The method exists: https://javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/apache/fop/apps/FopFactory.html#newInstance-java.net.URI-","body":"Are you sure you have the right dependencies loaded? The method exists: <a href=\"https://javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/apache/fop/apps/FopFactory.html#newInstance-java.net.URI-\" rel=\"nofollow noreferrer\">javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/&hellip;</a>"},{"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"score":0,"creation_date":1678276756,"post_id":75672181,"comment_id":133500379,"body_markdown":"this is the dependency I am using   &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;fop&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.8&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"this is the dependency I am using   &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;fop&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.8&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678277862,"post_id":75672181,"comment_id":133500659,"body_markdown":"What is your development environment? Any chance any other components load an older version of FOP?","body":"What is your development environment? Any chance any other components load an older version of FOP?"},{"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"score":0,"creation_date":1678363153,"post_id":75672181,"comment_id":133519699,"body_markdown":"I am not seeing any older version of FOP in .m2 folder. I am using Eclipse.","body":"I am not seeing any older version of FOP in .m2 folder. I am using Eclipse."}],"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678780982,"answer_count":0,"score":1,"last_activity_date":1678279011,"creation_date":1678273394,"question_id":75672181,"body_markdown":"I am getting error while converting xml file into pdf. I am trying to upgrade fop version from 1.0 to 2.8. So in this line of code FopFactory fopFactory = FopFactory.newInstance(); I was initially getting newInstance() method requires argument.\r\n\r\n\r\nAfter exploring some of the documentation and examples I used the below:\r\n\r\nFopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n\r\nI am still getting error java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\r\n\r\nWhat should I do now to resolve this error?\r\ngiven below is the error-\r\n\r\n\r\n    java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\r\n        at com.dunkindonuts.aem.common.nutrition.NutritionPDFGenerator.&lt;init&gt;(NutritionPDFGenerator.java:69)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionPDF(NutritionDataPost.java:410)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionData(NutritionDataPost.java:155)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.initOperation(NutritionDataPost.java:120)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.init(NutritionDataPost.java:89)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.sling.models.impl.ModelAdapterFactory.invokePostConstruct(ModelAdapterFactory.java:972) [org.apache.sling.models.impl:1.4.10]\r\n        at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:772) [org.apache.sling.models.impl:1.4.10]\r\n","title":"FopFactory.newInstance(new File(&quot;.&quot;).toURI()) is throwing NoSuchMethodError error","body":"<p>I am getting error while converting xml file into pdf. I am trying to upgrade fop version from 1.0 to 2.8. So in this line of code FopFactory fopFactory = FopFactory.newInstance(); I was initially getting newInstance() method requires argument.</p>\n<p>After exploring some of the documentation and examples I used the below:</p>\n<p>FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());</p>\n<p>I am still getting error java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;</p>\n<p>What should I do now to resolve this error?\ngiven below is the error-</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\n    at com.dunkindonuts.aem.common.nutrition.NutritionPDFGenerator.&lt;init&gt;(NutritionPDFGenerator.java:69)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionPDF(NutritionDataPost.java:410)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionData(NutritionDataPost.java:155)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.initOperation(NutritionDataPost.java:120)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.init(NutritionDataPost.java:89)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.sling.models.impl.ModelAdapterFactory.invokePostConstruct(ModelAdapterFactory.java:972) [org.apache.sling.models.impl:1.4.10]\n    at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:772) [org.apache.sling.models.impl:1.4.10]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1450477162,"post_id":34364736,"comment_id":56472075,"body_markdown":"Specifying the type for the variable is part of how you declare a variable in Java.  You may want to start with pretty much any introductory Java tutorial, the syntax for declaring a variable will be covered.","body":"Specifying the type for the variable is part of how you declare a variable in Java.  You may want to start with pretty much any introductory Java tutorial, the syntax for declaring a variable will be covered."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1450477190,"post_id":34364736,"comment_id":56472088,"body_markdown":"That&#39;s what Java syntax looks like. You are *declaring* a variable named `hibUtil` of type `HibernateUtil`, and assign to it (using `=`) a new instance object of type `HibernateUtil` that you *instantiate* it (using `new` keyword) by invoking its constructor that takes 2 arguments.","body":"That&#39;s what Java syntax looks like. You are <i>declaring</i> a variable named <code>hibUtil</code> of type <code>HibernateUtil</code>, and assign to it (using <code>=</code>) a new instance object of type <code>HibernateUtil</code> that you <i>instantiate</i> it (using <code>new</code> keyword) by invoking its constructor that takes 2 arguments."}],"answers":[{"comments":[{"owner":{"account_id":5153895,"reputation":6068,"user_id":4127646,"accept_rate":51,"display_name":"Oliver Williams"},"score":1,"creation_date":1450478116,"post_id":34364780,"comment_id":56472404,"body_markdown":"As I now understand this is because Java is a &quot;strongly typed&quot; language vs. PHP which I have started on years ago :)","body":"As I now understand this is because Java is a &quot;strongly typed&quot; language vs. PHP which I have started on years ago :)"}],"tags":[],"owner":{"account_id":720488,"reputation":495,"user_id":3009896,"accept_rate":80,"display_name":"Boardwish"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1480930506,"creation_date":1450477157,"answer_id":34364780,"question_id":34364736,"body_markdown":"This is a variable declaration and initialisation.\r\n\r\nIn java you need to declare the type of a variable.\r\n\r\n    HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\r\n\r\nThe first `HibernateUtil` declares the type of a variable/an object. \r\n\r\nIn your case its a variable of class `HibernateUtil` named `hibUtil`.\r\nAfter the `=` a new object is created and assigned to the previously declared variable.\r\n\r\nDepending on your class structure you can also declare an interface or super class as variable and assign an object of a sub class to it.","title":"Java syntax repeating class name before variable","body":"<p>This is a variable declaration and initialisation.</p>\n\n<p>In java you need to declare the type of a variable.</p>\n\n<pre><code>HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\n</code></pre>\n\n<p>The first <code>HibernateUtil</code> declares the type of a variable/an object. </p>\n\n<p>In your case its a variable of class <code>HibernateUtil</code> named <code>hibUtil</code>.\nAfter the <code>=</code> a new object is created and assigned to the previously declared variable.</p>\n\n<p>Depending on your class structure you can also declare an interface or super class as variable and assign an object of a sub class to it.</p>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450478523,"creation_date":1450478523,"answer_id":34365032,"question_id":34364736,"body_markdown":"As an example of when you might not see the repeated syntax, supposes we have subclasses of HibernateUtil called MyHibernateUtil and YourHibernateUtil. Then you might see an array of HibernateUtil&#39;s containing one of each of the subclasses:\r\n   \r\n    \r\n    HibernateUtil[] h = { new MyHybernateUtil(...), new YourHibernateUtil(...)};\r\n\r\n","title":"Java syntax repeating class name before variable","body":"<p>As an example of when you might not see the repeated syntax, supposes we have subclasses of HibernateUtil called MyHibernateUtil and YourHibernateUtil. Then you might see an array of HibernateUtil's containing one of each of the subclasses:</p>\n\n<pre><code>HibernateUtil[] h = { new MyHybernateUtil(...), new YourHibernateUtil(...)};\n</code></pre>\n"}],"owner":{"account_id":5153895,"reputation":6068,"user_id":4127646,"accept_rate":51,"display_name":"Oliver Williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34364780,"answer_count":2,"score":2,"last_activity_date":1678278763,"creation_date":1450476893,"question_id":34364736,"body_markdown":"This question is actually one of two I have asked regarding Java, and I don&#39;t understand this syntax enough to understand what to ask, but here is something I see in coding:\r\n\r\n    HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\r\n\r\nI know where the class HibernateUtil is located.\r\n\r\nWhat I don&#39;t understand is, why is it also specified before the var `hibUtil` in the expression? What is the different if I do or do not?\r\n","title":"Java syntax repeating class name before variable","body":"<p>This question is actually one of two I have asked regarding Java, and I don't understand this syntax enough to understand what to ask, but here is something I see in coding:</p>\n<pre><code>HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\n</code></pre>\n<p>I know where the class HibernateUtil is located.</p>\n<p>What I don't understand is, why is it also specified before the var <code>hibUtil</code> in the expression? What is the different if I do or do not?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9632,"page":593,"page_size":100}
