{"items":[{"tags":["java","android","i2c"],"owner":{"account_id":23818566,"reputation":77,"user_id":17826480,"display_name":"LimetaPeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681500470,"creation_date":1681500470,"question_id":76018357,"body_markdown":"I have rooted Samsung Galaxy S10+ android phone and I want to write a quick testing app in java to check if a chip I am going to solder (I know where the chip should be and I know what chip it is) on my phone is working properly (if a chip is uvailable on adress 0x20D for instance, then it was soldered properly, otherwise not)\r\n\r\nBut I have no idea where to start\r\n\r\nI read somewhere that you need to write a driver for a device, before you can even see if its working\r\n\r\nSo is there a better way? (I will write a driver, once I know that device is working properly)\r\n\r\nLike a simple library that I can put an i2c adress into and it would return true if device is there, false otherwise?\r\n\r\nThere is also a second problem\r\nIf I want to test the app I would need to see if the app itself is working on a built in i2c device (**i2cdetect -y 1** told me that there is something on 0x50)\r\n\r\nbut all the built in devices already have drivers written so they are holding the address hostge, which means, I cannot get acsess to any build in i2c device just using java even if rooted?\r\n\r\nSo hopefully someone knows what to do\r\n\r\nThanks for Anwsering and Best Regards","title":"Android: acsess to i2c device from java app","body":"<p>I have rooted Samsung Galaxy S10+ android phone and I want to write a quick testing app in java to check if a chip I am going to solder (I know where the chip should be and I know what chip it is) on my phone is working properly (if a chip is uvailable on adress 0x20D for instance, then it was soldered properly, otherwise not)</p>\n<p>But I have no idea where to start</p>\n<p>I read somewhere that you need to write a driver for a device, before you can even see if its working</p>\n<p>So is there a better way? (I will write a driver, once I know that device is working properly)</p>\n<p>Like a simple library that I can put an i2c adress into and it would return true if device is there, false otherwise?</p>\n<p>There is also a second problem\nIf I want to test the app I would need to see if the app itself is working on a built in i2c device (<strong>i2cdetect -y 1</strong> told me that there is something on 0x50)</p>\n<p>but all the built in devices already have drivers written so they are holding the address hostge, which means, I cannot get acsess to any build in i2c device just using java even if rooted?</p>\n<p>So hopefully someone knows what to do</p>\n<p>Thanks for Anwsering and Best Regards</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"score":1,"creation_date":1254829206,"post_id":1525060,"comment_id":1380100,"body_markdown":"Does the IOException contain a message or anything else that might be helpful?","body":"Does the IOException contain a message or anything else that might be helpful?"},{"owner":{"account_id":150227,"reputation":20754,"user_id":363262,"accept_rate":93,"display_name":"Juan Cort&#233;s"},"score":3,"creation_date":1339253322,"post_id":1525060,"comment_id":14311228,"body_markdown":"May be old, but you&#39;d get the same error if you don&#39;t have permissions to write to where you&#39;re wanting to write to. `&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;` fixes it.","body":"May be old, but you&#39;d get the same error if you don&#39;t have permissions to write to where you&#39;re wanting to write to. <code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; &#47;&gt;</code> fixes it."},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1683203171,"post_id":1525060,"comment_id":134332430,"body_markdown":"None of the below answers seem to be helpful. Did you find any solution?","body":"None of the below answers seem to be helpful. Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1254829136,"creation_date":1254829136,"answer_id":1525073,"question_id":1525060,"body_markdown":"Perhaps the directory the file is being created in doesn&#39;t exist?","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>Perhaps the directory the file is being created in doesn't exist?</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1254849840,"creation_date":1254829369,"answer_id":1525085,"question_id":1525060,"body_markdown":"This could be a **threading issue** (checking and creating together are not atomic: `!file.exists() &amp;&amp; !file.createNewFile()`) or the &quot;file&quot; is **already a directory**.\r\n\r\nTry (`file.isFile()`) :\r\n\r\n    if (file.exists() &amp;&amp; !file.isFile()){\r\n       //handle directory is there\r\n    }else if(!file.createNewFile()) {\r\n       //as before\r\n    }\r\n\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>This could be a <strong>threading issue</strong> (checking and creating together are not atomic: <code>!file.exists() &amp;&amp; !file.createNewFile()</code>) or the \"file\" is <strong>already a directory</strong>.</p>\n\n<p>Try (<code>file.isFile()</code>) :</p>\n\n<pre><code>if (file.exists() &amp;&amp; !file.isFile()){\n   //handle directory is there\n}else if(!file.createNewFile()) {\n   //as before\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21671,"reputation":21944,"user_id":52888,"accept_rate":67,"display_name":"Glen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254830066,"creation_date":1254830066,"answer_id":1525132,"question_id":1525060,"body_markdown":"According to the [java docs](http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile(\\) ) `createNewFile` will create a new file atomically for you. \r\n\r\n`Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.`\r\n\r\nGiven that `createNewFile` is atomic and won&#39;t over-write an existing file you can re-write your code as\r\n\r\n    try {\r\n        if(!file.createNewFile()) {\r\n            System.out.println(&quot;File already exists&quot;);\r\n        } \r\n    } catch (IOException ex) {\r\n        System.out.println(ex);\r\n    }\r\n\r\n\r\nThis may make any potential threading issues, race-conditions, etc, easier to spot.","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>According to the [java docs](<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile()\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#createNewFile()</a> ) <code>createNewFile</code> will create a new file atomically for you. </p>\n\n<p><code>Atomically creates a new, empty file named by this abstract pathname if and only if a file with this name does not yet exist.</code></p>\n\n<p>Given that <code>createNewFile</code> is atomic and won't over-write an existing file you can re-write your code as</p>\n\n<pre><code>try {\n    if(!file.createNewFile()) {\n        System.out.println(\"File already exists\");\n    } \n} catch (IOException ex) {\n    System.out.println(ex);\n}\n</code></pre>\n\n<p>This may make any potential threading issues, race-conditions, etc, easier to spot.</p>\n"},{"tags":[],"owner":{"account_id":22241,"reputation":31745,"user_id":1930838,"accept_rate":96,"display_name":"Omry Yadan"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1254830228,"creation_date":1254830228,"answer_id":1525148,"question_id":1525060,"body_markdown":"try to ensure the parent directory exists with:\r\n\r\n    file.getParentFile().mkdirs()","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>try to ensure the parent directory exists with:</p>\n\n<pre><code>file.getParentFile().mkdirs()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"down_vote_count":3,"up_vote_count":11,"is_accepted":true,"score":8,"last_activity_date":1254830518,"creation_date":1254830518,"answer_id":1525170,"question_id":1525060,"body_markdown":"normally this is something you changed recently, first off your sample code is if not file exists and not create new file - you are trying to code away something - what is it?\r\n\r\nThen, look at a directory listing to see if it actually exists and do a println / toString() on the file object and getMessage() on the exception, as well as print stack trace.\r\n\r\nThen, start from zero knowledge again and re factor from the get-go each step you are using to get here. It&#39;s probably a duh you stuck in there somewhere while conceptualizing in code ( because it was working ) - you just retrace each step in detail, you will find it.","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>normally this is something you changed recently, first off your sample code is if not file exists and not create new file - you are trying to code away something - what is it?</p>\n\n<p>Then, look at a directory listing to see if it actually exists and do a println / toString() on the file object and getMessage() on the exception, as well as print stack trace.</p>\n\n<p>Then, start from zero knowledge again and re factor from the get-go each step you are using to get here. It's probably a duh you stuck in there somewhere while conceptualizing in code ( because it was working ) - you just retrace each step in detail, you will find it.</p>\n"},{"tags":[],"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254830644,"creation_date":1254830644,"answer_id":1525183,"question_id":1525060,"body_markdown":"You are certainly getting this Exception\r\n***&#39;The system cannot find the path specified&#39;***\r\n\r\nJust print &#39;file.getAbsoluteFile()&#39; , this will let you know what is the file you wanted to create. \r\n\r\n***This exception will occur if the Directory where you are creating the file doesn&#39;t exist**.*\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>You are certainly getting this Exception\n<strong><em>'The system cannot find the path specified'</em></strong></p>\n\n<p>Just print 'file.getAbsoluteFile()' , this will let you know what is the file you wanted to create. </p>\n\n<p><strong><em>This exception will occur if the Directory where you are creating the file doesn't exist</strong>.</em></p>\n"},{"tags":[],"owner":{"display_name":"user172713"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1681500144,"creation_date":1254855652,"answer_id":1527421,"question_id":1525060,"body_markdown":"I think the exception you get is likely the result from the file check of the atomic method `file.createNewFile()`. The method can&#39;t check if the file does exist because some of the parent directories do not exist or you have no permissions to access them. I would suggest this:\r\n\r\n    if (file.getParentFile() != null &amp;&amp; !file.getParentFile().mkdirs()) {\r\n        // handle permission problems here\r\n    }\r\n    // either no parent directories were there or we have created missing directories\r\n    if (file.createNewFile() || file.isFile()) {\r\n        // ready to write your content\r\n    } else {\r\n        // handle directory here\r\n    }\r\n\r\nIf you take concurrency into account, all these checks are useless because in every case some other thread is able to create, delete or do anything else with your file. In this case you have to use file locks which I would not suggest doing ;)","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>I think the exception you get is likely the result from the file check of the atomic method <code>file.createNewFile()</code>. The method can't check if the file does exist because some of the parent directories do not exist or you have no permissions to access them. I would suggest this:</p>\n<pre><code>if (file.getParentFile() != null &amp;&amp; !file.getParentFile().mkdirs()) {\n    // handle permission problems here\n}\n// either no parent directories were there or we have created missing directories\nif (file.createNewFile() || file.isFile()) {\n    // ready to write your content\n} else {\n    // handle directory here\n}\n</code></pre>\n<p>If you take concurrency into account, all these checks are useless because in every case some other thread is able to create, delete or do anything else with your file. In this case you have to use file locks which I would not suggest doing ;)</p>\n"},{"tags":[],"owner":{"account_id":3593202,"reputation":2629,"user_id":2998689,"display_name":"dianakarenms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475526156,"creation_date":1475526156,"answer_id":39839790,"question_id":1525060,"body_markdown":"In my case was just a lack of permission:\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;`\r\n","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>In my case was just a lack of permission:</p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":16376116,"reputation":578,"user_id":11828164,"display_name":"Ganesan J"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1583494534,"creation_date":1583487576,"answer_id":60561303,"question_id":1525060,"body_markdown":"    //Create New File if not present\r\n    if (!file.exists()) {\r\n        file.getParentFile().mkdirs();\r\n    \r\n        file.createNewFile();\r\n        Log.e(TAG, &quot;File Created&quot;);\r\n    }","title":"File.createNewFile() thowing IOException No such file or directory","body":"<pre><code>//Create New File if not present\nif (!file.exists()) {\n    file.getParentFile().mkdirs();\n\n    file.createNewFile();\n    Log.e(TAG, \"File Created\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634764708,"creation_date":1634764708,"answer_id":69653145,"question_id":1525060,"body_markdown":"Use \r\n\r\n`yourAppsMainActivityContext.getExternalCacheDir()`\r\n\r\ninstead of \r\n\r\n`Environment.getExternalStorageDriectory()` \r\n\r\nto get the file storage path. \r\n\r\nAlternatively, you can also try `getExternalFilesDir(String type), getExternalCacheDir(), getExternalMediaDirs()`. ","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>Use</p>\n<p><code>yourAppsMainActivityContext.getExternalCacheDir()</code></p>\n<p>instead of</p>\n<p><code>Environment.getExternalStorageDriectory()</code></p>\n<p>to get the file storage path.</p>\n<p>Alternatively, you can also try <code>getExternalFilesDir(String type), getExternalCacheDir(), getExternalMediaDirs()</code>.</p>\n"}],"owner":{"account_id":54114,"reputation":2786,"user_id":161865,"accept_rate":72,"display_name":"A Jackson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97994,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":1525170,"answer_count":10,"score":49,"last_activity_date":1681500144,"creation_date":1254828964,"question_id":1525060,"body_markdown":"I have a method that writes to a log file. If the file exists it should append to it, if not then I want it to create a new file.\r\n\r\n    if (!file.exists() &amp;&amp; !file.createNewFile()) {\r\n    \tSystem.err.println(&quot;Error with output file: &quot; + outFile\r\n    \t\t+ &quot;\\nCannot create new file.&quot;);\r\n    \tcontinue;\r\n    }\r\nI have that to check that a file can be created. file is a java.io.File object. createNewFile is throwing an IOException: No such file or directory. This method has been working perfectly since I wrote it a few weeks ago and has only recently starting doing this although I don&#39;t know what I could have changed. I have checked, the directory exists and I have write permissions for it, but then I thought it should just return false if it can&#39;t make the file for any reason.\r\n\r\nIs there anything that I am missing to get this working?","title":"File.createNewFile() thowing IOException No such file or directory","body":"<p>I have a method that writes to a log file. If the file exists it should append to it, if not then I want it to create a new file.</p>\n\n<pre><code>if (!file.exists() &amp;&amp; !file.createNewFile()) {\n    System.err.println(\"Error with output file: \" + outFile\n        + \"\\nCannot create new file.\");\n    continue;\n}\n</code></pre>\n\n<p>I have that to check that a file can be created. file is a java.io.File object. createNewFile is throwing an IOException: No such file or directory. This method has been working perfectly since I wrote it a few weeks ago and has only recently starting doing this although I don't know what I could have changed. I have checked, the directory exists and I have write permissions for it, but then I thought it should just return false if it can't make the file for any reason.</p>\n\n<p>Is there anything that I am missing to get this working?</p>\n"},{"tags":["java","log4j2"],"owner":{"account_id":13486923,"reputation":1,"user_id":9730458,"display_name":"Ayyoub tiyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681499637,"creation_date":1681392003,"question_id":76005938,"body_markdown":"I have a problem with my log4j2.properties file, it works locally but not in remote.\r\n\r\n\r\n```\r\nrootLogger.level=all\r\n\r\nrootLogger.appenderRefs=tlogpsc\r\nrootLogger.appenderRef.tlogpsc.ref=tlogpsc\r\n\r\nloggers=tlogpsc\r\nlogger.tlogpsc.name=tlogpsc\r\nlogger.tlogpsc.level=info\r\nlogger.tlogpsc.additivity = false\r\nlogger.tlogpsc.appenderRef.tlogpsc.ref=tlogpsc\r\n\r\n\r\nappenders=tlogpsc\r\nappender.tlogpsc.type=RollingFile\r\nappender.tlogpsc.name=tlogpsc\r\nappender.tlogpsc.fileName=logs/TLOGPSC/tlogpsc\r\nappender.tlogpsc.filePattern=logs/TLOGPSC/tlogpsc.%d{yyyy-MM-dd}\r\nappender.tlogpsc.layout.type=PatternLayout\r\nappender.tlogpsc.layout.pattern=%m%n\r\nappender.tlogpsc.policies.type=Policies\r\nappender.tlogpsc.policies.time.type=TimeBasedTriggeringPolicy\r\nappender.tlogpsc.policies.time.interval=1\r\nappender.tlogpsc.policies.size.type=SizeBasedTriggeringPolicy\r\nappender.tlogpsc.policies.size.size=1MB\r\n```\r\n\r\n\r\nI want to log in `logs/app/app` in a remote (VM).","title":"Logs are not loading using log4j2.properties file","body":"<p>I have a problem with my log4j2.properties file, it works locally but not in remote.</p>\n<pre><code>rootLogger.level=all\n\nrootLogger.appenderRefs=tlogpsc\nrootLogger.appenderRef.tlogpsc.ref=tlogpsc\n\nloggers=tlogpsc\nlogger.tlogpsc.name=tlogpsc\nlogger.tlogpsc.level=info\nlogger.tlogpsc.additivity = false\nlogger.tlogpsc.appenderRef.tlogpsc.ref=tlogpsc\n\n\nappenders=tlogpsc\nappender.tlogpsc.type=RollingFile\nappender.tlogpsc.name=tlogpsc\nappender.tlogpsc.fileName=logs/TLOGPSC/tlogpsc\nappender.tlogpsc.filePattern=logs/TLOGPSC/tlogpsc.%d{yyyy-MM-dd}\nappender.tlogpsc.layout.type=PatternLayout\nappender.tlogpsc.layout.pattern=%m%n\nappender.tlogpsc.policies.type=Policies\nappender.tlogpsc.policies.time.type=TimeBasedTriggeringPolicy\nappender.tlogpsc.policies.time.interval=1\nappender.tlogpsc.policies.size.type=SizeBasedTriggeringPolicy\nappender.tlogpsc.policies.size.size=1MB\n</code></pre>\n<p>I want to log in <code>logs/app/app</code> in a remote (VM).</p>\n"},{"tags":["java","multithreading","performance","timer","2048"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1625449388,"post_id":68249943,"comment_id":120622285,"body_markdown":"&quot;Would reducing method calls produce a noticeable enough difference&quot; - If they are long/heavy methods then yes. You can test this by finding the time difference between the start and end of a method: https://stackoverflow.com/a/34541535/1270000","body":"&quot;Would reducing method calls produce a noticeable enough difference&quot; - If they are long/heavy methods then yes. You can test this by finding the time difference between the start and end of a method: <a href=\"https://stackoverflow.com/a/34541535/1270000\">stackoverflow.com/a/34541535/1270000</a>"},{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1625449427,"post_id":68249943,"comment_id":120622291,"body_markdown":"I can&#39;t see outside the code you posted but it seems your background thread is spinning uselessly a lot; using `wait` instead of `sleep`, and `notify` when there is an update should reduce a lot of unnecessary work. Better yet, instead of doing low-level synchronisation work yourself, use a [`BlockingQueue`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/BlockingQueue.html), this is exactly the scenario it is designed for. Your background thread should be idle if there are no updates to process.","body":"I can&#39;t see outside the code you posted but it seems your background thread is spinning uselessly a lot; using <code>wait</code> instead of <code>sleep</code>, and <code>notify</code> when there is an update should reduce a lot of unnecessary work. Better yet, instead of doing low-level synchronisation work yourself, use a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a>, this is exactly the scenario it is designed for. Your background thread should be idle if there are no updates to process."},{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":2,"creation_date":1625450088,"post_id":68249943,"comment_id":120622351,"body_markdown":"Also, unless a single call to animation takes 18ms, painting every 2ms is mad. No-one needs more than 50 FPS (20ms per frame).","body":"Also, unless a single call to animation takes 18ms, painting every 2ms is mad. No-one needs more than 50 FPS (20ms per frame)."},{"owner":{"account_id":22063206,"reputation":19,"user_id":16325490,"display_name":"babayaga007"},"score":0,"creation_date":1625552468,"post_id":68249943,"comment_id":120648949,"body_markdown":"@Amadan would I still have to use wait and notify to make the BlockingQueue work? from what I can tell with BlockingQueue I would still have to use a runnable with while true in order to make sure it does not only call once, thanks.","body":"@Amadan would I still have to use wait and notify to make the BlockingQueue work? from what I can tell with BlockingQueue I would still have to use a runnable with while true in order to make sure it does not only call once, thanks."},{"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"score":1,"creation_date":1625558647,"post_id":68249943,"comment_id":120651234,"body_markdown":"`BlockingQueue` does the waiting and notifying for you. Yes, you still need `while`, but `BlockingQueue` will block, and not let your code run while waiting for new data. It&#39;s the difference between &quot;Any news yet? Any news yet? Any news yet? Any news yet? Thanks. Any news yet? Any news yet?...&quot; and &quot;Let me know when we have news. Oh? Thanks. Let me know when we have news again. ...&quot; Both of them are in a loop, but only one of them is annoying.","body":"<code>BlockingQueue</code> does the waiting and notifying for you. Yes, you still need <code>while</code>, but <code>BlockingQueue</code> will block, and not let your code run while waiting for new data. It&#39;s the difference between &quot;Any news yet? Any news yet? Any news yet? Any news yet? Thanks. Any news yet? Any news yet?...&quot; and &quot;Let me know when we have news. Oh? Thanks. Let me know when we have news again. ...&quot; Both of them are in a loop, but only one of them is annoying."}],"owner":{"account_id":22063206,"reputation":19,"user_id":16325490,"display_name":"babayaga007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681498650,"creation_date":1625448594,"question_id":68249943,"body_markdown":"Is there a way to make my 2048 game run faster? \r\n\r\nI made a setting called high speed mode so that if moves were made really fast I would just skip the spawning, combining and moving animations, however even with that I am still usually one or two moves behind when I spam a bunch of keys at once. \r\n\r\nRight now I have a tilePanel class to handle displaying my tiles, and use a timer(very basic code) with paintComponent(drawing the tiles constantly) to make sure it continually updates the board. \r\n```    \r\npublic void doAnimation() {\r\n    \tSystem.nanoTime();\r\n        Timer timer = new Timer(2, this);\r\n        timer.start();\r\n\r\n    }\r\n```\r\nThe way I have structured my game is that I have an ArrayList of commands(ie pressing the right key adds &quot;right&quot; to the arraylist and eventually the arraylist gets to it and executes) I receive to make sure that it always does a move, spawns before doing the next move in the sequence. \r\n\r\nTo make sure the board continually updates itself, i made a very basic run thread:\r\n```\r\npublic void run(){\r\n\r\n\t\t    \twhile(true) {\r\n\t\t    \t\tif(canDoNewMove&amp;&amp;commands.size()&gt;0&amp;&amp;parent.spawnsLeft==0) {\r\n\t\t    \t\t\tmove(commands.get(0));\r\n\t\t    \t\t\tcommands.remove(0);\r\n\t\t    \t\t\tcanDoNewMove=false;\r\n\t\t    \t\t}\r\n\t\t    \t\tif(commands.size()&gt;=2) {\r\n\t\t    \t\t\tboard.isBehind=true;\r\n\t\t    \t\t}\r\n\t\t    \t\telse {\r\n\t\t    \t\t\tboard.isBehind=false;\r\n\t\t    \t\t}\r\n\t\t    \t\tif(totalMovements==0&amp;&amp;moveDone) {\r\n\t\t    \t\t\tmoveDone=false;\r\n\t\t    \t\t\tif(parent.changed) {\r\n\t\t\t    \t\t\tparent.spawn(parent);\r\n\r\n\t\t    \t\t\t}\r\n\t\t    \t\t\tcanDoNewMove=true;\r\n\r\n\t\t    \t\t\t\r\n\t\t    \t\t}\r\n\t\t    \t\t//moveDone=false;\r\n\t\t    \t\ttry {\r\n\t\t\t\t\t\tThread.sleep(0);\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t    \t}\r\n\t\t    }};\r\n\r\n\t\tThread sampleThread = new Thread(backGroundRunnable);\r\n\t\tsampleThread.start();\r\n\t\t\r\n\t}\r\n```\r\n\r\nWould reducing method calls produce a noticeable enough difference that the actions would finish right after I press the keys or is the problem within the tilePanel class that draws the board?\r\n\r\nthanks guys\r\n\r\n","title":"Making 2048 game faster","body":"<p>Is there a way to make my 2048 game run faster?</p>\n<p>I made a setting called high speed mode so that if moves were made really fast I would just skip the spawning, combining and moving animations, however even with that I am still usually one or two moves behind when I spam a bunch of keys at once.</p>\n<p>Right now I have a tilePanel class to handle displaying my tiles, and use a timer(very basic code) with paintComponent(drawing the tiles constantly) to make sure it continually updates the board.</p>\n<pre><code>public void doAnimation() {\n        System.nanoTime();\n        Timer timer = new Timer(2, this);\n        timer.start();\n\n    }\n</code></pre>\n<p>The way I have structured my game is that I have an ArrayList of commands(ie pressing the right key adds &quot;right&quot; to the arraylist and eventually the arraylist gets to it and executes) I receive to make sure that it always does a move, spawns before doing the next move in the sequence.</p>\n<p>To make sure the board continually updates itself, i made a very basic run thread:</p>\n<pre><code>public void run(){\n\n                while(true) {\n                    if(canDoNewMove&amp;&amp;commands.size()&gt;0&amp;&amp;parent.spawnsLeft==0) {\n                        move(commands.get(0));\n                        commands.remove(0);\n                        canDoNewMove=false;\n                    }\n                    if(commands.size()&gt;=2) {\n                        board.isBehind=true;\n                    }\n                    else {\n                        board.isBehind=false;\n                    }\n                    if(totalMovements==0&amp;&amp;moveDone) {\n                        moveDone=false;\n                        if(parent.changed) {\n                            parent.spawn(parent);\n\n                        }\n                        canDoNewMove=true;\n\n                        \n                    }\n                    //moveDone=false;\n                    try {\n                        Thread.sleep(0);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }};\n\n        Thread sampleThread = new Thread(backGroundRunnable);\n        sampleThread.start();\n        \n    }\n</code></pre>\n<p>Would reducing method calls produce a noticeable enough difference that the actions would finish right after I press the keys or is the problem within the tilePanel class that draws the board?</p>\n<p>thanks guys</p>\n"},{"tags":["java","sql","oracle"],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681498522,"creation_date":1681498522,"answer_id":76018157,"question_id":76018119,"body_markdown":"&gt; The problems that I have, is that his query will sometimes give me &#39;duplicates&#39;, based on the NID value, and doing distinct won&#39;t work, and also it&#39;t not accurate.\r\n\r\nYou `GROUP BY NID, TYPE, HID, URL` which will give you values for each combination of `NID` and `TYPE` and `HID` and `URL`.\r\n\r\nIf you want to group all the `NID` values together then only `GROUP BY` that one thing.\r\n\r\n```lang-sql\r\nSELECT NID,\r\n       MIN(START_DATE) AS START_DATE_,\r\n       MAX(END_DATE) AS END_DATE_\r\nFROM   (\r\n  SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE\r\n  FROM   HISTORICAL\r\n  WHERE  READER = :userId AND DISPLAY = 1\r\nUNION\r\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\r\n  FROM   VISUALIZATIONS\r\n  WHERE  READER = :userId AND SHOW = 1\r\nUNION\r\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\r\n  FROM   OTHER\r\n  WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != &#39;OR&#39;\r\n)\r\nGROUP BY NID\r\nORDER BY MAX(END_DATE) DESC\r\nOFFSET :offset ROWS FETCH NEXT :size ROWS ONLY\r\n```\r\n\r\nIf you want to include `HID`, `TYPE` and `URL` then wrap them in aggregation functions.","title":"Combine results of SQL query that comes from a sub-query","body":"<blockquote>\n<p>The problems that I have, is that his query will sometimes give me 'duplicates', based on the NID value, and doing distinct won't work, and also it't not accurate.</p>\n</blockquote>\n<p>You <code>GROUP BY NID, TYPE, HID, URL</code> which will give you values for each combination of <code>NID</code> and <code>TYPE</code> and <code>HID</code> and <code>URL</code>.</p>\n<p>If you want to group all the <code>NID</code> values together then only <code>GROUP BY</code> that one thing.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT NID,\n       MIN(START_DATE) AS START_DATE_,\n       MAX(END_DATE) AS END_DATE_\nFROM   (\n  SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE\n  FROM   HISTORICAL\n  WHERE  READER = :userId AND DISPLAY = 1\nUNION\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\n  FROM   VISUALIZATIONS\n  WHERE  READER = :userId AND SHOW = 1\nUNION\n  SELECT NID, DATE AS START_DATE, DATE AS END_DATE\n  FROM   OTHER\n  WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != 'OR'\n)\nGROUP BY NID\nORDER BY MAX(END_DATE) DESC\nOFFSET :offset ROWS FETCH NEXT :size ROWS ONLY\n</code></pre>\n<p>If you want to include <code>HID</code>, <code>TYPE</code> and <code>URL</code> then wrap them in aggregation functions.</p>\n"}],"owner":{"account_id":3671091,"reputation":3188,"user_id":3058302,"display_name":"Mangu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681498522,"creation_date":1681498084,"question_id":76018119,"body_markdown":"I have the following query for Oracle SQL, that I run with Java in my API:  \r\n```sql\r\n&quot;SELECT NID, MIN(START_DATE) AS START_DATE_, MAX(END_DATE) AS END_DATE_, HID, TYPE, URL FROM (&quot; +\r\n                    &quot;SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE, RID AS HID, &#39;HISTORICAL&#39; AS TYPE,URL &quot; +\r\n                    &quot;FROM HISTORICAL &quot; +\r\n                    &quot;WHERE READER = :userId AND DISPLAY = 1 &quot; +\r\n                    &quot;UNION &quot; +\r\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, &#39;VISUALIZATION&#39; AS TYPE , null &quot; +\r\n                    &quot;FROM VISUALIZATIONS &quot; +\r\n                    &quot;WHERE READER = :userId AND SHOW = 1 &quot; +\r\n                    &quot;UNION &quot; +\r\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, &#39;OTHER&#39; AS TYPE, null &quot; +\r\n                    &quot;FROM OTHER &quot; +\r\n                    &quot;WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != &#39;OR&#39; &quot; +\r\n                    &quot;) GROUP BY NID, TYPE, HID, URL &quot; +\r\n                    &quot;ORDER BY MAX(END_DATE) DESC &quot; +\r\n                    &quot;OFFSET :offset ROWS FETCH NEXT :size ROWS ONLY&quot;;\r\n```\r\n\r\nThe problems that I have, is that his query will sometimes give me &#39;duplicates&#39;, based on the `NID` value, and doing `distinct` won&#39;t work, and also it&#39;t not accurate.\r\n\r\nWhat I want is to combine, in these cases that I have more than one row sharing the same `NID`, the `START_DATE_` values and the `END_DATE_`. More accurately, in the `START_DATE_` value, I want to store the earliest possible value of that column (i.e: between &#39;2021-04-30&#39; and &#39;2021-05-01&#39;, I want the first one), and the opposite for `END_DATE_`.\r\n\r\nActual results: \r\n```sql\r\nNID, START_DATE, END_DATE_, HID\r\n5, 2021-04-30, 2021-05-10, 60\r\n5, 2021-04-23, 2021-05-09, 70\r\n5, 2021-01-01, 2021-02-01, 80\r\n```\r\nWhat I want:\r\n```sql\r\nNID, START_DATE, END_DATE_, HID\r\n5, 2021-01-01, 2021-05-10, idc\r\n```\r\n\r\nI have tried using some `min` and `max` functions, and also a subquery, but I can&#39;t make it work so far.","title":"Combine results of SQL query that comes from a sub-query","body":"<p>I have the following query for Oracle SQL, that I run with Java in my API:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>&quot;SELECT NID, MIN(START_DATE) AS START_DATE_, MAX(END_DATE) AS END_DATE_, HID, TYPE, URL FROM (&quot; +\n                    &quot;SELECT NID, DATESTART AS START_DATE, DATEEND AS END_DATE, RID AS HID, 'HISTORICAL' AS TYPE,URL &quot; +\n                    &quot;FROM HISTORICAL &quot; +\n                    &quot;WHERE READER = :userId AND DISPLAY = 1 &quot; +\n                    &quot;UNION &quot; +\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, 'VISUALIZATION' AS TYPE , null &quot; +\n                    &quot;FROM VISUALIZATIONS &quot; +\n                    &quot;WHERE READER = :userId AND SHOW = 1 &quot; +\n                    &quot;UNION &quot; +\n                    &quot;SELECT NID, DATE AS START_DATE, DATE AS END_DATE, null as HID, 'OTHER' AS TYPE, null &quot; +\n                    &quot;FROM OTHER &quot; +\n                    &quot;WHERE READER = :userId AND SHOW = 1 AND TYPEREMOTE != 'OR' &quot; +\n                    &quot;) GROUP BY NID, TYPE, HID, URL &quot; +\n                    &quot;ORDER BY MAX(END_DATE) DESC &quot; +\n                    &quot;OFFSET :offset ROWS FETCH NEXT :size ROWS ONLY&quot;;\n</code></pre>\n<p>The problems that I have, is that his query will sometimes give me 'duplicates', based on the <code>NID</code> value, and doing <code>distinct</code> won't work, and also it't not accurate.</p>\n<p>What I want is to combine, in these cases that I have more than one row sharing the same <code>NID</code>, the <code>START_DATE_</code> values and the <code>END_DATE_</code>. More accurately, in the <code>START_DATE_</code> value, I want to store the earliest possible value of that column (i.e: between '2021-04-30' and '2021-05-01', I want the first one), and the opposite for <code>END_DATE_</code>.</p>\n<p>Actual results:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>NID, START_DATE, END_DATE_, HID\n5, 2021-04-30, 2021-05-10, 60\n5, 2021-04-23, 2021-05-09, 70\n5, 2021-01-01, 2021-02-01, 80\n</code></pre>\n<p>What I want:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>NID, START_DATE, END_DATE_, HID\n5, 2021-01-01, 2021-05-10, idc\n</code></pre>\n<p>I have tried using some <code>min</code> and <code>max</code> functions, and also a subquery, but I can't make it work so far.</p>\n"},{"tags":["java","maven","gradle","gradle-kotlin-dsl","shadowjar"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1681498574,"post_id":76017737,"comment_id":134071923,"body_markdown":"*but we do not really want to enforcing them to use specific versions that we use* Huh!?!?!  You&#39;re going to let a customer swap out versions of things that your code literally **depends** on?  How do you plan on verifying that your code will work with `foo vX.X.X` when your code uses `foo v12.3.121` and you don&#39;t even know what `X.X.X` is?  If you can isolate the functionality they want into a separate jar, that&#39;s different, but you still have **dependencies**.","body":"<i>but we do not really want to enforcing them to use specific versions that we use</i> Huh!?!?!  You&#39;re going to let a customer swap out versions of things that your code literally <b>depends</b> on?  How do you plan on verifying that your code will work with <code>foo vX.X.X</code> when your code uses <code>foo v12.3.121</code> and you don&#39;t even know what <code>X.X.X</code> is?  If you can isolate the functionality they want into a separate jar, that&#39;s different, but you still have <b>dependencies</b>."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1681504609,"post_id":76017737,"comment_id":134072929,"body_markdown":"Ok you are probably right, this approach is bad, then what is your advice to solve the issue? Shade and relocate all dependency except our api in a fat jar?","body":"Ok you are probably right, this approach is bad, then what is your advice to solve the issue? Shade and relocate all dependency except our api in a fat jar?"}],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681498300,"creation_date":1681494560,"question_id":76017737,"body_markdown":"Our customer want us to provide them a lib from only the data layer of our multimodule spring boot project, that they can use in their whatever (probably spring) project. So they have to use our dependencies, but we do not really want to enforcing them to use specific versions that we use.\r\n\r\nOur aim is to provide **one publishable module** in which:\r\n- our modules are shaded (`very-neat-bigdata`, `very-neat-util`, `very-neat-other`)\r\n- libs not shaded but added to published pom\r\n- don&#39;t want to exclude libs one by one\r\n\r\nOur project looks like this:\r\n\r\n```\r\nvery-neat-project\r\n  very-neat-web\r\n    -&gt; spring-web 1.5.4\r\n  very-neat-bigdata            &lt;- this\r\n    -&gt; spring-context 1.5.4\r\n    -&gt; hbase\r\n    -&gt; very-neat-util\r\n      -&gt; guava 26\r\n    -&gt; very-neat-other\r\n      -&gt; common.util 1.5.6\r\n    -&gt; ...ton of other dependency...\r\n```   \r\nSo our approach would be to create a shaded lib that customer can include to their project like this:\r\n```\r\ncustomer-project\r\n  customer-web\r\n    -&gt; spring-web 1.6.8\r\n    -&gt; spring-context 1.6.8\r\n    -&gt; very-neat-bigdata-shaded &lt;- this\r\n    -&gt; guava 28\r\n    -&gt; hbase\r\n    -&gt; common.util 1.5.4\r\n    -&gt; ..ton of other dependency..\r\n```\r\n\r\nHow to solve this using gradle? Or if is this a bad approach what would be the best practice for this problem?","title":"How to create a publishable shaded jar from specific dependencies only and leave transitive the rest?","body":"<p>Our customer want us to provide them a lib from only the data layer of our multimodule spring boot project, that they can use in their whatever (probably spring) project. So they have to use our dependencies, but we do not really want to enforcing them to use specific versions that we use.</p>\n<p>Our aim is to provide <strong>one publishable module</strong> in which:</p>\n<ul>\n<li>our modules are shaded (<code>very-neat-bigdata</code>, <code>very-neat-util</code>, <code>very-neat-other</code>)</li>\n<li>libs not shaded but added to published pom</li>\n<li>don't want to exclude libs one by one</li>\n</ul>\n<p>Our project looks like this:</p>\n<pre><code>very-neat-project\n  very-neat-web\n    -&gt; spring-web 1.5.4\n  very-neat-bigdata            &lt;- this\n    -&gt; spring-context 1.5.4\n    -&gt; hbase\n    -&gt; very-neat-util\n      -&gt; guava 26\n    -&gt; very-neat-other\n      -&gt; common.util 1.5.6\n    -&gt; ...ton of other dependency...\n</code></pre>\n<p>So our approach would be to create a shaded lib that customer can include to their project like this:</p>\n<pre><code>customer-project\n  customer-web\n    -&gt; spring-web 1.6.8\n    -&gt; spring-context 1.6.8\n    -&gt; very-neat-bigdata-shaded &lt;- this\n    -&gt; guava 28\n    -&gt; hbase\n    -&gt; common.util 1.5.4\n    -&gt; ..ton of other dependency..\n</code></pre>\n<p>How to solve this using gradle? Or if is this a bad approach what would be the best practice for this problem?</p>\n"},{"tags":["java","spring","validation","interface","annotations"],"comments":[{"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1654079739,"post_id":72460003,"comment_id":128005056,"body_markdown":"See https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values","body":"See <a href=\"https://stackoverflow.com/questions/19419234/how-to-validate-spring-mvc-pathvariable-values\" title=\"how to validate spring mvc pathvariable values\">stackoverflow.com/questions/19419234/&hellip;</a>"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1654081410,"post_id":72460003,"comment_id":128005677,"body_markdown":"This code is working fine. See if you are missing anything in project. Try first with standard validation like `@Length(min=2)` etc","body":"This code is working fine. See if you are missing anything in project. Try first with standard validation like <code>@Length(min=2)</code> etc"}],"answers":[{"tags":[],"owner":{"account_id":27984462,"reputation":11,"user_id":21371618,"display_name":"Martin Lang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681496987,"creation_date":1681496987,"answer_id":76018001,"question_id":72460003,"body_markdown":"Just a wild guess, since you asked specifically for `@PathVariable` validation and I just stumbled upon this myself:\r\n\r\nIf you are in a real life project, you might also have an authorization check that prevents the validation. The typical order the validation and pre-authorize checks in spring are done are the following and maybe not intuitive:\r\n\r\n1) Validation of `@RequestBody` parameter\r\n2) Performing `@PreAuthorize` check\r\n3) Validation of `@PathVariable` parameter\r\n\r\nSo it happened to me that I thought the path variable validation was not working in contrast to the request body validation - but it was simply covered by the authorization check ;-)\r\n","title":"Custom validation for @PathVariable","body":"<p>Just a wild guess, since you asked specifically for <code>@PathVariable</code> validation and I just stumbled upon this myself:</p>\n<p>If you are in a real life project, you might also have an authorization check that prevents the validation. The typical order the validation and pre-authorize checks in spring are done are the following and maybe not intuitive:</p>\n<ol>\n<li>Validation of <code>@RequestBody</code> parameter</li>\n<li>Performing <code>@PreAuthorize</code> check</li>\n<li>Validation of <code>@PathVariable</code> parameter</li>\n</ol>\n<p>So it happened to me that I thought the path variable validation was not working in contrast to the request body validation - but it was simply covered by the authorization check ;-)</p>\n"}],"owner":{"account_id":21474568,"reputation":43,"user_id":15823062,"display_name":"Федор Николаев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681496987,"creation_date":1654077992,"question_id":72460003,"body_markdown":"There is a controller accepting code as a path variable\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/currency&quot;)\r\n@Validated\r\npublic class CurrencyController {\r\n\r\n    @GetMapping(&quot;/gif/{code}&quot;)\r\n    public ResponseEntity&lt;Map&gt; getChangeGif(@PathVariable @Code String code){\r\n        // some implementation\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI want to use my own annotation to validate code as I want \r\n```\r\n@Target( { FIELD, PARAMETER })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy =  CodeValidator.class)\r\npublic @interface Code {\r\n\r\n    public String message() default &quot;error message&quot;;\r\n\r\n    public Class&lt;?&gt;[] groups() default {};\r\n\r\n    public Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nAnd here is the validator\r\n```\r\npublic class CodeValidator implements ConstraintValidator&lt;Code, String&gt; {\r\n    @Override\r\n    public void initialize(Code constraintAnnotation) {\r\n        ConstraintValidator.super.initialize(constraintAnnotation);\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String code, ConstraintValidatorContext context) {\r\n        // validator implementation\r\n        return false;\r\n    }\r\n}\r\n```\r\nFor some reason when requests come, validation just skipps, and controller continue working without it\r\n","title":"Custom validation for @PathVariable","body":"<p>There is a controller accepting code as a path variable</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/currency&quot;)\n@Validated\npublic class CurrencyController {\n\n    @GetMapping(&quot;/gif/{code}&quot;)\n    public ResponseEntity&lt;Map&gt; getChangeGif(@PathVariable @Code String code){\n        // some implementation\n        return null;\n    }\n}\n</code></pre>\n<p>I want to use my own annotation to validate code as I want</p>\n<pre><code>@Target( { FIELD, PARAMETER })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy =  CodeValidator.class)\npublic @interface Code {\n\n    public String message() default &quot;error message&quot;;\n\n    public Class&lt;?&gt;[] groups() default {};\n\n    public Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>And here is the validator</p>\n<pre><code>public class CodeValidator implements ConstraintValidator&lt;Code, String&gt; {\n    @Override\n    public void initialize(Code constraintAnnotation) {\n        ConstraintValidator.super.initialize(constraintAnnotation);\n    }\n\n    @Override\n    public boolean isValid(String code, ConstraintValidatorContext context) {\n        // validator implementation\n        return false;\n    }\n}\n</code></pre>\n<p>For some reason when requests come, validation just skipps, and controller continue working without it</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1681487010,"post_id":76016668,"comment_id":134069495,"body_markdown":"Make a [mcve] please!","body":"Make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please!"},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681487066,"post_id":76016668,"comment_id":134069510,"body_markdown":"Where is `contador1` defined? Given that it isn&#39;t defined here, other code can interact with it, which is an easy explanation. If no other code interacts with it, why don&#39;t you define it within `run()` / at least within `Hilo3` as private field?","body":"Where is <code>contador1</code> defined? Given that it isn&#39;t defined here, other code can interact with it, which is an easy explanation. If no other code interacts with it, why don&#39;t you define it within <code>run()</code> / at least within <code>Hilo3</code> as private field?"},{"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"score":0,"creation_date":1681488139,"post_id":76016668,"comment_id":134069753,"body_markdown":"@rzwitserloot contador1 is defined as 0: contador1=0;  The problem is that when the program enters the if clause and activoHilo3 is set to false, the thread is executed one more time after that. And I don&#180;t know why that happens because activoHilo3 is false now and it shouldn&#180;t be executed","body":"@rzwitserloot contador1 is defined as 0: contador1=0;  The problem is that when the program enters the if clause and activoHilo3 is set to false, the thread is executed one more time after that. And I don&#180;t know why that happens because activoHilo3 is false now and it shouldn&#180;t be executed"}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681488629,"creation_date":1681488629,"answer_id":76017045,"question_id":76016668,"body_markdown":"Your code calls runOnUiThread, and just after this, it test the flag activoHilo3 in the loop. \r\n\r\nBut when it does this test on activoHilo3, the code inside runOnUiThread may not have been run yet.\r\n\r\nAlso: You have multiple threads accessing activoHilo3 at the same time, which is not really supported, and require some kind of locking(Or at least volatile).\r\n\r\n","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>Your code calls runOnUiThread, and just after this, it test the flag activoHilo3 in the loop.</p>\n<p>But when it does this test on activoHilo3, the code inside runOnUiThread may not have been run yet.</p>\n<p>Also: You have multiple threads accessing activoHilo3 at the same time, which is not really supported, and require some kind of locking(Or at least volatile).</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681496939,"creation_date":1681488722,"answer_id":76017059,"question_id":76016668,"body_markdown":"It runs seven times because the moment you set `activoHilo3` to false is to late to stop the seventh pass through the loop.\r\n\r\nLets start the description at the moment where the loop is running the sixth time: `Thread.sleep(5000)` finishes and `contador1` is 5.\r\n\r\nThe next action in your thread is to call `runOnUiThread(...)`. This call schedules the `Runnable` to run some time later and returns immediately. After that the code in your thread checks the condition of the `while` loop and finds `activoHilo3` to be still `true`, so it starts a seventh time into the while loop.\r\n\r\nThen, some time later, the code in the `Runnable` is executed on the UI thread. This code triggers the display of the toast, checks the value of `contador1` and sets `activoHilo3` to `false`. But at this moment your thread is already in the seventh loop, executing the `Thread.sleep(5000)`.\r\n\r\n---\r\nTo fix the problem I would move the loop condition out of the `Runnable` into the `while` loop:\r\n\r\n    class Hilo3 extends Thread {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n\r\nOr, since extending `Thread` is rarely the right choice:\r\n\r\n    class Hilo3 implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n\r\nOr, when using Java Language Level 8\r\n\r\n    class Hilo3 implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(() -&gt; \r\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show()\r\n                    );\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (contador1 == 5) {\r\n                    activoHilo3 = false;\r\n                }\r\n                contador1++;\r\n            }\r\n        }\r\n    }\r\n","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>It runs seven times because the moment you set <code>activoHilo3</code> to false is to late to stop the seventh pass through the loop.</p>\n<p>Lets start the description at the moment where the loop is running the sixth time: <code>Thread.sleep(5000)</code> finishes and <code>contador1</code> is 5.</p>\n<p>The next action in your thread is to call <code>runOnUiThread(...)</code>. This call schedules the <code>Runnable</code> to run some time later and returns immediately. After that the code in your thread checks the condition of the <code>while</code> loop and finds <code>activoHilo3</code> to be still <code>true</code>, so it starts a seventh time into the while loop.</p>\n<p>Then, some time later, the code in the <code>Runnable</code> is executed on the UI thread. This code triggers the display of the toast, checks the value of <code>contador1</code> and sets <code>activoHilo3</code> to <code>false</code>. But at this moment your thread is already in the seventh loop, executing the <code>Thread.sleep(5000)</code>.</p>\n<hr />\n<p>To fix the problem I would move the loop condition out of the <code>Runnable</code> into the <code>while</code> loop:</p>\n<pre><code>class Hilo3 extends Thread {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n<p>Or, since extending <code>Thread</code> is rarely the right choice:</p>\n<pre><code>class Hilo3 implements Runnable {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n<p>Or, when using Java Language Level 8</p>\n<pre><code>class Hilo3 implements Runnable {\n    @Override\n    public void run() {\n        while (activoHilo3) {\n            try {\n                Thread.sleep(5000);\n                runOnUiThread(() -&gt; \n                    Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show()\n                );\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if (contador1 == 5) {\n                activoHilo3 = false;\n            }\n            contador1++;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1681595427,"accepted_answer_id":76017059,"answer_count":2,"score":-3,"last_activity_date":1681496939,"creation_date":1681485866,"question_id":76016668,"body_markdown":"I&#180;m doing a project and I have to use threads. I have done this thread &quot;Hilo1&quot; and I want it to do something a specific number of times. \r\n```\r\nclass Hilo3 extends Thread {\r\n        @Override\r\n        public void run() {\r\n            while (activoHilo3) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                if(contador1==5){\r\n                                    \r\n                                        activoHilo3=false;\r\n                                    \r\n                            }\r\n                            contador1++;\r\n                        }\r\n\r\n\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }  \r\n```\r\nI want it to show the messaje &quot;hilo3&quot; everytime it is executed, but I have tried it and it does it seven times and not six like I want. \r\nIf I run the app, the message will be displayed seven times and not six and I don&#180;t know why. Because when contador reaches 5, the thread variable &quot;activoHilo3&quot; is set to false so it shouldn&#180;t be executed anymore, but however it is executed one more time.\r\nAny idea why this happens?\r\nThank you.","title":"Why does my thread execute seven times and not six like I think it should do?","body":"<p>I´m doing a project and I have to use threads. I have done this thread &quot;Hilo1&quot; and I want it to do something a specific number of times.</p>\n<pre><code>class Hilo3 extends Thread {\n        @Override\n        public void run() {\n            while (activoHilo3) {\n                try {\n                    Thread.sleep(5000);\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(Prueba.this, &quot;Hilo3&quot;, Toast.LENGTH_SHORT).show();\n\n                                if(contador1==5){\n                                    \n                                        activoHilo3=false;\n                                    \n                            }\n                            contador1++;\n                        }\n\n\n                    });\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }  \n</code></pre>\n<p>I want it to show the messaje &quot;hilo3&quot; everytime it is executed, but I have tried it and it does it seven times and not six like I want.\nIf I run the app, the message will be displayed seven times and not six and I don´t know why. Because when contador reaches 5, the thread variable &quot;activoHilo3&quot; is set to false so it shouldn´t be executed anymore, but however it is executed one more time.\nAny idea why this happens?\nThank you.</p>\n"},{"tags":["java","scala","databricks","drools","azure-databricks"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681496154,"creation_date":1681496154,"answer_id":76017907,"question_id":76016920,"body_markdown":"I&#39;d recommend using Drools 8 without the reflective dependencies, using the static version of the engine (without reflection).\r\n\r\nAlso, to codegenerate the executable model of the rules at compile time, not at runtime.\r\n\r\nIf you can provide a reproducer of the above, feel free to share for additional support on the [drools-usage][1] mailing list.\r\n\r\n\r\n  [1]: https://groups.google.com/g/drools-usage","title":"Running drools in Databricks","body":"<p>I'd recommend using Drools 8 without the reflective dependencies, using the static version of the engine (without reflection).</p>\n<p>Also, to codegenerate the executable model of the rules at compile time, not at runtime.</p>\n<p>If you can provide a reproducer of the above, feel free to share for additional support on the <a href=\"https://groups.google.com/g/drools-usage\" rel=\"nofollow noreferrer\">drools-usage</a> mailing list.</p>\n"}],"owner":{"account_id":28306158,"reputation":13,"user_id":21644142,"display_name":"ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681496154,"creation_date":1681487684,"question_id":76016920,"body_markdown":"I am trying to implement a PoC to run Drools on Azure Databricks using Scala language. I assume  there is no equivalent python client for Drools. I am aware of other BRE python-based frameworks available which I already tested. \r\n\r\nWhen trying to run a sample code in Scala notebook I keep getting the exception below. \r\n\r\nI have imported all necessary Drools libraries. \r\n\r\nDrools lib version: 7.1.17.0-Final\r\n\r\nDatabricks: 11.3 LTS (includes Apache Spark 3.3.0, Scala 2.12)\r\n\r\nCan somebody advise what I am doing wrong ?\r\n\r\nHas anybody come across working example ? \r\n\r\nI would appreciate any support.\r\n\r\n```\r\nNoClassDefFoundError: Could not initialize class org.kie.internal.io.ResourceFactory$LazyHolder\r\n```\r\n\r\n```\r\nimport collection.JavaConverters._\r\nimport org.slf4j.ILoggerFactory\r\nimport org.kie.internal.io.ResourceFactory\r\nimport org.drools.core.impl.KnowledgeBaseFactory\r\nimport org.kie.api.io.ResourceType\r\nimport org.kie.api.runtime.KieSession\r\nimport org.kie.api.runtime.rule.RuleContext\r\nimport org.kie.internal.builder.KnowledgeBuilderFactory\r\nimport org.kie.api.internal.utils.ServiceRegistry\r\n\r\nclass SampleService {\r\n\t\r\n  val resource= ResourceFactory.newClassPathResource(&quot;sample.drl&quot;)\r\n  val kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder()\r\n  kbuilder.add(resource,ResourceType.DRL)\r\n\r\n  val kbase = KnowledgeBaseFactory.newKnowledgeBase()\r\n  kbase.addPackages(kbuilder.getKnowledgePackages())\r\n\r\n def runAllRulesFor(): String = {\r\n    val session = kbase.newKieSession()\r\n    null  \r\n  }\r\n\r\n}\r\n\r\ndef result = new DroolsRuleService().runAllRulesForUDF;\r\nprintln(result)\r\n\r\n```\r\n\r\n\r\n","title":"Running drools in Databricks","body":"<p>I am trying to implement a PoC to run Drools on Azure Databricks using Scala language. I assume  there is no equivalent python client for Drools. I am aware of other BRE python-based frameworks available which I already tested.</p>\n<p>When trying to run a sample code in Scala notebook I keep getting the exception below.</p>\n<p>I have imported all necessary Drools libraries.</p>\n<p>Drools lib version: 7.1.17.0-Final</p>\n<p>Databricks: 11.3 LTS (includes Apache Spark 3.3.0, Scala 2.12)</p>\n<p>Can somebody advise what I am doing wrong ?</p>\n<p>Has anybody come across working example ?</p>\n<p>I would appreciate any support.</p>\n<pre><code>NoClassDefFoundError: Could not initialize class org.kie.internal.io.ResourceFactory$LazyHolder\n</code></pre>\n<pre><code>import collection.JavaConverters._\nimport org.slf4j.ILoggerFactory\nimport org.kie.internal.io.ResourceFactory\nimport org.drools.core.impl.KnowledgeBaseFactory\nimport org.kie.api.io.ResourceType\nimport org.kie.api.runtime.KieSession\nimport org.kie.api.runtime.rule.RuleContext\nimport org.kie.internal.builder.KnowledgeBuilderFactory\nimport org.kie.api.internal.utils.ServiceRegistry\n\nclass SampleService {\n    \n  val resource= ResourceFactory.newClassPathResource(&quot;sample.drl&quot;)\n  val kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder()\n  kbuilder.add(resource,ResourceType.DRL)\n\n  val kbase = KnowledgeBaseFactory.newKnowledgeBase()\n  kbase.addPackages(kbuilder.getKnowledgePackages())\n\n def runAllRulesFor(): String = {\n    val session = kbase.newKieSession()\n    null  \n  }\n\n}\n\ndef result = new DroolsRuleService().runAllRulesForUDF;\nprintln(result)\n\n</code></pre>\n"},{"tags":["java","recursion","brute-force"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1681491660,"post_id":76017397,"comment_id":134070626,"body_markdown":"You could always increase the size of the stack.","body":"You could always increase the size of the stack."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681492650,"post_id":76017397,"comment_id":134070829,"body_markdown":"Can you, please, provide a link to the `ZipFile` API you are using? I don&#39;t see methods `setPassword (String)` and `extractAll (String)` in [Oracle&#39;s `ZipFile` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html) .","body":"Can you, please, provide a link to the <code>ZipFile</code> API you are using? I don&#39;t see methods <code>setPassword (String)</code> and <code>extractAll (String)</code> in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/ZipFile.html\" rel=\"nofollow noreferrer\">Oracle&#39;s <code>ZipFile</code> API</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681492962,"post_id":76017397,"comment_id":134070907,"body_markdown":"Why do you open the Zip file at each recursive call? Why not open it once, and pass it as an argument? Or, have the file an instance variable, and open it in the constructor. (Note the 2nd option will require `brute` to be an instance method.)","body":"Why do you open the Zip file at each recursive call? Why not open it once, and pass it as an argument? Or, have the file an instance variable, and open it in the constructor. (Note the 2nd option will require <code>brute</code> to be an instance method.)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681493273,"post_id":76017397,"comment_id":134070977,"body_markdown":"The second comment in the example code references &quot;the above alphabet string&quot;, but the referenced string is not present. The example code refers to the variable `alphabet` several times, but the example code includes neither a declaration nor initialization for that variable.","body":"The second comment in the example code references &quot;the above alphabet string&quot;, but the referenced string is not present. The example code refers to the variable <code>alphabet</code> several times, but the example code includes neither a declaration nor initialization for that variable."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1681493281,"post_id":76017397,"comment_id":134070978,"body_markdown":"More importantly, why is this recursive? This is not a problem that needs recursion for its solution.","body":"More importantly, why is this recursive? This is not a problem that needs recursion for its solution."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1681493390,"post_id":76017397,"comment_id":134071004,"body_markdown":"You are getting StackOverflow because in the average case you will consume `len(alphabet)^3/2` stack frames.  The recursive approach is a non-starter.","body":"You are getting StackOverflow because in the average case you will consume <code>len(alphabet)^3&#47;2</code> stack frames.  The recursive approach is a non-starter."},{"owner":{"account_id":21137137,"reputation":1,"user_id":15540382,"display_name":"cyrus60"},"score":0,"creation_date":1681494192,"post_id":76017397,"comment_id":134071146,"body_markdown":"In the project outline there&#39;s a footnote that says &quot;Note that trying to figure out all possible three character strings over an alphabet is a great place to use recursion!&quot;, which is why I took the recursive approach. Reading that again though, and along with your comments I see I may have misinterpreted this a bit. Thanks for the help!","body":"In the project outline there&#39;s a footnote that says &quot;Note that trying to figure out all possible three character strings over an alphabet is a great place to use recursion!&quot;, which is why I took the recursive approach. Reading that again though, and along with your comments I see I may have misinterpreted this a bit. Thanks for the help!"},{"owner":{"account_id":2796564,"reputation":301,"user_id":2405699,"accept_rate":33,"display_name":"alex"},"score":0,"creation_date":1681497274,"post_id":76017397,"comment_id":134071697,"body_markdown":"All recursions can be replaced with a cycle.","body":"All recursions can be replaced with a cycle."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1681518394,"post_id":76017397,"comment_id":134074584,"body_markdown":"@cyrus60 _&quot;...is a great place to use recursion&quot;_ - Whoever wrote that does not understand where recursion is useful.","body":"@cyrus60 <i>&quot;...is a great place to use recursion&quot;</i> - Whoever wrote that does not understand where recursion is useful."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681563088,"post_id":76017397,"comment_id":134078544,"body_markdown":"If you know the password will always be 3 characters, you could simply have 3 nested `for` loops.","body":"If you know the password will always be 3 characters, you could simply have 3 nested <code>for</code> loops."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681495466,"creation_date":1681495466,"answer_id":76017838,"question_id":76017397,"body_markdown":"Recursion is fine but your algorithm is broken. It needs a depth-first search, ie a level of recursion per letter, ie 3.\r\n\r\nThe problem is that all the logical branches in brute() besides when the unzip works, simply call brute().\r\n\r\nYou need to add a condition for the end of the alphabet to return without calling brute().","title":"Any way to prevent this brute force method from throwing StackOverflowError?","body":"<p>Recursion is fine but your algorithm is broken. It needs a depth-first search, ie a level of recursion per letter, ie 3.</p>\n<p>The problem is that all the logical branches in brute() besides when the unzip works, simply call brute().</p>\n<p>You need to add a condition for the end of the alphabet to return without calling brute().</p>\n"}],"owner":{"account_id":21137137,"reputation":1,"user_id":15540382,"display_name":"cyrus60"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681495466,"creation_date":1681491562,"question_id":76017397,"body_markdown":"    // this is the recursive method used to crack the 3 digit password\r\n    // takes three integer arguments each representing the index of a letter in the above alphabet string\r\n    public static String brute(int a, int b, int c) {\r\n        // boolean signifying whether or not the password was correct\r\n        boolean isCorrect = false;\r\n    \r\n        // string variable representing the password as a concatenation of characters from the alphabet string\r\n        String string = &quot;&quot; + alphabet.charAt(a) + alphabet.charAt(b) + alphabet.charAt(c);\r\n        System.out.println(string);\r\n    \r\n        try {\r\n            ZipFile zip = new ZipFile(&quot;protected3.zip&quot;);\r\n            zip.setPassword(string);\r\n            zip.extractAll(&quot;contents&quot;);\r\n            System.out.println(&quot;Successfully cracked!&quot;);\r\n            isCorrect = true;\r\n        } catch (ZipException ze) {\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }  \r\n        \r\n        // base case\r\n        if (isCorrect) {\r\n            return string;\r\n        }\r\n        // recursive steps\r\n        else {\r\n            if (alphabet.length() - 1 &lt;= c) {\r\n                return brute(a, b + 1, 0);\r\n            }\r\n            else if (alphabet.length() - 1 &lt;= b) {\r\n                return brute(a + 1, 0, c);\r\n            }\r\n            else {\r\n                return brute(a, b, c + 1);\r\n            }\r\n        }\r\n    }\r\n\r\nHere I have a method that is meant to brute force a 3 digit lowercase password on a zip file recursively. It works correctly, but once the password attempts get to around &quot;fff&quot; the program throws a StackOverflowError. I know that intense recursion is taxing on the stack, but is there any way around this problem with recursion or will I have to re-implement this as a not-so elegant loop? Thanks for any help. ","title":"Any way to prevent this brute force method from throwing StackOverflowError?","body":"<pre><code>// this is the recursive method used to crack the 3 digit password\n// takes three integer arguments each representing the index of a letter in the above alphabet string\npublic static String brute(int a, int b, int c) {\n    // boolean signifying whether or not the password was correct\n    boolean isCorrect = false;\n\n    // string variable representing the password as a concatenation of characters from the alphabet string\n    String string = &quot;&quot; + alphabet.charAt(a) + alphabet.charAt(b) + alphabet.charAt(c);\n    System.out.println(string);\n\n    try {\n        ZipFile zip = new ZipFile(&quot;protected3.zip&quot;);\n        zip.setPassword(string);\n        zip.extractAll(&quot;contents&quot;);\n        System.out.println(&quot;Successfully cracked!&quot;);\n        isCorrect = true;\n    } catch (ZipException ze) {\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }  \n    \n    // base case\n    if (isCorrect) {\n        return string;\n    }\n    // recursive steps\n    else {\n        if (alphabet.length() - 1 &lt;= c) {\n            return brute(a, b + 1, 0);\n        }\n        else if (alphabet.length() - 1 &lt;= b) {\n            return brute(a + 1, 0, c);\n        }\n        else {\n            return brute(a, b, c + 1);\n        }\n    }\n}\n</code></pre>\n<p>Here I have a method that is meant to brute force a 3 digit lowercase password on a zip file recursively. It works correctly, but once the password attempts get to around &quot;fff&quot; the program throws a StackOverflowError. I know that intense recursion is taxing on the stack, but is there any way around this problem with recursion or will I have to re-implement this as a not-so elegant loop? Thanks for any help.</p>\n"},{"tags":["java","jpa","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681495290,"creation_date":1681495290,"answer_id":76017819,"question_id":76017197,"body_markdown":"model.get(&quot;employer&quot;) forces an inner join, which filters out nulls. You will need something more along the lines of a left outer join from model-&gt;Employer that you can reuse for the null and employeeBenifits value checks akin to JPQL query `select p from Person p left join p.employer e where ( e is null OR e.employeeBenefits = &quot;No benefits&quot;)`. \r\n\r\nYou can do this in criteria queries using something more like:\r\n\r\n    Join&lt;Person, Company&gt; employer = model.join(&quot;employer&quot;, JoinType.LEFT);\r\n    criteriaBuilder.or(\r\n      criteriaBuilder.isNull(employer),\r\n      criteriaBuilder.equal(employer.get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\r\n    );","title":"Java JPA Criteria Builder: Check nested, nullable value","body":"<p>model.get(&quot;employer&quot;) forces an inner join, which filters out nulls. You will need something more along the lines of a left outer join from model-&gt;Employer that you can reuse for the null and employeeBenifits value checks akin to JPQL query <code>select p from Person p left join p.employer e where ( e is null OR e.employeeBenefits = &quot;No benefits&quot;)</code>.</p>\n<p>You can do this in criteria queries using something more like:</p>\n<pre><code>Join&lt;Person, Company&gt; employer = model.join(&quot;employer&quot;, JoinType.LEFT);\ncriteriaBuilder.or(\n  criteriaBuilder.isNull(employer),\n  criteriaBuilder.equal(employer.get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":4436420,"reputation":1824,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76017819,"answer_count":1,"score":0,"last_activity_date":1681495290,"creation_date":1681489928,"question_id":76017197,"body_markdown":"I have an entity that refers to another entity:\r\n```\r\nclass Person {\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;company_id&quot;)\r\n  Company employer;\r\n}\r\n\r\nclass Company {\r\n  String employeeBenefits;\r\n}\r\n```\r\nIn the example, `employeeBenefits` can have all kinds of values including `&quot;No benefits&quot;`.\r\n\r\nImportantly, a person&#39;s `employer` can be `null`.\r\nI want to use the Criteria Builder to construct a Specification that checks if a person **has no employer OR has an employer with &quot;No benefits&quot;**.\r\n\r\nMy approach was:\r\n```\r\ncriteriaBuilder.or(\r\n  criteriaBuilder.isNull(model.get(&quot;employer&quot;)),\r\n  criteriaBuilder.equal(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\r\n);\r\n```\r\nThis does not work; persons with a `null` employer are not found. I think the reason is that during evaluation of the second expression, the `.get(&quot;employeeBenefits&quot;)` throws a NullPointerException, which silently leads to the person being excluded from the result set.\r\n\r\nI have also tried the inverse `criteriaBuilder.notEqual(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;).not()` but that does not work either.\r\n\r\nHow can I solve this?","title":"Java JPA Criteria Builder: Check nested, nullable value","body":"<p>I have an entity that refers to another entity:</p>\n<pre><code>class Person {\n  @ManyToOne\n  @JoinColumn(name = &quot;company_id&quot;)\n  Company employer;\n}\n\nclass Company {\n  String employeeBenefits;\n}\n</code></pre>\n<p>In the example, <code>employeeBenefits</code> can have all kinds of values including <code>&quot;No benefits&quot;</code>.</p>\n<p>Importantly, a person's <code>employer</code> can be <code>null</code>.\nI want to use the Criteria Builder to construct a Specification that checks if a person <strong>has no employer OR has an employer with &quot;No benefits&quot;</strong>.</p>\n<p>My approach was:</p>\n<pre><code>criteriaBuilder.or(\n  criteriaBuilder.isNull(model.get(&quot;employer&quot;)),\n  criteriaBuilder.equal(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;)\n);\n</code></pre>\n<p>This does not work; persons with a <code>null</code> employer are not found. I think the reason is that during evaluation of the second expression, the <code>.get(&quot;employeeBenefits&quot;)</code> throws a NullPointerException, which silently leads to the person being excluded from the result set.</p>\n<p>I have also tried the inverse <code>criteriaBuilder.notEqual(model.get(&quot;employer&quot;).get(&quot;employeeBenefits&quot;), &quot;No benefits&quot;).not()</code> but that does not work either.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1442387613,"post_id":32598678,"comment_id":53056103,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there any messages about this.","body":"Look in the .log file in the workspace .metadata directory to see if there any messages about this."},{"owner":{"account_id":3777931,"reputation":1,"user_id":3138193,"display_name":"user3138193"},"score":0,"creation_date":1442452396,"post_id":32598678,"comment_id":53092464,"body_markdown":"There isn&#39;t a .log file.","body":"There isn&#39;t a .log file."}],"answers":[{"tags":[],"owner":{"account_id":28307164,"reputation":1,"user_id":21644995,"display_name":"l0ngh0rn_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681494662,"creation_date":1681494662,"answer_id":76017752,"question_id":32598678,"body_markdown":"This can be the result of an issue with the resolution of your display. If you expand the import window - or, presumably, if you change the screen resolution - the options will appear.","title":"No import options in Eclipse","body":"<p>This can be the result of an issue with the resolution of your display. If you expand the import window - or, presumably, if you change the screen resolution - the options will appear.</p>\n"}],"owner":{"account_id":3777931,"reputation":1,"user_id":3138193,"display_name":"user3138193"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681494662,"creation_date":1442369908,"question_id":32598678,"body_markdown":"I am trying to import a gradle project into eclipse. However, when I do `File -&gt; Import`, it gives no options.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nHow can I fix this? Thanks.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hH665.png","title":"No import options in Eclipse","body":"<p>I am trying to import a gradle project into eclipse. However, when I do <code>File -&gt; Import</code>, it gives no options.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hH665.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hH665.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I fix this? Thanks.</p>\n"},{"tags":["python","java","html","flask","pycharm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681496449,"post_id":76017665,"comment_id":134071562,"body_markdown":"*The crash happened outside the Java Virtual Machine in native code.\nSee problematic frame for where to report the bug.* is telling you what the problem is. Try tweaking the JRE version up, and if not, incrementally down","body":"<i>The crash happened outside the Java Virtual Machine in native code. See problematic frame for where to report the bug.</i> is telling you what the problem is. Try tweaking the JRE version up, and if not, incrementally down"},{"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"score":0,"creation_date":1681499419,"post_id":76017665,"comment_id":134072052,"body_markdown":"I&#39;m afraid I&#39;m new to coding (I&#39;ve been coding for about a year). What do you mean by &quot;Tweaking the JRE version up&quot;?  What do I need to do?","body":"I&#39;m afraid I&#39;m new to coding (I&#39;ve been coding for about a year). What do you mean by &quot;Tweaking the JRE version up&quot;?  What do I need to do?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681499916,"post_id":76017665,"comment_id":134072143,"body_markdown":"Try to download one with a higher version number","body":"Try to download one with a higher version number"},{"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"score":0,"creation_date":1681504166,"post_id":76017665,"comment_id":134072860,"body_markdown":"Thanks, looks like I didn&#39;t have java installed.","body":"Thanks, looks like I didn&#39;t have java installed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681507125,"post_id":76017665,"comment_id":134073338,"body_markdown":"You did ;) It tells you so","body":"You did ;) It tells you so"}],"owner":{"account_id":27242424,"reputation":39,"user_id":20768374,"display_name":"PolymathCarlos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681493798,"creation_date":1681493798,"question_id":76017665,"body_markdown":"\r\n\r\nHello everyone and thank you for reading. \r\nI have the following error while running my program and can&#39;t figure out what the solution would be. I also looked at all the topics with a similar error here, but could not resolve my issue. Here the error:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\n# Problematic frame:\r\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\n```\r\n\r\nMy program is a 100 days of code, Python Pro Bootcamp project where I&#39;m working on creating a simple drop down menu where I rate the quality of a coffee shop and add it to a database of coffee shops to work from. My project has been crashing regularly. I&#39;m not sure how to fix this.\r\n\r\nHere is the code, that I&#39;m executing in Pycharm:\r\n\r\n\r\nHere the logfile of the error:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\r\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\r\n# Problematic frame:\r\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\n#\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://youtrack.jetbrains.com/issues/JBR\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -XX:ErrorFile=/Users/carlosperalta/java_error_in_pycharm_%p.log -XX:HeapDumpPath=/Users/carlosperalta/java_error_in_pycharm.hprof -Xms128m -Xmx750m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -XX:+IgnoreUnrecognizedVMOptions -XX:CompileCommand=exclude,com/intellij/openapi/vfs/impl/FilePartNodeRoot,trieDescend -ea -Dsun.io.useCanonCaches=false -Dsun.java2d.metal=true -Djbr.catch.SIGABRT=true -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Xmx1024m -Djb.vmOptionsFile=/Users/carlosperalta/Library/Application Support/JetBrains/PyCharmCE2023.1/pycharm.vmoptions --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.ref=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/jdk.internal.vm=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.fs=ALL-UNNAMED --add-opens=java.base/sun.security.ssl=ALL-UNNAMED --add-opens=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt.event=ALL-UNNAMED --add-opens=java.desktop/com.apple.laf=ALL-UNNAMED --add-opens=java.desktop/java.awt=ALL-UNNAMED --add-opens=java.desktop/java.awt.dnd.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.event=ALL-UNNAMED --add-opens=java.desktop/java.awt.image=ALL-UNNAMED --add-opens=java.desktop/java.awt.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.desktop/javax.swing=ALL-UNNAMED --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED --add-opens=java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens=java.desktop/sun.awt.datatransfer=ALL-UNNAMED --add-opens=java.desktop/sun.awt.image=ALL-UNNAMED --add-opens=java.desktop/sun.awt=ALL-UNNAMED --add-opens=java.desktop/sun.font=ALL-UNNAMED --add-opens=java.desktop/sun.java2d=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt.macosx=ALL-UNNAMED --add-opens=java.desktop/sun.swing=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED --add-opens=jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -Djna.boot.library.path=/Applications/PyCharm CE.app/Contents/lib/jna/aarch64 -Dpty4j.preferred.native.folder=/Applications/PyCharm CE.app/Contents/lib/pty4j -Dsplash=true -Didea.home.path=/Applications/PyCharm CE.app/Contents -Didea.executable=pycharm -Djava.system.class.loader=com.intellij.util.lang.PathClassLoader -Djna.noclasspath=true -Djna.nosys=true -Didea.platform.prefix=PyCharmCore -Didea.paths.selector=PyCharmCE2023.1 -Didea.vendor.name=JetBrains \r\n\r\nHost: &quot;Mac14,7&quot; arm64, 8 cores, 8G, Darwin 22.1.0, macOS 13.0 (22A380)\r\nTime: Fri Apr 14 13:19:53 2023 EDT elapsed time: 165.014992 seconds (0d 0h 2m 45s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000000011983ae00):  JavaThread &quot;AWT-AppKit&quot; daemon [_thread_in_native, id=259, stack(0x000000016cfb8000,0x000000016d7b4000)]\r\n\r\nStack: [0x000000016cfb8000,0x000000016d7b4000],  sp=0x000000016d7ab290,  free space=8140k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\r\nC  [HIToolbox+0x1d62e4]  SelectItemAndRestoreAllMenuBits(MenuSelectData&amp;, SelectionData*, MenuResult*, MenuResult*)+0x48c\r\nC  [HIToolbox+0x873bc]  SimulateSelection(unsigned char, unsigned char, OpaqueMenuRef**, unsigned short*, unsigned int*)+0x5fc\r\nC  [HIToolbox+0x1d2374]  SimulateMenuSelectionWithOptions(MenuData*, OpaqueMenuRef*, unsigned short, unsigned int, unsigned char)+0xd0\r\nC  [Shortcut+0xc698]  -[SCTMenuItemGRL perform]+0x130\r\nC  [Shortcut+0xc204]  -[SCTSearchManager doPerformResource:]+0x24\r\nC  [Foundation+0x7a090]  __NSFireDelayedPerform+0x174\r\nC  [CoreFoundation+0x9b578]  __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__+0x20\r\nC  [CoreFoundation+0x9b220]  __CFRunLoopDoTimer+0x3ac\r\nC  [CoreFoundation+0x9ad78]  __CFRunLoopDoTimers+0x164\r\nC  [CoreFoundation+0x80760]  __CFRunLoopRun+0x768\r\nC  [CoreFoundation+0x7f8a4]  CFRunLoopRunSpecific+0x264\r\nC  [HIToolbox+0x323bc]  RunCurrentEventLoopInMode+0x124\r\nC  [HIToolbox+0x3204c]  ReceiveNextEventCommon+0xec\r\nC  [HIToolbox+0x31f48]  _BlockUntilNextEventMatchingListInModeWithFilter+0x48\r\nC  [AppKit+0x39630]  _DPSNextEvent+0x278\r\nC  [AppKit+0x387c0]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x2d8\r\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\r\nC  [libawt_lwawt.dylib+0x86f60]  Java_sun_lwawt_macosx_LWCToolkit_doAWTRunLoopImpl+0x1e8\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\r\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\r\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\r\nv  ~StubRoutines::call_stub\r\nV  [libjvm.dylib+0x4583b0]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x38c\r\nV  [libjvm.dylib+0x4b1634]  jni_invoke_nonstatic(JNIEnv_*, JavaValue*, _jobject*, JNICallType, _jmethodID*, JNI_ArgumentPusher*, JavaThread*)+0x31c\r\nV  [libjvm.dylib+0x4b5c8c]  jni_CallVoidMethod+0x138\r\nC  [libmacscreenmenu64.dylib+0x6f28]  -[Menu menuDidClose:]+0x138\r\nC  [AppKit+0x335908]  -[NSCarbonMenuImpl _carbonCloseEvent:handlerCallRef:]+0x58\r\nC  [AppKit+0x296dec]  NSSLMMenuEventHandler+0x390\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x9e550]  SendMenuClosed(MenuData*, unsigned int, unsigned char)+0xd4\r\nC  [HIToolbox+0x9e304]  HideMenus(MenuSelectData*, __CFArray*)+0x80\r\nC  [HIToolbox+0x6f304]  CancelMenuTracking+0xd8\r\nC  [Shortcut+0xc02c]  -[SCTSearchManager hideSearchWindow]+0x28\r\nC  [Shortcut+0x9e50]  -[SCTSearchManager control:textView:doCommandBySelector:]+0x274\r\nC  [AppKit+0x29a708]  -[NSTextView doCommandBySelector:]+0x8c\r\nC  [AppKit+0x29a63c]  -[NSTextInputContext(NSInputContext_WithCompletion) doCommandBySelector:completionHandler:]+0xe4\r\nC  [AppKit+0x1e83dc]  -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:]+0x608\r\nC  [AppKit+0x1efd14]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_5+0x168\r\nC  [AppKit+0x940c8c]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.657+0x64\r\nC  [AppKit+0x1efb68]  -[NSTextInputContext tryHandleEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\r\nC  [AppKit+0x940bec]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke.654+0x13c\r\nC  [HIToolbox+0x6c58c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_5+0x60\r\nC  [HIToolbox+0x7ceb8]  invocation function for block in DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x94\r\nC  [AppKit+0x93be88]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke.180+0x244\r\nC  [AppKit+0x1ea294]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke_2+0x64\r\nC  [AppKit+0x1ea1e0]  -[NSTextInputContext tryHandleTSMEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\r\nC  [AppKit+0x1e9754]  -[NSTextInputContext handleTSMEvent:completionHandler:]+0x7ec\r\nC  [AppKit+0x1e8efc]  _NSTSMEventHandler+0x14c\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x68a28]  SendTSMEvent_WithCompletionHandler+0x1b0\r\nC  [HIToolbox+0x68f78]  __SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler_block_invoke+0x1c8\r\nC  [HIToolbox+0x68d84]  __SendFilterTextEvent_WithCompletionHandler_block_invoke+0xe4\r\nC  [HIToolbox+0x68a80]  SendTSMEvent_WithCompletionHandler+0x208\r\nC  [HIToolbox+0x68830]  SendFilterTextEvent_WithCompletionHandler+0x104\r\nC  [HIToolbox+0x68458]  SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler+0x128\r\nC  [HIToolbox+0x681e4]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke_2+0x140\r\nC  [HIToolbox+0x67f68]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke+0x11c\r\nC  [HIToolbox+0x67dec]  TSMKeyEvent_WithCompletionHandler+0x270\r\nC  [HIToolbox+0x67b6c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_4+0x140\r\nC  [HIToolbox+0x6797c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_3+0x15c\r\nC  [HIToolbox+0x6765c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_2+0x138\r\nC  [HIToolbox+0x67368]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke+0x138\r\nC  [HIToolbox+0x54ea0]  TSMProcessRawKeyEventWithOptionsAndCompletionHandler+0x900\r\nC  [AppKit+0x940aa0]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.650+0x94\r\nC  [AppKit+0x94077c]  __204-[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]_block_invoke.632+0xc0\r\nC  [AppKit+0x1e7c80]  -[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]+0x150\r\nC  [AppKit+0x1e7694]  -[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]+0x588\r\nC  [AppKit+0x1e70cc]  -[NSTextInputContext _handleEvent:allowingSyntheticEvent:]+0x84\r\nC  [AppKit+0x1e6f24]  -[NSView interpretKeyEvents:]+0x9c\r\nC  [AppKit+0x1e6d78]  -[NSTextView keyDown:]+0x20c\r\nC  [AppKit+0x16755c]  -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:]+0x142c\r\nC  [AppKit+0x165f5c]  -[NSWindow(NSEventRouting) sendEvent:]+0x11c\r\nC  [AppKit+0x5b0594]  -[NSMenuWindowManagerWindow _handleKeyEvent:]+0xac\r\nC  [AppKit+0x88c440]  NSMenuWindowManagerMenuItemCarbonEventHandler+0x134\r\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\r\nC  [HIToolbox+0x4a0c8]  ToolboxEventDispatcherHandler(OpaqueEventHandlerCallRef*, OpaqueEventRef*, void*)+0x4b8\r\nC  [HIToolbox+0xadec]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x8ec\r\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\r\nC  [HIToolbox+0x1ffd4]  SendEventToEventTarget+0x28\r\nC  [HIToolbox+0x9a2c0]  IsUserStillTracking(MenuSelectData*, unsigned char*)+0x16b4\r\nC  [HIToolbox+0x1d6e5c]  TrackMenuCommon(MenuSelectData&amp;, unsigned char*, SelectionData*, MenuResult*, MenuResult*)+0x574\r\nC  [HIToolbox+0xa458c]  MenuSelectCore(MenuData*, Point, double, unsigned int, OpaqueMenuRef**, unsigned short*)+0x15c\r\nC  [HIToolbox+0xa4380]  _HandleMenuSelection2+0x1a0\r\nC  [AppKit+0x18c0f4]  _NSHandleCarbonMenuEvent+0x100\r\nC  [AppKit+0x18bf18]  _DPSEventHandledByCarbon+0x3c\r\nC  [AppKit+0x38db8]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x8d0\r\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\r\nC  [AppKit+0x2cbf0]  -[NSApplication run]+0x1d0\r\nC  [libosxapp.dylib+0x3440]  +[NSApplicationAWT runAWTLoopWithApp:]+0xd0\r\n...&lt;more frames&gt;...\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\r\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\r\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\r\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\r\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: 0x0000000000000000\r\n\r\nRegister to memory mapping:\r\n\r\n x0=0x0 is NULL\r\n x1=0x0 is NULL\r\n x2=0x0 is NULL\r\n x3=0x0000600003942c40 points into unknown readable memory: 0x0000e0244a9f2c40 | 40 2c 9f 4a 24 e0 00 00\r\n x4=0x0000000000000004 is an unknown value\r\n x5=0x0000000000000960 is an unknown value\r\n x6=0x000060000054bda0 points into unknown readable memory: 0x0000e024495fbda0 | a0 bd 5f 49 24 e0 00 00\r\n x7=0x000000016d7ab27c is pointing into the stack for thread: 0x000000011983ae00\r\n x8=0x9e51358191f80004 is an unknown value\r\n x9=0x9e51358191f80004 is an unknown value\r\nx10=0x0000000000000dc0 is an unknown value\r\nx11=0x00000000000007fb is an unknown value\r\nx12=0x00000000faa43036 is an unknown value\r\nx13=0x00000000000007fd is an unknown value\r\nx14=0x00000000fac43838 is an unknown value\r\nx15=0x00000000faa43036 is an unknown value\r\nx16=0x0000000000000038 is an unknown value\r\nx17=0x000000007ac00000 is an unknown value\r\nx18=0x0 is NULL\r\nx19=0x0 is NULL\r\nx20=0x0 is NULL\r\nx21=0x0 is NULL\r\nx22=0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\r\nx23=0x0 is NULL\r\nx24=0x0000000000000001 is an unknown value\r\nx25=0x0000000000000001 is an unknown value\r\nx26=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\r\nx27=0x0000000000010001 is an unknown value\r\nx28=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\r\n\r\n\r\nRegisters:\r\n x0=0x0000000000000000  x1=0x0000000000000000  x2=0x0000000000000000  x3=0x0000600003942c40\r\n x4=0x0000000000000004  x5=0x0000000000000960  x6=0x000060000054bda0  x7=0x000000016d7ab27c\r\n x8=0x9e51358191f80004  x9=0x9e51358191f80004 x10=0x0000000000000dc0 x11=0x00000000000007fb\r\nx12=0x00000000faa43036 x13=0x00000000000007fd x14=0x00000000fac43838 x15=0x00000000faa43036\r\nx16=0x0000000000000038 x17=0x000000007ac00000 x18=0x0000000000000000 x19=0x0000000000000000\r\nx20=0x0000000000000000 x21=0x0000000000000000 x22=0x000000016d7ab2e8 x23=0x0000000000000000\r\nx24=0x0000000000000001 x25=0x0000000000000001 x26=0x0000000379b12fc0 x27=0x0000000000010001\r\nx28=0x0000000379b12fc0  fp=0x000000016d7ab2c0  lr=0x3d570001a96832e4  sp=0x000000016d7ab290\r\npc=0x00000001a9683664 cpsr=0x0000000060001000\r\nTop of Stack: (sp=0x000000016d7ab290)\r\n0x000000016d7ab290:   000000016d7ab2c0 1e620001a94f9e40\r\n0x000000016d7ab2a0:   000000016d7ab2e8 0000000000000000\r\n0x000000016d7ab2b0:   000000016d7b1f58 0000000000000000\r\n0x000000016d7ab2c0:   000000016d7ab350 3d570001a96832e4\r\n0x000000016d7ab2d0:   0000000379b12fc0 0000000000000000\r\n0x000000016d7ab2e0:   0000000000000000 0000600001194dc0\r\n0x000000016d7ab2f0:   0000000000000000 0000000379b12fc0\r\n0x000000016d7ab300:   0000000379b12fc0 0000000000010001\r\n0x000000016d7ab310:   0000000379b12fc0 0000000000000001\r\n0x000000016d7ab320:   0000000000000001 0000000379b12fc0\r\n0x000000016d7ab330:   000000011863f7c0 0000000000000022\r\n0x000000016d7ab340:   00000001f90cb000 0000000000000022\r\n0x000000016d7ab350:   000000016d7ab460 934e0001a95343bc\r\n0x000000016d7ab360:   0000000000000000 0000000000000000\r\n0x000000016d7ab370:   0000600000127840 0000000118745b00\r\n0x000000016d7ab380:   000000000000000b 000000006d61676e\r\n0x000000016d7ab390:   0000000000000000 0000000000000000\r\n0x000000016d7ab3a0:   0000000000000000 0000000000000000\r\n0x000000016d7ab3b0:   000000006d7ab410 000000011863f7c0\r\n0x000000016d7ab3c0:   0000000379b12fc0 0001000100000000\r\n0x000000016d7ab3d0:   0000000000000000 0000000000000000\r\n0x000000016d7ab3e0:   0000000000000000 0000000379b12fc0\r\n0x000000016d7ab3f0:   0000000300220000 0000000000000022\r\n0x000000016d7ab400:   0000000000000022 000000011863f7c0\r\n0x000000016d7ab410:   00000001fc425218 ffffffffffffffff\r\n0x000000016d7ab420:   0000600000127840 00000001fc2ffc30\r\n0x000000016d7ab430:   00000001fc2ffc30 00000001f90cb000\r\n0x000000016d7ab440:   000000011863f7c0 0000000379b12fc0\r\n0x000000016d7ab450:   0000000000000022 0000000000000000\r\n0x000000016d7ab460:   000000016d7ab4a0 d6348001a967f374\r\n0x000000016d7ab470:   00000001fc2ffc30 0000000000000040\r\n0x000000016d7ab480:   0000600000453600 000060000051d300 \r\n\r\nInstructions: (pc=0x00000001a9683664)\r\n0x00000001a9683564:   d503237f a9bd57f6 a9014ff4 a9027bfd\r\n0x00000001a9683574:   910083fd aa0103f3 aa0103e0 9403e43e\r\n0x00000001a9683584:   f100041f 5400014b aa0003f4 d2800015\r\n0x00000001a9683594:   aa1303e0 aa1503e1 9403e447 97f9be2e\r\n0x00000001a96835a4:   910006b5 eb15029f 54ffff41 aa1303e0\r\n0x00000001a96835b4:   a9427bfd a9414ff4 a8c357f6 d50323ff\r\n0x00000001a96835c4:   ca1e07d0 b6f00050 d4388e20 1403e6ee\r\n0x00000001a96835d4:   d503237f a9be4ff4 a9017bfd 910043fd\r\n0x00000001a96835e4:   d027d248 39645109 f027d234 37000249\r\n0x00000001a96835f4:   52800029 39245109 b027d228 f947fd00\r\n0x00000001a9683604:   94057447 aa0003f3 f029ec62 9108c042\r\n0x00000001a9683614:   94056d3b b4000100 f029ec62 9108c042\r\n0x00000001a9683624:   aa1303e0 9405698e f100041f 54000048\r\n0x00000001a9683634:   f9050280 f9450280 a9417bfd a8c24ff4\r\n0x00000001a9683644:   d65f0fff d503237f d10103ff a9024ff4\r\n0x00000001a9683654:   a9037bfd 9100c3fd aa0103f4 aa0003f3\r\n0x00000001a9683664:   f9400020 94000db7 f9000fe0 79401688\r\n0x00000001a9683674:   79002fe8 b4000640 f90007ff 2f00e400\r\n0x00000001a9683684:   910023e4 d2800000 528dcea1 72adaca1\r\n0x00000001a9683694:   52801922 52800003 97f8ba3c 35000500\r\n0x00000001a96836a4:   f94007e0 910063e4 5285a5a1 72a5a5a1\r\n0x00000001a96836b4:   528dcea2 72adaca2 52800103 97f8c53f\r\n0x00000001a96836c4:   f94007e0 91005be4 528cada1 72ad2e81\r\n0x00000001a96836d4:   528c8f02 72adad22 52800043 97f8c537\r\n0x00000001a96836e4:   f94007f4 f9400fe0 97f8e1f9 aa0003e1\r\n0x00000001a96836f4:   aa1403e0 97f9262d 350001e0 f8020e7f\r\n0x00000001a9683704:   f94007e0 528e4c81 72aeae61 528e8f22\r\n0x00000001a9683714:   72ac6cc2 d2800003 52800104 d2800005\r\n0x00000001a9683724:   aa1303e6 97f8c313 f9400260 b4000040\r\n0x00000001a9683734:   9403e699 f94007e0 97f8c6fe a9437bfd\r\n0x00000001a9683744:   a9424ff4 910103ff d65f0fff d503237f\r\n0x00000001a9683754:   a9be4ff4 a9017bfd 910043fd aa0103f3 \r\n\r\n\r\nStack slot to memory mapping:\r\nstack at sp + 0 slots: 0x000000016d7ab2c0 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 1 slots: 0x1e620001a94f9e40: RemoveEventLoopTimer+0x78 in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\r\nstack at sp + 2 slots: 0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 3 slots: 0x0 is NULL\r\nstack at sp + 4 slots: 0x000000016d7b1f58 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 5 slots: 0x0 is NULL\r\nstack at sp + 6 slots: 0x000000016d7ab350 is pointing into the stack for thread: 0x000000011983ae00\r\nstack at sp + 7 slots: 0x3d570001a96832e4: _ZL31SelectItemAndRestoreAllMenuBitsR14MenuSelectDataP13SelectionDataP10MenuResultS4_+0x48c in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\r\n\r\n\r\n\r\n\r\ncom.intellij.diagnostic.JBRCrash\r\n```\r\nI can include my Pycharm and HTML code if it helps solving the matter.\r\nThank you!","title":"How to Troubleshoot the error :A fatal error has been detected by the Java Runtime Environment&quot;?","body":"<p>Hello everyone and thank you for reading.\nI have the following error while running my program and can't figure out what the solution would be. I also looked at all the topics with a similar error here, but could not resolve my issue. Here the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\n</code></pre>\n<p>My program is a 100 days of code, Python Pro Bootcamp project where I'm working on creating a simple drop down menu where I rate the quality of a coffee shop and add it to a database of coffee shops to work from. My project has been crashing regularly. I'm not sure how to fix this.</p>\n<p>Here is the code, that I'm executing in Pycharm:</p>\n<p>Here the logfile of the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00000001a9683664, pid=1214, tid=259\n#\n# JRE version: OpenJDK Runtime Environment JBR-17.0.6+10-829.5-jcef (17.0.6+10) (build 17.0.6+10-b829.5)\n# Java VM: OpenJDK 64-Bit Server VM JBR-17.0.6+10-829.5-jcef (17.0.6+10-b829.5, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)\n# Problematic frame:\n# C  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   https://youtrack.jetbrains.com/issues/JBR\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -XX:ErrorFile=/Users/carlosperalta/java_error_in_pycharm_%p.log -XX:HeapDumpPath=/Users/carlosperalta/java_error_in_pycharm.hprof -Xms128m -Xmx750m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:SoftRefLRUPolicyMSPerMB=50 -XX:CICompilerCount=2 -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -XX:+IgnoreUnrecognizedVMOptions -XX:CompileCommand=exclude,com/intellij/openapi/vfs/impl/FilePartNodeRoot,trieDescend -ea -Dsun.io.useCanonCaches=false -Dsun.java2d.metal=true -Djbr.catch.SIGABRT=true -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; -Djdk.attach.allowAttachSelf=true -Djdk.module.illegalAccess.silent=true -Dkotlinx.coroutines.debug=off -Xmx1024m -Djb.vmOptionsFile=/Users/carlosperalta/Library/Application Support/JetBrains/PyCharmCE2023.1/pycharm.vmoptions --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.ref=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.base/java.time=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/jdk.internal.vm=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.fs=ALL-UNNAMED --add-opens=java.base/sun.security.ssl=ALL-UNNAMED --add-opens=java.base/sun.security.util=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt=ALL-UNNAMED --add-opens=java.desktop/com.apple.eawt.event=ALL-UNNAMED --add-opens=java.desktop/com.apple.laf=ALL-UNNAMED --add-opens=java.desktop/java.awt=ALL-UNNAMED --add-opens=java.desktop/java.awt.dnd.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.event=ALL-UNNAMED --add-opens=java.desktop/java.awt.image=ALL-UNNAMED --add-opens=java.desktop/java.awt.peer=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.desktop/javax.swing=ALL-UNNAMED --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED --add-opens=java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens=java.desktop/sun.awt.datatransfer=ALL-UNNAMED --add-opens=java.desktop/sun.awt.image=ALL-UNNAMED --add-opens=java.desktop/sun.awt=ALL-UNNAMED --add-opens=java.desktop/sun.font=ALL-UNNAMED --add-opens=java.desktop/sun.java2d=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt=ALL-UNNAMED --add-opens=java.desktop/sun.lwawt.macosx=ALL-UNNAMED --add-opens=java.desktop/sun.swing=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED --add-opens=jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -Djna.boot.library.path=/Applications/PyCharm CE.app/Contents/lib/jna/aarch64 -Dpty4j.preferred.native.folder=/Applications/PyCharm CE.app/Contents/lib/pty4j -Dsplash=true -Didea.home.path=/Applications/PyCharm CE.app/Contents -Didea.executable=pycharm -Djava.system.class.loader=com.intellij.util.lang.PathClassLoader -Djna.noclasspath=true -Djna.nosys=true -Didea.platform.prefix=PyCharmCore -Didea.paths.selector=PyCharmCE2023.1 -Didea.vendor.name=JetBrains \n\nHost: &quot;Mac14,7&quot; arm64, 8 cores, 8G, Darwin 22.1.0, macOS 13.0 (22A380)\nTime: Fri Apr 14 13:19:53 2023 EDT elapsed time: 165.014992 seconds (0d 0h 2m 45s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000000011983ae00):  JavaThread &quot;AWT-AppKit&quot; daemon [_thread_in_native, id=259, stack(0x000000016cfb8000,0x000000016d7b4000)]\n\nStack: [0x000000016cfb8000,0x000000016d7b4000],  sp=0x000000016d7ab290,  free space=8140k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [HIToolbox+0x1d6664]  NotifyItemSelection(SelectionData*, MenuResult*)+0x1c\nC  [HIToolbox+0x1d62e4]  SelectItemAndRestoreAllMenuBits(MenuSelectData&amp;, SelectionData*, MenuResult*, MenuResult*)+0x48c\nC  [HIToolbox+0x873bc]  SimulateSelection(unsigned char, unsigned char, OpaqueMenuRef**, unsigned short*, unsigned int*)+0x5fc\nC  [HIToolbox+0x1d2374]  SimulateMenuSelectionWithOptions(MenuData*, OpaqueMenuRef*, unsigned short, unsigned int, unsigned char)+0xd0\nC  [Shortcut+0xc698]  -[SCTMenuItemGRL perform]+0x130\nC  [Shortcut+0xc204]  -[SCTSearchManager doPerformResource:]+0x24\nC  [Foundation+0x7a090]  __NSFireDelayedPerform+0x174\nC  [CoreFoundation+0x9b578]  __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__+0x20\nC  [CoreFoundation+0x9b220]  __CFRunLoopDoTimer+0x3ac\nC  [CoreFoundation+0x9ad78]  __CFRunLoopDoTimers+0x164\nC  [CoreFoundation+0x80760]  __CFRunLoopRun+0x768\nC  [CoreFoundation+0x7f8a4]  CFRunLoopRunSpecific+0x264\nC  [HIToolbox+0x323bc]  RunCurrentEventLoopInMode+0x124\nC  [HIToolbox+0x3204c]  ReceiveNextEventCommon+0xec\nC  [HIToolbox+0x31f48]  _BlockUntilNextEventMatchingListInModeWithFilter+0x48\nC  [AppKit+0x39630]  _DPSNextEvent+0x278\nC  [AppKit+0x387c0]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x2d8\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\nC  [libawt_lwawt.dylib+0x86f60]  Java_sun_lwawt_macosx_LWCToolkit_doAWTRunLoopImpl+0x1e8\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\nv  ~StubRoutines::call_stub\nV  [libjvm.dylib+0x4583b0]  JavaCalls::call_helper(JavaValue*, methodHandle const&amp;, JavaCallArguments*, JavaThread*)+0x38c\nV  [libjvm.dylib+0x4b1634]  jni_invoke_nonstatic(JNIEnv_*, JavaValue*, _jobject*, JNICallType, _jmethodID*, JNI_ArgumentPusher*, JavaThread*)+0x31c\nV  [libjvm.dylib+0x4b5c8c]  jni_CallVoidMethod+0x138\nC  [libmacscreenmenu64.dylib+0x6f28]  -[Menu menuDidClose:]+0x138\nC  [AppKit+0x335908]  -[NSCarbonMenuImpl _carbonCloseEvent:handlerCallRef:]+0x58\nC  [AppKit+0x296dec]  NSSLMMenuEventHandler+0x390\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x9e550]  SendMenuClosed(MenuData*, unsigned int, unsigned char)+0xd4\nC  [HIToolbox+0x9e304]  HideMenus(MenuSelectData*, __CFArray*)+0x80\nC  [HIToolbox+0x6f304]  CancelMenuTracking+0xd8\nC  [Shortcut+0xc02c]  -[SCTSearchManager hideSearchWindow]+0x28\nC  [Shortcut+0x9e50]  -[SCTSearchManager control:textView:doCommandBySelector:]+0x274\nC  [AppKit+0x29a708]  -[NSTextView doCommandBySelector:]+0x8c\nC  [AppKit+0x29a63c]  -[NSTextInputContext(NSInputContext_WithCompletion) doCommandBySelector:completionHandler:]+0xe4\nC  [AppKit+0x1e83dc]  -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:]+0x608\nC  [AppKit+0x1efd14]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_5+0x168\nC  [AppKit+0x940c8c]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.657+0x64\nC  [AppKit+0x1efb68]  -[NSTextInputContext tryHandleEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\nC  [AppKit+0x940bec]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke.654+0x13c\nC  [HIToolbox+0x6c58c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_5+0x60\nC  [HIToolbox+0x7ceb8]  invocation function for block in DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x94\nC  [AppKit+0x93be88]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke.180+0x244\nC  [AppKit+0x1ea294]  __55-[NSTextInputContext handleTSMEvent:completionHandler:]_block_invoke_2+0x64\nC  [AppKit+0x1ea1e0]  -[NSTextInputContext tryHandleTSMEvent_HasMarkedText_withDispatchCondition:dispatchWork:continuation:]+0x94\nC  [AppKit+0x1e9754]  -[NSTextInputContext handleTSMEvent:completionHandler:]+0x7ec\nC  [AppKit+0x1e8efc]  _NSTSMEventHandler+0x14c\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x68a28]  SendTSMEvent_WithCompletionHandler+0x1b0\nC  [HIToolbox+0x68f78]  __SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler_block_invoke+0x1c8\nC  [HIToolbox+0x68d84]  __SendFilterTextEvent_WithCompletionHandler_block_invoke+0xe4\nC  [HIToolbox+0x68a80]  SendTSMEvent_WithCompletionHandler+0x208\nC  [HIToolbox+0x68830]  SendFilterTextEvent_WithCompletionHandler+0x104\nC  [HIToolbox+0x68458]  SendUnicodeTextAEToUnicodeDoc_WithCompletionHandler+0x128\nC  [HIToolbox+0x681e4]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke_2+0x140\nC  [HIToolbox+0x67f68]  __utDeliverTSMEvent_WithCompletionHandler_block_invoke+0x11c\nC  [HIToolbox+0x67dec]  TSMKeyEvent_WithCompletionHandler+0x270\nC  [HIToolbox+0x67b6c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_4+0x140\nC  [HIToolbox+0x6797c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_3+0x15c\nC  [HIToolbox+0x6765c]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke_2+0x138\nC  [HIToolbox+0x67368]  __TSMProcessRawKeyEventWithOptionsAndCompletionHandler_block_invoke+0x138\nC  [HIToolbox+0x54ea0]  TSMProcessRawKeyEventWithOptionsAndCompletionHandler+0x900\nC  [AppKit+0x940aa0]  __84-[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]_block_invoke_3.650+0x94\nC  [AppKit+0x94077c]  __204-[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]_block_invoke.632+0xc0\nC  [AppKit+0x1e7c80]  -[NSTextInputContext tryTSMProcessRawKeyEvent_orSubstitution:dispatchCondition:setupForDispatch:furtherCondition:doubleSpaceSubstitutionCondition:doubleSpaceSubstitutionWork:dispatchTSMWork:continuation:]+0x150\nC  [AppKit+0x1e7694]  -[NSTextInputContext _handleEvent:options:allowingSyntheticEvent:completionHandler:]+0x588\nC  [AppKit+0x1e70cc]  -[NSTextInputContext _handleEvent:allowingSyntheticEvent:]+0x84\nC  [AppKit+0x1e6f24]  -[NSView interpretKeyEvents:]+0x9c\nC  [AppKit+0x1e6d78]  -[NSTextView keyDown:]+0x20c\nC  [AppKit+0x16755c]  -[NSWindow(NSEventRouting) _reallySendEvent:isDelayedEvent:]+0x142c\nC  [AppKit+0x165f5c]  -[NSWindow(NSEventRouting) sendEvent:]+0x11c\nC  [AppKit+0x5b0594]  -[NSMenuWindowManagerWindow _handleKeyEvent:]+0xac\nC  [AppKit+0x88c440]  NSMenuWindowManagerMenuItemCarbonEventHandler+0x134\nC  [HIToolbox+0xa944]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x444\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x9c54]  SendEventToEventTargetWithOptions+0x2c\nC  [HIToolbox+0x4a0c8]  ToolboxEventDispatcherHandler(OpaqueEventHandlerCallRef*, OpaqueEventRef*, void*)+0x4b8\nC  [HIToolbox+0xadec]  DispatchEventToHandlers(EventTargetRec*, OpaqueEventRef*, HandlerCallRec*)+0x8ec\nC  [HIToolbox+0x9dc4]  SendEventToEventTargetInternal(OpaqueEventRef*, OpaqueEventTargetRef*, HandlerCallRec*)+0x164\nC  [HIToolbox+0x1ffd4]  SendEventToEventTarget+0x28\nC  [HIToolbox+0x9a2c0]  IsUserStillTracking(MenuSelectData*, unsigned char*)+0x16b4\nC  [HIToolbox+0x1d6e5c]  TrackMenuCommon(MenuSelectData&amp;, unsigned char*, SelectionData*, MenuResult*, MenuResult*)+0x574\nC  [HIToolbox+0xa458c]  MenuSelectCore(MenuData*, Point, double, unsigned int, OpaqueMenuRef**, unsigned short*)+0x15c\nC  [HIToolbox+0xa4380]  _HandleMenuSelection2+0x1a0\nC  [AppKit+0x18c0f4]  _NSHandleCarbonMenuEvent+0x100\nC  [AppKit+0x18bf18]  _DPSEventHandledByCarbon+0x3c\nC  [AppKit+0x38db8]  -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]+0x8d0\nC  [libosxapp.dylib+0x36e8]  -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:]+0xf0\nC  [AppKit+0x2cbf0]  -[NSApplication run]+0x1d0\nC  [libosxapp.dylib+0x3440]  +[NSApplicationAWT runAWTLoopWithApp:]+0xd0\n...&lt;more frames&gt;...\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoopImpl(JZZI)Z+0 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.doAWTRunLoop(JZI)Z+6 java.desktop\nj  sun.lwawt.macosx.LWCToolkit.invokeAndWait(Ljava/lang/Runnable;Ljava/awt/Component;ZI)V+301 java.desktop\nj  jdk.internal.reflect.GeneratedMethodAccessor183.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+145 java.base@17.0.6\nJ 36866 c2 java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java.base@17.0.6 (65 bytes) @ 0x000000014916b04c [0x000000014916adc0+0x000000000000028c]\nj  com.intellij.ui.mac.screenmenu.Menu.invokeWithLWCToolkit(Ljava/lang/Runnable;Ljava/lang/Runnable;Ljava/awt/Component;)V+78\nj  com.intellij.ui.mac.screenmenu.Menu.invokeMenuClosing()V+45\nv  ~StubRoutines::call_stub\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: 0x0000000000000000\n\nRegister to memory mapping:\n\n x0=0x0 is NULL\n x1=0x0 is NULL\n x2=0x0 is NULL\n x3=0x0000600003942c40 points into unknown readable memory: 0x0000e0244a9f2c40 | 40 2c 9f 4a 24 e0 00 00\n x4=0x0000000000000004 is an unknown value\n x5=0x0000000000000960 is an unknown value\n x6=0x000060000054bda0 points into unknown readable memory: 0x0000e024495fbda0 | a0 bd 5f 49 24 e0 00 00\n x7=0x000000016d7ab27c is pointing into the stack for thread: 0x000000011983ae00\n x8=0x9e51358191f80004 is an unknown value\n x9=0x9e51358191f80004 is an unknown value\nx10=0x0000000000000dc0 is an unknown value\nx11=0x00000000000007fb is an unknown value\nx12=0x00000000faa43036 is an unknown value\nx13=0x00000000000007fd is an unknown value\nx14=0x00000000fac43838 is an unknown value\nx15=0x00000000faa43036 is an unknown value\nx16=0x0000000000000038 is an unknown value\nx17=0x000000007ac00000 is an unknown value\nx18=0x0 is NULL\nx19=0x0 is NULL\nx20=0x0 is NULL\nx21=0x0 is NULL\nx22=0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\nx23=0x0 is NULL\nx24=0x0000000000000001 is an unknown value\nx25=0x0000000000000001 is an unknown value\nx26=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\nx27=0x0000000000010001 is an unknown value\nx28=0x0000000379b12fc0 points into unknown readable memory: 0x00000001fd3fdb70 | 70 db 3f fd 01 00 00 00\n\n\nRegisters:\n x0=0x0000000000000000  x1=0x0000000000000000  x2=0x0000000000000000  x3=0x0000600003942c40\n x4=0x0000000000000004  x5=0x0000000000000960  x6=0x000060000054bda0  x7=0x000000016d7ab27c\n x8=0x9e51358191f80004  x9=0x9e51358191f80004 x10=0x0000000000000dc0 x11=0x00000000000007fb\nx12=0x00000000faa43036 x13=0x00000000000007fd x14=0x00000000fac43838 x15=0x00000000faa43036\nx16=0x0000000000000038 x17=0x000000007ac00000 x18=0x0000000000000000 x19=0x0000000000000000\nx20=0x0000000000000000 x21=0x0000000000000000 x22=0x000000016d7ab2e8 x23=0x0000000000000000\nx24=0x0000000000000001 x25=0x0000000000000001 x26=0x0000000379b12fc0 x27=0x0000000000010001\nx28=0x0000000379b12fc0  fp=0x000000016d7ab2c0  lr=0x3d570001a96832e4  sp=0x000000016d7ab290\npc=0x00000001a9683664 cpsr=0x0000000060001000\nTop of Stack: (sp=0x000000016d7ab290)\n0x000000016d7ab290:   000000016d7ab2c0 1e620001a94f9e40\n0x000000016d7ab2a0:   000000016d7ab2e8 0000000000000000\n0x000000016d7ab2b0:   000000016d7b1f58 0000000000000000\n0x000000016d7ab2c0:   000000016d7ab350 3d570001a96832e4\n0x000000016d7ab2d0:   0000000379b12fc0 0000000000000000\n0x000000016d7ab2e0:   0000000000000000 0000600001194dc0\n0x000000016d7ab2f0:   0000000000000000 0000000379b12fc0\n0x000000016d7ab300:   0000000379b12fc0 0000000000010001\n0x000000016d7ab310:   0000000379b12fc0 0000000000000001\n0x000000016d7ab320:   0000000000000001 0000000379b12fc0\n0x000000016d7ab330:   000000011863f7c0 0000000000000022\n0x000000016d7ab340:   00000001f90cb000 0000000000000022\n0x000000016d7ab350:   000000016d7ab460 934e0001a95343bc\n0x000000016d7ab360:   0000000000000000 0000000000000000\n0x000000016d7ab370:   0000600000127840 0000000118745b00\n0x000000016d7ab380:   000000000000000b 000000006d61676e\n0x000000016d7ab390:   0000000000000000 0000000000000000\n0x000000016d7ab3a0:   0000000000000000 0000000000000000\n0x000000016d7ab3b0:   000000006d7ab410 000000011863f7c0\n0x000000016d7ab3c0:   0000000379b12fc0 0001000100000000\n0x000000016d7ab3d0:   0000000000000000 0000000000000000\n0x000000016d7ab3e0:   0000000000000000 0000000379b12fc0\n0x000000016d7ab3f0:   0000000300220000 0000000000000022\n0x000000016d7ab400:   0000000000000022 000000011863f7c0\n0x000000016d7ab410:   00000001fc425218 ffffffffffffffff\n0x000000016d7ab420:   0000600000127840 00000001fc2ffc30\n0x000000016d7ab430:   00000001fc2ffc30 00000001f90cb000\n0x000000016d7ab440:   000000011863f7c0 0000000379b12fc0\n0x000000016d7ab450:   0000000000000022 0000000000000000\n0x000000016d7ab460:   000000016d7ab4a0 d6348001a967f374\n0x000000016d7ab470:   00000001fc2ffc30 0000000000000040\n0x000000016d7ab480:   0000600000453600 000060000051d300 \n\nInstructions: (pc=0x00000001a9683664)\n0x00000001a9683564:   d503237f a9bd57f6 a9014ff4 a9027bfd\n0x00000001a9683574:   910083fd aa0103f3 aa0103e0 9403e43e\n0x00000001a9683584:   f100041f 5400014b aa0003f4 d2800015\n0x00000001a9683594:   aa1303e0 aa1503e1 9403e447 97f9be2e\n0x00000001a96835a4:   910006b5 eb15029f 54ffff41 aa1303e0\n0x00000001a96835b4:   a9427bfd a9414ff4 a8c357f6 d50323ff\n0x00000001a96835c4:   ca1e07d0 b6f00050 d4388e20 1403e6ee\n0x00000001a96835d4:   d503237f a9be4ff4 a9017bfd 910043fd\n0x00000001a96835e4:   d027d248 39645109 f027d234 37000249\n0x00000001a96835f4:   52800029 39245109 b027d228 f947fd00\n0x00000001a9683604:   94057447 aa0003f3 f029ec62 9108c042\n0x00000001a9683614:   94056d3b b4000100 f029ec62 9108c042\n0x00000001a9683624:   aa1303e0 9405698e f100041f 54000048\n0x00000001a9683634:   f9050280 f9450280 a9417bfd a8c24ff4\n0x00000001a9683644:   d65f0fff d503237f d10103ff a9024ff4\n0x00000001a9683654:   a9037bfd 9100c3fd aa0103f4 aa0003f3\n0x00000001a9683664:   f9400020 94000db7 f9000fe0 79401688\n0x00000001a9683674:   79002fe8 b4000640 f90007ff 2f00e400\n0x00000001a9683684:   910023e4 d2800000 528dcea1 72adaca1\n0x00000001a9683694:   52801922 52800003 97f8ba3c 35000500\n0x00000001a96836a4:   f94007e0 910063e4 5285a5a1 72a5a5a1\n0x00000001a96836b4:   528dcea2 72adaca2 52800103 97f8c53f\n0x00000001a96836c4:   f94007e0 91005be4 528cada1 72ad2e81\n0x00000001a96836d4:   528c8f02 72adad22 52800043 97f8c537\n0x00000001a96836e4:   f94007f4 f9400fe0 97f8e1f9 aa0003e1\n0x00000001a96836f4:   aa1403e0 97f9262d 350001e0 f8020e7f\n0x00000001a9683704:   f94007e0 528e4c81 72aeae61 528e8f22\n0x00000001a9683714:   72ac6cc2 d2800003 52800104 d2800005\n0x00000001a9683724:   aa1303e6 97f8c313 f9400260 b4000040\n0x00000001a9683734:   9403e699 f94007e0 97f8c6fe a9437bfd\n0x00000001a9683744:   a9424ff4 910103ff d65f0fff d503237f\n0x00000001a9683754:   a9be4ff4 a9017bfd 910043fd aa0103f3 \n\n\nStack slot to memory mapping:\nstack at sp + 0 slots: 0x000000016d7ab2c0 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 1 slots: 0x1e620001a94f9e40: RemoveEventLoopTimer+0x78 in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\nstack at sp + 2 slots: 0x000000016d7ab2e8 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 3 slots: 0x0 is NULL\nstack at sp + 4 slots: 0x000000016d7b1f58 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 5 slots: 0x0 is NULL\nstack at sp + 6 slots: 0x000000016d7ab350 is pointing into the stack for thread: 0x000000011983ae00\nstack at sp + 7 slots: 0x3d570001a96832e4: _ZL31SelectItemAndRestoreAllMenuBitsR14MenuSelectDataP13SelectionDataP10MenuResultS4_+0x48c in /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox at 0x00000001a94ad000\n\n\n\n\ncom.intellij.diagnostic.JBRCrash\n</code></pre>\n<p>I can include my Pycharm and HTML code if it helps solving the matter.\nThank you!</p>\n"},{"tags":["java","logging","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1681543379,"post_id":76017616,"comment_id":134076279,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. In this case, the question also suffers from the [XY problem](https://meta.stackexchange.com/a/66378/309898). You are describing how you want to solve a problem technically, instead of describing which problem you want to solve, unnecessarily narrowing the scope of possible answers. What you seem to want to do, sounds wrong, but with this unclear description I have no way to be sure.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. In this case, the question also suffers from the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. You are describing how you want to solve a problem technically, instead of describing which problem you want to solve, unnecessarily narrowing the scope of possible answers. What you seem to want to do, sounds wrong, but with this unclear description I have no way to be sure."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681558574,"post_id":76017616,"comment_id":134077933,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20949911,"reputation":1,"user_id":15391834,"display_name":"Shahnawaz Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681493125,"creation_date":1681493125,"question_id":76017616,"body_markdown":"Basically, I want to create a .java file which can take as input the path to the .class file and name of methods to be logged. Using the aspectJ, we should save the weaved .class file having logs. Is it doable using AspectJ without using ajc on terminal?\r\n\r\nI tried to a way and the best I got was to use *org.aspectj.tools.ajc.Main*. But it requires aspect path as argument which needs to be fixed. I wanted to find a way to change the contents of the .aj file dynamically during runtime of my program and then use it to weave into the provided .class file.","title":"Can we use AspectJ API to weave a .class file by a .aj file at runtime?","body":"<p>Basically, I want to create a .java file which can take as input the path to the .class file and name of methods to be logged. Using the aspectJ, we should save the weaved .class file having logs. Is it doable using AspectJ without using ajc on terminal?</p>\n<p>I tried to a way and the best I got was to use <em>org.aspectj.tools.ajc.Main</em>. But it requires aspect path as argument which needs to be fixed. I wanted to find a way to change the contents of the .aj file dynamically during runtime of my program and then use it to weave into the provided .class file.</p>\n"},{"tags":["java","spring-boot","logging","jboss","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681330810,"post_id":75998950,"comment_id":134041036,"body_markdown":"It sounds like Spring Boot is doing something to change the log level. If I recall correctly there is some dependency that needs to be excluded because it modifies the log manager.","body":"It sounds like Spring Boot is doing something to change the log level. If I recall correctly there is some dependency that needs to be excluded because it modifies the log manager."},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1681331892,"post_id":75998950,"comment_id":134041256,"body_markdown":"Dependency related to log? Because I remove all of them from my app. Log4j, slf4, logback, and it still happen.","body":"Dependency related to log? Because I remove all of them from my app. Log4j, slf4, logback, and it still happen."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681347238,"post_id":75998950,"comment_id":134043292,"body_markdown":"Sorry, no. I mean an exclusion from the Spring Boot dependencies. If you include it in the WAR, then it alters the log manager. I just don&#39;t recall which dependency it is.","body":"Sorry, no. I mean an exclusion from the Spring Boot dependencies. If you include it in the WAR, then it alters the log manager. I just don&#39;t recall which dependency it is."},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1681398851,"post_id":75998950,"comment_id":134053202,"body_markdown":"yes yes, I got it, I was just wondering if would be a dependency related specify with logs or something else... I`ll search for it","body":"yes yes, I got it, I was just wondering if would be a dependency related specify with logs or something else... I`ll search for it"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1681417149,"post_id":75998950,"comment_id":134057315,"body_markdown":"I think it&#39;s `org.slf4j:jul-to-slf4j`. If you see that in your `mvn dependency:tree` it would need to be excluded from your WAR.","body":"I think it&#39;s <code>org.slf4j:jul-to-slf4j</code>. If you see that in your <code>mvn dependency:tree</code> it would need to be excluded from your WAR."}],"answers":[{"tags":[],"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681492454,"creation_date":1681492454,"answer_id":76017533,"question_id":75998950,"body_markdown":"After 2 days, tested with 2 springboot applications and got it working. \r\n\r\nI didn&#39;t need to change the pom file, it was already excluding &quot;spring-boot-starter-logging&quot; lib. \r\n\r\nTo get it working just need to add inside &quot;src/main/resources/&quot; the file &quot;logging.properties&quot; as follows:\r\n\r\n```\r\n# Define default log level to OFF\r\n.level=OFF\r\n# deactivate org.springframework package logs\r\norg.springframework.level=OFF\r\n```","title":"Wildfly change log level runtime stop working when deploy springboot application","body":"<p>After 2 days, tested with 2 springboot applications and got it working.</p>\n<p>I didn't need to change the pom file, it was already excluding &quot;spring-boot-starter-logging&quot; lib.</p>\n<p>To get it working just need to add inside &quot;src/main/resources/&quot; the file &quot;logging.properties&quot; as follows:</p>\n<pre><code># Define default log level to OFF\n.level=OFF\n# deactivate org.springframework package logs\norg.springframework.level=OFF\n</code></pre>\n"}],"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76017533,"answer_count":1,"score":0,"last_activity_date":1681492454,"creation_date":1681326119,"question_id":75998950,"body_markdown":"I&#39;m using Wildfly 24.0.1 and have a lot of applications running in the same server-group, normal war applications and changing log level using wildfly console work as expected. When I access the wildfly console =&gt; configuration =&gt; profiles =&gt; logging =&gt; categories and change any time and it works. However, when I deploy a SpringBoot application and try to change any application log level it updates de configuration, but keeps logging the last configuration, for example: It was logging INFO level, I deploy springboot application and then change the log level to ERROR. It keeps logging INFO level.\r\n\r\nI tried removing all log libs from my springboot application, change jboss-structure-file, even update springboot version, but nothing works. \r\n\r\nFollowing my springboot pom file:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;group.id&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project-name&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;project-name&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;!-- Compatibility Wildfly (OVERRIDE SPRINGBOOT) --&gt;\r\n\t\t&lt;classmate.version&gt;1.4.0&lt;/classmate.version&gt;\r\n\t\t&lt;jackson-bom.version&gt;2.9.9.20190807&lt;/jackson-bom.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OUTRAS DEPENDENCIAS --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.10.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;profiles&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;dev&lt;/profile&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;prod&lt;/profile&gt;\r\n\t\t\t\t\t&lt;/profiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;!-- &lt;DEPENDENCIES&gt; required to work with wildfly --&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\njboss-deployment-structure.xml \r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;jboss-deployment-structure\r\n\txmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\r\n\t&lt;deployment&gt;\r\n\t&lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n\r\nThe project works, starts, even logs correct, but if I try to update log level at runtime it doesn&#39;t work.\r\n","title":"Wildfly change log level runtime stop working when deploy springboot application","body":"<p>I'm using Wildfly 24.0.1 and have a lot of applications running in the same server-group, normal war applications and changing log level using wildfly console work as expected. When I access the wildfly console =&gt; configuration =&gt; profiles =&gt; logging =&gt; categories and change any time and it works. However, when I deploy a SpringBoot application and try to change any application log level it updates de configuration, but keeps logging the last configuration, for example: It was logging INFO level, I deploy springboot application and then change the log level to ERROR. It keeps logging INFO level.</p>\n<p>I tried removing all log libs from my springboot application, change jboss-structure-file, even update springboot version, but nothing works.</p>\n<p>Following my springboot pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;project-name&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;project-name&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;!-- Compatibility Wildfly (OVERRIDE SPRINGBOOT) --&gt;\n        &lt;classmate.version&gt;1.4.0&lt;/classmate.version&gt;\n        &lt;jackson-bom.version&gt;2.9.9.20190807&lt;/jackson-bom.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.10.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OUTRAS DEPENDENCIAS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;dev&lt;/profile&gt;\n                        &lt;profile&gt;prod&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n            &lt;!-- &lt;DEPENDENCIES&gt; required to work with wildfly --&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>jboss-deployment-structure.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;jboss-deployment-structure\n    xmlns=&quot;urn:jboss:deployment-structure:1.1&quot;&gt;\n    &lt;deployment&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>The project works, starts, even logs correct, but if I try to update log level at runtime it doesn't work.</p>\n"},{"tags":["java","spring","hibernate","aspectj","spring-aop"],"owner":{"account_id":19342848,"reputation":1,"user_id":21644546,"display_name":"kiran 05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681543644,"answer_count":0,"score":0,"last_activity_date":1681492132,"creation_date":1681492132,"question_id":76017490,"body_markdown":"I have a java EE , spring application that uses Hibernate 3. I want to calculate the execution time of queries, so I am trying to intercept hibernation session and query methods to calculate the execution time. \r\n\r\nI have added spring-aop and aspectjweaver jars to my project \r\nThis is where I am excuting hibernate session and query methods\r\n\r\n\r\n```\r\n@Repository\r\npublic abstract class PlatformHibernateDaoSupport {\r\n\r\n\tprivate SessionFactory sessionFactory;\r\n\r\n\tpublic void setSessionFactory(SessionFactory sessionFactory) {\r\n\t\tthis.sessionFactory = sessionFactory;\r\n\t}\r\n\t\r\n\tpublic SessionFactory getSessionFactory(){\r\n\t\treturn this.sessionFactory;\r\n\t}\r\n\t\r\n\tpublic Session getSession(){\r\n\t\treturn this.sessionFactory.getCurrentSession();\r\n\t}\r\n\r\npublic Serializable hibernateSave(Object object){\r\n\t\treturn getSession().save(object);\r\n\t}\r\n\r\npublic Serializable saveEntity(String entityName, Object object){\r\n\t\treturn getSession().save(entityName, object);\r\n\t}\r\n\t\r\n\t\r\n\tpublic void hibernateSaveOrUpdate(Object object){\r\n\t\tgetSession().saveOrUpdate(object);\r\n\t}\r\n\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; List&lt;T&gt; find(String hql, Class&lt;T&gt; clazz){\t\r\n\t\tQuery query = getSession().createQuery(hql);\t\t\r\n\t\treturn (List&lt;T&gt;)query.list();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nAnd this is the aspect \r\n\r\n```\r\npublic class HibernateQueryExecutionTimeListener {\r\n\r\n\r\n    public Object find(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object save(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object saveOrUpdate(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n\r\n    public Object load(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long elapsedTime = System.currentTimeMillis() - startTime;\r\n        String method = joinPoint.getSignature().getName();\r\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd this are the configuration\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\r\n    &lt;!-- Hibernate SessionFactory --&gt;\r\n    &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;\r\n            &lt;ref bean=&quot;myDataSource&quot;/&gt;\r\n        &lt;/property&gt;\r\n\r\n&lt;property name=&quot;mappingResources&quot;&gt;\r\n        \t&lt;list&gt;\r\n        \t\t\t\t&lt;value&gt;com/javaEE/deliver/api/model/Customer.hbm.xml&lt;/value&gt;\r\n        \t\t\t\t\r\n\t\t&lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\n&lt;aop:aspectj-autoproxy /&gt;\r\n\r\n\r\n     &lt;bean id=&quot;hibernateQueryExecutionTimeListener&quot; class=&quot;com.isa.javaEE.deliver.core.HibernateQueryExecutionTimeListener&quot; /&gt;\r\n\r\n      &lt;aop:config&gt;\r\n        &lt;aop:aspect id=&quot;hibernateaspect&quot; ref=&quot;hibernateQueryExecutionTimeListener&quot; &gt;\r\n           &lt;aop:pointcut id=&quot;queryListAround&quot;   expression=&quot;execution(* org.hibernate.Query.list(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;find&quot; pointcut-ref=&quot;queryListAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;saveAround&quot;   expression=&quot;execution(* org.hibernate.Session.save(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;save&quot; pointcut-ref=&quot;saveAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;saveOrUpdateAround&quot;   expression=&quot;execution(* org.hibernate.Session.saveOrUpdate(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;saveOrUpdate&quot; pointcut-ref=&quot;saveOrUpdateAround&quot; /&gt;\r\n\r\n           &lt;aop:pointcut id=&quot;loadAround&quot;   expression=&quot;execution(* org.hibernate.Session.load(..))&quot; /&gt;\r\n           &lt;aop:around method=&quot;load&quot; pointcut-ref=&quot;loadAround&quot; /&gt;\r\n\r\n        &lt;/aop:aspect&gt;\r\n      &lt;/aop:config&gt;\r\n\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n\r\nAnd my problem is that this advices are never invoked at all, neither the logs are printing.So, I am not sure where to go next. How can I get a hold of Hibernate&#39;s Session object from my advice such that I can enable Hibernate filters? Thank you in advance!\r\n\r\nI tired changing the aop configurations and all, but I couldn&#39;t figure it out. I don&#39;t know if I even need to configure that anyways.","title":"Configuring Hibernate session methods with Spring AOP","body":"<p>I have a java EE , spring application that uses Hibernate 3. I want to calculate the execution time of queries, so I am trying to intercept hibernation session and query methods to calculate the execution time.</p>\n<p>I have added spring-aop and aspectjweaver jars to my project\nThis is where I am excuting hibernate session and query methods</p>\n<pre><code>@Repository\npublic abstract class PlatformHibernateDaoSupport {\n\n    private SessionFactory sessionFactory;\n\n    public void setSessionFactory(SessionFactory sessionFactory) {\n        this.sessionFactory = sessionFactory;\n    }\n    \n    public SessionFactory getSessionFactory(){\n        return this.sessionFactory;\n    }\n    \n    public Session getSession(){\n        return this.sessionFactory.getCurrentSession();\n    }\n\npublic Serializable hibernateSave(Object object){\n        return getSession().save(object);\n    }\n\npublic Serializable saveEntity(String entityName, Object object){\n        return getSession().save(entityName, object);\n    }\n    \n    \n    public void hibernateSaveOrUpdate(Object object){\n        getSession().saveOrUpdate(object);\n    }\n\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; List&lt;T&gt; find(String hql, Class&lt;T&gt; clazz){    \n        Query query = getSession().createQuery(hql);        \n        return (List&lt;T&gt;)query.list();\n    }\n    \n}\n</code></pre>\n<p>And this is the aspect</p>\n<pre><code>public class HibernateQueryExecutionTimeListener {\n\n\n    public Object find(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object save(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object saveOrUpdate(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n\n    public Object load(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long elapsedTime = System.currentTimeMillis() - startTime;\n        String method = joinPoint.getSignature().getName();\n        System.out.println(&quot;MethodName&quot; + method + &quot;, executed in &quot; + elapsedTime + &quot; ms: &quot; );\n        return result;\n    }\n\n}\n</code></pre>\n<p>And this are the configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\n\n    &lt;!-- Hibernate SessionFactory --&gt;\n    &lt;bean id=&quot;mySessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;\n            &lt;ref bean=&quot;myDataSource&quot;/&gt;\n        &lt;/property&gt;\n\n&lt;property name=&quot;mappingResources&quot;&gt;\n            &lt;list&gt;\n                        &lt;value&gt;com/javaEE/deliver/api/model/Customer.hbm.xml&lt;/value&gt;\n                        \n        &lt;/list&gt;\n        &lt;/property&gt;\n\n&lt;aop:aspectj-autoproxy /&gt;\n\n\n     &lt;bean id=&quot;hibernateQueryExecutionTimeListener&quot; class=&quot;com.isa.javaEE.deliver.core.HibernateQueryExecutionTimeListener&quot; /&gt;\n\n      &lt;aop:config&gt;\n        &lt;aop:aspect id=&quot;hibernateaspect&quot; ref=&quot;hibernateQueryExecutionTimeListener&quot; &gt;\n           &lt;aop:pointcut id=&quot;queryListAround&quot;   expression=&quot;execution(* org.hibernate.Query.list(..))&quot; /&gt;\n           &lt;aop:around method=&quot;find&quot; pointcut-ref=&quot;queryListAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;saveAround&quot;   expression=&quot;execution(* org.hibernate.Session.save(..))&quot; /&gt;\n           &lt;aop:around method=&quot;save&quot; pointcut-ref=&quot;saveAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;saveOrUpdateAround&quot;   expression=&quot;execution(* org.hibernate.Session.saveOrUpdate(..))&quot; /&gt;\n           &lt;aop:around method=&quot;saveOrUpdate&quot; pointcut-ref=&quot;saveOrUpdateAround&quot; /&gt;\n\n           &lt;aop:pointcut id=&quot;loadAround&quot;   expression=&quot;execution(* org.hibernate.Session.load(..))&quot; /&gt;\n           &lt;aop:around method=&quot;load&quot; pointcut-ref=&quot;loadAround&quot; /&gt;\n\n        &lt;/aop:aspect&gt;\n      &lt;/aop:config&gt;\n\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>And my problem is that this advices are never invoked at all, neither the logs are printing.So, I am not sure where to go next. How can I get a hold of Hibernate's Session object from my advice such that I can enable Hibernate filters? Thank you in advance!</p>\n<p>I tired changing the aop configurations and all, but I couldn't figure it out. I don't know if I even need to configure that anyways.</p>\n"},{"tags":["java","jfr","jmc"],"answers":[{"tags":[],"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681491596,"creation_date":1681491596,"answer_id":76017407,"question_id":76013045,"body_markdown":"Just ensure that you have all the proper bundles on the classpath. \r\n\r\nSee https://github.com/thegreystone/jmc-jshell for an example.","title":"Run JMC tool rools programmatically","body":"<p>Just ensure that you have all the proper bundles on the classpath.</p>\n<p>See <a href=\"https://github.com/thegreystone/jmc-jshell\" rel=\"nofollow noreferrer\">https://github.com/thegreystone/jmc-jshell</a> for an example.</p>\n"}],"owner":{"account_id":6926792,"reputation":113,"user_id":9517026,"display_name":"user9517026"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681491596,"creation_date":1681460890,"question_id":76013045,"body_markdown":"My goal is to write Java class that will analyze jfr dump and give warnings like JMC tool like in attached screenshot. For example: &quot;There are long socket read pauses&quot; or &quot;The JVM was paused for 100 % during ...&quot; etc.\r\n\r\nI saw an example of org.openjdk.jmc.flightrecorder.rules.RuleRegistry. However it contains no rules.\r\nHow can I export all rules that **JMC tool** runs on JFR dump and load them into my RuleRegistry?\r\n\t\t\r\n```\r\n        IItemCollection events = JfrLoaderToolkit.loadEvents(new File(&quot;abcd.jfr&quot;));\r\n\t\tfor (IRule rule : RuleRegistry.getRules())\r\n\t\t{\r\n\t\t\tRunnableFuture&lt;Result&gt; future = rule.evaluate(events, IPreferenceValueProvider.DEFAULT_VALUES); \r\nfuture.run(); \r\n\t\t\tResult result = future.get(); \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hd3Ub.png","title":"Run JMC tool rools programmatically","body":"<p>My goal is to write Java class that will analyze jfr dump and give warnings like JMC tool like in attached screenshot. For example: &quot;There are long socket read pauses&quot; or &quot;The JVM was paused for 100 % during ...&quot; etc.</p>\n<p>I saw an example of org.openjdk.jmc.flightrecorder.rules.RuleRegistry. However it contains no rules.\nHow can I export all rules that <strong>JMC tool</strong> runs on JFR dump and load them into my RuleRegistry?</p>\n<pre><code>        IItemCollection events = JfrLoaderToolkit.loadEvents(new File(&quot;abcd.jfr&quot;));\n        for (IRule rule : RuleRegistry.getRules())\n        {\n            RunnableFuture&lt;Result&gt; future = rule.evaluate(events, IPreferenceValueProvider.DEFAULT_VALUES); \nfuture.run(); \n            Result result = future.get(); \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Hd3Ub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hd3Ub.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1666400422,"post_id":74160382,"comment_id":130935455,"body_markdown":"Why do you need both schema.sql and liquibase? They cover the same functionality, with liquibase obviously being more powerful.","body":"Why do you need both schema.sql and liquibase? They cover the same functionality, with liquibase obviously being more powerful."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1666401674,"post_id":74160382,"comment_id":130935577,"body_markdown":"Have you tried manually creating databasechangeloglock ?","body":"Have you tried manually creating databasechangeloglock ?"},{"owner":{"account_id":26605019,"reputation":11,"user_id":20226036,"display_name":"Figo"},"score":0,"creation_date":1666404074,"post_id":74160382,"comment_id":130935801,"body_markdown":"I want to use schema.sql before using liquibase, because if I have default-schema and liquibase-schema configured in the application.properties, even if I have changeset to create the database schema, then when starting the application I will first throw an error that the configuration schema database does not exist. Unless you can somehow create another database schema through liqiubase before starting it?","body":"I want to use schema.sql before using liquibase, because if I have default-schema and liquibase-schema configured in the application.properties, even if I have changeset to create the database schema, then when starting the application I will first throw an error that the configuration schema database does not exist. Unless you can somehow create another database schema through liqiubase before starting it?"},{"owner":{"account_id":5712111,"reputation":331,"user_id":4513725,"display_name":"Lewis Florez R"},"score":0,"creation_date":1681491352,"post_id":74160382,"comment_id":134070560,"body_markdown":"I have the same problem with schema creation","body":"I have the same problem with schema creation"}],"owner":{"account_id":26605019,"reputation":11,"user_id":20226036,"display_name":"Figo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681491301,"creation_date":1666399898,"question_id":74160382,"body_markdown":"in spring boot version below 2.5.0 I had this configuration in application.properties:\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/mydb?currentSchema=myschema\r\n    spring.datasource.username=root\r\n    spring.datasource.password=pass\r\n    spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\r\n    spring.liquibase.default-schema=myschema\r\n    spring.liquibase.liquibase-schema=myschema\r\n\r\nadditionally, in the schema.sql file I had such a query to create a schema in the database:\r\n\r\n    CREATE SCHEMA IF NOT EXISTS myschema;\r\n\r\nwhile in spring boot from 2.5.0 the configuration field:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\nshould be replaced with:\r\n\r\n    spring.sql.init.mode=always\r\n\r\nunfortunately, after applying these changes from version 2.5.0, the liquibase solution does not work as expected and the database schema is not created. What is it caused or how can it be dealt with?\r\n\r\nthe errors that appear are:\r\n\r\n    2022-10-13 15:34:18.741  INFO 28767 --- [           main] liquibase.database                       : Set default schema name to null\r\n    2022-10-13 15:34:18.748  WARN 28767 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: no schema has been selected to create in\r\n      Pozycja: 14 [Failed SQL: (0) CREATE TABLE databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\r\n\r\nor\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;myschema&quot; does not exist\r\n      Pozycja: 14 [Failed SQL: (0) CREATE TABLE myschema.databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\r\n\r\nThe only solution I came up with was to turn off liqibase during the first start of the application, then the schema is created normally, but I would like to get help, how can I solve it differently?","title":"database schema creation with the use of liquibase at spring does not work","body":"<p>in spring boot version below 2.5.0 I had this configuration in application.properties:</p>\n<pre><code>spring.datasource.initialization-mode=always\nspring.datasource.url=jdbc:postgresql://localhost:5432/mydb?currentSchema=myschema\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\nspring.liquibase.default-schema=myschema\nspring.liquibase.liquibase-schema=myschema\n</code></pre>\n<p>additionally, in the schema.sql file I had such a query to create a schema in the database:</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS myschema;\n</code></pre>\n<p>while in spring boot from 2.5.0 the configuration field:</p>\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n<p>should be replaced with:</p>\n<pre><code>spring.sql.init.mode=always\n</code></pre>\n<p>unfortunately, after applying these changes from version 2.5.0, the liquibase solution does not work as expected and the database schema is not created. What is it caused or how can it be dealt with?</p>\n<p>the errors that appear are:</p>\n<pre><code>2022-10-13 15:34:18.741  INFO 28767 --- [           main] liquibase.database                       : Set default schema name to null\n2022-10-13 15:34:18.748  WARN 28767 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: no schema has been selected to create in\n  Pozycja: 14 [Failed SQL: (0) CREATE TABLE databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\n</code></pre>\n<p>or</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;myschema&quot; does not exist\n  Pozycja: 14 [Failed SQL: (0) CREATE TABLE myschema.databasechangeloglock (ID INTEGER NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP WITHOUT TIME ZONE, LOCKEDBY VARCHAR(255), CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (ID))]\n</code></pre>\n<p>The only solution I came up with was to turn off liqibase during the first start of the application, then the schema is created normally, but I would like to get help, how can I solve it differently?</p>\n"},{"tags":["java","sql-server","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680970613,"post_id":75966245,"comment_id":133985663,"body_markdown":"It looks like the fields actually stored in the database has been filled with trailing spaces. You can remove it with trim() method of String.","body":"It looks like the fields actually stored in the database has been filled with trailing spaces. You can remove it with trim() method of String."},{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1680971703,"post_id":75966245,"comment_id":133985797,"body_markdown":"@Mar-Z i don&#39;t think it&#39;s the cause of problem, i also tried change the varlue of nvarchar in database like nvarchar(5) instead of nvarchar(100) and the result alway the maximum number of character in  this case the output will be 5","body":"@Mar-Z i don&#39;t think it&#39;s the cause of problem, i also tried change the varlue of nvarchar in database like nvarchar(5) instead of nvarchar(100) and the result alway the maximum number of character in  this case the output will be 5"},{"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"score":0,"creation_date":1681048897,"post_id":75966245,"comment_id":133993188,"body_markdown":"@Mar-Z Tks u man, it seem i&#39;v found problems, its all about db, in db nchar type will automatically add space to fit length, when i use varchar instead every just go alright","body":"@Mar-Z Tks u man, it seem i&#39;v found problems, its all about db, in db nchar type will automatically add space to fit length, when i use varchar instead every just go alright"}],"answers":[{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680973676,"creation_date":1680972104,"answer_id":75966456,"question_id":75966245,"body_markdown":"Use @Size annotation instead of length. It will work\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name = &quot;Account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;Username&quot;)\r\n    @Size(max = 10)\r\n    private String username;\r\n\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n        // getters and setters\r\n    }\r\n\r\n```\r\n\r\nIf it still not works then please use\r\n```java\r\n\r\n@Column(length = 10)\r\n    @org.hibernate.annotations.ColumnTransformer(\r\n        read = &quot;trim(my_column)&quot;,\r\n        write = &quot;trim(?)&quot;\r\n    )\r\n    private String myColumn;\r\n\r\n```","title":"Confused about hibernate in spring mvc","body":"<p>Use @Size annotation instead of length. It will work</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;Account&quot;)\npublic class Account {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;Username&quot;)\n    @Size(max = 10)\n    private String username;\n\n    @Column(name = &quot;Password&quot;)\n    private String password;\n\n        // getters and setters\n    }\n\n</code></pre>\n<p>If it still not works then please use</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Column(length = 10)\n    @org.hibernate.annotations.ColumnTransformer(\n        read = &quot;trim(my_column)&quot;,\n        write = &quot;trim(?)&quot;\n    )\n    private String myColumn;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681490486,"creation_date":1681049051,"answer_id":75970988,"question_id":75966245,"body_markdown":"Thanks to everyone that commented in this post. I&#39;ve found the problem. The issue was caused by data type of database. nchar type is fixed length so when you insert data , the database will automatically add a number of space characters to fit in. For solution, just use varchar or nvarchar","title":"Confused about hibernate in spring mvc","body":"<p>Thanks to everyone that commented in this post. I've found the problem. The issue was caused by data type of database. nchar type is fixed length so when you insert data , the database will automatically add a number of space characters to fit in. For solution, just use varchar or nvarchar</p>\n"}],"owner":{"account_id":24503013,"reputation":23,"user_id":18418387,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681490486,"creation_date":1680969693,"question_id":75966245,"body_markdown":"i&#39;m very new in spring mvc and struggling with hibernate now. I can extract data from ms sql server but the length of string is always to set maximum to field (add duplicate backspace character i think). \r\nmy Entity\r\n```\r\n@Entity\r\n@Table(name = &quot;Account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;Username&quot;, length = 10)\r\n    private String username;\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n   //getter setter\r\n    \r\n}\r\n```\r\n\r\nMy controller \r\n\r\n```\r\n@Controller\r\npublic class HibernateController {\r\n\r\n    @Autowired\r\n    SessionFactory sessionFactory; \r\n\r\n    @GetMapping(&quot;/getu&quot;)\r\n    public String getUser() {\r\n        List&lt;Account&gt; list = getList();\r\n        for (Account account : list) {\r\n            System.out.println(&quot;name: &quot; + account.getUsername());\r\n            System.out.println(&quot;nameLength: &quot; + account.getUsername().length());\r\n            System.out.println(&quot;pass: &quot; + account.getPassword());\r\n\r\n        }\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @Transactional\r\n    public List&lt;Account&gt; getList() {\r\n        Session session = getSession();\r\n        String hql = &quot;FROM Account&quot;;\r\n        Query query = session.createQuery(hql);\r\n        return query.list();\r\n    }\r\n\r\n    public Session getSession() {\r\n        Session session;\r\n        try {\r\n            session = sessionFactory.getCurrentSession();\r\n        } catch (HibernateException e) {\r\n            session = sessionFactory.openSession();\r\n        }\r\n        return session;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nThis is my table just have field username(nvarchar100) and password(nvarchar100)\r\nInstead of having length of string exact the length for example &quot;david&quot; length is 5. My output when print account.getUsername().length() always is 100. Please help me with it","title":"Confused about hibernate in spring mvc","body":"<p>i'm very new in spring mvc and struggling with hibernate now. I can extract data from ms sql server but the length of string is always to set maximum to field (add duplicate backspace character i think).\nmy Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;Account&quot;)\npublic class Account {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;Username&quot;, length = 10)\n    private String username;\n    @Column(name = &quot;Password&quot;)\n    private String password;\n\n   //getter setter\n    \n}\n</code></pre>\n<p>My controller</p>\n<pre><code>@Controller\npublic class HibernateController {\n\n    @Autowired\n    SessionFactory sessionFactory; \n\n    @GetMapping(&quot;/getu&quot;)\n    public String getUser() {\n        List&lt;Account&gt; list = getList();\n        for (Account account : list) {\n            System.out.println(&quot;name: &quot; + account.getUsername());\n            System.out.println(&quot;nameLength: &quot; + account.getUsername().length());\n            System.out.println(&quot;pass: &quot; + account.getPassword());\n\n        }\n        return &quot;index&quot;;\n    }\n\n    @Transactional\n    public List&lt;Account&gt; getList() {\n        Session session = getSession();\n        String hql = &quot;FROM Account&quot;;\n        Query query = session.createQuery(hql);\n        return query.list();\n    }\n\n    public Session getSession() {\n        Session session;\n        try {\n            session = sessionFactory.getCurrentSession();\n        } catch (HibernateException e) {\n            session = sessionFactory.openSession();\n        }\n        return session;\n    }\n}\n\n</code></pre>\n<p>This is my table just have field username(nvarchar100) and password(nvarchar100)\nInstead of having length of string exact the length for example &quot;david&quot; length is 5. My output when print account.getUsername().length() always is 100. Please help me with it</p>\n"},{"tags":["java","itext","pdfa"],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1441186879,"creation_date":1441186879,"answer_id":32349744,"question_id":32349517,"body_markdown":"Your claim *I have the ZapfDingbats font embedded* is wrong.\r\n\r\nGranted, you define the font like this:\r\n\r\n    Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS,\r\n        BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\r\n\r\nAs you use `BaseFont.EMBEDDED`, you might assume that the font will be embedded, **but it isn&#39;t.** You can check this by using that font in any other PDF that isn&#39;t PDF/A: if you go to *Document Properties &gt; Fonts*, you&#39;ll see that the font isn&#39;t embedded.\r\n\r\n**Why is this?**\r\n\r\nThere are 14 special fonts in PDF. We refer to them as the *Standard Type 1 fonts*. Every PDF viewer should be able to render text that uses those fonts, hence these fonts don&#39;t need to be embedded: 4 Helvetica fonts (regular, bold, italic, bold-italic), 4 Times Roman fonts (regular, bold, italic, bold-italic), 4 Courier fonts (regular, bold, italic, bold-italic), Symbol and Zapfdingbats.\r\n\r\niText ships with the AFM files of these fonts. AFM stands for *Adobe Font Metrics* and the files contain data about the widths, bounding boxes, and other metrics of glyphs that are available in each font.\r\n\r\nThe actual description of the *shape* of these fonts isn&#39;t shipped with iText. These are stored in a PFB (Printer Font Binary) file. Without these PFB files, iText can&#39;t (and won&#39;t) embed these Standard Type 1 fonts.\r\n\r\n**In other words:** iText ignores the `BaseFont.EMBEDDED` parameter.\r\n\r\nThis is documented on many places. If you want to create PDF/A, you need font files, such as TTF, OTF, TTC files, or a combination of AFM and PFB files.","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>Your claim <em>I have the ZapfDingbats font embedded</em> is wrong.</p>\n\n<p>Granted, you define the font like this:</p>\n\n<pre><code>Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS,\n    BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\n</code></pre>\n\n<p>As you use <code>BaseFont.EMBEDDED</code>, you might assume that the font will be embedded, <strong>but it isn't.</strong> You can check this by using that font in any other PDF that isn't PDF/A: if you go to <em>Document Properties > Fonts</em>, you'll see that the font isn't embedded.</p>\n\n<p><strong>Why is this?</strong></p>\n\n<p>There are 14 special fonts in PDF. We refer to them as the <em>Standard Type 1 fonts</em>. Every PDF viewer should be able to render text that uses those fonts, hence these fonts don't need to be embedded: 4 Helvetica fonts (regular, bold, italic, bold-italic), 4 Times Roman fonts (regular, bold, italic, bold-italic), 4 Courier fonts (regular, bold, italic, bold-italic), Symbol and Zapfdingbats.</p>\n\n<p>iText ships with the AFM files of these fonts. AFM stands for <em>Adobe Font Metrics</em> and the files contain data about the widths, bounding boxes, and other metrics of glyphs that are available in each font.</p>\n\n<p>The actual description of the <em>shape</em> of these fonts isn't shipped with iText. These are stored in a PFB (Printer Font Binary) file. Without these PFB files, iText can't (and won't) embed these Standard Type 1 fonts.</p>\n\n<p><strong>In other words:</strong> iText ignores the <code>BaseFont.EMBEDDED</code> parameter.</p>\n\n<p>This is documented on many places. If you want to create PDF/A, you need font files, such as TTF, OTF, TTC files, or a combination of AFM and PFB files.</p>\n"},{"tags":[],"owner":{"account_id":11219662,"reputation":1,"user_id":8231184,"display_name":"karbek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498732814,"creation_date":1498732814,"answer_id":44822898,"question_id":32349517,"body_markdown":"you must add the &quot;jasperreports-fonts-&lt;version-number&gt;&quot; jar to your classpath.","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>you must add the \"jasperreports-fonts-\" jar to your classpath.</p>\n"},{"tags":[],"owner":{"account_id":28306610,"reputation":1,"user_id":21644527,"display_name":"Noranti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681490368,"creation_date":1681490368,"answer_id":76017257,"question_id":32349517,"body_markdown":"old thread, but for reference for those who came here, a note: PDF form fields do not work with PDF-A ... if PDF-A is omitted, then the error message to &quot;ZapfDingbats&quot; also disappears","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>old thread, but for reference for those who came here, a note: PDF form fields do not work with PDF-A ... if PDF-A is omitted, then the error message to &quot;ZapfDingbats&quot; also disappears</p>\n"}],"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32349744,"answer_count":3,"score":0,"last_activity_date":1681490368,"creation_date":1441186250,"question_id":32349517,"body_markdown":"I have a class given below which is giving me Exception: `Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.pdf.PdfAConformanceException: All the fonts must be embedded. This one isn&#39;t: ZapfDingbats`\r\nI have the `ZapfDingbats` font embedded but I am still getting this `Exception`.\r\nWhat i am trying to achieve here is create a `list` with a `bullet` in front of every `item` in the `list`.\r\nWhat am i missing here?\r\n\r\n    public class SquareBullet {\r\n    \tpublic static void main(String[] args) throws IOException, DocumentException, XMPException {\r\n    \t\tDocument document = new Document();\r\n    \t\tPdfAWriter writer = PdfAWriter.getInstance(document, new FileOutputStream(&quot;list.pdf&quot;), PdfAConformanceLevel.PDF_A_1A);\r\n    \t\twriter.setViewerPreferences(PdfAWriter.PageModeUseOutlines);\r\n    \t\twriter.setRunDirection(PdfAWriter.RUN_DIRECTION_LTR);\r\n    \t\twriter.setTagged(PdfAWriter.markAll);\r\n    \t\twriter.createXmpMetadata();\r\n    \t\tXmpWriter xmp = writer.getXmpWriter();\r\n    \r\n    \t\tDublinCoreProperties.addSubject(xmp.getXmpMeta(), &quot;Subject&quot;);\r\n    \t\tDublinCoreProperties.setTitle(xmp.getXmpMeta(), &quot;Title&quot;, &quot;en_US&quot;, &quot;en_US&quot;);\r\n    \t\tDublinCoreProperties.setDescription(xmp.getXmpMeta(), &quot;Description&quot;, &quot;en_US&quot;, &quot;en_US&quot;);\r\n    \t\tPdfProperties.setKeywords(xmp.getXmpMeta(), &quot;Keywords&quot;);\r\n    \t\tPdfProperties.setVersion(xmp.getXmpMeta(), &quot;1.4&quot;);\r\n    \t\tdocument.addLanguage(&quot;en_US&quot;);\r\n    \t\tdocument.open();\r\n    \t\tFont font = FontFactory.getFont(FontFactory.ZAPFDINGBATS, BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\r\n    \t\tFont font1 = FontFactory.getFont(FontFactory.HELVETICA, BaseFont.WINANSI, BaseFont.EMBEDDED, 12);\r\n    \t\tICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(&quot;sRGB Color Space Profile.icm&quot;));\r\n    \t\twriter.setOutputIntents(&quot;Custom&quot;, &quot;&quot;, &quot;http://www.color.org&quot;, &quot;sRGB IEC61966-2.1&quot;, icc);\r\n    \t\tList list = new List(10);\r\n    \t\tlist.setListSymbol(new Chunk(String.valueOf((char)110), font));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 1&quot;, font1)));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 2&quot;, font1)));\r\n    \t\tlist.add(new ListItem(new Chunk(&quot;Test 3&quot;, font1)));\r\n    \t\tdocument.add(list);\r\n    \t\tdocument.close();\r\n    \t}\r\n    }","title":"Font embedding error PDFA/1a iText 5.5.6","body":"<p>I have a class given below which is giving me Exception: <code>Exception in thread \"main\" com.itextpdf.text.DocumentException: com.itextpdf.text.pdf.PdfAConformanceException: All the fonts must be embedded. This one isn't: ZapfDingbats</code>\nI have the <code>ZapfDingbats</code> font embedded but I am still getting this <code>Exception</code>.\nWhat i am trying to achieve here is create a <code>list</code> with a <code>bullet</code> in front of every <code>item</code> in the <code>list</code>.\nWhat am i missing here?</p>\n\n<pre><code>public class SquareBullet {\n    public static void main(String[] args) throws IOException, DocumentException, XMPException {\n        Document document = new Document();\n        PdfAWriter writer = PdfAWriter.getInstance(document, new FileOutputStream(\"list.pdf\"), PdfAConformanceLevel.PDF_A_1A);\n        writer.setViewerPreferences(PdfAWriter.PageModeUseOutlines);\n        writer.setRunDirection(PdfAWriter.RUN_DIRECTION_LTR);\n        writer.setTagged(PdfAWriter.markAll);\n        writer.createXmpMetadata();\n        XmpWriter xmp = writer.getXmpWriter();\n\n        DublinCoreProperties.addSubject(xmp.getXmpMeta(), \"Subject\");\n        DublinCoreProperties.setTitle(xmp.getXmpMeta(), \"Title\", \"en_US\", \"en_US\");\n        DublinCoreProperties.setDescription(xmp.getXmpMeta(), \"Description\", \"en_US\", \"en_US\");\n        PdfProperties.setKeywords(xmp.getXmpMeta(), \"Keywords\");\n        PdfProperties.setVersion(xmp.getXmpMeta(), \"1.4\");\n        document.addLanguage(\"en_US\");\n        document.open();\n        Font font = FontFactory.getFont(FontFactory.ZAPFDINGBATS, BaseFont.ZAPFDINGBATS, BaseFont.EMBEDDED, 12);\n        Font font1 = FontFactory.getFont(FontFactory.HELVETICA, BaseFont.WINANSI, BaseFont.EMBEDDED, 12);\n        ICC_Profile icc = ICC_Profile.getInstance(new FileInputStream(\"sRGB Color Space Profile.icm\"));\n        writer.setOutputIntents(\"Custom\", \"\", \"http://www.color.org\", \"sRGB IEC61966-2.1\", icc);\n        List list = new List(10);\n        list.setListSymbol(new Chunk(String.valueOf((char)110), font));\n        list.add(new ListItem(new Chunk(\"Test 1\", font1)));\n        list.add(new ListItem(new Chunk(\"Test 2\", font1)));\n        list.add(new ListItem(new Chunk(\"Test 3\", font1)));\n        document.add(list);\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","date","timestamp","simpledateformat","netbeans-7.1"],"answers":[{"tags":[],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1382537745,"creation_date":1382537745,"answer_id":19544236,"question_id":19544067,"body_markdown":"You do not need to use substring at all since your `format` doesn&#39;t hold that info.\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String fechaStr = &quot;2013-10-10 10:49:29.10000&quot;;\t\r\n    Date fechaNueva = format.parse(fechaStr);\r\n    \r\n    System.out.println(format.format(fechaNueva)); // Prints 2013-10-10 10:49:29","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<p>You do not need to use substring at all since your <code>format</code> doesn't hold that info.</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nString fechaStr = \"2013-10-10 10:49:29.10000\";  \nDate fechaNueva = format.parse(fechaStr);\n\nSystem.out.println(format.format(fechaNueva)); // Prints 2013-10-10 10:49:29\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681490020,"creation_date":1471415983,"answer_id":38989706,"question_id":19544067,"body_markdown":"# A date-time object is not a String\r\n\r\nThe java.sql.Timestamp class has no format. Its toString method *generates* a String with a format. \r\n\r\nDo not conflate a date-time object with a String that may represent its value. A date-time object can parse strings and generate strings but is not itself a string.\r\n\r\n# java.time\r\n\r\nFirst convert from the troubled old legacy date-time classes to java.time classes. Use the new methods added to the old classes.\r\n\r\n    Instant instant = mySqlDate.toInstant() ;\r\n\r\nLose the fraction of a second you don&#39;t want.\r\n\r\n    instant = instant.truncatedTo( ChronoUnit.SECONDS );\r\n\r\nAssign the time zone to adjust from UTC used by Instant.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nGenerate a String close to your desired output. Replace its `T` in the middle with a SPACE.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ISO_LOCAL_DATE_TIME ;\r\n    String output = zdt.format( f ).replace( &quot;T&quot; , &quot; &quot; );","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<h1>A date-time object is not a String</h1>\n<p>The java.sql.Timestamp class has no format. Its toString method <em>generates</em> a String with a format.</p>\n<p>Do not conflate a date-time object with a String that may represent its value. A date-time object can parse strings and generate strings but is not itself a string.</p>\n<h1>java.time</h1>\n<p>First convert from the troubled old legacy date-time classes to java.time classes. Use the new methods added to the old classes.</p>\n<pre><code>Instant instant = mySqlDate.toInstant() ;\n</code></pre>\n<p>Lose the fraction of a second you don't want.</p>\n<pre><code>instant = instant.truncatedTo( ChronoUnit.SECONDS );\n</code></pre>\n<p>Assign the time zone to adjust from UTC used by Instant.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; ) ;\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n<p>Generate a String close to your desired output. Replace its <code>T</code> in the middle with a SPACE.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ISO_LOCAL_DATE_TIME ;\nString output = zdt.format( f ).replace( &quot;T&quot; , &quot; &quot; );\n</code></pre>\n"}],"owner":{"account_id":2640488,"reputation":93,"user_id":2284257,"display_name":"user2284257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125054,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":19544236,"answer_count":2,"score":9,"last_activity_date":1681490020,"creation_date":1382537351,"question_id":19544067,"body_markdown":"Well, I&#39;m having a detail using a `Date`, because I&#39;m getting an Object from my DataBase and in the variable &quot;fecha&quot; (date) from that same object I&#39;m getting a `java.sql.Timestamp`, so the formatt is with miliseconds, but i don&#39;t want the miliseconds to appear. So i need to formatt the date that I&#39;m receiving from my DB to a new date that doesn&#39;t have miliseconds.\r\n\r\nThis is the object Factura:\r\n\r\n    public class Factura  implements java.io.Serializable {\r\n\r\n     private FacturaId id;\r\n     ...\r\n     private boolean activo;\r\n     private Date fecha;\r\n    }\r\n\r\nIn the xml that is mapped to the DB I have this code for that variable &quot;fecha&quot;:\r\n\r\n    &lt;property name=&quot;fecha&quot; type=&quot;timestamp&quot;&gt;\r\n      &lt;column length=&quot;19&quot; name=&quot;fecha&quot; not-null=&quot;true&quot;/&gt;\r\n    &lt;/property&gt;\r\n\r\nIn the Database that column is `fecha DATETIME`.\r\n\r\nAnd when I get an object `Factura` from my DB I&#39;m getting this kind of date `2013-10-10 10:49:29.0` but I want it without the `.0` (miliseconds). \r\n\r\nI&#39;ve tried this (`factura` is the `Factura` object):\r\n\r\n    try {\r\n       SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n       Date fechaNueva = null;\r\n       String fechaStr = factura.getFecha().toString();\r\n       int tama&#241;o = fechaStr.length()-2;\r\n       fechaStr = fechaStr.substring(0, tama&#241;o); //I get a string without the miliseconds\r\n       fechaNueva = format.parse(fechaStr);\r\n    } catch(ParseException ex) {\r\n       ...\r\n    }\r\n\r\nBut `fechaNueva` is giving me `Thu Oct 10 10:49:29 CDT 2013` and I only want `2013-10-10 10:49:29`, can you help me, please?\r\n\r\nThanks a lot, in advance.","title":"How to format a java.sql.Timestamp(yyyy-MM-dd HH:mm:ss.S) to a date(yyyy-MM-dd HH:mm:ss)","body":"<p>Well, I'm having a detail using a <code>Date</code>, because I'm getting an Object from my DataBase and in the variable \"fecha\" (date) from that same object I'm getting a <code>java.sql.Timestamp</code>, so the formatt is with miliseconds, but i don't want the miliseconds to appear. So i need to formatt the date that I'm receiving from my DB to a new date that doesn't have miliseconds.</p>\n\n<p>This is the object Factura:</p>\n\n<pre><code>public class Factura  implements java.io.Serializable {\n\n private FacturaId id;\n ...\n private boolean activo;\n private Date fecha;\n}\n</code></pre>\n\n<p>In the xml that is mapped to the DB I have this code for that variable \"fecha\":</p>\n\n<pre><code>&lt;property name=\"fecha\" type=\"timestamp\"&gt;\n  &lt;column length=\"19\" name=\"fecha\" not-null=\"true\"/&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>In the Database that column is <code>fecha DATETIME</code>.</p>\n\n<p>And when I get an object <code>Factura</code> from my DB I'm getting this kind of date <code>2013-10-10 10:49:29.0</code> but I want it without the <code>.0</code> (miliseconds). </p>\n\n<p>I've tried this (<code>factura</code> is the <code>Factura</code> object):</p>\n\n<pre><code>try {\n   SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n   Date fechaNueva = null;\n   String fechaStr = factura.getFecha().toString();\n   int tamaño = fechaStr.length()-2;\n   fechaStr = fechaStr.substring(0, tamaño); //I get a string without the miliseconds\n   fechaNueva = format.parse(fechaStr);\n} catch(ParseException ex) {\n   ...\n}\n</code></pre>\n\n<p>But <code>fechaNueva</code> is giving me <code>Thu Oct 10 10:49:29 CDT 2013</code> and I only want <code>2013-10-10 10:49:29</code>, can you help me, please?</p>\n\n<p>Thanks a lot, in advance.</p>\n"},{"tags":["java","spring-boot","junit","cucumber","spring-test"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1681499577,"post_id":76017179,"comment_id":134072082,"body_markdown":"What does your package structure look like?","body":"What does your package structure look like?"}],"owner":{"account_id":26186505,"reputation":11,"user_id":19868973,"display_name":"Ray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681489873,"creation_date":1681489789,"question_id":76017179,"body_markdown":"I found a strange problem. When I use springboot 2.6.5 + 7.3.8 cucumber, the console prints the cucumber logs but not the springboot logs and it does not run any of the scenario.\r\nI tried to run springtest with just junit which is fine and tested that the feature resources are addressed correctly, but I still have this problem. And when I comment out @springtest and @CucumberContextConfiguration, cucumber still runs and  doesn&#39;t report any errors.\r\nMainTestclass:\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = {&quot;classpath:features&quot;},\r\n        glue = {&quot;com.my.example.project.step&quot;},\r\n        plugin = {&quot;pretty&quot;,&quot;html:target/html-reports.htm&quot;}\r\n)\r\npublic class ApplicationTest {\r\n\r\n}\r\n```\r\ncucumber config\r\n```\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = {SpringTestConfig.class, MockObjectConfiguration.class})\r\npublic class CucumberSpringContextConfiguration {\r\n\r\n    @Autowired\r\n    private List&lt;Resetable&gt; resetables;\r\n\r\n    @Before\r\n    public void init() {\r\n        CollectionUtils.emptyIfNull(resetables).stream().forEach(v -&gt; v.reset());\r\n    }\r\n}\r\n```\r\nSpring test config\r\n```\r\n@Configuration\r\n@ComponentScan(\r\n        basePackages = {&quot;com.my.example.project&quot;},\r\n        excludeFilters = {\r\n                @ComponentScan.Filter(type = FilterType.ANNOTATION,classes = ComponentNotScanInTest.class),\r\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.helper\\\\..*&quot;),\r\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.infrastructure\\\\.persistence\\\\repository\\\\..*&quot;)\r\n        }\r\n)\r\npublic class SpringTestConfig {\r\n}\r\n\r\n```\r\n[error page][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Oj3Hn.png\r\n\r\n I hope it can start with spring test","title":"Cucumber with springboot2.6.5 doesn&#39;t work","body":"<p>I found a strange problem. When I use springboot 2.6.5 + 7.3.8 cucumber, the console prints the cucumber logs but not the springboot logs and it does not run any of the scenario.\nI tried to run springtest with just junit which is fine and tested that the feature resources are addressed correctly, but I still have this problem. And when I comment out @springtest and @CucumberContextConfiguration, cucumber still runs and  doesn't report any errors.\nMainTestclass:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;classpath:features&quot;},\n        glue = {&quot;com.my.example.project.step&quot;},\n        plugin = {&quot;pretty&quot;,&quot;html:target/html-reports.htm&quot;}\n)\npublic class ApplicationTest {\n\n}\n</code></pre>\n<p>cucumber config</p>\n<pre><code>@CucumberContextConfiguration\n@SpringBootTest(classes = {SpringTestConfig.class, MockObjectConfiguration.class})\npublic class CucumberSpringContextConfiguration {\n\n    @Autowired\n    private List&lt;Resetable&gt; resetables;\n\n    @Before\n    public void init() {\n        CollectionUtils.emptyIfNull(resetables).stream().forEach(v -&gt; v.reset());\n    }\n}\n</code></pre>\n<p>Spring test config</p>\n<pre><code>@Configuration\n@ComponentScan(\n        basePackages = {&quot;com.my.example.project&quot;},\n        excludeFilters = {\n                @ComponentScan.Filter(type = FilterType.ANNOTATION,classes = ComponentNotScanInTest.class),\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.helper\\\\..*&quot;),\n                @ComponentScan.Filter(type = FilterType.REGEX,pattern = &quot;.*\\\\.infrastructure\\\\.persistence\\\\repository\\\\..*&quot;)\n        }\n)\npublic class SpringTestConfig {\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Oj3Hn.png\" rel=\"nofollow noreferrer\">error page</a></p>\n<p>I hope it can start with spring test</p>\n"},{"tags":["java","spring","amazon-ec2","google-oauth","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1914566,"reputation":410,"user_id":1727416,"accept_rate":29,"display_name":"Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681489482,"creation_date":1651267430,"answer_id":72063822,"question_id":72051121,"body_markdown":"It&#39;s always the little things!&lt;br&gt;\r\nTo have google login work in local, you only need `client-id`.&lt;br&gt;\r\nWorks as expected after I added the long forgotten `client-secret`.&lt;br&gt;\r\n","title":"google spring oauth2 client works on local but not on internet","body":"<p>It's always the little things!<br>\nTo have google login work in local, you only need <code>client-id</code>.<br>\nWorks as expected after I added the long forgotten <code>client-secret</code>.<br></p>\n"}],"owner":{"account_id":1914566,"reputation":410,"user_id":1727416,"accept_rate":29,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72063822,"answer_count":1,"score":0,"last_activity_date":1681489482,"creation_date":1651187194,"question_id":72051121,"body_markdown":"&lt;br&gt;\r\nI am here after pulling some hair out.&lt;br&gt;\r\nThe login with google oauth2 works fine in local but failed under public domain.&lt;br&gt;\r\nHere are the logs from both:\r\n\r\n    ==== request in local\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\r\n    2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWghwFo-03F8JRldcp8xsqSzg31NkVZpHnPqpdXV4hNcTKehChPzrSaTqRVBfh8g4w], redirect_uri=[http://localhost:8080/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\r\n    2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\r\n    2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as &quot;application/json;charset=utf-8&quot;\r\n    2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/certs\r\n    2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\r\n    2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\r\n    2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json;charset=UTF-8&quot;\r\n    \r\n    \r\n    =====request under public domain\r\n    2022-04-28 16:54:05.949 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\r\n    2022-04-28 16:54:05.956 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\r\n    2022-04-28 16:54:05.957 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q], redirect_uri=[https://www.clubspj.com/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\r\n    2022-04-28 16:54:06.064 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Response 400 BAD_REQUEST\r\n\r\nI made sure the url is matching &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NehO5.png\r\n\r\nUsing this library, version is 2.6.7\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nFollowing are the requests made in order when trying to login with google oauth2\r\n\r\n    GET 302 https://www.clubspj.com/oauth2/authorization/google\r\n\r\n    GET 200 https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;client_id=294427952059-ngva8hkoa4cl1af249repefc8lnksl87.apps.googleusercontent.com&amp;scope=openid%20profile%20email&amp;state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;redirect_uri=https://www.clubspj.com/login/oauth2/code/google&amp;nonce=3S3BLRPDsdXB6orOGF52YFIHnbyaLLtO8NGjHEDILYo\r\n    \r\n    GET 302 https://accounts.google.com/signin/oauth/consent?authuser=0&amp;part=AJi8hANiL7v0LYZsyPvT1Vg6t-K2lzlwtCjwELEoi84mtcyDyjIAhY3FkooOuQ9YwoG10HrQyEv3f4H4ZNN_mVry937SfMm_68H1Zw9ZJfkgRVkPM5aTYsa7jdctKNJWe4I4mEJFxeQ0iqizcZfEXw-COkk3L_3wW1CxL2gwCygMud5-Qv1nDJMblMV1dl2CtaWamt30GyrWoaG_g14mRGLvcmHHruvQD3Uid7t0PI9hNtYYqewJLTdCi6dmn8pLa7MJPqEHdp2nyKJf5YSPqAskAn4BX-_aaLXKeNnQJhC2Cjzpwnux_zKol50e8ymHU5PQpP5hU23lArmBPXU3shEEi4m_yA2R41p8vFaB3f9HpOqp9ThEgMp8nv_po6C7Kk3qLMoWR2COAYvv4zflcA_157vUt6jhDpKoLw2cf7Fbq_4afG1QKiI8x9LOn4iJq6Q2JBh_AxlX9truJZb45fNbDI1nfnrOEQ&amp;as=S-872222817%3A1651179243534195&amp;pli=1&amp;rapt=AEjHL4MtRiws0sgSbs9qRhpREDRpzEWcleEMkDeuoK78Ie-A3UissN40zZ2GdDLIIqoA4P7tjoqyQgVmVDmgmqt8a2qv_ElA-w\r\n    GET 302 https://www.clubspj.com/login/oauth2/code/google?state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;code=4%2F0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q&amp;scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;authuser=0&amp;prompt=none\r\nthe last request caused error and redirected to login?error, details of the request:&lt;br&gt;\r\n**Response Header:**&lt;br&gt;\r\n\r\n    HTTP/1.1 302\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    Pragma: no-cache\r\n    Expires: 0\r\n    Strict-Transport-Security: max-age=31536000 ; includeSubDomains\r\n    X-Frame-Options: DENY\r\n    Location: https://www.clubspj.com/login?error\r\n    Content-Length: 0\r\n    Date: Thu, 28 Apr 2022 20:54:06 GMT\r\n    Keep-Alive: timeout=60\r\n    Connection: keep-alive\r\n    \r\n**Request Header:**&lt;br&gt;\r\n\r\n    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\n    Accept-Encoding: gzip, deflate, br\r\n    Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7\r\n    Connection: keep-alive\r\n    Cookie: AWSALBTG=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; AWSALBTGCORS=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; JSESSIONID=7F3D126AA8A114A2EAB4937EB1A911DA\r\n    Host: www.clubspj.com\r\n    Referer: https://accounts.google.com/\r\n    sec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\r\n    sec-ch-ua-mobile: ?0\r\n    sec-ch-ua-platform: &quot;Windows&quot;\r\n    Sec-Fetch-Dest: document\r\n    Sec-Fetch-Mode: navigate\r\n    Sec-Fetch-Site: cross-site\r\n    Sec-Fetch-User: ?1\r\n    Upgrade-Insecure-Requests: 1\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\r\n\r\nLastly I am running app on EC2 under elastic IP. Verified that all the JSESSIONID are the same between clubspj.com requests.&lt;br&gt;\r\n\r\nThanks in advance!","title":"google spring oauth2 client works on local but not on internet","body":"<br>\nI am here after pulling some hair out.<br>\nThe login with google oauth2 works fine in local but failed under public domain.<br>\nHere are the logs from both:\n<pre><code>==== request in local\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\n2022-04-28 17:11:26.080 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWghwFo-03F8JRldcp8xsqSzg31NkVZpHnPqpdXV4hNcTKehChPzrSaTqRVBfh8g4w], redirect_uri=[http://localhost:8080/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\n2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\n2022-04-28 17:11:26.225 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as &quot;application/json;charset=utf-8&quot;\n2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/certs\n2022-04-28 17:11:26.226 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Accept=[text/plain, application/json, application/*+json, */*]\n2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Response 200 OK\n2022-04-28 17:11:26.242 DEBUG 11004 --- [nio-8080-exec-6] o.s.web.client.RestTemplate              : Reading to [java.lang.String] as &quot;application/json;charset=UTF-8&quot;\n\n\n=====request under public domain\n2022-04-28 16:54:05.949 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token\n2022-04-28 16:54:05.956 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]\n2022-04-28 16:54:05.957 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q], redirect_uri=[https://www.clubspj.com/login/oauth2/code/google]}] as &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;\n2022-04-28 16:54:06.064 DEBUG 13353 --- [nio-8443-exec-3] o.s.web.client.RestTemplate              : Response 400 BAD_REQUEST\n</code></pre>\n<p>I made sure the url is matching <br>\n<a href=\"https://i.stack.imgur.com/NehO5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NehO5.png\" alt=\"enter image description here\" /></a></p>\n<p>Using this library, version is 2.6.7</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Following are the requests made in order when trying to login with google oauth2</p>\n<pre><code>GET 302 https://www.clubspj.com/oauth2/authorization/google\n\nGET 200 https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;client_id=294427952059-ngva8hkoa4cl1af249repefc8lnksl87.apps.googleusercontent.com&amp;scope=openid%20profile%20email&amp;state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;redirect_uri=https://www.clubspj.com/login/oauth2/code/google&amp;nonce=3S3BLRPDsdXB6orOGF52YFIHnbyaLLtO8NGjHEDILYo\n\nGET 302 https://accounts.google.com/signin/oauth/consent?authuser=0&amp;part=AJi8hANiL7v0LYZsyPvT1Vg6t-K2lzlwtCjwELEoi84mtcyDyjIAhY3FkooOuQ9YwoG10HrQyEv3f4H4ZNN_mVry937SfMm_68H1Zw9ZJfkgRVkPM5aTYsa7jdctKNJWe4I4mEJFxeQ0iqizcZfEXw-COkk3L_3wW1CxL2gwCygMud5-Qv1nDJMblMV1dl2CtaWamt30GyrWoaG_g14mRGLvcmHHruvQD3Uid7t0PI9hNtYYqewJLTdCi6dmn8pLa7MJPqEHdp2nyKJf5YSPqAskAn4BX-_aaLXKeNnQJhC2Cjzpwnux_zKol50e8ymHU5PQpP5hU23lArmBPXU3shEEi4m_yA2R41p8vFaB3f9HpOqp9ThEgMp8nv_po6C7Kk3qLMoWR2COAYvv4zflcA_157vUt6jhDpKoLw2cf7Fbq_4afG1QKiI8x9LOn4iJq6Q2JBh_AxlX9truJZb45fNbDI1nfnrOEQ&amp;as=S-872222817%3A1651179243534195&amp;pli=1&amp;rapt=AEjHL4MtRiws0sgSbs9qRhpREDRpzEWcleEMkDeuoK78Ie-A3UissN40zZ2GdDLIIqoA4P7tjoqyQgVmVDmgmqt8a2qv_ElA-w\nGET 302 https://www.clubspj.com/login/oauth2/code/google?state=hiwVEoh6pbzGA4HueQpsF_MydzpyJ5uxnS7FcAoRaKM%3D&amp;code=4%2F0AX4XfWjfng4hE-uzmk1CnWgRz922In29TeNs9efZxigfeSaVwvvoCrk-b56rOzFeMEDn0Q&amp;scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;authuser=0&amp;prompt=none\n</code></pre>\n<p>the last request caused error and redirected to login?error, details of the request:<br>\n<strong>Response Header:</strong><br></p>\n<pre><code>HTTP/1.1 302\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nStrict-Transport-Security: max-age=31536000 ; includeSubDomains\nX-Frame-Options: DENY\nLocation: https://www.clubspj.com/login?error\nContent-Length: 0\nDate: Thu, 28 Apr 2022 20:54:06 GMT\nKeep-Alive: timeout=60\nConnection: keep-alive\n</code></pre>\n<p><strong>Request Header:</strong><br></p>\n<pre><code>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7\nConnection: keep-alive\nCookie: AWSALBTG=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; AWSALBTGCORS=5EB4qie5RCxExuTp2gqDRZuZGDgJBVO8lBlofFhpkZA0J9iQ7JahcSn/jvAmef/eRSL0GALK9P9xcOZgNLSWIwcEEMSRslwigzMPrZQFpQ2pmLPKSx9Apn19TlEENuLOMFmRgG7bbIziTYB+RyqCLZosHMvIIU7Wbcmhsdlz6e1JL9NKYJU=; JSESSIONID=7F3D126AA8A114A2EAB4937EB1A911DA\nHost: www.clubspj.com\nReferer: https://accounts.google.com/\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: cross-site\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\n</code></pre>\n<p>Lastly I am running app on EC2 under elastic IP. Verified that all the JSESSIONID are the same between clubspj.com requests.<br></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","jackson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1681487728,"post_id":76015610,"comment_id":134069670,"body_markdown":"Generally, you would look at the response status rather than assuming the response is valid. If the response status isn&#39;t 200, then deserialize as an error object so you can log the error and then return null.","body":"Generally, you would look at the response status rather than assuming the response is valid. If the response status isn&#39;t 200, then deserialize as an error object so you can log the error and then return null."}],"answers":[{"tags":[],"owner":{"display_name":"user15773347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479203,"creation_date":1681479203,"answer_id":76015652,"question_id":76015610,"body_markdown":"You can configure Jackson&#39;s `ObjectMapper` to return a null object when deserializing a JSON response that does not match the POJO class. \r\n\r\nHere is some code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.findAndRegisterModules();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\r\n    \r\n    String responseBody = response.body().string();\r\n    POJO pojo = null;\r\n    \r\n    try {\r\n        pojo = mapper.readValue(responseBody, POJO.class);\r\n    } catch (JsonProcessingException e) {\r\n        // Handle exception if needed\r\n    }\r\n    \r\n   \r\n    if (pojo == null) {\r\n        pojo = new POJO();\r\n    }\r\n\r\nThis way, if the JSON response does not contain properties that match the POJO class, the resulting POJO object will have all its properties set to null, as per your requirement.","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>You can configure Jackson's <code>ObjectMapper</code> to return a null object when deserializing a JSON response that does not match the POJO class.</p>\n<p>Here is some code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.findAndRegisterModules();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nmapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\n\nString responseBody = response.body().string();\nPOJO pojo = null;\n\ntry {\n    pojo = mapper.readValue(responseBody, POJO.class);\n} catch (JsonProcessingException e) {\n    // Handle exception if needed\n}\n\n\nif (pojo == null) {\n    pojo = new POJO();\n}\n</code></pre>\n<p>This way, if the JSON response does not contain properties that match the POJO class, the resulting POJO object will have all its properties set to null, as per your requirement.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681489277,"creation_date":1681489277,"answer_id":76017127,"question_id":76015610,"body_markdown":"You need to read POJO response only and only when valid response status received - normally `HTTP/1.1 200 Ok`. In other cases - read it as a error response:\r\n```\r\n@Getter\r\nclass ErrorStatus {\r\n    int status;\r\n    String message;\r\n}\r\n\r\n@Getter\r\nclass ErrorResponse {\r\n    ErrorStatus error;\r\n}\r\n\r\nif (response.status().code() != 200) {\r\n    ErrorResponse errorResponse = mapper.readValue(response.body().string(), ErrorResponse.class);\r\n    System.out.println(&quot;error: &quot; + errorResponse);\r\n    return;\r\n}\r\n\r\nPOJO pojo = mapper.readValue(response.body().string(), POJO.class);\r\n```","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>You need to read POJO response only and only when valid response status received - normally <code>HTTP/1.1 200 Ok</code>. In other cases - read it as a error response:</p>\n<pre><code>@Getter\nclass ErrorStatus {\n    int status;\n    String message;\n}\n\n@Getter\nclass ErrorResponse {\n    ErrorStatus error;\n}\n\nif (response.status().code() != 200) {\n    ErrorResponse errorResponse = mapper.readValue(response.body().string(), ErrorResponse.class);\n    System.out.println(&quot;error: &quot; + errorResponse);\n    return;\n}\n\nPOJO pojo = mapper.readValue(response.body().string(), POJO.class);\n</code></pre>\n"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681489277,"creation_date":1681478922,"question_id":76015610,"body_markdown":"Hello I am trying to return null object if the response is not relevant to the object.\r\nExample: \r\n\r\n - I send a request and I receive Status code 400 bad request \r\n - Deserialize the response to and POJO class\r\n - After Deserialize, all properties are null or default value for integers\r\n\r\nThis is my mapper configs:\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.findAndRegisterModules();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\r\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\r\n\r\nThis is how I use the mapper:\r\n\r\n     POJO pojo = mapper.readValue(response.body().string(), POJO.class);\r\n\r\nThis is my Class to Deserialize:\r\n\r\n    @Getter\r\n    public class POJO {\r\n        public Object name;\r\n        public String someString;\r\n     }\r\n\r\nAnd I receive `POJO(name=null, someString=null)`\r\n\r\nSimple response: \r\n\r\n    {  &quot;error&quot;: {    &quot;status&quot;: 400,    &quot;message&quot;: &quot;invalid id&quot;  }}\r\n\r\nI need the POJO Class to be null if this is the response. Sorry for bad explanation, I am new to Jackson.\r\n\r\n","title":"Jakson mapper deserlize null properties if not matches found","body":"<p>Hello I am trying to return null object if the response is not relevant to the object.\nExample:</p>\n<ul>\n<li>I send a request and I receive Status code 400 bad request</li>\n<li>Deserialize the response to and POJO class</li>\n<li>After Deserialize, all properties are null or default value for integers</li>\n</ul>\n<p>This is my mapper configs:</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    mapper.findAndRegisterModules();\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n    mapper.disable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE);\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    mapper.disable(SerializationFeature.WRITE_DATES_WITH_CONTEXT_TIME_ZONE);\n</code></pre>\n<p>This is how I use the mapper:</p>\n<pre><code> POJO pojo = mapper.readValue(response.body().string(), POJO.class);\n</code></pre>\n<p>This is my Class to Deserialize:</p>\n<pre><code>@Getter\npublic class POJO {\n    public Object name;\n    public String someString;\n }\n</code></pre>\n<p>And I receive <code>POJO(name=null, someString=null)</code></p>\n<p>Simple response:</p>\n<pre><code>{  &quot;error&quot;: {    &quot;status&quot;: 400,    &quot;message&quot;: &quot;invalid id&quot;  }}\n</code></pre>\n<p>I need the POJO Class to be null if this is the response. Sorry for bad explanation, I am new to Jackson.</p>\n"},{"tags":["java","concurrency","locking"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1681485460,"post_id":76016415,"comment_id":134069070,"body_markdown":"What makes you think this is insecure? One thing to note though: another thread can unlock it using the same uuid when a thread is in its critical section and expecting the lock to remain so. You also need `isLocked` method.","body":"What makes you think this is insecure? One thing to note though: another thread can unlock it using the same uuid when a thread is in its critical section and expecting the lock to remain so. You also need <code>isLocked</code> method."},{"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"score":0,"creation_date":1681486052,"post_id":76016415,"comment_id":134069255,"body_markdown":"I don&#39;t think it is insecure, but I am trying to make sure. The fact that another thread can unlock it is intentional, and this is the reason why I added UUID, so that there has to be some coordination between the locking and unlocking. When would you use isLocked?","body":"I don&#39;t think it is insecure, but I am trying to make sure. The fact that another thread can unlock it is intentional, and this is the reason why I added UUID, so that there has to be some coordination between the locking and unlocking. When would you use isLocked?"},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681487218,"post_id":76016415,"comment_id":134069549,"body_markdown":"The API is utterly bizarre: if `tryLock` returns `null`, you have the lock. However, if `tryLock` returns a UUID, you don&#39;t.","body":"The API is utterly bizarre: if <code>tryLock</code> returns <code>null</code>, you have the lock. However, if <code>tryLock</code> returns a UUID, you don&#39;t."},{"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"score":0,"creation_date":1681489260,"post_id":76016415,"comment_id":134070080,"body_markdown":"@rzwitserloot Good catch, it was meant to be as above.","body":"@rzwitserloot Good catch, it was meant to be as above."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681487815,"creation_date":1681487815,"answer_id":76016933,"question_id":76016415,"body_markdown":"This method is a source of your future problems:\r\n```\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        return locks.putIfAbsent(key, uuid);\r\n    }\r\n```\r\n\r\nThread 1:\r\n```\r\nkeyedLock.tryLock(&quot;asdf&quot;) -&gt; null // UUID(1) registered\r\n```\r\n\r\nThread 2: \r\n```\r\nkeyedLock.tryLock(&quot;asdf&quot;) -&gt; UUID(1) // existing UUID returned\r\n```\r\n\r\nI guess you expect the first call return registered UUID, and the second call to reject locking attempt, e.g. in the following way:\r\n\r\n```\r\n    @Nullable\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        UUID actual = locks.putIfAbsent(key, uuid);\r\n        return actual == null ? uuid : null;\r\n    }\r\n```\r\n\r\nI highly recommend to write unit tests first - it will help you understand what do you want/need from this new class.","title":"Is this a valid keyed lock implementation?","body":"<p>This method is a source of your future problems:</p>\n<pre><code>    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        return locks.putIfAbsent(key, uuid);\n    }\n</code></pre>\n<p>Thread 1:</p>\n<pre><code>keyedLock.tryLock(&quot;asdf&quot;) -&gt; null // UUID(1) registered\n</code></pre>\n<p>Thread 2:</p>\n<pre><code>keyedLock.tryLock(&quot;asdf&quot;) -&gt; UUID(1) // existing UUID returned\n</code></pre>\n<p>I guess you expect the first call return registered UUID, and the second call to reject locking attempt, e.g. in the following way:</p>\n<pre><code>    @Nullable\n    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        UUID actual = locks.putIfAbsent(key, uuid);\n        return actual == null ? uuid : null;\n    }\n</code></pre>\n<p>I highly recommend to write unit tests first - it will help you understand what do you want/need from this new class.</p>\n"}],"owner":{"account_id":28305773,"reputation":1,"user_id":21643808,"display_name":"ables54"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681489237,"creation_date":1681484060,"question_id":76016415,"body_markdown":"I have been searching for a way to support a keyed locking mechanism that allows any thread to lock or unlock the lock for a given key (so not Guava Striped). Perhaps due to this loosened requirement, all of the examples I have found look much more complicated than the below, and I have been struggling to find a reason why the below is insecure for my use case.\r\n\r\n````\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\npublic class KeyedLock {\r\n    private ConcurrentHashMap&lt;String, UUID&gt; locks;\r\n\r\n    public KeyedLock(){\r\n        locks = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public UUID tryLock(String key){\r\n        UUID uuid = java.util.UUID.randomUUID();\r\n        UUID res = locks.putIfAbsent(key, uuid);\r\n        if(res){\r\n            return null;\r\n        }\r\n        return uuid;\r\n    }\r\n\r\n    public boolean unlock(String key, UUID uuid){\r\n        return locks.remove(key, uuid);\r\n    }\r\n}\r\n````\r\n\r\nIn order to prevent the accidental unlocking of a lock that someone else holds (because I don&#39;t want to restrict it to the same thread), I use a UUID. \r\n","title":"Is this a valid keyed lock implementation?","body":"<p>I have been searching for a way to support a keyed locking mechanism that allows any thread to lock or unlock the lock for a given key (so not Guava Striped). Perhaps due to this loosened requirement, all of the examples I have found look much more complicated than the below, and I have been struggling to find a reason why the below is insecure for my use case.</p>\n<pre><code>import java.util.concurrent.ConcurrentHashMap;\n\npublic class KeyedLock {\n    private ConcurrentHashMap&lt;String, UUID&gt; locks;\n\n    public KeyedLock(){\n        locks = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public UUID tryLock(String key){\n        UUID uuid = java.util.UUID.randomUUID();\n        UUID res = locks.putIfAbsent(key, uuid);\n        if(res){\n            return null;\n        }\n        return uuid;\n    }\n\n    public boolean unlock(String key, UUID uuid){\n        return locks.remove(key, uuid);\n    }\n}\n</code></pre>\n<p>In order to prevent the accidental unlocking of a lock that someone else holds (because I don't want to restrict it to the same thread), I use a UUID.</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681480808,"creation_date":1681480808,"answer_id":76015904,"question_id":76015747,"body_markdown":"Your logic is correct, however you might really not need to extend from `AbstractMappingMessageRouter`. It general it is really enough to mark your `MyLogicRouterService.determineChannel` with a `@Router` or use respective `IntegrationFlow` operator:\r\n\r\n\t/**\r\n\t * Populate the {@link MethodInvokingRouter} for provided {@link Function}\r\n\t * and payload type with default options.\r\n\t * Typically, used with a Lambda expression:\r\n\t * &lt;pre class=&quot;code&quot;&gt;\r\n\t * {@code\r\n\t *  .route(Integer.class, p -&gt; p % 2 == 0)\r\n\t * }\r\n\t * &lt;/pre&gt;\r\n\t * @param expectedType the {@link Class} for expected payload type. It can also be\r\n\t * {@code Message.class} if you wish to access the entire message in the router.\r\n\t * Conversion to this type will be attempted, if necessary.\r\n\t * @param router  the {@link Function} to use.\r\n\t * @param &lt;S&gt; the source payload type or {@code Message.class}.\r\n\t * @param &lt;T&gt; the target result type.\r\n\t * @return the current {@link BaseIntegrationFlowDefinition}.\r\n\t * @see LambdaMessageProcessor\r\n\t */\r\n\tpublic &lt;S, T&gt; B route(Class&lt;S&gt; expectedType, Function&lt;S, T&gt; router) {\r\n\r\nSee more info in docs:\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers","title":"Spring Integration Java DSL Router with Logic","body":"<p>Your logic is correct, however you might really not need to extend from <code>AbstractMappingMessageRouter</code>. It general it is really enough to mark your <code>MyLogicRouterService.determineChannel</code> with a <code>@Router</code> or use respective <code>IntegrationFlow</code> operator:</p>\n<pre><code>/**\n * Populate the {@link MethodInvokingRouter} for provided {@link Function}\n * and payload type with default options.\n * Typically, used with a Lambda expression:\n * &lt;pre class=&quot;code&quot;&gt;\n * {@code\n *  .route(Integer.class, p -&gt; p % 2 == 0)\n * }\n * &lt;/pre&gt;\n * @param expectedType the {@link Class} for expected payload type. It can also be\n * {@code Message.class} if you wish to access the entire message in the router.\n * Conversion to this type will be attempted, if necessary.\n * @param router  the {@link Function} to use.\n * @param &lt;S&gt; the source payload type or {@code Message.class}.\n * @param &lt;T&gt; the target result type.\n * @return the current {@link BaseIntegrationFlowDefinition}.\n * @see LambdaMessageProcessor\n */\npublic &lt;S, T&gt; B route(Class&lt;S&gt; expectedType, Function&lt;S, T&gt; router) {\n</code></pre>\n<p>See more info in docs:</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/router.html#router-annotation</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/dsl.html#java-dsl-routers</a></p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015904,"answer_count":1,"score":0,"last_activity_date":1681489102,"creation_date":1681479802,"question_id":76015747,"body_markdown":"Spring Integration 5.x here, using the Java (not XML) DSL. I have a use case for a `MessageChannel` router with some fairly sophisticated logic, and I&#39;d like to define that logic in Java.\r\n\r\nMy best attempt thus far is this:\r\n```\r\npublic class MyLogicRouter extends AbstractMappingMessageRouter implements RouteConstants {\r\n\r\n    private MyLogicRouterService routerService;\r\n\r\n    public MyLogicRouter(MyLogicRouterService routerService) {\r\n        this.routerService = routerService;\r\n    }\r\n\r\n    @Override\r\n    protected List&lt;Object&gt; getChannelKeys(Message&lt;?&gt; message) {\r\n\r\n        MessageChannel channel = routingService.determineChannel(message);\r\n\r\n        return null; // ???\r\n\r\n    }\r\n}\r\n```\r\n\r\nBut I feel like I&#39;m way off and not using the API correctly at all. At the end of the day, I want to be able to take the headers and payload on a `Message` and route the message to the appropriate `MessageChannel` based on some advanced logic that I want to write/define in the Java layer.\r\n\r\nCan anyone help point me in the right direction?","title":"Spring Integration Java DSL Router with Logic","body":"<p>Spring Integration 5.x here, using the Java (not XML) DSL. I have a use case for a <code>MessageChannel</code> router with some fairly sophisticated logic, and I'd like to define that logic in Java.</p>\n<p>My best attempt thus far is this:</p>\n<pre><code>public class MyLogicRouter extends AbstractMappingMessageRouter implements RouteConstants {\n\n    private MyLogicRouterService routerService;\n\n    public MyLogicRouter(MyLogicRouterService routerService) {\n        this.routerService = routerService;\n    }\n\n    @Override\n    protected List&lt;Object&gt; getChannelKeys(Message&lt;?&gt; message) {\n\n        MessageChannel channel = routingService.determineChannel(message);\n\n        return null; // ???\n\n    }\n}\n</code></pre>\n<p>But I feel like I'm way off and not using the API correctly at all. At the end of the day, I want to be able to take the headers and payload on a <code>Message</code> and route the message to the appropriate <code>MessageChannel</code> based on some advanced logic that I want to write/define in the Java layer.</p>\n<p>Can anyone help point me in the right direction?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681488890,"post_id":76017050,"comment_id":134069958,"body_markdown":"method is not returning anything and parameters are pass-by-value (in short, changing `result` inside the method does not change the corresponding variable on the calling method; `String` is immutable, but you could use a `StringBuilder` instead - or just return the result of concatenation)","body":"method is not returning anything and parameters are pass-by-value (in short, changing <code>result</code> inside the method does not change the corresponding variable on the calling method; <code>String</code> is immutable, but you could use a <code>StringBuilder</code> instead - or just return the result of concatenation)"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681488895,"post_id":76017050,"comment_id":134069960,"body_markdown":"Strings are immutable.  you need to write this as a function and return the string","body":"Strings are immutable.  you need to write this as a function and return the string"}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681488992,"creation_date":1681488992,"answer_id":76017095,"question_id":76017050,"body_markdown":"Because `result` is a copy of the `res` you are passing onto the `reverse` method. Your original `res` stays the same. \r\n\r\nOne thing  you could do is to use a `StringBuilder` which will modify the underlying storage.\r\n\r\n```Java\r\n    public static void reverse(String str, StringBuilder result) {\r\n        if(str.length()==0) return; \r\n        result.append( str.charAt(str.length()-1) );\r\n        reverse(str.substring(0,str.length()-1),result); \r\n    }\r\n```","title":"Java Reverse String Recursively Returns Empty","body":"<p>Because <code>result</code> is a copy of the <code>res</code> you are passing onto the <code>reverse</code> method. Your original <code>res</code> stays the same.</p>\n<p>One thing  you could do is to use a <code>StringBuilder</code> which will modify the underlying storage.</p>\n<pre><code>    public static void reverse(String str, StringBuilder result) {\n        if(str.length()==0) return; \n        result.append( str.charAt(str.length()-1) );\n        reverse(str.substring(0,str.length()-1),result); \n    }\n</code></pre>\n"}],"owner":{"account_id":17827392,"reputation":63,"user_id":12948285,"display_name":"Mert Pınarbaşı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681489024,"answer_count":1,"score":-1,"last_activity_date":1681489038,"creation_date":1681488654,"question_id":76017050,"body_markdown":"\t```\r\n        String res = &quot;&quot;;\r\n\t\tSolution.reverse(&quot;hellowolrd&quot;, res);\r\n\t\tSystem.out.println(res);\r\n```\r\n\r\n    public static void reverse(String str, String result) {\r\n\t    \tif(str.length()==0) return; \r\n\t    \tresult += str.charAt(str.length()-1); \r\n\t    \treverse(str.substring(0,str.length()-1),result); \r\n\t    }\r\n\r\n\r\n```\r\n\r\nWhy the res variable is empty when I print it out after calling reverse()","title":"Java Reverse String Recursively Returns Empty","body":"<pre><code>```\n    String res = &quot;&quot;;\n    Solution.reverse(&quot;hellowolrd&quot;, res);\n    System.out.println(res);\n</code></pre>\n<pre><code>\n    public static void reverse(String str, String result) {\n            if(str.length()==0) return; \n            result += str.charAt(str.length()-1); \n            reverse(str.substring(0,str.length()-1),result); \n        }\n\n\n</code></pre>\n<p>Why the res variable is empty when I print it out after calling reverse()</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681488838,"post_id":76016127,"comment_id":134069946,"body_markdown":"BTW, the cluster admins need their own JKS/PEM files to setup authentication on the brokers, so they _should_ know what you&#39;re asking for... What do you mean &quot;via API Key&quot;? Do you have some custom authorization? `sasl.jaas.config` is not the same as  SSL/TLS settings... Also, make sure you are connected to the correct port for the bootstrap servers setting since you could have both `PLAINTEXT` (that maybe Conduktor is using?) and `SSL` port addresses that you&#39;ve set and are throwing errors?","body":"BTW, the cluster admins need their own JKS/PEM files to setup authentication on the brokers, so they <i>should</i> know what you&#39;re asking for... What do you mean &quot;via API Key&quot;? Do you have some custom authorization? <code>sasl.jaas.config</code> is not the same as  SSL/TLS settings... Also, make sure you are connected to the correct port for the bootstrap servers setting since you could have both <code>PLAINTEXT</code> (that maybe Conduktor is using?) and <code>SSL</code> port addresses that you&#39;ve set and are throwing errors?"}],"owner":{"account_id":28305438,"reputation":11,"user_id":21643522,"display_name":"MikeMonger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681488801,"creation_date":1681482322,"question_id":76016127,"body_markdown":"I&#39;m creating a consumer and a producer in Java, but I&#39;m getting the &quot;SSL handshake failed&quot; when I attempt to produce a record/consume a topic.\r\n\r\nAll of my research is telling me I&#39;m missing certificates.  But here&#39;s the thing.  We&#39;re connecting via API key, so in theory I shouldn&#39;t NEED any certificates or JKS files.  I know I didn&#39;t need to specify any when I got Conduktor up and running.  I&#39;m using that to produce to and consume from topics without issue.\r\n\r\nGoing back to my platform team, they just keep telling me to confirm my API key credentials are correct. They are.  When I ask them for the JKS files I need, they have no idea what I&#39;m talking about.  So, I&#39;m kind of stuck.\r\n\r\nAny suggestions?\r\n\r\nI tried just specifying the `sasl.jaas.config` property, which everyone keeps assuring me should be all I need.  I&#39;ve confirmed and reconfirmed I&#39;ve specified it properly.","title":"Getting &quot;SSL handshake failed&quot; when creating Kafka Producer and Consumer","body":"<p>I'm creating a consumer and a producer in Java, but I'm getting the &quot;SSL handshake failed&quot; when I attempt to produce a record/consume a topic.</p>\n<p>All of my research is telling me I'm missing certificates.  But here's the thing.  We're connecting via API key, so in theory I shouldn't NEED any certificates or JKS files.  I know I didn't need to specify any when I got Conduktor up and running.  I'm using that to produce to and consume from topics without issue.</p>\n<p>Going back to my platform team, they just keep telling me to confirm my API key credentials are correct. They are.  When I ask them for the JKS files I need, they have no idea what I'm talking about.  So, I'm kind of stuck.</p>\n<p>Any suggestions?</p>\n<p>I tried just specifying the <code>sasl.jaas.config</code> property, which everyone keeps assuring me should be all I need.  I've confirmed and reconfirmed I've specified it properly.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-cassandra"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1441053910,"post_id":26329300,"comment_id":52514323,"body_markdown":"Any solution to this? It happens with normal spring boot (without cassandra)","body":"Any solution to this? It happens with normal spring boot (without cassandra)"},{"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"score":1,"creation_date":1441137375,"post_id":26329300,"comment_id":52554200,"body_markdown":"@ACV nope, I just live with it. I learnt that some spring modules spawn threads of their own, e.g. Cassandra has a thread pool for connections, or RabbitMQ when you use listener containers. These take some time to shutdown after you call `context.close()` to stop the application.","body":"@ACV nope, I just live with it. I learnt that some spring modules spawn threads of their own, e.g. Cassandra has a thread pool for connections, or RabbitMQ when you use listener containers. These take some time to shutdown after you call <code>context.close()</code> to stop the application."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1413146663,"creation_date":1413146663,"answer_id":26329785,"question_id":26329300,"body_markdown":"The answer depends on what it is that is still doing work. You can probably find out with a thread dump (eg using jstack). But if it is anything that was started by Spring you should be able to use `ConfigurableApplicationContext.close()` to stop the app in your main() method (or in the `CommandLineRunner`).","title":"How to shut down a Spring Boot command-line application","body":"<p>The answer depends on what it is that is still doing work. You can probably find out with a thread dump (eg using jstack). But if it is anything that was started by Spring you should be able to use <code>ConfigurableApplicationContext.close()</code> to stop the app in your main() method (or in the <code>CommandLineRunner</code>).</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1614002391,"creation_date":1441137867,"answer_id":32340007,"question_id":26329300,"body_markdown":"I found a solution. You can use this:\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(RsscollectorApplication.class, args).close();\r\n        System.out.println(&quot;done&quot;);\r\n    }\r\n\r\nJust use `.close()` on run.","title":"How to shut down a Spring Boot command-line application","body":"<p>I found a solution. You can use this:</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(RsscollectorApplication.class, args).close();\n    System.out.println(&quot;done&quot;);\n}\n</code></pre>\n<p>Just use <code>.close()</code> on run.</p>\n"},{"tags":[],"owner":{"account_id":2397738,"reputation":1639,"user_id":2096211,"accept_rate":50,"display_name":"Quan Vo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444815116,"creation_date":1444815116,"answer_id":33121623,"question_id":26329300,"body_markdown":"I also met this issue in my current project (spring boot application). \r\nMy solution is:\r\n\r\n    // releasing all resources\r\n    ((ConfigurableApplicationContext) ctx).close();\r\n    // Close application\r\n    System.exit(0);\r\n\r\n`context.close()` don&#39;t stop our console application, it is just releasing the resources.","title":"How to shut down a Spring Boot command-line application","body":"<p>I also met this issue in my current project (spring boot application). \nMy solution is:</p>\n\n<pre><code>// releasing all resources\n((ConfigurableApplicationContext) ctx).close();\n// Close application\nSystem.exit(0);\n</code></pre>\n\n<p><code>context.close()</code> don't stop our console application, it is just releasing the resources.</p>\n"},{"tags":[],"owner":{"account_id":3906953,"reputation":11639,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1498075066,"creation_date":1498075066,"answer_id":44685225,"question_id":26329300,"body_markdown":"Use `org.springframework.boot.SpringApplication#exit`. E.g.\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception { \r\n            SpringApplication.exit(context);\r\n        }\r\n    }","title":"How to shut down a Spring Boot command-line application","body":"<p>Use <code>org.springframework.boot.SpringApplication#exit</code>. E.g.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception { \n        SpringApplication.exit(context);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1502196166,"creation_date":1502196166,"answer_id":45568716,"question_id":26329300,"body_markdown":"This is a combination of [@EliuX][1] answer with [@Quan Vo][2] one. Thank you both!\r\n\r\nThe main different is I pass the SpringApplication.exit(context) response code as a parameter to the System.exit() so if there is an error closing the Spring context you will notice.\r\n\r\nThe SpringApplication.exit() will close the Spring context.\r\n\r\nThe System.exit() will close the application.\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n\r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception { \r\n           System.exit(SpringApplication.exit(context));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3233398/eliux\r\n  [2]: https://stackoverflow.com/users/2096211/quan-vo","title":"How to shut down a Spring Boot command-line application","body":"<p>This is a combination of <a href=\"https://stackoverflow.com/users/3233398/eliux\">@EliuX</a> answer with <a href=\"https://stackoverflow.com/users/2096211/quan-vo\">@Quan Vo</a> one. Thank you both!</p>\n\n<p>The main different is I pass the SpringApplication.exit(context) response code as a parameter to the System.exit() so if there is an error closing the Spring context you will notice.</p>\n\n<p>The SpringApplication.exit() will close the Spring context.</p>\n\n<p>The System.exit() will close the application.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception { \n       System.exit(SpringApplication.exit(context));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12815705,"reputation":51,"user_id":9272415,"display_name":"Maciej Kaczorowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661506754,"creation_date":1661506754,"answer_id":73499012,"question_id":26329300,"body_markdown":"When there is no hanging threads application stops automatically without `exit()`. I had the same issue and finally I found the reason why it&#39;s happening. I always rely on spring mechanism, which closes all `Closeable` beans when application exits, but it&#39;s invoked on JVM shutdown hook, so it&#39;ll never be invoked until some non-daemon threads are running. I solved the problem by closing all beans with open threads manually in `CommandLineRunner`. Unfortunately it&#39;s also required for all beans created by auto configurations (e.g. `spring-data-elasticsearch` creates such beans).","title":"How to shut down a Spring Boot command-line application","body":"<p>When there is no hanging threads application stops automatically without <code>exit()</code>. I had the same issue and finally I found the reason why it's happening. I always rely on spring mechanism, which closes all <code>Closeable</code> beans when application exits, but it's invoked on JVM shutdown hook, so it'll never be invoked until some non-daemon threads are running. I solved the problem by closing all beans with open threads manually in <code>CommandLineRunner</code>. Unfortunately it's also required for all beans created by auto configurations (e.g. <code>spring-data-elasticsearch</code> creates such beans).</p>\n"},{"tags":[],"owner":{"account_id":2987401,"reputation":182,"user_id":2535829,"display_name":"Eric Badiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669917113,"creation_date":1669917113,"answer_id":74646167,"question_id":26329300,"body_markdown":"A command line application should return an exit code when shutting down. This post describes using the ExitCodeGenerator and how to use it in the spring application.  This approach worked for me:\r\n\r\n@SpringBootApplication\r\npublic class ExitCodeGeneratorDemoApplication implements ExitCodeGenerator {\r\n\r\n    public static void main(String[] args) {\r\n        System.exit(SpringApplication\r\n          .exit(SpringApplication.run(DemoApplication.class, args)));\r\n    }\r\n \r\n    @Override\r\n    public int getExitCode() {\r\n        return 42;\r\n    }\r\n}\r\n\r\nhttps://www.baeldung.com/spring-boot-exit-codes","title":"How to shut down a Spring Boot command-line application","body":"<p>A command line application should return an exit code when shutting down. This post describes using the ExitCodeGenerator and how to use it in the spring application.  This approach worked for me:</p>\n<p>@SpringBootApplication\npublic class ExitCodeGeneratorDemoApplication implements ExitCodeGenerator {</p>\n<pre><code>public static void main(String[] args) {\n    System.exit(SpringApplication\n      .exit(SpringApplication.run(DemoApplication.class, args)));\n}\n\n@Override\npublic int getExitCode() {\n    return 42;\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-exit-codes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-exit-codes</a></p>\n"},{"tags":[],"owner":{"account_id":17585365,"reputation":194,"user_id":12758199,"display_name":"The_Java_Guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681488767,"creation_date":1681488767,"answer_id":76017061,"question_id":26329300,"body_markdown":"I have developed a command line spring application (Spring version 2.7) that stops after executing business logic. All I needed was following application configuration that tells spring that this is not a web application.\r\n\r\n**Configuration**\r\n\r\n```yaml\r\nspring:\r\n  main:\r\n    web-application-type: none\r\n```\r\n\r\n**Spring main class** \r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DataInjectionApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DataInjectionApplication.class, args);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        \r\n        //execute business logic here\r\n\r\n    }\r\n}\r\n```","title":"How to shut down a Spring Boot command-line application","body":"<p>I have developed a command line spring application (Spring version 2.7) that stops after executing business logic. All I needed was following application configuration that tells spring that this is not a web application.</p>\n<p><strong>Configuration</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  main:\n    web-application-type: none\n</code></pre>\n<p><strong>Spring main class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DataInjectionApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DataInjectionApplication.class, args);\n    }\n\n\n    @Override\n    public void run(String... args) {\n        \n        //execute business logic here\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3065312,"reputation":6928,"user_id":2597143,"accept_rate":83,"display_name":"ESala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58640,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":26329785,"answer_count":8,"score":56,"last_activity_date":1681488767,"creation_date":1413143453,"question_id":26329300,"body_markdown":"I am building a Command Line java application using Spring Boot to get it working quickly.\r\n\r\nThe application loads different types of files (for example CSV) and loads them into a Cassandra Database. It does NOT use any web components, it is not a web application.\r\n\r\nThe problem I am having is to stop the application when the work is done. I am using the Spring CommandLineRunner interface with a `@Component` to run the tasks, as shown below, but when the work is completed the application does not stop, it keeps running for some reason and I can&#39;t find a way to stop it.\r\n\r\n\r\n    @Component\r\n    public class OneTimeRunner implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private CassandraOperations cassandra;\r\n\r\n        @Autowired\r\n        private ConfigurableApplicationContext context;\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            // do some work here and then quit\r\n            context.close();\r\n        }\r\n    }\r\n\r\n**UPDATE**: the problem seems to be `spring-cassandra`, since there is nothing else in the project. Does anyone know why it keeps threads running in the background that prevent the application from stopping?\r\n\r\n**UPDATE**: the problem disappeared by updating to the latest spring boot version.","title":"How to shut down a Spring Boot command-line application","body":"<p>I am building a Command Line java application using Spring Boot to get it working quickly.</p>\n\n<p>The application loads different types of files (for example CSV) and loads them into a Cassandra Database. It does NOT use any web components, it is not a web application.</p>\n\n<p>The problem I am having is to stop the application when the work is done. I am using the Spring CommandLineRunner interface with a <code>@Component</code> to run the tasks, as shown below, but when the work is completed the application does not stop, it keeps running for some reason and I can't find a way to stop it.</p>\n\n<pre><code>@Component\npublic class OneTimeRunner implements CommandLineRunner {\n\n    @Autowired\n    private CassandraOperations cassandra;\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    @Override\n    public void run(String... args) throws Exception {\n        // do some work here and then quit\n        context.close();\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: the problem seems to be <code>spring-cassandra</code>, since there is nothing else in the project. Does anyone know why it keeps threads running in the background that prevent the application from stopping?</p>\n\n<p><strong>UPDATE</strong>: the problem disappeared by updating to the latest spring boot version.</p>\n"},{"tags":["java","image","jpeg"],"comments":[{"owner":{"account_id":41728,"reputation":37898,"user_id":121364,"accept_rate":72,"display_name":"J&#248;rn Schou-Rode"},"score":3,"creation_date":1246454570,"post_id":1069095,"comment_id":881410,"body_markdown":"http://www.google.com/search?hl=en&amp;q=java+thumbnail+jpg","body":"<a href=\"http://www.google.com/search?hl=en&amp;q=java+thumbnail+jpg\" rel=\"nofollow noreferrer\">google.com/search?hl=en&amp;q=java+thumbnail+jpg</a>"},{"owner":{"account_id":23521,"reputation":7677,"user_id":59009,"accept_rate":60,"display_name":"mfloryan"},"score":1,"creation_date":1246454686,"post_id":1069095,"comment_id":881420,"body_markdown":"Use a library like ImageMagick - lots of examples on the web","body":"Use a library like ImageMagick - lots of examples on the web"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1246454860,"post_id":1069095,"comment_id":881436,"body_markdown":"Oops, thanks for fixing my typos.  I prolly shouldn&#39;t introduce more typos after editing...","body":"Oops, thanks for fixing my typos.  I prolly shouldn&#39;t introduce more typos after editing..."}],"answers":[{"tags":[],"owner":{"account_id":22694,"reputation":11506,"user_id":56242,"accept_rate":96,"display_name":"Savvas Dalkitsis"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1246456231,"creation_date":1246454679,"answer_id":1069124,"question_id":1069095,"body_markdown":"    Image img = ImageIO.read(new File(&quot;test.jpg&quot;)).getScaledInstance(100, 100, BufferedImage.SCALE_SMOOTH);\r\n\r\nThis will create a 100x100 pixels thumbnail as an Image object. If you want to write it back to disk simply convert the code to this:\r\n\r\n    BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\r\n    img.createGraphics().drawImage(ImageIO.read(new File(&quot;test.jpg&quot;)).getScaledInstance(100, 100, Image.SCALE_SMOOTH),0,0,null);\r\n    ImageIO.write(img, &quot;jpg&quot;, new File(&quot;test_thumb.jpg&quot;));\r\n\r\nAlso if you are concerned about speed issues (the method described above is rather slow if you want to scale many images) use these methods and the following declaration :\r\n\r\n    private BufferedImage scale(BufferedImage source,double ratio) {\r\n      int w = (int) (source.getWidth() * ratio);\r\n      int h = (int) (source.getHeight() * ratio);\r\n      BufferedImage bi = getCompatibleImage(w, h);\r\n      Graphics2D g2d = bi.createGraphics();\r\n      double xScale = (double) w / source.getWidth();\r\n      double yScale = (double) h / source.getHeight();\r\n      AffineTransform at = AffineTransform.getScaleInstance(xScale,yScale);\r\n      g2d.drawRenderedImage(source, at);\r\n      g2d.dispose();\r\n      return bi;\r\n    }\r\n    \r\n    private BufferedImage getCompatibleImage(int w, int h) {\r\n      GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n      GraphicsDevice gd = ge.getDefaultScreenDevice();\r\n      GraphicsConfiguration gc = gd.getDefaultConfiguration();\r\n      BufferedImage image = gc.createCompatibleImage(w, h);\r\n      return image;\r\n    }\r\n\r\nAnd then call :\r\n\r\n    BufferedImage scaled = scale(img,0.5);\r\n\r\nwhere 0.5 is the scale ratio and img is a BufferedImage containing the normal-sized image.","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<pre><code>Image img = ImageIO.read(new File(\"test.jpg\")).getScaledInstance(100, 100, BufferedImage.SCALE_SMOOTH);\n</code></pre>\n\n<p>This will create a 100x100 pixels thumbnail as an Image object. If you want to write it back to disk simply convert the code to this:</p>\n\n<pre><code>BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\nimg.createGraphics().drawImage(ImageIO.read(new File(\"test.jpg\")).getScaledInstance(100, 100, Image.SCALE_SMOOTH),0,0,null);\nImageIO.write(img, \"jpg\", new File(\"test_thumb.jpg\"));\n</code></pre>\n\n<p>Also if you are concerned about speed issues (the method described above is rather slow if you want to scale many images) use these methods and the following declaration :</p>\n\n<pre><code>private BufferedImage scale(BufferedImage source,double ratio) {\n  int w = (int) (source.getWidth() * ratio);\n  int h = (int) (source.getHeight() * ratio);\n  BufferedImage bi = getCompatibleImage(w, h);\n  Graphics2D g2d = bi.createGraphics();\n  double xScale = (double) w / source.getWidth();\n  double yScale = (double) h / source.getHeight();\n  AffineTransform at = AffineTransform.getScaleInstance(xScale,yScale);\n  g2d.drawRenderedImage(source, at);\n  g2d.dispose();\n  return bi;\n}\n\nprivate BufferedImage getCompatibleImage(int w, int h) {\n  GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n  GraphicsDevice gd = ge.getDefaultScreenDevice();\n  GraphicsConfiguration gc = gd.getDefaultConfiguration();\n  BufferedImage image = gc.createCompatibleImage(w, h);\n  return image;\n}\n</code></pre>\n\n<p>And then call :</p>\n\n<pre><code>BufferedImage scaled = scale(img,0.5);\n</code></pre>\n\n<p>where 0.5 is the scale ratio and img is a BufferedImage containing the normal-sized image.</p>\n"},{"tags":[],"owner":{"account_id":23521,"reputation":7677,"user_id":59009,"accept_rate":60,"display_name":"mfloryan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246454810,"creation_date":1246454810,"answer_id":1069139,"question_id":1069095,"body_markdown":"The [JMagick][1] library (and implementation of [ImageMagick][2] in Java) will have what you need.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jmagick/\r\n  [2]: http://www.imagemagick.org/script/index.php","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>The <a href=\"http://sourceforge.net/projects/jmagick/\" rel=\"nofollow noreferrer\">JMagick</a> library (and implementation of <a href=\"http://www.imagemagick.org/script/index.php\" rel=\"nofollow noreferrer\">ImageMagick</a> in Java) will have what you need.</p>\n"},{"tags":[],"owner":{"account_id":171273,"reputation":1580,"user_id":398582,"accept_rate":86,"display_name":"Kem Mason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681488737,"creation_date":1279757049,"answer_id":3304823,"question_id":1069095,"body_markdown":"the Java code above (with the scale / getCompatibleImage methods) worked great for me, but when I deployed to a server, it stopped working, because the server had no display associated with it -- anyone else with this problem can fix it by using:\r\n\r\n    BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB); \r\n\r\ninstead of \r\n\r\n    BufferedImage bi = getCompatibleImage(w, h);\r\n\r\nand deleting the `getCompatibleImage()` method\r\n\r\n(later note -- it turns out this works great for most images, but I got a bunch from my companys marketing department that are 32 bit color depth jpeg images, and the library throws an unsupported image format exception for all of those :( -- imagemagick / jmagick are starting to look more appealing)","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>the Java code above (with the scale / getCompatibleImage methods) worked great for me, but when I deployed to a server, it stopped working, because the server had no display associated with it -- anyone else with this problem can fix it by using:</p>\n<pre><code>BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB); \n</code></pre>\n<p>instead of</p>\n<pre><code>BufferedImage bi = getCompatibleImage(w, h);\n</code></pre>\n<p>and deleting the <code>getCompatibleImage()</code> method</p>\n<p>(later note -- it turns out this works great for most images, but I got a bunch from my companys marketing department that are 32 bit color depth jpeg images, and the library throws an unsupported image format exception for all of those :( -- imagemagick / jmagick are starting to look more appealing)</p>\n"},{"tags":[],"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1453991634,"creation_date":1309884460,"answer_id":6586065,"question_id":1069095,"body_markdown":"As you might have found out &quot;easy&quot; and &quot;good looking result&quot; are two very different things. I have encapsulated both of these requirements into a very simple [java image scaling library][1] (Apache 2 license) that just does everything right for you.\r\n\r\nExample code to create a thumbnail looks like this:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, 150);\r\n\r\nYour image proportions are honored, the library makes a best-guess at the method it should use based on the amount of change in the image due to scaling (FASTEST, BALANCED or QUALITY) and the best supported Java2D image types are always used to do the scaling to avoid the issue of &quot;black&quot; results or really terrible looking output (e.g. overly dithered GIF images).\r\n\r\nAlso, if you want to force it to output the best looking thumbnail possible in Java, the API call would look like this:\r\n\r\n    BufferedImage img = ImageIO.read(...); // load image\r\n    BufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \r\n                                           150, 100, Scalr.OP_ANTIALIAS);\r\n\r\nNot only will the library use the Java2D recommended incremental scaling for you to give you the best looking result, it will also apply an optional antialiasing effect to the thumbnail (ConvolveOp with a very fine-tuned kernel) to every-so-slightly soften the transitions between pixel values so make the thumbnail look more uniform and not sharp or poppy as you might have seen when you go from very large images down to very small ones.\r\n\r\nYou can read through all the comments in the library (the code itself is doc&#39;ed heavily) to see all the different JDK bugs that are worked around or optimizations that are made to improve the performance or memory usage. I spent a LOT of time tuning this implementation and have had a lot of good feedback from folks deploying it in web apps and other Java projects.\r\n\r\n  [1]: https://github.com/thebuzzmedia/imgscalr","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>As you might have found out \"easy\" and \"good looking result\" are two very different things. I have encapsulated both of these requirements into a very simple <a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"noreferrer\">java image scaling library</a> (Apache 2 license) that just does everything right for you.</p>\n\n<p>Example code to create a thumbnail looks like this:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, 150);\n</code></pre>\n\n<p>Your image proportions are honored, the library makes a best-guess at the method it should use based on the amount of change in the image due to scaling (FASTEST, BALANCED or QUALITY) and the best supported Java2D image types are always used to do the scaling to avoid the issue of \"black\" results or really terrible looking output (e.g. overly dithered GIF images).</p>\n\n<p>Also, if you want to force it to output the best looking thumbnail possible in Java, the API call would look like this:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(...); // load image\nBufferedImage scaledImg = Scalr.resize(img, Method.QUALITY, \n                                       150, 100, Scalr.OP_ANTIALIAS);\n</code></pre>\n\n<p>Not only will the library use the Java2D recommended incremental scaling for you to give you the best looking result, it will also apply an optional antialiasing effect to the thumbnail (ConvolveOp with a very fine-tuned kernel) to every-so-slightly soften the transitions between pixel values so make the thumbnail look more uniform and not sharp or poppy as you might have seen when you go from very large images down to very small ones.</p>\n\n<p>You can read through all the comments in the library (the code itself is doc'ed heavily) to see all the different JDK bugs that are worked around or optimizations that are made to improve the performance or memory usage. I spent a LOT of time tuning this implementation and have had a lot of good feedback from folks deploying it in web apps and other Java projects.</p>\n"},{"tags":[],"owner":{"account_id":1396252,"reputation":8947,"user_id":1325942,"accept_rate":56,"display_name":"Ali Imran"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1334129683,"creation_date":1334129683,"answer_id":10101739,"question_id":1069095,"body_markdown":"This is simple way of creating a 100 X 100 thumbnail without any stretch or skew in image.  \r\n\r\n    private  void saveScaledImage(String filePath,String outputFile){\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tBufferedImage sourceImage = ImageIO.read(new File(filePath));\r\n\t\t\tint width = sourceImage.getWidth();\r\n\t\t\tint height = sourceImage.getHeight();\r\n\t\t\t\r\n\t\t\tif(width&gt;height){\r\n\t\t\t\tfloat extraSize=\theight-100;\r\n\t\t\t\tfloat percentHight = (extraSize/height)*100;\r\n\t\t\t\tfloat percentWidth = width - ((width/100)*percentHight);\r\n\t\t\t\tBufferedImage img = new BufferedImage((int)percentWidth, 100, BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\tImage scaledImage = sourceImage.getScaledInstance((int)percentWidth, 100, Image.SCALE_SMOOTH);\r\n\t\t\t\timg.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\t\t\t\tBufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\timg2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);\r\n\t\t\t\t\r\n\t\t\t\tImageIO.write(img2, &quot;jpg&quot;, new File(outputFile));    \r\n\t\t\t}else{\r\n\t\t\t\tfloat extraSize=\twidth-100;\r\n\t\t\t \tfloat percentWidth = (extraSize/width)*100;\r\n\t\t\t \tfloat  percentHight = height - ((height/100)*percentWidth);\r\n\t\t\t\tBufferedImage img = new BufferedImage(100, (int)percentHight, BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\tImage scaledImage = sourceImage.getScaledInstance(100,(int)percentHight, Image.SCALE_SMOOTH);\r\n\t\t\t\timg.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\t\t\t\tBufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\timg2 = img.getSubimage(0, (int)((percentHight-100)/2), 100, 100);\r\n\t\t\t\t\r\n\t\t\t\tImageIO.write(img2, &quot;jpg&quot;, new File(outputFile));\r\n\t\t\t}\r\n\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>This is simple way of creating a 100 X 100 thumbnail without any stretch or skew in image.  </p>\n\n<pre><code>private  void saveScaledImage(String filePath,String outputFile){\n    try {\n\n        BufferedImage sourceImage = ImageIO.read(new File(filePath));\n        int width = sourceImage.getWidth();\n        int height = sourceImage.getHeight();\n\n        if(width&gt;height){\n            float extraSize=    height-100;\n            float percentHight = (extraSize/height)*100;\n            float percentWidth = width - ((width/100)*percentHight);\n            BufferedImage img = new BufferedImage((int)percentWidth, 100, BufferedImage.TYPE_INT_RGB);\n            Image scaledImage = sourceImage.getScaledInstance((int)percentWidth, 100, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n            BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\n            img2 = img.getSubimage((int)((percentWidth-100)/2), 0, 100, 100);\n\n            ImageIO.write(img2, \"jpg\", new File(outputFile));    \n        }else{\n            float extraSize=    width-100;\n            float percentWidth = (extraSize/width)*100;\n            float  percentHight = height - ((height/100)*percentWidth);\n            BufferedImage img = new BufferedImage(100, (int)percentHight, BufferedImage.TYPE_INT_RGB);\n            Image scaledImage = sourceImage.getScaledInstance(100,(int)percentHight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n            BufferedImage img2 = new BufferedImage(100, 100 ,BufferedImage.TYPE_INT_RGB);\n            img2 = img.getSubimage(0, (int)((percentHight-100)/2), 100, 100);\n\n            ImageIO.write(img2, \"jpg\", new File(outputFile));\n        }\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3199431,"reputation":194,"user_id":2701795,"display_name":"Mouli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392575661,"creation_date":1392575661,"answer_id":21815609,"question_id":1069095,"body_markdown":"I have created a application called fotovault (sourceforge.net) which can upload images and create thumbnails in java using imagej apis.\r\n\r\nPlease read my blog below\r\n\r\nhttp://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have created a application called fotovault (sourceforge.net) which can upload images and create thumbnails in java using imagej apis.</p>\n\n<p>Please read my blog below</p>\n\n<p><a href=\"http://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api\" rel=\"nofollow\">http://www.gingercart.com/Home/java-snippets/create-image-thumbnail-in-java-using-imagej-api</a></p>\n"},{"tags":[],"owner":{"account_id":1317070,"reputation":33,"user_id":1263692,"display_name":"Gagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401772556,"creation_date":1401772556,"answer_id":24007587,"question_id":1069095,"body_markdown":"I have gone through a blog according to which you have following options - \r\n\r\n1. For simple RGB files use ImageScalr . ImageIO class is used for reading files and ImageScalr to create thumbnails\r\n2. For supporting RGB + CYMK, use ImageIO and JAI (Java Advanced Imaging) API for reading files and ImageScalr to create thumbnail.\r\n3. In case you don’t know what file formats, color mode you are going to deal with, safest option is to use ImageMagick. \r\n\r\nHere is [**link**][1] that gives a complete answer with code snippets. \r\n\r\n\r\n  [1]: http://paxcel.net/blog/java-thumbnail-generator-imagescalar-vs-imagemagic/","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have gone through a blog according to which you have following options - </p>\n\n<ol>\n<li>For simple RGB files use ImageScalr . ImageIO class is used for reading files and ImageScalr to create thumbnails</li>\n<li>For supporting RGB + CYMK, use ImageIO and JAI (Java Advanced Imaging) API for reading files and ImageScalr to create thumbnail.</li>\n<li>In case you don’t know what file formats, color mode you are going to deal with, safest option is to use ImageMagick. </li>\n</ol>\n\n<p>Here is <a href=\"http://paxcel.net/blog/java-thumbnail-generator-imagescalar-vs-imagemagic/\" rel=\"nofollow\"><strong>link</strong></a> that gives a complete answer with code snippets. </p>\n"},{"tags":[],"owner":{"account_id":2278351,"reputation":1692,"user_id":2004087,"display_name":"martins.tuga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439317415,"creation_date":1439317415,"answer_id":31949257,"question_id":1069095,"body_markdown":"I&#39;ve used Thumbnailator! It solved my problem with two lines of code.\r\n\r\nhttps://github.com/coobird/thumbnailator","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I've used Thumbnailator! It solved my problem with two lines of code.</p>\n\n<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow\">https://github.com/coobird/thumbnailator</a></p>\n"},{"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464617601,"creation_date":1464617601,"answer_id":37527828,"question_id":1069095,"body_markdown":"There are many image processing frameworks available that you can do this with just a few lines. The example below generates the thumbnails in different resolutions (given a width as reference) using [Marvin Framework][1]. The three thumbnails were generated in **92 ms**.\r\n\r\n**input:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**output:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n    import static marvin.MarvinPluginCollection.*;\r\n    \r\n    MarvinImage image = MarvinImageIO.loadImage(&quot;./res/input.jpg&quot;);\r\n    MarvinImage scaledImage = new MarvinImage(1,1);\r\n\r\n    scale(image, scaledImage, 250);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x250.jpg&quot;);\r\n\t\t\r\n\tscale(image, scaledImage, 150);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x150.jpg&quot;);\r\n\t\t\r\n\tscale(image, scaledImage, 50);\r\n\tMarvinImageIO.saveImage(scaledImage, &quot;./res/output_x50.jpg&quot;);\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net/\r\n  [2]: http://i.stack.imgur.com/ldTwX.jpg\r\n  [3]: http://i.stack.imgur.com/XqTTw.jpg\r\n  [4]: http://i.stack.imgur.com/R7RSm.jpg\r\n  [5]: http://i.stack.imgur.com/cw7CV.jpg","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>There are many image processing frameworks available that you can do this with just a few lines. The example below generates the thumbnails in different resolutions (given a width as reference) using <a href=\"http://marvinproject.sourceforge.net/\" rel=\"nofollow noreferrer\">Marvin Framework</a>. The three thumbnails were generated in <strong>92 ms</strong>.</p>\n\n<p><strong>input:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ldTwX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ldTwX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/XqTTw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqTTw.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/R7RSm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7RSm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cw7CV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cw7CV.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import static marvin.MarvinPluginCollection.*;\n\nMarvinImage image = MarvinImageIO.loadImage(\"./res/input.jpg\");\nMarvinImage scaledImage = new MarvinImage(1,1);\n\nscale(image, scaledImage, 250);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x250.jpg\");\n\nscale(image, scaledImage, 150);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x150.jpg\");\n\nscale(image, scaledImage, 50);\nMarvinImageIO.saveImage(scaledImage, \"./res/output_x50.jpg\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8854545,"reputation":63,"user_id":6612689,"display_name":"Johannes J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469005058,"creation_date":1469004580,"answer_id":38476552,"question_id":1069095,"body_markdown":"Simple way to create a thumbnail without stretching or a library. Works with transparency in pngs, too.\r\n\r\n\r\n    public File createThumbnail(String imageUrl, String targetPath) {\r\n        final int imageSize = 100;\r\n        File thumbnail = new File(targetPath);\r\n\r\n        try {\r\n            thumbnail.getParentFile().mkdirs();\r\n            thumbnail.createNewFile();\r\n            BufferedImage sourceImage = ImageIO.read(new File(imageUrl));\r\n            float width = sourceImage.getWidth();\r\n            float height = sourceImage.getHeight();\r\n\r\n            BufferedImage img2;\r\n            if (width &gt; height) {\r\n                float scaledWidth = (width / height) * (float) imageSize;\r\n                float scaledHeight = imageSize;\r\n\r\n                BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\r\n                img.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\r\n                int offset = (int) ((scaledWidth - scaledHeight) / 2f);\r\n                img2 = img.getSubimage(offset, 0, imageSize, imageSize);\r\n            }\r\n            else if (width &lt; height) {\r\n                float scaledWidth = imageSize;\r\n                float scaledHeight = (height / width) * (float) imageSize;\r\n\r\n                BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\r\n                img.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n\r\n                int offset = (int) ((scaledHeight - scaledWidth) / 2f);\r\n                img2 = img.getSubimage(0, offset, imageSize, imageSize);\r\n            }\r\n            else {\r\n                img2 = new BufferedImage(imageSize, imageSize, sourceImage.getType());\r\n                Image scaledImage = sourceImage.getScaledInstance(imageSize, imageSize, Image.SCALE_SMOOTH);\r\n                img2.createGraphics().drawImage(scaledImage, 0, 0, null);\r\n            }\r\n            ImageIO.write(img2, &quot;png&quot;, thumbnail);\r\n        }\r\n        catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return thumbnail;\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Simple way to create a thumbnail without stretching or a library. Works with transparency in pngs, too.</p>\n\n<pre><code>public File createThumbnail(String imageUrl, String targetPath) {\n    final int imageSize = 100;\n    File thumbnail = new File(targetPath);\n\n    try {\n        thumbnail.getParentFile().mkdirs();\n        thumbnail.createNewFile();\n        BufferedImage sourceImage = ImageIO.read(new File(imageUrl));\n        float width = sourceImage.getWidth();\n        float height = sourceImage.getHeight();\n\n        BufferedImage img2;\n        if (width &gt; height) {\n            float scaledWidth = (width / height) * (float) imageSize;\n            float scaledHeight = imageSize;\n\n            BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n\n            int offset = (int) ((scaledWidth - scaledHeight) / 2f);\n            img2 = img.getSubimage(offset, 0, imageSize, imageSize);\n        }\n        else if (width &lt; height) {\n            float scaledWidth = imageSize;\n            float scaledHeight = (height / width) * (float) imageSize;\n\n            BufferedImage img = new BufferedImage((int) scaledWidth, (int) scaledHeight, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance((int) scaledWidth, (int) scaledHeight, Image.SCALE_SMOOTH);\n            img.createGraphics().drawImage(scaledImage, 0, 0, null);\n\n            int offset = (int) ((scaledHeight - scaledWidth) / 2f);\n            img2 = img.getSubimage(0, offset, imageSize, imageSize);\n        }\n        else {\n            img2 = new BufferedImage(imageSize, imageSize, sourceImage.getType());\n            Image scaledImage = sourceImage.getScaledInstance(imageSize, imageSize, Image.SCALE_SMOOTH);\n            img2.createGraphics().drawImage(scaledImage, 0, 0, null);\n        }\n        ImageIO.write(img2, \"png\", thumbnail);\n    }\n    catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return thumbnail;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4089332,"reputation":147,"user_id":3357788,"display_name":"mike oganyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472964315,"creation_date":1472964315,"answer_id":39313627,"question_id":1069095,"body_markdown":"I have writtena util class with static methods years ago using JAI. Java Advanced Imaging API is the most reliable API  in Java to deal with images. It&#39;s vector interpolation is closest thing to Photoshop in Java world. Here is one of them:\r\n\r\n    public static ByteArrayOutputStream resize(InputStream inputStream , int IMG_WIDTH,\r\n\t\t\tint IMG_HEIGHT) throws Exception {\r\n\t\tBufferedImage originalImage = ImageIO.read(inputStream);\r\n\t\tint type = originalImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB\r\n\t\t\t\t: originalImage.getType();\r\n\t\tBufferedImage resizedImage = new BufferedImage(IMG_WIDTH, IMG_HEIGHT,\r\n\t\t\t\ttype);\r\n\t\t{\r\n\t\t\tGraphics2D g = resizedImage.createGraphics();\r\n\t\t\tg.drawImage(originalImage, 0, 0, IMG_WIDTH, IMG_HEIGHT, null);\r\n\t\t\tg.dispose();\r\n\t\t\tg.setComposite(AlphaComposite.Src);\r\n\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\r\n\t\t\t\t\tRenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_RENDERING,\r\n\t\t\t\t\tRenderingHints.VALUE_RENDER_QUALITY);\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t}\r\n\t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\tImageIO.write(resizedImage, &quot;png&quot;, bos);\r\n\t\treturn bos;\r\n\r\n\t} ","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I have writtena util class with static methods years ago using JAI. Java Advanced Imaging API is the most reliable API  in Java to deal with images. It's vector interpolation is closest thing to Photoshop in Java world. Here is one of them:</p>\n\n<pre><code>public static ByteArrayOutputStream resize(InputStream inputStream , int IMG_WIDTH,\n        int IMG_HEIGHT) throws Exception {\n    BufferedImage originalImage = ImageIO.read(inputStream);\n    int type = originalImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB\n            : originalImage.getType();\n    BufferedImage resizedImage = new BufferedImage(IMG_WIDTH, IMG_HEIGHT,\n            type);\n    {\n        Graphics2D g = resizedImage.createGraphics();\n        g.drawImage(originalImage, 0, 0, IMG_WIDTH, IMG_HEIGHT, null);\n        g.dispose();\n        g.setComposite(AlphaComposite.Src);\n\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,\n                RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g.setRenderingHint(RenderingHints.KEY_RENDERING,\n                RenderingHints.VALUE_RENDER_QUALITY);\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n    }\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ImageIO.write(resizedImage, \"png\", bos);\n    return bos;\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491405232,"creation_date":1491405232,"answer_id":43235227,"question_id":1069095,"body_markdown":"I know this is a pretty old post. I have been looking for a solution to generate the thumbnail so end up using this  \r\n\r\n    Thumbnails.of(originalImage).scale(0.25).asBufferedImage();\r\nif you are using for mobile would suggest to set the scale to 0.45\r\n\r\n    Thumbnails.of(originalImage).scale(0.45).asBufferedImage();\r\n\r\nhttps://github.com/coobird/thumbnailator  \r\n\r\nThis is certainly much faster using the Graphics2D as have tested the both options. ","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>I know this is a pretty old post. I have been looking for a solution to generate the thumbnail so end up using this  </p>\n\n<pre><code>Thumbnails.of(originalImage).scale(0.25).asBufferedImage();\n</code></pre>\n\n<p>if you are using for mobile would suggest to set the scale to 0.45</p>\n\n<pre><code>Thumbnails.of(originalImage).scale(0.45).asBufferedImage();\n</code></pre>\n\n<p><a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">https://github.com/coobird/thumbnailator</a>  </p>\n\n<p>This is certainly much faster using the Graphics2D as have tested the both options. </p>\n"},{"tags":[],"owner":{"account_id":2273307,"reputation":2281,"user_id":2000185,"accept_rate":67,"display_name":"luke1985"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595609220,"creation_date":1595609220,"answer_id":63077984,"question_id":1069095,"body_markdown":"Maybe the simplest approach would be:\r\n\r\n    static public BufferedImage scaleImage(BufferedImage image, int max_width, int max_height) {\r\n        int img_width = image.getWidth();\r\n        int img_height = image.getHeight();\r\n\r\n        float horizontal_ratio = 1;\r\n        float vertical_ratio    = 1;\r\n\r\n\r\n        if(img_height &gt; max_height) {\r\n            vertical_ratio = (float)max_height / (float)img_height;\r\n        }\r\n        if(img_width &gt; max_width) {\r\n            horizontal_ratio = (float)max_width / (float)img_width;\r\n        }\r\n\r\n        float scale_ratio = 1;\r\n\r\n        if (vertical_ratio &lt; horizontal_ratio) {\r\n            scale_ratio = vertical_ratio;\r\n        }\r\n        else if (horizontal_ratio &lt; vertical_ratio) {\r\n            scale_ratio = horizontal_ratio;\r\n        }\r\n\r\n        int dest_width  = (int) (img_width * scale_ratio);\r\n        int dest_height = (int) (img_height * scale_ratio);\r\n\r\n        BufferedImage scaled = new BufferedImage(dest_width, dest_height, image.getType());\r\n        Graphics graphics = scaled.getGraphics();\r\n        graphics.drawImage(image, 0, 0, dest_width, dest_height, null);\r\n        graphics.dispose();\r\n\r\n        return scaled;\r\n\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Maybe the simplest approach would be:</p>\n<pre><code>static public BufferedImage scaleImage(BufferedImage image, int max_width, int max_height) {\n    int img_width = image.getWidth();\n    int img_height = image.getHeight();\n\n    float horizontal_ratio = 1;\n    float vertical_ratio    = 1;\n\n\n    if(img_height &gt; max_height) {\n        vertical_ratio = (float)max_height / (float)img_height;\n    }\n    if(img_width &gt; max_width) {\n        horizontal_ratio = (float)max_width / (float)img_width;\n    }\n\n    float scale_ratio = 1;\n\n    if (vertical_ratio &lt; horizontal_ratio) {\n        scale_ratio = vertical_ratio;\n    }\n    else if (horizontal_ratio &lt; vertical_ratio) {\n        scale_ratio = horizontal_ratio;\n    }\n\n    int dest_width  = (int) (img_width * scale_ratio);\n    int dest_height = (int) (img_height * scale_ratio);\n\n    BufferedImage scaled = new BufferedImage(dest_width, dest_height, image.getType());\n    Graphics graphics = scaled.getGraphics();\n    graphics.drawImage(image, 0, 0, dest_width, dest_height, null);\n    graphics.dispose();\n\n    return scaled;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624003724,"creation_date":1624003724,"answer_id":68031622,"question_id":1069095,"body_markdown":"Solution for the case when you want to create a quadrate `(75x75)` thumbnail from the non-quadrate source. \r\n\r\nCode below first crop original image to quadrate using smaller size than resizes the quadrate image. \r\n\r\n    public static void generateThumbnailWithCrop(String imgPath, String thumbnailPath, int size) throws IOException {\r\n        BufferedImage sourceImage = ImageIO.read(new File(imgPath));\r\n        int width = sourceImage.getWidth();\r\n        int height = sourceImage.getHeight();\r\n        int smallerSize = width &gt; height ? height : width;\r\n        BufferedImage quadrateImage = cropToQuadrate(sourceImage, smallerSize);\r\n        int type = quadrateImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB : quadrateImage.getType();\r\n        BufferedImage resizedImage = resizeImageWithHint(quadrateImage, type, size, size);\r\n        File thumb = new File(thumbnailPath);\r\n        thumb.getParentFile().mkdirs();\r\n        ImageIO.write(resizedImage, &quot;jpg&quot;, thumb);\r\n    }\r\n\r\n    private static BufferedImage cropToQuadrate(BufferedImage sourceImage, int size) {\r\n        BufferedImage img = sourceImage.getSubimage(0, 0, size, size);\r\n        BufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n        Graphics g = copyOfImage.createGraphics();\r\n        g.drawImage(img, 0, 0, null);\r\n        return copyOfImage;\r\n    }\r\n    private static BufferedImage resizeImageWithHint(BufferedImage originalImage, int type, int width, int height) {\r\n        BufferedImage resizedImage = new BufferedImage(width, height, type);\r\n        Graphics2D g = resizedImage.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g.setComposite(AlphaComposite.Src);\r\n        g.drawImage(originalImage, 0, 0, width, height, null);\r\n        g.dispose();\r\n\r\n        return resizedImage;\r\n    }","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Solution for the case when you want to create a quadrate <code>(75x75)</code> thumbnail from the non-quadrate source.</p>\n<p>Code below first crop original image to quadrate using smaller size than resizes the quadrate image.</p>\n<pre><code>public static void generateThumbnailWithCrop(String imgPath, String thumbnailPath, int size) throws IOException {\n    BufferedImage sourceImage = ImageIO.read(new File(imgPath));\n    int width = sourceImage.getWidth();\n    int height = sourceImage.getHeight();\n    int smallerSize = width &gt; height ? height : width;\n    BufferedImage quadrateImage = cropToQuadrate(sourceImage, smallerSize);\n    int type = quadrateImage.getType() == 0 ? BufferedImage.TYPE_INT_ARGB : quadrateImage.getType();\n    BufferedImage resizedImage = resizeImageWithHint(quadrateImage, type, size, size);\n    File thumb = new File(thumbnailPath);\n    thumb.getParentFile().mkdirs();\n    ImageIO.write(resizedImage, &quot;jpg&quot;, thumb);\n}\n\nprivate static BufferedImage cropToQuadrate(BufferedImage sourceImage, int size) {\n    BufferedImage img = sourceImage.getSubimage(0, 0, size, size);\n    BufferedImage copyOfImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_RGB);\n    Graphics g = copyOfImage.createGraphics();\n    g.drawImage(img, 0, 0, null);\n    return copyOfImage;\n}\nprivate static BufferedImage resizeImageWithHint(BufferedImage originalImage, int type, int width, int height) {\n    BufferedImage resizedImage = new BufferedImage(width, height, type);\n    Graphics2D g = resizedImage.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g.setComposite(AlphaComposite.Src);\n    g.drawImage(originalImage, 0, 0, width, height, null);\n    g.dispose();\n\n    return resizedImage;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2890337,"reputation":2345,"user_id":2479282,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641504404,"creation_date":1641415594,"answer_id":70599386,"question_id":1069095,"body_markdown":"[Thumbnails4j][1] (I&#39;m a maintainer, but it&#39;s owned by [Elastic][2]) is a java library that can be used to create thumbnails from image files, as well as from other file types.\r\n\r\n```\r\nFile input = new File(&quot;/path/to/my_file.jpeg&quot;);\r\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\r\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\r\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\r\n```\r\n\r\n  [1]: https://github.com/elastic/thumbnails4j\r\n  [2]: https://elastic.co","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p><a href=\"https://github.com/elastic/thumbnails4j\" rel=\"nofollow noreferrer\">Thumbnails4j</a> (I'm a maintainer, but it's owned by <a href=\"https://elastic.co\" rel=\"nofollow noreferrer\">Elastic</a>) is a java library that can be used to create thumbnails from image files, as well as from other file types.</p>\n<pre><code>File input = new File(&quot;/path/to/my_file.jpeg&quot;);\nThumbnailer thumbnailer = new ImageThumbnailer(&quot;png&quot;); // or &quot;jpg&quot;, whichever output format you want\nList&lt;Dimensions&gt; outputDimensions = Collections.singletonList(new Dimensions(100, 100));\nBufferedImage output = thumbnailer.getThumbnails(input, outputDimensions).get(0);\n</code></pre>\n"}],"owner":{"display_name":"mmmmr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88099,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":15,"score":49,"last_activity_date":1681488737,"creation_date":1246454354,"question_id":1069095,"body_markdown":"Can someone please help with some code for creating a thumbnail for a JPEG in Java.\r\n\r\nI&#39;m new at this, so a step by step explanation would be appreciated.","title":"How do you create a thumbnail image out of a JPEG in Java?","body":"<p>Can someone please help with some code for creating a thumbnail for a JPEG in Java.</p>\n\n<p>I'm new at this, so a step by step explanation would be appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681481105,"post_id":76015841,"comment_id":134067877,"body_markdown":"Your data model does not make sense.  If the timestamps are supposed to be tied to specific jobs, then why do you have a column for them on `JobStatus` at all?","body":"Your data model does not make sense.  If the timestamps are supposed to be tied to specific jobs, then why do you have a column for them on <code>JobStatus</code> at all?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1681481404,"post_id":76015841,"comment_id":134067951,"body_markdown":"Also, if multiple jobs must each have independent collections of the same set of statuses, then that&#39;s many-to-many, not one-to-many.  And in that case, you&#39;re probably looking for [JPA 2.0 many-to-many with extra column](https://stackoverflow.com/q/23837561).","body":"Also, if multiple jobs must each have independent collections of the same set of statuses, then that&#39;s many-to-many, not one-to-many.  And in that case, you&#39;re probably looking for <a href=\"https://stackoverflow.com/q/23837561\">JPA 2.0 many-to-many with extra column</a>."},{"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"score":0,"creation_date":1681481697,"post_id":76015841,"comment_id":134068046,"body_markdown":"i need oneToMany, one job can have multiple status and i need to see the date in relationTable, not in job table or, as you say, in jobStatus table","body":"i need oneToMany, one job can have multiple status and i need to see the date in relationTable, not in job table or, as you say, in jobStatus table"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681482125,"post_id":76015841,"comment_id":134068166,"body_markdown":"So if one job has status `COMPLETED`, then no other job can have that status?  That is implied by the &quot;one&quot; part of &quot;one-to-many&quot; in your scheme.  Likewise, at most one with `ERROR`, at most one with `VALIDATED`, *etc*.","body":"So if one job has status <code>COMPLETED</code>, then no other job can have that status?  That is implied by the &quot;one&quot; part of &quot;one-to-many&quot; in your scheme.  Likewise, at most one with <code>ERROR</code>, at most one with <code>VALIDATED</code>, <i>etc</i>."},{"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"score":0,"creation_date":1681482232,"post_id":76015841,"comment_id":134068188,"body_markdown":"correct, when the jobs is finished it should not be modified anymore, whatever the state is","body":"correct, when the jobs is finished it should not be modified anymore, whatever the state is"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681482431,"post_id":76015841,"comment_id":134068232,"body_markdown":"You say &quot;correct&quot;, but what you say afterward does not seem to match what you are agreeing with.  Maybe it would help if you edit the question to explain the application logic that uses these entities.","body":"You say &quot;correct&quot;, but what you say afterward does not seem to match what you are agreeing with.  Maybe it would help if you edit the question to explain the application logic that uses these entities."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681561047,"post_id":76015841,"comment_id":134078291,"body_markdown":"What exactly is going wrong when you try to update?","body":"What exactly is going wrong when you try to update?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681488733,"creation_date":1681487411,"answer_id":76016879,"question_id":76015841,"body_markdown":"JPA models persistent state via entities. You cannot tag relationships with their own state.  If you find yourself wanting to do so then that&#39;s a sign that you need to interpose an additional entity.\r\n\r\nTypical procedures for that are described among the answers to [JPA 2.0 many-to-many with extra column][1].  The same approach can be used for a one-to-many in which the relationship is modeled via a join table, but if the relationship is ***one***-to-many then the data can ordinarily be recorded in the entities on the &quot;many&quot; side instead, since each of those is specific to / owned by exactly one entity on the &quot;one&quot; side anyway.\r\n\r\nAs to the the specifics of your question:\r\n\r\n&gt; JobsStatus is a static table in database\r\n\r\nI take you to mean that this table is never modified.  It serves only to enumerate the allowed status codes such as &quot;COMPLETED&quot;. (A more common variation also associates those codes with surrogate primary keys, but that&#39;s not essential.)\r\n\r\nBut if it is never modified, then it is not useful for this table to have the `sysDate` column that is null for all rows.  This carries no information, and never will carry any information because these rows are not supposed to be modified.  Moreover, if the database must support dates for the same status for different jobs at the same time, then this column is not sufficient anyway.\r\n\r\n&gt; i try to update like this:\r\n&gt; ```\r\n&gt; JobsStatus jobStatus = new IRJobsStatus();\r\n&gt; jobStatus.setJobStatus(&quot;INSERTED&quot;);\r\n&gt; jobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\r\n&gt; jobStatusList.add(jobStatus);\r\n&gt; ```\r\n\r\nIf you set an entity property such as via `jobStatus.setSysDate()` then you should expect any persistent representation to be stored in the entity&#39;s table.  Moreover, if you create a *new* entity (i.e. a `JobStatus`) and persist it, then you should expect a new row in that entity&#39;s table.  That would not be appropriate for my understanding of a &quot;static&quot; table.\r\n\r\nOverall, I think this is exactly the situation described in the linked question, but you&#39;re coming at it from a different angle.  The things with which your `Job`s have a one-to-many relationship are not statuses, but status *dates*.  And, I presume, there may be many status dates (for different jobs) with for the same status.  Thus, the multiplicities are:\r\n```\r\nJob (1) --- (many) JobStatusDate (many) --- (1) JobStatus\r\n```\r\nIf you collapse that to look at the Job:JobStatus multiplicity, it is many-to-many.\r\n\r\nI hope the direction I&#39;m heading is already clear.  You need to introduce a new entity to carry the dates of each job&#39;s various statuses.  That can be structured multiple ways, but the one that most closely matches your database design would be something like this:\r\n```\r\n@Entity\r\npublic class Job {\r\n    @Id\r\n    private Integer jobId;\r\n\r\n    @OneToMany(mappedBy = job)\r\n    private List&lt;JobStatusDate&gt; statusDates;\r\n}\r\n\r\n@Entity\r\npublic class JobStatusDate {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private Job job;\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private JobStatus status;\r\n\r\n    private Date date;\r\n}\r\n\r\n@Entity\r\npublic class JobStatus {\r\n\r\n    @Id\r\n    private String status;\r\n\r\n    // optional:\r\n    @OneToMany(mappedBy = status)\r\n    private List&lt;JobStatusDate&gt; statusDates;\r\n}\r\n```\r\n**Alternatively**, if the application needs built-in knowledge of the valid job status codes (likely, since I anticipate that they are associated with specific business logic) then you could consider dropping the JobStatus entity (but keeping the table and the FK relationship in the database).  Then `JobStatusDate` would have a plain `String` status code instead of a relationship with a `JobStatus` entity.  The FK relationship retained in the DB would prevent invalid status codes from being recorded, which I guess is its intended purpose already.\r\n\r\nIn that event, you might consider going even further by mapping the status codes to an appropriate Java `enum` instead of to a `String`.  The ultimate result might go as far as this:\r\n```\r\npublic enum JobStatus {\r\n    COMPLETED, ERROR, INSERTED, PROCESSING, VALIDATED, VALIDATING\r\n}\r\n\r\n@Entity\r\npublic class Job {\r\n    @Id\r\n    private Integer jobId;\r\n\r\n    @OneToMany(mappedBy = job)\r\n    @MapKey(name = status)\r\n    private Map&lt;JobStatus, JobStatusDate&gt; statusDates;\r\n}\r\n\r\n@Entity\r\npublic class JobStatusDate {\r\n\r\n    @Id\r\n    @ManyToOne\r\n    private Job job;\r\n\r\n    @Id\r\n    @Enumerated(EnumType.STRING)\r\n    private JobStatus status;\r\n\r\n    private Date date;\r\n}\r\n\r\n// No JobStatus entity\r\n```\r\nNotably, this allows you to map the `Job` : `JobStatusDate` relationship as a map, which would be a convenience for many of the kinds of things I anticipate you might want to do.\r\n\r\n  [1]: https://stackoverflow.com/q/23837561","title":"@OneToMany on multiple columns","body":"<p>JPA models persistent state via entities. You cannot tag relationships with their own state.  If you find yourself wanting to do so then that's a sign that you need to interpose an additional entity.</p>\n<p>Typical procedures for that are described among the answers to <a href=\"https://stackoverflow.com/q/23837561\">JPA 2.0 many-to-many with extra column</a>.  The same approach can be used for a one-to-many in which the relationship is modeled via a join table, but if the relationship is <em><strong>one</strong></em>-to-many then the data can ordinarily be recorded in the entities on the &quot;many&quot; side instead, since each of those is specific to / owned by exactly one entity on the &quot;one&quot; side anyway.</p>\n<p>As to the the specifics of your question:</p>\n<blockquote>\n<p>JobsStatus is a static table in database</p>\n</blockquote>\n<p>I take you to mean that this table is never modified.  It serves only to enumerate the allowed status codes such as &quot;COMPLETED&quot;. (A more common variation also associates those codes with surrogate primary keys, but that's not essential.)</p>\n<p>But if it is never modified, then it is not useful for this table to have the <code>sysDate</code> column that is null for all rows.  This carries no information, and never will carry any information because these rows are not supposed to be modified.  Moreover, if the database must support dates for the same status for different jobs at the same time, then this column is not sufficient anyway.</p>\n<blockquote>\n<p>i try to update like this:</p>\n<pre><code>JobsStatus jobStatus = new IRJobsStatus();\njobStatus.setJobStatus(&quot;INSERTED&quot;);\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\njobStatusList.add(jobStatus);\n</code></pre>\n</blockquote>\n<p>If you set an entity property such as via <code>jobStatus.setSysDate()</code> then you should expect any persistent representation to be stored in the entity's table.  Moreover, if you create a <em>new</em> entity (i.e. a <code>JobStatus</code>) and persist it, then you should expect a new row in that entity's table.  That would not be appropriate for my understanding of a &quot;static&quot; table.</p>\n<p>Overall, I think this is exactly the situation described in the linked question, but you're coming at it from a different angle.  The things with which your <code>Job</code>s have a one-to-many relationship are not statuses, but status <em>dates</em>.  And, I presume, there may be many status dates (for different jobs) with for the same status.  Thus, the multiplicities are:</p>\n<pre><code>Job (1) --- (many) JobStatusDate (many) --- (1) JobStatus\n</code></pre>\n<p>If you collapse that to look at the Job:JobStatus multiplicity, it is many-to-many.</p>\n<p>I hope the direction I'm heading is already clear.  You need to introduce a new entity to carry the dates of each job's various statuses.  That can be structured multiple ways, but the one that most closely matches your database design would be something like this:</p>\n<pre><code>@Entity\npublic class Job {\n    @Id\n    private Integer jobId;\n\n    @OneToMany(mappedBy = job)\n    private List&lt;JobStatusDate&gt; statusDates;\n}\n\n@Entity\npublic class JobStatusDate {\n\n    @Id\n    @ManyToOne\n    private Job job;\n\n    @Id\n    @ManyToOne\n    private JobStatus status;\n\n    private Date date;\n}\n\n@Entity\npublic class JobStatus {\n\n    @Id\n    private String status;\n\n    // optional:\n    @OneToMany(mappedBy = status)\n    private List&lt;JobStatusDate&gt; statusDates;\n}\n</code></pre>\n<p><strong>Alternatively</strong>, if the application needs built-in knowledge of the valid job status codes (likely, since I anticipate that they are associated with specific business logic) then you could consider dropping the JobStatus entity (but keeping the table and the FK relationship in the database).  Then <code>JobStatusDate</code> would have a plain <code>String</code> status code instead of a relationship with a <code>JobStatus</code> entity.  The FK relationship retained in the DB would prevent invalid status codes from being recorded, which I guess is its intended purpose already.</p>\n<p>In that event, you might consider going even further by mapping the status codes to an appropriate Java <code>enum</code> instead of to a <code>String</code>.  The ultimate result might go as far as this:</p>\n<pre><code>public enum JobStatus {\n    COMPLETED, ERROR, INSERTED, PROCESSING, VALIDATED, VALIDATING\n}\n\n@Entity\npublic class Job {\n    @Id\n    private Integer jobId;\n\n    @OneToMany(mappedBy = job)\n    @MapKey(name = status)\n    private Map&lt;JobStatus, JobStatusDate&gt; statusDates;\n}\n\n@Entity\npublic class JobStatusDate {\n\n    @Id\n    @ManyToOne\n    private Job job;\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    private JobStatus status;\n\n    private Date date;\n}\n\n// No JobStatus entity\n</code></pre>\n<p>Notably, this allows you to map the <code>Job</code> : <code>JobStatusDate</code> relationship as a map, which would be a convenience for many of the kinds of things I anticipate you might want to do.</p>\n"}],"owner":{"account_id":14616254,"reputation":1,"user_id":10556266,"display_name":"Marco MM"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681488733,"creation_date":1681480378,"question_id":76015841,"body_markdown":"i have a problem with @oneToMany relation between 2 class:\r\nMy first class is\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;job&quot;)\r\npublic class Jobs {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer jobId;\r\n\r\n    @OneToMany\r\n    private List&lt;JobsStatus&gt; jobStatus;\r\n}\r\n```\r\n\r\nand my JobsStatus class\r\n\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;job_status&quot;)\r\npublic class JobsStatus {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;VARCHAR(20)&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private String jobStatus;\r\n\r\n    @Column(name=&quot;sysdate&quot;)\r\n    private Date sysDate;\r\n}\r\n```\r\n\r\nJobsStatus is a static table in database, this is the result when i select on the table\r\n\r\nCOMPLETED\tnull\r\n\r\nERROR\t        null\r\n\r\nINSERTED\tnull\r\n\r\nPROCESSING\tnull\r\n\r\nVALIDATED\tnull\r\n\r\nVALIDATING\tnull\r\n\r\nand this is ok, because the date should be null\r\n\r\nafter i run my code i can see the relation table in my database (job_job_status) and i get this result\r\n\r\nirjobs_job_id\tjob_status_job_status\r\n\r\n1\t        INSERTED\r\n\r\n1\t        PROCESSING\r\n\r\n1\t        VALIDATED\r\n\r\n1\t        VALIDATING\r\n\r\nThis is ok, but, every time i update my job class, i need to see sysDate on job_job_status table like this:\r\n\r\njobs_job_id\tjob_status_job_status   sysDate\r\n\r\n1\t        INSERTED                04/14/2023\r\n\r\n1\t        PROCESSING              04/14/2023\r\n\r\n1\t        VALIDATED               04/14/2023\r\n\r\n1\t        VALIDATING              04/14/2023\r\n\r\nsimply i need one more column, sysDate, on the relation table (job_job_status )\r\n\r\ni try to update like this:\r\n\r\n\r\n```\r\nJobsStatus jobStatus = new IRJobsStatus();\r\njobStatus.setJobStatus(&quot;INSERTED&quot;);\r\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\r\njobStatusList.add(jobStatus);\r\n```\r\n\r\ncan someone help me?\r\n\r\n","title":"@OneToMany on multiple columns","body":"<p>i have a problem with @oneToMany relation between 2 class:\nMy first class is</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;job&quot;)\npublic class Jobs {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer jobId;\n\n    @OneToMany\n    private List&lt;JobsStatus&gt; jobStatus;\n}\n</code></pre>\n<p>and my JobsStatus class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;job_status&quot;)\npublic class JobsStatus {\n\n    @Id\n    @Column(columnDefinition = &quot;VARCHAR(20)&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String jobStatus;\n\n    @Column(name=&quot;sysdate&quot;)\n    private Date sysDate;\n}\n</code></pre>\n<p>JobsStatus is a static table in database, this is the result when i select on the table</p>\n<p>COMPLETED   null</p>\n<p>ERROR           null</p>\n<p>INSERTED    null</p>\n<p>PROCESSING  null</p>\n<p>VALIDATED   null</p>\n<p>VALIDATING  null</p>\n<p>and this is ok, because the date should be null</p>\n<p>after i run my code i can see the relation table in my database (job_job_status) and i get this result</p>\n<p>irjobs_job_id   job_status_job_status</p>\n<p>1           INSERTED</p>\n<p>1           PROCESSING</p>\n<p>1           VALIDATED</p>\n<p>1           VALIDATING</p>\n<p>This is ok, but, every time i update my job class, i need to see sysDate on job_job_status table like this:</p>\n<p>jobs_job_id job_status_job_status   sysDate</p>\n<p>1           INSERTED                04/14/2023</p>\n<p>1           PROCESSING              04/14/2023</p>\n<p>1           VALIDATED               04/14/2023</p>\n<p>1           VALIDATING              04/14/2023</p>\n<p>simply i need one more column, sysDate, on the relation table (job_job_status )</p>\n<p>i try to update like this:</p>\n<pre><code>JobsStatus jobStatus = new IRJobsStatus();\njobStatus.setJobStatus(&quot;INSERTED&quot;);\njobStatus.setSysDate(new java.sql.Date(new java.util.Date().getTime()));\njobStatusList.add(jobStatus);\n</code></pre>\n<p>can someone help me?</p>\n"},{"tags":["java","xml","jaxb","unmarshalling"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298047684,"creation_date":1298047684,"answer_id":5044068,"question_id":5044042,"body_markdown":"You have to use a SAX parser, and a document handler that effectively &quot;skips&quot; the node of non-interest.  You can&#39;t get around reading the bytes, but at least you can get around having them waste extra resources.\r\n\r\nIf your code requires a DOM tree, then you basically use a SAX document handler that generates DOM nodes, but &quot;skips&quot; the nodes of non-interest.  Definitely less convenient that using the supplied DOM tree generators, but a decent trade-off is you can&#39;t live with the extra memory overhead of the unwanted nodes but you need the DOM tree.","title":"JAXB - Ignore element","body":"<p>You have to use a SAX parser, and a document handler that effectively \"skips\" the node of non-interest.  You can't get around reading the bytes, but at least you can get around having them waste extra resources.</p>\n\n<p>If your code requires a DOM tree, then you basically use a SAX document handler that generates DOM nodes, but \"skips\" the nodes of non-interest.  Definitely less convenient that using the supplied DOM tree generators, but a decent trade-off is you can't live with the extra memory overhead of the unwanted nodes but you need the DOM tree.</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1298048530,"creation_date":1298048166,"answer_id":5044148,"question_id":5044042,"body_markdown":"JAXB will ignore any unmapped properties.\r\n\r\nImplementation wise (atleast in [EcliseLink JAXB (MOXy)][1], which I lead).  When we are processing the contents via a SAX parser (i.e. the input was a SAXSource) then we swap out our ContentHandler that is responsible for building objects to one that does no processing for that section (org.eclipse.persistence.oxm.unmapped.UnmappedContentHandler).  When a we are using processing the contents via a StAX parser we just advance to the next mapped event.\r\n\r\nIf you do have a property that corresponds to that node you can annotate it with [@XmlTransient][2] to make it an unmapped property.\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlTransient.html","title":"JAXB - Ignore element","body":"<p>JAXB will ignore any unmapped properties.</p>\n\n<p>Implementation wise (atleast in <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"noreferrer\">EcliseLink JAXB (MOXy)</a>, which I lead).  When we are processing the contents via a SAX parser (i.e. the input was a SAXSource) then we swap out our ContentHandler that is responsible for building objects to one that does no processing for that section (org.eclipse.persistence.oxm.unmapped.UnmappedContentHandler).  When a we are using processing the contents via a StAX parser we just advance to the next mapped event.</p>\n\n<p>If you do have a property that corresponds to that node you can annotate it with <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlTransient.html\" rel=\"noreferrer\">@XmlTransient</a> to make it an unmapped property.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1454329639,"creation_date":1298048242,"answer_id":5044161,"question_id":5044042,"body_markdown":"Assuming your JAXB model looks like this:\r\n\r\n    @XmlRootElement(name=&quot;foo&quot;)\r\n    public class Foo {\r\n    \r\n       @XmlElement(name=&quot;element1&quot;)\r\n       String element1;\r\n    \r\n       @XmlElement(name=&quot;element2&quot;)\r\n       String element2;\r\n    \r\n       @XmlElement(name=&quot;bar&quot;)\r\n       Bar bar;\r\n    }\r\n\r\nthen simply removing the `bar` field from `Foo` will skip the `&lt;bar/&gt;` element in the input document.\r\n\r\nAlternatively, annotated the field with `@XmlTransient` instead of `@XmlElement`, and it will also be skipped.","title":"JAXB - Ignore element","body":"<p>Assuming your JAXB model looks like this:</p>\n\n<pre><code>@XmlRootElement(name=\"foo\")\npublic class Foo {\n\n   @XmlElement(name=\"element1\")\n   String element1;\n\n   @XmlElement(name=\"element2\")\n   String element2;\n\n   @XmlElement(name=\"bar\")\n   Bar bar;\n}\n</code></pre>\n\n<p>then simply removing the <code>bar</code> field from <code>Foo</code> will skip the <code>&lt;bar/&gt;</code> element in the input document.</p>\n\n<p>Alternatively, annotated the field with <code>@XmlTransient</code> instead of <code>@XmlElement</code>, and it will also be skipped.</p>\n"},{"tags":[],"owner":{"account_id":7322878,"reputation":659,"user_id":5578292,"display_name":"Yahor M"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1483450116,"creation_date":1483450116,"answer_id":41444628,"question_id":5044042,"body_markdown":"All what you need it&#39;s mark field as @XmlTransient (@XmlTransient annotation which should hide fields that are not required). Example below\r\n\r\nJavaEE:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;DeletedIds&quot;)\r\n    public class DeletedIds {\r\n\r\n        @XmlElement(name = &quot;DeletedId&quot;)\r\n        private List&lt;DeletedId&gt; id;    \r\n\r\n        @XmlTransient\r\n        @XmlElement(name = &quot;success&quot;)\r\n        private String success;\r\n\r\n        //getters&amp;setters\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class DeletedId {\r\n    \r\n        private int id;\r\n\r\n        //getters&amp;setters\r\n    }\r\n\r\nXml:\r\n\r\n    &lt;DeletedIds&gt;\r\n        &lt;DeletedId&gt;\r\n            &lt;id&gt;1&lt;/id&gt;\r\n        &lt;/DeletedId&gt;\r\n        &lt;DeletedId&gt;\r\n            &lt;id&gt;2&lt;/id&gt;\r\n        &lt;/DeletedId&gt;\r\n    &lt;/DeletedIds&gt;","title":"JAXB - Ignore element","body":"<p>All what you need it's mark field as @XmlTransient (@XmlTransient annotation which should hide fields that are not required). Example below</p>\n\n<p>JavaEE:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = \"DeletedIds\")\npublic class DeletedIds {\n\n    @XmlElement(name = \"DeletedId\")\n    private List&lt;DeletedId&gt; id;    \n\n    @XmlTransient\n    @XmlElement(name = \"success\")\n    private String success;\n\n    //getters&amp;setters\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class DeletedId {\n\n    private int id;\n\n    //getters&amp;setters\n}\n</code></pre>\n\n<p>Xml:</p>\n\n<pre><code>&lt;DeletedIds&gt;\n    &lt;DeletedId&gt;\n        &lt;id&gt;1&lt;/id&gt;\n    &lt;/DeletedId&gt;\n    &lt;DeletedId&gt;\n        &lt;id&gt;2&lt;/id&gt;\n    &lt;/DeletedId&gt;\n&lt;/DeletedIds&gt;\n</code></pre>\n"}],"owner":{"account_id":28657,"reputation":775,"user_id":76742,"accept_rate":50,"display_name":"questioner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77820,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":4,"score":30,"last_activity_date":1681488276,"creation_date":1298047497,"question_id":5044042,"body_markdown":"Is there any way to just ignore an element from Jaxb parsing?\r\nI have a large XML file, and if I could ignore one of the large, complex elements, then it would probably parse a lot quicker.\r\n\r\nIt would be even better if it could not even validate the element contents at all and parse the rest of the document even if that element is not correct.\r\n\r\nex:this should only generate Foo.element1 and Foo.element2\r\n\r\n    &lt;foo&gt;\r\n        &lt;element1&gt;I want this&lt;/element1&gt;\r\n        &lt;element2&gt;And this&lt;/element2&gt;\r\n        &lt;bar&gt;\r\n           &lt;a&gt;ALL of bar should be ignored&lt;/a&gt;\r\n           &lt;b&gt;this also should be ignored&lt;/b&gt;\r\n           &lt;c&gt;\r\n               &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n           &lt;c&gt;\r\n                &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n           &lt;c&gt;\r\n              &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n           &lt;/c&gt;\r\n          &lt;c&gt;\r\n              &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\r\n          &lt;/c&gt;\r\n      &lt;/bar&gt;\r\n    &lt;/foo&gt;","title":"JAXB - Ignore element","body":"<p>Is there any way to just ignore an element from Jaxb parsing?\nI have a large XML file, and if I could ignore one of the large, complex elements, then it would probably parse a lot quicker.</p>\n\n<p>It would be even better if it could not even validate the element contents at all and parse the rest of the document even if that element is not correct.</p>\n\n<p>ex:this should only generate Foo.element1 and Foo.element2</p>\n\n<pre><code>&lt;foo&gt;\n    &lt;element1&gt;I want this&lt;/element1&gt;\n    &lt;element2&gt;And this&lt;/element2&gt;\n    &lt;bar&gt;\n       &lt;a&gt;ALL of bar should be ignored&lt;/a&gt;\n       &lt;b&gt;this also should be ignored&lt;/b&gt;\n       &lt;c&gt;\n           &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n       &lt;c&gt;\n            &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n       &lt;c&gt;\n          &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n       &lt;/c&gt;\n      &lt;c&gt;\n          &lt;x&gt;a lot of C that take time to process&lt;/x&gt;\n      &lt;/c&gt;\n  &lt;/bar&gt;\n&lt;/foo&gt;\n</code></pre>\n"},{"tags":["java","android","android-viewpager2"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1681450238,"post_id":76011809,"comment_id":134061138,"body_markdown":"Add a [mcve] with question .","body":"Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with question ."}],"owner":{"account_id":8545696,"reputation":35,"user_id":6404326,"display_name":"Trautman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487759,"creation_date":1681449570,"question_id":76011809,"body_markdown":"I have a thin bottom info fragment over a map what can be clicked and it expands with more info (bottomsheetbehaviour). This works fine alone and the map can be panned after the bottomsheet is collapsed back. The problem is when I try to put the bottom fragment into viewpager2. It works fine but it will take all the expanded height even it is collapsed and the map cannot be panned or clicked within that area. Viewpager height is wrap_content. Any ideas how this could be fixed so that viewpager height would change when height of the fragment inside viepager changes?   \r\n\r\nI&#39;ve tried different methods and always it takes the same height. This works fine without viewpager with only one fragment but I need viewpager. \r\n\r\nThis can be reproduced with a simple test app\r\n\r\nactivity_main.xml \r\n\r\n       &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nMainActivity\r\n\r\n     mViewPager = findViewById(R.id.pager);\r\n        mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\r\n        mAdapter.addFragment(new BottomInfoFragment());\r\n        mViewPager.setAdapter(mAdapter);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\nThis does not work. When floating action button is pressed nothing happens, Toast is not shown.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n--------------------------------------------\r\nBut if only fragment is added it works\r\n\r\nactivity_main.xml\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/bottom_info_view&quot;\r\n        android:name=&quot;com.example.myapplication.BottomInfoFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_anchor=&quot;@+id/constraintLayout&quot;\r\n        app:layout_anchorGravity=&quot;center&quot;\r\n        tools:layout=&quot;@layout/bottom_info_fragment&quot; /&gt;\r\n\r\n    &lt;!--&lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        /&gt;--&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nMainActivity\r\n\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        fab = findViewById(R.id.fab);\r\n        /*mViewPager = findViewById(R.id.pager);\r\n        mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\r\n        mAdapter.addFragment(new BottomInfoFragment());\r\n        mViewPager.setAdapter(mAdapter);*/\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n      \r\nbottom_info_fragment\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/nestedScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:behavior_peekHeight=&quot;65dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        app:layout_behavior=\r\n        &quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@color/teal_200&quot;\r\n            android:orientation=&quot;vertical&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nWhen pressed floating action button Toast is shown.\r\n[![enter image description here][2]][2]\r\n\r\nAnd in both cases bottomsheet works as should it can be slided up over the button.\r\n\r\n[![enter image description here][3]][3] \r\n\r\n\r\nDoes anyone know how I can add a viewpager with fragments that have bottomsheetbehaviour and that the under layer is responsive also when bottomsheet is collapsed?\r\n\r\n  [1]: https://i.stack.imgur.com/tcNpf.png\r\n  [2]: https://i.stack.imgur.com/ZDm7z.png\r\n  [3]: https://i.stack.imgur.com/dbhK3.png","title":"Android BottomSheetBehavior takes all height in viewpager2 even it is collapsed","body":"<p>I have a thin bottom info fragment over a map what can be clicked and it expands with more info (bottomsheetbehaviour). This works fine alone and the map can be panned after the bottomsheet is collapsed back. The problem is when I try to put the bottom fragment into viewpager2. It works fine but it will take all the expanded height even it is collapsed and the map cannot be panned or clicked within that area. Viewpager height is wrap_content. Any ideas how this could be fixed so that viewpager height would change when height of the fragment inside viepager changes?</p>\n<p>I've tried different methods and always it takes the same height. This works fine without viewpager with only one fragment but I need viewpager.</p>\n<p>This can be reproduced with a simple test app</p>\n<p>activity_main.xml</p>\n<pre><code>   &lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>MainActivity</p>\n<pre><code> mViewPager = findViewById(R.id.pager);\n    mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\n    mAdapter.addFragment(new BottomInfoFragment());\n    mViewPager.setAdapter(mAdapter);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n<p>This does not work. When floating action button is pressed nothing happens, Toast is not shown.</p>\n<p><a href=\"https://i.stack.imgur.com/tcNpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tcNpf.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But if only fragment is added it works</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/bottom_info_view&quot;\n    android:name=&quot;com.example.myapplication.BottomInfoFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_anchor=&quot;@+id/constraintLayout&quot;\n    app:layout_anchorGravity=&quot;center&quot;\n    tools:layout=&quot;@layout/bottom_info_fragment&quot; /&gt;\n\n&lt;!--&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    /&gt;--&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>MainActivity</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    fab = findViewById(R.id.fab);\n    /*mViewPager = findViewById(R.id.pager);\n    mAdapter = new ViewPagerAdapter(getSupportFragmentManager(), getLifecycle());\n    mAdapter.addFragment(new BottomInfoFragment());\n    mViewPager.setAdapter(mAdapter);*/\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(MainActivity.this, &quot;CLICK!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n  \n</code></pre>\n<p>bottom_info_fragment</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_width=&quot;match_parent&quot;&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    android:id=&quot;@+id/nestedScrollView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    app:behavior_peekHeight=&quot;65dp&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:background=&quot;@color/black&quot;\n    app:layout_behavior=\n    &quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot; /&gt;\n\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:background=&quot;@color/teal_200&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n&lt;/RelativeLayout&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>When pressed floating action button Toast is shown.\n<a href=\"https://i.stack.imgur.com/ZDm7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDm7z.png\" alt=\"enter image description here\" /></a></p>\n<p>And in both cases bottomsheet works as should it can be slided up over the button.</p>\n<p><a href=\"https://i.stack.imgur.com/dbhK3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dbhK3.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how I can add a viewpager with fragments that have bottomsheetbehaviour and that the under layer is responsive also when bottomsheet is collapsed?</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1588586265,"post_id":61405655,"comment_id":108944807,"body_markdown":"Related: [What advantage is there to using Spring @Async vs. CompleteableFuture directly?](https://stackoverflow.com/q/44685187/525036)","body":"Related: <a href=\"https://stackoverflow.com/q/44685187/525036\">What advantage is there to using Spring @Async vs. CompleteableFuture directly?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1587722313,"creation_date":1587722313,"answer_id":61405746,"question_id":61405655,"body_markdown":"Option 2 is asynchronous done twice.\r\n\r\nIf you annotated a method withe @Async it will be executed by Spring asynchronously. So you don&#39;t need to use the ThreadPoolExecutor by yourself.\r\n\r\nInstead you could write:\r\n\r\n    @Async\r\n    public CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        log.info(&quot;supplyAsync&quot;);\r\n        \r\n        return new AsyncResult&lt;Integer&gt;((int)(price * 0.9)); \r\n    }\r\n\r\nRead more about Async with Spring here: https://www.baeldung.com/spring-async","title":"CompletableFuture VS @Async","body":"<p>Option 2 is asynchronous done twice.</p>\n\n<p>If you annotated a method withe @Async it will be executed by Spring asynchronously. So you don't need to use the ThreadPoolExecutor by yourself.</p>\n\n<p>Instead you could write:</p>\n\n<pre><code>@Async\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n    log.info(\"supplyAsync\");\n\n    return new AsyncResult&lt;Integer&gt;((int)(price * 0.9)); \n}\n</code></pre>\n\n<p>Read more about Async with Spring here: <a href=\"https://www.baeldung.com/spring-async\" rel=\"noreferrer\">https://www.baeldung.com/spring-async</a></p>\n"}],"owner":{"account_id":16176240,"reputation":45,"user_id":11678823,"display_name":"Eddy Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5162,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61405746,"answer_count":1,"score":4,"last_activity_date":1681487612,"creation_date":1587722013,"question_id":61405655,"body_markdown":"I am not good at English.  \r\n\r\nI use asynchronous methods.\r\n\r\n**Option 1**\r\n```java\r\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            log.info(&quot;supplyAsync&quot;);\r\n            return (int)(price * 0.9);\r\n        }, threadPoolTaskExecutor);\r\n    }\r\n```\r\n\r\n\r\n**Option 2**\r\n```java\r\n@Async\r\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            log.info(&quot;supplyAsync&quot;);\r\n            return (int)(price * 0.9);\r\n        }, threadPoolTaskExecutor);\r\n    }\r\n```\r\n\r\nI wonder what the difference is between using @Async and not using it.\r\n\r\nI think the first Option1 provides enough asynchronous methods.   \r\nHowever, is it correct to use it like Option2?\r\n","title":"CompletableFuture VS @Async","body":"<p>I am not good at English.  </p>\n\n<p>I use asynchronous methods.</p>\n\n<p><strong>Option 1</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            log.info(\"supplyAsync\");\n            return (int)(price * 0.9);\n        }, threadPoolTaskExecutor);\n    }\n</code></pre>\n\n<p><strong>Option 2</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Async\npublic CompletableFuture&lt;Integer&gt; getDiscountPriceAsync(Integer price) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            log.info(\"supplyAsync\");\n            return (int)(price * 0.9);\n        }, threadPoolTaskExecutor);\n    }\n</code></pre>\n\n<p>I wonder what the difference is between using @Async and not using it.</p>\n\n<p>I think the first Option1 provides enough asynchronous methods.<br>\nHowever, is it correct to use it like Option2?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6239845,"reputation":3764,"user_id":4853835,"display_name":"Amani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582047072,"creation_date":1582046427,"answer_id":60286276,"question_id":60285943,"body_markdown":"&gt; If you are using com.google.android.gms:play-services-maps:16.0.0 or\r\n&gt; below and your app is targeting API level 28 (Android 9.0) or above,\r\n&gt; you must include the following declaration within the &lt;application&gt;\r\n&gt; element of AndroidManifest.xml.\r\n&gt; \r\n   \r\n\r\n    &lt;uses-library\r\n          android:name=&quot;org.apache.http.legacy&quot;\r\n          android:required=&quot;false&quot; /&gt;\r\n\r\n&gt; \r\n&gt; This is handled for you if you are using\r\n&gt; com.google.android.gms:play-services-maps:16.1.0 and is not necessary\r\n&gt; if your app is targeting a lower API level.\r\n\r\n[specify requirement for apache http legacy library][1]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android-sdk/config#specify_requirement_for_apache_http_legacy_library","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<blockquote>\n  <p>If you are using com.google.android.gms:play-services-maps:16.0.0 or\n  below and your app is targeting API level 28 (Android 9.0) or above,\n  you must include the following declaration within the \n  element of AndroidManifest.xml.</p>\n</blockquote>\n\n<pre><code>&lt;uses-library\n      android:name=\"org.apache.http.legacy\"\n      android:required=\"false\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>This is handled for you if you are using\n  com.google.android.gms:play-services-maps:16.1.0 and is not necessary\n  if your app is targeting a lower API level.</p>\n</blockquote>\n\n<p><a href=\"https://developers.google.com/maps/documentation/android-sdk/config#specify_requirement_for_apache_http_legacy_library\" rel=\"nofollow noreferrer\">specify requirement for apache http legacy library</a></p>\n"},{"tags":[],"owner":{"account_id":28306275,"reputation":1,"user_id":21644235,"display_name":"Андрей Пастух"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681487559,"creation_date":1681487559,"answer_id":76016900,"question_id":60285943,"body_markdown":"maven clean helps me with this problem [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sh2Fa.png","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<p>maven clean helps me with this problem <a href=\"https://i.stack.imgur.com/sh2Fa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":17791543,"reputation":47,"user_id":12920420,"display_name":"Atmosphere Of Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60286276,"answer_count":2,"score":3,"last_activity_date":1681487559,"creation_date":1582045158,"question_id":60285943,"body_markdown":"When I test my app on the emulator it works fine but when I ran the application on a real android 10.0 (Version) phone the log-cat shows errors which i can&#39;t understand at all. It is very confusing as it works fine on one phone (A lower version) and does not work on the other phone (Android 10.0 version).\r\n\r\nThe errors which I receive are the following:\r\n\r\nDecompiled .class file, byte code version 52.00(Java 8) to be exact.\r\n\r\n\r\nLogcat in error tab:\r\n```\r\n2020-02-18 22:08:23.114 22232-22280/? E/AndroidRuntime: FATAL EXCEPTION: Thread-4\r\n    Process: com.atmosphericproductiveinnovations.worldage, PID: 22232\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/ProtocolVersion;\r\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\r\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\r\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)\r\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)\r\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)\r\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.http.ProtocolVersion&quot; on path: DexPathList[[zip file &quot;/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk&quot;],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at dalvik.system.DelegateLastClassLoader.loadClass(DelegateLastClassLoader.java:137)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)&#160;\r\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)&#160;\r\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)&#160;\r\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)&#160;\r\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)&#160;\r\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)&#160;\r\n2020-02-18 22:08:23.128 22232-22232/? E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\r\n2020-02-18 22:08:23.206 22232-22232/? E/BufferQueueConsumer: disconnect by : com.atmosphericproductiveinnovations.worldage my_pid = 22232\r\n\r\n```\r\n\r\nMapsActivity.Java:\r\n        \r\n```\r\npackage com.atmosphericproductiveinnovations.worldage;\r\n\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.CameraPosition;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n                    LatLng India = new LatLng(23.52, 78.59);\r\n                   mMap.addMarker(new MarkerOptions()\r\n                           .position(India)\r\n                          .title(&quot;India&quot;))\r\n                            //.setSnippet(&quot;Meow. My name is&quot;);\r\n        .setSnippet(&quot;Information-&quot;+&quot;&quot; +\r\n                &quot;\\n&quot;+&quot;Location:South Asia&quot;+\r\n                &quot;\\n&quot;+&quot;Population:133.92 crores (2017)&quot;+\r\n                &quot;\\n&quot;+&quot;GDP:2.6 lakh crores USD (2017):&quot;);\r\n\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(India));\r\n\r\n        mMap.setInfoWindowAdapter(new CustomInfoWindowAdapter(MapsActivity.this));\r\n    }\r\n}\r\n\r\n```\r\nAndroid manifest xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.atmosphericproductiveinnovations.worldage&quot;&gt;\r\n\r\n    &lt;!--\r\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\r\n         Google Maps Android API v2, but you must specify either coarse or fine\r\n         location permissions for the &#39;MyLocation&#39; functionality.\r\n    --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.providers.gsf.permission.READ_GSERVICES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.maps.v2.API_KEY&quot;\r\n            android:value=&quot;AIzaSyD7EYViNqAco_PXl-0CyCgJ6l2eEIzvTzY&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:label=&quot;@string/title_activity_maps&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nBaseDexClassLoader.class:\r\n```\r\npackage dalvik.system;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.Enumeration;\r\n\r\npublic class BaseDexClassLoader extends ClassLoader {\r\n    public BaseDexClassLoader(String dexPath, File optimizedDirectory, String librarySearchPath, ClassLoader parent) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected URL findResource(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Enumeration&lt;URL&gt; findResources(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public String findLibrary(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected synchronized Package getPackage(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public String toString() {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nDelegateLastClassLoader.class:\r\n```\r\npackage dalvik.system;\r\n\r\nimport android.annotation.NonNull;\r\nimport android.annotation.Nullable;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.Enumeration;\r\n\r\npublic final class DelegateLastClassLoader extends PathClassLoader {\r\n    public DelegateLastClassLoader(String dexPath, ClassLoader parent) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public DelegateLastClassLoader(String dexPath, String librarySearchPath, ClassLoader parent) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public DelegateLastClassLoader(@NonNull String dexPath, @Nullable String librarySearchPath, @Nullable ClassLoader parent, boolean delegateResourceLoading) {\r\n        super((String)null, (ClassLoader)null);\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public URL getResource(String name) {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n\r\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n        throw new RuntimeException(&quot;Stub!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am new to IntelIJ","title":"How can I fix error &quot;decompiled .class file bytecode version 52.0 (Java 8)","body":"<p>When I test my app on the emulator it works fine but when I ran the application on a real android 10.0 (Version) phone the log-cat shows errors which i can't understand at all. It is very confusing as it works fine on one phone (A lower version) and does not work on the other phone (Android 10.0 version).</p>\n\n<p>The errors which I receive are the following:</p>\n\n<p>Decompiled .class file, byte code version 52.00(Java 8) to be exact.</p>\n\n<p>Logcat in error tab:</p>\n\n<pre><code>2020-02-18 22:08:23.114 22232-22280/? E/AndroidRuntime: FATAL EXCEPTION: Thread-4\n    Process: com.atmosphericproductiveinnovations.worldage, PID: 22232\n    java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/ProtocolVersion;\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2)\n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17)\n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5)\n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8)\n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"org.apache.http.ProtocolVersion\" on path: DexPathList[[zip file \"/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk\"],nativeLibraryDirectories=[/data/user_de/0/com.google.android.gms/app_chimera/m/000000f6/MapsDynamite.apk!/lib/arm64-v8a, /system/lib64, /system/product/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at dalvik.system.DelegateLastClassLoader.loadClass(DelegateLastClassLoader.java:137)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at bt.b(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2) \n        at bs.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):2) \n        at bu.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):17) \n        at com.google.maps.api.android.lib6.drd.ak.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):5) \n        at ay.a(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):8) \n        at ay.run(:com.google.android.gms.dynamite_mapsdynamite@20104081@20.1.04 (120400-0):44) \n2020-02-18 22:08:23.128 22232-22232/? E/libprocessgroup: set_timerslack_ns write failed: Operation not permitted\n2020-02-18 22:08:23.206 22232-22232/? E/BufferQueueConsumer: disconnect by : com.atmosphericproductiveinnovations.worldage my_pid = 22232\n\n</code></pre>\n\n<p>MapsActivity.Java:</p>\n\n<pre><code>package com.atmosphericproductiveinnovations.worldage;\n\nimport androidx.fragment.app.FragmentActivity;\n\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.CameraPosition;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        // Add a marker in Sydney and move the camera\n                    LatLng India = new LatLng(23.52, 78.59);\n                   mMap.addMarker(new MarkerOptions()\n                           .position(India)\n                          .title(\"India\"))\n                            //.setSnippet(\"Meow. My name is\");\n        .setSnippet(\"Information-\"+\"\" +\n                \"\\n\"+\"Location:South Asia\"+\n                \"\\n\"+\"Population:133.92 crores (2017)\"+\n                \"\\n\"+\"GDP:2.6 lakh crores USD (2017):\");\n\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(India));\n\n        mMap.setInfoWindowAdapter(new CustomInfoWindowAdapter(MapsActivity.this));\n    }\n}\n\n</code></pre>\n\n<p>Android manifest xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.atmosphericproductiveinnovations.worldage\"&gt;\n\n    &lt;!--\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n         Google Maps Android API v2, but you must specify either coarse or fine\n         location permissions for the 'MyLocation' functionality.\n    --&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n    &lt;uses-permission android:name=\"com.google.android.providers.gsf.permission.READ_GSERVICES\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;!--\n             The API key for Google Maps-based APIs is defined as a string resource.\n             (See the file \"res/values/google_maps_api.xml\").\n             Note that the API key is linked to the encryption key used to sign the APK.\n             You need a different API key for each encryption key, including the release key that is used to\n             sign the APK for publishing.\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\n        --&gt;\n        &lt;meta-data\n            android:name=\"com.google.android.maps.v2.API_KEY\"\n            android:value=\"AIzaSyD7EYViNqAco_PXl-0CyCgJ6l2eEIzvTzY\" /&gt;\n\n        &lt;activity\n            android:name=\".MapsActivity\"\n            android:label=\"@string/title_activity_maps\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>BaseDexClassLoader.class:</p>\n\n<pre><code>package dalvik.system;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.Enumeration;\n\npublic class BaseDexClassLoader extends ClassLoader {\n    public BaseDexClassLoader(String dexPath, File optimizedDirectory, String librarySearchPath, ClassLoader parent) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected URL findResource(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Enumeration&lt;URL&gt; findResources(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public String findLibrary(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected synchronized Package getPackage(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public String toString() {\n        throw new RuntimeException(\"Stub!\");\n    }\n}\n</code></pre>\n\n<p>DelegateLastClassLoader.class:</p>\n\n<pre><code>package dalvik.system;\n\nimport android.annotation.NonNull;\nimport android.annotation.Nullable;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Enumeration;\n\npublic final class DelegateLastClassLoader extends PathClassLoader {\n    public DelegateLastClassLoader(String dexPath, ClassLoader parent) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public DelegateLastClassLoader(String dexPath, String librarySearchPath, ClassLoader parent) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public DelegateLastClassLoader(@NonNull String dexPath, @Nullable String librarySearchPath, @Nullable ClassLoader parent, boolean delegateResourceLoading) {\n        super((String)null, (ClassLoader)null);\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public URL getResource(String name) {\n        throw new RuntimeException(\"Stub!\");\n    }\n\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        throw new RuntimeException(\"Stub!\");\n    }\n}\n\n</code></pre>\n\n<p>I am new to IntelIJ</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1681487692,"post_id":76016882,"comment_id":134069666,"body_markdown":"if you&#39;re viewing it on a webpage, then this is what&#39;s supposed to happen. As per the HTML spec, `\\n` gets treated as generic whitespace, unless you use CSS with an explicit `white-space: pre` to preserve things like newlines, tabs, and multiple spaces. That has nothing to do with Swagger or Java =) Of course, if your annotations target is explicitly HTML, nothing stopping you from adding `&lt;br&gt;` to control line breaks explicitly.","body":"if you&#39;re viewing it on a webpage, then this is what&#39;s supposed to happen. As per the HTML spec, <code>\\n</code> gets treated as generic whitespace, unless you use CSS with an explicit <code>white-space: pre</code> to preserve things like newlines, tabs, and multiple spaces. That has nothing to do with Swagger or Java =) Of course, if your annotations target is explicitly HTML, nothing stopping you from adding <code>&lt;br&gt;</code> to control line breaks explicitly."},{"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"score":0,"creation_date":1681493707,"post_id":76016882,"comment_id":134071055,"body_markdown":"&lt;br&gt; doesn&#39;t work either I&#39;m afraid.  Not in the  @ApiOperation &quot;value&quot; anyway...","body":"&lt;br&gt; doesn&#39;t work either I&#39;m afraid.  Not in the  @ApiOperation &quot;value&quot; anyway..."}],"owner":{"account_id":7087876,"reputation":2294,"user_id":5424117,"accept_rate":56,"display_name":"jb62"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487447,"creation_date":1681487447,"question_id":76016882,"body_markdown":"I&#39;m new to Swagger.  Using Java.  I&#39;ve inherited the app.  I see this import in the gradle file, so I assume I&#39;m working with 3.0.0\r\n\r\nimplementation(&quot;io.springfox:springfox-boot-starter:3.0.0&quot;)\r\n\r\nI need to dramatically upgrade the documentation of this app&#39;s API endpoints and that requires multi-line comments.\r\n\r\nIs there a way to use Swagger annotations to have multi-line comments show up somewhere in the Swagger web page for the specific endpoint?  At this point, I&#39;m not fussy about where the comments show up on the endpoint&#39;s section.\r\n\r\nI&#39;ve tried a few annotations, but Swagger is refusing to &quot;respect&quot; \\n or \\n\\n and instead compresses everything and just wraps it which results in ugly and fairly unreadable documentation.  \r\n\r\nBased on what I read elsewhere, in at least some cases this is because of the type of HTML the annotation contents get turned into...\r\n\r\nIf there isn&#39;t a way to do this with Swagger annotations, is there another way?\r\n\r\nThanks.","title":"Multi Line comments in Swagger","body":"<p>I'm new to Swagger.  Using Java.  I've inherited the app.  I see this import in the gradle file, so I assume I'm working with 3.0.0</p>\n<p>implementation(&quot;io.springfox:springfox-boot-starter:3.0.0&quot;)</p>\n<p>I need to dramatically upgrade the documentation of this app's API endpoints and that requires multi-line comments.</p>\n<p>Is there a way to use Swagger annotations to have multi-line comments show up somewhere in the Swagger web page for the specific endpoint?  At this point, I'm not fussy about where the comments show up on the endpoint's section.</p>\n<p>I've tried a few annotations, but Swagger is refusing to &quot;respect&quot; \\n or \\n\\n and instead compresses everything and just wraps it which results in ugly and fairly unreadable documentation.</p>\n<p>Based on what I read elsewhere, in at least some cases this is because of the type of HTML the annotation contents get turned into...</p>\n<p>If there isn't a way to do this with Swagger annotations, is there another way?</p>\n<p>Thanks.</p>\n"},{"tags":["java","sql-server","azure"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1681496222,"post_id":76016838,"comment_id":134071528,"body_markdown":"I would avoid jtds, it&#39;s a bit outdated, try microsoft jdbc, and post the code in the quesiton","body":"I would avoid jtds, it&#39;s a bit outdated, try microsoft jdbc, and post the code in the quesiton"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1681523351,"post_id":76016838,"comment_id":134074896,"body_markdown":"Aside... you shouldn&#39;t have Android and iOS devices using the TDS protocol to connect to SQL Servers across the open internet. TDS was designed 30 years ago for LAN applications and, because it&#39;s so chatty, performs horribly as latency increases across the open internet - and especially in mobile WAN environments where time-sharing and packet encapsulation happens at many layers. Consider instead implementing a web service (e.g.: a RESTful API) in front of your SQL Server and use HTTPS for data transfer instead - it&#39;s more efficient and more secure to boot.","body":"Aside... you shouldn&#39;t have Android and iOS devices using the TDS protocol to connect to SQL Servers across the open internet. TDS was designed 30 years ago for LAN applications and, because it&#39;s so chatty, performs horribly as latency increases across the open internet - and especially in mobile WAN environments where time-sharing and packet encapsulation happens at many layers. Consider instead implementing a web service (e.g.: a RESTful API) in front of your SQL Server and use HTTPS for data transfer instead - it&#39;s more efficient and more secure to boot."},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1681527781,"post_id":76016838,"comment_id":134075199,"body_markdown":"@AlwaysLearning Thanks for rich reply. Would you mind to share a link on how to use RESTful API to connect Azure SQL server? I am pretty new on this RESTful API thing :( assume that I know nothing.","body":"@AlwaysLearning Thanks for rich reply. Would you mind to share a link on how to use RESTful API to connect Azure SQL server? I am pretty new on this RESTful API thing :( assume that I know nothing."}],"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681487153,"creation_date":1681487153,"question_id":76016838,"body_markdown":"I have tried all solutions offered from every post related to TSL version. I have no idea what went wrong.\r\nI still got the same error:\r\n\r\n&gt; E/SQL&#160;Exception:: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.\r\n\r\nThings that I have tried:\r\n\r\n0. configure Azure SQL server database min TSL version 1.0 &gt; 1.1&gt; 1.2 \r\n1. using jtds-1.3.1.jar\r\n2. using mssql-jdbc-12.2.0.jre8.jar\r\n3. connect to Microsoft SSMS (successful)\r\n4. test query at SSMS (successful): &quot;USE userdata;\\n&quot; +\r\n                &quot;SELECT * FROM user;&quot;\r\n\r\n\r\n       public class CheckLogin extends AsyncTask&lt;String,String,String&gt;{\r\n       \r\n\r\n        @Override\r\n        protected String doInBackground(String... params){\r\n\r\n        con = sqlserverconn(); // connect to userdata database\r\n\r\n        String query = &quot;USE userdata;\\n&quot; +\r\n                &quot;SELECT * FROM user;&quot;;\r\n\r\n        try {\r\n             //initialize SSLContext field\r\n            sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n            sc.init(null, null, null);\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            Statement statement = con.createStatement(); // create statements\r\n            ResultSet result = statement.executeQuery(query); // execute query\r\n\r\n            //get data from returned query\r\n            if(result.next()){\r\n                id = result.getInt(&quot;Id&quot;);\r\n                deviceid = result.getString(&quot;deviceId&quot;);\r\n                username = result.getString(&quot;userName&quot;);\r\n                password = result.getString(&quot;password&quot;);\r\n                email = result.getString(&quot;email&quot;);\r\n\r\n                //set text data\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        login_id.setText(String.valueOf(id));\r\n                        login_deviceid.setText(deviceid);\r\n                        login_username.setText(username);\r\n                        login_password.setText(password);\r\n                        login_email.setText(email);\r\n                    }\r\n                });\r\n            }\r\n            result.close();\r\n            statement.close();\r\n            con.close();\r\n\r\n        } catch (SQLException e) {\r\n            Log.e(&quot;SQL Exception: &quot;,e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n        catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return &quot;&quot;;\r\n        }\r\n        }\r\n\r\n          @SuppressLint(&quot;newApi&quot;)\r\n         public Connection sqlserverconn(){\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        Connection connection = null;\r\n        String ConnectionURL = null;\r\n        try {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            //database connection string here\r\n            ConnectionURL = &quot;jdbc:jtds:sqlserver://userdata-dataserver.database.windows.net:1433;DatabaseName=userdata;user=userdata@userdata-dataserver;password=xxxxxxx;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\r\n            connection =DriverManager.getConnection(ConnectionURL);\r\n        }\r\n       catch (SQLException e) {\r\n            Log.e(&quot;SQL Exception: &quot;,e.getMessage());\r\n        } catch (ClassNotFoundException e) {\r\n            Log.e(&quot;Class Not Found: &quot;,e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n        return connection;\r\n        }","title":"Using jtds-1.3.1.jar to connect android app to Microsoft Azure SQL database","body":"<p>I have tried all solutions offered from every post related to TSL version. I have no idea what went wrong.\nI still got the same error:</p>\n<blockquote>\n<p>E/SQL Exception:: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.</p>\n</blockquote>\n<p>Things that I have tried:</p>\n<ol start=\"0\">\n<li><p>configure Azure SQL server database min TSL version 1.0 &gt; 1.1&gt; 1.2</p>\n</li>\n<li><p>using jtds-1.3.1.jar</p>\n</li>\n<li><p>using mssql-jdbc-12.2.0.jre8.jar</p>\n</li>\n<li><p>connect to Microsoft SSMS (successful)</p>\n</li>\n<li><p>test query at SSMS (successful): &quot;USE userdata;\\n&quot; +\n&quot;SELECT * FROM user;&quot;</p>\n<pre><code>public class CheckLogin extends AsyncTask&lt;String,String,String&gt;{\n\n\n @Override\n protected String doInBackground(String... params){\n\n con = sqlserverconn(); // connect to userdata database\n\n String query = &quot;USE userdata;\\n&quot; +\n         &quot;SELECT * FROM user;&quot;;\n\n try {\n      //initialize SSLContext field\n     sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n     sc.init(null, null, null);\n     HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n     Statement statement = con.createStatement(); // create statements\n     ResultSet result = statement.executeQuery(query); // execute query\n\n     //get data from returned query\n     if(result.next()){\n         id = result.getInt(&quot;Id&quot;);\n         deviceid = result.getString(&quot;deviceId&quot;);\n         username = result.getString(&quot;userName&quot;);\n         password = result.getString(&quot;password&quot;);\n         email = result.getString(&quot;email&quot;);\n\n         //set text data\n         runOnUiThread(new Runnable() {\n             @Override\n             public void run() {\n                 login_id.setText(String.valueOf(id));\n                 login_deviceid.setText(deviceid);\n                 login_username.setText(username);\n                 login_password.setText(password);\n                 login_email.setText(email);\n             }\n         });\n     }\n     result.close();\n     statement.close();\n     con.close();\n\n } catch (SQLException e) {\n     Log.e(&quot;SQL Exception: &quot;,e.getMessage());\n     throw new RuntimeException(e);\n }\n catch (NoSuchAlgorithmException e) {\n     throw new RuntimeException(e);\n } catch (KeyManagementException e) {\n     throw new RuntimeException(e);\n }\n\n return &quot;&quot;;\n }\n }\n\n   @SuppressLint(&quot;newApi&quot;)\n  public Connection sqlserverconn(){\n StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n StrictMode.setThreadPolicy(policy);\n Connection connection = null;\n String ConnectionURL = null;\n try {\n     Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n     //database connection string here\n     ConnectionURL = &quot;jdbc:jtds:sqlserver://userdata-dataserver.database.windows.net:1433;DatabaseName=userdata;user=userdata@userdata-dataserver;password=xxxxxxx;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;;\n     connection =DriverManager.getConnection(ConnectionURL);\n }\ncatch (SQLException e) {\n     Log.e(&quot;SQL Exception: &quot;,e.getMessage());\n } catch (ClassNotFoundException e) {\n     Log.e(&quot;Class Not Found: &quot;,e.getMessage());\n     throw new RuntimeException(e);\n }\n return connection;\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":28026246,"reputation":1,"user_id":21406211,"display_name":"Kittles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681486276,"creation_date":1681485854,"question_id":76016667,"body_markdown":"I am trying to do a BigQuery REST API call, but getting an error:\r\n\r\nThe method setProjectId(String) is undefined for the type BigQueryOptions.Builder\r\n\r\nWhen trying to run this line of code within the Main:\r\n\r\n```\r\nBigQuery BigQuery = BigQueryOptions.newBuilder().setProjectId(“123456789“).build().getService();\r\n```\r\n\r\nI have the following dependencies in my pom file:\r\n- google-cloud-bigquery version 2.24.4\r\n- google-cloud-core version 2.15.0\r\n\r\nI have tried other artifacts too, but doesn’t seem to be working…\r\n\r\nI am trying to get the results from the data table.\r\n\r\n————————————————————————————\r\n\r\nIf I move my code from Eclipse to IntelliJ, I then get a different error message for the same line of code:\r\n\r\nclass file for com.google.cloud.ServiceOptions not found","title":"The method setProjectId(String) is undefined for the type BigQueryOptions.Builder","body":"<p>I am trying to do a BigQuery REST API call, but getting an error:</p>\n<p>The method setProjectId(String) is undefined for the type BigQueryOptions.Builder</p>\n<p>When trying to run this line of code within the Main:</p>\n<pre><code>BigQuery BigQuery = BigQueryOptions.newBuilder().setProjectId(“123456789“).build().getService();\n</code></pre>\n<p>I have the following dependencies in my pom file:</p>\n<ul>\n<li>google-cloud-bigquery version 2.24.4</li>\n<li>google-cloud-core version 2.15.0</li>\n</ul>\n<p>I have tried other artifacts too, but doesn’t seem to be working…</p>\n<p>I am trying to get the results from the data table.</p>\n<p>————————————————————————————</p>\n<p>If I move my code from Eclipse to IntelliJ, I then get a different error message for the same line of code:</p>\n<p>class file for com.google.cloud.ServiceOptions not found</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1681484590,"post_id":76016366,"comment_id":134068799,"body_markdown":"hmm .. this feels like a repost .. is it?","body":"hmm .. this feels like a repost .. is it?"},{"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"score":0,"creation_date":1681484971,"post_id":76016366,"comment_id":134068923,"body_markdown":"Not as of now..","body":"Not as of now.."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1681485056,"post_id":76016366,"comment_id":134068950,"body_markdown":"I hope this was not your school h/w :( try to solve those your self . If you cant might be good to consider testing instead of software dev or get in to a support or proj mt role. just my 2 cents","body":"I hope this was not your school h/w :( try to solve those your self . If you cant might be good to consider testing instead of software dev or get in to a support or proj mt role. just my 2 cents"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681485921,"post_id":76016366,"comment_id":134069212,"body_markdown":"This seems to be a common problem at coding practice / challenge sites. Can you, please, give us a link to the page where you found the problem?","body":"This seems to be a common problem at coding practice / challenge sites. Can you, please, give us a link to the page where you found the problem?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681486023,"post_id":76016366,"comment_id":134069246,"body_markdown":"Hmmm -- Looks like there are several questions on Stack Overflow about checking balanced parentheses: https://stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses","body":"Hmmm -- Looks like there are several questions on Stack Overflow about checking balanced parentheses: <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses\">stackoverflow.com/search?q=%5Bjava%5D+balanced+parentheses</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681486300,"post_id":76016366,"comment_id":134069316,"body_markdown":"Please edit the question to describe your efforts to debug this. A question about code with bugs is more likely to draw good answers if the person asking documents efforts to debug.  It might help to read https://ericlippert.com/2014/03/05/how-to-debug-small-programs/","body":"Please edit the question to describe your efforts to debug this. A question about code with bugs is more likely to draw good answers if the person asking documents efforts to debug.  It might help to read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681557490,"post_id":76016366,"comment_id":134077804,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681486205,"creation_date":1681484062,"answer_id":76016417,"question_id":76016366,"body_markdown":"Your only coding for the positive cases. Do a truth table, go through the code for every entry in  your example. you need to keep a flag when you get a closing bracket but you do  not have a opening bracket. right now your just ignoring it. I have not tested below code for all test cases, but you can add test cases to it. \r\n\r\n    package sel2in.academic;\r\n    \r\n    import java.util.Stack;\r\n    \r\n    public class    CheckBrackets {\r\n    \r\n    \r\n            public boolean isValid(String s) {\r\n                Stack&lt;Character&gt; st = new Stack&lt;&gt;();\r\n                int len = s.length();\r\n                if(len%2!=0){//why? can have a string like &quot;{s}&quot; ?\r\n                    //return false;\r\n                }\r\n                for(int i = 0; i&lt;s.length(); i++){\r\n                    if(s.charAt(i)==&#39;(&#39; || s.charAt(i)==&#39;{&#39; || s.charAt(i)==&#39;[&#39;){\r\n                        st.push(s.charAt(i));\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;)&#39;){\r\n                        if(!st.isEmpty() &amp;&amp; st.peek()==&#39;(&#39;){\r\n                            st.pop();\r\n                        }else{\r\n                          return false; /// need similar in other places too\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;}&#39;){\r\n                        if(st.peek()==&#39;{&#39;){\r\n                            st.pop();\r\n                        }\r\n                    }\r\n    \r\n                    else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;]&#39;){\r\n                        if(st.peek()==&#39;[&#39;){\r\n                            st.pop();\r\n                        }\r\n                    }else  if(s.charAt(i)==&#39;)&#39; || s.charAt(i)==&#39;}&#39; || s.charAt(i)==&#39;]&#39;){//missing test, might be more do more truth tables\r\n                        return false;\r\n                    }\r\n                }\r\n                if(st.isEmpty() ){\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n    \r\n        public static void main(String[] args) {\r\n            CheckBrackets app = new CheckBrackets();\r\n            app.tesCases();\r\n        }\r\n    \r\n        private  void tesCases() {\r\n                test(&quot;{}&quot;, true);\r\n            test(&quot;{x}&quot;, true);\r\n            test(&quot;{}}&quot;, false);\r\n            System.out.println(&quot;Remember for failed test cases check the test case and the logic&quot;);\r\n            System.out.println(&quot;test cases &quot; + testCases + &quot; fails :&quot; + failedTestCases);\r\n        }\r\n        int testCases = 0;\r\n            int failedTestCases=0;\r\n        private void test(String testStr, boolean expectedValue) {\r\n            testCases++;\r\n                boolean actualResult = false;\r\n                try {\r\n                    actualResult=isValid(testStr);\r\n                }catch (Exception e){\r\n                    System.out.println(&quot;Exce &quot; + e + &quot;, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue);\r\n                }\r\n                if(actualResult != expectedValue){\r\n                    failedTestCases++;\r\n                    System.out.println(&quot;failed test Case, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue  + &quot; actual :&quot;+ actualResult);\r\n                }\r\n        }\r\n    }\r\n\r\n","title":"I have to find the balance parenthesis. but its showing wrong answer for one test case","body":"<p>Your only coding for the positive cases. Do a truth table, go through the code for every entry in  your example. you need to keep a flag when you get a closing bracket but you do  not have a opening bracket. right now your just ignoring it. I have not tested below code for all test cases, but you can add test cases to it.</p>\n<pre><code>package sel2in.academic;\n\nimport java.util.Stack;\n\npublic class    CheckBrackets {\n\n\n        public boolean isValid(String s) {\n            Stack&lt;Character&gt; st = new Stack&lt;&gt;();\n            int len = s.length();\n            if(len%2!=0){//why? can have a string like &quot;{s}&quot; ?\n                //return false;\n            }\n            for(int i = 0; i&lt;s.length(); i++){\n                if(s.charAt(i)=='(' || s.charAt(i)=='{' || s.charAt(i)=='['){\n                    st.push(s.charAt(i));\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==')'){\n                    if(!st.isEmpty() &amp;&amp; st.peek()=='('){\n                        st.pop();\n                    }else{\n                      return false; /// need similar in other places too\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)=='}'){\n                    if(st.peek()=='{'){\n                        st.pop();\n                    }\n                }\n\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==']'){\n                    if(st.peek()=='['){\n                        st.pop();\n                    }\n                }else  if(s.charAt(i)==')' || s.charAt(i)=='}' || s.charAt(i)==']'){//missing test, might be more do more truth tables\n                    return false;\n                }\n            }\n            if(st.isEmpty() ){\n                return true;\n            }\n            return false;\n        }\n\n    public static void main(String[] args) {\n        CheckBrackets app = new CheckBrackets();\n        app.tesCases();\n    }\n\n    private  void tesCases() {\n            test(&quot;{}&quot;, true);\n        test(&quot;{x}&quot;, true);\n        test(&quot;{}}&quot;, false);\n        System.out.println(&quot;Remember for failed test cases check the test case and the logic&quot;);\n        System.out.println(&quot;test cases &quot; + testCases + &quot; fails :&quot; + failedTestCases);\n    }\n    int testCases = 0;\n        int failedTestCases=0;\n    private void test(String testStr, boolean expectedValue) {\n        testCases++;\n            boolean actualResult = false;\n            try {\n                actualResult=isValid(testStr);\n            }catch (Exception e){\n                System.out.println(&quot;Exce &quot; + e + &quot;, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue);\n            }\n            if(actualResult != expectedValue){\n                failedTestCases++;\n                System.out.println(&quot;failed test Case, input str :&quot; + testStr + &quot;; expected :&quot; + expectedValue  + &quot; actual :&quot;+ actualResult);\n            }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1681486205,"creation_date":1681483769,"question_id":76016366,"body_markdown":"*I have to calculate the valid parenthesis but one test case is missing.. and I don&#39;t know how the output is &quot;True&quot; for this test case only*\r\n\r\n*input : ([}}])   output:- true,    Expected output : false*\r\n\r\n    `class Solution {\r\n        public boolean isValid(String s) {\r\n            Stack &lt;Character&gt; st = new Stack&lt;&gt;();\r\n            int len = s.length();\r\n            if(len%2!=0){\r\n                return false;\r\n            }\r\n            for(int i = 0; i&lt;s.length(); i++){\r\n                if(s.charAt(i)==&#39;(&#39; || s.charAt(i)==&#39;{&#39; || s.charAt(i)==&#39;[&#39;){\r\n                    st.push(s.charAt(i));\r\n                }\r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;)&#39;){\r\n                    if(!st.isEmpty() &amp;&amp; st.peek()==&#39;(&#39;){\r\n                        st.pop();\r\n                    }\r\n                }\r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;}&#39;){\r\n                    if(st.peek()==&#39;{&#39;){\r\n                        st.pop();\r\n                    }\r\n                } \r\n\r\n                else if(!st.isEmpty() &amp;&amp; s.charAt(i)==&#39;]&#39;){\r\n                    if(st.peek()==&#39;[&#39;){\r\n                        st.pop();\r\n                    }\r\n                }\r\n            }\r\n            if(st.isEmpty() ){\r\n                return true;\r\n            } \r\n            return false;\r\n        }\r\n    }`\r\n\r\n*I am trying the output &quot;false&quot; but it&#39;s showing &quot;true&quot;.*","title":"I have to find the balance parenthesis. but its showing wrong answer for one test case","body":"<p><em>I have to calculate the valid parenthesis but one test case is missing.. and I don't know how the output is &quot;True&quot; for this test case only</em></p>\n<p><em>input : ([}}])   output:- true,    Expected output : false</em></p>\n<pre><code>`class Solution {\n    public boolean isValid(String s) {\n        Stack &lt;Character&gt; st = new Stack&lt;&gt;();\n        int len = s.length();\n        if(len%2!=0){\n            return false;\n        }\n        for(int i = 0; i&lt;s.length(); i++){\n            if(s.charAt(i)=='(' || s.charAt(i)=='{' || s.charAt(i)=='['){\n                st.push(s.charAt(i));\n            }\n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)==')'){\n                if(!st.isEmpty() &amp;&amp; st.peek()=='('){\n                    st.pop();\n                }\n            }\n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)=='}'){\n                if(st.peek()=='{'){\n                    st.pop();\n                }\n            } \n\n            else if(!st.isEmpty() &amp;&amp; s.charAt(i)==']'){\n                if(st.peek()=='['){\n                    st.pop();\n                }\n            }\n        }\n        if(st.isEmpty() ){\n            return true;\n        } \n        return false;\n    }\n}`\n</code></pre>\n<p><em>I am trying the output &quot;false&quot; but it's showing &quot;true&quot;.</em></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1779831,"reputation":1317,"user_id":1622858,"accept_rate":57,"display_name":"Michael Platt"},"score":0,"creation_date":1554837663,"post_id":55599808,"comment_id":97895941,"body_markdown":"To fix your longest word coming first error you should take a look at how you are comparing lengths.  I don&#39;t want to spell it out completely just yet as this seems like a learning exercise and I want you to find the answer on your own but ping back if you are struggling.","body":"To fix your longest word coming first error you should take a look at how you are comparing lengths.  I don&#39;t want to spell it out completely just yet as this seems like a learning exercise and I want you to find the answer on your own but ping back if you are struggling."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1554840470,"post_id":55599808,"comment_id":97897094,"body_markdown":"`Pattern.compile(&quot;\\\\p{L}+&quot;).matcher(input).results().map(MatchResult::group).filter(s -&gt; (s.length() &amp; 1) == 0).max(Comparator.comparing(String::length)).orElse(&quot; &quot;)`","body":"<code>Pattern.compile(&quot;\\\\p{L}+&quot;).matcher(input).results().map(Matc&zwnj;&#8203;hResult::group).filt&zwnj;&#8203;er(s -&gt; (s.length() &amp; 1) == 0).max(Comparator.comparing(String::length)).orElse(&quot; &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13401372,"reputation":248,"user_id":9670809,"display_name":"brandonx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554837734,"creation_date":1554837734,"answer_id":55599866,"question_id":55599808,"body_markdown":"Using the % (modulus) operator is a common way of evaluating whether a number is odd or even by inspecting whether dividing by 2 elicits a remainder. You would use it here like so:\r\n```\r\nif (array[i].length() &gt;= longestWord.length() &amp;&amp; array[i].length() % 2 == 0) {\r\n                longestWord = array[i];\r\n         }\r\n\r\n```\r\n\r\nedit: I feel bad because this sounds like an assignment, so I won&#39;t solve the &quot;coming first&quot; part of the problem.","title":"How to find longest word in string that is even","body":"<p>Using the % (modulus) operator is a common way of evaluating whether a number is odd or even by inspecting whether dividing by 2 elicits a remainder. You would use it here like so:</p>\n\n<pre><code>if (array[i].length() &gt;= longestWord.length() &amp;&amp; array[i].length() % 2 == 0) {\n                longestWord = array[i];\n         }\n\n</code></pre>\n\n<p>edit: I feel bad because this sounds like an assignment, so I won't solve the \"coming first\" part of the problem.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554838175,"creation_date":1554837813,"answer_id":55599885,"question_id":55599808,"body_markdown":"You can use the modulo operator (`%`) to check if the string length is even:\r\n\r\n    string.length() % 2 == 0\r\n\r\nTo complete that you can use [`Arrays.stream()`](https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#stream(T%5B%5D)) to find the longest string with even length:\r\n\r\n    String longestWord = Arrays.stream(sentence.split(&quot; &quot;)) // creates the stream with words\r\n            .filter(s -&gt; s.length() % 2 == 0) // filters only the even length strings\r\n            .max(Comparator.comparingInt(String::length)) // finds the string with the max length\r\n            .orElse(&quot; &quot;); // returns &quot; &quot; if none string is found\r\n","title":"How to find longest word in string that is even","body":"<p>You can use the modulo operator (<code>%</code>) to check if the string length is even:</p>\n\n<pre><code>string.length() % 2 == 0\n</code></pre>\n\n<p>To complete that you can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#stream(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.stream()</code></a> to find the longest string with even length:</p>\n\n<pre><code>String longestWord = Arrays.stream(sentence.split(\" \")) // creates the stream with words\n        .filter(s -&gt; s.length() % 2 == 0) // filters only the even length strings\n        .max(Comparator.comparingInt(String::length)) // finds the string with the max length\n        .orElse(\" \"); // returns \" \" if none string is found\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9758923,"reputation":327,"user_id":7234630,"display_name":"VSB"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554886570,"creation_date":1554838013,"answer_id":55599930,"question_id":55599808,"body_markdown":"The changes are that you compare the &gt; from the longest length and not  &gt;= and check is the length is even.\r\n\r\nTo accommodate the cases where there are other symbols like &#39;.&#39;, use Regex patterns. \r\n\r\n    public static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString input = &quot;I am good.&quot;;\r\n\t\tString[] input_words = input.split(&quot; &quot;);\r\n\t\tString longestWord = &quot; &quot;;\r\n\t\t\r\n\t\tfor(String word : input_words) {\r\n\t\t\tPattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\r\n\t\t\tMatcher m = p.matcher(word);\r\n\t\t\tm.find();\r\n\t\t\tif(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\r\n\t\t\t\tlongestWord = m.group();\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;result : &quot; + longestWord);\r\n\t}\r\n\r\n\r\nThis will print the largest first occurring even word","title":"How to find longest word in string that is even","body":"<p>The changes are that you compare the > from the longest length and not  >= and check is the length is even.</p>\n\n<p>To accommodate the cases where there are other symbols like '.', use Regex patterns. </p>\n\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    String input = \"I am good.\";\n    String[] input_words = input.split(\" \");\n    String longestWord = \" \";\n\n    for(String word : input_words) {\n        Pattern p = Pattern.compile(\"^[a-zA-Z]+\");\n        Matcher m = p.matcher(word);\n        m.find();\n        if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\n            longestWord = m.group();\n        }\n    }\n    System.out.println(\"result : \" + longestWord);\n}\n</code></pre>\n\n<p>This will print the largest first occurring even word</p>\n"},{"tags":[],"owner":{"account_id":18859495,"reputation":1,"user_id":13756682,"display_name":"Sneha Riya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618642748,"creation_date":1618495012,"answer_id":67109877,"question_id":55599808,"body_markdown":"```lang-java\r\npublic class HelloWorld {\r\n\r\n     public static void main(String []args) {\r\n\r\n        String sentence = &quot;this is a sample input for the problem&quot;;\r\n        \r\n        String arr[] = sentence.split(&quot;\\\\s+&quot;); // to split the sentence by space (because words are separated by space) \r\n        \r\n        int len =  0; \r\n        String word = &quot;&quot;;\r\n        for (int i= 0; i&lt; arr.length; i++) {\r\n            if((arr[i].length())%2 == 0) { // check if the length of the word is even \r\n                int len1 = arr[i].length();\r\n                if (len1 &gt; len ) { // if new length is greater than the previous word&#39;s length then assign the value of new length to len variable\r\n                    len = len1;\r\n                    word = arr[i];  // word = highest length word\r\n                }\r\n            }\r\n        }\r\n        System.out.println(word);\r\n     }\r\n}\r\n```","title":"How to find longest word in string that is even","body":"<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld {\n\n     public static void main(String []args) {\n\n        String sentence = &quot;this is a sample input for the problem&quot;;\n        \n        String arr[] = sentence.split(&quot;\\\\s+&quot;); // to split the sentence by space (because words are separated by space) \n        \n        int len =  0; \n        String word = &quot;&quot;;\n        for (int i= 0; i&lt; arr.length; i++) {\n            if((arr[i].length())%2 == 0) { // check if the length of the word is even \n                int len1 = arr[i].length();\n                if (len1 &gt; len ) { // if new length is greater than the previous word's length then assign the value of new length to len variable\n                    len = len1;\n                    word = arr[i];  // word = highest length word\n                }\n            }\n        }\n        System.out.println(word);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7412226,"reputation":11,"user_id":5639251,"display_name":"Jaikish Pai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637193236,"creation_date":1637181051,"answer_id":70011148,"question_id":55599808,"body_markdown":"The solution to the question in python is:\r\n```#This is a solution for the problem for the longest even word in a given sentence.\r\ndef longestevenword(sentence):\r\n  #converting the sentence into lists\r\n  string_list = sentence.split()\r\n  size = 0\r\n  #iteration through each word in the list\r\n  for word in string_list:\r\n    #check to see if the word has even number of characters\r\n    if len(word)%2 == 0:\r\n      #checking if the length of the of the word\r\n      if size &lt;= len(word):\r\n        size = len(word)\r\n        even_word = word\r\n    else:\r\n      continue        \r\n  # printing the longest even word in a given sentence.\r\n  print(even_word)\r\n\r\n\r\n## function call to test\r\nlongestevenword(&quot;This is a cat that had a puppyy&quot;)\r\n\r\nOutput: puppyy\r\n```\r\nIt&#39;s also available on my GitHub https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py","title":"How to find longest word in string that is even","body":"<p>The solution to the question in python is:</p>\n<pre><code>def longestevenword(sentence):\n  #converting the sentence into lists\n  string_list = sentence.split()\n  size = 0\n  #iteration through each word in the list\n  for word in string_list:\n    #check to see if the word has even number of characters\n    if len(word)%2 == 0:\n      #checking if the length of the of the word\n      if size &lt;= len(word):\n        size = len(word)\n        even_word = word\n    else:\n      continue        \n  # printing the longest even word in a given sentence.\n  print(even_word)\n\n\n## function call to test\nlongestevenword(&quot;This is a cat that had a puppyy&quot;)\n\nOutput: puppyy\n</code></pre>\n<p>It's also available on my GitHub <a href=\"https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py\" rel=\"nofollow noreferrer\">https://github.com/jaikishpai/CommonSolutions/blob/main/LongestEvenWord.py</a></p>\n"},{"tags":[],"owner":{"account_id":25315862,"reputation":1,"user_id":19137999,"display_name":"Anilkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652802678,"creation_date":1652802678,"answer_id":72277126,"question_id":55599808,"body_markdown":"public static void main(String[] args) {\r\n    // TODO Auto-generated method stub\r\n\r\n    String input = &quot;I am good.&quot;;\r\n    String[] input_words = input.split(&quot; &quot;);\r\n    String longestWord = &quot; &quot;;\r\n\r\n    for(String word : input_words) {\r\n        Pattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\r\n        Matcher m = p.matcher(word);\r\n        m.find();\r\n        if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\r\n            longestWord = m.group();\r\n        }\r\n    }\r\n    System.out.println(&quot;result : &quot; + longestWord);\r\n}","title":"How to find longest word in string that is even","body":"<p>public static void main(String[] args) {\n// TODO Auto-generated method stub</p>\n<pre><code>String input = &quot;I am good.&quot;;\nString[] input_words = input.split(&quot; &quot;);\nString longestWord = &quot; &quot;;\n\nfor(String word : input_words) {\n    Pattern p = Pattern.compile(&quot;^[a-zA-Z]+&quot;);\n    Matcher m = p.matcher(word);\n    m.find();\n    if(m.group().length() % 2 == 0 &amp;&amp; m.group().length() &gt; longestWord.length()) {\n        longestWord = m.group();\n    }\n}\nSystem.out.println(&quot;result : &quot; + longestWord);\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":24698798,"reputation":21,"user_id":18590377,"display_name":"vishwanath challal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661785937,"creation_date":1661785937,"answer_id":73530914,"question_id":55599808,"body_markdown":"    public class LongestEvenString {\r\n        public static void main(String[] args) {\r\n            String test = &quot;this is a sample input for the problem&quot;;\r\n            System.out.println(longestEvenString(test));\r\n        }\r\n    \r\n        public static String longestEvenString(String test) {\r\n    //        Splits a sentence to array of Strings.\r\n            String[] words = test.split(&quot; &quot;);\r\n    //        curlen stores length of current word in string Array\r\n    //        maxlen stores length of maximum_length word in string Array\r\n            int curlen = 0;\r\n            int maxlen = 0;\r\n            String output = &quot;&quot;;\r\n            for (String word:words) {\r\n                curlen = word.length();\r\n    //            loop runs only if length of the current word is more than\r\n    //            maximum_length thus excluding future same maximum_length words.\r\n    //            and also checks for even_length of that word\r\n                if(curlen &gt; maxlen &amp;&amp; curlen%2 == 0){\r\n                    maxlen = curlen;\r\n                    output = word;\r\n                }\r\n            }\r\n    //        returns maximum_even_length word which occurred first\r\n            return output;\r\n        }\r\n    }\r\n\r\n","title":"How to find longest word in string that is even","body":"<pre><code>public class LongestEvenString {\n    public static void main(String[] args) {\n        String test = &quot;this is a sample input for the problem&quot;;\n        System.out.println(longestEvenString(test));\n    }\n\n    public static String longestEvenString(String test) {\n//        Splits a sentence to array of Strings.\n        String[] words = test.split(&quot; &quot;);\n//        curlen stores length of current word in string Array\n//        maxlen stores length of maximum_length word in string Array\n        int curlen = 0;\n        int maxlen = 0;\n        String output = &quot;&quot;;\n        for (String word:words) {\n            curlen = word.length();\n//            loop runs only if length of the current word is more than\n//            maximum_length thus excluding future same maximum_length words.\n//            and also checks for even_length of that word\n            if(curlen &gt; maxlen &amp;&amp; curlen%2 == 0){\n                maxlen = curlen;\n                output = word;\n            }\n        }\n//        returns maximum_even_length word which occurred first\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18592820,"reputation":1,"user_id":13549644,"display_name":"goolanagouda policepatil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669896095,"creation_date":1669896095,"answer_id":74641544,"question_id":55599808,"body_markdown":"public class FindLongestEvenWord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;Be not afraid of greatness some are born great some achieve greatness&quot;;\r\n\t\t\r\n\t\tList&lt;String&gt; strList = Arrays.asList(s.trim().split(&quot; &quot;));\r\n\t\tOptional&lt;String&gt;  maxLengthEvenWord = strList.stream().filter(s3-&gt;s3.length()%2==0).reduce((s1,s2)-&gt;s1.length()&gt;s2.length()?s1:s2);\r\n\t\tif(maxLengthEvenWord.isPresent())\r\n\t\t\tSystem.out.println(maxLengthEvenWord.get());\r\n\t\t\r\n\t}\r\n}","title":"How to find longest word in string that is even","body":"<p>public class FindLongestEvenWord {</p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;Be not afraid of greatness some are born great some achieve greatness&quot;;\n    \n    List&lt;String&gt; strList = Arrays.asList(s.trim().split(&quot; &quot;));\n    Optional&lt;String&gt;  maxLengthEvenWord = strList.stream().filter(s3-&gt;s3.length()%2==0).reduce((s1,s2)-&gt;s1.length()&gt;s2.length()?s1:s2);\n    if(maxLengthEvenWord.isPresent())\n        System.out.println(maxLengthEvenWord.get());\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28305941,"reputation":1,"user_id":21643952,"display_name":"vspatil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681485916,"creation_date":1681485916,"answer_id":76016676,"question_id":55599808,"body_markdown":"    String sentence = &quot;Time to construct great art&quot;;\r\n    String[] array = sentence.split(&quot; &quot;);\r\n    String longestWord = &quot; &quot;;\r\n       for (int i = 0; i &lt; array.length; i ++) {\r\n           if (array[i].length() &gt;= longestWord.length()) {\r\n               if (array[i].length() % 2 == 0) {\r\n                   longestWord = array[i];\r\n               }\r\n           }\r\n       }\r\n    System.out.println(longestWord);","title":"How to find longest word in string that is even","body":"<pre><code>String sentence = &quot;Time to construct great art&quot;;\nString[] array = sentence.split(&quot; &quot;);\nString longestWord = &quot; &quot;;\n   for (int i = 0; i &lt; array.length; i ++) {\n       if (array[i].length() &gt;= longestWord.length()) {\n           if (array[i].length() % 2 == 0) {\n               longestWord = array[i];\n           }\n       }\n   }\nSystem.out.println(longestWord);\n</code></pre>\n"}],"owner":{"account_id":14366630,"reputation":59,"user_id":10377474,"display_name":"JohnEgg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":9,"score":0,"last_activity_date":1681485916,"creation_date":1554837470,"question_id":55599808,"body_markdown":"I need to find a word in a string that is both the longest as well as even. A few examples:\r\n\r\nThe sentence ```Time to construct great art```. This should return the string ```time``` because it is the greatest ```even``` length word, with the length being ```4```, it is not ```construct``` because construct is length ```9``` which is odd.\r\n\r\nAlso, in the example of ```Time to write great code```. This should return the string ```Time```, because it is even, and has a even length of ```4```. It will not return the word ```code``` because ```Time``` occurs first.\r\n\r\n\r\n        \r\n```\r\n        String[] array = sentence.split(&quot; &quot;);\r\n        String longestWord = &quot; &quot;;\r\n\r\n        for (int i = 0; i &lt; array.length; i ++) {\r\n            if (array[i].length() &gt;= longestWord.length()) {\r\n                longestWord = array[i];\r\n            }\r\n        }\r\n\t\t\r\n\t\tSystem.out.println(longestWord);\r\n```\r\n\r\nMy code successfully prints the longest word, however does not take into account whether the longest strings length is even and if it occurs first. \r\n\r\nI have tried using some modulus characters in my for loop, but it is not tracking whether or not the greatest word is even, if not, move to next greatest word. \r\n\r\nAlso, I am having a hard time tracking if the word comes first or not.\r\n\r\n\r\n\r\n\r\nWhat I&#39;ve tried for accounting for even:\r\n\r\n```\r\nfor (int i = 0; i &lt; array.length; i ++) {\r\n            if (array[i].length() &gt;= longestWord.length()) {\r\n                longestWord = array[i];\r\n                if (longestWord.length() % 2 != 0) {\r\n                \tbreak;\r\n                }\r\n                else {\r\n                \tlongestWord = array[i];\r\n                }\r\n            }\r\n        }\r\n```","title":"How to find longest word in string that is even","body":"<p>I need to find a word in a string that is both the longest as well as even. A few examples:</p>\n\n<p>The sentence <code>Time to construct great art</code>. This should return the string <code>time</code> because it is the greatest <code>even</code> length word, with the length being <code>4</code>, it is not <code>construct</code> because construct is length <code>9</code> which is odd.</p>\n\n<p>Also, in the example of <code>Time to write great code</code>. This should return the string <code>Time</code>, because it is even, and has a even length of <code>4</code>. It will not return the word <code>code</code> because <code>Time</code> occurs first.</p>\n\n<pre><code>        String[] array = sentence.split(\" \");\n        String longestWord = \" \";\n\n        for (int i = 0; i &lt; array.length; i ++) {\n            if (array[i].length() &gt;= longestWord.length()) {\n                longestWord = array[i];\n            }\n        }\n\n        System.out.println(longestWord);\n</code></pre>\n\n<p>My code successfully prints the longest word, however does not take into account whether the longest strings length is even and if it occurs first. </p>\n\n<p>I have tried using some modulus characters in my for loop, but it is not tracking whether or not the greatest word is even, if not, move to next greatest word. </p>\n\n<p>Also, I am having a hard time tracking if the word comes first or not.</p>\n\n<p>What I've tried for accounting for even:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i ++) {\n            if (array[i].length() &gt;= longestWord.length()) {\n                longestWord = array[i];\n                if (longestWord.length() % 2 != 0) {\n                    break;\n                }\n                else {\n                    longestWord = array[i];\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1681481310,"post_id":76015757,"comment_id":134067933,"body_markdown":"Can&#39;t say for the fact I&#39;m not in a good place to think at this time, but the following line may be some trouble.    if(bill.equals(prevBill)).   e.g if they bought exactly the same again!  And if the program variable initialised at nothing and updates too late.","body":"Can&#39;t say for the fact I&#39;m not in a good place to think at this time, but the following line may be some trouble.    if(bill.equals(prevBill)).   e.g if they bought exactly the same again!  And if the program variable initialised at nothing and updates too late."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1681484805,"post_id":76015757,"comment_id":134068871,"body_markdown":"Any chance you could [edit] your question and post contents of file `firstConvert.xlsx`? Maybe post it as text in form of comma-separated values, i.e. CSV.","body":"Any chance you could <a href=\"https://stackoverflow.com/posts/76015757/edit\">edit</a> your question and post contents of file <code>firstConvert.xlsx</code>? Maybe post it as text in form of comma-separated values, i.e. CSV."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1681485494,"post_id":76015757,"comment_id":134069076,"body_markdown":"or in other words (as @Abra used): [mcve] please :)","body":"or in other words (as @Abra used): <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please :)"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481216,"creation_date":1681481216,"answer_id":76015969,"question_id":76015757,"body_markdown":"`prevBill` is an empty string initially. Therefore, in the first iteration, the program will always evaluate `if(bill.equals(prevBill))` as false. \r\n\r\nAsa result, for the first line, `totalAmount` will not be updated (the `amount` will not be added) and the row will line will be written to the file.","title":"my variable &quot;totAmount&quot; shifts one line below in my text file","body":"<p><code>prevBill</code> is an empty string initially. Therefore, in the first iteration, the program will always evaluate <code>if(bill.equals(prevBill))</code> as false.</p>\n<p>Asa result, for the first line, <code>totalAmount</code> will not be updated (the <code>amount</code> will not be added) and the row will line will be written to the file.</p>\n"}],"owner":{"account_id":28305124,"reputation":1,"user_id":21643253,"display_name":"Serenity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681485399,"creation_date":1681479840,"question_id":76015757,"body_markdown":"I&#39;ve a little problem but I don&#39;t know how to resolve it.\r\n\r\nHere is my code :  \r\n```java\r\n    // Chargement du fichier Excel\r\n    FileInputStream excelFile = new FileInputStream(new File(outputFile + &quot;\\\\firstConvert.xlsx&quot;));\r\n    Workbook workbook = new XSSFWorkbook(excelFile);\r\n    Sheet sheet = workbook.getSheetAt(0);\r\n\r\n    // Ouverture du fichier texte pour &#233;criture\r\n    PrintWriter writer = new PrintWriter(new FileWriter(outputFile + &quot;\\\\HVEN.txt&quot;));\r\n            \r\n    // variables pour stocker la valeur de la colonne &quot;Bill&quot; et la somme des valeurs de la colonne &quot;Amount&quot;\r\n    String prevBill = &quot;&quot;;\r\n    double totalAmount = 0.0;\r\n\r\n    // commencer &#224; la ligne 1 (i=1) au lieu de 0 (premi&#232;re ligne)\r\n    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n        Row row = sheet.getRow(i);\r\n                \r\n        // V&#233;rification de la valeur dans la colonne &quot;Cl&quot;\r\n        String cl = &quot;&quot;;\r\n        if (row.getCell(0).getCellType() == CellType.NUMERIC) {\r\n            cl = String.valueOf((int) row.getCell(0).getNumericCellValue());\r\n        } else {\r\n            cl = row.getCell(0).getStringCellValue();\r\n        }\r\n        if (cl.equals(&quot;600&quot;) || cl.equals(&quot;610&quot;) || cl.equals(&quot;620&quot;)) {\r\n            // passe &#224; la ligne suivante si la valeur est 600, 610 ou 620\r\n            continue;\r\n        }\r\n \r\n        // R&#233;cup&#233;ration des valeurs des colonnes\r\n        String bill = &quot;&quot;;\r\n        if (row.getCell(5).getCellType() == CellType.NUMERIC) {\r\n            bill = String.valueOf((int) row.getCell(5).getNumericCellValue());\r\n        } else {\r\n            bill = row.getCell(5).getStringCellValue();\r\n        }\r\n        // D&#233;finition de la valeur de la variable nomJournal en fonction de la valeur de la colonne &quot;Bill&quot;\r\n        String nomJournal = &quot;&quot;;\r\n        if (bill.startsWith(&quot;Bill&quot;)) {\r\n            nomJournal = &quot;VEN&quot;;\r\n        } else if (bill.startsWith(&quot;Credit note&quot;)) {\r\n            nomJournal = &quot;CVEN&quot;;\r\n        } else if (bill.startsWith(&quot;Invoice&quot;)) {\r\n            nomJournal = &quot;IVEN&quot;;\r\n        }\r\n        String onlyNumb = bill.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\r\n        String matchNo = &quot;&quot;;\r\n        if (row.getCell(15).getCellType() == CellType.NUMERIC) {\r\n            matchNo = String.valueOf((int) row.getCell(15).getNumericCellValue());\r\n        } else {\r\n            matchNo = row.getCell(15).getStringCellValue();\r\n        }\r\n\r\n        String closedDate = &quot;&quot;;\r\n        if (row.getCell(4).getCellType() == CellType.NUMERIC) {\r\n            closedDate = String.valueOf(row.getCell(4).getNumericCellValue());\r\n        } else {\r\n            closedDate = row.getCell(4).getStringCellValue();\r\n        }\r\n\r\n        String numTVA = &quot;&quot;;\r\n        if (row.getCell(8).getCellType() == CellType.NUMERIC) {\r\n            numTVA = String.valueOf(row.getCell(8).getNumericCellValue());\r\n        } else {\r\n            numTVA = row.getCell(8).getStringCellValue();\r\n        }\r\n        if(numTVA.startsWith(&quot;BE&quot;)){\r\n            numTVA = numTVA.substring(2);\r\n        } else {\r\n            numTVA = &quot;N/A&quot;;\r\n        }\r\n\r\n        String customer = &quot;&quot;;\r\n        if (row.getCell(10).getCellType() == CellType.NUMERIC) {\r\n            customer = String.valueOf(row.getCell(10).getNumericCellValue());\r\n        } else {\r\n            customer = row.getCell(10).getStringCellValue();\r\n        }\r\n\r\n        double amount = 0.0;\r\n        if (row.getCell(14).getCellType() == CellType.NUMERIC) {\r\n            amount = row.getCell(14).getNumericCellValue();\r\n        } else {\r\n            amount = Double.parseDouble(row.getCell(14).getStringCellValue());\r\n        }\r\n\r\n        // R&#233;cup&#233;ration de l&#39;ann&#233;e et du mois de la colonne &quot;Closed&quot;\r\n        // Conversion de la cha&#238;ne de caract&#232;res en double\r\n        double closeDate = Double.parseDouble(closedDate);\r\n        // Conversion de la valeur double en objet java.util.Date\r\n        Date javaDate = DateUtil.getJavaDate(closeDate, false);\r\n        // Formatage de la date en &quot;jj/mm/yyyy&quot;\r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        String formattedDate = formatter.format(javaDate);    \r\n\r\n        String[] closedDateParts = formattedDate.split(&quot;/&quot;);\r\n        String year = closedDateParts[2];\r\n        String month = closedDateParts[1];\r\n\r\n        // si la valeur de la colonne &quot;Bill&quot; est la m&#234;me que celle de la ligne pr&#233;c&#233;dente,\r\n        // ajouter la valeur de la colonne &quot;Amount&quot; &#224; la somme des valeurs pour cette facture\r\n        if(bill.equals(prevBill)){\r\n            totalAmount += amount;\r\n        } else {\r\n            // si la valeur de la colonne &quot;Bill&quot; est diff&#233;rente de celle de la ligne pr&#233;c&#233;dente,\r\n            // &#233;crire la ligne pr&#233;c&#233;dente avec la somme des valeurs pour cette facture (si elle existe)\r\n            String totAmount = Double.toString(totalAmount).replace(&quot;.&quot;, &quot;,&quot;);\r\n\r\n            // &#201;criture de la ligne dans le fichier texte avec le format demand&#233;\r\n            String line = &quot;\\&quot;&quot; + nomJournal + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + month + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + onlyNumb + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;C\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + numTVA + &quot;\\&quot;;&quot; \r\n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + totAmount + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + customer + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;&quot; + matchNo + &quot;\\&quot;;&quot;\r\n                                + &quot;\\&quot;S\\&quot;;&quot;;\r\n            writer.println(line);\r\n            // r&#233;initialiser la somme des valeurs pour la facture en cours\r\n            totalAmount = amount;\r\n            // sauvegarder la valeur de la colonne &quot;Bill&quot; pour la ligne en cours\r\n            prevBill = bill;\r\n        }\r\n    }\r\n    // Fermeture du fichier texte et du fichier Excel\r\n    writer.close();\r\n    excelFile.close();\r\n\r\n    System.out.print(&quot;HVEN.txt cr&#233;&#233; !&quot;);\r\n} catch (IOException e){\r\n    e.printStackTrace();\r\n}\r\n```\r\nAnd here is my data from outputFile:\r\n\r\n```none\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300005&quot;;&quot;20/01/2023&quot;;&quot;C&quot;;&quot;0629745675&quot;;&quot;20/01/2023&quot;;&quot;0,0&quot;;&quot;Mieke De keersmaecker&quot;;&quot;1&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300047&quot;;&quot;30/01/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;30/01/2023&quot;;&quot;254,5&quot;;&quot;Dick Schuurman&quot;;&quot;2&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300050&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;0445907418&quot;;&quot;01/02/2023&quot;;&quot;278,5&quot;;&quot;Bert Labaere&quot;;&quot;3&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300051&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;297,0&quot;;&quot;Elodie Baranger&quot;;&quot;4&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300052&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;122,5&quot;;&quot;Bert Labaere&quot;;&quot;5&quot;;&quot;S&quot;;\r\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300053&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;-38,5&quot;;&quot;Panepinto Rebecca&quot;;&quot;6&quot;;&quot;S&quot;;\r\n```\r\nWe see on the first line the value `0,0` just before `Mieke` and in fact it should be 254,5 (i.e. value of the line just after).\r\n\r\nI want move up the value `totAmount` just above.","title":"my variable &quot;totAmount&quot; shifts one line below in my text file","body":"<p>I've a little problem but I don't know how to resolve it.</p>\n<p>Here is my code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Chargement du fichier Excel\n    FileInputStream excelFile = new FileInputStream(new File(outputFile + &quot;\\\\firstConvert.xlsx&quot;));\n    Workbook workbook = new XSSFWorkbook(excelFile);\n    Sheet sheet = workbook.getSheetAt(0);\n\n    // Ouverture du fichier texte pour écriture\n    PrintWriter writer = new PrintWriter(new FileWriter(outputFile + &quot;\\\\HVEN.txt&quot;));\n            \n    // variables pour stocker la valeur de la colonne &quot;Bill&quot; et la somme des valeurs de la colonne &quot;Amount&quot;\n    String prevBill = &quot;&quot;;\n    double totalAmount = 0.0;\n\n    // commencer à la ligne 1 (i=1) au lieu de 0 (première ligne)\n    for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row row = sheet.getRow(i);\n                \n        // Vérification de la valeur dans la colonne &quot;Cl&quot;\n        String cl = &quot;&quot;;\n        if (row.getCell(0).getCellType() == CellType.NUMERIC) {\n            cl = String.valueOf((int) row.getCell(0).getNumericCellValue());\n        } else {\n            cl = row.getCell(0).getStringCellValue();\n        }\n        if (cl.equals(&quot;600&quot;) || cl.equals(&quot;610&quot;) || cl.equals(&quot;620&quot;)) {\n            // passe à la ligne suivante si la valeur est 600, 610 ou 620\n            continue;\n        }\n \n        // Récupération des valeurs des colonnes\n        String bill = &quot;&quot;;\n        if (row.getCell(5).getCellType() == CellType.NUMERIC) {\n            bill = String.valueOf((int) row.getCell(5).getNumericCellValue());\n        } else {\n            bill = row.getCell(5).getStringCellValue();\n        }\n        // Définition de la valeur de la variable nomJournal en fonction de la valeur de la colonne &quot;Bill&quot;\n        String nomJournal = &quot;&quot;;\n        if (bill.startsWith(&quot;Bill&quot;)) {\n            nomJournal = &quot;VEN&quot;;\n        } else if (bill.startsWith(&quot;Credit note&quot;)) {\n            nomJournal = &quot;CVEN&quot;;\n        } else if (bill.startsWith(&quot;Invoice&quot;)) {\n            nomJournal = &quot;IVEN&quot;;\n        }\n        String onlyNumb = bill.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n\n        String matchNo = &quot;&quot;;\n        if (row.getCell(15).getCellType() == CellType.NUMERIC) {\n            matchNo = String.valueOf((int) row.getCell(15).getNumericCellValue());\n        } else {\n            matchNo = row.getCell(15).getStringCellValue();\n        }\n\n        String closedDate = &quot;&quot;;\n        if (row.getCell(4).getCellType() == CellType.NUMERIC) {\n            closedDate = String.valueOf(row.getCell(4).getNumericCellValue());\n        } else {\n            closedDate = row.getCell(4).getStringCellValue();\n        }\n\n        String numTVA = &quot;&quot;;\n        if (row.getCell(8).getCellType() == CellType.NUMERIC) {\n            numTVA = String.valueOf(row.getCell(8).getNumericCellValue());\n        } else {\n            numTVA = row.getCell(8).getStringCellValue();\n        }\n        if(numTVA.startsWith(&quot;BE&quot;)){\n            numTVA = numTVA.substring(2);\n        } else {\n            numTVA = &quot;N/A&quot;;\n        }\n\n        String customer = &quot;&quot;;\n        if (row.getCell(10).getCellType() == CellType.NUMERIC) {\n            customer = String.valueOf(row.getCell(10).getNumericCellValue());\n        } else {\n            customer = row.getCell(10).getStringCellValue();\n        }\n\n        double amount = 0.0;\n        if (row.getCell(14).getCellType() == CellType.NUMERIC) {\n            amount = row.getCell(14).getNumericCellValue();\n        } else {\n            amount = Double.parseDouble(row.getCell(14).getStringCellValue());\n        }\n\n        // Récupération de l'année et du mois de la colonne &quot;Closed&quot;\n        // Conversion de la chaîne de caractères en double\n        double closeDate = Double.parseDouble(closedDate);\n        // Conversion de la valeur double en objet java.util.Date\n        Date javaDate = DateUtil.getJavaDate(closeDate, false);\n        // Formatage de la date en &quot;jj/mm/yyyy&quot;\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String formattedDate = formatter.format(javaDate);    \n\n        String[] closedDateParts = formattedDate.split(&quot;/&quot;);\n        String year = closedDateParts[2];\n        String month = closedDateParts[1];\n\n        // si la valeur de la colonne &quot;Bill&quot; est la même que celle de la ligne précédente,\n        // ajouter la valeur de la colonne &quot;Amount&quot; à la somme des valeurs pour cette facture\n        if(bill.equals(prevBill)){\n            totalAmount += amount;\n        } else {\n            // si la valeur de la colonne &quot;Bill&quot; est différente de celle de la ligne précédente,\n            // écrire la ligne précédente avec la somme des valeurs pour cette facture (si elle existe)\n            String totAmount = Double.toString(totalAmount).replace(&quot;.&quot;, &quot;,&quot;);\n\n            // Écriture de la ligne dans le fichier texte avec le format demandé\n            String line = &quot;\\&quot;&quot; + nomJournal + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + year + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + month + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + onlyNumb + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;C\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + numTVA + &quot;\\&quot;;&quot; \n                                + &quot;\\&quot;&quot; + formattedDate + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + totAmount + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + customer + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;&quot; + matchNo + &quot;\\&quot;;&quot;\n                                + &quot;\\&quot;S\\&quot;;&quot;;\n            writer.println(line);\n            // réinitialiser la somme des valeurs pour la facture en cours\n            totalAmount = amount;\n            // sauvegarder la valeur de la colonne &quot;Bill&quot; pour la ligne en cours\n            prevBill = bill;\n        }\n    }\n    // Fermeture du fichier texte et du fichier Excel\n    writer.close();\n    excelFile.close();\n\n    System.out.print(&quot;HVEN.txt créé !&quot;);\n} catch (IOException e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>And here is my data from outputFile:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300005&quot;;&quot;20/01/2023&quot;;&quot;C&quot;;&quot;0629745675&quot;;&quot;20/01/2023&quot;;&quot;0,0&quot;;&quot;Mieke De keersmaecker&quot;;&quot;1&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;01&quot;;&quot;202300047&quot;;&quot;30/01/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;30/01/2023&quot;;&quot;254,5&quot;;&quot;Dick Schuurman&quot;;&quot;2&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300050&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;0445907418&quot;;&quot;01/02/2023&quot;;&quot;278,5&quot;;&quot;Bert Labaere&quot;;&quot;3&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300051&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;297,0&quot;;&quot;Elodie Baranger&quot;;&quot;4&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300052&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;122,5&quot;;&quot;Bert Labaere&quot;;&quot;5&quot;;&quot;S&quot;;\n&quot;VEN&quot;;&quot;2023&quot;;&quot;2023&quot;;&quot;02&quot;;&quot;202300053&quot;;&quot;01/02/2023&quot;;&quot;C&quot;;&quot;N/A&quot;;&quot;01/02/2023&quot;;&quot;-38,5&quot;;&quot;Panepinto Rebecca&quot;;&quot;6&quot;;&quot;S&quot;;\n</code></pre>\n<p>We see on the first line the value <code>0,0</code> just before <code>Mieke</code> and in fact it should be 254,5 (i.e. value of the line just after).</p>\n<p>I want move up the value <code>totAmount</code> just above.</p>\n"},{"tags":["java","spring","postgresql","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1681388031,"post_id":76005203,"comment_id":134050156,"body_markdown":"So you&#39;ve just copied over code without understanding it and now you want us to fix it? Please clarify your problem after you understand at least a little bit of it. Also, take a look at [ask].","body":"So you&#39;ve just copied over code without understanding it and now you want us to fix it? Please clarify your problem after you understand at least a little bit of it. Also, take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1681485418,"post_id":76005203,"comment_id":134069060,"body_markdown":"I have already fixed everything, thanks for these words, they told me which way to dig the information and I found it! thank you, I&#39;m happy!","body":"I have already fixed everything, thanks for these words, they told me which way to dig the information and I found it! thank you, I&#39;m happy!"}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681485333,"creation_date":1681485333,"answer_id":76016600,"question_id":76005203,"body_markdown":"\r\nI fixed my problem by encrypting the password that the user enters and making adjustments to SecurityFilterChain\r\n\r\nwas:\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, passwordEncoder.encode(password)));\r\n\r\nbecame:\r\n\r\n    Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\r\nSecurityFilterChain was:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t\t\t\t\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\r\nbecame:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;, true)\r\n\t.failureUrl(&quot;/login-error&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\r\nAdded and changed:\r\n\r\n\t.defaultSuccessUrl(&quot;/home&quot;, true)\r\n\t.failureUrl(&quot;/login-error&quot;)","title":"Spring Security authenticate(Unknown source)","body":"<p>I fixed my problem by encrypting the password that the user enters and making adjustments to SecurityFilterChain</p>\n<p>was:</p>\n<pre><code>Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, passwordEncoder.encode(password)));\n</code></pre>\n<p>became:</p>\n<pre><code>Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n</code></pre>\n<p>SecurityFilterChain was:</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n                .httpBasic()\n.disable();\nreturn http.build();\n}\n</code></pre>\n<p>became:</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;, true)\n.failureUrl(&quot;/login-error&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n.httpBasic()\n.disable();\nreturn http.build();\n}\n</code></pre>\n<p>Added and changed:</p>\n<pre><code>.defaultSuccessUrl(&quot;/home&quot;, true)\n.failureUrl(&quot;/login-error&quot;)\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016600,"answer_count":1,"score":0,"last_activity_date":1681485333,"creation_date":1681387591,"question_id":76005203,"body_markdown":"I&#39;m trying to create an authentication system from Teddy Smith&#39;s YouTube tutorials, now I&#39;ve created a registration system, a PasswordEncoder and everything is fine. but I can&#39;t authenticate the account from the database, there are multiple users in the database and I can&#39;t authenticate until I understand the code I have right now, but I can&#39;t solve this error, it literally stopped my Spring Security training which is almost finished, can you help me with this?\r\n\r\nUserEntity.class:\r\n\r\n    package springsecuritylearn.entity;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import jakarta.persistence.CascadeType;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.JoinTable;\r\n    import jakarta.persistence.ManyToMany;\r\n    import jakarta.persistence.SequenceGenerator;\r\n    import jakarta.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class UserEntity {\r\n\t\r\n\t@Id\r\n\t@SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\r\n\tprivate long id;\r\n\t\r\n\tprivate String username;\r\n\t\r\n\tprivate String password;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;user_roles&quot;, \r\n\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\r\n\tprivate List&lt;RoleEntity&gt; roles = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic UserEntity() {}\r\n\r\n\tpublic UserEntity(String username, String password, List&lt;RoleEntity&gt; roles) {\r\n\tthis.username = username;\r\n\tthis.password = password;\r\n\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\tthis.password = password;\r\n\t}\r\n\r\n\tpublic List&lt;RoleEntity&gt; getRoles() {\r\n\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(List&lt;RoleEntity&gt; roles) {\r\n\tthis.roles = roles;\r\n\t}\r\n\t\r\n    }\r\n\r\nRoleEntity.class:\r\n\r\n\tpackage springsecuritylearn.entity;\r\n\r\n\timport jakarta.persistence.Entity;\r\n\timport jakarta.persistence.GeneratedValue;\r\n\timport jakarta.persistence.GenerationType;\r\n\timport jakarta.persistence.Id;\r\n\timport jakarta.persistence.SequenceGenerator;\r\n\timport jakarta.persistence.Table;\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;roles&quot;)\r\n\tpublic class RoleEntity {\r\n\r\n\t@Id\r\n\t@SequenceGenerator(name = &quot;role_sequence&quot;, sequenceName = &quot;role_sequence&quot;, allocationSize = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;role_sequence&quot;)\r\n\tprivate long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tpublic RoleEntity() {}\r\n\r\n\tpublic RoleEntity(String name) {\r\n\tthis.name = name;\r\n\t}\r\n\r\n\tpublic long getId() {\r\n\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(long id) {\r\n\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\tthis.name = name;\r\n\t}\r\n\r\nAuthController.class:\r\n\r\n\tpackage springsecuritylearn.controller;\r\n\r\n\timport java.util.Collections;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n\timport org.springframework.security.core.Authentication;\r\n\timport org.springframework.security.core.context.SecurityContextHolder;\r\n\timport org.springframework.security.crypto.password.PasswordEncoder;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\timport springsecuritylearn.repository.RoleRepository;\r\n\timport springsecuritylearn.repository.UserRepository;\r\n\r\n\t@Controller\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic class AuthController {\r\n\r\n\tprivate AuthenticationManager authenticationManager;\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\tprivate UserRepository userRepository;\r\n\tprivate RoleRepository roleRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic AuthController(AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder,\r\n\tUserRepository userRepository, RoleRepository roleRepository) {\r\n\tthis.authenticationManager = authenticationManager;\r\n\tthis.passwordEncoder = passwordEncoder;\r\n\tthis.userRepository = userRepository;\r\n\tthis.roleRepository = roleRepository;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/login&quot;)\r\n\tpublic String userAuthenticate(\r\n\tUserEntity userEntity,\r\n\t@RequestParam String username,\r\n\t@RequestParam String password,\r\n\tMap&lt;String, Object&gt; model) {\r\n\tAuthentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\treturn &quot;redirect:/home&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String register() {\r\n\treturn &quot;register&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tprivate String addNewUser(\r\n\t@RequestParam String username,\r\n\t@RequestParam String password,\r\n\tMap&lt;String, Object&gt; model) {\r\n\tif (userRepository.existsByUsername(username)) {\r\n\treturn &quot;register&quot;;\r\n\t}\r\n\t\t\r\n\t\t\r\n\tRoleEntity roles = roleRepository.findByName(&quot;USER&quot;).orElse(null);\r\n\tUserEntity user = new UserEntity(username, passwordEncoder.encode(password), Collections.singletonList(roles));\r\n\t\t\r\n\t\t\r\n\tuserRepository.save(user);\r\n\t\t\r\n\treturn &quot;redirect:/login&quot;;\r\n\t}\r\n\t\r\n\t}\r\n\r\nWebController.class:\r\n\r\n\tpackage springsecuritylearn.controller;\r\n\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n\t@Controller\r\n\t@RequestMapping(path = &quot;/&quot;)\r\n\tpublic class WebController {\r\n\r\n\t@GetMapping(path = &quot;/home&quot;)\r\n\tpublic String home() {\r\n\treturn &quot;home&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/user&quot;)\r\n\tpublic String user() {\r\n\treturn &quot;user&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/admin&quot;)\r\n\tpublic String admin() {\r\n\treturn &quot;admin&quot;;\r\n\t}\r\n\t\r\n\t}\r\n\r\nUserRepository.interface:\r\n\r\n\tpackage springsecuritylearn.repository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\r\n\t@Repository\r\n\tpublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\r\n\r\n\tOptional&lt;UserEntity&gt; findByUsername(String username);\r\n\tBoolean existsByUsername(String username);\r\n\t\r\n\t}\r\n\r\nRoleRepository.interface:\r\n\r\n\tpackage springsecuritylearn.repository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\r\n\t@Repository\r\n\tpublic interface RoleRepository extends JpaRepository&lt;RoleEntity, Long&gt; {\r\n\r\n\tOptional&lt;RoleEntity&gt; findByName(String name);\r\n\t\r\n\t}\r\n\r\nCustomUserDetailsService.class:\r\n\r\n\tpackage springsecuritylearn.security;\r\n\r\n\timport java.util.Collection;\r\n\timport java.util.List;\r\n\timport java.util.stream.Collectors;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.core.GrantedAuthority;\r\n\timport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\timport org.springframework.security.core.userdetails.User;\r\n\timport org.springframework.security.core.userdetails.UserDetails;\r\n\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\timport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport springsecuritylearn.entity.RoleEntity;\r\n\timport springsecuritylearn.entity.UserEntity;\r\n\timport springsecuritylearn.repository.UserRepository;\r\n\r\n\t@Service\r\n\tpublic class CustomUserDetailsService implements UserDetailsService {\r\n\r\n\tprivate UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic CustomUserDetailsService(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}\r\n\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\tUserEntity user = userRepository.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\r\n\treturn new User(user.getUsername(), user.getPassword(), mapRolesToAuthorities(user.getRoles()));\r\n\t}\r\n\t\r\n\tprivate Collection&lt;GrantedAuthority&gt; mapRolesToAuthorities(List&lt;RoleEntity&gt; roles) {\r\n\treturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n\t}\r\n\t\r\n\t}\r\n\r\nSecurityConfig.class:\r\n\r\n\tpackage springsecuritylearn.security;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.core.userdetails.User;\r\n\timport org.springframework.security.core.userdetails.UserDetails;\r\n\timport org.springframework.security.core.userdetails.UserDetailsService;\r\n\timport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\timport org.springframework.security.crypto.password.PasswordEncoder;\r\n\timport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\t@EnableWebSecurity\r\n\t@Configuration\r\n\tpublic class SecurityConfig {\r\n\t\r\n\tprivate CustomUserDetailsService userDetailsService;\r\n\t\r\n\t@Autowired\r\n\tpublic SecurityConfig(CustomUserDetailsService userDetailsService) {\r\n\tthis.userDetailsService = userDetailsService;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t.csrf().disable()\r\n\t.authorizeHttpRequests()\r\n\t.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\r\n\t.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t.anyRequest().authenticated()\r\n\t.and()\r\n\t.formLogin()\r\n\t.defaultSuccessUrl(&quot;/home&quot;)\r\n\t.loginPage(&quot;/login&quot;)\r\n\t.permitAll()\r\n\t.and()\r\n\t.logout()\r\n\t.permitAll()\r\n\t.and()\r\n\t.httpBasic()\r\n\t.disable();\r\n\treturn http.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService users() {\r\n\tUserDetails user1 = User.builder()\r\n\t.username(&quot;august&quot;)\r\n\t.password(&quot;{noop}august&quot;)\r\n\t.roles(&quot;ADMIN&quot;)\r\n\t.build();\r\n\tUserDetails user2 = User.builder()\r\n\t.username(&quot;maksim&quot;)\r\n\t.password(&quot;{noop}maksim&quot;)\r\n\t.roles(&quot;USER&quot;)\r\n\t.build();\r\n\treturn new InMemoryUserDetailsManager(user1, user2);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t}\r\n\r\nAnd now the most important thing, console:\r\n\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy7/jdk.proxy7.$Proxy133.authenticate(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\r\nThese lines after authorization clogged the entire console, thank you, i hope you can help me.","title":"Spring Security authenticate(Unknown source)","body":"<p>I'm trying to create an authentication system from Teddy Smith's YouTube tutorials, now I've created a registration system, a PasswordEncoder and everything is fine. but I can't authenticate the account from the database, there are multiple users in the database and I can't authenticate until I understand the code I have right now, but I can't solve this error, it literally stopped my Spring Security training which is almost finished, can you help me with this?</p>\n<p>UserEntity.class:</p>\n<pre><code>package springsecuritylearn.entity;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class UserEntity {\n\n@Id\n@SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\nprivate long id;\n\nprivate String username;\n\nprivate String password;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@JoinTable(name = &quot;user_roles&quot;, \njoinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\ninverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;))\nprivate List&lt;RoleEntity&gt; roles = new ArrayList&lt;&gt;();\n\npublic UserEntity() {}\n\npublic UserEntity(String username, String password, List&lt;RoleEntity&gt; roles) {\nthis.username = username;\nthis.password = password;\nthis.roles = roles;\n}\n\npublic long getId() {\nreturn id;\n}\n\npublic void setId(long id) {\nthis.id = id;\n}\n\npublic String getUsername() {\nreturn username;\n}\n\npublic void setUsername(String username) {\nthis.username = username;\n}\n\npublic String getPassword() {\nreturn password;\n}\n\npublic void setPassword(String password) {\nthis.password = password;\n}\n\npublic List&lt;RoleEntity&gt; getRoles() {\nreturn roles;\n}\n\npublic void setRoles(List&lt;RoleEntity&gt; roles) {\nthis.roles = roles;\n}\n\n}\n</code></pre>\n<p>RoleEntity.class:</p>\n<pre><code>package springsecuritylearn.entity;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.SequenceGenerator;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;roles&quot;)\npublic class RoleEntity {\n\n@Id\n@SequenceGenerator(name = &quot;role_sequence&quot;, sequenceName = &quot;role_sequence&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;role_sequence&quot;)\nprivate long id;\n\nprivate String name;\n\npublic RoleEntity() {}\n\npublic RoleEntity(String name) {\nthis.name = name;\n}\n\npublic long getId() {\nreturn id;\n}\n\npublic void setId(long id) {\nthis.id = id;\n}\n\npublic String getName() {\nreturn name;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n</code></pre>\n<p>AuthController.class:</p>\n<pre><code>package springsecuritylearn.controller;\n\nimport java.util.Collections;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport springsecuritylearn.entity.RoleEntity;\nimport springsecuritylearn.entity.UserEntity;\nimport springsecuritylearn.repository.RoleRepository;\nimport springsecuritylearn.repository.UserRepository;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class AuthController {\n\nprivate AuthenticationManager authenticationManager;\nprivate PasswordEncoder passwordEncoder;\nprivate UserRepository userRepository;\nprivate RoleRepository roleRepository;\n\n@Autowired\npublic AuthController(AuthenticationManager authenticationManager, PasswordEncoder passwordEncoder,\nUserRepository userRepository, RoleRepository roleRepository) {\nthis.authenticationManager = authenticationManager;\nthis.passwordEncoder = passwordEncoder;\nthis.userRepository = userRepository;\nthis.roleRepository = roleRepository;\n}\n\n@GetMapping(&quot;/login&quot;)\npublic String login() {\nreturn &quot;login&quot;;\n}\n\n@PostMapping(&quot;/login&quot;)\npublic String userAuthenticate(\nUserEntity userEntity,\n@RequestParam String username,\n@RequestParam String password,\nMap&lt;String, Object&gt; model) {\nAuthentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\nSecurityContextHolder.getContext().setAuthentication(authentication);\nreturn &quot;redirect:/home&quot;;\n}\n\n@GetMapping(&quot;/register&quot;)\npublic String register() {\nreturn &quot;register&quot;;\n}\n\n@PostMapping(&quot;/register&quot;)\nprivate String addNewUser(\n@RequestParam String username,\n@RequestParam String password,\nMap&lt;String, Object&gt; model) {\nif (userRepository.existsByUsername(username)) {\nreturn &quot;register&quot;;\n}\n    \n    \nRoleEntity roles = roleRepository.findByName(&quot;USER&quot;).orElse(null);\nUserEntity user = new UserEntity(username, passwordEncoder.encode(password), Collections.singletonList(roles));\n    \n    \nuserRepository.save(user);\n    \nreturn &quot;redirect:/login&quot;;\n}\n\n}\n</code></pre>\n<p>WebController.class:</p>\n<pre><code>package springsecuritylearn.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(path = &quot;/&quot;)\npublic class WebController {\n\n@GetMapping(path = &quot;/home&quot;)\npublic String home() {\nreturn &quot;home&quot;;\n}\n\n@GetMapping(path = &quot;/user&quot;)\npublic String user() {\nreturn &quot;user&quot;;\n}\n\n@GetMapping(path = &quot;/admin&quot;)\npublic String admin() {\nreturn &quot;admin&quot;;\n}\n\n}\n</code></pre>\n<p>UserRepository.interface:</p>\n<pre><code>package springsecuritylearn.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport springsecuritylearn.entity.UserEntity;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, Long&gt; {\n\nOptional&lt;UserEntity&gt; findByUsername(String username);\nBoolean existsByUsername(String username);\n\n}\n</code></pre>\n<p>RoleRepository.interface:</p>\n<pre><code>package springsecuritylearn.repository;\n\nimport java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport springsecuritylearn.entity.RoleEntity;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;RoleEntity, Long&gt; {\n\nOptional&lt;RoleEntity&gt; findByName(String name);\n\n}\n</code></pre>\n<p>CustomUserDetailsService.class:</p>\n<pre><code>package springsecuritylearn.security;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport springsecuritylearn.entity.RoleEntity;\nimport springsecuritylearn.entity.UserEntity;\nimport springsecuritylearn.repository.UserRepository;\n\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n\nprivate UserRepository userRepository;\n\n@Autowired\npublic CustomUserDetailsService(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\nUserEntity user = userRepository.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found&quot;));\nreturn new User(user.getUsername(), user.getPassword(), mapRolesToAuthorities(user.getRoles()));\n}\n\nprivate Collection&lt;GrantedAuthority&gt; mapRolesToAuthorities(List&lt;RoleEntity&gt; roles) {\nreturn roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n}\n\n}\n</code></pre>\n<p>SecurityConfig.class:</p>\n<pre><code>package springsecuritylearn.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\nprivate CustomUserDetailsService userDetailsService;\n\n@Autowired\npublic SecurityConfig(CustomUserDetailsService userDetailsService) {\nthis.userDetailsService = userDetailsService;\n}\n\n@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\nhttp\n.csrf().disable()\n.authorizeHttpRequests()\n.requestMatchers(&quot;/&quot;, &quot;/register&quot;).permitAll()\n.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n.anyRequest().authenticated()\n.and()\n.formLogin()\n.defaultSuccessUrl(&quot;/home&quot;)\n.loginPage(&quot;/login&quot;)\n.permitAll()\n.and()\n.logout()\n.permitAll()\n.and()\n.httpBasic()\n.disable();\nreturn http.build();\n}\n\n@Bean\npublic UserDetailsService users() {\nUserDetails user1 = User.builder()\n.username(&quot;august&quot;)\n.password(&quot;{noop}august&quot;)\n.roles(&quot;ADMIN&quot;)\n.build();\nUserDetails user2 = User.builder()\n.username(&quot;maksim&quot;)\n.password(&quot;{noop}maksim&quot;)\n.roles(&quot;USER&quot;)\n.build();\nreturn new InMemoryUserDetailsManager(user1, user2);\n}\n\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\nreturn authenticationConfiguration.getAuthenticationManager();\n}\n\n@Bean\nPasswordEncoder passwordEncoder() {\nreturn new BCryptPasswordEncoder();\n}\n\n}\n</code></pre>\n<p>And now the most important thing, console:</p>\n<pre><code>at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.7.jar:6.0.7]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:211) ~[spring-aop-6.0.7.jar:6.0.7]\nat jdk.proxy7/jdk.proxy7.$Proxy133.authenticate(Unknown Source) ~[na:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n</code></pre>\n<p>These lines after authorization clogged the entire console, thank you, i hope you can help me.</p>\n"},{"tags":["java","node.js","netsuite"],"comments":[{"owner":{"account_id":10714659,"reputation":4676,"user_id":7885772,"display_name":"Krypton"},"score":0,"creation_date":1679408573,"post_id":75801171,"comment_id":133714178,"body_markdown":"&quot;Following the documentation...&quot; - which documentation?  In [the documentation I&#39;m looking at](https://suiteanswers.custhelp.com/app/answers/detail/a_id/42019) (for TBA RESTlet authentication) you must include the HTTP method and URL-encoded base URL in the base string before signing, but I know there are different examples in the docs for different purposes (and the NS docs are a mess, but that&#39;s a different story...)","body":"&quot;Following the documentation...&quot; - which documentation?  In <a href=\"https://suiteanswers.custhelp.com/app/answers/detail/a_id/42019\" rel=\"nofollow noreferrer\">the documentation I&#39;m looking at</a> (for TBA RESTlet authentication) you must include the HTTP method and URL-encoded base URL in the base string before signing, but I know there are different examples in the docs for different purposes (and the NS docs are a mess, but that&#39;s a different story...)"},{"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"score":0,"creation_date":1679409963,"post_id":75801171,"comment_id":133714623,"body_markdown":"Sure! I am using the NetSuite web services platform guide. It&#39;s a nearly 400 page PDF they provided. I&#39;ll find a link.","body":"Sure! I am using the NetSuite web services platform guide. It&#39;s a nearly 400 page PDF they provided. I&#39;ll find a link."},{"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"score":0,"creation_date":1679410225,"post_id":75801171,"comment_id":133714714,"body_markdown":"On second thought, I&#39;m not sure I am allowed to provide the specific PDF. It was provided to me by NetSuite, but it is the &quot;SuiteTalk SOAP Web Services Platform Guide&quot;. 396 pages and is for Version 2022 Release 2.","body":"On second thought, I&#39;m not sure I am allowed to provide the specific PDF. It was provided to me by NetSuite, but it is the &quot;SuiteTalk SOAP Web Services Platform Guide&quot;. 396 pages and is for Version 2022 Release 2."}],"answers":[{"tags":[],"owner":{"account_id":28305964,"reputation":1,"user_id":21643974,"display_name":"Yuriy Milov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681485266,"creation_date":1681485266,"answer_id":76016592,"question_id":75801171,"body_markdown":"make sure the baseString has proper parameters\r\n\r\ninstead of (account  consumer  key  token  nonce  timestamp) \r\ntry (httpMethod  baseUrl key  token  nonce timestamp oauth_version)\r\n\r\nor find proper base string for your case\r\n\r\nHere is a working Java example - (get base string for Netsuite REST)\r\n==============================\r\n\r\n\tpublic static String getRestletBaseString(String httpMethod, String url, String consumerKey, String tokenKey,\r\n\t\t\tString nonce, String timestamp, String version, String signatureMethod) throws Exception {\r\n\t\t// http method must be upper case\r\n\t\tString baseString = httpMethod.toUpperCase() + &quot;&amp;&quot;;\r\n\r\n\t\t// include url without parameters, schema and hostname must be lower case\r\n\t\tString baseUrl = &quot;&quot;;\r\n\t\tString getParams = &quot;&quot;;\r\n\t\tif (url.contains(&quot;?&quot;)) {\r\n\t\t\tbaseUrl = url.substring(0, url.indexOf(&quot;?&quot;));\r\n\t\t\tgetParams = url.substring(url.indexOf(&quot;?&quot;) + 1);\r\n\t\t} else {\r\n\t\t\tbaseUrl = url;\r\n\t\t}\r\n\t\tString hostname = baseUrl.substring(0, baseUrl.indexOf(&#39;/&#39;, 10)).toLowerCase();\r\n\t\tString path = baseUrl.substring(baseUrl.indexOf(&#39;/&#39;, 10));\r\n\t\tbaseUrl = hostname + path;\r\n\t\tbaseString += URLEncoder.encode(baseUrl, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\r\n\r\n\t\t// all oauth and get params. First they are decoded, next sorted in alphabetical\r\n\t\t// order, next each key and values is encoded and finally whole parameters are\r\n\t\t// encoded\r\n\t\tMap&lt;String, String[]&gt; params = new HashMap&lt;String, String[]&gt;();\r\n\t\tparams.put(&quot;oauth_consumer_key&quot;, new String[] { consumerKey });\r\n\t\tparams.put(&quot;oauth_token&quot;, new String[] { tokenKey });\r\n\t\tparams.put(&quot;oauth_nonce&quot;, new String[] { nonce });\r\n\t\tparams.put(&quot;oauth_timestamp&quot;, new String[] { timestamp });\r\n\t\tparams.put(&quot;oauth_signature_method&quot;, new String[] { signatureMethod });\r\n\t\tparams.put(&quot;oauth_version&quot;, new String[] { version });\r\n\r\n\t\t// for (String param : (getParams + &quot;&amp;&quot; + postParams).split(&quot;&amp;&quot;)) {\r\n\t\tfor (String param : (getParams).split(&quot;&amp;&quot;)) {\r\n\t\t\tif (!param.isEmpty()) {\r\n\t\t\t\tString[] parsed = param.split(&quot;=&quot;);\r\n\t\t\t\tString key = URLDecoder.decode(parsed[0], &quot;UTF-8&quot;);\r\n\t\t\t\tString value = parsed.length &gt; 1 ? URLDecoder.decode(parsed[1], &quot;UTF-8&quot;) : &quot;&quot;;\r\n\t\t\t\tif (params.containsKey(key)) {\r\n\t\t\t\t\tString[] oldValues = params.get(key);\r\n\t\t\t\t\tString[] newValues = Arrays.copyOf(oldValues, oldValues.length + 1);\r\n\t\t\t\t\tnewValues[oldValues.length] = value;\r\n\t\t\t\t\tparams.put(key, newValues);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams.put(key, new String[] { value });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// all parameters must be sorted in alphabetical order\r\n\t\tObject[] keys = params.keySet().toArray();\r\n\t\tArrays.sort(keys);\r\n\r\n\t\tString paramString = &quot;&quot;;\r\n\t\tfor (Object key : keys) {\r\n\t\t\tString[] valueArray = params.get(key);\r\n\t\t\tArrays.sort(valueArray);\r\n\t\t\tfor (String value : valueArray) {\r\n\t\t\t\tparamString += URLEncoder.encode((String) key, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(value, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tparamString = paramString.substring(0, paramString.length() - 1);\r\n\t\tbaseString += URLEncoder.encode(paramString, &quot;UTF-8&quot;);\r\n\t\treturn baseString;\r\n\t}\r\n\r\n\r\n\r\n","title":"NetSuite - Signature generation differs from documentation (SOAP Web Services API)","body":"<p>make sure the baseString has proper parameters</p>\n<p>instead of (account  consumer  key  token  nonce  timestamp)\ntry (httpMethod  baseUrl key  token  nonce timestamp oauth_version)</p>\n<p>or find proper base string for your case</p>\n<h1>Here is a working Java example - (get base string for Netsuite REST)</h1>\n<pre><code>public static String getRestletBaseString(String httpMethod, String url, String consumerKey, String tokenKey,\n        String nonce, String timestamp, String version, String signatureMethod) throws Exception {\n    // http method must be upper case\n    String baseString = httpMethod.toUpperCase() + &quot;&amp;&quot;;\n\n    // include url without parameters, schema and hostname must be lower case\n    String baseUrl = &quot;&quot;;\n    String getParams = &quot;&quot;;\n    if (url.contains(&quot;?&quot;)) {\n        baseUrl = url.substring(0, url.indexOf(&quot;?&quot;));\n        getParams = url.substring(url.indexOf(&quot;?&quot;) + 1);\n    } else {\n        baseUrl = url;\n    }\n    String hostname = baseUrl.substring(0, baseUrl.indexOf('/', 10)).toLowerCase();\n    String path = baseUrl.substring(baseUrl.indexOf('/', 10));\n    baseUrl = hostname + path;\n    baseString += URLEncoder.encode(baseUrl, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\n\n    // all oauth and get params. First they are decoded, next sorted in alphabetical\n    // order, next each key and values is encoded and finally whole parameters are\n    // encoded\n    Map&lt;String, String[]&gt; params = new HashMap&lt;String, String[]&gt;();\n    params.put(&quot;oauth_consumer_key&quot;, new String[] { consumerKey });\n    params.put(&quot;oauth_token&quot;, new String[] { tokenKey });\n    params.put(&quot;oauth_nonce&quot;, new String[] { nonce });\n    params.put(&quot;oauth_timestamp&quot;, new String[] { timestamp });\n    params.put(&quot;oauth_signature_method&quot;, new String[] { signatureMethod });\n    params.put(&quot;oauth_version&quot;, new String[] { version });\n\n    // for (String param : (getParams + &quot;&amp;&quot; + postParams).split(&quot;&amp;&quot;)) {\n    for (String param : (getParams).split(&quot;&amp;&quot;)) {\n        if (!param.isEmpty()) {\n            String[] parsed = param.split(&quot;=&quot;);\n            String key = URLDecoder.decode(parsed[0], &quot;UTF-8&quot;);\n            String value = parsed.length &gt; 1 ? URLDecoder.decode(parsed[1], &quot;UTF-8&quot;) : &quot;&quot;;\n            if (params.containsKey(key)) {\n                String[] oldValues = params.get(key);\n                String[] newValues = Arrays.copyOf(oldValues, oldValues.length + 1);\n                newValues[oldValues.length] = value;\n                params.put(key, newValues);\n            } else {\n                params.put(key, new String[] { value });\n            }\n        }\n    }\n\n    // all parameters must be sorted in alphabetical order\n    Object[] keys = params.keySet().toArray();\n    Arrays.sort(keys);\n\n    String paramString = &quot;&quot;;\n    for (Object key : keys) {\n        String[] valueArray = params.get(key);\n        Arrays.sort(valueArray);\n        for (String value : valueArray) {\n            paramString += URLEncoder.encode((String) key, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(value, &quot;UTF-8&quot;) + &quot;&amp;&quot;;\n        }\n    }\n    paramString = paramString.substring(0, paramString.length() - 1);\n    baseString += URLEncoder.encode(paramString, &quot;UTF-8&quot;);\n    return baseString;\n}\n</code></pre>\n"}],"owner":{"account_id":15312215,"reputation":25,"user_id":11047173,"display_name":"Andrew D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681485266,"creation_date":1679401417,"question_id":75801171,"body_markdown":"I&#39;m currently integrating with NetSuite. I am building a Node.JS integration using the token-based authentication flow. \r\n\r\nFollowing the documentation, they give a series of examples for generating the base string, key, etc. I am using the provided values in a set of unit tests confirming my program correctly generates these as I compare against what the documentation provides.\r\n\r\nHere is my issue: given a base string and key which match what the documentation says they should be, when passed in to the HMAC SHA256 hashing algorithm, my output differs. I need a sanity check, is my code correct and their documentation wrong? Or am I missing something. Regardless, I am still receiving invalid credentials, so something is wrong somewhere, regardless of whether this is correct.\r\n\r\nPassing tests here:\r\n```\r\nit(&quot;Generates a base string&quot;, () =&gt; {\r\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\r\n    expect(baseString).toEqual(__docBaseString);\r\n  });\r\n\r\n\r\n\r\n  it(&quot;Generates a key&quot;, () =&gt; {\r\n    const key = shared.exportsForTest.genKey(__testConfig);\r\n    expect(key).toEqual(__docKey);\r\n  });\r\n```\r\nFailing test here:\r\n```\r\n  it(&quot;Generates a signature&quot;, () =&gt; {\r\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\r\n    const key = shared.exportsForTest.genKey(__testConfig);\r\n    const signature = shared.exportsForTest.genSignature({\r\n      baseString,\r\n      key\r\n    });\r\n    expect(signature).toEqual(__docSignature);\r\n  });\r\n```\r\n\r\nDefinition for __genBaseString:\r\n```\r\nfunction __genBaseString(config: INetSuiteConfig, nonce: string, timestamp: DateTime) {\r\n  return _.join([\r\n    config.accountId,\r\n    config.consumerKey,\r\n    config.tokenId,\r\n    nonce,\r\n    timestamp.toUnixInteger() // Timestamp as epoch time.\r\n  ], &#39;&amp;&#39;);\r\n}\r\n```\r\n\r\nDefinition for __genKey:\r\n```\r\nfunction __genKey(config: INetSuiteConfig) {\r\n  return _.join([\r\n    config.consumerSecret,\r\n    config.tokenSecret\r\n  ], &#39;&amp;&#39;);\r\n}\r\n```\r\n\r\nDefinition for `__genSignature`:\r\n```\r\nfunction __genSignature({\r\n  baseString, key\r\n}: {\r\n  baseString: string;\r\n  key: string;\r\n}) {\r\n  const keyAsBytes = Buffer.from(key, &#39;utf-8&#39;);\r\n  const baseStringAsBytes = Buffer.from(baseString, &#39;utf-8&#39;);\r\n\r\n  const hash = crypto.createHmac(&#39;sha256&#39;, keyAsBytes)\r\n    .update(baseStringAsBytes)\r\n    .digest();\r\n\r\n  return hash.toString(&#39;base64&#39;);\r\n}\r\n```\r\n\r\nI&#39;ve also debugged this line by line. The base string and key match the documentation inside the `__genSignature` call.\r\n\r\nMy program outputs `FCghIZqXNetuZY8ILWOFH0ucdfzQOmAuL+q+kF21zPs=` for the signature, whereas the docs output is `fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=`\r\n\r\nBelow are the test values from the documentation. Note that these are public values provided in the docs, and in this context are not sensitive.\r\n\r\n```\r\nconst __testConfig: shared.INetSuiteConfig = {\r\n  accountId: &#39;1234567&#39;,\r\n  applicationId: &#39;&#39;,\r\n  consumerKey: &#39;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&#39;,\r\n  consumerSecret: &#39;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&#39;,\r\n  tokenId: &#39;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&#39;,\r\n  tokenSecret: &#39;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&#39;\r\n};\r\n\r\nconst __docBaseString =\r\n&#39;1234567&amp;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&amp;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&amp;6obMKq0tmY8ylVOdEkA1&amp;1439829974&#39;;\r\nconst __docKey = &#39;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&amp;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&#39;;\r\nconst __docNonce = &#39;6obMKq0tmY8ylVOdEkA1&#39;;\r\nconst __docSignature = &#39;fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=&#39;;\r\nconst __docTimestamp = DateTime.fromSeconds(1439829974);\r\n```\r\n\r\nI&#39;ve also written the program in Java, as that is what the documentation uses as examples. I wanted to eliminate any platform specific encoding issues, handling of strings etc. My Java program outputs the same signature as my node implementation:\r\n\r\n```\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nclass SignatureTestProgram {\r\n\r\n  public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException {\r\n    SignatureTestProgram hello = new SignatureTestProgram();\r\n    String signature = hello.computeShaHash(\r\n      hello.getBaseString(),\r\n      hello.getKey(),\r\n      &quot;HmacSHA256&quot;\r\n    );\r\n    System.out.println(signature);\r\n  }\r\n\r\n\r\n\r\n  public String getBaseString() {\r\n    return &quot;1234567&quot; + // account\r\n      &quot;&amp;&quot; +\r\n      &quot;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&quot; + // consumer key\r\n      &quot;&amp;&quot; +\r\n      &quot;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&quot; + // token\r\n      &quot;&amp;&quot; +\r\n      &quot;6obMKq0tmY8ylVOdEkA1&quot; + // nonce\r\n      &quot;&amp;&quot; +\r\n      &quot;1439829974&quot;; // timestamp\r\n  }\r\n\r\n\r\n\r\n  public String getKey() {\r\n    return &quot;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&quot; + // consumer secret\r\n      &quot;&amp;&quot; +\r\n      &quot;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&quot;; // token secret\r\n  }\r\n\r\n\r\n\r\n  public String computeShaHash(String baseString, String key, String algorithm) throws NoSuchAlgorithmException, InvalidKeyException {\r\n    byte[] bytes = key.getBytes();\r\n    SecretKeySpec mySigningKey = new SecretKeySpec(bytes, algorithm);\r\n    Mac messageAuthenticationCode = Mac.getInstance(algorithm);\r\n    messageAuthenticationCode.init(mySigningKey);\r\n    byte[] hash = messageAuthenticationCode.doFinal(baseString.getBytes());\r\n    return new String(java.util.Base64.getEncoder().encode(hash));\r\n  }\r\n}\r\n```","title":"NetSuite - Signature generation differs from documentation (SOAP Web Services API)","body":"<p>I'm currently integrating with NetSuite. I am building a Node.JS integration using the token-based authentication flow.</p>\n<p>Following the documentation, they give a series of examples for generating the base string, key, etc. I am using the provided values in a set of unit tests confirming my program correctly generates these as I compare against what the documentation provides.</p>\n<p>Here is my issue: given a base string and key which match what the documentation says they should be, when passed in to the HMAC SHA256 hashing algorithm, my output differs. I need a sanity check, is my code correct and their documentation wrong? Or am I missing something. Regardless, I am still receiving invalid credentials, so something is wrong somewhere, regardless of whether this is correct.</p>\n<p>Passing tests here:</p>\n<pre><code>it(&quot;Generates a base string&quot;, () =&gt; {\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\n    expect(baseString).toEqual(__docBaseString);\n  });\n\n\n\n  it(&quot;Generates a key&quot;, () =&gt; {\n    const key = shared.exportsForTest.genKey(__testConfig);\n    expect(key).toEqual(__docKey);\n  });\n</code></pre>\n<p>Failing test here:</p>\n<pre><code>  it(&quot;Generates a signature&quot;, () =&gt; {\n    const baseString = shared.exportsForTest.genBaseString(__testConfig, __docNonce, __docTimestamp);\n    const key = shared.exportsForTest.genKey(__testConfig);\n    const signature = shared.exportsForTest.genSignature({\n      baseString,\n      key\n    });\n    expect(signature).toEqual(__docSignature);\n  });\n</code></pre>\n<p>Definition for __genBaseString:</p>\n<pre><code>function __genBaseString(config: INetSuiteConfig, nonce: string, timestamp: DateTime) {\n  return _.join([\n    config.accountId,\n    config.consumerKey,\n    config.tokenId,\n    nonce,\n    timestamp.toUnixInteger() // Timestamp as epoch time.\n  ], '&amp;');\n}\n</code></pre>\n<p>Definition for __genKey:</p>\n<pre><code>function __genKey(config: INetSuiteConfig) {\n  return _.join([\n    config.consumerSecret,\n    config.tokenSecret\n  ], '&amp;');\n}\n</code></pre>\n<p>Definition for <code>__genSignature</code>:</p>\n<pre><code>function __genSignature({\n  baseString, key\n}: {\n  baseString: string;\n  key: string;\n}) {\n  const keyAsBytes = Buffer.from(key, 'utf-8');\n  const baseStringAsBytes = Buffer.from(baseString, 'utf-8');\n\n  const hash = crypto.createHmac('sha256', keyAsBytes)\n    .update(baseStringAsBytes)\n    .digest();\n\n  return hash.toString('base64');\n}\n</code></pre>\n<p>I've also debugged this line by line. The base string and key match the documentation inside the <code>__genSignature</code> call.</p>\n<p>My program outputs <code>FCghIZqXNetuZY8ILWOFH0ucdfzQOmAuL+q+kF21zPs=</code> for the signature, whereas the docs output is <code>fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=</code></p>\n<p>Below are the test values from the documentation. Note that these are public values provided in the docs, and in this context are not sensitive.</p>\n<pre><code>const __testConfig: shared.INetSuiteConfig = {\n  accountId: '1234567',\n  applicationId: '',\n  consumerKey: '71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4',\n  consumerSecret: '7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd',\n  tokenId: '89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82',\n  tokenSecret: '060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2'\n};\n\nconst __docBaseString =\n'1234567&amp;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&amp;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&amp;6obMKq0tmY8ylVOdEkA1&amp;1439829974';\nconst __docKey = '7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&amp;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2';\nconst __docNonce = '6obMKq0tmY8ylVOdEkA1';\nconst __docSignature = 'fzGxUBu6SZvGqv5hk8P4ou2DPthSxXtJ4zJIeCBQK5A=';\nconst __docTimestamp = DateTime.fromSeconds(1439829974);\n</code></pre>\n<p>I've also written the program in Java, as that is what the documentation uses as examples. I wanted to eliminate any platform specific encoding issues, handling of strings etc. My Java program outputs the same signature as my node implementation:</p>\n<pre><code>import java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\nclass SignatureTestProgram {\n\n  public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException {\n    SignatureTestProgram hello = new SignatureTestProgram();\n    String signature = hello.computeShaHash(\n      hello.getBaseString(),\n      hello.getKey(),\n      &quot;HmacSHA256&quot;\n    );\n    System.out.println(signature);\n  }\n\n\n\n  public String getBaseString() {\n    return &quot;1234567&quot; + // account\n      &quot;&amp;&quot; +\n      &quot;71cc02b731f05895561ef0862d71553a3ac99498a947c3b7beaf4a1e4a29f7c4&quot; + // consumer key\n      &quot;&amp;&quot; +\n      &quot;89e08d9767c5ac85b374415725567d05b54ecf0960ad2470894a52f741020d82&quot; + // token\n      &quot;&amp;&quot; +\n      &quot;6obMKq0tmY8ylVOdEkA1&quot; + // nonce\n      &quot;&amp;&quot; +\n      &quot;1439829974&quot;; // timestamp\n  }\n\n\n\n  public String getKey() {\n    return &quot;7278da58caf07f5c336301a601203d10a58e948efa280f0618e25fcee1ef2abd&quot; + // consumer secret\n      &quot;&amp;&quot; +\n      &quot;060cd9ab3ffbbe1e3d3918e90165ffd37ab12acc76b4691046e2d29c7d7674c2&quot;; // token secret\n  }\n\n\n\n  public String computeShaHash(String baseString, String key, String algorithm) throws NoSuchAlgorithmException, InvalidKeyException {\n    byte[] bytes = key.getBytes();\n    SecretKeySpec mySigningKey = new SecretKeySpec(bytes, algorithm);\n    Mac messageAuthenticationCode = Mac.getInstance(algorithm);\n    messageAuthenticationCode.init(mySigningKey);\n    byte[] hash = messageAuthenticationCode.doFinal(baseString.getBytes());\n    return new String(java.util.Base64.getEncoder().encode(hash));\n  }\n}\n</code></pre>\n"},{"tags":["java","json","amazon-web-services","spring-boot","aws-api-gateway"],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681485213,"creation_date":1681485213,"question_id":76016584,"body_markdown":"I am working on allowing my Java Spring Boot Lambda application to call the ApiGatewayClient in order to getUsage information for my various API keys. The problem is that the data comes back without the API key name *and* without the queried dates. I have crafted a solution that works, but it is quite verbose and I am sure there is a more efficient and elegant way to achieve the same task.\r\n\r\nexample API call:  ```myapi/getUsage?startDate=2023-03-31&amp;endDate=2023-04-04```\r\n\r\nSo, I am trying to turn the following response: \r\n```\r\n{\r\n  &quot;1barly5j0m&quot;: [\r\n    [16664, 0],\r\n    [281, 0],\r\n    [209, 0],\r\n    [16448, 0],\r\n    [15004, 0]\r\n  ],\r\n  &quot;2foo8fk3jb&quot;: [\r\n    [52, 0],\r\n    [301, 0],\r\n    [262, 0],\r\n    [190, 0],\r\n    [349, 0]\r\n  ],\r\n  &quot;3bar9utjr1&quot;: [\r\n    [1773, 0],\r\n    [14779, 0],\r\n    [13994, 0],\r\n    [12448, 0],\r\n    [14208, 0]\r\n  ]\r\n}\r\n```\r\nInto a JSON responseEntity like this: \r\n```\r\n{\r\n  &quot;Agents&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;16664&quot;,\r\n      &quot;2023-04-01&quot;: &quot;281&quot;,\r\n      &quot;2023-04-02&quot;: &quot;209&quot;,\r\n      &quot;2023-04-03&quot;: &quot;16448&quot;,\r\n      &quot;2023-04-04&quot;: &quot;15004&quot;\r\n    },\r\n    &quot;id&quot;: &quot;1barly5j0m&quot;\r\n  },\r\n  &quot;Supervisors&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;52&quot;,\r\n      &quot;2023-04-01&quot;: &quot;301&quot;,\r\n      &quot;2023-04-02&quot;: &quot;262&quot;,\r\n      &quot;2023-04-03&quot;: &quot;190&quot;,\r\n      &quot;2023-04-04&quot;: &quot;349&quot;\r\n    },\r\n    &quot;id&quot;: &quot;2foo8fk3jb&quot;\r\n  },\r\n  &quot;Customers&quot;: {\r\n    &quot;usage&quot;: {\r\n      &quot;2023-03-31&quot;: &quot;1773&quot;,\r\n      &quot;2023-04-01&quot;: &quot;14779&quot;,\r\n      &quot;2023-04-02&quot;: &quot;13994&quot;,\r\n      &quot;2023-04-03&quot;: &quot;12448&quot;,\r\n      &quot;2023-04-04&quot;: &quot;14208&quot;\r\n    },\r\n    &quot;id&quot;: &quot;3bar9utjr1&quot;\r\n  }\r\n}\r\n```\r\n\r\n**Requirements:** \r\n\r\n 1. Map the Key ID to proper Key Name\r\n 2. Map usage value to date (we are not using quotas so only the first number matters)\r\n 3. Dates must be sorted (I know, I know, JSON is an unordered collection, but they **can** be ordered!) \r\n\r\n\r\n----------\r\n## Current Implementation ##\r\n\r\n```\r\npackage com.contactAPI.service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.deplayer.aws.ApiGatewayConfig;\r\n\r\nimport software.amazon.awssdk.services.apigateway.ApiGatewayClient;\r\nimport software.amazon.awssdk.services.apigateway.model.BadRequestException;\r\nimport software.amazon.awssdk.services.apigateway.model.GetUsageRequest;\r\nimport software.amazon.awssdk.services.apigateway.model.GetUsageResponse;\r\n\r\n@Service\r\npublic class AWSService {\r\n\r\n\tprivate ApiGatewayClient apiGateway;\r\n\r\n\tpublic ResponseEntity&lt;Object&gt; getAllUsage(String startDate, String endDate) {\r\n\t\tResponseEntity&lt;Object&gt; responseEntity;\r\n\t\tapiGateway = ApiGatewayConfig.getApiGatewayClient();\r\n\t\tJSONObject outputObj = new JSONObject();\r\n\t\tGetUsageRequest request = GetUsageRequest.builder()\r\n\t\t\t\t.usagePlanId(&quot;myplanid&quot;)\r\n\t\t\t\t.startDate(startDate)\r\n\t\t\t\t.endDate(endDate)\r\n\t\t\t\t.build();\r\n\t\ttry {\r\n\t\t\tGetUsageResponse response = apiGateway.getUsage(request);\r\n\t\t\tif (!response.items().isEmpty()) {\r\n\t\t\t\toutputObj = outputBuilder(response, startDate);\r\n\t\t\t\tresponseEntity = new ResponseEntity&lt;&gt;(outputObj.toString(), HttpStatus.OK);\r\n\t\t\t} else {\r\n\t\t\t\tresponseEntity = new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\t\t\t}\r\n\t\t} catch (BadRequestException ex) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t\treturn responseEntity;\r\n\t}\r\n\r\n\tprivate JSONObject outputBuilder(GetUsageResponse response, String startDate) \r\n\t\t\tthrows JSONException {\r\n\t\tJSONObject outputObj = new JSONObject();\r\n\t\tfor (Map.Entry&lt;String, List&lt;List&lt;Long&gt;&gt;&gt; entry : response.items().entrySet()) {\r\n\t\t\tJSONObject tempObj = new JSONObject();\r\n\t\t\tswitch (entry.getKey()) {\r\n\t\t\tcase &quot;1barly5j0m&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;1barly5j0m&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Agents&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\tcase &quot;2foo8fk3jb&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;2foo8fk3jb&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Supervisors&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\tcase &quot;3bar9utjr1&quot;:\r\n\t\t\t    tempObj.put(&quot;id&quot;, &quot;3bar9utjr1&quot;);\r\n\t\t\t    tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\r\n\t\t\t    outputObj.put(&quot;Customers&quot;, tempObj);\r\n\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn outputObj;\r\n\t}\r\n\r\n\tprivate JSONObject getDateValues(List&lt;List&lt;Long&gt;&gt; list, String startDate) {\r\n\t\tLinkedHashMap&lt;String, String&gt; dateMap = new LinkedHashMap&lt;String, String&gt;();\r\n\t\tint count = 0;\r\n\t\tfor (List&lt;Long&gt; arr : list) {\r\n\t\t\tString usageValue = arr.get(0).toString();\r\n\t\t\tString newDate = LocalDate.parse(startDate).plusDays(count).toString();\r\n\t\t\tdateMap.put(newDate, usageValue);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tJSONObject orderedJson = new JSONObject(dateMap);\r\n\t\treturn orderedJson;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n----------\r\n## QUESTION ##\r\n\r\nThe big issue that I see is that I have 10 API keys, so it feels like the hard coded switch case is a bit much. Is there a better way to do that? \r\n\r\nShould I be using while(Iterator.hasNext()) instead of the for-each loop with count variable? \r\n\r\nAny other improvements you can see? \r\n\r\n\r\n----------\r\n\r\n**NOTE:**\r\nFor ordered org.json.JSONObject, version 20080701 has a constructor that uses the type of Map you give it rather than later implementations that only use HashMap. So in this case, I am providing a LinkedHashMap, and so &quot;orderedJson&quot; maintains the insertion order when creating the JSONObject. \r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20080701&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n","title":"Efficiency in maping AWS API Gateway GetUsageResponse to add API name and Dates","body":"<p>I am working on allowing my Java Spring Boot Lambda application to call the ApiGatewayClient in order to getUsage information for my various API keys. The problem is that the data comes back without the API key name <em>and</em> without the queried dates. I have crafted a solution that works, but it is quite verbose and I am sure there is a more efficient and elegant way to achieve the same task.</p>\n<p>example API call:  <code>myapi/getUsage?startDate=2023-03-31&amp;endDate=2023-04-04</code></p>\n<p>So, I am trying to turn the following response:</p>\n<pre><code>{\n  &quot;1barly5j0m&quot;: [\n    [16664, 0],\n    [281, 0],\n    [209, 0],\n    [16448, 0],\n    [15004, 0]\n  ],\n  &quot;2foo8fk3jb&quot;: [\n    [52, 0],\n    [301, 0],\n    [262, 0],\n    [190, 0],\n    [349, 0]\n  ],\n  &quot;3bar9utjr1&quot;: [\n    [1773, 0],\n    [14779, 0],\n    [13994, 0],\n    [12448, 0],\n    [14208, 0]\n  ]\n}\n</code></pre>\n<p>Into a JSON responseEntity like this:</p>\n<pre><code>{\n  &quot;Agents&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;16664&quot;,\n      &quot;2023-04-01&quot;: &quot;281&quot;,\n      &quot;2023-04-02&quot;: &quot;209&quot;,\n      &quot;2023-04-03&quot;: &quot;16448&quot;,\n      &quot;2023-04-04&quot;: &quot;15004&quot;\n    },\n    &quot;id&quot;: &quot;1barly5j0m&quot;\n  },\n  &quot;Supervisors&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;52&quot;,\n      &quot;2023-04-01&quot;: &quot;301&quot;,\n      &quot;2023-04-02&quot;: &quot;262&quot;,\n      &quot;2023-04-03&quot;: &quot;190&quot;,\n      &quot;2023-04-04&quot;: &quot;349&quot;\n    },\n    &quot;id&quot;: &quot;2foo8fk3jb&quot;\n  },\n  &quot;Customers&quot;: {\n    &quot;usage&quot;: {\n      &quot;2023-03-31&quot;: &quot;1773&quot;,\n      &quot;2023-04-01&quot;: &quot;14779&quot;,\n      &quot;2023-04-02&quot;: &quot;13994&quot;,\n      &quot;2023-04-03&quot;: &quot;12448&quot;,\n      &quot;2023-04-04&quot;: &quot;14208&quot;\n    },\n    &quot;id&quot;: &quot;3bar9utjr1&quot;\n  }\n}\n</code></pre>\n<p><strong>Requirements:</strong></p>\n<ol>\n<li>Map the Key ID to proper Key Name</li>\n<li>Map usage value to date (we are not using quotas so only the first number matters)</li>\n<li>Dates must be sorted (I know, I know, JSON is an unordered collection, but they <strong>can</strong> be ordered!)</li>\n</ol>\n<hr />\n<h2>Current Implementation</h2>\n<pre><code>package com.contactAPI.service;\n\nimport java.time.LocalDate;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\n\nimport com.deplayer.aws.ApiGatewayConfig;\n\nimport software.amazon.awssdk.services.apigateway.ApiGatewayClient;\nimport software.amazon.awssdk.services.apigateway.model.BadRequestException;\nimport software.amazon.awssdk.services.apigateway.model.GetUsageRequest;\nimport software.amazon.awssdk.services.apigateway.model.GetUsageResponse;\n\n@Service\npublic class AWSService {\n\n    private ApiGatewayClient apiGateway;\n\n    public ResponseEntity&lt;Object&gt; getAllUsage(String startDate, String endDate) {\n        ResponseEntity&lt;Object&gt; responseEntity;\n        apiGateway = ApiGatewayConfig.getApiGatewayClient();\n        JSONObject outputObj = new JSONObject();\n        GetUsageRequest request = GetUsageRequest.builder()\n                .usagePlanId(&quot;myplanid&quot;)\n                .startDate(startDate)\n                .endDate(endDate)\n                .build();\n        try {\n            GetUsageResponse response = apiGateway.getUsage(request);\n            if (!response.items().isEmpty()) {\n                outputObj = outputBuilder(response, startDate);\n                responseEntity = new ResponseEntity&lt;&gt;(outputObj.toString(), HttpStatus.OK);\n            } else {\n                responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n            }\n        } catch (BadRequestException ex) {\n            return new ResponseEntity&lt;&gt;(ex.getMessage(), HttpStatus.BAD_REQUEST);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return responseEntity;\n    }\n\n    private JSONObject outputBuilder(GetUsageResponse response, String startDate) \n            throws JSONException {\n        JSONObject outputObj = new JSONObject();\n        for (Map.Entry&lt;String, List&lt;List&lt;Long&gt;&gt;&gt; entry : response.items().entrySet()) {\n            JSONObject tempObj = new JSONObject();\n            switch (entry.getKey()) {\n            case &quot;1barly5j0m&quot;:\n                tempObj.put(&quot;id&quot;, &quot;1barly5j0m&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Agents&quot;, tempObj);\n            break;\n            case &quot;2foo8fk3jb&quot;:\n                tempObj.put(&quot;id&quot;, &quot;2foo8fk3jb&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Supervisors&quot;, tempObj);\n            break;\n            case &quot;3bar9utjr1&quot;:\n                tempObj.put(&quot;id&quot;, &quot;3bar9utjr1&quot;);\n                tempObj.put(&quot;usage&quot;, getDateValues(entry.getValue(), startDate));\n                outputObj.put(&quot;Customers&quot;, tempObj);\n            break;\n            }\n        }\n        return outputObj;\n    }\n\n    private JSONObject getDateValues(List&lt;List&lt;Long&gt;&gt; list, String startDate) {\n        LinkedHashMap&lt;String, String&gt; dateMap = new LinkedHashMap&lt;String, String&gt;();\n        int count = 0;\n        for (List&lt;Long&gt; arr : list) {\n            String usageValue = arr.get(0).toString();\n            String newDate = LocalDate.parse(startDate).plusDays(count).toString();\n            dateMap.put(newDate, usageValue);\n            count++;\n        }\n        JSONObject orderedJson = new JSONObject(dateMap);\n        return orderedJson;\n    }\n\n}\n</code></pre>\n<hr />\n<h2>QUESTION</h2>\n<p>The big issue that I see is that I have 10 API keys, so it feels like the hard coded switch case is a bit much. Is there a better way to do that?</p>\n<p>Should I be using while(Iterator.hasNext()) instead of the for-each loop with count variable?</p>\n<p>Any other improvements you can see?</p>\n<hr />\n<p><strong>NOTE:</strong>\nFor ordered org.json.JSONObject, version 20080701 has a constructor that uses the type of Map you give it rather than later implementations that only use HashMap. So in this case, I am providing a LinkedHashMap, and so &quot;orderedJson&quot; maintains the insertion order when creating the JSONObject.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20080701&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","slf4j","kafka-producer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1539893094,"post_id":52880915,"comment_id":92676958,"body_markdown":"slf4j is only a facade to a real logging framework. For example, Kafka brokers use Log4J, so you need to find the configurations for this Camuda thing and figure out how to tune the log levels/packages from there. Alternatively, in Maven, for example, you can exclude sl4jj from the kafka-clients library","body":"slf4j is only a facade to a real logging framework. For example, Kafka brokers use Log4J, so you need to find the configurations for this Camuda thing and figure out how to tune the log levels/packages from there. Alternatively, in Maven, for example, you can exclude sl4jj from the kafka-clients library"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1539956963,"post_id":52880915,"comment_id":92700060,"body_markdown":"I&#39;m not really sure which applied to your use case, but feel free to show a solution you came up with below","body":"I&#39;m not really sure which applied to your use case, but feel free to show a solution you came up with below"},{"owner":{"account_id":7006182,"reputation":2025,"user_id":5370480,"display_name":"Dean Jain"},"score":0,"creation_date":1592287173,"post_id":52880915,"comment_id":110363086,"body_markdown":"Here is my Answer to completely disable kafka logging: https://stackoverflow.com/a/62401824/5370480","body":"Here is my Answer to completely disable kafka logging: <a href=\"https://stackoverflow.com/a/62401824/5370480\">stackoverflow.com/a/62401824/5370480</a>"}],"answers":[{"tags":[],"owner":{"account_id":13186125,"reputation":371,"user_id":9524145,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539963950,"creation_date":1539963950,"answer_id":52895820,"question_id":52880915,"body_markdown":"The approach to disable SFL4J-Logger for the Maven dependency on apache Kafka worked fine for me. I changed my pom file as follows:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n        \t&lt;exclusion&gt;\r\n          \t  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          \t  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        \t&lt;/exclusion&gt;\r\n      \t &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Disable SLF4J Logging in apache Kafka","body":"<p>The approach to disable SFL4J-Logger for the Maven dependency on apache Kafka worked fine for me. I changed my pom file as follows:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n     &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13186125,"reputation":371,"user_id":9524145,"display_name":"Leon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52895820,"answer_count":1,"score":2,"last_activity_date":1681485124,"creation_date":1539889589,"question_id":52880915,"body_markdown":"i have a problem with logging SLF4J at Apache Kafka. I want to use Tomcats Servlet Container Catalina in connection with Apache Kafka. My Java application has to be integrated into a BPM process from Camunda. The integration of Java coding worked so far also - without the integration of an Apache Kafka Producer.  If I integrate this into a Camunda process I get this error:\r\n\r\n    java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of java/net/URLClassLoader) for the method&#39;s defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\r\n\tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:418)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\r\n\tat org.apache.kafka.clients.CommonClientConfigs.&lt;clinit&gt;(CommonClientConfigs.java:32)\r\n\tat org.apache.kafka.clients.producer.ProducerConfig.&lt;clinit&gt;(ProducerConfig.java:305)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:304)\r\n\r\nAs far as I understand the error, Camunda and Apache Kafka are trying to call the SLF4J logger, aren&#39;t they?\r\nBut in my case I need the Camunda logger. So I would like to disable Apache Kafka logging to work around the problem.\r\nSo far my simple Kafka Producer looks like this:\r\n\r\n```\r\nString topicName = &quot;camunda&quot;;\r\nString test = &quot;test123&quot;;\r\nProperties props = new Properties();\r\nprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\r\nprops.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nprops.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\t\t        \r\nProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\r\nProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,test);\r\nproducer.send(record);\r\nproducer.close();\r\n```\r\n\r\nis there a way to solve this problem?  Unfortunately, I couldn&#39;t find any entries on how to disable the Kafka Logger, or is the problem somewhere else?\r\n\r\nMany thanks in advance","title":"Disable SLF4J Logging in apache Kafka","body":"<p>i have a problem with logging SLF4J at Apache Kafka. I want to use Tomcats Servlet Container Catalina in connection with Apache Kafka. My Java application has to be integrated into a BPM process from Camunda. The integration of Java coding worked so far also - without the integration of an Apache Kafka Producer.  If I integrate this into a Camunda process I get this error:</p>\n<pre><code>java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.getLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/catalina/loader/ParallelWebappClassLoader) of the current class, org/slf4j/LoggerFactory, and the class loader (instance of java/net/URLClassLoader) for the method's defining class, org/slf4j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature\nat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:418)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\nat org.apache.kafka.clients.CommonClientConfigs.&lt;clinit&gt;(CommonClientConfigs.java:32)\nat org.apache.kafka.clients.producer.ProducerConfig.&lt;clinit&gt;(ProducerConfig.java:305)\nat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:304)\n</code></pre>\n<p>As far as I understand the error, Camunda and Apache Kafka are trying to call the SLF4J logger, aren't they?\nBut in my case I need the Camunda logger. So I would like to disable Apache Kafka logging to work around the problem.\nSo far my simple Kafka Producer looks like this:</p>\n<pre><code>String topicName = &quot;camunda&quot;;\nString test = &quot;test123&quot;;\nProperties props = new Properties();\nprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092,localhost:9093&quot;);\nprops.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nprops.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n                \nProducer&lt;String, String&gt; producer = new KafkaProducer &lt;&gt;(props);\nProducerRecord&lt;String, String&gt; record = new ProducerRecord&lt;&gt;(topicName,test);\nproducer.send(record);\nproducer.close();\n</code></pre>\n<p>is there a way to solve this problem?  Unfortunately, I couldn't find any entries on how to disable the Kafka Logger, or is the problem somewhere else?</p>\n<p>Many thanks in advance</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681486650,"post_id":76016507,"comment_id":134069410,"body_markdown":"Did you check [this](https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBean.html#setThrowExceptions-boolean-) out?","body":"Did you check <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBean.html#setThrowExceptions-boolean-\" rel=\"nofollow noreferrer\">this</a> out?"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1681488417,"post_id":76016507,"comment_id":134069831,"body_markdown":"`then I got an exception which is not caught in my code` - then just catch it, what&#39;s the problem with it? `try { ... } catch (...) { ... }`?","body":"<code>then I got an exception which is not caught in my code</code> - then just catch it, what&#39;s the problem with it? <code>try { ... } catch (...) { ... }</code>?"},{"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"score":0,"creation_date":1681574995,"post_id":76016507,"comment_id":134080130,"body_markdown":"@ursa the exception is not thrown to the user code so I can&#39;t simply catch it.","body":"@ursa the exception is not thrown to the user code so I can&#39;t simply catch it."},{"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"score":0,"creation_date":1681575062,"post_id":76016507,"comment_id":134080138,"body_markdown":"@g00se the malformed exception is an IOException so I can&#39;t use CsvExceptionHandler because it handles CsvException which does not extend IOException","body":"@g00se the malformed exception is an IOException so I can&#39;t use CsvExceptionHandler because it handles CsvException which does not extend IOException"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681578663,"post_id":76016507,"comment_id":134080615,"body_markdown":"I think we need to see a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) We also need to know what input you&#39;re supplying that&#39;s giving you an `IOException`","body":"I think we need to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> We also need to know what input you&#39;re supplying that&#39;s giving you an <code>IOException</code>"}],"owner":{"account_id":18218,"reputation":1105,"user_id":41572,"accept_rate":52,"display_name":"semantic-dev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681484675,"creation_date":1681484675,"question_id":76016507,"body_markdown":"we are using OpenCSV java library 5.7.0 and we are using the following piece of code to create the builder and then read the CSV line by line:\r\n\r\n\t        CsvToBean&lt;Protocollo&gt; cb = new CsvToBeanBuilder(reader)\r\n\t         .withType(Bean.class)\r\n\t         .withSeparator(&#39;,&#39;)\r\n\t         .withSkipLines(1)\r\n\t         .build();\r\n\t        \r\n\t\t\twhile(it.hasNext()) {\r\n\t\t\t\tBean b = it.next();\r\n            }\r\n\r\nbut then I noticed if any malformed line happens then I got an exception which is not catched in my code. I would like to catch this kind of exception and log it accordingly.\r\n\r\nmany thanks\r\n","title":"OpenCSV how to get malformed line with CsvToBeanBuilder","body":"<p>we are using OpenCSV java library 5.7.0 and we are using the following piece of code to create the builder and then read the CSV line by line:</p>\n<pre><code>        CsvToBean&lt;Protocollo&gt; cb = new CsvToBeanBuilder(reader)\n         .withType(Bean.class)\n         .withSeparator(',')\n         .withSkipLines(1)\n         .build();\n        \n        while(it.hasNext()) {\n            Bean b = it.next();\n        }\n</code></pre>\n<p>but then I noticed if any malformed line happens then I got an exception which is not catched in my code. I would like to catch this kind of exception and log it accordingly.</p>\n<p>many thanks</p>\n"},{"tags":["java","jar","jenkins-pipeline","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681483337,"post_id":76016158,"comment_id":134068490,"body_markdown":"There&#39;s no real mystery about dependencies. It&#39;s just a question of making sure they are all in the classpath. One caution: if you do `java -jar foo.jar`, you are telling java that *all* dependencies are in the jar mentioned. If you have multiple jars, you must not use `-jar` but need to use `-cp`. Your error message suggests that you made an executable jar OK, but specified your main class incorrectly","body":"There&#39;s no real mystery about dependencies. It&#39;s just a question of making sure they are all in the classpath. One caution: if you do <code>java -jar foo.jar</code>, you are telling java that <i>all</i> dependencies are in the jar mentioned. If you have multiple jars, you must not use <code>-jar</code> but need to use <code>-cp</code>. Your error message suggests that you made an executable jar OK, but specified your main class incorrectly"},{"owner":{"account_id":19958042,"reputation":1,"user_id":21643407,"display_name":"Serega Ilushenko"},"score":0,"creation_date":1681490093,"post_id":76016158,"comment_id":134070273,"body_markdown":"@g00se I didn&#39;t get you. How can I add all dependencies to my .jar if this is the external library? Also with -cp, I do not have a path to the library. Or did I do something wrong?","body":"@g00se I didn&#39;t get you. How can I add all dependencies to my .jar if this is the external library? Also with -cp, I do not have a path to the library. Or did I do something wrong?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681495420,"post_id":76016158,"comment_id":134071386,"body_markdown":"*How can I add all dependencies to my .jar if this is the external library?* You would use a so-called &#39;fat jar&#39;. *Also with -cp, I do not have a path to the library* Sorry, I don&#39;t understand. Of course, you *must* have a path, and specify it","body":"<i>How can I add all dependencies to my .jar if this is the external library?</i> You would use a so-called &#39;fat jar&#39;. <i>Also with -cp, I do not have a path to the library</i> Sorry, I don&#39;t understand. Of course, you <i>must</i> have a path, and specify it"}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681484376,"creation_date":1681484376,"answer_id":76016456,"question_id":76016158,"body_markdown":"Extract your `test.jar` and open `META-INF/MANIFEST.MF` in a text editor. If there is an entry `Class-Path` in the `MANIFEST.MF` file, make sure all the dependencies listed in the `Class-Path` entry are available in the locations specified in the entry (`Class-Path` entries are relative to the location of `test.jar`).\r\nWith all dependencies in place, you should be able to run your application with `java -jar [path to test.jar]`.\r\n\r\nIf there is no `Class-Path` entry, you need to track down the dependencies of your jar in some other way. Put all those dependencies in a directory of your choice. (A `lib` subdirectory in the directory that contains the `test.jar` is usually considered a good choice.) Then run your application using\r\n```\r\njava -cp &lt;classpath&gt; &lt;main class name&gt;\r\n```\r\nE.g. suppose there are two dependencies `dep1.jar` and `dep2.jar` and the qualified class name of your main class is `com.yourcompany.Main`, then the command for Linux would be\r\n```\r\njava -cp test.jar:lib/dep1.jar:lib/dep2.jar com.yourcompany.Main\r\n```\r\nand for Windows\r\n```\r\njava -cp test.jar;lib\\dep1.jar;lib\\dep2.jar com.yourcompany.Main\r\n```\r\nBoth examples assume that you run the `java` command in the directory that contains `test.jar`.\r\n\r\nIf you need to use the same command on Linux and Windows, you need to rebundle `test.jar` such that its `META-INF/MANIFEST.MF` has a `Class-Path` entry (and a `Main-Class` entry).","title":"Run java class with command line with dependencies","body":"<p>Extract your <code>test.jar</code> and open <code>META-INF/MANIFEST.MF</code> in a text editor. If there is an entry <code>Class-Path</code> in the <code>MANIFEST.MF</code> file, make sure all the dependencies listed in the <code>Class-Path</code> entry are available in the locations specified in the entry (<code>Class-Path</code> entries are relative to the location of <code>test.jar</code>).\nWith all dependencies in place, you should be able to run your application with <code>java -jar [path to test.jar]</code>.</p>\n<p>If there is no <code>Class-Path</code> entry, you need to track down the dependencies of your jar in some other way. Put all those dependencies in a directory of your choice. (A <code>lib</code> subdirectory in the directory that contains the <code>test.jar</code> is usually considered a good choice.) Then run your application using</p>\n<pre><code>java -cp &lt;classpath&gt; &lt;main class name&gt;\n</code></pre>\n<p>E.g. suppose there are two dependencies <code>dep1.jar</code> and <code>dep2.jar</code> and the qualified class name of your main class is <code>com.yourcompany.Main</code>, then the command for Linux would be</p>\n<pre><code>java -cp test.jar:lib/dep1.jar:lib/dep2.jar com.yourcompany.Main\n</code></pre>\n<p>and for Windows</p>\n<pre><code>java -cp test.jar;lib\\dep1.jar;lib\\dep2.jar com.yourcompany.Main\n</code></pre>\n<p>Both examples assume that you run the <code>java</code> command in the directory that contains <code>test.jar</code>.</p>\n<p>If you need to use the same command on Linux and Windows, you need to rebundle <code>test.jar</code> such that its <code>META-INF/MANIFEST.MF</code> has a <code>Class-Path</code> entry (and a <code>Main-Class</code> entry).</p>\n"}],"owner":{"account_id":19958042,"reputation":1,"user_id":21643407,"display_name":"Serega Ilushenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681484376,"creation_date":1681482502,"question_id":76016158,"body_markdown":"I have a java class that uses some external lib. It runs a powershell script and does some stuff after that.\r\nI want to run the script with Jenkinsfile, and local env via IntelliJ, so the command should be universal for Linux and Windows.\r\nHow can I execute a command line to run it? \r\n\r\nSome things that I&#39;ve tried: I have created a artifact and tried to execute it by java -jar but nothing \r\n`java -jar ./out/artifacts/test_jar/test.jar`\r\nI got this\r\n```\r\nError: Could not find or load main class APITestRunner\r\nCaused by: java.lang.ClassNotFoundException: APITestRunner\r\n```\r\nAlso I have tried with javac but got an error\r\n`error: package my.package does not exist`\r\nI have a big root so whould be nice to see any -cp exapmles.\r\nIs that doable? :D","title":"Run java class with command line with dependencies","body":"<p>I have a java class that uses some external lib. It runs a powershell script and does some stuff after that.\nI want to run the script with Jenkinsfile, and local env via IntelliJ, so the command should be universal for Linux and Windows.\nHow can I execute a command line to run it?</p>\n<p>Some things that I've tried: I have created a artifact and tried to execute it by java -jar but nothing\n<code>java -jar ./out/artifacts/test_jar/test.jar</code>\nI got this</p>\n<pre><code>Error: Could not find or load main class APITestRunner\nCaused by: java.lang.ClassNotFoundException: APITestRunner\n</code></pre>\n<p>Also I have tried with javac but got an error\n<code>error: package my.package does not exist</code>\nI have a big root so whould be nice to see any -cp exapmles.\nIs that doable? :D</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1681481628,"post_id":76015999,"comment_id":134068020,"body_markdown":"what&#39;s your point? conflict between what? where?","body":"what&#39;s your point? conflict between what? where?"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1681481748,"post_id":76015999,"comment_id":134068064,"body_markdown":"There should be no conflict based on this, each query is carried by a uniquely associated thread with its own data model.","body":"There should be no conflict based on this, each query is carried by a uniquely associated thread with its own data model."},{"owner":{"account_id":27971586,"reputation":49,"user_id":21361197,"display_name":"xdd"},"score":0,"creation_date":1681481960,"post_id":76015999,"comment_id":134068126,"body_markdown":"@alainlompo can you explain me when to use modelattribute because i can store data in session","body":"@alainlompo can you explain me when to use modelattribute because i can store data in session"}],"owner":{"account_id":27971586,"reputation":49,"user_id":21361197,"display_name":"xdd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681484355,"creation_date":1681481465,"question_id":76015999,"body_markdown":"```java\r\n@ModelAttribute\r\npublic void addAttributes(Model model) {\r\n    System.out.println(&quot;M&#233;thode addAttributes appel&#233;e&quot;);\r\n    model.addAttribute(&quot;Person&quot;, new Person(test,test,123));\r\n}\r\n```\r\n\r\nIf two client Login in same time may conflict happen or no?","title":"is there any conflict in ModelAttribute","body":"<pre class=\"lang-java prettyprint-override\"><code>@ModelAttribute\npublic void addAttributes(Model model) {\n    System.out.println(&quot;Méthode addAttributes appelée&quot;);\n    model.addAttribute(&quot;Person&quot;, new Person(test,test,123));\n}\n</code></pre>\n<p>If two client Login in same time may conflict happen or no?</p>\n"},{"tags":["java","spring-boot","jpa","nullpointerexception"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681470351,"post_id":76014337,"comment_id":134065324,"body_markdown":"ManagerUtil Does not look like a ‘@Component’. How is managerService created? ‘@Autowired’? What are the packages of SpringBootApplication, ManagerUtil, managerService.","body":"ManagerUtil Does not look like a ‘@Component’. How is managerService created? ‘@Autowired’? What are the packages of SpringBootApplication, ManagerUtil, managerService."},{"owner":{"account_id":11547989,"reputation":23,"user_id":8461462,"display_name":"desta"},"score":0,"creation_date":1681698251,"post_id":76014337,"comment_id":134093262,"body_markdown":"ManagerUtil is already a &#39;@Component&#39;. @John Williams","body":"ManagerUtil is already a &#39;@Component&#39;. @John Williams"}],"answers":[{"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681473995,"creation_date":1681473995,"answer_id":76014927,"question_id":76014337,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m6zk4.png\r\n\r\nTry to change mappedBy with &quot;manager&quot; .\r\n\r\nThanks\r\n","title":"java - Unable to evaluate the children renderer expression Method threw &#39;java.lang.NullPointerException&#39; exception. Why it happened?","body":"<p><a href=\"https://i.stack.imgur.com/m6zk4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m6zk4.png\" alt=\"enter image description here\" /></a></p>\n<p>Try to change mappedBy with &quot;manager&quot; .</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":11547989,"reputation":23,"user_id":8461462,"display_name":"desta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681484339,"creation_date":1681469471,"question_id":76014337,"body_markdown":"I&#39;m working with a legacy code using jpa. I came accross this issue when getting the PersistentSet of EmployeeMaster Entity\r\n\r\n[![enter image description here](https://i.stack.imgur.com/PYpWD.png)](https://i.stack.imgur.com/PYpWD.png)\r\n\r\nthis is the entity that have relation to the EmployeeMaster and produce the error\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;manager&quot;)\r\npublic class Manager implements java.io.Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -542406941672446211L;\r\n\tprivate Set&lt;EmployeeMaster&gt; employeeMasters = new HashSet&lt;&gt;(0);\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;manager&quot;, cascade = CascadeType.ALL)\r\n\t@JsonBackReference(value = &quot;employeeMasters&quot;)\r\n\tpublic Set&lt;EmployeeMaster&gt; getEmployeeMasters() {\r\n\t\treturn this.employeeMasters;\r\n\t}\r\n.\r\n.\r\n.\r\n}\r\n```\r\n\r\nthis is my EmployeeMaster entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;employee_master&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { &quot;COMPANY_EMPLOYEE_ID&quot; }))\r\npublic class EmployeeMaster implements java.io.Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -4956994622541532935L;\r\n\tprivate Integer employeeMasterId;\r\n\tprivate Manager manager;\r\n        \r\n.\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;manager_id&quot;)\r\n\t@JsonIgnore\r\n\tpublic Manager getManager() {\r\n\t\treturn this.manager;\r\n\t}\r\n\r\n\tpublic void setManager(Manager manager ) {\r\n\t\tthis.manager = manager;\r\n\t}\r\n       .\r\n       .\r\n       .\r\n}\r\n```\r\n\r\nAnd this is the method that call the getEmployeeMasters() that produce the error\r\n\r\n```\r\npublic ManagerEmployeesResponseModel buildResponses() {\r\n        List&lt;Manager&gt; managers = managerService.getAllEntities();\r\n        if (!ObjectUtils.isEmpty(managers)) {\r\n\t        for (Manager manager: managers) {\r\n\t               Set&lt;EmployeeMaster&gt; employeeMasters = manager.getEmployeeMasters();\r\n        .\r\n        .\r\n        .\r\n```\r\n\r\nThe error in the console only shows NPE\r\n\r\n&gt; java.lang.NullPointerException: null\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.openTemporarySessionForLoading(AbstractPersistentCollection.java:298)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\r\n&gt; at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n&gt; at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)\r\n&gt; at com.compcloud.core.util.rest.management.ManagerUtil.buildResponses(ManagerUtil.java:176)\r\n\r\nI need to know why is this happens and how to fix this","title":"java - Unable to evaluate the children renderer expression Method threw &#39;java.lang.NullPointerException&#39; exception. Why it happened?","body":"<p>I'm working with a legacy code using jpa. I came accross this issue when getting the PersistentSet of EmployeeMaster Entity</p>\n<p><a href=\"https://i.stack.imgur.com/PYpWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYpWD.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the entity that have relation to the EmployeeMaster and produce the error</p>\n<pre><code>@Entity\n@Table(name = &quot;manager&quot;)\npublic class Manager implements java.io.Serializable {\n\n    private static final long serialVersionUID = -542406941672446211L;\n    private Set&lt;EmployeeMaster&gt; employeeMasters = new HashSet&lt;&gt;(0);\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;manager&quot;, cascade = CascadeType.ALL)\n    @JsonBackReference(value = &quot;employeeMasters&quot;)\n    public Set&lt;EmployeeMaster&gt; getEmployeeMasters() {\n        return this.employeeMasters;\n    }\n.\n.\n.\n}\n</code></pre>\n<p>this is my EmployeeMaster entity</p>\n<pre><code>@Entity\n@Table(name = &quot;employee_master&quot;, uniqueConstraints = @UniqueConstraint(columnNames = { &quot;COMPANY_EMPLOYEE_ID&quot; }))\npublic class EmployeeMaster implements java.io.Serializable {\n\n    private static final long serialVersionUID = -4956994622541532935L;\n    private Integer employeeMasterId;\n    private Manager manager;\n        \n.\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;manager_id&quot;)\n    @JsonIgnore\n    public Manager getManager() {\n        return this.manager;\n    }\n\n    public void setManager(Manager manager ) {\n        this.manager = manager;\n    }\n       .\n       .\n       .\n}\n</code></pre>\n<p>And this is the method that call the getEmployeeMasters() that produce the error</p>\n<pre><code>public ManagerEmployeesResponseModel buildResponses() {\n        List&lt;Manager&gt; managers = managerService.getAllEntities();\n        if (!ObjectUtils.isEmpty(managers)) {\n            for (Manager manager: managers) {\n                   Set&lt;EmployeeMaster&gt; employeeMasters = manager.getEmployeeMasters();\n        .\n        .\n        .\n</code></pre>\n<p>The error in the console only shows NPE</p>\n<blockquote>\n<p>java.lang.NullPointerException: null\nat org.hibernate.collection.internal.AbstractPersistentCollection.openTemporarySessionForLoading(AbstractPersistentCollection.java:298)\nat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215)\nat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:591)\nat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\nat org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:188)\nat com.compcloud.core.util.rest.management.ManagerUtil.buildResponses(ManagerUtil.java:176)</p>\n</blockquote>\n<p>I need to know why is this happens and how to fix this</p>\n"},{"tags":["java","udp","jsse","dtls"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1513849964,"post_id":47920596,"comment_id":82811982,"body_markdown":"Good quest6ion. DTLS isn&#39;t mentioned in the Standard Names page.","body":"Good quest6ion. DTLS isn&#39;t mentioned in the Standard Names page."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1513850834,"post_id":47920596,"comment_id":82812551,"body_markdown":"I think this is a glitch in the website; the docs packages I downloaded several years ago are different here. The table at &#39;Support Classes and Interfaces&#39; halfway down the page correctly shows only SSL3, TLS1, 1.1, 1.2 for 8 and 7, and for 6 the TLS1.1 and 1.2 are only as of 6u111 and 6u121 (i.e. on the paid plan or OpenJDK). Ditto the &#39;standard names&#39; at e.g. https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext et pred.","body":"I think this is a glitch in the website; the docs packages I downloaded several years ago are different here. The table at &#39;Support Classes and Interfaces&#39; halfway down the page correctly shows only SSL3, TLS1, 1.1, 1.2 for 8 and 7, and for 6 the TLS1.1 and 1.2 are only as of 6u111 and 6u121 (i.e. on the paid plan or OpenJDK). Ditto the &#39;standard names&#39; at e.g. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a> et pred."}],"answers":[{"tags":[],"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1513850666,"creation_date":1513850666,"answer_id":47922451,"question_id":47920596,"body_markdown":"The doc is right and you get an Exception because there is no DTLS protocol :\r\n[https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext][1]\r\n\r\nChoosing DTLS comes at the moment of creating the socket, as it will be one of TCP or datagram types. As beginning, it will look like :\r\n\r\n    DatagramSocket s = new DatagramSocket();\r\n    ...\r\n    \r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.0&quot;, &quot;SunJSSE&quot;);\r\n    sslContext.init(null, yourSSLTrustManager, null);\r\n    \r\n    SSLSocketFactory factory = (SSLSocketFactory)sslContext.getSocketFactory();\r\n    SSLSocket daSocket = (SSLSocket) factory.createSocket(s, host, port, false);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext","title":"Is there a DTLS implementation in JSSE","body":"<p>The doc is right and you get an Exception because there is no DTLS protocol :\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#SSLContext</a></p>\n\n<p>Choosing DTLS comes at the moment of creating the socket, as it will be one of TCP or datagram types. As beginning, it will look like :</p>\n\n<pre><code>DatagramSocket s = new DatagramSocket();\n...\n\nfinal SSLContext sslContext = SSLContext.getInstance(\"TLSv1.0\", \"SunJSSE\");\nsslContext.init(null, yourSSLTrustManager, null);\n\nSSLSocketFactory factory = (SSLSocketFactory)sslContext.getSocketFactory();\nSSLSocket daSocket = (SSLSocket) factory.createSocket(s, host, port, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202323,"reputation":12075,"user_id":1172714,"display_name":"dsh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564610985,"creation_date":1520361924,"answer_id":49137915,"question_id":47920596,"body_markdown":"DTLS is present in JavaSE 9:  [SSLContext Algorithm Names][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#sslcontext-algorithms","title":"Is there a DTLS implementation in JSSE","body":"<p>DTLS is present in JavaSE 9:  <a href=\"https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#sslcontext-algorithms\" rel=\"nofollow noreferrer\">SSLContext Algorithm Names</a></p>\n"},{"tags":[],"owner":{"account_id":7980906,"reputation":161,"user_id":6113801,"display_name":"mifritscher"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565885185,"creation_date":1565885185,"answer_id":57512677,"question_id":47920596,"body_markdown":"You can use https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java (or https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java , its the same)\r\n\r\nFor the person which killed my previous answer because of the links: Even if the link breaks this is no problem - because at looking at the link you&#39;ll see with ease that DTLSOverDatagram is part of the official open-jdk 11 tests - so even if the link vanishes you can easily find other sources.\r\n\r\nWhile these are tests for the DTLS implementation, with little refactoring this can be used as a base for DTLS over (udp-) datagrams. For both client and server - in fact, they are almost the same.\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>You can use <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java</a> (or <a href=\"https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java\" rel=\"noreferrer\">https://github.com/twosigma/OpenJDK/blob/master/test/jdk/javax/net/ssl/DTLS/DTLSOverDatagram.java</a> , its the same)</p>\n\n<p>For the person which killed my previous answer because of the links: Even if the link breaks this is no problem - because at looking at the link you'll see with ease that DTLSOverDatagram is part of the official open-jdk 11 tests - so even if the link vanishes you can easily find other sources.</p>\n\n<p>While these are tests for the DTLS implementation, with little refactoring this can be used as a base for DTLS over (udp-) datagrams. For both client and server - in fact, they are almost the same.</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679926937,"creation_date":1679926937,"answer_id":75856896,"question_id":47920596,"body_markdown":"Bases on the sample from JDK and many try and error I have written the follow code which works in my use case:\r\n\r\n    public static final int      MAXIMUM_PACKET_SIZE = 1500;\r\n    private final DatagramSocket socket;\r\n    private final SSLEngine      engine;\r\n\r\n    public DtlsSocket( @Nonnull DatagramSocket socket, KeyManager km, TrustManager tm, boolean isClient ) {\r\n        try {\r\n            this.socket = socket;\r\n\r\n            SSLContext sslCtx = SSLContext.getInstance( &quot;DTLS&quot; );\r\n            KeyManager[] kms = { km };\r\n            TrustManager[] tms = { tm };\r\n            sslCtx.init( kms, tms, null );\r\n            engine = sslCtx.createSSLEngine();\r\n            engine.setNeedClientAuth( true );\r\n\r\n            engine.setUseClientMode( isClient );\r\n            SSLParameters paras = engine.getSSLParameters();\r\n            paras.setMaximumPacketSize( MAXIMUM_PACKET_SIZE );\r\n            engine.setSSLParameters( paras );\r\n\r\n            engine.beginHandshake();\r\n\r\n            byte[] receiveBytes = new byte[MAXIMUM_PACKET_SIZE];\r\n            DatagramPacket receivePacket = new DatagramPacket( receiveBytes, 0, MAXIMUM_PACKET_SIZE );\r\n            ByteBuffer receiveBuffer = ByteBuffer.wrap( receiveBytes );\r\n            receiveBuffer.limit( 0 );\r\n\r\n            ByteBuffer emptyBuffer = ByteBuffer.allocate( 0 );\r\n\r\n            byte[] sendData = new byte[32768];\r\n            DatagramPacket sendPacket = new DatagramPacket( sendData, 0, 32768 );\r\n            ByteBuffer sendBuffer = ByteBuffer.wrap( sendData );\r\n\r\n            while( true ) {\r\n                SSLEngineResult.HandshakeStatus hs = engine.getHandshakeStatus();\r\n                switch( hs ) {\r\n                    case NEED_UNWRAP:\r\n                    case NEED_UNWRAP_AGAIN:\r\n                        if( !receiveBuffer.hasRemaining() &amp;&amp; hs != SSLEngineResult.HandshakeStatus.NEED_UNWRAP_AGAIN ) {\r\n                            socket.receive( receivePacket );\r\n                            receiveBuffer.position( 0 );\r\n                            receiveBuffer.limit( receivePacket.getLength() );\r\n                        }\r\n                        checkStatus( engine.unwrap( receiveBuffer, emptyBuffer ) );\r\n                        break;\r\n                    case NEED_WRAP:\r\n                        checkStatus( engine.wrap( emptyBuffer, sendBuffer.clear() ) );\r\n                        sendPacket.setLength( sendBuffer.position() );\r\n                        socket.send( sendPacket );\r\n                        break;\r\n                    case NEED_TASK:\r\n                        Runnable runnable;\r\n                        while( (runnable = engine.getDelegatedTask()) != null ) {\r\n                            runnable.run();\r\n                        }\r\n                        break;\r\n                    case NOT_HANDSHAKING:\r\n                        return;\r\n                    default:\r\n                        // should never occur\r\n                        throw new SSLException( &quot;handshake error &quot; + hs );\r\n                }\r\n            }\r\n        } catch( Exception ex ) {\r\n            throw ErrorCode.throwAny( ex );\r\n        }\r\n    }\r\n\r\n    private void checkStatus( SSLEngineResult engineResult ) throws IOException {\r\n        if( engineResult.getStatus() != SSLEngineResult.Status.OK ) {\r\n            throw new SSLException( &quot;handshake error &quot; + engineResult.getStatus() + &quot; with handshake state &quot; + engineResult.getHandshakeStatus() );\r\n        }\r\n    }\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>Bases on the sample from JDK and many try and error I have written the follow code which works in my use case:</p>\n<pre><code>public static final int      MAXIMUM_PACKET_SIZE = 1500;\nprivate final DatagramSocket socket;\nprivate final SSLEngine      engine;\n\npublic DtlsSocket( @Nonnull DatagramSocket socket, KeyManager km, TrustManager tm, boolean isClient ) {\n    try {\n        this.socket = socket;\n\n        SSLContext sslCtx = SSLContext.getInstance( &quot;DTLS&quot; );\n        KeyManager[] kms = { km };\n        TrustManager[] tms = { tm };\n        sslCtx.init( kms, tms, null );\n        engine = sslCtx.createSSLEngine();\n        engine.setNeedClientAuth( true );\n\n        engine.setUseClientMode( isClient );\n        SSLParameters paras = engine.getSSLParameters();\n        paras.setMaximumPacketSize( MAXIMUM_PACKET_SIZE );\n        engine.setSSLParameters( paras );\n\n        engine.beginHandshake();\n\n        byte[] receiveBytes = new byte[MAXIMUM_PACKET_SIZE];\n        DatagramPacket receivePacket = new DatagramPacket( receiveBytes, 0, MAXIMUM_PACKET_SIZE );\n        ByteBuffer receiveBuffer = ByteBuffer.wrap( receiveBytes );\n        receiveBuffer.limit( 0 );\n\n        ByteBuffer emptyBuffer = ByteBuffer.allocate( 0 );\n\n        byte[] sendData = new byte[32768];\n        DatagramPacket sendPacket = new DatagramPacket( sendData, 0, 32768 );\n        ByteBuffer sendBuffer = ByteBuffer.wrap( sendData );\n\n        while( true ) {\n            SSLEngineResult.HandshakeStatus hs = engine.getHandshakeStatus();\n            switch( hs ) {\n                case NEED_UNWRAP:\n                case NEED_UNWRAP_AGAIN:\n                    if( !receiveBuffer.hasRemaining() &amp;&amp; hs != SSLEngineResult.HandshakeStatus.NEED_UNWRAP_AGAIN ) {\n                        socket.receive( receivePacket );\n                        receiveBuffer.position( 0 );\n                        receiveBuffer.limit( receivePacket.getLength() );\n                    }\n                    checkStatus( engine.unwrap( receiveBuffer, emptyBuffer ) );\n                    break;\n                case NEED_WRAP:\n                    checkStatus( engine.wrap( emptyBuffer, sendBuffer.clear() ) );\n                    sendPacket.setLength( sendBuffer.position() );\n                    socket.send( sendPacket );\n                    break;\n                case NEED_TASK:\n                    Runnable runnable;\n                    while( (runnable = engine.getDelegatedTask()) != null ) {\n                        runnable.run();\n                    }\n                    break;\n                case NOT_HANDSHAKING:\n                    return;\n                default:\n                    // should never occur\n                    throw new SSLException( &quot;handshake error &quot; + hs );\n            }\n        }\n    } catch( Exception ex ) {\n        throw ErrorCode.throwAny( ex );\n    }\n}\n\nprivate void checkStatus( SSLEngineResult engineResult ) throws IOException {\n    if( engineResult.getStatus() != SSLEngineResult.Status.OK ) {\n        throw new SSLException( &quot;handshake error &quot; + engineResult.getStatus() + &quot; with handshake state &quot; + engineResult.getHandshakeStatus() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476725,"reputation":131,"user_id":887784,"display_name":"szymex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681483320,"creation_date":1681483320,"answer_id":76016304,"question_id":47920596,"body_markdown":"Another option is to use DTLS from native library like mbedtls. \r\nHere is a library that exposes kotlin (java compatible) API: https://github.com/open-coap/kotlin-mbedtls.","title":"Is there a DTLS implementation in JSSE","body":"<p>Another option is to use DTLS from native library like mbedtls.\nHere is a library that exposes kotlin (java compatible) API: <a href=\"https://github.com/open-coap/kotlin-mbedtls\" rel=\"nofollow noreferrer\">https://github.com/open-coap/kotlin-mbedtls</a>.</p>\n"}],"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5833,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47922451,"answer_count":5,"score":4,"last_activity_date":1681483320,"creation_date":1513843849,"question_id":47920596,"body_markdown":"I want to implement a DTLS 1.0 client in Java and after *googling* a bit I found that the [JSSERefGuide][1] says the following:\r\n\r\n&gt; The JSSE API is capable of supporting SSL versions 2.0 and 3.0 and TLS\r\n&gt; version 1.0. These security protocols encapsulate a normal\r\n&gt; bidirectional stream socket, and the JSSE API adds transparent support\r\n&gt; for authentication, encryption, and integrity protection. **The JSSE\r\n&gt; implementation shipped with the JDK supports SSL 3.0, TLS (1.0, 1.1,\r\n&gt; and 1.2) and DTLS (version 1.0 and 1.2).** It does not implement SSL\r\n&gt; 2.0.\r\n\r\nSo I thought I could implement it in pure Java without using any library (e.g. BouncyCastle)\r\n\r\nBut when I try running (and a few other, like DTLSv1.2, DTLSv1...):\r\n\r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;DTLSv1.0&quot;, &quot;SunJSSE&quot;);\r\n\r\nIt throws:\r\n\r\n    Exception in thread &quot;main&quot; java.security.NoSuchAlgorithmException: no such algorithm: DTLSv1.0 for provider SunJSSE\r\n\tat sun.security.jca.GetInstance.getService(GetInstance.java:87)\r\n\tat sun.security.jca.GetInstance.getInstance(GetInstance.java:206)\r\n\tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:199)\r\n\r\nwhile for example the following works:\r\n\r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;, &quot;SunJSSE&quot;);\r\n\r\nListing all Security Providers I find no DTLS stuff at all.\r\n\r\nSo is there actually a DTLS implementation? And if so how are you supposed to use it? \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html\r\n","title":"Is there a DTLS implementation in JSSE","body":"<p>I want to implement a DTLS 1.0 client in Java and after <em>googling</em> a bit I found that the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html\" rel=\"nofollow noreferrer\">JSSERefGuide</a> says the following:</p>\n\n<blockquote>\n  <p>The JSSE API is capable of supporting SSL versions 2.0 and 3.0 and TLS\n  version 1.0. These security protocols encapsulate a normal\n  bidirectional stream socket, and the JSSE API adds transparent support\n  for authentication, encryption, and integrity protection. <strong>The JSSE\n  implementation shipped with the JDK supports SSL 3.0, TLS (1.0, 1.1,\n  and 1.2) and DTLS (version 1.0 and 1.2).</strong> It does not implement SSL\n  2.0.</p>\n</blockquote>\n\n<p>So I thought I could implement it in pure Java without using any library (e.g. BouncyCastle)</p>\n\n<p>But when I try running (and a few other, like DTLSv1.2, DTLSv1...):</p>\n\n<pre><code>final SSLContext sslContext = SSLContext.getInstance(\"DTLSv1.0\", \"SunJSSE\");\n</code></pre>\n\n<p>It throws:</p>\n\n<pre><code>Exception in thread \"main\" java.security.NoSuchAlgorithmException: no such algorithm: DTLSv1.0 for provider SunJSSE\nat sun.security.jca.GetInstance.getService(GetInstance.java:87)\nat sun.security.jca.GetInstance.getInstance(GetInstance.java:206)\nat javax.net.ssl.SSLContext.getInstance(SSLContext.java:199)\n</code></pre>\n\n<p>while for example the following works:</p>\n\n<pre><code>final SSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\", \"SunJSSE\");\n</code></pre>\n\n<p>Listing all Security Providers I find no DTLS stuff at all.</p>\n\n<p>So is there actually a DTLS implementation? And if so how are you supposed to use it? </p>\n"},{"tags":["java","file","nio"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681473681,"post_id":76014873,"comment_id":134066045,"body_markdown":"what does file1.createNewFile(); return?","body":"what does file1.createNewFile(); return?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681473754,"post_id":76014873,"comment_id":134066066,"body_markdown":"does this line actually compile? File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);","body":"does this line actually compile? File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1681473849,"post_id":76014873,"comment_id":134066097,"body_markdown":"You cannot. There is no `src/main/resources` at runtime as that is the classpath and you cannot modify the classpath. So even if this would work in your IDE, it would fail in your actual application and start throwing exceptions. Use the tmp directory or a directory outside of the classpath instead.","body":"You cannot. There is no <code>src&#47;main&#47;resources</code> at runtime as that is the classpath and you cannot modify the classpath. So even if this would work in your IDE, it would fail in your actual application and start throwing exceptions. Use the tmp directory or a directory outside of the classpath instead."},{"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"score":0,"creation_date":1681474057,"post_id":76014873,"comment_id":134066148,"body_markdown":"try to create complete folder structure and then try your code.","body":"try to create complete folder structure and then try your code."},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474302,"post_id":76014873,"comment_id":134066220,"body_markdown":"Stultuske,  it return false","body":"Stultuske,  it return false"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474404,"post_id":76014873,"comment_id":134066243,"body_markdown":"Sachin Kumar, I don&#39;t understand you clearly. Do you mean, I should create folder &quot;local&quot; in resources first, and then create files ?","body":"Sachin Kumar, I don&#39;t understand you clearly. Do you mean, I should create folder &quot;local&quot; in resources first, and then create files ?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1681474695,"post_id":76014873,"comment_id":134066316,"body_markdown":"M.Deinum, you mean, I need to create new folder in the root of my project ?","body":"M.Deinum, you mean, I need to create new folder in the root of my project ?"},{"owner":{"account_id":8131790,"reputation":4798,"user_id":6124796,"accept_rate":69,"display_name":"Mayday"},"score":0,"creation_date":1681474805,"post_id":76014873,"comment_id":134066339,"body_markdown":"I guess getting the `new File(&quot;src/main/resources/&quot;) ` is not found, therefor, is useless to get absolute path from there. Try writing directly the full path, and if it works, try to get the current working dir, and carry on from there","body":"I guess getting the <code>new File(&quot;src&#47;main&#47;resources&#47;&quot;) </code> is not found, therefor, is useless to get absolute path from there. Try writing directly the full path, and if it works, try to get the current working dir, and carry on from there"},{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1681475034,"post_id":76014873,"comment_id":134066399,"body_markdown":"Why are you not using NIO `Files.createFile()` instead?","body":"Why are you not using NIO <code>Files.createFile()</code> instead?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681479648,"post_id":76014873,"comment_id":134067516,"body_markdown":"As people have already correctly said, you shouldn&#39;t be using any paths which are particular to your project/IDE. When your app is properly packaged, you cannot know from where it will be run. You therefore need to use a directory off `java.io.tmpdir` or `user.home`. Moreover, resources are read-only, so why are you writing to a resource location at all?","body":"As people have already correctly said, you shouldn&#39;t be using any paths which are particular to your project/IDE. When your app is properly packaged, you cannot know from where it will be run. You therefore need to use a directory off <code>java.io.tmpdir</code> or <code>user.home</code>. Moreover, resources are read-only, so why are you writing to a resource location at all?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681483273,"creation_date":1681483273,"answer_id":76016301,"question_id":76014873,"body_markdown":"A program should *never* attempt to modify itself.\r\n\r\n* The `src/main/resources` directory is called “source” for a reason.  Source code is compiled into a separate program.  The program only contains the executable program (class files and data), not the source.\r\n* Java programs are distributed as .jar files (or jlink’d images made from .jar files).  A .jar file is **one file,** specifically an archive file, and its individual entries are not files and are not writable.\r\n\r\nIn summary:  when other people run your code, there is nothing you can modify.\r\n\r\nThe correct way to persist user data is to write it to a [known location](https://stackoverflow.com/questions/35388882/find-place-for-dedicated-application-folder), usually somewhere under the user’s home directory.\r\n\r\nIt is perfectly acceptable to keep *read-only default data* bundled with your application, which gets used if the file in the user’s known location isn’t found.\r\n","title":"Create new file in resource directory","body":"<p>A program should <em>never</em> attempt to modify itself.</p>\n<ul>\n<li>The <code>src/main/resources</code> directory is called “source” for a reason.  Source code is compiled into a separate program.  The program only contains the executable program (class files and data), not the source.</li>\n<li>Java programs are distributed as .jar files (or jlink’d images made from .jar files).  A .jar file is <strong>one file,</strong> specifically an archive file, and its individual entries are not files and are not writable.</li>\n</ul>\n<p>In summary:  when other people run your code, there is nothing you can modify.</p>\n<p>The correct way to persist user data is to write it to a <a href=\"https://stackoverflow.com/questions/35388882/find-place-for-dedicated-application-folder\">known location</a>, usually somewhere under the user’s home directory.</p>\n<p>It is perfectly acceptable to keep <em>read-only default data</em> bundled with your application, which gets used if the file in the user’s known location isn’t found.</p>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681483273,"creation_date":1681473599,"question_id":76014873,"body_markdown":"The task is to create a new file in the existing resource folder (named &quot;local&quot;, for example)\r\n\r\n      File file1 = new File(&quot;src/main/resources/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\r\n      file1.createNewFile();\r\n\r\nBut nothing is created. And no exception is thrown.\r\n\r\nI tried also create, by using absolute path. \r\n\r\n     File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\r\n      file1.createNewFile();\r\n\r\nBut with the same result.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n   ","title":"Create new file in resource directory","body":"<p>The task is to create a new file in the existing resource folder (named &quot;local&quot;, for example)</p>\n<pre><code>  File file1 = new File(&quot;src/main/resources/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\n  file1.createNewFile();\n</code></pre>\n<p>But nothing is created. And no exception is thrown.</p>\n<p>I tried also create, by using absolute path.</p>\n<pre><code> File file1 = new File(File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;/&quot; + &quot;local&quot; + &quot;/&quot; + &quot;newFile.zip&quot;);\n  file1.createNewFile();\n</code></pre>\n<p>But with the same result.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","excel","charts","itext","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678693034,"post_id":75718499,"comment_id":133575868,"body_markdown":"What Apache POI version used?","body":"What Apache POI version used?"},{"owner":{"account_id":22868957,"reputation":1,"user_id":17012271,"display_name":"Mohamed Khalid"},"score":0,"creation_date":1678764126,"post_id":75718499,"comment_id":133592714,"body_markdown":"Actually i have used two apache versions in different classes like poi-3.17 and poi-5.2.3 but didn&#39;t get anything.","body":"Actually i have used two apache versions in different classes like poi-3.17 and poi-5.2.3 but didn&#39;t get anything."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678769438,"post_id":75718499,"comment_id":133593332,"body_markdown":"[XSSFChart](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFChart.html) -&gt; [XDDFChart.getChartSeries](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChart.html#getChartSeries--) -&gt; [XDDFChartData](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html)","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFChart.html\" rel=\"nofollow noreferrer\">XSSFChart</a> -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChart.html#getChartSeries--\" rel=\"nofollow noreferrer\">XDDFChart.getChartSeries</a> -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html\" rel=\"nofollow noreferrer\">XDDFChartData</a>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1678769451,"post_id":75718499,"comment_id":133593334,"body_markdown":"... then, dependent of what chart data you got, get axes and series -&gt; [XDDFChartData.getCategoryAxis](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getCategoryAxis--), [XDDFChartData.getValueAxes](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getValueAxes--) and  [XDDFChartData.getSeries](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getSeries-int-)","body":"... then, dependent of what chart data you got, get axes and series -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getCategoryAxis--\" rel=\"nofollow noreferrer\">XDDFChartData.getCategoryAxis</a>, <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getValueAxes--\" rel=\"nofollow noreferrer\">XDDFChartData.getValueAxes</a> and  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFChartData.html#getSeries-int-\" rel=\"nofollow noreferrer\">XDDFChartData.getSeries</a>"}],"owner":{"account_id":22868957,"reputation":1,"user_id":17012271,"display_name":"Mohamed Khalid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681483197,"creation_date":1678687612,"question_id":75718499,"body_markdown":"I have an Excel file that has charts.\r\nI want to read that chart and add that charts to pdf using Java.\r\nHow can I do that?\r\n\r\nI tried different classes of apache poi like XSSFChart, and XSSFChartData but didn&#39;t get anything.","title":"How to get chart data from excel file using apache poi in java?","body":"<p>I have an Excel file that has charts.\nI want to read that chart and add that charts to pdf using Java.\nHow can I do that?</p>\n<p>I tried different classes of apache poi like XSSFChart, and XSSFChartData but didn't get anything.</p>\n"},{"tags":["java","spring-webflux","junit5"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1609858321,"post_id":65581067,"comment_id":115949354,"body_markdown":"is it possible for you to share what `sendHttpRequestToSomewhere` does?","body":"is it possible for you to share what <code>sendHttpRequestToSomewhere</code> does?"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1609875337,"post_id":65581067,"comment_id":115957148,"body_markdown":"yup, updated :)","body":"yup, updated :)"}],"answers":[{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609879577,"creation_date":1609879577,"answer_id":65586329,"question_id":65581067,"body_markdown":"I&#39;m not sure why your test is failing, though it looks to me as if the stubbed out exchange filter is not working the way it should. As a result, it is trying to make an api call when it shouldn&#39;t.\r\n\r\nBelow is an example unit test using the same mechanism you have used to stub out a web client call. I can verify this test passes as expected. This may provide some help in working out why your test is having an issue.\r\n\r\n    @Test\r\n    void webClientTest() {\r\n        WebClient webClient = WebClient.builder()\r\n                .exchangeFunction(clientRequest -&gt;\r\n                        Mono.just(ClientResponse.create(HttpStatus.OK)\r\n                                .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                                .body(&quot;test&quot;)\r\n                                .build())\r\n                ).build();\r\n\r\n        Mono&lt;String&gt; stringMono = webClient.mutate().baseUrl(&quot;http://fakeUrl.com&quot;)\r\n                .build()\r\n                .post()\r\n                .body(BodyInserters.fromValue(&quot;abc&quot;))\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n\r\n        StepVerifier.create(stringMono)\r\n                .expectNext(&quot;test&quot;)\r\n                .verifyComplete();\r\n    }","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>I'm not sure why your test is failing, though it looks to me as if the stubbed out exchange filter is not working the way it should. As a result, it is trying to make an api call when it shouldn't.</p>\n<p>Below is an example unit test using the same mechanism you have used to stub out a web client call. I can verify this test passes as expected. This may provide some help in working out why your test is having an issue.</p>\n<pre><code>@Test\nvoid webClientTest() {\n    WebClient webClient = WebClient.builder()\n            .exchangeFunction(clientRequest -&gt;\n                    Mono.just(ClientResponse.create(HttpStatus.OK)\n                            .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                            .body(&quot;test&quot;)\n                            .build())\n            ).build();\n\n    Mono&lt;String&gt; stringMono = webClient.mutate().baseUrl(&quot;http://fakeUrl.com&quot;)\n            .build()\n            .post()\n            .body(BodyInserters.fromValue(&quot;abc&quot;))\n            .retrieve()\n            .bodyToMono(String.class);\n\n    StepVerifier.create(stringMono)\n            .expectNext(&quot;test&quot;)\n            .verifyComplete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138670,"reputation":5671,"user_id":343759,"accept_rate":70,"display_name":"rewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609921879,"creation_date":1609921879,"answer_id":65592487,"question_id":65581067,"body_markdown":"Instead of that, create `WebClient` double that points to a `MockWebServer`.\r\n\r\nSee this post https://www.baeldung.com/spring-mocking-webclient\r\n\r\n`MockWebServer` makes it really ease to stub any responses for testing.\r\n\r\nIf you need to talk to multiple endpoints, it&#39;s common to create a different `WebClient` instance per base URL. That way you wouldn&#39;t be mutating the WebClient in the methods that use it.  Consumers of that WebClient dependency would just specify the path they need to call. So then, when passing in a test double, it would be set up with a base url pointing the MockWebServer and the consuming class (under test) wouldn&#39;t know any different.","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Instead of that, create <code>WebClient</code> double that points to a <code>MockWebServer</code>.</p>\n<p>See this post <a href=\"https://www.baeldung.com/spring-mocking-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mocking-webclient</a></p>\n<p><code>MockWebServer</code> makes it really ease to stub any responses for testing.</p>\n<p>If you need to talk to multiple endpoints, it's common to create a different <code>WebClient</code> instance per base URL. That way you wouldn't be mutating the WebClient in the methods that use it.  Consumers of that WebClient dependency would just specify the path they need to call. So then, when passing in a test double, it would be set up with a base url pointing the MockWebServer and the consuming class (under test) wouldn't know any different.</p>\n"},{"tags":[],"owner":{"account_id":8342762,"reputation":950,"user_id":6267583,"accept_rate":100,"display_name":"morecore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681482738,"creation_date":1681482738,"answer_id":76016202,"question_id":65581067,"body_markdown":"Unrelated to you Problem, but maybe it helps someone that steps into the same trap as I did (although you might know this, as I actually did).\r\n\r\nAs stated in multiple tutorials, you have to pay close attention to the version of `.uri(...)` method you use.\r\n\r\nMore details about the `uri(...)` versions can be found in the Spring API: [WebClient.UriSpec][1]\r\n\r\nIf you use e.g. `.uri(URI)` you are overwriting any URL that you might have specified early (using e.g. `.baseUrl(&quot;http://localhost:8888&quot;)`), so if you just want to **append** a path (e.g. `/my-service/booking`) to your base url you must not use this overloaded method, otherwise you will miss the `host` and/or `port`, hence the above mentioned error message.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri(java.net.URI)","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Unrelated to you Problem, but maybe it helps someone that steps into the same trap as I did (although you might know this, as I actually did).</p>\n<p>As stated in multiple tutorials, you have to pay close attention to the version of <code>.uri(...)</code> method you use.</p>\n<p>More details about the <code>uri(...)</code> versions can be found in the Spring API: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri(java.net.URI)\" rel=\"nofollow noreferrer\">WebClient.UriSpec</a></p>\n<p>If you use e.g. <code>.uri(URI)</code> you are overwriting any URL that you might have specified early (using e.g. <code>.baseUrl(&quot;http://localhost:8888&quot;)</code>), so if you just want to <strong>append</strong> a path (e.g. <code>/my-service/booking</code>) to your base url you must not use this overloaded method, otherwise you will miss the <code>host</code> and/or <code>port</code>, hence the above mentioned error message.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24785,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76016202,"answer_count":3,"score":3,"last_activity_date":1681482738,"creation_date":1609857827,"question_id":65581067,"body_markdown":"Small question on unit test with Junit5 + Spring WebClient please.\r\n\r\nI have a basic ```@Service``` class with an ```@Autowired``` WebClient.\r\n\r\n```\r\n@Autowired private final WebClient webClient;\r\nprivate MyAtServiceClass(WebClient webClient) {\r\n this.webClient = webClient;\r\n}\r\n\r\n    public Mono&lt;MyPojo&gt; sendHttpRequestToSomewhere(String payload) {\r\n        return webClient.mutate().baseUrl(&quot;http://...&quot;).build().post().body(BodyInserters.fromValue(payload)).retrieve().bodyToMono(MyPojo.class);\r\n    }\r\n```\r\nSince I just want to unit test, I am doing some “mock” with the following in my test class:\r\n\r\n```\r\nString payload = getSomeHardedCodedJsonPayload();\r\nWebClient webClient = WebClient.builder()\r\n        .exchangeFunction(clientRequest -&gt;\r\n                Mono.just(ClientResponse.create(HttpStatus.OK)\r\n                        .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                        .body(payload)\r\n                        .build())\r\n        ).build();\r\n\r\nMyAtServiceClass myAtServiceClass     = new MyAtServiceClass(webClient);\r\nMono&lt;MyPojo&gt; mono = myAtServiceClass.sendHttpRequestToSomewhere();\r\nassertEquals(“foo”, mono.block().getFoo());\r\n```\r\n\r\nHowever, when I am running the unit test, expecting it to just return me my dummy, I am getting the connection refused exception below.\r\n\r\nWhat would be the root cause please?\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\r\n\r\n\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ Request to POST /somewhere [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\r\n\t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4046)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n\t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\r\n\t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\r\n\t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\r\n\t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\r\n\t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n\t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:306)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:166)\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:427)\r\n\t\tat reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$5(SimpleDequePool.java:310)\r\n\t\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\r\n\t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\r\n\t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:565)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n\t\tat reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\r\n\t\tat reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\r\n\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n\t\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1703)\r\n\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\t\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\t\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\t\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\t\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nAbove is the entire stack trace.\r\n\r\nThank you","title":"org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80;","body":"<p>Small question on unit test with Junit5 + Spring WebClient please.</p>\n<p>I have a basic <code>@Service</code> class with an <code>@Autowired</code> WebClient.</p>\n<pre><code>@Autowired private final WebClient webClient;\nprivate MyAtServiceClass(WebClient webClient) {\n this.webClient = webClient;\n}\n\n    public Mono&lt;MyPojo&gt; sendHttpRequestToSomewhere(String payload) {\n        return webClient.mutate().baseUrl(&quot;http://...&quot;).build().post().body(BodyInserters.fromValue(payload)).retrieve().bodyToMono(MyPojo.class);\n    }\n</code></pre>\n<p>Since I just want to unit test, I am doing some “mock” with the following in my test class:</p>\n<pre><code>String payload = getSomeHardedCodedJsonPayload();\nWebClient webClient = WebClient.builder()\n        .exchangeFunction(clientRequest -&gt;\n                Mono.just(ClientResponse.create(HttpStatus.OK)\n                        .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                        .body(payload)\n                        .build())\n        ).build();\n\nMyAtServiceClass myAtServiceClass     = new MyAtServiceClass(webClient);\nMono&lt;MyPojo&gt; mono = myAtServiceClass.sendHttpRequestToSomewhere();\nassertEquals(“foo”, mono.block().getFoo());\n</code></pre>\n<p>However, when I am running the unit test, expecting it to just return me my dummy, I am getting the connection refused exception below.</p>\n<p>What would be the root cause please?</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: /0:0:0:0:0:0:0:1:80; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\n\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ Request to POST /somewhere [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:137)\n        at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:70)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4046)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:221)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n        at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n        at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:224)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:273)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:413)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:250)\n        at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491)\n        at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299)\n        at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:97)\n        at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n        at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:189)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect$ClientTransportSubscriber.onError(HttpClientConnect.java:306)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onError(DefaultPooledConnectionProvider.java:166)\n        at reactor.netty.internal.shaded.reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:427)\n        at reactor.netty.internal.shaded.reactor.pool.SimpleDequePool.lambda$drainLoop$5(SimpleDequePool.java:310)\n        at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:189)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnectionAllocator$PooledConnectionInitializer.onError(DefaultPooledConnectionProvider.java:565)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n        at reactor.netty.transport.TransportConnector$MonoChannelPromise.tryFailure(TransportConnector.java:464)\n        at reactor.netty.transport.TransportConnector$MonoChannelPromise$1.tryFailure(TransportConnector.java:515)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1703)\n\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n        at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n        at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n        at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n        at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: /0:0:0:0:0:0:0:1:80\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Above is the entire stack trace.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","compiler-errors","annotations","android-developer-api"],"owner":{"account_id":28305436,"reputation":1,"user_id":21643520,"display_name":"student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681482284,"creation_date":1681482284,"question_id":76016122,"body_markdown":"\r\n```\r\nimport androidx.annotation.AttrRes;  \r\nimport androidx.annotation.ColorInt;\r\nimport androidx.annotation.IntRange;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.UnsupportedAppUsage; \r\n```\r\n\r\nSo these are the lines of the code that are giving me errors.\r\nAttrRes,ColorInt etc. are shown as marked red.\r\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\r\n\r\n```\r\nimplementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\n```\r\n\r\nbut still nothing is working out. I&#39;m a student who is still learning android , it would be helpful if someone helps me to fix this.\r\n\r\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\r\nimplementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\nbut still nothing is working out. I&#39;m a student who is still learning android , it would be helpful if someone helps me to fix this.","title":"Annotation error in my android studio code","body":"<pre><code>import androidx.annotation.AttrRes;  \nimport androidx.annotation.ColorInt;\nimport androidx.annotation.IntRange;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.UnsupportedAppUsage; \n</code></pre>\n<p>So these are the lines of the code that are giving me errors.\nAttrRes,ColorInt etc. are shown as marked red.\nI tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.6.0'\n\n</code></pre>\n<p>but still nothing is working out. I'm a student who is still learning android , it would be helpful if someone helps me to fix this.</p>\n<p>I tried some methods to solve this by checking my SDK, and by using this particular implementation in dependencies:\nimplementation 'androidx.annotation:annotation:1.6.0'</p>\n<p>but still nothing is working out. I'm a student who is still learning android , it would be helpful if someone helps me to fix this.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681461033,"post_id":76012659,"comment_id":134063229,"body_markdown":"Can you share the error/Exception?","body":"Can you share the error/Exception?"}],"answers":[{"tags":[],"owner":{"account_id":1437244,"reputation":1134,"user_id":1358344,"accept_rate":100,"display_name":"Berkay Kirmizioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681459403,"creation_date":1681459403,"answer_id":76012842,"question_id":76012659,"body_markdown":"In some cases, the click action may not work properly due to various reasons, such as the element being obscured by another element, or JavaScript event listeners not being triggered. \r\nIn such cases, you can try using JavaScriptExecutor to perform the click action. In such cases, you can try using JavaScriptExecutor to perform the click action. Here&#39;s an example of how to do that with your current code:\r\n\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.By;\r\n    \r\n    // Assuming &#39;driver&#39; is your initialized WebDriver instance\r\n    WebElement buttonElement = driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));\r\n    \r\n    // Use JavaScriptExecutor to perform the click action\r\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n    jsExecutor.executeScript(&quot;arguments[0].click();&quot;, buttonElement);\r\n\r\n","title":"Selenium Java - Find Element &amp; Click","body":"<p>In some cases, the click action may not work properly due to various reasons, such as the element being obscured by another element, or JavaScript event listeners not being triggered.\nIn such cases, you can try using JavaScriptExecutor to perform the click action. In such cases, you can try using JavaScriptExecutor to perform the click action. Here's an example of how to do that with your current code:</p>\n<pre><code>import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.By;\n\n// Assuming 'driver' is your initialized WebDriver instance\nWebElement buttonElement = driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));\n\n// Use JavaScriptExecutor to perform the click action\nJavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\njsExecutor.executeScript(&quot;arguments[0].click();&quot;, buttonElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681461867,"creation_date":1681461867,"answer_id":76013159,"question_id":76012659,"body_markdown":"The `HTML` you provided, I can see the button you want to click has a class attribute of `tm-button`. So you can try below ways:\r\n\r\n***Using Xpath***\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(@class, &#39;tm-button&#39;)]&quot;)));\r\n    button.click();\r\n\r\n***CSS Selector***\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.tm-button&quot;)));\r\n    button.click();\r\n\r\n***Using className***\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;tm-button&quot;)));\r\n    button.click();\r\n\r\n***Import*** \r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nHope this will solve your issue.","title":"Selenium Java - Find Element &amp; Click","body":"<p>The <code>HTML</code> you provided, I can see the button you want to click has a class attribute of <code>tm-button</code>. So you can try below ways:</p>\n<p><em><strong>Using Xpath</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[contains(@class, 'tm-button')]&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>CSS Selector</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.tm-button&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>Using className</strong></em></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement button = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;tm-button&quot;)));\nbutton.click();\n</code></pre>\n<p><em><strong>Import</strong></em></p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n<p>Hope this will solve your issue.</p>\n"}],"owner":{"account_id":28301919,"reputation":15,"user_id":21640486,"display_name":"Jocken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012842,"answer_count":2,"score":0,"last_activity_date":1681482270,"creation_date":1681457976,"question_id":76012659,"body_markdown":"I am dealing with Selenium-Java.\r\nFor that I need to perform an automatization on a web page.\r\nI am not able to &quot;click&quot; one of the buttons that prevents me from doing further steps.\r\n\r\nThe underlying HTML code is:\r\n\r\n    &lt;div class=&quot;tm-element tm-pb&quot; data-type=&quot;button&quot; data-columns=&quot;1&quot;&gt;\r\n        &lt;div class=&quot;tm-element-inner&quot;&gt;\r\n            &lt;div class=&quot;tm-columns&quot;&gt;\r\n                &lt;div class=&quot;tm-column&quot;&gt;\r\n                    &lt;div class=&quot;tm-button-container&quot;&gt;\r\n                        &lt;a class=&quot;tm-button&quot; data-align=&quot;center&quot;&gt;\r\n                            &lt;div class=&quot;tm-button-label&quot;&gt;\r\n                                &lt;p&gt;Start now&lt;/p&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;span class=&quot;tm-button-icon&quot;&gt;&lt;/span&gt;\r\n                        &lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nI would like to click the Button saying **Start now**.\r\n\r\nI extraced the xpath as well as the css information.\r\nIt seems that I am able to find the element via:\r\n`findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));`\r\n\r\nMoreover, I am not able to use the method `click()`.\r\n\r\nDo you have any experience regarding that?\r\nDo I need to find the button in another way or use another method to click?\r\n\r\nThank you in advance.\r\n\r\nSo far i tried to execute the following code:\r\n`driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;)).click();`","title":"Selenium Java - Find Element &amp; Click","body":"<p>I am dealing with Selenium-Java.\nFor that I need to perform an automatization on a web page.\nI am not able to &quot;click&quot; one of the buttons that prevents me from doing further steps.</p>\n<p>The underlying HTML code is:</p>\n<pre><code>&lt;div class=&quot;tm-element tm-pb&quot; data-type=&quot;button&quot; data-columns=&quot;1&quot;&gt;\n    &lt;div class=&quot;tm-element-inner&quot;&gt;\n        &lt;div class=&quot;tm-columns&quot;&gt;\n            &lt;div class=&quot;tm-column&quot;&gt;\n                &lt;div class=&quot;tm-button-container&quot;&gt;\n                    &lt;a class=&quot;tm-button&quot; data-align=&quot;center&quot;&gt;\n                        &lt;div class=&quot;tm-button-label&quot;&gt;\n                            &lt;p&gt;Start now&lt;/p&gt;\n                        &lt;/div&gt;\n                        &lt;span class=&quot;tm-button-icon&quot;&gt;&lt;/span&gt;\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I would like to click the Button saying <strong>Start now</strong>.</p>\n<p>I extraced the xpath as well as the css information.\nIt seems that I am able to find the element via:\n<code>findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;));</code></p>\n<p>Moreover, I am not able to use the method <code>click()</code>.</p>\n<p>Do you have any experience regarding that?\nDo I need to find the button in another way or use another method to click?</p>\n<p>Thank you in advance.</p>\n<p>So far i tried to execute the following code:\n<code>driver.findElement(By.cssSelector(&quot;.tm-visible &gt; .tm-element .tm-columns .tm-button&quot;)).click();</code></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681481909,"post_id":76015961,"comment_id":134068113,"body_markdown":"If you find yourself casting, it usually means you&#39;re doing something wrong.  There are various ways to avoid needing to cast, but it&#39;s not clear from the question which would be most appropriate here.  Chances are good, however, that the assignment anticipates that you will use one or more techniques that you have been learning about in class.","body":"If you find yourself casting, it usually means you&#39;re doing something wrong.  There are various ways to avoid needing to cast, but it&#39;s not clear from the question which would be most appropriate here.  Chances are good, however, that the assignment anticipates that you will use one or more techniques that you have been learning about in class."},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1681481950,"post_id":76015961,"comment_id":134068124,"body_markdown":"It is a little strange why your &quot;getInstance&quot; method returns &quot;void&quot;?","body":"It is a little strange why your &quot;getInstance&quot; method returns &quot;void&quot;?"},{"owner":{"account_id":28301754,"reputation":3,"user_id":21640346,"display_name":"Dreammcatch"},"score":0,"creation_date":1681482088,"post_id":76015961,"comment_id":134068160,"body_markdown":"@Stone I put void in because I was not sure what needs return type needs to be used. since depending on condition the class name will vary. yeah it would be possible in that scenario","body":"@Stone I put void in because I was not sure what needs return type needs to be used. since depending on condition the class name will vary. yeah it would be possible in that scenario"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1681482868,"post_id":76015961,"comment_id":134068351,"body_markdown":"Is it possible to let the caller decide  Eep or Shop should be used?  If yes, Java has a concept of &quot;overload&quot; and you could change it into two methods. For the return object type, you could design one common parent class or interface if you need.\n`private Eep  getInstance(Eep dd) ` and `private Shop  getInstance(Shop dd) `","body":"Is it possible to let the caller decide  Eep or Shop should be used?  If yes, Java has a concept of &quot;overload&quot; and you could change it into two methods. For the return object type, you could design one common parent class or interface if you need. <code>private Eep  getInstance(Eep dd) </code> and <code>private Shop  getInstance(Shop dd) </code>"}],"answers":[{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681482170,"creation_date":1681481839,"answer_id":76016055,"question_id":76015961,"body_markdown":"In recent versions of Java you can use [JEP 394][1], Pattern Matching for instanceof:\r\n\r\n```Java\r\nprivate void  getInstance(App dd) {\r\nif (dd instanceof Eep e) {\r\n  e.myMethodFromEep();\r\n}\r\nif (dd instanceof Shop s) {\r\n  s.myMethodFromShop();\r\n}\r\n``` \r\n\r\nThis eliminates the need for casting. It&#39;s still verbose with all those `if`. Furthermore, it smells of bad design if you have a method that does different things depending on the actual type of a parameter via `instanceof`. Maybe you need polymorphism instead?\r\n\r\n  [1]: https://openjdk.org/jeps/394","title":"use of dynamic casting , when class object returned","body":"<p>In recent versions of Java you can use <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394</a>, Pattern Matching for instanceof:</p>\n<pre><code>private void  getInstance(App dd) {\nif (dd instanceof Eep e) {\n  e.myMethodFromEep();\n}\nif (dd instanceof Shop s) {\n  s.myMethodFromShop();\n}\n</code></pre>\n<p>This eliminates the need for casting. It's still verbose with all those <code>if</code>. Furthermore, it smells of bad design if you have a method that does different things depending on the actual type of a parameter via <code>instanceof</code>. Maybe you need polymorphism instead?</p>\n"}],"owner":{"account_id":28301754,"reputation":3,"user_id":21640346,"display_name":"Dreammcatch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016055,"answer_count":1,"score":0,"last_activity_date":1681482170,"creation_date":1681481160,"question_id":76015961,"body_markdown":"I am new to java while learning dynamic casting I got a doubt like this, for example, I have 2 classes, class a and class b or more, i can cast the class using instanceof to get my desired method fom object and got the output by using multiple if else if statements and casting can be done easily\r\n\r\nhowever the lines of code is too many. \r\n\r\nApp,Eep, Shop are my classes, I have put void as return type because im not sure what to give as return typs since the class varies.\r\n\r\n```\r\nprivate void  getInstance(App dd) {\r\nif (dd instanceof Eep) {\r\n\t\tEep coi = (Eep) dd;\r\n\t}\r\nelse{\r\nShop coi = (Shop) dd;\r\n}\r\n}\r\n```\r\n\r\n\r\nwhat i want to know is will it be possible to return the casted class object which varies depending on condition, i am not able to find the answer. I think we can return using Object but casting it again will be required I think, could anyone help me with this.","title":"use of dynamic casting , when class object returned","body":"<p>I am new to java while learning dynamic casting I got a doubt like this, for example, I have 2 classes, class a and class b or more, i can cast the class using instanceof to get my desired method fom object and got the output by using multiple if else if statements and casting can be done easily</p>\n<p>however the lines of code is too many.</p>\n<p>App,Eep, Shop are my classes, I have put void as return type because im not sure what to give as return typs since the class varies.</p>\n<pre><code>private void  getInstance(App dd) {\nif (dd instanceof Eep) {\n        Eep coi = (Eep) dd;\n    }\nelse{\nShop coi = (Shop) dd;\n}\n}\n</code></pre>\n<p>what i want to know is will it be possible to return the casted class object which varies depending on condition, i am not able to find the answer. I think we can return using Object but casting it again will be required I think, could anyone help me with this.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6178072,"reputation":279,"user_id":4814403,"display_name":"Gal Weiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681482051,"creation_date":1681482051,"answer_id":76016088,"question_id":75205228,"body_markdown":"The code would fail for an array with all spots taken:\r\n    inputArray: [1, 2, 3, ..., 1000] \r\n\r\nthe expected solution is 1001\r\n\r\nto fix it, you need to change the external for condition to `jump &lt;= 1001`","title":"Jump right at the point where the coordinates are 0 to find a constant minimum jump length to avoid all elements in a given array","body":"<p>The code would fail for an array with all spots taken:\ninputArray: [1, 2, 3, ..., 1000]</p>\n<p>the expected solution is 1001</p>\n<p>to fix it, you need to change the external for condition to <code>jump &lt;= 1001</code></p>\n"}],"owner":{"account_id":20657073,"reputation":11,"user_id":15165896,"display_name":"roger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681482051,"creation_date":1674440187,"question_id":75205228,"body_markdown":"Working through CodeSignal Arcade : https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5,\r\n\r\n&gt; You are given an array of integers representing coordinates of obstacles situated on a straight line.\r\n&gt; Assume that you are jumping from the point with coordinate 0 to the right. You are allowed only to make jumps of the same length represented by some integer.\r\n&gt; \r\n&gt; Find the minimal length of the jump enough to avoid all the obstacles.\r\n&gt; \r\n&gt; Example\r\n&gt; \r\n&gt; For inputArray = [5, 3, 6, 7, 9], the output should be\r\n&gt; solution(inputArray) = 4.\r\n&gt; \r\n&gt; Check out the image below for better understanding:\r\n&gt; https://i.stack.imgur.com/54Lty.png\r\n&gt; \r\n&gt; Input/Output\r\n&gt; \r\n&gt; [execution time limit] 3 seconds (java)\r\n&gt; \r\n&gt; [input] array.integer inputArray\r\n&gt; \r\n&gt; Non-empty array of positive integers.\r\n&gt; \r\n&gt; Guaranteed constraints:\r\n&gt; 2 ≤ inputArray.length ≤ 1000,\r\n&gt; 1 ≤ inputArray[i] ≤ 1000.\r\n&gt; \r\n&gt; [output] integer\r\n&gt; \r\n&gt; The desired length.\r\n\r\nThis is my code:\r\n\r\n```java\r\nint solution(int[] a) {\r\n    \r\n    Arrays.sort(a);\r\n    \r\n    int ans = 0;\r\n    \r\n    for (int jump = 2; jump &lt;= 1000; jump++) {\r\n        \r\n        int now = 0;\r\n        boolean flag = true;\r\n        \r\n        while(now&lt;=a[a.length-1]){\r\n            \r\n            int next = now + jump;\r\n            \r\n            if(Arrays.binarySearch(a, next)&lt;0){\r\n                now = next;\r\n            } else{\r\n                flag = false;\r\n                break;\r\n            }\r\n            \r\n        }\r\n        \r\n        if(flag) {\r\n            ans = jump;\r\n            break;\r\n        }    \r\n    }\r\n    \r\n    return ans;\r\n\r\n}\r\n\r\n```\r\nWhat I trying to do in my code is :\r\n1. sort array to get largest element\r\n2. increase &quot;jump&quot; until it can avoid all the elements in input array\r\n\r\n\r\nThese are some given test cases:\r\n&gt; Input:\r\n&gt; inputArray: [5, 3, 6, 7, 9]\r\n&gt; Expected Output:\r\n&gt; 4\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [2, 3]\r\n&gt; Expected Output:\r\n&gt; 4\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [1, 4, 10, 6, 2]\r\n&gt; Expected Output:\r\n&gt; 7\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [1000, 999]\r\n&gt; Expected Output:\r\n&gt; 6\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [19, 32, 11, 23]\r\n&gt; Expected Output:\r\n&gt; 3\r\n&gt; \r\n&gt; Input:\r\n&gt; inputArray: [5, 8, 9, 13, 14]\r\n&gt; Expected Output:\r\n&gt; 6\r\n\r\n\r\nI passed all the test cases, but I get tripped up on one of the hidden tests when submitted.\r\nI can&#39;t find counterexample and error in my code.\r\n\r\nThanks ahead of time for the help. I&#39;m still quite new to coding and appreciate your time.\r\n\r\n","title":"Jump right at the point where the coordinates are 0 to find a constant minimum jump length to avoid all elements in a given array","body":"<p>Working through CodeSignal Arcade : <a href=\"https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5\" rel=\"nofollow noreferrer\">https://app.codesignal.com/arcade/intro/level-5/XC9Q2DhRRKQrfLhb5</a>,</p>\n<blockquote>\n<p>You are given an array of integers representing coordinates of obstacles situated on a straight line.\nAssume that you are jumping from the point with coordinate 0 to the right. You are allowed only to make jumps of the same length represented by some integer.</p>\n<p>Find the minimal length of the jump enough to avoid all the obstacles.</p>\n<p>Example</p>\n<p>For inputArray = [5, 3, 6, 7, 9], the output should be\nsolution(inputArray) = 4.</p>\n<p>Check out the image below for better understanding:\n<a href=\"https://i.stack.imgur.com/54Lty.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/54Lty.png</a></p>\n<p>Input/Output</p>\n<p>[execution time limit] 3 seconds (java)</p>\n<p>[input] array.integer inputArray</p>\n<p>Non-empty array of positive integers.</p>\n<p>Guaranteed constraints:\n2 ≤ inputArray.length ≤ 1000,\n1 ≤ inputArray[i] ≤ 1000.</p>\n<p>[output] integer</p>\n<p>The desired length.</p>\n</blockquote>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int solution(int[] a) {\n    \n    Arrays.sort(a);\n    \n    int ans = 0;\n    \n    for (int jump = 2; jump &lt;= 1000; jump++) {\n        \n        int now = 0;\n        boolean flag = true;\n        \n        while(now&lt;=a[a.length-1]){\n            \n            int next = now + jump;\n            \n            if(Arrays.binarySearch(a, next)&lt;0){\n                now = next;\n            } else{\n                flag = false;\n                break;\n            }\n            \n        }\n        \n        if(flag) {\n            ans = jump;\n            break;\n        }    \n    }\n    \n    return ans;\n\n}\n\n</code></pre>\n<p>What I trying to do in my code is :</p>\n<ol>\n<li>sort array to get largest element</li>\n<li>increase &quot;jump&quot; until it can avoid all the elements in input array</li>\n</ol>\n<p>These are some given test cases:</p>\n<blockquote>\n<p>Input:\ninputArray: [5, 3, 6, 7, 9]\nExpected Output:\n4</p>\n<p>Input:\ninputArray: [2, 3]\nExpected Output:\n4</p>\n<p>Input:\ninputArray: [1, 4, 10, 6, 2]\nExpected Output:\n7</p>\n<p>Input:\ninputArray: [1000, 999]\nExpected Output:\n6</p>\n<p>Input:\ninputArray: [19, 32, 11, 23]\nExpected Output:\n3</p>\n<p>Input:\ninputArray: [5, 8, 9, 13, 14]\nExpected Output:\n6</p>\n</blockquote>\n<p>I passed all the test cases, but I get tripped up on one of the hidden tests when submitted.\nI can't find counterexample and error in my code.</p>\n<p>Thanks ahead of time for the help. I'm still quite new to coding and appreciate your time.</p>\n"},{"tags":["java","android","firebase-realtime-database","notifications","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681481816,"creation_date":1681481816,"answer_id":76016048,"question_id":76013969,"body_markdown":"There is no way to reliably do this in just your Android application, as the OS actively works against apps keeping an open connection like that. \r\n\r\nYou&#39;ll need to use something like Cloud Functions, where this is in fact the first use-case in the documentation: [Notify users when something interesting happens](https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens)\r\n\r\nThis has been covered before, so also check out:\r\n\r\n* https://stackoverflow.com/questions/42210186/handling-keepsynced-while-on-background-on-android-and-with-fcm/42210878#42210878\r\n* https://stackoverflow.com/questions/56691306/android-firebase-realtime-database-updated-when-app-destroyed\r\n* https://stackoverflow.com/questions/48426240/listen-to-firebase-database-changes-when-app-is-closed\r\n* https://stackoverflow.com/questions/44826275/keep-data-from-the-firebase-realtime-database-always-in-sync","title":"android app notification if the data in the fire base real time data base is changed even when the app is not running","body":"<p>There is no way to reliably do this in just your Android application, as the OS actively works against apps keeping an open connection like that.</p>\n<p>You'll need to use something like Cloud Functions, where this is in fact the first use-case in the documentation: <a href=\"https://firebase.google.com/docs/functions/use-cases#notify_users_when_something_interesting_happens\" rel=\"nofollow noreferrer\">Notify users when something interesting happens</a></p>\n<p>This has been covered before, so also check out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/42210186/handling-keepsynced-while-on-background-on-android-and-with-fcm/42210878#42210878\">Handling keepSynced() while on background on Android and with FCM</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56691306/android-firebase-realtime-database-updated-when-app-destroyed\">Android: Firebase realtime database updated when app destroyed</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48426240/listen-to-firebase-database-changes-when-app-is-closed\">Listen to firebase database changes when app is closed</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44826275/keep-data-from-the-firebase-realtime-database-always-in-sync\">Keep data from the Firebase Realtime Database always in sync</a></li>\n</ul>\n"}],"owner":{"account_id":22682619,"reputation":15,"user_id":16852786,"display_name":"Sanjith Kumar M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76016048,"answer_count":1,"score":0,"last_activity_date":1681481816,"creation_date":1681467012,"question_id":76013969,"body_markdown":"I should receive a notification when the data in the Firebase real-time data base is changed.  \r\nThe notification should only be given when the app is not in use. It should not give a notification when the app is being used or opened.\r\n\r\nI have created a new class  MyFirebaseMsgService\r\n\r\nfor My project. and this class contains this code.\r\n\r\nI have added the needed manifest and the dependencies in build gradle app.\r\n\r\ni didn&#39;t receive any notifications and the i didn&#39;t receive any logs in logcat about the firebase messaging.\r\n\r\nbut if I create a new camping in the firebase console it is working.\r\n\r\nadded the screenshots below\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bAqjh.png)](https://i.stack.imgur.com/bAqjh.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/cBwYr.png)](https://i.stack.imgur.com/cBwYr.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WFqyQ.png)](https://i.stack.imgur.com/WFqyQ.png)\r\n\r\n```\r\n```\r\n\r\n```\r\npublic class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n\r\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n    private DatabaseReference mDatabase;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mDatabase = FirebaseDatabase.getInstance(&quot;XXXXx my url XXXXXX&quot;).getReference();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        Log.i(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n\r\n            // Get the value of the &quot;attribute&quot; key from the data payload\r\n            String attributeValue = remoteMessage.getData().get(&quot;attribute&quot;);\r\n\r\n            // Check if the app is not running or being used\r\n            if (!isAppInForeground()) {\r\n\r\n                // Send notification only if the attribute value has changed\r\n                mDatabase.child(&quot;data&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        String currentValue = dataSnapshot.getValue(String.class);\r\n                        if (currentValue != null &amp;&amp; !currentValue.equals(attributeValue)) {\r\n                            sendNotification();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n                        Log.w(TAG, &quot;onCancelled&quot;, databaseError.toException());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    public boolean isAppInForeground() {\r\n        // Check if the app is running in the foreground\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\r\n        if (runningProcesses != null) {\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\r\n                if (processInfo.processName.equals(getPackageName()) &amp;&amp; processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void sendNotification() {\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\r\n                .setSmallIcon(R.drawable.notlogo)\r\n                .setContentTitle(&quot;hi&quot;)\r\n                .setContentText(&quot;test&quot;)\r\n                .setAutoCancel(true)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        notificationBuilder.setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (notificationManager != null) {\r\n            notificationManager.notify(0, notificationBuilder.build());\r\n        }\r\n    }\r\n}\r\n```","title":"android app notification if the data in the fire base real time data base is changed even when the app is not running","body":"<p>I should receive a notification when the data in the Firebase real-time data base is changed.<br />\nThe notification should only be given when the app is not in use. It should not give a notification when the app is being used or opened.</p>\n<p>I have created a new class  MyFirebaseMsgService</p>\n<p>for My project. and this class contains this code.</p>\n<p>I have added the needed manifest and the dependencies in build gradle app.</p>\n<p>i didn't receive any notifications and the i didn't receive any logs in logcat about the firebase messaging.</p>\n<p>but if I create a new camping in the firebase console it is working.</p>\n<p>added the screenshots below</p>\n<p><a href=\"https://i.stack.imgur.com/bAqjh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bAqjh.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cBwYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cBwYr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WFqyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WFqyQ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code></code></pre>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n    private DatabaseReference mDatabase;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mDatabase = FirebaseDatabase.getInstance(&quot;XXXXx my url XXXXXX&quot;).getReference();\n\n    }\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.i(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n\n            // Get the value of the &quot;attribute&quot; key from the data payload\n            String attributeValue = remoteMessage.getData().get(&quot;attribute&quot;);\n\n            // Check if the app is not running or being used\n            if (!isAppInForeground()) {\n\n                // Send notification only if the attribute value has changed\n                mDatabase.child(&quot;data&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        String currentValue = dataSnapshot.getValue(String.class);\n                        if (currentValue != null &amp;&amp; !currentValue.equals(attributeValue)) {\n                            sendNotification();\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n                        Log.w(TAG, &quot;onCancelled&quot;, databaseError.toException());\n                    }\n                });\n            }\n        }\n    }\n\n    public boolean isAppInForeground() {\n        // Check if the app is running in the foreground\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\n        if (runningProcesses != null) {\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\n                if (processInfo.processName.equals(getPackageName()) &amp;&amp; processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public void sendNotification() {\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;channel_id&quot;)\n                .setSmallIcon(R.drawable.notlogo)\n                .setContentTitle(&quot;hi&quot;)\n                .setContentText(&quot;test&quot;)\n                .setAutoCancel(true)\n                .setPriority(NotificationCompat.PRIORITY_HIGH);\n\n        Intent intent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        notificationBuilder.setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        if (notificationManager != null) {\n            notificationManager.notify(0, notificationBuilder.build());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","database","orm","sybase","ibatis"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1261604326,"creation_date":1261601642,"answer_id":1955258,"question_id":1955052,"body_markdown":"Your parameter element looks ok, after the change to use VARCHAR as jdbcType. Could you include the rest of the parameter element and the procedure element from the mapping file, and the code that creates the parameter map and calls the query?\r\n\r\nIt could be something simple like a typo when constructing the map passed into the query (at least that&#39;s the kind of mistake I would make -- I know I&#39;ve been inconsistent about capitalizing &quot;userId&quot; while using Ibatis).","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>Your parameter element looks ok, after the change to use VARCHAR as jdbcType. Could you include the rest of the parameter element and the procedure element from the mapping file, and the code that creates the parameter map and calls the query?</p>\n\n<p>It could be something simple like a typo when constructing the map passed into the query (at least that's the kind of mistake I would make -- I know I've been inconsistent about capitalizing \"userId\" while using Ibatis).</p>\n"},{"tags":[],"owner":{"account_id":6428992,"reputation":81,"user_id":4982952,"accept_rate":43,"display_name":"Pratik Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449828840,"creation_date":1449828840,"answer_id":34221002,"question_id":1955052,"body_markdown":"I too faced a similar situation. After searching a lot, finally I found that  answer to my problem was that I was missing  a particular &#39;key&#39; while constructing map. I was missing a statement:\r\n\r\n    map.put(&quot;job_name&quot;, job.getJobName());\r\n\r\n&amp; I was using JOB_NAME=#{job_name} in CronMapper.xml\r\n\r\nAlso some where else I was using JOB_NAME=#{jobName}\r\n\r\n","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I too faced a similar situation. After searching a lot, finally I found that  answer to my problem was that I was missing  a particular 'key' while constructing map. I was missing a statement:</p>\n\n<pre><code>map.put(\"job_name\", job.getJobName());\n</code></pre>\n\n<p>&amp; I was using JOB_NAME=#{job_name} in CronMapper.xml</p>\n\n<p>Also some where else I was using JOB_NAME=#{jobName}</p>\n"},{"tags":[],"owner":{"account_id":2121156,"reputation":5654,"user_id":1884363,"accept_rate":69,"display_name":"sudo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484418345,"creation_date":1484418345,"answer_id":41653452,"question_id":1955052,"body_markdown":"I ran into this problem for a different reason: The table had a `geometry` (PostGIS extension) column in it that I guess the driver couldn&#39;t parse. Dropping that column made it work.","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I ran into this problem for a different reason: The table had a <code>geometry</code> (PostGIS extension) column in it that I guess the driver couldn't parse. Dropping that column made it work.</p>\n"},{"tags":[],"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481218,"creation_date":1681481218,"answer_id":76015970,"question_id":1955052,"body_markdown":"I know this question is ancient, but 1 other thing to consider is does the value in the placeholder for iBatis (MyBatis) is null.  In my case, the error &quot;JZ0SL: Unsupported SQL type 1111&quot; was being thrown because the value being passed into the String parameter was null : \r\n\r\n`&lt;select id = &quot;getInProcessDocsCount&quot; parameterType=&quot;String&quot; resultType =&quot;int&quot;&gt;\r\n \tselect count(*) from my_database..pub_wip_t where wip_stts_cde=&#39;IP&#39; and rfrn_row = #{daemonID}\r\n &lt;/select&gt;`\r\n\r\nwhere #{daemonID} was null.  hth - adym","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I know this question is ancient, but 1 other thing to consider is does the value in the placeholder for iBatis (MyBatis) is null.  In my case, the error &quot;JZ0SL: Unsupported SQL type 1111&quot; was being thrown because the value being passed into the String parameter was null :</p>\n<p><code>&lt;select id = &quot;getInProcessDocsCount&quot; parameterType=&quot;String&quot; resultType =&quot;int&quot;&gt; select count(*) from my_database..pub_wip_t where wip_stts_cde='IP' and rfrn_row = #{daemonID} &lt;/select&gt;</code></p>\n<p>where #{daemonID} was null.  hth - adym</p>\n"}],"owner":{"account_id":19050,"reputation":29594,"user_id":44286,"accept_rate":77,"display_name":"Omnipresent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16403,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1955258,"answer_count":4,"score":3,"last_activity_date":1681481218,"creation_date":1261599250,"question_id":1955052,"body_markdown":"I have been smashing my head against this for a while now. \r\n\r\nI am using iBatis with my JAVA code to run Stored Proc residing in Sybase DB. \r\n\r\nStored procedure is expecting some parameters. few of them are declared as `VARCHAR (6)`\r\n\r\nSo in my iBatis mapping i did the following for those parameters. \r\n\r\n    &lt;parameter property=&quot;searchUserId&quot; jdbcType=&quot;String&quot; javaType=&quot;java.lang.String&quot; mode=&quot;IN&quot;/&gt;\r\n\r\nHowever, when I do this I get the following error. \r\n\r\n    --- Check the statement (update procedure failed).  \r\n    --- Cause: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\r\n    Caused by: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\r\n\r\n\r\nSo I changed my mapping to following:\r\n\r\n    &lt;parameter property=&quot;searchUserId&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; mode=&quot;IN&quot;/&gt;\r\n\r\nwhich got rid of the error above, however, now the parameter `searchUserId` is getting value of `null` passed into the SP.  I know for sure that from my java code I am NOT passing `null`. \r\n\r\nHas someone faced this issue? what should I change my mapping to??\r\n\r\n\r\n\r\n","title":"Unsupported SQL Type 1111 when passing String to a VARCHAR field","body":"<p>I have been smashing my head against this for a while now. </p>\n\n<p>I am using iBatis with my JAVA code to run Stored Proc residing in Sybase DB. </p>\n\n<p>Stored procedure is expecting some parameters. few of them are declared as <code>VARCHAR (6)</code></p>\n\n<p>So in my iBatis mapping i did the following for those parameters. </p>\n\n<pre><code>&lt;parameter property=\"searchUserId\" jdbcType=\"String\" javaType=\"java.lang.String\" mode=\"IN\"/&gt;\n</code></pre>\n\n<p>However, when I do this I get the following error. </p>\n\n<pre><code>--- Check the statement (update procedure failed).  \n--- Cause: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\nCaused by: java.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0SL: Unsupported SQL type 1111.\n</code></pre>\n\n<p>So I changed my mapping to following:</p>\n\n<pre><code>&lt;parameter property=\"searchUserId\" jdbcType=\"VARCHAR\" javaType=\"java.lang.String\" mode=\"IN\"/&gt;\n</code></pre>\n\n<p>which got rid of the error above, however, now the parameter <code>searchUserId</code> is getting value of <code>null</code> passed into the SP.  I know for sure that from my java code I am NOT passing <code>null</code>. </p>\n\n<p>Has someone faced this issue? what should I change my mapping to??</p>\n"},{"tags":["java","logging","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":178,"is_accepted":true,"score":178,"last_activity_date":1436363803,"creation_date":1436363803,"answer_id":31294905,"question_id":31290204,"body_markdown":"You can use `ROOT` to configure the root logging level:\r\n\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    logging:\r\n      level:\r\n        ROOT: DEBUG","title":"Set root logging level in application.yml","body":"<p>You can use <code>ROOT</code> to configure the root logging level:</p>\n\n<pre><code>logging:\n  level:\n    ROOT: DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1574100026,"creation_date":1529939672,"answer_id":51026767,"question_id":31290204,"body_markdown":"If you want level by package, you can use this syntax :\r\n\r\n    logging:\r\n      level:\r\n         org.springframework.web: DEBUG\r\n         guru.springframework.controllers: DEBUG\r\n         org.hibernate: DEBUG\r\n         org: INFO","title":"Set root logging level in application.yml","body":"<p>If you want level by package, you can use this syntax :</p>\n\n<pre><code>logging:\n  level:\n     org.springframework.web: DEBUG\n     guru.springframework.controllers: DEBUG\n     org.hibernate: DEBUG\n     org: INFO\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565119699,"creation_date":1565119699,"answer_id":57382793,"question_id":31290204,"body_markdown":"You can even use your *classname* to configure logging level:\r\n\r\n    logging:\r\n      level:\r\n        com.yourorganization.Yourclass: DEBUG\r\n\r\n","title":"Set root logging level in application.yml","body":"<p>You can even use your <em>classname</em> to configure logging level:</p>\n\n<pre><code>logging:\n  level:\n    com.yourorganization.Yourclass: DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5216714,"reputation":2112,"user_id":4171429,"display_name":"Joakim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566082342,"creation_date":1566082342,"answer_id":57540478,"question_id":31290204,"body_markdown":"It&#39;s an old question, but I just had this problem.\r\n\r\nWhile setting\r\n\r\n    org.springframework.web: debug\r\n\r\nor\r\n\r\n    org.hibernate: debug\r\n\r\nworks fine, if you want to do the same for your project files (setting level per package), you have to use wildcards. So, for the example in the question, it would be:\r\n\r\n    logging:\r\n        level:\r\n            root: WARN\r\n            com.filenet.wcm.*: ERROR\r\n            de.mycompany.*: DEBUG\r\n\r\nAlternatively, you can set the logging level per class without using wildcards, as shown in torina&#39;s answer.\r\n","title":"Set root logging level in application.yml","body":"<p>It's an old question, but I just had this problem.</p>\n\n<p>While setting</p>\n\n<pre><code>org.springframework.web: debug\n</code></pre>\n\n<p>or</p>\n\n<pre><code>org.hibernate: debug\n</code></pre>\n\n<p>works fine, if you want to do the same for your project files (setting level per package), you have to use wildcards. So, for the example in the question, it would be:</p>\n\n<pre><code>logging:\n    level:\n        root: WARN\n        com.filenet.wcm.*: ERROR\n        de.mycompany.*: DEBUG\n</code></pre>\n\n<p>Alternatively, you can set the logging level per class without using wildcards, as shown in torina's answer.</p>\n"},{"tags":[],"owner":{"account_id":12565201,"reputation":4559,"user_id":9141437,"display_name":"Thanthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657902717,"creation_date":1657902717,"answer_id":72997107,"question_id":31290204,"body_markdown":"You can log incoming request by creating `CommonsRequestLoggingFilter` and adding \r\n\r\n    logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\r\n\r\n to `application.properties` file as explained in detail in this link - [https://www.baeldung.com/spring-http-logging][1]\r\n\r\n    @Configuration\r\n    public class RequestLoggingFilterConfig {\r\n    \r\n        @Bean\r\n        public CommonsRequestLoggingFilter logFilter() {\r\n            CommonsRequestLoggingFilter filter\r\n              = new CommonsRequestLoggingFilter();\r\n            filter.setIncludeQueryString(true);\r\n            filter.setIncludePayload(true);\r\n            filter.setMaxPayloadLength(10000);\r\n            filter.setIncludeHeaders(false);\r\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n            return filter;\r\n        }\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/spring-http-logging\r\n","title":"Set root logging level in application.yml","body":"<p>You can log incoming request by creating <code>CommonsRequestLoggingFilter</code> and adding</p>\n<pre><code>logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\n</code></pre>\n<p>to <code>application.properties</code> file as explained in detail in this link - <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-http-logging</a></p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter\n          = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820389,"reputation":76,"user_id":1654586,"display_name":"Pankaj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681481081,"creation_date":1681481081,"answer_id":76015942,"question_id":31290204,"body_markdown":"we can configure logback properties in yml file without defining custom **logback-spring.xml** file. Used following configuration to achieve logging along with daily rolling appender and file size appender.\r\n\r\n    logging:\r\n      logback:\r\n        rollingpolicy:\r\n          max-file-size: 10MB\r\n          file-name-pattern: /logs/archived/application-%d{yyyy-MM-dd}.%i.log\r\n          max-history: 30\r\n      file:\r\n       name: /logs/application.log\r\n      pattern:\r\n        console: &quot;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&quot;\r\n        file: &quot;%d %-5level [%thread] %logger : %msg%n&quot;\r\n        level: &quot;%5p&quot;\r\n      level:\r\n        root: INFO\r\n        com.mypackage: ERROR  (--Package level ERROR only)","title":"Set root logging level in application.yml","body":"<p>we can configure logback properties in yml file without defining custom <strong>logback-spring.xml</strong> file. Used following configuration to achieve logging along with daily rolling appender and file size appender.</p>\n<pre><code>logging:\n  logback:\n    rollingpolicy:\n      max-file-size: 10MB\n      file-name-pattern: /logs/archived/application-%d{yyyy-MM-dd}.%i.log\n      max-history: 30\n  file:\n   name: /logs/application.log\n  pattern:\n    console: &quot;%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable&quot;\n    file: &quot;%d %-5level [%thread] %logger : %msg%n&quot;\n    level: &quot;%5p&quot;\n  level:\n    root: INFO\n    com.mypackage: ERROR  (--Package level ERROR only)\n</code></pre>\n"}],"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123863,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":31294905,"answer_count":6,"score":91,"last_activity_date":1681481081,"creation_date":1436351851,"question_id":31290204,"body_markdown":"I used an application.properties with Spring Boot (1.3 M1) and started to translate it into a yaml file because it grew more and more complex.\r\n\r\nBut I have problems translating this into yaml:\r\n\r\n    logging.level.*=WARN\r\n    logging.level.com.filenet.wcm=ERROR\r\n    logging.level.de.mycompany=DEBUG\r\n\r\nThe last two lines are easily translated into this:\r\n\r\n    logging:\r\n        level:\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG\r\n\r\nBut how to add the values for the root logging level ? These two approaches failed:\r\n\r\nFailed approach 1:\r\n\r\n    logging:\r\n        level: WARN\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG    \r\n\r\nFailed approach 2:\r\n\r\n    logging:\r\n        level: \r\n            star: WARN\r\n            com.filenet.wcm: ERROR\r\n            de.mycompany: DEBUG    \r\n\r\nI read the [docs][1], searched stackoverflow and googled but did not find an example for a valid syntax. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html","title":"Set root logging level in application.yml","body":"<p>I used an application.properties with Spring Boot (1.3 M1) and started to translate it into a yaml file because it grew more and more complex.</p>\n\n<p>But I have problems translating this into yaml:</p>\n\n<pre><code>logging.level.*=WARN\nlogging.level.com.filenet.wcm=ERROR\nlogging.level.de.mycompany=DEBUG\n</code></pre>\n\n<p>The last two lines are easily translated into this:</p>\n\n<pre><code>logging:\n    level:\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG\n</code></pre>\n\n<p>But how to add the values for the root logging level ? These two approaches failed:</p>\n\n<p>Failed approach 1:</p>\n\n<pre><code>logging:\n    level: WARN\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG    \n</code></pre>\n\n<p>Failed approach 2:</p>\n\n<pre><code>logging:\n    level: \n        star: WARN\n        com.filenet.wcm: ERROR\n        de.mycompany: DEBUG    \n</code></pre>\n\n<p>I read the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\">docs</a>, searched stackoverflow and googled but did not find an example for a valid syntax. </p>\n"},{"tags":["java","maven","jar","maven-jar-plugin"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":1,"up_vote_count":75,"is_accepted":true,"score":74,"last_activity_date":1480891642,"creation_date":1480891642,"answer_id":40964626,"question_id":40964500,"body_markdown":"The Jar Plugin is actually getting executed twice with the configuration:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIf you check the logs with such a configuration, you will have something like:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test ---\r\n    [INFO] Building jar: ...\\test\\target\\test-0.0.1-SNAPSHOT.jar\r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default) @ test ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nmeaning that the plugin was in fact executed twice. What happens, is that the Jar Plugin, in a project that has a packaging of `jar` [has a default execution bound to the `package` phase](http://maven.apache.org/components/ref/3.3.9/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging). This default execution is the one mentioned in the logs with the ID of `default-jar`.\r\n\r\nWhen you configured an `&lt;execution&gt;` in the plugin, you actually configured a new execution, where the `jar` goal of the plugin is to be invoked. Since the [`jar` goal binds by default to the `package` phase](https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html), that execution is getting executed at that phase, after the default binding inherent to the `jar` packaging. And since the plugin ran already, it is failing because running it again would actually replace the main artifact already produced during the first run. This error was added in version 3.0.0 of the plugin in [MJAR-198](https://issues.apache.org/jira/browse/MJAR-198), because such a thing happening is very likely a mis-configuration which should be detected early.\r\n\r\nAs such, the fix is simple: don&#39;t have an execution that specifies the goal `jar`, and let the default one (coming from the `jar` packaging) do the work. The JAR will still be created, even without the explicit configuration of the `jar` goal, thanks to the default execution. If you want a test JAR as well, [you will still need to configure the plugin to do that](https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html) with:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;test-jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBut note that the goal `jar` is not specified.","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>The Jar Plugin is actually getting executed twice with the configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;jar&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>If you check the logs with such a configuration, you will have something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test ---\n[INFO] Building jar: ...\\test\\target\\test-0.0.1-SNAPSHOT.jar\n[INFO] \n[INFO] --- maven-jar-plugin:3.0.2:jar (default) @ test ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>meaning that the plugin was in fact executed twice. What happens, is that the Jar Plugin, in a project that has a packaging of <code>jar</code> <a href=\"http://maven.apache.org/components/ref/3.3.9/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging\" rel=\"noreferrer\">has a default execution bound to the <code>package</code> phase</a>. This default execution is the one mentioned in the logs with the ID of <code>default-jar</code>.</p>\n\n<p>When you configured an <code>&lt;execution&gt;</code> in the plugin, you actually configured a new execution, where the <code>jar</code> goal of the plugin is to be invoked. Since the <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html\" rel=\"noreferrer\"><code>jar</code> goal binds by default to the <code>package</code> phase</a>, that execution is getting executed at that phase, after the default binding inherent to the <code>jar</code> packaging. And since the plugin ran already, it is failing because running it again would actually replace the main artifact already produced during the first run. This error was added in version 3.0.0 of the plugin in <a href=\"https://issues.apache.org/jira/browse/MJAR-198\" rel=\"noreferrer\">MJAR-198</a>, because such a thing happening is very likely a mis-configuration which should be detected early.</p>\n\n<p>As such, the fix is simple: don't have an execution that specifies the goal <code>jar</code>, and let the default one (coming from the <code>jar</code> packaging) do the work. The JAR will still be created, even without the explicit configuration of the <code>jar</code> goal, thanks to the default execution. If you want a test JAR as well, <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"noreferrer\">you will still need to configure the plugin to do that</a> with:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;test-jar&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>But note that the goal <code>jar</code> is not specified.</p>\n"},{"tags":[],"owner":{"account_id":9877384,"reputation":139,"user_id":7314602,"display_name":"Derik"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1666917700,"creation_date":1482112804,"answer_id":41214856,"question_id":40964500,"body_markdown":"In my case, I have set the execution ID to `default-jar`, overriding the default execution. Then the error is gone.\r\n\r\n    &lt;execution&gt;\r\n        &lt;id&gt;default-jar&lt;/id&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n\r\n\r\n ","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>In my case, I have set the execution ID to <code>default-jar</code>, overriding the default execution. Then the error is gone.</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;default-jar&lt;/id&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;jar&lt;/goal&gt;\n    &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630735697,"creation_date":1550071617,"answer_id":54673725,"question_id":40964500,"body_markdown":"If your logs shows something like:\r\n\r\n    [INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test --\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n\r\nAdding a single useless class in src/main/java seems to solve the issue see:\r\n\r\nhttp://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html\r\n\r\nSince the above link might be broken as of 2021-09 you might want to try http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread as an alternative","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>If your logs shows something like:</p>\n<pre><code>[INFO] --- maven-jar-plugin:3.0.2:jar (default-jar) @ test --\n[WARNING] JAR will be empty - no content was marked for inclusion!\n</code></pre>\n<p>Adding a single useless class in src/main/java seems to solve the issue see:</p>\n<p><a href=\"http://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html\" rel=\"nofollow noreferrer\">http://maven.40175.n5.nabble.com/quot-mvn-clean-verify-deploy-quot-causes-jar-plugin-to-execute-twice-td5877166.html</a></p>\n<p>Since the above link might be broken as of 2021-09 you might want to try <a href=\"http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread\" rel=\"nofollow noreferrer\">http://mail-archives.apache.org/mod_mbox/maven-users/201608.mbox/thread</a> as an alternative</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666917759,"creation_date":1666917759,"answer_id":74229573,"question_id":40964500,"body_markdown":"One reason to have this error may be that the `package` goal is mistakenly executed twice:\r\n\r\n    mvn ... package ... package\r\n\r\nMay happen when the command is built by imperfect scripts :)","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>One reason to have this error may be that the <code>package</code> goal is mistakenly executed twice:</p>\n<pre><code>mvn ... package ... package\n</code></pre>\n<p>May happen when the command is built by imperfect scripts :)</p>\n"},{"tags":[],"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674324674,"creation_date":1674324674,"answer_id":75195516,"question_id":40964500,"body_markdown":"A little late but you should add `&lt;phase&gt;none&lt;/phase&gt;` to default-jar execution. this will skip it.\r\n```\r\n&lt;execution&gt;\r\n  &lt;id&gt;default-jar&lt;/id&gt;\r\n  &lt;phase&gt;none&lt;/phase&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nThis will skip the default-jar but others are executed. Make sure you put `&lt;phase&gt;package&lt;/phase&gt;`  in the rest of the execution threads.","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>A little late but you should add <code>&lt;phase&gt;none&lt;/phase&gt;</code> to default-jar execution. this will skip it.</p>\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;default-jar&lt;/id&gt;\n  &lt;phase&gt;none&lt;/phase&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>This will skip the default-jar but others are executed. Make sure you put <code>&lt;phase&gt;package&lt;/phase&gt;</code>  in the rest of the execution threads.</p>\n"},{"tags":[],"owner":{"account_id":2278572,"reputation":1733,"user_id":2004265,"display_name":"DAB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681480899,"creation_date":1681480899,"answer_id":76015911,"question_id":40964500,"body_markdown":"\r\nI got the error \r\n\r\n&gt; Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach\r\n&gt; supplemental artifacts to the project instead of replacing them\r\n\r\n\r\nwhen I was building a WAR but needed an extra JAR file to resolve external dependencies in another project. \r\n\r\nI solved the problem simply by adding a configuration element containing a &quot;classifier&quot;. This simply means the JAR file will have the classifier as a suffix in its name.\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t      &lt;executions&gt;\r\n\t\t        &lt;execution&gt;\r\n\t\t          &lt;phase&gt;install&lt;/phase&gt;\r\n\t\t          &lt;goals&gt;\r\n\t\t            &lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t          &lt;/goals&gt;\r\n\t\t          &lt;configuration&gt;\r\n\t\t\t\t\t  &lt;classifier&gt;identify_your_jar_file_differently&lt;/classifier&gt;\r\n\t\t\t\t  &lt;/configuration&gt;\r\n\t\t        &lt;/execution&gt;\r\n\t\t      &lt;/executions&gt;\r\n\t\t    &lt;/plugin&gt;\t\t\t","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>I got the error</p>\n<blockquote>\n<p>Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach\nsupplemental artifacts to the project instead of replacing them</p>\n</blockquote>\n<p>when I was building a WAR but needed an extra JAR file to resolve external dependencies in another project.</p>\n<p>I solved the problem simply by adding a configuration element containing a &quot;classifier&quot;. This simply means the JAR file will have the classifier as a suffix in its name.</p>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;install&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                  &lt;classifier&gt;identify_your_jar_file_differently&lt;/classifier&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;           \n</code></pre>\n"}],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56425,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":40964626,"answer_count":6,"score":54,"last_activity_date":1681480899,"creation_date":1480890748,"question_id":40964500,"body_markdown":"Maven JAR plugin (version 3.0.2) keeps throwing the following error, __even for a single invocation of the `jar` goal__: \r\n\r\n&gt; [ERROR] Failed to execute goal org.apache.maven.plugins:maven-jar-plugin:3.0.2:jar (default) on project test: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them. -&gt; [Help 1]\r\n\r\n\r\nHere&#39;s a (minimal?) `pom.xml` which demonstrates the problem: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe invocation is just `mvn package`. \r\n\r\n* It doesn&#39;t seem to matter whether there are any classes/resources at all — the above error message appears anyway. \r\n* The problem also appears if two goals are specified (`jar` and `test-jar`). \r\n* The problem does NOT appear if **no goals** are specified. But this is not an option, since I really need both `jar` and `test-jar`. \r\n\r\nAccording to the [documentation](https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#classifier), `classifier` only needs to be specified on multiple invocations of the same goal, and there&#39;s a reasonable default for the `test-jar` goal which I don&#39;t intend to change. \r\n\r\nAlso, **the problem doesn&#39;t seem to appear on the 2.x line of the JAR plugin.**\r\n\r\nDid I miss something? \r\nCould anybody please suggest what I am doing wrong? \r\n\r\nP.S. The Maven version is 3.3.9. ","title":"Maven JAR Plugin 3.0.2 Error: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them","body":"<p>Maven JAR plugin (version 3.0.2) keeps throwing the following error, <strong>even for a single invocation of the <code>jar</code> goal</strong>: </p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-jar-plugin:3.0.2:jar (default) on project test: You have to use a classifier to attach supplemental artifacts to the project instead of replacing them. -> [Help 1]</p>\n</blockquote>\n\n<p>Here's a (minimal?) <code>pom.xml</code> which demonstrates the problem: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The invocation is just <code>mvn package</code>. </p>\n\n<ul>\n<li>It doesn't seem to matter whether there are any classes/resources at all — the above error message appears anyway. </li>\n<li>The problem also appears if two goals are specified (<code>jar</code> and <code>test-jar</code>). </li>\n<li>The problem does NOT appear if <strong>no goals</strong> are specified. But this is not an option, since I really need both <code>jar</code> and <code>test-jar</code>. </li>\n</ul>\n\n<p>According to the <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/jar-mojo.html#classifier\" rel=\"noreferrer\">documentation</a>, <code>classifier</code> only needs to be specified on multiple invocations of the same goal, and there's a reasonable default for the <code>test-jar</code> goal which I don't intend to change. </p>\n\n<p>Also, <strong>the problem doesn't seem to appear on the 2.x line of the JAR plugin.</strong></p>\n\n<p>Did I miss something? \nCould anybody please suggest what I am doing wrong? </p>\n\n<p>P.S. The Maven version is 3.3.9. </p>\n"},{"tags":["java","android","kotlin","charts","android-native-library"],"comments":[{"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"score":1,"creation_date":1681479034,"post_id":76014933,"comment_id":134067360,"body_markdown":"Please share your code","body":"Please share your code"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681480722,"creation_date":1681479587,"answer_id":76015719,"question_id":76014933,"body_markdown":"Since you have not shared your code it is difficult to provide a complete solution. But for your first question:\r\n\r\n    getAxisLeft().setEnabled(false);\r\n    getAxisRight().setEnabled(false);\r\n\r\nthese two methods disable the vertical axis.\r\nFor your 2nd and 3rd questions you should use:\r\n\r\n    chart.getXAxis().setValueFormatter();\r\n\r\nYou can find a complete and comprehansive documentation to MPAndroidChart [here][1].\r\n\r\nEspecifically for line chart this is an example. [Here][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart\r\n  [2]: https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/main/java/com/xxmassdeveloper/mpchartexample/LineChartActivity1.java\r\n\r\n","title":"Line Chart Using MPChartAandroid","body":"<p>Since you have not shared your code it is difficult to provide a complete solution. But for your first question:</p>\n<pre><code>getAxisLeft().setEnabled(false);\ngetAxisRight().setEnabled(false);\n</code></pre>\n<p>these two methods disable the vertical axis.\nFor your 2nd and 3rd questions you should use:</p>\n<pre><code>chart.getXAxis().setValueFormatter();\n</code></pre>\n<p>You can find a complete and comprehansive documentation to MPAndroidChart <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Especifically for line chart this is an example. <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/main/java/com/xxmassdeveloper/mpchartexample/LineChartActivity1.java\" rel=\"nofollow noreferrer\">Here</a></p>\n"}],"owner":{"account_id":14900539,"reputation":1,"user_id":10759503,"display_name":"Ganpat Kaliya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681480722,"creation_date":1681474031,"question_id":76014933,"body_markdown":"**How to display chart like below ?**\r\n\r\n- Only display XAxis lable\r\n- XAxis lable is in string value with multiline\r\n- show value only on first and last plotted value\r\n\r\nPlease see the screen shot.\r\n[enter image description here](https://i.stack.imgur.com/MOEwn.png)\r\n\r\nPlease help me if anyone have idea about this. Thanks a lot.\r\n\r\nI am using MPChart android library and I have tried so many ways which found on stack overflow but could not able to achieve this.\r\n\r\nSo Please help me if you have any idea about this. ","title":"Line Chart Using MPChartAandroid","body":"<p><strong>How to display chart like below ?</strong></p>\n<ul>\n<li>Only display XAxis lable</li>\n<li>XAxis lable is in string value with multiline</li>\n<li>show value only on first and last plotted value</li>\n</ul>\n<p>Please see the screen shot.\n<a href=\"https://i.stack.imgur.com/MOEwn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Please help me if anyone have idea about this. Thanks a lot.</p>\n<p>I am using MPChart android library and I have tried so many ways which found on stack overflow but could not able to achieve this.</p>\n<p>So Please help me if you have any idea about this.</p>\n"},{"tags":["java","asynchronous","future","completable-future"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1681504748,"post_id":76015480,"comment_id":134072949,"body_markdown":"Related: combining a stream of futures into a future for a stream: https://stackoverflow.com/a/74452659/402428","body":"Related: combining a stream of futures into a future for a stream: <a href=\"https://stackoverflow.com/a/74452659/402428\">stackoverflow.com/a/74452659/402428</a>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681480712,"creation_date":1681479130,"answer_id":76015638,"question_id":76015480,"body_markdown":"Let&#39;s use this to simulate the delay (PS: I am returning string instead of json object):\r\n\r\n    public CompletableFuture&lt;String&gt; getProduct() {\r\n    \treturn waitAndReturn(2000, &quot;product  ready&quot;);\r\n    }\r\n    public CompletableFuture&lt;String&gt; getCustomers() {\r\n    \treturn waitAndReturn(2000, &quot;customers ready&quot;);\r\n    }\r\n    public CompletableFuture&lt;String&gt; getOrders() {\r\n    \treturn waitAndReturn(2000, &quot;customers ready&quot;);\r\n    }\r\n\r\n    private CompletableFuture&lt;String&gt; waitAndReturn(int millis, String string) {\r\n    \treturn CompletableFuture.supplyAsync(() -&gt; {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(millis);\r\n    \t\t\treturn string;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nNext, as you mentioned, we need to use the `CompletableFuture.allOf` method. This is going to run the 3 methods in parallel and return a `CompletableFuture&lt;Void&gt;` as it&#39;s result.\r\n\r\n    var cust = getCustomers();\r\n    var prod = getProduct();\r\n    var order = getOrders();\r\n    \r\n    CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(\r\n    \t\tcust, prod, order\r\n    );\r\n\r\nOn this resulting future, we can call the `thenRun` and pass a lambda expression. This is going to be ran when the 3 initial futures are ready, and therefore, we can call the `join` method on each of them, to get the data out:\r\n\r\n\r\n    @Test\r\n    void test() throws InterruptedException {\r\n    \r\n    \tvar cust = getCustomers();\r\n    \tvar prod = getProduct();\r\n    \tvar order = getOrders();\r\n    \r\n    \tSystem.out.println(System.currentTimeMillis());\r\n    \tCompletableFuture.allOf(\r\n    \t\t\tcust, prod, order\r\n    \t).thenRun(() -&gt; {\r\n    \t\tString customerJson = cust.join();\r\n    \t\tString productJson = prod.join();\r\n    \t\tString orderJson = order.join();\r\n    \t\tSystem.out.println(customerJson + productJson + orderJson);\r\n    \t\tSystem.out.println(System.currentTimeMillis());\r\n    \t});\r\n    \r\n    \tThread.sleep(5000);\r\n    }\r\n\r\n\r\n\r\n\r\nLater edited: as per discussed in the comments.\r\n\r\nIf you want to return a `CompletableFuture&lt;&gt;` without blocking and waiting, you can approach it slightly differently: `thenRun` is like the equivalent of forEach for streams, you can imagine it as a final operation.\r\n\r\nHowever, you can use `thenApply`which will be more like a `stream.map`: it will allow you to process the 3 futures and combine them into a new one. I&#39;ll stick to the String example instead of jsonObjects:\r\n\r\n    CompletableFuture&lt;String&gt; result = CompletableFuture.allOf(\r\n\t\t\t\t\tcust, prod, order\r\n\t\t\t).thenApply(__ -&gt; {\r\n\t\t\t\tString customerJson = cust.join();\r\n\t\t\t\tString productJson = prod.join();\r\n\t\t\t\tString orderJson = order.join();\r\n\t\t\t\treturn customerJson + productJson + orderJson;\r\n\t\t\t}); \r\n\r\nAs you can see, the function inside `thenApply` returns a String and the resulting type of is now a `CompletableFuture&lt;String&gt;`. You can now return this from your function and somebody else can continue adding other intermediary steps `thenApply(...)` or consume it `thenRun()`.\r\n\r\nI hope the comparison with streams will make it easier to grasp the information. For a very well explained and more in-depth tutorial, watch this video: https://www.youtube.com/watch?v=9ueIL0SwEWI\r\n\r\n","title":"Merging three Completeable futures into one with Java","body":"<p>Let's use this to simulate the delay (PS: I am returning string instead of json object):</p>\n<pre><code>public CompletableFuture&lt;String&gt; getProduct() {\n    return waitAndReturn(2000, &quot;product  ready&quot;);\n}\npublic CompletableFuture&lt;String&gt; getCustomers() {\n    return waitAndReturn(2000, &quot;customers ready&quot;);\n}\npublic CompletableFuture&lt;String&gt; getOrders() {\n    return waitAndReturn(2000, &quot;customers ready&quot;);\n}\n\nprivate CompletableFuture&lt;String&gt; waitAndReturn(int millis, String string) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(millis);\n            return string;\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n</code></pre>\n<p>Next, as you mentioned, we need to use the <code>CompletableFuture.allOf</code> method. This is going to run the 3 methods in parallel and return a <code>CompletableFuture&lt;Void&gt;</code> as it's result.</p>\n<pre><code>var cust = getCustomers();\nvar prod = getProduct();\nvar order = getOrders();\n\nCompletableFuture&lt;Void&gt; all = CompletableFuture.allOf(\n        cust, prod, order\n);\n</code></pre>\n<p>On this resulting future, we can call the <code>thenRun</code> and pass a lambda expression. This is going to be ran when the 3 initial futures are ready, and therefore, we can call the <code>join</code> method on each of them, to get the data out:</p>\n<pre><code>@Test\nvoid test() throws InterruptedException {\n\n    var cust = getCustomers();\n    var prod = getProduct();\n    var order = getOrders();\n\n    System.out.println(System.currentTimeMillis());\n    CompletableFuture.allOf(\n            cust, prod, order\n    ).thenRun(() -&gt; {\n        String customerJson = cust.join();\n        String productJson = prod.join();\n        String orderJson = order.join();\n        System.out.println(customerJson + productJson + orderJson);\n        System.out.println(System.currentTimeMillis());\n    });\n\n    Thread.sleep(5000);\n}\n</code></pre>\n<p>Later edited: as per discussed in the comments.</p>\n<p>If you want to return a <code>CompletableFuture&lt;&gt;</code> without blocking and waiting, you can approach it slightly differently: <code>thenRun</code> is like the equivalent of forEach for streams, you can imagine it as a final operation.</p>\n<p>However, you can use <code>thenApply</code>which will be more like a <code>stream.map</code>: it will allow you to process the 3 futures and combine them into a new one. I'll stick to the String example instead of jsonObjects:</p>\n<pre><code>CompletableFuture&lt;String&gt; result = CompletableFuture.allOf(\n                cust, prod, order\n        ).thenApply(__ -&gt; {\n            String customerJson = cust.join();\n            String productJson = prod.join();\n            String orderJson = order.join();\n            return customerJson + productJson + orderJson;\n        }); \n</code></pre>\n<p>As you can see, the function inside <code>thenApply</code> returns a String and the resulting type of is now a <code>CompletableFuture&lt;String&gt;</code>. You can now return this from your function and somebody else can continue adding other intermediary steps <code>thenApply(...)</code> or consume it <code>thenRun()</code>.</p>\n<p>I hope the comparison with streams will make it easier to grasp the information. For a very well explained and more in-depth tutorial, watch this video: <a href=\"https://www.youtube.com/watch?v=9ueIL0SwEWI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9ueIL0SwEWI</a></p>\n"}],"owner":{"account_id":7470778,"reputation":13323,"user_id":5678853,"accept_rate":61,"display_name":"Blake Rivell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681480712,"creation_date":1681477997,"question_id":76015480,"body_markdown":"The following 3 methods return `CompleteableFuture&lt;JsonObject&gt;`, The content I need is on the value property of the JsonObject so ultimately I would need to do something like response.getJsonArray(&quot;value&quot;)\r\n\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture1 = entityService.getProducts();\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture2 = entityService.getCustomers();\r\n    CompletableFuture&lt;JsonObject&gt; completeableFuture3 = entityService.getOrders();\r\n\r\nOnce I successfully retrieve these 3 pieces I would like to continue with the remainder of my code that depends on them. I will need access to all 3 lists: products, customers, orders.\r\n\r\nAfter doing some research I think I need to use allOf(), but having trouble figuring out the correct syntax to piece it all together.\r\n\r\n","title":"Merging three Completeable futures into one with Java","body":"<p>The following 3 methods return <code>CompleteableFuture&lt;JsonObject&gt;</code>, The content I need is on the value property of the JsonObject so ultimately I would need to do something like response.getJsonArray(&quot;value&quot;)</p>\n<pre><code>CompletableFuture&lt;JsonObject&gt; completeableFuture1 = entityService.getProducts();\nCompletableFuture&lt;JsonObject&gt; completeableFuture2 = entityService.getCustomers();\nCompletableFuture&lt;JsonObject&gt; completeableFuture3 = entityService.getOrders();\n</code></pre>\n<p>Once I successfully retrieve these 3 pieces I would like to continue with the remainder of my code that depends on them. I will need access to all 3 lists: products, customers, orders.</p>\n<p>After doing some research I think I need to use allOf(), but having trouble figuring out the correct syntax to piece it all together.</p>\n"},{"tags":["java","maven","aop","aspectj","aspectj-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476120,"creation_date":1681476120,"answer_id":76015229,"question_id":76014816,"body_markdown":"Updated my pom.xml and changed it to use com.nickwongdev instead \r\n\r\nDoesnt look like the version i was using works for java 11 [here][1]\r\n\r\n```\r\n&lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\r\n&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;1.12.6&lt;/version&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.eclipse.org/lists/aspectj-users/msg15379.html","title":"AspectJ Maven Plugin wont compile my project after upgrading to java 11","body":"<p>Updated my pom.xml and changed it to use com.nickwongdev instead</p>\n<p>Doesnt look like the version i was using works for java 11 <a href=\"https://www.eclipse.org/lists/aspectj-users/msg15379.html\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>&lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\n&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.12.6&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681480636,"creation_date":1681473188,"question_id":76014816,"body_markdown":"I am trying to upgrade a project from java 8 to 11. I have updated the pom but i get an error about aspectJ not being able to compile it when running the build. \r\n\r\nHere is the error i get below.\r\n\r\n```\r\n[ERROR] Failed to execute goal org.codehaus.mojo:aspectj-maven-plugin:1.8:compile (default) on project name: Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.8:compile failed: Plugin org.codehaus.mojo:aspectj-maven-plugin:1.8 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:11.0.18 at specified path C:\\Program Files (x86)\\Amazon Corretto\\jdk11.0.18_10/../lib/tools.jar -&gt; [Help 1]\r\n ```\r\n\r\nHere is my parent pom file - is there something wrong with it? \r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.amor&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;name-parent&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;NAME Parent&lt;/name&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;..\\name-plus&lt;/module&gt;\r\n\t\t&lt;module&gt;..\\name-application&lt;/module&gt;\t\t\r\n\t&lt;/modules&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t\t&lt;forkMode&gt;once&lt;/forkMode&gt;\r\n\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t&lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.11&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t\t\t&lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n\t\t\t\t\t\t&lt;aspectLibraries&gt;\r\n\t\t\t\t\t\t\t&lt;aspectLibrary&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n\t\t\t\t\t\t&lt;/aspectLibraries&gt;\r\n\t\t\t\t\t\t&lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\r\n\t\t\t\t\t\t&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;!-- The oracle JDBC driver --&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\r\n\t\t\t\t\t\t&lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\r\n\t\t\t\t\t\t&lt;username&gt;ngc_user&lt;/username&gt;\r\n\t\t\t\t\t\t&lt;password&gt;ngc&lt;/password&gt;\r\n\t\t\t\t\t\t&lt;onError&gt;continue&lt;/onError&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;!-- The oracle JDBC driver --&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;test-jar&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.1.1&lt;/version&gt; \r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\r\n\t\t\t\t\t&lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n\t\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.10.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;        \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-mock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t\r\n\t\t&lt;!-- could only update this to 1.8 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 5.6.15 --&gt;\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 6.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- upgraded to 5.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;   \r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1_3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;!-- removed - no longer needed to add explicitly after spring 3.2\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;    \r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dwr&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ognl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;c3p0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0-alpha-1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- only able to update to 4.0.0 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  \t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n\t\t  \t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n\t\t  \t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- cant update this --&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n**ignore**\r\n\r\nadding more text at the bottom since it wont let me post as it looks like there is too much code lol","title":"AspectJ Maven Plugin wont compile my project after upgrading to java 11","body":"<p>I am trying to upgrade a project from java 8 to 11. I have updated the pom but i get an error about aspectJ not being able to compile it when running the build.</p>\n<p>Here is the error i get below.</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:aspectj-maven-plugin:1.8:compile (default) on project name: Execution default of goal org.codehaus.mojo:aspectj-maven-plugin:1.8:compile failed: Plugin org.codehaus.mojo:aspectj-maven-plugin:1.8 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:11.0.18 at specified path C:\\Program Files (x86)\\Amazon Corretto\\jdk11.0.18_10/../lib/tools.jar -&gt; [Help 1]\n</code></pre>\n<p>Here is my parent pom file - is there something wrong with it?</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.amor&lt;/groupId&gt;\n    &lt;artifactId&gt;name-parent&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;NAME Parent&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;..\\name-plus&lt;/module&gt;\n        &lt;module&gt;..\\name-application&lt;/module&gt;        \n    &lt;/modules&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/*DbUnitTest.java&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.11&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                        &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                        &lt;aspectLibraries&gt;\n                            &lt;aspectLibrary&gt;\n                                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                            &lt;/aspectLibrary&gt;\n                        &lt;/aspectLibraries&gt;\n                        &lt;aspectDirectory&gt;src/main/java&lt;/aspectDirectory&gt;\n                        &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;sql-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;configuration&gt;\n                        &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:oracle:thin:@localhost:1521:NGC&lt;/url&gt;\n                        &lt;username&gt;ngc_user&lt;/username&gt;\n                        &lt;password&gt;ngc&lt;/password&gt;\n                        &lt;onError&gt;continue&lt;/onError&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.4&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;!-- The oracle JDBC driver --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n                            &lt;version&gt;12.2.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test-jar&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1.1&lt;/version&gt; \n                &lt;configuration&gt;\n                    &lt;dependencyLocationsEnabled&gt;false&lt;/dependencyLocationsEnabled&gt;\n                    &lt;dependencyDetailsEnabled&gt;false&lt;/dependencyDetailsEnabled&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n    \n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-bom&lt;/artifactId&gt;\n                &lt;version&gt;3.2.10.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;        \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-mock&lt;/artifactId&gt;\n            &lt;version&gt;2.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        \n        &lt;!-- could only update this to 1.8 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;1.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;3.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 5.6.15 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;5.6.15.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 6.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- upgraded to 5.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\n            &lt;version&gt;2.1_3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- removed - no longer needed to add explicitly after spring 3.2\n        &lt;dependency&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;    \n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.12.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.directwebremoting&lt;/groupId&gt;\n            &lt;artifactId&gt;dwr&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;c3p0&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0-alpha-1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;1.9.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- only able to update to 4.0.0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- cant update this --&gt;\n        &lt;dependency&gt;\n              &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n              &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n              &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n          &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>ignore</strong></p>\n<p>adding more text at the bottom since it wont let me post as it looks like there is too much code lol</p>\n"},{"tags":["java","firebase","firebase-authentication","google-signin"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1681480681,"post_id":76015429,"comment_id":134067781,"body_markdown":"You might want to try if an auth state listener picks up the user, as shown here: https://stackoverflow.com/collectives/google-cloud/articles/68104924/listen-for-authentication-state-in-android","body":"You might want to try if an auth state listener picks up the user, as shown here: <a href=\"https://stackoverflow.com/collectives/google-cloud/articles/68104924/listen-for-authentication-state-in-android\">stackoverflow.com/collectives/google-cloud/articles/68104924&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681542679,"post_id":76015429,"comment_id":134076222,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681542743,"post_id":76015429,"comment_id":134076226,"body_markdown":"Besides that, since you&#39;re still using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Besides that, since you&#39;re still using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":26488690,"reputation":11,"user_id":20126846,"display_name":"Didi Santoso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681480565,"creation_date":1681477640,"question_id":76015429,"body_markdown":"I&#39;m developing the log in feature for an Android app using firebase. What i want is that when the user log in and the exit the apps without log out, and then re open the apps, they will be automatically log in and go to HomeFragment(BottomNavigationBar). But on this code, what happen is that when i first install the apps, it just automatically open the HomeFragment(BottomNavigationBar) .\r\n\r\n\r\nThis is the first activity when the user open the apps:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button button;\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    FirebaseAuth.AuthStateListener mAuthListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Delay for 2 seconds\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n//              CHECKING IS THERE USER OR NOT\r\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (user == null) {\r\n                    // User is signed in (getCurrentUser() will be null if not signed in)\r\n                    Intent intent = new Intent(MainActivity.this, BottomNavigationBar.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                } else {\r\n                    //User is not logged in, go to login page\r\n                    Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n        }, 2000);\r\n        hideNavigationBar();\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nThis is an additional information where the error happen right when i implemented this code for google log in its only just a possibility tho\r\n\r\nLoginActivity:\r\n```\r\n// After successful login, check if this is the user&#39;s first time logging in\r\nboolean isNewUser = task.getResult().getAdditionalUserInfo().isNewUser();\r\nif (isNewUser) {\r\n    // Redirect to Home Page if new user\r\n    Intent intent = new Intent(LoginPage.this, PreferencePage.class);\r\n    startActivity(intent);\r\n    finish();\r\n} else {\r\n    // Redirect to Preference Page if existing user\r\n    Intent intent = new Intent(LoginPage.this, BottomNavigationBar.class);\r\n    startActivity(intent);\r\n    finish();\r\n}\r\n```\r\n\r\n\r\n\r\ni&#39;ve tried reversed it , and comment the cause and everything else, chat gpt and stuff im so confuse and stuck with this bug, what i want to happen is simple, because it has worked before, when i use the sharedpreference instead the boolean, the result when i change into a boolean is that","title":"My Auto Log in using Firebase on android studio is not working","body":"<p>I'm developing the log in feature for an Android app using firebase. What i want is that when the user log in and the exit the apps without log out, and then re open the apps, they will be automatically log in and go to HomeFragment(BottomNavigationBar). But on this code, what happen is that when i first install the apps, it just automatically open the HomeFragment(BottomNavigationBar) .</p>\n<p>This is the first activity when the user open the apps:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Button button;\n\n    private FirebaseAuth firebaseAuth;\n    FirebaseAuth.AuthStateListener mAuthListener;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Delay for 2 seconds\n        Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n//              CHECKING IS THERE USER OR NOT\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                if (user == null) {\n                    // User is signed in (getCurrentUser() will be null if not signed in)\n                    Intent intent = new Intent(MainActivity.this, BottomNavigationBar.class);\n                    startActivity(intent);\n                    finish();\n                } else {\n                    //User is not logged in, go to login page\n                    Intent intent = new Intent(MainActivity.this, LoginPage.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        }, 2000);\n        hideNavigationBar();\n    }\n\n</code></pre>\n<p>This is an additional information where the error happen right when i implemented this code for google log in its only just a possibility tho</p>\n<p>LoginActivity:</p>\n<pre><code>// After successful login, check if this is the user's first time logging in\nboolean isNewUser = task.getResult().getAdditionalUserInfo().isNewUser();\nif (isNewUser) {\n    // Redirect to Home Page if new user\n    Intent intent = new Intent(LoginPage.this, PreferencePage.class);\n    startActivity(intent);\n    finish();\n} else {\n    // Redirect to Preference Page if existing user\n    Intent intent = new Intent(LoginPage.this, BottomNavigationBar.class);\n    startActivity(intent);\n    finish();\n}\n</code></pre>\n<p>i've tried reversed it , and comment the cause and everything else, chat gpt and stuff im so confuse and stuck with this bug, what i want to happen is simple, because it has worked before, when i use the sharedpreference instead the boolean, the result when i change into a boolean is that</p>\n"},{"tags":["java","spring","spring-boot","application.properties"],"comments":[{"owner":{"account_id":1868353,"reputation":9514,"user_id":1691311,"accept_rate":100,"display_name":"Randy"},"score":0,"creation_date":1681480701,"post_id":76015838,"comment_id":134067788,"body_markdown":"Perhaps you&#39;re looking for something like this: https://www.baeldung.com/spring-boot-json-properties","body":"Perhaps you&#39;re looking for something like this: <a href=\"https://www.baeldung.com/spring-boot-json-properties\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-json-properties</a>"},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1681482453,"post_id":76015838,"comment_id":134068239,"body_markdown":"I will give it a try, thanks for pointing this. But in case do you know if something similar could be done with the properties file instead of adding a json file and then reading it?","body":"I will give it a try, thanks for pointing this. But in case do you know if something similar could be done with the properties file instead of adding a json file and then reading it?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1681486696,"post_id":76015838,"comment_id":134069418,"body_markdown":"You could add in your properties file something like `description: value :&quot;This is a description&quot;`(check some yaml example for exact syntax), and then read it in a class annotated with `Configuration`.","body":"You could add in your properties file something like <code>description: value :&quot;This is a description&quot;</code>(check some yaml example for exact syntax), and then read it in a class annotated with <code>Configuration</code>."}],"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681480366,"creation_date":1681480366,"question_id":76015838,"body_markdown":"Is there a way I can pass a complex object in the application.properties file as a key value pair where the value of the key would be a json and then read that in my Java class? \r\nEx I want to pass something similar to the below json structure:\r\n```\r\n[\r\n   {\r\n      &quot;property&quot;: &quot;description&quot;,\r\n      &quot;value&quot;: &quot;This is a description&quot;,\r\n      &quot;required&quot;: true\r\n   },\r\n   {\r\n      &quot;property&quot;: &quot;link&quot;,\r\n      &quot;value&quot;: &quot;This is a link&quot;,\r\n      &quot;required&quot;: false\r\n   }\r\n]\r\n\r\n```\r\n \r\n","title":"How to pass a complex object in application.properties file in Spring application","body":"<p>Is there a way I can pass a complex object in the application.properties file as a key value pair where the value of the key would be a json and then read that in my Java class?\nEx I want to pass something similar to the below json structure:</p>\n<pre><code>[\n   {\n      &quot;property&quot;: &quot;description&quot;,\n      &quot;value&quot;: &quot;This is a description&quot;,\n      &quot;required&quot;: true\n   },\n   {\n      &quot;property&quot;: &quot;link&quot;,\n      &quot;value&quot;: &quot;This is a link&quot;,\n      &quot;required&quot;: false\n   }\n]\n\n</code></pre>\n"},{"tags":["java","csv","hadoop","mapreduce"],"comments":[{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":0,"creation_date":1530564004,"post_id":51143195,"comment_id":89271013,"body_markdown":"Can you please show us what you have attempted?","body":"Can you please show us what you have attempted?"},{"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"score":0,"creation_date":1530566758,"post_id":51143195,"comment_id":89271983,"body_markdown":"@Dragonthoughts Sorry, I have now  edited my questions and added piece of the  code","body":"@Dragonthoughts Sorry, I have now  edited my questions and added piece of the  code"},{"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"score":1,"creation_date":1530691272,"post_id":51143195,"comment_id":89320124,"body_markdown":"Thanks @KlingKlang. was a typo","body":"Thanks @KlingKlang. was a typo"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479692,"creation_date":1530589982,"answer_id":51146435,"question_id":51143195,"body_markdown":"You should build a Hive table over the text file, and that will define the &quot;headers&quot; in the Hive schema rather than another random row in the file.  \r\nMore importantly, Map Reduce cannot guarantee your header is the first row in the file. \r\n\r\n    CREATE EXTERNAL TABLE x ( \r\n      id INT, title STRING, link STRING\r\n    ) \r\n    ROW FORMAT DELIMITED FIELDS TERMINATED BY &#39;,&#39;\r\n    STORED AS TEXTFILE\r\n    LOCATION &#39;hdfs://mapred/outputDir&#39;;\r\n\r\nFrom that, you can write a Hive query to output to a separate CSV file, if needed\r\n\r\n---\r\n\r\nAlso, Spark can read XML, parse it, and write out CSV with headers, I believe, which might be better for your use case","title":"Hadoop MapReduce output with header","body":"<p>You should build a Hive table over the text file, and that will define the &quot;headers&quot; in the Hive schema rather than another random row in the file.<br />\nMore importantly, Map Reduce cannot guarantee your header is the first row in the file.</p>\n<pre><code>CREATE EXTERNAL TABLE x ( \n  id INT, title STRING, link STRING\n) \nROW FORMAT DELIMITED FIELDS TERMINATED BY ','\nSTORED AS TEXTFILE\nLOCATION 'hdfs://mapred/outputDir';\n</code></pre>\n<p>From that, you can write a Hive query to output to a separate CSV file, if needed</p>\n<hr />\n<p>Also, Spark can read XML, parse it, and write out CSV with headers, I believe, which might be better for your use case</p>\n"}],"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681479692,"creation_date":1530562681,"question_id":51143195,"body_markdown":"How can I output a header on my map/reduce job only one time to use is as a csv for hive import instead of manually entering column names. \r\n\r\n public class MyMapper extends Mapper&lt;LongWritable, Text, Text, NullWritable&gt; {\r\n\t \r\n\t\tpublic void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n\t\ttry {\r\n\t\t\tInputStream is = new ByteArrayInputStream(value.toString().getBytes());\r\n\t\t\tDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t\t\tDocument doc = dBuilder.parse(is);\r\n\t\t\t//....\r\n\t\t\t\r\n\t\t\tdoc.getDocumentElement().normalize();\r\n\t\t\t\r\n\t\t\t// .......\r\n\t\t\t//context.write(new Text(&quot;el_from \\t Title \\t External Link&quot;), NullWritable.get());\r\n\t\t\t// .... \r\n\t\t\t\t\tString title = eElement.getElementsByTagName(&quot;title&quot;).item(0).getTextContent();\r\n\t\t\t\t\ttext = eElement.getElementsByTagName(&quot;text&quot;).item(0).getTextContent();\r\n\t\t\t\t\tString id = eElement.getElementsByTagName(&quot;id&quot;).item(0).getTextContent(); \r\n\t\t\t\t\t for(int j = 0; j &lt;  externalLinks.length; j++)\r\n\t\t\t\t\t {\r\n\t\t\t\t\t\t Pattern prl = Pattern.compile(&quot;(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?&quot;);\r\n\t\t\t\t\t\t Matcher ml = prl.matcher(externalLinks[j]);\r\n\t\t\t\t\t\t if(ml.find()) {\r\n\t\t\t\t\t\t\t MatchResult mlr = ml.toMatchResult();\r\n\t\t\t\t\t\t\t context.write(new Text(id+&quot;,&quot;+title + &quot;,&quot;+ mlr.group(0)), NullWritable.get());\r\n\t\t\t\t\t\t }\t\t\t\t\t\t \r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// LogWriter.getInstance().WriteLog(e.getMessage());\r\n\t\t}\r\n\t\t}\r\n\t\t}`enter code here`\r\n\r\n\r\nThe result which I got is like this \r\n\r\n3,agricoltura,http://www.treccani.it\r\n\r\n3,agricoltura,http://www.wwf.it/client/render.aspx\r\n\r\nThe result I want is like below with a header \r\n\r\nid, title, link\r\n\r\n3,agricoltura,http://www.treccani.it\r\n\r\n3,agricoltura,http://www.wwf.it/client/render.aspx\r\n","title":"Hadoop MapReduce output with header","body":"<p>How can I output a header on my map/reduce job only one time to use is as a csv for hive import instead of manually entering column names. </p>\n\n<p>public class MyMapper extends Mapper {</p>\n\n<pre><code>    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n    try {\n        InputStream is = new ByteArrayInputStream(value.toString().getBytes());\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n        Document doc = dBuilder.parse(is);\n        //....\n\n        doc.getDocumentElement().normalize();\n\n        // .......\n        //context.write(new Text(\"el_from \\t Title \\t External Link\"), NullWritable.get());\n        // .... \n                String title = eElement.getElementsByTagName(\"title\").item(0).getTextContent();\n                text = eElement.getElementsByTagName(\"text\").item(0).getTextContent();\n                String id = eElement.getElementsByTagName(\"id\").item(0).getTextContent(); \n                 for(int j = 0; j &lt;  externalLinks.length; j++)\n                 {\n                     Pattern prl = Pattern.compile(\"(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?\");\n                     Matcher ml = prl.matcher(externalLinks[j]);\n                     if(ml.find()) {\n                         MatchResult mlr = ml.toMatchResult();\n                         context.write(new Text(id+\",\"+title + \",\"+ mlr.group(0)), NullWritable.get());\n                     }                       \n                 }\n            }\n        }\n    } catch (Exception e) {\n        // LogWriter.getInstance().WriteLog(e.getMessage());\n    }\n    }\n    }`enter code here`\n</code></pre>\n\n<p>The result which I got is like this </p>\n\n<p>3,agricoltura,<a href=\"http://www.treccani.it\" rel=\"nofollow noreferrer\">http://www.treccani.it</a></p>\n\n<p>3,agricoltura,<a href=\"http://www.wwf.it/client/render.aspx\" rel=\"nofollow noreferrer\">http://www.wwf.it/client/render.aspx</a></p>\n\n<p>The result I want is like below with a header </p>\n\n<p>id, title, link</p>\n\n<p>3,agricoltura,<a href=\"http://www.treccani.it\" rel=\"nofollow noreferrer\">http://www.treccani.it</a></p>\n\n<p>3,agricoltura,<a href=\"http://www.wwf.it/client/render.aspx\" rel=\"nofollow noreferrer\">http://www.wwf.it/client/render.aspx</a></p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1681458990,"post_id":76011885,"comment_id":134062712,"body_markdown":"The old MapReduce API was replaced over a decade ago. New MapReduce is hardly used anymore so you really should consider upgrading. Have you looked at Apache Spark?","body":"The old MapReduce API was replaced over a decade ago. New MapReduce is hardly used anymore so you really should consider upgrading. Have you looked at Apache Spark?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681479669,"post_id":76011885,"comment_id":134067520,"body_markdown":"Previous answer where I suggested using Hive instead https://stackoverflow.com/a/51146435/2308683 But yes, SparkSQL can do the same","body":"Previous answer where I suggested using Hive instead <a href=\"https://stackoverflow.com/a/51146435/2308683\">stackoverflow.com/a/51146435/2308683</a> But yes, SparkSQL can do the same"}],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681479597,"creation_date":1681450638,"question_id":76011885,"body_markdown":"I want to add a header to output files of hadoop map reduce based on the key passed to reducer. That is, I want the header to vary based on input that the reducer is processing. Is there a way to do this in MapReduce?","title":"How to add header to output files in Java map reduce?","body":"<p>I want to add a header to output files of hadoop map reduce based on the key passed to reducer. That is, I want the header to vary based on input that the reducer is processing. Is there a way to do this in MapReduce?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset"],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681479424,"creation_date":1681479424,"answer_id":76015691,"question_id":76015555,"body_markdown":"You were close, you need to transform it to Java list:\r\n\r\n    ds.schema().toList()\r\n\r\nFull code:\r\n\r\n    scala.collection.immutable.List&lt;StructField&gt; schemaList = ds.schema().toList();\r\n","title":"Deconstructing Spark SQL Dataset&lt;Row&gt; back into its individual StructFields/columns","body":"<p>You were close, you need to transform it to Java list:</p>\n<pre><code>ds.schema().toList()\n</code></pre>\n<p>Full code:</p>\n<pre><code>scala.collection.immutable.List&lt;StructField&gt; schemaList = ds.schema().toList();\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76015691,"answer_count":1,"score":1,"last_activity_date":1681479457,"creation_date":1681478487,"question_id":76015555,"body_markdown":"Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I&#39;m using and interested in the Java API and would appreciate Java answers, but I can probably decipher Scala/Python-based answers and do the necessary Scala/Python-to-Java conversions if necessary. But Java would be appreciated!\r\n\r\n---\r\n\r\nI understand how to create a new `Dataset&lt;Row&gt;` with a specified schema:\r\n```\r\nDataset&lt;Row&gt; dataFrame = sparkSession.emptyDataFrame();\r\n\r\nList&lt;StructField&gt; structFields = getSomehow();\r\n\r\nStructType schema = DataTypes.createStructType(structFields.toArray(StructField[]::new));\r\nDataset&lt;Row&gt; ds = sparkSession.createDataFrame(dataFrame.rdd(), schema);\r\n```\r\n\r\nWhat I&#39;m trying to understand is: **how do I do the reverse of this?** How do I turn a `Dataset&lt;Row&gt;` back into a `List&lt;StructField&gt;` (its schema; columns)? I see the `ds.schema()` method, which returns a `StructType`, but not sure how to deconstruct that back into a list of individual columns/`StructFields`. Any ideas?","title":"Deconstructing Spark SQL Dataset&lt;Row&gt; back into its individual StructFields/columns","body":"<p>Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I'm using and interested in the Java API and would appreciate Java answers, but I can probably decipher Scala/Python-based answers and do the necessary Scala/Python-to-Java conversions if necessary. But Java would be appreciated!</p>\n<hr />\n<p>I understand how to create a new <code>Dataset&lt;Row&gt;</code> with a specified schema:</p>\n<pre><code>Dataset&lt;Row&gt; dataFrame = sparkSession.emptyDataFrame();\n\nList&lt;StructField&gt; structFields = getSomehow();\n\nStructType schema = DataTypes.createStructType(structFields.toArray(StructField[]::new));\nDataset&lt;Row&gt; ds = sparkSession.createDataFrame(dataFrame.rdd(), schema);\n</code></pre>\n<p>What I'm trying to understand is: <strong>how do I do the reverse of this?</strong> How do I turn a <code>Dataset&lt;Row&gt;</code> back into a <code>List&lt;StructField&gt;</code> (its schema; columns)? I see the <code>ds.schema()</code> method, which returns a <code>StructType</code>, but not sure how to deconstruct that back into a list of individual columns/<code>StructFields</code>. Any ideas?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":6489457,"reputation":366,"user_id":5023974,"display_name":"Antoine Lefebvre"},"score":0,"creation_date":1603123406,"post_id":64431007,"comment_id":113930321,"body_markdown":"first you could start changing j=0 by j=i+1 to avoid checking things twice but that only divides the number of computations by 2","body":"first you could start changing j=0 by j=i+1 to avoid checking things twice but that only divides the number of computations by 2"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1603123834,"post_id":64431007,"comment_id":113930507,"body_markdown":"First, start with posting the code that compiles (does not have an obvious typos/syntax errors); then, please respect the Java Naming Conventions, and change `__gcd` with `gcd`.","body":"First, start with posting the code that compiles (does not have an obvious typos/syntax errors); then, please respect the Java Naming Conventions, and change <code>__gcd</code> with <code>gcd</code>."}],"answers":[{"tags":[],"owner":{"account_id":6489457,"reputation":366,"user_id":5023974,"display_name":"Antoine Lefebvre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603124786,"creation_date":1603124786,"answer_id":64431478,"question_id":64431007,"body_markdown":"Your algorithm is currently O(n^2*log(S)). n = number of items, S = size of the numbers\r\n\r\nI believe it can be achieved in O(n*n) (which not necessarily is great gain). \r\n\r\n - To do so, you&#39;ll first to new to compute of each element in the array their prime factors (which can be achieved in O(log(S)) with S being the size of the numbers.\r\n - Store the results in a List for each number (so you will have N Lists). The average length of those lists will be the average number of prime factors which is given here: https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:~:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes.\r\n - Create a reverse map that for each prime factor give you the indices of the numbers that have this prime factor\r\n - Then loop again through all the numbers and for each of them loop through their prime factors (which is more or less a constant based on the size of the numbers) and deduct the numbers that shares a common prime factors. You will then be left with the list of coprime numbers. For each number, this step is O(n). \r\n\r\nNote: you&#39;re probably fine with the original code...","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>Your algorithm is currently O(n^2*log(S)). n = number of items, S = size of the numbers</p>\n<p>I believe it can be achieved in O(n*n) (which not necessarily is great gain).</p>\n<ul>\n<li>To do so, you'll first to new to compute of each element in the array their prime factors (which can be achieved in O(log(S)) with S being the size of the numbers.</li>\n<li>Store the results in a List for each number (so you will have N Lists). The average length of those lists will be the average number of prime factors which is given here: <a href=\"https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:%7E:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:~:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes</a>.</li>\n<li>Create a reverse map that for each prime factor give you the indices of the numbers that have this prime factor</li>\n<li>Then loop again through all the numbers and for each of them loop through their prime factors (which is more or less a constant based on the size of the numbers) and deduct the numbers that shares a common prime factors. You will then be left with the list of coprime numbers. For each number, this step is O(n).</li>\n</ul>\n<p>Note: you're probably fine with the original code...</p>\n"},{"tags":[],"owner":{"account_id":25667013,"reputation":48,"user_id":19431798,"display_name":"Trriger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479114,"creation_date":1681479114,"answer_id":76015634,"question_id":64431007,"body_markdown":"i am a beginner in java so pardon my stupidity... but the easiest chang you could make would be change `a-b` to `a%b` in \r\n```\r\nstatic int gcd(int a, int b) {\r\n  // Everything divides 0\r\n  if (a == 0 || b == 0)\r\n    return 0;\r\n\r\n  // base case\r\n  if (a == b)\r\n    return a;\r\n\r\n  // a is greater\r\n  if (a &gt; b)\r\n    return gcd(a % b, b);\r\n\r\n  return gcd(a, b % a);\r\n}\r\n```\r\nthis reduces repetitive calls on same smaller number.\r\nthat&#39;s the best i can come up with\r\n\r\n","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>i am a beginner in java so pardon my stupidity... but the easiest chang you could make would be change <code>a-b</code> to <code>a%b</code> in</p>\n<pre><code>static int gcd(int a, int b) {\n  // Everything divides 0\n  if (a == 0 || b == 0)\n    return 0;\n\n  // base case\n  if (a == b)\n    return a;\n\n  // a is greater\n  if (a &gt; b)\n    return gcd(a % b, b);\n\n  return gcd(a, b % a);\n}\n</code></pre>\n<p>this reduces repetitive calls on same smaller number.\nthat's the best i can come up with</p>\n"}],"owner":{"account_id":19772895,"reputation":11,"user_id":14479536,"display_name":"Amos George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681479114,"creation_date":1603123104,"question_id":64431007,"body_markdown":"I&#39;m working on a mini-project. \r\nI&#39;m tasked to find elements in the array that is coprime with all other values. \r\nI came up with a method that uses a double for-loop. However, I believe the time complexity is not going to be favorable, especially if the array of elements is huge. \r\n\r\nThese are what I have:\r\n```\r\nArrayList&lt;Integer&gt; getAllCoPrimes(int[] inputs) {\r\n    ArrayList&lt;Integer&gt; coprimes = new ArrayList&lt;&gt;();\r\n    int[] elementsCount = new int[inputs.length];\r\n    for (int i = 0; i &lt; inputs.length; i++) {\r\n        int x = inputs[i];\r\n        for (int j = 0; j &lt; inputs.length; j++) {\r\n            int y = inputs[j];\r\n            if (i != j) {\r\n                if (gcd(x, y) == 1) {\r\n                    elementsCount[i]++;\r\n                    if (elementsCount[i] == inputs.length) //x is a coprime with all the elements in the array\r\n                        coprimes.add(x);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return coprimes;\r\n}\r\n\r\nstatic int gcd(int a, int b) {\r\n  // Everything divides 0\r\n  if (a == 0 || b == 0)\r\n    return 0;\r\n\r\n  // base case\r\n  if (a == b)\r\n    return a;\r\n\r\n  // a is greater\r\n  if (a &gt; b)\r\n    return gcd(a - b, b);\r\n\r\n  return gcd(a, b - a);\r\n}\r\n```\r\nI would like to ask is there any way I can improve my method to run more efficiently? Thank you in advance :)","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>I'm working on a mini-project.\nI'm tasked to find elements in the array that is coprime with all other values.\nI came up with a method that uses a double for-loop. However, I believe the time complexity is not going to be favorable, especially if the array of elements is huge.</p>\n<p>These are what I have:</p>\n<pre><code>ArrayList&lt;Integer&gt; getAllCoPrimes(int[] inputs) {\n    ArrayList&lt;Integer&gt; coprimes = new ArrayList&lt;&gt;();\n    int[] elementsCount = new int[inputs.length];\n    for (int i = 0; i &lt; inputs.length; i++) {\n        int x = inputs[i];\n        for (int j = 0; j &lt; inputs.length; j++) {\n            int y = inputs[j];\n            if (i != j) {\n                if (gcd(x, y) == 1) {\n                    elementsCount[i]++;\n                    if (elementsCount[i] == inputs.length) //x is a coprime with all the elements in the array\n                        coprimes.add(x);\n                }\n            }\n        }\n    }\n    return coprimes;\n}\n\nstatic int gcd(int a, int b) {\n  // Everything divides 0\n  if (a == 0 || b == 0)\n    return 0;\n\n  // base case\n  if (a == b)\n    return a;\n\n  // a is greater\n  if (a &gt; b)\n    return gcd(a - b, b);\n\n  return gcd(a, b - a);\n}\n</code></pre>\n<p>I would like to ask is there any way I can improve my method to run more efficiently? Thank you in advance :)</p>\n"},{"tags":["javascript","java","spring-boot","vue.js","vuejs3"],"comments":[{"owner":{"account_id":20481349,"reputation":191,"user_id":16551561,"display_name":"Tufan Atak"},"score":0,"creation_date":1681479419,"post_id":76015612,"comment_id":134067459,"body_markdown":"How did you get encodeURIComponent(&quot;file14/04/2023&quot;)=&quot;file14%2F04%2F2023=&quot; instead of encodeURIComponent(&quot;file14/04/2023&quot;)=&#39;file14%2F04%2F2023&#39;?\n\nYou have to decode the message in backend to receive the wanted (encoded) message.","body":"How did you get encodeURIComponent(&quot;file14/04/2023&quot;)=&quot;file14%2F04%2F2023=&quot; instead of encodeURIComponent(&quot;file14/04/2023&quot;)=&#39;file14%2F04%2F2023&#39;?  You have to decode the message in backend to receive the wanted (encoded) message."},{"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"score":0,"creation_date":1681481283,"post_id":76015612,"comment_id":134067928,"body_markdown":"even without encoding it doesn&#39;t work","body":"even without encoding it doesn&#39;t work"}],"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681479641,"answer_count":0,"score":0,"last_activity_date":1681478947,"creation_date":1681478947,"question_id":76015612,"body_markdown":"I want to send data from Vuejs to SpringBoot with HTTP method \r\nIn my vuejs application: \r\n\r\n    let message = encodeURIComponent(this.NonFichier)\r\n      axios\r\n        .post(&#39;http://localhost:8080/apii/Recevoir&#39;, message)\r\n        .then((resonse) =&gt; {\r\n          console.log(resonse.data)\r\n        })\r\n        .catch((error) =&gt; {\r\n          console.log(error)\r\n        })\r\n    },\r\nand in my SpringBoot programme : \r\n\r\n    @PostMapping(value = &quot;/Recevoir&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; recevoir(@RequestBody String message) {\r\n        System.out.println(&quot;Le message re&#231;u est : &quot; + message);\r\n        return ResponseEntity.ok(&quot;String re&#231;u avec succ&#232;s ! et la donner recu est : &quot; + message);\r\n    }\r\n\r\nBut the problem is I do not receiv the same data \r\nFor exemple if i send =  \r\n\r\n&gt; file14/04/2023\r\n\r\nIn spring I receive : \r\n\r\n&gt; file14%2F04%2F2023=\r\n\r\nPlease, what i can do to receive the same data that i send ? \r\n\r\n","title":"problem of sending/receive data from vuejs to SpringBoot","body":"<p>I want to send data from Vuejs to SpringBoot with HTTP method\nIn my vuejs application:</p>\n<pre><code>let message = encodeURIComponent(this.NonFichier)\n  axios\n    .post('http://localhost:8080/apii/Recevoir', message)\n    .then((resonse) =&gt; {\n      console.log(resonse.data)\n    })\n    .catch((error) =&gt; {\n      console.log(error)\n    })\n},\n</code></pre>\n<p>and in my SpringBoot programme :</p>\n<pre><code>@PostMapping(value = &quot;/Recevoir&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; recevoir(@RequestBody String message) {\n    System.out.println(&quot;Le message reçu est : &quot; + message);\n    return ResponseEntity.ok(&quot;String reçu avec succès ! et la donner recu est : &quot; + message);\n}\n</code></pre>\n<p>But the problem is I do not receiv the same data\nFor exemple if i send =</p>\n<blockquote>\n<p>file14/04/2023</p>\n</blockquote>\n<p>In spring I receive :</p>\n<blockquote>\n<p>file14%2F04%2F2023=</p>\n</blockquote>\n<p>Please, what i can do to receive the same data that i send ?</p>\n"},{"tags":["java","elasticsearch","highlight"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681471714,"creation_date":1681471714,"answer_id":76014635,"question_id":76014462,"body_markdown":"\r\nyou do not need to instantiate more than one HighlightBuilder. HighlightBuilder uses pattern builder, to apply more points just add &quot;fields&quot; in the same HighlightBuilder instance.\r\n\r\n\r\n    String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\r\n\r\n    // Build the search request\r\n    SearchRequest searchRequest = new SearchRequest(indices);\r\n\r\n    // Build the search source\r\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\r\n\r\n    // Build highlighters for each index\r\n    HighlightBuilder highlightBuilder = new HighlightBuilder().field(&quot;field1&quot;).field(&quot;field2&quot;).field(&quot;field3&quot;);\r\n\r\n    // Add highlighters to the search source for each index\r\n    searchSourceBuilder.highlighter(highlightBuilder);\r\n\r\n    // Set the search source on the search request\r\n    searchRequest.source(searchSourceBuilder);","title":"ElasticSearch search query with a highlighter per index","body":"<p>you do not need to instantiate more than one HighlightBuilder. HighlightBuilder uses pattern builder, to apply more points just add &quot;fields&quot; in the same HighlightBuilder instance.</p>\n<pre><code>String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\n\n// Build the search request\nSearchRequest searchRequest = new SearchRequest(indices);\n\n// Build the search source\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nsearchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\n\n// Build highlighters for each index\nHighlightBuilder highlightBuilder = new HighlightBuilder().field(&quot;field1&quot;).field(&quot;field2&quot;).field(&quot;field3&quot;);\n\n// Add highlighters to the search source for each index\nsearchSourceBuilder.highlighter(highlightBuilder);\n\n// Set the search source on the search request\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n"}],"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681478940,"creation_date":1681470362,"question_id":76014462,"body_markdown":"When performing an ElasticSearch search operation from Java code, typically you create a SearchRequest with some indices as parameter, since the search is done across several indices. \r\nNow I would like to be able to use a separate highlighter for each such index, e.g.:\r\n\r\n         \r\n        // Define the indices to search on\r\n        String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\r\n\r\n        // Build the search request\r\n        SearchRequest searchRequest = new SearchRequest(indices);\r\n\r\n        // Build the search source\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\r\n\r\n        // Build highlighters for each index\r\n        HighlightBuilder highlightBuilder1 = new HighlightBuilder().field(&quot;field1&quot;);\r\n        HighlightBuilder highlightBuilder2 = new HighlightBuilder().field(&quot;field2&quot;);\r\n        HighlightBuilder highlightBuilder3 = new HighlightBuilder().field(&quot;field3&quot;);\r\n\r\n        // Add highlighters to the search source for each index\r\n        searchSourceBuilder.highlighter(highlightBuilder1);\r\n        searchSourceBuilder.highlighter(highlightBuilder2);\r\n        searchSourceBuilder.highlighter(highlightBuilder3);\r\n\r\n        // Set the search source on the search request\r\n        searchRequest.source(searchSourceBuilder);\r\n\r\nHowever, the call to ***searchSourceBuilder.highlighter*** simply overwrites a previous highlighter, so this won&#39;t work. Is there any way to do that ? ","title":"ElasticSearch search query with a highlighter per index","body":"<p>When performing an ElasticSearch search operation from Java code, typically you create a SearchRequest with some indices as parameter, since the search is done across several indices.\nNow I would like to be able to use a separate highlighter for each such index, e.g.:</p>\n<pre><code>    // Define the indices to search on\n    String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\n\n    // Build the search request\n    SearchRequest searchRequest = new SearchRequest(indices);\n\n    // Build the search source\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\n\n    // Build highlighters for each index\n    HighlightBuilder highlightBuilder1 = new HighlightBuilder().field(&quot;field1&quot;);\n    HighlightBuilder highlightBuilder2 = new HighlightBuilder().field(&quot;field2&quot;);\n    HighlightBuilder highlightBuilder3 = new HighlightBuilder().field(&quot;field3&quot;);\n\n    // Add highlighters to the search source for each index\n    searchSourceBuilder.highlighter(highlightBuilder1);\n    searchSourceBuilder.highlighter(highlightBuilder2);\n    searchSourceBuilder.highlighter(highlightBuilder3);\n\n    // Set the search source on the search request\n    searchRequest.source(searchSourceBuilder);\n</code></pre>\n<p>However, the call to <em><strong>searchSourceBuilder.highlighter</strong></em> simply overwrites a previous highlighter, so this won't work. Is there any way to do that ?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":4,"creation_date":1681467531,"post_id":76014000,"comment_id":134064721,"body_markdown":"if you mock the class, you cannot test it. Therefore, you should try a different approach. One option would be to use an in-memory database such as H2: https://www.baeldung.com/spring-jpa-test-in-memory-database. alternatively, you can use test containers, but they require a more complex setup: https://www.testcontainers.org/","body":"if you mock the class, you cannot test it. Therefore, you should try a different approach. One option would be to use an in-memory database such as H2: <a href=\"https://www.baeldung.com/spring-jpa-test-in-memory-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-test-in-memory-database</a>. alternatively, you can use test containers, but they require a more complex setup: <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers.org</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681477368,"post_id":76014000,"comment_id":134066960,"body_markdown":"Which test runner are you using? But if you mock your class, you are no longer testing your class – you are testing the mock. The test as shown does not test anything (well, except that methods stubbed by Mockito return the stubbed value). Related: https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","body":"Which test runner are you using? But if you mock your class, you are no longer testing your class – you are testing the mock. The test as shown does not test anything (well, except that methods stubbed by Mockito return the stubbed value). Related: <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681477056,"creation_date":1681477056,"answer_id":76015343,"question_id":76014000,"body_markdown":"As rightly pointed out in comments - you&#39;re mocking the class you&#39;re trying to test, which defeats the whole idea of testing in the first place.\r\n\r\nThere&#39;re multiple ways and philosophies how to approach testing, but leaving the philosophical discussions aside, in the case of testing the repository what you&#39;re actually trying to test is that:\r\n\r\n1. The data is saved in the data store of choice, say a relational database.\r\n2. The query for the data is correct and returns the expected value(s).\r\n\r\nThus, having a mocked instance of the test subject does not make sense.\r\n\r\nHaving said that, if your environment permits, I&#39;d go with Testcontainers. They have the advantage, that you can test your code against the actual database process of the DB of your choice. E.g. assuming you&#39;re using Postgres Database, the test code could look like this:\r\n\r\n```java\r\n// imports and packaging omitted for brevity\r\n@SpringBootTest(\r\n  classes = {AddressRepo.class}\r\n)\r\n@Testcontainers\r\nclass AddressRepoTest {\r\n  \r\n  private static final PostgreSQLContainer&lt;?&gt; POSTGRES_SQL_CONTAINER =\r\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.4&quot;);\r\n  \r\n  @BeforeAll\r\n  static void setupContainer() {\r\n    POSTGRES_SQL_CONTAINER.start();\r\n  }\r\n\r\n  @AfterAll\r\n  static void cleanup() {\r\n    POSTGRES_SQL_CONTAINER.stop();\r\n  }\r\n\r\n  @DynamicPropertySource\r\n  static void springProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;spring.datasource.url&quot;, POSTGRES_SQL_CONTAINER::getJdbcUrl);\r\n    registry.add(&quot;spring.datasource.username&quot;, POSTGRES_SQL_CONTAINER::getUsername);\r\n    registry.add(&quot;spring.datasource.password&quot;, POSTGRES_SQL_CONTAINER::getPassword);\r\n  }\r\n\r\n  @Autowired\r\n  private AddressRepository addressRepository;\r\n\r\n  @Test\r\n  public void testRepo(){\r\n    // given  \r\n    Address address = new Address();\r\n    address.setid(1));\r\n    address.setLine1(&quot;address line 1&quot;);\r\n    addressRepository.save(address)\r\n\r\n    // when\r\n    List&lt;Address&gt; addresses = repository.getAddressResults();\r\n\r\n    // then\r\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThe code above assumes that you have proper dependencies setup in your build tool, you can find Testcontainer docs here: https://www.testcontainers.org/.\r\n","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>As rightly pointed out in comments - you're mocking the class you're trying to test, which defeats the whole idea of testing in the first place.</p>\n<p>There're multiple ways and philosophies how to approach testing, but leaving the philosophical discussions aside, in the case of testing the repository what you're actually trying to test is that:</p>\n<ol>\n<li>The data is saved in the data store of choice, say a relational database.</li>\n<li>The query for the data is correct and returns the expected value(s).</li>\n</ol>\n<p>Thus, having a mocked instance of the test subject does not make sense.</p>\n<p>Having said that, if your environment permits, I'd go with Testcontainers. They have the advantage, that you can test your code against the actual database process of the DB of your choice. E.g. assuming you're using Postgres Database, the test code could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// imports and packaging omitted for brevity\n@SpringBootTest(\n  classes = {AddressRepo.class}\n)\n@Testcontainers\nclass AddressRepoTest {\n  \n  private static final PostgreSQLContainer&lt;?&gt; POSTGRES_SQL_CONTAINER =\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.4&quot;);\n  \n  @BeforeAll\n  static void setupContainer() {\n    POSTGRES_SQL_CONTAINER.start();\n  }\n\n  @AfterAll\n  static void cleanup() {\n    POSTGRES_SQL_CONTAINER.stop();\n  }\n\n  @DynamicPropertySource\n  static void springProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.datasource.url&quot;, POSTGRES_SQL_CONTAINER::getJdbcUrl);\n    registry.add(&quot;spring.datasource.username&quot;, POSTGRES_SQL_CONTAINER::getUsername);\n    registry.add(&quot;spring.datasource.password&quot;, POSTGRES_SQL_CONTAINER::getPassword);\n  }\n\n  @Autowired\n  private AddressRepository addressRepository;\n\n  @Test\n  public void testRepo(){\n    // given  \n    Address address = new Address();\n    address.setid(1));\n    address.setLine1(&quot;address line 1&quot;);\n    addressRepository.save(address)\n\n    // when\n    List&lt;Address&gt; addresses = repository.getAddressResults();\n\n    // then\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\n  }\n}\n</code></pre>\n<p>The code above assumes that you have proper dependencies setup in your build tool, you can find Testcontainer docs here: <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/</a>.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681478648,"creation_date":1681478648,"answer_id":76015569,"question_id":76014000,"body_markdown":"To test a **repository**, you can use [test slice][1] with the annotation `@DataJpaTest`. It allows you to test a part of your application by loading the concerned beans.\r\n\r\nWhile testing with Spring, you don&#39;t have to load all the context.\r\n\r\n\r\n  [1]: https://rieckpil.de/spring-boot-test-slices-overview-and-usage/","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>To test a <strong>repository</strong>, you can use <a href=\"https://rieckpil.de/spring-boot-test-slices-overview-and-usage/\" rel=\"nofollow noreferrer\">test slice</a> with the annotation <code>@DataJpaTest</code>. It allows you to test a part of your application by loading the concerned beans.</p>\n<p>While testing with Spring, you don't have to load all the context.</p>\n"}],"owner":{"account_id":26174516,"reputation":19,"user_id":19858917,"display_name":"unknown1101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015343,"answer_count":2,"score":0,"last_activity_date":1681478648,"creation_date":1681467295,"question_id":76014000,"body_markdown":"I am trying to create a JUnit test case for application&#39;s repository class.\r\n\r\nRepository is as follows:\r\n\r\n        @Repository\r\n    public interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\r\n    \r\n        @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\r\n        List&lt;Address&gt; getAdressResults();\r\n    }\r\n\r\nEntity class is as follows:\r\n\r\n  \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;ADDRESS&quot;)\r\n    public class Address implements Serializable {\r\n       \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;line1&quot;)\r\n        private String line1;\r\n    \r\n        @Column(name = &quot;line2&quot;)\r\n        private String line2;\r\n    }\r\n\r\nI have tried the following but it return null pointer exception stating that repository is null:\r\n\r\n     @Mock\r\n    Repository repository;\r\n\r\n\r\n\r\n    @Test\r\n    public void testRepo(){\r\n        Address address = new Address();\r\n        address.setid(1));\r\n        address.setLine1(&quot;address line 1&quot;);\r\n\r\n        List&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\r\n        addressList.add(address);\r\n\r\n        Mockito.when(repository.getAddressResults()).thenReturn(addressList);\r\n        List&lt;Address&gt; addresses = repository.getAddressResults();\r\n        assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\r\n\r\n    }\r\n\r\nHow can I test this Repository?\r\n\r\nThanks\r\n\r\n        ","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>I am trying to create a JUnit test case for application's repository class.</p>\n<p>Repository is as follows:</p>\n<pre><code>    @Repository\npublic interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\n\n    @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\n    List&lt;Address&gt; getAdressResults();\n}\n</code></pre>\n<p>Entity class is as follows:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;ADDRESS&quot;)\npublic class Address implements Serializable {\n   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private int id;\n\n    @Column(name = &quot;line1&quot;)\n    private String line1;\n\n    @Column(name = &quot;line2&quot;)\n    private String line2;\n}\n</code></pre>\n<p>I have tried the following but it return null pointer exception stating that repository is null:</p>\n<pre><code> @Mock\nRepository repository;\n\n\n\n@Test\npublic void testRepo(){\n    Address address = new Address();\n    address.setid(1));\n    address.setLine1(&quot;address line 1&quot;);\n\n    List&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\n    addressList.add(address);\n\n    Mockito.when(repository.getAddressResults()).thenReturn(addressList);\n    List&lt;Address&gt; addresses = repository.getAddressResults();\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\n\n}\n</code></pre>\n<p>How can I test this Repository?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1681477381,"post_id":76015085,"comment_id":134066965,"body_markdown":"To the get the user&#39;s email , create a  regular POJO class with all the user details you want to get from the token. Then create a response entity for that same POJO class that would be the implementation of your friends controller. You can check this article for guidance https://www.bezkoder.com/spring-boot-security-jwt/","body":"To the get the user&#39;s email , create a  regular POJO class with all the user details you want to get from the token. Then create a response entity for that same POJO class that would be the implementation of your friends controller. You can check this article for guidance <a href=\"https://www.bezkoder.com/spring-boot-security-jwt/\" rel=\"nofollow noreferrer\">bezkoder.com/spring-boot-security-jwt</a>"}],"answers":[{"tags":[],"owner":{"account_id":23831579,"reputation":26,"user_id":18566030,"display_name":"Elbek Nurmatov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681478284,"creation_date":1681477884,"answer_id":76015467,"question_id":76015085,"body_markdown":"If the user has passed authentication, you can get user info from security context holder\r\n\r\n\r\nThis is security, it set username to security context holder:\r\n    \r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n        private final AccessTokenUtil accessTokenUtil;\r\n        private final UserService userService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            String token = request.getHeader(&quot;Authorization&quot;);\r\n            String email =null;\r\n            if (token != null &amp;&amp; token.startsWith(&quot;Bearer &quot;)) {\r\n                token = token.substring(7);\r\n                try {\r\n                    email = accessTokenUtil.getEmailFromJwt(token);\r\n                } catch (IllegalArgumentException e) {\r\n                    System.out.println(&quot;Not Valid&quot;);\r\n                } catch (ExpiredJwtException e) {\r\n                    System.out.println(&quot;Expired JWT token&quot;);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Something wrong&quot;);\r\n                }\r\n                if (email != null &amp;&amp; accessTokenUtil.checkExpireDate(token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n                    UserDetails userDetails = userService.loadUserByUsername(email);\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(email, null, userDetails.getAuthorities());\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n    }\r\n\r\n\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class UserController{\r\n\r\n      private Users getCurrentUser() {\r\n        String login = \r\n        SecurityContextHolder.getContext().getAuthentication().getName();\r\n        if (login != null &amp;&amp; !login.equals(&quot;anonymousUser&quot;)) {\r\n            Optional&lt;Users&gt; optionalUsers = userRepo.findByEmail(login);\r\n            return optionalUsers.orElse(null);\r\n        }\r\n        return null;\r\n      }\r\n\r\n    }\r\n\r\ngetCurrentUser() method return currentUser, if you want to get username you can return login, login is username","title":"How to get the user&#39;s email from the token in the controller?","body":"<p>If the user has passed authentication, you can get user info from security context holder</p>\n<p>This is security, it set username to security context holder:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    private final AccessTokenUtil accessTokenUtil;\n    private final UserService userService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        String email =null;\n        if (token != null &amp;&amp; token.startsWith(&quot;Bearer &quot;)) {\n            token = token.substring(7);\n            try {\n                email = accessTokenUtil.getEmailFromJwt(token);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Not Valid&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;Expired JWT token&quot;);\n            } catch (Exception e) {\n                System.out.println(&quot;Something wrong&quot;);\n            }\n            if (email != null &amp;&amp; accessTokenUtil.checkExpireDate(token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n                UserDetails userDetails = userService.loadUserByUsername(email);\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(email, null, userDetails.getAuthorities());\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        filterChain.doFilter(request,response);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class UserController{\n\n  private Users getCurrentUser() {\n    String login = \n    SecurityContextHolder.getContext().getAuthentication().getName();\n    if (login != null &amp;&amp; !login.equals(&quot;anonymousUser&quot;)) {\n        Optional&lt;Users&gt; optionalUsers = userRepo.findByEmail(login);\n        return optionalUsers.orElse(null);\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>getCurrentUser() method return currentUser, if you want to get username you can return login, login is username</p>\n"}],"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015467,"answer_count":1,"score":0,"last_activity_date":1681478284,"creation_date":1681475304,"question_id":76015085,"body_markdown":"I&#39;m new to Spring Security. I have a JWT token filter which is checking all requests&#39; authorization tokens to be valid. As far as I understand, if a token is not valid, the request would be cancelled with an error.\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n    private final JwtTokenProvider tokenProvider;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String token;\r\n        final String email;\r\n\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        token = authHeader.substring(7);\r\n        email = tokenProvider.getUserEmail(token);\r\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n\r\n            // User is not yet authenticated (not connected)\r\n            UserDetails user = this.userDetailsService.loadUserByUsername(email);\r\n            if (tokenProvider.isTokenValid(token, user)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        user, null, user.getAuthorities()\r\n                );\r\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    public String getEmailFromHeader(String header){\r\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)){\r\n            throw new UserNotExistException();\r\n        }\r\n\r\n        String token = header.substring(7);\r\n        String email = tokenProvider.getUserEmail(token);\r\n        return email;\r\n    }\r\n}\r\n```\r\nI want the user to be able to receive some data from the controller only by his own token. Now I have a method in the controller that retrieves the token from the header:\r\n```java\r\n@GetMapping(&quot;/friends&quot;)\r\npublic ResponseEntity&lt;Set&lt;User&gt;&gt; getFriends(@RequestHeader(HttpHeaders.AUTHORIZATION) String header){\r\n    String email = tokenFilter.getEmailFromHeader(header);\r\n    User user = service.findByEmail(email);\r\n    if (user == null){\r\n        throw new UserNotExistException();\r\n    }\r\n    return ResponseEntity.ok(user.getFriends());\r\n}\r\n```\r\n\r\nIs there some way to avoid getting the token from the header in every controller? How could I get the user&#39;s email immediately after authentication in the JWTTokenFilter?","title":"How to get the user&#39;s email from the token in the controller?","body":"<p>I'm new to Spring Security. I have a JWT token filter which is checking all requests' authorization tokens to be valid. As far as I understand, if a token is not valid, the request would be cancelled with an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class JwtTokenFilter extends OncePerRequestFilter {\n    private final JwtTokenProvider tokenProvider;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String token;\n        final String email;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        token = authHeader.substring(7);\n        email = tokenProvider.getUserEmail(token);\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n\n            // User is not yet authenticated (not connected)\n            UserDetails user = this.userDetailsService.loadUserByUsername(email);\n            if (tokenProvider.isTokenValid(token, user)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        user, null, user.getAuthorities()\n                );\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    public String getEmailFromHeader(String header){\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)){\n            throw new UserNotExistException();\n        }\n\n        String token = header.substring(7);\n        String email = tokenProvider.getUserEmail(token);\n        return email;\n    }\n}\n</code></pre>\n<p>I want the user to be able to receive some data from the controller only by his own token. Now I have a method in the controller that retrieves the token from the header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/friends&quot;)\npublic ResponseEntity&lt;Set&lt;User&gt;&gt; getFriends(@RequestHeader(HttpHeaders.AUTHORIZATION) String header){\n    String email = tokenFilter.getEmailFromHeader(header);\n    User user = service.findByEmail(email);\n    if (user == null){\n        throw new UserNotExistException();\n    }\n    return ResponseEntity.ok(user.getFriends());\n}\n</code></pre>\n<p>Is there some way to avoid getting the token from the header in every controller? How could I get the user's email immediately after authentication in the JWTTokenFilter?</p>\n"},{"tags":["java","spring-boot","integration-testing","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681472181,"creation_date":1681472181,"answer_id":76014695,"question_id":76014501,"body_markdown":"Using `MockMvcBuilders` you can create `mockMvc` object. You need to autowire the `WebApplicationContext`.\r\n\r\n```Java\r\n@Autowired\r\nprivate WebApplicationContext context;\r\n\r\n@BeforeEach\r\nvoid setupTests() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n}\r\n```\r\nIf you want to apply security as well then use\r\n```Java\r\n@Autowired\r\nprivate WebApplicationContext context;\r\n\r\n@BeforeEach\r\nvoid setupTests() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).apply(springSecurity()).build();\r\n}\r\n```\r\n\r\nThis will generate `MockMvc` object for each test case separately.","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>Using <code>MockMvcBuilders</code> you can create <code>mockMvc</code> object. You need to autowire the <code>WebApplicationContext</code>.</p>\n<pre><code>@Autowired\nprivate WebApplicationContext context;\n\n@BeforeEach\nvoid setupTests() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n}\n</code></pre>\n<p>If you want to apply security as well then use</p>\n<pre><code>@Autowired\nprivate WebApplicationContext context;\n\n@BeforeEach\nvoid setupTests() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).apply(springSecurity()).build();\n}\n</code></pre>\n<p>This will generate <code>MockMvc</code> object for each test case separately.</p>\n"},{"tags":[],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681478031,"creation_date":1681478031,"answer_id":76015486,"question_id":76014501,"body_markdown":"Clearing the db manually helped. Instantianting the mock before each was not necessary, just injecting it in the constructor and clearing the db worked. Although spring docs state to instantiate the mock as Dhaval says, that doesn&#39;t not empty the mock after use. I inject it in the constructor and use the @AutoConfigureMockMvc annotation. Then clear the db before each test and it works.\r\n\r\n\r\n```\r\n    @BeforeEach\r\n    void clearDatabase(@Autowired JdbcTemplate jdbcTemplate) {\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;employees&quot;);\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;enumerationlevels&quot;);\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;units&quot;);\r\n    }\r\n```\r\n\r\nSetting the jdbcTemplate as a variable and injecting it in the constructor will also work\r\n","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>Clearing the db manually helped. Instantianting the mock before each was not necessary, just injecting it in the constructor and clearing the db worked. Although spring docs state to instantiate the mock as Dhaval says, that doesn't not empty the mock after use. I inject it in the constructor and use the @AutoConfigureMockMvc annotation. Then clear the db before each test and it works.</p>\n<pre><code>    @BeforeEach\n    void clearDatabase(@Autowired JdbcTemplate jdbcTemplate) {\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;employees&quot;);\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;enumerationlevels&quot;);\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;units&quot;);\n    }\n</code></pre>\n<p>Setting the jdbcTemplate as a variable and injecting it in the constructor will also work</p>\n"}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681478031,"creation_date":1681470639,"question_id":76014501,"body_markdown":"I&#39;m setting up an integrationtest to check wether the spring application works at the controller level, next to my unit test. I do know that what I am testing works, the unit tests works and I already did everyting with postman. Every integrationtest also works separatly and gives the result I expect it to give. The problem is when I run them all togheter, some tests don&#39;t work anymore. This is because the MockMvc should be&#39;renewed&#39; every test, but it is not. \r\n\r\nI tried getting this behaviour by setting up the mockMvc manually with a beforeEach instead of injecting it in the constructor, but the same behaviour persist. I guess I am setting up the MockMvc wrong, but I can&#39;t seem to figure out how to set it up right. I am using Spring Boot 3 and Java 20.\r\n\r\nHow should I create the mock, so that it runs again every test, and it doesn&#39;t get affected by other tests executed? I put the testclass below.\r\n\r\n``` \r\n\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class EmployeeControllorIntegrationTest {\r\n\r\n    private final static String URI = &quot;/employees/&quot;;\r\n    private ObjectMapper objectMapper;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    public EmployeeControllorIntegrationTest(MockMvc mockMvc, ObjectMapper objectMapper) {\r\n        this.mockMvc = mockMvc;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n\r\n    @Test\r\n    void getAllEmployeesThrowsExceptionWhenEmpty() throws Exception{\r\n        String error = mockMvc.perform(get(URI+&quot;showAll&quot;))\r\n                .andExpect(status().isAccepted())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;No employees present&quot;);\r\n    }\r\n    @Test\r\n    void getAllEmployeesWorksWhenEmployeesPresent() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDto)));\r\n\r\n        MockHttpServletResponse response = mockMvc.perform(get(URI+&quot;showAll&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResponse();\r\n\r\n        Employee[] allLevels = objectMapper.readValue(response.getContentAsString(), Employee[].class);\r\n\r\n        assertThat(allLevels).hasSize(1);\r\n        assertThat(Arrays.stream(allLevels).findFirst().get().getName()).isEqualTo(&quot;employeeName&quot;);\r\n        assertThat(Arrays.stream(allLevels).findAny().get().getName()).isEqualTo(&quot;employeeName&quot;);\r\n        assertThat(Arrays.stream(allLevels).findFirst().get().getStartDateContract()).isEqualTo(LocalDate.now());\r\n        assertThat(Arrays.stream(allLevels).findAny().get().getStartDateContract()).isEqualTo(LocalDate.now());\r\n    }\r\n\r\n\r\n    @Test\r\n    void addNewEmployeeWithInvalidNameThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot; &quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isBadRequest())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\r\n    }\r\n    @Test\r\n    void addNewEmployeeWithInvalidSurnameThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot; &quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isBadRequest())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n    @Test\r\n    void addingNewEmployeeWithAlreadyExistingNameSurnameAndBirthdateThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        EmployeeDto employeeDtoCopy = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDto)));\r\n\r\n\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDtoCopy)))\r\n                .andExpect(status().isConflict())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;employee with that name, surname and date of birth already exists&quot;);\r\n    }\r\n\r\n\r\n\r\n    @Test\r\n    void addingValidEmployeeWorks() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(&quot;text/plain;charset=UTF-8&quot;))\r\n                .andExpect(content().string(&quot;New employee added succesfully&quot;));\r\n\r\n    }\r\n\r\n\r\n    private void insertUnitAndLevel() throws Exception{\r\n        EnumerationLevel mocklevel = new EnumerationLevel(&quot;A1&quot;, &quot;Mockdescripition&quot;);\r\n\r\n        mockMvc.perform(post(&quot;/units/addUnit&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(&quot;new unit&quot;));\r\n\r\n        mockMvc.perform(post(&quot;/levels/addLevel&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(mocklevel)));\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n ```\r\n\r\n","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>I'm setting up an integrationtest to check wether the spring application works at the controller level, next to my unit test. I do know that what I am testing works, the unit tests works and I already did everyting with postman. Every integrationtest also works separatly and gives the result I expect it to give. The problem is when I run them all togheter, some tests don't work anymore. This is because the MockMvc should be'renewed' every test, but it is not.</p>\n<p>I tried getting this behaviour by setting up the mockMvc manually with a beforeEach instead of injecting it in the constructor, but the same behaviour persist. I guess I am setting up the MockMvc wrong, but I can't seem to figure out how to set it up right. I am using Spring Boot 3 and Java 20.</p>\n<p>How should I create the mock, so that it runs again every test, and it doesn't get affected by other tests executed? I put the testclass below.</p>\n<pre><code>\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class EmployeeControllorIntegrationTest {\n\n    private final static String URI = &quot;/employees/&quot;;\n    private ObjectMapper objectMapper;\n\n    private MockMvc mockMvc;\n\n    public EmployeeControllorIntegrationTest(MockMvc mockMvc, ObjectMapper objectMapper) {\n        this.mockMvc = mockMvc;\n        this.objectMapper = objectMapper;\n    }\n\n\n    @Test\n    void getAllEmployeesThrowsExceptionWhenEmpty() throws Exception{\n        String error = mockMvc.perform(get(URI+&quot;showAll&quot;))\n                .andExpect(status().isAccepted())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;No employees present&quot;);\n    }\n    @Test\n    void getAllEmployeesWorksWhenEmployeesPresent() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDto)));\n\n        MockHttpServletResponse response = mockMvc.perform(get(URI+&quot;showAll&quot;))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResponse();\n\n        Employee[] allLevels = objectMapper.readValue(response.getContentAsString(), Employee[].class);\n\n        assertThat(allLevels).hasSize(1);\n        assertThat(Arrays.stream(allLevels).findFirst().get().getName()).isEqualTo(&quot;employeeName&quot;);\n        assertThat(Arrays.stream(allLevels).findAny().get().getName()).isEqualTo(&quot;employeeName&quot;);\n        assertThat(Arrays.stream(allLevels).findFirst().get().getStartDateContract()).isEqualTo(LocalDate.now());\n        assertThat(Arrays.stream(allLevels).findAny().get().getStartDateContract()).isEqualTo(LocalDate.now());\n    }\n\n\n    @Test\n    void addNewEmployeeWithInvalidNameThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot; &quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isBadRequest())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\n    }\n    @Test\n    void addNewEmployeeWithInvalidSurnameThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot; &quot;, LocalDate.of(2000,04,23),1L,1L);\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isBadRequest())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\n    }\n\n\n\n\n    @Test\n    void addingNewEmployeeWithAlreadyExistingNameSurnameAndBirthdateThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n        EmployeeDto employeeDtoCopy = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDto)));\n\n\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDtoCopy)))\n                .andExpect(status().isConflict())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;employee with that name, surname and date of birth already exists&quot;);\n    }\n\n\n\n    @Test\n    void addingValidEmployeeWorks() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;text/plain;charset=UTF-8&quot;))\n                .andExpect(content().string(&quot;New employee added succesfully&quot;));\n\n    }\n\n\n    private void insertUnitAndLevel() throws Exception{\n        EnumerationLevel mocklevel = new EnumerationLevel(&quot;A1&quot;, &quot;Mockdescripition&quot;);\n\n        mockMvc.perform(post(&quot;/units/addUnit&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(&quot;new unit&quot;));\n\n        mockMvc.perform(post(&quot;/levels/addLevel&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(mocklevel)));\n    }\n\n\n}\n\n\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1681438897,"creation_date":1681438221,"answer_id":76011095,"question_id":76010282,"body_markdown":"You should consider changing the data structure. A `Map` of `List`s is better suited for this use case.\r\n\r\n```java\r\nMap&lt;String, Schedule&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;a&quot;, List.of(new SchedA(1), new SchedA(4), new SchedA(7)));\r\nmap.put(&quot;b&quot;, List.of(new SchedB(2), new SchedB(5), new SchedB(8)));\r\nmap.put(&quot;c&quot;, List.of(new SchedC(3), new SchedC(6), new SchedC(9)));\r\n```\r\n\r\nNow, if you want to remove, all you have to do is:\r\n\r\n```java\r\nmap.get(&quot;a&quot;).remove(0);\r\n```\r\n\r\nAnd getting the next item would be:\r\n\r\n```java\r\nmap.get(&quot;a&quot;).get(0);\r\n```\r\n\r\nOn a side note, it also seems redundant to have the parameter `a` in `new SchedA(&quot;a&quot;, 1)` as you already have different `SchedA` subclasses anyways.\r\n\r\n----------\r\n\r\nIf you really want to remove and replace, then streams won&#39;t be the ideal implementation:\r\n\r\n```java\r\nint first = -1;\r\nint second = -1;\r\nfor (int i = 0; i &lt; scheduleList.size(); i++) {\r\n    Schedule schedule = scheduleList.get(0);\r\n    if (schedule.getScheduleId().equals(&quot;a&quot;)) {\r\n        if (first == -1) {\r\n            first = i;\r\n        } else if (second == -1) {\r\n            second = i;\r\n            break;    // found first two items\r\n        }\r\n    }\r\n}\r\n\r\nif (first != -1 &amp;&amp; second != -1) {\r\n    // found two items\r\n    scheduleList.set(first, scheduleList.get(second));\r\n} else (first != -1) {\r\n    // found one item only\r\n    scheduleList.remove(first);\r\n} else {\r\n    // no items found, do nothing\r\n}\r\n","title":"Java Stream how to replace first item that meets criteria with the next item that meets criteria","body":"<p>You should consider changing the data structure. A <code>Map</code> of <code>List</code>s is better suited for this use case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Schedule&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;a&quot;, List.of(new SchedA(1), new SchedA(4), new SchedA(7)));\nmap.put(&quot;b&quot;, List.of(new SchedB(2), new SchedB(5), new SchedB(8)));\nmap.put(&quot;c&quot;, List.of(new SchedC(3), new SchedC(6), new SchedC(9)));\n</code></pre>\n<p>Now, if you want to remove, all you have to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.get(&quot;a&quot;).remove(0);\n</code></pre>\n<p>And getting the next item would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.get(&quot;a&quot;).get(0);\n</code></pre>\n<p>On a side note, it also seems redundant to have the parameter <code>a</code> in <code>new SchedA(&quot;a&quot;, 1)</code> as you already have different <code>SchedA</code> subclasses anyways.</p>\n<hr />\n<p>If you really want to remove and replace, then streams won't be the ideal implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int first = -1;\nint second = -1;\nfor (int i = 0; i &lt; scheduleList.size(); i++) {\n    Schedule schedule = scheduleList.get(0);\n    if (schedule.getScheduleId().equals(&quot;a&quot;)) {\n        if (first == -1) {\n            first = i;\n        } else if (second == -1) {\n            second = i;\n            break;    // found first two items\n        }\n    }\n}\n\nif (first != -1 &amp;&amp; second != -1) {\n    // found two items\n    scheduleList.set(first, scheduleList.get(second));\n} else (first != -1) {\n    // found one item only\n    scheduleList.remove(first);\n} else {\n    // no items found, do nothing\n}\n</code></pre>\n"}],"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011095,"answer_count":1,"score":1,"last_activity_date":1681477943,"creation_date":1681424724,"question_id":76010282,"body_markdown":"I have a list of schedules that I need to update when one expires with the next one of the same name so I can maintain the order.\r\nExample:\r\n\r\n    List&lt;Schedule&gt; scheduleList = new ArrayList&lt;&gt;(List.of(\r\n            new SchedA(&quot;a&quot;, 1),\r\n            new SchedB(&quot;b&quot;, 2),\r\n            new SchedC(&quot;c&quot;, 3),\r\n            new SchedA(&quot;a&quot;, 4),\r\n            new SchedB(&quot;b&quot;, 5),\r\n            new SchedC(&quot;c&quot;, 6),\r\n            new SchedA(&quot;a&quot;, 7),\r\n            new SchedB(&quot;b&quot;, 8),\r\n            new SchedC(&quot;c&quot;, 3),));\r\n\r\nI think I could do this to remove the expired item:\r\n\r\n    scheduleList.stream().filter(p -&gt; p.getScheduleId().equals(&quot;a&quot;)).findFirst().ifPresent(scheduleList::remove);\r\n\r\nIs there something like this to *replace* it with the next item that has &quot;a&quot; as the scheduleId?\r\n","title":"Java Stream how to replace first item that meets criteria with the next item that meets criteria","body":"<p>I have a list of schedules that I need to update when one expires with the next one of the same name so I can maintain the order.\nExample:</p>\n<pre><code>List&lt;Schedule&gt; scheduleList = new ArrayList&lt;&gt;(List.of(\n        new SchedA(&quot;a&quot;, 1),\n        new SchedB(&quot;b&quot;, 2),\n        new SchedC(&quot;c&quot;, 3),\n        new SchedA(&quot;a&quot;, 4),\n        new SchedB(&quot;b&quot;, 5),\n        new SchedC(&quot;c&quot;, 6),\n        new SchedA(&quot;a&quot;, 7),\n        new SchedB(&quot;b&quot;, 8),\n        new SchedC(&quot;c&quot;, 3),));\n</code></pre>\n<p>I think I could do this to remove the expired item:</p>\n<pre><code>scheduleList.stream().filter(p -&gt; p.getScheduleId().equals(&quot;a&quot;)).findFirst().ifPresent(scheduleList::remove);\n</code></pre>\n<p>Is there something like this to <em>replace</em> it with the next item that has &quot;a&quot; as the scheduleId?</p>\n"},{"tags":["java","maven","cxf"],"answers":[{"tags":[],"owner":{"account_id":3708059,"reputation":1086,"user_id":3086057,"display_name":"bgossit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1392885597,"creation_date":1392885597,"answer_id":21902369,"question_id":21867477,"body_markdown":"The Maven XML tags for the CXF plugin are case sensitive, this should work:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\r\n    \t&lt;wsdlOptions&gt;\r\n    \t\t&lt;wsdlOption&gt;\r\n    \t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\r\n    \t\t\t&lt;extraargs&gt;\r\n    \t\t\t\t&lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n    \t\t\t\t&lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n    \t\t\t&lt;/extraargs&gt;\r\n    \t\t&lt;/wsdlOption&gt;\r\n    \t&lt;/wsdlOptions&gt;\r\n    &lt;/configuration&gt;","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>The Maven XML tags for the CXF plugin are case sensitive, this should work:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\n    &lt;wsdlOptions&gt;\n        &lt;wsdlOption&gt;\n            &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\n            &lt;extraargs&gt;\n                &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                &lt;extraarg&gt;-client&lt;/extraarg&gt;\n            &lt;/extraargs&gt;\n        &lt;/wsdlOption&gt;\n    &lt;/wsdlOptions&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1494248560,"creation_date":1494238565,"answer_id":43845081,"question_id":21867477,"body_markdown":"Also have a look to your `./target/`-Folder. Once the code-generation has run  successfully, you can find here the Folder `cxf-codegen-plugin-markers`. \r\nYou have to delete this folder, to force `CXF` to run the code-generation again.","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>Also have a look to your <code>./target/</code>-Folder. Once the code-generation has run  successfully, you can find here the Folder <code>cxf-codegen-plugin-markers</code>. \nYou have to delete this folder, to force <code>CXF</code> to run the code-generation again.</p>\n"},{"tags":[],"owner":{"account_id":7523503,"reputation":75,"user_id":5714602,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681477129,"creation_date":1681477129,"answer_id":76015356,"question_id":21867477,"body_markdown":"The execution tag must be something like this:\r\n\r\n \r\n\r\n    &lt;execution&gt;\r\n                            &lt;id&gt;generate-sources&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceRoot&gt;${basedir}/src/main/java/&lt;/sourceRoot&gt;\r\n                                &lt;wsdlOptions&gt;\r\n                                    &lt;wsdlOption&gt;\r\n                                        &lt;!--&lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;--&gt;\r\n                                        &lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;\r\n                                    &lt;/wsdlOption&gt;\r\n                                    &lt;!--&lt;extraargs&gt;\r\n                                        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                                        &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                                    &lt;/extraargs&gt;--&gt;\r\n                                &lt;/wsdlOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n     &lt;/execution&gt;","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>The execution tag must be something like this:</p>\n<pre><code>&lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${basedir}/src/main/java/&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;!--&lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;--&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;\n                                &lt;/wsdlOption&gt;\n                                &lt;!--&lt;extraargs&gt;\n                                    &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                                    &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                                &lt;/extraargs&gt;--&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n &lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":1276267,"reputation":83,"user_id":1231452,"display_name":"David Matthews"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19532,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":21902369,"answer_count":3,"score":8,"last_activity_date":1681477129,"creation_date":1392764873,"question_id":21867477,"body_markdown":"I&#39;ve researched other answers to this question but I haven&#39;t been able to fix my specific issue yet. I&#39;m trying to generate source client java files using Maven and the cxf-codegen-plugin. When I run mvn generate-sources it tells me BUILD SUCCESS but Nothing to generate.  Any help is appreciated.  Here is my pom:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n      &lt;groupId&gt;com.tfs.common&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpringCXF1&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n      &lt;name&gt;SpringCXF1 Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  \r\n      &lt;properties&gt;\r\n\t      &lt;cxf.version&gt;2.7.3&lt;/cxf.version&gt;\r\n\t      &lt;project.build.sourceencoding&gt;UTF-8&lt;/project.build.sourceencoding&gt;\r\n      &lt;/properties&gt;\r\n \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;SpringCXF1&lt;/finalName&gt;\r\n    \t  &lt;plugins&gt;\r\n    \t  \r\n    \t  &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.6&lt;/source&gt;\r\n                &lt;target&gt;1.6&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        \r\n    \t   &lt;!-- Generate Java classes from WSDL during in generate-sources phase --&gt;\r\n    \t   &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t    &lt;executions&gt;\r\n    \t     &lt;execution&gt;\r\n    \t      &lt;id&gt;generate-sources&lt;/id&gt;\r\n    \t      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t       &lt;sourceroot&gt;${basedir}/src/main/java&lt;/sourceroot&gt;\r\n    \t       &lt;wsdloptions&gt;\r\n    \t        &lt;wsdloption&gt;\r\n    \t         &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\r\n    \t         &lt;extraargs&gt;\r\n                     &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                      &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                 &lt;/extraargs&gt;\r\n    \t        &lt;/wsdloption&gt;\r\n    \t       &lt;/wsdloptions&gt;\r\n    \t      &lt;/configuration&gt;\r\n    \t      &lt;goals&gt;\r\n    \t       &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t      &lt;/goals&gt;\r\n    \t     &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t   &lt;/plugin&gt;\r\n    \t \r\n    \t   &lt;!-- Add generated source --&gt;\r\n    \t   &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.7&lt;/version&gt;\r\n    \t    &lt;executions&gt;\r\n    \t     &lt;execution&gt;\r\n    \t      &lt;id&gt;add-source&lt;/id&gt;\r\n    \t      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t      &lt;goals&gt;\r\n    \t       &lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t      &lt;/goals&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t       &lt;sources&gt;\r\n    \t         &lt;source&gt;${basedir}/src/main/java&lt;/source&gt;\r\n    \t       &lt;/sources&gt;\r\n    \t      &lt;/configuration&gt;\r\n    \t     &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t   &lt;/plugin&gt;\r\n    \r\n    \t    &lt;plugin&gt;\r\n    \t     &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n    \t     &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n    \t     &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t     &lt;configuration&gt;\r\n    \t      &lt;lifecyclemappingmetadata&gt;\r\n    \t       &lt;pluginexecutions&gt;\r\n    \t        &lt;pluginexecution&gt;\r\n    \t         &lt;pluginexecutionfilter&gt;\r\n    \t          &lt;groupid&gt;org.apache.cxf&lt;/groupid&gt;\r\n    \t          &lt;artifactid&gt;cxf-codegen-plugin&lt;/artifactid&gt;\r\n    \t          &lt;versionrange&gt;[2.3.3,)&lt;/versionrange&gt;\r\n    \t          &lt;goals&gt;\r\n    \t           &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t          &lt;/goals&gt;\r\n    \t         &lt;/pluginexecutionfilter&gt;\r\n    \t         &lt;action&gt;\r\n    \t          &lt;execute&gt;\r\n    \t         &lt;/execute&gt;&lt;/action&gt;\r\n    \t        &lt;/pluginexecution&gt;\r\n    \t       &lt;/pluginexecutions&gt;\r\n    \t      &lt;/lifecyclemappingmetadata&gt;\r\n    \t      &lt;lifecycleMappingMetadata&gt;\r\n    \t      \t&lt;pluginExecutions&gt;\r\n    \t      \t\t&lt;pluginExecution&gt;\r\n    \t      \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t      \t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t      \t\t\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t      \t\t\t\t&lt;versionRange&gt;[2.7.3,)&lt;/versionRange&gt;\r\n    \t      \t\t\t\t&lt;goals&gt;\r\n    \t      \t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t      \t\t\t\t&lt;/goals&gt;\r\n    \t      \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t      \t\t\t&lt;action&gt;\r\n    \t      \t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n    \t      \t\t\t&lt;/action&gt;\r\n    \t      \t\t&lt;/pluginExecution&gt;\r\n    \t      \t\t&lt;pluginExecution&gt;\r\n    \t      \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t      \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t      \t\t\t\t&lt;artifactId&gt;\r\n    \t      \t\t\t\t\tbuild-helper-maven-plugin\r\n    \t      \t\t\t\t&lt;/artifactId&gt;\r\n    \t      \t\t\t\t&lt;versionRange&gt;[1.7,)&lt;/versionRange&gt;\r\n    \t      \t\t\t\t&lt;goals&gt;\r\n    \t      \t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t      \t\t\t\t&lt;/goals&gt;\r\n    \t      \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t      \t\t\t&lt;action&gt;\r\n    \t      \t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n    \t      \t\t\t&lt;/action&gt;\r\n    \t      \t\t&lt;/pluginExecution&gt;\r\n    \t      \t&lt;/pluginExecutions&gt;\r\n    \t      &lt;/lifecycleMappingMetadata&gt;\r\n    \t     &lt;/configuration&gt;\r\n    \t    &lt;/plugin&gt;\r\n    \t   &lt;/plugins&gt;\r\n    \r\n      &lt;/build&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\nHere is the output when running mvn generate-sources:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building SpringCXF1 Maven Webapp 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- cxf-codegen-plugin:2.7.3:wsdl2java (generate-sources) @ SpringCXF1 ---\r\n    [INFO] Nothing to generate\r\n    [INFO] \r\n    [INFO] --- build-helper-maven-plugin:1.7:add-source (add-source) @ SpringCXF1 ---\r\n    [INFO] Source directory: /Users/dmattrm/Documents/DevEnvironment/TFS_Maven2/SpringCXF1/src/main/java added.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.505s\r\n    [INFO] Finished at: Tue Feb 18 16:54:04 CST 2014\r\n    [INFO] Final Memory: 5M/81M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>I've researched other answers to this question but I haven't been able to fix my specific issue yet. I'm trying to generate source client java files using Maven and the cxf-codegen-plugin. When I run mvn generate-sources it tells me BUILD SUCCESS but Nothing to generate.  Any help is appreciated.  Here is my pom:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.tfs.common&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringCXF1&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;SpringCXF1 Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n      &lt;cxf.version&gt;2.7.3&lt;/cxf.version&gt;\n      &lt;project.build.sourceencoding&gt;UTF-8&lt;/project.build.sourceencoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n       &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n       &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n       &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n       &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;SpringCXF1&lt;/finalName&gt;\n      &lt;plugins&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.6&lt;/source&gt;\n            &lt;target&gt;1.6&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n       &lt;!-- Generate Java classes from WSDL during in generate-sources phase --&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;executions&gt;\n         &lt;execution&gt;\n          &lt;id&gt;generate-sources&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;configuration&gt;\n           &lt;sourceroot&gt;${basedir}/src/main/java&lt;/sourceroot&gt;\n           &lt;wsdloptions&gt;\n            &lt;wsdloption&gt;\n             &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\n             &lt;extraargs&gt;\n                 &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                  &lt;extraarg&gt;-client&lt;/extraarg&gt;\n             &lt;/extraargs&gt;\n            &lt;/wsdloption&gt;\n           &lt;/wsdloptions&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n           &lt;goal&gt;wsdl2java&lt;/goal&gt;\n          &lt;/goals&gt;\n         &lt;/execution&gt;\n        &lt;/executions&gt;\n       &lt;/plugin&gt;\n\n       &lt;!-- Add generated source --&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;executions&gt;\n         &lt;execution&gt;\n          &lt;id&gt;add-source&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;goals&gt;\n           &lt;goal&gt;add-source&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n           &lt;sources&gt;\n             &lt;source&gt;${basedir}/src/main/java&lt;/source&gt;\n           &lt;/sources&gt;\n          &lt;/configuration&gt;\n         &lt;/execution&gt;\n        &lt;/executions&gt;\n       &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n         &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n         &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n         &lt;version&gt;1.0.0&lt;/version&gt;\n         &lt;configuration&gt;\n          &lt;lifecyclemappingmetadata&gt;\n           &lt;pluginexecutions&gt;\n            &lt;pluginexecution&gt;\n             &lt;pluginexecutionfilter&gt;\n              &lt;groupid&gt;org.apache.cxf&lt;/groupid&gt;\n              &lt;artifactid&gt;cxf-codegen-plugin&lt;/artifactid&gt;\n              &lt;versionrange&gt;[2.3.3,)&lt;/versionrange&gt;\n              &lt;goals&gt;\n               &lt;goal&gt;wsdl2java&lt;/goal&gt;\n              &lt;/goals&gt;\n             &lt;/pluginexecutionfilter&gt;\n             &lt;action&gt;\n              &lt;execute&gt;\n             &lt;/execute&gt;&lt;/action&gt;\n            &lt;/pluginexecution&gt;\n           &lt;/pluginexecutions&gt;\n          &lt;/lifecyclemappingmetadata&gt;\n          &lt;lifecycleMappingMetadata&gt;\n            &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                        &lt;versionRange&gt;[2.7.3,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt;\n                        &lt;ignore&gt;&lt;/ignore&gt;\n                    &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                        &lt;artifactId&gt;\n                            build-helper-maven-plugin\n                        &lt;/artifactId&gt;\n                        &lt;versionRange&gt;[1.7,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt;\n                        &lt;ignore&gt;&lt;/ignore&gt;\n                    &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n            &lt;/pluginExecutions&gt;\n          &lt;/lifecycleMappingMetadata&gt;\n         &lt;/configuration&gt;\n        &lt;/plugin&gt;\n       &lt;/plugins&gt;\n\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Here is the output when running mvn generate-sources:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building SpringCXF1 Maven Webapp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- cxf-codegen-plugin:2.7.3:wsdl2java (generate-sources) @ SpringCXF1 ---\n[INFO] Nothing to generate\n[INFO] \n[INFO] --- build-helper-maven-plugin:1.7:add-source (add-source) @ SpringCXF1 ---\n[INFO] Source directory: /Users/dmattrm/Documents/DevEnvironment/TFS_Maven2/SpringCXF1/src/main/java added.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.505s\n[INFO] Finished at: Tue Feb 18 16:54:04 CST 2014\n[INFO] Final Memory: 5M/81M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476894,"creation_date":1681476894,"answer_id":76015327,"question_id":76015003,"body_markdown":"This worked for me \r\n\r\n    @DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\r\n            &quot;spring.config.location=classpath:/application-test.yml&quot;\r\n    })\r\n    @EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class PostIntegrationTest {\r\n    ...\r\n    }","title":"@SpringBootTest fails to load application yaml from @ActiveProfiles","body":"<p>This worked for me</p>\n<pre><code>@DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\n        &quot;spring.config.location=classpath:/application-test.yml&quot;\n})\n@EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\n@ActiveProfiles(&quot;test&quot;)\nclass PostIntegrationTest {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476894,"creation_date":1681474623,"question_id":76015003,"body_markdown":"This test fails for not finding vault token while I&#39;ve disabled vault in `application-test.yml`\r\n\r\n    @DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    @EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class PostIntegrationTest {\r\n    ...\r\n    }\r\n\r\nI have a file named `application-test.yml` in `src/test/resources`\r\n\r\nrunning test gives this error:\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    ...\r\n    Caused by: java.lang.IllegalStateException: Cannot create authentication mechanism for TOKEN. This method requires either a Token (spring.cloud.vault.token) or a token file at ~/.vault-token.\r\n    \tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.tokenAuthentication(ClientAuthenticationFactory.java:425)\r\n    \tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:148)\r\n    \tat org.springframework.cloud.vault.config.VaultAutoConfiguration.clientAuthentication(VaultAutoConfiguration.java:232)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 157 more","title":"@SpringBootTest fails to load application yaml from @ActiveProfiles","body":"<p>This test fails for not finding vault token while I've disabled vault in <code>application-test.yml</code></p>\n<pre><code>@DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\n@ActiveProfiles(&quot;test&quot;)\nclass PostIntegrationTest {\n...\n}\n</code></pre>\n<p>I have a file named <code>application-test.yml</code> in <code>src/test/resources</code></p>\n<p>running test gives this error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n...\nCaused by: java.lang.IllegalStateException: Cannot create authentication mechanism for TOKEN. This method requires either a Token (spring.cloud.vault.token) or a token file at ~/.vault-token.\n    at org.springframework.cloud.vault.config.ClientAuthenticationFactory.tokenAuthentication(ClientAuthenticationFactory.java:425)\n    at org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:148)\n    at org.springframework.cloud.vault.config.VaultAutoConfiguration.clientAuthentication(VaultAutoConfiguration.java:232)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 157 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","document"],"answers":[{"tags":[],"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681476768,"creation_date":1681476768,"answer_id":76015310,"question_id":76015202,"body_markdown":"Include the LAD or RAD agent jar file as a dependency in your Spring Boot project. You can download the agent jar file from the relevant website, or use a dependency management tool such as Maven or Gradle to manage the dependency.\r\n\r\nConfigure your application to use the LAD or RAD agent. You can do this by adding the following JVM arguments to your application startup command:\r\n\r\nFor LAD: -javaagent:/path/to/lad-agent.jar\r\n\r\nFor RAD: -javaagent:/path/to/rad-agent.jar\r\n\r\nIf you are using LAD, you will also need to add the following dependencies to your project&#39;s build file:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOnce you have configured your application to use the LAD or RAD agent, you can start using it to dynamically manipulate your application&#39;s bytecode. For example, you could use it to inject logging or tracing code into your application&#39;s methods.\r\n\r\nIt&#39;s worth noting that dynamic bytecode manipulation can have performance implications, so it&#39;s important to test your application thoroughly after enabling LAD or RAD to ensure that it is still performing well.\r\n\r\n\r\n","title":"How to use LAD RAD with SpringBoot","body":"<p>Include the LAD or RAD agent jar file as a dependency in your Spring Boot project. You can download the agent jar file from the relevant website, or use a dependency management tool such as Maven or Gradle to manage the dependency.</p>\n<p>Configure your application to use the LAD or RAD agent. You can do this by adding the following JVM arguments to your application startup command:</p>\n<p>For LAD: -javaagent:/path/to/lad-agent.jar</p>\n<p>For RAD: -javaagent:/path/to/rad-agent.jar</p>\n<p>If you are using LAD, you will also need to add the following dependencies to your project's build file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once you have configured your application to use the LAD or RAD agent, you can start using it to dynamically manipulate your application's bytecode. For example, you could use it to inject logging or tracing code into your application's methods.</p>\n<p>It's worth noting that dynamic bytecode manipulation can have performance implications, so it's important to test your application thoroughly after enabling LAD or RAD to ensure that it is still performing well.</p>\n"}],"owner":{"account_id":25315000,"reputation":27,"user_id":19137251,"display_name":"hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681476768,"creation_date":1681475956,"question_id":76015202,"body_markdown":"I have done multiple research one how to implement LAD RAD on a springBoot application , but i have found nothing helpful yet that can help me understand how to use it .\r\n\r\nDoes someone have a any tutoriel or documentation that can help.","title":"How to use LAD RAD with SpringBoot","body":"<p>I have done multiple research one how to implement LAD RAD on a springBoot application , but i have found nothing helpful yet that can help me understand how to use it .</p>\n<p>Does someone have a any tutoriel or documentation that can help.</p>\n"},{"tags":["java","conways-game-of-life"],"comments":[{"owner":{"account_id":2762254,"reputation":9033,"user_id":2378910,"display_name":"Kenney"},"score":5,"creation_date":1446928991,"post_id":33587451,"comment_id":54951176,"body_markdown":"[classmate of yours?](http://stackoverflow.com/questions/33585278/conways-game-of-life-bug)","body":"<a href=\"http://stackoverflow.com/questions/33585278/conways-game-of-life-bug\">classmate of yours?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4572112,"reputation":1,"user_id":3711558,"display_name":"Kristian Hajdari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681476521,"creation_date":1446932659,"answer_id":33588140,"question_id":33587451,"body_markdown":"***HINTS***\r\nRecently I completed this example. So the right structure is:\r\n\r\n 1. Required 2 dimension arrays (&quot;current&quot; &amp; &quot;next&quot;)\r\n 2. Initialize &quot;current&quot; with random values\r\n 3. print &quot;current&quot;\r\n 4. Copy &amp; Calculate each cell of the next generation in array &quot;next&quot;\r\n 5. After calculation, update the &quot;current&quot; array. Use function to update each cell\r\n 6. Set &quot;current&quot; with &quot;next&quot; generation values\r\n 7. Print &quot;current&quot; and go to step 4\r\n\r\n\r\n","title":"Conway&#39;s Game of Life Rules Java","body":"<p><em><strong>HINTS</strong></em>\nRecently I completed this example. So the right structure is:</p>\n<ol>\n<li>Required 2 dimension arrays (&quot;current&quot; &amp; &quot;next&quot;)</li>\n<li>Initialize &quot;current&quot; with random values</li>\n<li>print &quot;current&quot;</li>\n<li>Copy &amp; Calculate each cell of the next generation in array &quot;next&quot;</li>\n<li>After calculation, update the &quot;current&quot; array. Use function to update each cell</li>\n<li>Set &quot;current&quot; with &quot;next&quot; generation values</li>\n<li>Print &quot;current&quot; and go to step 4</li>\n</ol>\n"}],"owner":{"account_id":6947467,"reputation":53,"user_id":5331348,"accept_rate":80,"display_name":"Mossah Aljalal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1681476521,"creation_date":1446928362,"question_id":33587451,"body_markdown":"I am making the Conway&#39;s Game of Life like almost every other beginner. The main problem I have is I have no clue how to implement the rules for the game, which are :a dead cell with exactly three live neighbors becomes alive, a live cell with exactly one live neighbor becomes dead, and a live cell with more than three live neighbors becomes dead. I&#39;ve never manipulated a matrix before so I do not have any idea where to start. The class I&#39;m in does not allow us to use non-static methods yet, and also we cannot use the java libraries. This is currently what I have:\r\n\r\n    public class Life {\r\n\tpublic static boolean[][] origin(int a) {\r\n\t\tboolean[][] randomMatrix = new boolean [a][a];\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\trandomMatrix[i][j] = StdRandom.bernoulli();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn randomMatrix;\r\n\t\t}\r\n\tpublic static void print(boolean[][] a) {\r\n        int N = a.length;\r\n        StdOut.println(N);\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (a[i][j]) StdOut.print(&quot;1 &quot;);\r\n                else         StdOut.print(&quot;0 &quot;);\r\n            }\r\n            StdOut.println();\r\n        }\r\n    } \r\n\tpublic static void show(boolean[][] a, boolean which) {\r\n        int N = a.length;\r\n        StdDraw.setXscale(0, N-1);\r\n        StdDraw.setYscale(0, N-1);\r\n        double r = .5;\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (a[i][j] == which) {\r\n                    StdDraw.filledSquare(j, N-i-1, r);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint a = 5;\r\n\t\tboolean[][] b = origin(a);\r\n\t\tint gens = 3;\r\n\t\tfor (int i = 0; i &lt; gens; i++) {\r\n\t\t\tSystem.out.println(&quot;Generation &quot; + i + &quot;:&quot;);\r\n\t\t\tprint(b);\r\n\t\t\tshow(b, true);\r\n\t\t    }\r\n\t    }\r\n    }\r\nThe output I&#39;m receiving right now is what I need for the initial generation of the game. I think I need a new array to store the new generations, and maybe some if and else statements to check if the cells are alive or dead. Any help is appreciated. ","title":"Conway&#39;s Game of Life Rules Java","body":"<p>I am making the Conway's Game of Life like almost every other beginner. The main problem I have is I have no clue how to implement the rules for the game, which are :a dead cell with exactly three live neighbors becomes alive, a live cell with exactly one live neighbor becomes dead, and a live cell with more than three live neighbors becomes dead. I've never manipulated a matrix before so I do not have any idea where to start. The class I'm in does not allow us to use non-static methods yet, and also we cannot use the java libraries. This is currently what I have:</p>\n\n<pre><code>public class Life {\npublic static boolean[][] origin(int a) {\n    boolean[][] randomMatrix = new boolean [a][a];\n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n        randomMatrix[i][j] = StdRandom.bernoulli();\n        }\n    }\n    return randomMatrix;\n    }\npublic static void print(boolean[][] a) {\n    int N = a.length;\n    StdOut.println(N);\n    for (int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; N; j++) {\n            if (a[i][j]) StdOut.print(\"1 \");\n            else         StdOut.print(\"0 \");\n        }\n        StdOut.println();\n    }\n} \npublic static void show(boolean[][] a, boolean which) {\n    int N = a.length;\n    StdDraw.setXscale(0, N-1);\n    StdDraw.setYscale(0, N-1);\n    double r = .5;\n    for (int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; N; j++) {\n            if (a[i][j] == which) {\n                StdDraw.filledSquare(j, N-i-1, r);\n            }\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    int a = 5;\n    boolean[][] b = origin(a);\n    int gens = 3;\n    for (int i = 0; i &lt; gens; i++) {\n        System.out.println(\"Generation \" + i + \":\");\n        print(b);\n        show(b, true);\n        }\n    }\n}\n</code></pre>\n\n<p>The output I'm receiving right now is what I need for the initial generation of the game. I think I need a new array to store the new generations, and maybe some if and else statements to check if the cells are alive or dead. Any help is appreciated. </p>\n"},{"tags":["java","regex","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681476386,"creation_date":1681476386,"answer_id":76015258,"question_id":76013223,"body_markdown":"According to the [documentation](https://camel.apache.org/components/latest/languages/simple-language.html#_operator_support) you have to escape `}` with `\\}`. Since we are using string we need to escape the `\\` character as well resulting in `\\\\}`\r\n\r\n**Example:**\r\n```java\r\n.log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(.{1,5\\\\})(.*)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****$2&lt;/Name1&gt;&#39;)}&quot;)`\r\n```\r\n\r\nAlternative would be to use exchange property and `body().regexReplaceAll`\r\n\r\n**Example:**\r\n```java\r\nfrom(&quot;direct:regexReplaceExample&quot;)\r\n    .routeId(&quot;regexReplaceExample&quot;)\r\n    .setBody(constant(&quot;&lt;Name1&gt;John Doe&lt;/Name1&gt;&quot;))\r\n    .setProperty(&quot;replaced&quot;, body()\r\n        .regexReplaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;))\r\n    // prints &lt;Name1&gt;*****Doe&lt;/Name1&gt;\r\n    .log(&quot;${exchangeProperty.replaced}&quot;)\r\n;\r\n```","title":"Replace Body with regex in Camel logs","body":"<p>According to the <a href=\"https://camel.apache.org/components/latest/languages/simple-language.html#_operator_support\" rel=\"nofollow noreferrer\">documentation</a> you have to escape <code>}</code> with <code>\\}</code>. Since we are using string we need to escape the <code>\\</code> character as well resulting in <code>\\\\}</code></p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(.{1,5\\\\})(.*)&lt;/Name1&gt;', '&lt;Name1&gt;*****$2&lt;/Name1&gt;')}&quot;)`\n</code></pre>\n<p>Alternative would be to use exchange property and <code>body().regexReplaceAll</code></p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:regexReplaceExample&quot;)\n    .routeId(&quot;regexReplaceExample&quot;)\n    .setBody(constant(&quot;&lt;Name1&gt;John Doe&lt;/Name1&gt;&quot;))\n    .setProperty(&quot;replaced&quot;, body()\n        .regexReplaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;))\n    // prints &lt;Name1&gt;*****Doe&lt;/Name1&gt;\n    .log(&quot;${exchangeProperty.replaced}&quot;)\n;\n</code></pre>\n"}],"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476386,"creation_date":1681462312,"question_id":76013223,"body_markdown":"I want to Replace certain Strings with * in Camel logs,For that i am using the following code with regex which works fine:\r\n\r\n    .log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(?:.+?)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****&lt;/Name1&gt;&#39;)}&quot;)\r\n\r\nBut when i want to replace only first 5 chars i am using following code:\r\n\r\n    .log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****$2&lt;/Name1&gt;&#39;)}&quot;)\r\n\r\nBut is is giving me following error with Null pointer Exception:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dxG3x.png\r\n\r\nAny help will be appreciated, Thanks in advance..\r\n","title":"Replace Body with regex in Camel logs","body":"<p>I want to Replace certain Strings with * in Camel logs,For that i am using the following code with regex which works fine:</p>\n<pre><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(?:.+?)&lt;/Name1&gt;', '&lt;Name1&gt;*****&lt;/Name1&gt;')}&quot;)\n</code></pre>\n<p>But when i want to replace only first 5 chars i am using following code:</p>\n<pre><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;', '&lt;Name1&gt;*****$2&lt;/Name1&gt;')}&quot;)\n</code></pre>\n<p>But is is giving me following error with Null pointer Exception:</p>\n<p><a href=\"https://i.stack.imgur.com/dxG3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxG3x.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help will be appreciated, Thanks in advance..</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681423651,"creation_date":1681423651,"answer_id":76010216,"question_id":76010064,"body_markdown":"You need to type the `Function` correctly. Avoid using raw types; in your case, it is inferred as `Function&lt;Object, Object&gt;`, which makes `rs` an `Object`.\r\n\r\n```java\r\nstatic Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer() {\r\n   // ...\r\n}\r\n```","title":"Why is my lambda&#39;s parameter not recognized as a ResultSet?","body":"<p>You need to type the <code>Function</code> correctly. Avoid using raw types; in your case, it is inferred as <code>Function&lt;Object, Object&gt;</code>, which makes <code>rs</code> an <code>Object</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer() {\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76010216,"answer_count":1,"score":-1,"last_activity_date":1681476362,"creation_date":1681422319,"question_id":76010064,"body_markdown":"I&#39;m trying to build a static library of transformer functions.  `poiTransformer` takes a ResultSet and returns a Poi instance.  However, IntelliJ is telling me there are errors.  \r\n\r\nI&#39;m attaching a screenshot of the three different ways I&#39;ve tried writing this.  #1 and #3 each throw &quot;*Cannot resolve method &#39;getMetaData&#39; in &#39;Object&#39;*&quot;.  #2 throws &quot;*Incompatible parameter types in lambda expression: expected Object but found ResultSet*&quot;\r\n\r\nI don&#39;t understand why the IDE does not recognize `rs` as a ResultSet.  Please help.\r\n\r\n** [Begin Edit] ** \r\n\r\n&gt; The solution Unmitigated led me to was to change the Function\r\n&gt; signature to: `static Function&lt;ResultSet, LinkedHashMap&lt;String,\r\n&gt; PoiPin&gt;&gt; poiTransformer()`\r\n\r\n** [End Edit] ** \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![Three ways][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wmmdr.png","title":"Why is my lambda&#39;s parameter not recognized as a ResultSet?","body":"<p>I'm trying to build a static library of transformer functions.  <code>poiTransformer</code> takes a ResultSet and returns a Poi instance.  However, IntelliJ is telling me there are errors.</p>\n<p>I'm attaching a screenshot of the three different ways I've tried writing this.  #1 and #3 each throw &quot;<em>Cannot resolve method 'getMetaData' in 'Object'</em>&quot;.  #2 throws &quot;<em>Incompatible parameter types in lambda expression: expected Object but found ResultSet</em>&quot;</p>\n<p>I don't understand why the IDE does not recognize <code>rs</code> as a ResultSet.  Please help.</p>\n<p>** [Begin Edit] **</p>\n<blockquote>\n<p>The solution Unmitigated led me to was to change the Function\nsignature to: <code>static Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer()</code></p>\n</blockquote>\n<p>** [End Edit] **</p>\n<p><a href=\"https://i.stack.imgur.com/Wmmdr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wmmdr.png\" alt=\"Three ways\" /></a></p>\n"},{"tags":["java","xml","solr","apache-camel","classcastexception"],"owner":{"account_id":2741132,"reputation":31,"user_id":2362669,"display_name":"Schweutsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681476188,"creation_date":1681476188,"question_id":76015239,"body_markdown":"I am using java with Apache Camel (version 3.18.3) to perform operations in solr but I keep having the problem that I can&#39;t use direct routes but have to print the documents to be ingested, delete-queries etc. to files as a step inbetween. \r\n\r\nBody/file content is an xml with the documents to ingest generated by `.to(&quot;xslt-saxon:file{{xsltFile}}&quot;)` in a previous route \r\n\r\n(dummy)\r\n\r\n    &lt;add&gt;\r\n      &lt;doc&gt;\r\n        &lt;field name=&quot;id&quot;&gt;1&lt;/field&gt;\r\n        &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\r\n      &lt;/doc&gt;\r\n      &lt;doc&gt;\r\n        &lt;field name=&quot;id&quot;&gt;2&lt;/field&gt;\r\n        &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\r\n      &lt;/doc&gt;\r\n    &lt;/add&gt;\r\n\r\nWorks: \r\n\r\n    from(&quot;file:{{outputDir}}?antInclude=*xml&amp;delete=true&quot;)\r\n            .log(&quot;solr: ${file:name}&quot; )\r\n            .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\r\n            .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\r\n            .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\r\n            .to(&quot;solr:{{solr}}&quot;)\r\n            .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\r\n            ;\r\n\r\nDoesn&#39;t work: \r\n\r\n    from(&quot;direct:solrIngest&quot;)\r\n       .log(&quot;solr: ${file:name}&quot;)\r\n       .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\r\n       .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\r\n       .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\r\n       .to(&quot;solr:{{solr}}&quot;)\r\n       .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\r\n    ;\r\n\r\n---&gt; Exception: `java.lang.ClassCastException: class java.lang.String cannot be cast to class java.io.File (java.lang.String and java.io.File are in module java.base of loader &#39;bootstrap&#39;)`\r\n\r\n\r\nFor me it&#39;s just extremely conta-intuitive to have to write everything to tmp-files. And also it contradicts the documentation (https://camel.apache.org/components/3.20.x/solr-component.html) where they clearly use direct routes:\r\n\r\n    from(&quot;direct:insert&quot;)\r\n        .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_INSERT))\r\n        .setHeader(SolrConstants.FIELD + &quot;id&quot;, body())\r\n        .to(&quot;solr://localhost:8983/solr&quot;);\r\n\r\nI have tried to convert the body to a file with no success. \r\n\r\nIs there any way to make the Solr-Component accept string-content in body instead of having to print the input to a file?","title":"Apache Camel Solr-component expecting file?","body":"<p>I am using java with Apache Camel (version 3.18.3) to perform operations in solr but I keep having the problem that I can't use direct routes but have to print the documents to be ingested, delete-queries etc. to files as a step inbetween.</p>\n<p>Body/file content is an xml with the documents to ingest generated by <code>.to(&quot;xslt-saxon:file{{xsltFile}}&quot;)</code> in a previous route</p>\n<p>(dummy)</p>\n<pre><code>&lt;add&gt;\n  &lt;doc&gt;\n    &lt;field name=&quot;id&quot;&gt;1&lt;/field&gt;\n    &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\n  &lt;/doc&gt;\n  &lt;doc&gt;\n    &lt;field name=&quot;id&quot;&gt;2&lt;/field&gt;\n    &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\n  &lt;/doc&gt;\n&lt;/add&gt;\n</code></pre>\n<p>Works:</p>\n<pre><code>from(&quot;file:{{outputDir}}?antInclude=*xml&amp;delete=true&quot;)\n        .log(&quot;solr: ${file:name}&quot; )\n        .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\n        .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\n        .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\n        .to(&quot;solr:{{solr}}&quot;)\n        .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\n        ;\n</code></pre>\n<p>Doesn't work:</p>\n<pre><code>from(&quot;direct:solrIngest&quot;)\n   .log(&quot;solr: ${file:name}&quot;)\n   .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\n   .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\n   .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\n   .to(&quot;solr:{{solr}}&quot;)\n   .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\n;\n</code></pre>\n<p>---&gt; Exception: <code>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.io.File (java.lang.String and java.io.File are in module java.base of loader 'bootstrap')</code></p>\n<p>For me it's just extremely conta-intuitive to have to write everything to tmp-files. And also it contradicts the documentation (<a href=\"https://camel.apache.org/components/3.20.x/solr-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/solr-component.html</a>) where they clearly use direct routes:</p>\n<pre><code>from(&quot;direct:insert&quot;)\n    .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_INSERT))\n    .setHeader(SolrConstants.FIELD + &quot;id&quot;, body())\n    .to(&quot;solr://localhost:8983/solr&quot;);\n</code></pre>\n<p>I have tried to convert the body to a file with no success.</p>\n<p>Is there any way to make the Solr-Component accept string-content in body instead of having to print the input to a file?</p>\n"},{"tags":["java","spring","spring-boot","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476097,"creation_date":1681476097,"answer_id":76015224,"question_id":75879300,"body_markdown":"This is my Pom.xml\r\n\r\nit is working fine with:\r\n\r\nJAVA: 17 &lt;br&gt;\r\nLOMBOK: 1.18.24 &lt;br&gt;\r\nMAPSTRUCT: 1.5.3.Final\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.paulmarcelinbejan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;training&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;stack-overflow&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t    &lt;plugins&gt;\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;source&gt;17&lt;/source&gt;\r\n    \t                &lt;target&gt;17&lt;/target&gt;\r\n    \t                &lt;annotationProcessorPaths&gt;\r\n    \t                    &lt;path&gt;\r\n    \t                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t                    &lt;/path&gt;\r\n    \t                    &lt;path&gt;\r\n    \t\t\t                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t            &lt;/path&gt;\r\n    \t\t\t            &lt;dependency&gt;\r\n    \t\t\t                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t                &lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t            &lt;/dependency&gt;\r\n    \t                    &lt;!-- other annotation processors --&gt;\r\n    \t                &lt;/annotationProcessorPaths&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/plugin&gt;\r\n    \t    &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;? - Problem using lombok and mapstruct","body":"<p>This is my Pom.xml</p>\n<p>it is working fine with:</p>\n<p>JAVA: 17 <br>\nLOMBOK: 1.18.24 <br>\nMAPSTRUCT: 1.5.3.Final</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.paulmarcelinbejan&lt;/groupId&gt;\n        &lt;artifactId&gt;training&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;stack-overflow&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":27344052,"reputation":1,"user_id":20854250,"display_name":"Massimo Deiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476097,"creation_date":1680103969,"question_id":75879300,"body_markdown":"I&#39;m building a web api using spring boot 3 and java 17.\r\nI&#39;m using lombok and mapstruct, but I have this error : \r\n\r\n```\r\n19:48\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:19:48\r\njava: No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:20:55\r\njava: No property named &quot;product.description&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:21:53\r\njava: No property named &quot;product.id&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\n\r\n```\r\n\r\n\r\n\r\nHere&#39;s my mapper : \r\n\r\n\r\n```java\r\npackage com.eshop.mapper;\r\n\r\nimport com.eshop.domain.entity.Product;\r\nimport com.eshop.domain.entity.ProductVariant;\r\nimport com.eshop.dto.request.body.ProductCreationBody;\r\nimport com.eshop.dto.request.response.ProductGetDetailsResponse;\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.Mappings;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface ProductMapper {\r\n\r\n    ProductGetDetailsResponse map(Product product);\r\n\r\n    @Mappings({\r\n            @Mapping(target = &quot;name&quot;, source = &quot;product.name&quot;),\r\n            @Mapping(target = &quot;description&quot;, source = &quot;product.description&quot;),\r\n            @Mapping(target = &quot;productId&quot;, source = &quot;product.id&quot;),\r\n    })\r\n    ProductGetDetailsResponse map(ProductVariant productVariant);\r\n\r\n    Product map(ProductCreationBody productCreationRequestBody);\r\n\r\n    List&lt;ProductGetDetailsResponse&gt; map(List&lt;ProductVariant&gt; products);\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the objects I try to map \r\n\r\n\r\n```java\r\npackage com.eshop.dto.request.response;\r\n\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class ProductGetDetailsResponse {\r\n\r\n    private Long id;\r\n\r\n    private Long productId;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private String imageUrl;\r\n\r\n    private String color;\r\n\r\n    private String size;\r\n\r\n    private String price;\r\n\r\n    private String discount;\r\n\r\n    private String displayOrder;\r\n}\r\n```\r\n\r\n\r\n```java\r\npackage com.eshop.domain.entity;\r\n\r\nimport com.eshop.domain.enums.ProductGender;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;product_variant&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {&quot;product_id&quot;, &quot;productColor&quot;, &quot;productSize&quot;})\r\n})\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ProductVariant implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ProductGender productGender;\r\n\r\n    private String productColor;\r\n\r\n    private String productSize;\r\n\r\n    private Integer unitsInStock;\r\n\r\n    private String imageUrl;\r\n\r\n    private Double price;\r\n\r\n    private Integer discount;\r\n\r\n    private LocalDate discountStartDate;\r\n\r\n    private LocalDate discountEndDate;\r\n\r\n    private Integer displayOrder;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```java\r\npackage com.eshop.domain.entity;\r\n\r\nimport com.eshop.domain.enums.ProductStatus;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.Set;\r\n\r\n@Table(name = &quot;products&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = &quot;name&quot;)\r\n})\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Product implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ProductStatus status;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;store_id&quot;)\r\n    private Store store;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;ProductVariant&gt; productVariants;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;subCategory_id&quot;)\r\n    private SubCategory subCategory;\r\n}\r\n\r\n```\r\n\r\nAnd this is my Pom.xml\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.eshop&lt;/groupId&gt;\r\n    &lt;artifactId&gt;eshop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;eshop&lt;/name&gt;\r\n    &lt;description&gt;eshop&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;version.lombok&gt;1.18.26&lt;/version.lombok&gt;\r\n        &lt;version.mapstruct&gt;1.3.1.Final&lt;/version.mapstruct&gt;\r\n        &lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI tried to put dependency and plugin in pom.xml in every possible way (lombok first, mapstruct first, lombok-mapstruct-processor), I tried to downgrade to older version of lombok and mapstruct but it doesn&#39;t work.\r\n\r\nI had the error then suddenly it works, then I add a field to my Dto and it break down again, but I can&#39;t find out what made it work previously.\r\n\r\nThe problem happen when I run the application. Clean install works fine and I got the generated class from lombok and mapstruct right so I don&#39;t really understand what&#39;s going on here.","title":"No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;? - Problem using lombok and mapstruct","body":"<p>I'm building a web api using spring boot 3 and java 17.\nI'm using lombok and mapstruct, but I have this error :</p>\n<pre><code>19:48\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:19:48\njava: No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:20:55\njava: No property named &quot;product.description&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:21:53\njava: No property named &quot;product.id&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\n\n</code></pre>\n<p>Here's my mapper :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.mapper;\n\nimport com.eshop.domain.entity.Product;\nimport com.eshop.domain.entity.ProductVariant;\nimport com.eshop.dto.request.body.ProductCreationBody;\nimport com.eshop.dto.request.response.ProductGetDetailsResponse;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Mappings;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface ProductMapper {\n\n    ProductGetDetailsResponse map(Product product);\n\n    @Mappings({\n            @Mapping(target = &quot;name&quot;, source = &quot;product.name&quot;),\n            @Mapping(target = &quot;description&quot;, source = &quot;product.description&quot;),\n            @Mapping(target = &quot;productId&quot;, source = &quot;product.id&quot;),\n    })\n    ProductGetDetailsResponse map(ProductVariant productVariant);\n\n    Product map(ProductCreationBody productCreationRequestBody);\n\n    List&lt;ProductGetDetailsResponse&gt; map(List&lt;ProductVariant&gt; products);\n\n\n\n}\n\n</code></pre>\n<p>Here's the objects I try to map</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.dto.request.response;\n\nimport lombok.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class ProductGetDetailsResponse {\n\n    private Long id;\n\n    private Long productId;\n\n    private String name;\n\n    private String description;\n\n    private String imageUrl;\n\n    private String color;\n\n    private String size;\n\n    private String price;\n\n    private String discount;\n\n    private String displayOrder;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.domain.entity;\n\nimport com.eshop.domain.enums.ProductGender;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.io.Serializable;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;product_variant&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;product_id&quot;, &quot;productColor&quot;, &quot;productSize&quot;})\n})\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ProductVariant implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private ProductGender productGender;\n\n    private String productColor;\n\n    private String productSize;\n\n    private Integer unitsInStock;\n\n    private String imageUrl;\n\n    private Double price;\n\n    private Integer discount;\n\n    private LocalDate discountStartDate;\n\n    private LocalDate discountEndDate;\n\n    private Integer displayOrder;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.domain.entity;\n\nimport com.eshop.domain.enums.ProductStatus;\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.Set;\n\n@Table(name = &quot;products&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = &quot;name&quot;)\n})\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class Product implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    private String name;\n\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    private ProductStatus status;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;store_id&quot;)\n    private Store store;\n\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n\n    @UpdateTimestamp\n    @Column(name = &quot;updated_at&quot;)\n    private Date updatedAt;\n\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProductVariant&gt; productVariants;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;subCategory_id&quot;)\n    private SubCategory subCategory;\n}\n\n</code></pre>\n<p>And this is my Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.eshop&lt;/groupId&gt;\n    &lt;artifactId&gt;eshop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;eshop&lt;/name&gt;\n    &lt;description&gt;eshop&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;version.lombok&gt;1.18.26&lt;/version.lombok&gt;\n        &lt;version.mapstruct&gt;1.3.1.Final&lt;/version.mapstruct&gt;\n        &lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${version.lombok}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to put dependency and plugin in pom.xml in every possible way (lombok first, mapstruct first, lombok-mapstruct-processor), I tried to downgrade to older version of lombok and mapstruct but it doesn't work.</p>\n<p>I had the error then suddenly it works, then I add a field to my Dto and it break down again, but I can't find out what made it work previously.</p>\n<p>The problem happen when I run the application. Clean install works fine and I got the generated class from lombok and mapstruct right so I don't really understand what's going on here.</p>\n"},{"tags":["java","oop","design-patterns","class-design","ooad"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1681410886,"post_id":76008717,"comment_id":134056027,"body_markdown":"Those `Error` classes could honestly be runtime exceptions, which would allow you to use `try/catch` logic for them. If you find yourself designing something like `onEvent1`, `onEvent2`, ... it may be better to actually have an `interface EventHandler&lt;T extends Event&gt;` with a `onEvent(T event);` that can be overridden.","body":"Those <code>Error</code> classes could honestly be runtime exceptions, which would allow you to use <code>try&#47;catch</code> logic for them. If you find yourself designing something like <code>onEvent1</code>, <code>onEvent2</code>, ... it may be better to actually have an <code>interface EventHandler&lt;T extends Event&gt;</code> with a <code>onEvent(T event);</code> that can be overridden."}],"answers":[{"tags":[],"owner":{"account_id":28252599,"reputation":61,"user_id":21598590,"display_name":"Eduard For&#233;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681459078,"creation_date":1681414554,"answer_id":76009219,"question_id":76008717,"body_markdown":"In my opinion one good solution is the command pattern. You can check the next URL: https://refactoring.guru/design-patterns/command/java/example.\r\n\r\nThe code should be something like:\r\n\r\nYou have to create one abstract class to define the command functions.\r\n\r\n**Command.java**\r\n\r\n    public abstract class Command {\r\n\t   public Command(){}\r\n\r\n       public Error execute(){\r\n\t\t  return null;\r\n\t   }\r\n\r\n       public Error getError(){\r\n    \t   if(true) {\r\n               return new NoProcessorFoundError();\r\n           } else {\r\n               return new UnknownError();\r\n           }\r\n       }\r\n    }\r\n\r\nThen, you must to create the 2 processes to split the functionalities.\r\n\r\n**Process1.java**\r\n\r\n    public class Process1 extends Command {\r\n        private Eventinterface event;\r\n\r\n        public Process1(Eventinterface event){\r\n           this.event = event;\r\n        }\r\n    \r\n        @Override\r\n        public Error execute(){\r\n            Event1processors.process(this.event);\r\n            Error result = getError();\r\n            if(result instanceof NoProcesssorFoundError) {\r\n                event1.setStatus(RETRYABLE);\r\n                ...\r\n            } else(result instanceof UnknownError) {\r\n                event1.setStatus(FAILED);\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n**Process2.java**\r\n\r\n    public class Process2 extends Command {\r\n        private Eventinterface event;\r\n\r\n        public Process2(Eventinterface event){\r\n           this.event = event;\r\n        }\r\n    \r\n        @Override\r\n        public Error execute(){\r\n            Event2processors.process(this.event);\r\n            Error result = getError();\r\n            if(result instanceof NoProcesssorFoundError) {\r\n                event2.setStatus(REJECTED);\r\n                ...\r\n            } else(result instanceof UnknownError) {\r\n                event2.setStatus(FAILED);\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nThen, to use this patter you have 2 options. The first option is use the Processes  classes directly.\r\n\r\n**Main1.java**\r\n\r\n    public static void main(String[] args) {\r\n    \tEvent1 event1 = new Event1();\r\n    \tCommand process1 = new Process1(event1);\r\n        process1.execute();\r\n    \t\t\r\n    \tEvent2 event2 = new Event2();\r\n    \tCommand process2 = new Process2(event2);\r\n        process2.execute();\r\n    }\r\n\r\nOr you can create one CommandExecutor and get the command process using one enumerator. For this case, I think it is not the best option because if you have a lot of processes you have to define too much events before to instantiate the CommandExecutor.\r\n\r\n**CommandExecutor.java**\r\n\r\n    public class CommandExecutor {\r\n    \tHashMap&lt;CommandEnum, Command&gt; commandStack = new HashMap();\r\n    \t\r\n    \tpublic CommandExecutor(EventInterface... events) {\r\n    \t\tcommandStack.put(CommandEnum.PROCESS1, new Process1(events[0]));\r\n    \t\tcommandStack.put(CommandEnum.PROCESS2, new Process2(events[1]));\r\n    \t}\r\n    \t\r\n    \tpublic Command getCommand(CommandEnum commandEndum) {\r\n    \t\treturn commandStack.get(commandEndum);\r\n    \t}\r\n    }\r\n\r\nFinally you can use this executor like this main file.\r\n\r\n**Main2.java**\r\n\r\n    public static void main(String[] args) {\r\n    \tEvent1 event1 = new Event1();\r\n    \tEvent2 event2 = new Event2();\r\n    \tCommandExecutor commandExecutor = new CommandExecutor(event1, event2);\r\n    \t\t\r\n    \tCommand command = commandExecutor.getCommand(CommandEnum.PROCESS1);\r\n    \r\n    \tcommand.execute();\r\n    }\r\n\r\nTo refactor the if-else of the Error you can implement one **Visitor pattern**. You have different choices to change this if-else in this link: https://www.baeldung.com/java-instanceof-alternatives.","title":"How can we improve the OO design between two interfaces","body":"<p>In my opinion one good solution is the command pattern. You can check the next URL: <a href=\"https://refactoring.guru/design-patterns/command/java/example\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/command/java/example</a>.</p>\n<p>The code should be something like:</p>\n<p>You have to create one abstract class to define the command functions.</p>\n<p><strong>Command.java</strong></p>\n<pre><code>public abstract class Command {\n   public Command(){}\n\n   public Error execute(){\n      return null;\n   }\n\n   public Error getError(){\n       if(true) {\n           return new NoProcessorFoundError();\n       } else {\n           return new UnknownError();\n       }\n   }\n}\n</code></pre>\n<p>Then, you must to create the 2 processes to split the functionalities.</p>\n<p><strong>Process1.java</strong></p>\n<pre><code>public class Process1 extends Command {\n    private Eventinterface event;\n\n    public Process1(Eventinterface event){\n       this.event = event;\n    }\n\n    @Override\n    public Error execute(){\n        Event1processors.process(this.event);\n        Error result = getError();\n        if(result instanceof NoProcesssorFoundError) {\n            event1.setStatus(RETRYABLE);\n            ...\n        } else(result instanceof UnknownError) {\n            event1.setStatus(FAILED);\n            ...\n        }\n    }\n}\n</code></pre>\n<p><strong>Process2.java</strong></p>\n<pre><code>public class Process2 extends Command {\n    private Eventinterface event;\n\n    public Process2(Eventinterface event){\n       this.event = event;\n    }\n\n    @Override\n    public Error execute(){\n        Event2processors.process(this.event);\n        Error result = getError();\n        if(result instanceof NoProcesssorFoundError) {\n            event2.setStatus(REJECTED);\n            ...\n        } else(result instanceof UnknownError) {\n            event2.setStatus(FAILED);\n            ...\n        }\n    }\n}\n</code></pre>\n<p>Then, to use this patter you have 2 options. The first option is use the Processes  classes directly.</p>\n<p><strong>Main1.java</strong></p>\n<pre><code>public static void main(String[] args) {\n    Event1 event1 = new Event1();\n    Command process1 = new Process1(event1);\n    process1.execute();\n        \n    Event2 event2 = new Event2();\n    Command process2 = new Process2(event2);\n    process2.execute();\n}\n</code></pre>\n<p>Or you can create one CommandExecutor and get the command process using one enumerator. For this case, I think it is not the best option because if you have a lot of processes you have to define too much events before to instantiate the CommandExecutor.</p>\n<p><strong>CommandExecutor.java</strong></p>\n<pre><code>public class CommandExecutor {\n    HashMap&lt;CommandEnum, Command&gt; commandStack = new HashMap();\n    \n    public CommandExecutor(EventInterface... events) {\n        commandStack.put(CommandEnum.PROCESS1, new Process1(events[0]));\n        commandStack.put(CommandEnum.PROCESS2, new Process2(events[1]));\n    }\n    \n    public Command getCommand(CommandEnum commandEndum) {\n        return commandStack.get(commandEndum);\n    }\n}\n</code></pre>\n<p>Finally you can use this executor like this main file.</p>\n<p><strong>Main2.java</strong></p>\n<pre><code>public static void main(String[] args) {\n    Event1 event1 = new Event1();\n    Event2 event2 = new Event2();\n    CommandExecutor commandExecutor = new CommandExecutor(event1, event2);\n        \n    Command command = commandExecutor.getCommand(CommandEnum.PROCESS1);\n\n    command.execute();\n}\n</code></pre>\n<p>To refactor the if-else of the Error you can implement one <strong>Visitor pattern</strong>. You have different choices to change this if-else in this link: <a href=\"https://www.baeldung.com/java-instanceof-alternatives\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-instanceof-alternatives</a>.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476036,"creation_date":1681476036,"answer_id":76015216,"question_id":76008717,"body_markdown":"you can use a bit of polymorphism and try something like this: \r\n\r\n    abstract class Error {\r\n\t\tpublic abstract Status status();\r\n\r\n        class NoProcessorFoundError extends Error {\r\n\t\t    public static NoProcessorFoundError retrayable() {\r\n\t\t\t\treturn new NoProcessorFoundError(RETRYABLE);\r\n\t\t\t}\r\n\t\t    public static NoProcessorFoundError redjected() {\r\n\t\t\t\treturn new NoProcessorFoundError(REDJECTED);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tprivate final Status status;\r\n\t\t\t\r\n\t\t\tprivate NoProcessorFoundError(Status status) {\r\n\t\t\t    this.status = status;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t    @Override\r\n\t\t\tpublic Status status() {\r\n\t\t\t    return status;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        class UnknownError extends Error {\r\n\t\t    @Override\r\n\t\t\tpublic Status status() {\r\n\t\t\t    return FAILED;\r\n\t\t\t}\r\n\t\t}\r\n        ...\r\n    }\r\n\r\nAnd this can be used like so:\r\n\r\n    public void onEvent1(Event1 event1) {\r\n        val result = process1(event1);\r\n        event1.setStatus(event1.status());\r\n    }\r\n\r\n    public void onEvent2(Event2 event2) {\r\n        val result = process2(event2);\r\n        event2.setStatus(event2.status());\r\n    }\r\n\r\n    private Error process1(Event1 event1) {\r\n        Event1processors.process(event1)\r\n        ....\r\n        if(true) {\r\n            return NoProcessorFoundError.retrayable();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    private Error process2(Event2 event2) {\r\n        Event2processors.process(event2)\r\n        ....\r\n        if(true) {\r\n            return NoProcessorFoundError.redjected();\r\n        } else {\r\n            return new UnknownError();\r\n       }\r\n    }\r\n\r\nAs a result `onEvent1` and `onEvent2` are very similar, they can even be extracted together in a common `onEvent`method.","title":"How can we improve the OO design between two interfaces","body":"<p>you can use a bit of polymorphism and try something like this:</p>\n<pre><code>abstract class Error {\n    public abstract Status status();\n\n    class NoProcessorFoundError extends Error {\n        public static NoProcessorFoundError retrayable() {\n            return new NoProcessorFoundError(RETRYABLE);\n        }\n        public static NoProcessorFoundError redjected() {\n            return new NoProcessorFoundError(REDJECTED);\n        }\n    \n        private final Status status;\n        \n        private NoProcessorFoundError(Status status) {\n            this.status = status;\n        }\n        \n        @Override\n        public Status status() {\n            return status;\n        }\n    }\n    \n    class UnknownError extends Error {\n        @Override\n        public Status status() {\n            return FAILED;\n        }\n    }\n    ...\n}\n</code></pre>\n<p>And this can be used like so:</p>\n<pre><code>public void onEvent1(Event1 event1) {\n    val result = process1(event1);\n    event1.setStatus(event1.status());\n}\n\npublic void onEvent2(Event2 event2) {\n    val result = process2(event2);\n    event2.setStatus(event2.status());\n}\n\nprivate Error process1(Event1 event1) {\n    Event1processors.process(event1)\n    ....\n    if(true) {\n        return NoProcessorFoundError.retrayable();\n    } else {\n        return new UnknownError();\n    }\n}\n\nprivate Error process2(Event2 event2) {\n    Event2processors.process(event2)\n    ....\n    if(true) {\n        return NoProcessorFoundError.redjected();\n    } else {\n        return new UnknownError();\n   }\n}\n</code></pre>\n<p>As a result <code>onEvent1</code> and <code>onEvent2</code> are very similar, they can even be extracted together in a common <code>onEvent</code>method.</p>\n"}],"owner":{"account_id":3915226,"reputation":3,"user_id":3239193,"display_name":"user3239193"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76009219,"answer_count":2,"score":0,"last_activity_date":1681476036,"creation_date":1681410539,"question_id":76008717,"body_markdown":"In the below sample code, how can we get rid of if-else ladder of concrete classes viz. `NoProcesssorFoundError` &amp; `UnknownError`. I could extract an interface between `Event1` and `Event2` and pass their processors to process functions as the `process1` and `process2` is almost same except inputs and its procs. However, how to get rid of the if-else ladder of error concrete classe\r\n\r\n```\r\npublic class EventProcessor {\r\n\r\n    public void onEvent1(Event1 event1) {\r\n        val result = process1(event1);\r\n        if(result instanceof NoProcesssorFoundError) {\r\n            event1.setStatus(RETRYABLE);\r\n            ...\r\n        } else(result instanceof UnknownError) {\r\n            event1.setStatus(FAILED);\r\n            ...\r\n        }\r\n    }\r\n\r\n    public void onEvent2(Event2 event2) {\r\n        val result = process2(event2);\r\n        if(result instanceof NoProcesssorFoundError) {\r\n            event2.setStatus(REJECTED);\r\n            ...\r\n        } else(result instanceof UnknownError) {\r\n            event2.setStatus(FAILED);\r\n            ...\r\n        }\r\n    }\r\n\r\n    private Error process1(Event1 event1) {\r\n        Event1processors.process(event1)\r\n        ....\r\n        if(true) {\r\n            return new NoProcessorFoundError();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    private Error process2(Event2 event2) {\r\n        Event2processors.process(event2)\r\n        ....\r\n        if(true) {\r\n            return new NoProcessorFoundError();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    abstract class Error {\r\n        class NoProcessorFoundError extends Error {}\r\n        class UnknownError extends Error {}\r\n        ...\r\n    }\r\n}\r\n```","title":"How can we improve the OO design between two interfaces","body":"<p>In the below sample code, how can we get rid of if-else ladder of concrete classes viz. <code>NoProcesssorFoundError</code> &amp; <code>UnknownError</code>. I could extract an interface between <code>Event1</code> and <code>Event2</code> and pass their processors to process functions as the <code>process1</code> and <code>process2</code> is almost same except inputs and its procs. However, how to get rid of the if-else ladder of error concrete classe</p>\n<pre><code>public class EventProcessor {\n\n    public void onEvent1(Event1 event1) {\n        val result = process1(event1);\n        if(result instanceof NoProcesssorFoundError) {\n            event1.setStatus(RETRYABLE);\n            ...\n        } else(result instanceof UnknownError) {\n            event1.setStatus(FAILED);\n            ...\n        }\n    }\n\n    public void onEvent2(Event2 event2) {\n        val result = process2(event2);\n        if(result instanceof NoProcesssorFoundError) {\n            event2.setStatus(REJECTED);\n            ...\n        } else(result instanceof UnknownError) {\n            event2.setStatus(FAILED);\n            ...\n        }\n    }\n\n    private Error process1(Event1 event1) {\n        Event1processors.process(event1)\n        ....\n        if(true) {\n            return new NoProcessorFoundError();\n        } else {\n            return new UnknownError();\n        }\n    }\n\n    private Error process2(Event2 event2) {\n        Event2processors.process(event2)\n        ....\n        if(true) {\n            return new NoProcessorFoundError();\n        } else {\n            return new UnknownError();\n        }\n    }\n\n    abstract class Error {\n        class NoProcessorFoundError extends Error {}\n        class UnknownError extends Error {}\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","quarkus-rest-client","completion-stage"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681475532,"creation_date":1681475532,"answer_id":76015123,"question_id":76013642,"body_markdown":"I think I have figured it out.\r\n\r\nIf you define some different CompletionStage yourself, you need to provide the executor service, like in [this blog](https://nurkiewicz.com/2015/11/which-thread-executes.html); each stage needs one, so you may end up with multiple. \r\n\r\nBut the work of calling the endpoint when return type is `CompletionStage` will use Quarkus rest client pool, which can be configured by some properties as mentioned [here](https://github.com/quarkusio/quarkus/issues/19251). For example, I can configure `quarkus.rest-client.&quot;my-api&quot;.connection-pool-size`. This key is found in `io.quarkus.restclient.config.RestClientConfig`, among many others. \r\n\r\nOf course if I define both endpoint to return `CompletionStage`, they will run in this above pool. \r\n\r\nI think I will still block on one thread in this pool instead of splitting the work into 2 threads.\r\n\r\n","title":"Quarkus rest client(w/o CompletionStage): calling 2 endpoints in order, how to define return type to have better performance","body":"<p>I think I have figured it out.</p>\n<p>If you define some different CompletionStage yourself, you need to provide the executor service, like in <a href=\"https://nurkiewicz.com/2015/11/which-thread-executes.html\" rel=\"nofollow noreferrer\">this blog</a>; each stage needs one, so you may end up with multiple.</p>\n<p>But the work of calling the endpoint when return type is <code>CompletionStage</code> will use Quarkus rest client pool, which can be configured by some properties as mentioned <a href=\"https://github.com/quarkusio/quarkus/issues/19251\" rel=\"nofollow noreferrer\">here</a>. For example, I can configure <code>quarkus.rest-client.&quot;my-api&quot;.connection-pool-size</code>. This key is found in <code>io.quarkus.restclient.config.RestClientConfig</code>, among many others.</p>\n<p>Of course if I define both endpoint to return <code>CompletionStage</code>, they will run in this above pool.</p>\n<p>I think I will still block on one thread in this pool instead of splitting the work into 2 threads.</p>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681475532,"creation_date":1681464975,"question_id":76013642,"body_markdown":"In Quarkus, rest client can be defined to return my DTO, or CompletionStage&lt;DTO&gt;. \r\n\r\nI have 2 endpoints to call, first I want to retrieve some `JobDTO` from endpoint 1, then update it and save it back using 2nd endpoint. \r\n\r\nI observed that:\r\n\r\n - If I define both endpoints returning `CompletionStage&lt;JobDTO&gt;`, main thread will initialize `executor-thread-0` to call endpoint 1, and then `executor-thread-0` hands over the work to `executor-thread-1` to call endpoint 2\r\n - If I define 1st to return `CompletionStage&lt;JobDTO&gt;`, then 2nd endpoint to return `JobDTO`, only `executor-thread-0` is used, 2nd endpoint call happens on it too.\r\n\r\nI know that in this case, by default, `ForkJoinPool.commonPool` is used. \r\n\r\nSo, which is better? It&#39;s blocking I/O operation so I guess it&#39;s better to only block 1 thread if API call is slow; however I am not sure how the work stealing pool works, when I/O blocking happens.\r\n\r\nFor example if I define both to return `CompletionStage`, and 1st endpoint returns fast, `executor-thread-0` will quickly hand over work \r\n to `executor-thread-1`. Then, will `executor-thread-0` fetch more work and hands it over to `executor-thread-2` to cause more threads blocking? Or it still hands to `executor-thread-1` and queuing there?\r\n\r\nDo I have to calculate the latency of these 2 endpoints and do some calculation, and then use some custom ExecutorService?\r\n","title":"Quarkus rest client(w/o CompletionStage): calling 2 endpoints in order, how to define return type to have better performance","body":"<p>In Quarkus, rest client can be defined to return my DTO, or CompletionStage.</p>\n<p>I have 2 endpoints to call, first I want to retrieve some <code>JobDTO</code> from endpoint 1, then update it and save it back using 2nd endpoint.</p>\n<p>I observed that:</p>\n<ul>\n<li>If I define both endpoints returning <code>CompletionStage&lt;JobDTO&gt;</code>, main thread will initialize <code>executor-thread-0</code> to call endpoint 1, and then <code>executor-thread-0</code> hands over the work to <code>executor-thread-1</code> to call endpoint 2</li>\n<li>If I define 1st to return <code>CompletionStage&lt;JobDTO&gt;</code>, then 2nd endpoint to return <code>JobDTO</code>, only <code>executor-thread-0</code> is used, 2nd endpoint call happens on it too.</li>\n</ul>\n<p>I know that in this case, by default, <code>ForkJoinPool.commonPool</code> is used.</p>\n<p>So, which is better? It's blocking I/O operation so I guess it's better to only block 1 thread if API call is slow; however I am not sure how the work stealing pool works, when I/O blocking happens.</p>\n<p>For example if I define both to return <code>CompletionStage</code>, and 1st endpoint returns fast, <code>executor-thread-0</code> will quickly hand over work\nto <code>executor-thread-1</code>. Then, will <code>executor-thread-0</code> fetch more work and hands it over to <code>executor-thread-2</code> to cause more threads blocking? Or it still hands to <code>executor-thread-1</code> and queuing there?</p>\n<p>Do I have to calculate the latency of these 2 endpoints and do some calculation, and then use some custom ExecutorService?</p>\n"},{"tags":["java","spring","mapstruct","json-view"],"comments":[{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1543772024,"post_id":53581961,"comment_id":94028977,"body_markdown":"I couldn&#39;t reproduce the problem. Can you please post [MCVE](https://stackoverflow.com/help/mcve)?","body":"I couldn&#39;t reproduce the problem. Can you please post <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":3,"creation_date":1543772451,"post_id":53581961,"comment_id":94029104,"body_markdown":"Using MapStruct and `@JsonView` defeats the purpose of using MapStruct (in my opinion). Why not create an object per view? For example `UserSummaryDto` and map from your `User` into the `UserSummaryDto` this way you don&#39;t need to use `@JsonView` and JacksonWould deserialize everything properly.","body":"Using MapStruct and <code>@JsonView</code> defeats the purpose of using MapStruct (in my opinion). Why not create an object per view? For example <code>UserSummaryDto</code> and map from your <code>User</code> into the <code>UserSummaryDto</code> this way you don&#39;t need to use <code>@JsonView</code> and JacksonWould deserialize everything properly."},{"owner":{"account_id":9455379,"reputation":192,"user_id":7030856,"display_name":"Mark Brown"},"score":0,"creation_date":1543928210,"post_id":53581961,"comment_id":94087656,"body_markdown":"Thanks for the suggest @Filip, that is the solution I went for in the end","body":"Thanks for the suggest @Filip, that is the solution I went for in the end"}],"owner":{"account_id":9455379,"reputation":192,"user_id":7030856,"display_name":"Mark Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681475338,"creation_date":1543766091,"question_id":53581961,"body_markdown":"So I am migrating all of my controllers to using a DTO object as previously they used the persistence objects.\r\n\r\nI have chosen to make use of [MapStruct](http://mapstruct.org/documentation/stable/reference/html/#defining-mapper) for this.\r\n\r\nMy problem is I have seemingly lost the ability to apply `@JsonView` to this response, as now the response when applying the view is `{}` (empty).\r\n\r\nMy question is, should this be possible to combine MapStruct and Jackson serialisation or will I be required to create a DTO class for each of the views that I currently use?\r\n\r\nMy class structure is as follows:\r\n\r\n    @Entity\r\n    public class User {\r\n        @JsonView(View.Summary.class)\r\n        private Long id;\r\n        @JsonView(View.Summary.class)\r\n        private String name;\r\n        // Etc\r\n    }\r\n\r\n    public class UserDto {\r\n        @JsonView(View.Summary.class)\r\n        private Long id;\r\n        @JsonView(View.Summary.class)\r\n        private String name;\r\n        // Etc\r\n    }\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        User toUser(UserDto userDto);\r\n        UserDto toUserDto(User user);\r\n    }\r\n\r\n    public class UserController() {\r\n        @JsonView(View.Summary.class)\r\n\t    @RequestMapping(path = &quot;/users&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n\t    public Page&lt;UserDto&gt; userPage(@RequestParam MultiValueMap&lt;String, String&gt; filters, Pageable page) {\r\n\t\t    return service.findAllUser(filters, page).map(mapper::toUserDto);\r\n\t    }\r\n\r\n        @JsonView(View.Summary.class)\r\n\t    @RequestMapping(path = &quot;/users/{id}&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n\t    public UserDto singleUser(@PathVariable(&quot;id&quot;) Long id) {\r\n\t\t    return mapper.toUserDto(service.findById(id));\r\n\t    }\r\n    }","title":"How do I get @JsonView to work with MapStruct","body":"<p>So I am migrating all of my controllers to using a DTO object as previously they used the persistence objects.</p>\n\n<p>I have chosen to make use of <a href=\"http://mapstruct.org/documentation/stable/reference/html/#defining-mapper\" rel=\"nofollow noreferrer\">MapStruct</a> for this.</p>\n\n<p>My problem is I have seemingly lost the ability to apply <code>@JsonView</code> to this response, as now the response when applying the view is <code>{}</code> (empty).</p>\n\n<p>My question is, should this be possible to combine MapStruct and Jackson serialisation or will I be required to create a DTO class for each of the views that I currently use?</p>\n\n<p>My class structure is as follows:</p>\n\n<pre><code>@Entity\npublic class User {\n    @JsonView(View.Summary.class)\n    private Long id;\n    @JsonView(View.Summary.class)\n    private String name;\n    // Etc\n}\n\npublic class UserDto {\n    @JsonView(View.Summary.class)\n    private Long id;\n    @JsonView(View.Summary.class)\n    private String name;\n    // Etc\n}\n\n@Mapper\npublic interface UserMapper {\n    User toUser(UserDto userDto);\n    UserDto toUserDto(User user);\n}\n\npublic class UserController() {\n    @JsonView(View.Summary.class)\n    @RequestMapping(path = \"/users\", method = RequestMethod.GET, produces = \"application/json\")\n    public Page&lt;UserDto&gt; userPage(@RequestParam MultiValueMap&lt;String, String&gt; filters, Pageable page) {\n        return service.findAllUser(filters, page).map(mapper::toUserDto);\n    }\n\n    @JsonView(View.Summary.class)\n    @RequestMapping(path = \"/users/{id}\", method = RequestMethod.GET, produces = \"application/json\")\n    public UserDto singleUser(@PathVariable(\"id\") Long id) {\n        return mapper.toUserDto(service.findById(id));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","classloader"],"comments":[{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762291,"post_id":64388395,"comment_id":114133283,"body_markdown":"What is the startup configuration you are using to start ? Have you tried the following format ? `java -cp ./lib/* com.example.Main`.","body":"What is the startup configuration you are using to start ? Have you tried the following format ? <code>java -cp .&#47;lib&#47;* com.example.Main</code>."},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762362,"post_id":64388395,"comment_id":114133301,"body_markdown":"What is the problem-statement? Are you trying to launch your application itself from (a) a custom-classloader or (b) are you trying to load specific application related classes *after* launching the application ?","body":"What is the problem-statement? Are you trying to launch your application itself from (a) a custom-classloader or (b) are you trying to load specific application related classes <i>after</i> launching the application ?"},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762575,"post_id":64388395,"comment_id":114133347,"body_markdown":"If you print `System.out.println(Main.class.getClassLoader());` do you expect your class-loader to be specified or the standard system classloader to be printed (assuming com.example.Main is your main class) ?","body":"If you print <code>System.out.println(Main.class.getClassLoader());</code> do you expect your class-loader to be specified or the standard system classloader to be printed (assuming com.example.Main is your main class) ?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1603845695,"creation_date":1603244879,"answer_id":64455537,"question_id":64388395,"body_markdown":"&gt; Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.\r\n\r\nBecause IDEA puts your modules on the class path and one of them contains the custom class loader.\r\n\r\n&gt; Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath?\r\n\r\nKind of. The lib classes are not &quot;added to the class path&quot;, but the runnable Spring Boot app&#39;s own custom class loader knows where to find and how to load them.\r\n\r\nFor a deeper understanding of `java.system.class.loader`, please read the Javadoc for [`ClassLoader.getSystemClassLoader()`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()) (slightly reformatted with added enumeration):\r\n\r\n&gt; 1. If the system property `java.system.class.loader` is defined when this method is first invoked then the value of that property is taken to be the name of a class that will be returned as the system class loader.\r\n&gt; 0. The class is loaded using the default system class loader and must define a public constructor that takes a single parameter of type `ClassLoader` which is used as the delegation parent.\r\n&gt; 0. An instance is then created using this constructor ***with the default system class loader*** as the parameter.\r\n&gt; 0. The resulting class loader is defined to be the system class loader.\r\n&gt; 0. During construction, the class loader should take great care to avoid calling `getSystemClassLoader()`. If circular initialization of the system class loader is detected then an `IllegalStateException` is thrown.\r\n\r\nThe decisive factor here is #3: The user-defined system class loader is loaded by the default system class loader. The latter of course has no clue about how to load something from a nested JAR. Only later, after the JVM is fully initialised and Spring Boot&#39;s special application class loader kicks in, can those nested JARs be read.\r\n\r\nI.e. you are having a chicken vs. egg problem here: In order to find your custom class loader during JVM initialisation, you would need to use the Spring Boot runnable JAR class loader which has not been initialised yet.\r\n\r\nIf you want to know how what the Javadoc above describes is done in practice, take a look at the OpenJDK [source code of `ClassLoader.initSystemClassLoader()`](https://github.com/openjdk/jdk/blob/jdk-14%2B36/src/java.base/share/classes/java/lang/ClassLoader.java#L1962).\r\n\r\n&gt; Is there anything I can do besides moving the classloader from common to all the other modules that need it?\r\n\r\nEven that would not help if you insist in using the runnable JAR. What you could do is either of these:\r\n  * Run your application without zipping it up into a runnable JAR, but as a normal Java application with all application modules (especially the one containing the custom class loader) on the class path.\r\n  * Extract your custom class loader into a separate module outside of the runnable JAR and put it on the class path when running the runnable JAR.\r\n  * Set your custom class loader via `Thread.setContextClassLoader()` or so instead of trying to use it as a system class loader, if that would be a viable option.\r\n\r\n---\r\n\r\n**Update 2020-10-28:** In the document &quot;The Executable Jar Format&quot; I found this under [&quot;Executable Jar Restrictions&quot;](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html#executable-jar-restrictions):\r\n\r\n&gt; System classLoader: Launched applications should use `Thread.getContextClassLoader()` when loading classes (most libraries and frameworks do so by default). Trying to load nested jar classes with `ClassLoader.getSystemClassLoader()` fails. `java.util.Logging` always uses the system classloader. For this reason, you should consider a different logging implementation.\r\n\r\nThis confirms what I wrote above, especially my last bullet point about using the thread context class loader.","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<blockquote>\n<p>Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.</p>\n</blockquote>\n<p>Because IDEA puts your modules on the class path and one of them contains the custom class loader.</p>\n<blockquote>\n<p>Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath?</p>\n</blockquote>\n<p>Kind of. The lib classes are not &quot;added to the class path&quot;, but the runnable Spring Boot app's own custom class loader knows where to find and how to load them.</p>\n<p>For a deeper understanding of <code>java.system.class.loader</code>, please read the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()\" rel=\"nofollow noreferrer\"><code>ClassLoader.getSystemClassLoader()</code></a> (slightly reformatted with added enumeration):</p>\n<blockquote>\n<ol>\n<li>If the system property <code>java.system.class.loader</code> is defined when this method is first invoked then the value of that property is taken to be the name of a class that will be returned as the system class loader.</li>\n<li>The class is loaded using the default system class loader and must define a public constructor that takes a single parameter of type <code>ClassLoader</code> which is used as the delegation parent.</li>\n<li>An instance is then created using this constructor <em><strong>with the default system class loader</strong></em> as the parameter.</li>\n<li>The resulting class loader is defined to be the system class loader.</li>\n<li>During construction, the class loader should take great care to avoid calling <code>getSystemClassLoader()</code>. If circular initialization of the system class loader is detected then an <code>IllegalStateException</code> is thrown.</li>\n</ol>\n</blockquote>\n<p>The decisive factor here is #3: The user-defined system class loader is loaded by the default system class loader. The latter of course has no clue about how to load something from a nested JAR. Only later, after the JVM is fully initialised and Spring Boot's special application class loader kicks in, can those nested JARs be read.</p>\n<p>I.e. you are having a chicken vs. egg problem here: In order to find your custom class loader during JVM initialisation, you would need to use the Spring Boot runnable JAR class loader which has not been initialised yet.</p>\n<p>If you want to know how what the Javadoc above describes is done in practice, take a look at the OpenJDK <a href=\"https://github.com/openjdk/jdk/blob/jdk-14%2B36/src/java.base/share/classes/java/lang/ClassLoader.java#L1962\" rel=\"nofollow noreferrer\">source code of <code>ClassLoader.initSystemClassLoader()</code></a>.</p>\n<blockquote>\n<p>Is there anything I can do besides moving the classloader from common to all the other modules that need it?</p>\n</blockquote>\n<p>Even that would not help if you insist in using the runnable JAR. What you could do is either of these:</p>\n<ul>\n<li>Run your application without zipping it up into a runnable JAR, but as a normal Java application with all application modules (especially the one containing the custom class loader) on the class path.</li>\n<li>Extract your custom class loader into a separate module outside of the runnable JAR and put it on the class path when running the runnable JAR.</li>\n<li>Set your custom class loader via <code>Thread.setContextClassLoader()</code> or so instead of trying to use it as a system class loader, if that would be a viable option.</li>\n</ul>\n<hr />\n<p><strong>Update 2020-10-28:</strong> In the document &quot;The Executable Jar Format&quot; I found this under <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html#executable-jar-restrictions\" rel=\"nofollow noreferrer\">&quot;Executable Jar Restrictions&quot;</a>:</p>\n<blockquote>\n<p>System classLoader: Launched applications should use <code>Thread.getContextClassLoader()</code> when loading classes (most libraries and frameworks do so by default). Trying to load nested jar classes with <code>ClassLoader.getSystemClassLoader()</code> fails. <code>java.util.Logging</code> always uses the system classloader. For this reason, you should consider a different logging implementation.</p>\n</blockquote>\n<p>This confirms what I wrote above, especially my last bullet point about using the thread context class loader.</p>\n"},{"tags":[],"owner":{"account_id":1875786,"reputation":136,"user_id":1697027,"display_name":"Ravi raj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603703773,"creation_date":1603703773,"answer_id":64534295,"question_id":64388395,"body_markdown":"Assuming you want to add custom jar to the classpath with Spring, do the following:\r\n\r\n1. Generate the jar file with the maven jar plugin\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n                        &lt;mainClass&gt;\r\n                            com.demo.DemoApplication\r\n                        &lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n2. While running the application from the command line, use the below command\r\n\r\n `java -cp target/demo-0.0.1-SNAPSHOT.jar -Dloader.path=&lt;Path to the Custom Jar file&gt; \r\n org.springframework.boot.loader.PropertiesLauncher`\r\n\r\nThis should launch your app while loading the Custom Classloader as well\r\n\r\nIn short, the trick is, to use the **-Dloader.path** along with **org.springframework.boot.loader.PropertiesLauncher**\r\n\r\n\r\n","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>Assuming you want to add custom jar to the classpath with Spring, do the following:</p>\n<ol>\n<li><p>Generate the jar file with the maven jar plugin</p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;archive&gt;\n             &lt;manifest&gt;\n                 &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                 &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n                 &lt;mainClass&gt;\n                     com.demo.DemoApplication\n                 &lt;/mainClass&gt;\n             &lt;/manifest&gt;\n         &lt;/archive&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>While running the application from the command line, use the below command</p>\n</li>\n</ol>\n<p><code>java -cp target/demo-0.0.1-SNAPSHOT.jar -Dloader.path=&lt;Path to the Custom Jar file&gt;  org.springframework.boot.loader.PropertiesLauncher</code></p>\n<p>This should launch your app while loading the Custom Classloader as well</p>\n<p>In short, the trick is, to use the <strong>-Dloader.path</strong> along with <strong>org.springframework.boot.loader.PropertiesLauncher</strong></p>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603762942,"creation_date":1603762942,"answer_id":64547230,"question_id":64388395,"body_markdown":"An application launched on the lines of - \r\n\r\n    java -cp ./lib/* com.example.Main\r\n\r\nwould ideally be sufficient. \r\n\r\nWill need some clarity on how the application is being used. \r\nIs the main class itself being attempted to be launched from a custom class loader (assuming its possible to do so) or whether post launch specific application related classes are required to be loaded with a custom class-loader (and associated privileges)?\r\n\r\nHave asked those questions in the comments above (planning to update the answers here once have more clarity).\r\n\r\nPS: Haven&#39;t really factored the use of &#39;modules&#39; yet but believe the above syntax would still hold for the newer jdk&#39;s (after jdk 8).\r\n","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>An application launched on the lines of -</p>\n<pre><code>java -cp ./lib/* com.example.Main\n</code></pre>\n<p>would ideally be sufficient.</p>\n<p>Will need some clarity on how the application is being used.\nIs the main class itself being attempted to be launched from a custom class loader (assuming its possible to do so) or whether post launch specific application related classes are required to be loaded with a custom class-loader (and associated privileges)?</p>\n<p>Have asked those questions in the comments above (planning to update the answers here once have more clarity).</p>\n<p>PS: Haven't really factored the use of 'modules' yet but believe the above syntax would still hold for the newer jdk's (after jdk 8).</p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681475127,"creation_date":1681475127,"answer_id":76015066,"question_id":64388395,"body_markdown":"For Spring boot application use &lt;b&gt;-Dloader.path&lt;/b&gt; to add difrent folder on classpath, like in example below :\r\n\r\n    java -cp app.jar -Dloader.path=/opt/lib/ org.springframework.boot.loader.PropertiesLauncher","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>For Spring boot application use <b>-Dloader.path</b> to add difrent folder on classpath, like in example below :</p>\n<pre><code>java -cp app.jar -Dloader.path=/opt/lib/ org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n"}],"owner":{"account_id":1199265,"reputation":1357,"user_id":1182835,"accept_rate":83,"display_name":"MrPlow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6260,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64455537,"answer_count":4,"score":6,"last_activity_date":1681475127,"creation_date":1602848091,"question_id":64388395,"body_markdown":"In a module structure like this:\r\n\r\nproject  \r\n|  \r\n|- common module  \r\n|- app module\r\n\r\nWhere app module has common module as a dependency, I have a custom classloader class defined in the common module. The app module has a `-Djava.system.class.loader=org.project.common.CustomClassLoader` jvm parameter set to use that custom classloader defined in common module. \r\n\r\nRunning a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.\r\n\r\nCompiling a runnable jar (using default spring-boot-maven-plugin without any custom properties), the jar itself has all the classes and within it&#39;s lib directory is the common jar which has the custom classloader. However running the jar with the `-Djava.system.class.loader=org.project.common.CustomClassLoader` results in the following exception \r\n\r\n```\r\njava.lang.Error: org.project.common.CustomClassLoader\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1989)\r\n\tat java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\r\nCaused by: java.lang.ClassNotFoundException: org.project.common.CustomClassLoader\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@12.0.2/BuiltinClassLoader.java:583)\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@12.0.2/ClassLoaders.java:178)\r\n\tat java.lang.ClassLoader.loadClass(java.base@12.0.2/ClassLoader.java:521)\r\n\tat java.lang.Class.forName0(java.base@12.0.2/Native Method)\r\n\tat java.lang.Class.forName(java.base@12.0.2/Class.java:415)\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1975)\r\n\tat java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\r\n\r\n```\r\n\r\nWhy does this happen? Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath? Is there anything I can do besides moving the classloader from common to all the other modules that need it?\r\n\r\n**EDIT**: I&#39;ve tried moving the custom classloader class from common module to app but I am still getting the same error. What is going on here?","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>In a module structure like this:</p>\n<p>project<br />\n|<br />\n|- common module<br />\n|- app module</p>\n<p>Where app module has common module as a dependency, I have a custom classloader class defined in the common module. The app module has a <code>-Djava.system.class.loader=org.project.common.CustomClassLoader</code> jvm parameter set to use that custom classloader defined in common module.</p>\n<p>Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.</p>\n<p>Compiling a runnable jar (using default spring-boot-maven-plugin without any custom properties), the jar itself has all the classes and within it's lib directory is the common jar which has the custom classloader. However running the jar with the <code>-Djava.system.class.loader=org.project.common.CustomClassLoader</code> results in the following exception</p>\n<pre><code>java.lang.Error: org.project.common.CustomClassLoader\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1989)\n    at java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\nCaused by: java.lang.ClassNotFoundException: org.project.common.CustomClassLoader\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@12.0.2/BuiltinClassLoader.java:583)\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@12.0.2/ClassLoaders.java:178)\n    at java.lang.ClassLoader.loadClass(java.base@12.0.2/ClassLoader.java:521)\n    at java.lang.Class.forName0(java.base@12.0.2/Native Method)\n    at java.lang.Class.forName(java.base@12.0.2/Class.java:415)\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1975)\n    at java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\n\n</code></pre>\n<p>Why does this happen? Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath? Is there anything I can do besides moving the classloader from common to all the other modules that need it?</p>\n<p><strong>EDIT</strong>: I've tried moving the custom classloader class from common module to app but I am still getting the same error. What is going on here?</p>\n"},{"tags":["java","marklogic"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1681475908,"post_id":76014776,"comment_id":134066602,"body_markdown":"Why are you wrapping the jsonProperty query in a word query?","body":"Why are you wrapping the jsonProperty query in a word query?"},{"owner":{"account_id":26726223,"reputation":23,"user_id":20329316,"display_name":"me_how"},"score":0,"creation_date":1681478230,"post_id":76014776,"comment_id":134067178,"body_markdown":"Without queryBuilder.not jsonProperty wrapped in word query works fine - it returns document with EDITING status","body":"Without queryBuilder.not jsonProperty wrapped in word query works fine - it returns document with EDITING status"},{"owner":{"account_id":4013257,"reputation":2118,"user_id":3306099,"display_name":"rjrudin"},"score":0,"creation_date":1681487348,"post_id":76014776,"comment_id":134069586,"body_markdown":"Please open an issue for this at https://github.com/marklogic/java-client-api/issues - that will keep it on our radar, and we should be able to either provide a working example there or track a fix for a release.","body":"Please open an issue for this at <a href=\"https://github.com/marklogic/java-client-api/issues\" rel=\"nofollow noreferrer\">github.com/marklogic/java-client-api/issues</a> - that will keep it on our radar, and we should be able to either provide a working example there or track a fix for a release."}],"owner":{"account_id":26726223,"reputation":23,"user_id":20329316,"display_name":"me_how"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474789,"creation_date":1681472841,"question_id":76014776,"body_markdown":"I&#39;m trying to search for json documents which does not contain field &quot;status&quot; but I&#39;m still getting wrong results.\r\n\r\nI wrote XQuery code that works in MarkLogic terminal:\r\n\r\n    cts:search(\r\n     fn:doc(),\r\n     cts:not-query(\r\n      cts:json-property-scope-query(\r\n      &quot;status&quot;,\r\n      cts:true-query())))\r\n\r\nAnd I wanted to achieve similiar thing using Java API, but I don&#39;t have **jsonPropertyScopeQuery** method in **StructuredQueryBuilder** class. So I tried to write a bit longer query using **queryBuilder.not()** which would look for every document that doesn&#39;t have EDITING, CORRECTING or ACCEPTING status (those are the only statuses that document might have). I hoped that would return result I expect but still I&#39;m getting all the documents.\r\n\r\nHere&#39;s how my **queryBuilder.not()** for EDITING status looks like:\r\n\r\n    var notContains = queryBuilder.not(\r\n                        queryBuilder.word(queryBuilder.jsonProperty(&quot;status&quot;), &quot;EDITING&quot;));\r\n\r\nI&#39;m using maven com.marklogic version 6.1.0.\r\nVersion of Database is: 10.0-7.3","title":"How to write negative query to MarkLogic with Java API","body":"<p>I'm trying to search for json documents which does not contain field &quot;status&quot; but I'm still getting wrong results.</p>\n<p>I wrote XQuery code that works in MarkLogic terminal:</p>\n<pre><code>cts:search(\n fn:doc(),\n cts:not-query(\n  cts:json-property-scope-query(\n  &quot;status&quot;,\n  cts:true-query())))\n</code></pre>\n<p>And I wanted to achieve similiar thing using Java API, but I don't have <strong>jsonPropertyScopeQuery</strong> method in <strong>StructuredQueryBuilder</strong> class. So I tried to write a bit longer query using <strong>queryBuilder.not()</strong> which would look for every document that doesn't have EDITING, CORRECTING or ACCEPTING status (those are the only statuses that document might have). I hoped that would return result I expect but still I'm getting all the documents.</p>\n<p>Here's how my <strong>queryBuilder.not()</strong> for EDITING status looks like:</p>\n<pre><code>var notContains = queryBuilder.not(\n                    queryBuilder.word(queryBuilder.jsonProperty(&quot;status&quot;), &quot;EDITING&quot;));\n</code></pre>\n<p>I'm using maven com.marklogic version 6.1.0.\nVersion of Database is: 10.0-7.3</p>\n"},{"tags":["python","java","windows","pylucene"],"comments":[{"owner":{"account_id":16113396,"reputation":483,"user_id":11631110,"display_name":"atinjanki"},"score":0,"creation_date":1683632351,"post_id":73139204,"comment_id":134393276,"body_markdown":"The issue was on this line - `process_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\nmake (e=2): The system cannot find the file specified.`. It did not find the specified file.","body":"The issue was on this line - <code>process_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; .&#47;gradlew collectRuntimeJars), ...) failed. make (e=2): The system cannot find the file specified.</code>. It did not find the specified file."}],"owner":{"account_id":5631557,"reputation":3050,"user_id":4458369,"accept_rate":100,"display_name":"Michael S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681474469,"creation_date":1658929922,"question_id":73139204,"body_markdown":"I&#39;m trying to get PyLucene going on my computer and have followed all of the steps but am getting stuck at the &quot;make&quot; step. I&#39;m working on 64-bit Windows 10 Machine and my version of Python is 3.9.12.\r\n\r\nWhat I&#39;ve done:\r\n\r\n1.) Install [Apache Ant](https://ant.apache.org/manual/install.html) and set environments. In this step, I also installed [Java JDK 18](https://jdk.java.net/18/) as per the recommendation in Apache Ant. I set all of the environment variables as instructed for JAVA_HOME, ANT_HOME, and added Ant to the path. I checked and verified that these all worked:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2.) Download [PyLucene 9.1.0](https://dlcdn.apache.org/lucene/pylucene/), extract the tar file, `cd` into the jcc folder and run `python setup.py build`. I changed the `JAVAHOME` in the setup.py file to `JAVA_HOME` to match the variable path name I made in the above step. I also included `JCC_JDK` because I got an error the first time I ran the `setup.py` where it asked for `JCC_JDK`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3.) I edited the Makefile and made sure to have [make installed for Windows](http://gnuwin32.sourceforge.net/packages/make.htm). The top part of the make file is:\r\n\r\n```\r\nVERSION=9.1.0\r\nLUCENE_VER=9.1.0\r\nPYLUCENE:=$(shell pwd)\r\nLUCENE_SRC=lucene-java-$(LUCENE_VER)\r\nLUCENE=$(LUCENE_SRC)/lucene\r\nPREFIX_PYTHON=C:\\Users\\mgsci\\anaconda3 # this is where my python.exe is located\r\nPYTHON=$(PREFIX_PYTHON)\\python.exe\r\nJCC=$(PYTHON) -m jcc --shared\r\nNUM_FILES=16\r\n```\r\n\r\nWhen I ran `make` I got the error:\r\n```\r\n(base) C:\\Users\\mgsci\\Downloads\\PyLucene\\pylucene-9.1.0&gt;make\r\nprocess_begin: CreateProcess(NULL, pwd, ...) failed.\r\nprocess_begin: CreateProcess(NULL, which icupkg, ...) failed.\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\n(cd lucene-java-9.1.0; ./gradlew collectRuntimeJars)\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\nprocess_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\r\nmake (e=2): The system cannot find the file specified.\r\nmake: *** [lucene] Error 2\r\n``` \r\nAnd when I just ran `python -m jcc` I got the error:\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 188, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 147, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 111, in _get_module_details\r\n    __import__(pkg_name)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\__init__.py&quot;, line 26, in &lt;module&gt;\r\n    add_jvm_dll_directory_to_path(find_jvm_dll)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\windows.py&quot;, line 104, in add_jvm_dll_directory_to_path\r\n    raise ValueError(&quot;jvm.dll could not be found&quot;)\r\nValueError: jvm.dll could not be found\r\n```\r\nI have the `jvm.dll` file. I can see it in the path `jdk-18.0.2\\bin\\server`. I also copied the jvm.dll file and placed it both in the `jdk-18.0.2` folder and in the `bin` folder for good measure and still got this error.\r\n\r\nWhat part of process did I screw up?\r\n\r\n  [1]: https://i.stack.imgur.com/CZNga.png\r\n  [2]: https://i.stack.imgur.com/cjy7s.png","title":"PyLucene install: &quot;make&quot; not working and &quot;jvm.dll could not be found&quot;","body":"<p>I'm trying to get PyLucene going on my computer and have followed all of the steps but am getting stuck at the &quot;make&quot; step. I'm working on 64-bit Windows 10 Machine and my version of Python is 3.9.12.</p>\n<p>What I've done:</p>\n<p>1.) Install <a href=\"https://ant.apache.org/manual/install.html\" rel=\"nofollow noreferrer\">Apache Ant</a> and set environments. In this step, I also installed <a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\">Java JDK 18</a> as per the recommendation in Apache Ant. I set all of the environment variables as instructed for JAVA_HOME, ANT_HOME, and added Ant to the path. I checked and verified that these all worked:</p>\n<p><a href=\"https://i.stack.imgur.com/CZNga.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZNga.png\" alt=\"enter image description here\" /></a></p>\n<p>2.) Download <a href=\"https://dlcdn.apache.org/lucene/pylucene/\" rel=\"nofollow noreferrer\">PyLucene 9.1.0</a>, extract the tar file, <code>cd</code> into the jcc folder and run <code>python setup.py build</code>. I changed the <code>JAVAHOME</code> in the setup.py file to <code>JAVA_HOME</code> to match the variable path name I made in the above step. I also included <code>JCC_JDK</code> because I got an error the first time I ran the <code>setup.py</code> where it asked for <code>JCC_JDK</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/cjy7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjy7s.png\" alt=\"enter image description here\" /></a></p>\n<p>3.) I edited the Makefile and made sure to have <a href=\"http://gnuwin32.sourceforge.net/packages/make.htm\" rel=\"nofollow noreferrer\">make installed for Windows</a>. The top part of the make file is:</p>\n<pre><code>VERSION=9.1.0\nLUCENE_VER=9.1.0\nPYLUCENE:=$(shell pwd)\nLUCENE_SRC=lucene-java-$(LUCENE_VER)\nLUCENE=$(LUCENE_SRC)/lucene\nPREFIX_PYTHON=C:\\Users\\mgsci\\anaconda3 # this is where my python.exe is located\nPYTHON=$(PREFIX_PYTHON)\\python.exe\nJCC=$(PYTHON) -m jcc --shared\nNUM_FILES=16\n</code></pre>\n<p>When I ran <code>make</code> I got the error:</p>\n<pre><code>(base) C:\\Users\\mgsci\\Downloads\\PyLucene\\pylucene-9.1.0&gt;make\nprocess_begin: CreateProcess(NULL, pwd, ...) failed.\nprocess_begin: CreateProcess(NULL, which icupkg, ...) failed.\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\n(cd lucene-java-9.1.0; ./gradlew collectRuntimeJars)\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\nprocess_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\nmake (e=2): The system cannot find the file specified.\nmake: *** [lucene] Error 2\n</code></pre>\n<p>And when I just ran <code>python -m jcc</code> I got the error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 188, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 147, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 111, in _get_module_details\n    __import__(pkg_name)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\__init__.py&quot;, line 26, in &lt;module&gt;\n    add_jvm_dll_directory_to_path(find_jvm_dll)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\windows.py&quot;, line 104, in add_jvm_dll_directory_to_path\n    raise ValueError(&quot;jvm.dll could not be found&quot;)\nValueError: jvm.dll could not be found\n</code></pre>\n<p>I have the <code>jvm.dll</code> file. I can see it in the path <code>jdk-18.0.2\\bin\\server</code>. I also copied the jvm.dll file and placed it both in the <code>jdk-18.0.2</code> folder and in the <code>bin</code> folder for good measure and still got this error.</p>\n<p>What part of process did I screw up?</p>\n"},{"tags":["java","intellij-idea","logging","log4j"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681471572,"post_id":76014548,"comment_id":134065587,"body_markdown":"how did you add log statements in your code?","body":"how did you add log statements in your code?"},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":1,"creation_date":1681471574,"post_id":76014548,"comment_id":134065588,"body_markdown":"make sure that the `log4j.properties` file should be under the folder `src/main/resources`.","body":"make sure that the <code>log4j.properties</code> file should be under the folder <code>src&#47;main&#47;resources</code>."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681471674,"post_id":76014548,"comment_id":134065611,"body_markdown":"Not the src folder but it should be src/main/resources Hint: with Spring Boot and Lombok logging is much easier.","body":"Not the src folder but it should be src/main/resources Hint: with Spring Boot and Lombok logging is much easier."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1681474387,"post_id":76014548,"comment_id":134066240,"body_markdown":"I moved `log4j.properties` to `src/main/resources` but it still doesn&#39;t work.","body":"I moved <code>log4j.properties</code> to <code>src&#47;main&#47;resources</code> but it still doesn&#39;t work."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1681474465,"post_id":76014548,"comment_id":134066267,"body_markdown":"I added my usage of logger to first post","body":"I added my usage of logger to first post"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1681477208,"post_id":76014548,"comment_id":134066924,"body_markdown":"You are using a Log4j 1.x configuration file. Log4j 2.x uses as different configuration syntax and naming (config files are named `log4j2.*`). Cf. [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#automatic-configuration)","body":"You are using a Log4j 1.x configuration file. Log4j 2.x uses as different configuration syntax and naming (config files are named <code>log4j2.*</code>). Cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#automatic-configuration\" rel=\"nofollow noreferrer\">documentation</a>"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474428,"creation_date":1681471012,"question_id":76014548,"body_markdown":"I have problem with getting it work and I&#39;m bit confused but I have one project when it works and there are only three dependencies in `pom.xml` without any configuration files.\r\n\r\nSo I copied these dependencies to my project:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nbut because nothing was displayed in console I added `log4j.properties` file under `src` folder\r\nwith following configuration:\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n    \r\n    # Redirect log messages to console\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nI use it like this in my class:\r\n\r\n    I use it like this:\r\n\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    import static org.apache.logging.log4j.LogManager.getLogger;\r\n    \r\n    public class Main {\r\n        protected static final Logger LOGGER = getLogger(Main.class);\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            LOGGER.info(&quot;It&#39;s friday!!!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Log4J logs are not printed in IntelliJ console","body":"<p>I have problem with getting it work and I'm bit confused but I have one project when it works and there are only three dependencies in <code>pom.xml</code> without any configuration files.</p>\n<p>So I copied these dependencies to my project:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>but because nothing was displayed in console I added <code>log4j.properties</code> file under <code>src</code> folder\nwith following configuration:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n<p>I use it like this in my class:</p>\n<pre><code>I use it like this:\n\nimport org.apache.logging.log4j.Logger;\n\nimport static org.apache.logging.log4j.LogManager.getLogger;\n\npublic class Main {\n    protected static final Logger LOGGER = getLogger(Main.class);\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        LOGGER.info(&quot;It's friday!!!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1681472717,"post_id":76014641,"comment_id":134065834,"body_markdown":"Can you try with `@GraphQlTest` instead of `@AutoConfigureGraphQlTester`\n\nSpringboot has a variety of Test annotations that autoconfigure things, https://docs.spring.io/spring-boot/docs/current/reference/html/test-auto-configuration.html","body":"Can you try with <code>@GraphQlTest</code> instead of <code>@AutoConfigureGraphQlTester</code>  Springboot has a variety of Test annotations that autoconfigure things, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/test-auto-configuration.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"owner":{"account_id":2802819,"reputation":81,"user_id":2410726,"display_name":"SERGIO STATERI JUNIOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681474364,"creation_date":1681471757,"question_id":76014641,"body_markdown":"I&#39;m running a system using Java 17 + Spring Boot 3.0.5 and Spring GraphQL.\r\nWhen I run the system, all works fine. I&#39;m able to execute my query and mutations using the graphiql or any other UI, like Postman.\r\n\r\nHowever, when I run my tests, the endpoint /graphql isn&#39;t exposed:\r\n\r\n    2023-04-14 | 12:15:37.783 | main                 | ERROR | ExchangeResult.assertWithDiagnostics - Request details for assertion failure:\r\n    \r\n    &gt; POST http://localhost:57947/graphql\r\n    &gt; accept-encoding: [gzip]\r\n    &gt; user-agent: [ReactorNetty/1.1.5]\r\n    &gt; host: [localhost:57947]\r\n    &gt; WebTestClient-Request-Id: [1]\r\n    &gt; Content-Type: [application/json]\r\n    &gt; Accept: [application/json]\r\n    &gt; Content-Length: [180]\r\n    \r\n    {&quot;query&quot;:&quot;myGraphQLQuery(\\n    source:{countryCode:\\&quot;GB\\&quot;, locale:\\&quot;en-US\\&quot;},\\n    amount:{value:\\&quot;150.00\\&quot;, currency:\\&quot;GBP\\&quot;}\\n) {\\n    provider\\n    method\\n    specifics\\n}&quot;}\r\n    \r\n    &lt; 404 NOT_FOUND Not Found &lt; Date: [Fri, 14 Apr 2023 11:15:37 GMT] &lt; Content-Type: [application/json] &lt; Content-Length: [116]\r\n    \r\n    {&quot;timestamp&quot;:1681470937706,&quot;path&quot;:&quot;/graphql&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;2c691d2e&quot;}\r\n    \r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\r\n\r\nI&#39;m executing a very simple test just to understand why the /graphql endpoint isn&#39;t being exposed.\r\nIf I compare with another system that&#39;s working fine, I could check that this line isn&#39;t being shown on my log when I run my test:\r\n\r\n    2023-04-14 | 10:59:57.007 | main                 |  INFO | GraphQlWebFluxAutoConfiguration.? - GraphQL endpoint HTTP POST /graphql\r\n\r\nmy sample test:\r\n\r\n    package com.mycompany.test;\r\n    \r\n    import com.mycompany.MyApplication;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.junit.jupiter.api.Tag;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureGraphQlTester;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.graphql.test.tester.GraphQlTester;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    @Slf4j\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyApplication.class)\r\n    @AutoConfigureGraphQlTester\r\n    public class MyGraphqlTest {\r\n    \r\n        @Autowired\r\n        protected GraphQlTester graphQlTester;\r\n    \r\n        @Test\r\n        public void test() {\r\n            GraphQlTester.Request&lt;?&gt; myGraphQLQuery = graphQlTester.documentName(&quot;myGraphQLQueryFile&quot;);\r\n            GraphQlTester.Response response = myGraphQLQuery.execute();\r\n            System.out.println(response);\r\n        }\r\n    }\r\n\r\n\r\n**Does anyone have any idea about this problem?**\r\n\r\nThanks\r\n\r\nSergio.","title":"using Spring Boot 3 and spring graphql, the endpoint /graphql isn&#39;t being exposed on my graphql tests (it&#39;s working fine when I run the system)","body":"<p>I'm running a system using Java 17 + Spring Boot 3.0.5 and Spring GraphQL.\nWhen I run the system, all works fine. I'm able to execute my query and mutations using the graphiql or any other UI, like Postman.</p>\n<p>However, when I run my tests, the endpoint /graphql isn't exposed:</p>\n<pre><code>2023-04-14 | 12:15:37.783 | main                 | ERROR | ExchangeResult.assertWithDiagnostics - Request details for assertion failure:\n\n&gt; POST http://localhost:57947/graphql\n&gt; accept-encoding: [gzip]\n&gt; user-agent: [ReactorNetty/1.1.5]\n&gt; host: [localhost:57947]\n&gt; WebTestClient-Request-Id: [1]\n&gt; Content-Type: [application/json]\n&gt; Accept: [application/json]\n&gt; Content-Length: [180]\n\n{&quot;query&quot;:&quot;myGraphQLQuery(\\n    source:{countryCode:\\&quot;GB\\&quot;, locale:\\&quot;en-US\\&quot;},\\n    amount:{value:\\&quot;150.00\\&quot;, currency:\\&quot;GBP\\&quot;}\\n) {\\n    provider\\n    method\\n    specifics\\n}&quot;}\n\n&lt; 404 NOT_FOUND Not Found &lt; Date: [Fri, 14 Apr 2023 11:15:37 GMT] &lt; Content-Type: [application/json] &lt; Content-Length: [116]\n\n{&quot;timestamp&quot;:1681470937706,&quot;path&quot;:&quot;/graphql&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;2c691d2e&quot;}\n\n\njava.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\n</code></pre>\n<p>I'm executing a very simple test just to understand why the /graphql endpoint isn't being exposed.\nIf I compare with another system that's working fine, I could check that this line isn't being shown on my log when I run my test:</p>\n<pre><code>2023-04-14 | 10:59:57.007 | main                 |  INFO | GraphQlWebFluxAutoConfiguration.? - GraphQL endpoint HTTP POST /graphql\n</code></pre>\n<p>my sample test:</p>\n<pre><code>package com.mycompany.test;\n\nimport com.mycompany.MyApplication;\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureGraphQlTester;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.graphql.test.tester.GraphQlTester;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@Slf4j\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyApplication.class)\n@AutoConfigureGraphQlTester\npublic class MyGraphqlTest {\n\n    @Autowired\n    protected GraphQlTester graphQlTester;\n\n    @Test\n    public void test() {\n        GraphQlTester.Request&lt;?&gt; myGraphQLQuery = graphQlTester.documentName(&quot;myGraphQLQueryFile&quot;);\n        GraphQlTester.Response response = myGraphQLQuery.execute();\n        System.out.println(response);\n    }\n}\n</code></pre>\n<p><strong>Does anyone have any idea about this problem?</strong></p>\n<p>Thanks</p>\n<p>Sergio.</p>\n"},{"tags":["java","json","rest-assured","jsonpath","pretty-print"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1681390229,"post_id":76005554,"comment_id":134050734,"body_markdown":"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java","body":"<a href=\"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java\" title=\"pretty print json in java\">stackoverflow.com/questions/4105795/pretty-print-json-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1681391834,"post_id":76005554,"comment_id":134051153,"body_markdown":"after you use &quot;setPrettyPrinting&quot; what is the output ?","body":"after you use &quot;setPrettyPrinting&quot; what is the output ?"},{"owner":{"account_id":24251366,"reputation":17,"user_id":18202328,"display_name":"GetTok"},"score":0,"creation_date":1681392153,"post_id":76005554,"comment_id":134051253,"body_markdown":"I still get the whole json response in a single line.","body":"I still get the whole json response in a single line."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1681451110,"post_id":76005554,"comment_id":134061248,"body_markdown":"Could you add more detail, like response json and screenshot of request, response log.","body":"Could you add more detail, like response json and screenshot of request, response log."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681474264,"post_id":76005554,"comment_id":134066208,"body_markdown":"Given `java.lang.String` has no `prettyPrint()` method, how do you expect your first code sample to even compile? Similarly in your second example, what do you expect `gson.toJson` to do when it is offered a String?","body":"Given <code>java.lang.String</code> has no <code>prettyPrint()</code> method, how do you expect your first code sample to even compile? Similarly in your second example, what do you expect <code>gson.toJson</code> to do when it is offered a String?"}],"owner":{"account_id":24251366,"reputation":17,"user_id":18202328,"display_name":"GetTok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474219,"creation_date":1681389659,"question_id":76005554,"body_markdown":"I have the following code that extracts some values from a JSON string, but I want to also apply the prettyPrint() method so that it is more readable. I applied it right in the end, but it obviously does not work. Is there any way to print my extracted response with the prettyPrint method?\r\n\r\n```java\r\nResponse response = basicAuth.accept(ContentType.JSON).get(uri);\r\nResponseBody body = response.getBody();\r\nJsonPath json= new JsonPath(body.asString());\r\nString projects = json.getString(&quot;projects[1]&quot;);\r\n\r\nSystem.out.println(&quot;I extracted this project &quot;+projects.prettyPrint());\r\n```\r\n\r\nI also tried this according to the first comment but it&#39;s still no good\r\n\r\n```java\r\nResponse response = basicAuth.accept(ContentType.JSON).get(uri);\r\nResponseBody body = response.getBody();\r\nJsonPath json= new JsonPath(body.asString());\r\nString projects = json.getString(&quot;projects[1]&quot;);\r\nGson gson = new GsonBuilder().setPrettyPrinting().create();\r\nString jsonOutput = gson.toJson(projects);\r\n\r\nSystem.out.println(&quot;I extracted this project &quot;+jsonOutput);\r\n```","title":"How to apply prettyPrint","body":"<p>I have the following code that extracts some values from a JSON string, but I want to also apply the prettyPrint() method so that it is more readable. I applied it right in the end, but it obviously does not work. Is there any way to print my extracted response with the prettyPrint method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = basicAuth.accept(ContentType.JSON).get(uri);\nResponseBody body = response.getBody();\nJsonPath json= new JsonPath(body.asString());\nString projects = json.getString(&quot;projects[1]&quot;);\n\nSystem.out.println(&quot;I extracted this project &quot;+projects.prettyPrint());\n</code></pre>\n<p>I also tried this according to the first comment but it's still no good</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = basicAuth.accept(ContentType.JSON).get(uri);\nResponseBody body = response.getBody();\nJsonPath json= new JsonPath(body.asString());\nString projects = json.getString(&quot;projects[1]&quot;);\nGson gson = new GsonBuilder().setPrettyPrinting().create();\nString jsonOutput = gson.toJson(projects);\n\nSystem.out.println(&quot;I extracted this project &quot;+jsonOutput);\n</code></pre>\n"},{"tags":["java","selenium-webdriver","css-selectors"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681476968,"post_id":76014798,"comment_id":134066870,"body_markdown":"Can you share the URL of the application if it is public?","body":"Can you share the URL of the application if it is public?"}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681474073,"creation_date":1681474073,"answer_id":76014941,"question_id":76014798,"body_markdown":"Try this:\r\n````\r\nWebElement element = (WebElement) ((JavascriptExecutor)driver)\r\n        \t    .executeScript(&quot;return arguments[0].shadowRoot&quot;, driver.findElement(By.xpath(&quot;//vmos-flyout[@slot=&#39;seamless-vmos-flyout&#39;]&quot;)));\r\n        \t    \r\nelement.findElement(By.xpath(&quot;//p[text()=&#39;Hatchbacks&#39;]&quot;)).click();\r\n````","title":"how to get cssSelector path to an Element inside Shadow-root","body":"<p>Try this:</p>\n<pre><code>WebElement element = (WebElement) ((JavascriptExecutor)driver)\n                .executeScript(&quot;return arguments[0].shadowRoot&quot;, driver.findElement(By.xpath(&quot;//vmos-flyout[@slot='seamless-vmos-flyout']&quot;)));\n                \nelement.findElement(By.xpath(&quot;//p[text()='Hatchbacks']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":12271967,"reputation":19,"user_id":8956885,"display_name":"Moni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76014941,"answer_count":1,"score":-1,"last_activity_date":1681474073,"creation_date":1681473028,"question_id":76014798,"body_markdown":"Could you please help me to find the correct path to element  &lt;p&gt;hatchbacks&lt;p&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is java code i used ,apparently the cssSelector path is wrong \r\n\r\n\t\tWebElement shadowHost2 = driver.findElement(By.xpath(&quot;//vmos-flyout&quot;));\r\n\t\tSearchContext shadowRoot2 = shadowHost2.getShadowRoot();\r\n\t\tWebElement shadowContent2 = shadowRoot2.findElement(By.cssSelector(&quot;app-vue/div/ul/li[3]/ul/li[4]/div/p&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5csO.png","title":"how to get cssSelector path to an Element inside Shadow-root","body":"<p>Could you please help me to find the correct path to element  <p>hatchbacks<p></p>\n<p><a href=\"https://i.stack.imgur.com/B5csO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5csO.png\" alt=\"enter image description here\" /></a></p>\n<p>This is java code i used ,apparently the cssSelector path is wrong</p>\n<pre><code>    WebElement shadowHost2 = driver.findElement(By.xpath(&quot;//vmos-flyout&quot;));\n    SearchContext shadowRoot2 = shadowHost2.getShadowRoot();\n    WebElement shadowContent2 = shadowRoot2.findElement(By.cssSelector(&quot;app-vue/div/ul/li[3]/ul/li[4]/div/p&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","ldap","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":7,"creation_date":1681310936,"post_id":75996529,"comment_id":134036415,"body_markdown":"It&#39;s not really related to Vaadin. Any Spring (Boot) Security Tutorial about LDAP Integration should get you a working solution.","body":"It&#39;s not really related to Vaadin. Any Spring (Boot) Security Tutorial about LDAP Integration should get you a working solution."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1681322066,"post_id":75996529,"comment_id":134039189,"body_markdown":"Above code looks like the vaadin example (like no attempt for LDAP was\nmade at all).  Please add the code you have tried **to make LDAP work**\nso we can improve on it.","body":"Above code looks like the vaadin example (like no attempt for LDAP was made at all).  Please add the code you have tried <b>to make LDAP work</b> so we can improve on it."},{"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"score":0,"creation_date":1681367931,"post_id":75996529,"comment_id":134045508,"body_markdown":"Try code from [https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052](https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052)","body":"Try code from <a href=\"https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052\">https://stackoverflow.com/questions/74196746/vaadin-flow-how&zwnj;&#8203;-to-add-azure-active&zwnj;&#8203;-directory-login-fun&zwnj;&#8203;ction/74203052#74203&zwnj;&#8203;052</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1681567214,"post_id":75996529,"comment_id":134079073,"body_markdown":"Please checkout https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/ldap.html","body":"Please checkout <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/ldap.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"}],"owner":{"account_id":28285775,"reputation":11,"user_id":21626761,"display_name":"Denchi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681473562,"creation_date":1681308971,"question_id":75996529,"body_markdown":"i&#39;m really struggling to create an vaadin application with ldap authentication. I went through all tutorials from Vaadin offical about implementing authentication in Vaadin application, but all videos and tutorials include a simple example with InMemoryUserDetailsManager. \r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig extends VaadinWebSecurity {\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t auth\r\n\t\t.ldapAuthentication()\r\n\t\t.userDnPatterns(&quot;uid={0}&quot;)\r\n\t\t.groupSearchBase(&quot;CN=APP_USER,OU=Groups,OU=Company AD Objects,OU=Admin company&quot;)\r\n\t\t.contextSource()\r\n\t\t.url(&quot;ldap://localhost:389/DC=com&quot;)\r\n\t\t.managerDn(&quot;user-admin-app&quot;)\r\n\t\t.managerPassword(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;)\r\n\t\t.and()\r\n\t\t.passwordCompare()\r\n\t\t.passwordEncoder(new BCryptPasswordEncoder())\r\n\t\t.passwordAttribute(&quot;userPassword&quot;);\r\n\t\t \r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\tsuper.configure(http);\r\n\t\tsetLoginView(http, LoginView.class);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().requestMatchers(&quot;/images/**&quot;);    //.anyRequest(&quot;/images/**&quot;);\r\n\t\tsuper.configure(web);\r\n\t}\r\n}\r\n```\r\nI tried other tutorials for ldap authentication and failed to implement VaadinWebSecurity. Does anybody know a correct way how to set up a VaadinWebSecurity with ldap authentication?\r\n\r\nAbove example includes working ldap authentication but after inserting user&amp;pass, i&#39;m redirected to login page. Am I missing something?","title":"Vaadin security with LDAP","body":"<p>i'm really struggling to create an vaadin application with ldap authentication. I went through all tutorials from Vaadin offical about implementing authentication in Vaadin application, but all videos and tutorials include a simple example with InMemoryUserDetailsManager.</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig extends VaadinWebSecurity {\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n         auth\n        .ldapAuthentication()\n        .userDnPatterns(&quot;uid={0}&quot;)\n        .groupSearchBase(&quot;CN=APP_USER,OU=Groups,OU=Company AD Objects,OU=Admin company&quot;)\n        .contextSource()\n        .url(&quot;ldap://localhost:389/DC=com&quot;)\n        .managerDn(&quot;user-admin-app&quot;)\n        .managerPassword(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;)\n        .and()\n        .passwordCompare()\n        .passwordEncoder(new BCryptPasswordEncoder())\n        .passwordAttribute(&quot;userPassword&quot;);\n         \n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n    }\n\n    \n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().requestMatchers(&quot;/images/**&quot;);    //.anyRequest(&quot;/images/**&quot;);\n        super.configure(web);\n    }\n}\n</code></pre>\n<p>I tried other tutorials for ldap authentication and failed to implement VaadinWebSecurity. Does anybody know a correct way how to set up a VaadinWebSecurity with ldap authentication?</p>\n<p>Above example includes working ldap authentication but after inserting user&amp;pass, i'm redirected to login page. Am I missing something?</p>\n"},{"tags":["java","spring-boot","tomcat","spring-tool-suite","spring-boot-starter"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681406959,"post_id":76008194,"comment_id":134055113,"body_markdown":"Spring Boot 3 and up have as a minimum requirement Java17 and Tomcat 10. So that combination you have simply won&#39;t work. You need either Spring Boot 3, Java17 and Tomcat10 or Spring Boot 2.7, Java11/17 and Tomcat 9.","body":"Spring Boot 3 and up have as a minimum requirement Java17 and Tomcat 10. So that combination you have simply won&#39;t work. You need either Spring Boot 3, Java17 and Tomcat10 or Spring Boot 2.7, Java11/17 and Tomcat 9."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681408860,"post_id":76008194,"comment_id":134055553,"body_markdown":"Hello, as you are using maven the best (and only place) where you should define your Spring Boot version is spring-boot-starter-parent definition. Current would be 3.0.5 and the older one 2.7.10","body":"Hello, as you are using maven the best (and only place) where you should define your Spring Boot version is spring-boot-starter-parent definition. Current would be 3.0.5 and the older one 2.7.10"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681408931,"post_id":76008194,"comment_id":134055574,"body_markdown":"You can generate pom.xml using this: https://start.spring.io/","body":"You can generate pom.xml using this: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681473319,"creation_date":1681473319,"answer_id":76014828,"question_id":76008194,"body_markdown":"As already mentioned in the comments, Spring Boot 3 has a minimum dependency on Java 17, that is why the tooling configures the created project to use Java 17 all across the place.\r\n\r\nPlease select the latest Spring Boot 2.7 version, Maven as a build environment, Java 11, and the WAR packaging and you should be good to go.","title":"Spring Tools 4 with Spring Boot, Java 11 and Tomcat 9","body":"<p>As already mentioned in the comments, Spring Boot 3 has a minimum dependency on Java 17, that is why the tooling configures the created project to use Java 17 all across the place.</p>\n<p>Please select the latest Spring Boot 2.7 version, Maven as a build environment, Java 11, and the WAR packaging and you should be good to go.</p>\n"}],"owner":{"account_id":961005,"reputation":103,"user_id":21635910,"display_name":"Torvald Klaven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014828,"answer_count":1,"score":0,"last_activity_date":1681473319,"creation_date":1681406226,"question_id":76008194,"body_markdown":"I come from Eclipse and I&#39;m starting my first project in Spring (Boot). I&#39;d like to use JDK 11.0.17 and Tomcat 9.0.31 as I do for my projects in Eclipse. That&#39;s what the sysadmin gave me to deploy my apps so I can&#39;t switch to anything else.\r\n\r\nI download the newest Spring Tools 4 for Eclipse (4.18.0) and create a new Spring Starter Project. Default values are type &quot;Gradle - Groovy&quot;, Java Version &quot;17&quot; and packaging &quot;Jar&quot;, but I change them to &quot;Maven&quot;, &quot;11&quot; and &quot;War&quot;, respectively. I don&#39;t see any place where I can configure my Tomcat. I click Next, leave the field Spring Boot Version as it is (3.0.5) and click Finish.\r\n\r\nIt creates a Maven project, but Java Version is still 17 everywhere (JRE System Library, pom.xml). When I go to Boot Dashboard and start the demo project, I get Java Version 17.0.6 and Tomcat 10.1.7 in the output.\r\n\r\nI try to change that manually:\r\n- Window &gt; Preferences &gt; Java &gt; Compiler &gt; 17 to 11\r\n- Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; its 17.0.6 to my jdk 11.0.17\r\n- Window &gt; Preferences &gt; Server &gt; Runtime Environments &gt; add my Tomcat 9.0.31\r\n- Project &gt; Properties &gt; Java Build Path &gt; its JavaSE-17 to my jdk-11.0.17\r\n- Project &gt; Properties &gt; Java Compiler &gt; Compiler compliance level &gt; 17 to 11\r\n- Project &gt; Properties &gt; Project Facets &gt; Java &gt; 17 to 11\r\n- Project &gt; Properties &gt; Targeted Runtimes &gt; (I can&#39;t seem to do anything in Uninstall Facets...)\r\n- pom.xml &gt; properties &gt; java.version &gt; 17 to 11\r\nThen Clean Project and Update Maven Project.\r\n\r\nNow when I go to Boot Dashboard and start the demo project, I get the exception `Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0` which complains that it was expecting Java 17 but got Java 11.\r\n\r\nI&#39;m stuck with no more apparent options. Is Spring Boot supposed to work under a specific version so I should download an older Spring Tool Suite compatible with Java 11? I guess I&#39;m doing/understanding something wrong.","title":"Spring Tools 4 with Spring Boot, Java 11 and Tomcat 9","body":"<p>I come from Eclipse and I'm starting my first project in Spring (Boot). I'd like to use JDK 11.0.17 and Tomcat 9.0.31 as I do for my projects in Eclipse. That's what the sysadmin gave me to deploy my apps so I can't switch to anything else.</p>\n<p>I download the newest Spring Tools 4 for Eclipse (4.18.0) and create a new Spring Starter Project. Default values are type &quot;Gradle - Groovy&quot;, Java Version &quot;17&quot; and packaging &quot;Jar&quot;, but I change them to &quot;Maven&quot;, &quot;11&quot; and &quot;War&quot;, respectively. I don't see any place where I can configure my Tomcat. I click Next, leave the field Spring Boot Version as it is (3.0.5) and click Finish.</p>\n<p>It creates a Maven project, but Java Version is still 17 everywhere (JRE System Library, pom.xml). When I go to Boot Dashboard and start the demo project, I get Java Version 17.0.6 and Tomcat 10.1.7 in the output.</p>\n<p>I try to change that manually:</p>\n<ul>\n<li>Window &gt; Preferences &gt; Java &gt; Compiler &gt; 17 to 11</li>\n<li>Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; its 17.0.6 to my jdk 11.0.17</li>\n<li>Window &gt; Preferences &gt; Server &gt; Runtime Environments &gt; add my Tomcat 9.0.31</li>\n<li>Project &gt; Properties &gt; Java Build Path &gt; its JavaSE-17 to my jdk-11.0.17</li>\n<li>Project &gt; Properties &gt; Java Compiler &gt; Compiler compliance level &gt; 17 to 11</li>\n<li>Project &gt; Properties &gt; Project Facets &gt; Java &gt; 17 to 11</li>\n<li>Project &gt; Properties &gt; Targeted Runtimes &gt; (I can't seem to do anything in Uninstall Facets...)</li>\n<li>pom.xml &gt; properties &gt; java.version &gt; 17 to 11\nThen Clean Project and Update Maven Project.</li>\n</ul>\n<p>Now when I go to Boot Dashboard and start the demo project, I get the exception <code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</code> which complains that it was expecting Java 17 but got Java 11.</p>\n<p>I'm stuck with no more apparent options. Is Spring Boot supposed to work under a specific version so I should download an older Spring Tool Suite compatible with Java 11? I guess I'm doing/understanding something wrong.</p>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":1291310,"reputation":518,"user_id":1472249,"accept_rate":100,"display_name":"KleverKrypto"},"score":0,"creation_date":1407854286,"post_id":24589932,"comment_id":39370443,"body_markdown":"The file Info.plist should reside at `/Library/Java/JavaVirtualMachines/&lt;javaversion&gt;.jdk/Contents`","body":"The file Info.plist should reside at <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;&lt;javaversion&gt;.jdk&#47;Contents</code>"},{"owner":{"account_id":1582171,"reputation":17523,"user_id":1467306,"accept_rate":69,"display_name":"Edward Newell"},"score":0,"creation_date":1410205902,"post_id":24589932,"comment_id":40230639,"body_markdown":"@Sindico -- Shan&#39;s answer worked for me, what about you?  Why don&#39;t you accept his answer by clicking on the open check-mark icon next to it.","body":"@Sindico -- Shan&#39;s answer worked for me, what about you?  Why don&#39;t you accept his answer by clicking on the open check-mark icon next to it."}],"answers":[{"tags":[],"owner":{"account_id":1053356,"reputation":1138,"user_id":1056676,"accept_rate":82,"display_name":"Shan"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1427705484,"creation_date":1408969875,"answer_id":25486012,"question_id":24589932,"body_markdown":"Right click on the Eclipse icon and select &#39;show package contents&#39;. Inside the contents directory you&#39;ll find a file called &#39;Info.plist&#39;. Scroll down to the bottom of the file till you find this\r\n\r\n    &lt;key&gt;Eclipse&lt;/key&gt;\r\n    \t&lt;array&gt;\r\n    \t\t&lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n    \t\t\t\tor add a VM found via $/usr/libexec/java_home -V\r\n    \t      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n    \t\t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\r\n    \t\t--&gt;\r\n\r\nNotice the commented out section. Move the jdk path declaration out of the comments section. It should look like this now.\r\n\r\n    &lt;key&gt;Eclipse&lt;/key&gt;\r\n    \t&lt;array&gt;\r\n    \t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n    \t\t&lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n    \t\t\t\tor add a VM found via $/usr/libexec/java_home -V\r\n    \t\t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\r\n    \t\t--&gt;\r\n\r\nLast step, browse to /Library/Java/JavaVirtualMachines and check the jdk package name present there. Replace the jdk version in the above command with that.\r\n\r\n    /Library/Java/JavaVirtualMachines/{your_jdk_package_name}/Contents/Home/bin/java\r\n\r\nOptional: On some machines you may have to close the finder after you&#39;ve done all this,  navigate to the eclipse folder and click on eclipse again for it to work.\r\n\r\n\r\n\r\n ","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Right click on the Eclipse icon and select 'show package contents'. Inside the contents directory you'll find a file called 'Info.plist'. Scroll down to the bottom of the file till you find this</p>\n\n<pre><code>&lt;key&gt;Eclipse&lt;/key&gt;\n    &lt;array&gt;\n        &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\n        --&gt;\n</code></pre>\n\n<p>Notice the commented out section. Move the jdk path declaration out of the comments section. It should look like this now.</p>\n\n<pre><code>&lt;key&gt;Eclipse&lt;/key&gt;\n    &lt;array&gt;\n      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\n        &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\n        --&gt;\n</code></pre>\n\n<p>Last step, browse to /Library/Java/JavaVirtualMachines and check the jdk package name present there. Replace the jdk version in the above command with that.</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/{your_jdk_package_name}/Contents/Home/bin/java\n</code></pre>\n\n<p>Optional: On some machines you may have to close the finder after you've done all this,  navigate to the eclipse folder and click on eclipse again for it to work.</p>\n"},{"tags":[],"owner":{"account_id":4002924,"reputation":853,"user_id":3298457,"accept_rate":50,"display_name":"tobylaroni"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1410872540,"creation_date":1410872540,"answer_id":25869530,"question_id":24589932,"body_markdown":"Just for those who may have been stuck after doing both tasks described above and still seeing the same error message: I was certain that I had downloaded 64-bit Eclipse, but it turns out I had the 32-bit version. After downloading 64-bit, everything worked!","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Just for those who may have been stuck after doing both tasks described above and still seeing the same error message: I was certain that I had downloaded 64-bit Eclipse, but it turns out I had the 32-bit version. After downloading 64-bit, everything worked!</p>\n"},{"tags":[],"owner":{"account_id":3009359,"reputation":588,"user_id":2553187,"accept_rate":40,"display_name":"aalosious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442504652,"creation_date":1442504652,"answer_id":32634626,"question_id":24589932,"body_markdown":"I had a perfectly working Eclipse Luna, and started getting this error while trying to upgrade to Java 8 (and updating jre, jdk etc).\r\nShan&#39;s solution didn&#39;t work for me.\r\nSo I just downloaded and installed latest Eclipse. It&#39;s working fine. Saves the time of debugging and fiddling around.","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>I had a perfectly working Eclipse Luna, and started getting this error while trying to upgrade to Java 8 (and updating jre, jdk etc).\nShan's solution didn't work for me.\nSo I just downloaded and installed latest Eclipse. It's working fine. Saves the time of debugging and fiddling around.</p>\n"},{"tags":[],"owner":{"account_id":214590,"reputation":31,"user_id":468652,"display_name":"EMR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681472521,"creation_date":1681472521,"answer_id":76014728,"question_id":24589932,"body_markdown":"Seems like Eclipse [Apache Directory Studio] needs to be recompiled for aarch64. Eclipse has always been a challenge on all platforms, including linux.","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Seems like Eclipse [Apache Directory Studio] needs to be recompiled for aarch64. Eclipse has always been a challenge on all platforms, including linux.</p>\n"}],"owner":{"account_id":258741,"reputation":7368,"user_id":541106,"accept_rate":57,"display_name":"Andrea Sindico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45870,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":25486012,"answer_count":4,"score":37,"last_activity_date":1681472521,"creation_date":1404589056,"question_id":24589932,"body_markdown":"I need to run Eclipse Kepler on Mac OS through a JDK 1.7 (This is required by the PyDev plugin).\r\n\r\nThe problem is that although I have managed to install the 1.7 jdk and configured the eclipse.ini to use it I get the error\r\n\r\nThe JVM shared library &quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_60.jdk/Contents/Home/bin../jre/lib/server/libjvm.dylib&quot; does not contain the JNI_CreateJavaVM symbol.\r\n\r\n**UPDATE**\r\nsmart people here https://github.com/joeferner/node-java/issues/90 claim it is enough to add JNI to the JVMCapabilities in the info.plist file like\r\n\r\n    &lt;key&gt;JVMCapabilities&lt;/key&gt;\r\n       &lt;string&gt;JNI&lt;/string&gt;\r\n\r\nBut I tried it and it does not work in my case\r\n\r\n","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>I need to run Eclipse Kepler on Mac OS through a JDK 1.7 (This is required by the PyDev plugin).</p>\n\n<p>The problem is that although I have managed to install the 1.7 jdk and configured the eclipse.ini to use it I get the error</p>\n\n<p>The JVM shared library \"/Library/Java/JavaVirtualMachines/jdk1.7.0_60.jdk/Contents/Home/bin../jre/lib/server/libjvm.dylib\" does not contain the JNI_CreateJavaVM symbol.</p>\n\n<p><strong>UPDATE</strong>\nsmart people here <a href=\"https://github.com/joeferner/node-java/issues/90\">https://github.com/joeferner/node-java/issues/90</a> claim it is enough to add JNI to the JVMCapabilities in the info.plist file like</p>\n\n<pre><code>&lt;key&gt;JVMCapabilities&lt;/key&gt;\n   &lt;string&gt;JNI&lt;/string&gt;\n</code></pre>\n\n<p>But I tried it and it does not work in my case</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":15760967,"reputation":760,"user_id":11372697,"display_name":"Wicaledon"},"score":0,"creation_date":1681460529,"post_id":76012953,"comment_id":134063101,"body_markdown":"have you done something? please share a code snippet that you&#39;ve done","body":"have you done something? please share a code snippet that you&#39;ve done"},{"owner":{"account_id":28301869,"reputation":11,"user_id":21640442,"display_name":"Siva Siva"},"score":0,"creation_date":1681462682,"post_id":76012953,"comment_id":134063613,"body_markdown":"i don&#39;t have any ideas","body":"i don&#39;t have any ideas"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681472319,"creation_date":1681471888,"answer_id":76014654,"question_id":76012953,"body_markdown":"Actually it is not straitforward at all. To change the background of a specific day, you have to get access to the `MonthAdaptor`. \r\nSo at first you have to create the `DatePickerDialog`. \r\n\r\n    DatePickerDialog datePickerDialog = new DatePickerDialog(\r\n        this,\r\n        R.style.MyDatePickerDialogTheme,\r\n        null,\r\n        year, month, day);\r\nThen you have to get the get the `datePicker` of `DatePickerDialog`.\r\n\r\n    DatePicker datePicker = datePickerDialog.getDatePicker();\r\nNow you need to get access to the view of the `DatePicker`.\r\n\r\n    CalendarView calendarView = datePicker.findViewById(getResources().getIdentifier(&quot;android:id/calendar_view&quot;, null, null));\r\n\r\nTo modify the view you need to get its adaptor. You can check other methods of `CalenderView` in [here][1]\r\n\r\n    DayPickerPagerAdapter dayPickerPagerAdapter = (DayPickerPagerAdapter) calendarView.getAdapter();\r\n\r\nNow get the `MonthAdaptor`\r\n\r\n    MonthAdapter monthAdapter = dayPickerPagerAdapter.createMonthAdapter((Month) dayPickerPagerAdapter.getPage(0));\r\n\r\nFinally from the `MonthAdaptor` you can get any day of month using `getItem` and its index and set its appearance. ([Check here][2])\r\n\r\n    MonthAdapter.CalendarDay calendarDay = monthAdapter.getItem(16);\r\n\r\n    calendarView.setDateTextAppearance(calendarDay, R.style.MyCustomDayStyle);\r\n\r\nFinally show your dialog.\r\n\r\n    datePickerDialog.show();\r\n\r\nI hope it works.\r\n\r\n**EDIT:**\r\n\r\nDon&#39;t forget to add your custom style into `style.xml` file.\r\n\r\n    &lt;style name=&quot;MyCustomDayStyle&quot;&gt;\r\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/custom_background&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/CalendarView\r\n  [2]: https://developer.android.com/reference/android/widget/CalendarView#setDateTextAppearance(int)\r\n","title":"how to change particular date background using drawable resource file in android date picker","body":"<p>Actually it is not straitforward at all. To change the background of a specific day, you have to get access to the <code>MonthAdaptor</code>.\nSo at first you have to create the <code>DatePickerDialog</code>.</p>\n<pre><code>DatePickerDialog datePickerDialog = new DatePickerDialog(\n    this,\n    R.style.MyDatePickerDialogTheme,\n    null,\n    year, month, day);\n</code></pre>\n<p>Then you have to get the get the <code>datePicker</code> of <code>DatePickerDialog</code>.</p>\n<pre><code>DatePicker datePicker = datePickerDialog.getDatePicker();\n</code></pre>\n<p>Now you need to get access to the view of the <code>DatePicker</code>.</p>\n<pre><code>CalendarView calendarView = datePicker.findViewById(getResources().getIdentifier(&quot;android:id/calendar_view&quot;, null, null));\n</code></pre>\n<p>To modify the view you need to get its adaptor. You can check other methods of <code>CalenderView</code> in <a href=\"https://developer.android.com/reference/android/widget/CalendarView\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>DayPickerPagerAdapter dayPickerPagerAdapter = (DayPickerPagerAdapter) calendarView.getAdapter();\n</code></pre>\n<p>Now get the <code>MonthAdaptor</code></p>\n<pre><code>MonthAdapter monthAdapter = dayPickerPagerAdapter.createMonthAdapter((Month) dayPickerPagerAdapter.getPage(0));\n</code></pre>\n<p>Finally from the <code>MonthAdaptor</code> you can get any day of month using <code>getItem</code> and its index and set its appearance. (<a href=\"https://developer.android.com/reference/android/widget/CalendarView#setDateTextAppearance(int)\" rel=\"nofollow noreferrer\">Check here</a>)</p>\n<pre><code>MonthAdapter.CalendarDay calendarDay = monthAdapter.getItem(16);\n\ncalendarView.setDateTextAppearance(calendarDay, R.style.MyCustomDayStyle);\n</code></pre>\n<p>Finally show your dialog.</p>\n<pre><code>datePickerDialog.show();\n</code></pre>\n<p>I hope it works.</p>\n<p><strong>EDIT:</strong></p>\n<p>Don't forget to add your custom style into <code>style.xml</code> file.</p>\n<pre><code>&lt;style name=&quot;MyCustomDayStyle&quot;&gt;\n&lt;item name=&quot;android:background&quot;&gt;@drawable/custom_background&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":28301869,"reputation":11,"user_id":21640442,"display_name":"Siva Siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681472319,"creation_date":1681460164,"question_id":76012953,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nFor example, in this image 17th different background and 26th different background.\r\n\r\nExpecting showing differentiation normal days and important days\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PtAT.png","title":"how to change particular date background using drawable resource file in android date picker","body":"<p><a href=\"https://i.stack.imgur.com/8PtAT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PtAT.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, in this image 17th different background and 26th different background.</p>\n<p>Expecting showing differentiation normal days and important days</p>\n"},{"tags":["java","android","androidx","android-number-picker"],"owner":{"account_id":6196745,"reputation":83,"user_id":4827819,"display_name":"lormiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681472248,"creation_date":1681472248,"question_id":76014702,"body_markdown":"So I&#39;m trying to make a working NumberPicker that wraps together, but when the NumberPicker contains three values or less it doesn&#39;t wrap. Also scrolling is super choppy / barely possible with three values. Is there a workaround for this?\r\n\r\nMy NumberPicker will sometimes contain less than three values and sometimes more than three values and I want it to be wrapped all the time unless it only contains one item.\r\n\r\nHere&#39;s my code in onCreateView:\r\n\r\n```\r\n    View view = inflater.inflate(R.layout.bottomsheet_fragment, container, false);\r\n    NumberPicker picker = view.findViewById(R.id.mPicker);\r\n\r\n    picker.setWrapSelectorWheel(true);\r\n    picker.setDisplayedValues(null);\r\n\r\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\r\n    picker.setMinValue(0);\r\n    picker.setMaxValue(values.length - 1);\r\n    picker.setDisplayedValues(values);\r\n\r\n    picker.setValue(0);\r\n    View view = inflater.inflate(R.layout.bottomsheet, container, false);\r\n    NumberPicker picker = view.findViewById(R.id.mPicker);\r\n\r\n    picker.setWrapSelectorWheel(true);\r\n    picker.setDisplayedValues(null);\r\n\r\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\r\n\r\n    /*When using the values array below, the wrapping works as intended*/\r\n    //String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;, &quot;Test4&quot;};\r\n\r\n    picker.setMinValue(0);\r\n    picker.setMaxValue(values.length - 1);\r\n    picker.setDisplayedValues(values);\r\n\r\n    picker.setValue(0);```\r\n\r\n","title":"NumberPicker is not working properly if containing 3 or less values in Android","body":"<p>So I'm trying to make a working NumberPicker that wraps together, but when the NumberPicker contains three values or less it doesn't wrap. Also scrolling is super choppy / barely possible with three values. Is there a workaround for this?</p>\n<p>My NumberPicker will sometimes contain less than three values and sometimes more than three values and I want it to be wrapped all the time unless it only contains one item.</p>\n<p>Here's my code in onCreateView:</p>\n<pre><code>    View view = inflater.inflate(R.layout.bottomsheet_fragment, container, false);\n    NumberPicker picker = view.findViewById(R.id.mPicker);\n\n    picker.setWrapSelectorWheel(true);\n    picker.setDisplayedValues(null);\n\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\n    picker.setMinValue(0);\n    picker.setMaxValue(values.length - 1);\n    picker.setDisplayedValues(values);\n\n    picker.setValue(0);\n    View view = inflater.inflate(R.layout.bottomsheet, container, false);\n    NumberPicker picker = view.findViewById(R.id.mPicker);\n\n    picker.setWrapSelectorWheel(true);\n    picker.setDisplayedValues(null);\n\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\n\n    /*When using the values array below, the wrapping works as intended*/\n    //String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;, &quot;Test4&quot;};\n\n    picker.setMinValue(0);\n    picker.setMaxValue(values.length - 1);\n    picker.setDisplayedValues(values);\n\n    picker.setValue(0);```\n\n</code></pre>\n"},{"tags":["java","spring-boot","webgoat"],"answers":[{"tags":[],"owner":{"account_id":6226183,"reputation":726,"user_id":4844359,"display_name":"unacorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681471966,"creation_date":1681471966,"answer_id":76014669,"question_id":76004110,"body_markdown":"Somehow I get to make it work, so from the https://github.com/WebGoat/WebGoat downloaded,\r\n\r\nchange the default path in the `src/main/resources/application-webgoat.properties` file, for the line `server.servlet.context-path=/` (from `/WebGoat`)","title":"Webgoat - changing default path causing app not started properly","body":"<p>Somehow I get to make it work, so from the <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a> downloaded,</p>\n<p>change the default path in the <code>src/main/resources/application-webgoat.properties</code> file, for the line <code>server.servlet.context-path=/</code> (from <code>/WebGoat</code>)</p>\n"}],"owner":{"account_id":6226183,"reputation":726,"user_id":4844359,"display_name":"unacorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014669,"answer_count":1,"score":0,"last_activity_date":1681471966,"creation_date":1681379970,"question_id":76004110,"body_markdown":"I am using https://github.com/WebGoat/WebGoat, trying to change the default path from `/WebGoat` to just `/`. I changed in the application properties file `server.servlet.context-path=/` and rebuild the application. \r\n\r\nHowever after that, I noticed the execution stops at `StartWebGoat.java` stage https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java when it runs `SpringApplicationBuilder` . \r\n\r\n        64ca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e3b7b0b]\r\n    2023-04-13 17:02:30.790  INFO 69552 --- [           main] io.undertow                              : starting server: Undertow - 2.2.18.Final\r\n    2023-04-13 17:02:30.794  INFO 69552 --- [           main] o.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\r\n\r\nit didn&#39;t proceed with the next step running the `StartUpMessage.Java` https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java\r\n\r\nI couldn&#39;t find any clue that points to why the event isn&#39;t triggered after changing the `context-path` in the `application.properties` file https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties. Can anyone shed some light on this? ","title":"Webgoat - changing default path causing app not started properly","body":"<p>I am using <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a>, trying to change the default path from <code>/WebGoat</code> to just <code>/</code>. I changed in the application properties file <code>server.servlet.context-path=/</code> and rebuild the application.</p>\n<p>However after that, I noticed the execution stops at <code>StartWebGoat.java</code> stage <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java</a> when it runs <code>SpringApplicationBuilder</code> .</p>\n<pre><code>    64ca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e3b7b0b]\n2023-04-13 17:02:30.790  INFO 69552 --- [           main] io.undertow                              : starting server: Undertow - 2.2.18.Final\n2023-04-13 17:02:30.794  INFO 69552 --- [           main] o.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\n</code></pre>\n<p>it didn't proceed with the next step running the <code>StartUpMessage.Java</code> <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java</a></p>\n<p>I couldn't find any clue that points to why the event isn't triggered after changing the <code>context-path</code> in the <code>application.properties</code> file <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties</a>. Can anyone shed some light on this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9492,"page":500,"page_size":100}
