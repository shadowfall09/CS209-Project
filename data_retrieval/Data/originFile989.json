{"items":[{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1481781763,"post_id":41157404,"comment_id":69516230,"body_markdown":"Which version of Eclipse was used to create the project originally? Which version of Eclipse are you using?","body":"Which version of Eclipse was used to create the project originally? Which version of Eclipse are you using?"},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1481782260,"post_id":41157404,"comment_id":69516383,"body_markdown":"Did you an update project on Maven?","body":"Did you an update project on Maven?"},{"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"score":0,"creation_date":1481782492,"post_id":41157404,"comment_id":69516470,"body_markdown":"The project was not created using eclipse at all. I am using Eclipse Neon. I believe that originally it could be recreated in Eclipse Mars.","body":"The project was not created using eclipse at all. I am using Eclipse Neon. I believe that originally it could be recreated in Eclipse Mars."}],"answers":[{"comments":[{"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"score":1,"creation_date":1481861374,"post_id":41157830,"comment_id":69554604,"body_markdown":"It did not help. What have helped, since a few times I had a NullPointerException, I followed this thread https://bugs.eclipse.org/bugs/show_bug.cgi?id=386648 and removed .metadata/.plugins/org.eclipse.e4.workbench/workbench.xmi because Error Log in Eclipse was complaining about this plugin. After restarting, I was able to view files in the project.","body":"It did not help. What have helped, since a few times I had a NullPointerException, I followed this thread <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=386648\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=386648</a> and removed .metadata/.plugins/org.eclipse.e4.workbench/workbench.xmi because Error Log in Eclipse was complaining about this plugin. After restarting, I was able to view files in the project."}],"tags":[],"owner":{"account_id":9783920,"reputation":129,"user_id":7250838,"display_name":"Romeo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481783585,"creation_date":1481783585,"answer_id":41157830,"question_id":41157404,"body_markdown":"I suggest that you can try to create a new workspace and import the parent project into it.","title":"Eclipse shows empty files","body":"<p>I suggest that you can try to create a new workspace and import the parent project into it.</p>\n"},{"tags":[],"owner":{"account_id":26530473,"reputation":1,"user_id":20162748,"display_name":"user20162748"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664927689,"creation_date":1664927689,"answer_id":73954694,"question_id":41157404,"body_markdown":"I could have this fixed simply by trying to select/expand the folders above it. For e.g. Double click on &#39;src&#39; and then click on the the folders &#39;main&#39; and &#39;test&#39; below it. Then click &#39;target&#39; and finally click on &#39;pom.xml&#39;. It works like wonders and strangely the content of pom.xml started to shown up in the workspace!!","title":"Eclipse shows empty files","body":"<p>I could have this fixed simply by trying to select/expand the folders above it. For e.g. Double click on 'src' and then click on the the folders 'main' and 'test' below it. Then click 'target' and finally click on 'pom.xml'. It works like wonders and strangely the content of pom.xml started to shown up in the workspace!!</p>\n"}],"owner":{"account_id":5616536,"reputation":1283,"user_id":4447655,"accept_rate":76,"display_name":"magic_turtle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664927689,"creation_date":1481781644,"question_id":41157404,"body_markdown":"I have a complex Maven project in eclipse, with a parent pom.xml file and a few childs. When I import as an Existing Maven project in Eclipse, I cannot open any of the files - the workspace shows an empty page. I have gone through this solution here - https://stackoverflow.com/questions/16192607/eclipse-opens-blank-workspace After restarting, I am able to view 1 or 2 files but in a min my workspace starts showing empty pages again. \r\n\r\nAny workaround? \r\nIn eclipse&#39;s configuration/congif.ini osgi.instance.area.default= points to my current workspace, and Maven&#39;s settings and repo are set to .m2 folder. \r\n\r\nEclipse gives me no errors. \r\n\r\nI have tried deleting an entire .metadata folder and re-creating a project but a workspace for my project is still empty. For no-complex project pages are shown correctly. ","title":"Eclipse shows empty files","body":"<p>I have a complex Maven project in eclipse, with a parent pom.xml file and a few childs. When I import as an Existing Maven project in Eclipse, I cannot open any of the files - the workspace shows an empty page. I have gone through this solution here - <a href=\"https://stackoverflow.com/questions/16192607/eclipse-opens-blank-workspace\">Eclipse opens blank workspace</a> After restarting, I am able to view 1 or 2 files but in a min my workspace starts showing empty pages again. </p>\n\n<p>Any workaround? \nIn eclipse's configuration/congif.ini osgi.instance.area.default= points to my current workspace, and Maven's settings and repo are set to .m2 folder. </p>\n\n<p>Eclipse gives me no errors. </p>\n\n<p>I have tried deleting an entire .metadata folder and re-creating a project but a workspace for my project is still empty. For no-complex project pages are shown correctly. </p>\n"},{"tags":["java","list","jersey","jax-rs"],"comments":[{"owner":{"account_id":1292103,"reputation":9146,"user_id":1243996,"accept_rate":97,"display_name":"Adam Sznajder"},"score":5,"creation_date":1339706586,"post_id":11040995,"comment_id":14440396,"body_markdown":"Seems similiar: http://stackoverflow.com/questions/5161466/how-do-i-use-the-jersey-json-pojo-support","body":"Seems similiar: <a href=\"http://stackoverflow.com/questions/5161466/how-do-i-use-the-jersey-json-pojo-support\" title=\"how do i use the jersey json pojo support\">stackoverflow.com/questions/5161466/&hellip;</a>"},{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":2,"creation_date":1339707251,"post_id":11040995,"comment_id":14440633,"body_markdown":"Great thanks. That&#39;s exactly it!! It was actually the question that solved my problem. I needed to add the com.sun.jersey.api.json.POJOMappingFeature parameter. *facepalm*","body":"Great thanks. That&#39;s exactly it!! It was actually the question that solved my problem. I needed to add the com.sun.jersey.api.json.POJOMappingFeature parameter. <i>facepalm</i>"},{"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"score":0,"creation_date":1339707318,"post_id":11040995,"comment_id":14440663,"body_markdown":"Whats the best way to go about this question now? Could you post your comment as an answer or should I just delete this silly question altogether?","body":"Whats the best way to go about this question now? Could you post your comment as an answer or should I just delete this silly question altogether?"},{"owner":{"account_id":1336,"reputation":76899,"user_id":1785,"accept_rate":51,"display_name":"Landon Kuhn"},"score":3,"creation_date":1351886174,"post_id":11040995,"comment_id":17974480,"body_markdown":"don&#39;t delete it. this is a useful google search result.","body":"don&#39;t delete it. this is a useful google search result."},{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":0,"creation_date":1359567976,"post_id":11040995,"comment_id":20400986,"body_markdown":"Hi I&#39;m having the same problem but I don&#39;t understand what you mean with &quot;add the com.sun.jersey.api.json.POJOMappingFeature parameter&quot;. Where / how do you do that?","body":"Hi I&#39;m having the same problem but I don&#39;t understand what you mean with &quot;add the com.sun.jersey.api.json.POJOMappingFeature parameter&quot;. Where / how do you do that?"},{"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":0,"creation_date":1443185291,"post_id":11040995,"comment_id":53403652,"body_markdown":"In `web.xml`, add param to your Jersey servlet: `&lt;init-param&gt;&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;&lt;param-value&gt;true&lt;/param-value&gt;&lt;/init-param&gt;`. Alternatively if the problem comes from client code, then add this feature to Jersey client config: `ClientConfig cc = new DefaultClientConfig(); cc.getFeatures().put(&quot;com.sun.jersey.api.json.POJOMappingFeature&quot;, true);Client.create(cc);`.","body":"In <code>web.xml</code>, add param to your Jersey servlet: <code>&lt;init-param&gt;&lt;param-name&gt;com.sun.jersey.api.json.POJOMappingF&zwnj;&#8203;eature&lt;&#47;param-name&gt;&lt;&zwnj;&#8203;param-value&gt;true&lt;&#47;pa&zwnj;&#8203;ram-value&gt;&lt;&#47;init-par&zwnj;&#8203;am&gt;</code>. Alternatively if the problem comes from client code, then add this feature to Jersey client config: <code>ClientConfig cc = new DefaultClientConfig(); cc.getFeatures().put(&quot;com.sun.jersey.api.json.POJOMappingFea&zwnj;&#8203;ture&quot;, true);Client.create(cc);</code>."}],"answers":[{"comments":[{"owner":{"account_id":1611435,"reputation":2587,"user_id":1490220,"accept_rate":82,"display_name":"Joe M"},"score":0,"creation_date":1348731648,"post_id":11041142,"comment_id":17008834,"body_markdown":"Thank you! I had already spent 5 hours pulling my hair out on this!","body":"Thank you! I had already spent 5 hours pulling my hair out on this!"},{"owner":{"account_id":306616,"reputation":5807,"user_id":617466,"accept_rate":46,"display_name":"luigi7up"},"score":1,"creation_date":1361463836,"post_id":11041142,"comment_id":21081911,"body_markdown":"I just came here for the second time. You deserve my +1","body":"I just came here for the second time. You deserve my +1"},{"owner":{"account_id":2810382,"reputation":400,"user_id":2416728,"accept_rate":48,"display_name":"user2416728"},"score":0,"creation_date":1372334273,"post_id":11041142,"comment_id":25160741,"body_markdown":"http://stackoverflow.com/questions/17342218/getting-error-a-message-body-writer-for-java-class-java-util-arraylist-listjava ..can you solve this ??","body":"<a href=\"http://stackoverflow.com/questions/17342218/getting-error-a-message-body-writer-for-java-class-java-util-arraylist-listjava\" title=\"getting error a message body writer for java class java util arraylist listjava\">stackoverflow.com/questions/17342218/&hellip;</a> ..can you solve this ??"},{"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"score":0,"creation_date":1374761277,"post_id":11041142,"comment_id":26075355,"body_markdown":"Would it be possible to get a bit more detail here, and possibly an example of use?  I believe I have the same problem, but I don&#39;t actually understand the context of what you mean.  I&#39;m afraid I don&#39;t understand even the basic fundamentals of jersey.","body":"Would it be possible to get a bit more detail here, and possibly an example of use?  I believe I have the same problem, but I don&#39;t actually understand the context of what you mean.  I&#39;m afraid I don&#39;t understand even the basic fundamentals of jersey."},{"owner":{"account_id":285174,"reputation":115,"user_id":583692,"display_name":"Redboots"},"score":0,"creation_date":1443038989,"post_id":11041142,"comment_id":53337859,"body_markdown":"If you get the &quot;message body writer was not found for Java class foo&quot;, you need to go into foo.java and add @XmlRootElement on the line before the &quot;public class foo&quot; bit.","body":"If you get the &quot;message body writer was not found for Java class foo&quot;, you need to go into foo.java and add @XmlRootElement on the line before the &quot;public class foo&quot; bit."}],"tags":[],"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"comment_count":5,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1339707069,"creation_date":1339707069,"answer_id":11041142,"question_id":11040995,"body_markdown":"You need to annotate Region class with @XmlRootElement.","title":"A message body writer for Java class java.util.ArrayList","body":"<p>You need to annotate Region class with @XmlRootElement.</p>\n"},{"comments":[{"owner":{"account_id":196971,"reputation":2814,"user_id":440730,"accept_rate":50,"display_name":"tuxSlayer"},"score":0,"creation_date":1374004850,"post_id":15662780,"comment_id":25766862,"body_markdown":"Somehow it works. I think thanks to javax.ws.rs.ext.MessageBodyWriter file in jersey-server.jar/META-INF ;) It has value of &quot;com.sun.jersey.server.impl.template.ViewableMessageBodyWriter&quot; inside","body":"Somehow it works. I think thanks to javax.ws.rs.ext.MessageBodyWriter file in jersey-server.jar/META-INF ;) It has value of &quot;com.sun.jersey.server.impl.template.ViewableMessageBodyWrit&zwnj;&#8203;er&quot; inside"},{"owner":{"account_id":2197454,"reputation":13940,"user_id":1942750,"accept_rate":59,"display_name":"SBotirov"},"score":0,"creation_date":1382440937,"post_id":15662780,"comment_id":28951740,"body_markdown":"+1. Exactly which `12 different jars` have you added? Please, kindly mention them! or give an example project, please.","body":"+1. Exactly which <code>12 different jars</code> have you added? Please, kindly mention them! or give an example project, please."},{"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"score":0,"creation_date":1382475764,"post_id":15662780,"comment_id":28972368,"body_markdown":"Sure thing, http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip","body":"Sure thing, <a href=\"http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"score":0,"creation_date":1382475813,"post_id":15662780,"comment_id":28972388,"body_markdown":"You can see my detailed answer on another question here: http://stackoverflow.com/questions/18646747/how-to-produce-json-output-with-jersey-1-17-1-using-jaxb/18662286#18662286","body":"You can see my detailed answer on another question here: <a href=\"http://stackoverflow.com/questions/18646747/how-to-produce-json-output-with-jersey-1-17-1-using-jaxb/18662286#18662286\" title=\"how to produce json output with jersey 1 17 1 using jaxb\">stackoverflow.com/questions/18646747/&hellip;</a>"}],"tags":[],"owner":{"account_id":469001,"reputation":7729,"user_id":875305,"accept_rate":67,"display_name":"11101101b"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1382475936,"creation_date":1364398221,"answer_id":15662780,"question_id":11040995,"body_markdown":"The other answer didn&#39;t work for me (I already had the XmlRootElement annotation), but I finally got it to work with JSON.  It was returning XML just fine, just not JSON.\r\n\r\nI was using the jersey-bundle-1.17.jar (also tried with the asm-3.1.jar and jersey-json-1.17.jar added to classpath and still didn&#39;t work). I finally just tried downloading the zip that includes 12 different jars. Once I added all 12 jars to my classpath I finally got rid of the error and works great returning JSON.\r\n\r\nI hope this helps somebody.\r\n\r\nEDIT: Here is a link to the zip file that contains the 12 jar files: [jersey-archive-1.17.zip][1]\r\n\r\n\r\n  [1]: http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip","title":"A message body writer for Java class java.util.ArrayList","body":"<p>The other answer didn't work for me (I already had the XmlRootElement annotation), but I finally got it to work with JSON.  It was returning XML just fine, just not JSON.</p>\n\n<p>I was using the jersey-bundle-1.17.jar (also tried with the asm-3.1.jar and jersey-json-1.17.jar added to classpath and still didn't work). I finally just tried downloading the zip that includes 12 different jars. Once I added all 12 jars to my classpath I finally got rid of the error and works great returning JSON.</p>\n\n<p>I hope this helps somebody.</p>\n\n<p>EDIT: Here is a link to the zip file that contains the 12 jar files: <a href=\"http://repo1.maven.org/maven2/com/sun/jersey/jersey-archive/1.17.1/jersey-archive-1.17.1.zip\" rel=\"noreferrer\">jersey-archive-1.17.zip</a></p>\n"},{"tags":[],"owner":{"account_id":290821,"reputation":742,"user_id":592593,"display_name":"Dante"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366983558,"creation_date":1366983558,"answer_id":16237928,"question_id":11040995,"body_markdown":"@XmlRootElement with this annotation it&#39;s possible to select JSON ou XML in Jersey.\r\nThank you very much!\r\n\r\nJust add to rest this:\r\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n\r\nOn the request you set on the header if you won the return in xml or in json!\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<p>@XmlRootElement with this annotation it's possible to select JSON ou XML in Jersey.\nThank you very much!</p>\n\n<p>Just add to rest this:\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})</p>\n\n<p>On the request you set on the header if you won the return in xml or in json!</p>\n"},{"comments":[{"owner":{"account_id":59244,"reputation":11194,"user_id":177293,"accept_rate":55,"display_name":"Skylar Saveland"},"score":0,"creation_date":1408054851,"post_id":22500845,"comment_id":39465921,"body_markdown":"what package does, for instance JSONArray come from?","body":"what package does, for instance JSONArray come from?"},{"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"score":0,"creation_date":1461755637,"post_id":22500845,"comment_id":61340520,"body_markdown":"It comes in java-json jar... It&#39;s available at http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm","body":"It comes in java-json jar... It&#39;s available at <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/j/Downloadjavajsonjar.htm</a>"}],"tags":[],"owner":{"account_id":2334140,"reputation":2428,"user_id":2046862,"display_name":"Pinkesh Sharma"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664926961,"creation_date":1395220104,"answer_id":22500845,"question_id":11040995,"body_markdown":"        You can use JSONObject to create a Json Response \r\n        \r\n        eg: \r\n        \r\n        List&lt;Region&gt; regions = regionDao.getAll();\r\n        JSONArray list = new JSONArray();\r\n        for(Region region : regions )\r\n        {\r\n           JSONObject jObject= new JSONObject();\r\n           //put all the data in json object\r\n           jObject.put(region.getSomething());\r\n           // and put this Jsonobject in JsonArray\r\n           list.add(jObject);\r\n        }\r\n    \r\n    Or \r\n    \r\n    Response.ok().entity(new GenericEntity&lt;List&lt;Region&gt;&gt;(regions) {}).build();\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<pre><code>    You can use JSONObject to create a Json Response \n    \n    eg: \n    \n    List&lt;Region&gt; regions = regionDao.getAll();\n    JSONArray list = new JSONArray();\n    for(Region region : regions )\n    {\n       JSONObject jObject= new JSONObject();\n       //put all the data in json object\n       jObject.put(region.getSomething());\n       // and put this Jsonobject in JsonArray\n       list.add(jObject);\n    }\n\nOr \n\nResponse.ok().entity(new GenericEntity&lt;List&lt;Region&gt;&gt;(regions) {}).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":515180,"reputation":1185,"user_id":1107450,"display_name":"Rodislav Moldovan"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1402495109,"creation_date":1402495109,"answer_id":24164866,"question_id":11040995,"body_markdown":"as a quick solution I see:\r\n\r\n    final List&lt;MyModel&gt; myList = new ArrayList&lt;&gt;();\r\n    Response.ok().entity(new GenericEntity&lt;List&lt;MyModel&gt;&gt;(myList) {}).build();","title":"A message body writer for Java class java.util.ArrayList","body":"<p>as a quick solution I see:</p>\n\n<pre><code>final List&lt;MyModel&gt; myList = new ArrayList&lt;&gt;();\nResponse.ok().entity(new GenericEntity&lt;List&lt;MyModel&gt;&gt;(myList) {}).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4778267,"reputation":1,"user_id":3860796,"display_name":"serena"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1405949877,"creation_date":1405947566,"answer_id":24865738,"question_id":11040995,"body_markdown":"add `@@XmlRootElement` before your class Region","title":"A message body writer for Java class java.util.ArrayList","body":"<p>add <code>@@XmlRootElement</code> before your class Region</p>\n"},{"tags":[],"owner":{"account_id":7816923,"reputation":21,"user_id":5911307,"display_name":"Anudeep Abraham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455153269,"creation_date":1455153269,"answer_id":35329111,"question_id":11040995,"body_markdown":"As you are expecting List, you can annotate your bean class with @XmlRootElement. But the same won&#39;t work for Map.\r\nJersey internally uses moxy to do the job done.","title":"A message body writer for Java class java.util.ArrayList","body":"<p>As you are expecting List, you can annotate your bean class with @XmlRootElement. But the same won't work for Map.\nJersey internally uses moxy to do the job done.</p>\n"},{"tags":[],"owner":{"account_id":443924,"reputation":56,"user_id":3647312,"display_name":"Vadym Vikulin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519159680,"creation_date":1519159680,"answer_id":48893954,"question_id":11040995,"body_markdown":"Add dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n        &lt;version&gt;${jersey-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"A message body writer for Java class java.util.ArrayList","body":"<p>Add dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n    &lt;version&gt;${jersey-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":70242,"reputation":4069,"user_id":203882,"accept_rate":62,"display_name":"n4rzul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55716,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":8,"score":28,"last_activity_date":1664926961,"creation_date":1339706288,"question_id":11040995,"body_markdown":"I received the below stack trace when accessing on of my jax-rs resources.\r\n\r\nI&#39;m using Tomcat 7, with Jersey 1.12 and Hibernate 4 and MySQL.\r\n\r\nI found this tutorial while searching for a solution: http://aruld.info/handling-generified-collections-in-jersey-jax-rs/ but none of the examples listed seemed to work.\r\n\r\nWhat am I missing here?\r\n\r\nPlease no answers that have me writing `MessageBodyWriters`, this should work out the box. (And I know there&#39;s a solution, I just can&#39;t figure it out.)\r\n\r\nHere are all my jars:\r\n\r\n    antlr-2.7.7.jar\r\n    asm-3.1.jar\r\n    commons-collections-3.2.1.jar\r\n    dom4j-1.6.1.jar\r\n    gson-1.7.1.jar\r\n    hibernate-commons-annotations-4.0.1.Final.jar\r\n    hibernate-core-4.1.0.Final.jar\r\n    hibernate-jpa-2.0-api-1.0.1.Final.jar\r\n    jackson-core-asl-1.9.2.jar\r\n    jackson-jaxrs-1.9.2.jar\r\n    jackson-mapper-asl-1.9.2.jar\r\n    jackson-xc-1.9.2.jar\r\n    javassist-3.15.0-GA.jar\r\n    jboss-logging-3.1.0.CR2.jar\r\n    jboss-transaction-api_1.1_spec-1.0.0.Final.jar\r\n    jersey-client-1.12.jar\r\n    jersey-core-1.12.jar\r\n    jersey-json-1.12.jar\r\n    jersey-server-1.12.jar\r\n    jersey-servlet-1.12.jar\r\n    jettison-1.1.jar\r\n    jsr311-api-1.1.1.jar\r\n    mysql-connector-java-3.1.12-bin.jar\r\n\r\nHere is my resource class and method:\r\n\r\n    @Path(&quot;/region&quot;)\r\n    public class RegionService {\r\n    \t// This method is called if TEXT_PLAIN is request\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\t\r\n    \tpublic JResponse&lt;List&lt;Region&gt;&gt; region() {\r\n    \t\tRegionDao regionDao = new RegionDao();\r\n    \t\tregionDao.openSession();\r\n    \t\tList&lt;Region&gt; regions = regionDao.getAll();\r\n    \t\tregionDao.closeSession();\r\n    \t    return JResponse.ok(regions).build();\r\n    \t}\r\n    }\r\n\r\nAnd here is the stacktrace: \r\n\r\n    SEVERE: Mapped exception to response: 500 (Internal Server Error)\r\n    javax.ws.rs.WebApplicationException: com.sun.jersey.api.MessageException: A message body writer for Java class java.util.ArrayList, and Java type java.util.List&lt;campher.hibernate.entities.Region&gt;, and MIME media type application/json was not found\r\n    \tat com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:285)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)\r\n    \tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)\r\n","title":"A message body writer for Java class java.util.ArrayList","body":"<p>I received the below stack trace when accessing on of my jax-rs resources.</p>\n\n<p>I'm using Tomcat 7, with Jersey 1.12 and Hibernate 4 and MySQL.</p>\n\n<p>I found this tutorial while searching for a solution: <a href=\"http://aruld.info/handling-generified-collections-in-jersey-jax-rs/\">http://aruld.info/handling-generified-collections-in-jersey-jax-rs/</a> but none of the examples listed seemed to work.</p>\n\n<p>What am I missing here?</p>\n\n<p>Please no answers that have me writing <code>MessageBodyWriters</code>, this should work out the box. (And I know there's a solution, I just can't figure it out.)</p>\n\n<p>Here are all my jars:</p>\n\n<pre><code>antlr-2.7.7.jar\nasm-3.1.jar\ncommons-collections-3.2.1.jar\ndom4j-1.6.1.jar\ngson-1.7.1.jar\nhibernate-commons-annotations-4.0.1.Final.jar\nhibernate-core-4.1.0.Final.jar\nhibernate-jpa-2.0-api-1.0.1.Final.jar\njackson-core-asl-1.9.2.jar\njackson-jaxrs-1.9.2.jar\njackson-mapper-asl-1.9.2.jar\njackson-xc-1.9.2.jar\njavassist-3.15.0-GA.jar\njboss-logging-3.1.0.CR2.jar\njboss-transaction-api_1.1_spec-1.0.0.Final.jar\njersey-client-1.12.jar\njersey-core-1.12.jar\njersey-json-1.12.jar\njersey-server-1.12.jar\njersey-servlet-1.12.jar\njettison-1.1.jar\njsr311-api-1.1.1.jar\nmysql-connector-java-3.1.12-bin.jar\n</code></pre>\n\n<p>Here is my resource class and method:</p>\n\n<pre><code>@Path(\"/region\")\npublic class RegionService {\n    // This method is called if TEXT_PLAIN is request\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)   \n    public JResponse&lt;List&lt;Region&gt;&gt; region() {\n        RegionDao regionDao = new RegionDao();\n        regionDao.openSession();\n        List&lt;Region&gt; regions = regionDao.getAll();\n        regionDao.closeSession();\n        return JResponse.ok(regions).build();\n    }\n}\n</code></pre>\n\n<p>And here is the stacktrace: </p>\n\n<pre><code>SEVERE: Mapped exception to response: 500 (Internal Server Error)\njavax.ws.rs.WebApplicationException: com.sun.jersey.api.MessageException: A message body writer for Java class java.util.ArrayList, and Java type java.util.List&lt;campher.hibernate.entities.Region&gt;, and MIME media type application/json was not found\n    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:285)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)\n    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1272120496,"post_id":2704812,"comment_id":2728352,"body_markdown":"Can&#39;t you simply call the methods you already use in your shutdown-hook whenever you want?","body":"Can&#39;t you simply call the methods you already use in your shutdown-hook whenever you want?"},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":0,"creation_date":1272268763,"post_id":2704812,"comment_id":9058729,"body_markdown":"The error you mention here is a compiler error, warning you that you catch an exception that is never thrown inside the corresponding try-block. The call to `AudioSystem.write` can throw an IOException, and when you move the call outside the try-block, that try-block cannot throw the exception. You have to move the complete try-catch-block instead of only the two statements.","body":"The error you mention here is a compiler error, warning you that you catch an exception that is never thrown inside the corresponding try-block. The call to <code>AudioSystem.write</code> can throw an IOException, and when you move the call outside the try-block, that try-block cannot throw the exception. You have to move the complete try-catch-block instead of only the two statements."}],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272120592,"creation_date":1272120592,"answer_id":2704856,"question_id":2704812,"body_markdown":"First of all, all your comments are completely redundant, you just repeat the name of the various classes and methods you&#39;re using.\r\n\r\nAs for the problem, well your save code is in the shutdown hook which means &quot;*do this when the application is about to close*&quot; which naturally means that it won&#39;t save it until the program is about to close. So, move that logic away from the shutdown hook to whatever the logical place for it is - most likely at the end of the method, mayhaps in `final` block even - and that&#39;s it.","title":"Avoiding shutdown hook","body":"<p>First of all, all your comments are completely redundant, you just repeat the name of the various classes and methods you're using.</p>\n\n<p>As for the problem, well your save code is in the shutdown hook which means \"<em>do this when the application is about to close</em>\" which naturally means that it won't save it until the program is about to close. So, move that logic away from the shutdown hook to whatever the logical place for it is - most likely at the end of the method, mayhaps in <code>final</code> block even - and that's it.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664926949,"creation_date":1664926549,"answer_id":73954583,"question_id":2704812,"body_markdown":"Create a method\r\n\r\n    public static native shutdownWithoutHooks();\r\n\r\nCreate a headerfile of the method using `javah`.\r\n\r\nCreate a native c++-File calling \r\n\r\n    exit(0);\r\n\r\nCompile and load the library using \r\n\r\n    Runtime.getRuntime().load(&quot;&lt;absolute filename of the .dll/.so-file&quot;);\r\n    shutdownWithoutHooks();\r\n","title":"Avoiding shutdown hook","body":"<p>Create a method</p>\n<pre><code>public static native shutdownWithoutHooks();\n</code></pre>\n<p>Create a headerfile of the method using <code>javah</code>.</p>\n<p>Create a native c++-File calling</p>\n<pre><code>exit(0);\n</code></pre>\n<p>Compile and load the library using</p>\n<pre><code>Runtime.getRuntime().load(&quot;&lt;absolute filename of the .dll/.so-file&quot;);\nshutdownWithoutHooks();\n</code></pre>\n"}],"owner":{"account_id":609856,"reputation":11,"user_id":324963,"display_name":"meryl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664926949,"creation_date":1272119613,"question_id":2704812,"body_markdown":"Through the following code I can play and cut and audio file.\r\nIs there any other way to avoid using a shutdown hook?\r\nThe problem is that whenever I push the cut button , the file doesn&#39;t get saved until I close the application\r\n\r\nthanks \r\n\r\n    void play_cut() {\r\n    \r\n            try {\r\n    \r\n        // First, we get the format of the input file\r\n        final AudioFileFormat.Type fileType = AudioSystem.getAudioFileFormat(inputAudio).getType();\r\n        // Then, we get a clip for playing the audio.\r\n        c = AudioSystem.getClip();\r\n        // We get a stream for playing the input file.\r\n        AudioInputStream ais = AudioSystem.getAudioInputStream(inputAudio);\r\n        // We use the clip to open (but not start) the input stream\r\n        c.open(ais);\r\n        // We get the format of the audio codec (not the file format we got above)\r\n        final AudioFormat audioFormat = ais.getFormat();\r\n        \r\n         // We add a shutdown hook, an anonymous inner class.\r\n        Runtime.getRuntime().addShutdownHook(new Thread()\r\n        {\r\n          public void run()\r\n          {\r\n            // We&#39;re now in the hook, which means the program is shutting down.\r\n            // You would need to use better exception handling in a production application.\r\n            try\r\n            {\r\n              // Stop the audio clip.\r\n              c.stop();\r\n              // Create a new input stream, with the duration set to the frame count we reached.  Note that we use the previously determined audio format\r\n              AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\r\n              // Write it out to the output file, using the same file type.\r\n              AudioSystem.write(startStream, fileType, outputAudio);\r\n            }\r\n            catch(IOException e)\r\n            {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        });\r\n        // After setting up the hook, we start the clip.\r\n        \r\n    \r\n         c.start();\r\n               \r\n            } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }// end play_cut\r\n\r\n\r\n---\r\n\r\nActually , what I wanted to know is :\r\nDo I really need a shutdown hook?\r\n\r\nIf I move these two code statements \r\n\r\n    AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\r\n    AudioSystem.write(startStream, fileType, outputAudio);\r\n   \r\n\r\n\r\nsomewhere else after   c.start(); I get an error :\r\n\r\n&gt; exception java.io.IOException is never thrown in body of corresponding try statement --&gt;catch(IOException e)\r\n\r\n\r\nDo you think I can get the same results without resorting to the hook?\r\n\r\n        \r\n\r\n","title":"Avoiding shutdown hook","body":"<p>Through the following code I can play and cut and audio file.\nIs there any other way to avoid using a shutdown hook?\nThe problem is that whenever I push the cut button , the file doesn't get saved until I close the application</p>\n\n<p>thanks </p>\n\n<pre><code>void play_cut() {\n\n        try {\n\n    // First, we get the format of the input file\n    final AudioFileFormat.Type fileType = AudioSystem.getAudioFileFormat(inputAudio).getType();\n    // Then, we get a clip for playing the audio.\n    c = AudioSystem.getClip();\n    // We get a stream for playing the input file.\n    AudioInputStream ais = AudioSystem.getAudioInputStream(inputAudio);\n    // We use the clip to open (but not start) the input stream\n    c.open(ais);\n    // We get the format of the audio codec (not the file format we got above)\n    final AudioFormat audioFormat = ais.getFormat();\n\n     // We add a shutdown hook, an anonymous inner class.\n    Runtime.getRuntime().addShutdownHook(new Thread()\n    {\n      public void run()\n      {\n        // We're now in the hook, which means the program is shutting down.\n        // You would need to use better exception handling in a production application.\n        try\n        {\n          // Stop the audio clip.\n          c.stop();\n          // Create a new input stream, with the duration set to the frame count we reached.  Note that we use the previously determined audio format\n          AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\n          // Write it out to the output file, using the same file type.\n          AudioSystem.write(startStream, fileType, outputAudio);\n        }\n        catch(IOException e)\n        {\n          e.printStackTrace();\n        }\n      }\n    });\n    // After setting up the hook, we start the clip.\n\n\n     c.start();\n\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n        }\n    }// end play_cut\n</code></pre>\n\n<hr>\n\n<p>Actually , what I wanted to know is :\nDo I really need a shutdown hook?</p>\n\n<p>If I move these two code statements </p>\n\n<pre><code>AudioInputStream startStream = new AudioInputStream(new FileInputStream(inputAudio), audioFormat, c.getLongFramePosition());\nAudioSystem.write(startStream, fileType, outputAudio);\n</code></pre>\n\n<p>somewhere else after   c.start(); I get an error :</p>\n\n<blockquote>\n  <p>exception java.io.IOException is never thrown in body of corresponding try statement -->catch(IOException e)</p>\n</blockquote>\n\n<p>Do you think I can get the same results without resorting to the hook?</p>\n"},{"tags":["java","authentication","grpc","quarkus"],"answers":[{"comments":[{"owner":{"account_id":194097,"reputation":2923,"user_id":436210,"display_name":"Tea Curran"},"score":0,"creation_date":1664924657,"post_id":73954356,"comment_id":130579989,"body_markdown":"unfortunately, that doesn&#39;t fix it.  It still logs a server-side error because interceptCall isn&#39;t returning anything.   I don&#39;t need to return a message, but I may have a few different reasons for closing the connection and I&#39;d like the client to know why.","body":"unfortunately, that doesn&#39;t fix it.  It still logs a server-side error because interceptCall isn&#39;t returning anything.   I don&#39;t need to return a message, but I may have a few different reasons for closing the connection and I&#39;d like the client to know why."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664924750,"post_id":73954356,"comment_id":130580012,"body_markdown":"hmmm, I see ... now I get your point","body":"hmmm, I see ... now I get your point"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664925028,"post_id":73954356,"comment_id":130580049,"body_markdown":"made an edit @TerrenceCurran, hope it helps","body":"made an edit @TerrenceCurran, hope it helps"},{"owner":{"account_id":194097,"reputation":2923,"user_id":436210,"display_name":"Tea Curran"},"score":1,"creation_date":1664926057,"post_id":73954356,"comment_id":130580200,"body_markdown":"wow. I honestly wouldn&#39;t expect this to be any different than calling serverCall.close right before the return statement, but it seems to work! thanks!","body":"wow. I honestly wouldn&#39;t expect this to be any different than calling serverCall.close right before the return statement, but it seems to work! thanks!"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664926096,"post_id":73954356,"comment_id":130580206,"body_markdown":"the thing is that your last return overrides the previous one. So first, send the void message and afte that, your current detailed close message. Glad it helped, already upvoted the question (as made me think), so can&#39;t do it further ; )","body":"the thing is that your last return overrides the previous one. So first, send the void message and afte that, your current detailed close message. Glad it helped, already upvoted the question (as made me think), so can&#39;t do it further ; )"},{"owner":{"account_id":1449510,"reputation":48192,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":1,"creation_date":1664957797,"post_id":73954356,"comment_id":130585167,"body_markdown":"@aran nice to see that you are still around","body":"@aran nice to see that you are still around"}],"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664926240,"creation_date":1664924087,"answer_id":73954356,"question_id":73954274,"body_markdown":"You could catch it all in a try block and send the message just in there; The issue you face is that you are first closing the call before returning it, so it tries to process an already closed pipe.\r\n\r\nIn the second scenario, as you send the &quot;void&quot; message right after the &quot;close&quot; message, the detailed message gets overriden.\r\n\r\nTry something like:\r\n\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) \r\n    {\r\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\r\n        Context context = Context.current();\r\n        boolean mustClose=false;\r\n        try\r\n        {\r\n           if (!Strings.isNullOrEmpty(token)) \r\n           {\r\n               String fbToken = authenticationService.verifyIdToken(token);\r\n               context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\r\n               return Contexts.interceptCall(context,serverCall,metadata, serverCallHandler);\r\n           } \r\n           else \r\n           {\r\n               mustClose=true;\r\n               return new ServerCall.Listener&lt;ReqT&gt;() {};\r\n           }              \r\n         } \r\n         finally \r\n         {\r\n            if (mustClose)\r\n                 serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\n         }\r\n    }\r\n\r\n","title":"What is the proper way to return an error from gRPC ServerInterceptor","body":"<p>You could catch it all in a try block and send the message just in there; The issue you face is that you are first closing the call before returning it, so it tries to process an already closed pipe.</p>\n<p>In the second scenario, as you send the &quot;void&quot; message right after the &quot;close&quot; message, the detailed message gets overriden.</p>\n<p>Try something like:</p>\n<pre><code>@Override\npublic &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) \n{\n    String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\n    Context context = Context.current();\n    boolean mustClose=false;\n    try\n    {\n       if (!Strings.isNullOrEmpty(token)) \n       {\n           String fbToken = authenticationService.verifyIdToken(token);\n           context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\n           return Contexts.interceptCall(context,serverCall,metadata, serverCallHandler);\n       } \n       else \n       {\n           mustClose=true;\n           return new ServerCall.Listener&lt;ReqT&gt;() {};\n       }              \n     } \n     finally \n     {\n        if (mustClose)\n             serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":194097,"reputation":2923,"user_id":436210,"display_name":"Tea Curran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73954356,"answer_count":1,"score":1,"last_activity_date":1664926696,"creation_date":1664923249,"question_id":73954274,"body_markdown":"I have a Quarkus application that uses gRPC.  I have implemented a ServerInterceptor to look for and validate auth tokens. \r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n@ApplicationScoped\r\npublic class GrpcAuthInterceptor implements ServerInterceptor {\r\n\r\n    @Inject\r\n    AuthenticationService authenticationService;\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\r\n\r\n        Context context = Context.current();\r\n\r\n        if (!Strings.isNullOrEmpty(token)) {\r\n            String fbToken = authenticationService.verifyIdToken(token);\r\n            context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\r\n        } else {\r\n            serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\n        }\r\n\r\n        return Contexts.interceptCall(\r\n                context,\r\n                serverCall,\r\n                metadata,\r\n                serverCallHandler);\r\n    }\r\n}\r\n```\r\n\r\nThis works and sends a message to the client like this:\r\n\r\n```\r\ngRPC Error (code: 16, codeName: UNAUTHENTICATED, message: Auth Token Required, details: [], rawResponse: null, trailers: {})\r\n```\r\n\r\nbut it logs this error on the server because I didn&#39;t return from the method after sending the error:\r\n\r\n```\r\n2022-10-04 21:50:23,006 ERROR [io.qua.mut.run.MutinyInfrastructure] (vert.x-eventloop-thread-0)\r\nMutiny had to drop the following exception: java.lang.IllegalStateException: call is closed\r\n```\r\n\r\nSeveral posts suggest I can return an empty ServerCall.Listener like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nserverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\r\nreturn new ServerCall.Listener&lt;ReqT&gt;() {};\r\n```\r\n\r\nthis works and gets rid of the server-side error message BUT it breaks the message returned to the client.  The client just gets this:\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\ngRPC Error (code: 2, codeName: UNKNOWN, message: null, details: [], rawResponse: null, trailers: {})\r\n```\r\n\r\nSo my question is: how do I return a meaningful error message to the client and not log an exception server-side?","title":"What is the proper way to return an error from gRPC ServerInterceptor","body":"<p>I have a Quarkus application that uses gRPC.  I have implemented a ServerInterceptor to look for and validate auth tokens.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class GrpcAuthInterceptor implements ServerInterceptor {\n\n    @Inject\n    AuthenticationService authenticationService;\n\n    @Override\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n        String token = metadata.get(AuthenticationConstants.AUTH_HEADER_KEY);\n\n        Context context = Context.current();\n\n        if (!Strings.isNullOrEmpty(token)) {\n            String fbToken = authenticationService.verifyIdToken(token);\n            context = context.withValue(AuthenticationConstants.CONTEXT_FB_USER_KEY, fbToken);\n        } else {\n            serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\n        }\n\n        return Contexts.interceptCall(\n                context,\n                serverCall,\n                metadata,\n                serverCallHandler);\n    }\n}\n</code></pre>\n<p>This works and sends a message to the client like this:</p>\n<pre><code>gRPC Error (code: 16, codeName: UNAUTHENTICATED, message: Auth Token Required, details: [], rawResponse: null, trailers: {})\n</code></pre>\n<p>but it logs this error on the server because I didn't return from the method after sending the error:</p>\n<pre><code>2022-10-04 21:50:23,006 ERROR [io.qua.mut.run.MutinyInfrastructure] (vert.x-eventloop-thread-0)\nMutiny had to drop the following exception: java.lang.IllegalStateException: call is closed\n</code></pre>\n<p>Several posts suggest I can return an empty ServerCall.Listener like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>serverCall.close(Status.UNAUTHENTICATED.withDescription(&quot;Auth Token Required&quot;), metadata);\nreturn new ServerCall.Listener&lt;ReqT&gt;() {};\n</code></pre>\n<p>this works and gets rid of the server-side error message BUT it breaks the message returned to the client.  The client just gets this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gRPC Error (code: 2, codeName: UNKNOWN, message: null, details: [], rawResponse: null, trailers: {})\n</code></pre>\n<p>So my question is: how do I return a meaningful error message to the client and not log an exception server-side?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"score":1,"creation_date":1511858840,"post_id":47527129,"comment_id":82010670,"body_markdown":"This should fix your issue https://stackoverflow.com/questions/38662547/context-initialization-failed-nosuchmethoderror-antpathmatcher-setcasesensiti","body":"This should fix your issue <a href=\"https://stackoverflow.com/questions/38662547/context-initialization-failed-nosuchmethoderror-antpathmatcher-setcasesensiti\" title=\"context initialization failed nosuchmethoderror antpathmatcher setcasesensiti\">stackoverflow.com/questions/38662547/&hellip;</a>"},{"owner":{"account_id":5033835,"reputation":2668,"user_id":4043273,"accept_rate":84,"display_name":"wdc"},"score":0,"creation_date":1511859227,"post_id":47527129,"comment_id":82010905,"body_markdown":"Why don&#39;t you try pure java based configuration?","body":"Why don&#39;t you try pure java based configuration?"},{"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"score":0,"creation_date":1511859597,"post_id":47527129,"comment_id":82011151,"body_markdown":"I already have xml based configuration with the existing MVC application. I just want to follow the same thing","body":"I already have xml based configuration with the existing MVC application. I just want to follow the same thing"}],"answers":[{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664925953,"creation_date":1511988714,"answer_id":47561607,"question_id":47527129,"body_markdown":"I used  4.2.1 spring security library \r\nand updated spring security xsd like this\r\n\r\nspring-security-4.2.xsd\r\n\r\nAnd was able to see the app running well.\r\n","title":"Adding spring security to an existing Spring MVC","body":"<p>I used  4.2.1 spring security library\nand updated spring security xsd like this</p>\n<p>spring-security-4.2.xsd</p>\n<p>And was able to see the app running well.</p>\n"}],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":47561607,"answer_count":1,"score":0,"last_activity_date":1664925953,"creation_date":1511858068,"question_id":47527129,"body_markdown":"I have spent hours to look for answers and fix this problem. But after spending many hours it seems I might need to put this question for help. I saw many similar scenarios but none became an answer. \r\n\r\nI already have a spring web application that runs well with out authentication. I  am trying to implement a simple spring security using xml configuration.\r\n\r\n\r\n\r\n[![Before the update][1]][1]\r\n\r\nBefore Modification \r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThis Is after Modification \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;\r\n    \t\t\t/WEB-INF/spring-security.xml,\r\n    \t\t\t/WEB-INF/spring-database.xml\r\n    \t\t&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;!-- Spring Security --&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/core&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- --&gt;\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.tadtab.core&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n    &lt;/beans&gt;\r\n\r\nAnd this is the dispatcher servlet\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\n\r\n    \r\nHere is my configuration before updating it with the example I found online.\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;course-project&lt;/display-name&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n&lt;/web-app&gt;\r\n\r\nI used to be able to access my application at calhost:8283/core/ \r\n\r\n\r\nBy the time I update web.xml with the following code \r\n\r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t\t/WEB-INF/spring-security.xml,\r\n\t\t\t/WEB-INF/spring-database.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;!-- Spring Security --&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/core&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\nI am getting the following exception \r\n\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39; while setting bean property &#39;sourceList&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#60cee7ca&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\r\n    .\r\n    .\r\n    .\r\n    \r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#60cee7ca&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \r\n    .\r\n    .\r\n    .\r\n    \t... 47 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#60cee7ca&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1139)\r\n    \r\n    \t.\r\n    \t.\r\n    \t.\r\n    \tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:267)\r\n    \t... 66 more\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.createMatcher(AntPathRequestMatcher.java:268)\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:252)\r\n    \tat org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:2\r\n\r\n  [1]: https://i.stack.imgur.com/BAEwW.png\r\n  [2]: https://i.stack.imgur.com/PnN7w.png\r\n  [3]: https://i.stack.imgur.com/EJt2q.png\r\n  [4]: https://i.stack.imgur.com/3Zw7d.png\r\n  [5]: https://i.stack.imgur.com/aTpJK.png\r\n  [6]: https://i.stack.imgur.com/nlqWA.png","title":"Adding spring security to an existing Spring MVC","body":"<p>I have spent hours to look for answers and fix this problem. But after spending many hours it seems I might need to put this question for help. I saw many similar scenarios but none became an answer. </p>\n\n<p>I already have a spring web application that runs well with out authentication. I  am trying to implement a simple spring security using xml configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BAEwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BAEwW.png\" alt=\"Before the update\"></a></p>\n\n<p>Before Modification </p>\n\n<p><a href=\"https://i.stack.imgur.com/PnN7w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PnN7w.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EJt2q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJt2q.png\" alt=\"enter image description here\"></a></p>\n\n<p>This Is after Modification </p>\n\n<p><a href=\"https://i.stack.imgur.com/3Zw7d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Zw7d.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aTpJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTpJK.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/nlqWA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nlqWA.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/spring-security.xml,\n            /WEB-INF/spring-database.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Spring Security --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/core&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\"&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=\"com.tadtab.core\"&gt;&lt;/context:component-scan&gt;\n\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/view/\"&gt;&lt;/property&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;mvc:resources location=\"/resources/\" mapping=\"/resources/**\"&gt;&lt;/mvc:resources&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>And this is the dispatcher servlet</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here is my configuration before updating it with the example I found online.</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;course-project&lt;/display-name&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/dispatcher-servlet.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p></p>\n\n<p>I used to be able to access my application at calhost:8283/core/ </p>\n\n<p>By the time I update web.xml with the following code </p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/spring-security.xml,\n        /WEB-INF/spring-database.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Spring Security --&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/core&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>I am getting the following exception </p>\n\n<pre><code>    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#60cee7ca' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\n.\n.\n.\n\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#60cee7ca' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n\n.\n.\n.\n    ... 47 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#60cee7ca': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:275)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1139)\n\n    .\n    .\n    .\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:267)\n    ... 66 more\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.createMatcher(AntPathRequestMatcher.java:268)\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:252)\n    at org.springframework.security.web.util.matcher.AntPathRequestMatcher$SpringAntMatcher.&lt;init&gt;(AntPathRequestMatcher.java:2\n</code></pre>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920814,"creation_date":1664920814,"answer_id":73954015,"question_id":73953948,"body_markdown":"The simplest thing to do is to stub the call to `getObjectA()` separately, to return another mock or spy, where you stub `getPara1()` and/or `getPara2()`.  So it might look something like this.\r\n\r\n    Data dataMock = Mockito.mock(Data.class);\r\n    ClassA objectASpy = Mockito.spy(objectA);\r\n    when(dataMock.getObjectA()).thenReturn(objectASpy);\r\n    when(objectASpy.getPara1()).thenReturn(required);\r\n\r\nI also recommend using annotations for your mocking and spying.  So you might have field declarations like\r\n\r\n    @Mock\r\n    private Data dataMock;\r\n\r\n    @Spy\r\n    private ClassA objectASpy;\r\n\r\noutside of the test method itself.","title":"Mockito only mock part of value and return real value for others","body":"<p>The simplest thing to do is to stub the call to <code>getObjectA()</code> separately, to return another mock or spy, where you stub <code>getPara1()</code> and/or <code>getPara2()</code>.  So it might look something like this.</p>\n<pre><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectASpy = Mockito.spy(objectA);\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\nwhen(objectASpy.getPara1()).thenReturn(required);\n</code></pre>\n<p>I also recommend using annotations for your mocking and spying.  So you might have field declarations like</p>\n<pre><code>@Mock\nprivate Data dataMock;\n\n@Spy\nprivate ClassA objectASpy;\n</code></pre>\n<p>outside of the test method itself.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664923170,"creation_date":1664923170,"answer_id":73954265,"question_id":73953948,"body_markdown":"If you want to override ObjectA&#39;s behavior, then the instance that `data` returns needs to be a mock or spy. Fundamentally you have three choices:\r\n\r\n### Use a spy\r\n\r\nAs in [Dawood&#39;s answer](https://stackoverflow.com/a/73954015/1426891):\r\n\r\n```java\r\nData dataMock = Mockito.mock(Data.class);\r\nClassA objectASpy = Mockito.spy(objectA);\r\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\r\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\r\n```\r\n\r\nIf you want `getPara1()` to return the same result for any _internal_ calls within `objectASpy`, this is the way to go.\r\n\r\n### Use [delegatesTo](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object))\r\n\r\nThis opts into a delegation-based behavior for Mockito, rather than overriding as it usually does.\r\n\r\n```java\r\nData dataMock = Mockito.mock(Data.class);\r\nClassA objectAMock = Mockito.mock(ObjectA.class, delegatesTo(objectA));\r\nwhen(dataMock.getObjectA()).thenReturn(objectAMock);\r\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\r\n```\r\n\r\nIf you only want `getPara1()` to return `required` on the _outside_ calls, but have `objectASpy` return its original value for its internal calls, you could use this technique. \r\n\r\n### Use [deep stubbing](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html)\r\n\r\nMockito does have a feature that would allow for your current syntax:\r\n\r\n```java\r\nMockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\r\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\r\n```\r\n\r\nThis feature is called _returning deep stubs_, and is best for when an object like `dataSpy` here represents a tree of very straightforward objects. That said, heed its warning:\r\n\r\n&gt; **WARNING:** This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern).\r\n\r\n### Note 1\r\n\r\nThe line `when(objectASpy.getPara1()).thenReturn(required);` will actually call `objectASpy.getPara1()`. This might be fine as long as the object doesn&#39;t throw an exception and doesn&#39;t have side effects, but you can avoid that behavior with `doVerb` syntax so Mockito can see ahead of the call that you&#39;re starting to stub.\r\n\r\nNote that unlike `when().thenReturn()` syntax, the `when` below only contains the mock instead of the full mock method call.\r\n\r\n```java\r\ndoReturn(required).when(objectASpy).getPara1();\r\n```","title":"Mockito only mock part of value and return real value for others","body":"<p>If you want to override ObjectA's behavior, then the instance that <code>data</code> returns needs to be a mock or spy. Fundamentally you have three choices:</p>\n<h3>Use a spy</h3>\n<p>As in <a href=\"https://stackoverflow.com/a/73954015/1426891\">Dawood's answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectASpy = Mockito.spy(objectA);\nwhen(dataMock.getObjectA()).thenReturn(objectASpy);\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\n</code></pre>\n<p>If you want <code>getPara1()</code> to return the same result for any <em>internal</em> calls within <code>objectASpy</code>, this is the way to go.</p>\n<h3>Use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object)\" rel=\"nofollow noreferrer\">delegatesTo</a></h3>\n<p>This opts into a delegation-based behavior for Mockito, rather than overriding as it usually does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data dataMock = Mockito.mock(Data.class);\nClassA objectAMock = Mockito.mock(ObjectA.class, delegatesTo(objectA));\nwhen(dataMock.getObjectA()).thenReturn(objectAMock);\nwhen(objectASpy.getPara1()).thenReturn(required);    // note 1\n</code></pre>\n<p>If you only want <code>getPara1()</code> to return <code>required</code> on the <em>outside</em> calls, but have <code>objectASpy</code> return its original value for its internal calls, you could use this technique.</p>\n<h3>Use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html\" rel=\"nofollow noreferrer\">deep stubbing</a></h3>\n<p>Mockito does have a feature that would allow for your current syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\n</code></pre>\n<p>This feature is called <em>returning deep stubs</em>, and is best for when an object like <code>dataSpy</code> here represents a tree of very straightforward objects. That said, heed its warning:</p>\n<blockquote>\n<p><strong>WARNING:</strong> This feature should rarely be required for regular clean code! Leave it for legacy code. Mocking a mock to return a mock, to return a mock, (...), to return something meaningful hints at violation of Law of Demeter or mocking a value object (a well known anti-pattern).</p>\n</blockquote>\n<h3>Note 1</h3>\n<p>The line <code>when(objectASpy.getPara1()).thenReturn(required);</code> will actually call <code>objectASpy.getPara1()</code>. This might be fine as long as the object doesn't throw an exception and doesn't have side effects, but you can avoid that behavior with <code>doVerb</code> syntax so Mockito can see ahead of the call that you're starting to stub.</p>\n<p>Note that unlike <code>when().thenReturn()</code> syntax, the <code>when</code> below only contains the mock instead of the full mock method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>doReturn(required).when(objectASpy).getPara1();\n</code></pre>\n"}],"owner":{"account_id":3851490,"reputation":59,"user_id":3191566,"display_name":"CCCCos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73954265,"answer_count":2,"score":0,"last_activity_date":1664923170,"creation_date":1664920189,"question_id":73953948,"body_markdown":"I have a unit test with a real object (Data data) and a boolean value (boolean required) as input.\r\n\r\n    mockTest(Data data, boolean required)\r\n\r\nIn my code I have\r\n\r\n    data.getObjectA().getPara1();\r\n\r\nIn other places I also have\r\n\r\n    data.getObjectA().getPara2();\r\n\r\n\r\nAnd I&#39;m trying to mock the return value of data.getObjectA().getPara1() to the booelan in the input\r\n\r\nBut below won&#39;t work:\r\n\r\n    Mockito.when(data.getObjectA().getPara1()).thenReturn(required);\r\nOr\r\n\r\n    Data dataSpy = Mockito.spy(data);\r\n    Mockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\r\n    Mockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\r\n\r\nThey either throw NullPointerException or Type errors\r\n\r\nWhat is the correct way of mocking/spying it? I need to mock the return of para1 and keep para2 the real value.\r\n\r\n\r\n","title":"Mockito only mock part of value and return real value for others","body":"<p>I have a unit test with a real object (Data data) and a boolean value (boolean required) as input.</p>\n<pre><code>mockTest(Data data, boolean required)\n</code></pre>\n<p>In my code I have</p>\n<pre><code>data.getObjectA().getPara1();\n</code></pre>\n<p>In other places I also have</p>\n<pre><code>data.getObjectA().getPara2();\n</code></pre>\n<p>And I'm trying to mock the return value of data.getObjectA().getPara1() to the booelan in the input</p>\n<p>But below won't work:</p>\n<pre><code>Mockito.when(data.getObjectA().getPara1()).thenReturn(required);\n</code></pre>\n<p>Or</p>\n<pre><code>Data dataSpy = Mockito.spy(data);\nMockito.when(dataSpy.getObjectA().getPara1()).thenReturn(required);\nMockito.when(dataSpy.getObjectA().getPara2()).thenCallRealMethod();\n</code></pre>\n<p>They either throw NullPointerException or Type errors</p>\n<p>What is the correct way of mocking/spying it? I need to mock the return of para1 and keep para2 the real value.</p>\n"},{"tags":["java","android","opencv"],"answers":[{"comments":[{"owner":{"account_id":24405597,"reputation":151,"user_id":18333832,"display_name":"Gireesh"},"score":0,"creation_date":1664954986,"post_id":73954242,"comment_id":130584314,"body_markdown":"Is there any other way to do this without using CAP_PROP_POS_MSEC  ?","body":"Is there any other way to do this without using CAP_PROP_POS_MSEC  ?"}],"tags":[],"owner":{"account_id":26244587,"reputation":2202,"user_id":19918310,"display_name":"u1234x1234"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922932,"creation_date":1664922932,"answer_id":73954242,"question_id":73953502,"body_markdown":"You may need to have OpenCV build with a support of a certain backend that supports `CAP_PROP_POS_MSEC`\r\n\r\nFrom the [official documentation][1]:\r\n\r\n&gt; Reading / writing properties involves many layers. **Some unexpected\r\n&gt; result might happens along this chain.** Effective behaviour depends\r\n&gt; from device hardware, driver and API Backend.\r\n\r\nYou can check your backend with `cap.getBackendName()` method - [Documentation][2]\r\n\r\nHere the general information about backends:\r\n\r\nhttps://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html\r\n\r\nAlso beware that `CAP_PROP_POS_MSEC` may work incorrectly for example in the case of videos with variable frame rate even with the working backends such as ffmpeg.\r\n\r\n  [1]: https://docs.opencv.org/3.4/d4/d15/group__videoio__flags__base.html#gaeb8dd9c89c10a5c63c139bf7c4f5704d\r\n  [2]: https://docs.opencv.org/4.6.0/d8/dfe/classcv_1_1VideoCapture.html#a4576e03f447abfdbd602c0809824ec03","title":"How to extract a particular frame from a video in openCV java","body":"<p>You may need to have OpenCV build with a support of a certain backend that supports <code>CAP_PROP_POS_MSEC</code></p>\n<p>From the <a href=\"https://docs.opencv.org/3.4/d4/d15/group__videoio__flags__base.html#gaeb8dd9c89c10a5c63c139bf7c4f5704d\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<blockquote>\n<p>Reading / writing properties involves many layers. <strong>Some unexpected\nresult might happens along this chain.</strong> Effective behaviour depends\nfrom device hardware, driver and API Backend.</p>\n</blockquote>\n<p>You can check your backend with <code>cap.getBackendName()</code> method - <a href=\"https://docs.opencv.org/4.6.0/d8/dfe/classcv_1_1VideoCapture.html#a4576e03f447abfdbd602c0809824ec03\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<p>Here the general information about backends:</p>\n<p><a href=\"https://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/4.6.0/d0/da7/videoio_overview.html</a></p>\n<p>Also beware that <code>CAP_PROP_POS_MSEC</code> may work incorrectly for example in the case of videos with variable frame rate even with the working backends such as ffmpeg.</p>\n"}],"owner":{"account_id":24405597,"reputation":151,"user_id":18333832,"display_name":"Gireesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664922932,"creation_date":1664916494,"question_id":73953502,"body_markdown":"I want to extract a particular frame from a video using openCV java. For this, I am using the below code,\r\n\r\n    int tmsec;\r\n    \r\n    VideoCapture cap = new VideoCapture();\r\n    \r\n                        String input = &quot;/storage/emulated/0/DCIM/Camera/VID_20221005_013149.mp4&quot;;\r\n    \r\n    \r\n                        cap.open(input);\r\n    \r\n                        Mat frame = new Mat();\r\n                        cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec);\r\n                        cap.read(frame);\r\n                        if (Imgcodecs.imwrite(&quot;/storage/emulated/0/Images/testImg.jpg&quot;, frame)) {\r\n                            System.out.println(&quot;Success&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Failed&quot;);\r\n                        }\r\n\r\n\r\nthe time in milliseconds for the frame is assigned to the variable &#39;tmsec&#39; correctly(No error in that. That code is not shown here).\r\n\r\nAfter running this code for several time with different values of &#39;tmsec&#39;, everytime I am getting the first frame instead of the specified frame.\r\n\r\nWhat is the error in my code? Is there any error with &#39;cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec)&#39; ? isn&#39;t that supported ?\r\nCan anyone tell me what is wrong with my code or any alternative approach ?","title":"How to extract a particular frame from a video in openCV java","body":"<p>I want to extract a particular frame from a video using openCV java. For this, I am using the below code,</p>\n<pre><code>int tmsec;\n\nVideoCapture cap = new VideoCapture();\n\n                    String input = &quot;/storage/emulated/0/DCIM/Camera/VID_20221005_013149.mp4&quot;;\n\n\n                    cap.open(input);\n\n                    Mat frame = new Mat();\n                    cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec);\n                    cap.read(frame);\n                    if (Imgcodecs.imwrite(&quot;/storage/emulated/0/Images/testImg.jpg&quot;, frame)) {\n                        System.out.println(&quot;Success&quot;);\n                    } else {\n                        System.out.println(&quot;Failed&quot;);\n                    }\n</code></pre>\n<p>the time in milliseconds for the frame is assigned to the variable 'tmsec' correctly(No error in that. That code is not shown here).</p>\n<p>After running this code for several time with different values of 'tmsec', everytime I am getting the first frame instead of the specified frame.</p>\n<p>What is the error in my code? Is there any error with 'cap.set(Videoio.CAP_PROP_POS_MSEC, tmsec)' ? isn't that supported ?\nCan anyone tell me what is wrong with my code or any alternative approach ?</p>\n"},{"tags":["java","apache-kafka","apache-flink","avro"],"comments":[{"owner":{"account_id":9450053,"reputation":420,"user_id":7027284,"display_name":"guru"},"score":0,"creation_date":1643653585,"post_id":65399873,"comment_id":125392538,"body_markdown":"Did you figure out the solution to this issue?","body":"Did you figure out the solution to this issue?"}],"answers":[{"tags":[],"owner":{"account_id":2691557,"reputation":1054,"user_id":2324782,"accept_rate":95,"display_name":"Jicaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650303917,"creation_date":1650303917,"answer_id":71915212,"question_id":65399873,"body_markdown":"So I wasn&#39;t able to find the answer to that because things switched to using a schema registry, but wanted to post how it was done with a schema registry at least.\r\n\r\nSo instead of doing:\r\n\r\n    FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                fsiProcessorProps.getKafkaEventsInput(),\r\n                AvroDeserializationSchema.forSpecific(Sde.class),\r\n                properties);\r\n\r\nIt was changed to:\r\n\r\n    private static &lt;T extends SpecificRecordBase&gt; FlinkKafkaConsumerBase&lt;T&gt; getFlinkKafkaConsumer(\r\n      Properties properties, String topic, Class&lt;? extends SpecificRecordBase&gt; type, String schemaRegistryUrl, Map&lt;String, String&gt; sslConfiguration) {\r\n      ConfluentRegistryAvroDeserializationSchema&lt;?&gt; schema =\r\n        ConfluentRegistryAvroDeserializationSchema.forSpecific(\r\n            type, schemaRegistryUrl, sslConfiguration);\r\n    return new FlinkKafkaConsumer&lt;T&gt;(topic, (DeserializationSchema&lt;T&gt;) schema, properties);\r\n    }\r\n\r\nI won&#39;t mark this as an answer, but wanted to give it as at least another way involving schema registry which is a good thing to use with Avro anyway.","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>So I wasn't able to find the answer to that because things switched to using a schema registry, but wanted to post how it was done with a schema registry at least.</p>\n<p>So instead of doing:</p>\n<pre><code>FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\n            fsiProcessorProps.getKafkaEventsInput(),\n            AvroDeserializationSchema.forSpecific(Sde.class),\n            properties);\n</code></pre>\n<p>It was changed to:</p>\n<pre><code>private static &lt;T extends SpecificRecordBase&gt; FlinkKafkaConsumerBase&lt;T&gt; getFlinkKafkaConsumer(\n  Properties properties, String topic, Class&lt;? extends SpecificRecordBase&gt; type, String schemaRegistryUrl, Map&lt;String, String&gt; sslConfiguration) {\n  ConfluentRegistryAvroDeserializationSchema&lt;?&gt; schema =\n    ConfluentRegistryAvroDeserializationSchema.forSpecific(\n        type, schemaRegistryUrl, sslConfiguration);\nreturn new FlinkKafkaConsumer&lt;T&gt;(topic, (DeserializationSchema&lt;T&gt;) schema, properties);\n}\n</code></pre>\n<p>I won't mark this as an answer, but wanted to give it as at least another way involving schema registry which is a good thing to use with Avro anyway.</p>\n"},{"tags":[],"owner":{"account_id":18244520,"reputation":1,"user_id":13280928,"display_name":"gzkevinl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922915,"creation_date":1664922857,"answer_id":73954235,"question_id":65399873,"body_markdown":"Make it sure Avro generated POJO has both get/set method implemented by adding this:                             \r\n\r\n    &lt;createSetters&gt;true&lt;/createSetters&gt;\r\n\r\n","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>Make it sure Avro generated POJO has both get/set method implemented by adding this:</p>\n<pre><code>&lt;createSetters&gt;true&lt;/createSetters&gt;\n</code></pre>\n"}],"owner":{"account_id":2691557,"reputation":1054,"user_id":2324782,"accept_rate":95,"display_name":"Jicaar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664922915,"creation_date":1608584326,"question_id":65399873,"body_markdown":"I am using Flink v1.11.2 and Avro v1.10.1.\r\n\r\nI am trying to deserialize an Avro record as a Specific record from a Kafka topic, but for some reason keep getting this error: \r\n\r\nI was able to output it as a generic record using this: \r\n\r\n    FlinkKafkaConsumer&lt;GenericRecord&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                fsiProcessorProps.getKafkaEventsInput(),\r\n                AvroDeserializationSchema.forGeneric(Sde.getClassSchema()),\r\n                properties);\r\n\r\nAnd am now trying:\r\n\r\n    FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\r\n                    fsiProcessorProps.getKafkaEventsInput(),\r\n                    AvroDeserializationSchema.forSpecific(Sde.class),\r\n                    properties);\r\n\r\nbut get the following error when trying to start the job:\r\n\r\n\r\n    &quot;org.apache.flink.runtime.rest.handler.RestHandlerException: Could not execute application.\r\n    \tat org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$1(JarRunHandler.java:103)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.util.concurrent.CompletionException: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\r\n    \t... 7 more\r\n    Caused by: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:81)\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.run(DetachedApplicationRunner.java:67)\r\n    \tat org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$0(JarRunHandler.java:100)\r\n    \t... 7 more\r\n    Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Expecting type to be a PojoTypeInfo\r\n    \tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)\r\n    \tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)\r\n    \tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149)\r\n    \tat org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:78)\r\n    \t... 9 more\r\n    Caused by: java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\r\n    \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:74)\r\n    \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:56)\r\n    \tat org.apache.flink.formats.avro.AvroDeserializationSchema.getProducedType(AvroDeserializationSchema.java:168)\r\n    \tat org.apache.flink.streaming.connectors.kafka.internals.KafkaDeserializationSchemaWrapper.getProducedType(KafkaDeserializationSchemaWrapper.java:66)\r\n    \tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.getProducedType(FlinkKafkaConsumerBase.java:1066)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getTypeInfo(StreamExecutionEnvironment.java:2172)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1608)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1569)\r\n    \tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1551)\r\n    \tat FsiProcessor.main(FsiProcessor.java:46)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)\r\n    \t... 12 more\r\n    &quot;\r\n\r\nThe Sde class is a typical generated avro class so I am not sure what I am missing. Also the data does not have the schema embedded (tried with schema embedded as well and got same issue).\r\n","title":"Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo","body":"<p>I am using Flink v1.11.2 and Avro v1.10.1.</p>\n<p>I am trying to deserialize an Avro record as a Specific record from a Kafka topic, but for some reason keep getting this error:</p>\n<p>I was able to output it as a generic record using this:</p>\n<pre><code>FlinkKafkaConsumer&lt;GenericRecord&gt; eventsConsumer = new FlinkKafkaConsumer(\n            fsiProcessorProps.getKafkaEventsInput(),\n            AvroDeserializationSchema.forGeneric(Sde.getClassSchema()),\n            properties);\n</code></pre>\n<p>And am now trying:</p>\n<pre><code>FlinkKafkaConsumer&lt;Sde&gt; eventsConsumer = new FlinkKafkaConsumer(\n                fsiProcessorProps.getKafkaEventsInput(),\n                AvroDeserializationSchema.forSpecific(Sde.class),\n                properties);\n</code></pre>\n<p>but get the following error when trying to start the job:</p>\n<pre><code>&quot;org.apache.flink.runtime.rest.handler.RestHandlerException: Could not execute application.\n    at org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$1(JarRunHandler.java:103)\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(Unknown Source)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.util.concurrent.CompletionException: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(Unknown Source)\n    ... 7 more\nCaused by: org.apache.flink.util.FlinkRuntimeException: Could not execute application.\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:81)\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.run(DetachedApplicationRunner.java:67)\n    at org.apache.flink.runtime.webmonitor.handlers.JarRunHandler.lambda$handleRequest$0(JarRunHandler.java:100)\n    ... 7 more\nCaused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:302)\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:198)\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:149)\n    at org.apache.flink.client.deployment.application.DetachedApplicationRunner.tryExecuteJobs(DetachedApplicationRunner.java:78)\n    ... 9 more\nCaused by: java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:74)\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:56)\n    at org.apache.flink.formats.avro.AvroDeserializationSchema.getProducedType(AvroDeserializationSchema.java:168)\n    at org.apache.flink.streaming.connectors.kafka.internals.KafkaDeserializationSchemaWrapper.getProducedType(KafkaDeserializationSchemaWrapper.java:66)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.getProducedType(FlinkKafkaConsumerBase.java:1066)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getTypeInfo(StreamExecutionEnvironment.java:2172)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1608)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1569)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.addSource(StreamExecutionEnvironment.java:1551)\n    at FsiProcessor.main(FsiProcessor.java:46)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:288)\n    ... 12 more\n&quot;\n</code></pre>\n<p>The Sde class is a typical generated avro class so I am not sure what I am missing. Also the data does not have the schema embedded (tried with schema embedded as well and got same issue).</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664921735,"post_id":73954063,"comment_id":130579579,"body_markdown":"You need to post `find` method too.","body":"You need to post <code>find</code> method too."},{"owner":{"account_id":26497407,"reputation":31,"user_id":20134897,"display_name":"anon"},"score":0,"creation_date":1664922840,"post_id":73954063,"comment_id":130579748,"body_markdown":"I&#39;ve just updated with my find() method","body":"I&#39;ve just updated with my find() method"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664934291,"post_id":73954063,"comment_id":130581261,"body_markdown":"Your find-implementation is wrong (look at the second for loop, closely).","body":"Your find-implementation is wrong (look at the second for loop, closely)."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1665002095,"post_id":73954063,"comment_id":130600114,"body_markdown":"Try looking at [How to find time complexity of an algorithm?](https://adrianmejia.com/how-to-find-time-complexity-of-an-algorithm-code-big-o-notation/)","body":"Try looking at <a href=\"https://adrianmejia.com/how-to-find-time-complexity-of-an-algorithm-code-big-o-notation/\" rel=\"nofollow noreferrer\">How to find time complexity of an algorithm?</a>"}],"owner":{"account_id":26497407,"reputation":31,"user_id":20134897,"display_name":"anon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664922819,"creation_date":1664921224,"question_id":73954063,"body_markdown":"How would I do a time complexity analysis for my get() method?\r\n\r\n```\r\n\r\n    private DNode find(int index)\r\n\t{\r\n\t\tDNode curr = head;  // alias\r\n\t\t\r\n\t\t// Conditional Statements - if the index is in the first half of the list, loop forward to find\r\n\t\tif(index &gt;= 0 &amp;&amp; index &lt;= size()/2)\r\n\t\t{\r\n\t\t\t// For loop - indexes the reference result to the next node\r\n\t\t\tfor(int skip = 0; skip &lt; index; skip++)\r\n\t\t\t{\r\n\t\t\t\tcurr = curr.getNext();\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Otherwise, loop backwards in the list\r\n\t\telse\r\n\t\t{\r\n\t\t\t// For loop - indexes the reference result to the back node\r\n\t\t\tfor(int skip = 0; skip &lt; index; skip--)\r\n\t\t\t{\r\n\t\t\t\tcurr = curr.getBack();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn curr;  // The item at the specified index for the node\r\n\t}\r\n\r\n\r\n    public Object get(int index) throws ListIndexOutOfBoundsException\r\n\t{\r\n\t\t// Conditional Statements - checks if index is valid\r\n\t\tif(isValid(index))\r\n\t\t{\r\n\t\t\tDNode result = find(index);\r\n\t\t\treturn result.getItem();\r\n\t\t}\r\n\t\t\r\n\t\tthrow new ListIndexOutOfBoundsException(&quot;Out of bounds&quot;);\r\n\t}\r\n\r\n```\r\n\r\nHow do I test for the best, worst, and average cases for time complexity?  I&#39;m a little confused on how I analyze for this.\r\n\r\nEDIT: I&#39;ve added my find() method","title":"How do I do a time complexity analysis for my get method?","body":"<p>How would I do a time complexity analysis for my get() method?</p>\n<pre><code>\n    private DNode find(int index)\n    {\n        DNode curr = head;  // alias\n        \n        // Conditional Statements - if the index is in the first half of the list, loop forward to find\n        if(index &gt;= 0 &amp;&amp; index &lt;= size()/2)\n        {\n            // For loop - indexes the reference result to the next node\n            for(int skip = 0; skip &lt; index; skip++)\n            {\n                curr = curr.getNext();\n            }\n        }\n        // Otherwise, loop backwards in the list\n        else\n        {\n            // For loop - indexes the reference result to the back node\n            for(int skip = 0; skip &lt; index; skip--)\n            {\n                curr = curr.getBack();\n            }\n        }\n        \n        return curr;  // The item at the specified index for the node\n    }\n\n\n    public Object get(int index) throws ListIndexOutOfBoundsException\n    {\n        // Conditional Statements - checks if index is valid\n        if(isValid(index))\n        {\n            DNode result = find(index);\n            return result.getItem();\n        }\n        \n        throw new ListIndexOutOfBoundsException(&quot;Out of bounds&quot;);\n    }\n\n</code></pre>\n<p>How do I test for the best, worst, and average cases for time complexity?  I'm a little confused on how I analyze for this.</p>\n<p>EDIT: I've added my find() method</p>\n"},{"tags":["java","multithreading","resttemplate"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1664651302,"post_id":73920478,"comment_id":130522424,"body_markdown":"well, if nothing was changed at your side, probably something got changed on the other end: the `smppMoSMS.getApplicationUrl()`","body":"well, if nothing was changed at your side, probably something got changed on the other end: the <code>smppMoSMS.getApplicationUrl()</code>"},{"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"score":0,"creation_date":1664682081,"post_id":73920478,"comment_id":130526204,"body_markdown":"@ShaharT When we have the issue, it&#39;s observable only the &quot;** SMS received from SMSC [{}]&quot;, &quot;Point 1: Active thread count : [{}]&quot; and &quot;Point 2: Active thread count : [{}]&quot;. If the problem is on the other end we could see at least &quot;Thread start &quot; which is inside the thread before the resttemplate call. Isn&#39;t it?","body":"@ShaharT When we have the issue, it&#39;s observable only the &quot;** SMS received from SMSC [{}]&quot;, &quot;Point 1: Active thread count : [{}]&quot; and &quot;Point 2: Active thread count : [{}]&quot;. If the problem is on the other end we could see at least &quot;Thread start &quot; which is inside the thread before the resttemplate call. Isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664922241,"creation_date":1664903717,"answer_id":73951424,"question_id":73920478,"body_markdown":"&gt; What can be the reasons for the above assumptions or the observations?\r\n\r\nOne of the issues that you need to realize is that you will not get more than the core number of threads allocated in your thread-pool until the queue fills up.  I kid you not.  In your case, it&#39;s only when the 5 threads are busy and 10000 jobs are queued that the 6th thread will be started.\r\n\r\nI would set the `corePoolSize` and the `maxPoolSize` both to be 100 and then set the `keepAliveSeconds` to 30 or something if you want the core threads to drop down during periods of inactivity.  See this question for more details: https://stackoverflow.com/q/19528304/179850\r\n\r\nCouple other comments:\r\n\r\n&gt;     int i = Thread.activeCount();\r\n&gt;     logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\r\n&gt;     askExecutor.execute(new Runnable() { ... });\r\n&gt;     logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\r\n\r\nThe active-count won&#39;t change at point 2 since you aren&#39;t making another call to `Thread.activeCount()`.  Also, you are scheduling a job to be run by the thread-pool but that doesn&#39;t necessarily mean that a thread will be created.\r\n\r\nIf you are using a `ThreadPoolExecutor` directly (as opposed to the Spring wrapper) then you could call `pool.getActiveCount()` and other methods to get a more accurate picture of the threads running in your thread pool.  The 114 threads running in your application may be associated with the tomcat handlers and other JVM threads instead of your pool specifically.  You can also use jconsole, jstack, or a `SIGQUIT` to dump the thread stacks and see how many threads are associated with your pool.  The thread names should be something like xxx-pool-1 or something unless you are using a thread-factory.\r\n\r\nLastly a general comment.  Maybe this is obvious but you really should be trying to optimize your throughput as opposed to worrying about the number of threads.  100 may be too many threads if you are pounding the server too hard or if the job is computational or 100 may be too few if your HTTP connections take a while to be satisfied because of latency.\r\n","title":"New threads are not created by the Java ThreadPoolTaskExecutor","body":"<blockquote>\n<p>What can be the reasons for the above assumptions or the observations?</p>\n</blockquote>\n<p>One of the issues that you need to realize is that you will not get more than the core number of threads allocated in your thread-pool until the queue fills up.  I kid you not.  In your case, it's only when the 5 threads are busy and 10000 jobs are queued that the 6th thread will be started.</p>\n<p>I would set the <code>corePoolSize</code> and the <code>maxPoolSize</code> both to be 100 and then set the <code>keepAliveSeconds</code> to 30 or something if you want the core threads to drop down during periods of inactivity.  See this question for more details: <a href=\"https://stackoverflow.com/q/19528304/179850\">How to get the ThreadPoolExecutor to increase threads to max before queueing?</a></p>\n<p>Couple other comments:</p>\n<blockquote>\n<pre><code>int i = Thread.activeCount();\nlogger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\naskExecutor.execute(new Runnable() { ... });\nlogger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\n</code></pre>\n</blockquote>\n<p>The active-count won't change at point 2 since you aren't making another call to <code>Thread.activeCount()</code>.  Also, you are scheduling a job to be run by the thread-pool but that doesn't necessarily mean that a thread will be created.</p>\n<p>If you are using a <code>ThreadPoolExecutor</code> directly (as opposed to the Spring wrapper) then you could call <code>pool.getActiveCount()</code> and other methods to get a more accurate picture of the threads running in your thread pool.  The 114 threads running in your application may be associated with the tomcat handlers and other JVM threads instead of your pool specifically.  You can also use jconsole, jstack, or a <code>SIGQUIT</code> to dump the thread stacks and see how many threads are associated with your pool.  The thread names should be something like xxx-pool-1 or something unless you are using a thread-factory.</p>\n<p>Lastly a general comment.  Maybe this is obvious but you really should be trying to optimize your throughput as opposed to worrying about the number of threads.  100 may be too many threads if you are pounding the server too hard or if the job is computational or 100 may be too few if your HTTP connections take a while to be satisfied because of latency.</p>\n"}],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664922241,"creation_date":1664646021,"question_id":73920478,"body_markdown":"This particular Java application uses the following dependency and service versions.\r\n- Java 7\r\n- Tomcat 7\r\n- Spring 4.3.6\r\n\r\nIt has the following method.\r\n\r\n    public void submitSms(final SmppMoSMS smppMoSMS) {\r\n        logger.info(&quot;** SMS received from SMSC [{}]&quot;, smppMoSMS.toString());\r\n        int i = Thread.activeCount();\r\n        logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\r\n        taskExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    logger.info(&quot;Thread start &quot;);\r\n                    logger.debug(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    logger.info(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    if (smppMoSMS.getApplicationUrl() == null) {\r\n                        return;\r\n                    }\r\n                    HttpEntity&lt;SmppMoSMS&gt; entity = new HttpEntity&lt;&gt;(smppMoSMS, headers);\r\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(smppMoSMS.getApplicationUrl(), HttpMethod.POST, entity, String.class);\r\n                    if (HttpStatus.OK == response.getStatusCode()) {\r\n                        logger.info(&quot;SMS sending success [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), 200);\r\n                    } else {\r\n                        logger.info(&quot;SMS sending fail [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), response.getStatusCode());\r\n                    }\r\n                } catch (Throwable e) {\r\n                    logger.error(&quot;SMS sending fail [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\r\n                    logger.error(&quot;SMS ROUTING FAIL&quot;, e);\r\n                }\r\n                logger.info(&quot;Thread stop &quot;);\r\n            }\r\n        });\r\n        logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\r\n        MDC.clear();\r\n    }\r\n\r\nRelated to the TaskExecutor following bean configuration is available:\r\n\r\n    &lt;bean id=&quot;threadPool&quot; class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;\r\n          destroy-method=&quot;destroy&quot;&gt;\r\n        &lt;property name=&quot;corePoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;200&quot;/&gt;\r\n        &lt;property name=&quot;queueCapacity&quot; value=&quot;10000&quot;/&gt;\r\n        &lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;waitForTasksToCompleteOnShutdown&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nRelated to the RestTemplate the following bean configurations are available.\r\n\r\n    &lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\r\n        &lt;constructor-arg&gt;\r\n            &lt;bean class=&quot;org.springframework.http.client.HttpComponentsClientHttpRequestFactory&quot;&gt;\r\n                &lt;property name=&quot;readTimeout&quot; value=&quot;30000&quot;/&gt;\r\n                &lt;property name=&quot;connectTimeout&quot; value=&quot;30000&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\nThe high-level issue observation is described below.\r\n\r\n1. Let&#39;s say the application is started\r\n2. Application is functioning as expected including the following operations\r\n   - HTTP calls are **generated** by the restTemplate according to the Tcpdumps and the REST API server logs  \r\n   - All logs are printed on log files\r\n\r\n3. After 2-3 hours suddenly we can observe the following behaviours of the application.\r\n   - HTTP calls are **not generated** by the restTemplate according to the TcpDumps and the REST API server logs\r\n   - Only the following logs are available\r\n\r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622, sequence=2244] ** SMS received from SMSC [SmppMoSMS{message=&#39;Test by\r\n&gt; developer &#39;, senderAddress=&#39;94XXXXXXX&#39;, recipientAddress=&#39;94XXXXX&#39;,\r\n&gt; encoding=&#39;0&#39;, operator=&#39;XXXXXXXX&#39;, ncsType=&#39;null&#39;,\r\n&gt; correlationId=&#39;1664588830622&#39;}]\r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Active thread count : [114]\r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Thread stop \r\n&gt; \r\n&gt; 2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\r\n&gt; sequence=2244] Active thread count : [114]\r\n\r\nThis &quot;Active thread count&quot; doesn&#39;t increase after this.\r\n\r\nAll the things are getting fine by just an application restart or the whole tomcat server restart.\r\n**NOTE:** This application was in production for several years and we get this issue from the last 2 months only without any code or configuration changes.\r\n\r\nI assume new threads are not created even though the configuration allows up to 200 threads.\r\n1. What can be the reasons for the above assumptions or the observations?\r\n2. Any other assumptions? \r\n3. How can I further investigate the issue?\r\n4. Any suggestions to fix the issue?\r\n","title":"New threads are not created by the Java ThreadPoolTaskExecutor","body":"<p>This particular Java application uses the following dependency and service versions.</p>\n<ul>\n<li>Java 7</li>\n<li>Tomcat 7</li>\n<li>Spring 4.3.6</li>\n</ul>\n<p>It has the following method.</p>\n<pre><code>public void submitSms(final SmppMoSMS smppMoSMS) {\n    logger.info(&quot;** SMS received from SMSC [{}]&quot;, smppMoSMS.toString());\n    int i = Thread.activeCount();\n    logger.info(&quot;Point 1: Active thread count : [{}]&quot;, i);\n    taskExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                logger.info(&quot;Thread start &quot;);\n                logger.debug(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                logger.info(&quot;SMS routing to URL [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                if (smppMoSMS.getApplicationUrl() == null) {\n                    return;\n                }\n                HttpEntity&lt;SmppMoSMS&gt; entity = new HttpEntity&lt;&gt;(smppMoSMS, headers);\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(smppMoSMS.getApplicationUrl(), HttpMethod.POST, entity, String.class);\n                if (HttpStatus.OK == response.getStatusCode()) {\n                    logger.info(&quot;SMS sending success [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), 200);\n                } else {\n                    logger.info(&quot;SMS sending fail [{}] [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl(), response.getStatusCode());\n                }\n            } catch (Throwable e) {\n                logger.error(&quot;SMS sending fail [{}] [{}]&quot;, smppMoSMS.getOperator(), smppMoSMS.getApplicationUrl());\n                logger.error(&quot;SMS ROUTING FAIL&quot;, e);\n            }\n            logger.info(&quot;Thread stop &quot;);\n        }\n    });\n    logger.info(&quot;Point 2: Active thread count : [{}]&quot;, i);\n    MDC.clear();\n}\n</code></pre>\n<p>Related to the TaskExecutor following bean configuration is available:</p>\n<pre><code>&lt;bean id=&quot;threadPool&quot; class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;\n      destroy-method=&quot;destroy&quot;&gt;\n    &lt;property name=&quot;corePoolSize&quot; value=&quot;5&quot;/&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;200&quot;/&gt;\n    &lt;property name=&quot;queueCapacity&quot; value=&quot;10000&quot;/&gt;\n    &lt;property name=&quot;allowCoreThreadTimeOut&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;waitForTasksToCompleteOnShutdown&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Related to the RestTemplate the following bean configurations are available.</p>\n<pre><code>&lt;bean id=&quot;restTemplate&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean class=&quot;org.springframework.http.client.HttpComponentsClientHttpRequestFactory&quot;&gt;\n            &lt;property name=&quot;readTimeout&quot; value=&quot;30000&quot;/&gt;\n            &lt;property name=&quot;connectTimeout&quot; value=&quot;30000&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The high-level issue observation is described below.</p>\n<ol>\n<li><p>Let's say the application is started</p>\n</li>\n<li><p>Application is functioning as expected including the following operations</p>\n<ul>\n<li>HTTP calls are <strong>generated</strong> by the restTemplate according to the Tcpdumps and the REST API server logs</li>\n<li>All logs are printed on log files</li>\n</ul>\n</li>\n<li><p>After 2-3 hours suddenly we can observe the following behaviours of the application.</p>\n<ul>\n<li>HTTP calls are <strong>not generated</strong> by the restTemplate according to the TcpDumps and the REST API server logs</li>\n<li>Only the following logs are available</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622, sequence=2244] ** SMS received from SMSC [SmppMoSMS{message='Test by\ndeveloper ', senderAddress='94XXXXXXX', recipientAddress='94XXXXX',\nencoding='0', operator='XXXXXXXX', ncsType='null',\ncorrelationId='1664588830622'}]</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Active thread count : [114]</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Thread stop</p>\n<p>2022:10:01 07:17:10.623 INFO  [correlationId=1664588830622,\nsequence=2244] Active thread count : [114]</p>\n</blockquote>\n<p>This &quot;Active thread count&quot; doesn't increase after this.</p>\n<p>All the things are getting fine by just an application restart or the whole tomcat server restart.\n<strong>NOTE:</strong> This application was in production for several years and we get this issue from the last 2 months only without any code or configuration changes.</p>\n<p>I assume new threads are not created even though the configuration allows up to 200 threads.</p>\n<ol>\n<li>What can be the reasons for the above assumptions or the observations?</li>\n<li>Any other assumptions?</li>\n<li>How can I further investigate the issue?</li>\n<li>Any suggestions to fix the issue?</li>\n</ol>\n"},{"tags":["java","android","database","spring-boot","server"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664923448,"post_id":73954171,"comment_id":130579840,"body_markdown":"Spring boot is not a website and apache is not an application server, are you sure those are the right way around? This isn&#39;t really something this site can answer, I guess you need to talk to whoever gave you this assignment to clear up your questions, since architecture is just a very broad overview of an idea, nothing that has a concrete solution","body":"Spring boot is not a website and apache is not an application server, are you sure those are the right way around? This isn&#39;t really something this site can answer, I guess you need to talk to whoever gave you this assignment to clear up your questions, since architecture is just a very broad overview of an idea, nothing that has a concrete solution"},{"owner":{"account_id":26529921,"reputation":1,"user_id":20162291,"display_name":"Chewie"},"score":0,"creation_date":1664925029,"post_id":73954171,"comment_id":130580050,"body_markdown":"If I&#39;m not mistaken, can&#39;t you build a website with Spring boot? The technologies listed were recommended by my colleague. I&#39;ve asked before, but his reply was very abstract and I couldn&#39;t picture it in my head. I&#39;ll ask again though!","body":"If I&#39;m not mistaken, can&#39;t you build a website with Spring boot? The technologies listed were recommended by my colleague. I&#39;ve asked before, but his reply was very abstract and I couldn&#39;t picture it in my head. I&#39;ll ask again though!"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664925443,"post_id":73954171,"comment_id":130580115,"body_markdown":"Spring boot itself is the technology to build a server backend, it can serve website content but you&#39;ll need to decide how it does that. E.g. Thymeleaf template based or serving a static angular/react/flutter/.. website that uses rest apis of your spring boot server. And Apache itself can be many things but without knowing what it should do I&#39;d assume it&#39;s just a static webpage which is something you can&#39;t send data to. If you use apache with php you can have another backend (but why then spring?).  Or apache could be meant to be a proxy for the spring server but your picture is unclear to me","body":"Spring boot itself is the technology to build a server backend, it can serve website content but you&#39;ll need to decide how it does that. E.g. Thymeleaf template based or serving a static angular/react/flutter/.. website that uses rest apis of your spring boot server. And Apache itself can be many things but without knowing what it should do I&#39;d assume it&#39;s just a static webpage which is something you can&#39;t send data to. If you use apache with php you can have another backend (but why then spring?).  Or apache could be meant to be a proxy for the spring server but your picture is unclear to me"}],"owner":{"account_id":26529921,"reputation":1,"user_id":20162291,"display_name":"Chewie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664922197,"creation_date":1664922197,"question_id":73954171,"body_markdown":"I have an assignment, but I can&#39;t seem to get my head around it. I&#39;ve been tasked to create a mobile app on Android Studio using the microphone sensor to record audio (Parameters: Duration &amp; frequency). The data/sample is then stored locally, perhaps using SQLite to store the id, date, time, location and sample. Let&#39;s say after 10 samples (this is where it starts to get confusing for me), the samples are bundled up and sent to the communication server which I believe OkHttp client is used in this case. The data gets sent to a local server (Apache?) and a website (Springboot) is used to retrieve the information and show the samples on Google Maps. \r\n\r\nhttps://i.stack.imgur.com/ACAfW.jpg\r\n\r\nLink to application architecture is above. I have no doubt it is wrong, but would love some insight on it please. Also, I very new to all of this so I&#39;m sure there are a lot of gaps in my message above. If you have any questions please feel free to ask!\r\n\r\nTechnologies I&#39;ve been recommended to use: \r\n\r\nLocal Server: Apache \r\n\r\nWebsite: SpringBoot \r\n\r\nCommunication tool: OkHttp\r\n\r\nAndroid application: Android Studio","title":"Mobile Sound Tracker Application Architecture","body":"<p>I have an assignment, but I can't seem to get my head around it. I've been tasked to create a mobile app on Android Studio using the microphone sensor to record audio (Parameters: Duration &amp; frequency). The data/sample is then stored locally, perhaps using SQLite to store the id, date, time, location and sample. Let's say after 10 samples (this is where it starts to get confusing for me), the samples are bundled up and sent to the communication server which I believe OkHttp client is used in this case. The data gets sent to a local server (Apache?) and a website (Springboot) is used to retrieve the information and show the samples on Google Maps.</p>\n<p><a href=\"https://i.stack.imgur.com/ACAfW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ACAfW.jpg</a></p>\n<p>Link to application architecture is above. I have no doubt it is wrong, but would love some insight on it please. Also, I very new to all of this so I'm sure there are a lot of gaps in my message above. If you have any questions please feel free to ask!</p>\n<p>Technologies I've been recommended to use:</p>\n<p>Local Server: Apache</p>\n<p>Website: SpringBoot</p>\n<p>Communication tool: OkHttp</p>\n<p>Android application: Android Studio</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664914134,"post_id":73953141,"comment_id":130577719,"body_markdown":"You probably want to change the order of the constructor arguments in the second binary search. `Collections.binarySearch(names, new Item(null, num));` The variable naming here could be improved.","body":"You probably want to change the order of the constructor arguments in the second binary search. <code>Collections.binarySearch(names, new Item(null, num));</code> The variable naming here could be improved."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664914246,"post_id":73953141,"comment_id":130577760,"body_markdown":"In that case `compareTo` should compare keys and values.","body":"In that case <code>compareTo</code> should compare keys and values."},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914420,"post_id":73953141,"comment_id":130577802,"body_markdown":"@Unmitigated doing that gives a NullPointerException","body":"@Unmitigated doing that gives a NullPointerException"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664914503,"post_id":73953141,"comment_id":130577838,"body_markdown":"Could you provide the definition of the `Item` class then?","body":"Could you provide the definition of the <code>Item</code> class then?"},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914523,"post_id":73953141,"comment_id":130577843,"body_markdown":"@JohnnyMopp how would you do that","body":"@JohnnyMopp how would you do that"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1664914578,"post_id":73953141,"comment_id":130577863,"body_markdown":"First you need to check that `otherObject` is not null. Then you can, for instance check if the keys are equal. If they are, compare the values (also checking that the keys and values are not null).","body":"First you need to check that <code>otherObject</code> is not null. Then you can, for instance check if the keys are equal. If they are, compare the values (also checking that the keys and values are not null)."},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664914858,"post_id":73953141,"comment_id":130577934,"body_markdown":"@Unmitigated An item with a key and a value","body":"@Unmitigated An item with a key and a value"},{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664915248,"post_id":73953141,"comment_id":130578040,"body_markdown":"@JohnnyMopp not really sure what you mean by that","body":"@JohnnyMopp not really sure what you mean by that"}],"answers":[{"comments":[{"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"score":0,"creation_date":1664916929,"post_id":73953455,"comment_id":130578533,"body_markdown":"@JohnBakyo This does make a bit more sence for me. So if I were to make 2 more Class NumberItem and NameItem would give both classes their own compareTo methods that has NumberItem compare the number and the NameItem compare the Name? Or is that completely wrong.","body":"@JohnBakyo This does make a bit more sence for me. So if I were to make 2 more Class NumberItem and NameItem would give both classes their own compareTo methods that has NumberItem compare the number and the NameItem compare the Name? Or is that completely wrong."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1664917102,"post_id":73953455,"comment_id":130578573,"body_markdown":"That is what I meant.","body":"That is what I meant."}],"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916165,"creation_date":1664916165,"answer_id":73953455,"question_id":73953141,"body_markdown":"In the part where you enter a number, you then search by a number.\r\n\r\nIn the second part where you enter a name, you search for a number. That will not find a name.\r\n\r\nYour `Item` class only compares numbers (you call them `key` and `value` rather than number and name, it will be clearer if you fix that). You might want two classes (e.g. `NumberItem` and `NameItem`), one which compares by number, the other which compares by name (make them inherit from `Item`, which doesn&#39;t implement `Comparable`).\r\n\r\nAnother strategy is to use the existing tools, and store each type of `Item` in a `Map`, one indexed by number, the other by name. The internal implementation will probably be more efficient than what you come up with.","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>In the part where you enter a number, you then search by a number.</p>\n<p>In the second part where you enter a name, you search for a number. That will not find a name.</p>\n<p>Your <code>Item</code> class only compares numbers (you call them <code>key</code> and <code>value</code> rather than number and name, it will be clearer if you fix that). You might want two classes (e.g. <code>NumberItem</code> and <code>NameItem</code>), one which compares by number, the other which compares by name (make them inherit from <code>Item</code>, which doesn't implement <code>Comparable</code>).</p>\n<p>Another strategy is to use the existing tools, and store each type of <code>Item</code> in a <code>Map</code>, one indexed by number, the other by name. The internal implementation will probably be more efficient than what you come up with.</p>\n"},{"tags":[],"owner":{"account_id":19045556,"reputation":16,"user_id":13904775,"display_name":"The Ice Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664921662,"creation_date":1664921662,"answer_id":73954108,"question_id":73953141,"body_markdown":"By using IntelliJ and a debugger I was able to discover the issue:\r\n\r\n`num = in.next();`\r\n\r\nIf you debug right after and you look at `num` value, you will see it will be: `Smith,`\r\n\r\nSeems that the whitespace is the problem here&#128517;\r\n\r\nLet&#39;s find out why:\r\n\r\nIf we take a look at `Scanner.next()` documentation:\r\n\r\n&gt; Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the **delimiter** pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext returned true.\r\n\r\nThis means that the scanner will take only the text until it encounters the delimiter. Who is the delimiter? It should be a default one if you didn&#39;t provide it, right? Let&#39;s take a look again in Scanner class and search for the default delimiter.\r\n\r\nRight at the top of the class the documentation states:\r\n\r\n&gt; A Scanner breaks its input into tokens using a delimiter pattern, which by default matches **whitespace**. The resulting tokens may then be converted into values of different types using the various next methods.\r\n\r\nSo, the whitespace cuts your input from the keyboard.\r\n\r\n**Bonus** some easy tips &amp; tricks that will help you:\r\n\r\n - Name the variables simple and easy to understand. Check out some guides on naming best practices(especially in Java) and naming conventions in Java.\r\n - Use the debugger.\r\n - When your code is not doing what you think it should and you are using &quot;3rd party classes&quot;, try to look at what and how are they doing the things under the hood. It is enough in most of the cases just to read their documentation(and IDEs like IntelliJ facilitate this by just holding ctrl and pressing click on the method name, it will point you right to the implementation where you can see the method&#39;s documentation).","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>By using IntelliJ and a debugger I was able to discover the issue:</p>\n<p><code>num = in.next();</code></p>\n<p>If you debug right after and you look at <code>num</code> value, you will see it will be: <code>Smith,</code></p>\n<p>Seems that the whitespace is the problem here😅</p>\n<p>Let's find out why:</p>\n<p>If we take a look at <code>Scanner.next()</code> documentation:</p>\n<blockquote>\n<p>Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the <strong>delimiter</strong> pattern. This method may block while waiting for input to scan, even if a previous invocation of hasNext returned true.</p>\n</blockquote>\n<p>This means that the scanner will take only the text until it encounters the delimiter. Who is the delimiter? It should be a default one if you didn't provide it, right? Let's take a look again in Scanner class and search for the default delimiter.</p>\n<p>Right at the top of the class the documentation states:</p>\n<blockquote>\n<p>A Scanner breaks its input into tokens using a delimiter pattern, which by default matches <strong>whitespace</strong>. The resulting tokens may then be converted into values of different types using the various next methods.</p>\n</blockquote>\n<p>So, the whitespace cuts your input from the keyboard.</p>\n<p><strong>Bonus</strong> some easy tips &amp; tricks that will help you:</p>\n<ul>\n<li>Name the variables simple and easy to understand. Check out some guides on naming best practices(especially in Java) and naming conventions in Java.</li>\n<li>Use the debugger.</li>\n<li>When your code is not doing what you think it should and you are using &quot;3rd party classes&quot;, try to look at what and how are they doing the things under the hood. It is enough in most of the cases just to read their documentation(and IDEs like IntelliJ facilitate this by just holding ctrl and pressing click on the method name, it will point you right to the implementation where you can see the method's documentation).</li>\n</ul>\n"}],"owner":{"account_id":26528884,"reputation":1,"user_id":20161414,"display_name":"Cab"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664921662,"creation_date":1664914008,"question_id":73953141,"body_markdown":"I&#39;ve been writing this program that reads in from a text file consisting of names and phone numbers. I created 2 arraylists both containing Item objects. names array list contains Item object haveing names as the key value and phone numbers as the value value. While the numbers array list is the opposite having the key value being phone numbers and the value value names. \r\n\r\nHere is the code:\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class Test \r\n    {\r\n    \t\r\n\tpublic static void main(String[] args) throws FileNotFoundException\r\n\t{\r\n\t\tFile inputFile = new File(&quot;directory.txt&quot;);\r\n\t\tArrayList&lt;Item&gt; names = new ArrayList&lt;Item&gt;();\r\n\t\tArrayList&lt;Item&gt; numbers = new ArrayList&lt;Item&gt;();\r\n\t\t\r\n\t\tScanner in1 = new Scanner(inputFile);\r\n\t\twhile(in1.hasNextLine())\r\n\t\t{\r\n\t\t\tString name = in1.nextLine();\r\n\t\t\tString num = in1.nextLine();\r\n\t\t\tItem item = new Item(name , num);\r\n\t\t\tnames.add(item);\r\n\t\t}\r\n\t\t\r\n\t\tScanner in2 = new Scanner(inputFile);\r\n\t\twhile(in2.hasNextLine())\r\n\t\t{\r\n\t\t\tString name = in2.nextLine();\r\n\t\t\tString num = in2.nextLine();\r\n\t\t\tItem item = new Item(num, name);\r\n\t\t\tnumbers.add(item);\r\n\t\t}\r\n\t\t\r\n\t\tCollections.sort(names);\r\n\t\tCollections.sort(numbers);\r\n\t\t\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter number: &quot;);\r\n\t\tString num = in.next();\r\n\t\tint index = Collections.binarySearch(numbers, new Item(num, null));\r\n\t\tSystem.out.println(index);\r\n\t\tSystem.out.println(numbers.get(index).getValue()); \r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter name: &quot;);\r\n\t\tnum = in.next();\r\n\t\tindex = Collections.binarySearch(names, new Item(num, null));\r\n\t\tSystem.out.println(index);\r\n\t\tSystem.out.println(names.get(index).getValue());\r\n\t\t\t\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\n    public class Item implements Comparable&lt;Item&gt;\r\n    {\r\n      \r\n       public Item(String k, String v)\r\n       { \r\n          key = k;\r\n          value = v;\r\n       }\r\n       \r\n       \r\n       public String getKey()\r\n       { \r\n          return key;\r\n       }\r\n       \r\n       \r\n       public String getValue()\r\n       { \r\n          return value;\r\n       }\r\n    \r\n       public int compareTo(Item otherObject)\r\n       {\r\n          Item other = (Item) otherObject;\r\n          return key.compareTo(other.key);\r\n       }\r\n    \r\n       private String key;\r\n       private String value;\r\n    }\r\n\r\n\r\n\r\n  \r\nWhen testing entering the phone number it outputs the correct name and since it .binarysearch got the correct index but when entering a name outputs a random negative index value and I have no clue why. \r\n[Here is how the console looks like][1]\r\n  [1]: https://i.stack.imgur.com/rrVEk.png\r\n\r\nSorry if this post is not so good. This is my first post and I really need help. Can&#39;t figure this out","title":"Why is .binary search returning random negative values even though it worked before","body":"<p>I've been writing this program that reads in from a text file consisting of names and phone numbers. I created 2 arraylists both containing Item objects. names array list contains Item object haveing names as the key value and phone numbers as the value value. While the numbers array list is the opposite having the key value being phone numbers and the value value names.</p>\n<p>Here is the code:</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class Test \n{\n    \npublic static void main(String[] args) throws FileNotFoundException\n{\n    File inputFile = new File(&quot;directory.txt&quot;);\n    ArrayList&lt;Item&gt; names = new ArrayList&lt;Item&gt;();\n    ArrayList&lt;Item&gt; numbers = new ArrayList&lt;Item&gt;();\n    \n    Scanner in1 = new Scanner(inputFile);\n    while(in1.hasNextLine())\n    {\n        String name = in1.nextLine();\n        String num = in1.nextLine();\n        Item item = new Item(name , num);\n        names.add(item);\n    }\n    \n    Scanner in2 = new Scanner(inputFile);\n    while(in2.hasNextLine())\n    {\n        String name = in2.nextLine();\n        String num = in2.nextLine();\n        Item item = new Item(num, name);\n        numbers.add(item);\n    }\n    \n    Collections.sort(names);\n    Collections.sort(numbers);\n    \n    Scanner in = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter number: &quot;);\n    String num = in.next();\n    int index = Collections.binarySearch(numbers, new Item(num, null));\n    System.out.println(index);\n    System.out.println(numbers.get(index).getValue()); \n    \n    System.out.println(&quot;Enter name: &quot;);\n    num = in.next();\n    index = Collections.binarySearch(names, new Item(num, null));\n    System.out.println(index);\n    System.out.println(names.get(index).getValue());\n        \n\n}\n\n}\n\n\npublic class Item implements Comparable&lt;Item&gt;\n{\n  \n   public Item(String k, String v)\n   { \n      key = k;\n      value = v;\n   }\n   \n   \n   public String getKey()\n   { \n      return key;\n   }\n   \n   \n   public String getValue()\n   { \n      return value;\n   }\n\n   public int compareTo(Item otherObject)\n   {\n      Item other = (Item) otherObject;\n      return key.compareTo(other.key);\n   }\n\n   private String key;\n   private String value;\n}\n</code></pre>\n<p>When testing entering the phone number it outputs the correct name and since it .binarysearch got the correct index but when entering a name outputs a random negative index value and I have no clue why.\n[Here is how the console looks like][1]\n[1]: https://i.stack.imgur.com/rrVEk.png</p>\n<p>Sorry if this post is not so good. This is my first post and I really need help. Can't figure this out</p>\n"},{"tags":["java","spring","mercadopago","mercadopagosdk"],"comments":[{"owner":{"account_id":3330392,"reputation":1875,"user_id":2799472,"accept_rate":100,"display_name":"Typo"},"score":0,"creation_date":1652216900,"post_id":72192934,"comment_id":127552348,"body_markdown":"Check response for details.","body":"Check response for details."},{"owner":{"account_id":25248370,"reputation":1,"user_id":19081263,"display_name":"&#193;lex Almeida"},"score":0,"creation_date":1652217031,"post_id":72192934,"comment_id":127552385,"body_markdown":"How do i get the response?","body":"How do i get the response?"}],"owner":{"account_id":25248370,"reputation":1,"user_id":19081263,"display_name":"&#193;lex Almeida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664921580,"creation_date":1652216713,"question_id":72192934,"body_markdown":"I&#39;m receiving this exception everytime that i call one &quot;PreferenceClient&quot; method, pls someone save me\r\n**The Java code**\r\n\r\n    public static void main(String[] args) throws MPException,  MPApiException {\r\n    \r\n        String DOMINIO = &quot;127.0.0.1:2020&quot;;\r\n        String SUCESSO = &quot;/pagamento/aprovado&quot;;\r\n        String FRACASSO = &quot;/pagamento/recusado&quot;;\r\n        \r\n        PreferenceClient client = new PreferenceClient();\r\n\r\n        PreferenceItemRequest item = \r\n            PreferenceItemRequest.builder()\r\n                .id(&quot;1&quot;)\r\n                .title(&quot;Camiseta 1&quot;)\r\n                .description(&quot;Salve&quot;)\r\n                .quantity(1)\r\n                .currencyId(&quot;BRL&quot;)\r\n                .unitPrice(new BigDecimal(&quot;100&quot;))\r\n                .build();\r\n\r\n        PreferenceBackUrlsRequest backUrls =\r\n            PreferenceBackUrlsRequest.builder()\r\n                .success(DOMINIO + SUCESSO)\r\n                .failure(DOMINIO + FRACASSO)\r\n                .build();\r\n\r\n        List&lt;PreferenceTrackRequest&gt; tracks = new ArrayList&lt;&gt;();\r\n        PreferenceTrackRequest googleTrack =\r\n            PreferenceTrackRequest.builder()\r\n                .type(&quot;google_ad&quot;)\r\n                .build();\r\n\r\n        tracks.add(googleTrack);\r\n\r\n        PreferenceRequest request =\r\n            PreferenceRequest.builder()\r\n                .backUrls(backUrls)\r\n                .items(Arrays.asList(item))\r\n                .tracks(tracks)\r\n                .build();\r\n\r\n        client.create(request);\r\n    }\r\n    }\r\n\r\n\r\nThe exception:\r\n\r\nException in thread &quot;main&quot; com.mercadopago.exceptions.MPApiException: Api error. Check response for details\r\n        at com.mercadopago.net.MPDefaultHttpClient.send(MPDefaultHttpClient.java:142)\r\n        at com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:56)\r\n        at com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:78)\r\n        at com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:123)\r\n        at com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:98)\r\n        at me.alexfrocha.mercadopago.mp.controllers.HomeController.main(HomeController.java:83)\r\n\r\n","title":"Mercado Pago API Exception","body":"<p>I'm receiving this exception everytime that i call one &quot;PreferenceClient&quot; method, pls someone save me\n<strong>The Java code</strong></p>\n<pre><code>public static void main(String[] args) throws MPException,  MPApiException {\n\n    String DOMINIO = &quot;127.0.0.1:2020&quot;;\n    String SUCESSO = &quot;/pagamento/aprovado&quot;;\n    String FRACASSO = &quot;/pagamento/recusado&quot;;\n    \n    PreferenceClient client = new PreferenceClient();\n\n    PreferenceItemRequest item = \n        PreferenceItemRequest.builder()\n            .id(&quot;1&quot;)\n            .title(&quot;Camiseta 1&quot;)\n            .description(&quot;Salve&quot;)\n            .quantity(1)\n            .currencyId(&quot;BRL&quot;)\n            .unitPrice(new BigDecimal(&quot;100&quot;))\n            .build();\n\n    PreferenceBackUrlsRequest backUrls =\n        PreferenceBackUrlsRequest.builder()\n            .success(DOMINIO + SUCESSO)\n            .failure(DOMINIO + FRACASSO)\n            .build();\n\n    List&lt;PreferenceTrackRequest&gt; tracks = new ArrayList&lt;&gt;();\n    PreferenceTrackRequest googleTrack =\n        PreferenceTrackRequest.builder()\n            .type(&quot;google_ad&quot;)\n            .build();\n\n    tracks.add(googleTrack);\n\n    PreferenceRequest request =\n        PreferenceRequest.builder()\n            .backUrls(backUrls)\n            .items(Arrays.asList(item))\n            .tracks(tracks)\n            .build();\n\n    client.create(request);\n}\n}\n</code></pre>\n<p>The exception:</p>\n<p>Exception in thread &quot;main&quot; com.mercadopago.exceptions.MPApiException: Api error. Check response for details\nat com.mercadopago.net.MPDefaultHttpClient.send(MPDefaultHttpClient.java:142)\nat com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:56)\nat com.mercadopago.client.MercadoPagoClient.send(MercadoPagoClient.java:78)\nat com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:123)\nat com.mercadopago.client.preference.PreferenceClient.create(PreferenceClient.java:98)\nat me.alexfrocha.mercadopago.mp.controllers.HomeController.main(HomeController.java:83)</p>\n"},{"tags":["java","logic"],"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":1,"creation_date":1601936556,"post_id":64216960,"comment_id":113556274,"body_markdown":"`strokes &gt; par + 1` you probably want `strokes &gt; par `","body":"<code>strokes &gt; par + 1</code> you probably want <code>strokes &gt; par </code>"},{"owner":{"account_id":483837,"reputation":10002,"user_id":899126,"accept_rate":100,"display_name":"Chris Forrence"},"score":0,"creation_date":1601936568,"post_id":64216960,"comment_id":113556279,"body_markdown":"It looks like there&#39;s specific logic for when Error _should_ be returned that doesn&#39;t appear to be handled in this logic","body":"It looks like there&#39;s specific logic for when Error <i>should</i> be returned that doesn&#39;t appear to be handled in this logic"},{"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"score":0,"creation_date":1601937154,"post_id":64216960,"comment_id":113556429,"body_markdown":"@Berto99 I tried it that way at first but then my other test case wasn&#39;t validating.","body":"@Berto99 I tried it that way at first but then my other test case wasn&#39;t validating."},{"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"score":0,"creation_date":1601937591,"post_id":64216960,"comment_id":113556513,"body_markdown":"@ChrisForrence Okay I think you were right I did it like this and all my test cases passed! :)\n\n`if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n         return &quot;Error&quot;;\n      }\n      else if(strokes &lt;= par - 2){\n         return &quot;Eagle&quot;;\n      }\n      else if(strokes &lt;= par -1){\n         return &quot;Birdie&quot;;\n      }\n      else if(strokes == par){\n         return &quot;Par&quot;;\n      }\n      else{\n         return &quot;Bogey&quot;;\n      } \n   }`","body":"@ChrisForrence Okay I think you were right I did it like this and all my test cases passed! :)  <code>if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){          return &quot;Error&quot;;       }       else if(strokes &lt;= par - 2){          return &quot;Eagle&quot;;       }       else if(strokes &lt;= par -1){          return &quot;Birdie&quot;;       }       else if(strokes == par){          return &quot;Par&quot;;       }       else{          return &quot;Bogey&quot;;       }     }</code>"}],"answers":[{"tags":[],"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601937725,"creation_date":1601937725,"answer_id":64217135,"question_id":64216960,"body_markdown":"SOLVED! Thanks to ChrisForrence!\r\n\r\n    if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\r\n         return &quot;Error&quot;;\r\n      }\r\n      else if(strokes &lt;= par - 2){\r\n         return &quot;Eagle&quot;;\r\n      }\r\n      else if(strokes &lt;= par -1){\r\n         return &quot;Birdie&quot;;\r\n      }\r\n      else if(strokes == par){\r\n         return &quot;Par&quot;;\r\n      }\r\n      else{\r\n         return &quot;Bogey&quot;;\r\n      } \r\n   }","title":"Golf return output logic issue","body":"<p>SOLVED! Thanks to ChrisForrence!</p>\n<pre><code>if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n     return &quot;Error&quot;;\n  }\n  else if(strokes &lt;= par - 2){\n     return &quot;Eagle&quot;;\n  }\n  else if(strokes &lt;= par -1){\n     return &quot;Birdie&quot;;\n  }\n  else if(strokes == par){\n     return &quot;Par&quot;;\n  }\n  else{\n     return &quot;Bogey&quot;;\n  } \n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26529877,"reputation":1,"user_id":20162253,"display_name":"LANCELOT 101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920893,"creation_date":1664920893,"answer_id":73954024,"question_id":64216960,"body_markdown":"If anyone was looking for the solution for this problem but written in C++, here it is.\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    int main() {\r\n\r\n    \tint par;\r\n    \tint strokes;\r\n\r\n    \tcin &gt;&gt; par &gt;&gt; strokes;\r\n\r\n    \tif ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\r\n            cout &lt;&lt; &quot;Error&quot; &lt;&lt; endl;\r\n    \t}\r\n        else if (strokes == par - 2){\r\n            cout &lt;&lt; &quot;Eagle&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par - 1){\r\n            cout &lt;&lt; &quot;Birdie&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par){\r\n            cout &lt;&lt; &quot;Par&quot; &lt;&lt; endl;\r\n        }\r\n        else if (strokes == par + 1){\r\n            cout &lt;&lt; &quot;Bogey&quot; &lt;&lt; endl;\r\n        }\r\n        else{\r\n            cout &lt;&lt; &quot;None&quot; &lt;&lt; endl;\r\n        }\r\n\r\n\r\n\t    return 0;\r\n    }\r\n","title":"Golf return output logic issue","body":"<p>If anyone was looking for the solution for this problem but written in C++, here it is.</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n\n    int par;\n    int strokes;\n\n    cin &gt;&gt; par &gt;&gt; strokes;\n\n    if ((par != 3) &amp;&amp; (par != 4) &amp;&amp; (par != 5)){\n        cout &lt;&lt; &quot;Error&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par - 2){\n        cout &lt;&lt; &quot;Eagle&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par - 1){\n        cout &lt;&lt; &quot;Birdie&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par){\n        cout &lt;&lt; &quot;Par&quot; &lt;&lt; endl;\n    }\n    else if (strokes == par + 1){\n        cout &lt;&lt; &quot;Bogey&quot; &lt;&lt; endl;\n    }\n    else{\n        cout &lt;&lt; &quot;None&quot; &lt;&lt; endl;\n    }\n\n\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":13256998,"reputation":142,"user_id":9572726,"display_name":"Murtaza Mohsin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664920893,"creation_date":1601936392,"question_id":64216960,"body_markdown":"Hey guys so I am trying to do a HW question for a java class and I am having some trouble understanding the logic. This is the question they asked of me:\r\n\r\n*Golf scores record the number of strokes used to get the ball in the hole. The expected number of strokes varies from hole to hole and is called par (i.e. 3, 4 or 5). Each score has a cute name based on the actual strokes taken compared to par. Return &quot;Eagle&quot; if strokes is two less than par. Return &quot;Birdie&quot; if strokes is one less than par. Return &quot;Par&quot; if par matches strokes exactly. Return &quot;Bogey&quot; if strokes is one more than par. Return &quot;Error&quot; if par is not 3, 4 or 5.*\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class Main {\r\n   \r\n   public String golfScore(int par, int strokes){\r\n      \r\n      if(strokes &lt;= par - 2){\r\n         return &quot;Eagle&quot;;\r\n      }\r\n      else if(strokes &lt;= par -1){\r\n         return &quot;Birdie&quot;;\r\n      }\r\n      else if(strokes == par){\r\n         return &quot;Par&quot;;\r\n      }\r\n      else if(strokes &gt; par + 1){\r\n         return &quot;Bogey&quot;;\r\n      }\r\n      else{\r\n         return &quot;Error&quot;;\r\n      }\r\n   }\r\n   \r\n   // this method not used but needed for testing\r\n   public static void main(String[] args) {\r\n   }\r\n}\r\n```\r\n\r\n[When I run the results I get correct for everything except for the last test. ][1]\r\n\r\n\r\nBut this logic doesn&#39;t make sense to me cause it should be invalidating my if statement. Cause 1 &gt; 2 + 1 is false therefore it should be outputting an error. Why is my program outputting bogey?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SB8Ox.png","title":"Golf return output logic issue","body":"<p>Hey guys so I am trying to do a HW question for a java class and I am having some trouble understanding the logic. This is the question they asked of me:</p>\n<p><em>Golf scores record the number of strokes used to get the ball in the hole. The expected number of strokes varies from hole to hole and is called par (i.e. 3, 4 or 5). Each score has a cute name based on the actual strokes taken compared to par. Return &quot;Eagle&quot; if strokes is two less than par. Return &quot;Birdie&quot; if strokes is one less than par. Return &quot;Par&quot; if par matches strokes exactly. Return &quot;Bogey&quot; if strokes is one more than par. Return &quot;Error&quot; if par is not 3, 4 or 5.</em></p>\n<p>This is my code:</p>\n<pre><code>public class Main {\n   \n   public String golfScore(int par, int strokes){\n      \n      if(strokes &lt;= par - 2){\n         return &quot;Eagle&quot;;\n      }\n      else if(strokes &lt;= par -1){\n         return &quot;Birdie&quot;;\n      }\n      else if(strokes == par){\n         return &quot;Par&quot;;\n      }\n      else if(strokes &gt; par + 1){\n         return &quot;Bogey&quot;;\n      }\n      else{\n         return &quot;Error&quot;;\n      }\n   }\n   \n   // this method not used but needed for testing\n   public static void main(String[] args) {\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SB8Ox.png\" rel=\"nofollow noreferrer\">When I run the results I get correct for everything except for the last test. </a></p>\n<p>But this logic doesn't make sense to me cause it should be invalidating my if statement. Cause 1 &gt; 2 + 1 is false therefore it should be outputting an error. Why is my program outputting bogey?</p>\n"},{"tags":["java","algorithm","collections"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":5,"creation_date":1484138117,"post_id":41591107,"comment_id":70385463,"body_markdown":"No, there is no such method on the Set interface.  That abstraction doesn&#39;t imply an order, only that it&#39;s a Collection where every element is unique.","body":"No, there is no such method on the Set interface.  That abstraction doesn&#39;t imply an order, only that it&#39;s a Collection where every element is unique."},{"owner":{"account_id":1091813,"reputation":2454,"user_id":1086294,"display_name":"abbath"},"score":0,"creation_date":1484138187,"post_id":41591107,"comment_id":70385508,"body_markdown":"Without counter you simply can&#39;t do it in java.","body":"Without counter you simply can&#39;t do it in java."},{"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":0,"creation_date":1484138233,"post_id":41591107,"comment_id":70385552,"body_markdown":"pls tell, what do you want to do if you know the current element is the last. Keep in mind, that the for each on `HashSet` won&#39;t keep the order.","body":"pls tell, what do you want to do if you know the current element is the last. Keep in mind, that the for each on <code>HashSet</code> won&#39;t keep the order."},{"owner":{"account_id":4456018,"reputation":734,"user_id":3626293,"display_name":"Bene"},"score":0,"creation_date":1484138260,"post_id":41591107,"comment_id":70385569,"body_markdown":"Also, be aware that Set does not provide ordering guarantees. The last element you added might not be the last element in the iteration.","body":"Also, be aware that Set does not provide ordering guarantees. The last element you added might not be the last element in the iteration."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1484152897,"post_id":41591107,"comment_id":70395145,"body_markdown":"The important question is why do you need to do this. In many, perhaps most, cases, you can modify your algorithm slightly so that it&#39;s not necessary to know inside the loop that you&#39;re on the last iteration.","body":"The important question is why do you need to do this. In many, perhaps most, cases, you can modify your algorithm slightly so that it&#39;s not necessary to know inside the loop that you&#39;re on the last iteration."}],"answers":[{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484138306,"creation_date":1484138306,"answer_id":41591204,"question_id":41591107,"body_markdown":"There is no build in method to check if the current element is also the last element. Besides that you are using a `HashSet` which does not guarantee the return order. Even if you want to check it e.g. with an index `i` the last element could always be a different one. \r\n\r\n","title":"detect last foreach loop iteration","body":"<p>There is no build in method to check if the current element is also the last element. Besides that you are using a <code>HashSet</code> which does not guarantee the return order. Even if you want to check it e.g. with an index <code>i</code> the last element could always be a different one. </p>\n"},{"comments":[{"owner":{"account_id":8992294,"reputation":15735,"user_id":6703783,"accept_rate":67,"display_name":"Manu Chadha"},"score":0,"creation_date":1531916931,"post_id":41591205,"comment_id":89774785,"body_markdown":"Your mention of iterator gave me the idea of how I might be able to solve my issue. Thanks","body":"Your mention of iterator gave me the idea of how I might be able to solve my issue. Thanks"}],"tags":[],"owner":{"account_id":10011719,"reputation":537,"user_id":7404378,"display_name":"Lazar Petrovic"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1484138307,"creation_date":1484138307,"answer_id":41591205,"question_id":41591107,"body_markdown":"There isn&#39;t, take a look at https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\r\n\r\nYou must change your loop to use an iterator explicitly or an int counter.","title":"detect last foreach loop iteration","body":"<p>There isn't, take a look at <a href=\"https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">How does the Java &#39;for each&#39; loop work?</a></p>\n\n<p>You must change your loop to use an iterator explicitly or an int counter.</p>\n"},{"tags":[],"owner":{"account_id":7649983,"reputation":1584,"user_id":5799145,"accept_rate":57,"display_name":"CraigR8806"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484138448,"creation_date":1484138448,"answer_id":41591249,"question_id":41591107,"body_markdown":"A `Set` does not guaranty order over of items within it.  You may loop through the `Set` once and retrieve &quot;abc&quot; as the &quot;last item&quot; and the next time you may find that &quot;hij&quot; is the &quot;last item&quot; in the `Set`.  \r\n\r\nThat being said, if you are not concerned about order and you just want to know what the arbitrary &quot;last item&quot; is when observing the `Set` at that current moment, there is not built in way to do this.  You would have to make use of a counter.","title":"detect last foreach loop iteration","body":"<p>A <code>Set</code> does not guaranty order over of items within it.  You may loop through the <code>Set</code> once and retrieve \"abc\" as the \"last item\" and the next time you may find that \"hij\" is the \"last item\" in the <code>Set</code>.  </p>\n\n<p>That being said, if you are not concerned about order and you just want to know what the arbitrary \"last item\" is when observing the <code>Set</code> at that current moment, there is not built in way to do this.  You would have to make use of a counter.</p>\n"},{"comments":[{"owner":{"account_id":5854103,"reputation":1208,"user_id":4611941,"accept_rate":92,"display_name":"NiallMitch14"},"score":1,"creation_date":1510082637,"post_id":41592183,"comment_id":81281557,"body_markdown":"Thanks. Nice solution for the for each loop to check the last iteration. Although it&#39;s very similar to just using a for loop with an iterator. Still, nice solution!","body":"Thanks. Nice solution for the for each loop to check the last iteration. Although it&#39;s very similar to just using a for loop with an iterator. Still, nice solution!"},{"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"score":17,"creation_date":1535969603,"post_id":41592183,"comment_id":91245020,"body_markdown":"I&#39;d adjust to `if(++i == names.size())`, which simply adds one to i before evaluating, meaning we can check directly against size of set, without that -1","body":"I&#39;d adjust to <code>if(++i == names.size())</code>, which simply adds one to i before evaluating, meaning we can check directly against size of set, without that -1"}],"tags":[],"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1484141170,"creation_date":1484141170,"answer_id":41592183,"question_id":41591107,"body_markdown":"Other answears are completely adequate, just adding this solution for the given question.\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n\r\n       //some code\r\n       int i = 0;\r\n\r\n    for (String name: names) {\r\n        if(i++ == names.size() - 1){\r\n            // Last iteration\r\n        }\r\n       //some code\r\n\r\n    }","title":"detect last foreach loop iteration","body":"<p>Other answears are completely adequate, just adding this solution for the given question.</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n   //some code\n   int i = 0;\n\nfor (String name: names) {\n    if(i++ == names.size() - 1){\n        // Last iteration\n    }\n   //some code\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":3,"creation_date":1551992434,"post_id":51848496,"comment_id":96855273,"body_markdown":"The common case is perfectly what i needed. Thank you","body":"The common case is perfectly what i needed. Thank you"}],"tags":[],"owner":{"account_id":73325,"reputation":2464,"user_id":211225,"accept_rate":44,"display_name":"Joao Pereira"},"comment_count":1,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1541940128,"creation_date":1534274722,"answer_id":51848496,"question_id":41591107,"body_markdown":"For simplicity and understandability, imo, would do:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    Iterator&lt;String&gt; iterator = names.iterator();\r\n        while (iterator.hasNext()) {\r\n            String name = iterator.next();\r\n            //Do stuff\r\n            if (!iterator.hasNext()) {\r\n                //last name \r\n            }\r\n         }\r\n\r\n\r\nAlso, it depends on what you&#39;re trying to achieve. Let&#39;s say you are implementing the common use case of separating each name by coma, but not add an empty coma at the end:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    names.add(&quot;Joao&quot;);\r\n    names.add(&quot;Pereira&quot;);\r\n        \r\n    //if the result should be Joao, Pereira then something like this may work\r\n    String result = names.stream().collect(Collectors.joining(&quot;, &quot;));\r\n","title":"detect last foreach loop iteration","body":"<p>For simplicity and understandability, imo, would do:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\nIterator&lt;String&gt; iterator = names.iterator();\n    while (iterator.hasNext()) {\n        String name = iterator.next();\n        //Do stuff\n        if (!iterator.hasNext()) {\n            //last name \n        }\n     }\n</code></pre>\n\n<p>Also, it depends on what you're trying to achieve. Let's say you are implementing the common use case of separating each name by coma, but not add an empty coma at the end:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\nnames.add(\"Joao\");\nnames.add(\"Pereira\");\n\n//if the result should be Joao, Pereira then something like this may work\nString result = names.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8735269,"reputation":7,"user_id":6534127,"display_name":"luk4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537794310,"creation_date":1537793814,"answer_id":52480009,"question_id":41591107,"body_markdown":".map(String::toString) from the answer above is redundant, because HashSet already contains String values. Do not use Set to concatenate strings because the order is not assured.\r\n\r\n    List&lt;String&gt; nameList = Arrays.asList(&quot;Michael&quot;, &quot;Kate&quot;, &quot;Tom&quot;);\r\n    String result = nameList.stream().collect(Collectors.joining(&quot;, &quot;));","title":"detect last foreach loop iteration","body":"<p>.map(String::toString) from the answer above is redundant, because HashSet already contains String values. Do not use Set to concatenate strings because the order is not assured.</p>\n\n<pre><code>List&lt;String&gt; nameList = Arrays.asList(\"Michael\", \"Kate\", \"Tom\");\nString result = nameList.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":478441,"reputation":3062,"user_id":890537,"accept_rate":70,"display_name":"m02ph3u5"},"score":2,"creation_date":1564260467,"post_id":57235815,"comment_id":100974244,"body_markdown":"How does this answer the OP&#39;s question?","body":"How does this answer the OP&#39;s question?"},{"owner":{"account_id":6762586,"reputation":109,"user_id":5208750,"display_name":"Amael H."},"score":1,"creation_date":1592363260,"post_id":57235815,"comment_id":110396319,"body_markdown":"Thanks that was exactly what I was trying to do :)","body":"Thanks that was exactly what I was trying to do :)"}],"tags":[],"owner":{"account_id":5690511,"reputation":63,"user_id":4498709,"display_name":"Manoj G"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564259241,"creation_date":1564259241,"answer_id":57235815,"question_id":41591107,"body_markdown":"If you are working with a complex object and not just a plain list/set the below code might help. Just adding a map function to actually get the desired string before you collect. \r\n\r\n    String result = violations.stream().map(e-&gt;e.getMessage()).collect(Collectors.joining(&quot;, &quot;));","title":"detect last foreach loop iteration","body":"<p>If you are working with a complex object and not just a plain list/set the below code might help. Just adding a map function to actually get the desired string before you collect. </p>\n\n<pre><code>String result = violations.stream().map(e-&gt;e.getMessage()).collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":523073,"reputation":1241,"user_id":2792414,"display_name":"Hermann.Gruber"},"score":0,"creation_date":1608298133,"post_id":65357784,"comment_id":115547328,"body_markdown":"Welcome to the stackoverflow community! The original poster&#39;s scenario is that you have a Set&lt;string&gt; in place of an array. The proposed solution in this answer only works for arrays it seems.","body":"Welcome to the stackoverflow community! The original poster&#39;s scenario is that you have a Set&lt;string&gt; in place of an array. The proposed solution in this answer only works for arrays it seems."},{"owner":{"account_id":19768387,"reputation":11563,"user_id":14475852,"display_name":"Chandan"},"score":0,"creation_date":1608300011,"post_id":65357784,"comment_id":115548156,"body_markdown":"Welcome to the stackoverflow community thank you for contributing, it would be good if you can `format` your code with `4 spaces` instead of `tabs` or `spaces more than 4` and you can create `code block` using 3 tilde for `code section` that way you don&#39;t have to add 4 spaces in every line that you want to convert or add to `code block` for more markdown info you can look help link which will appear near answer input","body":"Welcome to the stackoverflow community thank you for contributing, it would be good if you can <code>format</code> your code with <code>4 spaces</code> instead of <code>tabs</code> or <code>spaces more than 4</code> and you can create <code>code block</code> using 3 tilde for <code>code section</code> that way you don&#39;t have to add 4 spaces in every line that you want to convert or add to <code>code block</code> for more markdown info you can look help link which will appear near answer input"}],"tags":[],"owner":{"account_id":5949798,"reputation":47,"user_id":4678218,"display_name":"Mohamed Zaki"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608307773,"creation_date":1608297610,"answer_id":65357784,"question_id":41591107,"body_markdown":"There is an easy way you can do this throw one condition.\r\nconsider this is your array:\r\n\r\n```java\r\nint odd[] = {1,3,5,7,9,11};\r\n```\r\n\r\nand you want to print it all in one line with &quot; - &quot; hyphen between them except the last one.\r\n\r\n```java\r\nfor(int aa:odd) {\r\n    System.out.print(aa);\r\n \t\t\t\r\n    if(odd[odd.length - 1] != aa)\r\n        System.out.print(&quot; - &quot;);\r\n}\r\n```\r\n\r\nthis condition \r\n\r\n```java\r\nif( odd[odd.length - 1] != aa )\r\n```\r\n\r\nwill check if you aren&#39;t in the last element so you can still add &quot; - &quot;, otherwise you will not add it.","title":"detect last foreach loop iteration","body":"<p>There is an easy way you can do this throw one condition.\nconsider this is your array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int odd[] = {1,3,5,7,9,11};\n</code></pre>\n<p>and you want to print it all in one line with &quot; - &quot; hyphen between them except the last one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int aa:odd) {\n    System.out.print(aa);\n            \n    if(odd[odd.length - 1] != aa)\n        System.out.print(&quot; - &quot;);\n}\n</code></pre>\n<p>this condition</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( odd[odd.length - 1] != aa )\n</code></pre>\n<p>will check if you aren't in the last element so you can still add &quot; - &quot;, otherwise you will not add it.</p>\n"},{"comments":[{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1699627640,"post_id":69020416,"comment_id":136559460,"body_markdown":"Thanks @gotwo. This is perfect for my solution","body":"Thanks @gotwo. This is perfect for my solution"}],"tags":[],"owner":{"account_id":15726609,"reputation":673,"user_id":11348074,"display_name":"gotwo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630529364,"creation_date":1630529364,"answer_id":69020416,"question_id":41591107,"body_markdown":"Yes, there is a way to check it inside of `foreach`, by use of a counter:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    \r\n    int i = names.size() - 1;\r\n    for (String name: names) {\r\n        if (i-- == 0) {\r\n            // some code for last name\r\n        }\r\n        //some code\r\n    }\r\n\r\nConsider, `names.size()` is called only one time outside of the loop. This makes the loop faster than processing it multiple times within the loop. ","title":"detect last foreach loop iteration","body":"<p>Yes, there is a way to check it inside of <code>foreach</code>, by use of a counter:</p>\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\nint i = names.size() - 1;\nfor (String name: names) {\n    if (i-- == 0) {\n        // some code for last name\n    }\n    //some code\n}\n</code></pre>\n<p>Consider, <code>names.size()</code> is called only one time outside of the loop. This makes the loop faster than processing it multiple times within the loop.</p>\n"},{"tags":[],"owner":{"account_id":3927945,"reputation":5168,"user_id":3247605,"display_name":"Chhorn Elit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920834,"creation_date":1664920834,"answer_id":73954018,"question_id":41591107,"body_markdown":"\t\tList&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\t\tfor (String each : list) {\r\n\t\t\tif (list.indexOf(each) == (list.size() - 1)) {\r\n\t\t\t\tSystem.out.println(&quot;last loop&quot;);\r\n\t\t\t}\r\n\t\t}\r\nNote: Set is NOT an ordered collection.","title":"detect last foreach loop iteration","body":"<pre><code>    List&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\n    for (String each : list) {\n        if (list.indexOf(each) == (list.size() - 1)) {\n            System.out.println(&quot;last loop&quot;);\n        }\n    }\n</code></pre>\n<p>Note: Set is NOT an ordered collection.</p>\n"}],"owner":{"account_id":8866274,"reputation":2177,"user_id":6621346,"accept_rate":79,"display_name":"mhery"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137199,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":41591205,"answer_count":10,"score":79,"last_activity_date":1664920834,"creation_date":1484138047,"question_id":41591107,"body_markdown":"Supposing that I have some `foreach` loop like this:\r\n\r\n    Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n    //some code\r\n    for (String name: names) {\r\n         //some code\r\n    }\r\n\r\nIs there a way to check inside `foreach` that the actual name is the last one in `Set` without a counter?  I didn&#39;t found here some question like this.","title":"detect last foreach loop iteration","body":"<p>Supposing that I have some <code>foreach</code> loop like this:</p>\n\n<pre><code>Set&lt;String&gt; names = new HashSet&lt;&gt;();\n//some code\nfor (String name: names) {\n     //some code\n}\n</code></pre>\n\n<p>Is there a way to check inside <code>foreach</code> that the actual name is the last one in <code>Set</code> without a counter?  I didn't found here some question like this.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1664892770,"post_id":73948975,"comment_id":130570872,"body_markdown":"You are using the wrong annotation, you want `org.springframework.boot.test.mock.mockito.MockBean;` not `@Mock`","body":"You are using the wrong annotation, you want <code>org.springframework.boot.test.mock.mockito.MockBean;</code> not <code>@Mock</code>"},{"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"score":0,"creation_date":1664920249,"post_id":73948975,"comment_id":130579305,"body_markdown":"@IgorFlakiewicz, thanks a lot! I will post my answer shortly!","body":"@IgorFlakiewicz, thanks a lot! I will post my answer shortly!"}],"answers":[{"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1665005885,"post_id":73953983,"comment_id":130601111,"body_markdown":"I don&#39;t see a reason why you&#39;d need the `@ContextConfiguration` annotation in my experience just `@WebMvcTest` does the job. SpringBootTest and WebMvcTest are slightly different things, this link may help clarify: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications","body":"I don&#39;t see a reason why you&#39;d need the <code>@ContextConfiguration</code> annotation in my experience just <code>@WebMvcTest</code> does the job. SpringBootTest and WebMvcTest are slightly different things, this link may help clarify: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664920527,"creation_date":1664920527,"answer_id":73953983,"question_id":73948975,"body_markdown":"I ended up figuring it out thanks to Igor.\r\n\r\nI not only had to add `@MockBean` to the service being mocked but also the following annotations to the testing class `@WebMvcTest(controllers = AdditionController.class)` and `@ContextConfiguration(classes = AdditionController.class)`.\r\n\r\n\r\n```\r\n@WebMvcTest(controllers = AdditionController.class)\r\n@ContextConfiguration(classes = AdditionController.class)\r\nclass AdditionControllerTest {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @MockBean\r\n    private SumService sumService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldReturn5() throws Exception {\r\n        Double expectedValue = 5.0;\r\n        SumModel s = new SumModel();\r\n        s.setN1(2.0);\r\n        s.setN2(3.0);\r\n\r\n        String json = objectMapper.writeValueAsString(s);\r\n\r\n        given(this.sumService.sum(any())).willReturn(expectedValue);\r\n\r\n        this.mockMvc.perform(\r\n                post(&quot;/sum&quot;)\r\n                        .accept(MediaType.APPLICATION_JSON_VALUE)\r\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                        .content(json)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(expectedValue.toString()));\r\n    }\r\n}\r\n```\r\n\r\nI am still unsure if it is a good practice to not have a SpringBootApplication annotated class in the addition module.\r\n\r\nIt works for what I needed to understand, I hope this might help others as well.","title":"How to run tests in a Multi Module Springboot project?","body":"<p>I ended up figuring it out thanks to Igor.</p>\n<p>I not only had to add <code>@MockBean</code> to the service being mocked but also the following annotations to the testing class <code>@WebMvcTest(controllers = AdditionController.class)</code> and <code>@ContextConfiguration(classes = AdditionController.class)</code>.</p>\n<pre><code>@WebMvcTest(controllers = AdditionController.class)\n@ContextConfiguration(classes = AdditionController.class)\nclass AdditionControllerTest {\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    @MockBean\n    private SumService sumService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldReturn5() throws Exception {\n        Double expectedValue = 5.0;\n        SumModel s = new SumModel();\n        s.setN1(2.0);\n        s.setN2(3.0);\n\n        String json = objectMapper.writeValueAsString(s);\n\n        given(this.sumService.sum(any())).willReturn(expectedValue);\n\n        this.mockMvc.perform(\n                post(&quot;/sum&quot;)\n                        .accept(MediaType.APPLICATION_JSON_VALUE)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(json)\n                )\n                .andExpect(status().isOk())\n                .andExpect(content().string(expectedValue.toString()));\n    }\n}\n</code></pre>\n<p>I am still unsure if it is a good practice to not have a SpringBootApplication annotated class in the addition module.</p>\n<p>It works for what I needed to understand, I hope this might help others as well.</p>\n"}],"owner":{"account_id":1507733,"reputation":51,"user_id":1410713,"display_name":"Filipe Costa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664920527,"creation_date":1664891488,"question_id":73948975,"body_markdown":"I am currently experimenting with Multi Modules for Springboot and I would to know what are the good or best practices when running tests within different modules that do not contain `@SpringBootApplication` annotation but have structures or beans like `@RestController` without errors such as:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.mavenmultimodule.controllers.AdditionController required a bean of type &#39;com.example.mavenmultimodule.services.SumService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.mavenmultimodule.services.SumService&#39; in your configuration.\r\n\r\n```\r\n\r\nFailed test:\r\n\r\n```lang-java\r\npackage com.example.mavenmultimodule.controllers;\r\n\r\nimports...\r\n\r\n@SpringBootTest(classes = AdditionController.class)\r\n@AutoConfigureMockMvc\r\nclass AdditionControllerTest {\r\n\r\n    @Mock\r\n    private SumService sumService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldReturn5() throws Exception {\r\n        SumModel s = new SumModel();\r\n        s.setN1(2.0);\r\n        s.setN2(3.0);\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(s);\r\n\r\n        when(sumService.sum(s)).thenReturn(5.0);\r\n\r\n        MvcResult result = this.mockMvc.perform(\r\n                post(&quot;/sum&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(json)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n\r\n        assertEquals(5, result.getResponse());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have the following structure:\r\n\r\n    Parent\r\n    - pom.xml\r\n    - addition\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n    - subtraction\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n    - application\r\n      - pom.xml\r\n      - src\r\n        - main\r\n        - test\r\n\r\nWhere application/src/main/MavenMultiModuleApplication contains the following code:\r\n``` lang-java\r\n    package com.example.mavenmultimodule;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication(scanBasePackages = &quot;com.example.mavenmultimodule&quot;)\r\n    public class MavenMultiModuleApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MavenMultiModuleApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n```\r\n\r\nThe parent pom file contains the following:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenmultimodule&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;mavenmultimodule&lt;/name&gt;\r\n    &lt;description&gt;mavenmultimodule&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;addition&lt;/module&gt;\r\n        &lt;module&gt;subtraction&lt;/module&gt;\r\n        &lt;module&gt;application&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe application pom file contains the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;!-- Parent for the dependencies --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Custom dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;addition&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd both addition and subtraction module contain pom contains:\r\n\r\n```lang-xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;!-- Parent for the dependencies --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nLink to the repository in question on Github:\r\nhttps://github.com/filipe-costa/maven-multi-module\r\n\r\nLink to the failing test:\r\nhttps://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java","title":"How to run tests in a Multi Module Springboot project?","body":"<p>I am currently experimenting with Multi Modules for Springboot and I would to know what are the good or best practices when running tests within different modules that do not contain <code>@SpringBootApplication</code> annotation but have structures or beans like <code>@RestController</code> without errors such as:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.mavenmultimodule.controllers.AdditionController required a bean of type 'com.example.mavenmultimodule.services.SumService' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.mavenmultimodule.services.SumService' in your configuration.\n\n</code></pre>\n<p>Failed test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.mavenmultimodule.controllers;\n\nimports...\n\n@SpringBootTest(classes = AdditionController.class)\n@AutoConfigureMockMvc\nclass AdditionControllerTest {\n\n    @Mock\n    private SumService sumService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldReturn5() throws Exception {\n        SumModel s = new SumModel();\n        s.setN1(2.0);\n        s.setN2(3.0);\n        Gson gson = new Gson();\n        String json = gson.toJson(s);\n\n        when(sumService.sum(s)).thenReturn(5.0);\n\n        MvcResult result = this.mockMvc.perform(\n                post(&quot;/sum&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(json)\n                )\n                .andExpect(status().isOk())\n                .andReturn();\n\n        assertEquals(5, result.getResponse());\n    }\n\n}\n</code></pre>\n<p>I have the following structure:</p>\n<pre><code>Parent\n- pom.xml\n- addition\n  - pom.xml\n  - src\n    - main\n    - test\n- subtraction\n  - pom.xml\n  - src\n    - main\n    - test\n- application\n  - pom.xml\n  - src\n    - main\n    - test\n</code></pre>\n<p>Where application/src/main/MavenMultiModuleApplication contains the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.mavenmultimodule;\n    \n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    \n    @SpringBootApplication(scanBasePackages = &quot;com.example.mavenmultimodule&quot;)\n    public class MavenMultiModuleApplication {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(MavenMultiModuleApplication.class, args);\n        }\n    \n    }\n\n</code></pre>\n<p>The parent pom file contains the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenmultimodule&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mavenmultimodule&lt;/name&gt;\n    &lt;description&gt;mavenmultimodule&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;addition&lt;/module&gt;\n        &lt;module&gt;subtraction&lt;/module&gt;\n        &lt;module&gt;application&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The application pom file contains the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- Parent for the dependencies --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Custom dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;addition&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And both addition and subtraction module contain pom contains:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!-- Parent for the dependencies --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;subtraction&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Link to the repository in question on Github:\n<a href=\"https://github.com/filipe-costa/maven-multi-module\" rel=\"nofollow noreferrer\">https://github.com/filipe-costa/maven-multi-module</a></p>\n<p>Link to the failing test:\n<a href=\"https://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java\" rel=\"nofollow noreferrer\">https://github.com/filipe-costa/maven-multi-module/blob/main/addition/src/test/java/com/example/mavenmultimodule/controllers/AdditionControllerTest.java</a></p>\n"},{"tags":["java","while-loop","return","break"],"answers":[{"comments":[{"owner":{"account_id":18809894,"reputation":1,"user_id":13718302,"display_name":"Navi Sureka"},"score":0,"creation_date":1664920809,"post_id":73953942,"comment_id":130579417,"body_markdown":"Yea got my mistake. The error is because of the lower return statement and not because of the return statement inside the while loop.","body":"Yea got my mistake. The error is because of the lower return statement and not because of the return statement inside the while loop."},{"owner":{"account_id":18809894,"reputation":1,"user_id":13718302,"display_name":"Navi Sureka"},"score":0,"creation_date":1664945219,"post_id":73953942,"comment_id":130582462,"body_markdown":"@user16320675 My bias for hating while loop and lack of sleep made me skip that part. :)","body":"@user16320675 My bias for hating while loop and lack of sleep made me skip that part. :)"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664920141,"creation_date":1664920141,"answer_id":73953942,"question_id":73953919,"body_markdown":"Since the while loop is `while (true)` and contains no `break` statements, the only way the loop can exit is by fulfilling this condition, which is already returning from the method\r\n\r\n    if (day &gt; 3) {\r\n        return day;\r\n    }\r\n\r\nTherefore the `return day` at the bottom of the method is not possible to reach.\r\n\r\nJust remove that line `return day;` at the bottom of the method. Provided your logic is correct and `day` will eventually be greater than 3, you don&#39;t need it.\r\n\r\nAlternatively, choose a proper condition rather than `while (true)`, or add a break statement. ","title":"Unreachable statement error when trying to return from a while loop - Java","body":"<p>Since the while loop is <code>while (true)</code> and contains no <code>break</code> statements, the only way the loop can exit is by fulfilling this condition, which is already returning from the method</p>\n<pre><code>if (day &gt; 3) {\n    return day;\n}\n</code></pre>\n<p>Therefore the <code>return day</code> at the bottom of the method is not possible to reach.</p>\n<p>Just remove that line <code>return day;</code> at the bottom of the method. Provided your logic is correct and <code>day</code> will eventually be greater than 3, you don't need it.</p>\n<p>Alternatively, choose a proper condition rather than <code>while (true)</code>, or add a break statement.</p>\n"}],"owner":{"account_id":18809894,"reputation":1,"user_id":13718302,"display_name":"Navi Sureka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664920141,"creation_date":1664919962,"question_id":73953919,"body_markdown":"    static long minDaysToEmpty(long C, long l) {\r\n        long previousFill=C;\r\n        long day=1;\r\n        long currentFill=C;\r\n        while(true){\r\n            currentFill=Math.min(C,(previousFill-(day))+l);\r\n            previousFill=currentFill;\r\n            day++;\r\n            if(day&gt;3){\r\n                return day;\r\n            }\r\n        }\r\n        return day;\r\n    }\r\n\r\nThis code throws a compile time error.\r\n\r\n    Test.java:15: error: unreachable statement return day;\r\n\r\nI don&#39;t understand why this statement can&#39;t be reached.\r\n\r\nOn doing the below modification to the original code, the if block is reachable\r\n\r\n    if(day&gt;3){\r\n      break;\r\n    }\r\nBut inside the same block return statement is unreachable.","title":"Unreachable statement error when trying to return from a while loop - Java","body":"<pre><code>static long minDaysToEmpty(long C, long l) {\n    long previousFill=C;\n    long day=1;\n    long currentFill=C;\n    while(true){\n        currentFill=Math.min(C,(previousFill-(day))+l);\n        previousFill=currentFill;\n        day++;\n        if(day&gt;3){\n            return day;\n        }\n    }\n    return day;\n}\n</code></pre>\n<p>This code throws a compile time error.</p>\n<pre><code>Test.java:15: error: unreachable statement return day;\n</code></pre>\n<p>I don't understand why this statement can't be reached.</p>\n<p>On doing the below modification to the original code, the if block is reachable</p>\n<pre><code>if(day&gt;3){\n  break;\n}\n</code></pre>\n<p>But inside the same block return statement is unreachable.</p>\n"},{"tags":["java","maven","deployment","jboss"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1664298193,"post_id":73871124,"comment_id":130437790,"body_markdown":"it seems that myapp-ejb-web.war is already deployed","body":"it seems that myapp-ejb-web.war is already deployed"},{"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"score":0,"creation_date":1664299354,"post_id":73871124,"comment_id":130438162,"body_markdown":"Okay, thanks, according to this post it has something do to with `application.xml`.  https://developer.jboss.org/thread/249844  Do you have any suggestions on how I should update this file?  Or should I be correcting the issue some other way?","body":"Okay, thanks, according to this post it has something do to with <code>application.xml</code>.  <a href=\"https://developer.jboss.org/thread/249844\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/249844</a>  Do you have any suggestions on how I should update this file?  Or should I be correcting the issue some other way?"}],"answers":[{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664919911,"creation_date":1664919911,"answer_id":73953909,"question_id":73871124,"body_markdown":"Execute these steps:\r\n\r\n 1. Inside `%JBOSS_HOME%\\standalone\\deployments`, delete all `*.failed` files.\r\n 2. In `%JBOSS_HOME%\\standalone\\configuration`, edit `standalone.xml` and find `deployments` element. Remove them.\r\n 3. Redeploy\r\n\r\n","title":"org.jboss.msc.service.DuplicateServiceException Service jboss.undertow.deployment.default-server.default-host/ap-ejb-web.UndertowDeploymentInfoService","body":"<p>Execute these steps:</p>\n<ol>\n<li>Inside <code>%JBOSS_HOME%\\standalone\\deployments</code>, delete all <code>*.failed</code> files.</li>\n<li>In <code>%JBOSS_HOME%\\standalone\\configuration</code>, edit <code>standalone.xml</code> and find <code>deployments</code> element. Remove them.</li>\n<li>Redeploy</li>\n</ol>\n"}],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953909,"answer_count":1,"score":0,"last_activity_date":1664919911,"creation_date":1664297173,"question_id":73871124,"body_markdown":"I am experiencing issues with a `myapp-ear` project.  Here is the error I am getting after running `mvn clean install` and `mvn wildfly:deploy`.  Does anyone have any suggestions?\r\n\r\n\r\n```\r\n [INFO] ejb-ear ............................................ FAILURE [ \r\n 1.617 s] [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\r\n ------------------------------------------------------------------------ [INFO] Total time:  3.089 s [INFO] Finished at:\r\n 2022-09-26T23:16:43-06:00 [INFO]\r\n ------------------------------------------------------------------------ [ERROR] Failed to execute goal\r\n org.wildfly.plugins:wildfly-maven-plugin:2.0.1.Final:deploy\r\n (default-cli) on project myapp-ear: Failed to execute goal deploy:\r\n {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps\r\n that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed\r\n services&quot; =&gt;\r\n {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot;\r\n =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot; [ERROR]    \r\n Caused by: org.jboss.msc.service.DuplicateServiceException: Service\r\n jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService\r\n is already registered&quot;},&quot;WFLYCTL0412: Required services that are not\r\n installed:&quot; =&gt;\r\n [&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180:\r\n Services with missing/unavailable dependencies&quot; =&gt;\r\n [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is\r\n missing\r\n [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\r\n [ERROR] -&gt; [Help 1]\r\n```\r\n\r\n**UPDATE:**\r\n\r\nHere is my `application.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\r\n      &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n      &lt;display-name&gt;myapp-ear&lt;/display-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;myapp-ejb-web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/myapp-ejb-web&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;ejb&gt;myapp-ejb.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;lib&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\n**UPDATE 2:**\r\n\r\nAlso, here is my `pom.xml` file:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\r\n        &lt;packaging&gt;ear&lt;/packaging&gt;\r\n        &lt;name&gt;ejb-ear&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.0&lt;/version&gt;\r\n            &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n        &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n                &lt;type&gt;ejb&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\r\n                &lt;type&gt;war&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;version&gt;7&lt;/version&gt;\r\n                        &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\r\n                        &lt;modules&gt;\r\n                            &lt;webModule&gt;\r\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\r\n                                &lt;contextRoot&gt;/myapp-ejb-web&lt;/contextRoot&gt;\r\n                            &lt;/webModule&gt;\r\n                        &lt;/modules&gt;\r\n                        &lt;outputFileNameMapping&gt;@{artifactId}@@{dashClassifier?}@.@{extension}@&lt;/outputFileNameMapping&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;false&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**UPDATE 3:**\r\n\r\nIf I add the -e flag to the `mvn wildfly:deploy` then this is what I see:\r\n\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot;\r\n        Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService is already registered&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;ec-ear.ear\\&quot;.\\&quot;ec-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\r\n\r\nSo to me it sounds like the error says that the required service `myapp-ear.ear` is not installed because the dependency `myapp-ear.ear` is not installed which makes no sense to me.","title":"org.jboss.msc.service.DuplicateServiceException Service jboss.undertow.deployment.default-server.default-host/ap-ejb-web.UndertowDeploymentInfoService","body":"<p>I am experiencing issues with a <code>myapp-ear</code> project.  Here is the error I am getting after running <code>mvn clean install</code> and <code>mvn wildfly:deploy</code>.  Does anyone have any suggestions?</p>\n<pre><code> [INFO] ejb-ear ............................................ FAILURE [ \n 1.617 s] [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO]\n ------------------------------------------------------------------------ [INFO] Total time:  3.089 s [INFO] Finished at:\n 2022-09-26T23:16:43-06:00 [INFO]\n ------------------------------------------------------------------------ [ERROR] Failed to execute goal\n org.wildfly.plugins:wildfly-maven-plugin:2.0.1.Final:deploy\n (default-cli) on project myapp-ear: Failed to execute goal deploy:\n {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps\n that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed\n services&quot; =&gt;\n {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot;\n =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot; [ERROR]    \n Caused by: org.jboss.msc.service.DuplicateServiceException: Service\n jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService\n is already registered&quot;},&quot;WFLYCTL0412: Required services that are not\n installed:&quot; =&gt;\n [&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180:\n Services with missing/unavailable dependencies&quot; =&gt;\n [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is\n missing\n [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\n [ERROR] -&gt; [Help 1]\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>Here is my <code>application.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\n  &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\n  &lt;display-name&gt;myapp-ear&lt;/display-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;myapp-ejb-web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/myapp-ejb-web&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;ejb&gt;myapp-ejb.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;lib&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n<p><strong>UPDATE 2:</strong></p>\n<p>Also, here is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n    &lt;name&gt;ejb-ear&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;myapp.lab&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;description&gt;This project packages myapp-ejb and myapp-ejb-web in an EAR; this is the EAR POM file&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;version&gt;7&lt;/version&gt;\n                    &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\n                    &lt;modules&gt;\n                        &lt;webModule&gt;\n                            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                            &lt;artifactId&gt;myapp-ejb-web&lt;/artifactId&gt;\n                            &lt;contextRoot&gt;/myapp-ejb-web&lt;/contextRoot&gt;\n                        &lt;/webModule&gt;\n                    &lt;/modules&gt;\n                    &lt;outputFileNameMapping&gt;@{artifactId}@@{dashClassifier?}@.@{extension}@&lt;/outputFileNameMapping&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;false&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>UPDATE 3:</strong></p>\n<p>If I add the -e flag to the <code>mvn wildfly:deploy</code> then this is what I see:</p>\n<pre><code>Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.INSTALL&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase INSTALL of subdeployment \\&quot;myapp-ejb-web.war\\&quot; of deployment \\&quot;myapp-ear.ear\\&quot;\n    Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.undertow.deployment.default-server.default-host./myapp-ejb-web.UndertowDeploymentInfoService is already registered&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;ec-ear.ear\\&quot;.\\&quot;ec-ejb-web.war\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;myapp-ear.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;myapp-ear.ear\\&quot;.\\&quot;myapp-ejb-web.war\\&quot;.deploymentCompleteService]&quot;]}}}\n</code></pre>\n<p>So to me it sounds like the error says that the required service <code>myapp-ear.ear</code> is not installed because the dependency <code>myapp-ear.ear</code> is not installed which makes no sense to me.</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":7800,"reputation":83655,"user_id":13673,"accept_rate":100,"display_name":"David Segonds"},"score":2,"creation_date":1264432697,"post_id":2115976,"comment_id":2072508,"body_markdown":"What are the dimensions of the space you are working in? 2D, 3D?","body":"What are the dimensions of the space you are working in? 2D, 3D?"},{"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"score":15,"creation_date":1477761116,"post_id":2115976,"comment_id":67898821,"body_markdown":"Off topic? You gonna be kidding me. Lets close all Java questions then.","body":"Off topic? You gonna be kidding me. Lets close all Java questions then."},{"owner":{"account_id":434515,"reputation":1339,"user_id":820534,"accept_rate":100,"display_name":"PolyGeo"},"score":0,"creation_date":1494827553,"post_id":2115976,"comment_id":74974498,"body_markdown":"You seem to be seeking a software recommendation so researching/asking at the [softwarerecs.se] Stack Exchange seems to be more appropriate.","body":"You seem to be seeking a software recommendation so researching/asking at the <a href=\"https://softwarerecs.stackexchange.com\">Software Recommendations</a> Stack Exchange seems to be more appropriate."}],"answers":[{"comments":[{"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"score":0,"creation_date":1264149981,"post_id":2116008,"comment_id":2052097,"body_markdown":"but the results are only true/false. I need the exacts intersection points","body":"but the results are only true/false. I need the exacts intersection points"},{"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"score":0,"creation_date":1264151160,"post_id":2116008,"comment_id":2052180,"body_markdown":"comment to EDIT: so far I know, once we know the equation of the path it is pretty straightforward to get intersection points. Maybe I will end up creating the library myself if there is no sophisticated solution out there.","body":"comment to EDIT: so far I know, once we know the equation of the path it is pretty straightforward to get intersection points. Maybe I will end up creating the library myself if there is no sophisticated solution out there."}],"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1264430474,"creation_date":1264149858,"answer_id":2116008,"question_id":2115976,"body_markdown":"The package you should look at it `java.awt.geom`, which is part of the JDK.\r\n\r\nIn particular check out the [`java.awt.geom.Area`][1] class, which allows you to perform intersection operations between two `Shape`s.\r\n\r\n**EDIT**\r\n\r\nFinding the intersection points is non-trivial as far as I know, as you need to apply a different algorithm depending on the shapes you&#39;re analysing.  For example, the algorithm for the intersection between two circles is given [here][2], whereas the algorithm for calculating the intrsection between two Bezier curves is completely different ([here][3]).\r\n\r\n**EDIT 2**\r\n\r\nOne suggestion: You could look into the `PathIterator` class, which returns a description of a shape&#39;s path as a sequence of segments.  In particular check out `FlatteningPathIterator`, which will collapse any curves into multiple straight lines.  Once your path has been reduced to straight lines, calculating the intersection points will be simple ... although obviously this is an approximation in cases where your shape contains curves.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/geom/Area.html\r\n  [2]: http://mathworld.wolfram.com/Circle-CircleIntersection.html\r\n  [3]: http://www.truetex.com/bezint.htm","title":"Geometry library for Java","body":"<p>The package you should look at it <code>java.awt.geom</code>, which is part of the JDK.</p>\n\n<p>In particular check out the <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/geom/Area.html\" rel=\"noreferrer\"><code>java.awt.geom.Area</code></a> class, which allows you to perform intersection operations between two <code>Shape</code>s.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Finding the intersection points is non-trivial as far as I know, as you need to apply a different algorithm depending on the shapes you're analysing.  For example, the algorithm for the intersection between two circles is given <a href=\"http://mathworld.wolfram.com/Circle-CircleIntersection.html\" rel=\"noreferrer\">here</a>, whereas the algorithm for calculating the intrsection between two Bezier curves is completely different (<a href=\"http://www.truetex.com/bezint.htm\" rel=\"noreferrer\">here</a>).</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>One suggestion: You could look into the <code>PathIterator</code> class, which returns a description of a shape's path as a sequence of segments.  In particular check out <code>FlatteningPathIterator</code>, which will collapse any curves into multiple straight lines.  Once your path has been reduced to straight lines, calculating the intersection points will be simple ... although obviously this is an approximation in cases where your shape contains curves.</p>\n"},{"comments":[{"owner":{"account_id":1711732,"reputation":66,"user_id":1569659,"display_name":"heyhey2k"},"score":0,"creation_date":1595560051,"post_id":2160556,"comment_id":111523536,"body_markdown":"Another name change with the later versions. Much of the documentation out there still references the old stuff. Same [JTS library](https://github.com/locationtech/jts) here.","body":"Another name change with the later versions. Much of the documentation out there still references the old stuff. Same <a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">JTS library</a> here."}],"tags":[],"owner":{"account_id":23343,"reputation":27090,"user_id":58391,"accept_rate":69,"display_name":"codekaizen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264750844,"creation_date":1264750844,"answer_id":2160556,"question_id":2115976,"body_markdown":"JTS - Java Topology Suite - is the best.\r\n\r\nhttp://www.vividsolutions.com/jts/jtshome.htm\r\n\r\nIt is free, fast, robust, and can handle degenerate intersections.","title":"Geometry library for Java","body":"<p>JTS - Java Topology Suite - is the best.</p>\n\n<p><a href=\"http://www.vividsolutions.com/jts/jtshome.htm\" rel=\"nofollow noreferrer\">http://www.vividsolutions.com/jts/jtshome.htm</a></p>\n\n<p>It is free, fast, robust, and can handle degenerate intersections.</p>\n"},{"comments":[{"owner":{"account_id":33004,"reputation":5149,"user_id":92018,"accept_rate":100,"display_name":"KarlP"},"score":3,"creation_date":1297632915,"post_id":2201979,"comment_id":5570846,"body_markdown":"Missed Kendrics link:   New URL : http://tsusiatsoftware.net/jts/main.html","body":"Missed Kendrics link:   New URL : <a href=\"http://tsusiatsoftware.net/jts/main.html\" rel=\"nofollow noreferrer\">tsusiatsoftware.net/jts/main.html</a>"},{"owner":{"account_id":3419915,"reputation":678,"user_id":2986286,"display_name":"0kcats"},"score":3,"creation_date":1455810057,"post_id":2201979,"comment_id":58665110,"body_markdown":"A free option from Esri: https://github.com/Esri/geometry-api-java","body":"A free option from Esri: <a href=\"https://github.com/Esri/geometry-api-java\" rel=\"nofollow noreferrer\">github.com/Esri/geometry-api-java</a>"},{"owner":{"account_id":34653,"reputation":1611,"user_id":97995,"accept_rate":67,"display_name":"rburhum"},"score":0,"creation_date":1455855744,"post_id":2201979,"comment_id":58686557,"body_markdown":"agreed. In my defense, it did not exist in 2010 :)","body":"agreed. In my defense, it did not exist in 2010 :)"},{"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"score":0,"creation_date":1519073206,"post_id":2201979,"comment_id":84751698,"body_markdown":"Beware that JTS is still a complete disaster for 3D (it messes up the z coordinate). I tried creating a facade to deal with it but I gave up after the unit testing for corner cases showed that it would be a lot of work.","body":"Beware that JTS is still a complete disaster for 3D (it messes up the z coordinate). I tried creating a facade to deal with it but I gave up after the unit testing for corner cases showed that it would be a lot of work."}],"tags":[],"owner":{"account_id":34653,"reputation":1611,"user_id":97995,"accept_rate":67,"display_name":"rburhum"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1486548909,"creation_date":1265306410,"answer_id":2201979,"question_id":2115976,"body_markdown":"[JTS][1] is your best free open source option. The method you are looking for in JTS is [here][2]\r\n\r\nAs far as commercial options, you have [ESRI&#39;s Java JNI version][3] of their ArcObjects library which has a very robust Geometry Library. The interface on ESRI&#39;s library is called [ITopologicalOperator][4]\r\n\r\n\r\n  [1]: https://github.com/locationtech/jts\r\n  [2]: http://locationtech.github.io/jts/javadoc/org/locationtech/jts/geom/Geometry.html#intersects(org.locationtech.jts.geom.Geometry)\r\n  [3]: http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/index.html\r\n  [4]: http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/com/esri/arcgis/geometry/ITopologicalOperator.html\r\n\r\nIf all you are trying to do is Geometric operations, JTS is your best option - it is an excellent library which has many ports to different languages. If, on the other hand, you are looking for an entire GIS system that does complex symbology, supports GIS workflows and multiuser editing, printing, etc etc, then I would start looking at the ESRI libraries.","title":"Geometry library for Java","body":"<p><a href=\"https://github.com/locationtech/jts\" rel=\"noreferrer\">JTS</a> is your best free open source option. The method you are looking for in JTS is <a href=\"http://locationtech.github.io/jts/javadoc/org/locationtech/jts/geom/Geometry.html#intersects(org.locationtech.jts.geom.Geometry)\" rel=\"noreferrer\">here</a></p>\n\n<p>As far as commercial options, you have <a href=\"http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/index.html\" rel=\"noreferrer\">ESRI's Java JNI version</a> of their ArcObjects library which has a very robust Geometry Library. The interface on ESRI's library is called <a href=\"http://edndoc.esri.com/arcobjects/9.2/java/api/arcobjects/com/esri/arcgis/geometry/ITopologicalOperator.html\" rel=\"noreferrer\">ITopologicalOperator</a></p>\n\n<p>If all you are trying to do is Geometric operations, JTS is your best option - it is an excellent library which has many ports to different languages. If, on the other hand, you are looking for an entire GIS system that does complex symbology, supports GIS workflows and multiuser editing, printing, etc etc, then I would start looking at the ESRI libraries.</p>\n"},{"tags":[],"owner":{"account_id":103436,"reputation":71,"user_id":277046,"display_name":"Kendric Beachey"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664919632,"creation_date":1266592393,"answer_id":2297302,"question_id":2115976,"body_markdown":"I found that JTS has changed hands, or changed home sites, or something.  A newer version can be found here: http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/\r\n\r\nEdit:  This might be its new home page: http://tsusiatsoftware.net/jts/main.html\r\n\r\nEdit:  Moved again! https://locationtech.github.io/jts/","title":"Geometry library for Java","body":"<p>I found that JTS has changed hands, or changed home sites, or something.  A newer version can be found here: <a href=\"http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/\" rel=\"nofollow noreferrer\">http://maven.geotoolkit.org/com/vividsolutions/jts/1.10/</a></p>\n<p>Edit:  This might be its new home page: <a href=\"http://tsusiatsoftware.net/jts/main.html\" rel=\"nofollow noreferrer\">http://tsusiatsoftware.net/jts/main.html</a></p>\n<p>Edit:  Moved again! <a href=\"https://locationtech.github.io/jts/\" rel=\"nofollow noreferrer\">https://locationtech.github.io/jts/</a></p>\n"},{"comments":[{"owner":{"account_id":31982,"reputation":8778,"user_id":88198,"accept_rate":86,"display_name":"rescdsk"},"score":0,"creation_date":1326986162,"post_id":6445845,"comment_id":11171985,"body_markdown":"It looks like they&#39;ve had 3 releases in late 2011, after a long period of inactivity.  Also, the library looks much more compact than JTS--nice not to bloat things too much!","body":"It looks like they&#39;ve had 3 releases in late 2011, after a long period of inactivity.  Also, the library looks much more compact than JTS--nice not to bloat things too much!"},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1452637796,"post_id":6445845,"comment_id":57256152,"body_markdown":"check [this answer](http://gamedev.stackexchange.com/a/114761/36681) too, I found many alternatives","body":"check <a href=\"http://gamedev.stackexchange.com/a/114761/36681\">this answer</a> too, I found many alternatives"}],"tags":[],"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1308773123,"creation_date":1308773123,"answer_id":6445845,"question_id":2115976,"body_markdown":"For non-GIS purposes I may suggest **javaGeom** library. It uses the Euclidean abstraction of geometry which most of the people know from school. There&#39;s no recent activity on this project, but I find it well structured and easy to use. They say it supports boolean operations, but never tested how well they work. There is a pretty feature-rich testing application named Euclid, which is developed from the same author.\r\nYou can try to use it, but only if you are sure it&#39;s gonna work for you.\r\n\r\nhttp://sourceforge.net/projects/geom-java/","title":"Geometry library for Java","body":"<p>For non-GIS purposes I may suggest <strong>javaGeom</strong> library. It uses the Euclidean abstraction of geometry which most of the people know from school. There's no recent activity on this project, but I find it well structured and easy to use. They say it supports boolean operations, but never tested how well they work. There is a pretty feature-rich testing application named Euclid, which is developed from the same author.\nYou can try to use it, but only if you are sure it's gonna work for you.</p>\n\n<p><a href=\"http://sourceforge.net/projects/geom-java/\" rel=\"noreferrer\">http://sourceforge.net/projects/geom-java/</a></p>\n"}],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49857,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"closed_date":1369567906,"accepted_answer_id":2201979,"answer_count":5,"score":35,"last_activity_date":1664919632,"creation_date":1264149400,"question_id":2115976,"body_markdown":"Is there any geometry library available for Java? I&#39;m looking for solution to get an intersection point(s) between two geometry objects.","title":"Geometry library for Java","body":"<p>Is there any geometry library available for Java? I'm looking for solution to get an intersection point(s) between two geometry objects.</p>\n"},{"tags":["java","autodesk-forge"],"answers":[{"tags":[],"owner":{"account_id":6212245,"reputation":8523,"user_id":4838205,"accept_rate":82,"display_name":"Augusto Goncalves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664918269,"creation_date":1664918269,"answer_id":73953726,"question_id":73893155,"body_markdown":"Sorry, that SDK does not have that option yet. I would suggest using direct REST requests. ","title":"the output type “SVF2” doesn’t exist in the java library “forge java sdk”","body":"<p>Sorry, that SDK does not have that option yet. I would suggest using direct REST requests.</p>\n"}],"owner":{"account_id":26383587,"reputation":1,"user_id":20036467,"display_name":"Hamdi Mahjoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664918269,"creation_date":1664443287,"question_id":73893155,"body_markdown":"I&#39;m coding with Java language ( Spring Boot framework ) and I&#39;m using “forge java sdk” dependency (version 1.0.2)\r\n\r\n[forge java sdk dependency][1]\r\n\r\nI want to translate a &#39;.rvt&#39; file to SVF2 format but I can’t find this output type in the forge library.\r\n\r\n[Forge library piece of code][2]\r\n\r\nSo in this case , I can’t set “SVF2” format. How can i fix that ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nnyeI.png\r\n  [2]: https://i.stack.imgur.com/ie13Q.png","title":"the output type “SVF2” doesn’t exist in the java library “forge java sdk”","body":"<p>I'm coding with Java language ( Spring Boot framework ) and I'm using “forge java sdk” dependency (version 1.0.2)</p>\n<p><a href=\"https://i.stack.imgur.com/nnyeI.png\" rel=\"nofollow noreferrer\">forge java sdk dependency</a></p>\n<p>I want to translate a '.rvt' file to SVF2 format but I can’t find this output type in the forge library.</p>\n<p><a href=\"https://i.stack.imgur.com/ie13Q.png\" rel=\"nofollow noreferrer\">Forge library piece of code</a></p>\n<p>So in this case , I can’t set “SVF2” format. How can i fix that ?</p>\n"},{"tags":["java","swing","jtextfield","boxlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1664915892,"post_id":73953335,"comment_id":130578224,"body_markdown":"1) I wouldn&#39;t use BoxLayout for this. 2) Whenever I see lists of variables with increasing numbers at their ends, my mind yells out: &quot;for the love of all things beautiful, use arrays or ArrayLists!&quot; That code has so much ugly, dangerous and unnecessary repetition -- dangerous because one typo or seemingly trivial error and the whole house of cards comes crumbling down. Also, there is gross over-use of static modifier here. The only things that should be static in this program are the main method and any constants.","body":"1) I wouldn&#39;t use BoxLayout for this. 2) Whenever I see lists of variables with increasing numbers at their ends, my mind yells out: &quot;for the love of all things beautiful, use arrays or ArrayLists!&quot; That code has so much ugly, dangerous and unnecessary repetition -- dangerous because one typo or seemingly trivial error and the whole house of cards comes crumbling down. Also, there is gross over-use of static modifier here. The only things that should be static in this program are the main method and any constants."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916292,"post_id":73953335,"comment_id":130578338,"body_markdown":"Also, I have no idea what sort of structure you&#39;re trying to create","body":"Also, I have no idea what sort of structure you&#39;re trying to create"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916399,"post_id":73953335,"comment_id":130578370,"body_markdown":"As for what I&#39;d use, again, I have no idea what sort of structure you&#39;re trying to build or how your program is supposed to look like. Please post an image or link to an image or something, anything. But BoxLayout isn&#39;t used for this sort of thing.","body":"As for what I&#39;d use, again, I have no idea what sort of structure you&#39;re trying to build or how your program is supposed to look like. Please post an image or link to an image or something, anything. But BoxLayout isn&#39;t used for this sort of thing."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916435,"post_id":73953335,"comment_id":130578380,"body_markdown":"@HovercraftFullOfEels. I want to have my text Box and my Button at the beginning. After any weekday is typed in, I also want to display If I have school on this day + every hour of this day under each other.","body":"@HovercraftFullOfEels. I want to have my text Box and my Button at the beginning. After any weekday is typed in, I also want to display If I have school on this day + every hour of this day under each other."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664916451,"post_id":73953335,"comment_id":130578387,"body_markdown":"Picture, image, something please","body":"Picture, image, something please"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916590,"post_id":73953335,"comment_id":130578430,"body_markdown":"@HovercraftFullOfEels. I&#39;m here for critique. But don&#39;t just say: this is bad and this is bad. That doesn&#39;t help at all. If you want to comment on something that isn&#39;t included in my question, I probably don&#39;t even know *why* it is a problem. So, you&#39;d have to be very detailed when it comes to stuff like that to not come of as unfriendly.","body":"@HovercraftFullOfEels. I&#39;m here for critique. But don&#39;t just say: this is bad and this is bad. That doesn&#39;t help at all. If you want to comment on something that isn&#39;t included in my question, I probably don&#39;t even know <i>why</i> it is a problem. So, you&#39;d have to be very detailed when it comes to stuff like that to not come of as unfriendly."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916619,"post_id":73953335,"comment_id":130578441,"body_markdown":"A picture or an image of your GUI, please","body":"A picture or an image of your GUI, please"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916687,"post_id":73953335,"comment_id":130578460,"body_markdown":"@HovercraftFullOfEels. You mean for displaying the school hours? I want to use JLabels for that. I just want to display text underneath each other. That works so far. But before the text is displayed, my text box just takes up all space.","body":"@HovercraftFullOfEels. You mean for displaying the school hours? I want to use JLabels for that. I just want to display text underneath each other. That works so far. But before the text is displayed, my text box just takes up all space."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664916711,"post_id":73953335,"comment_id":130578468,"body_markdown":"Again, *show* what you&#39;re trying to create, don&#39;t just describe it. Draw it on paper and photograph the image or draw with some simple painting program.","body":"Again, <i>show</i> what you&#39;re trying to create, don&#39;t just describe it. Draw it on paper and photograph the image or draw with some simple painting program."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916769,"post_id":73953335,"comment_id":130578478,"body_markdown":"If you don&#39;t want the JTextField to take up all the space, again, don&#39;t use a BoxLayout, or use it in a smart way (how, hard to say) but you&#39;re not showing what it supposed to look like. Please help a guy out here.","body":"If you don&#39;t want the JTextField to take up all the space, again, don&#39;t use a BoxLayout, or use it in a smart way (how, hard to say) but you&#39;re not showing what it supposed to look like. Please help a guy out here."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664916778,"post_id":73953335,"comment_id":130578481,"body_markdown":"@HovercraftFullOfEels. Okay, I will try to provide that. I didn&#39;t understand what you meant with a picture. mb","body":"@HovercraftFullOfEels. Okay, I will try to provide that. I didn&#39;t understand what you meant with a picture. mb"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916807,"post_id":73953335,"comment_id":130578490,"body_markdown":"I&#39;m not sure how I can be more clear about this. Your descriptions are very hard to follow.","body":"I&#39;m not sure how I can be more clear about this. Your descriptions are very hard to follow."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664916989,"post_id":73953335,"comment_id":130578545,"body_markdown":"Often, the JTextField and the button would often be in the same JPanel that is displayed in the PAGE_START location of a BorderLayout. You should probably be doing this. Here a BoxLayout could work fine.","body":"Often, the JTextField and the button would often be in the same JPanel that is displayed in the PAGE_START location of a BorderLayout. You should probably be doing this. Here a BoxLayout could work fine."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664917118,"post_id":73953335,"comment_id":130578578,"body_markdown":"@HovercraftFullOfEels. I have edited my post. In the picture where I show what It should look like, I removed the BoxLayout Manager.","body":"@HovercraftFullOfEels. I have edited my post. In the picture where I show what It should look like, I removed the BoxLayout Manager."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664917532,"post_id":73953335,"comment_id":130578668,"body_markdown":"Thank you. BoxLayout could work fine as per my example below.","body":"Thank you. BoxLayout could work fine as per my example below."}],"answers":[{"comments":[{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664917604,"post_id":73953623,"comment_id":130578697,"body_markdown":"Thanks for your patience! I sadly do not understand your proposal. Do you think that there is a way to make it more clear for me?\nDo I have to create a new class with the code in your proposal?","body":"Thanks for your patience! I sadly do not understand your proposal. Do you think that there is a way to make it more clear for me? Do I have to create a new class with the code in your proposal?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664917704,"post_id":73953623,"comment_id":130578731,"body_markdown":"@asgr: no, just alter your current code. The data that is under the text field and the button should be in its own JPanel, one that is placed border layout center in the main JPanel. Nest those JPanels!","body":"@asgr: no, just alter your current code. The data that is under the text field and the button should be in its own JPanel, one that is placed border layout center in the main JPanel. Nest those JPanels!"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664917799,"post_id":73953623,"comment_id":130578760,"body_markdown":"I think that I kind of get your proposal but cannot think of how to include it into my code.","body":"I think that I kind of get your proposal but cannot think of how to include it into my code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664917910,"post_id":73953623,"comment_id":130578786,"body_markdown":"Also, if the user should only type in the days of the week and nothing else, then don&#39;t use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them. As for your other questions, I have no idea what the rest of your code is doing or should look like, but I suggest that you play around with your code, experiment and see what you can come up with.","body":"Also, if the user should only type in the days of the week and nothing else, then don&#39;t use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them. As for your other questions, I have no idea what the rest of your code is doing or should look like, but I suggest that you play around with your code, experiment and see what you can come up with."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664918331,"post_id":73953623,"comment_id":130578881,"body_markdown":"@asgr: please see edit to answer. Here is a great use of static -- for a constant String array, one that is then used to fill a JComboBox. You can then attach an ActionListener to the same box and respond to it. This prevents the user from typing in nonsense and your program from not knowing what to do with such nonsense.","body":"@asgr: please see edit to answer. Here is a great use of static -- for a constant String array, one that is then used to fill a JComboBox. You can then attach an ActionListener to the same box and respond to it. This prevents the user from typing in nonsense and your program from not knowing what to do with such nonsense."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664918259,"creation_date":1664917417,"answer_id":73953623,"question_id":73953335,"body_markdown":"So yes, put the JTextField and JButton in their own JPanel in a BoxLayout using JPanel, that is fine, and place that JPanel in the BorderLayout.PAGE_START position of a JPanel that uses BorderLayout with the rest of the GUI below it. For example:\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main2b {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            GamePanel2 mainPanel = new GamePanel2();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass GamePanel2 extends JPanel {\r\n    private JTextField field = new JTextField(10);\r\n    private JButton knopf = new JButton(&quot;klick&quot;);\r\n    \r\n    public GamePanel2() {\r\n        knopf.setMnemonic(KeyEvent.VK_K);\r\n        \r\n        JPanel topPanel = new JPanel();\r\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\n        topPanel.add(field);\r\n        topPanel.add(knopf);\r\n        \r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(Box.createRigidArea(new Dimension(650, 400)));\r\n        \r\n    }\r\n}\r\n```\r\n\r\ndisplays as\r\n\r\n[![enter image description here][1]][1]\r\n\r\n___________________________________________\r\n\r\nOther unrelated issues:\r\n\r\n* Avoid static variables unless there is a distinct need to use them (that isn&#39;t the case here) such as constants of a class or fields that must be part of the class, not the instance.\r\n* Use arrays or ArrayLists to reduce code repetition. This will make your code much easier to debug and enhance.\r\n* Also, you can give your JTextField an ActionListener, the same as the button, and it will be triggered when enter is pressed and the text field has focus.\r\n* If the user should only type in the days of the week and nothing else, then don&#39;t use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them.\r\n\r\nFor example:\r\n\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass GamePanel2 extends JPanel {\r\n    public static final String[] TAG_DER_WOCH = { &quot;Montag&quot;, &quot;Dienstag&quot;, &quot;Mittwoch&quot;, &quot;Donnerstag&quot;, &quot;Freitag&quot;, &quot;Samstag&quot;,\r\n            &quot;Sonntag&quot; };\r\n    private JComboBox&lt;String&gt; tagDerWochCombo = new JComboBox&lt;&gt;(TAG_DER_WOCH);\r\n    // private JTextField field = new JTextField(10);\r\n    // private JButton knopf = new JButton(&quot;klick&quot;);\r\n\r\n    public GamePanel2() {\r\n        tagDerWochCombo.setSelectedIndex(-1);\r\n        // knopf.setMnemonic(KeyEvent.VK_K);\r\n        \r\n        tagDerWochCombo.addActionListener(e -&gt; {\r\n            System.out.println(tagDerWochCombo.getSelectedItem());\r\n        });\r\n\r\n        JPanel topPanel = new JPanel();\r\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\r\n        topPanel.add(tagDerWochCombo);\r\n        // topPanel.add(knopf);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);\r\n        add(Box.createRigidArea(new Dimension(650, 400)));\r\n\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/93msA.jpg","title":"Set size of JTextField with BoyLayout Manager. Java","body":"<p>So yes, put the JTextField and JButton in their own JPanel in a BoxLayout using JPanel, that is fine, and place that JPanel in the BorderLayout.PAGE_START position of a JPanel that uses BorderLayout with the rest of the GUI below it. For example:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.*;\n\npublic class Main2b {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            GamePanel2 mainPanel = new GamePanel2();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass GamePanel2 extends JPanel {\n    private JTextField field = new JTextField(10);\n    private JButton knopf = new JButton(&quot;klick&quot;);\n    \n    public GamePanel2() {\n        knopf.setMnemonic(KeyEvent.VK_K);\n        \n        JPanel topPanel = new JPanel();\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n        topPanel.add(field);\n        topPanel.add(knopf);\n        \n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(Box.createRigidArea(new Dimension(650, 400)));\n        \n    }\n}\n</code></pre>\n<p>displays as</p>\n<p><a href=\"https://i.stack.imgur.com/93msA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93msA.jpg\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Other unrelated issues:</p>\n<ul>\n<li>Avoid static variables unless there is a distinct need to use them (that isn't the case here) such as constants of a class or fields that must be part of the class, not the instance.</li>\n<li>Use arrays or ArrayLists to reduce code repetition. This will make your code much easier to debug and enhance.</li>\n<li>Also, you can give your JTextField an ActionListener, the same as the button, and it will be triggered when enter is pressed and the text field has focus.</li>\n<li>If the user should only type in the days of the week and nothing else, then don't use a JTextField for this where the user can type in anything. Instead, use a JComboBox where they can only choose the Strings that you offer to them.</li>\n</ul>\n<p>For example:</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass GamePanel2 extends JPanel {\n    public static final String[] TAG_DER_WOCH = { &quot;Montag&quot;, &quot;Dienstag&quot;, &quot;Mittwoch&quot;, &quot;Donnerstag&quot;, &quot;Freitag&quot;, &quot;Samstag&quot;,\n            &quot;Sonntag&quot; };\n    private JComboBox&lt;String&gt; tagDerWochCombo = new JComboBox&lt;&gt;(TAG_DER_WOCH);\n    // private JTextField field = new JTextField(10);\n    // private JButton knopf = new JButton(&quot;klick&quot;);\n\n    public GamePanel2() {\n        tagDerWochCombo.setSelectedIndex(-1);\n        // knopf.setMnemonic(KeyEvent.VK_K);\n        \n        tagDerWochCombo.addActionListener(e -&gt; {\n            System.out.println(tagDerWochCombo.getSelectedItem());\n        });\n\n        JPanel topPanel = new JPanel();\n        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.LINE_AXIS));\n        topPanel.add(tagDerWochCombo);\n        // topPanel.add(knopf);\n\n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);\n        add(Box.createRigidArea(new Dimension(650, 400)));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953623,"answer_count":1,"score":0,"last_activity_date":1664918259,"creation_date":1664915361,"question_id":73953335,"body_markdown":"I have seen this question been answered. but not for BoxLayout.\r\nI have created a schedule app in Java and because I want to display every hour under each other, I have chosen BoxLayout. When every hour is displayed, everything looks perfect. However, before my method is called by clicking a button, the JTextField just takes up the whole screen (with the button). How do I make that different?\r\n\r\nMain class:\r\n```Java\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\tJFrame window = new JFrame();\r\n\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\twindow.setResizable(true);\r\n\t\t\t\t\r\n\tGamePanel gamepanel = new GamePanel();\r\n\t\r\n\twindow.add(gamepanel);\r\n\t\r\n\twindow.pack();\r\n\t\t\t\r\n\twindow.setLocationRelativeTo(null);\r\n\twindow.setVisible(true)\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\nGamePanel Class:\r\n```Java\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\t\r\n\t//Screen Settings\r\n\tfinal int originalTileSize = 16;\r\n\tfinal int scale = 3;\r\n\tfinal int tileSize = originalTileSize * scale;\r\n\tfinal int maxScreenCol = 16;\r\n\tfinal int maxScreenRow = 12;\r\n\tfinal int screenWidth = tileSize * maxScreenCol;\r\n\tfinal int screenHeight = tileSize * maxScreenRow;\r\n\t\r\n\t//Initialize the things that are displayed\r\n\tJButton knopf;\r\n\tJTextField field;\r\n\tTage days; \r\n\tString textInhalt;\r\n\tstatic JLabel displayIsSchool;\r\n\tstatic JLabel stunden;\r\n\tstatic JLabel stunden1;\r\n\tstatic JLabel stunden2;\r\n\tstatic JLabel stunden3;\r\n\tstatic JLabel stunden4;\r\n\tstatic JLabel stunden5;\r\n\tstatic JLabel stunden6;\r\n\tstatic JLabel stunden7;\r\n\tstatic JLabel stunden8;\r\n\t\r\n\t\t//Panel constructor\r\n\t\tpublic GamePanel(){\r\n\t\t\t\r\n\t\t\tsuper();\r\n\t\t\tthis.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\t\t\r\n\t\t\t//JFrame stats\r\n\t\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\t\tthis.setBackground(Color.darkGray);\r\n\t\t\tthis.setDoubleBuffered(true);\r\n\t\t\tthis.setFocusable(true);\r\n\t\t\t\r\n\t\t\t//Initialize Text field \r\n\t\t\tfield = new JTextField();\r\n\t\t\tfield.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\tfield.setPreferredSize(new Dimension (100, 50));\r\n\t\t\t\r\n\t\t\t//Initialize Button \r\n\t\t\tknopf = new JButton(&quot;klick&quot;);\r\n\t\t\tknopf.addActionListener(this);\r\n\t\t\tknopf.setPreferredSize(new Dimension (100, 35));\r\n\t\t\t\r\n\t\t\t//Initialize isSchool\r\n\t\t\tdisplayIsSchool = new JLabel(&quot;&quot;);\r\n\t\t\tdisplayIsSchool.setForeground(Color.white);\r\n\t\t\tdisplayIsSchool.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\t//Initialize stunden\r\n\t\t\tstunden = new JLabel(&quot;&quot;);\r\n\t\t\tstunden.setForeground(Color.white);\r\n\t\t\tstunden.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\t\r\n\t\t\tstunden1 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden1.setForeground(Color.white);\r\n\t\t\tstunden1.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden2 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden2.setForeground(Color.white);\r\n\t\t\tstunden2.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden3 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden3.setForeground(Color.white);\r\n\t\t\tstunden3.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden4 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden4.setForeground(Color.white);\r\n\t\t\tstunden4.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden5 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden5.setForeground(Color.white);\r\n\t\t\tstunden5.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden6 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden6.setForeground(Color.white);\r\n\t\t\tstunden6.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden7 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden7.setForeground(Color.white);\r\n\t\t\tstunden7.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\tstunden8 = new JLabel(&quot;&quot;);\r\n\t\t\tstunden8.setForeground(Color.white);\r\n\t\t\tstunden8.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\t\r\n\t\t\t//Add everything to JFrame\r\n\t\t\tthis.add(field);\r\n\t\t\tthis.add(knopf);\r\n\t\t\tthis.add(displayIsSchool);\r\n\t\t\tthis.add(stunden);\r\n\t\t\tthis.add(stunden1);\r\n\t\t\tthis.add(stunden2);\r\n\t\t\tthis.add(stunden3);\r\n\t\t\tthis.add(stunden4);\r\n\t\t\tthis.add(stunden5);\r\n\t\t\tthis.add(stunden6);\r\n\t\t\tthis.add(stunden7);\r\n\t\t\tthis.add(stunden8);\r\n\t\t}\r\n\t\t\r\n\t//Call Method for set Day\r\n\tpublic void sayIf() {\r\n\r\n\t\t//Switch statement for user Input \r\n\t\tswitch(textInhalt) \r\n\t\t{\r\n\t\t\t\t\r\n\t\t\tcase &quot;Montag&quot;:\r\n\t\t\t\tMontag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Dienstag&quot;:\r\n\t\t\t\tDienstag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Mittwoch&quot;:\r\n\t\t\t\tMittwoch.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Donnerstag&quot;:\r\n\t\t\t\tDonnerstag.sagName();\r\n\t\t\t\tbreak;\t\r\n\t\t\tcase &quot;Freitag&quot;:\r\n\t\t\t\tFreitag.sagName();\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Samstag&quot;:\r\n\t\t\t\tSamstag.sagName();\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;Sonntag&quot;:\r\n\t\t\t\tSonntag.sagName();\r\n\t\t\t\tbreak;\t\r\n\t\t}\r\n\t}\t\r\n\t\r\n\t\t//schedule\r\n\t\tstatic String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;Frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\r\n\t\tstatic String[] dinHours = {&quot;Deutsch&quot;, &quot;Mathe&quot;, &quot;Physik&quot;, &quot;Physik&quot;, &quot;Englisch&quot;, &quot;Frei&quot;, &quot;Franz&#246;sisch&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] mitHours = {&quot;Franz&#246;sisch&quot;, &quot;Franz&#246;sisch&quot;, &quot;Englisch&quot;, &quot;Tutor&quot;, &quot;Geschichte&quot;, &quot;Geschichte&quot;, &quot;Frei&quot;, &quot;Sport&quot;, &quot;Sport&quot;};\r\n\t\tstatic String[] donHours = {&quot;Englisch&quot;, &quot;Englisch&quot;, &quot;Deutsch&quot;, &quot;Deutsch&quot;, &quot;Informatik&quot;, &quot;Informatik&quot;, &quot;Frei&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] freHours = {&quot;PoWi&quot;, &quot;PoWi&quot;, &quot;Ethik&quot;, &quot;Ethik&quot;, &quot;Deutsch&quot;, &quot;Frei&quot;, &quot;Mathe&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\r\n\t\tstatic String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\t\r\n\t\t//create Day objects \r\n\t\tstatic Tage Montag = new Tage(true, monHours, &quot;Montag&quot;);\r\n\t\tstatic Tage Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\r\n\t\tstatic Tage Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\r\n\t\tstatic Tage Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\r\n\t\tstatic Tage Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\r\n\t\tstatic Tage Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\r\n\t\tstatic Tage Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;\t\t\r\n\t\t\r\n\t\t\r\n\t\t//keyListener \r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(e.getSource()==knopf) {\r\n\t\r\n\t\t\t\ttextInhalt = field.getText();\r\n\t\t\t\tsayIf();\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\n```\r\n\r\nTag (Day) Class: \r\n```Java\r\npackage basicsPack;\r\n\r\npublic class Tage{\r\n\t\r\n\t//Variables for constructor \r\n\tboolean isSchool;\r\n\tString[] stunden;\r\n\tString name;\r\n\t\r\n\t//Tage constructor \r\n\tpublic Tage(boolean isSchool, String[] stunden, String name) {\r\n\t\t\r\n\t\tthis.isSchool = isSchool;  \r\n\t\tthis.stunden = stunden;\r\n\t\tthis.name = name;\r\n\t\t\r\n\t}\r\n\t\r\n\t//sagName method\r\n\tpublic void sagName() {\r\n\t\t\r\n\t\t//Display hours an rather I have school\r\n\t\tif(this.isSchool == true) {\r\n\t\t\r\n\t\t\tGamePanel.displayIsSchool.setText(&quot;Du hast am &quot;+ name + &quot; Schule &quot;);\r\n\t\t\tGamePanel.stunden.setText(this.stunden[0]);\r\n\t\t\tGamePanel.stunden1.setText(this.stunden[1]);\r\n\t\t\tGamePanel.stunden2.setText(this.stunden[2]);\r\n\t\t\tGamePanel.stunden3.setText(this.stunden[3]);\r\n\t\t\tGamePanel.stunden4.setText(this.stunden[4]);\r\n\t\t\tGamePanel.stunden5.setText(this.stunden[5]);\r\n\t\t\tGamePanel.stunden6.setText(this.stunden[6]);\r\n\t\t\tGamePanel.stunden7.setText(this.stunden[7]);\r\n\t\t\tGamePanel.stunden8.setText(this.stunden[8]);\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tGamePanel.displayIsSchool.setText(&quot;Du hast am &quot; + name + &quot; keine Schule&quot;);\r\n\t\t\tGamePanel.stunden.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden1.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden2.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden3.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden4.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden5.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden6.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden7.setText(&quot;&quot;);\r\n\t\t\tGamePanel.stunden8.setText(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n[![This is what it looks like at the moment][1]][1]\r\n\r\n\r\n[![This Is what I want it to look like][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hj1d9.png\r\n  [2]: https://i.stack.imgur.com/b5Ml2.png","title":"Set size of JTextField with BoyLayout Manager. Java","body":"<p>I have seen this question been answered. but not for BoxLayout.\nI have created a schedule app in Java and because I want to display every hour under each other, I have chosen BoxLayout. When every hour is displayed, everything looks perfect. However, before my method is called by clicking a button, the JTextField just takes up the whole screen (with the button). How do I make that different?</p>\n<p>Main class:</p>\n<pre><code>public class Main {\n    \n    public static void main(String[] args) {\n    JFrame window = new JFrame();\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    window.setResizable(true);\n                \n    GamePanel gamepanel = new GamePanel();\n    \n    window.add(gamepanel);\n    \n    window.pack();\n            \n    window.setLocationRelativeTo(null);\n    window.setVisible(true)\n    \n    }\n}\n</code></pre>\n<p>GamePanel Class:</p>\n<pre><code>public class GamePanel extends JPanel implements ActionListener {\n    \n    //Screen Settings\n    final int originalTileSize = 16;\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n    \n    //Initialize the things that are displayed\n    JButton knopf;\n    JTextField field;\n    Tage days; \n    String textInhalt;\n    static JLabel displayIsSchool;\n    static JLabel stunden;\n    static JLabel stunden1;\n    static JLabel stunden2;\n    static JLabel stunden3;\n    static JLabel stunden4;\n    static JLabel stunden5;\n    static JLabel stunden6;\n    static JLabel stunden7;\n    static JLabel stunden8;\n    \n        //Panel constructor\n        public GamePanel(){\n            \n            super();\n            this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n            \n            //JFrame stats\n            this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n            this.setBackground(Color.darkGray);\n            this.setDoubleBuffered(true);\n            this.setFocusable(true);\n            \n            //Initialize Text field \n            field = new JTextField();\n            field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n            field.setPreferredSize(new Dimension (100, 50));\n            \n            //Initialize Button \n            knopf = new JButton(&quot;klick&quot;);\n            knopf.addActionListener(this);\n            knopf.setPreferredSize(new Dimension (100, 35));\n            \n            //Initialize isSchool\n            displayIsSchool = new JLabel(&quot;&quot;);\n            displayIsSchool.setForeground(Color.white);\n            displayIsSchool.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            //Initialize stunden\n            stunden = new JLabel(&quot;&quot;);\n            stunden.setForeground(Color.white);\n            stunden.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n            \n            stunden1 = new JLabel(&quot;&quot;);\n            stunden1.setForeground(Color.white);\n            stunden1.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden2 = new JLabel(&quot;&quot;);\n            stunden2.setForeground(Color.white);\n            stunden2.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden3 = new JLabel(&quot;&quot;);\n            stunden3.setForeground(Color.white);\n            stunden3.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden4 = new JLabel(&quot;&quot;);\n            stunden4.setForeground(Color.white);\n            stunden4.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden5 = new JLabel(&quot;&quot;);\n            stunden5.setForeground(Color.white);\n            stunden5.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden6 = new JLabel(&quot;&quot;);\n            stunden6.setForeground(Color.white);\n            stunden6.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden7 = new JLabel(&quot;&quot;);\n            stunden7.setForeground(Color.white);\n            stunden7.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            stunden8 = new JLabel(&quot;&quot;);\n            stunden8.setForeground(Color.white);\n            stunden8.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        \n            //Add everything to JFrame\n            this.add(field);\n            this.add(knopf);\n            this.add(displayIsSchool);\n            this.add(stunden);\n            this.add(stunden1);\n            this.add(stunden2);\n            this.add(stunden3);\n            this.add(stunden4);\n            this.add(stunden5);\n            this.add(stunden6);\n            this.add(stunden7);\n            this.add(stunden8);\n        }\n        \n    //Call Method for set Day\n    public void sayIf() {\n\n        //Switch statement for user Input \n        switch(textInhalt) \n        {\n                \n            case &quot;Montag&quot;:\n                Montag.sagName();\n                break;\n            case &quot;Dienstag&quot;:\n                Dienstag.sagName();\n                break;\n            case &quot;Mittwoch&quot;:\n                Mittwoch.sagName();\n                break;\n            case &quot;Donnerstag&quot;:\n                Donnerstag.sagName();\n                break;  \n            case &quot;Freitag&quot;:\n                Freitag.sagName();      \n                break;\n            case &quot;Samstag&quot;:\n                Samstag.sagName();\n                break;\n            case &quot;Sonntag&quot;:\n                Sonntag.sagName();\n                break;  \n        }\n    }   \n    \n        //schedule\n        static String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;Frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\n        static String[] dinHours = {&quot;Deutsch&quot;, &quot;Mathe&quot;, &quot;Physik&quot;, &quot;Physik&quot;, &quot;Englisch&quot;, &quot;Frei&quot;, &quot;Französisch&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] mitHours = {&quot;Französisch&quot;, &quot;Französisch&quot;, &quot;Englisch&quot;, &quot;Tutor&quot;, &quot;Geschichte&quot;, &quot;Geschichte&quot;, &quot;Frei&quot;, &quot;Sport&quot;, &quot;Sport&quot;};\n        static String[] donHours = {&quot;Englisch&quot;, &quot;Englisch&quot;, &quot;Deutsch&quot;, &quot;Deutsch&quot;, &quot;Informatik&quot;, &quot;Informatik&quot;, &quot;Frei&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] freHours = {&quot;PoWi&quot;, &quot;PoWi&quot;, &quot;Ethik&quot;, &quot;Ethik&quot;, &quot;Deutsch&quot;, &quot;Frei&quot;, &quot;Mathe&quot;, &quot;Frei&quot;, &quot;Frei&quot;};\n        static String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        \n        //create Day objects \n        static Tage Montag = new Tage(true, monHours, &quot;Montag&quot;);\n        static Tage Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\n        static Tage Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\n        static Tage Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\n        static Tage Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\n        static Tage Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\n        static Tage Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;       \n        \n        \n        //keyListener \n        public void actionPerformed(ActionEvent e) {\n            if(e.getSource()==knopf) {\n    \n                textInhalt = field.getText();\n                sayIf();\n            }\n        }\n}\n\n</code></pre>\n<p>Tag (Day) Class:</p>\n<pre><code>package basicsPack;\n\npublic class Tage{\n    \n    //Variables for constructor \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    //Tage constructor \n    public Tage(boolean isSchool, String[] stunden, String name) {\n        \n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n        \n    }\n    \n    //sagName method\n    public void sagName() {\n        \n        //Display hours an rather I have school\n        if(this.isSchool == true) {\n        \n            GamePanel.displayIsSchool.setText(&quot;Du hast am &quot;+ name + &quot; Schule &quot;);\n            GamePanel.stunden.setText(this.stunden[0]);\n            GamePanel.stunden1.setText(this.stunden[1]);\n            GamePanel.stunden2.setText(this.stunden[2]);\n            GamePanel.stunden3.setText(this.stunden[3]);\n            GamePanel.stunden4.setText(this.stunden[4]);\n            GamePanel.stunden5.setText(this.stunden[5]);\n            GamePanel.stunden6.setText(this.stunden[6]);\n            GamePanel.stunden7.setText(this.stunden[7]);\n            GamePanel.stunden8.setText(this.stunden[8]);\n            \n        }else {\n            \n            GamePanel.displayIsSchool.setText(&quot;Du hast am &quot; + name + &quot; keine Schule&quot;);\n            GamePanel.stunden.setText(&quot;&quot;);\n            GamePanel.stunden1.setText(&quot;&quot;);\n            GamePanel.stunden2.setText(&quot;&quot;);\n            GamePanel.stunden3.setText(&quot;&quot;);\n            GamePanel.stunden4.setText(&quot;&quot;);\n            GamePanel.stunden5.setText(&quot;&quot;);\n            GamePanel.stunden6.setText(&quot;&quot;);\n            GamePanel.stunden7.setText(&quot;&quot;);\n            GamePanel.stunden8.setText(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hj1d9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hj1d9.png\" alt=\"This is what it looks like at the moment\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b5Ml2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b5Ml2.png\" alt=\"This Is what I want it to look like\" /></a></p>\n"},{"tags":["java","apache-camel","azure-servicebus-topics"],"comments":[{"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"score":1,"creation_date":1664878728,"post_id":73886170,"comment_id":130565932,"body_markdown":"Camel 19 has been released today https://camel.apache.org/blog/2022/10/RELEASE-3.19.0/","body":"Camel 19 has been released today <a href=\"https://camel.apache.org/blog/2022/10/RELEASE-3.19.0/\" rel=\"nofollow noreferrer\">camel.apache.org/blog/2022/10/RELEASE-3.19.0</a>"}],"answers":[{"comments":[{"owner":{"account_id":9570155,"reputation":41,"user_id":7108053,"display_name":"tariq"},"score":0,"creation_date":1664918222,"post_id":73886983,"comment_id":130578858,"body_markdown":"i can add now custom_properties but still not he broker property https://i.stack.imgur.com/e8eLn.png \n@ChristopheWillemsen any idea how to add that?","body":"i can add now custom_properties but still not he broker property <a href=\"https://i.stack.imgur.com/e8eLn.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/e8eLn.png</a>  @ChristopheWillemsen any idea how to add that?"}],"tags":[],"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664394158,"creation_date":1664394158,"answer_id":73886983,"question_id":73886170,"body_markdown":"Today it&#39;s not possible with the latest version of Camel, however it will be shipped in the next release.\r\n\r\nRelevant ticket : https://issues.apache.org/jira/browse/CAMEL-18459\r\n\r\nCode : https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java\r\n\r\nAnd this is how it will look like : \r\n\r\n\r\n```java\r\nfrom(&quot;timer:foo1?period=15000&amp;delay=1000&quot;)\r\n                .process(new Processor() {\r\n                    @Override\r\n                    public void process(Exchange exchange) throws Exception {\r\n                        exchange.getIn().setBody(&quot;{\\&quot;message\\&quot;:\\&quot;hello\\&quot;}&quot;);\r\n                        exchange.getIn().setHeader(ServiceBusConstants.APPLICATION_PROPERTIES, Map.of(&quot;prop1&quot;, &quot;value1&quot;));\r\n                    }\r\n                })\r\n                .to(&quot;azure-servicebus:demo?serviceBusType=topic&amp;connectionString=RAW(connection-string-here&quot;);\r\n```","title":"how to add custom properties or label/subject for azure servicebus topic messages when using apache camel?","body":"<p>Today it's not possible with the latest version of Camel, however it will be shipped in the next release.</p>\n<p>Relevant ticket : <a href=\"https://issues.apache.org/jira/browse/CAMEL-18459\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CAMEL-18459</a></p>\n<p>Code : <a href=\"https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/main/components/camel-azure/camel-azure-servicebus/src/main/java/org/apache/camel/component/azure/servicebus/ServiceBusProducer.java</a></p>\n<p>And this is how it will look like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;timer:foo1?period=15000&amp;delay=1000&quot;)\n                .process(new Processor() {\n                    @Override\n                    public void process(Exchange exchange) throws Exception {\n                        exchange.getIn().setBody(&quot;{\\&quot;message\\&quot;:\\&quot;hello\\&quot;}&quot;);\n                        exchange.getIn().setHeader(ServiceBusConstants.APPLICATION_PROPERTIES, Map.of(&quot;prop1&quot;, &quot;value1&quot;));\n                    }\n                })\n                .to(&quot;azure-servicebus:demo?serviceBusType=topic&amp;connectionString=RAW(connection-string-here&quot;);\n</code></pre>\n"}],"owner":{"account_id":9570155,"reputation":41,"user_id":7108053,"display_name":"tariq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73886983,"answer_count":1,"score":0,"last_activity_date":1664918185,"creation_date":1664389186,"question_id":73886170,"body_markdown":"I am able to send message to a specific subscription of azure service bus topic using apache camel using example here https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations. **But i cannot get the properties set up with my code**. below my code -\r\n\r\n        from(&quot;direct:start&quot;)\r\n        .id(&quot;producerId&quot;)\r\n                .marshal(new JacksonDataFormat(String.class))\r\n        .process(exchange -&gt; {\r\n        exchange.setProperty(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;));\r\n        })\r\n        .setProperty(&quot;subject&quot;, constant(&quot;test&quot;))\r\n        .setProperty(ServiceBusConstants.CORRELATION_ID, constant(&quot;111111&quot;))\r\n        .setHeader(&quot;subject&quot;, constant(&quot;test&quot;))\r\n        .setHeader(&quot;label&quot;, constant(&quot;test&quot;))\r\n        .setHeader(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;))\r\n        .to(&quot;azure-servicebus:testTopic?serviceBusType=topic&amp;subscriptionName=testTopic-subscription&amp;producerOperation=sendMessages&amp;connectionString=RAW(Endpoint=sb://blablablablbalabla&quot;)\r\n        .log(LoggingLevel.INFO, &quot;Message sent to test topic ${body} and ${headers}&quot;)\r\n        .setRouteProperties(propertyDefinitions);\r\n\r\nas you see above i have tried with everything such as with &quot;setProperty&quot; and &quot;setHeader&quot; different way. i get below response-\r\n\r\n    Message sent to test topic &quot;{\\&quot;accountId\\&quot;: \\&quot;4471112323123\\&quot;, \\&quot;url\\&quot;: \\&quot;test.com\\&quot;, \\&quot;status\\&quot;: \\&quot;PASS\\&quot;, \\&quot;statusMessage\\&quot;: \\&quot;check if received\\&quot;}&quot; and {applicationProperties={label: test}, CamelAzureServiceBusApplicationProperties={Label=test, Subject=test}, CamelAzureServiceBusSubject=test, Content-Type=application/json}\r\n\r\nThis is my producer code- \r\n\r\n    Test test = new test(uuid, &quot;test.com&quot;, &quot;PASS&quot;, &quot;check if received&quot;);\r\n    ProducerTemplate producerTemplate;\r\n    producerTemplate.sendBody(direct:start, test.toString());\r\n\r\nI have sent a message through azure portal(ui) and this is what looks like the properties:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nif you see &quot;subject&quot; is &quot;test&quot; and there is a custom property &quot;test&quot; that has value &quot;test&quot;. \r\n\r\nI want to see the same thing when i use apache camel to send it. Please help. Thanks\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vv6Xu.png\r\n  [2]: https://i.stack.imgur.com/e8eLn.png","title":"how to add custom properties or label/subject for azure servicebus topic messages when using apache camel?","body":"<p>I am able to send message to a specific subscription of azure service bus topic using apache camel using example here <a href=\"https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/azure-servicebus-component.html#_azure_servicebus_producer_operations</a>. <strong>But i cannot get the properties set up with my code</strong>. below my code -</p>\n<pre><code>    from(&quot;direct:start&quot;)\n    .id(&quot;producerId&quot;)\n            .marshal(new JacksonDataFormat(String.class))\n    .process(exchange -&gt; {\n    exchange.setProperty(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;));\n    })\n    .setProperty(&quot;subject&quot;, constant(&quot;test&quot;))\n    .setProperty(ServiceBusConstants.CORRELATION_ID, constant(&quot;111111&quot;))\n    .setHeader(&quot;subject&quot;, constant(&quot;test&quot;))\n    .setHeader(&quot;label&quot;, constant(&quot;test&quot;))\n    .setHeader(ServiceBusConstants.SUBJECT, constant(&quot;test&quot;))\n    .to(&quot;azure-servicebus:testTopic?serviceBusType=topic&amp;subscriptionName=testTopic-subscription&amp;producerOperation=sendMessages&amp;connectionString=RAW(Endpoint=sb://blablablablbalabla&quot;)\n    .log(LoggingLevel.INFO, &quot;Message sent to test topic ${body} and ${headers}&quot;)\n    .setRouteProperties(propertyDefinitions);\n</code></pre>\n<p>as you see above i have tried with everything such as with &quot;setProperty&quot; and &quot;setHeader&quot; different way. i get below response-</p>\n<pre><code>Message sent to test topic &quot;{\\&quot;accountId\\&quot;: \\&quot;4471112323123\\&quot;, \\&quot;url\\&quot;: \\&quot;test.com\\&quot;, \\&quot;status\\&quot;: \\&quot;PASS\\&quot;, \\&quot;statusMessage\\&quot;: \\&quot;check if received\\&quot;}&quot; and {applicationProperties={label: test}, CamelAzureServiceBusApplicationProperties={Label=test, Subject=test}, CamelAzureServiceBusSubject=test, Content-Type=application/json}\n</code></pre>\n<p>This is my producer code-</p>\n<pre><code>Test test = new test(uuid, &quot;test.com&quot;, &quot;PASS&quot;, &quot;check if received&quot;);\nProducerTemplate producerTemplate;\nproducerTemplate.sendBody(direct:start, test.toString());\n</code></pre>\n<p>I have sent a message through azure portal(ui) and this is what looks like the properties:\n<a href=\"https://i.stack.imgur.com/vv6Xu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vv6Xu.png\" alt=\"enter image description here\" /></a></p>\n<p>if you see &quot;subject&quot; is &quot;test&quot; and there is a custom property &quot;test&quot; that has value &quot;test&quot;.</p>\n<p>I want to see the same thing when i use apache camel to send it. Please help. Thanks</p>\n<p><a href=\"https://i.stack.imgur.com/e8eLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8eLn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hsm"],"answers":[{"tags":[],"owner":{"account_id":238721,"reputation":2786,"user_id":507798,"display_name":"zeroimpl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664917877,"creation_date":1664917877,"answer_id":73953679,"question_id":51273831,"body_markdown":"Adding `-Dslot=2` to the Java command line can override which slot it uses.","title":"nCipher (Thales HSM) - There is no card in the slot","body":"<p>Adding <code>-Dslot=2</code> to the Java command line can override which slot it uses.</p>\n"}],"owner":{"account_id":1321789,"reputation":401,"user_id":1267461,"accept_rate":40,"display_name":"LuisEduardoSP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1664917877,"creation_date":1531256472,"question_id":51273831,"body_markdown":"I&#39;m trying to encrypt and sign a package with nCipher (Thales HSM), but when I try to do it, there is an exception saying that &quot;There is no card in the slot&quot;. According to HSM admin there is a card, but it is not in the default slot, so one of the options is to change the default slot, but how can I do it? Or how can I workaround to the original exception?\r\n\r\nHere is the code throwing the exception:\r\n\r\n        KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;nCipherKM&quot;);\r\n        kpg.initialize(2048);\r\n        KeyPair kp = kpg.generateKeyPair();\r\n        Signature signer = Signature.getInstance(&quot;SHA256withRSA&quot;,&quot;nCipherKM&quot;);\r\n        signer.initSign(kp.getPrivate());\r\n        signer.update(plainText);\r\n        return new String(signer.sign(),UTF_8);","title":"nCipher (Thales HSM) - There is no card in the slot","body":"<p>I'm trying to encrypt and sign a package with nCipher (Thales HSM), but when I try to do it, there is an exception saying that \"There is no card in the slot\". According to HSM admin there is a card, but it is not in the default slot, so one of the options is to change the default slot, but how can I do it? Or how can I workaround to the original exception?</p>\n\n<p>Here is the code throwing the exception:</p>\n\n<pre><code>    KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\", \"nCipherKM\");\n    kpg.initialize(2048);\n    KeyPair kp = kpg.generateKeyPair();\n    Signature signer = Signature.getInstance(\"SHA256withRSA\",\"nCipherKM\");\n    signer.initSign(kp.getPrivate());\n    signer.update(plainText);\n    return new String(signer.sign(),UTF_8);\n</code></pre>\n"},{"tags":["java","recursion","directory","io"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1664917125,"post_id":73953530,"comment_id":130578580,"body_markdown":"The last line deletes files, and also empty directories. Perhaps the argument name is misleading. It should perhaps be `directoryOrFileToBeDeleted`. If `listFiles()` returns null then the argument is actually a file and not a directory.","body":"The last line deletes files, and also empty directories. Perhaps the argument name is misleading. It should perhaps be <code>directoryOrFileToBeDeleted</code>. If <code>listFiles()</code> returns null then the argument is actually a file and not a directory."},{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1664918489,"post_id":73953530,"comment_id":130578929,"body_markdown":"return directoryToBeDeleted.delete(); this line? This is deleting the directory I thought?  It calls deleteDirectory(file) with one of the files but each time it just calls deleteDirectory(file) again when does it actually delete each individual files?","body":"return directoryToBeDeleted.delete(); this line? This is deleting the directory I thought?  It calls deleteDirectory(file) with one of the files but each time it just calls deleteDirectory(file) again when does it actually delete each individual files?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1664919384,"post_id":73953530,"comment_id":130579120,"body_markdown":"As I explained, `directoryToBeDeleted` is not always a directory, it can also be a file. And when it&#39;s a file it gets deleted by that line.","body":"As I explained, <code>directoryToBeDeleted</code> is not always a directory, it can also be a file. And when it&#39;s a file it gets deleted by that line."}],"answers":[{"comments":[{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1664918717,"post_id":73953635,"comment_id":130578974,"body_markdown":"I thought the whole point of the recursion was to delete the files inside the folder.  Assume for a minute there are files inside. 1 folder 5000 files.  When is it deleting those individual files? I understand the last line, that&#39;s when it deletes the empty folder but in the recursive call it is just calling the  call with a file. That would seem to work but it returns directoryToBeDeleted(). I still don&#39;t see when the 5000 files gets deleted?","body":"I thought the whole point of the recursion was to delete the files inside the folder.  Assume for a minute there are files inside. 1 folder 5000 files.  When is it deleting those individual files? I understand the last line, that&#39;s when it deletes the empty folder but in the recursive call it is just calling the  call with a file. That would seem to work but it returns directoryToBeDeleted(). I still don&#39;t see when the 5000 files gets deleted?"},{"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"score":0,"creation_date":1664919046,"post_id":73953635,"comment_id":130579038,"body_markdown":"Let&#39;s follow your example. 1 folder (we&#39;ll call it `x`), 5000 files. \nWe run `deleteDirectory(x)`. \n`File[] allContents = directoryToBeDeleted.listFiles();` becomes an array of 5000 files. Therefore it is not null, so for each of those 5000 files we can call `deleteDirectory(file);`. This is your recursive call. This time because they are files and not folders `File[] allContents = directoryToBeDeleted.listFiles();` will be null for each of them (as `x.listFiles()` returns null if `x` is not a folder). \nTherefore the code will reach the bottom line and each file will be deleted.","body":"Let&#39;s follow your example. 1 folder (we&#39;ll call it <code>x</code>), 5000 files.  We run <code>deleteDirectory(x)</code>.  <code>File[] allContents = directoryToBeDeleted.listFiles();</code> becomes an array of 5000 files. Therefore it is not null, so for each of those 5000 files we can call <code>deleteDirectory(file);</code>. This is your recursive call. This time because they are files and not folders <code>File[] allContents = directoryToBeDeleted.listFiles();</code> will be null for each of them (as <code>x.listFiles()</code> returns null if <code>x</code> is not a folder).  Therefore the code will reach the bottom line and each file will be deleted."},{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1664919721,"post_id":73953635,"comment_id":130579197,"body_markdown":"Ok that makes sense. Does this mean it returns null  back to the for loop call deleteDirectory(1stFile) for the for loop to continue and keep going?  In this case it would be file 2, then 3 etc? all the way up to 5000? One more thing this code does not actually delete the folder correct? I would still need to delete that","body":"Ok that makes sense. Does this mean it returns null  back to the for loop call deleteDirectory(1stFile) for the for loop to continue and keep going?  In this case it would be file 2, then 3 etc? all the way up to 5000? One more thing this code does not actually delete the folder correct? I would still need to delete that"},{"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"score":0,"creation_date":1664920559,"post_id":73953635,"comment_id":130579375,"body_markdown":"It deletes the actual folder. It deletes all of its contents (that happens in the for loop) then when that for loop is complete, which means the contents have all been deleted the final line gets run deleting the folder itself.","body":"It deletes the actual folder. It deletes all of its contents (that happens in the for loop) then when that for loop is complete, which means the contents have all been deleted the final line gets run deleting the folder itself."}],"tags":[],"owner":{"account_id":9318013,"reputation":211,"user_id":6917716,"display_name":"Vorkos"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664917523,"creation_date":1664917523,"answer_id":73953635,"question_id":73953530,"body_markdown":"`directoryToBeDeleted` is not always a directory. If `allContents == null` then `directoryToBeDeleted` is a file, not a directory as `.listFiles()` returns null if the object of type `File` is a file and not a folder.","title":"Delete files in Folder Recursively in JAVA I/O","body":"<p><code>directoryToBeDeleted</code> is not always a directory. If <code>allContents == null</code> then <code>directoryToBeDeleted</code> is a file, not a directory as <code>.listFiles()</code> returns null if the object of type <code>File</code> is a file and not a folder.</p>\n"}],"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953635,"answer_count":1,"score":0,"last_activity_date":1664917639,"creation_date":1664916680,"question_id":73953530,"body_markdown":"In Java/Unix I understand you can&#39;t delete a folder with something in it and I can do it without recursion but this simple solution is great but I just can&#39;t see where/when this is deleting the actual files? by using the delete() function. I clearly see it using the delete() on the actual folder at the end but I don&#39;t see how it is or when it is calling delete() on the files it just gets them and when I feel it should be calling delete() it makes the recursive call???\r\n\r\nI know it is something simple I am missing but it is driving me crazy and no where can I find answer any help would be greatly appreciated. \r\n\r\n```\r\nboolean deleteDirectory(File directoryToBeDeleted) {\r\n    File[] allContents = directoryToBeDeleted.listFiles();\r\n    if (allContents != null) {\r\n        for (File file : allContents) {\r\n            deleteDirectory(file);\r\n        }\r\n    }\r\n    return directoryToBeDeleted.delete();\r\n}\r\n```\r\n","title":"Delete files in Folder Recursively in JAVA I/O","body":"<p>In Java/Unix I understand you can't delete a folder with something in it and I can do it without recursion but this simple solution is great but I just can't see where/when this is deleting the actual files? by using the delete() function. I clearly see it using the delete() on the actual folder at the end but I don't see how it is or when it is calling delete() on the files it just gets them and when I feel it should be calling delete() it makes the recursive call???</p>\n<p>I know it is something simple I am missing but it is driving me crazy and no where can I find answer any help would be greatly appreciated.</p>\n<pre><code>boolean deleteDirectory(File directoryToBeDeleted) {\n    File[] allContents = directoryToBeDeleted.listFiles();\n    if (allContents != null) {\n        for (File file : allContents) {\n            deleteDirectory(file);\n        }\n    }\n    return directoryToBeDeleted.delete();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":21153493,"reputation":1,"user_id":15553281,"display_name":"Tom-Erik Vals&#248;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617570326,"creation_date":1617570326,"answer_id":66945861,"question_id":64881305,"body_markdown":"about the problem: Could not resolve placeholder &#39;module-name&#39; in value &quot;${module-name}&quot;\r\n\r\nMaybe I misunderstood the question but isn&#39;t this just missing values for that config? It works if you just use String constants?\r\n\r\nTry to add a properties file /yaml on the classpath with these two properties and it should work:\r\nmodule-name=xxx\r\napi-version=xxx\r\n\r\n","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>about the problem: Could not resolve placeholder 'module-name' in value &quot;${module-name}&quot;</p>\n<p>Maybe I misunderstood the question but isn't this just missing values for that config? It works if you just use String constants?</p>\n<p>Try to add a properties file /yaml on the classpath with these two properties and it should work:\nmodule-name=xxx\napi-version=xxx</p>\n"},{"tags":[],"owner":{"account_id":2399782,"reputation":88,"user_id":2097742,"display_name":"Sam Marvasti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664917604,"creation_date":1664917604,"answer_id":73953645,"question_id":64881305,"body_markdown":"You can enable the authorize button by having your openapi specify the location of your token based authorization.\r\n\r\nSo thin the components section of openapi.json\r\n\r\n \r\n\r\n       &quot;securitySchemes&quot;: {\r\n          &quot;OAuth2PasswordBearerWithCookie&quot;: {\r\n            &quot;type&quot;: &quot;oauth2&quot;,\r\n            &quot;flows&quot;: {\r\n              &quot;password&quot;: {\r\n                &quot;scopes&quot;: {},\r\n                &quot;tokenUrl&quot;: &quot;/login/token&quot;\r\n              }\r\n            }\r\n          }\r\n        }","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>You can enable the authorize button by having your openapi specify the location of your token based authorization.</p>\n<p>So thin the components section of openapi.json</p>\n<pre><code>   &quot;securitySchemes&quot;: {\n      &quot;OAuth2PasswordBearerWithCookie&quot;: {\n        &quot;type&quot;: &quot;oauth2&quot;,\n        &quot;flows&quot;: {\n          &quot;password&quot;: {\n            &quot;scopes&quot;: {},\n            &quot;tokenUrl&quot;: &quot;/login/token&quot;\n          }\n        }\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":17903761,"reputation":11,"user_id":13007441,"display_name":"ilikefatcats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664917604,"creation_date":1605638245,"question_id":64881305,"body_markdown":"my task is to enable the authorization-button in the swagger-ui site. I make the documentation of the REST-Controller with Annotations like @Operation or @ApiResponse from the springdoc-openapi-ui - dependency. Now i should enable the button for authorization in the swagger surface.\r\n\r\nI have follow introduction: https://www.baeldung.com/spring-boot-swagger-jwt\r\nbut here i have to include springfox to my maven-dependencies but when i do this i get follow exception:\r\n\r\n    17.11.2020 19:15:46,664 ERROR [o.s.boot.SpringApplication] (main) Application run \r\n    failed\r\n    java.lang.NoClassDefFoundError: org/springframework/data/rest/webmvc/mapping/Associations\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n\tat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357)\r\n    (....)\r\n\r\nAdditionally the Introduction use apikeys, but we don&#39;t use apikeys in the application and I don&#39;t know how to use them.\r\n\r\nThen I found following question which seems to be my problem: https://stackoverflow.com/questions/59898874/enable-authorize-button-in-springdoc-openapi-ui-for-bearer-token-authentication\r\n\r\nso i implmented the code from the top-answer:\r\n\r\n    import io.swagger.v3.oas.models.Components;\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import io.swagger.v3.oas.models.info.Info;\r\n    import io.swagger.v3.oas.models.security.SecurityRequirement;\r\n    import io.swagger.v3.oas.models.security.SecurityScheme;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.util.StringUtils;\r\n\r\n    @Configuration\r\n    public class OpenApiConfiguration {\r\n\r\n      private final String moduleName;\r\n      private final String apiVersion;\r\n\r\n      public OpenApiConfiguration(\r\n          @Value(&quot;${module-name}&quot;) String moduleName,\r\n          @Value(&quot;${api-version}&quot;) String apiVersion) {\r\n        this.moduleName = moduleName;\r\n        this.apiVersion = apiVersion;\r\n      }\r\n\r\n      @Bean\r\n      public OpenAPI customOpenAPI() {\r\n        final String securitySchemeName = &quot;bearerAuth&quot;;\r\n        final String apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\r\n\r\n        return new OpenAPI().addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n            .components(new Components().addSecuritySchemes(securitySchemeName,\r\n                new SecurityScheme().name(securitySchemeName)\r\n                    .type(SecurityScheme.Type.HTTP)\r\n                    .scheme(&quot;bearer&quot;)\r\n                    .bearerFormat(&quot;JWT&quot;)))\r\n            .info(new Info().title(apiTitle)\r\n                .version(apiVersion));\r\n      }\r\n\r\n    }\r\n\r\nbut then i get follow exception:\r\n\r\n    17.11.2020 19:21:00,215 ERROR [o.s.boot.SpringApplication] (main) Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openApiConfiguration&#39; defined in file [&lt;PATH&gt;/configuration/OpenApiConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;module-name&#39; in value &quot;${module-name}&quot;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    (....)\r\n\r\nCan someone explain how this placeholder and @Value works?\r\nMaybe anybody has a good/better way for my problem? Im very new in this topic\r\n\r\n\r\n\r\nbest regards and sorry for my bad english\r\n\r\nilikefatcats","title":"How to Activate authorization-Button in swagger-ui with openapi-ui and bearer-token (jwt)?","body":"<p>my task is to enable the authorization-button in the swagger-ui site. I make the documentation of the REST-Controller with Annotations like @Operation or @ApiResponse from the springdoc-openapi-ui - dependency. Now i should enable the button for authorization in the swagger surface.</p>\n<p>I have follow introduction: <a href=\"https://www.baeldung.com/spring-boot-swagger-jwt\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-swagger-jwt</a>\nbut here i have to include springfox to my maven-dependencies but when i do this i get follow exception:</p>\n<pre><code>17.11.2020 19:15:46,664 ERROR [o.s.boot.SpringApplication] (main) Application run \nfailed\njava.lang.NoClassDefFoundError: org/springframework/data/rest/webmvc/mapping/Associations\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\nat java.base/java.lang.Class.getDeclaredConstructors(Class.java:2357)\n(....)\n</code></pre>\n<p>Additionally the Introduction use apikeys, but we don't use apikeys in the application and I don't know how to use them.</p>\n<p>Then I found following question which seems to be my problem: <a href=\"https://stackoverflow.com/questions/59898874/enable-authorize-button-in-springdoc-openapi-ui-for-bearer-token-authentication\">Enable Authorize button in springdoc-openapi-ui for Bearer Token Authentication (JWT)</a></p>\n<p>so i implmented the code from the top-answer:</p>\n<pre><code>import io.swagger.v3.oas.models.Components;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.info.Info;\nimport io.swagger.v3.oas.models.security.SecurityRequirement;\nimport io.swagger.v3.oas.models.security.SecurityScheme;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.util.StringUtils;\n\n@Configuration\npublic class OpenApiConfiguration {\n\n  private final String moduleName;\n  private final String apiVersion;\n\n  public OpenApiConfiguration(\n      @Value(&quot;${module-name}&quot;) String moduleName,\n      @Value(&quot;${api-version}&quot;) String apiVersion) {\n    this.moduleName = moduleName;\n    this.apiVersion = apiVersion;\n  }\n\n  @Bean\n  public OpenAPI customOpenAPI() {\n    final String securitySchemeName = &quot;bearerAuth&quot;;\n    final String apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\n\n    return new OpenAPI().addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n        .components(new Components().addSecuritySchemes(securitySchemeName,\n            new SecurityScheme().name(securitySchemeName)\n                .type(SecurityScheme.Type.HTTP)\n                .scheme(&quot;bearer&quot;)\n                .bearerFormat(&quot;JWT&quot;)))\n        .info(new Info().title(apiTitle)\n            .version(apiVersion));\n  }\n\n}\n</code></pre>\n<p>but then i get follow exception:</p>\n<pre><code>17.11.2020 19:21:00,215 ERROR [o.s.boot.SpringApplication] (main) Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openApiConfiguration' defined in file [&lt;PATH&gt;/configuration/OpenApiConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'module-name' in value &quot;${module-name}&quot;\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:530)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n(....)\n</code></pre>\n<p>Can someone explain how this placeholder and @Value works?\nMaybe anybody has a good/better way for my problem? Im very new in this topic</p>\n<p>best regards and sorry for my bad english</p>\n<p>ilikefatcats</p>\n"},{"tags":["java","arrays","dictionary"],"answers":[{"comments":[{"owner":{"account_id":3628079,"reputation":839,"user_id":3025112,"accept_rate":100,"display_name":"omerfarukdogan"},"score":3,"creation_date":1443893515,"post_id":22731729,"comment_id":53677361,"body_markdown":"And you cast `Object[]` to `Object[]` at the first line?","body":"And you cast <code>Object[]</code> to <code>Object[]</code> at the first line?"},{"owner":{"account_id":7149201,"reputation":1443,"user_id":5463883,"display_name":"Ahmed Akhtar"},"score":0,"creation_date":1461569132,"post_id":22731729,"comment_id":61239227,"body_markdown":"Indeed two casts (i.e. `Object[]` and `String`) cannot be done in one step. They need to be done step by step. Thanks for the great incite.","body":"Indeed two casts (i.e. <code>Object[]</code> and <code>String</code>) cannot be done in one step. They need to be done step by step. Thanks for the great incite."},{"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"score":0,"creation_date":1665415153,"post_id":22731729,"comment_id":130689221,"body_markdown":"(Object[]) map1.keySet().toArray(); is not necessary to cast object array................ .....  ........ .......   Object [] obj =map1.keySet().toArray();","body":"(Object[]) map1.keySet().toArray(); is not necessary to cast object array................ .....  ........ .......   Object [] obj =map1.keySet().toArray();"}],"tags":[],"owner":{"account_id":3534754,"reputation":38579,"user_id":2953344,"accept_rate":75,"display_name":"Sabuj Hassan"},"comment_count":3,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1396099817,"creation_date":1396099817,"answer_id":22731729,"question_id":22731706,"body_markdown":"It is returning `Object[]` Not `String[]`. Try this:\r\n\r\n    Object[] obj = (Object[]) map1.keySet().toArray();\r\n    for(int i=0; i&lt;obj.length;i++) {\r\n        String someString = (String)obj[i];\r\n        System.out.println(someString);\r\n    }","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>It is returning <code>Object[]</code> Not <code>String[]</code>. Try this:</p>\n\n<pre><code>Object[] obj = (Object[]) map1.keySet().toArray();\nfor(int i=0; i&lt;obj.length;i++) {\n    String someString = (String)obj[i];\n    System.out.println(someString);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":445732,"reputation":5762,"user_id":838355,"accept_rate":54,"display_name":"ir2pid"},"score":2,"creation_date":1429733688,"post_id":22731751,"comment_id":47743908,"body_markdown":"`String[] str = map1.keySet().toArray(new String[map1.size()]);`\n\n\nyou missed the parenthesis in map1.size()","body":"<code>String[] str = map1.keySet().toArray(new String[map1.size()]);</code>   you missed the parenthesis in map1.size()"},{"owner":{"account_id":9458955,"reputation":133,"user_id":7459856,"display_name":"Oleksii Morenets"},"score":1,"creation_date":1540123592,"post_id":22731751,"comment_id":92740283,"body_markdown":"String[] str = map1.keySet().toArray(new String[0]);","body":"String[] str = map1.keySet().toArray(new String[0]);"},{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1602860174,"post_id":22731751,"comment_id":113862439,"body_markdown":"If you want to use Java streams: `map.keySet().stream.toArray(String[]::new)`","body":"If you want to use Java streams: <code>map.keySet().stream.toArray(String[]::new)</code>"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":3,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1489654203,"creation_date":1396099982,"answer_id":22731751,"question_id":22731706,"body_markdown":"`toArray()` returns an `Object[]`, regardless of generics. You could use the overloaded variant instead:\r\n\r\n    String[] str = map1.keySet().toArray(new String[map1.size()]);\r\n\r\nAlternatively, since a `Set`&#39;s `toArray` method gives no guarantee about the order, and all you&#39;re using the array for is printing out the values, you could iterate the `keySet()` directly:\r\n\r\n\r\n    for (String str: map1.keySet()) {\r\n        System.out.println(str);\r\n    }\r\n\r\nEDIT:\r\nJust to complete the picture, in Java 8, the `foreach` method can be used to make the code more elegant:\r\n\r\n    map1.keySet().forEach(System.out::println);","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p><code>toArray()</code> returns an <code>Object[]</code>, regardless of generics. You could use the overloaded variant instead:</p>\n\n<pre><code>String[] str = map1.keySet().toArray(new String[map1.size()]);\n</code></pre>\n\n<p>Alternatively, since a <code>Set</code>'s <code>toArray</code> method gives no guarantee about the order, and all you're using the array for is printing out the values, you could iterate the <code>keySet()</code> directly:</p>\n\n<pre><code>for (String str: map1.keySet()) {\n    System.out.println(str);\n}\n</code></pre>\n\n<p>EDIT:\nJust to complete the picture, in Java 8, the <code>foreach</code> method can be used to make the code more elegant:</p>\n\n<pre><code>map1.keySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483687314,"creation_date":1483687314,"answer_id":41500894,"question_id":22731706,"body_markdown":"`toArray()`method is defined in List interface so every where there is an instance of List, you also have access to this method.\r\n\r\nAt first you might think that you can cast an array of Objects which its elements are all of type String to a String array but java specs says otherwise [Link][1], in short it says:\r\n  \r\n`bArr = new B[]; A[] aArr = (A[]) bArr;`\r\n\r\n&quot;works&quot; at runtime if and only if B is a subtype of A (or A itself).\r\nWhether B actually only contains As is irrelevant and the compile-time type of bArr is not used either (what matters is the runtime type):\r\n\r\nIn your code by calling : `image_urls.toArray()`\r\nyou will get an array of Object and since Object is not SubType of String, you get exception. To do this write, use other overload of `toArray()` which\r\ngets an array of certain type (for type reference) as &quot;Mureinik&quot; mentioned.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.3","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p><code>toArray()</code>method is defined in List interface so every where there is an instance of List, you also have access to this method.</p>\n\n<p>At first you might think that you can cast an array of Objects which its elements are all of type String to a String array but java specs says otherwise <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.5.3\" rel=\"nofollow noreferrer\">Link</a>, in short it says:</p>\n\n<p><code>bArr = new B[]; A[] aArr = (A[]) bArr;</code></p>\n\n<p>\"works\" at runtime if and only if B is a subtype of A (or A itself).\nWhether B actually only contains As is irrelevant and the compile-time type of bArr is not used either (what matters is the runtime type):</p>\n\n<p>In your code by calling : <code>image_urls.toArray()</code>\nyou will get an array of Object and since Object is not SubType of String, you get exception. To do this write, use other overload of <code>toArray()</code> which\ngets an array of certain type (for type reference) as \"Mureinik\" mentioned.</p>\n"},{"tags":[],"owner":{"account_id":15153969,"reputation":394,"user_id":10935450,"display_name":"Muhammed_G"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664917554,"creation_date":1664917554,"answer_id":73953639,"question_id":22731706,"body_markdown":"You can cast Object[] to String[] like this:\r\n\r\n    String[] str = map1.keySet().toArray(String[]::new);","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>You can cast Object[] to String[] like this:</p>\n<pre><code>String[] str = map1.keySet().toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":2551943,"reputation":1418,"user_id":2215537,"accept_rate":82,"display_name":"JackSun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134663,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":22731751,"answer_count":4,"score":33,"last_activity_date":1664917554,"creation_date":1396099718,"question_id":22731706,"body_markdown":"I need convert HashMap&lt;String, String&gt; to a String array, follow is my java code\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class demo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tMap&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \t\tmap1.put(&quot;1&quot;, &quot;1&quot;);\r\n    \t\tmap1.put(&quot;2&quot;, &quot;2&quot;);\r\n    \t\tmap1.put(&quot;3&quot;, &quot;3&quot;);\r\n    \t\t\r\n    \t\tString[] str = (String[]) map1.keySet().toArray();\r\n    \t\t\r\n    \t\tfor(int i=0; i&lt;str.length;i++) {\r\n    \t\t\tSystem.out.println(str[i]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nwhen I run the code, I get the following `ClassCastException`. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\r\n\tat demo.main(demo.java:17)","title":"java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;","body":"<p>I need convert HashMap to a String array, follow is my java code</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class demo {\n\n    public static void main(String[] args) {\n\n        Map&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();\n\n        map1.put(\"1\", \"1\");\n        map1.put(\"2\", \"2\");\n        map1.put(\"3\", \"3\");\n\n        String[] str = (String[]) map1.keySet().toArray();\n\n        for(int i=0; i&lt;str.length;i++) {\n            System.out.println(str[i]);\n        }\n    }\n}\n</code></pre>\n\n<p>when I run the code, I get the following <code>ClassCastException</code>. </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\nat demo.main(demo.java:17)\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1664852746,"post_id":73941382,"comment_id":130560121,"body_markdown":"first of all you can only set `exported=true` to only on activity but here u have setted `true` in both activity. and second is nor you setted a splash screen theme or showed what have you done in `Splash_Screen` activity","body":"first of all you can only set <code>exported=true</code> to only on activity but here u have setted <code>true</code> in both activity. and second is nor you setted a splash screen theme or showed what have you done in <code>Splash_Screen</code> activity"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1664852886,"post_id":73941382,"comment_id":130560136,"body_markdown":"you can check this doc of splash screen it may help you [Splash screens](https://developer.android.com/develop/ui/views/launch/splash-screen)","body":"you can check this doc of splash screen it may help you <a href=\"https://developer.android.com/develop/ui/views/launch/splash-screen\" rel=\"nofollow noreferrer\">Splash screens</a>"},{"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"score":0,"creation_date":1664858326,"post_id":73941382,"comment_id":130560741,"body_markdown":"brother pls share Splash_Screen code so that we can have more information, also the xml if needed","body":"brother pls share Splash_Screen code so that we can have more information, also the xml if needed"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664864714,"post_id":73941382,"comment_id":130561812,"body_markdown":"Most likely you&#39;re looking for something like [this](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336). Here&#39;s the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Most likely you&#39;re looking for something like <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">this</a>. Here&#39;s the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":21394308,"reputation":375,"user_id":15757714,"display_name":"HamzaKhalid273"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916818,"creation_date":1664916818,"answer_id":73953548,"question_id":73941382,"body_markdown":"I have resolved this issue in two steps.\r\n\r\n1)-   I set the value of exported to false for every activity including `main activity` like \r\n\r\n``` \r\nandroid:name=&quot;.MainActivity&quot;\r\nandroid:exported=&quot;false&quot;\r\n```\r\n \r\n and in the case of splash screen, I set the value to true like \r\n``` \r\nandroid:name=&quot;.Splash_Screen&quot;\r\nandroid:exported=&quot;true&quot;&gt;\r\n```\r\n\r\n2)- I change the configuration to `app` from `MainActivity` by \r\n\r\n```\r\nRun &gt; Edit Configurations\r\n```\r\n\r\n\r\nUnder the Run/Debug Configuration panel switch `MainActivity` to `app`.\r\nThis made my application run and also now the splash screen is working as expected.","title":"Splash screen is not getting displayed even using &lt;intent-filter&gt; in it","body":"<p>I have resolved this issue in two steps.</p>\n<p>1)-   I set the value of exported to false for every activity including <code>main activity</code> like</p>\n<pre><code>android:name=&quot;.MainActivity&quot;\nandroid:exported=&quot;false&quot;\n</code></pre>\n<p>and in the case of splash screen, I set the value to true like</p>\n<pre><code>android:name=&quot;.Splash_Screen&quot;\nandroid:exported=&quot;true&quot;&gt;\n</code></pre>\n<p>2)- I change the configuration to <code>app</code> from <code>MainActivity</code> by</p>\n<pre><code>Run &gt; Edit Configurations\n</code></pre>\n<p>Under the Run/Debug Configuration panel switch <code>MainActivity</code> to <code>app</code>.\nThis made my application run and also now the splash screen is working as expected.</p>\n"}],"owner":{"account_id":21394308,"reputation":375,"user_id":15757714,"display_name":"HamzaKhalid273"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664916818,"creation_date":1664836100,"question_id":73941382,"body_markdown":"I just want to show my splash screen before any activity.\r\nI don&#39;t have anything in my main activity all the stuff is designed on my splash screen. So, I tried this code to make the splash screen visible before I make the main activity be visible.\r\n\r\n```\r\n&lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Splash_Screen&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nBut this shows me the blank page (looks like it is running the main activity). \r\nWhy the splash screen is not visible at first?","title":"Splash screen is not getting displayed even using &lt;intent-filter&gt; in it","body":"<p>I just want to show my splash screen before any activity.\nI don't have anything in my main activity all the stuff is designed on my splash screen. So, I tried this code to make the splash screen visible before I make the main activity be visible.</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.Splash_Screen&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>But this shows me the blank page (looks like it is running the main activity).\nWhy the splash screen is not visible at first?</p>\n"},{"tags":["java","json","generics","jackson","jackson-databind"],"comments":[{"owner":{"account_id":3769645,"reputation":301,"user_id":3132197,"accept_rate":60,"display_name":"YevgenyL"},"score":0,"creation_date":1592443448,"post_id":47348029,"comment_id":110430339,"body_markdown":"Did you got this issue because your project is using Jackson for serialization/deserialization, and you are getting response from external system that is using Moxy? if yes, then I have the same issue.","body":"Did you got this issue because your project is using Jackson for serialization/deserialization, and you are getting response from external system that is using Moxy? if yes, then I have the same issue."}],"answers":[{"comments":[{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":4,"creation_date":1547744937,"post_id":47392096,"comment_id":95306349,"body_markdown":"I&#39;m surprised no one upvoted before. Nobody has used this? Is this answer duplicated elsewhere? Anyway... thanks so much!","body":"I&#39;m surprised no one upvoted before. Nobody has used this? Is this answer duplicated elsewhere? Anyway... thanks so much!"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":1,"creation_date":1547745093,"post_id":47392096,"comment_id":95306435,"body_markdown":"@FerranMaylinch Glad you found it helpful :)","body":"@FerranMaylinch Glad you found it helpful :)"}],"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1664916436,"creation_date":1511181054,"answer_id":47392096,"question_id":47348029,"body_markdown":"Got an answer on the [Jackson Google group][1] directly from the author.\r\n\r\nThe key thing to understand is that **`JsonDeserializer`s are initiated/contextualized once**, and they receive the full type and other information at that moment only. To get a hold of this info, the deserializer needs to implement `ContextualDeserializer`. Its `createContextual` method is called to initialize a deserializer instance, and has access to the `BeanProperty` which also gives the full `JavaType`.\r\n\r\nSo it could look something like this in the end:\r\n\r\n    public class MapDeserializer extends JsonDeserializer implements ContextualDeserializer {\r\n    \r\n        private JavaType type;\r\n    \r\n        public MapDeserializer() {\r\n        }\r\n    \r\n        public MapDeserializer(JavaType type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        @Override\r\n        public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\r\n            //beanProperty is null when the type to deserialize is the top-level type or a generic type, not a type of a bean property\r\n            JavaType type = deserializationContext.getContextualType() != null \r\n                ? deserializationContext.getContextualType()\r\n                : beanProperty.getMember().getType();            \r\n            return new MapDeserializer(type);\r\n        }\r\n    \r\n        @Override\r\n        public Map deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            //use this.type as needed\r\n        }\r\n        \r\n        ...\r\n    }\r\n\r\nRegistered and used as normal:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(Map.class, new MapDeserializer());\r\n    mapper.registerModule(module);\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/jackson-user/BR_USCluxng","title":"Get the detected generic type inside Jackson&#39;s JsonDeserializer","body":"<p>Got an answer on the <a href=\"https://groups.google.com/forum/#!topic/jackson-user/BR_USCluxng\" rel=\"nofollow noreferrer\">Jackson Google group</a> directly from the author.</p>\n<p>The key thing to understand is that <strong><code>JsonDeserializer</code>s are initiated/contextualized once</strong>, and they receive the full type and other information at that moment only. To get a hold of this info, the deserializer needs to implement <code>ContextualDeserializer</code>. Its <code>createContextual</code> method is called to initialize a deserializer instance, and has access to the <code>BeanProperty</code> which also gives the full <code>JavaType</code>.</p>\n<p>So it could look something like this in the end:</p>\n<pre><code>public class MapDeserializer extends JsonDeserializer implements ContextualDeserializer {\n\n    private JavaType type;\n\n    public MapDeserializer() {\n    }\n\n    public MapDeserializer(JavaType type) {\n        this.type = type;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty beanProperty) throws JsonMappingException {\n        //beanProperty is null when the type to deserialize is the top-level type or a generic type, not a type of a bean property\n        JavaType type = deserializationContext.getContextualType() != null \n            ? deserializationContext.getContextualType()\n            : beanProperty.getMember().getType();            \n        return new MapDeserializer(type);\n    }\n\n    @Override\n    public Map deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        //use this.type as needed\n    }\n    \n    ...\n}\n</code></pre>\n<p>Registered and used as normal:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(Map.class, new MapDeserializer());\nmapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4336,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":47392096,"answer_count":1,"score":14,"last_activity_date":1664916436,"creation_date":1510913110,"question_id":47348029,"body_markdown":"For external reasons, all java `Map`s in my system can only be received as _lists_ of key-value pairs from the clients, e.g. a `Map&lt;String, Book&gt;` will actually be received as Json-serialized `List&lt;MapEntry&lt;String, Book&gt;&gt;`. This means I need to customize my Json deserialization process to expect this representation of maps.\r\n\r\nThe problem is that `JsonDeserializer` makes me implement\r\n\r\n    deserialize(JsonParser p, DeserializationContext ctxt)\r\n\r\nmethod which has no access to the detected generic type it&#39;s supposed to deserialize (`Map&lt;String, Book&gt;` in the example above). Without that info, I can&#39;t in turn deserialize `List&lt;MapEntry&lt;String, Book&gt;&gt;` without loosing type safety.\r\n\r\nI was looking at [Converter](https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/util/Converter.html) but it gives even less context.\r\n\r\nE.g.\r\n\r\n    public Map&lt;K,V&gt; convert(List&lt;MapToListTypeAdapter.MapEntry&lt;K,V&gt;&gt; list) {\r\n        Map&lt;K,V&gt; x = new HashMap&lt;&gt;();\r\n        list.forEach(entry -&gt; x.put(entry.getKey(), entry.getValue()));\r\n        return x;\r\n    }\r\n\r\nBut this will potentially create dangerous maps that will throw a `ClassCastException` on retrieval, as there&#39;s no way to check the type is actually sensible.\r\nIs there a way to get around this?\r\n\r\nAs an example of what I&#39;d expect, Gson&#39;s [`JsonDeserializer`](https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html) looks like this:\r\n\r\n    T deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n\r\nI.e. it gives access to the expected type in a sane way.","title":"Get the detected generic type inside Jackson&#39;s JsonDeserializer","body":"<p>For external reasons, all java <code>Map</code>s in my system can only be received as <em>lists</em> of key-value pairs from the clients, e.g. a <code>Map&lt;String, Book&gt;</code> will actually be received as Json-serialized <code>List&lt;MapEntry&lt;String, Book&gt;&gt;</code>. This means I need to customize my Json deserialization process to expect this representation of maps.</p>\n\n<p>The problem is that <code>JsonDeserializer</code> makes me implement</p>\n\n<pre><code>deserialize(JsonParser p, DeserializationContext ctxt)\n</code></pre>\n\n<p>method which has no access to the detected generic type it's supposed to deserialize (<code>Map&lt;String, Book&gt;</code> in the example above). Without that info, I can't in turn deserialize <code>List&lt;MapEntry&lt;String, Book&gt;&gt;</code> without loosing type safety.</p>\n\n<p>I was looking at <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/util/Converter.html\" rel=\"noreferrer\">Converter</a> but it gives even less context.</p>\n\n<p>E.g.</p>\n\n<pre><code>public Map&lt;K,V&gt; convert(List&lt;MapToListTypeAdapter.MapEntry&lt;K,V&gt;&gt; list) {\n    Map&lt;K,V&gt; x = new HashMap&lt;&gt;();\n    list.forEach(entry -&gt; x.put(entry.getKey(), entry.getValue()));\n    return x;\n}\n</code></pre>\n\n<p>But this will potentially create dangerous maps that will throw a <code>ClassCastException</code> on retrieval, as there's no way to check the type is actually sensible.\nIs there a way to get around this?</p>\n\n<p>As an example of what I'd expect, Gson's <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html\" rel=\"noreferrer\"><code>JsonDeserializer</code></a> looks like this:</p>\n\n<pre><code>T deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n</code></pre>\n\n<p>I.e. it gives access to the expected type in a sane way.</p>\n"},{"tags":["java","html","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1664908560,"post_id":73951404,"comment_id":130576158,"body_markdown":"Try `${#arrays.indexOf(name, frag)}` - for example: `${#arrays.indexOf(dropdownFields[0], y)}`. A full list of these `#` expression utilities is [here](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#appendix-b-expression-utility-objects). I am not sure what the underlying structure of the source data is (an array of chars? an array of an array of chars? something else?) - so this is a comment, not an answer.","body":"Try <code>${#arrays.indexOf(name, frag)}</code> - for example: <code>${#arrays.indexOf(dropdownFields[0], y)}</code>. A full list of these <code>#</code> expression utilities is <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#appendix-b-expression-utility-objects\" rel=\"nofollow noreferrer\">here</a>. I am not sure what the underlying structure of the source data is (an array of chars? an array of an array of chars? something else?) - so this is a comment, not an answer."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664910443,"post_id":73951404,"comment_id":130576648,"body_markdown":"As far as I saw, there doesn&#39;t exist a `${#arrays.indexOf(name, frag)}` on the site... So I guess it&#39;s not possible? Also, it&#39;s an array of numbers, so an integer array","body":"As far as I saw, there doesn&#39;t exist a <code>${#arrays.indexOf(name, frag)}</code> on the site... So I guess it&#39;s not possible? Also, it&#39;s an array of numbers, so an integer array"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1664912398,"post_id":73951404,"comment_id":130577233,"body_markdown":"Maybe I misunderstood the comment for `#strings.indexOf` where it says &quot;Also works with arrays, lists or sets&quot;. (Java arrays do not have `indexOf`). If so, sorry about that - my mistake.","body":"Maybe I misunderstood the comment for <code>#strings.indexOf</code> where it says &quot;Also works with arrays, lists or sets&quot;. (Java arrays do not have <code>indexOf</code>). If so, sorry about that - my mistake."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664913750,"post_id":73951404,"comment_id":130577622,"body_markdown":"Alright.... it somehow works, if I do a normal &#180;strings.indexOf(a,b)&#180;, it doesn&#39;t work and I have to use &#180;strings.arrayIndexOf(a,b)&#180; but this poses the problem, that now I get back an array and not an int I can put into the brackets of my array. Now I have to somehow cycle through the indexOf list and set the number in the brackets. But then I would have to copy around 100 lines of code, since if it doesn&#39;t find anything, nothing would be shown, and I still want stuff to show just not have that attribute...","body":"Alright.... it somehow works, if I do a normal &#180;strings.indexOf(a,b)&#180;, it doesn&#39;t work and I have to use &#180;strings.arrayIndexOf(a,b)&#180; but this poses the problem, that now I get back an array and not an int I can put into the brackets of my array. Now I have to somehow cycle through the indexOf list and set the number in the brackets. But then I would have to copy around 100 lines of code, since if it doesn&#39;t find anything, nothing would be shown, and I still want stuff to show just not have that attribute..."},{"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"score":0,"creation_date":1664914564,"post_id":73951404,"comment_id":130577855,"body_markdown":"oh, never mind, it doesn&#39;t work at all. It can tell me if it does find what I&#39;m searching for, but if I give it an array that is &#180;{3, 6}&#180; for example, it shows for both cases the index 0 even if it is searching for 6. It&#39;s finding the index 1 but tells me it&#39;s 0","body":"oh, never mind, it doesn&#39;t work at all. It can tell me if it does find what I&#39;m searching for, but if I give it an array that is &#180;{3, 6}&#180; for example, it shows for both cases the index 0 even if it is searching for 6. It&#39;s finding the index 1 but tells me it&#39;s 0"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664916279,"creation_date":1664916279,"answer_id":73953469,"question_id":73951404,"body_markdown":"A workaround for the lack of `indexOf` for your array is to convert the array to a list.\r\n\r\nYou can do this in Thymeleaf as follows:\r\n\r\n```html\r\n&lt;input th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields, y) \r\n    ? #lists.toList(dropdownFields).indexOf(y)\r\n    : null}&quot;&gt;\r\n```\r\n\r\nThis assumes your Java array is an object `Integer[]` array not a primitive `int[]` array. \r\n\r\n(You can&#39;t convert a primitive array to a list - it has to be an object array. Java does not support collections of primitives, in this way.)\r\n\r\nSo, for example, assuming the Java values as follows:\r\n\r\n```java\r\nint y = 23;\r\nInteger[] dropdownFields = new Integer[]{12, 23, 34};\r\n```\r\n\r\nThen the above Thymeleaf generates the following HTML:\r\n\r\n```html\r\n&lt;input list=&quot;1&quot;&gt;\r\n```\r\n\r\nThat `1` means the number `23` is at index 1 in the original array.\r\n","title":"Thymeleaf IndexOf array elemt","body":"<p>A workaround for the lack of <code>indexOf</code> for your array is to convert the array to a list.</p>\n<p>You can do this in Thymeleaf as follows:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields, y) \n    ? #lists.toList(dropdownFields).indexOf(y)\n    : null}&quot;&gt;\n</code></pre>\n<p>This assumes your Java array is an object <code>Integer[]</code> array not a primitive <code>int[]</code> array.</p>\n<p>(You can't convert a primitive array to a list - it has to be an object array. Java does not support collections of primitives, in this way.)</p>\n<p>So, for example, assuming the Java values as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int y = 23;\nInteger[] dropdownFields = new Integer[]{12, 23, 34};\n</code></pre>\n<p>Then the above Thymeleaf generates the following HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input list=&quot;1&quot;&gt;\n</code></pre>\n<p>That <code>1</code> means the number <code>23</code> is at index 1 in the original array.</p>\n"}],"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953469,"answer_count":1,"score":0,"last_activity_date":1664916279,"creation_date":1664903589,"question_id":73951404,"body_markdown":"So, I didn&#39;t find any useful information online, so I instead ask about it. The problem is relatively simple. I want to get the index of a value in an array in Thymeleaf. I have this code:\r\n\r\n    th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields[0], y) ?\r\n    dropdownFields[1][dropdownFields[0].indexOF(y)] : null}&quot;\r\n\r\nIt&#39;s a part of a bigger thing ofc, but I generally only want help with this. As you can see, I currently have: `dropdownFields.indexOF(y)` almost at the end, that&#39;s where I get confused, I want to get the same index that is found in the if statement, but now I want to use the index it was found at a different point, to get a different value. Is this somehow possible? \r\nHonestly, all that&#39;s important is the question: How do I use `indexOf` in Thymeleaf.\r\n\r\nThank you.","title":"Thymeleaf IndexOf array elemt","body":"<p>So, I didn't find any useful information online, so I instead ask about it. The problem is relatively simple. I want to get the index of a value in an array in Thymeleaf. I have this code:</p>\n<pre><code>th:attr=&quot;list=${dropdownFields != null &amp;&amp; #arrays.contains(dropdownFields[0], y) ?\ndropdownFields[1][dropdownFields[0].indexOF(y)] : null}&quot;\n</code></pre>\n<p>It's a part of a bigger thing ofc, but I generally only want help with this. As you can see, I currently have: <code>dropdownFields.indexOF(y)</code> almost at the end, that's where I get confused, I want to get the same index that is found in the if statement, but now I want to use the index it was found at a different point, to get a different value. Is this somehow possible?\nHonestly, all that's important is the question: How do I use <code>indexOf</code> in Thymeleaf.</p>\n<p>Thank you.</p>\n"},{"tags":["java","sql-server","hibernate","sql-server-2016"],"answers":[{"tags":[],"owner":{"account_id":4571795,"reputation":76,"user_id":3711312,"display_name":"Stefano Maioli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536054135,"creation_date":1536054135,"answer_id":52163375,"question_id":52162678,"body_markdown":"Probably there is something wrong when the driver is asking for the date to the database, which is the default Hibernate behavior using timestamp type as optimistic locking. Try to use the other approach, getting the time directly from the JVM. This is possible using the predefined attribute in the HBM file.\r\n\r\n    &lt;timestamp name=&quot;lastChange&quot; column=&quot;JS1_LAST_CHANGE&quot; source=&quot;vm&quot;/&gt;\r\n\r\nTry, this should work, but be aware of the drawback of this solution, as highlighted on the official Hibernate documentation (cluster, more jvm, ...)","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>Probably there is something wrong when the driver is asking for the date to the database, which is the default Hibernate behavior using timestamp type as optimistic locking. Try to use the other approach, getting the time directly from the JVM. This is possible using the predefined attribute in the HBM file.</p>\n\n<pre><code>&lt;timestamp name=\"lastChange\" column=\"JS1_LAST_CHANGE\" source=\"vm\"/&gt;\n</code></pre>\n\n<p>Try, this should work, but be aware of the drawback of this solution, as highlighted on the official Hibernate documentation (cluster, more jvm, ...)</p>\n"},{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643403916,"creation_date":1643399755,"answer_id":70899581,"question_id":52162678,"body_markdown":"There was a [change in datetime precision][1] with 2016 and this causes the update statement to fail to match on any rows.\r\n\r\nI&#39;ve had some success by setting sendTemporalDataTypesAsStringForBulkCopy=false in the connection properties. This only works with [Microsoft&#39;s SQLServer driver, version 8.4+][2] \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/troubleshoot/sql/database-design/sql-server-azure-sql-database-improvements#validation-steps-during-an-upgrade-to-database-compatibility-level\r\n  [2]: https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15#properties","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>There was a <a href=\"https://learn.microsoft.com/en-us/troubleshoot/sql/database-design/sql-server-azure-sql-database-improvements#validation-steps-during-an-upgrade-to-database-compatibility-level\" rel=\"nofollow noreferrer\">change in datetime precision</a> with 2016 and this causes the update statement to fail to match on any rows.</p>\n<p>I've had some success by setting sendTemporalDataTypesAsStringForBulkCopy=false in the connection properties. This only works with <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15#properties\" rel=\"nofollow noreferrer\">Microsoft's SQLServer driver, version 8.4+</a></p>\n"},{"tags":[],"owner":{"account_id":1301560,"reputation":27,"user_id":1251341,"display_name":"SriVani B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664916261,"creation_date":1664527509,"answer_id":73906139,"question_id":52162678,"body_markdown":"We ran into a similar problem and changing `source = db` for the timestamp worked for us.\r\n","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>We ran into a similar problem and changing <code>source = db</code> for the timestamp worked for us.</p>\n"}],"owner":{"account_id":14278267,"reputation":1,"user_id":10313666,"display_name":"Davide Mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664916261,"creation_date":1536051947,"question_id":52162678,"body_markdown":"i have a problem with the combination hibernate + mssql 2016 + microsoft jdbc driver + datetime column.&lt;br&gt;\r\nthe same software it works perfectly with other databases (oracle, mysql, but also mssql &lt;2016) and with mssql 2016 using the jtds driver, so i believe the problem is in the microsoft jdbc driver.\r\n\r\ni use this libraries versions:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.5.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;        \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.0.jre8&lt;/version&gt;\r\n      &lt;/dependency&gt;        \r\n    &lt;/dependencies&gt;\r\n\r\nhibernate.cfg.xml:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlserver://sql2016host\\Sql2016;databaseName=problem&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;user&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n    \r\n            &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/property&gt;\r\n    \r\n            &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n    \r\n            &lt;!-- Echo all executed SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n          &lt;mapping resource=&quot;User.hbm.xml&quot;/&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nUser.hbm.xml:\r\n\r\n    &lt;hibernate-mapping package=&quot;...&quot;&gt;\r\n      &lt;class name=&quot;User&quot; table=&quot;USERS&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;long&quot; column=&quot;ID&quot;&gt;\r\n          &lt;generator class=&quot;native&quot;&gt;\r\n            &lt;param name=&quot;sequence_name&quot;&gt;HIBERNATE_SEQUENCE&lt;/param&gt;\r\n          &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;timestamp name=&quot;lastChange&quot; column=&quot;LAST_CHANGE&quot;/&gt;\r\n        &lt;property name=&quot;userId&quot; column=&quot;USERID&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;domain&quot; column=&quot;DOMAIN&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;expiredOn&quot; column=&quot;EXPIRED_ON&quot; type=&quot;timestamp&quot; /&gt;\r\n        &lt;property name=&quot;firstName&quot; column=&quot;FIRSTNAME&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;lastName&quot; column=&quot;LASTNAME&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;language&quot; column=&quot;LANGUAGE&quot; type=&quot;string&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;role&quot; column=&quot;ROLE&quot; type=&quot;long&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;powerManager&quot; column=&quot;POWERMANAGER&quot; type=&quot;boolean&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;notes&quot; column=&quot;DESCRIPTION&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;company&quot; column=&quot;COMPANY&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;organization&quot; column=&quot;ORGANIZATION&quot; type=&quot;string&quot; not-null=&quot;false&quot;/&gt;\r\n    \r\n      &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nDatabase table:\r\n\r\n    CREATE TABLE USERS(\r\n    \tID numeric(19, 0) IDENTITY(1,1) NOT NULL,\r\n    \tLAST_CHANGE datetime NOT NULL,\r\n    \tUSERID nvarchar(64) NOT NULL,\r\n    \tDOMAIN nvarchar(64) NULL,\r\n    \tSID nvarchar(255) NULL,\r\n    \tEXPIRED_ON datetime NULL,\r\n    \tFIRSTNAME nvarchar(255) NOT NULL,\r\n    \tLASTNAME nvarchar(255) NOT NULL,\r\n    \tLANGUAGE nvarchar(255) NOT NULL,\r\n    \tROLE numeric(19, 0) NOT NULL,\r\n    \tPOWERMANAGER tinyint NULL,\r\n    \tAUTH_TYPE int NULL,\r\n    \tAUTH_PWD_ID numeric(19, 0) NULL,\r\n    \tAUTH_PWD_CHANGE tinyint NULL,\r\n    \tAUTH_PWD_NOEXPIRE tinyint NULL,\r\n    \tAUTH_PWD_ENFORCE_POLICIES tinyint NULL,\r\n    \tAUTH_LOGIN_SUCCESS_DATE datetime NULL,\r\n    \tAUTH_LOGIN_ERROR_DATE datetime NULL,\r\n    \tAUTH_LOGIN_ERROR_COUNT int NOT NULL,\r\n    \tDESCRIPTION nvarchar(255) NULL,\r\n    \tCOMPANY nvarchar(64) NULL,\r\n    \tORGANIZATION nvarchar(64) NULL\r\n    )\r\n\r\n\r\nUser.java:\r\n\r\n    public class User {\r\n    \r\n    \tprivate long id;\r\n        private Date lastChange;        \r\n    \t\r\n    \tprivate String userId;\r\n    \tprivate String domain;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate String language;\r\n    \tprivate String notes;\r\n    \tprivate String company;\r\n    \tprivate String organization;\r\n    \tprivate Date expiredOn;\r\n    \tprivate long role;\r\n    \tprivate boolean powerManager;\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n    \r\n    \tpublic long getId() ..\r\n    \tpublic void setId(long id) ...\r\n    \t\r\n    \tpublic Date getLastChange() ...\r\n    \tpublic void setLastChange(Date lastChange) ...    \t\r\n    \r\n    \tpublic String getUserId() ...\r\n    \tpublic void setUserId(String userId) ...\r\n\r\n    \tpublic String getDomain() ...\r\n    \tpublic void setDomain(String domain) ...\r\n    \r\n        ....\r\n    }\r\n\r\nMain.java, it&#39;s a command line, single thread main():\r\n\r\n    \tprivate void test() {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n    \t\r\n    \t        session.beginTransaction();\r\n               \r\n                // i load and update the user &#39;USER&#39;    \t\r\n                User u = getUserAuth(session, &quot;USER&quot;);\r\n                u.setCompany(&quot;NEWCO&quot;);\r\n                session.update(u);\r\n    \t\r\n    \t        session.getTransaction().commit();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n        private User getUserAuth(Session session, String userId) throws Exception\r\n        {\r\n          TypedQuery&lt;User&gt; query = session.createQuery(&quot;from User u where u.domain = NULL and upper(u.userId) = upper(:userId)&quot;, User.class);\r\n          query.setParameter(&quot;userId&quot;, userId);\r\n          List&lt;User&gt; users = query.getResultList();\r\n          if (users.size() != 1)\r\n             throw new Exception(userId);\r\n          return users.get(0);\r\n        }\r\n\r\nHibernate&#39;s SQL log:\r\n\r\n    Hibernate: select user0_.ID as 0_, user0_.LAST_CHANGE as JS2_0_, user0_.USERID as JS3_0_, user0_.DOMAIN as JS4_0_, user0_.EXPIRED_ON as JS5_0_, user0_.FIRSTNAME as JS6_0_, user0_.LASTNAME as JS7_0_, user0_.LANGUAGE as JS8_0_, user0_.ROLE as JS9_0_, user0_.POWERMANAGER as JS10_0_, user0_.DESCRIPTION as JS11_0_, user0_.COMPANY as JS12_0_, user0_.ORGANIZATION as JS13_0_ from USERS user0_ where (user0_.DOMAIN is null) and upper(user0_.USERID)=upper(?)\r\n    Hibernate: update USERS set LAST_CHANGE=?, USERID=?, DOMAIN=?, EXPIRED_ON=?, FIRSTNAME=?, LASTNAME=?, LANGUAGE=?, ROLE=?, POWERMANAGER=?, DESCRIPTION=?, COMPANY=?, ORGANIZATION=? where ID=? and LAST_CHANGE=?\r\n\r\nException log:\r\n\r\n    ERROR: HHH000346: Error during managed flush [Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [....User#6]]\r\n    javax.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [.....User#6]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:226)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1460)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n    \tat ....BugTimestamp.test(BugTimestamp.java:43)\r\n    \tat ....BugTimestamp.main(BugTimestamp.java:19)\r\n    Caused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [...User#6]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2522)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3355)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3229)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3630)\r\n    \tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\r\n    \t... 10 more\r\n\r\nif i switch from &amp;lt;timestam/p&amp;gt; to &amp;lt;version/&amp;gt; (with a numeric database column) it works.\r\n\r\nAnybody had the same issue?&lt;br&gt;\r\nThanks,&lt;br&gt;\r\nDavid\r\n\r\n\r\n\r\n","title":"optimistic lock exception on datetime column with hibernate + microsoft sql server 2016 + microsoft jdbc","body":"<p>i have a problem with the combination hibernate + mssql 2016 + microsoft jdbc driver + datetime column.<br>\nthe same software it works perfectly with other databases (oracle, mysql, but also mssql &lt;2016) and with mssql 2016 using the jtds driver, so i believe the problem is in the microsoft jdbc driver.</p>\n\n<p>i use this libraries versions:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.3.5.Final&lt;/version&gt;\n  &lt;/dependency&gt;        \n  &lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0.jre8&lt;/version&gt;\n  &lt;/dependency&gt;        \n&lt;/dependencies&gt;\n</code></pre>\n\n<p>hibernate.cfg.xml:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:sqlserver://sql2016host\\Sql2016;databaseName=problem&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;user&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;password&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.SQLServer2012Dialect&lt;/property&gt;\n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Echo all executed SQL to stdout --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n      &lt;mapping resource=\"User.hbm.xml\"/&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>User.hbm.xml:</p>\n\n<pre><code>&lt;hibernate-mapping package=\"...\"&gt;\n  &lt;class name=\"User\" table=\"USERS\"&gt;\n    &lt;id name=\"id\" type=\"long\" column=\"ID\"&gt;\n      &lt;generator class=\"native\"&gt;\n        &lt;param name=\"sequence_name\"&gt;HIBERNATE_SEQUENCE&lt;/param&gt;\n      &lt;/generator&gt;\n    &lt;/id&gt;\n    &lt;timestamp name=\"lastChange\" column=\"LAST_CHANGE\"/&gt;\n    &lt;property name=\"userId\" column=\"USERID\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"domain\" column=\"DOMAIN\" type=\"string\" /&gt;\n    &lt;property name=\"expiredOn\" column=\"EXPIRED_ON\" type=\"timestamp\" /&gt;\n    &lt;property name=\"firstName\" column=\"FIRSTNAME\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"lastName\" column=\"LASTNAME\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"language\" column=\"LANGUAGE\" type=\"string\" not-null=\"true\"/&gt;\n    &lt;property name=\"role\" column=\"ROLE\" type=\"long\" not-null=\"true\"/&gt;\n    &lt;property name=\"powerManager\" column=\"POWERMANAGER\" type=\"boolean\" not-null=\"true\"/&gt;\n    &lt;property name=\"notes\" column=\"DESCRIPTION\" type=\"string\" not-null=\"false\"/&gt;\n    &lt;property name=\"company\" column=\"COMPANY\" type=\"string\" not-null=\"false\"/&gt;\n    &lt;property name=\"organization\" column=\"ORGANIZATION\" type=\"string\" not-null=\"false\"/&gt;\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Database table:</p>\n\n<pre><code>CREATE TABLE USERS(\n    ID numeric(19, 0) IDENTITY(1,1) NOT NULL,\n    LAST_CHANGE datetime NOT NULL,\n    USERID nvarchar(64) NOT NULL,\n    DOMAIN nvarchar(64) NULL,\n    SID nvarchar(255) NULL,\n    EXPIRED_ON datetime NULL,\n    FIRSTNAME nvarchar(255) NOT NULL,\n    LASTNAME nvarchar(255) NOT NULL,\n    LANGUAGE nvarchar(255) NOT NULL,\n    ROLE numeric(19, 0) NOT NULL,\n    POWERMANAGER tinyint NULL,\n    AUTH_TYPE int NULL,\n    AUTH_PWD_ID numeric(19, 0) NULL,\n    AUTH_PWD_CHANGE tinyint NULL,\n    AUTH_PWD_NOEXPIRE tinyint NULL,\n    AUTH_PWD_ENFORCE_POLICIES tinyint NULL,\n    AUTH_LOGIN_SUCCESS_DATE datetime NULL,\n    AUTH_LOGIN_ERROR_DATE datetime NULL,\n    AUTH_LOGIN_ERROR_COUNT int NOT NULL,\n    DESCRIPTION nvarchar(255) NULL,\n    COMPANY nvarchar(64) NULL,\n    ORGANIZATION nvarchar(64) NULL\n)\n</code></pre>\n\n<p>User.java:</p>\n\n<pre><code>public class User {\n\n    private long id;\n    private Date lastChange;        \n\n    private String userId;\n    private String domain;\n    private String firstName;\n    private String lastName;\n    private String language;\n    private String notes;\n    private String company;\n    private String organization;\n    private Date expiredOn;\n    private long role;\n    private boolean powerManager;\n\n    public User() {\n    }\n\n    public long getId() ..\n    public void setId(long id) ...\n\n    public Date getLastChange() ...\n    public void setLastChange(Date lastChange) ...      \n\n    public String getUserId() ...\n    public void setUserId(String userId) ...\n\n    public String getDomain() ...\n    public void setDomain(String domain) ...\n\n    ....\n}\n</code></pre>\n\n<p>Main.java, it's a command line, single thread main():</p>\n\n<pre><code>    private void test() {\n\n        try {\n            Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n\n            session.beginTransaction();\n\n            // i load and update the user 'USER'        \n            User u = getUserAuth(session, \"USER\");\n            u.setCompany(\"NEWCO\");\n            session.update(u);\n\n            session.getTransaction().commit();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private User getUserAuth(Session session, String userId) throws Exception\n    {\n      TypedQuery&lt;User&gt; query = session.createQuery(\"from User u where u.domain = NULL and upper(u.userId) = upper(:userId)\", User.class);\n      query.setParameter(\"userId\", userId);\n      List&lt;User&gt; users = query.getResultList();\n      if (users.size() != 1)\n         throw new Exception(userId);\n      return users.get(0);\n    }\n</code></pre>\n\n<p>Hibernate's SQL log:</p>\n\n<pre><code>Hibernate: select user0_.ID as 0_, user0_.LAST_CHANGE as JS2_0_, user0_.USERID as JS3_0_, user0_.DOMAIN as JS4_0_, user0_.EXPIRED_ON as JS5_0_, user0_.FIRSTNAME as JS6_0_, user0_.LASTNAME as JS7_0_, user0_.LANGUAGE as JS8_0_, user0_.ROLE as JS9_0_, user0_.POWERMANAGER as JS10_0_, user0_.DESCRIPTION as JS11_0_, user0_.COMPANY as JS12_0_, user0_.ORGANIZATION as JS13_0_ from USERS user0_ where (user0_.DOMAIN is null) and upper(user0_.USERID)=upper(?)\nHibernate: update USERS set LAST_CHANGE=?, USERID=?, DOMAIN=?, EXPIRED_ON=?, FIRSTNAME=?, LASTNAME=?, LANGUAGE=?, ROLE=?, POWERMANAGER=?, DESCRIPTION=?, COMPANY=?, ORGANIZATION=? where ID=? and LAST_CHANGE=?\n</code></pre>\n\n<p>Exception log:</p>\n\n<pre><code>ERROR: HHH000346: Error during managed flush [Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [....User#6]]\njavax.persistence.OptimisticLockException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [.....User#6]\n    at org.hibernate.internal.ExceptionConverterImpl.wrapStaleStateException(ExceptionConverterImpl.java:226)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:93)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1460)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at ....BugTimestamp.test(BugTimestamp.java:43)\n    at ....BugTimestamp.main(BugTimestamp.java:19)\nCaused by: org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [...User#6]\n    at org.hibernate.persister.entity.AbstractEntityPersister.check(AbstractEntityPersister.java:2522)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3355)\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3229)\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3630)\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)\n    ... 10 more\n</code></pre>\n\n<p>if i switch from &lt;timestam/p&gt; to &lt;version/&gt; (with a numeric database column) it works.</p>\n\n<p>Anybody had the same issue?<br>\nThanks,<br>\nDavid</p>\n"},{"tags":["java","embedded-jetty","jetty-9"],"answers":[{"comments":[{"owner":{"account_id":256434,"reputation":744,"user_id":537151,"accept_rate":50,"display_name":"rxx"},"score":0,"creation_date":1402382018,"post_id":24123217,"comment_id":37238575,"body_markdown":"Thanks for the hint the DTD in web.xml was causing this issue.","body":"Thanks for the hint the DTD in web.xml was causing this issue."}],"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402326645,"creation_date":1402326645,"answer_id":24123217,"question_id":24123120,"body_markdown":"Propably you have some config in XML files. XML can be well-formated or even checked against a [DTD][1]. If the DTD resides on the Internet and you don&#39;t have a connection the XMLParser may fail.\r\n\r\nCould be a typo in your XML config file, because the DTD are normally included in the JAR.\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Document_type_definition","title":"Jetty http lookup when not connected to internet","body":"<p>Propably you have some config in XML files. XML can be well-formated or even checked against a <a href=\"http://en.wikipedia.org/wiki/Document_type_definition\" rel=\"nofollow\">DTD</a>. If the DTD resides on the Internet and you don't have a connection the XMLParser may fail.</p>\n\n<p>Could be a typo in your XML config file, because the DTD are normally included in the JAR.</p>\n"},{"tags":[],"owner":{"account_id":256434,"reputation":744,"user_id":537151,"accept_rate":50,"display_name":"rxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664915867,"creation_date":1402382109,"answer_id":24134407,"question_id":24123120,"body_markdown":"Removing following dtd from web.xml solved this issue.\r\n\r\n    \r\n    &lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;","title":"Jetty http lookup when not connected to internet","body":"<p>Removing following dtd from web.xml solved this issue.</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487680370,"creation_date":1487680370,"answer_id":42367470,"question_id":24123120,"body_markdown":"Adding\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.eclipse.jetty.toolchain&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jetty-schemas&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsolved the problem for me.\r\n\r\nSee: [https://issues.apache.org/jira/browse/BROOKLYN-197][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/BROOKLYN-197","title":"Jetty http lookup when not connected to internet","body":"<p>Adding</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.eclipse.jetty.toolchain&lt;/groupId&gt;\n    &lt;artifactId&gt;jetty-schemas&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>solved the problem for me.</p>\n\n<p>See: <a href=\"https://issues.apache.org/jira/browse/BROOKLYN-197\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/BROOKLYN-197</a></p>\n"}],"owner":{"account_id":256434,"reputation":744,"user_id":537151,"accept_rate":50,"display_name":"rxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24134407,"answer_count":3,"score":3,"last_activity_date":1664915867,"creation_date":1402326279,"question_id":24123120,"body_markdown":"I have an embedded jetty server, it is using jetty 9. I am trying to run it&#39;s local instance with host=localhost and port =8080, now when my machine is connected to internet it works well. But when it is not it throws the exception - Any idea how can I fix this?\r\n\r\n    java.net.UnknownHostException: java.sun.com\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:579)\r\n\tat java.net.Socket.connect(Socket.java:528)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n\tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1300)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:637)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1290)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1257)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:262)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1162)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1050)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:964)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\r\n\tat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:246)\r\n\tat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:65)\r\n\tat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:181)\r\n\tat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:172)\r\n\tat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:60)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:455)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:491)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:355)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:324)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)","title":"Jetty http lookup when not connected to internet","body":"<p>I have an embedded jetty server, it is using jetty 9. I am trying to run it's local instance with host=localhost and port =8080, now when my machine is connected to internet it works well. But when it is not it throws the exception - Any idea how can I fix this?</p>\n\n<pre><code>java.net.UnknownHostException: java.sun.com\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:579)\nat java.net.Socket.connect(Socket.java:528)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\nat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\nat sun.net.www.http.HttpClient.New(HttpClient.java:308)\nat sun.net.www.http.HttpClient.New(HttpClient.java:326)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932)\nat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1300)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:637)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1290)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1257)\nat com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:262)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1162)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1050)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:964)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:117)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:649)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:333)\nat org.eclipse.jetty.xml.XmlParser.parse(XmlParser.java:246)\nat org.eclipse.jetty.webapp.Descriptor.parse(Descriptor.java:65)\nat org.eclipse.jetty.webapp.WebDescriptor.parse(WebDescriptor.java:181)\nat org.eclipse.jetty.webapp.MetaData.setWebXml(MetaData.java:172)\nat org.eclipse.jetty.webapp.WebXmlConfiguration.preConfigure(WebXmlConfiguration.java:60)\nat org.eclipse.jetty.webapp.WebAppContext.preConfigure(WebAppContext.java:455)\nat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:491)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:117)\nat org.eclipse.jetty.server.Server.start(Server.java:355)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:99)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\nat org.eclipse.jetty.server.Server.doStart(Server.java:324)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:69)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664915820,"creation_date":1664915820,"answer_id":73953393,"question_id":73953074,"body_markdown":"you aren&#39;t pausing song, you are `stop()`ing it. use `sound.pause()` for pausing :)\r\n\r\nafter `stop()` `MediaPlayer` you have to prepare it again, use `prepare()` or `prepareAsync()`. `MediaPlayer.create(` makes that for you at the beginning, also if you would create `MediaPlayer` using its constructor you would also want to `prepare()`/`preapreAsync()` before calling `start()` in onClick\r\n\r\ncheck out [state diagram of `MediaPlayer`](https://developer.android.com/reference/android/media/MediaPlayer#StateDiagram)","title":"Adding music in android studio (java, MediaPlayer)","body":"<p>you aren't pausing song, you are <code>stop()</code>ing it. use <code>sound.pause()</code> for pausing :)</p>\n<p>after <code>stop()</code> <code>MediaPlayer</code> you have to prepare it again, use <code>prepare()</code> or <code>prepareAsync()</code>. <code>MediaPlayer.create(</code> makes that for you at the beginning, also if you would create <code>MediaPlayer</code> using its constructor you would also want to <code>prepare()</code>/<code>preapreAsync()</code> before calling <code>start()</code> in onClick</p>\n<p>check out <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#StateDiagram\" rel=\"nofollow noreferrer\">state diagram of <code>MediaPlayer</code></a></p>\n"}],"owner":{"account_id":26524509,"reputation":25,"user_id":20159924,"display_name":"Oganes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953393,"answer_count":1,"score":0,"last_activity_date":1664915820,"creation_date":1664913569,"question_id":73953074,"body_markdown":"       buttonMusic = findViewById(R.id.buttonMus);\r\n\r\n        musicSound = MediaPlayer.create(this, R.raw.music);\r\n        buttonClick();\r\n    }\r\n\r\n    private Button buttonMusic;\r\n    private MediaPlayer musicSound;\r\n\r\n    public void buttonClick() {\r\n        buttonMusic.setOnClickListener(\r\n                new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        soundPlay(musicSound);\r\n\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    public void soundPlay(MediaPlayer sound) {\r\n        if (sound.isPlaying()) {\r\n            sound.stop();\r\n\r\n        }else {\r\n            sound.start();\r\n            sound.setLooping(true);\r\n        } }\r\n\r\nHello.\r\nThe code launches the music, is able to stop it, but it wont play again after pressing the play button, after pausing the song that is.","title":"Adding music in android studio (java, MediaPlayer)","body":"<pre><code>   buttonMusic = findViewById(R.id.buttonMus);\n\n    musicSound = MediaPlayer.create(this, R.raw.music);\n    buttonClick();\n}\n\nprivate Button buttonMusic;\nprivate MediaPlayer musicSound;\n\npublic void buttonClick() {\n    buttonMusic.setOnClickListener(\n            new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    soundPlay(musicSound);\n\n                }\n            }\n    );\n}\n\npublic void soundPlay(MediaPlayer sound) {\n    if (sound.isPlaying()) {\n        sound.stop();\n\n    }else {\n        sound.start();\n        sound.setLooping(true);\n    } }\n</code></pre>\n<p>Hello.\nThe code launches the music, is able to stop it, but it wont play again after pressing the play button, after pausing the song that is.</p>\n"},{"tags":["java","if-statement","negative-number"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1664874146,"post_id":73945411,"comment_id":130564506,"body_markdown":"You are doing calculations with some rather large numbers there. Have you checked if what you are trying to calculate even fits in the `int` datatype? Maybe the numbers are to big and you are experiencing [integer overflow](https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo)","body":"You are doing calculations with some rather large numbers there. Have you checked if what you are trying to calculate even fits in the <code>int</code> datatype? Maybe the numbers are to big and you are experiencing <a href=\"https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo\">integer overflow</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664875328,"post_id":73945411,"comment_id":130564869,"body_markdown":"As a quick fix: try changing all your `int` variables to `long`. It might only be needed on the `hga` and `hgaa` variables, but it just might to the trick.","body":"As a quick fix: try changing all your <code>int</code> variables to <code>long</code>. It might only be needed on the <code>hga</code> and <code>hgaa</code> variables, but it just might to the trick."},{"owner":{"account_id":24832545,"reputation":13,"user_id":18711578,"display_name":"HERI"},"score":0,"creation_date":1664876141,"post_id":73945411,"comment_id":130565127,"body_markdown":"changing to &#39;long&#39;, its work. Guess Im forget about this data type. thanks anyway","body":"changing to &#39;long&#39;, its work. Guess Im forget about this data type. thanks anyway"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664917384,"post_id":73945411,"comment_id":130578633,"body_markdown":"not enexpected at all...","body":"not enexpected at all..."}],"answers":[{"tags":[],"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914997,"creation_date":1664914997,"answer_id":73953286,"question_id":73945411,"body_markdown":"You are using `int` but you should use `long`. Integer can&#39;t be used in here as the value is just too big and overflows.\r\n\r\nCheck https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html to see available data types and compare maximum values that you can fit into them.\r\n\r\nUse `Math.exact` and similar methods to immediately get an exception when value overflows. See https://stackoverflow.com/questions/21233582/how-can-i-detect-integer-overflow-on-32-bits-int","title":"if-else-if: getting an unexpected negative output","body":"<p>You are using <code>int</code> but you should use <code>long</code>. Integer can't be used in here as the value is just too big and overflows.</p>\n<p>Check <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a> to see available data types and compare maximum values that you can fit into them.</p>\n<p>Use <code>Math.exact</code> and similar methods to immediately get an exception when value overflows. See <a href=\"https://stackoverflow.com/questions/21233582/how-can-i-detect-integer-overflow-on-32-bits-int\">How can I detect integer overflow on 32 bits int?</a></p>\n"}],"owner":{"account_id":24832545,"reputation":13,"user_id":18711578,"display_name":"HERI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1664914997,"creation_date":1664873946,"question_id":73945411,"body_markdown":"So i have this program, where when I select the area and type, the DP will generate.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GJiuf.png\r\n\r\nThe problem is, when I select another type (tipe-45 and tipe-54), the result is showed in minus. What is the problem?\r\n\r\n    if(rb1.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;90000000&quot;);\r\n            luas_tanah_asli.setText(&quot;60&quot;);}\r\n        else if(rb1.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;120000000&quot;);\r\n            luas_tanah_asli.setText(&quot;90&quot;);}\r\n        else if(rb1.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;150000000&quot;);\r\n            luas_tanah_asli.setText(&quot;110&quot;);}\r\n        \r\n        else if(rb2.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;100000000&quot;);\r\n            luas_tanah_asli.setText(&quot;70&quot;);}\r\n        else if(rb2.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;130000000&quot;);\r\n            luas_tanah_asli.setText(&quot;110&quot;);}\r\n        else if(rb2.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;170000000&quot;);\r\n            luas_tanah_asli.setText(&quot;120&quot;);}\r\n       \r\n        else if(rb3.isSelected() &amp;&amp; t1.isSelected()){\r\n            hargabangunan.setText(&quot;120000000&quot;);\r\n            luas_tanah_asli.setText(&quot;80&quot;);}\r\n        else if(rb3.isSelected() &amp;&amp; t2.isSelected()){\r\n            hargabangunan.setText(&quot;140000000&quot;);\r\n            luas_tanah_asli.setText(&quot;120&quot;);}\r\n        else if(rb3.isSelected() &amp;&amp; t3.isSelected()){\r\n            hargabangunan.setText(&quot;200000000&quot;);\r\n            luas_tanah_asli.setText(&quot;140&quot;);}\r\n        \r\n        int htl = hargat*75/100;     \r\n        tst.setText(Integer.toString(htl));\r\n        \r\n        int lta = Integer.parseInt(luas_tanah_asli.getText());\r\n        int ltth = ltt - lta;\r\n        tsa.setText(Integer.toString(ltth));\r\n        \r\n        int hga = Integer.parseInt(hargabangunan.getText());\r\n        int hgaa = hga+lta*hargat+ltth*htl;\r\n        harga.setText(Integer.toString(hgaa));\r\n       \r\n        String hharga;\r\n        hharga = harga.getText();\r\n        int tharga = Integer.parseInt(hharga);\r\n        int dp = tharga*20/100;\r\n        dpf.setText(Integer.toString(dp));","title":"if-else-if: getting an unexpected negative output","body":"<p>So i have this program, where when I select the area and type, the DP will generate.<a href=\"https://i.stack.imgur.com/GJiuf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJiuf.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is, when I select another type (tipe-45 and tipe-54), the result is showed in minus. What is the problem?</p>\n<pre><code>if(rb1.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;90000000&quot;);\n        luas_tanah_asli.setText(&quot;60&quot;);}\n    else if(rb1.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;120000000&quot;);\n        luas_tanah_asli.setText(&quot;90&quot;);}\n    else if(rb1.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;150000000&quot;);\n        luas_tanah_asli.setText(&quot;110&quot;);}\n    \n    else if(rb2.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;100000000&quot;);\n        luas_tanah_asli.setText(&quot;70&quot;);}\n    else if(rb2.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;130000000&quot;);\n        luas_tanah_asli.setText(&quot;110&quot;);}\n    else if(rb2.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;170000000&quot;);\n        luas_tanah_asli.setText(&quot;120&quot;);}\n   \n    else if(rb3.isSelected() &amp;&amp; t1.isSelected()){\n        hargabangunan.setText(&quot;120000000&quot;);\n        luas_tanah_asli.setText(&quot;80&quot;);}\n    else if(rb3.isSelected() &amp;&amp; t2.isSelected()){\n        hargabangunan.setText(&quot;140000000&quot;);\n        luas_tanah_asli.setText(&quot;120&quot;);}\n    else if(rb3.isSelected() &amp;&amp; t3.isSelected()){\n        hargabangunan.setText(&quot;200000000&quot;);\n        luas_tanah_asli.setText(&quot;140&quot;);}\n    \n    int htl = hargat*75/100;     \n    tst.setText(Integer.toString(htl));\n    \n    int lta = Integer.parseInt(luas_tanah_asli.getText());\n    int ltth = ltt - lta;\n    tsa.setText(Integer.toString(ltth));\n    \n    int hga = Integer.parseInt(hargabangunan.getText());\n    int hgaa = hga+lta*hargat+ltth*htl;\n    harga.setText(Integer.toString(hgaa));\n   \n    String hharga;\n    hharga = harga.getText();\n    int tharga = Integer.parseInt(hharga);\n    int dp = tharga*20/100;\n    dpf.setText(Integer.toString(dp));\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"answers":[{"comments":[{"owner":{"account_id":2846493,"reputation":71,"user_id":2444735,"display_name":"aeneid"},"score":2,"creation_date":1370169657,"post_id":16881042,"comment_id":24355872,"body_markdown":"I don&#39;t want the XML to be inside my jar file. It has to be deployed directly on the file system so that I can use it with an outside library.","body":"I don&#39;t want the XML to be inside my jar file. It has to be deployed directly on the file system so that I can use it with an outside library."},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1370197314,"post_id":16881042,"comment_id":24362920,"body_markdown":"@user2444735 why? Is it always going to be in the same location with the same name?  Even on other people&#39;s computers?","body":"@user2444735 why? Is it always going to be in the same location with the same name?  Even on other people&#39;s computers?"},{"owner":{"account_id":2846493,"reputation":71,"user_id":2444735,"display_name":"aeneid"},"score":0,"creation_date":1370242981,"post_id":16881042,"comment_id":24372878,"body_markdown":"The XML file is the configuration file for some library i&#39;m using. I can only specify the XML&#39;s location on the file system for the library&#39;s use. I was hoping I could do that by locating it as a resource and getting its location on the file system. I can&#39;t use a constant path because it will be located in different places depending on the environment I&#39;m working on.","body":"The XML file is the configuration file for some library i&#39;m using. I can only specify the XML&#39;s location on the file system for the library&#39;s use. I was hoping I could do that by locating it as a resource and getting its location on the file system. I can&#39;t use a constant path because it will be located in different places depending on the environment I&#39;m working on."}],"tags":[],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664914931,"creation_date":1370161387,"answer_id":16881042,"question_id":16881015,"body_markdown":"Yes, put it in the resource folder.  By default that&#39;s `src/main/resources`.  If you put a file in there, it&#39;ll become available in your classpath.\r\n\r\nAlternatively, you could modify your pom to say your folder where the xml file is in is a resource folder.  But, I consider this a bad practice *if* your xml file is under your `src/main/java` directory.  ","title":"Adding a non-jar dependency to my maven project","body":"<p>Yes, put it in the resource folder.  By default that's <code>src/main/resources</code>.  If you put a file in there, it'll become available in your classpath.</p>\n<p>Alternatively, you could modify your pom to say your folder where the xml file is in is a resource folder.  But, I consider this a bad practice <em>if</em> your xml file is under your <code>src/main/java</code> directory.</p>\n"},{"tags":[],"owner":{"account_id":354493,"reputation":2496,"user_id":692867,"accept_rate":67,"display_name":"dev_nut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370162252,"creation_date":1370162252,"answer_id":16881126,"question_id":16881015,"body_markdown":"You need to put the file in src/main/resources. After that the file is available on the classpath. Then it can be read with:\r\n\r\n        // Foo.class\r\n        // assuming xml file is foo.xml\r\n        InputStream is = Foo.class.getResourceAsStream(&quot;foo.xml&quot;); ","title":"Adding a non-jar dependency to my maven project","body":"<p>You need to put the file in src/main/resources. After that the file is available on the classpath. Then it can be read with:</p>\n\n<pre><code>    // Foo.class\n    // assuming xml file is foo.xml\n    InputStream is = Foo.class.getResourceAsStream(\"foo.xml\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370162366,"creation_date":1370162366,"answer_id":16881138,"question_id":16881015,"body_markdown":"Maven uses the resources folder for your project as you mention them in pom.xml. Here is a sample of pom. Anything added as a resource will be available in your classpath and can be accessed in your code.\r\n\r\n      &lt;build&gt;\r\n    \t&lt;finalName&gt;Examples&lt;/finalName&gt;\r\n    \t&lt;resources&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t\t&lt;resource&gt;\r\n    \t\t\t&lt;directory&gt;src/main/config&lt;/directory&gt;\r\n    \t\t&lt;/resource&gt;\r\n    \t&lt;/resources&gt;\r\n    &lt;/build&gt;","title":"Adding a non-jar dependency to my maven project","body":"<p>Maven uses the resources folder for your project as you mention them in pom.xml. Here is a sample of pom. Anything added as a resource will be available in your classpath and can be accessed in your code.</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;finalName&gt;Examples&lt;/finalName&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/config&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3271774,"reputation":329,"user_id":2754985,"display_name":"user2754985"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409977741,"creation_date":1409977741,"answer_id":25696781,"question_id":16881015,"body_markdown":"This solution works for me.  I am using a WMQ table channel file from a Nexus repository.\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;wmq&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;tab&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    ... \r\n    \r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.8&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;groupId&gt;wmq&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;type&gt;tab&lt;/type&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}/WEB-INF/classes&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;destFileName&gt;wmq-channel-tab-file.tab&lt;/destFileName&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n    \t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n    \t\t\t\t\t\t\t&lt;!-- other configurations here --&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"Adding a non-jar dependency to my maven project","body":"<p>This solution works for me.  I am using a WMQ table channel file from a Nexus repository.</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;wmq&lt;/groupId&gt;\n            &lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;type&gt;tab&lt;/type&gt;\n        &lt;/dependency&gt;\n\n... \n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;wmq&lt;/groupId&gt;\n                                    &lt;artifactId&gt;wmq-channel-tab-file&lt;/artifactId&gt;\n                                    &lt;version&gt;1.0.0&lt;/version&gt;\n                                    &lt;type&gt;tab&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/${project.artifactId}-${project.version}/WEB-INF/classes&lt;/outputDirectory&gt;\n                                    &lt;destFileName&gt;wmq-channel-tab-file.tab&lt;/destFileName&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;!-- other configurations here --&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2846493,"reputation":71,"user_id":2444735,"display_name":"aeneid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2616,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1664914931,"creation_date":1370161134,"question_id":16881015,"body_markdown":"I&#39;d like to add an XML file to my project&#39;s dependencies. I&#39;ve been pretty successful in doing this but unfortunately I&#39;ve found that my XML file is not added to the classpath (which kind of makes sense as it is not a jar file).\r\n\r\nThe reason I want to have the XML file in my classpath is so that I could load it as a resource.\r\n\r\nWhat is the recommended way of doing this, if it is at all recommended?\r\n\r\nThanks","title":"Adding a non-jar dependency to my maven project","body":"<p>I'd like to add an XML file to my project's dependencies. I've been pretty successful in doing this but unfortunately I've found that my XML file is not added to the classpath (which kind of makes sense as it is not a jar file).</p>\n\n<p>The reason I want to have the XML file in my classpath is so that I could load it as a resource.</p>\n\n<p>What is the recommended way of doing this, if it is at all recommended?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1664914829,"post_id":73952792,"comment_id":130577926,"body_markdown":"This seems like a problem with your model. If &quot;title&quot; really has to be unique, mangling it is probably the wrong approach; perhaps there&#39;s a type missing from your model that relates to (references) the quote. More likely, the title is just some information in a record that doesn&#39;t need to be unique.","body":"This seems like a problem with your model. If &quot;title&quot; really has to be unique, mangling it is probably the wrong approach; perhaps there&#39;s a type missing from your model that relates to (references) the quote. More likely, the title is just some information in a record that doesn&#39;t need to be unique."}],"answers":[{"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1664912700,"post_id":73952829,"comment_id":130577328,"body_markdown":"So what if my table includes the values `bar` and `bar &amp; foo`? In that case, both of them will be selected.","body":"So what if my table includes the values <code>bar</code> and <code>bar &amp; foo</code>? In that case, both of them will be selected."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664913720,"post_id":73952829,"comment_id":130577615,"body_markdown":"If that the case you have to use findByTitleLike","body":"If that the case you have to use findByTitleLike"},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664914940,"post_id":73952829,"comment_id":130577950,"body_markdown":"Check whether %bar[0-9]* work for you as regex","body":"Check whether %bar[0-9]* work for you as regex"}],"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664914382,"creation_date":1664912035,"answer_id":73952829,"question_id":73952792,"body_markdown":"You can use `findByTitleLike` instead of `findByTitle` for your task.It will find titles  match with the given regex.","title":"Increase counter if a value exists","body":"<p>You can use <code>findByTitleLike</code> instead of <code>findByTitle</code> for your task.It will find titles  match with the given regex.</p>\n"},{"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":1,"creation_date":1664917092,"post_id":73953263,"comment_id":130578571,"body_markdown":"You are right. It is much cleaner that way. Thank you! Besides, I have replaced `data.setCounter(data.getCounter() + 1);` with `data.setCounter(id);`.","body":"You are right. It is much cleaner that way. Thank you! Besides, I have replaced <code>data.setCounter(data.getCounter() + 1);</code> with <code>data.setCounter(id);</code>."}],"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664914827,"creation_date":1664914827,"answer_id":73953263,"question_id":73952792,"body_markdown":"One way to solve this would be to add a `counter` column to your table and whenever you need to show your title, concatenate the title with this counter.\r\n\r\ne.g.\r\n\r\n```java\r\nint id = newQuoteRepository.findByTitle(data.getTitle()).size();\r\n\r\nif (id &gt; 0) {\r\n    data.setCounter(data.getCounter() + 1);\r\n    // persist it\r\n}\r\n\r\n// Show title:\r\nSystem.out.println(data.getTitle() + &quot; &quot; + data.getCounter());\r\n```\r\n\r\nThere are several advantages to this approach. \r\n\r\n - You work with numbers directly\r\n - No need to do some `String` magic to achieve what you want\r\n - Cleaner\r\n","title":"Increase counter if a value exists","body":"<p>One way to solve this would be to add a <code>counter</code> column to your table and whenever you need to show your title, concatenate the title with this counter.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = newQuoteRepository.findByTitle(data.getTitle()).size();\n\nif (id &gt; 0) {\n    data.setCounter(data.getCounter() + 1);\n    // persist it\n}\n\n// Show title:\nSystem.out.println(data.getTitle() + &quot; &quot; + data.getCounter());\n</code></pre>\n<p>There are several advantages to this approach.</p>\n<ul>\n<li>You work with numbers directly</li>\n<li>No need to do some <code>String</code> magic to achieve what you want</li>\n<li>Cleaner</li>\n</ul>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73953263,"answer_count":2,"score":0,"last_activity_date":1664914827,"creation_date":1664911767,"question_id":73952792,"body_markdown":"In my database, I am searching for a specific value. If that value does not exist, it should simply be added, but if it exists, a counter should be added next to it. \r\n\r\nSo for instance, if the value *Hello World* already exists, the added value should be *Hello World 1*, the next one should be *Hello World 2* and so on...\r\n\r\n\r\nThis is what I have tried:\r\n```java\r\nint id = newQuoteRepository.findByTitle(data.getTitle()).size();\r\nSystem.out.println(id);\r\nif (id &gt; 0) {\r\n    data.setTitle(data.getTitle() + id);\r\n}\r\n```\r\n\r\nWell, basically it works but it is not really what I want. So if a value is `bar`, it will add `bar1`. And next time, it will add `bar1` again, because it is searching for `bar` and so the added value, which was `bar1`, will be ignored.\r\n\r\nSo this is what I have: bar, bar1, bar1, bar1 ...\r\n\r\nAnd this is how it should be: bar, bar1, bar2, bar3 ...\r\n\r\nWhat could be a solution for this issue?","title":"Increase counter if a value exists","body":"<p>In my database, I am searching for a specific value. If that value does not exist, it should simply be added, but if it exists, a counter should be added next to it.</p>\n<p>So for instance, if the value <em>Hello World</em> already exists, the added value should be <em>Hello World 1</em>, the next one should be <em>Hello World 2</em> and so on...</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = newQuoteRepository.findByTitle(data.getTitle()).size();\nSystem.out.println(id);\nif (id &gt; 0) {\n    data.setTitle(data.getTitle() + id);\n}\n</code></pre>\n<p>Well, basically it works but it is not really what I want. So if a value is <code>bar</code>, it will add <code>bar1</code>. And next time, it will add <code>bar1</code> again, because it is searching for <code>bar</code> and so the added value, which was <code>bar1</code>, will be ignored.</p>\n<p>So this is what I have: bar, bar1, bar1, bar1 ...</p>\n<p>And this is how it should be: bar, bar1, bar2, bar3 ...</p>\n<p>What could be a solution for this issue?</p>\n"},{"tags":["java","scala","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":4881746,"reputation":17,"user_id":16111063,"display_name":"Micah Rothenbuhler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664908157,"creation_date":1664908157,"answer_id":73952154,"question_id":73951858,"body_markdown":"No: if Project-B imports Project-A, and Project-A has an internal dependency on Library-X, you usually don&#39;t need to do anything and it will resolve automatically. \r\n\r\nSome exceptions may include conflicts and libraries that exist in a private nexus. For the former, you need to resolve the conflict in the pom.xml. For the latter, you need to make sure your repo is accessible from wherever you&#39;re compiling.","title":"How does the library dependency is inherited/works in maven?","body":"<p>No: if Project-B imports Project-A, and Project-A has an internal dependency on Library-X, you usually don't need to do anything and it will resolve automatically.</p>\n<p>Some exceptions may include conflicts and libraries that exist in a private nexus. For the former, you need to resolve the conflict in the pom.xml. For the latter, you need to make sure your repo is accessible from wherever you're compiling.</p>\n"},{"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664909165,"creation_date":1664909165,"answer_id":73952326,"question_id":73951858,"body_markdown":"No.\r\n\r\nDependencies are transitive &quot;by default&quot; unless the opposite is specificied (either with _exclusions_ or _scopes_ (a test scoped dependency won&#39;t be transitively propagated for instance)).\r\n\r\nEDIT: you can use `mvn dependency:tree` to get a better understanding of your dependencies.\r\n\r\nOne possibility is that library X is pulled in different incompatible versions.","title":"How does the library dependency is inherited/works in maven?","body":"<p>No.</p>\n<p>Dependencies are transitive &quot;by default&quot; unless the opposite is specificied (either with <em>exclusions</em> or <em>scopes</em> (a test scoped dependency won't be transitively propagated for instance)).</p>\n<p>EDIT: you can use <code>mvn dependency:tree</code> to get a better understanding of your dependencies.</p>\n<p>One possibility is that library X is pulled in different incompatible versions.</p>\n"},{"tags":[],"owner":{"account_id":6164391,"reputation":719,"user_id":4804881,"accept_rate":67,"display_name":"coders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914719,"creation_date":1664914719,"answer_id":73953249,"question_id":73951858,"body_markdown":"Thank you for the having look at my post. By adding the Library-X under &lt;artifactSet&gt; tag in the Project-B pom.xml, worked.Something shown below\r\n\r\n    &lt;artifactSet&gt;                           \r\n    &lt;include&gt;x.y.stone:central-dl-spark-common-integration-logging&lt;/include&gt;\r\n    &lt;/artifactSet&gt;","title":"How does the library dependency is inherited/works in maven?","body":"<p>Thank you for the having look at my post. By adding the Library-X under  tag in the Project-B pom.xml, worked.Something shown below</p>\n<pre><code>&lt;artifactSet&gt;                           \n&lt;include&gt;x.y.stone:central-dl-spark-common-integration-logging&lt;/include&gt;\n&lt;/artifactSet&gt;\n</code></pre>\n"}],"owner":{"account_id":6164391,"reputation":719,"user_id":4804881,"accept_rate":67,"display_name":"coders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664914719,"creation_date":1664906327,"question_id":73951858,"body_markdown":"I have gradle scala project(Lets say **&quot;A&quot;**) which uses the library(Lets say **&quot;X&quot;**). And i have used this **Library-&quot;X&quot;** in the build.gradle of **Project-A** as shown below and i&#39;m using the **Library-X** classes to perform some operations.\r\n\r\nbuild.gradle of **Project-&quot;A&quot;**\r\n\r\n    implementation &quot;com.x.y.z.stone:central-dl-spark-common-integration-logging:0.4.0-SNAPSHOT&quot;\r\n\r\nNow **Project-&quot;A&quot;** is itself a library which is used in the **Project-&quot;B&quot;** and this **Project-B** is maven build. Now when i call the **Project-A** function which is acting as library in-turn uses **Library-X** function. But **Project-B** is complaining that class not found error as shown below. This is the **Library-X** class\r\n\r\n    java.lang.NoClassDefFoundError: com/x/y/z/integrationlogging/IntegrationLogging$\r\n\r\nMy question is do we even need to declare the **Library-X** in the pom.xml of **Project-B** as well?\r\n\r\n","title":"How does the library dependency is inherited/works in maven?","body":"<p>I have gradle scala project(Lets say <strong>&quot;A&quot;</strong>) which uses the library(Lets say <strong>&quot;X&quot;</strong>). And i have used this <strong>Library-&quot;X&quot;</strong> in the build.gradle of <strong>Project-A</strong> as shown below and i'm using the <strong>Library-X</strong> classes to perform some operations.</p>\n<p>build.gradle of <strong>Project-&quot;A&quot;</strong></p>\n<pre><code>implementation &quot;com.x.y.z.stone:central-dl-spark-common-integration-logging:0.4.0-SNAPSHOT&quot;\n</code></pre>\n<p>Now <strong>Project-&quot;A&quot;</strong> is itself a library which is used in the <strong>Project-&quot;B&quot;</strong> and this <strong>Project-B</strong> is maven build. Now when i call the <strong>Project-A</strong> function which is acting as library in-turn uses <strong>Library-X</strong> function. But <strong>Project-B</strong> is complaining that class not found error as shown below. This is the <strong>Library-X</strong> class</p>\n<pre><code>java.lang.NoClassDefFoundError: com/x/y/z/integrationlogging/IntegrationLogging$\n</code></pre>\n<p>My question is do we even need to declare the <strong>Library-X</strong> in the pom.xml of <strong>Project-B</strong> as well?</p>\n"},{"tags":["java","spring","eclipse","web","eclipse-jee"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1664906737,"post_id":73951783,"comment_id":130575693,"body_markdown":"Welcome to Stack Overflow! Please provide specific information about that attempt. To learn more about this community and how we can help you, please read [ask] and its linked resources. Could you provide a minimal reproducible example?","body":"Welcome to Stack Overflow! Please provide specific information about that attempt. To learn more about this community and how we can help you, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources. Could you provide a minimal reproducible example?"}],"answers":[{"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1677507827,"post_id":73952184,"comment_id":133345831,"body_markdown":"Please do not install an older version as a solution. You can swap folders using the **Deployment Assembly** property page.","body":"Please do not install an older version as a solution. You can swap folders using the <b>Deployment Assembly</b> property page."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664908371,"creation_date":1664908371,"answer_id":73952184,"question_id":73951783,"body_markdown":"The Eclipse for some reason replaced WebContent with webapp folder.\r\nIt is basically a replacement for it, but if you really want WebContent you can download 2017 version.\r\nHere is the one that I have\r\nEclipse Java EE IDE for Web Developers.\r\n\r\nVersion: Oxygen.1a Release (4.7.1a)\r\nBuild id: 20171005-1200\r\n\r\nhttps://www.eclipse.org/downloads/packages/release/oxygen/1a\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip\r\n\r\nAfter this version WebContent is replaced with webapp\r\n\r\nHere is also a picture of the project structure if you have an eclipse that creates webapp or WebContent, as you can see it is basically a replacement to make it look more like maven structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q01ua.png","title":"WebContent folder does not exist, webapp instead","body":"<p>The Eclipse for some reason replaced WebContent with webapp folder.\nIt is basically a replacement for it, but if you really want WebContent you can download 2017 version.\nHere is the one that I have\nEclipse Java EE IDE for Web Developers.</p>\n<p>Version: Oxygen.1a Release (4.7.1a)\nBuild id: 20171005-1200</p>\n<p><a href=\"https://www.eclipse.org/downloads/packages/release/oxygen/1a\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/release/oxygen/1a</a></p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1a/eclipse-jee-oxygen-1a-win32-x86_64.zip</a></p>\n<p>After this version WebContent is replaced with webapp</p>\n<p>Here is also a picture of the project structure if you have an eclipse that creates webapp or WebContent, as you can see it is basically a replacement to make it look more like maven structure.</p>\n<p><a href=\"https://i.stack.imgur.com/q01ua.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q01ua.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"score":0,"creation_date":1677488061,"post_id":73953187,"comment_id":133340343,"body_markdown":"How do you reverse thing if you only noticed this that there is no longer a Web Content but I&#39;d need a Web Content to follow thru a tutorial ?","body":"How do you reverse thing if you only noticed this that there is no longer a Web Content but I&#39;d need a Web Content to follow thru a tutorial ?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1677507715,"post_id":73953187,"comment_id":133345805,"body_markdown":"@KarenGoh Create your WebContent directory, and use the project&#39;s **Deployment Assembly** property page to designate it as a folder that deploys to &#39;/&#39;.","body":"@KarenGoh Create your WebContent directory, and use the project&#39;s <b>Deployment Assembly</b> property page to designate it as a folder that deploys to &#39;/&#39;."},{"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"score":0,"creation_date":1677508277,"post_id":73953187,"comment_id":133345994,"body_markdown":"Tks but i found out Jakarata ee is really what I need since i am using java 17 so there is no way to follow that tutorial wholesale. Tks for your reply though.","body":"Tks but i found out Jakarata ee is really what I need since i am using java 17 so there is no way to follow that tutorial wholesale. Tks for your reply though."}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914389,"creation_date":1664914389,"answer_id":73953187,"question_id":73951783,"body_markdown":"&quot;WebContent&quot; was replaced to form a layout more easily transitioned to building a `.war` file with headless tools like Gradle and Maven. No one should be deploying to a production environment from their IDE. &quot;WebContent&quot; was also fairly unique to Eclipse&#39;s Web Tools. There&#39;s nothing special about it.\r\n\r\nYou don&#39;t need an older version, only to enter a different value when the New Dynamic Web Project wizard asks you what you want to use as your Content Directory on the third page of the wizard (**if** you don&#39;t want to use the new default):\r\n\r\n[![Page 3 in the New Dynamic Web Project wizard][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/QjvwX.png","title":"WebContent folder does not exist, webapp instead","body":"<p>&quot;WebContent&quot; was replaced to form a layout more easily transitioned to building a <code>.war</code> file with headless tools like Gradle and Maven. No one should be deploying to a production environment from their IDE. &quot;WebContent&quot; was also fairly unique to Eclipse's Web Tools. There's nothing special about it.</p>\n<p>You don't need an older version, only to enter a different value when the New Dynamic Web Project wizard asks you what you want to use as your Content Directory on the third page of the wizard (<strong>if</strong> you don't want to use the new default):</p>\n<p><a href=\"https://i.stack.imgur.com/QjvwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QjvwX.png\" alt=\"Page 3 in the New Dynamic Web Project wizard\" /></a></p>\n"}],"owner":{"account_id":26527963,"reputation":3,"user_id":20160638,"display_name":"marou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73952184,"answer_count":2,"score":-1,"last_activity_date":1664914389,"creation_date":1664905865,"question_id":73951783,"body_markdown":"I&#39;m taking the following course right now: &quot;Develop websites with Java EE&quot;.\r\nI encounter a problem when creating the Dynamic Web Project because instead of having a WebContent folder like on all the tutorials I&#39;ve seen, I get a src/main folder... \r\nWhat should I do to be able to have a WebContent folder","title":"WebContent folder does not exist, webapp instead","body":"<p>I'm taking the following course right now: &quot;Develop websites with Java EE&quot;.\nI encounter a problem when creating the Dynamic Web Project because instead of having a WebContent folder like on all the tutorials I've seen, I get a src/main folder...\nWhat should I do to be able to have a WebContent folder</p>\n"},{"tags":["java","redisson"],"answers":[{"tags":[],"owner":{"account_id":3113302,"reputation":11,"user_id":2634632,"display_name":"Venkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914366,"creation_date":1664914366,"answer_id":73953181,"question_id":65090015,"body_markdown":"        Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\r\n\r\n        var rBarch = redissonClient.createBatch();\r\n        Map &lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String key : keys) {\r\n            rBarch.getList(key).sizeAsync().whenComplete((integer, throwable) -&gt; map.get(key, integer));\r\n        }\r\n        rBarch.execute();\r\n        return map;","title":"Redisson Multiget - Getting multiple key values in single call form Redisson","body":"<pre><code>    Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\n\n    var rBarch = redissonClient.createBatch();\n    Map &lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String key : keys) {\n        rBarch.getList(key).sizeAsync().whenComplete((integer, throwable) -&gt; map.get(key, integer));\n    }\n    rBarch.execute();\n    return map;\n</code></pre>\n"}],"owner":{"account_id":6512341,"reputation":81,"user_id":5039167,"accept_rate":0,"display_name":"Satish Bhuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664914366,"creation_date":1606823650,"question_id":65090015,"body_markdown":"I have a redis cache where each key is of type list and from redisson i want to make a map of each list key and their size... \r\n\r\nBelow code is working fine but I want to make single call to redis cache.\r\n\r\n    Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\r\n\r\n\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (String key : keys) {\r\n            map.put(key, redissonClient.getList(key).size());\r\n        }\r\n        return map;\r\n    }\r\n\r\nThanks in advance","title":"Redisson Multiget - Getting multiple key values in single call form Redisson","body":"<p>I have a redis cache where each key is of type list and from redisson i want to make a map of each list key and their size...</p>\n<p>Below code is working fine but I want to make single call to redis cache.</p>\n<pre><code>Iterable&lt;String&gt; keys = redissonClient.getKeys().getKeysByPattern(keyPattern);\n\n\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    for (String key : keys) {\n        map.put(key, redissonClient.getList(key).size());\n    }\n    return map;\n}\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1664908576,"post_id":73952117,"comment_id":130576164,"body_markdown":"retry limit is set for kafka producer, it cannot infinitely retry sending message by default.\n\nhttps://kafka.apache.org/documentation/#producerconfigs_retries\nhttps://kafka.apache.org/documentation/#producerconfigs_delivery.timeout.ms","body":"retry limit is set for kafka producer, it cannot infinitely retry sending message by default.  <a href=\"https://kafka.apache.org/documentation/#producerconfigs_retries\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/#producerconfigs_retries</a> <a href=\"https://kafka.apache.org/documentation/#producerconfigs_delivery.timeout.ms\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/&hellip;</a>"},{"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"score":0,"creation_date":1664913856,"post_id":73952117,"comment_id":130577654,"body_markdown":"is there a workaround to make it reconnect after disconnecting from broker?","body":"is there a workaround to make it reconnect after disconnecting from broker?"}],"answers":[{"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1664940706,"post_id":73953144,"comment_id":130581947,"body_markdown":"hi gary, not sure that using internal kafka retry mechanism for each msg vs external retry mechanism which is better here. Trying to understand difference here.","body":"hi gary, not sure that using internal kafka retry mechanism for each msg vs external retry mechanism which is better here. Trying to understand difference here."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1664975750,"post_id":73953144,"comment_id":130591006,"body_markdown":"The internal retries are for transient problems when the broker is up (retries up to `delivery.timeout.ms`); external is for when the broker is down (can&#39;t get metadata in `max.block.ms`.","body":"The internal retries are for transient problems when the broker is up (retries up to <code>delivery.timeout.ms</code>); external is for when the broker is down (can&#39;t get metadata in <code>max.block.ms</code>."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664914054,"creation_date":1664914054,"answer_id":73953144,"question_id":73952117,"body_markdown":"You can wrap the `KafkaTemplate` call in a `RetryTemplate` or `@Retryable` method - see https://github.com/spring-projects/spring-retry - the `RetryTemplate` is already on the class path as a transitive dependency of spring-kafka.","title":"Kafka template connection with broker","body":"<p>You can wrap the <code>KafkaTemplate</code> call in a <code>RetryTemplate</code> or <code>@Retryable</code> method - see <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-retry</a> - the <code>RetryTemplate</code> is already on the class path as a transitive dependency of spring-kafka.</p>\n"}],"owner":{"account_id":16089670,"reputation":121,"user_id":11613429,"display_name":"Johnny B. Goode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664914054,"creation_date":1664907915,"question_id":73952117,"body_markdown":"I&#39;ve got a @KafkaListener method in my service which processes message and send it to another topic using KafkaTemplate and from time to time it completely stops working due to some reasons. \r\n\r\n```\r\n2022-10-04 16:53:18.218 ERROR 1 --- [pool-1-thread-2] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;{&quot;type&quot;:&quot;INFORMATION&quot;,&quot;messageId&quot;:&quot;f39fabfd-e560-499b-9850-440ad811657b&quot;,&quot;phoneNumber&quot;:&quot;+100000000...&#39; to topic ss.fb.processing-notifications.send:\r\n\r\norg.apache.kafka.common.errors.TimeoutException: Topic ss.fb.processing-notifications.send not present in metadata after 60000 ms.\r\n\r\n2022-10-04 16:53:33.013  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Disconnecting from node -2 due to socket connection setup timeout. The timeout value is 29794 ms.\r\n2022-10-04 16:53:33.014  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker prd-mqueue-srv2.obi.ru:9092 (id: -2 rack: null) disconnected\r\n2022-10-04 16:53:41.005  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Disconnecting from node -3 due to socket connection setup timeout. The timeout value is 27831 ms.\r\n2022-10-04 16:53:41.005  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Bootstrap broker prd-mqueue-srv3.obi.ru:9092 (id: -3 rack: null) disconnected\r\n```\r\nThere seems to be some network issues however after restarting the service everything works fine again. Anyway I wonder why eventually broker turns out to be disconnected? Is&#39;t producer supposed to infinitely try sending message to broker until it succedes? ","title":"Kafka template connection with broker","body":"<p>I've got a @KafkaListener method in my service which processes message and send it to another topic using KafkaTemplate and from time to time it completely stops working due to some reasons.</p>\n<pre><code>2022-10-04 16:53:18.218 ERROR 1 --- [pool-1-thread-2] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key='null' and payload='{&quot;type&quot;:&quot;INFORMATION&quot;,&quot;messageId&quot;:&quot;f39fabfd-e560-499b-9850-440ad811657b&quot;,&quot;phoneNumber&quot;:&quot;+100000000...' to topic ss.fb.processing-notifications.send:\n\norg.apache.kafka.common.errors.TimeoutException: Topic ss.fb.processing-notifications.send not present in metadata after 60000 ms.\n\n2022-10-04 16:53:33.013  INFO 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Disconnecting from node -2 due to socket connection setup timeout. The timeout value is 29794 ms.\n2022-10-04 16:53:33.014  WARN 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker prd-mqueue-srv2.obi.ru:9092 (id: -2 rack: null) disconnected\n2022-10-04 16:53:41.005  INFO 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Disconnecting from node -3 due to socket connection setup timeout. The timeout value is 27831 ms.\n2022-10-04 16:53:41.005  WARN 1 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-nepcNotificationsGroup-1, groupId=nepcNotificationsGroup] Bootstrap broker prd-mqueue-srv3.obi.ru:9092 (id: -3 rack: null) disconnected\n</code></pre>\n<p>There seems to be some network issues however after restarting the service everything works fine again. Anyway I wonder why eventually broker turns out to be disconnected? Is't producer supposed to infinitely try sending message to broker until it succedes?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664913990,"creation_date":1664913990,"question_id":73953137,"body_markdown":"I tried `MatchingStrategy` as `STRICT` but that won&#39;t update anything since I do not have same number properties in both source and destination.\r\n\r\n`STANDARD` is not working because there&#39;s this one property called `id` in source and `personId` in destination. so `id` is being mapped to `personId` which I do not want. If I skip this property then I am getting an error that `A mapping is missing a required destination member`.\r\n\r\n","title":"How do I configure ModelMapper to map only the exact matching fields in both source and destination?","body":"<p>I tried <code>MatchingStrategy</code> as <code>STRICT</code> but that won't update anything since I do not have same number properties in both source and destination.</p>\n<p><code>STANDARD</code> is not working because there's this one property called <code>id</code> in source and <code>personId</code> in destination. so <code>id</code> is being mapped to <code>personId</code> which I do not want. If I skip this property then I am getting an error that <code>A mapping is missing a required destination member</code>.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664908854,"post_id":73952255,"comment_id":130576223,"body_markdown":"doesn&#39;t ```@Service``` annotation provide a transactional methods? I have a method that do completely the same but with another entity, and it works.","body":"doesn&#39;t <code>@Service</code> annotation provide a transactional methods? I have a method that do completely the same but with another entity, and it works."},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1664908962,"post_id":73952255,"comment_id":130576248,"body_markdown":"There is some good detail on this in this stackoverflow:\n\nhttps://stackoverflow.com/questions/50833029/is-spring-service-transactional\n\nYou may also try a saveAndFlush, if you prefer, which I believe should rule out any other issues.","body":"There is some good detail on this in this stackoverflow:  <a href=\"https://stackoverflow.com/questions/50833029/is-spring-service-transactional\" title=\"is spring service transactional\">stackoverflow.com/questions/50833029/&hellip;</a>  You may also try a saveAndFlush, if you prefer, which I believe should rule out any other issues."},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664909645,"post_id":73952255,"comment_id":130576413,"body_markdown":"Well, ok, I got it. But I added ```@Transactional``` annotation to service class and added the class that you wrote, but it&#39;s still not working :(","body":"Well, ok, I got it. But I added <code>@Transactional</code> annotation to service class and added the class that you wrote, but it&#39;s still not working :("},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1664910728,"post_id":73952255,"comment_id":130576734,"body_markdown":"Hmm, can we check that the sql you are expecting is being run?\n\nIn your application.properties\n\n`spring.jpa.show-sql=true`\n`spring.jpa.properties.hibernate.format_sql=true`\n\nShould show you the queries","body":"Hmm, can we check that the sql you are expecting is being run?  In your application.properties  <code>spring.jpa.show-sql=true</code> <code>spring.jpa.properties.hibernate.format_sql=true</code>  Should show you the queries"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664911390,"post_id":73952255,"comment_id":130576941,"body_markdown":"I updated my question with sql queries","body":"I updated my question with sql queries"},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1664911661,"post_id":73952255,"comment_id":130577022,"body_markdown":"I see your update however it is only showing a single select, are you certain that select is coming from the addUserToClass method, as I would expect it to produce multiple update statements","body":"I see your update however it is only showing a single select, are you certain that select is coming from the addUserToClass method, as I would expect it to produce multiple update statements"},{"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"score":0,"creation_date":1664911781,"post_id":73952255,"comment_id":130577052,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248550/discussion-between-tedellis-and-cross).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248550/discussion-between-tedellis-and-cross\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":26403792,"reputation":76,"user_id":20053884,"display_name":"TedEllis"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664913887,"creation_date":1664908747,"answer_id":73952255,"question_id":73952021,"body_markdown":"Leaving this here for reference for others, but the Question is NOT solved.\r\n\r\nIn AdminService your method:\r\n\r\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\r\n                throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\r\n            UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\r\n            ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\r\n            if(schoolClass.getStudents().contains(user)) {\r\n                throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\r\n            }\r\n            schoolClass.getStudents().add(user);\r\n            classRepo.save(schoolClass);\r\n            userRepo.save(user);\r\n            return schoolClass;\r\n        }\r\n\r\nDoes not indicate that it is a Transactional method: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\r\n\r\nWhile you call save, it is not performing a commit. Similarly to how in some SQL languages you can perform inserts, updates, deletes, and if you do not commit the result will not be present on your additional queries.\r\n\r\nSo change your ClassEntity to have @Transactional on top of it, which will cause a commit to occur at the end of the method.\r\n\r\nAdditionally ensure you enable TransactionManagement somewhere in your configuration\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class PersistenceJPAConfig {\r\n    \r\n    }","title":"Spring JPA doesn&#39;t update relation","body":"<p>Leaving this here for reference for others, but the Question is NOT solved.</p>\n<p>In AdminService your method:</p>\n<pre><code>public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\n        if(schoolClass.getStudents().contains(user)) {\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\n        }\n        schoolClass.getStudents().add(user);\n        classRepo.save(schoolClass);\n        userRepo.save(user);\n        return schoolClass;\n    }\n</code></pre>\n<p>Does not indicate that it is a Transactional method: <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/transaction-configuration-with-jpa-and-spring</a></p>\n<p>While you call save, it is not performing a commit. Similarly to how in some SQL languages you can perform inserts, updates, deletes, and if you do not commit the result will not be present on your additional queries.</p>\n<p>So change your ClassEntity to have @Transactional on top of it, which will cause a commit to occur at the end of the method.</p>\n<p>Additionally ensure you enable TransactionManagement somewhere in your configuration</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class PersistenceJPAConfig {\n\n}\n</code></pre>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664913887,"creation_date":1664907265,"question_id":73952021,"body_markdown":"I develop a &quot;school electronic diary&quot; app and now I&#39;m trying to create a method that will add students to class. But here I faced with the problem. When I try to add the entity to list of entity - nothing is happening. \r\n\r\nSo here is controller which receives my requests:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/admin/class&quot;)\r\npublic class AdminClassController {\r\n    @Autowired\r\n    private AdminService adminService;\r\n\r\n    @Autowired\r\n    private ClassService classService;\r\n\r\n    @PostMapping(&quot;/user&quot;)\r\n    public ResponseEntity&lt;Object&gt; addUserToClass(@RequestBody AdminAddUserToClassModel userAndClassData) {\r\n        try {\r\n            return ResponseEntity.ok(adminService.addUserToClass(userAndClassData));\r\n        } catch (UserNotFoundException | ClassNotFoundException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n        } catch (UserAlreadyExistsException e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.FORBIDDEN);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the **AdminService**\r\n```java\r\n@Service\r\npublic class AdminService {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n\r\n    @Autowired\r\n    private SchoolRepository schoolRepo;\r\n\r\n    @Autowired\r\n    private SchoolService schoolService;\r\n\r\n    @Autowired\r\n    private ClassService classService;\r\n\r\n    @Autowired\r\n    private ClassRepository classRepo;\r\n\r\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\r\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\r\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\r\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\r\n        if(schoolClass.getStudents().contains(user)) {\r\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\r\n        }\r\n        schoolClass.getStudents().add(user);\r\n        classRepo.save(schoolClass);\r\n        userRepo.save(user);\r\n        return schoolClass;\r\n    }\r\n}\r\n```\r\nAnd in the ```addUserToClass``` method, when I try to add user to **ClassEntity** and try to save it, nothing is happening!\r\n\r\nHere&#39;s the ```getUserEntity``` method of **UserService**\r\n```java\r\npublic UserEntity getUserEntity(long userId) throws UserNotFoundException {\r\n        return userRepo.findById(userId)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;user with id &quot; + userId + &quot; not found&quot;));\r\n    }\r\n```\r\n\r\nAnd ```getClassEntity``` of **ClassService**\r\n```java\r\npublic ClassEntity getClassEntity(long classId) throws ClassNotFoundException {\r\n        return classRepo.findById(classId)\r\n                .orElseThrow(() -&gt; new ClassNotFoundException(&quot;class with such id doesn&#39;t exists&quot;));\r\n    }\r\n```\r\n\r\nAnd,of cource, entities:\r\n\r\n**UserEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;, schema = &quot;working_schema&quot;)\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private String login;\r\n\r\n    @Getter @Setter\r\n    private String password;\r\n\r\n    @Getter @Setter\r\n    private String phoneNumber;\r\n\r\n    @Getter @Setter\r\n    private String email;\r\n\r\n    @Getter @Setter\r\n    private String name;\r\n\r\n    @Getter @Setter\r\n    private String surname;\r\n\r\n    @Getter @Setter\r\n    private String patronymic;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;roleid&quot;, nullable = false)\r\n    @Getter @Setter\r\n    private RoleEntity role;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;classid&quot;)\r\n    @Getter @Setter\r\n    private ClassEntity userClass;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;schoolid&quot;)\r\n    @Getter @Setter\r\n    private SchoolEntity school;\r\n\r\n\r\n    public UserEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**ClassEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;classes&quot;, schema = &quot;working_schema&quot;)\r\npublic class ClassEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private int number;\r\n\r\n    @Getter @Setter\r\n    private char letter;\r\n\r\n    @OneToMany(mappedBy = &quot;userClass&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;UserEntity&gt; students;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;schoolid&quot;)\r\n    @Getter @Setter\r\n    private SchoolEntity school;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;timetableid&quot;)\r\n    @JsonIgnore @Getter\r\n    @Setter\r\n    private TimetableEntity timetable;\r\n\r\n    public ClassEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**SchoolEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;schools&quot;, schema = &quot;working_schema&quot;)\r\npublic class SchoolEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter\r\n    private long number;\r\n\r\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;UserEntity&gt; students;\r\n\r\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\r\n    @Getter @Setter\r\n    @JsonIgnore\r\n    private List&lt;ClassEntity&gt; classes;\r\n}\r\n```\r\n\r\nSo if you know what can be a problem, please tell me, I&#39;d really appreciate it!\r\n\r\n**UPDATE**\r\n\r\nHere&#39;s SQL queries:\r\n```sql\r\nHibernate: \r\n    select\r\n        classentit0_.id as id1_0_0_,\r\n        classentit0_.letter as letter2_0_0_,\r\n        classentit0_.number as number3_0_0_,\r\n        classentit0_.schoolid as schoolid4_0_0_,\r\n        classentit0_.timetableid as timetabl5_0_0_,\r\n        schoolenti1_.id as id1_2_1_,\r\n        schoolenti1_.number as number2_2_1_,\r\n        timetablee2_.id as id1_4_2_ \r\n    from\r\n        working_schema.classes classentit0_ \r\n    left outer join\r\n        working_schema.schools schoolenti1_ \r\n            on classentit0_.schoolid=schoolenti1_.id \r\n    left outer join\r\n        working_schema.timetables timetablee2_ \r\n            on classentit0_.timetableid=timetablee2_.id \r\n    where\r\n        classentit0_.id=?\r\n```","title":"Spring JPA doesn&#39;t update relation","body":"<p>I develop a &quot;school electronic diary&quot; app and now I'm trying to create a method that will add students to class. But here I faced with the problem. When I try to add the entity to list of entity - nothing is happening.</p>\n<p>So here is controller which receives my requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/admin/class&quot;)\npublic class AdminClassController {\n    @Autowired\n    private AdminService adminService;\n\n    @Autowired\n    private ClassService classService;\n\n    @PostMapping(&quot;/user&quot;)\n    public ResponseEntity&lt;Object&gt; addUserToClass(@RequestBody AdminAddUserToClassModel userAndClassData) {\n        try {\n            return ResponseEntity.ok(adminService.addUserToClass(userAndClassData));\n        } catch (UserNotFoundException | ClassNotFoundException e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n        } catch (UserAlreadyExistsException e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>Here's the <strong>AdminService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AdminService {\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserRepository userRepo;\n\n    @Autowired\n    private SchoolRepository schoolRepo;\n\n    @Autowired\n    private SchoolService schoolService;\n\n    @Autowired\n    private ClassService classService;\n\n    @Autowired\n    private ClassRepository classRepo;\n\n    public ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel)\n            throws UserNotFoundException, ClassNotFoundException, UserAlreadyExistsException {\n        UserEntity user = userService.getUserEntity(userAndClassModel.getUserId());\n        ClassEntity schoolClass = classService.getClassEntity(userAndClassModel.getClassId());\n        if(schoolClass.getStudents().contains(user)) {\n            throw new UserAlreadyExistsException(&quot;user already in this class&quot;);\n        }\n        schoolClass.getStudents().add(user);\n        classRepo.save(schoolClass);\n        userRepo.save(user);\n        return schoolClass;\n    }\n}\n</code></pre>\n<p>And in the <code>addUserToClass</code> method, when I try to add user to <strong>ClassEntity</strong> and try to save it, nothing is happening!</p>\n<p>Here's the <code>getUserEntity</code> method of <strong>UserService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserEntity getUserEntity(long userId) throws UserNotFoundException {\n        return userRepo.findById(userId)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;user with id &quot; + userId + &quot; not found&quot;));\n    }\n</code></pre>\n<p>And <code>getClassEntity</code> of <strong>ClassService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public ClassEntity getClassEntity(long classId) throws ClassNotFoundException {\n        return classRepo.findById(classId)\n                .orElseThrow(() -&gt; new ClassNotFoundException(&quot;class with such id doesn't exists&quot;));\n    }\n</code></pre>\n<p>And,of cource, entities:</p>\n<p><strong>UserEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;, schema = &quot;working_schema&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private String login;\n\n    @Getter @Setter\n    private String password;\n\n    @Getter @Setter\n    private String phoneNumber;\n\n    @Getter @Setter\n    private String email;\n\n    @Getter @Setter\n    private String name;\n\n    @Getter @Setter\n    private String surname;\n\n    @Getter @Setter\n    private String patronymic;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;roleid&quot;, nullable = false)\n    @Getter @Setter\n    private RoleEntity role;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;classid&quot;)\n    @Getter @Setter\n    private ClassEntity userClass;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;schoolid&quot;)\n    @Getter @Setter\n    private SchoolEntity school;\n\n\n    public UserEntity() {\n    }\n}\n</code></pre>\n<p><strong>ClassEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;classes&quot;, schema = &quot;working_schema&quot;)\npublic class ClassEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private int number;\n\n    @Getter @Setter\n    private char letter;\n\n    @OneToMany(mappedBy = &quot;userClass&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;UserEntity&gt; students;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;schoolid&quot;)\n    @Getter @Setter\n    private SchoolEntity school;\n\n    @OneToOne\n    @JoinColumn(name = &quot;timetableid&quot;)\n    @JsonIgnore @Getter\n    @Setter\n    private TimetableEntity timetable;\n\n    public ClassEntity() {\n    }\n}\n</code></pre>\n<p><strong>SchoolEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;schools&quot;, schema = &quot;working_schema&quot;)\npublic class SchoolEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter\n    private long number;\n\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;UserEntity&gt; students;\n\n    @OneToMany(mappedBy = &quot;school&quot;, cascade = CascadeType.ALL)\n    @Getter @Setter\n    @JsonIgnore\n    private List&lt;ClassEntity&gt; classes;\n}\n</code></pre>\n<p>So if you know what can be a problem, please tell me, I'd really appreciate it!</p>\n<p><strong>UPDATE</strong></p>\n<p>Here's SQL queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    select\n        classentit0_.id as id1_0_0_,\n        classentit0_.letter as letter2_0_0_,\n        classentit0_.number as number3_0_0_,\n        classentit0_.schoolid as schoolid4_0_0_,\n        classentit0_.timetableid as timetabl5_0_0_,\n        schoolenti1_.id as id1_2_1_,\n        schoolenti1_.number as number2_2_1_,\n        timetablee2_.id as id1_4_2_ \n    from\n        working_schema.classes classentit0_ \n    left outer join\n        working_schema.schools schoolenti1_ \n            on classentit0_.schoolid=schoolenti1_.id \n    left outer join\n        working_schema.timetables timetablee2_ \n            on classentit0_.timetableid=timetablee2_.id \n    where\n        classentit0_.id=?\n</code></pre>\n"},{"tags":["java","eclipse","android-studio","appium","appium-android"],"comments":[{"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"score":0,"creation_date":1664913993,"post_id":73953109,"comment_id":130577682,"body_markdown":"driver.get(&quot;https://google.com&quot;);\n\t\t //System.out.println(driver.getTitle());\n\t\t \n        Set&lt;String&gt; contexts=driver.getContextHandles();   \n          for(String contextName :contexts)\n        {\n\t\t System.out.println(contextName);\n       }\n        driver.context(&quot;WEBVIEW_chrome&quot;);\n   \n\t\t Thread.sleep(6000);\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;What is Appium&quot;);\n         driver.findElement(By.name(&quot;q&quot;)).sendKeys(Keys.ENTER);","body":"driver.get(&quot;<a href=\"https://google.com&quot;\" rel=\"nofollow noreferrer\">google.com&quot;</a>); \t\t //System.out.println(driver.getTitle()); \t\t          Set&lt;String&gt; contexts=driver.getContextHandles();              for(String contextName :contexts)         { \t\t System.out.println(contextName);        }         driver.context(&quot;WEBVIEW_chrome&quot;);     \t\t Thread.sleep(6000);         driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;What is Appium&quot;);          driver.findElement(By.name(&quot;q&quot;)).sendKeys(Keys.ENTER);"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664950220,"post_id":73953109,"comment_id":130583221,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"score":0,"creation_date":1665052588,"post_id":73953109,"comment_id":130611180,"body_markdown":"import java.time.Duration;\nimport java.util.Set;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.testng.annotations.Test;\npublic class MobileBrowserTest extends BrowserBaseTest2 {\t\n@Test\n\tpublic void MobileBrowserDemo() \n\t{\ndriver.get(&quot;http://google.com&quot;); System.out.println(driver.getTitle());\nWebDriverWait w= new WebDriverWait(driver, Duration.ofSeconds(20));       w.until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;q&quot;)));\n driver.findElement(name(&quot;q&quot;)).sendKeys(&quot;What is Appium?&quot;);driver.findElement(name(&quot;q&quot;)).sendKeys(Keys.ENTER);\t\n}\n}","body":"import java.time.Duration; import java.util.Set; import org.openqa.selenium.By; import org.openqa.selenium.Keys; import org.testng.annotations.Test; public class MobileBrowserTest extends BrowserBaseTest2 {\t @Test \tpublic void MobileBrowserDemo()  \t{ driver.get(&quot;<a href=\"http://google.com&quot;\" rel=\"nofollow noreferrer\">google.com&quot;</a>); System.out.println(driver.getTitle()); WebDriverWait w= new WebDriverWait(driver, Duration.ofSeconds(20));       w.until(ExpectedConditions.visibilityOfElementLocated(By.nam&zwnj;&#8203;e(&quot;q&quot;)));  driver.findElement(name(&quot;q&quot;)).sendKeys(&quot;What is Appium?&quot;);driver.findElement(name(&quot;q&quot;)).sendKeys(Keys.ENTER)&zwnj;&#8203;;\t } }"}],"owner":{"account_id":26405796,"reputation":1,"user_id":20055604,"display_name":"Elvis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664913823,"creation_date":1664913823,"question_id":73953109,"body_markdown":"I am new trying to transition to Mobile Automation testing using appium, i get an error when i try to sendKeys to the search field in chrome browser on Android studio (virtual device) stating: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;q&#39;]&quot;}\r\n\r\n\r\n","title":"Appium: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;q&#39;]&quot;}","body":"<p>I am new trying to transition to Mobile Automation testing using appium, i get an error when i try to sendKeys to the search field in chrome browser on Android studio (virtual device) stating: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='q']&quot;}</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","scrollview"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1667454912,"post_id":73942338,"comment_id":131171820,"body_markdown":"How did you achieve this?","body":"How did you achieve this?"},{"owner":{"account_id":12244902,"reputation":63,"user_id":8936827,"display_name":"Indirajith"},"score":1,"creation_date":1667785750,"post_id":73942338,"comment_id":131243052,"body_markdown":"Check this out -&gt; https://stackoverflow.com/a/73953044/8936827","body":"Check this out -&gt; <a href=\"https://stackoverflow.com/a/73953044/8936827\">stackoverflow.com/a/73953044/8936827</a>"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1667790687,"post_id":73942338,"comment_id":131243792,"body_markdown":"Thanks. You must accept the answer which helped you","body":"Thanks. You must accept the answer which helped you"}],"answers":[{"tags":[],"owner":{"account_id":26518299,"reputation":26,"user_id":20152445,"display_name":"Ilya Pechuro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664903273,"creation_date":1664903273,"answer_id":73951349,"question_id":73942338,"body_markdown":"There is no standart view that looks like this one.\r\nBut you can write it by yourself with help of `RecyclerView`, `SnapHelper` and `RecyclerView.ItemDecoration`\r\nSee more:\r\nhttps://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper\r\nhttps://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration\r\n\r\nAlso, take a look at this example, which implements this:\r\nhttps://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5","title":"Scrolling view similar to that of a camera app","body":"<p>There is no standart view that looks like this one.\nBut you can write it by yourself with help of <code>RecyclerView</code>, <code>SnapHelper</code> and <code>RecyclerView.ItemDecoration</code>\nSee more:\n<a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/recyclerview/widget/SnapHelper</a>\n<a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ItemDecoration</a></p>\n<p>Also, take a look at this example, which implements this:\n<a href=\"https://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5\" rel=\"nofollow noreferrer\">https://gist.github.com/Ilyshka991/a2759dd564da41859ad5ebac96f368e5</a></p>\n"},{"comments":[{"owner":{"account_id":12244902,"reputation":63,"user_id":8936827,"display_name":"Indirajith"},"score":0,"creation_date":1664940377,"post_id":73953044,"comment_id":130581922,"body_markdown":"Thank you, mate. I&#39;ll look into it and get back to you.","body":"Thank you, mate. I&#39;ll look into it and get back to you."}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913353,"creation_date":1664913353,"answer_id":73953044,"question_id":73942338,"body_markdown":"This is pretty simple to do - the tricky part is the extra space at the start of the list. We can do that by adding a dummy item to the list with a fixed width.\r\n\r\nFirst get a basic item layout:\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/label&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:minWidth=&quot;100sp&quot;\r\n        android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline5&quot;\r\n        android:gravity=&quot;center&quot;\r\n        tools:text=&quot;1/800&quot;\r\n        /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n````\r\n\r\nThe important thing here is the `minWidth` (in sp) which gives each item a consistent size. You could make it a fixed size too, if you want - this way just allows for longer labels. Really that value should be a *dimension resource*, e.g. `@dimen/stops_item_width` but we&#39;ll get to that later\r\n\r\n----\r\n\r\nNow you need an adapter:\r\n````\r\nclass StopsAdapter(private val items: List&lt;String&gt;) : RecyclerView.Adapter&lt;StopsViewHolder&gt;() {\r\n\r\n    companion object {\r\n        const val PADDING = 0\r\n        const val ITEM = 1\r\n    }\r\n\r\n    // treat the first item in the list as the header\r\n    override fun getItemViewType(position: Int) = if (position == 0) PADDING else ITEM\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): StopsViewHolder {\r\n        val inflater = LayoutInflater.from(parent.context)\r\n        val binding = StopsItemBinding.inflate(inflater)\r\n        return if (viewType == PADDING) StopsViewHolder.Padding(binding)\r\n        else StopsViewHolder.Item(binding)\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: StopsViewHolder, position: Int) {\r\n        // need to offset the lookup, since item 0 in the list is displayed at position 1\r\n        if (holder is StopsViewHolder.Item) holder.binding.label.text = items[position - 1]\r\n    }\r\n\r\n    // add 1 to the list size to account for the padding object\r\n    override fun getItemCount() = items.size + 1\r\n}\r\n\r\nsealed class StopsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n    // basically reusing the same layout, just forcing a fixed width on it\r\n    class Padding(binding: StopsItemBinding) : StopsViewHolder(binding.root) {\r\n        init {\r\n            with(binding.label) {\r\n                // padding needs to be half the screen width, minus half an item (so it&#39;s centred)\r\n                val metrics = context.resources.displayMetrics\r\n                // really this 100 should be a dimension resource that the XML uses too, defined in one place\r\n                val minItemWidth = 100 * metrics.scaledDensity\r\n                width = ((metrics.widthPixels - minItemWidth) / 2f).roundToInt()\r\n            }\r\n        }\r\n    }\r\n\r\n    class Item(val binding: StopsItemBinding) : StopsViewHolder(binding.root)\r\n}\r\n````\r\n\r\nThe comments explain it, but there are basically two types of `ViewHolder` - one that displays items, and one that has a fixed width and only appears as the first item in the list. That size is calculated when the VH is created, and it depends on that *item width* in the XML (so it can offset enough that the first real item is centred). This is why it would be best as a resource - so it&#39;s only defined in one place, instead of hardcoded here *and* in the XML, where you&#39;d need to change both if you ever tweak it.\r\n\r\n----\r\n\r\nAnd then you just need to set it up on your `RecyclerView`\r\n\r\n````\r\nclass MainFragment : Fragment(R.layout.fragment_main) {\r\n\r\n    lateinit var binding: FragmentMainBinding\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        binding = FragmentMainBinding.bind(view)\r\n        with(binding.recyclerView) {\r\n            adapter = StopsAdapter(listOf(\r\n                &quot;Auto&quot;, &quot;1/4000&quot;, &quot;1/3200&quot;, &quot;1/1600&quot;, &quot;1/1250&quot;, &quot;1/1000&quot;, &quot;1/800&quot;\r\n            ))\r\n            layoutManager =\r\n                LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false)\r\n            // snaps the items to the middle of the screen\r\n            LinearSnapHelper().attachToRecyclerView(this)\r\n        }\r\n    }\r\n}\r\n\r\n````\r\n\r\nAnd that&#39;s about it!\r\n\r\n[![The working layout][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MqDJ3.png","title":"Scrolling view similar to that of a camera app","body":"<p>This is pretty simple to do - the tricky part is the extra space at the start of the list. We can do that by adding a dummy item to the list with a fixed width.</p>\n<p>First get a basic item layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/label&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:minWidth=&quot;100sp&quot;\n        android:textAppearance=&quot;@style/TextAppearance.MaterialComponents.Headline5&quot;\n        android:gravity=&quot;center&quot;\n        tools:text=&quot;1/800&quot;\n        /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>The important thing here is the <code>minWidth</code> (in sp) which gives each item a consistent size. You could make it a fixed size too, if you want - this way just allows for longer labels. Really that value should be a <em>dimension resource</em>, e.g. <code>@dimen/stops_item_width</code> but we'll get to that later</p>\n<hr />\n<p>Now you need an adapter:</p>\n<pre><code>class StopsAdapter(private val items: List&lt;String&gt;) : RecyclerView.Adapter&lt;StopsViewHolder&gt;() {\n\n    companion object {\n        const val PADDING = 0\n        const val ITEM = 1\n    }\n\n    // treat the first item in the list as the header\n    override fun getItemViewType(position: Int) = if (position == 0) PADDING else ITEM\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): StopsViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        val binding = StopsItemBinding.inflate(inflater)\n        return if (viewType == PADDING) StopsViewHolder.Padding(binding)\n        else StopsViewHolder.Item(binding)\n    }\n\n    override fun onBindViewHolder(holder: StopsViewHolder, position: Int) {\n        // need to offset the lookup, since item 0 in the list is displayed at position 1\n        if (holder is StopsViewHolder.Item) holder.binding.label.text = items[position - 1]\n    }\n\n    // add 1 to the list size to account for the padding object\n    override fun getItemCount() = items.size + 1\n}\n\nsealed class StopsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    // basically reusing the same layout, just forcing a fixed width on it\n    class Padding(binding: StopsItemBinding) : StopsViewHolder(binding.root) {\n        init {\n            with(binding.label) {\n                // padding needs to be half the screen width, minus half an item (so it's centred)\n                val metrics = context.resources.displayMetrics\n                // really this 100 should be a dimension resource that the XML uses too, defined in one place\n                val minItemWidth = 100 * metrics.scaledDensity\n                width = ((metrics.widthPixels - minItemWidth) / 2f).roundToInt()\n            }\n        }\n    }\n\n    class Item(val binding: StopsItemBinding) : StopsViewHolder(binding.root)\n}\n</code></pre>\n<p>The comments explain it, but there are basically two types of <code>ViewHolder</code> - one that displays items, and one that has a fixed width and only appears as the first item in the list. That size is calculated when the VH is created, and it depends on that <em>item width</em> in the XML (so it can offset enough that the first real item is centred). This is why it would be best as a resource - so it's only defined in one place, instead of hardcoded here <em>and</em> in the XML, where you'd need to change both if you ever tweak it.</p>\n<hr />\n<p>And then you just need to set it up on your <code>RecyclerView</code></p>\n<pre><code>class MainFragment : Fragment(R.layout.fragment_main) {\n\n    lateinit var binding: FragmentMainBinding\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        binding = FragmentMainBinding.bind(view)\n        with(binding.recyclerView) {\n            adapter = StopsAdapter(listOf(\n                &quot;Auto&quot;, &quot;1/4000&quot;, &quot;1/3200&quot;, &quot;1/1600&quot;, &quot;1/1250&quot;, &quot;1/1000&quot;, &quot;1/800&quot;\n            ))\n            layoutManager =\n                LinearLayoutManager(requireContext(), LinearLayoutManager.HORIZONTAL, false)\n            // snaps the items to the middle of the screen\n            LinearSnapHelper().attachToRecyclerView(this)\n        }\n    }\n}\n\n</code></pre>\n<p>And that's about it!</p>\n<p><a href=\"https://i.stack.imgur.com/MqDJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MqDJ3.png\" alt=\"The working layout\" /></a></p>\n"}],"owner":{"account_id":12244902,"reputation":63,"user_id":8936827,"display_name":"Indirajith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664913353,"creation_date":1664847370,"question_id":73942338,"body_markdown":"I&#39;m curious if there&#39;s anything that comes standard with Android that looks exactly like this.\r\n\r\nIf not, do we have a customised approach to accomplishing it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mlycl.gif","title":"Scrolling view similar to that of a camera app","body":"<p>I'm curious if there's anything that comes standard with Android that looks exactly like this.</p>\n<p>If not, do we have a customised approach to accomplishing it?</p>\n<p><a href=\"https://i.stack.imgur.com/Mlycl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mlycl.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","encryption","multidimensional-array"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":2,"creation_date":1664893821,"post_id":73947126,"comment_id":130571293,"body_markdown":"Your current code does not compile. You&#39;re missing a return statement.","body":"Your current code does not compile. You&#39;re missing a return statement."}],"answers":[{"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":2,"creation_date":1664894436,"post_id":73949562,"comment_id":130571503,"body_markdown":"The amount of work put into this answer is dangerously disproportional to the effort made by the OP. :)","body":"The amount of work put into this answer is dangerously disproportional to the effort made by the OP. :)"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664896012,"creation_date":1664894204,"answer_id":73949562,"question_id":73947126,"body_markdown":"Refer to *javadoc* comments for method `cifradoTrans` in below code. Note that I replace spaces with underscores for better visualization.\r\n```java\r\npublic class CipherSq {\r\n\r\n    /**\r\n     * Places characters of &lt;var&gt;cadena&lt;/var&gt; in a matrix with &lt;var&gt;numberOfColumnsInMatrix&lt;/var&gt;\r\n     * columns and as many rows as required in order to hold all characters of &lt;var&gt;cadena&lt;/var&gt;.\r\n     * Stores the characters in rows, i.e. first character in &lt;var&gt;cadena&lt;/var&gt; is in first row,\r\n     * first column of matrix. Second character of &lt;var&gt;cadena&lt;/var&gt; is in first row, second column\r\n     * of matrix, and so on. Then a string is created by traversing the matrix column by column and\r\n     * concatenating the matrix elements, i.e. first character of returned string is character in\r\n     * first row, first column of matrix. Second character in string is second row, first column of\r\n     * matrix and so on.\r\n     * \r\n     * @param cadena                  - string to manipulate.\r\n     * @param numberOfColumnsInMatrix - number of columns in matrix.\r\n     * \r\n     * @return Manipulated string.\r\n     */\r\n    public static String cifradoTrans(String cadena, int numberOfColumnsInMatrix) {\r\n        cadena = cadena.replace(&#39; &#39;, &#39;_&#39;);\r\n        char[] characters = cadena.toCharArray();\r\n        int len = cadena.length();\r\n        int rows = (int) Math.ceil((double) len / numberOfColumnsInMatrix);\r\n        char[][] matrix = new char[rows][numberOfColumnsInMatrix];\r\n        int row = 0;\r\n        int col = 0;\r\n        int i = 0;\r\n        for (; i &lt; len; i++) {\r\n            col = i % numberOfColumnsInMatrix;\r\n            if (col == 0) {\r\n                row = i / numberOfColumnsInMatrix;\r\n                System.out.println();\r\n            }\r\n            matrix[row][col] = characters[i];\r\n            System.out.print(characters[i] + &quot; &quot;);\r\n        }\r\n        for (col++; col &lt; numberOfColumnsInMatrix; col++) {\r\n            matrix[row][col] = &#39;_&#39;;\r\n            System.out.print(matrix[row][col] + &quot; &quot;);\r\n        }\r\n        System.out.println(System.lineSeparator());\r\n        i = 0;\r\n        char[] newCharacters = new char[rows * numberOfColumnsInMatrix];\r\n        for (col = 0; col &lt; numberOfColumnsInMatrix; col++) {\r\n            for (row = 0; row &lt; rows; row++) {\r\n                newCharacters[i++] = matrix[row][col];\r\n            }\r\n        }\r\n        return new String(newCharacters);\r\n    }\r\n\r\n    /**\r\n     * Recognizes two command-line arguments. First is string to manipulate.\r\n     * Second is number of columns in matrix.\r\n     */\r\n    public static void main(String[] args) {\r\n        if (args.length &gt; 1) {\r\n            System.out.println(cifradoTrans(args[0], Integer.parseInt(args[1])));\r\n        }\r\n        else {\r\n            System.out.println(&quot;ARGS: string int&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I run above code with [command-line] arguments `&quot;NOS ATACAN CON CARBUNCO&quot;` and `5`, I get the following output:\r\n```none\r\nN O S _ A \r\nT A C A N \r\n_ C O N _ \r\nC A R B U \r\nN C O _ _ \r\n\r\nNT_CNOACACSCORO_ANB_AN_U_\r\n```\r\n","title":"A simple transposition cipher","body":"<p>Refer to <em>javadoc</em> comments for method <code>cifradoTrans</code> in below code. Note that I replace spaces with underscores for better visualization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CipherSq {\n\n    /**\n     * Places characters of &lt;var&gt;cadena&lt;/var&gt; in a matrix with &lt;var&gt;numberOfColumnsInMatrix&lt;/var&gt;\n     * columns and as many rows as required in order to hold all characters of &lt;var&gt;cadena&lt;/var&gt;.\n     * Stores the characters in rows, i.e. first character in &lt;var&gt;cadena&lt;/var&gt; is in first row,\n     * first column of matrix. Second character of &lt;var&gt;cadena&lt;/var&gt; is in first row, second column\n     * of matrix, and so on. Then a string is created by traversing the matrix column by column and\n     * concatenating the matrix elements, i.e. first character of returned string is character in\n     * first row, first column of matrix. Second character in string is second row, first column of\n     * matrix and so on.\n     * \n     * @param cadena                  - string to manipulate.\n     * @param numberOfColumnsInMatrix - number of columns in matrix.\n     * \n     * @return Manipulated string.\n     */\n    public static String cifradoTrans(String cadena, int numberOfColumnsInMatrix) {\n        cadena = cadena.replace(' ', '_');\n        char[] characters = cadena.toCharArray();\n        int len = cadena.length();\n        int rows = (int) Math.ceil((double) len / numberOfColumnsInMatrix);\n        char[][] matrix = new char[rows][numberOfColumnsInMatrix];\n        int row = 0;\n        int col = 0;\n        int i = 0;\n        for (; i &lt; len; i++) {\n            col = i % numberOfColumnsInMatrix;\n            if (col == 0) {\n                row = i / numberOfColumnsInMatrix;\n                System.out.println();\n            }\n            matrix[row][col] = characters[i];\n            System.out.print(characters[i] + &quot; &quot;);\n        }\n        for (col++; col &lt; numberOfColumnsInMatrix; col++) {\n            matrix[row][col] = '_';\n            System.out.print(matrix[row][col] + &quot; &quot;);\n        }\n        System.out.println(System.lineSeparator());\n        i = 0;\n        char[] newCharacters = new char[rows * numberOfColumnsInMatrix];\n        for (col = 0; col &lt; numberOfColumnsInMatrix; col++) {\n            for (row = 0; row &lt; rows; row++) {\n                newCharacters[i++] = matrix[row][col];\n            }\n        }\n        return new String(newCharacters);\n    }\n\n    /**\n     * Recognizes two command-line arguments. First is string to manipulate.\n     * Second is number of columns in matrix.\n     */\n    public static void main(String[] args) {\n        if (args.length &gt; 1) {\n            System.out.println(cifradoTrans(args[0], Integer.parseInt(args[1])));\n        }\n        else {\n            System.out.println(&quot;ARGS: string int&quot;);\n        }\n    }\n}\n</code></pre>\n<p>When I run above code with [command-line] arguments <code>&quot;NOS ATACAN CON CARBUNCO&quot;</code> and <code>5</code>, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N O S _ A \nT A C A N \n_ C O N _ \nC A R B U \nN C O _ _ \n\nNT_CNOACACSCORO_ANB_AN_U_\n</code></pre>\n"}],"owner":{"account_id":25586465,"reputation":1,"user_id":19364149,"display_name":"Daniel Requena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1664913322,"creation_date":1664882510,"question_id":73947126,"body_markdown":"I need to write a simple column transposition cipher program.\r\n\r\nHere&#39;s what I have so far:\r\n\r\n    public static String transpositionCipher(String text, int N) {\r\n        String output = &quot;&quot;;\r\n        char[][] split = new char[N][text.length()];\r\n        for (int i = 0; i &lt;= N; i++) {\r\n            for (int j = 0; j &lt; text.length(); j++) {\r\n                split[i][j] = text.charAt(i * text.length() + j);\r\n                System.out.println(split[i][j]);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nBellow are the inputs and expected outputs of my program:\r\n\r\n**INPUT #1**\r\n\r\n```\r\ntext = &quot;New atak&quot;, N = 3\r\n```\r\n\r\nTransposition matrix:\r\n\r\n```none\r\nN e w\r\n_ a t\r\na k _\r\n```\r\n\r\n**OUPUT #1**\r\n\r\n```\r\n&quot;N aeakwt&quot;\r\n```\r\n\r\n**INPUT #2**\r\n\r\n```\r\ntext = &quot;NOS ATACAN CON CARBUNCO&quot;, N = 5\r\n```\r\n\r\nTransposition matrix:\r\n\r\n```none\r\nN O S _ A\r\nT A C A N\r\n_ C O N _\r\nC A R B U\r\nN C O _ _\r\n```\r\n\r\n**OUPUT #2**\r\n\r\n```\r\n&quot;NT CNOACACSCORO ANB AN U&quot;\r\n```","title":"A simple transposition cipher","body":"<p>I need to write a simple column transposition cipher program.</p>\n<p>Here's what I have so far:</p>\n<pre><code>public static String transpositionCipher(String text, int N) {\n    String output = &quot;&quot;;\n    char[][] split = new char[N][text.length()];\n    for (int i = 0; i &lt;= N; i++) {\n        for (int j = 0; j &lt; text.length(); j++) {\n            split[i][j] = text.charAt(i * text.length() + j);\n            System.out.println(split[i][j]);\n        }\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>Bellow are the inputs and expected outputs of my program:</p>\n<p><strong>INPUT #1</strong></p>\n<pre><code>text = &quot;New atak&quot;, N = 3\n</code></pre>\n<p>Transposition matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N e w\n_ a t\na k _\n</code></pre>\n<p><strong>OUPUT #1</strong></p>\n<pre><code>&quot;N aeakwt&quot;\n</code></pre>\n<p><strong>INPUT #2</strong></p>\n<pre><code>text = &quot;NOS ATACAN CON CARBUNCO&quot;, N = 5\n</code></pre>\n<p>Transposition matrix:</p>\n<pre class=\"lang-none prettyprint-override\"><code>N O S _ A\nT A C A N\n_ C O N _\nC A R B U\nN C O _ _\n</code></pre>\n<p><strong>OUPUT #2</strong></p>\n<pre><code>&quot;NT CNOACACSCORO ANB AN U&quot;\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":4390684,"reputation":1345,"user_id":3579174,"accept_rate":89,"display_name":"Ibrennan208"},"score":0,"creation_date":1664911152,"post_id":73952669,"comment_id":130576864,"body_markdown":"You&#39;ll want to become familiar with the concept of a loop. You may want a `while` loop here.","body":"You&#39;ll want to become familiar with the concept of a loop. You may want a <code>while</code> loop here."},{"owner":{"account_id":22337408,"reputation":1,"user_id":16557739,"display_name":"Brian Gomez"},"score":0,"creation_date":1664911644,"post_id":73952669,"comment_id":130577014,"body_markdown":"@Ibrennan208 I have looked at a while loop but was getting this error &#39;Exception in thread &quot;main&quot; java.util.NoSuchElementException&#39; so I thought there might be another solution since I am not sure how to solve that error. I forgot to add that part to the question.","body":"@Ibrennan208 I have looked at a while loop but was getting this error &#39;Exception in thread &quot;main&quot; java.util.NoSuchElementException&#39; so I thought there might be another solution since I am not sure how to solve that error. I forgot to add that part to the question."},{"owner":{"account_id":4390684,"reputation":1345,"user_id":3579174,"accept_rate":89,"display_name":"Ibrennan208"},"score":0,"creation_date":1664913183,"post_id":73952669,"comment_id":130577440,"body_markdown":"We would need more context regarding your previous implementation to tell you exactly what was happening with your `while` loop. It&#39;s possible the scope of the loop was giving you that exception. (Meaning the places you put your brackets and how the brackets could potentially be causing that issue)","body":"We would need more context regarding your previous implementation to tell you exactly what was happening with your <code>while</code> loop. It&#39;s possible the scope of the loop was giving you that exception. (Meaning the places you put your brackets and how the brackets could potentially be causing that issue)"}],"answers":[{"comments":[{"owner":{"account_id":22337408,"reputation":1,"user_id":16557739,"display_name":"Brian Gomez"},"score":0,"creation_date":1664915437,"post_id":73952930,"comment_id":130578094,"body_markdown":"You were right. I was just missing the break statements. Thanks.","body":"You were right. I was just missing the break statements. Thanks."}],"tags":[],"owner":{"account_id":24381519,"reputation":27,"user_id":18312979,"display_name":"kefomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664912724,"creation_date":1664912724,"answer_id":73952930,"question_id":73952669,"body_markdown":"Like has been said you should learn about loops. There are two types while-loop and for-loop. In this case you should youse the while-loop.\r\n\r\nThe implementation of your problem could be this.\r\n\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;What woul you like to do?&quot;);\r\n       \r\n        String response;\r\n        Transactions newTransaction = new Transactions();\r\n\r\n        \r\n        while (true) {\r\n                response = scanner.next().toLowerCase();        \r\n                if (response.equals(&quot;withdraw&quot;)) {\r\n                    newTransaction.Withdrawal();\r\n                    break;\r\n                } else if (response.equals(&quot;deposit&quot;)) {\r\n                    newTransaction.Deposit();\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Please select a valid choice&quot;);        \r\n                }\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>Like has been said you should learn about loops. There are two types while-loop and for-loop. In this case you should youse the while-loop.</p>\n<p>The implementation of your problem could be this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;What woul you like to do?&quot;);\n       \n        String response;\n        Transactions newTransaction = new Transactions();\n\n        \n        while (true) {\n                response = scanner.next().toLowerCase();        \n                if (response.equals(&quot;withdraw&quot;)) {\n                    newTransaction.Withdrawal();\n                    break;\n                } else if (response.equals(&quot;deposit&quot;)) {\n                    newTransaction.Deposit();\n                    break;\n                } else {\n                    System.out.println(&quot;Please select a valid choice&quot;);        \n                }\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5447828,"reputation":160,"user_id":4465622,"display_name":"Salvatore Allegra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913132,"creation_date":1664913132,"answer_id":73953010,"question_id":73952669,"body_markdown":"You can use a sentinel. A sentinel is a value entered that will end the iteration.\r\n\r\n    //incomplete code showing logic\r\n    int choice;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Choice&quot;);\r\n    choice = input.nextInt();\r\n    while(choice != -1){  //-1 is the sentinel, can be value you choose\r\n        //Some logic you want to do\r\n        System.out.println(&quot;Enter choice or -1 to end&quot;);\r\n        choice = input.NextInt();  //notice we input choice again here\r\n    }\r\n\r\n\r\n","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>You can use a sentinel. A sentinel is a value entered that will end the iteration.</p>\n<pre><code>//incomplete code showing logic\nint choice;\nScanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter Choice&quot;);\nchoice = input.nextInt();\nwhile(choice != -1){  //-1 is the sentinel, can be value you choose\n    //Some logic you want to do\n    System.out.println(&quot;Enter choice or -1 to end&quot;);\n    choice = input.NextInt();  //notice we input choice again here\n}\n</code></pre>\n"}],"owner":{"account_id":22337408,"reputation":1,"user_id":16557739,"display_name":"Brian Gomez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664913132,"creation_date":1664911002,"question_id":73952669,"body_markdown":"I am currently learning Java and I am trying to retain the information I learned by building a ATM machine app (I plan on adding more to it in the future). \r\nMy current issue is I would like to ask a user &#39;What would you like to do&#39; repeatedly until a valid input is provided(current valid inputs are &#39;Withdraw&#39; and &#39;Deposit&#39;). \r\n\r\nI have a loop that will repeatedly ask the user &#39;Please select a valid choice&#39; if the input is not valid. If the input is valid it will execute only once, ask &#39;What would you like to do&#39;, and then display a NoSuchElementException. Not sure how to fix this. \r\n\r\nHere is my code:\r\n\r\n**App.java**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in); \r\n        boolean done = false;       \r\n\r\n        while(!done) {\r\n            System.out.println(&quot;What woul you like to do?&quot;);\r\n            String response = scanner.next().toLowerCase();\r\n            Transactions newTransaction = new Transactions();\r\n\r\n            if (response.equals(&quot;withdraw&quot;)) {\r\n                newTransaction.Withdrawal();\r\n            } else if (response.equals(&quot;deposit&quot;)) {\r\n                newTransaction.Deposit();\r\n            } else {\r\n                System.out.println(&quot;Please select a valid choice&quot;);\r\n            }   \r\n        }\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n**Transactions.java**\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Transactions {\r\n    private int currentBalance = 100;\r\n\r\n    public void Withdrawal() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;How much would you like to withdraw?&quot;);\r\n\r\n        int withdrawAmount = scanner.nextInt();\r\n\r\n        if (withdrawAmount &gt; 0) {\r\n            if (currentBalance &gt; 0) {\r\n\r\n                currentBalance -= withdrawAmount;\r\n                System.out.println(&quot;Amount withdrawn: $&quot; + withdrawAmount);\r\n                System.out.println(&quot;Current Balance: $&quot; + Balance());\r\n                if (currentBalance &lt; 0) {\r\n                    System.out.println(\r\n                            &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(\r\n                        &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Can&#39;t remove 0 from account&quot;);\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    public void Deposit() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;How much would you like to deposit?&quot;);\r\n\r\n        int depositAmount = scanner.nextInt();\r\n\r\n        if (depositAmount &gt; 0) {\r\n            currentBalance += depositAmount;\r\n            Balance();\r\n        }\r\n        System.out.println(&quot;Amount deposited: $&quot; + depositAmount);\r\n        System.out.println(&quot;Current Balance: $&quot; + Balance());\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    public int Balance() {\r\n        return currentBalance;\r\n    }\r\n}\r\n```\r\n\r\n**Error Message**\r\n\r\n[NoSuchElementException][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZOS5.png","title":"NoSuchElementException error for ATM Machine app (Modified)","body":"<p>I am currently learning Java and I am trying to retain the information I learned by building a ATM machine app (I plan on adding more to it in the future).\nMy current issue is I would like to ask a user 'What would you like to do' repeatedly until a valid input is provided(current valid inputs are 'Withdraw' and 'Deposit').</p>\n<p>I have a loop that will repeatedly ask the user 'Please select a valid choice' if the input is not valid. If the input is valid it will execute only once, ask 'What would you like to do', and then display a NoSuchElementException. Not sure how to fix this.</p>\n<p>Here is my code:</p>\n<p><strong>App.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in); \n        boolean done = false;       \n\n        while(!done) {\n            System.out.println(&quot;What woul you like to do?&quot;);\n            String response = scanner.next().toLowerCase();\n            Transactions newTransaction = new Transactions();\n\n            if (response.equals(&quot;withdraw&quot;)) {\n                newTransaction.Withdrawal();\n            } else if (response.equals(&quot;deposit&quot;)) {\n                newTransaction.Deposit();\n            } else {\n                System.out.println(&quot;Please select a valid choice&quot;);\n            }   \n        }\n        scanner.close();\n    }\n}\n</code></pre>\n<p><strong>Transactions.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Transactions {\n    private int currentBalance = 100;\n\n    public void Withdrawal() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;How much would you like to withdraw?&quot;);\n\n        int withdrawAmount = scanner.nextInt();\n\n        if (withdrawAmount &gt; 0) {\n            if (currentBalance &gt; 0) {\n\n                currentBalance -= withdrawAmount;\n                System.out.println(&quot;Amount withdrawn: $&quot; + withdrawAmount);\n                System.out.println(&quot;Current Balance: $&quot; + Balance());\n                if (currentBalance &lt; 0) {\n                    System.out.println(\n                            &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\n                }\n            } else {\n                System.out.println(\n                        &quot;You have withdrawn more than you have in current balance.\\nYou will be charged a overdraft fee&quot;);\n            }\n        } else {\n            System.out.println(&quot;Can't remove 0 from account&quot;);\n        }\n\n        scanner.close();\n    }\n\n    public void Deposit() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;How much would you like to deposit?&quot;);\n\n        int depositAmount = scanner.nextInt();\n\n        if (depositAmount &gt; 0) {\n            currentBalance += depositAmount;\n            Balance();\n        }\n        System.out.println(&quot;Amount deposited: $&quot; + depositAmount);\n        System.out.println(&quot;Current Balance: $&quot; + Balance());\n\n        scanner.close();\n    }\n\n    public int Balance() {\n        return currentBalance;\n    }\n}\n</code></pre>\n<p><strong>Error Message</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QZOS5.png\" rel=\"nofollow noreferrer\">NoSuchElementException</a></p>\n"},{"tags":["java","filter","xss"],"comments":[{"owner":{"account_id":3521854,"reputation":1144,"user_id":2943913,"display_name":"Pratik Bhajankar"},"score":0,"creation_date":1664526294,"post_id":57673516,"comment_id":130496529,"body_markdown":"I have same problem any solution you got @Vcima","body":"I have same problem any solution you got @Vcima"}],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664749820,"creation_date":1664749820,"answer_id":73929777,"question_id":57673516,"body_markdown":"Here &quot;might&quot; be your problem:\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return ! aFileItem.isFormField();\r\n    }\r\n\r\nIt&#39;s returning the opposite response of the boolean value (check the `!`). Remove it and test if that works.\r\n\r\nOnly if the `FileItem.isFormField()` that you can get the form parameter data.\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return aFileItem.isFormField();\r\n    }","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>Here &quot;might&quot; be your problem:</p>\n<pre><code>private boolean isFileUploadField(FileItem aFileItem){\n    return ! aFileItem.isFormField();\n}\n</code></pre>\n<p>It's returning the opposite response of the boolean value (check the <code>!</code>). Remove it and test if that works.</p>\n<p>Only if the <code>FileItem.isFormField()</code> that you can get the form parameter data.</p>\n<pre><code>private boolean isFileUploadField(FileItem aFileItem){\n    return aFileItem.isFormField();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664913092,"creation_date":1664913092,"answer_id":73953001,"question_id":57673516,"body_markdown":"If you see for `fRegularParams`, you are touching the `getParameter()` method of servlet lifecycle.\r\n\r\nHere the parameters are already **initialized** in this phase.\r\n\r\nFor `fFileParams` you are trying to get params in constructor, which is **too early** considering lifecycle of servlet and filters.\r\n\r\nImage for your reference:\r\n\r\n[![servlet lifecycle][1]][1]\r\n\r\n**Solution**:\r\n\r\nCan you try with method `request.getParts()` instead?\r\n\r\n\r\nYou can try this approach and override\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131\r\n\r\n\r\nWhich internally deals with request parts.\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8VhIb.png\r\n","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>If you see for <code>fRegularParams</code>, you are touching the <code>getParameter()</code> method of servlet lifecycle.</p>\n<p>Here the parameters are already <strong>initialized</strong> in this phase.</p>\n<p>For <code>fFileParams</code> you are trying to get params in constructor, which is <strong>too early</strong> considering lifecycle of servlet and filters.</p>\n<p>Image for your reference:</p>\n<p><a href=\"https://i.stack.imgur.com/8VhIb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8VhIb.png\" alt=\"servlet lifecycle\" /></a></p>\n<p><strong>Solution</strong>:</p>\n<p>Can you try with method <code>request.getParts()</code> instead?</p>\n<p>You can try this approach and override</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L131</a></p>\n<p>Which internally deals with request parts.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/2f20d6322b7a0fcbbaa80280849e7c31fc78d4a9/spring-web/src/main/java/org/springframework/web/multipart/support/StandardMultipartHttpServletRequest.java#L91</a></p>\n"}],"owner":{"account_id":5200323,"reputation":423,"user_id":4159935,"accept_rate":20,"display_name":"vcima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664913092,"creation_date":1566904573,"question_id":57673516,"body_markdown":"I&#39;m trying to develop a XSS Filter. All works fine, but the wrapper is losing the multipart fields. \r\n\r\nAfter the filter, in the controller, when I try to obtain the value of a multipart field always is empty. \r\n\r\nI have the following wrapper:\r\n\r\n    public class XSSRequestWrapperMultipart extends HttpServletRequestWrapper {\r\n\r\n    /** Constructor.  */\r\n    public XSSRequestWrapperMultipart(HttpServletRequest aRequest) throws IOException {\r\n        super(aRequest);\r\n        ServletFileUpload upload = new ServletFileUpload( new DiskFileItemFactory());\r\n        try {\r\n            List&lt;FileItem&gt; fileItems = upload.parseRequest(aRequest);\r\n            convertToMaps(fileItems);\r\n        }\r\n        catch(FileUploadException ex){\r\n            throw new IOException(&quot;Cannot parse underlying request: &quot; + ex.toString());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return all request parameter names, for both regular controls and file upload\r\n     * controls.\r\n     */\r\n    @Override public Enumeration&lt;String&gt; getParameterNames() {\r\n        Set&lt;String&gt; allNames = new LinkedHashSet&lt;&gt;();\r\n        allNames.addAll(fRegularParams.keySet());\r\n        allNames.addAll(fFileParams.keySet());\r\n        return Collections.enumeration(allNames);\r\n    }\r\n\r\n    /**\r\n     * Return the parameter value. Applies only to regular parameters, not to\r\n     * file upload parameters.\r\n     */\r\n    @Override public String getParameter(String aName) {\r\n        String result = null;\r\n        List&lt;String&gt; values = fRegularParams.get(aName);\r\n        if(values == null){\r\n            //you might try the wrappee, to see if it has a value\r\n        }\r\n        else if (values.isEmpty()) {\r\n            //param name known, but no values present\r\n            result = &quot;&quot;;\r\n        }\r\n        else {\r\n            //return first value in list\r\n            result = values.get(FIRST_VALUE);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return the parameter values. Applies only to regular parameters,\r\n     * not to file upload parameters.\r\n     */\r\n    @Override public String[] getParameterValues(String aName) {\r\n        String[] result = null;\r\n        List&lt;String&gt; values = fRegularParams.get(aName);\r\n        if(values != null) {\r\n            result = values.toArray(new String[values.size()]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return a {@code Map&lt;String, List&lt;String&gt;&gt;} for all regular parameters.\r\n     * Does not return any file upload parameters at all.\r\n     */\r\n    @Override public Map&lt;String, List&lt;String&gt;&gt; getParameterMap() {\r\n        return Collections.unmodifiableMap(fRegularParams);\r\n    }\r\n\r\n    /**\r\n     * Return a {@code List&lt;FileItem&gt;}, in the same order as they appear\r\n     *  in the underlying request.\r\n     */\r\n    public List&lt;FileItem&gt; getFileItems(){\r\n        return new ArrayList&lt;FileItem&gt;(fFileParams.values());\r\n    }\r\n\r\n    /**\r\n     * Return the {@link FileItem} of the given name.\r\n     * &lt;P&gt;If the name is unknown, then return &lt;tt&gt;null&lt;/tt&gt;.\r\n     */\r\n    public FileItem getFileItem(String aFieldName){\r\n        return fFileParams.get(aFieldName);\r\n    }\r\n\r\n\r\n    // PRIVATE\r\n\r\n    /** Store regular params only. May be multivalued (hence the List).  */\r\n    private final Map&lt;String, List&lt;String&gt;&gt; fRegularParams = new LinkedHashMap&lt;&gt;();\r\n\r\n    /** Store file params only. */\r\n    private final Map&lt;String, FileItem&gt; fFileParams = new LinkedHashMap&lt;&gt;();\r\n    private static final int FIRST_VALUE = 0;\r\n\r\n    private void convertToMaps(List&lt;FileItem&gt; aFileItems){\r\n        for(FileItem item: aFileItems) {\r\n            if ( isFileUploadField(item) ) {\r\n                fFileParams.put(item.getFieldName(), item);\r\n            }\r\n            else {\r\n                if( alreadyHasValue(item) ){\r\n                    addMultivaluedItem(item);\r\n                }\r\n                else {\r\n                    addSingleValueItem(item);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isFileUploadField(FileItem aFileItem){\r\n        return ! aFileItem.isFormField();\r\n    }\r\n\r\n    private boolean alreadyHasValue(FileItem aItem){\r\n        return fRegularParams.get(aItem.getFieldName()) != null;\r\n    }\r\n\r\n    private void addSingleValueItem(FileItem aItem){\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(aItem.getString());\r\n        fRegularParams.put(aItem.getFieldName(), list);\r\n    }\r\n\r\n    private void addMultivaluedItem(FileItem aItem){\r\n        List&lt;String&gt; values = fRegularParams.get(aItem.getFieldName());\r\n        values.add(aItem.getString());\r\n    }\r\n\r\n    }\r\n\r\nAll relative to the fRegularParams works fine, but the fFileParams always appears as null in the controller.\r\n\r\nWhat can I do to keep the values?\r\n\r\nRegards","title":"HttpServletRequestWrapper lose multipart inputs values","body":"<p>I'm trying to develop a XSS Filter. All works fine, but the wrapper is losing the multipart fields. </p>\n\n<p>After the filter, in the controller, when I try to obtain the value of a multipart field always is empty. </p>\n\n<p>I have the following wrapper:</p>\n\n<pre><code>public class XSSRequestWrapperMultipart extends HttpServletRequestWrapper {\n\n/** Constructor.  */\npublic XSSRequestWrapperMultipart(HttpServletRequest aRequest) throws IOException {\n    super(aRequest);\n    ServletFileUpload upload = new ServletFileUpload( new DiskFileItemFactory());\n    try {\n        List&lt;FileItem&gt; fileItems = upload.parseRequest(aRequest);\n        convertToMaps(fileItems);\n    }\n    catch(FileUploadException ex){\n        throw new IOException(\"Cannot parse underlying request: \" + ex.toString());\n    }\n}\n\n/**\n * Return all request parameter names, for both regular controls and file upload\n * controls.\n */\n@Override public Enumeration&lt;String&gt; getParameterNames() {\n    Set&lt;String&gt; allNames = new LinkedHashSet&lt;&gt;();\n    allNames.addAll(fRegularParams.keySet());\n    allNames.addAll(fFileParams.keySet());\n    return Collections.enumeration(allNames);\n}\n\n/**\n * Return the parameter value. Applies only to regular parameters, not to\n * file upload parameters.\n */\n@Override public String getParameter(String aName) {\n    String result = null;\n    List&lt;String&gt; values = fRegularParams.get(aName);\n    if(values == null){\n        //you might try the wrappee, to see if it has a value\n    }\n    else if (values.isEmpty()) {\n        //param name known, but no values present\n        result = \"\";\n    }\n    else {\n        //return first value in list\n        result = values.get(FIRST_VALUE);\n    }\n    return result;\n}\n\n/**\n * Return the parameter values. Applies only to regular parameters,\n * not to file upload parameters.\n */\n@Override public String[] getParameterValues(String aName) {\n    String[] result = null;\n    List&lt;String&gt; values = fRegularParams.get(aName);\n    if(values != null) {\n        result = values.toArray(new String[values.size()]);\n    }\n    return result;\n}\n\n/**\n * Return a {@code Map&lt;String, List&lt;String&gt;&gt;} for all regular parameters.\n * Does not return any file upload parameters at all.\n */\n@Override public Map&lt;String, List&lt;String&gt;&gt; getParameterMap() {\n    return Collections.unmodifiableMap(fRegularParams);\n}\n\n/**\n * Return a {@code List&lt;FileItem&gt;}, in the same order as they appear\n *  in the underlying request.\n */\npublic List&lt;FileItem&gt; getFileItems(){\n    return new ArrayList&lt;FileItem&gt;(fFileParams.values());\n}\n\n/**\n * Return the {@link FileItem} of the given name.\n * &lt;P&gt;If the name is unknown, then return &lt;tt&gt;null&lt;/tt&gt;.\n */\npublic FileItem getFileItem(String aFieldName){\n    return fFileParams.get(aFieldName);\n}\n\n\n// PRIVATE\n\n/** Store regular params only. May be multivalued (hence the List).  */\nprivate final Map&lt;String, List&lt;String&gt;&gt; fRegularParams = new LinkedHashMap&lt;&gt;();\n\n/** Store file params only. */\nprivate final Map&lt;String, FileItem&gt; fFileParams = new LinkedHashMap&lt;&gt;();\nprivate static final int FIRST_VALUE = 0;\n\nprivate void convertToMaps(List&lt;FileItem&gt; aFileItems){\n    for(FileItem item: aFileItems) {\n        if ( isFileUploadField(item) ) {\n            fFileParams.put(item.getFieldName(), item);\n        }\n        else {\n            if( alreadyHasValue(item) ){\n                addMultivaluedItem(item);\n            }\n            else {\n                addSingleValueItem(item);\n            }\n        }\n    }\n}\n\nprivate boolean isFileUploadField(FileItem aFileItem){\n    return ! aFileItem.isFormField();\n}\n\nprivate boolean alreadyHasValue(FileItem aItem){\n    return fRegularParams.get(aItem.getFieldName()) != null;\n}\n\nprivate void addSingleValueItem(FileItem aItem){\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(aItem.getString());\n    fRegularParams.put(aItem.getFieldName(), list);\n}\n\nprivate void addMultivaluedItem(FileItem aItem){\n    List&lt;String&gt; values = fRegularParams.get(aItem.getFieldName());\n    values.add(aItem.getString());\n}\n\n}\n</code></pre>\n\n<p>All relative to the fRegularParams works fine, but the fFileParams always appears as null in the controller.</p>\n\n<p>What can I do to keep the values?</p>\n\n<p>Regards</p>\n"},{"tags":["java","performance","csv","jmeter","jmx"],"comments":[{"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"score":0,"creation_date":1664916370,"post_id":73950119,"comment_id":130578357,"body_markdown":"Please provide a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) of what you tried into your question. It will increase the chances of you receiving help from others and reduce the changes of having your question flagged and removed.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> of what you tried into your question. It will increase the chances of you receiving help from others and reduce the changes of having your question flagged and removed."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664912828,"creation_date":1664912828,"answer_id":73952952,"question_id":73950119,"body_markdown":"I don&#39;t know what do you mean by &quot;JMeter script processes&quot;, if you want to merge 3 CSV files into one and avoid reading the same value by different threads:\r\n\r\n 1. Set [Sharing Mode][1] of the CSV Data Set Config to `All threads`\r\n 2. Set Recycle on EOF to `False`\r\n 3. Set &quot;Stop thread on EOF&quot; to `True`\r\n\r\nThis way each JMeter thread (virtual user) you define in the [Thread Group][2] will read next line from the CSV file on each iteration so each line of data will be used only once by each thread and there won&#39;t be any duplicates. When JMeter reaches the end of file it will mean the end of the test. \r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/jmeter-csv-dataset-config\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group","title":"How do I implement a dynamic number of JMeter script processes?","body":"<p>I don't know what do you mean by &quot;JMeter script processes&quot;, if you want to merge 3 CSV files into one and avoid reading the same value by different threads:</p>\n<ol>\n<li>Set <a href=\"https://www.blazemeter.com/blog/jmeter-csv-dataset-config\" rel=\"nofollow noreferrer\">Sharing Mode</a> of the CSV Data Set Config to <code>All threads</code></li>\n<li>Set Recycle on EOF to <code>False</code></li>\n<li>Set &quot;Stop thread on EOF&quot; to <code>True</code></li>\n</ol>\n<p>This way each JMeter thread (virtual user) you define in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Thread_Group\" rel=\"nofollow noreferrer\">Thread Group</a> will read next line from the CSV file on each iteration so each line of data will be used only once by each thread and there won't be any duplicates. When JMeter reaches the end of file it will mean the end of the test.</p>\n"}],"owner":{"account_id":26526670,"reputation":15,"user_id":20159557,"display_name":"Filip Klosiewicz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73952952,"answer_count":1,"score":0,"last_activity_date":1664912828,"creation_date":1664896835,"question_id":73950119,"body_markdown":"I currently have **three** JMeter scripts that run on **three** separate machines, each of the connected to a unique CSV file on the respective machine. The three scripts are essentially the same, they only differ in the name of the CSV file they call (1.csv, 2.csv, 3.csv), which contains unique identification numbers, this is done for the reason that when the three scripts run **simultaneously**, they do not overlap on the unique identifier and perform the work on them at the same time as it may cause errors. My goal is to consolidate these CSV files into one, and consolidate the three JMeter scripts into one, but be able to perform the same operation on the three separate machines with one CSV file and one JMeter script.\r\n\r\nAdditionally, I would like to be able to run **4 processes** on the three machines, for example (so one machine would run 2 processes instead of 1), and achieve the same result, with them not overlapping.","title":"How do I implement a dynamic number of JMeter script processes?","body":"<p>I currently have <strong>three</strong> JMeter scripts that run on <strong>three</strong> separate machines, each of the connected to a unique CSV file on the respective machine. The three scripts are essentially the same, they only differ in the name of the CSV file they call (1.csv, 2.csv, 3.csv), which contains unique identification numbers, this is done for the reason that when the three scripts run <strong>simultaneously</strong>, they do not overlap on the unique identifier and perform the work on them at the same time as it may cause errors. My goal is to consolidate these CSV files into one, and consolidate the three JMeter scripts into one, but be able to perform the same operation on the three separate machines with one CSV file and one JMeter script.</p>\n<p>Additionally, I would like to be able to run <strong>4 processes</strong> on the three machines, for example (so one machine would run 2 processes instead of 1), and achieve the same result, with them not overlapping.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":5,"creation_date":1664911275,"post_id":73952648,"comment_id":130576904,"body_markdown":"Requiring less files is a terrible reason, if a vehicle can only be driven a certain way, I would be annoyed if it &quot;lied&quot; about being able to drive the other way then threw an error. There are legitimate reasons for throwing an error (like if the wheels fell off), but it shouldn&#39;t be a way to jam a bunch of methods into a single interface","body":"Requiring less files is a terrible reason, if a vehicle can only be driven a certain way, I would be annoyed if it &quot;lied&quot; about being able to drive the other way then threw an error. There are legitimate reasons for throwing an error (like if the wheels fell off), but it shouldn&#39;t be a way to jam a bunch of methods into a single interface"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1664948881,"post_id":73952648,"comment_id":130582999,"body_markdown":"This question is not opinion based. The interface segregation principle tells which option is most suited and on an objective base.","body":"This question is not opinion based. The interface segregation principle tells which option is most suited and on an objective base."}],"answers":[{"comments":[{"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"score":2,"creation_date":1664911391,"post_id":73952718,"comment_id":130576943,"body_markdown":"And please get rid of the “Impl” in your class names. You should be able to name that class based on what it does.","body":"And please get rid of the “Impl” in your class names. You should be able to name that class based on what it does."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1664911606,"post_id":73952718,"comment_id":130576995,"body_markdown":"But these cars aren&#39;t both &quot;drivable&quot;. The method names are completely misleading. These cars support `drive` methods with entirely unrelated signatures that just happen to share a name, and they cannot be used the same way.","body":"But these cars aren&#39;t both &quot;drivable&quot;. The method names are completely misleading. These cars support <code>drive</code> methods with entirely unrelated signatures that just happen to share a name, and they cannot be used the same way."},{"owner":{"account_id":1803665,"reputation":4255,"user_id":1641300,"accept_rate":36,"display_name":"Tinker"},"score":0,"creation_date":1664919843,"post_id":73952718,"comment_id":130579228,"body_markdown":"Just FYI I had to replace the class names from my production code.","body":"Just FYI I had to replace the class names from my production code."},{"owner":{"account_id":77424,"reputation":19863,"user_id":220984,"accept_rate":100,"display_name":"Doc Brown"},"score":0,"creation_date":1664937183,"post_id":73952718,"comment_id":130581603,"body_markdown":"&quot;These cars support drive methods with entirely unrelated signatures that just happen to share a name&quot; - then you may be better of to use two differnt names for those methods?","body":"&quot;These cars support drive methods with entirely unrelated signatures that just happen to share a name&quot; - then you may be better of to use two differnt names for those methods?"}],"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1664911325,"creation_date":1664911325,"answer_id":73952718,"question_id":73952648,"body_markdown":"You should create interfaces that represent the “abilities” you want your classes to have. In your case the second example is correct: What is common amongst vehicles? You can drive them. Therefore a vehicle is “Drivable”. Bus and RaceCar are implementations of Drivable. They can also be “Paintable”, “Washable”, etc…","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>You should create interfaces that represent the “abilities” you want your classes to have. In your case the second example is correct: What is common amongst vehicles? You can drive them. Therefore a vehicle is “Drivable”. Bus and RaceCar are implementations of Drivable. They can also be “Paintable”, “Washable”, etc…</p>\n"},{"comments":[{"owner":{"account_id":1803665,"reputation":4255,"user_id":1641300,"accept_rate":36,"display_name":"Tinker"},"score":0,"creation_date":1664919813,"post_id":73952885,"comment_id":130579222,"body_markdown":"Can you explain why option 1 is better?","body":"Can you explain why option 1 is better?"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1664930751,"post_id":73952885,"comment_id":130580809,"body_markdown":"@Tinker: Because with that option, you&#39;re not lying about what functionality your objects support. Someone with a `RaceCar` knows they can use `RaceCar` methods, instead of having to know the concrete class they&#39;re working with.","body":"@Tinker: Because with that option, you&#39;re not lying about what functionality your objects support. Someone with a <code>RaceCar</code> knows they can use <code>RaceCar</code> methods, instead of having to know the concrete class they&#39;re working with."}],"tags":[],"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664912383,"creation_date":1664912383,"answer_id":73952885,"question_id":73952648,"body_markdown":"Option 2 is terrible. Your objects are lying about what functionality they support. Reducing the number of files is nowhere near enough of a justification for that.\r\n\r\nOption 1 is better, but consider option 3: just don&#39;t write those interfaces at all.\r\n\r\nIt doesn&#39;t sound like you have any other classes that would implement those interfaces. The names &quot;RaceCarImpl&quot; and &quot;BusImpl&quot; strongly suggest that those are the *only* implementations. In that case, just use the classes directly.\r\n\r\nIf you later want to write more classes that *actually* share a common API, you&#39;ll have a better understanding of what your interfaces should look like - what methods really generalize, what methods are specific to particular implementations, etc. You can refactor any code that took concrete classes to take meaningful interfaces then.","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>Option 2 is terrible. Your objects are lying about what functionality they support. Reducing the number of files is nowhere near enough of a justification for that.</p>\n<p>Option 1 is better, but consider option 3: just don't write those interfaces at all.</p>\n<p>It doesn't sound like you have any other classes that would implement those interfaces. The names &quot;RaceCarImpl&quot; and &quot;BusImpl&quot; strongly suggest that those are the <em>only</em> implementations. In that case, just use the classes directly.</p>\n<p>If you later want to write more classes that <em>actually</em> share a common API, you'll have a better understanding of what your interfaces should look like - what methods really generalize, what methods are specific to particular implementations, etc. You can refactor any code that took concrete classes to take meaningful interfaces then.</p>\n"}],"owner":{"account_id":1803665,"reputation":4255,"user_id":1641300,"accept_rate":36,"display_name":"Tinker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1664913571,"answer_count":2,"score":2,"last_activity_date":1664912383,"creation_date":1664910911,"question_id":73952648,"body_markdown":"I have two classes that are similar in nature but they have different functional signatures. I am considering between having two interfaces vs having one. Let me illustrate: \r\n\r\n### Approach 1: two interfaces\r\n```\r\npublic interface RaceCar {\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\r\n\r\n}\r\n\r\npublic interface Bus {\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\r\n}\r\n```\r\n\r\nOne abstract class AbstractCar to share logic between the two: \r\n```\r\npublic abstract AbstractCar { \r\n    // Add shared logic here... \r\n} \r\n```\r\n\r\nAnd the implementation. \r\n```\r\n\r\npublic class RaceCarImpl extends AbstractCar implements RaceCar {\r\n... \r\n}\r\n\r\n\r\npublic class BusImpl extends AbstractCar implements Bus {\r\n...\r\n}\r\n```\r\n\r\nResults: 2 interfaces, 1 abstract, 2 implementation = 5 files. \r\n\r\n\r\n## Approach 2: One interface, two methods \r\n```\r\npublic interface Vehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\r\n\r\n} \r\n```\r\n\r\n```\r\npublic abstract AbstractVehicle implements Vehicle {\r\n    // Sharing code here \r\n} \r\n```\r\n\r\n```\r\npublic class RaceCar extends AbstractVehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \r\n        // Implement this ... \r\n    } \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \r\n        throw new IllegalStateException(&quot;Not implemented&quot;);  \r\n    } \r\n\r\n} \r\n\r\n\r\npublic class Bus extends AbstractVehicle { \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \r\n        throw new IllegalStateException(&quot;Not implemented&quot;);  \r\n    } \r\n\r\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \r\n        // Implement this \r\n    } \r\n\r\n} \r\n\r\n```\r\n\r\nResults: 1 interfaces, 1 abstract, 2 implementation = 4 files. \r\n\r\n\r\n## Verdict \r\n\r\nI think having 1 interface is superior because it requires less files. What are your thoughts? \r\n\r\nWhich approach above incurs less technical debt in the long term? \r\n","title":"Should I implement one interface with two methods or two interfaces?","body":"<p>I have two classes that are similar in nature but they have different functional signatures. I am considering between having two interfaces vs having one. Let me illustrate:</p>\n<h3>Approach 1: two interfaces</h3>\n<pre><code>public interface RaceCar {\n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\n\n}\n\npublic interface Bus {\n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\n}\n</code></pre>\n<p>One abstract class AbstractCar to share logic between the two:</p>\n<pre><code>public abstract AbstractCar { \n    // Add shared logic here... \n} \n</code></pre>\n<p>And the implementation.</p>\n<pre><code>\npublic class RaceCarImpl extends AbstractCar implements RaceCar {\n... \n}\n\n\npublic class BusImpl extends AbstractCar implements Bus {\n...\n}\n</code></pre>\n<p>Results: 2 interfaces, 1 abstract, 2 implementation = 5 files.</p>\n<h2>Approach 2: One interface, two methods</h2>\n<pre><code>public interface Vehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic);\n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2);\n\n} \n</code></pre>\n<pre><code>public abstract AbstractVehicle implements Vehicle {\n    // Sharing code here \n} \n</code></pre>\n<pre><code>public class RaceCar extends AbstractVehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \n        // Implement this ... \n    } \n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \n        throw new IllegalStateException(&quot;Not implemented&quot;);  \n    } \n\n} \n\n\npublic class Bus extends AbstractVehicle { \n\n    CompletableFuture&lt;Double&gt; drive(final Wheel arg1, Tactic tactic) { \n        throw new IllegalStateException(&quot;Not implemented&quot;);  \n    } \n\n    CompletableFuture&lt;Double&gt; drive(final String someOtherKey, final Controller arg2) { \n        // Implement this \n    } \n\n} \n\n</code></pre>\n<p>Results: 1 interfaces, 1 abstract, 2 implementation = 4 files.</p>\n<h2>Verdict</h2>\n<p>I think having 1 interface is superior because it requires less files. What are your thoughts?</p>\n<p>Which approach above incurs less technical debt in the long term?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1993154,"reputation":585,"user_id":1786699,"accept_rate":100,"display_name":"PapaAtHome"},"score":0,"creation_date":1664966264,"post_id":73952041,"comment_id":130587773,"body_markdown":"Please read [this](https://stackoverflow.com/help/how-to-ask)\nYour question is not clear, What have you tried? What were the results?","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">this</a> Your question is not clear, What have you tried? What were the results?"}],"answers":[{"comments":[{"owner":{"account_id":26365805,"reputation":1,"user_id":20021305,"display_name":"stack"},"score":0,"creation_date":1664913956,"post_id":73952879,"comment_id":130577672,"body_markdown":"Thank you for this. Unfortunately, the interfaces are beyond my control. I have to use either one of the interfaces. Can you help me understand the usage of method 1? Why are they simply returning method 2 please ? Thank you","body":"Thank you for this. Unfortunately, the interfaces are beyond my control. I have to use either one of the interfaces. Can you help me understand the usage of method 1? Why are they simply returning method 2 please ? Thank you"},{"owner":{"account_id":26365805,"reputation":1,"user_id":20021305,"display_name":"stack"},"score":0,"creation_date":1664916671,"post_id":73952879,"comment_id":130578454,"body_markdown":"Is it possible to return the second method right there instead of returning in the first method?","body":"Is it possible to return the second method right there instead of returning in the first method?"}],"tags":[],"owner":{"account_id":22478656,"reputation":53,"user_id":18235324,"display_name":"NumericPrime"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664912359,"creation_date":1664912359,"answer_id":73952879,"question_id":73952041,"body_markdown":"The problem is: How is Java supposed to know wich method to call.\r\nUsually one would rename one methods but I see you are probably using conflicting interfaces. That way I&#39;m afraid it&#39;s not possible to do so.\r\nDid you write these interfaces yourself or are they beyond your controll?\r\n\r\nHowever if reeaaaly want to do something like this you can only implement the interface for your second method and have a instance of the interface with the first mehtod ready like this:\r\n```java\r\npublic class TestClass implements ConflictingInterface1{\r\n\t@Override\r\n\tpublic void method() {\r\n\t\tSystem.out.println(&quot;Hello there!&quot;);\r\n\t}\r\n\tpublic ConflictingInterface2 conflictingInterface2Instance=new ConflictingInterface2() {\r\n\r\n\t\t@Override\r\n\t\tpublic int method() {\r\n\t\t\tmethod();\r\n\t\t\treturn 0;\r\n\t\t}};\r\n}\r\n```\r\n\r\nHope this helps!","title":"How to solve conflicting java methods","body":"<p>The problem is: How is Java supposed to know wich method to call.\nUsually one would rename one methods but I see you are probably using conflicting interfaces. That way I'm afraid it's not possible to do so.\nDid you write these interfaces yourself or are they beyond your controll?</p>\n<p>However if reeaaaly want to do something like this you can only implement the interface for your second method and have a instance of the interface with the first mehtod ready like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass implements ConflictingInterface1{\n    @Override\n    public void method() {\n        System.out.println(&quot;Hello there!&quot;);\n    }\n    public ConflictingInterface2 conflictingInterface2Instance=new ConflictingInterface2() {\n\n        @Override\n        public int method() {\n            method();\n            return 0;\n        }};\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":26365805,"reputation":1,"user_id":20021305,"display_name":"stack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664912359,"creation_date":1664907388,"question_id":73952041,"body_markdown":"Is there a way that I can not use the below method which just returns the handlerequests ? I just don&#39;t want the method handleRequest method. Can somone help me understand what is this method doing &#39;handlerequest&#39; ? Any alternative to not use this method ? Because it is conflicting with someother thing which I&#39;m trying to do.\r\n\r\n```\r\n @Override\r\n    public FutureResponse handleRequest(BackendRequestContext backendRequestContext, Request request, Metrics metrics) {\r\n        return handleRequests(backendRequestContext, ImmutableList.of(request), metrics).get(0);\r\n    }\r\n```\r\n```\r\n    @Override\r\n    public List&lt;FutureResponse&gt; handleRequests(BackendRequestContext context, List&lt;Request&gt; requests, Metrics metrics) {\r\n        StringRequest[] stringRequests = new StringRequest[requests.size()];\r\n\r\n        final String language = context.locale().toLanguageTag().replace(&quot;-&quot;, &quot;_&quot;);\r\n\r\n        for (int i = 0; i &lt; requests.size(); i++) {\r\n            final Request request = requests.get(i);\r\n\r\n            final String id = request.requiredPathParam(STRING_ID_PATH_PARAM);\r\n            final Optional&lt;String&gt; marketplaceDisplayName = request.queryParam(MARKETPLACE_NAME_QUERY_PARAM);\r\n            final Optional&lt;String&gt; stage = request.queryParam(STAGE_QUERY_PARAM);\r\n\r\n            final StringRequest stringRequest = new StringRequest(id);\r\n            stringRequest.setLanguage(language);\r\n            marketplaceDisplayName.ifPresent(stringRequest::setMarketplaceName);\r\n            stage.map(Stage::getStage).ifPresent(stringRequest::setStage);\r\n            stringRequests[i] = stringRequest;\r\n        }\r\n\r\n        ChainableFuture&lt;StringResultBatch&gt; batchFuture = ChainableFuture.immediate(invokeBatchSync(stringRequests));\r\n\r\n        ImmutableList.Builder&lt;FutureResponse&gt; results = ImmutableList.builder();\r\n        for (int i = 0; i &lt; requests.size(); i++) {\r\n            Request request = requests.get(i);\r\n            int index = i;\r\n            FutureResponse requestResponse = FutureResponse.of(request, batchFuture\r\n                    .transform(batchResponse -&gt; {\r\n                        try {\r\n                            if (batchResponse != null) {\r\n                                return transform(request, batchResponse.get(index), language);\r\n                            }\r\n                        } catch (IllegalArgumentException | IOException e) {\r\n                            LOGGER.error(&quot;&quot;, e);\r\n                        }\r\n                        return Response.builder()\r\n                                .withRequest(request)\r\n                                .withEntityDescriptor(EntityDescriptors.ERROR_V1)\r\n                                .withStatus(Http.Status.SERVICE_UNAVAILABLE)\r\n                                .withBody(ErrorResponses.ServerError.serviceUnavailable(ErrorResponse.InternalInfo.builder()\r\n                                        .withMessage(&quot;Error retrieving [&quot;\r\n                                                + request.requiredPathParam(STRING_ID_PATH_PARAM)\r\n                                                + &quot;]&quot;)\r\n                                        .build())\r\n                                        .tokens())\r\n                                .build();\r\n                    }));\r\n\r\n            results.add(requestResponse);\r\n        }\r\n\r\n        return results.build();\r\n    }\r\n```","title":"How to solve conflicting java methods","body":"<p>Is there a way that I can not use the below method which just returns the handlerequests ? I just don't want the method handleRequest method. Can somone help me understand what is this method doing 'handlerequest' ? Any alternative to not use this method ? Because it is conflicting with someother thing which I'm trying to do.</p>\n<pre><code> @Override\n    public FutureResponse handleRequest(BackendRequestContext backendRequestContext, Request request, Metrics metrics) {\n        return handleRequests(backendRequestContext, ImmutableList.of(request), metrics).get(0);\n    }\n</code></pre>\n<pre><code>    @Override\n    public List&lt;FutureResponse&gt; handleRequests(BackendRequestContext context, List&lt;Request&gt; requests, Metrics metrics) {\n        StringRequest[] stringRequests = new StringRequest[requests.size()];\n\n        final String language = context.locale().toLanguageTag().replace(&quot;-&quot;, &quot;_&quot;);\n\n        for (int i = 0; i &lt; requests.size(); i++) {\n            final Request request = requests.get(i);\n\n            final String id = request.requiredPathParam(STRING_ID_PATH_PARAM);\n            final Optional&lt;String&gt; marketplaceDisplayName = request.queryParam(MARKETPLACE_NAME_QUERY_PARAM);\n            final Optional&lt;String&gt; stage = request.queryParam(STAGE_QUERY_PARAM);\n\n            final StringRequest stringRequest = new StringRequest(id);\n            stringRequest.setLanguage(language);\n            marketplaceDisplayName.ifPresent(stringRequest::setMarketplaceName);\n            stage.map(Stage::getStage).ifPresent(stringRequest::setStage);\n            stringRequests[i] = stringRequest;\n        }\n\n        ChainableFuture&lt;StringResultBatch&gt; batchFuture = ChainableFuture.immediate(invokeBatchSync(stringRequests));\n\n        ImmutableList.Builder&lt;FutureResponse&gt; results = ImmutableList.builder();\n        for (int i = 0; i &lt; requests.size(); i++) {\n            Request request = requests.get(i);\n            int index = i;\n            FutureResponse requestResponse = FutureResponse.of(request, batchFuture\n                    .transform(batchResponse -&gt; {\n                        try {\n                            if (batchResponse != null) {\n                                return transform(request, batchResponse.get(index), language);\n                            }\n                        } catch (IllegalArgumentException | IOException e) {\n                            LOGGER.error(&quot;&quot;, e);\n                        }\n                        return Response.builder()\n                                .withRequest(request)\n                                .withEntityDescriptor(EntityDescriptors.ERROR_V1)\n                                .withStatus(Http.Status.SERVICE_UNAVAILABLE)\n                                .withBody(ErrorResponses.ServerError.serviceUnavailable(ErrorResponse.InternalInfo.builder()\n                                        .withMessage(&quot;Error retrieving [&quot;\n                                                + request.requiredPathParam(STRING_ID_PATH_PARAM)\n                                                + &quot;]&quot;)\n                                        .build())\n                                        .tokens())\n                                .build();\n                    }));\n\n            results.add(requestResponse);\n        }\n\n        return results.build();\n    }\n</code></pre>\n"},{"tags":["java","reflection","noclassdeffounderror","corba"],"comments":[{"owner":{"account_id":34833,"reputation":9231,"user_id":98525,"accept_rate":92,"display_name":"tuergeist"},"score":1,"creation_date":1353872653,"post_id":13517497,"comment_id":18567331,"body_markdown":"What is about your classpath?","body":"What is about your classpath?"},{"owner":{"account_id":222159,"reputation":396,"user_id":480579,"display_name":"Jeff"},"score":0,"creation_date":1360350590,"post_id":13517497,"comment_id":20692519,"body_markdown":"Your classloader may be confused.  Do you have more than one instance of the same JAR file(s) on your classpath?","body":"Your classloader may be confused.  Do you have more than one instance of the same JAR file(s) on your classpath?"}],"answers":[{"tags":[],"owner":{"account_id":2657758,"reputation":635,"user_id":2298085,"display_name":"mki"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366368769,"creation_date":1366368769,"answer_id":16102962,"question_id":13517497,"body_markdown":"NoClassDefFoundError means that the class was found during compile time but NOT found during runtime.\r\nMost of the time you have a difference between the classpath your runtime environnement and the classpath of your compile environnement. And it will work after you find the difference and fix it.\r\n\r\nIf you have checked and you are 100% sure that the classpath are the same, then the error is more tricky and you can read this tutorial to solve the problem :\r\nhttp://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html\r\n","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>NoClassDefFoundError means that the class was found during compile time but NOT found during runtime.\nMost of the time you have a difference between the classpath your runtime environnement and the classpath of your compile environnement. And it will work after you find the difference and fix it.</p>\n\n<p>If you have checked and you are 100% sure that the classpath are the same, then the error is more tricky and you can read this tutorial to solve the problem :\n<a href=\"http://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html\" rel=\"nofollow\">http://javarevisited.blogspot.be/2011/06/noclassdeffounderror-exception-in.html</a></p>\n"},{"comments":[{"owner":{"account_id":14995303,"reputation":113,"user_id":10824878,"display_name":"ZhengguanLi"},"score":1,"creation_date":1666230997,"post_id":70666658,"comment_id":130888812,"body_markdown":"Or add glassfish-corba-orb maven dependency works for me!","body":"Or add glassfish-corba-orb maven dependency works for me!"}],"tags":[],"owner":{"account_id":406122,"reputation":455,"user_id":775441,"display_name":"coz"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1641903409,"creation_date":1641903409,"answer_id":70666658,"question_id":13517497,"body_markdown":"The following error is generated after you install or upgrade the version of Java that a custom application uses: \r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/omg/CORBA/UserException\r\n\r\nThe problem occurs because the java.corba module (for example, org.omg.CORBA* packages) were deprecated in Java 9. In Java 11, that module is no longer be available.\r\n\r\nDeprecating the module means that the classes in the module are not available in the class path, by default. However, you can add them to the class path by including the --add-module java.corba option on the javac or java command line.\r\n\r\nNote: This option is available in Java 9 and Java 10. The CORBA modules are not available in Java 11. However, a workaround is available that enables you to add those modules for Java 11. See the following examples for Java 9 and 10, as well as the workaround for Java 11.\r\n\r\nExample for Java 9 and 10:\r\n\r\nIn Java 9 and 10, you need to change this command:\r\n\r\n    jdk-9.0.4/bin/java -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \r\n\r\nWhen you include --add-module java.corba , the command looks like this:\r\n\r\n    jdk-9.0.4/bin/java --add-modules=java.corba -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \r\n\r\nWorkaround for Java 11:\r\n\r\nTo add the CORBA modules to Java 11, you must download GlassFish CORBA JAR files externally from online resources and add them to the class path for Java 11. The following list shows the five GlassFish JAR files that you need:\r\n\r\n    glassfish-corba-internal-api.jar\r\n    glassfish-corba-omgapi.jar\r\n    glassfish-corba-orb.jar\r\n    pfl-basic.jar\r\n    pfl-tf.jar\r\n\r\n[http://support.sas.com/kb/63/716.html][1]\r\n\r\n\r\n  [1]: http://support.sas.com/kb/63/716.html","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>The following error is generated after you install or upgrade the version of Java that a custom application uses:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/omg/CORBA/UserException\n</code></pre>\n<p>The problem occurs because the java.corba module (for example, org.omg.CORBA* packages) were deprecated in Java 9. In Java 11, that module is no longer be available.</p>\n<p>Deprecating the module means that the classes in the module are not available in the class path, by default. However, you can add them to the class path by including the --add-module java.corba option on the javac or java command line.</p>\n<p>Note: This option is available in Java 9 and Java 10. The CORBA modules are not available in Java 11. However, a workaround is available that enables you to add those modules for Java 11. See the following examples for Java 9 and 10, as well as the workaround for Java 11.</p>\n<p>Example for Java 9 and 10:</p>\n<p>In Java 9 and 10, you need to change this command:</p>\n<pre><code>jdk-9.0.4/bin/java -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \n</code></pre>\n<p>When you include --add-module java.corba , the command looks like this:</p>\n<pre><code>jdk-9.0.4/bin/java --add-modules=java.corba -classpath &quot;log4j.jar;sas.core.jar;sas.security.sspi.jar;sas.svc.connection.jar&quot; javaclass \n</code></pre>\n<p>Workaround for Java 11:</p>\n<p>To add the CORBA modules to Java 11, you must download GlassFish CORBA JAR files externally from online resources and add them to the class path for Java 11. The following list shows the five GlassFish JAR files that you need:</p>\n<pre><code>glassfish-corba-internal-api.jar\nglassfish-corba-omgapi.jar\nglassfish-corba-orb.jar\npfl-basic.jar\npfl-tf.jar\n</code></pre>\n<p><a href=\"http://support.sas.com/kb/63/716.html\" rel=\"noreferrer\">http://support.sas.com/kb/63/716.html</a></p>\n"}],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21310,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1664912137,"creation_date":1353604914,"question_id":13517497,"body_markdown":"I am seeing `java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef` when I am calling the method `getMethod` of the `java.lang.Class`. I am trying to get the `getEmsSession` method in `EmsSeeionFactory_I` of TMF specific jars using reflection. But when I checked for the class in the `jacorb.jar`,  `org/omg/CORBA/InterfaceDef.class` is available on the class path. I have seen in other forums and I am seeing no answer for the same question in those forums as well. It looks like this exception being thrown from native VM code. I am left with no clue now. Any Ideas ? Complete stack trace is as below\r\n\r\n    java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)\r\n            at java.lang.Class.getMethod0(Class.java:2670)\r\n            at java.lang.Class.getMethod0(Class.java:2688)\r\n            at java.lang.Class.getMethod(Class.java:1603)\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef","body":"<p>I am seeing <code>java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef</code> when I am calling the method <code>getMethod</code> of the <code>java.lang.Class</code>. I am trying to get the <code>getEmsSession</code> method in <code>EmsSeeionFactory_I</code> of TMF specific jars using reflection. But when I checked for the class in the <code>jacorb.jar</code>,  <code>org/omg/CORBA/InterfaceDef.class</code> is available on the class path. I have seen in other forums and I am seeing no answer for the same question in those forums as well. It looks like this exception being thrown from native VM code. I am left with no clue now. Any Ideas ? Complete stack trace is as below</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/omg/CORBA/InterfaceDef\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2427)\n        at java.lang.Class.getMethod0(Class.java:2670)\n        at java.lang.Class.getMethod0(Class.java:2688)\n        at java.lang.Class.getMethod(Class.java:1603)\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1664919611,"post_id":73952772,"comment_id":130579174,"body_markdown":"&quot;You can use task’s fully qualified name to execute a specific task in a specific subproject. For example: `gradle :services:webservice:build` will run the build task of the webservice subproject.&quot;\n\nhttps://docs.gradle.org/current/userguide/intro_multi_project_builds.html#sec:executing_tasks_by_fully_qualified_name","body":"&quot;You can use task’s fully qualified name to execute a specific task in a specific subproject. For example: <code>gradle :services:webservice:build</code> will run the build task of the webservice subproject.&quot;  <a href=\"https://docs.gradle.org/current/userguide/intro_multi_project_builds.html#sec:executing_tasks_by_fully_qualified_name\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664911645,"creation_date":1664911645,"question_id":73952772,"body_markdown":"I have a gradle parent project with few sub-projects.\r\nFor example - my settings.gradle is like below - \r\n\r\n    rootProject.name = &#39;myproject-service&#39;\r\n    include &#39;myproject-service-restclient&#39;\r\n    include &#39;myproject-service-core&#39;\r\n    include &#39;myproject-service-server&#39;\r\n\r\n\r\nI have configured gradle maven-publish task in the root project&#39;s `build.gradle` and applied it to all sub-projects as I want to publish all the sub-projects.  \r\n\r\nTo publish above projects i am running -   \r\n`gradle publish`  \r\nand its publishing **all** of the above projects. \r\n\r\nSo far so good. But the problem I have is - when i do changes to `myproject-service-core`, I only want to publish `myproject-service-core`&#39;s binary(i.e `myproject-service-core.jar`) to maven repo. I am not able to figure out how to publish only selective projects. \r\n\r\nI need something like - `gradle publish --project myproject-service-core` &lt;-- how to achive this.\r\n \r\n\r\n","title":"gradle publish - only selective projects","body":"<p>I have a gradle parent project with few sub-projects.\nFor example - my settings.gradle is like below -</p>\n<pre><code>rootProject.name = 'myproject-service'\ninclude 'myproject-service-restclient'\ninclude 'myproject-service-core'\ninclude 'myproject-service-server'\n</code></pre>\n<p>I have configured gradle maven-publish task in the root project's <code>build.gradle</code> and applied it to all sub-projects as I want to publish all the sub-projects.</p>\n<p>To publish above projects i am running -<br />\n<code>gradle publish</code><br />\nand its publishing <strong>all</strong> of the above projects.</p>\n<p>So far so good. But the problem I have is - when i do changes to <code>myproject-service-core</code>, I only want to publish <code>myproject-service-core</code>'s binary(i.e <code>myproject-service-core.jar</code>) to maven repo. I am not able to figure out how to publish only selective projects.</p>\n<p>I need something like - <code>gradle publish --project myproject-service-core</code> &lt;-- how to achive this.</p>\n"},{"tags":["java","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1664262912,"post_id":73860940,"comment_id":130424853,"body_markdown":"It is completely unclear to me what you are asking. `springUserRepository.findById(1L).get()` returns entity instances not JSON. Also what is &quot;strange&quot; about the result and what does &quot;working&quot; mean. Please state clearly what you do, what you expect as a result and what you actually get.","body":"It is completely unclear to me what you are asking. <code>springUserRepository.findById(1L).get()</code> returns entity instances not JSON. Also what is &quot;strange&quot; about the result and what does &quot;working&quot; mean. Please state clearly what you do, what you expect as a result and what you actually get."},{"owner":{"account_id":5195256,"reputation":381,"user_id":4156801,"accept_rate":54,"display_name":"John Zhang"},"score":0,"creation_date":1664284113,"post_id":73860940,"comment_id":130432186,"body_markdown":"@JensSchauder FindById return same role, three times. I updated My question.","body":"@JensSchauder FindById return same role, three times. I updated My question."},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1664284641,"post_id":73860940,"comment_id":130432412,"body_markdown":"Please share the actual code of the entities. The one you currently share isn&#39;t even close to compiling, so it also isn&#39;t even close to the one causing you problems. Also share the actual repository declaration and the SQL generated by the methods.","body":"Please share the actual code of the entities. The one you currently share isn&#39;t even close to compiling, so it also isn&#39;t even close to the one causing you problems. Also share the actual repository declaration and the SQL generated by the methods."},{"owner":{"account_id":5195256,"reputation":381,"user_id":4156801,"accept_rate":54,"display_name":"John Zhang"},"score":0,"creation_date":1664285961,"post_id":73860940,"comment_id":130432976,"body_markdown":"write a simple demo, updated my code @JensSchauder","body":"write a simple demo, updated my code @JensSchauder"},{"owner":{"account_id":5195256,"reputation":381,"user_id":4156801,"accept_rate":54,"display_name":"John Zhang"},"score":0,"creation_date":1664287409,"post_id":73860940,"comment_id":130433648,"body_markdown":"https://github.com/shuanshuan/demo-questions @JensSchauder","body":"<a href=\"https://github.com/shuanshuan/demo-questions\" rel=\"nofollow noreferrer\">github.com/shuanshuan/demo-questions</a> @JensSchauder"}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664911599,"creation_date":1664911599,"answer_id":73952767,"question_id":73860940,"body_markdown":"While fetching data using id Spring Data JPa considers your `fetch = FetchType.EAGER` but while fetching with other property it ignores and lazy loads those so you don&#39;t see duplicate records.\r\n\r\nTo achieve same output at both query you need to add how Spring Data JPA construct query.\r\n```\r\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)\r\n@Fetch(FetchMode.SUBSELECT)\r\n@JoinTable(name = &quot;test_role_and_permission&quot;, inverseJoinColumns = \r\n    @JoinColumn(name = &quot;permission_id&quot;), joinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n```\r\nThe @Fetch annotation is from `org.hibernate.annotations` package.","title":"Spring data JPA: Three entities ManyToMany relations, query duplicate result with findById","body":"<p>While fetching data using id Spring Data JPa considers your <code>fetch = FetchType.EAGER</code> but while fetching with other property it ignores and lazy loads those so you don't see duplicate records.</p>\n<p>To achieve same output at both query you need to add how Spring Data JPA construct query.</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)\n@Fetch(FetchMode.SUBSELECT)\n@JoinTable(name = &quot;test_role_and_permission&quot;, inverseJoinColumns = \n    @JoinColumn(name = &quot;permission_id&quot;), joinColumns = @JoinColumn(name = &quot;role_id&quot;))\n</code></pre>\n<p>The @Fetch annotation is from <code>org.hibernate.annotations</code> package.</p>\n"}],"owner":{"account_id":5195256,"reputation":381,"user_id":4156801,"accept_rate":54,"display_name":"John Zhang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73952767,"answer_count":1,"score":-1,"last_activity_date":1664911599,"creation_date":1664235313,"question_id":73860940,"body_markdown":"    \r\nUser.java\r\n\r\n \r\n\r\n    @Entity\r\n    @Table(name = &quot;test_user&quot;)\r\n    public class User implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \t@JsonProperty(access = Access.WRITE_ONLY)\r\n    \tprivate String password;\r\n    \r\n    \tprivate String username;\r\n    \r\n    \tprivate String name;\r\n    \r\n    \t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;test_user_and_role&quot;, inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;), joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    \tprivate List&lt;UserRole&gt; userRoles = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic List&lt;UserRole&gt; getUserRoles() {\r\n    \t\treturn userRoles;\r\n    \t}\r\n    \r\n    \tpublic void setUserRoles(List&lt;UserRole&gt; userRoles) {\r\n    \t\tthis.userRoles = userRoles;\r\n    \t}\r\n    \r\n    }\r\n\r\n UserRole.java\r\n\r\n  \r\n\r\n    @Entity\r\n    @Table(name = &quot;test_user_role&quot;)\r\n    public class UserRole implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String role;\r\n    \r\n    \t@ManyToMany(mappedBy = &quot;userRoles&quot;)\r\n    \t@JsonProperty(access = Access.WRITE_ONLY)\r\n    \tprivate List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    \r\n    \t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)\r\n    \t@JoinTable(name = &quot;test_role_and_permission&quot;, inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;), joinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate List&lt;RolePermission&gt; permissions = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic UserRole() {\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getRole() {\r\n    \t\treturn role;\r\n    \t}\r\n    \r\n    \tpublic void setRole(String role) {\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \r\n    \tpublic List&lt;User&gt; getUsers() {\r\n    \t\treturn users;\r\n    \t}\r\n    \r\n    \tpublic void setUsers(List&lt;User&gt; users) {\r\n    \t\tthis.users = users;\r\n    \t}\r\n    \r\n    \tpublic List&lt;RolePermission&gt; getPermissions() {\r\n    \t\treturn permissions;\r\n    \t}\r\n    \r\n    \tpublic void setPermissions(List&lt;RolePermission&gt; permissions) {\r\n    \t\tthis.permissions = permissions;\r\n    \t}\r\n    \r\n    }\r\n\r\nRolePermission.java\r\n  \r\n\r\n    @Entity\r\n    @Table(name=&quot;test_role_permission&quot;)\r\n    public class RolePermission implements Serializable{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t\r\n    \tprivate String code;\r\n    \r\n    \tprivate String des;\r\n    \t\r\n    \t\r\n    \t\r\n    \t@ManyToMany(mappedBy = &quot;permissions&quot;)\r\n    \t@JsonProperty(access = Access.WRITE_ONLY)\r\n    \tprivate List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\r\n    \r\n    \tpublic String getAuthority() {\r\n    \t\treturn this.code;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getCode() {\r\n    \t\treturn code;\r\n    \t}\r\n    \r\n    \tpublic void setCode(String code) {\r\n    \t\tthis.code = code;\r\n    \t}\r\n    \r\n    \tpublic String getDes() {\r\n    \t\treturn des;\r\n    \t}\r\n    \r\n    \tpublic void setDes(String des) {\r\n    \t\tthis.des = des;\r\n    \t}\r\n    \r\n    \tpublic List&lt;UserRole&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    \r\n    \tpublic void setRoles(List&lt;UserRole&gt; roles) {\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n   \r\n\r\n    \r\nJDK:17\r\nSpringBoot:2.7.4\r\n\r\nfindById and findBy are also generate different structure SQL.\r\nfindById uses left outer Join.\r\nfindByName uses subquery.\r\n\r\nthe user only have one role, the role have three permissions.\r\n\r\nif use findByUsername \r\nIt will return the user info correctly. \r\n \r\n\r\n     {\r\n        &quot;username&quot;: &quot;admin&quot;,\r\n        &quot;userRoles&quot;: [\r\n            {\r\n                &quot;created&quot;: null,\r\n                &quot;id&quot;: 1,\r\n                &quot;role&quot;: &quot;admin&quot;,\r\n                &quot;roleName&quot;: &quot;admin&quot;,\r\n                &quot;permissions&quot;: [\r\n                    {\r\n                        &quot;authority&quot;: &quot;user_query&quot;,\r\n                        &quot;code&quot;: &quot;user_query&quot;,\r\n                        &quot;id&quot;: 1\r\n                    },\r\n                    {\r\n                        &quot;authority&quot;: &quot;role_query&quot;,\r\n                        &quot;code&quot;: &quot;role_query&quot;,\r\n                        &quot;id&quot;: 2\r\n                    },\r\n                    {\r\n                        &quot;authority&quot;: &quot;equ_query&quot;,\r\n                        &quot;code&quot;: &quot;equ_query&quot;,\r\n                        &quot;id&quot;: 3\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n\r\nIf I use findById, the same role repeat three times。\r\n\r\n     {\r\n    &quot;username&quot;: &quot;admin&quot;,\r\n    &quot;userRoles&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;permissions&quot;: [\r\n                {\r\n                    &quot;authority&quot;: &quot;user_query&quot;,\r\n                    &quot;code&quot;: &quot;user_query&quot;,\r\n                    &quot;id&quot;: 1\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;role_query&quot;,\r\n                    &quot;code&quot;: &quot;role_query&quot;,\r\n                    &quot;id&quot;: 2\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;equ_query&quot;,\r\n                    &quot;code&quot;: &quot;equ_query&quot;,\r\n                    &quot;id&quot;: 3\r\n                }\r\n            ],\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;roleName&quot;: &quot;admin&quot;,\r\n        },\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;permissions&quot;: [\r\n                {\r\n                    &quot;authority&quot;: &quot;user_query&quot;,\r\n                    &quot;code&quot;: &quot;user_query&quot;,\r\n                    &quot;id&quot;: 1\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;role_query&quot;,\r\n                    &quot;code&quot;: &quot;role_query&quot;,\r\n                    &quot;id&quot;: 2\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;equ_query&quot;,\r\n                    &quot;code&quot;: &quot;equ_query&quot;,\r\n                    &quot;id&quot;: 3\r\n                }\r\n            ],\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;roleName&quot;: &quot;admin&quot;,\r\n            &quot;updated&quot;: null\r\n        },\r\n        {\r\n           \r\n            &quot;id&quot;: 1,\r\n            &quot;permissions&quot;: [\r\n                {\r\n                    &quot;authority&quot;: &quot;user_query&quot;,\r\n                    &quot;code&quot;: &quot;user_query&quot;,\r\n                    &quot;id&quot;: 1\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;role_query&quot;,\r\n                    &quot;code&quot;: &quot;role_query&quot;,\r\n                    &quot;id&quot;: 2\r\n                },\r\n                {\r\n                    &quot;authority&quot;: &quot;equ_query&quot;,\r\n                    &quot;code&quot;: &quot;equ_query&quot;,\r\n                    &quot;id&quot;: 3\r\n                }\r\n            ],\r\n            &quot;role&quot;: &quot;admin&quot;,\r\n            &quot;roleName&quot;: &quot;admin&quot;,\r\n        }\r\n    ]\r\n}\r\n\r\n\r\ncode : https://github.com/shuanshuan/demo-questions","title":"Spring data JPA: Three entities ManyToMany relations, query duplicate result with findById","body":"<p>User.java</p>\n<pre><code>@Entity\n@Table(name = &quot;test_user&quot;)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private String password;\n\n    private String username;\n\n    private String name;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;test_user_and_role&quot;, inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;), joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private List&lt;UserRole&gt; userRoles = new ArrayList&lt;&gt;();\n\n    public User() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;UserRole&gt; getUserRoles() {\n        return userRoles;\n    }\n\n    public void setUserRoles(List&lt;UserRole&gt; userRoles) {\n        this.userRoles = userRoles;\n    }\n\n}\n</code></pre>\n<p>UserRole.java</p>\n<pre><code>@Entity\n@Table(name = &quot;test_user_role&quot;)\npublic class UserRole implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String role;\n\n    @ManyToMany(mappedBy = &quot;userRoles&quot;)\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.REFRESH)\n    @JoinTable(name = &quot;test_role_and_permission&quot;, inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;), joinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;RolePermission&gt; permissions = new ArrayList&lt;&gt;();\n\n    public UserRole() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public List&lt;User&gt; getUsers() {\n        return users;\n    }\n\n    public void setUsers(List&lt;User&gt; users) {\n        this.users = users;\n    }\n\n    public List&lt;RolePermission&gt; getPermissions() {\n        return permissions;\n    }\n\n    public void setPermissions(List&lt;RolePermission&gt; permissions) {\n        this.permissions = permissions;\n    }\n\n}\n</code></pre>\n<p>RolePermission.java</p>\n<pre><code>@Entity\n@Table(name=&quot;test_role_permission&quot;)\npublic class RolePermission implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    \n    private String code;\n\n    private String des;\n    \n    \n    \n    @ManyToMany(mappedBy = &quot;permissions&quot;)\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private List&lt;UserRole&gt; roles = new ArrayList&lt;&gt;();\n\n    public String getAuthority() {\n        return this.code;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getDes() {\n        return des;\n    }\n\n    public void setDes(String des) {\n        this.des = des;\n    }\n\n    public List&lt;UserRole&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(List&lt;UserRole&gt; roles) {\n        this.roles = roles;\n    }\n    \n    \n}\n</code></pre>\n<p>JDK:17\nSpringBoot:2.7.4</p>\n<p>findById and findBy are also generate different structure SQL.\nfindById uses left outer Join.\nfindByName uses subquery.</p>\n<p>the user only have one role, the role have three permissions.</p>\n<p>if use findByUsername\nIt will return the user info correctly.</p>\n<pre><code> {\n    &quot;username&quot;: &quot;admin&quot;,\n    &quot;userRoles&quot;: [\n        {\n            &quot;created&quot;: null,\n            &quot;id&quot;: 1,\n            &quot;role&quot;: &quot;admin&quot;,\n            &quot;roleName&quot;: &quot;admin&quot;,\n            &quot;permissions&quot;: [\n                {\n                    &quot;authority&quot;: &quot;user_query&quot;,\n                    &quot;code&quot;: &quot;user_query&quot;,\n                    &quot;id&quot;: 1\n                },\n                {\n                    &quot;authority&quot;: &quot;role_query&quot;,\n                    &quot;code&quot;: &quot;role_query&quot;,\n                    &quot;id&quot;: 2\n                },\n                {\n                    &quot;authority&quot;: &quot;equ_query&quot;,\n                    &quot;code&quot;: &quot;equ_query&quot;,\n                    &quot;id&quot;: 3\n                }\n            }\n        ]\n    }\n</code></pre>\n<p>If I use findById, the same role repeat three times。</p>\n<pre><code> {\n&quot;username&quot;: &quot;admin&quot;,\n&quot;userRoles&quot;: [\n    {\n        &quot;id&quot;: 1,\n        &quot;permissions&quot;: [\n            {\n                &quot;authority&quot;: &quot;user_query&quot;,\n                &quot;code&quot;: &quot;user_query&quot;,\n                &quot;id&quot;: 1\n            },\n            {\n                &quot;authority&quot;: &quot;role_query&quot;,\n                &quot;code&quot;: &quot;role_query&quot;,\n                &quot;id&quot;: 2\n            },\n            {\n                &quot;authority&quot;: &quot;equ_query&quot;,\n                &quot;code&quot;: &quot;equ_query&quot;,\n                &quot;id&quot;: 3\n            }\n        ],\n        &quot;role&quot;: &quot;admin&quot;,\n        &quot;roleName&quot;: &quot;admin&quot;,\n    },\n    {\n        &quot;id&quot;: 1,\n        &quot;permissions&quot;: [\n            {\n                &quot;authority&quot;: &quot;user_query&quot;,\n                &quot;code&quot;: &quot;user_query&quot;,\n                &quot;id&quot;: 1\n            },\n            {\n                &quot;authority&quot;: &quot;role_query&quot;,\n                &quot;code&quot;: &quot;role_query&quot;,\n                &quot;id&quot;: 2\n            },\n            {\n                &quot;authority&quot;: &quot;equ_query&quot;,\n                &quot;code&quot;: &quot;equ_query&quot;,\n                &quot;id&quot;: 3\n            }\n        ],\n        &quot;role&quot;: &quot;admin&quot;,\n        &quot;roleName&quot;: &quot;admin&quot;,\n        &quot;updated&quot;: null\n    },\n    {\n       \n        &quot;id&quot;: 1,\n        &quot;permissions&quot;: [\n            {\n                &quot;authority&quot;: &quot;user_query&quot;,\n                &quot;code&quot;: &quot;user_query&quot;,\n                &quot;id&quot;: 1\n            },\n            {\n                &quot;authority&quot;: &quot;role_query&quot;,\n                &quot;code&quot;: &quot;role_query&quot;,\n                &quot;id&quot;: 2\n            },\n            {\n                &quot;authority&quot;: &quot;equ_query&quot;,\n                &quot;code&quot;: &quot;equ_query&quot;,\n                &quot;id&quot;: 3\n            }\n        ],\n        &quot;role&quot;: &quot;admin&quot;,\n        &quot;roleName&quot;: &quot;admin&quot;,\n    }\n]\n</code></pre>\n<p>}</p>\n<p>code : <a href=\"https://github.com/shuanshuan/demo-questions\" rel=\"nofollow noreferrer\">https://github.com/shuanshuan/demo-questions</a></p>\n"},{"tags":["java","spring-boot","rest","docker","aws-xray"],"comments":[{"owner":{"account_id":8819026,"reputation":131,"user_id":6589517,"display_name":"Suresh"},"score":0,"creation_date":1595405567,"post_id":62171719,"comment_id":111459527,"body_markdown":"Did you resolve this issue. Stuck with the same issue and it would be great to help me.","body":"Did you resolve this issue. Stuck with the same issue and it would be great to help me."}],"answers":[{"tags":[],"owner":{"account_id":190312,"reputation":495,"user_id":430202,"display_name":"J. Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619717243,"creation_date":1619717243,"answer_id":67322314,"question_id":62171719,"body_markdown":"This could be because the app running in the Docker container cannot connect to the X-Ray daemon running locally on the host.\r\n\r\nYou might find [this answer](https://stackoverflow.com/a/67287691/430202) helpful. There is a simple Docker platform example that runs the daemon and the app side-by-side in separate containers.  It uses docker-compose networking and the `AWS_XRAY_DAEMON_ADDRESS` environment variable to connect the app container to the daemon.","title":"api unable to send the traces to aws-xray deamon in docker container","body":"<p>This could be because the app running in the Docker container cannot connect to the X-Ray daemon running locally on the host.</p>\n<p>You might find <a href=\"https://stackoverflow.com/a/67287691/430202\">this answer</a> helpful. There is a simple Docker platform example that runs the daemon and the app side-by-side in separate containers.  It uses docker-compose networking and the <code>AWS_XRAY_DAEMON_ADDRESS</code> environment variable to connect the app container to the daemon.</p>\n"},{"tags":[],"owner":{"account_id":15567971,"reputation":11,"user_id":11231187,"display_name":"G. Ionut"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664911452,"creation_date":1664870475,"answer_id":73944759,"question_id":62171719,"body_markdown":"I solved the problem with this solution:\r\n\r\n 1. start the X-Ray container\r\n 2. `docker inspect` on this container and check which is the IP address\r\n 3. Create an environment variable `AWS_XRAY_DAEMON_ADDRESS` with the value obtained in previous step (ex: 172.XX.0.X:2000)\r\n 4. start the application container adding `-e AWS_XRAY_DAEMON_ADDRESS` to pass the variable to the container (ex: `docker run -e AWS_XRAY_DAEMON_ADDRESS --name my_containter image_name`)\r\n\r\nSteps 3 and 4 can be combined by directly passing the IP address to the container (`docker run -e AWS_XRAY_DAEMON_ADDRESS=ip_address --name my_containter image_name`)","title":"api unable to send the traces to aws-xray deamon in docker container","body":"<p>I solved the problem with this solution:</p>\n<ol>\n<li>start the X-Ray container</li>\n<li><code>docker inspect</code> on this container and check which is the IP address</li>\n<li>Create an environment variable <code>AWS_XRAY_DAEMON_ADDRESS</code> with the value obtained in previous step (ex: 172.XX.0.X:2000)</li>\n<li>start the application container adding <code>-e AWS_XRAY_DAEMON_ADDRESS</code> to pass the variable to the container (ex: <code>docker run -e AWS_XRAY_DAEMON_ADDRESS --name my_containter image_name</code>)</li>\n</ol>\n<p>Steps 3 and 4 can be combined by directly passing the IP address to the container (<code>docker run -e AWS_XRAY_DAEMON_ADDRESS=ip_address --name my_containter image_name</code>)</p>\n"},{"tags":[],"owner":{"account_id":26523159,"reputation":28,"user_id":20156533,"display_name":"Silvan Talos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664872835,"creation_date":1664872326,"answer_id":73945092,"question_id":62171719,"body_markdown":"On Linux, starting containers in host network solves the issue (using `--network host` flag when starting container).\r\nOther than that, the `AWS_XRAY_DAEMON_ADDRESS` environment variable can be used for setting XRay container IP address, as mentioned by @G. Ionut in [his answer](https://stackoverflow.com/a/73944759/20156533).","title":"api unable to send the traces to aws-xray deamon in docker container","body":"<p>On Linux, starting containers in host network solves the issue (using <code>--network host</code> flag when starting container).\nOther than that, the <code>AWS_XRAY_DAEMON_ADDRESS</code> environment variable can be used for setting XRay container IP address, as mentioned by @G. Ionut in <a href=\"https://stackoverflow.com/a/73944759/20156533\">his answer</a>.</p>\n"}],"owner":{"account_id":3792142,"reputation":41,"user_id":3148335,"display_name":"user3148335"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664911452,"creation_date":1591183684,"question_id":62171719,"body_markdown":"I have two docker containers for rest API and x-ray daemon up and running. In my local, API sends the traces to x-ray daemon successfully. But unable to achieve in docker.\r\n\r\nThese steps I have followed.\r\n\r\n - added was x-ray filter to API to instrument HTTP request\r\n - configured 0.0.0.0:2000 as x-ray deamon address to listen all request\r\n - pulled AWS x-ray daemon official docker image and run the image in docker\r\n \r\nwhenever I am trying to hit my API,I am getting exception like this\r\n\r\n    2020-06-03 08:08:33.799  INFO 1 --- [pool-1-thread-1] c.a.x.s.sampling.pollers.RulePoller      : Polling sampling rules.2020-06-03 08:08:34.413 ERROR 1 --- [pool-1-thread-1] c.a.x.s.sampling.pollers.RulePoller      : Encountered error polling GetSamplingRules:\r\n\r\ncom.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to 0.0.0.0:2000 [/0.0.0.0] failed: Connection refused (Connection refused)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1207) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1153) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550) ~[aws-java-sdk-core-1.11.787.jar!/:na]        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530) ~[aws-java-sdk-core-1.11.787.jar!/:na]        at com.amazonaws.services.xray.AWSXRayClient.doInvoke(AWSXRayClient.java:1607) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\r\n        at com.amazonaws.services.xray.AWSXRayClient.invoke(AWSXRayClient.java:1574) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\r\n        at com.amazonaws.services.xray.AWSXRayClient.invoke(AWSXRayClient.java:1563) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\r\n        at com.amazonaws.services.xray.AWSXRayClient.executeGetSamplingRules(AWSXRayClient.java:800) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\r\n        at com.amazonaws.services.xray.AWSXRayClient.getSamplingRules(AWSXRayClient.java:771) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\r\n        at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.pollRule(RulePoller.java:65) ~[aws-xray-recorder-sdk-core-2.4.0.jar!/:na]\r\n        at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.lambda$start$0(RulePoller.java:46) ~[aws-xray-recorder-sdk-core-2.4.0.jar!/:na]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_212]\r\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) ~[na:1.8.0_212]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_212]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) ~[na:1.8.0_212]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_212]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_212]\r\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_212]\r\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to 0.0.0.0:2000 [/0.0.0.0] failed: Connection refused (Connection refused)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n        at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.conn.$Proxy64.connect(Unknown Source) ~[na:na]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n10]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1330) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145) ~[aws-java-sdk-core-1.11.787.jar!/:na]\r\n        ... 21 common frames omitted\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:204) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n        ... 37 common frames omitted\r\n\r\n","title":"api unable to send the traces to aws-xray deamon in docker container","body":"<p>I have two docker containers for rest API and x-ray daemon up and running. In my local, API sends the traces to x-ray daemon successfully. But unable to achieve in docker.</p>\n\n<p>These steps I have followed.</p>\n\n<ul>\n<li>added was x-ray filter to API to instrument HTTP request</li>\n<li>configured 0.0.0.0:2000 as x-ray deamon address to listen all request</li>\n<li>pulled AWS x-ray daemon official docker image and run the image in docker</li>\n</ul>\n\n<p>whenever I am trying to hit my API,I am getting exception like this</p>\n\n<pre><code>2020-06-03 08:08:33.799  INFO 1 --- [pool-1-thread-1] c.a.x.s.sampling.pollers.RulePoller      : Polling sampling rules.2020-06-03 08:08:34.413 ERROR 1 --- [pool-1-thread-1] c.a.x.s.sampling.pollers.RulePoller      : Encountered error polling GetSamplingRules:\n</code></pre>\n\n<p>com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to 0.0.0.0:2000 [/0.0.0.0] failed: Connection refused (Connection refused)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1207) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1153) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550) ~[aws-java-sdk-core-1.11.787.jar!/:na]        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530) ~[aws-java-sdk-core-1.11.787.jar!/:na]        at com.amazonaws.services.xray.AWSXRayClient.doInvoke(AWSXRayClient.java:1607) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\n        at com.amazonaws.services.xray.AWSXRayClient.invoke(AWSXRayClient.java:1574) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\n        at com.amazonaws.services.xray.AWSXRayClient.invoke(AWSXRayClient.java:1563) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\n        at com.amazonaws.services.xray.AWSXRayClient.executeGetSamplingRules(AWSXRayClient.java:800) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\n        at com.amazonaws.services.xray.AWSXRayClient.getSamplingRules(AWSXRayClient.java:771) ~[aws-java-sdk-xray-1.11.787.jar!/:na]\n        at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.pollRule(RulePoller.java:65) ~[aws-xray-recorder-sdk-core-2.4.0.jar!/:na]\n        at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.lambda$start$0(RulePoller.java:46) ~[aws-xray-recorder-sdk-core-2.4.0.jar!/:na]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_212]\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308) ~[na:1.8.0_212]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_212]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294) ~[na:1.8.0_212]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_212]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_212]\n        at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_212]\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to 0.0.0.0:2000 [/0.0.0.0] failed: Connection refused (Connection refused)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.conn.$Proxy64.connect(Unknown Source) ~[na:na]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.10.jar!/:4.5.10]\n10]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1330) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145) ~[aws-java-sdk-core-1.11.787.jar!/:na]\n        ... 21 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:204) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.10.jar!/:4.5.10]\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.10.jar!/:4.5.10]\n        ... 37 common frames omitted</p>\n"},{"tags":["java","reactjs","spring-boot"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1664982097,"post_id":73949257,"comment_id":130593720,"body_markdown":"Have you added @crossorigin to your controller class?","body":"Have you added @crossorigin to your controller class?"},{"owner":{"display_name":"user19163958"},"score":0,"creation_date":1665044857,"post_id":73949257,"comment_id":130608310,"body_markdown":"@Daksharajkamal Yessir","body":"@Daksharajkamal Yessir"}],"owner":{"display_name":"user19163958"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664911264,"creation_date":1664892736,"question_id":73949257,"body_markdown":"I&#39;m trying to get my CSRF working. I have a Spring Boot API which has a post controller method, I&#39;m trying to call it while sending along a CSRF-Token for it to work, but all I&#39;m getting back is a 403 Forbidden response.\r\n\r\nSpring Boot Controller:\r\n\r\n    @RequestMapping(&quot;/token&quot;)\r\n        public CsrfToken csrf(CsrfToken token){\r\n            return token;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/postendpoint&quot;)\r\n        public ResponseEntity&lt;?&gt; somePost(String text){\r\n            return ResponseEntity\r\n                    .ok()\r\n                    .header(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:3000&quot;)\r\n                    .body(text);\r\n        }\r\n\r\nConfiguration class:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf()\r\n                    .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\r\n                    .and().cors();\r\n            return http.build();\r\n        }\r\n    }\r\n\r\nRequest from React:\r\n\r\n    response = await axios.get(&#39;http://127.0.0.1:8080/tasks/token&#39;, {withCredentials: true}).then((tokenResp) =&gt; {\r\n          console.log(tokenResp);\r\n    \r\n          return axios.post(&#39;http://127.0.0.1:8080/tasks/postendpoint&#39;,\r\n            {\r\n              withCredentials: true,\r\n              headers: {\r\n                &#39;X-CSRF-TOKEN&#39;: tokenResp.data.token\r\n              }\r\n            }\r\n          );\r\n        }).then((res) =&gt; console.log(res));\r\n\r\nsome of the dependencies in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot API returns 403 Forbidden as response to React App","body":"<p>I'm trying to get my CSRF working. I have a Spring Boot API which has a post controller method, I'm trying to call it while sending along a CSRF-Token for it to work, but all I'm getting back is a 403 Forbidden response.</p>\n<p>Spring Boot Controller:</p>\n<pre><code>@RequestMapping(&quot;/token&quot;)\n    public CsrfToken csrf(CsrfToken token){\n        return token;\n    }\n\n    @PostMapping(value = &quot;/postendpoint&quot;)\n    public ResponseEntity&lt;?&gt; somePost(String text){\n        return ResponseEntity\n                .ok()\n                .header(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:3000&quot;)\n                .body(text);\n    }\n</code></pre>\n<p>Configuration class:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())\n                .and().cors();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Request from React:</p>\n<pre><code>response = await axios.get('http://127.0.0.1:8080/tasks/token', {withCredentials: true}).then((tokenResp) =&gt; {\n      console.log(tokenResp);\n\n      return axios.post('http://127.0.0.1:8080/tasks/postendpoint',\n        {\n          withCredentials: true,\n          headers: {\n            'X-CSRF-TOKEN': tokenResp.data.token\n          }\n        }\n      );\n    }).then((res) =&gt; console.log(res));\n</code></pre>\n<p>some of the dependencies in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","enums","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664911161,"creation_date":1664910410,"answer_id":73952552,"question_id":73952303,"body_markdown":"There are several approaches you can take.\r\n\r\nThe map which would be used for accumulating the stream data can be prepopulated with entries corresponding to every *enum-member*. To access all existing *enum-members* you can use `values()` method or [`EnumSet.allOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)).\r\n\r\nIt can be achieved using *three-args* version of [`collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) or through a custom collector created via `Collector.of()`.\r\n\r\n```\r\nMap&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\r\n    .collect(\r\n        () -&gt; EnumSet.allOf(Country.class).stream()         // supplier\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),\r\n                c -&gt; new ArrayList&lt;&gt;()\r\n            )),\r\n        (Map&lt;Country, List&lt;Integer&gt;&gt; map, WorldCup next) -&gt; // accumulator\r\n            map.get(next.getCountry()).add(next.getYear()),\r\n        (left, right) -&gt;                                    // combiner\r\n            right.forEach((k, v) -&gt; left.get(k).addAll(v))\r\n    );\r\n```\r\n\r\nAnother option is to add missing entries to the map after reduction of the stream has been finished.\r\n\r\nFor that we can use built-in *collector* [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)).\r\n\r\n```\r\nMap&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\r\n    .collect(Collectors.collectingAndThen(\r\n        Collectors.groupingBy(WorldCup::getCountry,\r\n            Collectors.mapping(WorldCup::getYear,\r\n                Collectors.toList())),\r\n        map -&gt; {\r\n            EnumSet.allOf(Country.class)\r\n                .forEach(country -&gt; map.computeIfAbsent(country, k -&gt; new ArrayList&lt;&gt;())); // if you&#39;re not going to mutate these lists - use Collections.emptyList()\r\n            return map;\r\n        }\r\n    ));\r\n```","title":"Have Java Streams GroupingBy result Map include a key for each value of an enum, even if value is an empty List","body":"<p>There are several approaches you can take.</p>\n<p>The map which would be used for accumulating the stream data can be prepopulated with entries corresponding to every <em>enum-member</em>. To access all existing <em>enum-members</em> you can use <code>values()</code> method or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>EnumSet.allOf()</code></a>.</p>\n<p>It can be achieved using <em>three-args</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> or through a custom collector created via <code>Collector.of()</code>.</p>\n<pre><code>Map&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\n    .collect(\n        () -&gt; EnumSet.allOf(Country.class).stream()         // supplier\n            .collect(Collectors.toMap(\n                Function.identity(),\n                c -&gt; new ArrayList&lt;&gt;()\n            )),\n        (Map&lt;Country, List&lt;Integer&gt;&gt; map, WorldCup next) -&gt; // accumulator\n            map.get(next.getCountry()).add(next.getYear()),\n        (left, right) -&gt;                                    // combiner\n            right.forEach((k, v) -&gt; left.get(k).addAll(v))\n    );\n</code></pre>\n<p>Another option is to add missing entries to the map after reduction of the stream has been finished.</p>\n<p>For that we can use built-in <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a>.</p>\n<pre><code>Map&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\n    .collect(Collectors.collectingAndThen(\n        Collectors.groupingBy(WorldCup::getCountry,\n            Collectors.mapping(WorldCup::getYear,\n                Collectors.toList())),\n        map -&gt; {\n            EnumSet.allOf(Country.class)\n                .forEach(country -&gt; map.computeIfAbsent(country, k -&gt; new ArrayList&lt;&gt;())); // if you're not going to mutate these lists - use Collections.emptyList()\n            return map;\n        }\n    ));\n</code></pre>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664911161,"creation_date":1664909012,"question_id":73952303,"body_markdown":"This question is about Java Streams&#39; groupingBy capability.\r\n\r\nSuppose I have a class, `WorldCup`:\r\n\r\n```\r\npublic class WorldCup {\r\n\r\n    int year;\r\n    Country champion;\r\n\r\n    // all-arg constructor, getter/setters, etc\r\n}\r\n```\r\n\r\nand an enum, `Country`:\r\n\r\n```\r\npublic enum Country {\r\n    Brazil, France, USA\r\n}\r\n```\r\n\r\nand the following code snippet:\r\n\r\n```\r\nWorldCup wc94 = new WorldCup(1994, Country.Brazil);\r\nWorldCup wc98 = new WorldCup(1998, Country.France);\r\n\r\nList&lt;WorldCup&gt; wcList = new ArrayList&lt;WorldCup&gt;();\r\nwcList.add(wc94);\r\nwcList.add(wc98);\r\n\r\nMap&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\r\n    .collect(Collectors.groupingBy(WorldCup::getCountry, Collectors.mapping(WorldCup::getYear));\r\n```\r\n\r\nAfter running this code, `championsMap` will contain:\r\n```\r\nBrazil: [1994]\r\nFrance: [1998]\r\n```\r\n\r\nIs there a succinct way to have this list include an entry for all of the values of the enum?  What I&#39;m looking for is:\r\n\r\n```\r\nBrazil: [1994]\r\nFrance: [1998]\r\nUSA: []\r\n```","title":"Have Java Streams GroupingBy result Map include a key for each value of an enum, even if value is an empty List","body":"<p>This question is about Java Streams' groupingBy capability.</p>\n<p>Suppose I have a class, <code>WorldCup</code>:</p>\n<pre><code>public class WorldCup {\n\n    int year;\n    Country champion;\n\n    // all-arg constructor, getter/setters, etc\n}\n</code></pre>\n<p>and an enum, <code>Country</code>:</p>\n<pre><code>public enum Country {\n    Brazil, France, USA\n}\n</code></pre>\n<p>and the following code snippet:</p>\n<pre><code>WorldCup wc94 = new WorldCup(1994, Country.Brazil);\nWorldCup wc98 = new WorldCup(1998, Country.France);\n\nList&lt;WorldCup&gt; wcList = new ArrayList&lt;WorldCup&gt;();\nwcList.add(wc94);\nwcList.add(wc98);\n\nMap&lt;Country, List&lt;Integer&gt;&gt; championsMap = wcList.stream()\n    .collect(Collectors.groupingBy(WorldCup::getCountry, Collectors.mapping(WorldCup::getYear));\n</code></pre>\n<p>After running this code, <code>championsMap</code> will contain:</p>\n<pre><code>Brazil: [1994]\nFrance: [1998]\n</code></pre>\n<p>Is there a succinct way to have this list include an entry for all of the values of the enum?  What I'm looking for is:</p>\n<pre><code>Brazil: [1994]\nFrance: [1998]\nUSA: []\n</code></pre>\n"},{"tags":["java","spring","sts"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":1,"creation_date":1664905723,"post_id":73951721,"comment_id":130575423,"body_markdown":"I&#39;m coming from the Spring Boot Context so I&#39;m not sure, but you would need to anotate `PollRepository` with `@Repository` there. Is there an pendant for that in Spring?","body":"I&#39;m coming from the Spring Boot Context so I&#39;m not sure, but you would need to anotate <code>PollRepository</code> with <code>@Repository</code> there. Is there an pendant for that in Spring?"},{"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"score":0,"creation_date":1664909244,"post_id":73951721,"comment_id":130576309,"body_markdown":"Didn&#39;t fix the issue, but good to know, thanks!","body":"Didn&#39;t fix the issue, but good to know, thanks!"}],"answers":[{"comments":[{"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"score":0,"creation_date":1664909800,"post_id":73951837,"comment_id":130576462,"body_markdown":"Thanks. I tried that but got more errors, starting with `Error creating bean with name &#39;pollController&#39;` (added to question).","body":"Thanks. I tried that but got more errors, starting with <code>Error creating bean with name &#39;pollController&#39;</code> (added to question)."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1664909941,"post_id":73951837,"comment_id":130576490,"body_markdown":"keep component scan as is do not remove it","body":"keep component scan as is do not remove it"},{"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"score":0,"creation_date":1664910014,"post_id":73951837,"comment_id":130576514,"body_markdown":"Yes I didn&#39;t remove that.","body":"Yes I didn&#39;t remove that."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1664910275,"post_id":73951837,"comment_id":130576602,"body_markdown":"Can you try moving QuickPollApplication to com.example package?\nAlso ensure Poll class is Entity","body":"Can you try moving QuickPollApplication to com.example package? Also ensure Poll class is Entity"},{"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"score":0,"creation_date":1664910657,"post_id":73951837,"comment_id":130576710,"body_markdown":"That worked! Awesome. Thanks so much :) If you update your answer I&#39;ll accept it","body":"That worked! Awesome. Thanks so much :) If you update your answer I&#39;ll accept it"}],"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664910913,"creation_date":1664906178,"answer_id":73951837,"question_id":73951721,"body_markdown":"Can you move application main class to `com.example` package instead?\r\n\r\n\r\nIf not,\r\nYou can try adding   \r\n`@EnableJpaRepositories(basePackages=&quot;com.example&quot;)` to QuickPollApplication class.\r\n\r\nAlso you require additional config like @EntityScan with base packages configured.\r\n\r\n**Explaination:**\r\n\r\nBy default, Spring Boot enables JPA repository support and looks in the package (and its subpackages) where @SpringBootApplication is located. If your configuration has JPA repository interface definitions located in a package that is not visible, you can point out alternate packages by using @EnableJpaRepositories and its type-safe basePackageClasses=MyRepository.class parameter.\r\n\r\n**Ref:** \r\nhttps://spring.io/guides/gs/accessing-data-jpa/","title":"Field &quot;&quot; in &quot;&quot; required a bean of type &quot;&quot; that could not be found","body":"<p>Can you move application main class to <code>com.example</code> package instead?</p>\n<p>If not,\nYou can try adding<br />\n<code>@EnableJpaRepositories(basePackages=&quot;com.example&quot;)</code> to QuickPollApplication class.</p>\n<p>Also you require additional config like @EntityScan with base packages configured.</p>\n<p><strong>Explaination:</strong></p>\n<p>By default, Spring Boot enables JPA repository support and looks in the package (and its subpackages) where @SpringBootApplication is located. If your configuration has JPA repository interface definitions located in a package that is not visible, you can point out alternate packages by using @EnableJpaRepositories and its type-safe basePackageClasses=MyRepository.class parameter.</p>\n<p><strong>Ref:</strong>\n<a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-jpa/</a></p>\n"}],"owner":{"account_id":572450,"reputation":4381,"user_id":218548,"accept_rate":87,"display_name":"CompanyDroneFromSector7G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73951837,"answer_count":1,"score":0,"last_activity_date":1664910913,"creation_date":1664905491,"question_id":73951721,"body_markdown":"I&#39;m struggling through a Spring Web API tutorial, using STS4.\r\n\r\nI got to the state in the tutorial where I need to test it, but I just got a &quot;not found&quot;, so the routing doesn&#39;t seem to be working.\r\n\r\nI saw online comments that seem to suggest I need a `@ComponentScan(&quot;com.example&quot;)` adding to the `main()` function, something not mentioned in the tutorial.\r\n\r\nSo I did this but now I&#39;m getting the following.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field pollRepository in com.example.controller.PollController required a bean of type &#39;com.example.repository.PollRepository&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @javax.inject.Inject()\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.example.repository.PollRepository&#39; in your configuration.\r\n\r\nMy project looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `main` method (in `QuickPollApplication.java`):\r\n\r\n    package com.example.rest;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @ComponentScan(&quot;com.example&quot;)\r\n    @SpringBootApplication\r\n    public class QuickPollApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(QuickPollApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nand `PollController.java` looks like this:\r\n\r\n    package com.example.controller;\r\n    \r\n    import javax.inject.Inject;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.domain.Poll;\r\n    import com.example.repository.PollRepository;\r\n    \r\n    @RestController\r\n    public class PollController {\r\n    \r\n    \t@Inject\r\n    \tprivate PollRepository pollRepository;\r\n    \t\r\n    \t@GetMapping(&quot;/polls&quot;)\r\n    \tpublic ResponseEntity&lt;Iterable&lt;Poll&gt;&gt; getAllPolls() {\r\n    \t\tIterable&lt;Poll&gt; allPolls = pollRepository.findAll();\r\n    \t\treturn new ResponseEntity&lt;&gt;(allPolls, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nand this is `PollRepository.java`:\r\n\r\n    package com.example.repository;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import com.example.domain.Poll;\r\n    \r\n    \r\n    public interface PollRepository extends CrudRepository&lt;Poll, Long&gt; {\r\n    \r\n    }\r\n\r\nLet me know if it would be helpful to show anything else!\r\n\r\nAs per a suggestion I tried adding `@EnableJpaRepositories(basePackages=&quot;com.example&quot;)` to the QuickPollApplication class, but this just resulted in more errors, starting with:\r\n\r\n&gt; Error creating bean with name &#39;pollController&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;pollRepository&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;pollRepository&#39; defined in\r\n&gt; com.example.repository.PollRepository defined in\r\n&gt; @EnableJpaRepositories declared on QuickPollApplication: Invocation of\r\n&gt; init method failed; nested exception is\r\n&gt; java.lang.IllegalArgumentException: Not a managed type: class\r\n&gt; com.example.domain.Poll\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8LIr.png\r\n\r\n","title":"Field &quot;&quot; in &quot;&quot; required a bean of type &quot;&quot; that could not be found","body":"<p>I'm struggling through a Spring Web API tutorial, using STS4.</p>\n<p>I got to the state in the tutorial where I need to test it, but I just got a &quot;not found&quot;, so the routing doesn't seem to be working.</p>\n<p>I saw online comments that seem to suggest I need a <code>@ComponentScan(&quot;com.example&quot;)</code> adding to the <code>main()</code> function, something not mentioned in the tutorial.</p>\n<p>So I did this but now I'm getting the following.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField pollRepository in com.example.controller.PollController required a bean of type 'com.example.repository.PollRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @javax.inject.Inject()\n\n\nAction:\n\nConsider defining a bean of type 'com.example.repository.PollRepository' in your configuration.\n</code></pre>\n<p>My project looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/m8LIr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8LIr.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>main</code> method (in <code>QuickPollApplication.java</code>):</p>\n<pre><code>package com.example.rest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@ComponentScan(&quot;com.example&quot;)\n@SpringBootApplication\npublic class QuickPollApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QuickPollApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>and <code>PollController.java</code> looks like this:</p>\n<pre><code>package com.example.controller;\n\nimport javax.inject.Inject;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.domain.Poll;\nimport com.example.repository.PollRepository;\n\n@RestController\npublic class PollController {\n\n    @Inject\n    private PollRepository pollRepository;\n    \n    @GetMapping(&quot;/polls&quot;)\n    public ResponseEntity&lt;Iterable&lt;Poll&gt;&gt; getAllPolls() {\n        Iterable&lt;Poll&gt; allPolls = pollRepository.findAll();\n        return new ResponseEntity&lt;&gt;(allPolls, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>and this is <code>PollRepository.java</code>:</p>\n<pre><code>package com.example.repository;\n\nimport org.springframework.data.repository.CrudRepository;\nimport com.example.domain.Poll;\n\n\npublic interface PollRepository extends CrudRepository&lt;Poll, Long&gt; {\n\n}\n</code></pre>\n<p>Let me know if it would be helpful to show anything else!</p>\n<p>As per a suggestion I tried adding <code>@EnableJpaRepositories(basePackages=&quot;com.example&quot;)</code> to the QuickPollApplication class, but this just resulted in more errors, starting with:</p>\n<blockquote>\n<p>Error creating bean with name 'pollController': Unsatisfied dependency\nexpressed through field 'pollRepository'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'pollRepository' defined in\ncom.example.repository.PollRepository defined in\n@EnableJpaRepositories declared on QuickPollApplication: Invocation of\ninit method failed; nested exception is\njava.lang.IllegalArgumentException: Not a managed type: class\ncom.example.domain.Poll</p>\n</blockquote>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6123,"reputation":58531,"user_id":10174,"display_name":"Jeffrey L Whitledge"},"score":2,"creation_date":1222521599,"post_id":143622,"comment_id":39495,"body_markdown":"Perhaps you could describe the &quot;odd behaviour&quot;?","body":"Perhaps you could describe the &quot;odd behaviour&quot;?"},{"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"score":0,"creation_date":1222526572,"post_id":143622,"comment_id":39570,"body_markdown":"Are you sure the ApplicationException isn&#39;t being thrown elsewhere and propagating up to this block?","body":"Are you sure the ApplicationException isn&#39;t being thrown elsewhere and propagating up to this block?"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1360366698,"post_id":143622,"comment_id":20698702,"body_markdown":"I noticed this in my Eclipse IDE. It is tyring to force me to put the &quot;throw new Exception&quot; in a try block but I don&#39;t know why.  I have done it in the past without doing that.  I don&#39;t see why a try block would be required.  Lots of examples on Google show people not needing a try block.  Is it because I am throwing inside an if statement?","body":"I noticed this in my Eclipse IDE. It is tyring to force me to put the &quot;throw new Exception&quot; in a try block but I don&#39;t know why.  I have done it in the past without doing that.  I don&#39;t see why a try block would be required.  Lots of examples on Google show people not needing a try block.  Is it because I am throwing inside an if statement?"}],"answers":[{"comments":[{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1471908344,"post_id":143628,"comment_id":65528144,"body_markdown":"Lets say if the code is like this\ntry { \n\n} catch (Exception  e){  \nSystem.err.println(&quot;In catch Exception: &quot;+e.getClass()); \n }catch (IOException e){  \nSystem.err.println(&quot;In catch IOException: &quot;+ e.getClass());  \n}\n\nand the code in try block generates IO Exception, Will it go to the immediate general Exception block or it will fly over to IOException catch block ?","body":"Lets say if the code is like this try {   } catch (Exception  e){   System.err.println(&quot;In catch Exception: &quot;+e.getClass());   }catch (IOException e){   System.err.println(&quot;In catch IOException: &quot;+ e.getClass());   }  and the code in try block generates IO Exception, Will it go to the immediate general Exception block or it will fly over to IOException catch block ?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":5,"creation_date":1471908758,"post_id":143628,"comment_id":65528235,"body_markdown":"@user3705478 The code won&#39;t compile, to avoid that kind of erroneous situation. In general, you&#39;re not allowed to have a catch for a subclass after a catch of its superclass in the same try block.","body":"@user3705478 The code won&#39;t compile, to avoid that kind of erroneous situation. In general, you&#39;re not allowed to have a catch for a subclass after a catch of its superclass in the same try block."},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1471909136,"post_id":143628,"comment_id":65528321,"body_markdown":"Thanks. So I will get a compile time error, right? I will test it when I get home.","body":"Thanks. So I will get a compile time error, right? I will test it when I get home."},{"owner":{"account_id":203806,"reputation":26030,"user_id":451672,"display_name":"Randy the Dev"},"score":0,"creation_date":1480503136,"post_id":143628,"comment_id":68986794,"body_markdown":"That depends @user3705478, if a `RuntimeException` is thrown from the `catch` block there will be no compilation error.","body":"That depends @user3705478, if a <code>RuntimeException</code> is thrown from the <code>catch</code> block there will be no compilation error."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1480527821,"post_id":143628,"comment_id":69003517,"body_markdown":"@AndrewDunn I don&#39;t think that&#39;s what user3705478&#39;s question is about, but rather, what happens if a parent exception `catch` clause is listed _before_ a child exception `catch` clause. My understanding is that Java disallows this, and it&#39;s caught at compile time.","body":"@AndrewDunn I don&#39;t think that&#39;s what user3705478&#39;s question is about, but rather, what happens if a parent exception <code>catch</code> clause is listed <i>before</i> a child exception <code>catch</code> clause. My understanding is that Java disallows this, and it&#39;s caught at compile time."},{"owner":{"account_id":7198534,"reputation":1202,"user_id":6182932,"display_name":"Nunchucks"},"score":0,"creation_date":1542308173,"post_id":143628,"comment_id":93532776,"body_markdown":"would it be caught again by a &quot;parent catch block&quot; if you nested one inside the other?","body":"would it be caught again by a &quot;parent catch block&quot; if you nested one inside the other?"}],"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":6,"down_vote_count":0,"up_vote_count":298,"is_accepted":true,"score":298,"last_activity_date":1222521210,"creation_date":1222521210,"answer_id":143628,"question_id":143622,"body_markdown":"No, since the new `throw` is not in the `try` block directly.","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>No, since the new <code>throw</code> is not in the <code>try</code> block directly.</p>\n"},{"tags":[],"owner":{"account_id":6452,"reputation":12850,"user_id":10853,"accept_rate":81,"display_name":"Ian P"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1222521331,"creation_date":1222521331,"answer_id":143631,"question_id":143622,"body_markdown":"No -- As Chris Jester-Young said, it will be thrown up to the next try-catch in the hierarchy.","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>No -- As Chris Jester-Young said, it will be thrown up to the next try-catch in the hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1222522714,"creation_date":1222522714,"answer_id":143660,"question_id":143622,"body_markdown":"As said above...  \r\nI would add that if you have trouble seeing what is going on, if you can&#39;t reproduce the issue in the debugger, you can add a trace before re-throwing the new exception (with the good old System.out.println at worse, with a good log system like log4j otherwise).","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>As said above...<br>\nI would add that if you have trouble seeing what is going on, if you can't reproduce the issue in the debugger, you can add a trace before re-throwing the new exception (with the good old System.out.println at worse, with a good log system like log4j otherwise).</p>\n"},{"comments":[{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":4,"creation_date":1316093141,"post_id":143671,"comment_id":8984106,"body_markdown":"The most obvious way to avoid a `finally` is, of course, to call `System.exit`. :-P","body":"The most obvious way to avoid a <code>finally</code> is, of course, to call <code>System.exit</code>. :-P"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":3,"creation_date":1316119829,"post_id":143671,"comment_id":8992404,"body_markdown":"@Chris Jester-Young `for(;;);` is shorter, contained within the language, doesn&#39;t introduce much in the way of side-effects and, for me, more obvious.","body":"@Chris Jester-Young <code>for(;;);</code> is shorter, contained within the language, doesn&#39;t introduce much in the way of side-effects and, for me, more obvious."},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":1,"creation_date":1316129421,"post_id":143671,"comment_id":8994400,"body_markdown":"`System.exit` is friendlier to the CPU! :-O But yes, okay, clearly this is a subjective criterion. Also, I didn&#39;t know you to be a code golfer. ;-)","body":"<code>System.exit</code> is friendlier to the CPU! :-O But yes, okay, clearly this is a subjective criterion. Also, I didn&#39;t know you to be a code golfer. ;-)"}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":3,"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1424287967,"creation_date":1222523314,"answer_id":143671,"question_id":143622,"body_markdown":"No. It&#39;s very easy to check.\r\n\r\n    public class Catch {\r\n        public static void main(String[] args) {\r\n            try {\r\n                throw new java.io.IOException();\r\n            } catch (java.io.IOException exc) {\r\n                System.err.println(&quot;In catch IOException: &quot;+exc.getClass());\r\n                throw new RuntimeException();\r\n            } catch (Exception exc) {\r\n                System.err.println(&quot;In catch Exception: &quot;+exc.getClass());\r\n            } finally {\r\n                System.err.println(&quot;In finally&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nShould print:\r\n\r\n&lt;pre&gt;\r\nIn catch IOException: class java.io.IOException\r\nIn finally\r\nException in thread &quot;main&quot; java.lang.RuntimeException\r\n        at Catch.main(Catch.java:8)&lt;/pre&gt;\r\n\r\nTechnically that could have been a compiler bug, implementation dependent, unspecified behaviour, or something. However, the JLS is pretty well nailed down and the compilers are good enough for this sort of simple thing (generics corner case may be a different matter).\r\n\r\nAlso note, if you swap around the two catch blocks, it wont compile. The second catch would be completely unreachable.\r\n\r\nNote the finally block always runs even if a catch block is executed (other than silly cases, such as infinite loops, attaching through the tools interface and killing the thread, rewriting bytecode, etc.).","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>No. It's very easy to check.</p>\n\n<pre><code>public class Catch {\n    public static void main(String[] args) {\n        try {\n            throw new java.io.IOException();\n        } catch (java.io.IOException exc) {\n            System.err.println(\"In catch IOException: \"+exc.getClass());\n            throw new RuntimeException();\n        } catch (Exception exc) {\n            System.err.println(\"In catch Exception: \"+exc.getClass());\n        } finally {\n            System.err.println(\"In finally\");\n        }\n    }\n}\n</code></pre>\n\n<p>Should print:</p>\n\n<pre>\nIn catch IOException: class java.io.IOException\nIn finally\nException in thread \"main\" java.lang.RuntimeException\n        at Catch.main(Catch.java:8)</pre>\n\n<p>Technically that could have been a compiler bug, implementation dependent, unspecified behaviour, or something. However, the JLS is pretty well nailed down and the compilers are good enough for this sort of simple thing (generics corner case may be a different matter).</p>\n\n<p>Also note, if you swap around the two catch blocks, it wont compile. The second catch would be completely unreachable.</p>\n\n<p>Note the finally block always runs even if a catch block is executed (other than silly cases, such as infinite loops, attaching through the tools interface and killing the thread, rewriting bytecode, etc.).</p>\n"},{"comments":[{"owner":{"account_id":3001464,"reputation":134,"user_id":2546891,"accept_rate":57,"display_name":"riroo"},"score":0,"creation_date":1493809604,"post_id":143674,"comment_id":74557674,"body_markdown":"I wrote a similar code. But I&#39;m not convinced. I want to call a Thread.sleep() in my catch block. But Thread.sleep throws itself an InterruptedException. Is it right (a best practice) to do it like you have shown in your example ?","body":"I wrote a similar code. But I&#39;m not convinced. I want to call a Thread.sleep() in my catch block. But Thread.sleep throws itself an InterruptedException. Is it right (a best practice) to do it like you have shown in your example ?"}],"tags":[],"owner":{"account_id":3591,"reputation":332937,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1222523615,"creation_date":1222523615,"answer_id":143674,"question_id":143622,"body_markdown":"It won&#39;t be caught by the second catch block. Each Exception is caught only when inside a try block. You can nest tries though (not that it&#39;s a good idea generally):\r\n\r\n    try {\r\n        doSomething();\r\n    } catch (IOException) {\r\n       try {\r\n           doSomething();\r\n       } catch (IOException e) {\r\n           throw new ApplicationException(&quot;Failed twice at doSomething&quot; +\r\n           e.toString());\r\n       }          \r\n    } catch (Exception e) {\r\n    }","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>It won't be caught by the second catch block. Each Exception is caught only when inside a try block. You can nest tries though (not that it's a good idea generally):</p>\n\n<pre><code>try {\n    doSomething();\n} catch (IOException) {\n   try {\n       doSomething();\n   } catch (IOException e) {\n       throw new ApplicationException(\"Failed twice at doSomething\" +\n       e.toString());\n   }          \n} catch (Exception e) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222553117,"creation_date":1222553117,"answer_id":144588,"question_id":143622,"body_markdown":"No, since the catches all refer to the same try block, so throwing from within a catch block would be caught by an enclosing try block (probably in the method that called this one) ","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>No, since the catches all refer to the same try block, so throwing from within a catch block would be caught by an enclosing try block (probably in the method that called this one) </p>\n"},{"comments":[{"owner":{"account_id":978905,"reputation":2840,"user_id":999165,"accept_rate":75,"display_name":"LAFK says reinstate Monica"},"score":0,"creation_date":1442444102,"post_id":144944,"comment_id":53090506,"body_markdown":"Just wanted to add that since Java 7 you may avoid that using `try`-with-resources. Then, if `try` AND `finally` both throw, `finally` is suppressed, but is also ADDED to exception from `try`. If `catch` throws as well, you&#39;re in no luck, unless you handle that yourself via &#39;addSuppressed&#39; and adding the `try` exception - then you have all three.","body":"Just wanted to add that since Java 7 you may avoid that using <code>try</code>-with-resources. Then, if <code>try</code> AND <code>finally</code> both throw, <code>finally</code> is suppressed, but is also ADDED to exception from <code>try</code>. If <code>catch</code> throws as well, you&#39;re in no luck, unless you handle that yourself via &#39;addSuppressed&#39; and adding the <code>try</code> exception - then you have all three."}],"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1222565311,"creation_date":1222565311,"answer_id":144944,"question_id":143622,"body_markdown":"The Java Language Specification says in section 14.19.1:\n\n&gt; If execution of the try block completes abruptly because of a throw of a value V, then there is a choice:\n&gt;\n&gt;    * If the run-time type of V is assignable to the Parameter of any catch clause of the try statement, then the first (leftmost) such catch clause is selected. The value V is assigned to the parameter of the selected catch clause, and the Block of that catch clause is executed. If that block completes normally, then the try statement completes normally; **if that block completes abruptly for any reason, then the try statement completes abruptly for the same reason.**\n\nReference:\nhttp://java.sun.com/docs/books/jls/second_edition/html/statements.doc.html#24134\n\nIn other words, the first enclosing catch that can handle the exception does, and if an exception is thrown out of that catch, that&#39;s not in the scope of any other catch for the original try, so they will not try to handle it.  \n\nOne related and confusing thing to know is that in a try-[catch]-finally structure, a finally block may throw an exception and if so, any exception thrown by the try or catch block is lost.  That can be confusing the first time you see it.\n\n\n","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>The Java Language Specification says in section 14.19.1:</p>\n<blockquote>\n<p>If execution of the try block completes abruptly because of a throw of a value V, then there is a choice:</p>\n<ul>\n<li>If the run-time type of V is assignable to the Parameter of any catch clause of the try statement, then the first (leftmost) such catch clause is selected. The value V is assigned to the parameter of the selected catch clause, and the Block of that catch clause is executed. If that block completes normally, then the try statement completes normally; <strong>if that block completes abruptly for any reason, then the try statement completes abruptly for the same reason.</strong></li>\n</ul>\n</blockquote>\n<p>Reference:\n<a href=\"http://java.sun.com/docs/books/jls/second_edition/html/statements.doc.html#24134\" rel=\"noreferrer\">http://java.sun.com/docs/books/jls/second_edition/html/statements.doc.html#24134</a></p>\n<p>In other words, the first enclosing catch that can handle the exception does, and if an exception is thrown out of that catch, that's not in the scope of any other catch for the original try, so they will not try to handle it.</p>\n<p>One related and confusing thing to know is that in a try-[catch]-finally structure, a finally block may throw an exception and if so, any exception thrown by the try or catch block is lost.  That can be confusing the first time you see it.</p>\n"},{"tags":[],"owner":{"account_id":936765,"reputation":429,"user_id":965571,"accept_rate":94,"display_name":"Mastergeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1371221571,"creation_date":1371221571,"answer_id":17111311,"question_id":143622,"body_markdown":"If you want to throw an exception from the catch block you must inform your method/class/etc. that it needs to throw said exception. Like so:\r\n\r\n    public void doStuff() throws MyException {\r\n        try {\r\n            //Stuff\r\n        } catch(StuffException e) {\r\n            throw new MyException();\r\n        }\r\n    }\r\n\r\nAnd now your compiler will not yell at you :)","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>If you want to throw an exception from the catch block you must inform your method/class/etc. that it needs to throw said exception. Like so:</p>\n\n<pre><code>public void doStuff() throws MyException {\n    try {\n        //Stuff\n    } catch(StuffException e) {\n        throw new MyException();\n    }\n}\n</code></pre>\n\n<p>And now your compiler will not yell at you :)</p>\n"},{"comments":[{"owner":{"account_id":1761903,"reputation":9788,"user_id":1608786,"accept_rate":92,"display_name":"Derek W"},"score":11,"creation_date":1413206674,"post_id":20308711,"comment_id":41344245,"body_markdown":"This should be a comment and not an answer. It provides nothing in the way of addressing the actual question - it is just a critique of the OPs question.","body":"This should be a comment and not an answer. It provides nothing in the way of addressing the actual question - it is just a critique of the OPs question."}],"tags":[],"owner":{"account_id":2677579,"reputation":1,"user_id":2324774,"display_name":"Ted K"},"comment_count":1,"down_vote_count":10,"up_vote_count":1,"is_accepted":false,"score":-9,"last_activity_date":1385873265,"creation_date":1385871893,"answer_id":20308711,"question_id":143622,"body_markdown":"Old post but &quot;e&quot; variable must be unique:\r\n\r\n    try {\r\n      // Do something\r\n    } catch(IOException ioE) {\r\n      throw new ApplicationException(&quot;Problem connecting to server&quot;);\r\n    } catch(Exception e) {\r\n      // Will the ApplicationException be caught here?\r\n    }\r\n\r\n","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>Old post but \"e\" variable must be unique:</p>\n\n<pre><code>try {\n  // Do something\n} catch(IOException ioE) {\n  throw new ApplicationException(\"Problem connecting to server\");\n} catch(Exception e) {\n  // Will the ApplicationException be caught here?\n}\n</code></pre>\n"}],"owner":{"account_id":216,"reputation":29742,"user_id":270,"accept_rate":78,"display_name":"roryf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292050,"favorite_count":0,"down_vote_count":2,"up_vote_count":251,"accepted_answer_id":143628,"answer_count":9,"score":249,"last_activity_date":1664910909,"creation_date":1222521051,"question_id":143622,"body_markdown":"This may seem like a programming 101 question and I had thought I knew the answer but now find myself needing to double check. In this piece of code below, will the exception thrown in the first catch block then be caught by the general Exception catch block below?\r\n\r\n    try {\r\n      // Do something\r\n    } catch(IOException e) {\r\n      throw new ApplicationException(&quot;Problem connecting to server&quot;);\r\n    } catch(Exception e) {\r\n      // Will the ApplicationException be caught here?\r\n    }\r\n\r\nI always thought the answer would be no, but now I have some odd behaviour that could be caused by this. The answer is probably the same for most languages but I&#39;m working in Java.","title":"Exception thrown inside catch block - will it be caught again?","body":"<p>This may seem like a programming 101 question and I had thought I knew the answer but now find myself needing to double check. In this piece of code below, will the exception thrown in the first catch block then be caught by the general Exception catch block below?</p>\n\n<pre><code>try {\n  // Do something\n} catch(IOException e) {\n  throw new ApplicationException(\"Problem connecting to server\");\n} catch(Exception e) {\n  // Will the ApplicationException be caught here?\n}\n</code></pre>\n\n<p>I always thought the answer would be no, but now I have some odd behaviour that could be caused by this. The answer is probably the same for most languages but I'm working in Java.</p>\n"},{"tags":["java","amazon-s3","aws-sdk-java-2.0","aws-sdk-java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631333821,"post_id":69138969,"comment_id":122199625,"body_markdown":"This is not Java 1 vs Java 2.  It is versions 1 and 2 of the AWS SDK for Java.  (For what it is worth, Java 1 and 2 were both obsolete 20 years ago.  Before AWS even existed.)","body":"This is not Java 1 vs Java 2.  It is versions 1 and 2 of the AWS SDK for Java.  (For what it is worth, Java 1 and 2 were both obsolete 20 years ago.  Before AWS even existed.)"},{"owner":{"account_id":4787038,"reputation":1,"user_id":3867198,"display_name":"user3867198"},"score":0,"creation_date":1631550374,"post_id":69138969,"comment_id":122246706,"body_markdown":"I agree @Stepehen C. Thank you for pointing this out - I have updated the question.","body":"I agree @Stepehen C. Thank you for pointing this out - I have updated the question."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665220006,"post_id":73952559,"comment_id":130652193,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73952559/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1665224928,"post_id":73952559,"comment_id":130653032,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/32868718)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/32868718\">From Review</a>"}],"tags":[],"owner":{"account_id":25518790,"reputation":1,"user_id":19309136,"display_name":"Soumya Naidu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664910458,"creation_date":1664910458,"answer_id":73952559,"question_id":69138969,"body_markdown":"[credentials][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hl1py.png\r\n\r\nThe above is how the credentials file should be defined. You are probably missing that first line. I guess one library expects the credentials file to be defined this way and one does not","title":"AWS ProfileCredentialProvides AWS SDK1 VS AWS SDK 2 JAVA","body":"<p><a href=\"https://i.stack.imgur.com/hl1py.png\" rel=\"nofollow noreferrer\">credentials</a></p>\n<p>The above is how the credentials file should be defined. You are probably missing that first line. I guess one library expects the credentials file to be defined this way and one does not</p>\n"}],"owner":{"account_id":4787038,"reputation":1,"user_id":3867198,"display_name":"user3867198"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664910458,"creation_date":1631317705,"question_id":69138969,"body_markdown":"Can someone please explain the difference between the two libraries below - \r\n\r\nI have two pieces of code, both trying to list s3 buckets in an account.\r\n\r\nJAVA 1 Library. that uses CredentialProvider from  [**com.amazonaws.auth.profile.ProfileCredentialsProvider**;][1]\r\n\r\n```\r\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new ProfileCredentialsProvider(&quot;default&quot;))\r\n                    .withRegion(&quot;us-east-1&quot;)\r\n                    .build();\r\n\r\n            System.out.println(&quot;Number of buckets: &quot; + s3Client.listBuckets().size());\r\n```\r\n\r\nJava 2 Library that uses CredentialProvider from\r\n\r\n[software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;][2]\r\n\r\n```\r\nS3Client s3Client = S3Client.builder()\r\n                   .credentialsProvider(ProfileCredentialsProvider.builder().profileName(&quot;default&quot;)\r\n                    .build())\r\n                    .region(Region.of(&quot;us-east-1&quot;))\r\n                    .build();\r\n            System.out.println(&quot;Number of buckets: &quot; + s3Client.listBuckets().buckets().size());\r\n```\r\nThe Java2 library invocation succeeds and I can see the number of buckets printing.\r\n\r\nThe Java 1 library when used, always fails to load the profile from the config.\r\n\r\nThe ENV variables are set. I get this below exception:\r\n```\r\njava.lang.IllegalArgumentException: No AWS profile named &#39;default&#39;\r\n\tat com.amazonaws.auth.profile.ProfilesConfigFile.getCredentials(ProfilesConfigFile.java:158)\r\n\tat com.amazonaws.auth.profile.ProfileCredentialsProvider.getCredentials(ProfileCredentialsProvider.java:161)\r\n\tat com.s3.test.TestS3.testRead(TestS3.java:12)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/profile/ProfileCredentialsProvider.html#ProfileCredentia[%E2%80%A6]ava.lang.String-\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/ProfileCredentialsProvider.html","title":"AWS ProfileCredentialProvides AWS SDK1 VS AWS SDK 2 JAVA","body":"<p>Can someone please explain the difference between the two libraries below -</p>\n<p>I have two pieces of code, both trying to list s3 buckets in an account.</p>\n<p>JAVA 1 Library. that uses CredentialProvider from  <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/profile/ProfileCredentialsProvider.html#ProfileCredentia%5B%E2%80%A6%5Dava.lang.String-\" rel=\"nofollow noreferrer\"><strong>com.amazonaws.auth.profile.ProfileCredentialsProvider</strong>;</a></p>\n<pre><code>            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                    .withCredentials(new ProfileCredentialsProvider(&quot;default&quot;))\n                    .withRegion(&quot;us-east-1&quot;)\n                    .build();\n\n            System.out.println(&quot;Number of buckets: &quot; + s3Client.listBuckets().size());\n</code></pre>\n<p>Java 2 Library that uses CredentialProvider from</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/auth/credentials/ProfileCredentialsProvider.html\" rel=\"nofollow noreferrer\">software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;</a></p>\n<pre><code>S3Client s3Client = S3Client.builder()\n                   .credentialsProvider(ProfileCredentialsProvider.builder().profileName(&quot;default&quot;)\n                    .build())\n                    .region(Region.of(&quot;us-east-1&quot;))\n                    .build();\n            System.out.println(&quot;Number of buckets: &quot; + s3Client.listBuckets().buckets().size());\n</code></pre>\n<p>The Java2 library invocation succeeds and I can see the number of buckets printing.</p>\n<p>The Java 1 library when used, always fails to load the profile from the config.</p>\n<p>The ENV variables are set. I get this below exception:</p>\n<pre><code>java.lang.IllegalArgumentException: No AWS profile named 'default'\n    at com.amazonaws.auth.profile.ProfilesConfigFile.getCredentials(ProfilesConfigFile.java:158)\n    at com.amazonaws.auth.profile.ProfileCredentialsProvider.getCredentials(ProfileCredentialsProvider.java:161)\n    at com.s3.test.TestS3.testRead(TestS3.java:12)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","junit","jndi"],"comments":[{"owner":{"account_id":1354733,"reputation":1146,"user_id":1293377,"display_name":"fGo"},"score":0,"creation_date":1371114494,"post_id":17083142,"comment_id":24708435,"body_markdown":"it really depends on your app server . any ways take a look at this http://www.codeproject.com/Articles/25741/EJB-3-0-Remote-Session-Bean-Lookup","body":"it really depends on your app server . any ways take a look at this <a href=\"http://www.codeproject.com/Articles/25741/EJB-3-0-Remote-Session-Bean-Lookup\" rel=\"nofollow noreferrer\">codeproject.com/Articles/25741/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2556648,"reputation":273,"user_id":2218466,"display_name":"ravichandra"},"score":0,"creation_date":1371118690,"post_id":17083737,"comment_id":24710645,"body_markdown":"Hi Mr Anderson.. i Just edited the testcode please give me suggestion","body":"Hi Mr Anderson.. i Just edited the testcode please give me suggestion"},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1371137064,"post_id":17083737,"comment_id":24721839,"body_markdown":"Your code isn&#39;t right. Compare it to Randy Carver&#39;s original code: https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit . You are doing a `createSubcontext` when you should be doing a `bind`. The exception message is hinting at that - you have created a `NamingContext` where you should have created a `DataSource`.","body":"Your code isn&#39;t right. Compare it to Randy Carver&#39;s original code: <a href=\"https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit\" rel=\"nofollow noreferrer\">blogs.oracle.com/randystuph/entry/&hellip;</a> . You are doing a <code>createSubcontext</code> when you should be doing a <code>bind</code>. The exception message is hinting at that - you have created a <code>NamingContext</code> where you should have created a <code>DataSource</code>."},{"owner":{"account_id":2556648,"reputation":273,"user_id":2218466,"display_name":"ravichandra"},"score":0,"creation_date":1371460661,"post_id":17083737,"comment_id":24813379,"body_markdown":"Hi Mr Anderson i dont know about JNDI .. so not getting what you suggesting me please help me to correct the code","body":"Hi Mr Anderson i dont know about JNDI .. so not getting what you suggesting me please help me to correct the code"},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":2,"creation_date":1371482515,"post_id":17083737,"comment_id":24826103,"body_markdown":"You should do two things. Firstly, learn the basics of JNDI, perhaps by reading the [JNDI trail of the Java tutorial](http://docs.oracle.com/javase/tutorial/jndi/index.html). How can you hope to do this work without understanding JNDI? Secondly, as i said, compare your code with [the original version of you have copied](https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit). There is a difference which you have added which is the cause of the problem.","body":"You should do two things. Firstly, learn the basics of JNDI, perhaps by reading the <a href=\"http://docs.oracle.com/javase/tutorial/jndi/index.html\" rel=\"nofollow noreferrer\">JNDI trail of the Java tutorial</a>. How can you hope to do this work without understanding JNDI? Secondly, as i said, compare your code with <a href=\"https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit\" rel=\"nofollow noreferrer\">the original version of you have copied</a>. There is a difference which you have added which is the cause of the problem."},{"owner":{"account_id":2556648,"reputation":273,"user_id":2218466,"display_name":"ravichandra"},"score":1,"creation_date":1371537550,"post_id":17083737,"comment_id":24845733,"body_markdown":"Hi Mr Anderson i corrected the testcode by comparing ...its working Thanks a lot.","body":"Hi Mr Anderson i corrected the testcode by comparing ...its working Thanks a lot."},{"owner":{"account_id":299790,"reputation":1494,"user_id":606583,"display_name":"soltysh"},"score":0,"creation_date":1384339010,"post_id":17083737,"comment_id":29693883,"body_markdown":"I think the same question is answered pretty clearly [here](http://stackoverflow.com/a/10047414/606583)","body":"I think the same question is answered pretty clearly <a href=\"http://stackoverflow.com/a/10047414/606583\">here</a>"},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1384345287,"post_id":17083737,"comment_id":29697393,"body_markdown":"@soltysh: That is indeed basically the same idea. My version has the sweet `TestRule`, though.","body":"@soltysh: That is indeed basically the same idea. My version has the sweet <code>TestRule</code>, though."},{"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"score":0,"creation_date":1506319774,"post_id":17083737,"comment_id":79754188,"body_markdown":"thank you @TomAnderson this was really very helpful.","body":"thank you @TomAnderson this was really very helpful."},{"owner":{"account_id":5676253,"reputation":1243,"user_id":4489295,"display_name":"TimeTraveler"},"score":0,"creation_date":1511892366,"post_id":17083737,"comment_id":82033199,"body_markdown":"why MockInitialContextRule constructor is private?","body":"why MockInitialContextRule constructor is private?"},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1511953883,"post_id":17083737,"comment_id":82059362,"body_markdown":"@TimeTraveler I think that&#39;s a mistake - i&#39;ll make it public. Thanks for catching it!","body":"@TimeTraveler I think that&#39;s a mistake - i&#39;ll make it public. Thanks for catching it!"}],"tags":[],"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":10,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1520455828,"creation_date":1371115997,"answer_id":17083737,"question_id":17083142,"body_markdown":"The orthodox thing to do here would be to change you code so that the `Context` is injected into it (by a dependency injection framework, or manually). Then, you simply pass in a mock in your unit test.\r\n\r\nIf you can&#39;t do this, and your code must create the `IntialContext` itself, then you will need to set up a fake JNDI implementation into which you can inject mocks. If you search the web for [in-memory JNDI implementation](http://meri-stuff.blogspot.ca/2012/01/running-jndi-and-jpa-without-j2ee.html) or [mock JNDI implementation](https://theholyjava.wordpress.com/2010/05/05/mocking-out-ldapjndi-in-unit-tests/), you will find various options, or you could write one yourself. Basically, you will need an implementation of `InitialContextFactory` which simply returns a suitable mock, which you then select by setting the `java.naming.factory.initial` system property.\r\n\r\nI had a crack at writing the necessary classes. Here you go:\r\n\r\n    public class MockInitialContextFactory implements InitialContextFactory {\r\n        \r\n        private static final ThreadLocal&lt;Context&gt; currentContext = new ThreadLocal&lt;Context&gt;();\r\n        \r\n        @Override\r\n        public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n            return currentContext.get();\r\n        }\r\n        \r\n        public static void setCurrentContext(Context context) {\r\n            currentContext.set(context);\r\n        }\r\n        \r\n        public static void clearCurrentContext() {\r\n            currentContext.remove();\r\n        }\r\n        \r\n    }\r\n    \r\n    public class MockInitialContextRule implements TestRule {\r\n        \r\n        private final Context context;\r\n        \r\n        public MockInitialContextRule(Context context) {\r\n            this.context = context;\r\n        }\r\n        \r\n        @Override\r\n        public Statement apply(final Statement base, Description description) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n                    System.setProperty(Context.INITIAL_CONTEXT_FACTORY, MockInitialContextFactory.class.getName());\r\n                    MockInitialContextFactory.setCurrentContext(context);\r\n                    try {\r\n                        base.evaluate();\r\n                    } finally {\r\n                        System.clearProperty(Context.INITIAL_CONTEXT_FACTORY);\r\n                        MockInitialContextFactory.clearCurrentContext();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nUse as follows:\r\n\r\n    public class FooTest {\r\n        \r\n        private final Context context = mock(Context.class);\r\n        \r\n        @Rule\r\n        public MockInitialContextRule mockInitialContextRule = new MockInitialContextRule(context);\r\n        \r\n        @Test\r\n        public void testName() throws Exception {\r\n            // set up stubbings on the context mock\r\n            // invoke the code under test\r\n        }\r\n    }\r\n","title":"Junit Testing JNDI InitialContext outside the application server","body":"<p>The orthodox thing to do here would be to change you code so that the <code>Context</code> is injected into it (by a dependency injection framework, or manually). Then, you simply pass in a mock in your unit test.</p>\n\n<p>If you can't do this, and your code must create the <code>IntialContext</code> itself, then you will need to set up a fake JNDI implementation into which you can inject mocks. If you search the web for <a href=\"http://meri-stuff.blogspot.ca/2012/01/running-jndi-and-jpa-without-j2ee.html\" rel=\"noreferrer\">in-memory JNDI implementation</a> or <a href=\"https://theholyjava.wordpress.com/2010/05/05/mocking-out-ldapjndi-in-unit-tests/\" rel=\"noreferrer\">mock JNDI implementation</a>, you will find various options, or you could write one yourself. Basically, you will need an implementation of <code>InitialContextFactory</code> which simply returns a suitable mock, which you then select by setting the <code>java.naming.factory.initial</code> system property.</p>\n\n<p>I had a crack at writing the necessary classes. Here you go:</p>\n\n<pre><code>public class MockInitialContextFactory implements InitialContextFactory {\n\n    private static final ThreadLocal&lt;Context&gt; currentContext = new ThreadLocal&lt;Context&gt;();\n\n    @Override\n    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n        return currentContext.get();\n    }\n\n    public static void setCurrentContext(Context context) {\n        currentContext.set(context);\n    }\n\n    public static void clearCurrentContext() {\n        currentContext.remove();\n    }\n\n}\n\npublic class MockInitialContextRule implements TestRule {\n\n    private final Context context;\n\n    public MockInitialContextRule(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    public Statement apply(final Statement base, Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                System.setProperty(Context.INITIAL_CONTEXT_FACTORY, MockInitialContextFactory.class.getName());\n                MockInitialContextFactory.setCurrentContext(context);\n                try {\n                    base.evaluate();\n                } finally {\n                    System.clearProperty(Context.INITIAL_CONTEXT_FACTORY);\n                    MockInitialContextFactory.clearCurrentContext();\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Use as follows:</p>\n\n<pre><code>public class FooTest {\n\n    private final Context context = mock(Context.class);\n\n    @Rule\n    public MockInitialContextRule mockInitialContextRule = new MockInitialContextRule(context);\n\n    @Test\n    public void testName() throws Exception {\n        // set up stubbings on the context mock\n        // invoke the code under test\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1444738244,"creation_date":1444738244,"answer_id":33102380,"question_id":17083142,"body_markdown":"You can use the Spring implementation, it works like this:\r\n\r\n    import org.springframework.mock.jndi.SimpleNamingContextBuilder;\r\n    \r\n    [...]\r\n    \r\n    SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\r\n    builder.bind(&quot;jdbc/myDataSource&quot;, myDS);\r\n    builder.activate();","title":"Junit Testing JNDI InitialContext outside the application server","body":"<p>You can use the Spring implementation, it works like this:</p>\n\n<pre><code>import org.springframework.mock.jndi.SimpleNamingContextBuilder;\n\n[...]\n\nSimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\nbuilder.bind(\"jdbc/myDataSource\", myDS);\nbuilder.activate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"score":0,"creation_date":1545876454,"post_id":42039790,"comment_id":94717714,"body_markdown":"If you&#39;re using Tomcat as your container and doing all this to try and test some code you normally run in Tomcat, check out TomcatJNDI that Simple-JNDI points to.","body":"If you&#39;re using Tomcat as your container and doing all this to try and test some code you normally run in Tomcat, check out TomcatJNDI that Simple-JNDI points to."}],"tags":[],"owner":{"account_id":8897426,"reputation":764,"user_id":6641978,"display_name":"Holger Thurow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488177198,"creation_date":1486207475,"answer_id":42039790,"question_id":17083142,"body_markdown":"This is easily done with Simple-JNDI. Create a property file &quot;jdbc/multiDS.properties&quot; in your working directory to configure your datasource with these properties:\r\n\r\n    type=javax.sql.DataSource\r\n    driver=org.gjt.mm.mysql.Driver\r\n    url=jdbc:mysql://localhost/testdb\r\n    user=testuser\r\n    password=testing\r\n\r\nThen instantiate the context with\r\n\r\n    final Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\r\n    env.put(&quot;org.osjava.sj.root&quot;, &quot;working_dir&quot;);\r\n    env.put(&quot;org.osjava.sj.jndi.shared&quot;, &quot;true&quot;);\r\n    env.put(&quot;java.naming.factory.initial&quot;, &quot;org.osjava.sj.SimpleContextFactory&quot;);\r\n    env.put(&quot;org.osjava.sj.delimiter&quot;, &quot;/&quot;);\r\n    env.put(&quot;org.osjava.sj.space&quot;, &quot;java:comp/env&quot;)\r\n    Context ctx = new InitialContext(env);\r\n\r\nAfter that you can call\r\n\r\n    dataSource = (DataSource) context.lookup(&quot;java:comp/env/jdbc/multiDS&quot;);\r\n\r\nFind more info about Simple-JNDI here https://github.com/h-thurow/Simple-JNDI","title":"Junit Testing JNDI InitialContext outside the application server","body":"<p>This is easily done with Simple-JNDI. Create a property file \"jdbc/multiDS.properties\" in your working directory to configure your datasource with these properties:</p>\n\n<pre><code>type=javax.sql.DataSource\ndriver=org.gjt.mm.mysql.Driver\nurl=jdbc:mysql://localhost/testdb\nuser=testuser\npassword=testing\n</code></pre>\n\n<p>Then instantiate the context with</p>\n\n<pre><code>final Hashtable&lt;String, String&gt; env = new Hashtable&lt;String, String&gt;();\nenv.put(\"org.osjava.sj.root\", \"working_dir\");\nenv.put(\"org.osjava.sj.jndi.shared\", \"true\");\nenv.put(\"java.naming.factory.initial\", \"org.osjava.sj.SimpleContextFactory\");\nenv.put(\"org.osjava.sj.delimiter\", \"/\");\nenv.put(\"org.osjava.sj.space\", \"java:comp/env\")\nContext ctx = new InitialContext(env);\n</code></pre>\n\n<p>After that you can call</p>\n\n<pre><code>dataSource = (DataSource) context.lookup(\"java:comp/env/jdbc/multiDS\");\n</code></pre>\n\n<p>Find more info about Simple-JNDI here <a href=\"https://github.com/h-thurow/Simple-JNDI\" rel=\"nofollow noreferrer\">https://github.com/h-thurow/Simple-JNDI</a></p>\n"},{"tags":[],"owner":{"account_id":3092,"reputation":2609,"user_id":4389,"accept_rate":75,"display_name":"Steve Bosman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648048955,"creation_date":1648048955,"answer_id":71589797,"question_id":17083142,"body_markdown":"I had problems using the suggested solutions on a legacy system I am adding tests to, but I have found that using Mockito.mockConstruction can be a simple approach:\r\n\r\n    public class FooTest {\r\n      private final Context mockContext = mock(Context.class);\r\n\r\n      @Test\r\n      public void myTest()\r\n          throws NamingException {\r\n\r\n        try (final MockedConstruction&lt;InitialContext&gt; ignored = \r\n                   mockConstruction(InitialContext.class,\r\n                   (mock, context) -&gt; \r\n                        when(mock.lookup(&quot;java:comp/env&quot;))\r\n                        .thenReturn(mockContext)) {\r\n        // Given\r\n        when(mockContext.lookup(&quot;environmentEntry&quot;))\r\n            .thenReturn(desiredResult);\r\n        ...\r\n      }\r\n    }","title":"Junit Testing JNDI InitialContext outside the application server","body":"<p>I had problems using the suggested solutions on a legacy system I am adding tests to, but I have found that using Mockito.mockConstruction can be a simple approach:</p>\n<pre><code>public class FooTest {\n  private final Context mockContext = mock(Context.class);\n\n  @Test\n  public void myTest()\n      throws NamingException {\n\n    try (final MockedConstruction&lt;InitialContext&gt; ignored = \n               mockConstruction(InitialContext.class,\n               (mock, context) -&gt; \n                    when(mock.lookup(&quot;java:comp/env&quot;))\n                    .thenReturn(mockContext)) {\n    // Given\n    when(mockContext.lookup(&quot;environmentEntry&quot;))\n        .thenReturn(desiredResult);\n    ...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2556648,"reputation":273,"user_id":2218466,"display_name":"ravichandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37568,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":17083737,"answer_count":4,"score":27,"last_activity_date":1664910236,"creation_date":1371114226,"question_id":17083142,"body_markdown":"    Context context = new InitialContext();\r\n    dataSource = (DataSource) context.lookup(&quot;java:comp/env/jdbc/multiDS&quot;);\r\n    connection = dataSource.getConnection();\r\n\r\nPlease help me to mock the above code.\r\n\r\n\r\nHi Tom Anderson \r\n\r\nI tried the below code \r\n\r\n\t @BeforeClass\r\n\t public static void setUpClass() throws Exception {\r\n\t        // rcarver - setup the jndi context and the datasource\r\n\t        try {\r\n\t            // Create initial context\r\n\t            System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\r\n\t                &quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n\t            System.setProperty(Context.URL_PKG_PREFIXES, \r\n\t                &quot;org.apache.naming&quot;);            \r\n\t            Context ic = new InitialContext();\r\n\r\n\t            ic.createSubcontext(&quot;java:&quot;);\r\n\t            ic.createSubcontext(&quot;java:comp&quot;);\r\n\t            ic.createSubcontext(&quot;java:comp/env&quot;);\r\n\t            ic.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n\t            ic.createSubcontext(&quot;java:comp/env/jdbc/multiDS&quot;);\r\n\t            // Construct DataSource\r\n\t            OracleConnectionPoolDataSource ds = new OracleConnectionPoolDataSource();\r\n\t            ds.setURL(&quot;jdbc:oracle:thin:@g9u0696.houston.hp.com:1525:CRNAD&quot;);\r\n\t            ds.setUser(&quot;uname&quot;);\r\n\t            ds.setPassword(&quot;pwd&quot;);\r\n\t        } catch (NamingException ex) {\r\n\t        \tex.printStackTrace();\r\n\t        }\r\n\t }\r\n\r\nBut its giving error as:\r\n\r\n    com.hp.corona.common.exception.CacheException: org.apache.naming.NamingContext cannot be cast to javax.sql.DataSource\r\n\r\nPlease help me to test the code i just want **connection** from JNDI datasource\r\n","title":"Junit Testing JNDI InitialContext outside the application server","body":"<pre><code>Context context = new InitialContext();\ndataSource = (DataSource) context.lookup(\"java:comp/env/jdbc/multiDS\");\nconnection = dataSource.getConnection();\n</code></pre>\n\n<p>Please help me to mock the above code.</p>\n\n<p>Hi Tom Anderson </p>\n\n<p>I tried the below code </p>\n\n<pre><code> @BeforeClass\n public static void setUpClass() throws Exception {\n        // rcarver - setup the jndi context and the datasource\n        try {\n            // Create initial context\n            System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\n                \"org.apache.naming.java.javaURLContextFactory\");\n            System.setProperty(Context.URL_PKG_PREFIXES, \n                \"org.apache.naming\");            \n            Context ic = new InitialContext();\n\n            ic.createSubcontext(\"java:\");\n            ic.createSubcontext(\"java:comp\");\n            ic.createSubcontext(\"java:comp/env\");\n            ic.createSubcontext(\"java:comp/env/jdbc\");\n            ic.createSubcontext(\"java:comp/env/jdbc/multiDS\");\n            // Construct DataSource\n            OracleConnectionPoolDataSource ds = new OracleConnectionPoolDataSource();\n            ds.setURL(\"jdbc:oracle:thin:@g9u0696.houston.hp.com:1525:CRNAD\");\n            ds.setUser(\"uname\");\n            ds.setPassword(\"pwd\");\n        } catch (NamingException ex) {\n            ex.printStackTrace();\n        }\n }\n</code></pre>\n\n<p>But its giving error as:</p>\n\n<pre><code>com.hp.corona.common.exception.CacheException: org.apache.naming.NamingContext cannot be cast to javax.sql.DataSource\n</code></pre>\n\n<p>Please help me to test the code i just want <strong>connection</strong> from JNDI datasource</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"owner":{"account_id":10469593,"reputation":74,"user_id":7911017,"display_name":"Pavlo Kuchereshko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664910058,"creation_date":1664910058,"question_id":73952496,"body_markdown":"I have the following set of dependent objects I need to convert to the Spring beans and remove `new` operations from each constructor:\r\n\r\n    public class ServiceAlphaImpl implements ServiceAlpha {\r\n      private final Platform platform;\r\n      private final ServiceBeta serviceBeta;\r\n    \r\n      public ServiceAlphaImpl(final Platform platform) {\r\n        this.platform = platform;\r\n        this.serviceBeta = new ServiceBetaImpl(platform);\r\n      }\r\n\r\n      // some logic\r\n    }\r\n\r\n    public class ServiceBetaImpl implements ServiceBeta {\r\n      private final Platform platform;\r\n      private final ServiceGamma serviceGamma;\r\n    \r\n      public ServiceBetaImpl(final Platform platform) {\r\n        this.platform = platform;\r\n        this.serviceGamma = new ServiceGammaImpl(platform);\r\n      }\r\n\r\n      // some logic\r\n    }\r\n\r\n    public class ServiceGammaImpl implements ServiceGamma {\r\n      private final Platform platform;\r\n    \r\n      public ServiceGammaImpl(final Platform platform) {\r\n        this.platform = platform;\r\n      }\r\n\r\n      // some logic\r\n    }\r\n\r\nThe object of type `Platform` is **not** a bean, so I suppose I need to have those services dependent on Platform to be a prototype scoped, e.a. for each Platform object I would dynamically in runtime create a service. How can I get the bean of `ServiceAlpha` type with properly initialized nested prototypes with the same Platform object by doing simply `applicationContext.getBean(ServiceAlpha.class, new Platform(&quot;OMEGA&quot;))` or using some factory and having something like this at the end:\r\n\r\n    @Service\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class ServiceAlphaImpl implements ServiceAlpha {\r\n      private final Platform platform;\r\n      private final ServiceBeta serviceBeta;\r\n\r\n      // some logic\r\n    }\r\n\r\n    @Service\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class ServiceBetaImpl implements ServiceBeta {\r\n      private final Platform platform;\r\n      private final ServiceGamma serviceGamma;\r\n\r\n      // some logic\r\n    }\r\n\r\n    @Service\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public class ServiceGammaImpl implements ServiceGamma {\r\n      private final Platform platform;\r\n\r\n      // some logic\r\n    }\r\n\r\nI would be glad also to know suggestions on the restructuring of the current hierarchy.","title":"Spring Prototype bean with nested prototype beans","body":"<p>I have the following set of dependent objects I need to convert to the Spring beans and remove <code>new</code> operations from each constructor:</p>\n<pre><code>public class ServiceAlphaImpl implements ServiceAlpha {\n  private final Platform platform;\n  private final ServiceBeta serviceBeta;\n\n  public ServiceAlphaImpl(final Platform platform) {\n    this.platform = platform;\n    this.serviceBeta = new ServiceBetaImpl(platform);\n  }\n\n  // some logic\n}\n\npublic class ServiceBetaImpl implements ServiceBeta {\n  private final Platform platform;\n  private final ServiceGamma serviceGamma;\n\n  public ServiceBetaImpl(final Platform platform) {\n    this.platform = platform;\n    this.serviceGamma = new ServiceGammaImpl(platform);\n  }\n\n  // some logic\n}\n\npublic class ServiceGammaImpl implements ServiceGamma {\n  private final Platform platform;\n\n  public ServiceGammaImpl(final Platform platform) {\n    this.platform = platform;\n  }\n\n  // some logic\n}\n</code></pre>\n<p>The object of type <code>Platform</code> is <strong>not</strong> a bean, so I suppose I need to have those services dependent on Platform to be a prototype scoped, e.a. for each Platform object I would dynamically in runtime create a service. How can I get the bean of <code>ServiceAlpha</code> type with properly initialized nested prototypes with the same Platform object by doing simply <code>applicationContext.getBean(ServiceAlpha.class, new Platform(&quot;OMEGA&quot;))</code> or using some factory and having something like this at the end:</p>\n<pre><code>@Service\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class ServiceAlphaImpl implements ServiceAlpha {\n  private final Platform platform;\n  private final ServiceBeta serviceBeta;\n\n  // some logic\n}\n\n@Service\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class ServiceBetaImpl implements ServiceBeta {\n  private final Platform platform;\n  private final ServiceGamma serviceGamma;\n\n  // some logic\n}\n\n@Service\n@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic class ServiceGammaImpl implements ServiceGamma {\n  private final Platform platform;\n\n  // some logic\n}\n</code></pre>\n<p>I would be glad also to know suggestions on the restructuring of the current hierarchy.</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":22478656,"reputation":53,"user_id":18235324,"display_name":"NumericPrime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664910009,"creation_date":1664910009,"answer_id":73952486,"question_id":73952485,"body_markdown":"It is actually possible! Processing has two weakpoints one can exploit!&lt;br&gt;\r\nHere is the code that works in Processing 4 &amp; 3:&lt;br&gt;\r\n```java\r\nimport processing.awt.*;\r\nimport processing.opengl.*;\r\nimport processing.core.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.*;\r\nimport java.lang.reflect.*;\r\n\r\nimport sun.misc.*;\r\n/**This class finds the active PApplet (Processing program)\r\n @author NumericPrime*/\r\npublic class PAppletFinder {\r\n  /**Unsafe instance used*/\r\n  public static Unsafe unsafe=null;\r\n  /**Unsafe Field offset*/\r\n  public static long fieldIndex=0;\r\n  /**Target field of the thread*/\r\n  public static Field threadTargField=null;\r\n  /**Here the three Fields unsafe,fieldIndex, threadTargField are initalized*/\r\n  static {\r\n    try {\r\n      Field f2=Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n      f2.setAccessible(true);\r\n      unsafe=(Unsafe) f2.get(null);\r\n      //System.out.println(&quot;Unsafe instance: &quot;+unsafe.toString());\r\n      threadTargField=Thread.class.getDeclaredField(&quot;target&quot;);\r\n      fieldIndex=unsafe.objectFieldOffset(threadTargField);\r\n    }\r\n    catch(Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n  /**Getter-Method used to detect all PApplets. If the detection hasn&#39;t run yet this method will run it.\r\n   @param refresh if true: redetects all PApplets\r\n   @return all detected PApplets*/\r\n  public static PApplet[] getPApplets(boolean refresh) {\r\n    int allfpSize=0;\r\n    if (refresh) allFoundPapplets.clear();\r\n    if ((allfpSize=allFoundPapplets.size())==0) findAll();\r\n    return allFoundPapplets.toArray(new PApplet[allfpSize]);\r\n  }\r\n  /**All results will be saved here*/\r\n  public static java.util.List&lt;PApplet&gt; allFoundPapplets=new LinkedList&lt;PApplet&gt;();\r\n  /**This class takes the contents of the window and pieces together the PApplet\r\n   * @return PApplet of the current sketch.\r\n   * @param c contents of the Processing window (must be a SmoothCanvas)*/\r\n  public static void get(Component c) {\r\n    //System.out.println(&quot;Processing Window content&quot;);\r\n    PSurfaceAWT.SmoothCanvas sc=(PSurfaceAWT.SmoothCanvas) c;\r\n    try {\r\n      //gets the PSurface for the PApplet\r\n      PSurfaceAWT psa=(PSurfaceAWT) get(sc, &quot;this$0&quot;, sc.getClass());\r\n      //gets the PApplet\r\n      PApplet prg=(PApplet) get((PSurfaceNone)psa, &quot;sketch&quot;, PSurfaceNone.class);\r\n      allFoundPapplets.add(prg);\r\n    }\r\n    catch(Exception e) {\r\n      //System.err.println(&quot;Something went wrong&quot;);\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n  /**This method tries to detect all PApplet used*/\r\n  public static void findAll() {\r\n    findFromWindow();\r\n    fromThreads();\r\n    //System.out.println(&quot;Detection done&quot;);\r\n  }\r\n\r\n  /**This looks out for processing-windows and gives the contents of the right one to the get method*/\r\n  public static void findFromWindow() {\r\n    //System.out.println(&quot;Searching Windows for instances&quot;);\r\n    JFrame mainWindow=null;\r\n    java.awt.Window win[]=java.awt.Window.getWindows();\r\n    for (int i=0; i&lt;win.length; i++) if (win[i] instanceof JFrame) {\r\n      mainWindow=(JFrame) win[i];\r\n      Component c=mainWindow.getContentPane().getComponents()[0];\r\n      if (c instanceof PSurfaceAWT.SmoothCanvas) get(c);\r\n    }\r\n  }\r\n  /**This is used to get the value of fields\r\n   * @return Object value of a field\r\n   * @param j the Object from which the value is taken\r\n   * @param target name of the field\r\n   * @param ref class the field is taken from*/\r\n  public static Object get(Object j, String target, Class&lt;?&gt; ref) {\r\n    try {\r\n      Field f=ref.getDeclaredField(target);\r\n      f.setAccessible(true);\r\n      return f.get(j);\r\n    } \r\n    catch (Exception e) {\r\n      e.printStackTrace();\r\n    } \r\n    return null;\r\n  }\r\n  /** When using P2D or P3D everything is built differently however there is a weakness to be found in \r\n    * PSurfaceJOGL as it dispatches a Thread using an annonymous inner class as Runnable*/\r\n  public static void fromThreads() {\r\n    //System.out.println(&quot;Searching Threads for instances&quot;);\r\n    //This fetches all threads\r\n    Set&lt;Thread&gt; threadSet=Thread.getAllStackTraces().keySet();\r\n    //It iterates upon the threads to find ones dispatched by PSurfaceJOGL\r\n    for (Thread th : threadSet) {\r\n    iteration:\r\n      {\r\n        try {\r\n          //Field f=th.getClass().getDeclaredField(&quot;target&quot;);\r\n          //f.setAccessible(true);\r\n          Object currinstance=null;\r\n          \r\n          //Here Unsafe is used to breach encapsulation of java.lang\r\n          currinstance=unsafe.getObject(th, fieldIndex);\r\n          if (!currinstance.getClass().toString().contains(&quot;PSurfaceJOGL$&quot;)) break iteration;\r\n          //System.out.println(&quot;Weak spot found! &quot;+th.getName());\r\n          //gets the PSurfaceJOGL\r\n          currinstance=getEnclosingInstance(currinstance);\r\n          //gets the PApplet\r\n          Field f=PSurfaceJOGL.class.getDeclaredField(&quot;sketch&quot;);\r\n          f.setAccessible(true);\r\n          allFoundPapplets.add((PApplet) (currinstance=f.get(currinstance)));\r\n          //System.out.println(&quot;Detection successful&quot;);\r\n        }\r\n        catch(Exception e) \r\n        {\r\n        catchBlock:\r\n          {\r\n            if (e instanceof NoSuchFieldException||e instanceof NullPointerException) {\r\n              //System.err.println(&quot;target not found &quot;+th.getName());\r\n              //A NullPointerException may occur\r\n              break catchBlock;\r\n            }\r\n            //System.err.println(&quot;Something went wrong!&quot;);\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //This will try to get the enclosing instance of an object (this can also be a lambda)\r\n  public static Object getEnclosingInstance(Object o) {\r\n    //This code will work for Processing 3 (uses annonymous inner classes)\r\n    try {\r\n      Class&lt;?&gt; classused=o.getClass();\r\n      Field this0=classused.getDeclaredField(&quot;this$0&quot;);\r\n      this0.setAccessible(true);\r\n      return this0.get(o);\r\n    }\r\n    catch(Exception e) {\r\n      //System.err.println(&quot;Can&#39;t find enclosing instance of Object, trying to use Lambdas... (To be expected with Processing 4)&quot;);\r\n    }\r\n    //This code should work for Processing 4 (lambdas are used instead of inner classes, Lambdas use arg$1 instead this$0) \r\n    try {\r\n      Class&lt;?&gt; classused=o.getClass();\r\n      Field this0=classused.getDeclaredField(&quot;arg$1&quot;);\r\n      this0.setAccessible(true);\r\n      return this0.get(o);\r\n    }\r\n    catch(Exception e) {\r\n      //System.err.println(&quot;Detection Failed!&quot;);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nWhy does this code work?&lt;br&gt;\r\nAs mentioned Processing 3 and 4 share two weakpoints. The first is exclusive to JAVA2D and the second exclusive to P2D and P3D:&lt;br&gt;\r\nThe JAVA2D weakpoint:&lt;br&gt;\r\nThere is a method in java.awt.Window that fetches all active instances of every subclass of itself: `java.awt.Window.getWindows();`&lt;br&gt;\r\nThis includes JFrames wich are used by Processing. In fact Processing uses a custom Component of the class PSurfaceAWT.SmoothCanvas that paints all the things done in Processing. From that point one only has to retrieve the enclosing instance and get it&#39;s sketch field.&lt;br&gt;&lt;br&gt;\r\nWeakpoint for P2D and P3D&lt;br&gt;\r\nThe second Weakpoint lies in PSurfaceJOGL https://github.com/processing/processing4/blob/main/core/src/processing/opengl/PSurfaceJOGL.java#L399-L417\r\nAt this point a thread is dispatched using a Runnable implemented via lambda. At line 405 this lambda uses drawException a field of PSurfaceJOGL. In doing so the lambda will hold a reference to its enclosing instance one can access.&lt;br&gt;\r\nBut how can we access the Runnable in the first place?&lt;br&gt;\r\nIn Java versions below 17 one just could use reflection to do that. However since Java 17 java.lang is encapsulated and Processing doesn&#39;t allow adding custom command-line args to open java.lang up!&lt;br&gt;\r\nThe answer to this problem is sun.misc.Unsafe&lt;br&gt;\r\nThis class doesn&#39;t care for encapsulation and can help get the field value.&lt;br&gt;\r\nThis does have on ugly side effect though: Using any SecurityManager will blow this class up!&lt;br&gt;\r\nLuckily Processing doesn&#39;t have a SecurityManager by default so I can use Unsafe to get the target field from java.lang.Thread. From there I need to grab its enclosing instance and can fetch the sketch field from there!\r\n\r\nIf it&#39;s requested I can post much simpler code (not using Unsafe) (but only works for Processing 3).","title":"Getting the current instance of the PApplet in Processing","body":"<p>It is actually possible! Processing has two weakpoints one can exploit!<br>\nHere is the code that works in Processing 4 &amp; 3:<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>import processing.awt.*;\nimport processing.opengl.*;\nimport processing.core.*;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.*;\nimport java.lang.reflect.*;\n\nimport sun.misc.*;\n/**This class finds the active PApplet (Processing program)\n @author NumericPrime*/\npublic class PAppletFinder {\n  /**Unsafe instance used*/\n  public static Unsafe unsafe=null;\n  /**Unsafe Field offset*/\n  public static long fieldIndex=0;\n  /**Target field of the thread*/\n  public static Field threadTargField=null;\n  /**Here the three Fields unsafe,fieldIndex, threadTargField are initalized*/\n  static {\n    try {\n      Field f2=Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n      f2.setAccessible(true);\n      unsafe=(Unsafe) f2.get(null);\n      //System.out.println(&quot;Unsafe instance: &quot;+unsafe.toString());\n      threadTargField=Thread.class.getDeclaredField(&quot;target&quot;);\n      fieldIndex=unsafe.objectFieldOffset(threadTargField);\n    }\n    catch(Exception e) {\n      e.printStackTrace();\n    }\n  }\n  /**Getter-Method used to detect all PApplets. If the detection hasn't run yet this method will run it.\n   @param refresh if true: redetects all PApplets\n   @return all detected PApplets*/\n  public static PApplet[] getPApplets(boolean refresh) {\n    int allfpSize=0;\n    if (refresh) allFoundPapplets.clear();\n    if ((allfpSize=allFoundPapplets.size())==0) findAll();\n    return allFoundPapplets.toArray(new PApplet[allfpSize]);\n  }\n  /**All results will be saved here*/\n  public static java.util.List&lt;PApplet&gt; allFoundPapplets=new LinkedList&lt;PApplet&gt;();\n  /**This class takes the contents of the window and pieces together the PApplet\n   * @return PApplet of the current sketch.\n   * @param c contents of the Processing window (must be a SmoothCanvas)*/\n  public static void get(Component c) {\n    //System.out.println(&quot;Processing Window content&quot;);\n    PSurfaceAWT.SmoothCanvas sc=(PSurfaceAWT.SmoothCanvas) c;\n    try {\n      //gets the PSurface for the PApplet\n      PSurfaceAWT psa=(PSurfaceAWT) get(sc, &quot;this$0&quot;, sc.getClass());\n      //gets the PApplet\n      PApplet prg=(PApplet) get((PSurfaceNone)psa, &quot;sketch&quot;, PSurfaceNone.class);\n      allFoundPapplets.add(prg);\n    }\n    catch(Exception e) {\n      //System.err.println(&quot;Something went wrong&quot;);\n      e.printStackTrace();\n    }\n  }\n  /**This method tries to detect all PApplet used*/\n  public static void findAll() {\n    findFromWindow();\n    fromThreads();\n    //System.out.println(&quot;Detection done&quot;);\n  }\n\n  /**This looks out for processing-windows and gives the contents of the right one to the get method*/\n  public static void findFromWindow() {\n    //System.out.println(&quot;Searching Windows for instances&quot;);\n    JFrame mainWindow=null;\n    java.awt.Window win[]=java.awt.Window.getWindows();\n    for (int i=0; i&lt;win.length; i++) if (win[i] instanceof JFrame) {\n      mainWindow=(JFrame) win[i];\n      Component c=mainWindow.getContentPane().getComponents()[0];\n      if (c instanceof PSurfaceAWT.SmoothCanvas) get(c);\n    }\n  }\n  /**This is used to get the value of fields\n   * @return Object value of a field\n   * @param j the Object from which the value is taken\n   * @param target name of the field\n   * @param ref class the field is taken from*/\n  public static Object get(Object j, String target, Class&lt;?&gt; ref) {\n    try {\n      Field f=ref.getDeclaredField(target);\n      f.setAccessible(true);\n      return f.get(j);\n    } \n    catch (Exception e) {\n      e.printStackTrace();\n    } \n    return null;\n  }\n  /** When using P2D or P3D everything is built differently however there is a weakness to be found in \n    * PSurfaceJOGL as it dispatches a Thread using an annonymous inner class as Runnable*/\n  public static void fromThreads() {\n    //System.out.println(&quot;Searching Threads for instances&quot;);\n    //This fetches all threads\n    Set&lt;Thread&gt; threadSet=Thread.getAllStackTraces().keySet();\n    //It iterates upon the threads to find ones dispatched by PSurfaceJOGL\n    for (Thread th : threadSet) {\n    iteration:\n      {\n        try {\n          //Field f=th.getClass().getDeclaredField(&quot;target&quot;);\n          //f.setAccessible(true);\n          Object currinstance=null;\n          \n          //Here Unsafe is used to breach encapsulation of java.lang\n          currinstance=unsafe.getObject(th, fieldIndex);\n          if (!currinstance.getClass().toString().contains(&quot;PSurfaceJOGL$&quot;)) break iteration;\n          //System.out.println(&quot;Weak spot found! &quot;+th.getName());\n          //gets the PSurfaceJOGL\n          currinstance=getEnclosingInstance(currinstance);\n          //gets the PApplet\n          Field f=PSurfaceJOGL.class.getDeclaredField(&quot;sketch&quot;);\n          f.setAccessible(true);\n          allFoundPapplets.add((PApplet) (currinstance=f.get(currinstance)));\n          //System.out.println(&quot;Detection successful&quot;);\n        }\n        catch(Exception e) \n        {\n        catchBlock:\n          {\n            if (e instanceof NoSuchFieldException||e instanceof NullPointerException) {\n              //System.err.println(&quot;target not found &quot;+th.getName());\n              //A NullPointerException may occur\n              break catchBlock;\n            }\n            //System.err.println(&quot;Something went wrong!&quot;);\n            e.printStackTrace();\n          }\n        }\n      }\n    }\n  }\n  //This will try to get the enclosing instance of an object (this can also be a lambda)\n  public static Object getEnclosingInstance(Object o) {\n    //This code will work for Processing 3 (uses annonymous inner classes)\n    try {\n      Class&lt;?&gt; classused=o.getClass();\n      Field this0=classused.getDeclaredField(&quot;this$0&quot;);\n      this0.setAccessible(true);\n      return this0.get(o);\n    }\n    catch(Exception e) {\n      //System.err.println(&quot;Can't find enclosing instance of Object, trying to use Lambdas... (To be expected with Processing 4)&quot;);\n    }\n    //This code should work for Processing 4 (lambdas are used instead of inner classes, Lambdas use arg$1 instead this$0) \n    try {\n      Class&lt;?&gt; classused=o.getClass();\n      Field this0=classused.getDeclaredField(&quot;arg$1&quot;);\n      this0.setAccessible(true);\n      return this0.get(o);\n    }\n    catch(Exception e) {\n      //System.err.println(&quot;Detection Failed!&quot;);\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>Why does this code work?<br>\nAs mentioned Processing 3 and 4 share two weakpoints. The first is exclusive to JAVA2D and the second exclusive to P2D and P3D:<br>\nThe JAVA2D weakpoint:<br>\nThere is a method in java.awt.Window that fetches all active instances of every subclass of itself: <code>java.awt.Window.getWindows();</code><br>\nThis includes JFrames wich are used by Processing. In fact Processing uses a custom Component of the class PSurfaceAWT.SmoothCanvas that paints all the things done in Processing. From that point one only has to retrieve the enclosing instance and get it's sketch field.<br><br>\nWeakpoint for P2D and P3D<br>\nThe second Weakpoint lies in PSurfaceJOGL <a href=\"https://github.com/processing/processing4/blob/main/core/src/processing/opengl/PSurfaceJOGL.java#L399-L417\" rel=\"nofollow noreferrer\">https://github.com/processing/processing4/blob/main/core/src/processing/opengl/PSurfaceJOGL.java#L399-L417</a>\nAt this point a thread is dispatched using a Runnable implemented via lambda. At line 405 this lambda uses drawException a field of PSurfaceJOGL. In doing so the lambda will hold a reference to its enclosing instance one can access.<br>\nBut how can we access the Runnable in the first place?<br>\nIn Java versions below 17 one just could use reflection to do that. However since Java 17 java.lang is encapsulated and Processing doesn't allow adding custom command-line args to open java.lang up!<br>\nThe answer to this problem is sun.misc.Unsafe<br>\nThis class doesn't care for encapsulation and can help get the field value.<br>\nThis does have on ugly side effect though: Using any SecurityManager will blow this class up!<br>\nLuckily Processing doesn't have a SecurityManager by default so I can use Unsafe to get the target field from java.lang.Thread. From there I need to grab its enclosing instance and can fetch the sketch field from there!</p>\n<p>If it's requested I can post much simpler code (not using Unsafe) (but only works for Processing 3).</p>\n"}],"owner":{"account_id":22478656,"reputation":53,"user_id":18235324,"display_name":"NumericPrime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664910009,"creation_date":1664910009,"question_id":73952485,"body_markdown":"A lot of Processing libraries need the user to pass a PApplet object for the libraries class to operate on.&lt;br&gt;\r\nThe question is: Is it possible to create a static method `PAppletFinder.find()` to fetch the all PApplet instances?&lt;br&gt;\r\n(Link to the thread in the Processing Forum: https://discourse.processing.org/t/get-the-current-instance-of-papplet-from-a-library/36925/28)","title":"Getting the current instance of the PApplet in Processing","body":"<p>A lot of Processing libraries need the user to pass a PApplet object for the libraries class to operate on.<br>\nThe question is: Is it possible to create a static method <code>PAppletFinder.find()</code> to fetch the all PApplet instances?<br>\n(Link to the thread in the Processing Forum: <a href=\"https://discourse.processing.org/t/get-the-current-instance-of-papplet-from-a-library/36925/28\" rel=\"nofollow noreferrer\">https://discourse.processing.org/t/get-the-current-instance-of-papplet-from-a-library/36925/28</a>)</p>\n"},{"tags":["java","rest","jackson","resteasy"],"comments":[{"owner":{"account_id":7820084,"reputation":251,"user_id":5913490,"accept_rate":60,"display_name":"Sagar Kadu"},"score":0,"creation_date":1578390473,"post_id":59625400,"comment_id":105413922,"body_markdown":"you should validate request before hitting the database..Also have `NOT NULL` constraints on columns as well which will not allow null or empty values..This would make sure only valid requests can go through.","body":"you should validate request before hitting the database..Also have <code>NOT NULL</code> constraints on columns as well which will not allow null or empty values..This would make sure only valid requests can go through."},{"owner":{"account_id":450916,"reputation":1435,"user_id":846507,"accept_rate":64,"display_name":"Hauke"},"score":0,"creation_date":1578392593,"post_id":59625400,"comment_id":105415056,"body_markdown":"I am not quite sure if I wrote the question correct. I added an example below","body":"I am not quite sure if I wrote the question correct. I added an example below"}],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578390355,"creation_date":1578390355,"answer_id":59625838,"question_id":59625400,"body_markdown":"A common technique is to track changes on the entity POJO.\r\n\r\n 1. Load Dog with `color` = black, `size` = null and `age` = null\r\n 2. Set `size` to null (the setter will mark this field as changed)\r\n 3. Run update SQL\r\n\r\nThe POJO will have an internal state knowning that `size` was changed, and thus include that field in the UPDATE. `age`, on the other hand, was never set, and is thus left unchanged. jOOQ works like that, I&#39;m sure there&#39;s others.","title":"REST API for updating informations with empty or null values","body":"<p>A common technique is to track changes on the entity POJO.</p>\n\n<ol>\n<li>Load Dog with <code>color</code> = black, <code>size</code> = null and <code>age</code> = null</li>\n<li>Set <code>size</code> to null (the setter will mark this field as changed)</li>\n<li>Run update SQL</li>\n</ol>\n\n<p>The POJO will have an internal state knowning that <code>size</code> was changed, and thus include that field in the UPDATE. <code>age</code>, on the other hand, was never set, and is thus left unchanged. jOOQ works like that, I'm sure there's others.</p>\n"},{"tags":[],"owner":{"account_id":7820084,"reputation":251,"user_id":5913490,"accept_rate":60,"display_name":"Sagar Kadu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578396190,"creation_date":1578396190,"answer_id":59627457,"question_id":59625400,"body_markdown":"You can control empty or null values as below\r\n\r\n    public class Person{\r\n    \r\n        @JsonInclude(JsonInclude.Include.NON_NULL) \r\n        private BigDecimal salary;  // this will make sure salary can&#39;t be null or empty//\r\n        \r\n        private String phone;   //allow phone Number to be empty\r\n        // same logic for other fields\r\n    }\r\n\r\ni) As you&#39;re updating weight and removing the phone number,Ask client to send fields which needs to updated along with record identifier i.e id in this case\r\n\r\n    {\r\n       &quot;id&quot; : 2,\r\n       &quot;weight&quot; :78,\r\n       &quot;phone&quot; : null  \r\n    }\r\n\r\nii) As you&#39;re adding salary as one more column which is mandatory field &amp; client should be aware of it..may be you have to redesign contract\r\n\r\n","title":"REST API for updating informations with empty or null values","body":"<p>You can control empty or null values as below</p>\n\n<pre><code>public class Person{\n\n    @JsonInclude(JsonInclude.Include.NON_NULL) \n    private BigDecimal salary;  // this will make sure salary can't be null or empty//\n\n    private String phone;   //allow phone Number to be empty\n    // same logic for other fields\n}\n</code></pre>\n\n<p>i) As you're updating weight and removing the phone number,Ask client to send fields which needs to updated along with record identifier i.e id in this case</p>\n\n<pre><code>{\n   \"id\" : 2,\n   \"weight\" :78,\n   \"phone\" : null  \n}\n</code></pre>\n\n<p>ii) As you're adding salary as one more column which is mandatory field &amp; client should be aware of it..may be you have to redesign contract</p>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578399438,"creation_date":1578399438,"answer_id":59628283,"question_id":59625400,"body_markdown":"&gt; 1. Only what should be updated is sent. Problem: How can you explicitly empty / delete a field? If a &quot;NULL&quot; is passed in the JSON, we get NULL in the object, but any other field that is not passed is NULL as well. Therefore we cannot distinguish which field can be deleted and which field cannot be touched.\r\n\r\nThe problem you have identified is genuine; I have faced this too. I think it is reasonable to **not** provide a technical solution for this, but rather document the API usage to let the caller know the impact of leaving out a field or sending it as ```null```. Of course, assuming that the validations on the server side are tight and ensure sanity.\r\n\r\n&gt; 2. The complete object is sent. Problem: Here the object could be fetched via a GET before, changed accordingly and returned via PUT. Now we get all information back and could write the information directly back into the database. Because empty fields were either already empty before or were cleared by the user.\r\n\r\nThis is &quot;straighter-forward&quot; and should be documented in the API.\r\n\r\n&gt; What happens if the objects are extended by an update of the API. \r\n\r\nWith the onus put on the caller through the documentation, this too is handled implicitly.\r\n\r\n&gt; Or do you have to create a separate endpoint for each field?\r\n\r\nThis, again, is a design issue, the solution to which varies from person-to-person. I would rather retain the API at a record level than at the level of individual value. However, there may be cases where they are needed to be that way. Eg, status updates.","title":"REST API for updating informations with empty or null values","body":"<blockquote>\n  <ol>\n  <li>Only what should be updated is sent. Problem: How can you explicitly empty / delete a field? If a \"NULL\" is passed in the JSON, we get NULL in the object, but any other field that is not passed is NULL as well. Therefore we cannot distinguish which field can be deleted and which field cannot be touched.</li>\n  </ol>\n</blockquote>\n\n<p>The problem you have identified is genuine; I have faced this too. I think it is reasonable to <strong>not</strong> provide a technical solution for this, but rather document the API usage to let the caller know the impact of leaving out a field or sending it as <code>null</code>. Of course, assuming that the validations on the server side are tight and ensure sanity.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>The complete object is sent. Problem: Here the object could be fetched via a GET before, changed accordingly and returned via PUT. Now we get all information back and could write the information directly back into the database. Because empty fields were either already empty before or were cleared by the user.</li>\n  </ol>\n</blockquote>\n\n<p>This is \"straighter-forward\" and should be documented in the API.</p>\n\n<blockquote>\n  <p>What happens if the objects are extended by an update of the API. </p>\n</blockquote>\n\n<p>With the onus put on the caller through the documentation, this too is handled implicitly.</p>\n\n<blockquote>\n  <p>Or do you have to create a separate endpoint for each field?</p>\n</blockquote>\n\n<p>This, again, is a design issue, the solution to which varies from person-to-person. I would rather retain the API at a record level than at the level of individual value. However, there may be cases where they are needed to be that way. Eg, status updates.</p>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578402650,"creation_date":1578402283,"answer_id":59629014,"question_id":59625400,"body_markdown":"&gt; Suppose we extend the database by five more fields. The user of the API makes a GET, gets the 15 fields, but can only read the 10 fields he knows on his page (because he hasn&#39;t updated his side yet). Then he changes some of the 10 fields and sends them back via PUT. We would then update only the 10 fields on our site and the 5 new fields would be emptied from the database.\r\n\r\nSo let&#39;s start with an example - what would happen on the web, where clients are interacting with your API via HTML rendered in browsers.  The client would GET a form, and that form would have input controls for each of the fields.  Client updates the fields in the form, submits it, and you apply those changes to your database.\r\n\r\nWhen you want to extend the API to include more fields, you add those fields to the form.  The client doesn&#39;t know about those fields.  So what happens?\r\n\r\nOne way to manage this is that you make sure that you include in the form the correct default values for the new fields; then, if the client ignores the new fields, the correct value will be returned when the form is submitted.\r\n\r\nMore generally, the representations we exchange in our HTTP payloads are _messages_; if we want to support old clients, then we need the discipline of evolving the message schema in a backwards compatible way, and our clients have to be written with the understanding that the message schema may be extended with additional fields.\r\n\r\n&gt; The person using the API does not know that there is a new field in JSON for the salary. \r\n\r\nThe same idea holds here - the new representation includes a field &quot;salary&quot; that the client doesn&#39;t know about, so it is the responsibility of the client to forward that data back to you _unchanged_, rather than just dropping it on the floor assuming it is unimportant.\r\n\r\n\r\nThere&#39;s a bunch of prior art on this from 15-20 years ago, because people writing messages in XML were facing exactly the same sort of problems.  They have left some of their knowledge behind.  The easiest way to find it is to search for some key phases; for instance `must ignore` or `must forward`.\r\n\r\nSee:\r\n\r\n* [Versioning XML Vocabularies][1]\r\n* [Extensibility, XML Vocabularies, and XML Schema][2]\r\n\r\nEvents in an event store have the same kinds of problems.  [Greg Young][3]&#39;s book [Versioning in an Event Sourced System][4] covers a lot of the same ground (representations of events are also messages).\r\n\r\n\r\n  [1]: https://www.xml.com/pub/a/2003/12/03/versioning.html\r\n  [2]: https://www.xml.com/pub/a/2004/10/27/extend.html\r\n  [3]: https://eventstore.org/\r\n  [4]: https://leanpub.com/esversioning","title":"REST API for updating informations with empty or null values","body":"<blockquote>\n  <p>Suppose we extend the database by five more fields. The user of the API makes a GET, gets the 15 fields, but can only read the 10 fields he knows on his page (because he hasn't updated his side yet). Then he changes some of the 10 fields and sends them back via PUT. We would then update only the 10 fields on our site and the 5 new fields would be emptied from the database.</p>\n</blockquote>\n\n<p>So let's start with an example - what would happen on the web, where clients are interacting with your API via HTML rendered in browsers.  The client would GET a form, and that form would have input controls for each of the fields.  Client updates the fields in the form, submits it, and you apply those changes to your database.</p>\n\n<p>When you want to extend the API to include more fields, you add those fields to the form.  The client doesn't know about those fields.  So what happens?</p>\n\n<p>One way to manage this is that you make sure that you include in the form the correct default values for the new fields; then, if the client ignores the new fields, the correct value will be returned when the form is submitted.</p>\n\n<p>More generally, the representations we exchange in our HTTP payloads are <em>messages</em>; if we want to support old clients, then we need the discipline of evolving the message schema in a backwards compatible way, and our clients have to be written with the understanding that the message schema may be extended with additional fields.</p>\n\n<blockquote>\n  <p>The person using the API does not know that there is a new field in JSON for the salary. </p>\n</blockquote>\n\n<p>The same idea holds here - the new representation includes a field \"salary\" that the client doesn't know about, so it is the responsibility of the client to forward that data back to you <em>unchanged</em>, rather than just dropping it on the floor assuming it is unimportant.</p>\n\n<p>There's a bunch of prior art on this from 15-20 years ago, because people writing messages in XML were facing exactly the same sort of problems.  They have left some of their knowledge behind.  The easiest way to find it is to search for some key phases; for instance <code>must ignore</code> or <code>must forward</code>.</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"https://www.xml.com/pub/a/2003/12/03/versioning.html\" rel=\"nofollow noreferrer\">Versioning XML Vocabularies</a></li>\n<li><a href=\"https://www.xml.com/pub/a/2004/10/27/extend.html\" rel=\"nofollow noreferrer\">Extensibility, XML Vocabularies, and XML Schema</a></li>\n</ul>\n\n<p>Events in an event store have the same kinds of problems.  <a href=\"https://eventstore.org/\" rel=\"nofollow noreferrer\">Greg Young</a>'s book <a href=\"https://leanpub.com/esversioning\" rel=\"nofollow noreferrer\">Versioning in an Event Sourced System</a> covers a lot of the same ground (representations of events are also messages).</p>\n"},{"tags":[],"owner":{"account_id":15051661,"reputation":100,"user_id":10863209,"display_name":"C. Schmidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1578407960,"creation_date":1578407960,"answer_id":59630596,"question_id":59625400,"body_markdown":"You could deserialize your JSON to a Map&lt;String, Object&gt;. \r\nThis way, if a property has not been sent, the property is not present in the Map. If its null, its inside the map will a null value. \r\n\r\n\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\r\n      HashMap&lt;String, Object&gt; jsonMap = mapper.readValue(json, typeReference);\r\n      jsonMap.entrySet().stream().map(Map.Entry::getKey).forEach(System.out::println);\r\n\r\nNot a very convenient solution, but it might work for you. \r\n","title":"REST API for updating informations with empty or null values","body":"<p>You could deserialize your JSON to a Map. \nThis way, if a property has not been sent, the property is not present in the Map. If its null, its inside the map will a null value. </p>\n\n<pre><code>  ObjectMapper mapper = new ObjectMapper();\n  TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeReference = new TypeReference&lt;&gt;() {};\n  HashMap&lt;String, Object&gt; jsonMap = mapper.readValue(json, typeReference);\n  jsonMap.entrySet().stream().map(Map.Entry::getKey).forEach(System.out::println);\n</code></pre>\n\n<p>Not a very convenient solution, but it might work for you. </p>\n"},{"tags":[],"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664909138,"creation_date":1624037399,"answer_id":68039313,"question_id":59625400,"body_markdown":"The accepted answer works well but it has a huge caveat which is that it&#39;s completely untyped. If the object&#39;s fields change then you&#39;ll have no compile time warning that you&#39;re looking for the wrong fields.\r\n\r\nTherefore I would argue that it&#39;s better to force all fields to be present in the request body. Therefore a `null` means the user explicitly set it to `null` while if the user misses a field they&#39;ll receive a `400 Bad Request` with the request body describing the error in detail.\r\n\r\nHere&#39;s a great post on how to achieve this: https://stackoverflow.com/questions/28355891/configure-jackson-to-throw-an-exception-when-a-field-is-missing\r\n\r\nHere&#39;s my example in Kotlin:\r\n\r\n    data class PlacementRequestDto(\r\n        val contentId: Int,\r\n        @param:JsonProperty(required = true)\r\n        val tlxPlacementId: Int?,\r\n        val keywords: List&lt;Int&gt;,\r\n        val placementAdFormats: List&lt;Int&gt;\r\n    )\r\n\r\nNotice that the nullable field is marked as required. This way the user has to explicitly include it in the request body.\r\n","title":"REST API for updating informations with empty or null values","body":"<p>The accepted answer works well but it has a huge caveat which is that it's completely untyped. If the object's fields change then you'll have no compile time warning that you're looking for the wrong fields.</p>\n<p>Therefore I would argue that it's better to force all fields to be present in the request body. Therefore a <code>null</code> means the user explicitly set it to <code>null</code> while if the user misses a field they'll receive a <code>400 Bad Request</code> with the request body describing the error in detail.</p>\n<p>Here's a great post on how to achieve this: <a href=\"https://stackoverflow.com/questions/28355891/configure-jackson-to-throw-an-exception-when-a-field-is-missing\">Configure Jackson to throw an exception when a field is missing</a></p>\n<p>Here's my example in Kotlin:</p>\n<pre><code>data class PlacementRequestDto(\n    val contentId: Int,\n    @param:JsonProperty(required = true)\n    val tlxPlacementId: Int?,\n    val keywords: List&lt;Int&gt;,\n    val placementAdFormats: List&lt;Int&gt;\n)\n</code></pre>\n<p>Notice that the nullable field is marked as required. This way the user has to explicitly include it in the request body.</p>\n"}],"owner":{"account_id":450916,"reputation":1435,"user_id":846507,"accept_rate":64,"display_name":"Hauke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24119,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":59630596,"answer_count":6,"score":8,"last_activity_date":1664909138,"creation_date":1578388792,"question_id":59625400,"body_markdown":"I have a general question about how best to build an API that can modify records in a database.\r\n\r\nSuppose we have a table with 10 columns and we can query these 10 columns using REST (GET). The JSON response will contain all 10 fields. This is easy and works without problems.\r\n\r\nThe next step is that someone wants to create a new record via POST. In this case the person sends only 8 of the 10 fields in the JSON Request. We would then only fill the 8 fields in the database (the rest would be NULL). This also works without problems.\r\n\r\nBut what happens if someone wants to update a record? We see here different possibilities with advantages and disadvantages. \r\n\r\n1. Only what should be updated is sent.\r\nProblem: How can you explicitly empty / delete a field? If a &quot;NULL&quot; is passed in the JSON, we get NULL in the object, but any other field that is not passed is NULL as well. Therefore we cannot distinguish which field can be deleted and which field cannot be touched.\r\n\r\n2. The complete object is sent.\r\nProblem: Here the object could be fetched via a GET before, changed accordingly and returned via PUT. Now we get all information back and could write the information directly back into the database. Because empty fields were either already empty before or were cleared by the user. \r\n\r\nWhat happens if the objects are extended by an update of the API. Suppose we extend the database by five more fields. The user of the API makes a GET, gets the 15 fields, but can only read the 10 fields he knows on his page (because he hasn&#39;t updated his side yet). Then he changes some of the 10 fields and sends them back via PUT. We would then update only the 10 fields on our site and the 5 new fields would be emptied from the database.\r\n\r\nOr do you have to create a separate endpoint for each field? We have also thought about creating a map with key / value, what exactly should be changed.\r\n\r\nAbout the technique: We use the `Wildfly 15 with Resteasy and Jackson`.\r\n\r\n\r\n**For example:**\r\n\r\nDatabase at the beginning\r\n\r\n    +----+----------+---------------+-----+--------+-------+\r\n    | ID | Name     | Country       | Age | Weight | Phone |\r\n    +----+----------+---------------+-----+--------+-------+\r\n    | 1  | Person 1 | Germany       | 22  | 60     | 12345 |\r\n    | 2  | Person 2 | United States | 32  | 78     | 56789 |\r\n    | 3  | Person 3 | Canada        | 52  | 102    | 99999 |\r\n    +----+----------+---------------+-----+--------+-------+\r\n\r\nGET .../person/2\r\n\r\n    {\r\n       &quot;id&quot; : 2,\r\n       &quot;name&quot; : &quot;Person 2&quot;,\r\n       &quot;country&quot; : &quot;United States&quot;,\r\n       &quot;age&quot; : 22,\r\n       &quot;weight&quot; :62,\r\n       &quot;phone&quot;: &quot;56789&quot;\r\n    }\r\n\r\n\r\nNow I want to update his weight and remove the phone number\r\n\r\n\r\nPUT .../person/2\r\n\r\n    {\r\n       &quot;id&quot; : 2,\r\n       &quot;name&quot; : &quot;Person 2&quot;,\r\n       &quot;country&quot; : &quot;United States&quot;,\r\n       &quot;age&quot; : 22,\r\n       &quot;weight&quot; :78\r\n    }\r\n\r\nor\r\n\r\n    {\r\n       &quot;id&quot; : 2,\r\n       &quot;name&quot; : &quot;Person 2&quot;,\r\n       &quot;country&quot; : &quot;United States&quot;,\r\n       &quot;age&quot; : 22,\r\n       &quot;weight&quot; :78,\r\n       &quot;phone&quot; : null\r\n    }\r\n\r\nNow the database should look like this:\r\n\r\n    +----+----------+---------------+-----+--------+-------+\r\n    | ID | Name     | Country       | Age | Weight | Phone |\r\n    +----+----------+---------------+-----+--------+-------+\r\n    | 1  | Person 1 | Germany       | 22  | 60     | 12345 |\r\n    | 2  | Person 2 | United States | 32  | 78     | NULL  |\r\n    | 3  | Person 3 | Canada        | 52  | 102    | 99999 |\r\n    +----+----------+---------------+-----+--------+-------+\r\n\r\n**The problem is**\r\n\r\nWe extend the table like this (salery)\r\n\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n    | ID | Name     | Country       | Age | Weight | Salery | Phone |\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n    | 1  | Person 1 | Germany       | 22  | 60     | 1929   | 12345 |\r\n    | 2  | Person 2 | United States | 32  | 78     | 2831   | NULL  |\r\n    | 3  | Person 3 | Canada        | 52  | 102    | 3921   | 99999 |\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n\r\nThe person using the API does not know that there is a new field in JSON for the salary. And this person now wants to change the phone number of someone again, but does not send the salary. This would also empty the salary:\r\n\r\n    {\r\n       &quot;id&quot; : 3,\r\n       &quot;name&quot; : &quot;Person 3&quot;,\r\n       &quot;country&quot; : &quot;Cananda&quot;,\r\n       &quot;age&quot; : 52,\r\n       &quot;weight&quot; :102,\r\n       &quot;phone&quot; : null\r\n    }\r\n\r\n\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n    | ID | Name     | Country       | Age | Weight | Salery | Phone |\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n    | 1  | Person 1 | Germany       | 22  | 60     | 1929   | 12345 |\r\n    | 2  | Person 2 | United States | 32  | 78     | 2831   | NULL  |\r\n    | 3  | Person 3 | Canada        | 52  | 102    | NULL   | NULL  |\r\n    +----+----------+---------------+-----+--------+--------+-------+\r\n\r\nAnd salary should not be null, because it was not set inside the JSON request","title":"REST API for updating informations with empty or null values","body":"<p>I have a general question about how best to build an API that can modify records in a database.</p>\n\n<p>Suppose we have a table with 10 columns and we can query these 10 columns using REST (GET). The JSON response will contain all 10 fields. This is easy and works without problems.</p>\n\n<p>The next step is that someone wants to create a new record via POST. In this case the person sends only 8 of the 10 fields in the JSON Request. We would then only fill the 8 fields in the database (the rest would be NULL). This also works without problems.</p>\n\n<p>But what happens if someone wants to update a record? We see here different possibilities with advantages and disadvantages. </p>\n\n<ol>\n<li><p>Only what should be updated is sent.\nProblem: How can you explicitly empty / delete a field? If a \"NULL\" is passed in the JSON, we get NULL in the object, but any other field that is not passed is NULL as well. Therefore we cannot distinguish which field can be deleted and which field cannot be touched.</p></li>\n<li><p>The complete object is sent.\nProblem: Here the object could be fetched via a GET before, changed accordingly and returned via PUT. Now we get all information back and could write the information directly back into the database. Because empty fields were either already empty before or were cleared by the user. </p></li>\n</ol>\n\n<p>What happens if the objects are extended by an update of the API. Suppose we extend the database by five more fields. The user of the API makes a GET, gets the 15 fields, but can only read the 10 fields he knows on his page (because he hasn't updated his side yet). Then he changes some of the 10 fields and sends them back via PUT. We would then update only the 10 fields on our site and the 5 new fields would be emptied from the database.</p>\n\n<p>Or do you have to create a separate endpoint for each field? We have also thought about creating a map with key / value, what exactly should be changed.</p>\n\n<p>About the technique: We use the <code>Wildfly 15 with Resteasy and Jackson</code>.</p>\n\n<p><strong>For example:</strong></p>\n\n<p>Database at the beginning</p>\n\n<pre><code>+----+----------+---------------+-----+--------+-------+\n| ID | Name     | Country       | Age | Weight | Phone |\n+----+----------+---------------+-----+--------+-------+\n| 1  | Person 1 | Germany       | 22  | 60     | 12345 |\n| 2  | Person 2 | United States | 32  | 78     | 56789 |\n| 3  | Person 3 | Canada        | 52  | 102    | 99999 |\n+----+----------+---------------+-----+--------+-------+\n</code></pre>\n\n<p>GET .../person/2</p>\n\n<pre><code>{\n   \"id\" : 2,\n   \"name\" : \"Person 2\",\n   \"country\" : \"United States\",\n   \"age\" : 22,\n   \"weight\" :62,\n   \"phone\": \"56789\"\n}\n</code></pre>\n\n<p>Now I want to update his weight and remove the phone number</p>\n\n<p>PUT .../person/2</p>\n\n<pre><code>{\n   \"id\" : 2,\n   \"name\" : \"Person 2\",\n   \"country\" : \"United States\",\n   \"age\" : 22,\n   \"weight\" :78\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\n   \"id\" : 2,\n   \"name\" : \"Person 2\",\n   \"country\" : \"United States\",\n   \"age\" : 22,\n   \"weight\" :78,\n   \"phone\" : null\n}\n</code></pre>\n\n<p>Now the database should look like this:</p>\n\n<pre><code>+----+----------+---------------+-----+--------+-------+\n| ID | Name     | Country       | Age | Weight | Phone |\n+----+----------+---------------+-----+--------+-------+\n| 1  | Person 1 | Germany       | 22  | 60     | 12345 |\n| 2  | Person 2 | United States | 32  | 78     | NULL  |\n| 3  | Person 3 | Canada        | 52  | 102    | 99999 |\n+----+----------+---------------+-----+--------+-------+\n</code></pre>\n\n<p><strong>The problem is</strong></p>\n\n<p>We extend the table like this (salery)</p>\n\n<pre><code>+----+----------+---------------+-----+--------+--------+-------+\n| ID | Name     | Country       | Age | Weight | Salery | Phone |\n+----+----------+---------------+-----+--------+--------+-------+\n| 1  | Person 1 | Germany       | 22  | 60     | 1929   | 12345 |\n| 2  | Person 2 | United States | 32  | 78     | 2831   | NULL  |\n| 3  | Person 3 | Canada        | 52  | 102    | 3921   | 99999 |\n+----+----------+---------------+-----+--------+--------+-------+\n</code></pre>\n\n<p>The person using the API does not know that there is a new field in JSON for the salary. And this person now wants to change the phone number of someone again, but does not send the salary. This would also empty the salary:</p>\n\n<pre><code>{\n   \"id\" : 3,\n   \"name\" : \"Person 3\",\n   \"country\" : \"Cananda\",\n   \"age\" : 52,\n   \"weight\" :102,\n   \"phone\" : null\n}\n\n\n+----+----------+---------------+-----+--------+--------+-------+\n| ID | Name     | Country       | Age | Weight | Salery | Phone |\n+----+----------+---------------+-----+--------+--------+-------+\n| 1  | Person 1 | Germany       | 22  | 60     | 1929   | 12345 |\n| 2  | Person 2 | United States | 32  | 78     | 2831   | NULL  |\n| 3  | Person 3 | Canada        | 52  | 102    | NULL   | NULL  |\n+----+----------+---------------+-----+--------+--------+-------+\n</code></pre>\n\n<p>And salary should not be null, because it was not set inside the JSON request</p>\n"},{"tags":["java","sql","spring","oracle","spring-data-jpa"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1664906849,"post_id":73951864,"comment_id":130575717,"body_markdown":"Checked the accepted [answer trick](https://stackoverflow.com/questions/68033607/why-can-i-not-parse-the-interval-as-a-parameter-in-jpa)?","body":"Checked the accepted <a href=\"https://stackoverflow.com/questions/68033607/why-can-i-not-parse-the-interval-as-a-parameter-in-jpa\">answer trick</a>?"},{"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"score":0,"creation_date":1664908176,"post_id":73951864,"comment_id":130576053,"body_markdown":"@Pp88 thx! yes it fits, I did not find the question/answer searching by google, the only difference is the &quot;:&quot; instead of &quot;?&quot; because of oracle instead of postgresql","body":"@Pp88 thx! yes it fits, I did not find the question/answer searching by google, the only difference is the &quot;:&quot; instead of &quot;?&quot; because of oracle instead of postgresql"}],"answers":[{"tags":[],"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664908380,"creation_date":1664908380,"answer_id":73952189,"question_id":73951864,"body_markdown":"See comments on question, there is a similar question/answer for spring/jpa/postgresql, solution for me is:\r\n\r\n    @Query(nativeQuery = true, \r\n                value = &quot;SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + :myValue * (INTERVAL 1 DAY&quot;))\r\n    public List&lt;Object[]&gt; myMethod(@Param(&quot;myValue&quot;) int myValue );","title":"INTERVAL expression in Spring Data JPA Native Query","body":"<p>See comments on question, there is a similar question/answer for spring/jpa/postgresql, solution for me is:</p>\n<pre><code>@Query(nativeQuery = true, \n            value = &quot;SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + :myValue * (INTERVAL 1 DAY&quot;))\npublic List&lt;Object[]&gt; myMethod(@Param(&quot;myValue&quot;) int myValue );\n</code></pre>\n"}],"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73952189,"answer_count":1,"score":0,"last_activity_date":1664908380,"creation_date":1664906356,"question_id":73951864,"body_markdown":"I have Spring JPA.\r\n\r\nI have a query ***like*** this in sql oracle:\r\n\r\n    SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + INTERVAL &#39;10&#39; DAY;\r\n\r\nI have a CrudRepository in which I use the above query in native mode, ***like*** this:\r\n\r\n\t\r\n\r\n    @Query(nativeQuery = true, \r\n    \t\t\tvalue = &quot;SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + INTERVAL :myValue DAY&quot;)\r\n    public List&lt;Object[]&gt; myMethod(@Param(&quot;myValue&quot;) String myValue );\r\n\r\nI get ORA-00933:\r\n\r\nPassing myValue as integer between quotes I get ORA-01867\r\n\r\nPassing myValue as integer without quotes I get ORA-00933\r\n\r\nHow to do it?","title":"INTERVAL expression in Spring Data JPA Native Query","body":"<p>I have Spring JPA.</p>\n<p>I have a query <em><strong>like</strong></em> this in sql oracle:</p>\n<pre><code>SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + INTERVAL '10' DAY;\n</code></pre>\n<p>I have a CrudRepository in which I use the above query in native mode, <em><strong>like</strong></em> this:</p>\n<pre><code>@Query(nativeQuery = true, \n            value = &quot;SELECT * FROM MY_TABLE WHERE  SYSDATE &gt; MY_DATE + INTERVAL :myValue DAY&quot;)\npublic List&lt;Object[]&gt; myMethod(@Param(&quot;myValue&quot;) String myValue );\n</code></pre>\n<p>I get ORA-00933:</p>\n<p>Passing myValue as integer between quotes I get ORA-01867</p>\n<p>Passing myValue as integer without quotes I get ORA-00933</p>\n<p>How to do it?</p>\n"},{"tags":["java","android","mvvm","android-sqlite","viewmodel"],"answers":[{"comments":[{"owner":{"account_id":13917263,"reputation":1622,"user_id":10048703,"display_name":"davidm"},"score":0,"creation_date":1576933275,"post_id":59436322,"comment_id":105057147,"body_markdown":"I understand how the DI works, but how do I pass the context down to the model?","body":"I understand how the DI works, but how do I pass the context down to the model?"},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1576934390,"post_id":59436322,"comment_id":105057352,"body_markdown":"You could pass it from your View to the ViewModel and then in your ViewModel pass it to the Model using the constructor or even method parameter. Also, you could use dependency injection frameworks like Dagger to inject it directly. @dmak2709","body":"You could pass it from your View to the ViewModel and then in your ViewModel pass it to the Model using the constructor or even method parameter. Also, you could use dependency injection frameworks like Dagger to inject it directly. @dmak2709"},{"owner":{"account_id":13917263,"reputation":1622,"user_id":10048703,"display_name":"davidm"},"score":0,"creation_date":1576936630,"post_id":59436322,"comment_id":105057838,"body_markdown":"My repository class is a singleton so again I&#39;m still getting the same warning...","body":"My repository class is a singleton so again I&#39;m still getting the same warning..."},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1576937100,"post_id":59436322,"comment_id":105057954,"body_markdown":"Sometimes Android Studio just shows warnings without considering your usage. Especially when you are using static global objects. Check your memory leaks with the LeakCanary library or suppress it. @dmak2709","body":"Sometimes Android Studio just shows warnings without considering your usage. Especially when you are using static global objects. Check your memory leaks with the LeakCanary library or suppress it. @dmak2709"},{"owner":{"account_id":13917263,"reputation":1622,"user_id":10048703,"display_name":"davidm"},"score":0,"creation_date":1576937519,"post_id":59436322,"comment_id":105058046,"body_markdown":"Since I need the context in only one Repository method. Maybe it will be better if I pass it as a param, instead of having the class attribute?","body":"Since I need the context in only one Repository method. Maybe it will be better if I pass it as a param, instead of having the class attribute?"},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":1,"creation_date":1576937657,"post_id":59436322,"comment_id":105058073,"body_markdown":"Yes if you just use it in one method pass it as a method parameter instead of the constructor. @dmak2709","body":"Yes if you just use it in one method pass it as a method parameter instead of the constructor. @dmak2709"}],"tags":[],"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1576932469,"creation_date":1576932469,"answer_id":59436322,"question_id":59436077,"body_markdown":"Your solution works but you break the `Dependency Inversion` rule in MVVM pattern. So you should implement `Dependency Injection` pattern using constructor injection or frameworks like `Dagger` to pass the `context` to your model layer. Your memory leak is because of breaking this rule too and by implementing Dependency Injection there is no need for global variables with multiple access in different layers which can cause memory leaks.","title":"MVVM - get context in a Model class","body":"<p>Your solution works but you break the <code>Dependency Inversion</code> rule in MVVM pattern. So you should implement <code>Dependency Injection</code> pattern using constructor injection or frameworks like <code>Dagger</code> to pass the <code>context</code> to your model layer. Your memory leak is because of breaking this rule too and by implementing Dependency Injection there is no need for global variables with multiple access in different layers which can cause memory leaks.</p>\n"},{"tags":[],"owner":{"account_id":1440945,"reputation":599,"user_id":1361120,"accept_rate":100,"display_name":"Ahmed M. Abed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576935972,"creation_date":1576935972,"answer_id":59436696,"question_id":59436077,"body_markdown":"You can pass the context to ViewModel using Factory, for Example:\r\n\r\n    public class ViewModelClass extends ViewModel{\r\n          private Context context;\r\n          public ViewModelClass(Context context){\r\n               this.context = context;\r\n          }\r\n    }\r\n\r\nand the factory class\r\n\r\n    public class ViewModelFactory implements ViewModelProvider.Factory{\r\n    private Context context;\r\n    \r\n        public ViewModelFactory(Context context){\r\n        this.context = context;\r\n        }\r\n        @Override\r\n            public &lt;T extends ViewModel&gt; T create(Class&lt;T&gt; modelClass) {\r\n                if (modelClass.isAssignableFrom(ViewModelClass.class)) {\r\n                    return (T) new ViewModelClass(context);\r\n                }\r\n                throw new IllegalArgumentException(&quot;Unknown ViewModel class&quot;);\r\n            }\r\n       }\r\n\r\nand when you used the ViewModel define the factory \r\n\r\n    ViewModelFactory viewModelFactory = new ViewModelFactory(context);\r\n\r\nthen pass it like this:\r\n\r\n    viewModel = ViewModelProviders.of(this, viewModelFactory).get(ViewModelClass.class)\r\n","title":"MVVM - get context in a Model class","body":"<p>You can pass the context to ViewModel using Factory, for Example:</p>\n\n<pre><code>public class ViewModelClass extends ViewModel{\n      private Context context;\n      public ViewModelClass(Context context){\n           this.context = context;\n      }\n}\n</code></pre>\n\n<p>and the factory class</p>\n\n<pre><code>public class ViewModelFactory implements ViewModelProvider.Factory{\nprivate Context context;\n\n    public ViewModelFactory(Context context){\n    this.context = context;\n    }\n    @Override\n        public &lt;T extends ViewModel&gt; T create(Class&lt;T&gt; modelClass) {\n            if (modelClass.isAssignableFrom(ViewModelClass.class)) {\n                return (T) new ViewModelClass(context);\n            }\n            throw new IllegalArgumentException(\"Unknown ViewModel class\");\n        }\n   }\n</code></pre>\n\n<p>and when you used the ViewModel define the factory </p>\n\n<pre><code>ViewModelFactory viewModelFactory = new ViewModelFactory(context);\n</code></pre>\n\n<p>then pass it like this:</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this, viewModelFactory).get(ViewModelClass.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248767,"reputation":1239,"user_id":524355,"display_name":"CaptainCrunch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664908126,"creation_date":1664908126,"answer_id":73952147,"question_id":59436077,"body_markdown":"If you read the [View Model Documentation][1]\r\nyou will notice the very first line mentions [Known direct subclasses\r\nAndroidViewModel][2] which in turn has a public constructor that accepts the Application Context. Quote from the documentation:\r\n\r\n&gt; Application context aware ViewModel.\r\n&gt; Subclasses must have a constructor which accepts Application as the only parameter.\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/lifecycle/ViewModel\r\n  [2]: https://developer.android.com/reference/androidx/lifecycle/AndroidViewModel","title":"MVVM - get context in a Model class","body":"<p>If you read the <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">View Model Documentation</a>\nyou will notice the very first line mentions <a href=\"https://developer.android.com/reference/androidx/lifecycle/AndroidViewModel\" rel=\"nofollow noreferrer\">Known direct subclasses\nAndroidViewModel</a> which in turn has a public constructor that accepts the Application Context. Quote from the documentation:</p>\n<blockquote>\n<p>Application context aware ViewModel.\nSubclasses must have a constructor which accepts Application as the only parameter.</p>\n</blockquote>\n"}],"owner":{"account_id":13917263,"reputation":1622,"user_id":10048703,"display_name":"davidm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59436322,"answer_count":3,"score":2,"last_activity_date":1664908126,"creation_date":1576930307,"question_id":59436077,"body_markdown":"I&#39;m using MVVM to build my Android app and I need to connect the Model to a DB. Instead of Room I&#39;m using the SQLiteOpenHelper and to make a connection to the DB I need the context. But since this is a non activity class I&#39;m struggling to get it.\r\n[![mvvm][1]][1]\r\n\r\nMy current solution looks as follows but I keep getting a memory leak warning.\r\n\r\n```\r\npublic class MyApplication extends Application {\r\n\r\n    private static MyApplication mContext;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mContext = this;\r\n    }\r\n\r\n    public static MyApplication getContext() {\r\n        return mContext;\r\n    }\r\n}\r\n```\r\n\r\nAny better solution or best practice?\r\n\r\n*edit: not using Dagger*\r\n\r\n  [1]: https://i.stack.imgur.com/VWoUa.png","title":"MVVM - get context in a Model class","body":"<p>I'm using MVVM to build my Android app and I need to connect the Model to a DB. Instead of Room I'm using the SQLiteOpenHelper and to make a connection to the DB I need the context. But since this is a non activity class I'm struggling to get it.\n<a href=\"https://i.stack.imgur.com/VWoUa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWoUa.png\" alt=\"mvvm\"></a></p>\n\n<p>My current solution looks as follows but I keep getting a memory leak warning.</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    private static MyApplication mContext;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mContext = this;\n    }\n\n    public static MyApplication getContext() {\n        return mContext;\n    }\n}\n</code></pre>\n\n<p>Any better solution or best practice?</p>\n\n<p><em>edit: not using Dagger</em></p>\n"},{"tags":["java","spring-boot","docusignapi"],"comments":[{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664573601,"post_id":73914125,"comment_id":130510765,"body_markdown":"There are 3 options for Java, I understand you picked the right-most (full), can you try one of the other 2?","body":"There are 3 options for Java, I understand you picked the right-most (full), can you try one of the other 2?"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664574837,"post_id":73914125,"comment_id":130511026,"body_markdown":"@InbarGazit thanks for the swift reply, actually I picked the middle one only &quot;Authorization code grant embedded signing example&quot;, tried it again just now as well it&#39;s the same 2 src folders.","body":"@InbarGazit thanks for the swift reply, actually I picked the middle one only &quot;Authorization code grant embedded signing example&quot;, tried it again just now as well it&#39;s the same 2 src folders."},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664578168,"post_id":73914125,"comment_id":130511591,"body_markdown":"can you try the right-most option?","body":"can you try the right-most option?"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664835019,"post_id":73914125,"comment_id":130557617,"body_markdown":"UPDATE: This is fixed now, please try again","body":"UPDATE: This is fixed now, please try again"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664907987,"post_id":73914125,"comment_id":130576006,"body_markdown":"Thanks for working to resolve my problem, I have edited the question depicting the current state. I couldn&#39;t get the authorization grant flow OAuth client (Java Spring) working but at least the app depicting all APIs ( generated using extreme right side grant type) is functioning.","body":"Thanks for working to resolve my problem, I have edited the question depicting the current state. I couldn&#39;t get the authorization grant flow OAuth client (Java Spring) working but at least the app depicting all APIs ( generated using extreme right side grant type) is functioning."},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664912287,"post_id":73914125,"comment_id":130577197,"body_markdown":"Did you start from scratch and download the middle project again? as I said here, we fixed the code and it should work now.","body":"Did you start from scratch and download the middle project again? as I said here, we fixed the code and it should work now."},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664912298,"post_id":73914125,"comment_id":130577204,"body_markdown":"Please do everything from scratch again, don&#39;t use the older code/ZIP file","body":"Please do everything from scratch again, don&#39;t use the older code/ZIP file"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664913788,"post_id":73914125,"comment_id":130577635,"body_markdown":"Yeah, I am doing everything from scratch, got the new project generated today only, not referring to any older code or zip files. Facing errors as depicted in a picture I have added in the 10/04/22 edit above (where I am showing App class of ACG and full project side by side), the entry point class com.docusign.App is using OSDetector class which is located in the outer src folder, I never saw something like this ever earlier in any Java project. I am in for learning something new, but not getting.","body":"Yeah, I am doing everything from scratch, got the new project generated today only, not referring to any older code or zip files. Facing errors as depicted in a picture I have added in the 10/04/22 edit above (where I am showing App class of ACG and full project side by side), the entry point class com.docusign.App is using OSDetector class which is located in the outer src folder, I never saw something like this ever earlier in any Java project. I am in for learning something new, but not getting."},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664914389,"post_id":73914125,"comment_id":130577793,"body_markdown":"Are you using Eclipse to compile this?","body":"Are you using Eclipse to compile this?"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664914400,"post_id":73914125,"comment_id":130577798,"body_markdown":"I try this from commandline and it works ok","body":"I try this from commandline and it works ok"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664916710,"post_id":73914125,"comment_id":130578467,"body_markdown":"I am using IntelliJ IDEA Ultimate for compiling and running.","body":"I am using IntelliJ IDEA Ultimate for compiling and running."},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664917781,"post_id":73914125,"comment_id":130578754,"body_markdown":"Let me generate the project again and try running it using a different IDE or maybe like you are doing from the command line. Thanks for replying, have a blessed day!","body":"Let me generate the project again and try running it using a different IDE or maybe like you are doing from the command line. Thanks for replying, have a blessed day!"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664920314,"post_id":73914125,"comment_id":130579322,"body_markdown":"I run mvn package  and then I run java -Dspring.profiles.active=dev -jar target\\code-examples-java-acg-1.0-SNAPSHOT.jar","body":"I run mvn package  and then I run java -Dspring.profiles.active=dev -jar target\\code-examples-java-acg-1.0-SNAPSHOT.jar"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664985411,"post_id":73914125,"comment_id":130594951,"body_markdown":"Yes, the way you mentioned is working, thanks Inbar :)","body":"Yes, the way you mentioned is working, thanks Inbar :)"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1664987833,"post_id":73914125,"comment_id":130595778,"body_markdown":"Looks like there is some problem with IntelliJ&#39;s embedded maven plugin, I should have tried maven itself directly from the command line, well learn and live :)","body":"Looks like there is some problem with IntelliJ&#39;s embedded maven plugin, I should have tried maven itself directly from the command line, well learn and live :)"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1664989923,"post_id":73914125,"comment_id":130596442,"body_markdown":"Thanks, we&#39;ll check InteliJ and see if we can fix","body":"Thanks, we&#39;ll check InteliJ and see if we can fix"},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1665000298,"post_id":73914125,"comment_id":130599610,"body_markdown":"Hey, @InbarGazit all the sample apps shown on https://developers.docusign.com/sample-apps/ are written in different languages but Java, could you please guide me to some Java sample apps?","body":"Hey, @InbarGazit all the sample apps shown on <a href=\"https://developers.docusign.com/sample-apps/\" rel=\"nofollow noreferrer\">developers.docusign.com/sample-apps</a> are written in different languages but Java, could you please guide me to some Java sample apps?"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1665002026,"post_id":73914125,"comment_id":130600091,"body_markdown":"We don&#39;t have one yet, but hope to have one soon. Sorry about that.","body":"We don&#39;t have one yet, but hope to have one soon. Sorry about that."},{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":1,"creation_date":1665004752,"post_id":73914125,"comment_id":130600835,"body_markdown":"Appreciate your response, thanks.","body":"Appreciate your response, thanks."}],"answers":[{"tags":[],"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664835046,"creation_date":1664586282,"answer_id":73915162,"question_id":73914125,"body_markdown":"**UPDATE 10/3/2022** - We have made a fix available, please try again and it should work properly. \r\n\r\nWe have identified a regression bug in the &quot;Authorization code grant embedded signing example&quot; (middle option) of the Java quickstart. You can try the right-most (full) option for now. We&#39;ll fix it soon.\r\nThe full option includes all code examples as well as both Auth Code Grant and JWT so should be good for now.","title":"Issues with the DocuSign quickstart tool&#39;s produced Java Spring Boot example (OAuth2 client authorization code grant) app?","body":"<p><strong>UPDATE 10/3/2022</strong> - We have made a fix available, please try again and it should work properly.</p>\n<p>We have identified a regression bug in the &quot;Authorization code grant embedded signing example&quot; (middle option) of the Java quickstart. You can try the right-most (full) option for now. We'll fix it soon.\nThe full option includes all code examples as well as both Auth Code Grant and JWT so should be good for now.</p>\n"}],"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73915162,"answer_count":1,"score":1,"last_activity_date":1664907712,"creation_date":1664573536,"question_id":73914125,"body_markdown":"Thanks for reading my question.\r\nI am trying to build an OAuth2 client app (Authorization code grant type) integrating with DocuSign. I followed the documentation and the recommended [quickstart][1] way of getting started with the Spring Boot Java code, firstly I couldn&#39;t understand why there are 2 src folders in the produced project.\r\n\r\nOther than this, the quickstart tool says to follow the README.md for further instructions but unfortunately, the project generated like above doesn&#39;t come with any README file. I followed the [Github][2] page of DocuSign java examples and tried to run the app in IntelliJ Ultimate but **I am facing errors viz. &quot;java: package com.docusign.common does not exist&quot;**, &quot;com.docusign.core.model.manifestModels does not exist&quot; I tried to invalidate cache and re-build and re-import the dependencies multiple times but no help. \r\n\r\nI am a bit perplexed by why there are some classes of the external src folder (like OSDetector etc) being used in the inner src folder, and is it really a Spring Boot project or Spring MVC or kind of in between?\r\n\r\nI would like to add for any Developer Advocate reading from DocuSign, instead of loading the examples with a number of libraries and making them complex try to showcase examples (maybe a few) just with your library/ SDK and minimum other dependencies so as we can see your SDK in action in isolation. Definitely, we will add to it as we will build a proper integration.\r\n\r\nThanks again!! :)   \r\n\r\n**EDIT - 10/04/22**\r\n\r\nAs advised I tried to generate the project using quick-start with the extreme right OAuth grant type option (Multiple code examples, ACG, and JWT grant) the project is coming up with one main &quot;src&quot; folder and separate projects for ACG and JWT in folders named as &quot;Quick_ACG&quot; and &quot;JWT Console App&quot;. I deleted the &quot;Quick_ACG&quot; and &quot;JWT Console App&quot; folders just to see if they are anywhere connected with the main app and as anticipated doesn&#39;t look like they are. After configuring and running the main project same is running fine, and I can use it as a starter code for prospective integration.\r\n\r\nI tried to generate an authorization-code-grant flow project using quick-start, but I can&#39;t run the same, adding a picture depicting both scenarios here (ACG on left and full app on right).[enter image description here][3]  \r\n\r\nRest I am still unclear why so many &quot;src&quot; folders are there as you can see in the above image for the ACG type project and here as well ([full project][4]), and moreover, classes from the inner &quot;src&quot; folder are referring to classes in outer src folder for example `OSDetector`\r\n\r\n\r\n  [1]: https://developers.docusign.com/docs/esign-rest-api/quickstart/\r\n  [2]: https://github.com/docusign/code-examples-java\r\n  [3]: https://i.stack.imgur.com/xqEcf.jpg\r\n  [4]: https://i.stack.imgur.com/GCJDw.png","title":"Issues with the DocuSign quickstart tool&#39;s produced Java Spring Boot example (OAuth2 client authorization code grant) app?","body":"<p>Thanks for reading my question.\nI am trying to build an OAuth2 client app (Authorization code grant type) integrating with DocuSign. I followed the documentation and the recommended <a href=\"https://developers.docusign.com/docs/esign-rest-api/quickstart/\" rel=\"nofollow noreferrer\">quickstart</a> way of getting started with the Spring Boot Java code, firstly I couldn't understand why there are 2 src folders in the produced project.</p>\n<p>Other than this, the quickstart tool says to follow the README.md for further instructions but unfortunately, the project generated like above doesn't come with any README file. I followed the <a href=\"https://github.com/docusign/code-examples-java\" rel=\"nofollow noreferrer\">Github</a> page of DocuSign java examples and tried to run the app in IntelliJ Ultimate but <strong>I am facing errors viz. &quot;java: package com.docusign.common does not exist&quot;</strong>, &quot;com.docusign.core.model.manifestModels does not exist&quot; I tried to invalidate cache and re-build and re-import the dependencies multiple times but no help.</p>\n<p>I am a bit perplexed by why there are some classes of the external src folder (like OSDetector etc) being used in the inner src folder, and is it really a Spring Boot project or Spring MVC or kind of in between?</p>\n<p>I would like to add for any Developer Advocate reading from DocuSign, instead of loading the examples with a number of libraries and making them complex try to showcase examples (maybe a few) just with your library/ SDK and minimum other dependencies so as we can see your SDK in action in isolation. Definitely, we will add to it as we will build a proper integration.</p>\n<p>Thanks again!! :)</p>\n<p><strong>EDIT - 10/04/22</strong></p>\n<p>As advised I tried to generate the project using quick-start with the extreme right OAuth grant type option (Multiple code examples, ACG, and JWT grant) the project is coming up with one main &quot;src&quot; folder and separate projects for ACG and JWT in folders named as &quot;Quick_ACG&quot; and &quot;JWT Console App&quot;. I deleted the &quot;Quick_ACG&quot; and &quot;JWT Console App&quot; folders just to see if they are anywhere connected with the main app and as anticipated doesn't look like they are. After configuring and running the main project same is running fine, and I can use it as a starter code for prospective integration.</p>\n<p>I tried to generate an authorization-code-grant flow project using quick-start, but I can't run the same, adding a picture depicting both scenarios here (ACG on left and full app on right).<a href=\"https://i.stack.imgur.com/xqEcf.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Rest I am still unclear why so many &quot;src&quot; folders are there as you can see in the above image for the ACG type project and here as well (<a href=\"https://i.stack.imgur.com/GCJDw.png\" rel=\"nofollow noreferrer\">full project</a>), and moreover, classes from the inner &quot;src&quot; folder are referring to classes in outer src folder for example <code>OSDetector</code></p>\n"},{"tags":["java","listview","javafx","combobox","fxml"],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1664901414,"post_id":73950474,"comment_id":130574026,"body_markdown":"This will work, of course, but the disadvantage is that users won’t know the button exists unless they scroll to the bottom of the combobox items.  The mock-up in the question seems to show it being outside the scrollable list.","body":"This will work, of course, but the disadvantage is that users won’t know the button exists unless they scroll to the bottom of the combobox items.  The mock-up in the question seems to show it being outside the scrollable list."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664903496,"post_id":73950474,"comment_id":130574723,"body_markdown":"@VGR Oh, that&#39;s a good point; I hadn&#39;t noticed that in the mock-up. That would require a custom skin...","body":"@VGR Oh, that&#39;s a good point; I hadn&#39;t noticed that in the mock-up. That would require a custom skin..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664907146,"post_id":73950474,"comment_id":130575808,"body_markdown":"@VGR Which, it turns out in this case, is not too hard to do. See update.","body":"@VGR Which, it turns out in this case, is not too hard to do. See update."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1664907538,"creation_date":1664898688,"answer_id":73950474,"question_id":73950137,"body_markdown":"Edited version:\r\n\r\nAs pointed out in the comments, the mock-up in the OP has the button outside the list view, so that it is visible without scrolling to the bottom of the list view. You can accomplish this by creating a custom skin which overrides the `getPopupContent()` method:\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.skin.ComboBoxListViewSkin;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.VBox;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class HelloController implements Initializable {\r\n    \r\n        @FXML\r\n        private ComboBox&lt;String&gt; frequencyPlanComboBox;\r\n    \r\n        @Override\r\n        public void initialize(URL pURL, ResourceBundle pResourceBundle) {\r\n    \r\n            for (int i = 1 ; i &lt;=20 ;i++) {\r\n                frequencyPlanComboBox.getItems().add(&quot;Item &quot;+i);\r\n            }\r\n    \r\n            ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox) {\r\n                private Button button = new Button(&quot;Add New&quot;);\r\n    \r\n                private VBox pane = new VBox();\r\n                {\r\n                    pane.setStyle(&quot;-fx-background-color: -fx-control-inner-background;&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public Node getPopupContent() {\r\n                    Node defaultContent = super.getPopupContent();\r\n                    defaultContent.setManaged(true);\r\n                    pane.getChildren().setAll(defaultContent, button);\r\n                    return pane ;\r\n                }\r\n            };\r\n            comboBoxListViewSkin.setHideOnClick(false);\r\n            frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\r\n    \r\n        }\r\n    }\r\n\r\n---\r\n\r\nHere is the original solution, which is probably less desirable:\r\n\r\nAdd a null value to the end of the combo box items list, and use a custom list cell which displays the button for that value.\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.skin.ComboBoxListViewSkin;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class HelloController implements Initializable {\r\n    \r\n        @FXML\r\n        private ComboBox&lt;String&gt; frequencyPlanComboBox;\r\n    \r\n        @Override\r\n        public void initialize(URL pURL, ResourceBundle pResourceBundle) {\r\n            frequencyPlanComboBox.getItems()\r\n                    .addAll(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, null);\r\n            ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox);\r\n            comboBoxListViewSkin.setHideOnClick(false);\r\n            frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\r\n    \r\n            frequencyPlanComboBox.setCellFactory(lv -&gt; new ListCell&lt;&gt;() {\r\n                private Button button = new Button(&quot;Add New...&quot;);\r\n                {\r\n                    button.setOnAction(e -&gt; {\r\n                        /*\r\n                        Do something\r\n                         */\r\n                        System.out.println(&quot;Button pressed&quot;);\r\n                    });\r\n                }\r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (empty) {\r\n                        setText(&quot;&quot;) ;\r\n                        setGraphic(null);\r\n                    } else if (item == null) {\r\n                        setText(&quot;&quot;);\r\n                        setGraphic(button);\r\n                    } else {\r\n                        setText(item);\r\n                        setGraphic(null);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nYou probably want to experiment a bit with styling that cell, so it doesn&#39;t appear selected.\r\n","title":"Add a button at the end of a ComboBox list view","body":"<p>Edited version:</p>\n<p>As pointed out in the comments, the mock-up in the OP has the button outside the list view, so that it is visible without scrolling to the bottom of the list view. You can accomplish this by creating a custom skin which overrides the <code>getPopupContent()</code> method:</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.skin.ComboBoxListViewSkin;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n\n    @FXML\n    private ComboBox&lt;String&gt; frequencyPlanComboBox;\n\n    @Override\n    public void initialize(URL pURL, ResourceBundle pResourceBundle) {\n\n        for (int i = 1 ; i &lt;=20 ;i++) {\n            frequencyPlanComboBox.getItems().add(&quot;Item &quot;+i);\n        }\n\n        ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox) {\n            private Button button = new Button(&quot;Add New&quot;);\n\n            private VBox pane = new VBox();\n            {\n                pane.setStyle(&quot;-fx-background-color: -fx-control-inner-background;&quot;);\n            }\n\n            @Override\n            public Node getPopupContent() {\n                Node defaultContent = super.getPopupContent();\n                defaultContent.setManaged(true);\n                pane.getChildren().setAll(defaultContent, button);\n                return pane ;\n            }\n        };\n        comboBoxListViewSkin.setHideOnClick(false);\n        frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\n\n    }\n}\n</code></pre>\n<hr />\n<p>Here is the original solution, which is probably less desirable:</p>\n<p>Add a null value to the end of the combo box items list, and use a custom list cell which displays the button for that value.</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.skin.ComboBoxListViewSkin;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n\n    @FXML\n    private ComboBox&lt;String&gt; frequencyPlanComboBox;\n\n    @Override\n    public void initialize(URL pURL, ResourceBundle pResourceBundle) {\n        frequencyPlanComboBox.getItems()\n                .addAll(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, null);\n        ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox);\n        comboBoxListViewSkin.setHideOnClick(false);\n        frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\n\n        frequencyPlanComboBox.setCellFactory(lv -&gt; new ListCell&lt;&gt;() {\n            private Button button = new Button(&quot;Add New...&quot;);\n            {\n                button.setOnAction(e -&gt; {\n                    /*\n                    Do something\n                     */\n                    System.out.println(&quot;Button pressed&quot;);\n                });\n            }\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty) {\n                    setText(&quot;&quot;) ;\n                    setGraphic(null);\n                } else if (item == null) {\n                    setText(&quot;&quot;);\n                    setGraphic(button);\n                } else {\n                    setText(item);\n                    setGraphic(null);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>You probably want to experiment a bit with styling that cell, so it doesn't appear selected.</p>\n"}],"owner":{"account_id":3267109,"reputation":551,"user_id":2751394,"accept_rate":80,"display_name":"Skartt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73950474,"answer_count":1,"score":1,"last_activity_date":1664907538,"creation_date":1664896930,"question_id":73950137,"body_markdown":"I need to create a combo box which can have a button at the end of its list view. This list can have items added or removed and displays a scroll bar when the number of items is over 5. Also, this list view does not close itself when an item is selected.\r\n\r\nHow to add a button &quot;New item&quot; like in the following screen shots ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the source code:\r\n\r\nhelloApplication.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nHelloController.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.skin.ComboBoxListViewSkin;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class HelloController implements Initializable {\r\n    \r\n        @FXML\r\n        private ComboBox&lt;String&gt; frequencyPlanComboBox;\r\n    \r\n        @Override\r\n        public void initialize(URL pURL, ResourceBundle pResourceBundle) {\r\n            frequencyPlanComboBox.getItems()\r\n                                 .addAll(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\r\n            ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox);\r\n            comboBoxListViewSkin.setHideOnClick(false);\r\n            frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\r\n        }\r\n    }\r\n\r\nhello-view.fxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.ComboBox?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/null&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n        &lt;/padding&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\r\n       &lt;ComboBox fx:id=&quot;frequencyPlanComboBox&quot; prefWidth=&quot;150.0&quot; visibleRowCount=&quot;5&quot; /&gt;\r\n    &lt;/VBox&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZuUk.jpg","title":"Add a button at the end of a ComboBox list view","body":"<p>I need to create a combo box which can have a button at the end of its list view. This list can have items added or removed and displays a scroll bar when the number of items is over 5. Also, this list view does not close itself when an item is selected.</p>\n<p>How to add a button &quot;New item&quot; like in the following screen shots ?</p>\n<p><a href=\"https://i.stack.imgur.com/MZuUk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZuUk.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the source code:</p>\n<p>helloApplication.java</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>HelloController.java</p>\n<pre><code>package com.example.demo;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.skin.ComboBoxListViewSkin;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HelloController implements Initializable {\n\n    @FXML\n    private ComboBox&lt;String&gt; frequencyPlanComboBox;\n\n    @Override\n    public void initialize(URL pURL, ResourceBundle pResourceBundle) {\n        frequencyPlanComboBox.getItems()\n                             .addAll(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;);\n        ComboBoxListViewSkin&lt;String&gt; comboBoxListViewSkin = new ComboBoxListViewSkin&lt;String&gt;(frequencyPlanComboBox);\n        comboBoxListViewSkin.setHideOnClick(false);\n        frequencyPlanComboBox.setSkin(comboBoxListViewSkin);\n    }\n}\n</code></pre>\n<p>hello-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/null&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot; /&gt;\n   &lt;ComboBox fx:id=&quot;frequencyPlanComboBox&quot; prefWidth=&quot;150.0&quot; visibleRowCount=&quot;5&quot; /&gt;\n&lt;/VBox&gt;\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":23672740,"reputation":33,"user_id":17699293,"display_name":"Abhijith E A"},"score":0,"creation_date":1639732945,"post_id":70390605,"comment_id":124429068,"body_markdown":"getting this error **class java.lang.Long cannot be cast to class java.lang.Integer** from first line ``itemFrom```.","body":"getting this error <b>class java.lang.Long cannot be cast to class java.lang.Integer</b> from first line ``itemFrom```."},{"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"score":0,"creation_date":1639759577,"post_id":70390605,"comment_id":124438909,"body_markdown":"@AbhijithEA Interesting. I will edit by answer according to this mistake","body":"@AbhijithEA Interesting. I will edit by answer according to this mistake"}],"tags":[],"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639760358,"creation_date":1639731385,"answer_id":70390605,"question_id":70389908,"body_markdown":"In general, you violated the Single Responsibility principal (SOLID), because your code do two different things together: parse a file and categorize items. You should split these responsibilities.\r\n\r\nOne of ways how you do this is to create classes that represents your data. Let&#39;s assume that these classes are `Item`, `Category`, `Order` and `CategorizedItems`. `Order` is a class that represents your source `JSONObject` and `CategorizedItems` - represents your result `JSONArray`.\r\n\r\nIn this case, you should firstly parse the file into these classes and only after that transform them into `JSONArray`.\r\n\r\nCode sample:\r\n\r\nData classes:\r\n\r\n```\r\nclass Order {\r\n    private final List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\n    public void addItem(Item item) {\r\n        items.add(item);\r\n    }\r\n\r\n    public List&lt;Item&gt; getAllItems() {\r\n        return new ArrayList&lt;&gt;(items);\r\n    }\r\n}\r\n\r\nenum Category {\r\n    DAIRY(&quot;Dairy&quot;),\r\n    MEAT(&quot;Meat&quot;);\r\n\r\n    private final String value;\r\n\r\n    Category(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public static Category of(String value) {\r\n        for (Category category : values()) {\r\n            if (category.value.equals(value)) {\r\n                return category;\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;Unknown category&quot;);\r\n    }\r\n}\r\n\r\nclass CategorizedItems {\r\n    private final Category category;\r\n    private final List&lt;Item&gt; items;\r\n\r\n    public CategorizedItems(Category category, List&lt;Item&gt; items) {\r\n        this.category = category;\r\n        this.items = items;\r\n    }\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public List&lt;Item&gt; getItems() {\r\n        return items;\r\n    }\r\n}\r\nclass Item {\r\n    private final long id;\r\n    private final String name;\r\n    private final long price;\r\n    private final Category category;\r\n\r\n\r\n    public Item(long id, String name, long price, Category category) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.category = category;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public long getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n}\r\n``` \r\n\r\nNow you should write methods, for example, static ones in your `ReadOrderDetails`:\r\n\r\n```\r\n    private static JSONArray categorizedItemsToJSONArray(List&lt;CategorizedItems&gt; categorizedItems) {\r\n        JSONArray jsonArray = new JSONArray();\r\n        categorizedItems.forEach(category -&gt; jsonArray.add(toJSONObject(category)));\r\n\r\n        return jsonArray;\r\n    }\r\n\r\n    private static JSONObject toJSONObject(CategorizedItems categorizedItems) {\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;category&quot;, categorizedItems.getCategory().getValue());\r\n        jsonObject.put(&quot;items&quot;, itemsToJSONArray(categorizedItems.getItems()));\r\n\r\n        return jsonObject;\r\n    }\r\n\r\n    private static JSONArray itemsToJSONArray(List&lt;Item&gt; items) {\r\n        JSONArray jsonArray = new JSONArray();\r\n        items.forEach(item -&gt; jsonArray.add(toJSONObject(item)));\r\n\r\n        return jsonArray;\r\n    }\r\n\r\n    private static JSONObject toJSONObject(Item item) {\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;item-id&quot;, item.getId());\r\n        jsonObject.put(&quot;name&quot;, item.getName());\r\n        jsonObject.put(&quot;price&quot;, item.getName());\r\n        jsonObject.put(&quot;category&quot;, item.getCategory().getValue());\r\n\r\n        return jsonObject;\r\n    }\r\n\r\n\r\n    private static List&lt;CategorizedItems&gt; categorize(Order order) {\r\n        List&lt;CategorizedItems&gt; categorizedItems = new ArrayList&lt;&gt;();\r\n        for (Category category : Category.values()) {\r\n            categorizedItems.add(\r\n                    new CategorizedItems(\r\n                            category,\r\n                            order.getAllItems()\r\n                                    .stream()\r\n                                    .filter(item -&gt; item.getCategory() == category)\r\n                                    .collect(Collectors.toList())\r\n                    )\r\n            );\r\n        }\r\n\r\n        return categorizedItems;\r\n    }\r\n\r\n    private static Order orderFrom(JSONObject jsonObject) {\r\n        JSONArray itemsJsonArray = (JSONArray) jsonObject.get(&quot;items&quot;);\r\n\r\n        Order order = new Order();\r\n        for (Object jsonArrayMember : itemsJsonArray) {\r\n            JSONObject itemJsonObject = (JSONObject) jsonArrayMember;\r\n            order.addItem(itemFrom(itemJsonObject));\r\n        }\r\n\r\n        return order;\r\n    }\r\n\r\n    private static Item itemFrom(JSONObject jsonObject) {\r\n        long itemId = (Long) jsonObject.get(&quot;item-id&quot;);\r\n        String itemName = (String) jsonObject.get(&quot;name&quot;);\r\n        long itemPrice = (Long) jsonObject.get(&quot;price&quot;);\r\n        Category category = Category.of((String) jsonObject.get(&quot;category&quot;));\r\n\r\n        return new Item(\r\n                itemId,\r\n                itemName,\r\n                itemPrice,\r\n                category\r\n        );\r\n    }\r\n``` \r\n\r\nAfter that you should do the last step. Write a main function like:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        JSONParser parser = new JSONParser();\r\n\r\n\r\n        try {\r\n            JSONObject orderJsonObject = (JSONObject) parser.parse(new FileReader(&quot;order-details.json&quot;));\r\n            Order order = orderFrom(orderJsonObject);\r\n            List&lt;CategorizedItems&gt; categorizedItems = categorize(order);\r\n            JSONArray categorizedItemsJsonArray = categorizedItemsToJSONArray(categorizedItems);\r\n\r\n            // write categorizedItemsJsonArray to a file here\r\n        } catch(IOException | ParseException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nNow your code is simply readable and clear. You can easily maintain it. I advise you to read about SOLID principals and about code style (I highly recommend Robert Martin. &quot;Clean code&quot;). These topics will help you learn how to write elegant and clear code.\r\n\r\nBesides, `ConcurrentModificationException` is a sign that you do something wrong with collections. In your particular case, I guess (not sure) the problem is modifying the JSONArray while you are iteratting it. Only some of Java collections allow it. \r\n\r\n**EDIT** Fix problem with integers by replacing them with long.\r\n\r\nGood luck with Java :)","title":"Split data in JSON file based on a key value using java","body":"<p>In general, you violated the Single Responsibility principal (SOLID), because your code do two different things together: parse a file and categorize items. You should split these responsibilities.</p>\n<p>One of ways how you do this is to create classes that represents your data. Let's assume that these classes are <code>Item</code>, <code>Category</code>, <code>Order</code> and <code>CategorizedItems</code>. <code>Order</code> is a class that represents your source <code>JSONObject</code> and <code>CategorizedItems</code> - represents your result <code>JSONArray</code>.</p>\n<p>In this case, you should firstly parse the file into these classes and only after that transform them into <code>JSONArray</code>.</p>\n<p>Code sample:</p>\n<p>Data classes:</p>\n<pre><code>class Order {\n    private final List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n\n    public void addItem(Item item) {\n        items.add(item);\n    }\n\n    public List&lt;Item&gt; getAllItems() {\n        return new ArrayList&lt;&gt;(items);\n    }\n}\n\nenum Category {\n    DAIRY(&quot;Dairy&quot;),\n    MEAT(&quot;Meat&quot;);\n\n    private final String value;\n\n    Category(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public static Category of(String value) {\n        for (Category category : values()) {\n            if (category.value.equals(value)) {\n                return category;\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;Unknown category&quot;);\n    }\n}\n\nclass CategorizedItems {\n    private final Category category;\n    private final List&lt;Item&gt; items;\n\n    public CategorizedItems(Category category, List&lt;Item&gt; items) {\n        this.category = category;\n        this.items = items;\n    }\n\n    public Category getCategory() {\n        return category;\n    }\n\n    public List&lt;Item&gt; getItems() {\n        return items;\n    }\n}\nclass Item {\n    private final long id;\n    private final String name;\n    private final long price;\n    private final Category category;\n\n\n    public Item(long id, String name, long price, Category category) {\n        this.id = id;\n        this.name = name;\n        this.price = price;\n        this.category = category;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public long getPrice() {\n        return price;\n    }\n\n    public Category getCategory() {\n        return category;\n    }\n}\n</code></pre>\n<p>Now you should write methods, for example, static ones in your <code>ReadOrderDetails</code>:</p>\n<pre><code>    private static JSONArray categorizedItemsToJSONArray(List&lt;CategorizedItems&gt; categorizedItems) {\n        JSONArray jsonArray = new JSONArray();\n        categorizedItems.forEach(category -&gt; jsonArray.add(toJSONObject(category)));\n\n        return jsonArray;\n    }\n\n    private static JSONObject toJSONObject(CategorizedItems categorizedItems) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;category&quot;, categorizedItems.getCategory().getValue());\n        jsonObject.put(&quot;items&quot;, itemsToJSONArray(categorizedItems.getItems()));\n\n        return jsonObject;\n    }\n\n    private static JSONArray itemsToJSONArray(List&lt;Item&gt; items) {\n        JSONArray jsonArray = new JSONArray();\n        items.forEach(item -&gt; jsonArray.add(toJSONObject(item)));\n\n        return jsonArray;\n    }\n\n    private static JSONObject toJSONObject(Item item) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;item-id&quot;, item.getId());\n        jsonObject.put(&quot;name&quot;, item.getName());\n        jsonObject.put(&quot;price&quot;, item.getName());\n        jsonObject.put(&quot;category&quot;, item.getCategory().getValue());\n\n        return jsonObject;\n    }\n\n\n    private static List&lt;CategorizedItems&gt; categorize(Order order) {\n        List&lt;CategorizedItems&gt; categorizedItems = new ArrayList&lt;&gt;();\n        for (Category category : Category.values()) {\n            categorizedItems.add(\n                    new CategorizedItems(\n                            category,\n                            order.getAllItems()\n                                    .stream()\n                                    .filter(item -&gt; item.getCategory() == category)\n                                    .collect(Collectors.toList())\n                    )\n            );\n        }\n\n        return categorizedItems;\n    }\n\n    private static Order orderFrom(JSONObject jsonObject) {\n        JSONArray itemsJsonArray = (JSONArray) jsonObject.get(&quot;items&quot;);\n\n        Order order = new Order();\n        for (Object jsonArrayMember : itemsJsonArray) {\n            JSONObject itemJsonObject = (JSONObject) jsonArrayMember;\n            order.addItem(itemFrom(itemJsonObject));\n        }\n\n        return order;\n    }\n\n    private static Item itemFrom(JSONObject jsonObject) {\n        long itemId = (Long) jsonObject.get(&quot;item-id&quot;);\n        String itemName = (String) jsonObject.get(&quot;name&quot;);\n        long itemPrice = (Long) jsonObject.get(&quot;price&quot;);\n        Category category = Category.of((String) jsonObject.get(&quot;category&quot;));\n\n        return new Item(\n                itemId,\n                itemName,\n                itemPrice,\n                category\n        );\n    }\n</code></pre>\n<p>After that you should do the last step. Write a main function like:</p>\n<pre><code>    public static void main(String[] args) {\n        JSONParser parser = new JSONParser();\n\n\n        try {\n            JSONObject orderJsonObject = (JSONObject) parser.parse(new FileReader(&quot;order-details.json&quot;));\n            Order order = orderFrom(orderJsonObject);\n            List&lt;CategorizedItems&gt; categorizedItems = categorize(order);\n            JSONArray categorizedItemsJsonArray = categorizedItemsToJSONArray(categorizedItems);\n\n            // write categorizedItemsJsonArray to a file here\n        } catch(IOException | ParseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Now your code is simply readable and clear. You can easily maintain it. I advise you to read about SOLID principals and about code style (I highly recommend Robert Martin. &quot;Clean code&quot;). These topics will help you learn how to write elegant and clear code.</p>\n<p>Besides, <code>ConcurrentModificationException</code> is a sign that you do something wrong with collections. In your particular case, I guess (not sure) the problem is modifying the JSONArray while you are iteratting it. Only some of Java collections allow it.</p>\n<p><strong>EDIT</strong> Fix problem with integers by replacing them with long.</p>\n<p>Good luck with Java :)</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639735923,"creation_date":1639735923,"answer_id":70391532,"question_id":70389908,"body_markdown":"You can&#39;t alter a collection while iterating it. Try this:\r\n\r\n                    Object[] subOrderArray = subOrders.toArray();\r\n                    for(Object o: subOrderArray) {\r\n                        JSONObject sitem = (JSONObject) o;\r\n","title":"Split data in JSON file based on a key value using java","body":"<p>You can't alter a collection while iterating it. Try this:</p>\n<pre><code>                Object[] subOrderArray = subOrders.toArray();\n                for(Object o: subOrderArray) {\n                    JSONObject sitem = (JSONObject) o;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25095701,"reputation":11,"user_id":18946901,"display_name":"LeoTaylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651733300,"creation_date":1651733300,"answer_id":72122993,"question_id":70389908,"body_markdown":"Here you want to group the JSON data by category under items array. The code will be very long if you try to get this done in Java. Just try using SPL, an open-source Java package, to do this. You only need one line of code:\r\n\r\n||A|\r\n|:-|:-|\r\n|1|=json(file(&quot;data.json&quot;).read()).items.group(#4;~:items)|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as group.splx and invoke it in a Java application as you call a stored procedure:\r\n```\r\n…\r\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\nst = con.prepareCall(&quot;call group()&quot;);\r\nst.execute();\r\n…\r\n```","title":"Split data in JSON file based on a key value using java","body":"<p>Here you want to group the JSON data by category under items array. The code will be very long if you try to get this done in Java. Just try using SPL, an open-source Java package, to do this. You only need one line of code:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=json(file(&quot;data.json&quot;).read()).items.group(#4;~:items)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as group.splx and invoke it in a Java application as you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call group()&quot;);\nst.execute();\n…\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664907362,"creation_date":1664907362,"answer_id":73952038,"question_id":70389908,"body_markdown":"Library *Josson* can do the job with a very simple statement.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;items\\&quot;:[&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;item-id\\&quot;: 123,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Cheese\\&quot;,&quot; +\r\n        &quot;            \\&quot;price\\&quot;: 8,&quot; +\r\n        &quot;            \\&quot;category\\&quot;: \\&quot;Dairy\\&quot; &quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;item-id\\&quot;: 124,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Milk\\&quot;,&quot; +\r\n        &quot;            \\&quot;price\\&quot;: 23,&quot; +\r\n        &quot;            \\&quot;category\\&quot;: \\&quot;Dairy\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;item-id\\&quot;: 125,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Chicken\\&quot;,&quot; +\r\n        &quot;            \\&quot;price\\&quot;: 100,&quot; +\r\n        &quot;            \\&quot;category\\&quot;: \\&quot;Meat\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;item-id\\&quot;: 126,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Fish\\&quot;,&quot; +\r\n        &quot;            \\&quot;price\\&quot;: 45,&quot; +\r\n        &quot;            \\&quot;category\\&quot;: \\&quot;Meat\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(&quot;items.group(category, items:?)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    [ {\r\n      &quot;category&quot; : &quot;Dairy&quot;,\r\n      &quot;items&quot; : [ {\r\n        &quot;item-id&quot; : 123,\r\n        &quot;name&quot; : &quot;Cheese&quot;,\r\n        &quot;price&quot; : 8,\r\n        &quot;category&quot; : &quot;Dairy&quot;\r\n      }, {\r\n        &quot;item-id&quot; : 124,\r\n        &quot;name&quot; : &quot;Milk&quot;,\r\n        &quot;price&quot; : 23,\r\n        &quot;category&quot; : &quot;Dairy&quot;\r\n      } ]\r\n    }, {\r\n      &quot;category&quot; : &quot;Meat&quot;,\r\n      &quot;items&quot; : [ {\r\n        &quot;item-id&quot; : 125,\r\n        &quot;name&quot; : &quot;Chicken&quot;,\r\n        &quot;price&quot; : 100,\r\n        &quot;category&quot; : &quot;Meat&quot;\r\n      }, {\r\n        &quot;item-id&quot; : 126,\r\n        &quot;name&quot; : &quot;Fish&quot;,\r\n        &quot;price&quot; : 45,\r\n        &quot;category&quot; : &quot;Meat&quot;\r\n      } ]\r\n    } ]","title":"Split data in JSON file based on a key value using java","body":"<p>Library <em>Josson</em> can do the job with a very simple statement.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;items\\&quot;:[&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;item-id\\&quot;: 123,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Cheese\\&quot;,&quot; +\n    &quot;            \\&quot;price\\&quot;: 8,&quot; +\n    &quot;            \\&quot;category\\&quot;: \\&quot;Dairy\\&quot; &quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;item-id\\&quot;: 124,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Milk\\&quot;,&quot; +\n    &quot;            \\&quot;price\\&quot;: 23,&quot; +\n    &quot;            \\&quot;category\\&quot;: \\&quot;Dairy\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;item-id\\&quot;: 125,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Chicken\\&quot;,&quot; +\n    &quot;            \\&quot;price\\&quot;: 100,&quot; +\n    &quot;            \\&quot;category\\&quot;: \\&quot;Meat\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;item-id\\&quot;: 126,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Fish\\&quot;,&quot; +\n    &quot;            \\&quot;price\\&quot;: 45,&quot; +\n    &quot;            \\&quot;category\\&quot;: \\&quot;Meat\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(&quot;items.group(category, items:?)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;category&quot; : &quot;Dairy&quot;,\n  &quot;items&quot; : [ {\n    &quot;item-id&quot; : 123,\n    &quot;name&quot; : &quot;Cheese&quot;,\n    &quot;price&quot; : 8,\n    &quot;category&quot; : &quot;Dairy&quot;\n  }, {\n    &quot;item-id&quot; : 124,\n    &quot;name&quot; : &quot;Milk&quot;,\n    &quot;price&quot; : 23,\n    &quot;category&quot; : &quot;Dairy&quot;\n  } ]\n}, {\n  &quot;category&quot; : &quot;Meat&quot;,\n  &quot;items&quot; : [ {\n    &quot;item-id&quot; : 125,\n    &quot;name&quot; : &quot;Chicken&quot;,\n    &quot;price&quot; : 100,\n    &quot;category&quot; : &quot;Meat&quot;\n  }, {\n    &quot;item-id&quot; : 126,\n    &quot;name&quot; : &quot;Fish&quot;,\n    &quot;price&quot; : 45,\n    &quot;category&quot; : &quot;Meat&quot;\n  } ]\n} ]\n</code></pre>\n"}],"owner":{"account_id":23672740,"reputation":33,"user_id":17699293,"display_name":"Abhijith E A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70390605,"answer_count":4,"score":3,"last_activity_date":1664907362,"creation_date":1639727345,"question_id":70389908,"body_markdown":"I have a json file with which has an array of product items i want to split them based on the category of the item,\r\nThis is my json file looks like,\r\n```\r\n{\r\n    &quot;items&quot;:[\r\n        {\r\n            &quot;item-id&quot;: 123,\r\n            &quot;name&quot;: &quot;Cheese&quot;,\r\n            &quot;price&quot;: 8,\r\n            &quot;category&quot;: &quot;Dairy&quot; \r\n        },\r\n        {\r\n            &quot;item-id&quot;: 124,\r\n            &quot;name&quot;: &quot;Milk&quot;,\r\n            &quot;price&quot;: 23,\r\n            &quot;category&quot;: &quot;Dairy&quot;\r\n        },\r\n        {\r\n            &quot;item-id&quot;: 125,\r\n            &quot;name&quot;: &quot;Chicken&quot;,\r\n            &quot;price&quot;: 100,\r\n            &quot;category&quot;: &quot;Meat&quot;\r\n        },\r\n        {\r\n            &quot;item-id&quot;: 126,\r\n            &quot;name&quot;: &quot;Fish&quot;,\r\n            &quot;price&quot;: 45,\r\n            &quot;category&quot;: &quot;Meat&quot;\r\n        }\r\n    ]\r\n}\r\n\r\n```\r\n\r\ni want to split them like like this,\r\n\r\n```\r\n[\r\n    {\r\n        &quot;category&quot;:&quot;Dairy&quot;,\r\n        &quot;items&quot;:[\r\n            {\r\n                &quot;item-id&quot;: 123,\r\n                &quot;name&quot;: &quot;Cheese&quot;,\r\n                &quot;price&quot;: 8,\r\n                &quot;category&quot;: &quot;Dairy&quot; \r\n            },\r\n            {\r\n                &quot;item-id&quot;: 124,\r\n                &quot;name&quot;: &quot;Milk&quot;,\r\n                &quot;price&quot;: 23,\r\n                &quot;category&quot;: &quot;Dairy&quot;\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;category&quot;:&quot;Meat&quot;,\r\n        &quot;items&quot;:[\r\n            {\r\n                &quot;item-id&quot;: 125,\r\n                &quot;name&quot;: &quot;Chicken&quot;,\r\n                &quot;price&quot;: 100,\r\n                &quot;category&quot;: &quot;Meat&quot;\r\n            },\r\n            {\r\n                &quot;item-id&quot;: 126,\r\n                &quot;name&quot;: &quot;Fish&quot;,\r\n                &quot;price&quot;: 45,\r\n                &quot;category&quot;: &quot;Meat&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\n```\r\n\r\nthis is the code i tried so far but can&#39;t find way to split them like the way i wanted, I&#39;m using java and also i am new to java\r\n```\r\nimport java.io.*; \r\nimport java.util.*;\r\nimport org.json.simple.*;\r\nimport org.json.simple.parser.*;\r\n\r\npublic class ReadOrderDetails {\r\n\r\n\t@SuppressWarnings(&quot;unused&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tJSONObject subOrder = new JSONObject();\r\n\t\tJSONArray  gitems = new JSONArray();\r\n\t\tJSONArray  subOrders = new JSONArray();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tObject obj = parser.parse(new FileReader(&quot;order-details.json&quot;));\r\n\t\t\tJSONObject jsonObject = (JSONObject)obj;\r\n\t\t\tString orderId = (String)jsonObject.get(&quot;orderId&quot;);\r\n\t\t\tJSONArray items = (JSONArray)jsonObject.get(&quot;items&quot;);\r\n\t\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\tIterator iterator = items.iterator();\r\n\t\t\tSystem.out.println(&quot;Order Id: &quot; + orderId);\r\n\t\t\twhile(iterator.hasNext()) {\r\n\t\t\t\tJSONObject item = (JSONObject)iterator.next();\r\n\t\t\t\tif(subOrders.isEmpty()) {\r\n\t\t\t\t\tsubOrder.put(&quot;category&quot;, item.get(&quot;category&quot;));\r\n\t\t\t\t\tgitems.add(item);\r\n\t\t\t\t\tsubOrder.put(&quot;items&quot;, gitems);\r\n\t\t\t\t\tsubOrders.add(subOrder);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tIterator subOrdersIterator = subOrders.iterator();\r\n\t\t\t\t\tfor(int i=0; i&lt;subOrders.size(); i++) {\r\n\t\t\t\t\t\tJSONObject sitem = (JSONObject) subOrdersIterator.next();\r\n\t\t\t\t\t\tif(sitem.get(&quot;category&quot;) == item.get(&quot;category&quot;)) {\r\n\t\t\t\t\t\t\tgitems.add(item);\r\n\t\t\t\t\t\t\tsubOrder.put(&quot;items&quot;, gitems);\r\n\t\t\t\t\t\t\tsubOrders.add(subOrder);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsubOrder.put(&quot;category&quot;, item.get(&quot;category&quot;));\r\n\t\t\t\t\t\t\tgitems.add(item);\r\n\t\t\t\t\t\t\tsubOrder.put(&quot;items&quot;, gitems);\r\n\t\t\t\t\t\t\tsubOrders.add(subOrder);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(subOrders);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nand also i&#39;m getting an error at **java.util.ConcurrentModificationException** but that&#39;s not my main question, what i really wnated a way to split them i tried couple of things didn&#39;t working","title":"Split data in JSON file based on a key value using java","body":"<p>I have a json file with which has an array of product items i want to split them based on the category of the item,\nThis is my json file looks like,</p>\n<pre><code>{\n    &quot;items&quot;:[\n        {\n            &quot;item-id&quot;: 123,\n            &quot;name&quot;: &quot;Cheese&quot;,\n            &quot;price&quot;: 8,\n            &quot;category&quot;: &quot;Dairy&quot; \n        },\n        {\n            &quot;item-id&quot;: 124,\n            &quot;name&quot;: &quot;Milk&quot;,\n            &quot;price&quot;: 23,\n            &quot;category&quot;: &quot;Dairy&quot;\n        },\n        {\n            &quot;item-id&quot;: 125,\n            &quot;name&quot;: &quot;Chicken&quot;,\n            &quot;price&quot;: 100,\n            &quot;category&quot;: &quot;Meat&quot;\n        },\n        {\n            &quot;item-id&quot;: 126,\n            &quot;name&quot;: &quot;Fish&quot;,\n            &quot;price&quot;: 45,\n            &quot;category&quot;: &quot;Meat&quot;\n        }\n    ]\n}\n\n</code></pre>\n<p>i want to split them like like this,</p>\n<pre><code>[\n    {\n        &quot;category&quot;:&quot;Dairy&quot;,\n        &quot;items&quot;:[\n            {\n                &quot;item-id&quot;: 123,\n                &quot;name&quot;: &quot;Cheese&quot;,\n                &quot;price&quot;: 8,\n                &quot;category&quot;: &quot;Dairy&quot; \n            },\n            {\n                &quot;item-id&quot;: 124,\n                &quot;name&quot;: &quot;Milk&quot;,\n                &quot;price&quot;: 23,\n                &quot;category&quot;: &quot;Dairy&quot;\n            }\n        ]\n    },\n    {\n        &quot;category&quot;:&quot;Meat&quot;,\n        &quot;items&quot;:[\n            {\n                &quot;item-id&quot;: 125,\n                &quot;name&quot;: &quot;Chicken&quot;,\n                &quot;price&quot;: 100,\n                &quot;category&quot;: &quot;Meat&quot;\n            },\n            {\n                &quot;item-id&quot;: 126,\n                &quot;name&quot;: &quot;Fish&quot;,\n                &quot;price&quot;: 45,\n                &quot;category&quot;: &quot;Meat&quot;\n            }\n        ]\n    }\n]\n\n</code></pre>\n<p>this is the code i tried so far but can't find way to split them like the way i wanted, I'm using java and also i am new to java</p>\n<pre><code>import java.io.*; \nimport java.util.*;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\n\npublic class ReadOrderDetails {\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public static void main(String[] args) {\n        JSONParser parser = new JSONParser();\n        JSONObject subOrder = new JSONObject();\n        JSONArray  gitems = new JSONArray();\n        JSONArray  subOrders = new JSONArray();\n        \n        try {\n            Object obj = parser.parse(new FileReader(&quot;order-details.json&quot;));\n            JSONObject jsonObject = (JSONObject)obj;\n            String orderId = (String)jsonObject.get(&quot;orderId&quot;);\n            JSONArray items = (JSONArray)jsonObject.get(&quot;items&quot;);\n            @SuppressWarnings(&quot;rawtypes&quot;)\n            Iterator iterator = items.iterator();\n            System.out.println(&quot;Order Id: &quot; + orderId);\n            while(iterator.hasNext()) {\n                JSONObject item = (JSONObject)iterator.next();\n                if(subOrders.isEmpty()) {\n                    subOrder.put(&quot;category&quot;, item.get(&quot;category&quot;));\n                    gitems.add(item);\n                    subOrder.put(&quot;items&quot;, gitems);\n                    subOrders.add(subOrder);\n                } else {\n                    Iterator subOrdersIterator = subOrders.iterator();\n                    for(int i=0; i&lt;subOrders.size(); i++) {\n                        JSONObject sitem = (JSONObject) subOrdersIterator.next();\n                        if(sitem.get(&quot;category&quot;) == item.get(&quot;category&quot;)) {\n                            gitems.add(item);\n                            subOrder.put(&quot;items&quot;, gitems);\n                            subOrders.add(subOrder);\n                        } else {\n                            subOrder.put(&quot;category&quot;, item.get(&quot;category&quot;));\n                            gitems.add(item);\n                            subOrder.put(&quot;items&quot;, gitems);\n                            subOrders.add(subOrder);\n                        }\n                    }\n                }\n                \n            }\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        System.out.println(subOrders);\n    }\n\n}\n\n\n\n</code></pre>\n<p>and also i'm getting an error at <strong>java.util.ConcurrentModificationException</strong> but that's not my main question, what i really wnated a way to split them i tried couple of things didn't working</p>\n"},{"tags":["java","spring-data-jpa","consumer"],"comments":[{"owner":{"account_id":2338491,"reputation":5842,"user_id":2050306,"accept_rate":88,"display_name":"robert"},"score":1,"creation_date":1664905131,"post_id":73951638,"comment_id":130575253,"body_markdown":"Can you share what is in your `EventRepository` class? Maybe a simple `@Autowired` is missing.","body":"Can you share what is in your <code>EventRepository</code> class? Maybe a simple <code>@Autowired</code> is missing."},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1664905295,"post_id":73951638,"comment_id":130575301,"body_markdown":"EventRepository is just some field, not autowired","body":"EventRepository is just some field, not autowired"},{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1664905298,"post_id":73951638,"comment_id":130575304,"body_markdown":"i updated the question with more details!","body":"i updated the question with more details!"},{"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"score":0,"creation_date":1664907503,"post_id":73951638,"comment_id":130575891,"body_markdown":"`Autowire` the `EventConsumer` component as well along with `EventRepository` repository","body":"<code>Autowire</code> the <code>EventConsumer</code> component as well along with <code>EventRepository</code> repository"}],"answers":[{"comments":[{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1664905626,"post_id":73951695,"comment_id":130575391,"body_markdown":"Just tried adding last suggestion Autowired but stills is null the print of the repository. I do not if it is because i am Autowiring the repository from within a @Component class or what. I updated the question with current status of my code.","body":"Just tried adding last suggestion Autowired but stills is null the print of the repository. I do not if it is because i am Autowiring the repository from within a @Component class or what. I updated the question with current status of my code."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1664905723,"post_id":73951695,"comment_id":130575422,"body_markdown":"if its printing repository es null, then for sure, spring is not able to wire this bean.\nCan you check if your component scan configuration at EventsApplication class scans base package `com.victor.simple.events`","body":"if its printing repository es null, then for sure, spring is not able to wire this bean. Can you check if your component scan configuration at EventsApplication class scans base package <code>com.victor.simple.events</code>"},{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1664906431,"post_id":73951695,"comment_id":130575617,"body_markdown":"I tried to run a test where i use the repository to save data in my ddbb and it was successful. i add this info in the question so you can see the image of the test class","body":"I tried to run a test where i use the repository to save data in my ddbb and it was successful. i add this info in the question so you can see the image of the test class"}],"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664906298,"creation_date":1664905333,"answer_id":73951695,"question_id":73951638,"body_markdown":"Edit 1:\r\n\r\nalso you can try adding \r\n`@EnableJpaRepositories(basePackages=&quot;com.victor.simple.events&quot;)` or configure it your way so that expected repositories are scanned.\r\n\r\n----\r\n\r\n\r\nDid you missing autowiring EventRepository bean in EventConsumer class?\r\n\r\nCan you try like this:\r\n\r\n```\r\n@Autowired\r\nEventRepository eventRepository;\r\n```","title":"Spring Boot JPA - How to use JPA from a Consumer&lt;T&gt;","body":"<p>Edit 1:</p>\n<p>also you can try adding\n<code>@EnableJpaRepositories(basePackages=&quot;com.victor.simple.events&quot;)</code> or configure it your way so that expected repositories are scanned.</p>\n<hr />\n<p>Did you missing autowiring EventRepository bean in EventConsumer class?</p>\n<p>Can you try like this:</p>\n<pre><code>@Autowired\nEventRepository eventRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664906561,"creation_date":1664906561,"answer_id":73951898,"question_id":73951638,"body_markdown":"You need to `Autowire` the `EventConsumer` in the `EventController`. If you manually instantiate it (as you are currently doing), the `Autowired` dependencies cannot be set by Spring.\r\n\r\n```java\r\n@Autowired\r\nprivate EventConsumer eventConsumer;\r\n```","title":"Spring Boot JPA - How to use JPA from a Consumer&lt;T&gt;","body":"<p>You need to <code>Autowire</code> the <code>EventConsumer</code> in the <code>EventController</code>. If you manually instantiate it (as you are currently doing), the <code>Autowired</code> dependencies cannot be set by Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate EventConsumer eventConsumer;\n</code></pre>\n"}],"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73951898,"answer_count":2,"score":1,"last_activity_date":1664907031,"creation_date":1664904964,"question_id":73951638,"body_markdown":"I am working on an spring boot application that listens to some events through a consumer.\r\n\r\nThe structure of my app is as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEverything seems to work fine except from when an event is emmited and therefore redirected to the consumer class, i can react to the consumer event but i cannot communicate from there to the ddbb. \r\n\r\nNext is my Event entity:\r\n```\r\npackage com.victor.simple.events.entities;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Event {\r\n    @Id\r\n    private String id;\r\n    private String channel;\r\n    private String chaincode;\r\n\r\n    private String event;\r\n    private String iteration;\r\n    private String hash;\r\n    private String createdAt;\r\n    private String eventType;\r\n    private String tenantID;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Event{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, channel=&#39;&quot; + channel + &#39;\\&#39;&#39; +\r\n                &quot;, chaincode=&#39;&quot; + chaincode + &#39;\\&#39;&#39; +\r\n                &quot;, event=&#39;&quot; + event + &#39;\\&#39;&#39; +\r\n                &quot;, iteration=&#39;&quot; + iteration + &#39;\\&#39;&#39; +\r\n                &quot;, hash=&#39;&quot; + hash + &#39;\\&#39;&#39; +\r\n                &quot;, createdAt=&#39;&quot; + createdAt + &#39;\\&#39;&#39; +\r\n                &quot;, eventType=&#39;&quot; + eventType + &#39;\\&#39;&#39; +\r\n                &quot;, tenantID=&#39;&quot; + tenantID + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getChannel() {\r\n        return channel;\r\n    }\r\n\r\n    public void setChannel(String channel) {\r\n        this.channel = channel;\r\n    }\r\n\r\n    public String getChaincode() {\r\n        return chaincode;\r\n    }\r\n\r\n    public void setChaincode(String chaincode) {\r\n        this.chaincode = chaincode;\r\n    }\r\n\r\n    public String getEvent() {\r\n        return event;\r\n    }\r\n\r\n    public void setEvent(String event) {\r\n        this.event = event;\r\n    }\r\n\r\n    public String getIteration() {\r\n        return iteration;\r\n    }\r\n\r\n    public void setIteration(String iteration) {\r\n        this.iteration = iteration;\r\n    }\r\n\r\n    public String getHash() {\r\n        return hash;\r\n    }\r\n\r\n    public void setHash(String hash) {\r\n        this.hash = hash;\r\n    }\r\n\r\n    public String getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(String createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public String getEventType() {\r\n        return eventType;\r\n    }\r\n\r\n    public void setEventType(String eventType) {\r\n        this.eventType = eventType;\r\n    }\r\n\r\n    public String getTenantID() {\r\n        return tenantID;\r\n    }\r\n\r\n    public void setTenantID(String tenantID) {\r\n        this.tenantID = tenantID;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nNext is my EventRepository:\r\n\r\n```\r\npublic interface EventRepository extends JpaRepository&lt;Event,String&gt; {\r\n}\r\n```\r\nNext is my EventController:\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@RestController\r\npublic class EventController {\r\n\r\n    @Autowired\r\n    EventRepository repository;\r\n    private final Gateway networkService;\r\n\r\n    @Value(&quot;${fabric.channel.contract}&quot;)\r\n    private String contractName;\r\n\r\n    @Value(&quot;${fabric.channel.name}&quot;)\r\n    private String channelName;\r\n\r\n    @PostConstruct\r\n    private void registerEvent() throws ContractException{\r\n        System.out.println(&quot;PostConstruct registerEvent() execution start&quot;);\r\n        Network network = networkService.getNetwork(&quot;corechannel&quot;);\r\n        Contract contract = network.getContract(&quot;sample-node-event-victor&quot;);\r\n\r\n\r\n        //Capture contract events\r\n        Consumer&lt;ContractEvent&gt; eventConsumer = new EventConsumer();\r\n        contract.addContractListener(eventConsumer);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nNext is my consumer class:\r\n\r\n```\r\n\r\n@Component\r\npublic class EventConsumer implements Consumer&lt;ContractEvent&gt; {\r\n\r\n    @Autowired\r\n    EventRepository repository;\r\n\r\n    @Override\r\n    public void accept(ContractEvent contractEvent) {\r\n        System.out.println(&quot;Leyendo eventos&quot;);\r\n        System.out.println(&quot;repo es: &quot;+repository);\r\n        //saveEvent();\r\n    }\r\n\r\n    void saveEvent() {\r\n\r\n        Event event=new Event();\r\n        event.setId(&quot;1&quot;);\r\n        repository.save(event);\r\n\r\n    }\r\n}\r\n```\r\n\r\nAny ideas? When i receive the event the sout(&quot;Leyendo eventos&quot;) works fine. But then it says that the repository is null..\r\n\r\n\r\nI also tried by some suggestion to see if the bean was recognized and the test was successfull:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LyFUP.png","title":"Spring Boot JPA - How to use JPA from a Consumer&lt;T&gt;","body":"<p>I am working on an spring boot application that listens to some events through a consumer.</p>\n<p>The structure of my app is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/LyFUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyFUP.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything seems to work fine except from when an event is emmited and therefore redirected to the consumer class, i can react to the consumer event but i cannot communicate from there to the ddbb.</p>\n<p>Next is my Event entity:</p>\n<pre><code>package com.victor.simple.events.entities;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Event {\n    @Id\n    private String id;\n    private String channel;\n    private String chaincode;\n\n    private String event;\n    private String iteration;\n    private String hash;\n    private String createdAt;\n    private String eventType;\n    private String tenantID;\n\n    @Override\n    public String toString() {\n        return &quot;Event{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, channel='&quot; + channel + '\\'' +\n                &quot;, chaincode='&quot; + chaincode + '\\'' +\n                &quot;, event='&quot; + event + '\\'' +\n                &quot;, iteration='&quot; + iteration + '\\'' +\n                &quot;, hash='&quot; + hash + '\\'' +\n                &quot;, createdAt='&quot; + createdAt + '\\'' +\n                &quot;, eventType='&quot; + eventType + '\\'' +\n                &quot;, tenantID='&quot; + tenantID + '\\'' +\n                '}';\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getChannel() {\n        return channel;\n    }\n\n    public void setChannel(String channel) {\n        this.channel = channel;\n    }\n\n    public String getChaincode() {\n        return chaincode;\n    }\n\n    public void setChaincode(String chaincode) {\n        this.chaincode = chaincode;\n    }\n\n    public String getEvent() {\n        return event;\n    }\n\n    public void setEvent(String event) {\n        this.event = event;\n    }\n\n    public String getIteration() {\n        return iteration;\n    }\n\n    public void setIteration(String iteration) {\n        this.iteration = iteration;\n    }\n\n    public String getHash() {\n        return hash;\n    }\n\n    public void setHash(String hash) {\n        this.hash = hash;\n    }\n\n    public String getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(String createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    public void setEventType(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getTenantID() {\n        return tenantID;\n    }\n\n    public void setTenantID(String tenantID) {\n        this.tenantID = tenantID;\n    }\n\n}\n\n</code></pre>\n<p>Next is my EventRepository:</p>\n<pre><code>public interface EventRepository extends JpaRepository&lt;Event,String&gt; {\n}\n</code></pre>\n<p>Next is my EventController:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@RestController\npublic class EventController {\n\n    @Autowired\n    EventRepository repository;\n    private final Gateway networkService;\n\n    @Value(&quot;${fabric.channel.contract}&quot;)\n    private String contractName;\n\n    @Value(&quot;${fabric.channel.name}&quot;)\n    private String channelName;\n\n    @PostConstruct\n    private void registerEvent() throws ContractException{\n        System.out.println(&quot;PostConstruct registerEvent() execution start&quot;);\n        Network network = networkService.getNetwork(&quot;corechannel&quot;);\n        Contract contract = network.getContract(&quot;sample-node-event-victor&quot;);\n\n\n        //Capture contract events\n        Consumer&lt;ContractEvent&gt; eventConsumer = new EventConsumer();\n        contract.addContractListener(eventConsumer);\n\n    }\n\n\n}\n</code></pre>\n<p>Next is my consumer class:</p>\n<pre><code>\n@Component\npublic class EventConsumer implements Consumer&lt;ContractEvent&gt; {\n\n    @Autowired\n    EventRepository repository;\n\n    @Override\n    public void accept(ContractEvent contractEvent) {\n        System.out.println(&quot;Leyendo eventos&quot;);\n        System.out.println(&quot;repo es: &quot;+repository);\n        //saveEvent();\n    }\n\n    void saveEvent() {\n\n        Event event=new Event();\n        event.setId(&quot;1&quot;);\n        repository.save(event);\n\n    }\n}\n</code></pre>\n<p>Any ideas? When i receive the event the sout(&quot;Leyendo eventos&quot;) works fine. But then it says that the repository is null..</p>\n<p>I also tried by some suggestion to see if the bean was recognized and the test was successfull:</p>\n<p><a href=\"https://i.stack.imgur.com/LyFUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyFUP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1664900829,"post_id":73950754,"comment_id":130573833,"body_markdown":"Regarding the &quot;asap&quot;: [Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?](https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest)","body":"Regarding the &quot;asap&quot;: <a href=\"https://meta.stackoverflow.com/questions/326569/under-what-circumstances-may-i-add-urgent-or-other-similar-phrases-to-my-quest\">Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664902263,"creation_date":1664902263,"answer_id":73951173,"question_id":73950754,"body_markdown":"All `sc.next` variants (except `sc.nextLine()` which is weird) work in the exact same way: They fetch __the next__ (hence the name) token from the stream of data, transforms it into what you asked for (`.nextInt()` transforms to an int, etc), and returns it. If the transformation cannot be done, for example, `&quot;aaa&quot;` cannot be transformed to an int, you get an exception.\r\n\r\nCrucially, if a conversion cannot be performed, __the token is not consumed__.\r\n\r\nIn other words:\r\n\r\n```java\r\nScanner s = new Scanner(&quot;aaa bbb 1234&quot;);\r\ntry {\r\n  s.nextInt(); // crashes, &#39;aaa&#39; is not an int\r\n} catch (InputMismatchException e) {\r\n  System.out.println(&quot;First token is not an int&quot;);\r\n}\r\n\r\nSystem.out.println(s.next()); // prints &#39;aaa&#39;\r\n```\r\n\r\nIn other words, the code you pasted &#39;works&#39; by using the fact that if a `.nextLong()` calls doesn&#39;t return normally but throws an exception instead, the token is still there. `.next()` reads a token and just returns it without attempting to transform it into a long or whatnot.\r\n\r\nThus, your code has the following behaviour:\r\n\r\n* If the token can be read fine but cannot be converted to a long, the code works as designed: That `sc.next()` call in the catch block will fetch the token and stuffs it into the exceptions&#39; message.\r\n* If the token _cannot_ be read, for example because the file is on a USB disk and you pulled the USB stick out halfway through, the `nextLong()` call fails, goes to the catch block, which then __fails again__, and now you get an exception in your exception block. This is bad style.\r\n\r\nThus, does the code work? Barely. It&#39;s not nice code. The error message is unclear, and if you want to do this, you should be catching `InputMismatchException`, not all exceptions.\r\n","title":"How sc.next() printed the value of the long that I entered inside try block","body":"<p>All <code>sc.next</code> variants (except <code>sc.nextLine()</code> which is weird) work in the exact same way: They fetch <strong>the next</strong> (hence the name) token from the stream of data, transforms it into what you asked for (<code>.nextInt()</code> transforms to an int, etc), and returns it. If the transformation cannot be done, for example, <code>&quot;aaa&quot;</code> cannot be transformed to an int, you get an exception.</p>\n<p>Crucially, if a conversion cannot be performed, <strong>the token is not consumed</strong>.</p>\n<p>In other words:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(&quot;aaa bbb 1234&quot;);\ntry {\n  s.nextInt(); // crashes, 'aaa' is not an int\n} catch (InputMismatchException e) {\n  System.out.println(&quot;First token is not an int&quot;);\n}\n\nSystem.out.println(s.next()); // prints 'aaa'\n</code></pre>\n<p>In other words, the code you pasted 'works' by using the fact that if a <code>.nextLong()</code> calls doesn't return normally but throws an exception instead, the token is still there. <code>.next()</code> reads a token and just returns it without attempting to transform it into a long or whatnot.</p>\n<p>Thus, your code has the following behaviour:</p>\n<ul>\n<li>If the token can be read fine but cannot be converted to a long, the code works as designed: That <code>sc.next()</code> call in the catch block will fetch the token and stuffs it into the exceptions' message.</li>\n<li>If the token <em>cannot</em> be read, for example because the file is on a USB disk and you pulled the USB stick out halfway through, the <code>nextLong()</code> call fails, goes to the catch block, which then <strong>fails again</strong>, and now you get an exception in your exception block. This is bad style.</li>\n</ul>\n<p>Thus, does the code work? Barely. It's not nice code. The error message is unclear, and if you want to do this, you should be catching <code>InputMismatchException</code>, not all exceptions.</p>\n"}],"owner":{"account_id":26472841,"reputation":1,"user_id":20113201,"display_name":"IASSCybercmd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664906341,"creation_date":1664900180,"question_id":73950754,"body_markdown":"```java\r\nimport java.util.*;\r\n\r\npublic class User {\r\n  public static void main(String[] args) {\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int t=sc.nextInt();\r\n\r\n    for(int i=0;i&lt;t;i++)\r\n    {\r\n\r\n        try\r\n        {\r\n            long x=sc.nextLong();\r\n            System.out.println(x+&quot; can be fitted in:&quot;);\r\n            if(x&gt;=-128 &amp;&amp; x&lt;=127)System.out.println(&quot;* byte&quot;);\r\n            if(x&gt;=(Math.pow(-2,15)) &amp;&amp; x&lt;=(Math.pow(2,15))-1)System.out.println(&quot;* short&quot;);\r\n            if(x&gt;=(Math.pow(-2,31)) &amp;&amp; x&lt;=(Math.pow(2,31))-1)System.out.println(&quot;* int&quot;);\r\n            if(x&gt;=(Math.pow(-2,63)) &amp;&amp; x&lt;=(Math.pow(2,63))-1)System.out.println(&quot;* long&quot;);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(sc.next()+&quot; can&#39;t be fitted anywhere.&quot;);\r\n        }\r\n\r\n    }\r\n    sc.close();\r\n  }\r\n}\r\n```\r\n\r\nSo I can&#39;t understand that how sc.next() printed the value that I entered in the sc.nextLong() \r\n\r\nTo know more about the problem view the link.\r\nhttps://www.hackerrank.com/challenges/java-datatypes/problem\r\n\r\n\r\n","title":"How sc.next() printed the value of the long that I entered inside try block","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class User {\n  public static void main(String[] args) {\n\n    Scanner sc = new Scanner(System.in);\n    int t=sc.nextInt();\n\n    for(int i=0;i&lt;t;i++)\n    {\n\n        try\n        {\n            long x=sc.nextLong();\n            System.out.println(x+&quot; can be fitted in:&quot;);\n            if(x&gt;=-128 &amp;&amp; x&lt;=127)System.out.println(&quot;* byte&quot;);\n            if(x&gt;=(Math.pow(-2,15)) &amp;&amp; x&lt;=(Math.pow(2,15))-1)System.out.println(&quot;* short&quot;);\n            if(x&gt;=(Math.pow(-2,31)) &amp;&amp; x&lt;=(Math.pow(2,31))-1)System.out.println(&quot;* int&quot;);\n            if(x&gt;=(Math.pow(-2,63)) &amp;&amp; x&lt;=(Math.pow(2,63))-1)System.out.println(&quot;* long&quot;);\n        }\n        catch(Exception e)\n        {\n            System.out.println(sc.next()+&quot; can't be fitted anywhere.&quot;);\n        }\n\n    }\n    sc.close();\n  }\n}\n</code></pre>\n<p>So I can't understand that how sc.next() printed the value that I entered in the sc.nextLong()</p>\n<p>To know more about the problem view the link.\n<a href=\"https://www.hackerrank.com/challenges/java-datatypes/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/java-datatypes/problem</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":1,"creation_date":1461207543,"post_id":36758756,"comment_id":61097018,"body_markdown":"`[row+2]` and `[row+3]` are the cause of the errors, set the loop condition to `row &lt; a.length -3`","body":"<code>[row+2]</code> and <code>[row+3]</code> are the cause of the errors, set the loop condition to <code>row &lt; a.length -3</code>"},{"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"score":0,"creation_date":1461249248,"post_id":36758756,"comment_id":61122644,"body_markdown":"The comment above is correct, except in my answer I do row &lt;= a.length - 4 to fix it instead but both are acceptable.","body":"The comment above is correct, except in my answer I do row &lt;= a.length - 4 to fix it instead but both are acceptable."}],"answers":[{"comments":[{"owner":{"account_id":7157966,"reputation":41,"user_id":5469648,"accept_rate":75,"display_name":"UchiaSky"},"score":0,"creation_date":1461210085,"post_id":36758986,"comment_id":61097665,"body_markdown":"@11thdimension, and k1133 this helps a lot... now I just have one problem comparing diagonal I have no problem got down and to the right ( \\ ), i just can&#39;t get it to go down and to the left ( / )","body":"@11thdimension, and k1133 this helps a lot... now I just have one problem comparing diagonal I have no problem got down and to the right ( \\ ), i just can&#39;t get it to go down and to the left ( / )"},{"owner":{"account_id":4220038,"reputation":315,"user_id":3455033,"display_name":"k1133"},"score":0,"creation_date":1461210777,"post_id":36758986,"comment_id":61097845,"body_markdown":"If I understand correctly , given an element you want to get value of its all neighbours( left , right , up , down ,  top-left,top-right... ) ?","body":"If I understand correctly , given an element you want to get value of its all neighbours( left , right , up , down ,  top-left,top-right... ) ?"},{"owner":{"account_id":7157966,"reputation":41,"user_id":5469648,"accept_rate":75,"display_name":"UchiaSky"},"score":0,"creation_date":1461213198,"post_id":36758986,"comment_id":61098551,"body_markdown":"isn&#39;t that what i did in my updated code, im still getting an index out of bounds.... i&#39;ve tried messing around with the for loop in a bunch of different ways still can&#39;t figure it out","body":"isn&#39;t that what i did in my updated code, im still getting an index out of bounds.... i&#39;ve tried messing around with the for loop in a bunch of different ways still can&#39;t figure it out"},{"owner":{"account_id":4220038,"reputation":315,"user_id":3455033,"display_name":"k1133"},"score":0,"creation_date":1461221668,"post_id":36758986,"comment_id":61102179,"body_markdown":"make row &lt;= a.length - 3 as row &lt;a.length - 3 , as numbering of elements start from 0.","body":"make row &lt;= a.length - 3 as row &lt;a.length - 3 , as numbering of elements start from 0."}],"tags":[],"owner":{"account_id":4220038,"reputation":315,"user_id":3455033,"display_name":"k1133"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461211964,"creation_date":1461208752,"answer_id":36758986,"question_id":36758756,"body_markdown":"As a rule of thumb , always put debug points to see why you are getting exception/error. \r\n\r\nThe issue here is your outer loop runs from 0 to row-1 . But inside in inner loop you are using [row+2] and [row+3] and [row+1] . Now when the outer loop goes to row-2 iteration , you will get a out of bound exception. \r\n\r\nCan post the code here , but if you understand this , you should be able to solve it.  \r\n\r\n\r\n(EDIT) : example as asked in comment.\r\n\r\nassume you  have a 2D array A[][]of size 10X10 .\r\nNow if the current loop is at A[4][4] or (A[row][col])   : \r\nleft element : A[4][3] or (A[row][col-1])   // here we are  at same row but (column -1) as we want the left element.\r\ntop-right element :  A[3][5] or ((A[row-1][col+1])   //  here we are going to (4-1) row as we are interested in above row and (4+1)column as we want right element. \r\nbottom-left:  A[5][3] (A[row+1][col-1]) ...\r\n\r\nNow the two consecutive bottom-left elements will be (A[row+1][col-1]) and (A[row+2][col-2]).\r\n\r\nTry visualizing it  by drawing a 2D array and naming each cell in terms of A[i][j]. ","title":"java 2d array comparing UPDATED","body":"<p>As a rule of thumb , always put debug points to see why you are getting exception/error. </p>\n\n<p>The issue here is your outer loop runs from 0 to row-1 . But inside in inner loop you are using [row+2] and [row+3] and [row+1] . Now when the outer loop goes to row-2 iteration , you will get a out of bound exception. </p>\n\n<p>Can post the code here , but if you understand this , you should be able to solve it.  </p>\n\n<p>(EDIT) : example as asked in comment.</p>\n\n<p>assume you  have a 2D array A[][]of size 10X10 .\nNow if the current loop is at A[4][4] or (A[row][col])   : \nleft element : A[4][3] or (A[row][col-1])   // here we are  at same row but (column -1) as we want the left element.\ntop-right element :  A[3][5] or ((A[row-1][col+1])   //  here we are going to (4-1) row as we are interested in above row and (4+1)column as we want right element. \nbottom-left:  A[5][3] (A[row+1][col-1]) ...</p>\n\n<p>Now the two consecutive bottom-left elements will be (A[row+1][col-1]) and (A[row+2][col-2]).</p>\n\n<p>Try visualizing it  by drawing a 2D array and naming each cell in terms of A[i][j]. </p>\n"},{"comments":[{"owner":{"account_id":7157966,"reputation":41,"user_id":5469648,"accept_rate":75,"display_name":"UchiaSky"},"score":0,"creation_date":1461249649,"post_id":36761639,"comment_id":61122941,"body_markdown":"Thank you... this helped","body":"Thank you... this helped"},{"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"score":0,"creation_date":1461249796,"post_id":36761639,"comment_id":61123049,"body_markdown":"Anytime, if u found the answer helpful please mark it as accepted by clicking the check mark. Also, if u need any further clarification just ask!","body":"Anytime, if u found the answer helpful please mark it as accepted by clicking the check mark. Also, if u need any further clarification just ask!"}],"tags":[],"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1461221488,"creation_date":1461221104,"answer_id":36761639,"question_id":36758756,"body_markdown":"Well one problem I noticed in the first nested for loop is this line of code,\r\n\r\n    for ( int row = 0; row &lt;= a.length - 3 ; row++) \r\n\r\nThe way you have it now, the row variable is going to be incremented with each iteration of the outer for loop. However, with how you&#39;re executing your program, the condition should be `row &lt;= a.length - 4` and here&#39;s why. Suppose you had a four by four 2D array. The nested for loop will go through one normal iteration of the inner loop, which actually checks every single column for possible matches of four consecutive matching numbers in a column. Here&#39;s what it looks like when actually running the program starting at the outer for loop and row = 0,\r\n\r\nIteration One of the inner for loop: \r\n\r\n    if (a[0][0] == a[1][0] &amp;&amp; a[2][0] == a[0][0] &amp;&amp; a[3][0] == a[0][0])\r\nIteration Two of the inner for loop: \r\n\r\n    if (a[0][1] == a[1][1] &amp;&amp; a[2][1] == a[0][1] &amp;&amp; a[3][1] == a[0][1])\r\nIteration Three of the inner for loop: \r\n\r\n    if (a[0][2] == a[1][2] &amp;&amp; a[2][2] == a[0][2] &amp;&amp; a[3][2] == a[0][2])\r\nLast Iteration of the inner for loop: \r\n\r\n    if (a[0][0] == a[1][3] &amp;&amp; a[2][3] == a[0][3] &amp;&amp; a[3][0] == a[0][3])\r\n\r\nOnce this is done, the row variable will be incremented according to the outer loop definition. This is what is most likely causing an error because now as we start iterating through the inner loop with row = 1, this happens\r\n\r\nIteration One of the inner for loop: \r\n\r\n    if (a[1][0] == a[2][0] &amp;&amp; a[3][0] == a[1][0] &amp;&amp; a[4][0] == a[1][0])\r\nHere, we already have an indexoutofboundsexception when trying to access the 5th row in a 4x4 2D array. So the simple fix here is to change \r\n\r\n`for(int row = 0; row &lt;= a.length - 3 ; row++)` \r\n\r\nto \r\n\r\n    for(int row = 0; row &lt;= a.length - 4 ; row++)`\r\n\r\nA similar argument can be made for the second nested for loop. If you don&#39;t believe me, do something similar to what I did for the rows and write out the iterations for it using a 4x4 2D array. You&#39;ll get the arrayindexoutofbounds exception in the first iteration of the outer for loop and in the second iteration of the inner for loop when row = 0 and col = 1, causing the program to make a check at the fifth column in the first row of a 2D array. So the simple fix should be to change \r\n\r\n    for (int col = 0; col &lt;= a[0].length - 3 ; col++)\r\nto\r\n\r\n    for (int col = 0; col &lt;= a[row].length - 4 ; col++)\r\n\r\nPersonally, I prefer to use a[row].length only because there could be some instances where it&#39;s not a perfect nxn 2D array. For example, some rows may have only 3 columns where the first row has 7 columns. If this is the case, then you&#39;ll get an outofbounds exception for trying to access columns that exist in the first row that don&#39;t exist in other rows.\r\n\r\nFor the third nested for loop, again, same argument can be made just by writing out the iterations and it should be changed to \r\n\r\n    for(int row = 0; row &lt;= a.length - 4 ; row++) {\r\n          for(int col = 0; col &lt;= a[row].length - 4 ; col++)\r\n\r\nThe last nested for loop has a logic problem pertaining to the inner for loop. Since you&#39;re decrementing from 0, you&#39;re going to get an out of bounds exception just from trying to access negative indices in the array. So the simple fix should be to initialize `col` to the last column and change the condition to col being greater than or equal to `3` since you&#39;re accessing elements at the columns, col, col-1, col-2, and col-3. If that is confusing, think about it this way. You&#39;re checking columns starting from col and the three that come before it. What if there aren&#39;t even four columns to begin with? This is why there&#39;s the condition `col &gt;= 3` because you check a column and the three that come before it until you&#39;ve reached column #4 (col = 3). Once you&#39;ve reached column #3 (col = 2), there&#39;s no way of checking that column and the three before because there are only 3 columns to check at this point. Changes similar to the other 3 nested loops should be made to `for ( int row = 0; row &lt;= a.length - 3 ; row++)` regarding the -3. It should end up looking like this,\r\n\r\n    for ( int row = 0; row &lt;= a.length - 4 ; row++) {\r\n                for (int col = a[row].length - 1; col &gt;= 3; col--) ","title":"java 2d array comparing UPDATED","body":"<p>Well one problem I noticed in the first nested for loop is this line of code,</p>\n\n<pre><code>for ( int row = 0; row &lt;= a.length - 3 ; row++) \n</code></pre>\n\n<p>The way you have it now, the row variable is going to be incremented with each iteration of the outer for loop. However, with how you're executing your program, the condition should be <code>row &lt;= a.length - 4</code> and here's why. Suppose you had a four by four 2D array. The nested for loop will go through one normal iteration of the inner loop, which actually checks every single column for possible matches of four consecutive matching numbers in a column. Here's what it looks like when actually running the program starting at the outer for loop and row = 0,</p>\n\n<p>Iteration One of the inner for loop: </p>\n\n<pre><code>if (a[0][0] == a[1][0] &amp;&amp; a[2][0] == a[0][0] &amp;&amp; a[3][0] == a[0][0])\n</code></pre>\n\n<p>Iteration Two of the inner for loop: </p>\n\n<pre><code>if (a[0][1] == a[1][1] &amp;&amp; a[2][1] == a[0][1] &amp;&amp; a[3][1] == a[0][1])\n</code></pre>\n\n<p>Iteration Three of the inner for loop: </p>\n\n<pre><code>if (a[0][2] == a[1][2] &amp;&amp; a[2][2] == a[0][2] &amp;&amp; a[3][2] == a[0][2])\n</code></pre>\n\n<p>Last Iteration of the inner for loop: </p>\n\n<pre><code>if (a[0][0] == a[1][3] &amp;&amp; a[2][3] == a[0][3] &amp;&amp; a[3][0] == a[0][3])\n</code></pre>\n\n<p>Once this is done, the row variable will be incremented according to the outer loop definition. This is what is most likely causing an error because now as we start iterating through the inner loop with row = 1, this happens</p>\n\n<p>Iteration One of the inner for loop: </p>\n\n<pre><code>if (a[1][0] == a[2][0] &amp;&amp; a[3][0] == a[1][0] &amp;&amp; a[4][0] == a[1][0])\n</code></pre>\n\n<p>Here, we already have an indexoutofboundsexception when trying to access the 5th row in a 4x4 2D array. So the simple fix here is to change </p>\n\n<p><code>for(int row = 0; row &lt;= a.length - 3 ; row++)</code> </p>\n\n<p>to </p>\n\n<pre><code>for(int row = 0; row &lt;= a.length - 4 ; row++)`\n</code></pre>\n\n<p>A similar argument can be made for the second nested for loop. If you don't believe me, do something similar to what I did for the rows and write out the iterations for it using a 4x4 2D array. You'll get the arrayindexoutofbounds exception in the first iteration of the outer for loop and in the second iteration of the inner for loop when row = 0 and col = 1, causing the program to make a check at the fifth column in the first row of a 2D array. So the simple fix should be to change </p>\n\n<pre><code>for (int col = 0; col &lt;= a[0].length - 3 ; col++)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for (int col = 0; col &lt;= a[row].length - 4 ; col++)\n</code></pre>\n\n<p>Personally, I prefer to use a[row].length only because there could be some instances where it's not a perfect nxn 2D array. For example, some rows may have only 3 columns where the first row has 7 columns. If this is the case, then you'll get an outofbounds exception for trying to access columns that exist in the first row that don't exist in other rows.</p>\n\n<p>For the third nested for loop, again, same argument can be made just by writing out the iterations and it should be changed to </p>\n\n<pre><code>for(int row = 0; row &lt;= a.length - 4 ; row++) {\n      for(int col = 0; col &lt;= a[row].length - 4 ; col++)\n</code></pre>\n\n<p>The last nested for loop has a logic problem pertaining to the inner for loop. Since you're decrementing from 0, you're going to get an out of bounds exception just from trying to access negative indices in the array. So the simple fix should be to initialize <code>col</code> to the last column and change the condition to col being greater than or equal to <code>3</code> since you're accessing elements at the columns, col, col-1, col-2, and col-3. If that is confusing, think about it this way. You're checking columns starting from col and the three that come before it. What if there aren't even four columns to begin with? This is why there's the condition <code>col &gt;= 3</code> because you check a column and the three that come before it until you've reached column #4 (col = 3). Once you've reached column #3 (col = 2), there's no way of checking that column and the three before because there are only 3 columns to check at this point. Changes similar to the other 3 nested loops should be made to <code>for ( int row = 0; row &lt;= a.length - 3 ; row++)</code> regarding the -3. It should end up looking like this,</p>\n\n<pre><code>for ( int row = 0; row &lt;= a.length - 4 ; row++) {\n            for (int col = a[row].length - 1; col &gt;= 3; col--) \n</code></pre>\n"}],"owner":{"account_id":7157966,"reputation":41,"user_id":5469648,"accept_rate":75,"display_name":"UchiaSky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36761639,"answer_count":2,"score":0,"last_activity_date":1664906239,"creation_date":1461207197,"question_id":36758756,"body_markdown":"(UPDATED)\r\nI&#39;m having trouble figuring out what to do here, i need to compare a 2d array that to see if any of the numbers match.  I need four numbers to match either up/down, left/right, or diagonal.  I just can&#39;t get it to test for the down/left diagonal ( / ) here is my updated code\r\n\r\n    public static boolean isAdjacentFour( int[][] a ) {\r\n        // Code to test if column has four adjacent numbers\r\n        for ( int row = 0; row &lt;= a.length - 3 ; row++) {\r\n            for (int col = 0; col &lt;= a[0].length - 1 ; col++) {\r\n                if (a[row][col] == a[row+1][col] &amp;&amp; a[row+2][col] == a[row][col]\r\n                        &amp;&amp; a[row+3][col] == a[row][col]) {\r\n                    return true;\r\n                } \r\n            }\r\n        }\r\n        // Code to test if row has four adjacent numbers\r\n        for ( int row = 0; row &lt;= a.length - 1 ; row++) {\r\n            for (int col = 0; col &lt;= a[0].length - 3 ; col++) {\r\n                if (a[row][col] == a[row][col+1] &amp;&amp; a[row][col] == a[row][col+2]\r\n                        &amp;&amp; a[row][col] == a[row][col+3]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n            // Code to test if there are 4 adjacent numbers in a down/right ( \\ )diagonal\r\n            for ( int row = 0; row &lt;= a.length - 3 ; row++) {\r\n                for (int col = 0; col &lt;= a[0].length - 3 ; col++) {\r\n                    if (a[row][col] == a[row+1][col+1] &amp;&amp; a[row][col] == a[row+2][col+2]\r\n                            &amp;&amp; a[row][col] == a[row+3][col+3] ) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            for ( int row = 0; row &lt;= a.length - 3 ; row++) {\r\n                for (int col = 0; col &lt;= a[0].length + 3 ; col--) {\r\n                    if (a[row][col] == a[row+1][col-1] &amp;&amp; a[row][col] == a[row+2][col-2]\r\n                            &amp;&amp; a[row][col] == a[row+3][col-3] ) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        \r\n        return false;\r\n    }","title":"java 2d array comparing UPDATED","body":"<p>(UPDATED)\nI'm having trouble figuring out what to do here, i need to compare a 2d array that to see if any of the numbers match.  I need four numbers to match either up/down, left/right, or diagonal.  I just can't get it to test for the down/left diagonal ( / ) here is my updated code</p>\n\n<pre><code>public static boolean isAdjacentFour( int[][] a ) {\n    // Code to test if column has four adjacent numbers\n    for ( int row = 0; row &lt;= a.length - 3 ; row++) {\n        for (int col = 0; col &lt;= a[0].length - 1 ; col++) {\n            if (a[row][col] == a[row+1][col] &amp;&amp; a[row+2][col] == a[row][col]\n                    &amp;&amp; a[row+3][col] == a[row][col]) {\n                return true;\n            } \n        }\n    }\n    // Code to test if row has four adjacent numbers\n    for ( int row = 0; row &lt;= a.length - 1 ; row++) {\n        for (int col = 0; col &lt;= a[0].length - 3 ; col++) {\n            if (a[row][col] == a[row][col+1] &amp;&amp; a[row][col] == a[row][col+2]\n                    &amp;&amp; a[row][col] == a[row][col+3]) {\n                return true;\n            }\n        }\n    }\n        // Code to test if there are 4 adjacent numbers in a down/right ( \\ )diagonal\n        for ( int row = 0; row &lt;= a.length - 3 ; row++) {\n            for (int col = 0; col &lt;= a[0].length - 3 ; col++) {\n                if (a[row][col] == a[row+1][col+1] &amp;&amp; a[row][col] == a[row+2][col+2]\n                        &amp;&amp; a[row][col] == a[row+3][col+3] ) {\n                    return true;\n                }\n            }\n        }\n        for ( int row = 0; row &lt;= a.length - 3 ; row++) {\n            for (int col = 0; col &lt;= a[0].length + 3 ; col--) {\n                if (a[row][col] == a[row+1][col-1] &amp;&amp; a[row][col] == a[row+2][col-2]\n                        &amp;&amp; a[row][col] == a[row+3][col-3] ) {\n                    return true;\n                }\n            }\n        }\n\n    return false;\n}\n</code></pre>\n"},{"tags":["java","function","types","doubly-linked-list","sentinel"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664906203,"creation_date":1664906203,"answer_id":73951840,"question_id":73949491,"body_markdown":"First of all, you don&#39;t need `length` to know whether the list is empty. You could also define the `isEmpty` method like this:\r\n\r\n```\r\n    public boolean isEmpty() {\r\n        return sentinel.next == sentinel;\r\n    }\r\n```\r\n\r\nNB: I prefer camelCase instead of all lowercased method names, so `isEmpty` instead of `isempty`, and `firstOut` instead of `firstout`.\r\n\r\nFor the `firstOut` and `lastOut` methods, I would first define a private method that removes a given node from the list (assuming it is in the list):\r\n\r\n```\r\n    private T removeNode(IntNode node) {\r\n        // Link neighbors to eachother, skipping over given node\r\n        node.previous.next = node.next;\r\n        node.next.previous = node.previous;\r\n        return node.data;\r\n    }\r\n```\r\n\r\nThis can then be used as follows:\r\n\r\n```    \r\n    public T firstOut() {\r\n        return removeNode(sentinel.next);\r\n    }\r\n    \r\n    public T lastOut() {\r\n        return removeNode(sentinel.previous);\r\n    }\r\n```\r\n\r\nIn this version, if the list is empty and `firstOut` or `lastOut` is called, the `removeNode` call will not change anything to the list, because the node it gets will be the sentinel node which links to itself, and so both assignments just confirm what is already the case. `firstOut` or `lastOut` will return the value of the sentinel node in that case. \r\n\r\nYou could alternatively throw an exception when the list is empty when `removeNode` is called. But exception handling is a topic on itself, so I will not dive into that here.","title":"Can someone please explain how can I remove first and last nodes in my doubly linked list?","body":"<p>First of all, you don't need <code>length</code> to know whether the list is empty. You could also define the <code>isEmpty</code> method like this:</p>\n<pre><code>    public boolean isEmpty() {\n        return sentinel.next == sentinel;\n    }\n</code></pre>\n<p>NB: I prefer camelCase instead of all lowercased method names, so <code>isEmpty</code> instead of <code>isempty</code>, and <code>firstOut</code> instead of <code>firstout</code>.</p>\n<p>For the <code>firstOut</code> and <code>lastOut</code> methods, I would first define a private method that removes a given node from the list (assuming it is in the list):</p>\n<pre><code>    private T removeNode(IntNode node) {\n        // Link neighbors to eachother, skipping over given node\n        node.previous.next = node.next;\n        node.next.previous = node.previous;\n        return node.data;\n    }\n</code></pre>\n<p>This can then be used as follows:</p>\n<pre><code>    public T firstOut() {\n        return removeNode(sentinel.next);\n    }\n    \n    public T lastOut() {\n        return removeNode(sentinel.previous);\n    }\n</code></pre>\n<p>In this version, if the list is empty and <code>firstOut</code> or <code>lastOut</code> is called, the <code>removeNode</code> call will not change anything to the list, because the node it gets will be the sentinel node which links to itself, and so both assignments just confirm what is already the case. <code>firstOut</code> or <code>lastOut</code> will return the value of the sentinel node in that case.</p>\n<p>You could alternatively throw an exception when the list is empty when <code>removeNode</code> is called. But exception handling is a topic on itself, so I will not dive into that here.</p>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73951840,"answer_count":1,"score":-1,"last_activity_date":1664906203,"creation_date":1664893872,"question_id":73949491,"body_markdown":"I have created a class `SLList` where I take in a doubly linked list `SLList` and make some adaptations to it. \r\n\r\nNow, I&#39;m trying to remove the first node in the doubly linked list and the last node in the doubly linked list via two functions known as `public T firstout()` and `public T lastout()` and I think the purpose of each function is pretty self-explanatory.\r\n\r\nBased on the recommendation of StackOverflow user, I have decided to use just one sentinel to aid in my task. However, I&#39;m struggling to rightfully implement sentinels to my advantage.\r\n\r\nHere is my code so far:\r\n\r\n    public class SLList&lt;T&gt;{ // Add Generics here\r\n        private class IntNode {\r\n            private T data;\r\n            private IntNode previous;\r\n            private IntNode next;\r\n    \r\n            public IntNode (T data, IntNode previous, IntNode next) {\r\n                this.data = data;\r\n                this.previous = previous;\r\n                this.next = next;\r\n            }\r\n    \r\n            public IntNode () { // Self-referencing node\r\n                next = previous = this;\r\n            }\r\n        }\r\n    \r\n        IntNode sentinel; // One sentinel can serve both purposes\r\n        private int length = 0;\r\n    \r\n        public SLList(){\r\n            sentinel = new IntNode(); // Self referencing previous/next\r\n        }\r\n    \r\n        public void addFirst(T data) {\r\n            IntNode node = new IntNode(data, sentinel, sentinel.next);\r\n            sentinel.next = node;\r\n            node.next.previous = node;\r\n        }\r\n        public boolean isempty() {\r\n            return length == 0;\r\n        }\r\n    \r\n    \r\n        public T firstout() {\r\n        return sentinel.previous == null;\r\n    \r\n        }\r\n        public T lastout() {\r\n        return sentinel.next == null;\r\n        }\r\n\r\nBased on what I&#39;ve tried to find, I thought `.previous` points to the start of the list and setting it to null would effectively remove the first one and `.next` points to the next node, and setting it to null would also remove the last one.\r\n\r\nWhere has my understanding gone wrong here? Any tips or code improvements would be greatly appreciated","title":"Can someone please explain how can I remove first and last nodes in my doubly linked list?","body":"<p>I have created a class <code>SLList</code> where I take in a doubly linked list <code>SLList</code> and make some adaptations to it.</p>\n<p>Now, I'm trying to remove the first node in the doubly linked list and the last node in the doubly linked list via two functions known as <code>public T firstout()</code> and <code>public T lastout()</code> and I think the purpose of each function is pretty self-explanatory.</p>\n<p>Based on the recommendation of StackOverflow user, I have decided to use just one sentinel to aid in my task. However, I'm struggling to rightfully implement sentinels to my advantage.</p>\n<p>Here is my code so far:</p>\n<pre><code>public class SLList&lt;T&gt;{ // Add Generics here\n    private class IntNode {\n        private T data;\n        private IntNode previous;\n        private IntNode next;\n\n        public IntNode (T data, IntNode previous, IntNode next) {\n            this.data = data;\n            this.previous = previous;\n            this.next = next;\n        }\n\n        public IntNode () { // Self-referencing node\n            next = previous = this;\n        }\n    }\n\n    IntNode sentinel; // One sentinel can serve both purposes\n    private int length = 0;\n\n    public SLList(){\n        sentinel = new IntNode(); // Self referencing previous/next\n    }\n\n    public void addFirst(T data) {\n        IntNode node = new IntNode(data, sentinel, sentinel.next);\n        sentinel.next = node;\n        node.next.previous = node;\n    }\n    public boolean isempty() {\n        return length == 0;\n    }\n\n\n    public T firstout() {\n    return sentinel.previous == null;\n\n    }\n    public T lastout() {\n    return sentinel.next == null;\n    }\n</code></pre>\n<p>Based on what I've tried to find, I thought <code>.previous</code> points to the start of the list and setting it to null would effectively remove the first one and <code>.next</code> points to the next node, and setting it to null would also remove the last one.</p>\n<p>Where has my understanding gone wrong here? Any tips or code improvements would be greatly appreciated</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1664903404,"post_id":73951172,"comment_id":130574687,"body_markdown":"&quot;*when I tried to write hashmap in generic it is not returning old data*&quot; Generics do not change runtime behaviour, so this cannot possibly be accurate.","body":"&quot;<i>when I tried to write hashmap in generic it is not returning old data</i>&quot; Generics do not change runtime behaviour, so this cannot possibly be accurate."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1664903462,"post_id":73951172,"comment_id":130574713,"body_markdown":"The only way this can override entries in the map is if the array called `name` contains duplicates. You haven&#39;t shown where that&#39;s declared.","body":"The only way this can override entries in the map is if the array called <code>name</code> contains duplicates. You haven&#39;t shown where that&#39;s declared."},{"owner":{"account_id":26293291,"reputation":1,"user_id":19959974,"display_name":"Trisha"},"score":0,"creation_date":1664906370,"post_id":73951172,"comment_id":130575607,"body_markdown":"@Michael Thanks! for helping Sir, \nActually [ {FirstName: Name1 , Age: 51 } , {FirstName: Name2 , Age: 99 } ] &lt;- I want output like this, so maybe my key (FirstName, Age) are the same all the time, therefore it is overriding, isn&#39;t it..\nSo how to add this kind of data to the list?","body":"@Michael Thanks! for helping Sir,  Actually [ {FirstName: Name1 , Age: 51 } , {FirstName: Name2 , Age: 99 } ] &lt;- I want output like this, so maybe my key (FirstName, Age) are the same all the time, therefore it is overriding, isn&#39;t it.. So how to add this kind of data to the list?"},{"owner":{"account_id":5481715,"reputation":176,"user_id":4357942,"display_name":"Sachin"},"score":0,"creation_date":1664907403,"post_id":73951172,"comment_id":130575872,"body_markdown":"as per above comment. You need to create class say &quot;User&quot; with properties firstName,Age... And create a list&lt;User&gt;. This is the standard way to do things in java. Each user object are unique users. Try not to be so much generic. The HashMap impl also work but you need to create that many hashmap object which is not a good/standard way.","body":"as per above comment. You need to create class say &quot;User&quot; with properties firstName,Age... And create a list&lt;User&gt;. This is the standard way to do things in java. Each user object are unique users. Try not to be so much generic. The HashMap impl also work but you need to create that many hashmap object which is not a good/standard way."}],"answers":[{"tags":[],"owner":{"account_id":24360999,"reputation":3,"user_id":18295361,"display_name":"T-rex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664905961,"creation_date":1664905961,"answer_id":73951794,"question_id":73951172,"body_markdown":"Based on the code snippet provided the values in hashMap will only get updated in case there are duplicates in your name array. I am not getting why you are creating a List of hashmap as you are only adding one hashmap in the list.\r\n\r\nI think what you are trying to say is as below\r\nname array ={tom, jerry, tom, jerry, duck}\r\nstoredata array ={d1, d2, d3, d4, d5}\r\n\r\noutput : {[tom,{d1,d3}],[jerry,{d2,d4}],[duck,{d5}]}\r\n\r\nSo if you want something like this then create a HashMap as below\r\n\r\n```\r\n\r\nLinkedHashMap&lt;String,List&lt;String&gt;&gt; hashMap=new LinkedHashMap&lt;&gt;();\r\nfor (int j = 0; j &lt; name.length; j++) {\r\n    System.out.print(&quot;Enter &quot; + name[j] + &quot;:&quot;);\r\n    storedata[j] = scanner.next();\r\n    if(!hashMap.containsKey(name[j])\r\n       hashMap.put(name[j],new ArrayList&lt;&gt;());\r\n    hashMap.put(name[j],storedata[j]);\r\n}\r\nSystem.out.println(hashMap);\r\n```\r\n","title":"List&lt;HashMap&gt; list = new ArrayList&lt;&gt;(); In java","body":"<p>Based on the code snippet provided the values in hashMap will only get updated in case there are duplicates in your name array. I am not getting why you are creating a List of hashmap as you are only adding one hashmap in the list.</p>\n<p>I think what you are trying to say is as below\nname array ={tom, jerry, tom, jerry, duck}\nstoredata array ={d1, d2, d3, d4, d5}</p>\n<p>output : {[tom,{d1,d3}],[jerry,{d2,d4}],[duck,{d5}]}</p>\n<p>So if you want something like this then create a HashMap as below</p>\n<pre><code>\nLinkedHashMap&lt;String,List&lt;String&gt;&gt; hashMap=new LinkedHashMap&lt;&gt;();\nfor (int j = 0; j &lt; name.length; j++) {\n    System.out.print(&quot;Enter &quot; + name[j] + &quot;:&quot;);\n    storedata[j] = scanner.next();\n    if(!hashMap.containsKey(name[j])\n       hashMap.put(name[j],new ArrayList&lt;&gt;());\n    hashMap.put(name[j],storedata[j]);\n}\nSystem.out.println(hashMap);\n</code></pre>\n"}],"owner":{"account_id":26293291,"reputation":1,"user_id":19959974,"display_name":"Trisha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664905961,"creation_date":1664902248,"question_id":73951172,"body_markdown":"In java, Is this wrong ? Whenever I tried to add something my old value is replaced with new value. Is it not possible to store data in list of hashmap like below statement?\r\nWhen I store data as string \r\nList&lt;String&gt; list = new ArrayList&lt;&gt;(); \r\nlike this.. it is working properly but when I tried to write hashmap in generic it is not returning old data..\r\nI need your advice.\r\n\r\n\r\n\r\n    List&lt;HashMap&gt; dataArrayList = new ArrayList&lt;&gt;();\r\n    LinkedHashMap&lt;String, String&gt; hashMap = new LinkedHashMap&lt;&gt;();\r\n    for (int j = 0; j &lt; name.length; j++) {\r\n        System.out.print(&quot;Enter &quot; + name[j] + &quot;:&quot;);\r\n        storedata[j] = scanner.next();\r\n        hashMap.put(name[j], storedata[j]);\r\n    }\r\n\r\n    dataArrayList.add(hashMap);\r\n\r\n","title":"List&lt;HashMap&gt; list = new ArrayList&lt;&gt;(); In java","body":"<p>In java, Is this wrong ? Whenever I tried to add something my old value is replaced with new value. Is it not possible to store data in list of hashmap like below statement?\nWhen I store data as string\nList list = new ArrayList&lt;&gt;();\nlike this.. it is working properly but when I tried to write hashmap in generic it is not returning old data..\nI need your advice.</p>\n<pre><code>List&lt;HashMap&gt; dataArrayList = new ArrayList&lt;&gt;();\nLinkedHashMap&lt;String, String&gt; hashMap = new LinkedHashMap&lt;&gt;();\nfor (int j = 0; j &lt; name.length; j++) {\n    System.out.print(&quot;Enter &quot; + name[j] + &quot;:&quot;);\n    storedata[j] = scanner.next();\n    hashMap.put(name[j], storedata[j]);\n}\n\ndataArrayList.add(hashMap);\n</code></pre>\n"},{"tags":["java","trace","datadog"],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1664905858,"creation_date":1655844321,"question_id":72706933,"body_markdown":"I am following the Connecting Java logs and Traces from the Datadog docs:\r\nhttps://docs.datadoghq.com/tracing/connect_logs_and_traces/java/?tab=slf4jandlogback\r\n\r\nI added the next code to my endpoint:\r\n\r\n    import org.slf4j.MDC;\r\n    import datadog.trace.api.CorrelationIdentifier;\r\n    \r\n    // There must be spans started and active before this block.\r\n    try {\r\n        MDC.put(&quot;dd.trace_id&quot;, CorrelationIdentifier.getTraceId());\r\n        MDC.put(&quot;dd.span_id&quot;, CorrelationIdentifier.getSpanId());\r\n    \r\n    // Log something\r\n    \r\n    } finally {\r\n        MDC.remove(&quot;dd.trace_id&quot;);\r\n        MDC.remove(&quot;dd.span_id&quot;);\r\n    }\r\n\r\nIn the console I can see the next logs: `dd.trace_id&quot;:&quot;0&quot;,&quot;dd.span_id&quot;:&quot;0&quot;}`\r\n\r\nI am not pretty sure why I am not getting a correct trace_id and span_id and why these values are Zero. \r\n\r\nAny ideas?\r\n\r\n","title":"Connecting Java logs and Traces traceId and span Id have the value of Zero","body":"<p>I am following the Connecting Java logs and Traces from the Datadog docs:\n<a href=\"https://docs.datadoghq.com/tracing/connect_logs_and_traces/java/?tab=slf4jandlogback\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/tracing/connect_logs_and_traces/java/?tab=slf4jandlogback</a></p>\n<p>I added the next code to my endpoint:</p>\n<pre><code>import org.slf4j.MDC;\nimport datadog.trace.api.CorrelationIdentifier;\n\n// There must be spans started and active before this block.\ntry {\n    MDC.put(&quot;dd.trace_id&quot;, CorrelationIdentifier.getTraceId());\n    MDC.put(&quot;dd.span_id&quot;, CorrelationIdentifier.getSpanId());\n\n// Log something\n\n} finally {\n    MDC.remove(&quot;dd.trace_id&quot;);\n    MDC.remove(&quot;dd.span_id&quot;);\n}\n</code></pre>\n<p>In the console I can see the next logs: <code>dd.trace_id&quot;:&quot;0&quot;,&quot;dd.span_id&quot;:&quot;0&quot;}</code></p>\n<p>I am not pretty sure why I am not getting a correct trace_id and span_id and why these values are Zero.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","maven","build","pom.xml","mybatis"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1664903848,"post_id":73951073,"comment_id":130574854,"body_markdown":"Copying resources can be configured using `maven-resources-plugin`\n\nhttps://maven.apache.org/plugins/maven-resources-plugin/examples/include-exclude.html","body":"Copying resources can be configured using <code>maven-resources-plugin</code>  <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/include-exclude.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/examples/&hellip;</a>"},{"owner":{"account_id":6673610,"reputation":61,"user_id":5529027,"display_name":"Guilherme Dambros"},"score":0,"creation_date":1664904725,"post_id":73951073,"comment_id":130575133,"body_markdown":"It&#39;s worked. I just add the resources section like docs and the .xml files are exported correctly. Thanks","body":"It&#39;s worked. I just add the resources section like docs and the .xml files are exported correctly. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":6673610,"reputation":61,"user_id":5529027,"display_name":"Guilherme Dambros"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664905834,"creation_date":1664905834,"answer_id":73951776,"question_id":73951073,"body_markdown":"I have just added the resources section at my pom file, like @swapyonubuntu comment.\r\n\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n         &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n           &lt;includes&gt;\r\n              &lt;include&gt;src/to/correct/folder/*.xml&lt;/include&gt;\r\n           &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;","title":"Mapper files (*.xml) not exported on build project. Using mybatis","body":"<p>I have just added the resources section at my pom file, like @swapyonubuntu comment.</p>\n<pre><code>&lt;resources&gt;\n  &lt;resource&gt;\n     &lt;directory&gt;src/main/java&lt;/directory&gt;\n       &lt;includes&gt;\n          &lt;include&gt;src/to/correct/folder/*.xml&lt;/include&gt;\n       &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":6673610,"reputation":61,"user_id":5529027,"display_name":"Guilherme Dambros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664905834,"creation_date":1664901745,"question_id":73951073,"body_markdown":"I&#39;m working on a maven project that use mybatis to DB tier. The `.xml` files isn&#39;t exported when I&#39;m building the project. But the `.java` files are being exported and they are at the same package. So the project run is giving me an &quot;not found&quot; error. \r\n\r\nI do a copy of `.xml` files and paste inside `target` folder (at the correct location) and the project runs perfectly.\r\n\r\nmy pom.xml file\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  \r\n\r\n    &lt;modelVersion&gt; 4.0.0 &lt;/modelVersion&gt;\r\n\r\n      \r\n      &lt;groupId&gt;com&lt;/groupId&gt;\r\n      &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.10&lt;/version&gt;\r\n      \r\n      &lt;name&gt;Description&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.supercsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;super-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  \t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t  \t&lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n\t\t  \t&lt;version&gt;3.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.3.26-incubating&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;!-- encoding: default &#233; project.build.sourceEncoding --&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;!-- Para cria&#231;&#227;o do JAR simples (sem depend&#234;ncias) --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.workload.exporter.DataExporter&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.workload.exporter.DataExporter&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nThere are any other config to set on my pom file?","title":"Mapper files (*.xml) not exported on build project. Using mybatis","body":"<p>I'm working on a maven project that use mybatis to DB tier. The <code>.xml</code> files isn't exported when I'm building the project. But the <code>.java</code> files are being exported and they are at the same package. So the project run is giving me an &quot;not found&quot; error.</p>\n<p>I do a copy of <code>.xml</code> files and paste inside <code>target</code> folder (at the correct location) and the project runs perfectly.</p>\n<p>my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n\n&lt;modelVersion&gt; 4.0.0 &lt;/modelVersion&gt;\n\n  \n  &lt;groupId&gt;com&lt;/groupId&gt;\n  &lt;artifactId&gt;project&lt;/artifactId&gt;\n  &lt;version&gt;1.0.10&lt;/version&gt;\n  \n  &lt;name&gt;Description&lt;/name&gt;\n&lt;properties&gt;\n    &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.supercsv&lt;/groupId&gt;\n        &lt;artifactId&gt;super-csv&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n      &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n      &lt;version&gt;2.3.26-incubating&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;debug&gt;true&lt;/debug&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;!-- encoding: default é project.build.sourceEncoding --&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;!-- Para criação do JAR simples (sem dependências) --&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.workload.exporter.DataExporter&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            \n        &lt;/plugin&gt;\n        \n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;mainClass&gt;com.workload.exporter.DataExporter&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>There are any other config to set on my pom file?</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":24146613,"reputation":23,"user_id":18112106,"display_name":"JacquesD"},"score":1,"creation_date":1643967506,"post_id":70977072,"comment_id":125484736,"body_markdown":"Many Thanks\nI did think of this mulit-pass approach.\nIt works perfectly but I have to to dig into the solution and your helpful explanation to understand how it works (the demo app will be of a great help, as usual)\nRegards","body":"Many Thanks I did think of this mulit-pass approach. It works perfectly but I have to to dig into the solution and your helpful explanation to understand how it works (the demo app will be of a great help, as usual) Regards"}],"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643918922,"creation_date":1643915911,"answer_id":70977072,"question_id":70975621,"body_markdown":"The spec below should do the trick:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;$2&quot;: &quot;keyParts1&quot;,\r\n            &quot;key&quot;: &quot;keyParts2&quot;,\r\n            &quot;value&quot;: &quot;values&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;keyParts1&quot;: {\r\n        &quot;*&quot;: &quot;[#1].part1&quot;\r\n      },\r\n      &quot;keyParts2&quot;: {\r\n        &quot;*&quot;: &quot;[#1].part2&quot;\r\n      },\r\n      &quot;values&quot;: {\r\n        &quot;*&quot;: &quot;[#1].value&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-default-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;newKey&quot;: &quot;=split(&#39;-&#39;, @(1,part1))&quot;,\r\n        &quot;newKeyFirst&quot;: &quot;@(1,newKey[0])&quot;,\r\n        &quot;newKeyComplete&quot;: &quot;=concat(@(1,newKeyFirst),&#39;-&#39;,@(1,part2))&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;value&quot;: &quot;@(1,newKeyComplete)&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nTry to apply each of the operations separately (for example in the [demo app](https://jolt-demo.appspot.com/)).\r\n\r\nCheck out the links to the jolt docs and the examples from [this answer](https://stackoverflow.com/a/65208580/4880379)\r\n\r\n---\r\n\r\n### Step by step explanation:\r\n\r\nFirst `&quot;shift&quot;` transformation places the components of the final result in the separate arrays:\r\n```json\r\n{\r\n  &quot;keyParts1&quot; : [ &quot;bloc1-1&quot;, &quot;bloc1-1&quot;, &quot;bloc2-1&quot;, &quot;bloc2-1&quot;, &quot;bloc2-1&quot; ],\r\n  &quot;keyParts2&quot; : [ &quot;key1&quot;, &quot;key2&quot;, &quot;key1&quot;, &quot;key2&quot;, &quot;key3&quot; ],\r\n  &quot;values&quot; : [ &quot;value1-1&quot;, &quot;value1-2&quot;, &quot;value2-1&quot;, &quot;value2-2&quot;, &quot;value2-3&quot; ]\r\n}\r\n```\r\nThe above operation let us have each of the components of the end result positioned in the right index of the desired result.\r\nNote that each array has the same size.\r\nIn the second operation we group each of the array elements by its index using the `#` operator. Looking at the [docs](https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java#L261) `[#1]` can be translated to:\r\n\r\n&gt; &quot;Go up one level and ask that node how many matches it has had before finding the current element&quot;.\r\n\r\nThe node above is an array, so for the 3rd array element it will be the array index `2`.\r\n```json\r\n[\r\n  ...\r\n  {\r\n    &quot;part1&quot; : &quot;bloc2-1&quot;,\r\n    &quot;part2&quot; : &quot;key1&quot;,\r\n    &quot;value&quot; : &quot;value2-1&quot;\r\n  }\r\n  ...\r\n]\r\n```\r\nIn the 3rd operation **I have assumed** that the key of the desired result is the concatenation of the `&quot;blocX&quot;` substring of the `&quot;blocX-Y&quot;` key concatenated with the `&quot;key&quot;` value. That&#39;s why I&#39;ve used the `&quot;modify-default-beta&quot;`. Have a look at [the example from the demo app](https://jolt-demo.appspot.com/#modify-stringFunctions)\r\nEach of five elements of the array is transformed similarly to the 3rd array element:\r\n\r\n```json\r\n[\r\n  ...\r\n  {\r\n    &quot;part1&quot; : &quot;bloc2-1&quot;,\r\n    &quot;part2&quot; : &quot;key1&quot;,\r\n    &quot;value&quot; : &quot;value2-1&quot;,\r\n    &quot;newKey&quot; : [ &quot;bloc2&quot;, &quot;1&quot; ],\r\n    &quot;newKeyFirst&quot; : &quot;bloc2&quot;,\r\n    &quot;newKeyComplete&quot; : &quot;bloc2-key1&quot;\r\n  }\r\n  ...\r\n]\r\n```\r\nThe last operation produces the desired result from the 3rd operation&#39;s output.","title":"Java Jolt: can&#39;t find proper spec for my transformation","body":"<p>The spec below should do the trick:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;$2&quot;: &quot;keyParts1&quot;,\n            &quot;key&quot;: &quot;keyParts2&quot;,\n            &quot;value&quot;: &quot;values&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;keyParts1&quot;: {\n        &quot;*&quot;: &quot;[#1].part1&quot;\n      },\n      &quot;keyParts2&quot;: {\n        &quot;*&quot;: &quot;[#1].part2&quot;\n      },\n      &quot;values&quot;: {\n        &quot;*&quot;: &quot;[#1].value&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-default-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;newKey&quot;: &quot;=split('-', @(1,part1))&quot;,\n        &quot;newKeyFirst&quot;: &quot;@(1,newKey[0])&quot;,\n        &quot;newKeyComplete&quot;: &quot;=concat(@(1,newKeyFirst),'-',@(1,part2))&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;value&quot;: &quot;@(1,newKeyComplete)&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>Try to apply each of the operations separately (for example in the <a href=\"https://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">demo app</a>).</p>\n<p>Check out the links to the jolt docs and the examples from <a href=\"https://stackoverflow.com/a/65208580/4880379\">this answer</a></p>\n<hr />\n<h3>Step by step explanation:</h3>\n<p>First <code>&quot;shift&quot;</code> transformation places the components of the final result in the separate arrays:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;keyParts1&quot; : [ &quot;bloc1-1&quot;, &quot;bloc1-1&quot;, &quot;bloc2-1&quot;, &quot;bloc2-1&quot;, &quot;bloc2-1&quot; ],\n  &quot;keyParts2&quot; : [ &quot;key1&quot;, &quot;key2&quot;, &quot;key1&quot;, &quot;key2&quot;, &quot;key3&quot; ],\n  &quot;values&quot; : [ &quot;value1-1&quot;, &quot;value1-2&quot;, &quot;value2-1&quot;, &quot;value2-2&quot;, &quot;value2-3&quot; ]\n}\n</code></pre>\n<p>The above operation let us have each of the components of the end result positioned in the right index of the desired result.\nNote that each array has the same size.\nIn the second operation we group each of the array elements by its index using the <code>#</code> operator. Looking at the <a href=\"https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java#L261\" rel=\"nofollow noreferrer\">docs</a> <code>[#1]</code> can be translated to:</p>\n<blockquote>\n<p>&quot;Go up one level and ask that node how many matches it has had before finding the current element&quot;.</p>\n</blockquote>\n<p>The node above is an array, so for the 3rd array element it will be the array index <code>2</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  ...\n  {\n    &quot;part1&quot; : &quot;bloc2-1&quot;,\n    &quot;part2&quot; : &quot;key1&quot;,\n    &quot;value&quot; : &quot;value2-1&quot;\n  }\n  ...\n]\n</code></pre>\n<p>In the 3rd operation <strong>I have assumed</strong> that the key of the desired result is the concatenation of the <code>&quot;blocX&quot;</code> substring of the <code>&quot;blocX-Y&quot;</code> key concatenated with the <code>&quot;key&quot;</code> value. That's why I've used the <code>&quot;modify-default-beta&quot;</code>. Have a look at <a href=\"https://jolt-demo.appspot.com/#modify-stringFunctions\" rel=\"nofollow noreferrer\">the example from the demo app</a>\nEach of five elements of the array is transformed similarly to the 3rd array element:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  ...\n  {\n    &quot;part1&quot; : &quot;bloc2-1&quot;,\n    &quot;part2&quot; : &quot;key1&quot;,\n    &quot;value&quot; : &quot;value2-1&quot;,\n    &quot;newKey&quot; : [ &quot;bloc2&quot;, &quot;1&quot; ],\n    &quot;newKeyFirst&quot; : &quot;bloc2&quot;,\n    &quot;newKeyComplete&quot; : &quot;bloc2-key1&quot;\n  }\n  ...\n]\n</code></pre>\n<p>The last operation produces the desired result from the 3rd operation's output.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664905500,"creation_date":1664905500,"answer_id":73951722,"question_id":70975621,"body_markdown":"You may consider another library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(inputJSON);\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;entries()&quot; +        // Field &quot;key&quot; generated by entries() is the same as the inner one.\r\n        &quot;.field(k:key)&quot; +    // So, rename it to &quot;k&quot;.\r\n        &quot;.unwind(value.*)&quot; + // Unwind the &quot;value&quot; generated by entries(), not the inner &quot;value&quot;.\r\n        &quot;.map(concat(k.keepBefore(&#39;-&#39;),&#39;-&#39;,key)::value)&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;bloc1-key1&quot; : &quot;value1-1&quot;,\r\n      &quot;bloc1-key2&quot; : &quot;value1-2&quot;,\r\n      &quot;bloc2-key1&quot; : &quot;value2-1&quot;,\r\n      &quot;bloc2-key2&quot; : &quot;value2-2&quot;,\r\n      &quot;bloc2-key3&quot; : &quot;value2-3&quot;\r\n    }","title":"Java Jolt: can&#39;t find proper spec for my transformation","body":"<p>You may consider another library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(inputJSON);\n\nJsonNode node = josson.getNode(\n    &quot;entries()&quot; +        // Field &quot;key&quot; generated by entries() is the same as the inner one.\n    &quot;.field(k:key)&quot; +    // So, rename it to &quot;k&quot;.\n    &quot;.unwind(value.*)&quot; + // Unwind the &quot;value&quot; generated by entries(), not the inner &quot;value&quot;.\n    &quot;.map(concat(k.keepBefore('-'),'-',key)::value)&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;bloc1-key1&quot; : &quot;value1-1&quot;,\n  &quot;bloc1-key2&quot; : &quot;value1-2&quot;,\n  &quot;bloc2-key1&quot; : &quot;value2-1&quot;,\n  &quot;bloc2-key2&quot; : &quot;value2-2&quot;,\n  &quot;bloc2-key3&quot; : &quot;value2-3&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":24146613,"reputation":23,"user_id":18112106,"display_name":"JacquesD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70977072,"answer_count":2,"score":2,"last_activity_date":1664905500,"creation_date":1643908958,"question_id":70975621,"body_markdown":"I&#39;m struggling with that Jolt transformation:\r\nHere is my input JSON\r\n```json\r\n{\r\n  &quot;bloc1-1&quot;: {\r\n    &quot;bloc1-2&quot;: [\r\n      {\r\n        &quot;key&quot;: &quot;key1&quot;,\r\n        &quot;value&quot;: &quot;value1-1&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;key2&quot;,\r\n        &quot;value&quot;: &quot;value1-2&quot;\r\n      }\r\n    ]\r\n  },\r\n  &quot;bloc2-1&quot;: {\r\n    &quot;bloc2-2&quot;: [\r\n      {\r\n        &quot;key&quot;: &quot;key1&quot;,\r\n        &quot;value&quot;: &quot;value2-1&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;key2&quot;,\r\n        &quot;value&quot;: &quot;value2-2&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;key3&quot;,\r\n        &quot;value&quot;: &quot;value2-3&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n````\r\nHere is what I&#39;m expecting\r\n```json\r\n{\r\n  &quot;bloc1-key1&quot; : &quot;value1-1&quot;,\r\n  &quot;bloc1-key2&quot; : &quot;value1-2&quot;,\r\n  &quot;bloc2-key1&quot; : &quot;value2-1&quot;,\r\n  &quot;bloc2-key2&quot; : &quot;value2-2&quot;,\r\n  &quot;bloc2-key3&quot; : &quot;value2-3&quot;\r\n}\r\n```\r\n\r\nI have tried the following spec, but I cannot figure out how to prefix the key in the RHS (the @ should be the first character)\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;value&quot;: &quot;@(1,key)&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n``` \r\nand got that\r\n\r\n```json\r\n{\r\n  &quot;key1&quot; : [ &quot;value1-1&quot;, &quot;value2-1&quot; ],\r\n  &quot;key2&quot; : [ &quot;value1-2&quot;, &quot;value2-2&quot; ],\r\n  &quot;key3&quot; : &quot;value2-3&quot;\r\n}\r\n```\r\nAny help would be appreciated","title":"Java Jolt: can&#39;t find proper spec for my transformation","body":"<p>I'm struggling with that Jolt transformation:\nHere is my input JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bloc1-1&quot;: {\n    &quot;bloc1-2&quot;: [\n      {\n        &quot;key&quot;: &quot;key1&quot;,\n        &quot;value&quot;: &quot;value1-1&quot;\n      },\n      {\n        &quot;key&quot;: &quot;key2&quot;,\n        &quot;value&quot;: &quot;value1-2&quot;\n      }\n    ]\n  },\n  &quot;bloc2-1&quot;: {\n    &quot;bloc2-2&quot;: [\n      {\n        &quot;key&quot;: &quot;key1&quot;,\n        &quot;value&quot;: &quot;value2-1&quot;\n      },\n      {\n        &quot;key&quot;: &quot;key2&quot;,\n        &quot;value&quot;: &quot;value2-2&quot;\n      },\n      {\n        &quot;key&quot;: &quot;key3&quot;,\n        &quot;value&quot;: &quot;value2-3&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Here is what I'm expecting</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bloc1-key1&quot; : &quot;value1-1&quot;,\n  &quot;bloc1-key2&quot; : &quot;value1-2&quot;,\n  &quot;bloc2-key1&quot; : &quot;value2-1&quot;,\n  &quot;bloc2-key2&quot; : &quot;value2-2&quot;,\n  &quot;bloc2-key3&quot; : &quot;value2-3&quot;\n}\n</code></pre>\n<p>I have tried the following spec, but I cannot figure out how to prefix the key in the RHS (the @ should be the first character)</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: {\n            &quot;value&quot;: &quot;@(1,key)&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>and got that</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot; : [ &quot;value1-1&quot;, &quot;value2-1&quot; ],\n  &quot;key2&quot; : [ &quot;value1-2&quot;, &quot;value2-2&quot; ],\n  &quot;key3&quot; : &quot;value2-3&quot;\n}\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":4519550,"reputation":5971,"user_id":3673259,"accept_rate":94,"display_name":"Joshua"},"score":0,"creation_date":1548139134,"post_id":54302447,"comment_id":95424933,"body_markdown":"Your library should provide a custom `Application` that extends `DaggerApplication`. However, it is not recommended to use Dagger in a library.","body":"Your library should provide a custom <code>Application</code> that extends <code>DaggerApplication</code>. However, it is not recommended to use Dagger in a library."},{"owner":{"account_id":5417545,"reputation":316,"user_id":4312282,"accept_rate":40,"display_name":"mangkool"},"score":0,"creation_date":1548139486,"post_id":54302447,"comment_id":95425069,"body_markdown":"thanks @Joshua , are there any reasons why it is not recommended to use dagger in library ?","body":"thanks @Joshua , are there any reasons why it is not recommended to use dagger in library ?"},{"owner":{"account_id":4519550,"reputation":5971,"user_id":3673259,"accept_rate":94,"display_name":"Joshua"},"score":0,"creation_date":1548140379,"post_id":54302447,"comment_id":95425412,"body_markdown":"When you build a library, you should not require the application to use dependency inject framework because dependency inject framework is designed for application level. Instead, you should design your library to follow the principle. You can read more [here](https://stackoverflow.com/a/2047657/3673259).","body":"When you build a library, you should not require the application to use dependency inject framework because dependency inject framework is designed for application level. Instead, you should design your library to follow the principle. You can read more <a href=\"https://stackoverflow.com/a/2047657/3673259\">here</a>."},{"owner":{"account_id":5417545,"reputation":316,"user_id":4312282,"accept_rate":40,"display_name":"mangkool"},"score":0,"creation_date":1548141550,"post_id":54302447,"comment_id":95425925,"body_markdown":"okayy, I see, thanks","body":"okayy, I see, thanks"}],"answers":[{"tags":[],"owner":{"account_id":13532704,"reputation":7,"user_id":9762686,"display_name":"Kavinrajan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664905459,"creation_date":1664905459,"answer_id":73951710,"question_id":54302447,"body_markdown":"It was because of **missing android:name key** with the value of my Application subclass **to my manifest file**.\r\n\r\nEg:  Add **android:name=&quot;.**MyApplication**&quot;** in your manifest under application tag. Change the &#39;MyApplication&#39; to the name of your application class","title":"Using dagger 2 in stand alone android library project","body":"<p>It was because of <strong>missing android:name key</strong> with the value of my Application subclass <strong>to my manifest file</strong>.</p>\n<p>Eg:  Add <strong>android:name=&quot;.<strong>MyApplication</strong>&quot;</strong> in your manifest under application tag. Change the 'MyApplication' to the name of your application class</p>\n"}],"owner":{"account_id":5417545,"reputation":316,"user_id":4312282,"accept_rate":40,"display_name":"mangkool"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664905459,"creation_date":1548138551,"question_id":54302447,"body_markdown":"I am trying to create a stand alone library and use dagger 2 in it, I already create the module and the component of the library, and make the initialisation of the library including the dagger component, my goal here is I wanted this library can be used even the project who implemented it did not use dagger. but it seems my configuration only can work if the project implemented it, also use dagger2 cause I got error :\r\n\r\n    Application does not implement dagger.android.HasDispatchingActivityInjector\r\n\r\nSo are there anyway I can still dagger2 in my library without having the project who implemented it also use dagger2 ?\r\n\r\nps : My library contain an activity\r\n","title":"Using dagger 2 in stand alone android library project","body":"<p>I am trying to create a stand alone library and use dagger 2 in it, I already create the module and the component of the library, and make the initialisation of the library including the dagger component, my goal here is I wanted this library can be used even the project who implemented it did not use dagger. but it seems my configuration only can work if the project implemented it, also use dagger2 cause I got error :</p>\n\n<pre><code>Application does not implement dagger.android.HasDispatchingActivityInjector\n</code></pre>\n\n<p>So are there anyway I can still dagger2 in my library without having the project who implemented it also use dagger2 ?</p>\n\n<p>ps : My library contain an activity</p>\n"},{"tags":["java","spring","spring-mvc","spring-batch","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664904343,"creation_date":1664904343,"answer_id":73951527,"question_id":73949989,"body_markdown":"You can lazy initialize spring configuration for batch for this case.\r\n\r\n**Refer:**  \r\nhttps://www.baeldung.com/spring-lazy-annotation. \r\nhttps://howtodoinjava.com/spring5/core/spring-bean-eager-vs-lazy-init/\r\n","title":"how can i execute constructor only when i execute batch process?","body":"<p>You can lazy initialize spring configuration for batch for this case.</p>\n<p><strong>Refer:</strong><br />\n<a href=\"https://www.baeldung.com/spring-lazy-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-lazy-annotation</a>.\n<a href=\"https://howtodoinjava.com/spring5/core/spring-bean-eager-vs-lazy-init/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring5/core/spring-bean-eager-vs-lazy-init/</a></p>\n"}],"owner":{"account_id":16002638,"reputation":15,"user_id":11548881,"display_name":"Companion Cube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73951527,"answer_count":1,"score":0,"last_activity_date":1664904343,"creation_date":1664896171,"question_id":73949989,"body_markdown":"I&#39;m making batch process using spring batch. \r\n\r\n\r\nI intend to integrate spring batch into spring-webmvc project.\r\n\r\nBut, when I start spring-webmvc server, spring batch&#39;s ItemReader, ItemProcessor, ItemWriter Constructors called. \r\n\r\nI used constructors to get batch data from database, so I expect database&#39;s data will be remained in memory. \r\n\r\nI think it may cause waste of memory.\r\n\r\nSo how can I call these constructors only when I execute batch process?\r\n\r\nHere is my batch configuration. \r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class DbSyncConfiguration {\r\n  @Autowired\r\n  private JobBuilderFactory jobBuilderFactory;\r\n  @Autowired\r\n  private StepBuilderFactory stepBuilderFactory;\r\n  private final int BATCH_SIZE = 1000;\r\n\r\n\r\n\r\n  @Bean\r\n  public Job dbSyncJob() {\r\n    return this.jobBuilderFactory.get(&quot;dbSyncJob&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .start(this.userParseStep())\r\n            .build();\r\n  }\r\n\r\n  @Bean\r\n  public Step userParseStep() {\r\n    return this.stepBuilderFactory.get(&quot;userParseStep&quot;)\r\n            .&lt;ParseItem, ParseItem&gt;chunk(BATCH_SIZE)\r\n            .reader(new UserItemParseReader())\r\n            .writer(new UserItemParseWriter())\r\n            .build();\r\n  }\r\n}\r\n```","title":"how can i execute constructor only when i execute batch process?","body":"<p>I'm making batch process using spring batch.</p>\n<p>I intend to integrate spring batch into spring-webmvc project.</p>\n<p>But, when I start spring-webmvc server, spring batch's ItemReader, ItemProcessor, ItemWriter Constructors called.</p>\n<p>I used constructors to get batch data from database, so I expect database's data will be remained in memory.</p>\n<p>I think it may cause waste of memory.</p>\n<p>So how can I call these constructors only when I execute batch process?</p>\n<p>Here is my batch configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing\npublic class DbSyncConfiguration {\n  @Autowired\n  private JobBuilderFactory jobBuilderFactory;\n  @Autowired\n  private StepBuilderFactory stepBuilderFactory;\n  private final int BATCH_SIZE = 1000;\n\n\n\n  @Bean\n  public Job dbSyncJob() {\n    return this.jobBuilderFactory.get(&quot;dbSyncJob&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(this.userParseStep())\n            .build();\n  }\n\n  @Bean\n  public Step userParseStep() {\n    return this.stepBuilderFactory.get(&quot;userParseStep&quot;)\n            .&lt;ParseItem, ParseItem&gt;chunk(BATCH_SIZE)\n            .reader(new UserItemParseReader())\n            .writer(new UserItemParseWriter())\n            .build();\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","javafx","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588837124,"creation_date":1588837124,"answer_id":61652289,"question_id":61651873,"body_markdown":"I have never used that plugin but I would try adding `&#39;--icon&#39;, &#39;icon.ico&#39;` to the installerOptions and not the imageOptions.","title":"How to set application icon in JavaFX 15-ea+3","body":"<p>I have never used that plugin but I would try adding <code>'--icon', 'icon.ico'</code> to the installerOptions and not the imageOptions.</p>\n"},{"tags":[],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664904215,"creation_date":1664904215,"answer_id":73951507,"question_id":61651873,"body_markdown":"If it&#39;s not too late, or for anyone else with this issue,instead of\r\n\r\n    imageOptions = [&#39;--icon icon.ico&#39;]\r\n\r\nuse \r\n\r\n    imageOptions = [&#39;--icon&#39;, &#39;icon.ico&#39;]\r\nThis worked for me.","title":"How to set application icon in JavaFX 15-ea+3","body":"<p>If it's not too late, or for anyone else with this issue,instead of</p>\n<pre><code>imageOptions = ['--icon icon.ico']\n</code></pre>\n<p>use</p>\n<pre><code>imageOptions = ['--icon', 'icon.ico']\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":13096837,"reputation":191,"user_id":9462532,"display_name":"Amir Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664904215,"creation_date":1588835606,"question_id":61651873,"body_markdown":"I have made a JavaFX project with the following details:\r\n\r\n**`OpenJFX 15-ea+3` / `JDK 14` / `Gradle` / `Non-modular`**\r\n\r\nAlso, I use the following Gradle plugins:\r\n\r\n**`javafxplugin version 0.0.8` / `org.beryx.runtime version 1.8.2` &amp; `com.github.johnrengelman.shadow version 5.2.0` (For creating native images)**\r\n\r\nIn addition, JDK 14 `jpackage` tool is used to create installer package for the application. Here is `build.gradle` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n    id &#39;org.beryx.runtime&#39; version &#39;1.8.2&#39;\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;5.2.0&quot;\r\n}\r\n\r\ngroup &#39;com.pastor&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 14\r\ntargetCompatibility = 14\r\n//This option is for rendering persian characters encoding\r\ncompileJava.options.encoding = &#39;UTF-8&#39;\r\n\r\njavafx {\r\n    version = &quot;15-ea+3&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    runtimeOnly &quot;org.openjfx:javafx-controls:$javafx.version:win&quot;\r\n    runtimeOnly &quot;org.openjfx:javafx-fxml:$javafx.version:win&quot;\r\n    runtimeOnly &quot;org.openjfx:javafx-media:$javafx.version:win&quot;\r\n    compile group: &#39;com.jfoenix&#39;, name: &#39;jfoenix&#39;, version: &#39;9.0.9&#39;\r\n    compile &#39;de.jensd:fontawesomefx-fontawesome:4.7.0-9.1.2&#39;\r\n    compile &#39;de.jensd:fontawesomefx-icons525:4.2.0-9.1.2&#39;\r\n    compile &#39;de.jensd:fontawesomefx-materialdesignfont:2.0.26-9.1.2&#39;\r\n    compile &#39;de.jensd:fontawesomefx-materialicons:2.2.0-9.1.2&#39;\r\n    compile group: &#39;org.controlsfx&#39;, name: &#39;controlsfx&#39;, version: &#39;11.0.1&#39;\r\n}\r\n\r\nruntime {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    jpackage {\r\n        if(org.gradle.internal.os.OperatingSystem.current().windows) {\r\n            appVersion = &#39;1.0.0&#39;\r\n            skipInstaller = false\r\n            installerName = &#39;Pastor apartment unit management system&#39;\r\n            installerType = &#39;exe&#39;\r\n            installerOptions = [&#39;--win-per-user-install&#39;, &#39;--win-dir-chooser&#39;, &#39;--win-menu&#39;, &#39;--win-shortcut&#39;]\r\n        }\r\n    }\r\n}\r\nmainClassName = &#39;sample.Launcher&#39;\r\n```\r\n\r\nI already tried `imageOptions = [&#39;--icon icon.ico&#39;]` within `jpackage` block but I always get this kind of error:\r\n\r\n```\r\nError: Invalid Option: [--icon app.ico]\r\n``` \r\n\r\nAny useful suggestions or tips are greatly appreciated.","title":"How to set application icon in JavaFX 15-ea+3","body":"<p>I have made a JavaFX project with the following details:</p>\n\n<p><strong><code>OpenJFX 15-ea+3</code> / <code>JDK 14</code> / <code>Gradle</code> / <code>Non-modular</code></strong></p>\n\n<p>Also, I use the following Gradle plugins:</p>\n\n<p><strong><code>javafxplugin version 0.0.8</code> / <code>org.beryx.runtime version 1.8.2</code> &amp; <code>com.github.johnrengelman.shadow version 5.2.0</code> (For creating native images)</strong></p>\n\n<p>In addition, JDK 14 <code>jpackage</code> tool is used to create installer package for the application. Here is <code>build.gradle</code> file:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.8'\n    id 'org.beryx.runtime' version '1.8.2'\n    id \"com.github.johnrengelman.shadow\" version \"5.2.0\"\n}\n\ngroup 'com.pastor'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 14\ntargetCompatibility = 14\n//This option is for rendering persian characters encoding\ncompileJava.options.encoding = 'UTF-8'\n\njavafx {\n    version = \"15-ea+3\"\n    modules = [ 'javafx.controls', 'javafx.fxml']\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    runtimeOnly \"org.openjfx:javafx-controls:$javafx.version:win\"\n    runtimeOnly \"org.openjfx:javafx-fxml:$javafx.version:win\"\n    runtimeOnly \"org.openjfx:javafx-media:$javafx.version:win\"\n    compile group: 'com.jfoenix', name: 'jfoenix', version: '9.0.9'\n    compile 'de.jensd:fontawesomefx-fontawesome:4.7.0-9.1.2'\n    compile 'de.jensd:fontawesomefx-icons525:4.2.0-9.1.2'\n    compile 'de.jensd:fontawesomefx-materialdesignfont:2.0.26-9.1.2'\n    compile 'de.jensd:fontawesomefx-materialicons:2.2.0-9.1.2'\n    compile group: 'org.controlsfx', name: 'controlsfx', version: '11.0.1'\n}\n\nruntime {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    jpackage {\n        if(org.gradle.internal.os.OperatingSystem.current().windows) {\n            appVersion = '1.0.0'\n            skipInstaller = false\n            installerName = 'Pastor apartment unit management system'\n            installerType = 'exe'\n            installerOptions = ['--win-per-user-install', '--win-dir-chooser', '--win-menu', '--win-shortcut']\n        }\n    }\n}\nmainClassName = 'sample.Launcher'\n</code></pre>\n\n<p>I already tried <code>imageOptions = ['--icon icon.ico']</code> within <code>jpackage</code> block but I always get this kind of error:</p>\n\n<pre><code>Error: Invalid Option: [--icon app.ico]\n</code></pre>\n\n<p>Any useful suggestions or tips are greatly appreciated.</p>\n"},{"tags":["java","selenium","button","xpath","webdriver"],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664901800,"post_id":73950992,"comment_id":130574146,"body_markdown":"Hey pal, thank you for replying!. It says: &quot;ele cannot be resolved to a variable&quot;, what data type should i use?","body":"Hey pal, thank you for replying!. It says: &quot;ele cannot be resolved to a variable&quot;, what data type should i use?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664902152,"post_id":73950992,"comment_id":130574250,"body_markdown":"Take a look, i have edited my question. I did this:\nWebElement ele = driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]&quot;));\n\tdriver.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;,&#39;display:block&#39;)&quot;, ele);\n\n\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]//button[text()=&#39;Upload File&#39;]&quot;)).click();\n\nBut it says: The method executeScript(String, WebElement) is undefined for the type WebDriver","body":"Take a look, i have edited my question. I did this: WebElement ele = driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]&quot;)); \tdriver.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;,&#39;di&zwnj;&#8203;splay:block&#39;)&quot;, ele);  \tdriver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]//button[text()=&#39;Upload File&#39;]&quot;)).click();  But it says: The method executeScript(String, WebElement) is undefined for the type WebDriver"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1664902209,"post_id":73950992,"comment_id":130574274,"body_markdown":"Sorry missed the `;`","body":"Sorry missed the <code>;</code>"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1664902964,"post_id":73950992,"comment_id":130574547,"body_markdown":"@new_programmer : can you check now. I have updated the `;` which I have missed.","body":"@new_programmer : can you check now. I have updated the <code>;</code> which I have missed."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664903016,"post_id":73950992,"comment_id":130574561,"body_markdown":"It throws the same error message","body":"It throws the same error message"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1664904239,"post_id":73950992,"comment_id":130574980,"body_markdown":"@new_programmer : Sorry pal, can you check now?","body":"@new_programmer : Sorry pal, can you check now?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":1,"creation_date":1664904364,"post_id":73950992,"comment_id":130575016,"body_markdown":"Hey i put this: WebElement ele = driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]&quot;));","body":"Hey i put this: WebElement ele = driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]&quot;));"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":1,"creation_date":1664904382,"post_id":73950992,"comment_id":130575026,"body_markdown":"Webelement ele, is that okay for you?","body":"Webelement ele, is that okay for you?"}],"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664904206,"creation_date":1664901362,"answer_id":73950992,"question_id":73950795,"body_markdown":"\r\n\r\n    &lt;div class=&quot;row attachment-files-item&quot; style=&quot;display: none;&quot;&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload File&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\nIf you see the parent element of the button, Its style `style=&quot;display: none;` means it is hidden on the page.\r\nYou need to change the style to `style=&quot;display: block;` to unhide this.\r\n\r\nuse javascript executor to set the attribute.\r\n\r\n    ele =driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;,&#39;display:block;&#39;)&quot;, ele);\r\n    \r\n    driver.findElement(By.xpath(&quot;//div[@class=&#39;row attachment-files-item&#39;]//button[text()=&#39;Upload File&#39;]&quot;)).click();\r\n\r\nplease add delay while interacting either implicit or explicit.","title":"2-Buttons merged. Not able to select the first one in JAVA &amp; SELENIUM","body":"<pre><code>&lt;div class=&quot;row attachment-files-item&quot; style=&quot;display: none;&quot;&gt;\n&lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload File&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>If you see the parent element of the button, Its style <code>style=&quot;display: none;</code> means it is hidden on the page.\nYou need to change the style to <code>style=&quot;display: block;</code> to unhide this.</p>\n<p>use javascript executor to set the attribute.</p>\n<pre><code>ele =driver.findElement(By.xpath(&quot;//div[@class='row attachment-files-item']&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].setAttribute('style','display:block;')&quot;, ele);\n\ndriver.findElement(By.xpath(&quot;//div[@class='row attachment-files-item']//button[text()='Upload File']&quot;)).click();\n</code></pre>\n<p>please add delay while interacting either implicit or explicit.</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73950992,"answer_count":1,"score":1,"last_activity_date":1664904206,"creation_date":1664900422,"question_id":73950795,"body_markdown":"I&#39;m working with a multi-language page and i got a button called **Upload File**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried to click on that button using Selenium and JAVA but not matter what it cannot be clicked:\r\n\r\nThat button has this:\r\n\r\n    &lt;div class=&quot;row attachment-files-item&quot; style=&quot;display: none;&quot;&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload File&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\nThe XPATH is:\r\n\r\n    //*[@id=&quot;documentation&quot;]/div/div[2]/div/button\r\n\r\nI tried to do something like this:\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)).click();\r\n\r\nIt is not working, i cannot reach to the second button.\r\n\r\nWhat am i doing wrong?\r\n\r\n----------------------------------\r\nEDIT#1:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gIK16.gif\r\n  [2]: https://i.stack.imgur.com/6myyO.gif","title":"2-Buttons merged. Not able to select the first one in JAVA &amp; SELENIUM","body":"<p>I'm working with a multi-language page and i got a button called <strong>Upload File</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gIK16.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIK16.gif\" alt=\"enter image description here\" /></a></p>\n<p>I tried to click on that button using Selenium and JAVA but not matter what it cannot be clicked:</p>\n<p>That button has this:</p>\n<pre><code>&lt;div class=&quot;row attachment-files-item&quot; style=&quot;display: none;&quot;&gt;\n&lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload File&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The XPATH is:</p>\n<pre><code>//*[@id=&quot;documentation&quot;]/div/div[2]/div/button\n</code></pre>\n<p>I tried to do something like this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)).click();\n</code></pre>\n<p>It is not working, i cannot reach to the second button.</p>\n<p>What am i doing wrong?</p>\n<hr />\n<p>EDIT#1:\n<a href=\"https://i.stack.imgur.com/6myyO.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6myyO.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","postgresql","jpa","uuid"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1341166257,"post_id":11284359,"comment_id":14842503,"body_markdown":"possible duplicate of [Postgresql UUID supported by Hibernate?](http://stackoverflow.com/questions/4495233/postgresql-uuid-supported-by-hibernate)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4495233/postgresql-uuid-supported-by-hibernate\">Postgresql UUID supported by Hibernate?</a>"},{"owner":{"account_id":176507,"reputation":5460,"user_id":407249,"accept_rate":86,"display_name":"ehsanullahjan"},"score":0,"creation_date":1341195452,"post_id":11284359,"comment_id":14847213,"body_markdown":"As I mentioned in my post, there are many questions on SO with the same problem but they are all old and none seem to have a good, working solution. The post you mentioned is no exception (which, btw, I saw before I posted my question).","body":"As I mentioned in my post, there are many questions on SO with the same problem but they are all old and none seem to have a good, working solution. The post you mentioned is no exception (which, btw, I saw before I posted my question)."}],"answers":[{"comments":[{"owner":{"account_id":1800531,"reputation":530,"user_id":1639004,"accept_rate":75,"display_name":"jonfornari"},"score":0,"creation_date":1383044917,"post_id":12824827,"comment_id":29188095,"body_markdown":"Hi, i tried this but i got a org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111. Anyone can help me?","body":"Hi, i tried this but i got a org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111. Anyone can help me?"},{"owner":{"account_id":272180,"reputation":1562,"user_id":563133,"accept_rate":50,"display_name":"Vahid Pazirandeh"},"score":0,"creation_date":1398737457,"post_id":12824827,"comment_id":35768006,"body_markdown":"@jonfornari I had the same issue but forgot to select org.hibernate.dialect.PostgreSQLDialect in my Grails project. Maybe you&#39;re missing that or some other settings? I didn&#39;t need the following, but it may help you: http://andrew-arch.blogspot.com/2008/02/uuid-and-hibernate-second-update.html","body":"@jonfornari I had the same issue but forgot to select org.hibernate.dialect.PostgreSQLDialect in my Grails project. Maybe you&#39;re missing that or some other settings? I didn&#39;t need the following, but it may help you: <a href=\"http://andrew-arch.blogspot.com/2008/02/uuid-and-hibernate-second-update.html\" rel=\"nofollow noreferrer\">andrew-arch.blogspot.com/2008/02/&hellip;</a>"},{"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":0,"creation_date":1417520529,"post_id":12824827,"comment_id":42971482,"body_markdown":"To make it work with `JPA 2.0` and `EclipseLink` (Glassfish 3.1.2) have a look at https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink","body":"To make it work with <code>JPA 2.0</code> and <code>EclipseLink</code> (Glassfish 3.1.2) have a look at <a href=\"https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink\" rel=\"nofollow noreferrer\">github.com/ancoron/pg-inet-maven/wiki/&hellip;</a>"},{"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":0,"creation_date":1417523331,"post_id":12824827,"comment_id":42973169,"body_markdown":"Found event simpler solution for `JPA 2.0` with `EclipseLink` - just annotate your `UUID` field with `@Convert(&quot;uuidConverter&quot;) @TypeConverter(name = &quot;uuidConverter&quot;, dataType = Object.class, objectType = UUID.class) private UUID id;` (both annotations from &#39;org.eclipse.persistence.annotations&#39; package)","body":"Found event simpler solution for <code>JPA 2.0</code> with <code>EclipseLink</code> - just annotate your <code>UUID</code> field with <code>@Convert(&quot;uuidConverter&quot;) @TypeConverter(name = &quot;uuidConverter&quot;, dataType = Object.class, objectType = UUID.class) private UUID id;</code> (both annotations from &#39;org.eclipse.persistence.annotations&#39; package)"},{"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"score":0,"creation_date":1480624915,"post_id":12824827,"comment_id":69052225,"body_markdown":"Does this work for SQLQuery queries as well or only for HQL queries?","body":"Does this work for SQLQuery queries as well or only for HQL queries?"}],"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"comment_count":5,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1349889400,"creation_date":1349889400,"answer_id":12824827,"question_id":11284359,"body_markdown":"The PostgreSQL JDBC driver has chosen an unfortunately way to represent non-JDBC-standard type codes.  They simply map all of them to Types.OTHER.  Long story short, you need to enable a special Hibernate type mapping for handling UUID mappings (to columns of the postgres-specific uuid datatype):\r\n\r\n    @Id\r\n    @Column(name = &quot;customer_id&quot;)\r\n    @org.hibernate.annotations.Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n    private UUID id;\r\n\r\nor more succinctly:\r\n\r\n    @Id\r\n    @Column(name = &quot;customer_id&quot;)\r\n    @org.hibernate.annotations.Type(type=&quot;pg-uuid&quot;)\r\n    private UUID id;\r\n\r\nAnother (better) option is to register org.hibernate.type.PostgresUUIDType as the default Hibernate type mapping for all attributes exposed as java.util.UUID.  That is covered in the documentation @ http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch06.html#types-registry\r\n","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>The PostgreSQL JDBC driver has chosen an unfortunately way to represent non-JDBC-standard type codes.  They simply map all of them to Types.OTHER.  Long story short, you need to enable a special Hibernate type mapping for handling UUID mappings (to columns of the postgres-specific uuid datatype):</p>\n\n<pre><code>@Id\n@Column(name = \"customer_id\")\n@org.hibernate.annotations.Type(type=\"org.hibernate.type.PostgresUUIDType\")\nprivate UUID id;\n</code></pre>\n\n<p>or more succinctly:</p>\n\n<pre><code>@Id\n@Column(name = \"customer_id\")\n@org.hibernate.annotations.Type(type=\"pg-uuid\")\nprivate UUID id;\n</code></pre>\n\n<p>Another (better) option is to register org.hibernate.type.PostgresUUIDType as the default Hibernate type mapping for all attributes exposed as java.util.UUID.  That is covered in the documentation @ <a href=\"http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch06.html#types-registry\">http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch06.html#types-registry</a></p>\n"},{"comments":[{"owner":{"account_id":2319125,"reputation":515,"user_id":2035417,"accept_rate":75,"display_name":"ruckc"},"score":0,"creation_date":1387507767,"post_id":17323965,"comment_id":30995833,"body_markdown":"Not having any luck with this.  The @Converter annotation doesn&#39;t apply to a class.","body":"Not having any luck with this.  The @Converter annotation doesn&#39;t apply to a class."},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1387551501,"post_id":17323965,"comment_id":31014534,"body_markdown":"I am not sure what do you mean. Both javax.persistence.Converter and org.eclipse.persistence.annotations.Converter can be applied to a class. I edited the answer to make it explicit that it uses javax.persistence.Converter.","body":"I am not sure what do you mean. Both javax.persistence.Converter and org.eclipse.persistence.annotations.Converter can be applied to a class. I edited the answer to make it explicit that it uses javax.persistence.Converter."},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":0,"creation_date":1497822530,"post_id":17323965,"comment_id":76225478,"body_markdown":"It worked (PG9.4) - Also @Column annotation is not required for me.","body":"It worked (PG9.4) - Also @Column annotation is not required for me."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":1,"creation_date":1598121790,"post_id":17323965,"comment_id":112357205,"body_markdown":"You can&#39;t use it for @Id fields.","body":"You can&#39;t use it for @Id fields."}],"tags":[],"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"comment_count":4,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1387551315,"creation_date":1372259575,"answer_id":17323965,"question_id":11284359,"body_markdown":"JPA 2.1 provides a very easy way to use the PostgreSQL uuid column type and `java.util.UUID` as the type of the corresponding entity field:\r\n\r\n    @javax.persistence.Converter(autoApply = true)\r\n    public class PostgresUuidConverter implements AttributeConverter&lt;UUID, UUID&gt; {\r\n    \r\n        @Override\r\n        public UUID convertToDatabaseColumn(UUID attribute) {\r\n            return attribute;\r\n        }\r\n    \r\n        @Override\r\n        public UUID convertToEntityAttribute(UUID dbData) {\r\n            return dbData;\r\n        }\r\n    \r\n    }\r\n\r\nJust add this class to your persistence configuration and annotate UUID fields with `@Column(columnDefinition=&quot;uuid&quot;)`.","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>JPA 2.1 provides a very easy way to use the PostgreSQL uuid column type and <code>java.util.UUID</code> as the type of the corresponding entity field:</p>\n\n<pre><code>@javax.persistence.Converter(autoApply = true)\npublic class PostgresUuidConverter implements AttributeConverter&lt;UUID, UUID&gt; {\n\n    @Override\n    public UUID convertToDatabaseColumn(UUID attribute) {\n        return attribute;\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(UUID dbData) {\n        return dbData;\n    }\n\n}\n</code></pre>\n\n<p>Just add this class to your persistence configuration and annotate UUID fields with <code>@Column(columnDefinition=\"uuid\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":485627,"reputation":11,"user_id":902041,"display_name":"Ixim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406708859,"creation_date":1406708859,"answer_id":25032048,"question_id":11284359,"body_markdown":"The solution suggested by Oleg did not work perfectly for me (it failed if you tried to persist a null value). Here is a tweaked solution that also works for null values.\r\n\r\nIn my case i am using EclipseLink though so if you are using Hibernate you might not need this.\r\n\r\n    public class UuidConverter implements AttributeConverter&lt;UUID, Object&gt; {\r\n        @Override\r\n        public Object convertToDatabaseColumn(UUID uuid) {\r\n            PGobject object = new PGobject();\r\n            object.setType(&quot;uuid&quot;);\r\n            try {\r\n                if (uuid == null) {\r\n                    object.setValue(null);\r\n                } else {\r\n                    object.setValue(uuid.toString());\r\n                }\r\n            } catch (SQLException e) {\r\n                throw new IllegalArgumentException(&quot;Error when creating Postgres uuid&quot;, e);\r\n            }\r\n            return object;\r\n        }\r\n    \r\n        @Override\r\n        public UUID convertToEntityAttribute(Object dbData) {\r\n            return (UUID) dbData;\r\n        }\r\n    }","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>The solution suggested by Oleg did not work perfectly for me (it failed if you tried to persist a null value). Here is a tweaked solution that also works for null values.</p>\n\n<p>In my case i am using EclipseLink though so if you are using Hibernate you might not need this.</p>\n\n<pre><code>public class UuidConverter implements AttributeConverter&lt;UUID, Object&gt; {\n    @Override\n    public Object convertToDatabaseColumn(UUID uuid) {\n        PGobject object = new PGobject();\n        object.setType(\"uuid\");\n        try {\n            if (uuid == null) {\n                object.setValue(null);\n            } else {\n                object.setValue(uuid.toString());\n            }\n        } catch (SQLException e) {\n            throw new IllegalArgumentException(\"Error when creating Postgres uuid\", e);\n        }\n        return object;\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(Object dbData) {\n        return (UUID) dbData;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664904141,"creation_date":1410254915,"answer_id":25741125,"question_id":11284359,"body_markdown":"Newer version `&gt;= 8.4-701` of Postgresql JDBC driver correctly handle `java.util.UUID` mapping. And so do Hibernate `&gt;= 4.3.x`.\r\n\r\nSee details on https://stackoverflow.com/a/780922/173149:\r\n\r\n&gt; Map the database uuid type to java.util.UUID. This only works for\r\n&gt; relatively new server (8.3) and JDK (1.5) versions.","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>Newer version <code>&gt;= 8.4-701</code> of Postgresql JDBC driver correctly handle <code>java.util.UUID</code> mapping. And so do Hibernate <code>&gt;= 4.3.x</code>.</p>\n<p>See details on <a href=\"https://stackoverflow.com/a/780922/173149\">https://stackoverflow.com/a/780922/173149</a>:</p>\n<blockquote>\n<p>Map the database uuid type to java.util.UUID. This only works for\nrelatively new server (8.3) and JDK (1.5) versions.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1702821,"reputation":3300,"user_id":1562477,"accept_rate":54,"display_name":"Johnny Doe"},"score":1,"creation_date":1492125929,"post_id":41234990,"comment_id":73866900,"body_markdown":"I would voice twice for this answer if I could. columnDefinition specification solved me an issue when UUID was replaced by geometry type while tables creation. It happened because of PostgisDialect were used.","body":"I would voice twice for this answer if I could. columnDefinition specification solved me an issue when UUID was replaced by geometry type while tables creation. It happened because of PostgisDialect were used."}],"tags":[],"owner":{"account_id":8392695,"reputation":181,"user_id":6300929,"display_name":"Christophe"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1482208697,"creation_date":1482208697,"answer_id":41234990,"question_id":11284359,"body_markdown":"To have it working with Hibernate 5.1.x, you can follow Steve Ebersole [comment here][1]\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column( columnDefinition = &quot;uuid&quot;, updatable = false )\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-9562?focusedCommentId=66756&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-66756","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>To have it working with Hibernate 5.1.x, you can follow Steve Ebersole <a href=\"https://hibernate.atlassian.net/browse/HHH-9562?focusedCommentId=66756&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-66756\" rel=\"noreferrer\">comment here</a></p>\n\n<pre><code>@Id\n@GeneratedValue\n@Column( columnDefinition = \"uuid\", updatable = false )\npublic UUID getId() {\n    return id;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":2,"creation_date":1512645480,"post_id":47693875,"comment_id":82346816,"body_markdown":"While this may answer the question, it is better to explain the essential parts of the answer and possibly what was the problem with OPs code.","body":"While this may answer the question, it is better to explain the essential parts of the answer and possibly what was the problem with OPs code."}],"tags":[],"owner":{"account_id":11111404,"reputation":1,"user_id":8157076,"display_name":"Wesley Fuchter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512645433,"creation_date":1512645433,"answer_id":47693875,"question_id":11284359,"body_markdown":"Adds this flag on postgresql url connection: ?stringtype=unspecified\r\n\r\nlike that\r\n\r\njdbc:postgresql://localhost:5432/yourdatabase?stringtype=unspecified","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>Adds this flag on postgresql url connection: ?stringtype=unspecified</p>\n\n<p>like that</p>\n\n<p>jdbc:postgresql://localhost:5432/yourdatabase?stringtype=unspecified</p>\n"}],"owner":{"account_id":176507,"reputation":5460,"user_id":407249,"accept_rate":86,"display_name":"ehsanullahjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50963,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":12824827,"answer_count":6,"score":36,"last_activity_date":1664904141,"creation_date":1341165275,"question_id":11284359,"body_markdown":"I&#39;m trying to persist an entity in PostgreSQL that uses UUID as primary key. I&#39;ve tried persisting it as a plain UUID:\r\n\r\n    @Id\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private UUID id;\r\n\r\nWith the above, I get this error: \r\n\r\n    ERROR: column &quot;customer_id&quot; is of type uuid but expression is of type bytea\r\n    Hint: You will need to rewrite or cast the expression.\r\n    Position: 137\r\n\r\nI also tried persisting the UUID as byte[] to no avail:\r\n\r\n    @Transient\r\n    private UUID id;\r\n\r\n    @Id\r\n    @Column(name = &quot;customer_id&quot;)\r\n    @Access(AccessType.PROPERTY)\r\n    @Lob\r\n    protected byte[] getRowId() {\r\n        return id.toString().getBytes();\r\n    }\r\n\r\n    protected void setRowId(byte[] rowId) {\r\n        id = UUID.fromString(new String(rowId));\r\n    }\r\n\r\nIf I remove @Lob, the error I get is the same as the one posted above. But with @Lob applied, the error changes slightly to:\r\n\r\n    ERROR: column &quot;customer_id&quot; is of type uuid but expression is of type bigint\r\n    Hint: You will need to rewrite or cast the expression.\r\n    Position: 137\r\n\r\nI&#39;m feeling extremely bad being unable to do something as simple as this! \r\n\r\nI&#39;m using Hibernate 4.1.3.Final with PostgreSQL 9.1. \r\n\r\nI&#39;ve seen numerous questions on SO more or less with the same issue but they are all old and none seems to have a straight forward answer. \r\n\r\nI&#39;d like to achieve this in a standard way without resorting to ugly hacks. But if this can be achieved only though (ugly) hacks, then may be that&#39;s what I&#39;ll do. However, I don&#39;t want to store the UUID as a varchar in the database as that&#39;s not good for performance. Also, I&#39;d want to not introduce a Hibernate dependency in my code if possible.\r\n\r\nAny help would be greatly appreciated.\r\n\r\n*UPDATE 1* (2012-07-03 12:15 pm)\r\n\r\nWell, well, well... It&#39;s kinda interesting that I tested the exact same code (plain UUID, no conversion -- the first version of the code posted above) with SQL server 2008 R2 using the JTDS driver (v1.2.5) and, guess what, it worked as a charm (of course I had to change connection-related info in persistence.xml). \r\n\r\nNow, is it a PostgreSQL-specific issue or what?","title":"Persisting UUID in PostgreSQL using JPA","body":"<p>I'm trying to persist an entity in PostgreSQL that uses UUID as primary key. I've tried persisting it as a plain UUID:</p>\n\n<pre><code>@Id\n@Column(name = \"customer_id\")\nprivate UUID id;\n</code></pre>\n\n<p>With the above, I get this error: </p>\n\n<pre><code>ERROR: column \"customer_id\" is of type uuid but expression is of type bytea\nHint: You will need to rewrite or cast the expression.\nPosition: 137\n</code></pre>\n\n<p>I also tried persisting the UUID as byte[] to no avail:</p>\n\n<pre><code>@Transient\nprivate UUID id;\n\n@Id\n@Column(name = \"customer_id\")\n@Access(AccessType.PROPERTY)\n@Lob\nprotected byte[] getRowId() {\n    return id.toString().getBytes();\n}\n\nprotected void setRowId(byte[] rowId) {\n    id = UUID.fromString(new String(rowId));\n}\n</code></pre>\n\n<p>If I remove @Lob, the error I get is the same as the one posted above. But with @Lob applied, the error changes slightly to:</p>\n\n<pre><code>ERROR: column \"customer_id\" is of type uuid but expression is of type bigint\nHint: You will need to rewrite or cast the expression.\nPosition: 137\n</code></pre>\n\n<p>I'm feeling extremely bad being unable to do something as simple as this! </p>\n\n<p>I'm using Hibernate 4.1.3.Final with PostgreSQL 9.1. </p>\n\n<p>I've seen numerous questions on SO more or less with the same issue but they are all old and none seems to have a straight forward answer. </p>\n\n<p>I'd like to achieve this in a standard way without resorting to ugly hacks. But if this can be achieved only though (ugly) hacks, then may be that's what I'll do. However, I don't want to store the UUID as a varchar in the database as that's not good for performance. Also, I'd want to not introduce a Hibernate dependency in my code if possible.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p><em>UPDATE 1</em> (2012-07-03 12:15 pm)</p>\n\n<p>Well, well, well... It's kinda interesting that I tested the exact same code (plain UUID, no conversion -- the first version of the code posted above) with SQL server 2008 R2 using the JTDS driver (v1.2.5) and, guess what, it worked as a charm (of course I had to change connection-related info in persistence.xml). </p>\n\n<p>Now, is it a PostgreSQL-specific issue or what?</p>\n"},{"tags":["java","android","android-mediaplayer"],"answers":[{"comments":[{"owner":{"account_id":20527725,"reputation":163,"user_id":15065774,"display_name":"Ahamed"},"score":0,"creation_date":1664773343,"post_id":73925062,"comment_id":130540183,"body_markdown":"added more code, please check","body":"added more code, please check"},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1664812958,"post_id":73925062,"comment_id":130551650,"body_markdown":"I still don&#39;t see any connection between where your media player gets initialized and where you try to stop it. The two pieces of code are completely disconnected from what you posted","body":"I still don&#39;t see any connection between where your media player gets initialized and where you try to stop it. The two pieces of code are completely disconnected from what you posted"},{"owner":{"account_id":20527725,"reputation":163,"user_id":15065774,"display_name":"Ahamed"},"score":0,"creation_date":1664814775,"post_id":73925062,"comment_id":130552223,"body_markdown":"added more explanation","body":"added more explanation"}],"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664904137,"creation_date":1664706141,"answer_id":73925062,"question_id":73923427,"body_markdown":"Your code doesn&#39;t show MediaPlayer being initialized, so it would definitely crash as soon as you try to reference the `mp` instance. \r\n\r\nI&#39;m pretty sure that you misunderstood how `MediaPlayer` works. It&#39;s not a global service -- you have to manage each instance yourself. Based on your code, you&#39;re instantiating it twice in different places, and expecting them to somehow control the same instance. You&#39;re declaring and creating the `MediaPlayer`, and starting playback in your `FirebaseMessagingService` class, but you&#39;re trying to stop it in your `BroadcastReceiver` class. But there, you&#39;re trying to use a totally different instance of `MediaPlayer`, which has never been initialized, and that&#39;s why it&#39;s crashing.\r\n\r\nYou&#39;ll need to keep a global reference to your `mp` object (either in a singleton, or in your Application object), and change the rest of your code to use it properly. For example:\r\n\r\n     public class App extends Application {\r\n            public static MediaPlayer mp;\r\n        }\r\n    \r\n    public class Firebase extends FirebaseMessagingService {\r\n       ...\r\n\r\n       if(App.mp == null){\r\n            App.mp = MediaPlayer.create(this, Settings.System.DEFAULT_RINGTONE_URI);\r\n       }\r\n       App.mp.start();\r\n\r\n       ....\r\n    }\r\n\r\nand in your Broadcast Receiver:\r\n\r\n    if(App.mp != null){\r\n            App.mp.stop ();\r\n            App.mp = null\r\n       }\r\n\r\n","title":"mediaplayer.stop causes android app to crash","body":"<p>Your code doesn't show MediaPlayer being initialized, so it would definitely crash as soon as you try to reference the <code>mp</code> instance.</p>\n<p>I'm pretty sure that you misunderstood how <code>MediaPlayer</code> works. It's not a global service -- you have to manage each instance yourself. Based on your code, you're instantiating it twice in different places, and expecting them to somehow control the same instance. You're declaring and creating the <code>MediaPlayer</code>, and starting playback in your <code>FirebaseMessagingService</code> class, but you're trying to stop it in your <code>BroadcastReceiver</code> class. But there, you're trying to use a totally different instance of <code>MediaPlayer</code>, which has never been initialized, and that's why it's crashing.</p>\n<p>You'll need to keep a global reference to your <code>mp</code> object (either in a singleton, or in your Application object), and change the rest of your code to use it properly. For example:</p>\n<pre><code> public class App extends Application {\n        public static MediaPlayer mp;\n    }\n\npublic class Firebase extends FirebaseMessagingService {\n   ...\n\n   if(App.mp == null){\n        App.mp = MediaPlayer.create(this, Settings.System.DEFAULT_RINGTONE_URI);\n   }\n   App.mp.start();\n\n   ....\n}\n</code></pre>\n<p>and in your Broadcast Receiver:</p>\n<pre><code>if(App.mp != null){\n        App.mp.stop ();\n        App.mp = null\n   }\n</code></pre>\n"}],"owner":{"account_id":20527725,"reputation":163,"user_id":15065774,"display_name":"Ahamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664904137,"creation_date":1664685856,"question_id":73923427,"body_markdown":"In our andorid broadcaster receiver class, we are trying to stop the ringtone that&#39;s initiated from mainactivity.class. We used mediaplayer.stop to stop the ringtone, which it successfully does, but it crashes the app. We have used .stop (), .pause (), .release (), but none of them is working unfortunately.  The codes of broadcastreceiver is as given hereunder\r\n\r\nFirebase class (summarized code) where media player is initialized and pending broadcast intent to buttonreceiver class is fired where mediaplayer is stopped.\r\n\r\n    public class Firebase extends FirebaseMessagingService {\r\n            \tpublic static Ringtone ringtone;\r\n            \tpublic static MediaPlayer mp;\r\n    \r\n    Intent buttonIntent = new Intent(this, ButtonReceiver.class);\r\n    buttonIntent.putExtra(&quot;notificationId&quot;,notification_id);\r\n    PendingIntent btsPendingIntent = PendingIntent.getBroadcast(this, requestID, buttonIntent,PendingIntent.FLAG_UPDATE_CURRENT);\r\n    NotificationCompat.Action action1 = new NotificationCompat.Action.Builder(R.mipmap.ic_launcher, &quot;Dismiss&quot;, btsPendingIntent).build();\r\n    \r\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, MainActivity.asw_fcm_channel)\r\n    \t\t\t\t\t.setSmallIcon(R.mipmap.ic_launcher)\r\n    \t\t\t\t\t.setContentTitle(title)\r\n    \t\t\t\t\t.setContentText(message)\r\n    \t\t\t\t\t.setDefaults(Notification.DEFAULT_ALL)\r\n    \t\t\t\t\t.setPriority(NotificationCompat.PRIORITY_HIGH)\r\n    \t\t\t\t\t.setTimeoutAfter(60000)\r\n    \t\t\t\t\t.setCategory(NotificationCompat.CATEGORY_CALL)\r\n    \t\t\t\t\t.setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\r\n    \t\t\t\t\t.setAutoCancel(false)\r\n    \t\t\t\t\t.setContentIntent(pendingIntent)\r\n    \t\t\t\t\t.addAction(action1)\r\n    \t\t\t\t\t.setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n    \t\t\t\t\t.setFullScreenIntent(pendingIntent2, true)\r\n    \t\t\t\t\t.setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\r\n    \t\t\r\n            \t\tmp = MediaPlayer.create(this, Settings.System.DEFAULT_RINGTONE_URI);\r\n        \t\t\tmp.start();\r\n            }\r\n\r\n\r\nButton Receiver Class (where media player is stopped)\r\n    public class ButtonReceiver extends BroadcastReceiver {\r\n    \tpublic MediaPlayer mp;\r\n    \r\n    \t@Override\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \r\n    \t\tint notificationId = intent.getIntExtra(&quot;notificationId&quot;, 0);\r\n    \r\n    \t\r\n    \t\tmp.stop ();\r\n    \t\tmp.seekTo(0);\r\n    \r\n    \t\tNotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \t\tmanager.cancel(notificationId);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nPlease help us out on this issue.\r\n\r\n","title":"mediaplayer.stop causes android app to crash","body":"<p>In our andorid broadcaster receiver class, we are trying to stop the ringtone that's initiated from mainactivity.class. We used mediaplayer.stop to stop the ringtone, which it successfully does, but it crashes the app. We have used .stop (), .pause (), .release (), but none of them is working unfortunately.  The codes of broadcastreceiver is as given hereunder</p>\n<p>Firebase class (summarized code) where media player is initialized and pending broadcast intent to buttonreceiver class is fired where mediaplayer is stopped.</p>\n<pre><code>public class Firebase extends FirebaseMessagingService {\n            public static Ringtone ringtone;\n            public static MediaPlayer mp;\n\nIntent buttonIntent = new Intent(this, ButtonReceiver.class);\nbuttonIntent.putExtra(&quot;notificationId&quot;,notification_id);\nPendingIntent btsPendingIntent = PendingIntent.getBroadcast(this, requestID, buttonIntent,PendingIntent.FLAG_UPDATE_CURRENT);\nNotificationCompat.Action action1 = new NotificationCompat.Action.Builder(R.mipmap.ic_launcher, &quot;Dismiss&quot;, btsPendingIntent).build();\n\nNotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, MainActivity.asw_fcm_channel)\n                    .setSmallIcon(R.mipmap.ic_launcher)\n                    .setContentTitle(title)\n                    .setContentText(message)\n                    .setDefaults(Notification.DEFAULT_ALL)\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\n                    .setTimeoutAfter(60000)\n                    .setCategory(NotificationCompat.CATEGORY_CALL)\n                    .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION))\n                    .setAutoCancel(false)\n                    .setContentIntent(pendingIntent)\n                    .addAction(action1)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setFullScreenIntent(pendingIntent2, true)\n                    .setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\n        \n                mp = MediaPlayer.create(this, Settings.System.DEFAULT_RINGTONE_URI);\n                mp.start();\n        }\n</code></pre>\n<p>Button Receiver Class (where media player is stopped)\npublic class ButtonReceiver extends BroadcastReceiver {\npublic MediaPlayer mp;</p>\n<pre><code>    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        int notificationId = intent.getIntExtra(&quot;notificationId&quot;, 0);\n\n    \n        mp.stop ();\n        mp.seekTo(0);\n\n        NotificationManager manager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        manager.cancel(notificationId);\n\n    }\n}\n</code></pre>\n<p>Please help us out on this issue.</p>\n"},{"tags":["java","spring","hibernate","principal"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664899556,"post_id":73950462,"comment_id":130573396,"body_markdown":"the naive solution: you have to logout &amp; re-login again! [i find many dups!](https://www.google.com/search?q=spring+change+principal+at+runtime) ... most promising answer (so far, from 2015): https://stackoverflow.com/a/30674697/592355","body":"the naive solution: you have to logout &amp; re-login again! <a href=\"https://www.google.com/search?q=spring+change+principal+at+runtime\" rel=\"nofollow noreferrer\">i find many dups!</a> ... most promising answer (so far, from 2015): <a href=\"https://stackoverflow.com/a/30674697/592355\">stackoverflow.com/a/30674697/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664904095,"creation_date":1664904095,"answer_id":73951493,"question_id":73950462,"body_markdown":"Assuming you are using spring security,\r\n\r\nPost your sucessful backend db calls,\r\n\r\nYou can do this with,\r\n\r\n`SecurityContextHolder.getContext().setAuthentication(newAuth);`\r\n\r\n\r\nRefer: https://stackoverflow.com/a/30674697/1811348","title":"How to update user data in Principal when changing his login?","body":"<p>Assuming you are using spring security,</p>\n<p>Post your sucessful backend db calls,</p>\n<p>You can do this with,</p>\n<p><code>SecurityContextHolder.getContext().setAuthentication(newAuth);</code></p>\n<p>Refer: <a href=\"https://stackoverflow.com/a/30674697/1811348\">https://stackoverflow.com/a/30674697/1811348</a></p>\n"}],"owner":{"account_id":23950049,"reputation":13,"user_id":17941791,"display_name":"Mark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664904095,"creation_date":1664898623,"question_id":73950462,"body_markdown":"I made a page with editing user information, where it is possible to change the login. When I change it and return to the user profile, I get an error that Account is null.\r\nFound out the reason. When changing the login, Principal&#39;s username remains the same as it was before the login change. I can&#39;t figure out how you can update Principal&#39;s username without logging out.\r\n\r\nMy AccountController:\r\n```\r\n    @GetMapping(&quot;/settings&quot;)\r\n    public String showAccountSettings(Principal principal, Model model) {\r\n        Account account = accountRepository.findByLogin(principal.getName());\r\n        model.addAttribute(&quot;account&quot;, account);\r\n\r\n        return &quot;settings&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/settings/apply&quot;)\r\n    public String applyChangesInAccount(Principal principal, Account account) {\r\n        Account updAccount = accountRepository.findByLogin(principal.getName());\r\n\r\n        updAccount.getAccountInfo().setEmail(account.getAccountInfo().getEmail());\r\n        updAccount.getAccountInfo().setPhone(account.getAccountInfo().getPhone());\r\n        updAccount.setLogin(account.getLogin());\r\n\r\n        accountRepository.save(updAccount);\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```","title":"How to update user data in Principal when changing his login?","body":"<p>I made a page with editing user information, where it is possible to change the login. When I change it and return to the user profile, I get an error that Account is null.\nFound out the reason. When changing the login, Principal's username remains the same as it was before the login change. I can't figure out how you can update Principal's username without logging out.</p>\n<p>My AccountController:</p>\n<pre><code>    @GetMapping(&quot;/settings&quot;)\n    public String showAccountSettings(Principal principal, Model model) {\n        Account account = accountRepository.findByLogin(principal.getName());\n        model.addAttribute(&quot;account&quot;, account);\n\n        return &quot;settings&quot;;\n    }\n\n    @PostMapping(&quot;/settings/apply&quot;)\n    public String applyChangesInAccount(Principal principal, Account account) {\n        Account updAccount = accountRepository.findByLogin(principal.getName());\n\n        updAccount.getAccountInfo().setEmail(account.getAccountInfo().getEmail());\n        updAccount.getAccountInfo().setPhone(account.getAccountInfo().getPhone());\n        updAccount.setLogin(account.getLogin());\n\n        accountRepository.save(updAccount);\n\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"answers":[{"comments":[{"owner":{"account_id":4889629,"reputation":83,"user_id":3941132,"display_name":"acsh"},"score":0,"creation_date":1655382363,"post_id":72630973,"comment_id":128322337,"body_markdown":"How can I read value of an environment variable using one of the formats mentioned above?","body":"How can I read value of an environment variable using one of the formats mentioned above?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1655382873,"post_id":72630973,"comment_id":128322532,"body_markdown":"You could use `${YOUR_ENV_VAR}` in the value of `server.tomcat.accesslog.pattern`. It will be replaced with the value of `YOUR_ENV_VAR` as part of configuration property binding, before Tomcat&#39;s access log is configured with the pattern.","body":"You could use <code>${YOUR_ENV_VAR}</code> in the value of <code>server.tomcat.accesslog.pattern</code>. It will be replaced with the value of <code>YOUR_ENV_VAR</code> as part of configuration property binding, before Tomcat&#39;s access log is configured with the pattern."},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1664895492,"post_id":72630973,"comment_id":130571935,"body_markdown":"@AndyWilkinson i am trying to use a custom header to be printed `server.tomcat.accesslog.pattern=%h %l %u %t &quot;%r&quot; %s %b %D theader=%{theader}I` - but it says `theader=???` - like the value is not there","body":"@AndyWilkinson i am trying to use a custom header to be printed <code>server.tomcat.accesslog.pattern=%h %l %u %t &quot;%r&quot; %s %b %D theader=%{theader}I</code> - but it says <code>theader=???</code> - like the value is not there"},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1664897957,"post_id":72630973,"comment_id":130572838,"body_markdown":"Actually `%{xxx}I` is wrong - it has to be with small `i` - then it works","body":"Actually <code>%{xxx}I</code> is wrong - it has to be with small <code>i</code> - then it works"},{"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"score":1,"creation_date":1691751096,"post_id":72630973,"comment_id":135537285,"body_markdown":"is it okay to manually format the log in json style ? should we not use some custom valve/encoder to print it in json format ?","body":"is it okay to manually format the log in json style ? should we not use some custom valve/encoder to print it in json format ?"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664903233,"creation_date":1655294277,"answer_id":72630973,"question_id":72630132,"body_markdown":"Your pattern is invalid as it isn&#39;t in a form that&#39;s understood by Tomcat. It looks like you&#39;re trying to use Log4j2&#39;s pattern syntax. You need to use Tomcat&#39;s instead. You can learn more about the syntax and the pattern codes that are supported in [Tomcat&#39;s documentation](https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes):\r\n\r\n&gt; - `%a` - Remote IP address. See also `%{xxx}a` below.\r\n&gt; - `%A` - Local IP address\r\n&gt; - `%b` - Bytes sent, excluding HTTP headers, or &#39;-&#39; if zero\r\n&gt; - `%B` - Bytes sent, excluding HTTP headers\r\n&gt; - `%h` - Remote host name (or IP address if enableLookups for the connector is false)\r\n&gt; - `%H` - Request protocol\r\n&gt; - `%l` - Remote logical username from identd (always returns &#39;-&#39;)\r\n&gt; - `%m` - Request method (GET, POST, etc.)\r\n&gt; - `%p` - Local port on which this request was received. See also %{xxx}p below.\r\n&gt; - `%q` - Query string (prepended with a &#39;?&#39; if it exists)\r\n&gt; - `%r` - First line of the request (method and request URI)\r\n&gt; - `%s` - HTTP status code of the response\r\n&gt; - `%S` - User session ID\r\n&gt; - `%t` - Date and time, in Common Log Format\r\n&gt; - `%u` - Remote user that was authenticated (if any), else &#39;-&#39; (escaped if required)\r\n&gt; - `%U` - Requested URL path\r\n&gt; - `%v` - Local server name\r\n&gt; - `%D` - Time taken to process the request in millis. Note: In httpd `%D` is microseconds. Behaviour will be aligned to httpd in Tomcat 10 onwards.\r\n&gt; - `%T` - Time taken to process the request, in seconds. Note: This value has millisecond resolution whereas in httpd it has second resolution. Behaviour will be align to httpd in Tomcat 10 onwards.\r\n&gt; - `%F` - Time taken to commit the response, in milliseconds\r\n&gt; - `%I` - Current request thread name (can compare later with stacktraces)\r\n&gt; - `%X` - Connection status when response is completed:\r\n&gt;   - `X` = Connection aborted before the response completed.\r\n&gt;   - `+` = Connection may be kept alive after the response is sent.\r\n&gt;   - `-` = Connection will be closed after the response is sent.\r\n&gt; \r\n&gt; There is also support to write information incoming or outgoing headers, cookies, session or request attributes and special timestamp formats. It is modeled after the Apache HTTP Server log configuration syntax. Each of them can be used multiple times with different xxx keys:\r\n&gt;\r\n&gt; - `%{xxx}a` write remote address (client) (xxx==remote) or connection peer address (xxx=peer)\r\n&gt; - `%{xxx}i` write value of incoming header with name xxx (escaped if required)\r\n&gt; - `%{xxx}o` write value of outgoing header with name xxx (escaped if required)\r\n&gt; - `%{xxx}c` write value of cookie with name xxx (escaped if required)\r\n&gt; - `%{xxx}r` write value of ServletRequest attribute with name xxx (escaped if required)\r\n&gt; - `%{xxx}s` write value of HttpSession attribute with name xxx (escaped if required)\r\n&gt; - `%{xxx}p` write local (server) port (xxx==local) or remote (client) port (xxx=remote)\r\n&gt; - `%{xxx}t` write timestamp at the end of the request formatted using the enhanced SimpleDateFormat pattern xxx","title":"How to print Tomcat Access Logs to console in the json format in a Spring Boot Application?","body":"<p>Your pattern is invalid as it isn't in a form that's understood by Tomcat. It looks like you're trying to use Log4j2's pattern syntax. You need to use Tomcat's instead. You can learn more about the syntax and the pattern codes that are supported in <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">Tomcat's documentation</a>:</p>\n<blockquote>\n<ul>\n<li><code>%a</code> - Remote IP address. See also <code>%{xxx}a</code> below.</li>\n<li><code>%A</code> - Local IP address</li>\n<li><code>%b</code> - Bytes sent, excluding HTTP headers, or '-' if zero</li>\n<li><code>%B</code> - Bytes sent, excluding HTTP headers</li>\n<li><code>%h</code> - Remote host name (or IP address if enableLookups for the connector is false)</li>\n<li><code>%H</code> - Request protocol</li>\n<li><code>%l</code> - Remote logical username from identd (always returns '-')</li>\n<li><code>%m</code> - Request method (GET, POST, etc.)</li>\n<li><code>%p</code> - Local port on which this request was received. See also %{xxx}p below.</li>\n<li><code>%q</code> - Query string (prepended with a '?' if it exists)</li>\n<li><code>%r</code> - First line of the request (method and request URI)</li>\n<li><code>%s</code> - HTTP status code of the response</li>\n<li><code>%S</code> - User session ID</li>\n<li><code>%t</code> - Date and time, in Common Log Format</li>\n<li><code>%u</code> - Remote user that was authenticated (if any), else '-' (escaped if required)</li>\n<li><code>%U</code> - Requested URL path</li>\n<li><code>%v</code> - Local server name</li>\n<li><code>%D</code> - Time taken to process the request in millis. Note: In httpd <code>%D</code> is microseconds. Behaviour will be aligned to httpd in Tomcat 10 onwards.</li>\n<li><code>%T</code> - Time taken to process the request, in seconds. Note: This value has millisecond resolution whereas in httpd it has second resolution. Behaviour will be align to httpd in Tomcat 10 onwards.</li>\n<li><code>%F</code> - Time taken to commit the response, in milliseconds</li>\n<li><code>%I</code> - Current request thread name (can compare later with stacktraces)</li>\n<li><code>%X</code> - Connection status when response is completed:\n<ul>\n<li><code>X</code> = Connection aborted before the response completed.</li>\n<li><code>+</code> = Connection may be kept alive after the response is sent.</li>\n<li><code>-</code> = Connection will be closed after the response is sent.</li>\n</ul>\n</li>\n</ul>\n<p>There is also support to write information incoming or outgoing headers, cookies, session or request attributes and special timestamp formats. It is modeled after the Apache HTTP Server log configuration syntax. Each of them can be used multiple times with different xxx keys:</p>\n<ul>\n<li><code>%{xxx}a</code> write remote address (client) (xxx==remote) or connection peer address (xxx=peer)</li>\n<li><code>%{xxx}i</code> write value of incoming header with name xxx (escaped if required)</li>\n<li><code>%{xxx}o</code> write value of outgoing header with name xxx (escaped if required)</li>\n<li><code>%{xxx}c</code> write value of cookie with name xxx (escaped if required)</li>\n<li><code>%{xxx}r</code> write value of ServletRequest attribute with name xxx (escaped if required)</li>\n<li><code>%{xxx}s</code> write value of HttpSession attribute with name xxx (escaped if required)</li>\n<li><code>%{xxx}p</code> write local (server) port (xxx==local) or remote (client) port (xxx=remote)</li>\n<li><code>%{xxx}t</code> write timestamp at the end of the request formatted using the enhanced SimpleDateFormat pattern xxx</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":4889629,"reputation":83,"user_id":3941132,"display_name":"acsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72630973,"answer_count":1,"score":1,"last_activity_date":1664903233,"creation_date":1655290573,"question_id":72630132,"body_markdown":"I am using log4j2.xml and need to print the Tomcat Access Logs to the Console in my Spring Boot Application. Please help how to do it, as I have been stuck on this. I have tried to configure as follows in the application.properties, but the logger getting printed is not in a json format.\r\n```\r\n    server.tomcat.accesslog.enabled=true\r\n    server.tomcat.accesslog.directory=/dev\r\n    server.tomcat.accesslog.prefix=stdout\r\n    server.tomcat.accesslog.console.pattern=&quot;{\\&quot;time\\&quot;: \\&quot;%d\\&quot;, \\&quot;level\\&quot;: \\&quot;%p\\&quot;, \\&quot;correlation-id\\&quot;: \\&quot;%X{X-Correlation-Id}\\&quot;, \\&quot;source\\&quot;: \\&quot;%logger{63}:%L\\&quot;, \\&quot;message\\&quot;: \\&quot;%replace(%m%wEx{6}){&#39;[\\r\\n]+&#39;, &#39;\\\\n&#39;}%nopex\\&quot;, \\&quot;source\\&quot;:\\&quot;ACCESS_LOGS\\&quot;}%n&quot;\r\n    server.tomcat.accesslog.suffix=\r\n    server.tomcat.accesslog.file-date-format=\r\n    server.tomcat.basedir=.\r\n```\r\nThe logger is getting printed in form of junk characters as follows:\r\n```\r\n    &quot;{&quot;time&quot;: &quot;???d???&quot;, &quot;level&quot;: &quot;8080&quot;, &quot;correlation-id&quot;: &quot;+{X-Correlation-Id}&quot;, &quot;source&quot;: &quot;-ogger{63}:???L???&quot;, &quot;message&quot;: &quot;POST /v1/plan/fetchPlans HTTP/1.1eplace(POST???w???Ex{6}){&#39;[]+&#39;, &#39;\\n&#39;}???n???opex&quot;, &quot;source&quot;:&quot;ACCESS_LOGS&quot;}???n???&quot;\r\n```","title":"How to print Tomcat Access Logs to console in the json format in a Spring Boot Application?","body":"<p>I am using log4j2.xml and need to print the Tomcat Access Logs to the Console in my Spring Boot Application. Please help how to do it, as I have been stuck on this. I have tried to configure as follows in the application.properties, but the logger getting printed is not in a json format.</p>\n<pre><code>    server.tomcat.accesslog.enabled=true\n    server.tomcat.accesslog.directory=/dev\n    server.tomcat.accesslog.prefix=stdout\n    server.tomcat.accesslog.console.pattern=&quot;{\\&quot;time\\&quot;: \\&quot;%d\\&quot;, \\&quot;level\\&quot;: \\&quot;%p\\&quot;, \\&quot;correlation-id\\&quot;: \\&quot;%X{X-Correlation-Id}\\&quot;, \\&quot;source\\&quot;: \\&quot;%logger{63}:%L\\&quot;, \\&quot;message\\&quot;: \\&quot;%replace(%m%wEx{6}){'[\\r\\n]+', '\\\\n'}%nopex\\&quot;, \\&quot;source\\&quot;:\\&quot;ACCESS_LOGS\\&quot;}%n&quot;\n    server.tomcat.accesslog.suffix=\n    server.tomcat.accesslog.file-date-format=\n    server.tomcat.basedir=.\n</code></pre>\n<p>The logger is getting printed in form of junk characters as follows:</p>\n<pre><code>    &quot;{&quot;time&quot;: &quot;???d???&quot;, &quot;level&quot;: &quot;8080&quot;, &quot;correlation-id&quot;: &quot;+{X-Correlation-Id}&quot;, &quot;source&quot;: &quot;-ogger{63}:???L???&quot;, &quot;message&quot;: &quot;POST /v1/plan/fetchPlans HTTP/1.1eplace(POST???w???Ex{6}){'[]+', '\\n'}???n???opex&quot;, &quot;source&quot;:&quot;ACCESS_LOGS&quot;}???n???&quot;\n</code></pre>\n"},{"tags":["java","maven-2","build-process","build","dependencies"],"answers":[{"comments":[{"owner":{"account_id":64600,"reputation":25908,"user_id":190623,"accept_rate":82,"display_name":"Gandalf StormCrow"},"score":15,"creation_date":1265726365,"post_id":2229775,"comment_id":2184746,"body_markdown":"The scope system must be avoided everywhere it is possible. Install the JAR in the repository is a better solution...","body":"The scope system must be avoided everywhere it is possible. Install the JAR in the repository is a better solution..."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":16,"creation_date":1265726489,"post_id":2229775,"comment_id":2184774,"body_markdown":"yes, if possible. he said explicitly that he doesn&#39;t want to put it in the repository. I added a comment to point out that this is not a good practice. But it does work.","body":"yes, if possible. he said explicitly that he doesn&#39;t want to put it in the repository. I added a comment to point out that this is not a good practice. But it does work."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1265726611,"post_id":2229775,"comment_id":2184797,"body_markdown":"groovy, you solution is the most acceptable so far I guess .. I totally misread the question","body":"groovy, you solution is the most acceptable so far I guess .. I totally misread the question"},{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":0,"creation_date":1306529822,"post_id":2229775,"comment_id":7153659,"body_markdown":"Yes - the question itself excludes the best answer. Putting everything in your *single* source control server has little to do with &quot;building out of the box&quot;; rather, everything just has to be &quot;controlled&quot;. Do check-in pom&#39;s &amp; settings.xml (pointing to the *internal* repo), and use *two* servers for your project: (1) source control, (2) generated artifact control.  It makes about as much sense checking in jars as it does checking in dll&#39;s (my old corp actually did check-in jars &amp; lib.a/.so/.dll&#39;s. Our p4 server was so slow afterwards, some secretly used hg for day-to-day work. Problem solved?","body":"Yes - the question itself excludes the best answer. Putting everything in your <i>single</i> source control server has little to do with &quot;building out of the box&quot;; rather, everything just has to be &quot;controlled&quot;. Do check-in pom&#39;s &amp; settings.xml (pointing to the <i>internal</i> repo), and use <i>two</i> servers for your project: (1) source control, (2) generated artifact control.  It makes about as much sense checking in jars as it does checking in dll&#39;s (my old corp actually did check-in jars &amp; lib.a/.so/.dll&#39;s. Our p4 server was so slow afterwards, some secretly used hg for day-to-day work. Problem solved?"},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":1,"creation_date":1357328786,"post_id":2229775,"comment_id":19622540,"body_markdown":"any way to specify a directory that contains jars instead so we dont&#39; have to add each and every one just like gradle can do it?","body":"any way to specify a directory that contains jars instead so we dont&#39; have to add each and every one just like gradle can do it?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1357333745,"post_id":2229775,"comment_id":19624756,"body_markdown":"like that - no. you&#39;d need them in your repository (as Pascal showed)","body":"like that - no. you&#39;d need them in your repository (as Pascal showed)"},{"owner":{"account_id":7192067,"reputation":312,"user_id":5492006,"accept_rate":40,"display_name":"aaroh"},"score":0,"creation_date":1456309588,"post_id":2229775,"comment_id":58883628,"body_markdown":"It didn&#39;t work now. Now you need to use this method http://stackoverflow.com/a/31023523/5492006","body":"It didn&#39;t work now. Now you need to use this method <a href=\"http://stackoverflow.com/a/31023523/5492006\">stackoverflow.com/a/31023523/5492006</a>"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1484554505,"post_id":2229775,"comment_id":70541481,"body_markdown":"You need to add the version (any) as well, otherwise won&#39;t build. For instance:   &lt;version&gt;1.0&lt;/version&gt;","body":"You need to add the version (any) as well, otherwise won&#39;t build. For instance:   &lt;version&gt;1.0&lt;/version&gt;"},{"owner":{"account_id":15880987,"reputation":495,"user_id":11458752,"display_name":"Steven Smart"},"score":0,"creation_date":1572321814,"post_id":2229775,"comment_id":103514630,"body_markdown":"is base directory defined somewhere?","body":"is base directory defined somewhere?"},{"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"score":0,"creation_date":1628582340,"post_id":2229775,"comment_id":121452533,"body_markdown":"that worked!, THE TWO dots - I mention again for anyone","body":"that worked!, THE TWO dots - I mention again for anyone"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":10,"down_vote_count":5,"up_vote_count":162,"is_accepted":false,"score":157,"last_activity_date":1431500462,"creation_date":1265725953,"answer_id":2229775,"question_id":2229757,"body_markdown":"Using the `system` scope. `${basedir}` is the directory of your pom.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;..&lt;/artifactId&gt;\r\n        &lt;groupId&gt;..&lt;/groupId&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${basedir}/lib/dependency.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHowever it is advisable that you install your jar in the repository, and not commit it to the SCM - after all that&#39;s what maven tries to eliminate.","title":"Maven: add a dependency to a jar by relative path","body":"<p>Using the <code>system</code> scope. <code>${basedir}</code> is the directory of your pom.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;artifactId&gt;..&lt;/artifactId&gt;\n    &lt;groupId&gt;..&lt;/groupId&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${basedir}/lib/dependency.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>However it is advisable that you install your jar in the repository, and not commit it to the SCM - after all that's what maven tries to eliminate.</p>\n"},{"comments":[{"owner":{"account_id":6363,"reputation":15047,"user_id":10675,"accept_rate":77,"display_name":"Jake"},"score":2,"creation_date":1274923941,"post_id":2230464,"comment_id":2970127,"body_markdown":"This is a great idea, but on Maven 2.2.1, the install plugin seems to be ignoring `localRepositoryPath`...","body":"This is a great idea, but on Maven 2.2.1, the install plugin seems to be ignoring <code>localRepositoryPath</code>..."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1274925002,"post_id":2230464,"comment_id":2970191,"body_markdown":"@Jake Indeed, looks like a bug in version 2.2 of the plugin. I&#39;ve updated my answer with a version that works.","body":"@Jake Indeed, looks like a bug in version 2.2 of the plugin. I&#39;ve updated my answer with a version that works."},{"owner":{"account_id":21466,"reputation":13649,"user_id":52176,"accept_rate":71,"display_name":"Leif Gruenwoldt"},"score":2,"creation_date":1344019615,"post_id":2230464,"comment_id":15681617,"body_markdown":"Why declare a local repo? Why not just let it go into ~/.m2/ with the rest.","body":"Why declare a local repo? Why not just let it go into ~/.m2/ with the rest."},{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":11,"creation_date":1353439857,"post_id":2230464,"comment_id":18443817,"body_markdown":"@leif81 Because then the repo and libraries are checked into the SCM repository -&gt; Anyone that does a source checkout has everything they need to build a copy of the library/application.","body":"@leif81 Because then the repo and libraries are checked into the SCM repository -&gt; Anyone that does a source checkout has everything they need to build a copy of the library/application."},{"owner":{"account_id":53475,"reputation":9175,"user_id":159856,"accept_rate":76,"display_name":"lemon"},"score":1,"creation_date":1355915275,"post_id":2230464,"comment_id":19240110,"body_markdown":"Didn&#39;t work when I placed the repo inside the project folder, I had to move it to `basedir/../my-local-repo` to get it to work.","body":"Didn&#39;t work when I placed the repo inside the project folder, I had to move it to <code>basedir&#47;..&#47;my-local-repo</code> to get it to work."},{"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"score":8,"creation_date":1379053771,"post_id":2230464,"comment_id":27688245,"body_markdown":"I had the same problem as @lemon, which I fixed by doing `basedir/./my-local-repo` with a single `.` instead.","body":"I had the same problem as @lemon, which I fixed by doing <code>basedir&#47;.&#47;my-local-repo</code> with a single <code>.</code> instead."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1465386931,"post_id":2230464,"comment_id":62877594,"body_markdown":"this answer is bad because what user wants is to run mvn install or mvn package out of box and not some other mvn commands before","body":"this answer is bad because what user wants is to run mvn install or mvn package out of box and not some other mvn commands before"},{"owner":{"account_id":441237,"reputation":714,"user_id":831217,"accept_rate":80,"display_name":"user831217"},"score":1,"creation_date":1524644710,"post_id":2230464,"comment_id":87050969,"body_markdown":"@Enerccio You  dp not have to run any mvn commands, the repo is checked into the SCM for you.","body":"@Enerccio You  dp not have to run any mvn commands, the repo is checked into the SCM for you."},{"owner":{"account_id":2076070,"reputation":446,"user_id":7125403,"display_name":"Janothan"},"score":0,"creation_date":1530780261,"post_id":2230464,"comment_id":89355585,"body_markdown":"So from a maven perspective, it seems to find the dependencies and so on, but in Eclipse I cannot run it any more due to a `java.lang.NoClassDefFoundError`. Do I have to change any settings in the IDE as well?","body":"So from a maven perspective, it seems to find the dependencies and so on, but in Eclipse I cannot run it any more due to a <code>java.lang.NoClassDefFoundError</code>. Do I have to change any settings in the IDE as well?"},{"owner":{"account_id":3427488,"reputation":1251,"user_id":2872878,"display_name":"Danila Piatov"},"score":3,"creation_date":1531223108,"post_id":2230464,"comment_id":89506518,"body_markdown":"Packaging has to be jar, therefore -Dpackaging=jar","body":"Packaging has to be jar, therefore -Dpackaging=jar"},{"owner":{"account_id":10367825,"reputation":1193,"user_id":7646358,"accept_rate":62,"display_name":"Mateut Alin"},"score":0,"creation_date":1536057412,"post_id":2230464,"comment_id":91278036,"body_markdown":"When I build the project it can&#39;t find the libs\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project sh: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/.../User.java:[3,40] package com.roufid.tutorials does not exist","body":"When I build the project it can&#39;t find the libs  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project sh: Compilation failure: Compilation failure: [ERROR] /C:/Users/.../User.java:[3,40] package com.roufid.tutorials does not exist"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":1,"creation_date":1547262231,"post_id":2230464,"comment_id":95143546,"body_markdown":"The options `-DgeneratePom=true -DcreateChecksum=true` are also usable. WIthout them, maven generates warnings on installing artifacts from custom local repo into main local repo (`~/.m2`) when it builds the project.","body":"The options <code>-DgeneratePom=true -DcreateChecksum=true</code> are also usable. WIthout them, maven generates warnings on installing artifacts from custom local repo into main local repo (<code>~&#47;.m2</code>) when it builds the project."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1550670060,"post_id":2230464,"comment_id":96353796,"body_markdown":"I found that as of 3.6.0 Maven understands relative paths (instead of full file URL&#39;s) in the repository definition in the parent pom.","body":"I found that as of 3.6.0 Maven understands relative paths (instead of full file URL&#39;s) in the repository definition in the parent pom."},{"owner":{"account_id":3883934,"reputation":491,"user_id":3215802,"display_name":"edgraaff"},"score":1,"creation_date":1632130918,"post_id":2230464,"comment_id":122401168,"body_markdown":"The striked-through command for `mvn install:install-file` works fine for me in Maven 3.6.1, it&#39;s not ignoring the `localRepositoryPath` argument.\nAlso, in case of a multi module project, note that `${project.basedir}` points to the directory of the current module, not the parent. To get around this, add a second repo in the parent project with path `file://${project.basedir}/../my-repo` (and add more `../` if your modules go deeper than 1 dir)","body":"The striked-through command for <code>mvn install:install-file</code> works fine for me in Maven 3.6.1, it&#39;s not ignoring the <code>localRepositoryPath</code> argument. Also, in case of a multi module project, note that <code>${project.basedir}</code> points to the directory of the current module, not the parent. To get around this, add a second repo in the parent project with path <code>file:&#47;&#47;${project.basedir}&#47;..&#47;my-repo</code> (and add more <code>..&#47;</code> if your modules go deeper than 1 dir)"}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":14,"down_vote_count":2,"up_vote_count":380,"is_accepted":true,"score":378,"last_activity_date":1591195251,"creation_date":1265731531,"answer_id":2230464,"question_id":2229757,"body_markdown":"&gt; I want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file.\r\n\r\nIf you really want this (understand, if you can&#39;t use a corporate repository), then my advice would be to use a &quot;file repository&quot; local to the project and to **not use** a `system` scoped dependency. The `system` scoped  should be avoided, such dependencies don&#39;t work well in many situation (e.g. in assembly), they cause more troubles than benefits. \r\n\r\nSo, instead, declare a repository local to the project:\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;my-local-repo&lt;/id&gt;\r\n        &lt;url&gt;file://${project.basedir}/my-repo&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nInstall your third party lib in there using `install:install-file` with the [`localRepositoryPath`][1] parameter:\r\n\r\n&lt;strike&gt;\r\n\r\n    mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;myGroup&gt; \\ \r\n                             -DartifactId=&lt;myArtifactId&gt; -Dversion=&lt;myVersion&gt; \\\r\n                             -Dpackaging=&lt;myPackaging&gt; -DlocalRepositoryPath=&lt;path&gt;\r\n\r\n&lt;/strike&gt;\r\n\r\n**Update:** It appears that `install:install-file` ignores the `localRepositoryPath` when using the version 2.2 of the plugin. However, it works with version 2.3 and later of the plugin. So use the fully qualified name of the plugin to specify the version:\r\n\r\n    mvn org.apache.maven.plugins:maven-install-plugin:2.3.1:install-file \\\r\n                             -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;myGroup&gt; \\ \r\n                             -DartifactId=&lt;myArtifactId&gt; -Dversion=&lt;myVersion&gt; \\\r\n                             -Dpackaging=&lt;myPackaging&gt; -DlocalRepositoryPath=&lt;path&gt;\r\n\r\n[maven-install-plugin documentation][2]\r\n\r\nFinally, declare it like any other dependency (but without the `system` scope):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;your.group.id&lt;/groupId&gt;\r\n      &lt;artifactId&gt;3rdparty&lt;/artifactId&gt;\r\n      &lt;version&gt;X.Y.Z&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is IMHO a better solution than using a `system` scope as your dependency will be treated like a good citizen (e.g. it will be included in an assembly and so on).\r\n\r\nNow, I have to mention that the &quot;right way&quot; to deal with this situation in a corporate environment (maybe not the case here) would be to use a corporate repository.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html#localRepositoryPath\r\n  [2]: http://maven.apache.org/plugins-archives/maven-install-plugin-2.3.1/install-file-mojo.html","title":"Maven: add a dependency to a jar by relative path","body":"<blockquote>\n  <p>I want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file.</p>\n</blockquote>\n\n<p>If you really want this (understand, if you can't use a corporate repository), then my advice would be to use a \"file repository\" local to the project and to <strong>not use</strong> a <code>system</code> scoped dependency. The <code>system</code> scoped  should be avoided, such dependencies don't work well in many situation (e.g. in assembly), they cause more troubles than benefits. </p>\n\n<p>So, instead, declare a repository local to the project:</p>\n\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;my-local-repo&lt;/id&gt;\n    &lt;url&gt;file://${project.basedir}/my-repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Install your third party lib in there using <code>install:install-file</code> with the <a href=\"http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html#localRepositoryPath\" rel=\"noreferrer\"><code>localRepositoryPath</code></a> parameter:</p>\n\n<p><strike></p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;myGroup&gt; \\ \n                         -DartifactId=&lt;myArtifactId&gt; -Dversion=&lt;myVersion&gt; \\\n                         -Dpackaging=&lt;myPackaging&gt; -DlocalRepositoryPath=&lt;path&gt;\n</code></pre>\n\n<p></strike></p>\n\n<p><strong>Update:</strong> It appears that <code>install:install-file</code> ignores the <code>localRepositoryPath</code> when using the version 2.2 of the plugin. However, it works with version 2.3 and later of the plugin. So use the fully qualified name of the plugin to specify the version:</p>\n\n<pre><code>mvn org.apache.maven.plugins:maven-install-plugin:2.3.1:install-file \\\n                         -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;myGroup&gt; \\ \n                         -DartifactId=&lt;myArtifactId&gt; -Dversion=&lt;myVersion&gt; \\\n                         -Dpackaging=&lt;myPackaging&gt; -DlocalRepositoryPath=&lt;path&gt;\n</code></pre>\n\n<p><a href=\"http://maven.apache.org/plugins-archives/maven-install-plugin-2.3.1/install-file-mojo.html\" rel=\"noreferrer\">maven-install-plugin documentation</a></p>\n\n<p>Finally, declare it like any other dependency (but without the <code>system</code> scope):</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;your.group.id&lt;/groupId&gt;\n  &lt;artifactId&gt;3rdparty&lt;/artifactId&gt;\n  &lt;version&gt;X.Y.Z&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is IMHO a better solution than using a <code>system</code> scope as your dependency will be treated like a good citizen (e.g. it will be included in an assembly and so on).</p>\n\n<p>Now, I have to mention that the \"right way\" to deal with this situation in a corporate environment (maybe not the case here) would be to use a corporate repository.</p>\n"},{"tags":[],"owner":{"account_id":84984,"reputation":5857,"user_id":237237,"display_name":"Brett Porter"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1428509388,"creation_date":1265760170,"answer_id":2233461,"question_id":2229757,"body_markdown":"I&#39;ve previously [written about a pattern][1] for doing this.\r\n\r\n\r\nIt is very similar to the solution proposed by Pascal, though it moves all such dependencies into a dedicated repository module so that you don&#39;t have to repeat it everywhere the dependency is used if it is a multi-module build.\r\n\r\n\r\n  [1]: http://brettporter.wordpress.com/2009/06/10/a-maven-friendly-pattern-for-storing-dependencies-in-version-control/","title":"Maven: add a dependency to a jar by relative path","body":"<p>I've previously <a href=\"http://brettporter.wordpress.com/2009/06/10/a-maven-friendly-pattern-for-storing-dependencies-in-version-control/\" rel=\"nofollow noreferrer\">written about a pattern</a> for doing this.</p>\n\n<p>It is very similar to the solution proposed by Pascal, though it moves all such dependencies into a dedicated repository module so that you don't have to repeat it everywhere the dependency is used if it is a multi-module build.</p>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1507309862,"post_id":7908872,"comment_id":80173353,"body_markdown":"This is the only thing which worked for my multi-module project. The local &lt;repository&gt; approach for an unknown reason didn&#39;t work. So thanks!","body":"This is the only thing which worked for my multi-module project. The local &lt;repository&gt; approach for an unknown reason didn&#39;t work. So thanks!"}],"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1319662844,"creation_date":1319662844,"answer_id":7908872,"question_id":2229757,"body_markdown":"This is another method in addition to my previous answer at https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/7748177#7748177 \r\n\r\nThis will get around the limit when using multi-module builds especially if the downloaded JAR is referenced in child projects outside of the parent.  This also reduces the setup work by creating the POM and the SHA1 files as part of the build.  It also allows the file to reside anywhere in the project without fixing the names or following the maven repository structure.\r\n\r\nThis uses the maven-install-plugin.  For this to work, you need to set up a multi-module project and have a new project representing the build to install files into the local repository and ensure that one is first.\r\n\r\nYou multi-module project pom.xml would look like this:\r\n\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;modules&gt;\r\n\t&lt;!-- The repository module must be first in order to ensure\r\n\t     that the local repository is populated --&gt;\r\n\t\t&lt;module&gt;repository&lt;/module&gt;\r\n\t\t&lt;module&gt;... other modules ...&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\nThe repository/pom.xml file will then contain the definitions to load up the JARs that are part of your project.  The following are some snippets of the pom.xml file.\r\n\r\n    &lt;artifactId&gt;repository&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\nThe pom packaging prevents this from doing any tests or compile or generating any jar file.  The meat of the pom.xml is in the build section where the maven-install-plugin is used.\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;com.ibm.db2:db2jcc&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;install-file&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;version&gt;9.0.0&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t\t\t\t\t\t\t&lt;file&gt;${basedir}/src/jars/db2jcc.jar&lt;/file&gt;\r\n    \t\t\t\t\t\t\t&lt;createChecksum&gt;true&lt;/createChecksum&gt;\r\n    \t\t\t\t\t\t\t&lt;generatePom&gt;true&lt;/generatePom&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;execution&gt;...&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nTo install more than one file, just add more executions.","title":"Maven: add a dependency to a jar by relative path","body":"<p>This is another method in addition to my previous answer at <a href=\"https://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/7748177#7748177\">Can I add jars to maven 2 build classpath without installing them?</a> </p>\n\n<p>This will get around the limit when using multi-module builds especially if the downloaded JAR is referenced in child projects outside of the parent.  This also reduces the setup work by creating the POM and the SHA1 files as part of the build.  It also allows the file to reside anywhere in the project without fixing the names or following the maven repository structure.</p>\n\n<p>This uses the maven-install-plugin.  For this to work, you need to set up a multi-module project and have a new project representing the build to install files into the local repository and ensure that one is first.</p>\n\n<p>You multi-module project pom.xml would look like this:</p>\n\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n&lt;!-- The repository module must be first in order to ensure\n     that the local repository is populated --&gt;\n    &lt;module&gt;repository&lt;/module&gt;\n    &lt;module&gt;... other modules ...&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>The repository/pom.xml file will then contain the definitions to load up the JARs that are part of your project.  The following are some snippets of the pom.xml file.</p>\n\n<pre><code>&lt;artifactId&gt;repository&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>The pom packaging prevents this from doing any tests or compile or generating any jar file.  The meat of the pom.xml is in the build section where the maven-install-plugin is used.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                        &lt;id&gt;com.ibm.db2:db2jcc&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-file&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n                            &lt;artifactId&gt;db2jcc&lt;/artifactId&gt;\n                            &lt;version&gt;9.0.0&lt;/version&gt;\n                            &lt;packaging&gt;jar&lt;/packaging&gt;\n                            &lt;file&gt;${basedir}/src/jars/db2jcc.jar&lt;/file&gt;\n                            &lt;createChecksum&gt;true&lt;/createChecksum&gt;\n                            &lt;generatePom&gt;true&lt;/generatePom&gt;\n                        &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;...&lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>To install more than one file, just add more executions.</p>\n"},{"comments":[{"owner":{"account_id":197277,"reputation":2231,"user_id":441266,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1378196739,"post_id":14163785,"comment_id":27352698,"body_markdown":"Could you give an example how you did this?","body":"Could you give an example how you did this?"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1630916650,"post_id":14163785,"comment_id":122075814,"body_markdown":"It looks like this solution: https://stackoverflow.com/a/23897638/458157 Great advice by the way, I can&#39;t agree more, Maven drives this kind of use case really complicated whereas Gradle provides a smarter solution in my humble opinion.","body":"It looks like this solution: <a href=\"https://stackoverflow.com/a/23897638/458157\">stackoverflow.com/a/23897638/458157</a> Great advice by the way, I can&#39;t agree more, Maven drives this kind of use case really complicated whereas Gradle provides a smarter solution in my humble opinion."}],"tags":[],"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1357328752,"creation_date":1357328448,"answer_id":14163785,"question_id":2229757,"body_markdown":"we switched to gradle and this works much better in gradle ;).  we just specify a folder we can drop jars into for temporary situations like that.  We still have most of our jars defined i the typicaly dependency management section(ie. the same as maven).  This is just one more dependency we define.\r\n\r\nso basically now we can just drop any jar we want into our lib dir for temporary testing if it is not a in maven repository somewhere.","title":"Maven: add a dependency to a jar by relative path","body":"<p>we switched to gradle and this works much better in gradle ;).  we just specify a folder we can drop jars into for temporary situations like that.  We still have most of our jars defined i the typicaly dependency management section(ie. the same as maven).  This is just one more dependency we define.</p>\n\n<p>so basically now we can just drop any jar we want into our lib dir for temporary testing if it is not a in maven repository somewhere.</p>\n"},{"tags":[],"owner":{"account_id":140032,"reputation":59,"user_id":346038,"display_name":"veeseekay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435697854,"creation_date":1406793814,"answer_id":25053725,"question_id":2229757,"body_markdown":"One small addition to the solution posted by Pascal\r\n\r\nWhen I followed this route, I got an error in maven while installing ojdbc jar.\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    [INFO] --- maven-install-plugin:2.5.1:install-file (default-cli) @ validator ---\r\n    [INFO] pom.xml not found in ojdbc14.jar\r\n\r\nAfter adding -DpomFile, the problem was resolved.\r\n\r\n    $ mvn install:install-file -Dfile=./lib/ojdbc14.jar -DgroupId=ojdbc \\\r\n       -DartifactId=ojdbc -Dversion=14 -Dpackaging=jar -DlocalRepositoryPath=./repo \\\r\n       -DpomFile=~/.m2/repository/ojdbc/ojdbc/14/ojdbc-14.pom","title":"Maven: add a dependency to a jar by relative path","body":"<p>One small addition to the solution posted by Pascal</p>\n\n<p>When I followed this route, I got an error in maven while installing ojdbc jar.</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- maven-install-plugin:2.5.1:install-file (default-cli) @ validator ---\n[INFO] pom.xml not found in ojdbc14.jar\n</code></pre>\n\n<p>After adding -DpomFile, the problem was resolved.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ mvn install:install-file -Dfile=./lib/ojdbc14.jar -DgroupId=ojdbc \\\n   -DartifactId=ojdbc -Dversion=14 -Dpackaging=jar -DlocalRepositoryPath=./repo \\\n   -DpomFile=~/.m2/repository/ojdbc/ojdbc/14/ojdbc-14.pom\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12644984,"reputation":385,"user_id":9191053,"display_name":"Bhargav"},"score":0,"creation_date":1649831843,"post_id":26997656,"comment_id":126972165,"body_markdown":"thanks for the answer. But a descriptive answer would be helpful. In your answer I don&#39;t see how to create lib folder/repository and how to install the dependencies to lib.","body":"thanks for the answer. But a descriptive answer would be helpful. In your answer I don&#39;t see how to create lib folder/repository and how to install the dependencies to lib."}],"tags":[],"owner":{"account_id":469541,"reputation":419,"user_id":876170,"display_name":"Fulgencio Jara"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1416323742,"creation_date":1416323742,"answer_id":26997656,"question_id":2229757,"body_markdown":"Basically, add this to the pom.xml:\r\n\r\n    ...\r\n\r\n    &lt;repositories&gt;\r\n       &lt;repository&gt;\r\n           &lt;id&gt;lib_id&lt;/id&gt;\r\n           &lt;url&gt;file://${project.basedir}/lib&lt;/url&gt;\r\n       &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    ...\r\n\r\n    &lt;dependencies&gt;\r\n      ...\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mylibrary&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mylibraryname&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;","title":"Maven: add a dependency to a jar by relative path","body":"<p>Basically, add this to the pom.xml:</p>\n\n<pre><code>...\n\n&lt;repositories&gt;\n   &lt;repository&gt;\n       &lt;id&gt;lib_id&lt;/id&gt;\n       &lt;url&gt;file://${project.basedir}/lib&lt;/url&gt;\n   &lt;/repository&gt;\n&lt;/repositories&gt;\n\n...\n\n&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.mylibrary&lt;/groupId&gt;\n      &lt;artifactId&gt;mylibraryname&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1452004428,"post_id":34613629,"comment_id":56973632,"body_markdown":"Not sure that&#39;s answering the question. He has the file as a jar already.","body":"Not sure that&#39;s answering the question. He has the file as a jar already."},{"owner":{"account_id":13467,"reputation":678,"user_id":27069,"display_name":"Alex Lehmann"},"score":0,"creation_date":1493283666,"post_id":34613629,"comment_id":74353800,"body_markdown":"Eclipse supports uberjar or shaded jar, so its a solution, but not for maven","body":"Eclipse supports uberjar or shaded jar, so its a solution, but not for maven"}],"tags":[],"owner":{"account_id":2197735,"reputation":60,"user_id":1942990,"display_name":"user1942990"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452002936,"creation_date":1452002936,"answer_id":34613629,"question_id":2229757,"body_markdown":"You can use eclipse to generate a runnable Jar :\r\nExport/Runable Jar file","title":"Maven: add a dependency to a jar by relative path","body":"<p>You can use eclipse to generate a runnable Jar :\nExport/Runable Jar file</p>\n"},{"tags":[],"owner":{"account_id":3205539,"reputation":253,"user_id":2706643,"accept_rate":80,"display_name":"RufusSC2"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1477129043,"creation_date":1477129043,"answer_id":40190566,"question_id":2229757,"body_markdown":"This is working for me:\r\nLet&#39;s say I have this dependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.company.app&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;my-library&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t&lt;systemPath&gt;${project.basedir}/lib/my-library.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen, add the class-path for your system dependency manually like this\r\n\r\n    &lt;Class-Path&gt;libs/my-library-1.0.jar&lt;/Class-Path&gt;\r\n\r\nFull config:\r\n\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;archive&gt;\r\n    \t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t&lt;Build-Jdk&gt;${jdk.version}&lt;/Build-Jdk&gt;\r\n    \t\t\t\t&lt;Implementation-Title&gt;${project.name}&lt;/Implementation-Title&gt;\r\n    \t\t\t\t&lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n    \t\t\t\t&lt;Specification-Title&gt;${project.name} Library&lt;/Specification-Title&gt;\r\n    \t\t\t\t&lt;Specification-Version&gt;${project.version}&lt;/Specification-Version&gt;\r\n    \t\t\t\t&lt;Class-Path&gt;libs/my-library-1.0.jar&lt;/Class-Path&gt;\r\n    \t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t&lt;manifest&gt;\r\n    \t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t&lt;mainClass&gt;com.company.app.MainClass&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n    \t\t\t&lt;/manifest&gt;\r\n    \t\t&lt;/archive&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/libs/&lt;/outputDirectory&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Maven: add a dependency to a jar by relative path","body":"<p>This is working for me:\nLet's say I have this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.company.app&lt;/groupId&gt;\n    &lt;artifactId&gt;my-library&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/lib/my-library.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then, add the class-path for your system dependency manually like this</p>\n\n<pre><code>&lt;Class-Path&gt;libs/my-library-1.0.jar&lt;/Class-Path&gt;\n</code></pre>\n\n<p>Full config:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifestEntries&gt;\n                &lt;Build-Jdk&gt;${jdk.version}&lt;/Build-Jdk&gt;\n                &lt;Implementation-Title&gt;${project.name}&lt;/Implementation-Title&gt;\n                &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                &lt;Specification-Title&gt;${project.name} Library&lt;/Specification-Title&gt;\n                &lt;Specification-Version&gt;${project.version}&lt;/Specification-Version&gt;\n                &lt;Class-Path&gt;libs/my-library-1.0.jar&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;com.company.app.MainClass&lt;/mainClass&gt;\n                &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/libs/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10228644,"reputation":21,"user_id":7550255,"display_name":"Daniel Casique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664903224,"creation_date":1664903224,"answer_id":73951341,"question_id":2229757,"body_markdown":"I was facing with the same issue, and it works just removing the DlocalRepositoryPath parameter and defining the correct path from current location in the Dfile parameter:\r\n\r\n    mvn install:install-file -Dfile=./repo/com/tridion/cd_core/1.0/cd_core-1.0.jar -DgroupId=com.tridion -DartifactId=cd_core -Dversion=1.0 -Dpackaging=jar\r\n\r\n\r\nNote: Apache Maven 3.8.6 ","title":"Maven: add a dependency to a jar by relative path","body":"<p>I was facing with the same issue, and it works just removing the DlocalRepositoryPath parameter and defining the correct path from current location in the Dfile parameter:</p>\n<pre><code>mvn install:install-file -Dfile=./repo/com/tridion/cd_core/1.0/cd_core-1.0.jar -DgroupId=com.tridion -DartifactId=cd_core -Dversion=1.0 -Dpackaging=jar\n</code></pre>\n<p>Note: Apache Maven 3.8.6</p>\n"}],"owner":{"account_id":24717,"reputation":264462,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396124,"favorite_count":0,"down_vote_count":0,"up_vote_count":271,"accepted_answer_id":2230464,"answer_count":10,"score":271,"last_activity_date":1664903224,"creation_date":1265725822,"question_id":2229757,"body_markdown":"I have a proprietary jar that I want to add to my pom as a dependency.\r\n\r\nBut I don&#39;t want to add it to a repository. The reason is that I want my usual maven commands such as `mvn compile`, etc, to work out of the box. (Without demanding from the developers a to add it to some repository by themselves).\r\n\r\nI want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file.\r\n\r\nCan this be done? How?","title":"Maven: add a dependency to a jar by relative path","body":"<p>I have a proprietary jar that I want to add to my pom as a dependency.</p>\n\n<p>But I don't want to add it to a repository. The reason is that I want my usual maven commands such as <code>mvn compile</code>, etc, to work out of the box. (Without demanding from the developers a to add it to some repository by themselves).</p>\n\n<p>I want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file.</p>\n\n<p>Can this be done? How?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664904873,"post_id":73951340,"comment_id":130575180,"body_markdown":"You have [tag:spring-security]! Who allowed/advised you to overwrite (built-in) log(/-in)out-controller!? &#128574;&#128521; (It does (probably!) (many) important things, you didn&#39;t consider...)","body":"You have <a href=\"https://stackoverflow.com/questions/tagged/spring-security\">spring-security</a>! Who allowed/advised you to overwrite (built-in) log(/-in)out-controller!? 😾😉 (It does (probably!) (many) important things, you didn&#39;t consider...)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664904995,"post_id":73951340,"comment_id":130575211,"body_markdown":"&quot;For this very purpose, Spring provides the LogoutHandler interface&quot; src: https://www.baeldung.com/spring-security-custom-logout-handler","body":"&quot;For this very purpose, Spring provides the LogoutHandler interface&quot; src: <a href=\"https://www.baeldung.com/spring-security-custom-logout-handler\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-custom-logout-handler</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664905190,"post_id":73951340,"comment_id":130575277,"body_markdown":"[Official, current doc:](https://docs.spring.io/spring-security/reference/servlet/authentication/logout.html) ...","body":"<a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/logout.html\" rel=\"nofollow noreferrer\">Official, current doc:</a> ..."},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1664961020,"post_id":73951340,"comment_id":130586115,"body_markdown":"Thank you for helping and advices. Btw I was following some tutorial about log/reg authentication and there it is. Btw, can I somehow delete user refresh token even I use provided LogoutHandler interface by Spring?","body":"Thank you for helping and advices. Btw I was following some tutorial about log/reg authentication and there it is. Btw, can I somehow delete user refresh token even I use provided LogoutHandler interface by Spring?"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664903219,"creation_date":1664903219,"question_id":73951340,"body_markdown":"So I have a some logout implementation and its supposed to work on next way:\r\n\r\n- User click on logout button\r\n- User is redirected to login form\r\n- Refresh token in Mongo document is deleted because every time when user get logged in he gets refresh token and that refresh token has owner id, and that token is stored in mongo document\r\n\r\n**What is the problem?**\r\n\r\nWhen I click on logout user is logged out successfully and redirected to login form again but refresh token remain in mongo document.\r\n\r\n`This is method to logout user:`\r\n\r\n    @PostMapping(&quot;/logout&quot;)\r\n    public ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\r\n    \r\n        String refreshTokenString = dto.getRefreshToken();\r\n            if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\r\n                // valid and exists in db\r\n                refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\r\n                return ResponseEntity.ok().build();\r\n            }\r\n    \r\n            throw new BadCredentialsException(&quot;invalid token&quot;);\r\n    \r\n        }\r\n\r\n`This is refreshToken repository:`\r\n\r\n    public interface RefreshTokenRepository extends MongoRepository&lt;RefreshToken, String&gt; {\r\n    void deleteByOwner_Id(ObjectId id);\r\n\r\n    default void deleteByOwner_Id(String id) {\r\n        deleteByOwner_Id(new ObjectId(id));\r\n    }\r\n    }\r\n\r\n\r\nThis is from `WebSecurityConfig` where I also have some log out config:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(accessTokenEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll().and()\r\n                .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .invalidateHttpSession(true)\r\n                .clearAuthentication(true)\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n\r\n        http.addFilterBefore(accessTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\nIf I need to provide something else to anyone that is willing to help I&#39;m here, lost a couple of hours but still didn&#39;t find nothing inside my code or somewhere on the internet","title":"Logout method doesn&#39;t delete refresh token from mongo document","body":"<p>So I have a some logout implementation and its supposed to work on next way:</p>\n<ul>\n<li>User click on logout button</li>\n<li>User is redirected to login form</li>\n<li>Refresh token in Mongo document is deleted because every time when user get logged in he gets refresh token and that refresh token has owner id, and that token is stored in mongo document</li>\n</ul>\n<p><strong>What is the problem?</strong></p>\n<p>When I click on logout user is logged out successfully and redirected to login form again but refresh token remain in mongo document.</p>\n<p><code>This is method to logout user:</code></p>\n<pre><code>@PostMapping(&quot;/logout&quot;)\npublic ResponseEntity&lt;?&gt; logoutPage(@RequestBody TokenDTO dto) {\n\n    String refreshTokenString = dto.getRefreshToken();\n        if (jwtHelper.validateRefreshToken(refreshTokenString) &amp;&amp; refreshTokenRepository.existsById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString))) {\n            // valid and exists in db\n            refreshTokenRepository.deleteById(jwtHelper.getTokenIdFromRefreshToken(refreshTokenString));\n            return ResponseEntity.ok().build();\n        }\n\n        throw new BadCredentialsException(&quot;invalid token&quot;);\n\n    }\n</code></pre>\n<p><code>This is refreshToken repository:</code></p>\n<pre><code>public interface RefreshTokenRepository extends MongoRepository&lt;RefreshToken, String&gt; {\nvoid deleteByOwner_Id(ObjectId id);\n\ndefault void deleteByOwner_Id(String id) {\n    deleteByOwner_Id(new ObjectId(id));\n}\n}\n</code></pre>\n<p>This is from <code>WebSecurityConfig</code> where I also have some log out config:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .exceptionHandling().authenticationEntryPoint(accessTokenEntryPoint).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll().and()\n            .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\n            .permitAll()\n            .and()\n            .logout()\n            .invalidateHttpSession(true)\n            .clearAuthentication(true)\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n            .logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\n            .deleteCookies(&quot;JSESSIONID&quot;)\n            .permitAll();\n\n    http.addFilterBefore(accessTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n<p>If I need to provide something else to anyone that is willing to help I'm here, lost a couple of hours but still didn't find nothing inside my code or somewhere on the internet</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1404487772,"creation_date":1404487772,"answer_id":24577438,"question_id":24577358,"body_markdown":"Batch statements are basically for `INSERT`, `UPDATE` and `DELETE` statements, they&#39;re not intended for a `SELECT` statement nor a DDL statement. If you want to execute a `SELECT` statement, do it in another `Statement` or `PreparedStatement` that won&#39;t execute the batch statements.\r\n","title":"How to add SELECT statements in addBatch()?","body":"<p>Batch statements are basically for <code>INSERT</code>, <code>UPDATE</code> and <code>DELETE</code> statements, they're not intended for a <code>SELECT</code> statement nor a DDL statement. If you want to execute a <code>SELECT</code> statement, do it in another <code>Statement</code> or <code>PreparedStatement</code> that won't execute the batch statements.</p>\n"},{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1404489501,"post_id":24577570,"comment_id":38072575,"body_markdown":"*This method cannot be called on a PreparedStatement* yes it can: [`PreparedStatement#addBatch`](http://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#addBatch--).","body":"<i>This method cannot be called on a PreparedStatement</i> yes it can: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#addBatch--\" rel=\"nofollow noreferrer\"><code>PreparedStatement#addBatch</code></a>."},{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1404490184,"post_id":24577570,"comment_id":38072854,"body_markdown":"Actually java 7 does not support it but as you said java 8 does thanx mate for letting me know.I&#39;m updating it","body":"Actually java 7 does not support it but as you said java 8 does thanx mate for letting me know.I&#39;m updating it"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1404490220,"post_id":24577570,"comment_id":38072872,"body_markdown":"Here it says: *Since Java 1.2*.","body":"Here it says: <i>Since Java 1.2</i>."},{"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"score":0,"creation_date":1404490587,"post_id":24577570,"comment_id":38072987,"body_markdown":"well there is difference between addBatch(java.lang.String) and addBatch(), and the answer is in context of what the OP asked not of what else can be done","body":"well there is difference between addBatch(java.lang.String) and addBatch(), and the answer is in context of what the OP asked not of what else can be done"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1404490665,"post_id":24577570,"comment_id":38073012,"body_markdown":"Well, the answer didn&#39;t specify the method. Now it does.","body":"Well, the answer didn&#39;t specify the method. Now it does."}],"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404490418,"creation_date":1404488309,"answer_id":24577570,"question_id":24577358,"body_markdown":"Even the javadoc says :  typically addBatch is a SQL `INSERT` or `UPDATE` statement. It is not designed to be  used for `SELECT` statements.[Refer addBatch(String sql)](http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#addBatch(java.lang.String)) \r\n\r\nMoreover `addBatch(java.lang.String)` method cannot be called on a PreparedStatement or CallableStatement but `addBatch()` supports PreparedStatement. ","title":"How to add SELECT statements in addBatch()?","body":"<p>Even the javadoc says :  typically addBatch is a SQL <code>INSERT</code> or <code>UPDATE</code> statement. It is not designed to be  used for <code>SELECT</code> statements.<a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#addBatch%28java.lang.String%29\" rel=\"nofollow\">Refer addBatch(String sql)</a> </p>\n\n<p>Moreover <code>addBatch(java.lang.String)</code> method cannot be called on a PreparedStatement or CallableStatement but <code>addBatch()</code> supports PreparedStatement. </p>\n"},{"tags":[],"owner":{"account_id":8256277,"reputation":418,"user_id":6209355,"display_name":"Yauheni Leaniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664903067,"creation_date":1664903067,"answer_id":73951310,"question_id":24577358,"body_markdown":"If you want to execute them in one connection, one of the options is to add logic like this:\r\n\r\n    if (query.startsWith(&quot;SELECT&quot;)) {\r\n        // process SELECT query \r\n    } else {\r\n        // process UPDATE/INSERT/DELETE queries\r\n    }\r\n\r\nbut in this case, all of your SELECT queries will be executed at first queue","title":"How to add SELECT statements in addBatch()?","body":"<p>If you want to execute them in one connection, one of the options is to add logic like this:</p>\n<pre><code>if (query.startsWith(&quot;SELECT&quot;)) {\n    // process SELECT query \n} else {\n    // process UPDATE/INSERT/DELETE queries\n}\n</code></pre>\n<p>but in this case, all of your SELECT queries will be executed at first queue</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24577438,"answer_count":3,"score":1,"last_activity_date":1664903067,"creation_date":1404487438,"question_id":24577358,"body_markdown":"Hi I am trying to execute couple of queries in a batch by using `statement.addBatch(sql)` Now I have found that if query is `SELECT BLAH BLAH` then it throws Exception saying `BatchUpdateExecption` So how do I add SELECT statement inside batch. For e.g. the following does not work because on batch contains SELECT statement\r\n\r\n    st.addBatch(&quot;UPDATE&quot;)\r\n    st.addBatch(&quot;CREATE&quot;)\r\n    st.addBatch(&quot;SELECT&quot;)\r\n    st.executeBatch()\r\n\r\nOne work around is I execute SELECT statement in `st.execute(&quot;SELECT&quot;)` instead of `st.addBatch(&quot;SELECT&quot;)`. Are there any recommended ways or best practice for this usecase? Please guide thanks in advance.","title":"How to add SELECT statements in addBatch()?","body":"<p>Hi I am trying to execute couple of queries in a batch by using <code>statement.addBatch(sql)</code> Now I have found that if query is <code>SELECT BLAH BLAH</code> then it throws Exception saying <code>BatchUpdateExecption</code> So how do I add SELECT statement inside batch. For e.g. the following does not work because on batch contains SELECT statement</p>\n\n<pre><code>st.addBatch(\"UPDATE\")\nst.addBatch(\"CREATE\")\nst.addBatch(\"SELECT\")\nst.executeBatch()\n</code></pre>\n\n<p>One work around is I execute SELECT statement in <code>st.execute(\"SELECT\")</code> instead of <code>st.addBatch(\"SELECT\")</code>. Are there any recommended ways or best practice for this usecase? Please guide thanks in advance.</p>\n"},{"tags":["java","csv","read.csv"],"comments":[{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1664900664,"post_id":73950752,"comment_id":130573767,"body_markdown":"What prints out when you run this code, and how is it different from what you are expecting?","body":"What prints out when you run this code, and how is it different from what you are expecting?"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":1,"creation_date":1664900703,"post_id":73950752,"comment_id":130573782,"body_markdown":"Also please add the results and minimal reproducible example in the post rather than linking to it","body":"Also please add the results and minimal reproducible example in the post rather than linking to it"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1664900817,"post_id":73950752,"comment_id":130573829,"body_markdown":"Does this answer your question? [Java reading cyrrilic CSV file, writing strange characters](https://stackoverflow.com/questions/18573313/java-reading-cyrrilic-csv-file-writing-strange-characters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18573313/java-reading-cyrrilic-csv-file-writing-strange-characters\">Java reading cyrrilic CSV file, writing strange characters</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664900925,"post_id":73950752,"comment_id":130573866,"body_markdown":"Have you verified the input is UTF-8? Open the file with a text editor where you can mandate a character encoding. Or open with a hex editor to view the octets yourself. I would guess the file is *not* actually in UTF-8 encoding.","body":"Have you verified the input is UTF-8? Open the file with a text editor where you can mandate a character encoding. Or open with a hex editor to view the octets yourself. I would guess the file is <i>not</i> actually in UTF-8 encoding."},{"owner":{"account_id":25611656,"reputation":11,"user_id":19384989,"display_name":"Maikki"},"score":0,"creation_date":1664900947,"post_id":73950752,"comment_id":130573876,"body_markdown":"What prints out when you run this code:  I added a screenshot to the post; Generally there is a problem with signs such as: ż&#243;łćąś&#243;","body":"What prints out when you run this code:  I added a screenshot to the post; Generally there is a problem with signs such as: ż&#243;łćąś&#243;"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664900978,"post_id":73950752,"comment_id":130573884,"body_markdown":"Is this Polish text?","body":"Is this Polish text?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664901310,"post_id":73950752,"comment_id":130573996,"body_markdown":"Please tell us what happens when you remove the charset argument from the ```InputStreamReader```  ctor","body":"Please tell us what happens when you remove the charset argument from the <code>InputStreamReader</code>  ctor"},{"owner":{"account_id":25611656,"reputation":11,"user_id":19384989,"display_name":"Maikki"},"score":1,"creation_date":1664901372,"post_id":73950752,"comment_id":130574010,"body_markdown":"The file was not encoded in utf-8 but in ANSI; I changed StandardCharsets.UTF_8 to &quot;Cp1252&quot; and it works; thank you for the hint and sorry for the inconvenience :)","body":"The file was not encoded in utf-8 but in ANSI; I changed StandardCharsets.UTF_8 to &quot;Cp1252&quot; and it works; thank you for the hint and sorry for the inconvenience :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664901549,"post_id":73950752,"comment_id":130574069,"body_markdown":"I think you might find it&#39;s ```Windows-1250```","body":"I think you might find it&#39;s <code>Windows-1250</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664903022,"creation_date":1664903022,"answer_id":73951304,"question_id":73950752,"body_markdown":"&gt; `https://stat.gov.pl/download/gfx/portalinformacyjny/pl/defaultstronaopisowa/4741/1/1/miesieczne_wskazniki_cen_towarow_i_uslug_konsumpcyjnych_od_1982_roku.csv`\r\n\r\n__That is not UTF-8!__\r\n\r\nHence why your code fails. You assumed it was UTF-8. It isn&#39;t. Also, the headers tell you it&#39;s &#39;binary&#39; (it really isn&#39;t, but the point is, the server isn&#39;t giving you a charset either), so you have to guess. It&#39;s probably Windows-1250.\r\n\r\nThis byte sequence is in that CSV:\r\n\r\n&gt; 57 61 72 74 6F 9C E6\r\n\r\nThe last 2 are &#39;interesting&#39; (the other are in the ASCII block so identical is just about every encoding). So that reads Warto?? where the ? are the interesting parts. If this is [Windows-1250](https://en.wikipedia.org/wiki/Windows-1250), it spells Wartość. Google tells me that&#39;s polish.\r\n\r\nSo, you need to do three things to fix this:\r\n\r\n1. Stop assuming everything is UTF_8.\r\n2. Learn mojibake detective skills. This involves downloading stuff raw, using hex editors, hunting for things that seem like half of a familiar term (like Warto..), and then looking up likely code pages and checking if the bytes match up to what you thought it should be. It&#39;s a drag. There are no shortcuts for it, when the server doesn&#39;t tell you what the encoding is, mojibake detective skills are your only option.\r\n3. Replace `StandardCharsets.UTF_8` with `&quot;Windows-1250&quot;`, which I&#39;m pretty sure works on any JVM. If not, oof. You&#39;d have to write that codepage yourself and register it as a charset.\r\n\r\n","title":"How to read csv file from url with utf-8 chars in java","body":"<blockquote>\n<p><code>https://stat.gov.pl/download/gfx/portalinformacyjny/pl/defaultstronaopisowa/4741/1/1/miesieczne_wskazniki_cen_towarow_i_uslug_konsumpcyjnych_od_1982_roku.csv</code></p>\n</blockquote>\n<p><strong>That is not UTF-8!</strong></p>\n<p>Hence why your code fails. You assumed it was UTF-8. It isn't. Also, the headers tell you it's 'binary' (it really isn't, but the point is, the server isn't giving you a charset either), so you have to guess. It's probably Windows-1250.</p>\n<p>This byte sequence is in that CSV:</p>\n<blockquote>\n<p>57 61 72 74 6F 9C E6</p>\n</blockquote>\n<p>The last 2 are 'interesting' (the other are in the ASCII block so identical is just about every encoding). So that reads Warto?? where the ? are the interesting parts. If this is <a href=\"https://en.wikipedia.org/wiki/Windows-1250\" rel=\"nofollow noreferrer\">Windows-1250</a>, it spells Wartość. Google tells me that's polish.</p>\n<p>So, you need to do three things to fix this:</p>\n<ol>\n<li>Stop assuming everything is UTF_8.</li>\n<li>Learn mojibake detective skills. This involves downloading stuff raw, using hex editors, hunting for things that seem like half of a familiar term (like Warto..), and then looking up likely code pages and checking if the bytes match up to what you thought it should be. It's a drag. There are no shortcuts for it, when the server doesn't tell you what the encoding is, mojibake detective skills are your only option.</li>\n<li>Replace <code>StandardCharsets.UTF_8</code> with <code>&quot;Windows-1250&quot;</code>, which I'm pretty sure works on any JVM. If not, oof. You'd have to write that codepage yourself and register it as a charset.</li>\n</ol>\n"}],"owner":{"account_id":25611656,"reputation":11,"user_id":19384989,"display_name":"Maikki"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664903022,"creation_date":1664900174,"question_id":73950752,"body_markdown":"How to correctly read a .csv file in java? I have a utf-8 encoded file but cannot read certain characters correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code:\r\n\r\n    String link = new String(&quot;https://stat.gov.pl/download/gfx/portalinformacyjny/pl/defaultstronaopisowa/4741/1/1/miesieczne_wskazniki_cen_towarow_i_uslug_konsumpcyjnych_od_1982_roku.csv&quot;);\r\n\r\n    URL url = new URL(link);\r\n\r\n    BufferedReader read = new BufferedReader(\r\n            new InputStreamReader(url.openStream(), StandardCharsets.UTF_8));\r\n    String i;\r\n    while ((i = read.readLine()) != null)\r\n        System.out.println(i);\r\n    read.close();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o6zbF.png","title":"How to read csv file from url with utf-8 chars in java","body":"<p>How to correctly read a .csv file in java? I have a utf-8 encoded file but cannot read certain characters correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/o6zbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o6zbF.png\" alt=\"enter image description here\" /></a></p>\n<p>My code:</p>\n<pre><code>String link = new String(&quot;https://stat.gov.pl/download/gfx/portalinformacyjny/pl/defaultstronaopisowa/4741/1/1/miesieczne_wskazniki_cen_towarow_i_uslug_konsumpcyjnych_od_1982_roku.csv&quot;);\n\nURL url = new URL(link);\n\nBufferedReader read = new BufferedReader(\n        new InputStreamReader(url.openStream(), StandardCharsets.UTF_8));\nString i;\nwhile ((i = read.readLine()) != null)\n    System.out.println(i);\nread.close();\n</code></pre>\n"},{"tags":["java","android","grid","photo"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1664903298,"post_id":73951180,"comment_id":130574649,"body_markdown":"hope this will help you. https://github.com/abhisheklunagaria/FacebookTypeImageGrid","body":"hope this will help you. <a href=\"https://github.com/abhisheklunagaria/FacebookTypeImageGrid\" rel=\"nofollow noreferrer\">github.com/abhisheklunagaria/FacebookTypeImageGrid</a>"},{"owner":{"account_id":17851808,"reputation":1,"user_id":12967401,"display_name":"sentrax"},"score":0,"creation_date":1664904102,"post_id":73951180,"comment_id":130574939,"body_markdown":"thank you, I&#39;m having problem on that too, can you or someone help me how to use BitFrames? Because firebase storage is returning URI and the showBitFrame() method requires BeanImage which gives an error when i combine the two.","body":"thank you, I&#39;m having problem on that too, can you or someone help me how to use BitFrames? Because firebase storage is returning URI and the showBitFrame() method requires BeanImage which gives an error when i combine the two."}],"owner":{"account_id":17851808,"reputation":1,"user_id":12967401,"display_name":"sentrax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664902343,"creation_date":1664902343,"question_id":73951180,"body_markdown":"Is there any libraries aside from BitFrames to use so that I can make a Facebook like feed for photos more that 1? Because I don&#39;t know how to implement BitFrames Library on Firebase storage.\r\n\r\n[Like This Layout][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F0kUF.png","title":"Facebook like Grid Photos Library","body":"<p>Is there any libraries aside from BitFrames to use so that I can make a Facebook like feed for photos more that 1? Because I don't know how to implement BitFrames Library on Firebase storage.</p>\n<p><a href=\"https://i.stack.imgur.com/F0kUF.png\" rel=\"nofollow noreferrer\">Like This Layout</a></p>\n"},{"tags":["java","spring","mocking"],"comments":[{"owner":{"account_id":5072626,"reputation":21,"user_id":4070977,"display_name":"ddnamaste"},"score":0,"creation_date":1664976674,"post_id":73951169,"comment_id":130591397,"body_markdown":"After more experimentation, I believe the problem is that when this test is run, the Spring system does not realize it needs a new application context. So the test code is using a mock, but the service code is still using a real class. Adding a class-level @DirtiesContext BEFORE_CLASS gets me a new application context and things work.","body":"After more experimentation, I believe the problem is that when this test is run, the Spring system does not realize it needs a new application context. So the test code is using a mock, but the service code is still using a real class. Adding a class-level @DirtiesContext BEFORE_CLASS gets me a new application context and things work."}],"owner":{"account_id":5072626,"reputation":21,"user_id":4070977,"display_name":"ddnamaste"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664902217,"creation_date":1664902217,"question_id":73951169,"body_markdown":"I am trying to organize our usage of @MockBean to reduce the number of ApplicationContexts in use during our testing. My approach is to put shared\r\nmocks in super classes and then inherit into the actual test code.\r\n\r\nI have a hierarchy like this:\r\n\r\nBaseTest:\r\n```\r\n@ActiveProfiles({&quot;test&quot;, &quot;human-readable-logging&quot;})\r\n@ContextConfiguration(classes = Main.class)\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(properties = {&quot;spring.cloud.gcp.credentials.location=&quot;})\r\n@AutoConfigureMockMvc(print = MockMvcPrint.NONE)\r\npublic class BaseTest {}\r\n```\r\nBaseUnitTestMocks: this has two subclasses\r\n```\r\npublic class BaseUnitTestMocks extends BaseTest {\r\n  @MockBean private ServiceA serviceA;\r\n  @MockBean private ServiceB serviceB;\r\n\r\n   ... accessors ...\r\n```\r\nBaseUnitTest: this is on the inheritance line with the problem.\r\n```\r\n@Tag(&quot;unit&quot;)\r\n@ActiveProfiles(&quot;unit-test&quot;)\r\npublic class BaseUnitTest extends BaseUnitTestMocks {}\r\n```\r\nBaseUnitTestPlusOneMock: this mock seems to not make it into the application context\r\n```\r\npublic class BaseUnitTestPlusOneMock extends BaseUnitTest {\r\n  @MockBean private ServiceC serviceC;\r\n   ... accessor ...\r\n}\r\n```\r\nThe test class looks like this:\r\n```\r\npublic class MyTest extends BaseUnitTestPlusOneMock {\r\n  private static final FAKE_THING = &quot;fake_thing&quot;;\r\n\r\n  @BeforeEach\r\n  public void setup() throws IOException {\r\n    when(mockServiceC().getRequiredThing(any())).thenReturn(FAKE_THING);\r\n  }\r\n\r\n    ... tests ...\r\n```\r\n\r\n**Expected Result:**\r\nThe mock is included in the application context and used in the Autowired in ServiceC.\r\n\r\n**Actual Result:**\r\nThis works when run from the debugger in IntelliJ. When run in a clean environment (cleaned project and stopped all gradle daemons), not in the debugger it fails because the actual ServiceC is used.\r\n\r\n","title":"Is it possible to use multiple layers of inherited @MockBean?","body":"<p>I am trying to organize our usage of @MockBean to reduce the number of ApplicationContexts in use during our testing. My approach is to put shared\nmocks in super classes and then inherit into the actual test code.</p>\n<p>I have a hierarchy like this:</p>\n<p>BaseTest:</p>\n<pre><code>@ActiveProfiles({&quot;test&quot;, &quot;human-readable-logging&quot;})\n@ContextConfiguration(classes = Main.class)\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(properties = {&quot;spring.cloud.gcp.credentials.location=&quot;})\n@AutoConfigureMockMvc(print = MockMvcPrint.NONE)\npublic class BaseTest {}\n</code></pre>\n<p>BaseUnitTestMocks: this has two subclasses</p>\n<pre><code>public class BaseUnitTestMocks extends BaseTest {\n  @MockBean private ServiceA serviceA;\n  @MockBean private ServiceB serviceB;\n\n   ... accessors ...\n</code></pre>\n<p>BaseUnitTest: this is on the inheritance line with the problem.</p>\n<pre><code>@Tag(&quot;unit&quot;)\n@ActiveProfiles(&quot;unit-test&quot;)\npublic class BaseUnitTest extends BaseUnitTestMocks {}\n</code></pre>\n<p>BaseUnitTestPlusOneMock: this mock seems to not make it into the application context</p>\n<pre><code>public class BaseUnitTestPlusOneMock extends BaseUnitTest {\n  @MockBean private ServiceC serviceC;\n   ... accessor ...\n}\n</code></pre>\n<p>The test class looks like this:</p>\n<pre><code>public class MyTest extends BaseUnitTestPlusOneMock {\n  private static final FAKE_THING = &quot;fake_thing&quot;;\n\n  @BeforeEach\n  public void setup() throws IOException {\n    when(mockServiceC().getRequiredThing(any())).thenReturn(FAKE_THING);\n  }\n\n    ... tests ...\n</code></pre>\n<p><strong>Expected Result:</strong>\nThe mock is included in the application context and used in the Autowired in ServiceC.</p>\n<p><strong>Actual Result:</strong>\nThis works when run from the debugger in IntelliJ. When run in a clean environment (cleaned project and stopped all gradle daemons), not in the debugger it fails because the actual ServiceC is used.</p>\n"},{"tags":["java","cmd","openssl","inputstream","processbuilder"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664570213,"post_id":73913667,"comment_id":130510082,"body_markdown":"what if you used pure java to do that? I bet bouncycastle has all the required functionality. Also why do you use `cmd.exe`? `new ProcessBuilder(&quot;java&quot;, &quot;-version&quot;)` etc should work directly. Could be https://superuser.com/a/1258521 (`cmd.exe /c`). Lastly, check [Process.html#getErrorStream()], it&#39;s likely there is your reason","body":"what if you used pure java to do that? I bet bouncycastle has all the required functionality. Also why do you use <code>cmd.exe</code>? <code>new ProcessBuilder(&quot;java&quot;, &quot;-version&quot;)</code> etc should work directly. Could be <a href=\"https://superuser.com/a/1258521\">superuser.com/a/1258521</a> (<code>cmd.exe &#47;c</code>). Lastly, check [Process.html#getErrorStream()], it&#39;s likely there is your reason"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1664570743,"post_id":73913667,"comment_id":130510169,"body_markdown":"ah, you redirect error, so not that. But if I read the docs right `new Pb(&#39;cmd1&#39;).setCommand(&#39;cmd2&#39;)` ultimately sets the command to `&#39;cmd2&#39;` and ignores the initial one","body":"ah, you redirect error, so not that. But if I read the docs right <code>new Pb(&#39;cmd1&#39;).setCommand(&#39;cmd2&#39;)</code> ultimately sets the command to <code>&#39;cmd2&#39;</code> and ignores the initial one"},{"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"score":0,"creation_date":1664573221,"post_id":73913667,"comment_id":130510688,"body_markdown":"@zalp Hm... That&#39;s sure a blinder. I&#39;m surprised how my &quot;keytool&quot; commands managed to work well.\nNow I get an error &quot; `&#39;A_config.cnf&#39; is not recognized as an internal or external command`&quot;. PB has probably extracted cmd&#39;s &quot;/C&quot; flag in &quot;-config ./CA_config.cnf&quot;  part. So now I need to figure how to escape such cases.","body":"@zalp Hm... That&#39;s sure a blinder. I&#39;m surprised how my &quot;keytool&quot; commands managed to work well. Now I get an error &quot; <code>&#39;A_config.cnf&#39; is not recognized as an internal or external command</code>&quot;. PB has probably extracted cmd&#39;s &quot;/C&quot; flag in &quot;-config ./CA_config.cnf&quot;  part. So now I need to figure how to escape such cases."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664573486,"post_id":73913667,"comment_id":130510741,"body_markdown":"if you wanted to run `cmd /c java -version`, it might be that you need to do `(&quot;cmd&quot;, &quot;/c&quot;, &quot;java -version&quot;)` so that cmd sees the thing you want to execute as a single command, not multiple. That could be different without `cmd` because now `java` would want to know what it&#39;s arguments are","body":"if you wanted to run <code>cmd &#47;c java -version</code>, it might be that you need to do <code>(&quot;cmd&quot;, &quot;&#47;c&quot;, &quot;java -version&quot;)</code> so that cmd sees the thing you want to execute as a single command, not multiple. That could be different without <code>cmd</code> because now <code>java</code> would want to know what it&#39;s arguments are"}],"answers":[{"comments":[{"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"score":0,"creation_date":1664653204,"post_id":73915271,"comment_id":130522721,"body_markdown":"Thanks for the tip. I don&#39;t think implementing `keytool -gencert` will be easy  because I need to make sure I&#39;ll get the same result of generating a cert. After openssl command, I create a .crt file of 2 RSA certs (newly created .pem file and CA_certificate.crt, which acts as an intermediate one) and use `keytool -import` to import that .crt file with 2 RSA certs into .p12.\n\nYour proposed openssl options doesn&#39;t work. Literally, in the real cmd window. I also tried using `-stdin`, but it doesn&#39;t affect anything.","body":"Thanks for the tip. I don&#39;t think implementing <code>keytool -gencert</code> will be easy  because I need to make sure I&#39;ll get the same result of generating a cert. After openssl command, I create a .crt file of 2 RSA certs (newly created .pem file and CA_certificate.crt, which acts as an intermediate one) and use <code>keytool -import</code> to import that .crt file with 2 RSA certs into .p12.  Your proposed openssl options doesn&#39;t work. Literally, in the real cmd window. I also tried using <code>-stdin</code>, but it doesn&#39;t affect anything."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1664765478,"post_id":73915271,"comment_id":130539152,"body_markdown":"Dmytro: `keytool -gencert` does generate a cert, from a CSR, signed by a CA key&amp;cert; what would make you think it doesn&#39;t? I tested the options I posted (for `openssl ca`) and they work -- unless you put them _after_ `-infiles x...` because as the man page says `-infiles` must be the last option, so you need to put other options _before_ it. There _is_ no option `-stdin` for `ca` (or for anything but `passwd`).","body":"Dmytro: <code>keytool -gencert</code> does generate a cert, from a CSR, signed by a CA key&amp;cert; what would make you think it doesn&#39;t? I tested the options I posted (for <code>openssl ca</code>) and they work -- unless you put them <i>after</i> <code>-infiles x...</code> because as the man page says <code>-infiles</code> must be the last option, so you need to put other options <i>before</i> it. There <i>is</i> no option <code>-stdin</code> for <code>ca</code> (or for anything but <code>passwd</code>)."},{"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"score":0,"creation_date":1664827388,"post_id":73915271,"comment_id":130555861,"body_markdown":"Wow. I didn&#39;t know the option placements mattered. The problem has been resolved!","body":"Wow. I didn&#39;t know the option placements mattered. The problem has been resolved!"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664588576,"creation_date":1664588576,"answer_id":73915271,"question_id":73913667,"body_markdown":"&gt; It doesn&#39;t reach even the first input spot where I need to enter CA_certificate.crt password.\r\n\r\nYou use `BufferedReader.readLine` which returns when, and only when, it reads a line terminator aka end-of-line/EOL -- usually LF on Unix, CRLF on Windows, or CR on classic Mac, but it accepts any of the three on any type of system -- or the input stream hits end-of-file/EOF, and since the connection from a child process&#39; stdout or stderr (or both when you combine them) is a pipe, EOF occurs only when the child process closes its end of the pipe or exits. In general a prompt is neither terminated by LF/CRLF/CR nor followed immediately by closing or exiting, hence your code won&#39;t read it. But for _this_ prompt see more below.\r\n\r\n&gt; various ways of waiting for a while, so openssl would be ready to consume inputs from me\r\n\r\nThis is unnecessary and useless; the connection _to_ a child process&#39; stdin is also a pipe and pipes are buffered, so you can write at least a few kilobytes even if the child isn&#39;t ready to read yet.\r\n\r\nYour actual problem is that `openssl` _passphrase_ prompts do not use stderr (or stdout) and stdin, but instead directly use the _console_, which `ProcessBuilder` cannot capture or handle. Instead of trying to answer this prompt, add to your command two additional arguments `-passin pass:&lt;value&gt;`.\r\n\r\nAfter doing that you _can_ answer y+EOL to (with or without previously reading) the &#39;sign&#39; and &#39;commit&#39; prompts, but more easily you can add _another_ argument `-batch` which skips these prompts entirely.\r\n\r\nAside: since you&#39;re using keytool already, have you considered using `keytool -gencert` to generate the (child) cert from CSR instead of futzing with `openssl`? It doesn&#39;t maintain a &#39;database&#39; for you like `openssl ca` does, but if you actually want that you can do it yourself in Java, and probably better.","title":"Sign .csr file with &quot;openssl ca&quot; command using Java ProcessBuilder (through either cmd.exe or openssl.exe)","body":"<blockquote>\n<p>It doesn't reach even the first input spot where I need to enter CA_certificate.crt password.</p>\n</blockquote>\n<p>You use <code>BufferedReader.readLine</code> which returns when, and only when, it reads a line terminator aka end-of-line/EOL -- usually LF on Unix, CRLF on Windows, or CR on classic Mac, but it accepts any of the three on any type of system -- or the input stream hits end-of-file/EOF, and since the connection from a child process' stdout or stderr (or both when you combine them) is a pipe, EOF occurs only when the child process closes its end of the pipe or exits. In general a prompt is neither terminated by LF/CRLF/CR nor followed immediately by closing or exiting, hence your code won't read it. But for <em>this</em> prompt see more below.</p>\n<blockquote>\n<p>various ways of waiting for a while, so openssl would be ready to consume inputs from me</p>\n</blockquote>\n<p>This is unnecessary and useless; the connection <em>to</em> a child process' stdin is also a pipe and pipes are buffered, so you can write at least a few kilobytes even if the child isn't ready to read yet.</p>\n<p>Your actual problem is that <code>openssl</code> <em>passphrase</em> prompts do not use stderr (or stdout) and stdin, but instead directly use the <em>console</em>, which <code>ProcessBuilder</code> cannot capture or handle. Instead of trying to answer this prompt, add to your command two additional arguments <code>-passin pass:&lt;value&gt;</code>.</p>\n<p>After doing that you <em>can</em> answer y+EOL to (with or without previously reading) the 'sign' and 'commit' prompts, but more easily you can add <em>another</em> argument <code>-batch</code> which skips these prompts entirely.</p>\n<p>Aside: since you're using keytool already, have you considered using <code>keytool -gencert</code> to generate the (child) cert from CSR instead of futzing with <code>openssl</code>? It doesn't maintain a 'database' for you like <code>openssl ca</code> does, but if you actually want that you can do it yourself in Java, and probably better.</p>\n"},{"tags":[],"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664901835,"creation_date":1664901835,"answer_id":73951085,"question_id":73913667,"body_markdown":"First, I was invoking cmd.exe in the wrong way because of ProcessBuilder constructor&#39;s specifics. Now, the program, its flags and the command are all specified in the constructor.\r\n\r\nSecond, I didn&#39;t know the [specifics][1] of &quot;openssl ca&quot; command. There are helping options (`-passin pass:&lt;value&gt;, -batch`) that simplify the process of signing .csr files by minimising the interaction with Process object&#39;s streams. \r\nYou also need to pay attention to the order of options: `-infiles &lt;arg&gt;` must be the last one in the line). \r\n\r\nThe final code block looks like that:\r\n\r\n    private static void signCertReqWithOpenSSL() throws IOException {\r\n    String command = &quot;openssl ca -config ./CA_config.cnf -extensions my_client_cert -passin pass:B51D_AXfs2x -batch -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr&quot;\r\n    \r\n    //init cmd process\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/K&quot;, command);\r\n    File pathFromAppToNeededDir = new File(&quot;../dir1/dir2/&quot;).getAbsoluteFile();\r\n    pb.directory(relativePathFromAppToNeededDir);\r\n    Process process = pb.start();\r\n    \r\n    try (InputStream in = process.getInputStream())) {\r\n        readAllConsoleOutputFromBuffer(in, 4000); //outputs everything, including -BEGIN CERTIFICATE- part\r\n    }\r\n    process.destroy();\r\n    }\r\n\r\nSpecial thanks to dave_thompson_085!\r\n\r\n  [1]: https://www.openssl.org/docs/man1.0.2/man1/ca.html","title":"Sign .csr file with &quot;openssl ca&quot; command using Java ProcessBuilder (through either cmd.exe or openssl.exe)","body":"<p>First, I was invoking cmd.exe in the wrong way because of ProcessBuilder constructor's specifics. Now, the program, its flags and the command are all specified in the constructor.</p>\n<p>Second, I didn't know the <a href=\"https://www.openssl.org/docs/man1.0.2/man1/ca.html\" rel=\"nofollow noreferrer\">specifics</a> of &quot;openssl ca&quot; command. There are helping options (<code>-passin pass:&lt;value&gt;, -batch</code>) that simplify the process of signing .csr files by minimising the interaction with Process object's streams.\nYou also need to pay attention to the order of options: <code>-infiles &lt;arg&gt;</code> must be the last one in the line).</p>\n<p>The final code block looks like that:</p>\n<pre><code>private static void signCertReqWithOpenSSL() throws IOException {\nString command = &quot;openssl ca -config ./CA_config.cnf -extensions my_client_cert -passin pass:B51D_AXfs2x -batch -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr&quot;\n\n//init cmd process\nProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/K&quot;, command);\nFile pathFromAppToNeededDir = new File(&quot;../dir1/dir2/&quot;).getAbsoluteFile();\npb.directory(relativePathFromAppToNeededDir);\nProcess process = pb.start();\n\ntry (InputStream in = process.getInputStream())) {\n    readAllConsoleOutputFromBuffer(in, 4000); //outputs everything, including -BEGIN CERTIFICATE- part\n}\nprocess.destroy();\n}\n</code></pre>\n<p>Special thanks to dave_thompson_085!</p>\n"}],"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73915271,"answer_count":2,"score":1,"last_activity_date":1664901835,"creation_date":1664569710,"question_id":73913667,"body_markdown":"I&#39;m trying to automatize the process of manual generation of .p12 signed certificate for web authorization. \r\n\r\nKeyPair (.p12) and CertReq (.csr) files are generated using JDK&#39;s keytool program. Now I need to sign .p12 with an intermediate certificate using OpenSSL, but unlike executing &quot;keytool&quot; commands in `ProcessBuilder` or in `Runtime.getRuntime().exec(...)`, openssl struggles working through Java&#39;s Process object. I don&#39;t know what&#39;s wrong with it.\r\n\r\nThe command I need to be executed:\r\n\r\n    openssl ca -config ./CA_config.cnf -extensions my_client_cert -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr\r\n\r\nThere are 3 moments when it waits for user input and outputs text in-between them:\r\n1) enter CA_certificate.crt password (the .crt file CA_config.cnf is pointing at);\r\n2) sign the certificate - [y/n];\r\n3) commit the results - [y/n].\r\n\r\nThe code snapshot is provided below. Most vars are replaced with hardcode for easier reading.\r\n\r\n    private static void signCertReqWithOpenSSL2() throws IOException {\r\n\t\tString command = &quot;openssl ca -config ./CA_config.cnf -extensions my_client_cert -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr&quot;\r\n\t\tString[] commandSeparated = command.split(&quot; &quot;);\r\n\t\t\r\n\t\t//init cmd process\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;);\r\n\t\tpb.redirectErrorStream(true);\r\n\t\tpb.directory(new File(&quot;../dir1/dir2/&quot;).getAbsoluteFile());\r\n\t\tpb.command(commandSeparated);\r\n\t\tProcess process = pb.start();\r\n\t\t\r\n\t\ttry (InputStream in = process.getInputStream());\r\n\t\t\t OutputStream out = process.getOutputStream()) {\r\n\t\t\tSystem.out.println(&quot;--- begin---&quot;);\r\n\t\t\t\r\n\t\t\treadAllConsoleOutputFromBuffer(in, 80); //93 bytes actually\r\n\t\t\t\r\n\t\t\t//enter CA_certificate.crt password\r\n\t\t\tenterUserInputToOutputStream(out, caPassword);\r\n\t\t\treadAllConsoleOutputFromBuffer(in, 10); //350\r\n\t\t\t\r\n\t\t\t//sign the certificate\r\n\t\t\tenterUserInputToOutputStream(out, &quot;y&quot;);\r\n\t\t\treadAllConsoleOutputFromBuffer(in, 10); //56\r\n\t\t\t\r\n\t\t\t//commit the certification\r\n\t\t\tenterUserInputToOutputStream(out, &quot;y&quot;);\r\n\t\t\treadAllConsoleOutputFromBuffer(process.getInputStream(), 10); //4815\r\n\r\n\t\t\tSystem.out.println(&quot;--- end ---&quot;);\r\n\t\t}\r\n\t\tprocess.destroy();\r\n\t}\r\n\r\n    private static void enterUserInputToOutputStream(OutputStream out, String input) throws IOException {\r\n\t\tout.write(String.format(&quot;%s%n&quot;, input).getBytes());\r\n\t\tout.flush();\r\n\t}\r\n\r\n    //if the stream has enough text to be printed (indicating that it&#39;s probably ready for user input), print it\r\n    private static void readAllConsoleOutputFromBuffer(InputStream in, int minTextSizeInBytes) throws IOException {\r\n    //loop is made just to make it scanning the stream during some time. I know there&#39;re better ways\r\n\t\tfor (int i = 0; i &lt; 100000; i++) {\r\n\t\t\tif (in.available() &gt; minTextSizeInBytes) {\r\n\t\t\t\tString line;\r\n\t\t\t\tBufferedReader buff = new BufferedReader(new InputStreamReader(in));\r\n\t\t\t\twhile ((line = buff.readLine()) != null) {\r\n\t\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nProblem:\r\nI cannot make it reach the end, so it generates a new .pem file and/or outputs &quot;BEGIN CERTIFICATE&quot; text in the console for my further processing.\r\n\r\nIt doesn&#39;t reach even the first input spot where I need to enter CA_certificate.crt password.\r\nAt best, I catch the first output line &quot;Using configuration from ./CA_config.cnf&quot;.\r\n\r\n\r\nI&#39;m sure everything is set up fine. \r\n- openssl directory is present in %PATH%;\r\n- all files and folders exist and OpenSSL finds them (if I make a mistake in CA_config.cnf or remove any file needed for execution, I catch the error in the console output that something is not found).\r\n\r\nWhat I&#39;ve tried:\r\n- ignoring the console outputs (interaction with InputStream);\r\n- various ways of waiting for a while, so openssl would be ready to consume inputs from me (Thread.sleep, other Thread checking conditions or sleeping, for loop to make some time pass, etc.);\r\n- using openssl.exe as the executable instead of cmd.exe - I rewrote the paths in the command and CA_config.cnf and got the same result as with cmd.exe and its relative paths.\r\n- messing with strings and encodings in case it somehow stucks at the line terminator after the first output line being read, even though I doubt it&#39;s the root cause.\r\n\r\nAny help or ideas how to make work fine other than deligating the command to a .bat file? Maybe I don&#39;t interact with the Process object&#39;s Input and Output streams in the right way.\r\n\r\nAny help is appreciated!\r\n\r\nOS: Windows 10 x64","title":"Sign .csr file with &quot;openssl ca&quot; command using Java ProcessBuilder (through either cmd.exe or openssl.exe)","body":"<p>I'm trying to automatize the process of manual generation of .p12 signed certificate for web authorization.</p>\n<p>KeyPair (.p12) and CertReq (.csr) files are generated using JDK's keytool program. Now I need to sign .p12 with an intermediate certificate using OpenSSL, but unlike executing &quot;keytool&quot; commands in <code>ProcessBuilder</code> or in <code>Runtime.getRuntime().exec(...)</code>, openssl struggles working through Java's Process object. I don't know what's wrong with it.</p>\n<p>The command I need to be executed:</p>\n<pre><code>openssl ca -config ./CA_config.cnf -extensions my_client_cert -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr\n</code></pre>\n<p>There are 3 moments when it waits for user input and outputs text in-between them:</p>\n<ol>\n<li>enter CA_certificate.crt password (the .crt file CA_config.cnf is pointing at);</li>\n<li>sign the certificate - [y/n];</li>\n<li>commit the results - [y/n].</li>\n</ol>\n<p>The code snapshot is provided below. Most vars are replaced with hardcode for easier reading.</p>\n<pre><code>private static void signCertReqWithOpenSSL2() throws IOException {\n    String command = &quot;openssl ca -config ./CA_config.cnf -extensions my_client_cert -infiles ./CA_certreqs/MY_CLIENT_AAAAAA.csr&quot;\n    String[] commandSeparated = command.split(&quot; &quot;);\n    \n    //init cmd process\n    ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;);\n    pb.redirectErrorStream(true);\n    pb.directory(new File(&quot;../dir1/dir2/&quot;).getAbsoluteFile());\n    pb.command(commandSeparated);\n    Process process = pb.start();\n    \n    try (InputStream in = process.getInputStream());\n         OutputStream out = process.getOutputStream()) {\n        System.out.println(&quot;--- begin---&quot;);\n        \n        readAllConsoleOutputFromBuffer(in, 80); //93 bytes actually\n        \n        //enter CA_certificate.crt password\n        enterUserInputToOutputStream(out, caPassword);\n        readAllConsoleOutputFromBuffer(in, 10); //350\n        \n        //sign the certificate\n        enterUserInputToOutputStream(out, &quot;y&quot;);\n        readAllConsoleOutputFromBuffer(in, 10); //56\n        \n        //commit the certification\n        enterUserInputToOutputStream(out, &quot;y&quot;);\n        readAllConsoleOutputFromBuffer(process.getInputStream(), 10); //4815\n\n        System.out.println(&quot;--- end ---&quot;);\n    }\n    process.destroy();\n}\n\nprivate static void enterUserInputToOutputStream(OutputStream out, String input) throws IOException {\n    out.write(String.format(&quot;%s%n&quot;, input).getBytes());\n    out.flush();\n}\n\n//if the stream has enough text to be printed (indicating that it's probably ready for user input), print it\nprivate static void readAllConsoleOutputFromBuffer(InputStream in, int minTextSizeInBytes) throws IOException {\n//loop is made just to make it scanning the stream during some time. I know there're better ways\n    for (int i = 0; i &lt; 100000; i++) {\n        if (in.available() &gt; minTextSizeInBytes) {\n            String line;\n            BufferedReader buff = new BufferedReader(new InputStreamReader(in));\n            while ((line = buff.readLine()) != null) {\n                System.out.println(line);\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n<p>Problem:\nI cannot make it reach the end, so it generates a new .pem file and/or outputs &quot;BEGIN CERTIFICATE&quot; text in the console for my further processing.</p>\n<p>It doesn't reach even the first input spot where I need to enter CA_certificate.crt password.\nAt best, I catch the first output line &quot;Using configuration from ./CA_config.cnf&quot;.</p>\n<p>I'm sure everything is set up fine.</p>\n<ul>\n<li>openssl directory is present in %PATH%;</li>\n<li>all files and folders exist and OpenSSL finds them (if I make a mistake in CA_config.cnf or remove any file needed for execution, I catch the error in the console output that something is not found).</li>\n</ul>\n<p>What I've tried:</p>\n<ul>\n<li>ignoring the console outputs (interaction with InputStream);</li>\n<li>various ways of waiting for a while, so openssl would be ready to consume inputs from me (Thread.sleep, other Thread checking conditions or sleeping, for loop to make some time pass, etc.);</li>\n<li>using openssl.exe as the executable instead of cmd.exe - I rewrote the paths in the command and CA_config.cnf and got the same result as with cmd.exe and its relative paths.</li>\n<li>messing with strings and encodings in case it somehow stucks at the line terminator after the first output line being read, even though I doubt it's the root cause.</li>\n</ul>\n<p>Any help or ideas how to make work fine other than deligating the command to a .bat file? Maybe I don't interact with the Process object's Input and Output streams in the right way.</p>\n<p>Any help is appreciated!</p>\n<p>OS: Windows 10 x64</p>\n"},{"tags":["java","arrays","csv","writer"],"answers":[{"comments":[{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1456928350,"post_id":35749628,"comment_id":59172668,"body_markdown":"I edited the answer to include the writing to a file bit without the opencsv library. This writes the collected string into the file. Note: I did not make it safe. You will have to wrap the writer into a try/catch/finally etc and catch edge cases, but it demonstrates the idea.","body":"I edited the answer to include the writing to a file bit without the opencsv library. This writes the collected string into the file. Note: I did not make it safe. You will have to wrap the writer into a try/catch/finally etc and catch edge cases, but it demonstrates the idea."},{"owner":{"account_id":2676501,"reputation":2361,"user_id":2312801,"accept_rate":68,"display_name":"mOna"},"score":0,"creation_date":1456928574,"post_id":35749628,"comment_id":59172877,"body_markdown":"Thanks a lot for your great help.. it worked :) just one more question: is there any way that I could put space to specify lines in the csv? (because I need to import it into mysql later). Now my output is like: `&quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot;,&quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot;,&quot;user1&quot;.... ` while I need it to be `&quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot; &quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot; &quot;user1`","body":"Thanks a lot for your great help.. it worked :) just one more question: is there any way that I could put space to specify lines in the csv? (because I need to import it into mysql later). Now my output is like: <code>&quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot;,&quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot;,&quot;user1&zwnj;&#8203;&quot;.... </code> while I need it to be <code>&quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot; &quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot; &quot;user1</code>"},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1456929364,"post_id":35749628,"comment_id":59173515,"body_markdown":"I added the splitting. I took your input from the question which I assume is a string you read from the input file. Splitting it by space gives you your lines. Splitting it by comma your objects. You need to write the newline to the file though to get it in lines.","body":"I added the splitting. I took your input from the question which I assume is a string you read from the input file. Splitting it by space gives you your lines. Splitting it by comma your objects. You need to write the newline to the file though to get it in lines."},{"owner":{"account_id":2676501,"reputation":2361,"user_id":2312801,"accept_rate":68,"display_name":"mOna"},"score":0,"creation_date":1456929892,"post_id":35749628,"comment_id":59173967,"body_markdown":"thanks for your second answer.. actually I get error when I write `input.split` or `input.length()-1` maybe because I read my input csv file with `bufferedreader`. regarding my input file, I exported it from the mysql table which has exactly the same columns as the output file (userId, trackId, playerId).. lines are separated by space in the input file..","body":"thanks for your second answer.. actually I get error when I write <code>input.split</code> or <code>input.length()-1</code> maybe because I read my input csv file with <code>bufferedreader</code>. regarding my input file, I exported it from the mysql table which has exactly the same columns as the output file (userId, trackId, playerId).. lines are separated by space in the input file.."},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1456930188,"post_id":35749628,"comment_id":59174205,"body_markdown":"I believe you will have to split/work with the uLine object in your example code. That String represents the input variable in my example.","body":"I believe you will have to split/work with the uLine object in your example code. That String represents the input variable in my example."},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1456935703,"post_id":35749628,"comment_id":59178591,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/105165/discussion-between-pandaadb-and-mona).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/105165/discussion-between-pandaadb-and-mona\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1456929325,"creation_date":1456927983,"answer_id":35749628,"question_id":35749250,"body_markdown":"have you considered using OpenCSV for writing your values:http://opencsv.sourceforge.net/\r\n\r\nThere is an example of how to write CSV files and it is very easy.\r\n\r\nAs to your problem, it appears you can&#39;t write the values because the Arraylist toString method will not return a comma separated string. You can use this: \r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tFileWriter writer = new FileWriter(&quot;/Users/artur/tmp/csv/sto1.csv&quot;);\r\n\t\t\r\n\t\tList&lt;String&gt; test = new ArrayList&lt;&gt;();\r\n\t\ttest.add(&quot;Word1&quot;);\r\n\t\ttest.add(&quot;Word2&quot;);\r\n\t\ttest.add(&quot;Word3&quot;);\r\n\t\ttest.add(&quot;Word4&quot;);\r\n\t\t\r\n\t\tString collect = test.stream().collect(Collectors.joining(&quot;,&quot;));\r\n\t\tSystem.out.println(collect);\r\n\t\t\r\n\t\twriter.write(collect);\r\n\t\twriter.close();\r\n\t\t\r\n\t}\r\n\r\nSee the collector impl - it will collect all String objects and concatinate them, using the separator you provide. The output then loolks like:\r\n\r\n    Word1,Word2,Word3,Word4\r\n\r\nI hope that fixes your problem. Let me know if something&#39;s not clear. \r\n\r\nArtur\r\n\r\nEdit 2, for your question.\r\n\r\nIf your input is a String that you read, you can split it by the space first to get it in separated lines. If it is an actual array, it won&#39;t work. This is my example: \r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tString input = &quot;[\\&quot;user1\\&quot;,\\&quot;track1\\&quot;,\\&quot;player1\\&quot;, \\&quot;user1\\&quot;,\\&quot;track2\\&quot;,\\&quot;player2\\&quot;, \\&quot;user1\\&quot;,\\&quot;track3\\&quot;,\\&quot;player3\\&quot;]&quot;;\r\n    \t\tinput = input.substring(1, input.length() - 1); // get rid of brackets\r\n    \t\tString[] split = input.split(&quot; &quot;);\r\n    \r\n    \t\tFileWriter writer = new FileWriter(&quot;/Users/artur/tmp/csv/sto1.csv&quot;);\r\n    \t\t\r\n    \t\tfor(String s : split) {\r\n    \t\t\tString[] split2 = s.split(&quot;,&quot;);\r\n    \t\t\twriter.write(Arrays.asList(split2).stream().collect(Collectors.joining(&quot;,&quot;)));\r\n    \t\t\twriter.write(&quot;\\n&quot;); // newline\r\n    \t\t}\r\n    \t\t\r\n    \t\twriter.close();\r\n    \t\t\r\n    \t}\r\n\r\nThe resulting file looks like this:\r\n\r\n    &quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot;\r\n    &quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot;\r\n    &quot;user1&quot;,&quot;track3&quot;,&quot;player3&quot;","title":"java write the list string into csv file","body":"<p>have you considered using OpenCSV for writing your values:<a href=\"http://opencsv.sourceforge.net/\" rel=\"noreferrer\">http://opencsv.sourceforge.net/</a></p>\n\n<p>There is an example of how to write CSV files and it is very easy.</p>\n\n<p>As to your problem, it appears you can't write the values because the Arraylist toString method will not return a comma separated string. You can use this: </p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    FileWriter writer = new FileWriter(\"/Users/artur/tmp/csv/sto1.csv\");\n\n    List&lt;String&gt; test = new ArrayList&lt;&gt;();\n    test.add(\"Word1\");\n    test.add(\"Word2\");\n    test.add(\"Word3\");\n    test.add(\"Word4\");\n\n    String collect = test.stream().collect(Collectors.joining(\",\"));\n    System.out.println(collect);\n\n    writer.write(collect);\n    writer.close();\n\n}\n</code></pre>\n\n<p>See the collector impl - it will collect all String objects and concatinate them, using the separator you provide. The output then loolks like:</p>\n\n<pre><code>Word1,Word2,Word3,Word4\n</code></pre>\n\n<p>I hope that fixes your problem. Let me know if something's not clear. </p>\n\n<p>Artur</p>\n\n<p>Edit 2, for your question.</p>\n\n<p>If your input is a String that you read, you can split it by the space first to get it in separated lines. If it is an actual array, it won't work. This is my example: </p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n        String input = \"[\\\"user1\\\",\\\"track1\\\",\\\"player1\\\", \\\"user1\\\",\\\"track2\\\",\\\"player2\\\", \\\"user1\\\",\\\"track3\\\",\\\"player3\\\"]\";\n        input = input.substring(1, input.length() - 1); // get rid of brackets\n        String[] split = input.split(\" \");\n\n        FileWriter writer = new FileWriter(\"/Users/artur/tmp/csv/sto1.csv\");\n\n        for(String s : split) {\n            String[] split2 = s.split(\",\");\n            writer.write(Arrays.asList(split2).stream().collect(Collectors.joining(\",\")));\n            writer.write(\"\\n\"); // newline\n        }\n\n        writer.close();\n\n    }\n</code></pre>\n\n<p>The resulting file looks like this:</p>\n\n<pre><code>\"user1\",\"track1\",\"player1\"\n\"user1\",\"track2\",\"player2\"\n\"user1\",\"track3\",\"player3\"\n</code></pre>\n"}],"owner":{"account_id":2676501,"reputation":2361,"user_id":2312801,"accept_rate":68,"display_name":"mOna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71984,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":35749628,"answer_count":1,"score":4,"last_activity_date":1664901723,"creation_date":1456927052,"question_id":35749250,"body_markdown":"I have some array strings like the following (note that there is space after each player which shows different lines...),\r\n\r\n    [&quot;user1&quot;,&quot;track1&quot;,&quot;player1&quot;, &quot;user1&quot;,&quot;track2&quot;,&quot;player2&quot;, &quot;user1&quot;,&quot;track3&quot;,&quot;player3&quot;, ...] \r\n\r\nI would like to divide this array into two parts (almost equal) based on the number of lines (spaces here). So, for example if there is 40 spaces in this array, I need to store the lines starting from the first to the half(20th line) in a file (let&#39;s call it file A) and put the rest in file B. \r\nI could divide the arraylist, but I could not write it in the correct way in the CSV file.\r\n\r\nHere is my code:\r\n\r\n    public static void main(String[] args) throws java.lang.Exception {\t\r\n\tBufferedReader userlines = new BufferedReader(new FileReader(&quot;/..../usertrackplayer.csv&quot;));       \r\n\tFileWriter output = new FileWriter(new File(&quot;/.../output.csv&quot;));\r\n\r\n\tString uLine = null;\t\r\n\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\tList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n    String currentUserId = null;    \t\r\n\r\n\twhile ((uLine = userlines.readLine()) != null) {\r\n\t\t\r\n\t\tString[] userData = uLine.split(&quot;,&quot;);\r\n\t\tString userId = userData[0];\t\t\t\r\n\t\tif (userId.equals(currentUserId)) {\r\n          // Do what ever we need while buffering same userId\t\t\t\t\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlist.add(uLine);\r\n\t\t\tint division = (int) Math.ceil(list.size()/2);\r\n\r\n\t\t\tList&lt;String&gt; sublist = list.subList(0, division); //TO DEVIDE THE DATA OF EACH USERID INTO TWO ALMOST EQUAL PARTS, IT PUT THE FIRST HALF IN SUBLIST\r\n\r\n         //HERE I NEED TO WRITE THE OUTPUT OF SUBLIST INTO A CSV FILE, BUT HOW????\r\n                output.write(sublits); //--&gt; THIS DOES NOT WORK SINCE SUBLIST IS NOT A STRING\r\n\t            currentUserId = userId;\r\n\t            list.clear();\r\n\t    }\t\t\r\n\t\t list.add(uLine);\r\n    }\r\n    \tuserlines.close();\r\n    \toutput.close();\r\n    }\r\n\r\nCould someone please help me know how could I write the data in a list string into an empty csv file?? \r\nMy second question is: how could I split them wherever there is space and consider it as a line.. \r\n\r\nThanks,\r\n ","title":"java write the list string into csv file","body":"<p>I have some array strings like the following (note that there is space after each player which shows different lines...),</p>\n\n<pre><code>[\"user1\",\"track1\",\"player1\", \"user1\",\"track2\",\"player2\", \"user1\",\"track3\",\"player3\", ...] \n</code></pre>\n\n<p>I would like to divide this array into two parts (almost equal) based on the number of lines (spaces here). So, for example if there is 40 spaces in this array, I need to store the lines starting from the first to the half(20th line) in a file (let's call it file A) and put the rest in file B. \nI could divide the arraylist, but I could not write it in the correct way in the CSV file.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static void main(String[] args) throws java.lang.Exception { \nBufferedReader userlines = new BufferedReader(new FileReader(\"/..../usertrackplayer.csv\"));       \nFileWriter output = new FileWriter(new File(\"/.../output.csv\"));\n\nString uLine = null;    \nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\nString currentUserId = null;        \n\nwhile ((uLine = userlines.readLine()) != null) {\n\n    String[] userData = uLine.split(\",\");\n    String userId = userData[0];            \n    if (userId.equals(currentUserId)) {\n      // Do what ever we need while buffering same userId               \n    }\n    else{\n        list.add(uLine);\n        int division = (int) Math.ceil(list.size()/2);\n\n        List&lt;String&gt; sublist = list.subList(0, division); //TO DEVIDE THE DATA OF EACH USERID INTO TWO ALMOST EQUAL PARTS, IT PUT THE FIRST HALF IN SUBLIST\n\n     //HERE I NEED TO WRITE THE OUTPUT OF SUBLIST INTO A CSV FILE, BUT HOW????\n            output.write(sublits); //--&gt; THIS DOES NOT WORK SINCE SUBLIST IS NOT A STRING\n            currentUserId = userId;\n            list.clear();\n    }       \n     list.add(uLine);\n}\n    userlines.close();\n    output.close();\n}\n</code></pre>\n\n<p>Could someone please help me know how could I write the data in a list string into an empty csv file?? \nMy second question is: how could I split them wherever there is space and consider it as a line.. </p>\n\n<p>Thanks,</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":36137,"reputation":178809,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1664895150,"post_id":73949769,"comment_id":130571788,"body_markdown":"I don&#39;t understand what you mean by `within one of the streams terminating forEach`","body":"I don&#39;t understand what you mean by <code>within one of the streams terminating forEach</code>"},{"owner":{"account_id":26526499,"reputation":3,"user_id":20159415,"display_name":"TeemoSays234"},"score":0,"creation_date":1664895241,"post_id":73949769,"comment_id":130571813,"body_markdown":"Is the `forEach` when using the Stream API considered a terminating operation?  Referencing a tutorial I saw.  `resultStorage.entrySet().stream()\n                        .forEach((....`","body":"Is the <code>forEach</code> when using the Stream API considered a terminating operation?  Referencing a tutorial I saw.  <code>resultStorage.entrySet().stream()                         .forEach((....</code>"},{"owner":{"account_id":26526499,"reputation":3,"user_id":20159415,"display_name":"TeemoSays234"},"score":0,"creation_date":1664895457,"post_id":73949769,"comment_id":130571912,"body_markdown":"For others reference:https://www.youtube.com/watch?v=t1-YZ6bF-g0&amp;t=190s","body":"For others reference:<a href=\"https://www.youtube.com/watch?v=t1-YZ6bF-g0&amp;t=190s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=t1-YZ6bF-g0&amp;t=190s</a>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1664895461,"post_id":73949769,"comment_id":130571920,"body_markdown":"@RobertHarvey The tutorial probably meant terminal operation.","body":"@RobertHarvey The tutorial probably meant terminal operation."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1664895467,"post_id":73949769,"comment_id":130571923,"body_markdown":"@RobertHarvey He means &quot;terminal operation&quot;, which is a standard term in the Streams-API. It&#39;s even in the docs for forEach: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-","body":"@RobertHarvey He means &quot;terminal operation&quot;, which is a standard term in the Streams-API. It&#39;s even in the docs for forEach: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1664895563,"post_id":73949769,"comment_id":130571962,"body_markdown":"@TeemoSays234 Please describe the logic you are trying to implement. It hard to grasp just from your examples. Preferably give some example input with corresponding output.","body":"@TeemoSays234 Please describe the logic you are trying to implement. It hard to grasp just from your examples. Preferably give some example input with corresponding output."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1664896384,"post_id":73949769,"comment_id":130572277,"body_markdown":"You cannot use a terminal operation twice, as them being terminal by definition means they consume the stream. There are, however, intermediate operations that can be performed in a similar manner (see: `Stream#peek`)","body":"You cannot use a terminal operation twice, as them being terminal by definition means they consume the stream. There are, however, intermediate operations that can be performed in a similar manner (see: <code>Stream#peek</code>)"},{"owner":{"account_id":26526499,"reputation":3,"user_id":20159415,"display_name":"TeemoSays234"},"score":0,"creation_date":1664897325,"post_id":73949769,"comment_id":130572631,"body_markdown":"@Holder updated for additional clarity","body":"@Holder updated for additional clarity"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664898063,"post_id":73949769,"comment_id":130572882,"body_markdown":"For learning streams, I suggest the following (in no particular order): [Processing Data with Java SE 8 Streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html) (Article in Oracle Magazine by Urma), [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html), Oracle&#39;s [Java tutorials](https://docs.oracle.com/javase/tutorial/collections/streams/index.html). Also, in my opinion, the book [Core Java](https://horstmann.com/corejava/), by Horstmann contains an excellent explanation of streams.","body":"For learning streams, I suggest the following (in no particular order): <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">Processing Data with Java SE 8 Streams</a> (Article in Oracle Magazine by Urma), <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">javadoc</a>, Oracle&#39;s <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">Java tutorials</a>. Also, in my opinion, the book <a href=\"https://horstmann.com/corejava/\" rel=\"nofollow noreferrer\">Core Java</a>, by Horstmann contains an excellent explanation of streams."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664898261,"post_id":73949769,"comment_id":130572953,"body_markdown":"There are **many** questions (with answers) regarding Java streams on this Web site. Just enter `[java] stream` into the search box at the top of this Web page. Also, consider posting a [mcve]. I think that will help people to answer your question.","body":"There are <b>many</b> questions (with answers) regarding Java streams on this Web site. Just enter <code>[java] stream</code> into the search box at the top of this Web page. Also, consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I think that will help people to answer your question."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664898255,"creation_date":1664898255,"answer_id":73950398,"question_id":73949769,"body_markdown":"The terminal operation of `entrySet().stream().forEach(…)` is entirely unrelated to the `getUsers().forEach(…)` call within the `Consumer`. So there’s no problem of “multiple terminal operations” here.\r\n\r\nHowever, replacing the `Map` operation `forEach((key, value) -&gt; …` with an `entrySet() .stream() .forEach(entry -&gt; …)` rarely adds a benefit. So far, you’re not only made the code longer, you introduced the necessity to deal with a `Map.Entry` instead of just using `key` and `value`.\r\n\r\nBut you can simplify your operation by using a single `computeIfAbsent` instead of `containsKey`, `put`, and `get`:\r\n\r\n```java\r\nresultStorage.forEach((key, value) -&gt; key.getUsers().forEach(user -&gt;\r\n    temp.computeIfAbsent(user.getMeta(), meta -&gt;\r\n        key.withCheck1(masterAccountId).withCheck2(getClientTimezone()).withCheck3(meta))\r\n    .getStreams().add(value)));\r\n```\r\n","title":"Java Streams - Are you able to have multiple terminal operations (e.g. forEach)","body":"<p>The terminal operation of <code>entrySet().stream().forEach(…)</code> is entirely unrelated to the <code>getUsers().forEach(…)</code> call within the <code>Consumer</code>. So there’s no problem of “multiple terminal operations” here.</p>\n<p>However, replacing the <code>Map</code> operation <code>forEach((key, value) -&gt; …</code> with an <code>entrySet() .stream() .forEach(entry -&gt; …)</code> rarely adds a benefit. So far, you’re not only made the code longer, you introduced the necessity to deal with a <code>Map.Entry</code> instead of just using <code>key</code> and <code>value</code>.</p>\n<p>But you can simplify your operation by using a single <code>computeIfAbsent</code> instead of <code>containsKey</code>, <code>put</code>, and <code>get</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>resultStorage.forEach((key, value) -&gt; key.getUsers().forEach(user -&gt;\n    temp.computeIfAbsent(user.getMeta(), meta -&gt;\n        key.withCheck1(masterAccountId).withCheck2(getClientTimezone()).withCheck3(meta))\n    .getStreams().add(value)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664901421,"creation_date":1664901421,"answer_id":73951008,"question_id":73949769,"body_markdown":"Notes after the code.\r\n```java\r\nMap&lt;String, SomeConfig&gt; temp = resultStorage.keySet()\r\n                                            .stream()\r\n                                            .flatMap(key -&gt; key.getUsers()\r\n                                                               .stream()\r\n                                                               .map(user -&gt; new AbstractMap.SimpleEntry(user, key)))\r\n                                            .collect(Collectors.toMap(e -&gt; e.getKey().getMeta(),\r\n                                                                      e -&gt; e.getValue()\r\n                                                                            .withCheck1(masterAccountId)\r\n                                                                            .withCheck2(getClientTimezone())\r\n                                                                            .withCheck3(e.getKey().getMeta())\r\n```\r\n----------------\r\n```java\r\nresultStorage.keySet()\r\n```\r\nThis returns `Set&lt;SomeConfig&gt;`.\r\n```java\r\nstream()\r\n```\r\nThis returns a stream where every element in the stream is an instance of `SomeConfig`.\r\n```java\r\n.flatMap(key -&gt; key.getUsers()\r\n                   .stream()\r\n                   .map(user -&gt; new AbstractMap.SimpleEntry(user, key)))\r\n```\r\nMethod `flatMap()` must return a `Stream`. The above code returns a `Stream` where every element is an instance of [AbstractMap.SimpleEntry][1]. The &quot;entry&quot; key is the *user* and the entry value is the *key* from `resultStorage`.\r\n\r\nFinally I create a `Map&lt;String, SomeConfig&gt;` via [static] method `toMap` of class [Collectors][2].\r\n\r\nThe first argument to method `toMap` is the *key mapper*, i.e. a method that extracts the [map] key from the `AbstractMap.SimpleEntry`. In your case this is the value returned by method `getMeta()` of the *user* &amp;ndash; which is the key from `AbstractMap.SimpleEntry`, i.e. `e.getKey()` returns a *user* object.\r\n\r\nThe second argument to `toMap` is the *value mapper*. `e.getValue()` returns a `SomeConfig` object and the rest is your code, i.e. the `withCheck`s.\r\n\r\nThere is no way I can test the above code because not only did you not post a [minimal, reproducible example][3], you also did not post any sample data. Hence the above may be *way off* what you actually require.\r\n\r\nAlso note that the above code simply creates your `Map&lt;String, SomeConfig&gt; temp`. I could not understand the code in your question that processes that `Map` so I did not try to implement that part at all.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleEntry.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html\r\n  [3]: https://stackoverflow.com/help/minimal-reproducible-example","title":"Java Streams - Are you able to have multiple terminal operations (e.g. forEach)","body":"<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, SomeConfig&gt; temp = resultStorage.keySet()\n                                            .stream()\n                                            .flatMap(key -&gt; key.getUsers()\n                                                               .stream()\n                                                               .map(user -&gt; new AbstractMap.SimpleEntry(user, key)))\n                                            .collect(Collectors.toMap(e -&gt; e.getKey().getMeta(),\n                                                                      e -&gt; e.getValue()\n                                                                            .withCheck1(masterAccountId)\n                                                                            .withCheck2(getClientTimezone())\n                                                                            .withCheck3(e.getKey().getMeta())\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>resultStorage.keySet()\n</code></pre>\n<p>This returns <code>Set&lt;SomeConfig&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream()\n</code></pre>\n<p>This returns a stream where every element in the stream is an instance of <code>SomeConfig</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.flatMap(key -&gt; key.getUsers()\n                   .stream()\n                   .map(user -&gt; new AbstractMap.SimpleEntry(user, key)))\n</code></pre>\n<p>Method <code>flatMap()</code> must return a <code>Stream</code>. The above code returns a <code>Stream</code> where every element is an instance of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleEntry.html\" rel=\"nofollow noreferrer\">AbstractMap.SimpleEntry</a>. The &quot;entry&quot; key is the <em>user</em> and the entry value is the <em>key</em> from <code>resultStorage</code>.</p>\n<p>Finally I create a <code>Map&lt;String, SomeConfig&gt;</code> via [static] method <code>toMap</code> of class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors</a>.</p>\n<p>The first argument to method <code>toMap</code> is the <em>key mapper</em>, i.e. a method that extracts the [map] key from the <code>AbstractMap.SimpleEntry</code>. In your case this is the value returned by method <code>getMeta()</code> of the <em>user</em> – which is the key from <code>AbstractMap.SimpleEntry</code>, i.e. <code>e.getKey()</code> returns a <em>user</em> object.</p>\n<p>The second argument to <code>toMap</code> is the <em>value mapper</em>. <code>e.getValue()</code> returns a <code>SomeConfig</code> object and the rest is your code, i.e. the <code>withCheck</code>s.</p>\n<p>There is no way I can test the above code because not only did you not post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>, you also did not post any sample data. Hence the above may be <em>way off</em> what you actually require.</p>\n<p>Also note that the above code simply creates your <code>Map&lt;String, SomeConfig&gt; temp</code>. I could not understand the code in your question that processes that <code>Map</code> so I did not try to implement that part at all.</p>\n"}],"owner":{"account_id":26526499,"reputation":3,"user_id":20159415,"display_name":"TeemoSays234"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73950398,"answer_count":2,"score":0,"last_activity_date":1664901421,"creation_date":1664895032,"question_id":73949769,"body_markdown":"I&#39;m fairly new to Java and trying to learn how to use streams for easier code writing.  If I can code like this:\r\n\r\n```java\r\nMap&lt;String, SomeConfig&gt; temp = new HashMap&lt;&gt;();\r\n\r\nresultStorage.forEach((key, value) -&gt; key.getUsers().forEach(user -&gt; {\r\n    if (!temp.containsKey(user.getMeta())) {\r\n\r\n        SomeConfig emailConfiguration = key\r\n            .withCheck1(masterAccountId)\r\n            .withCheck2(getClientTimezone())\r\n            .withCheck3(user.getMeta());\r\n\r\n        temp.put(user.getMeta(), emailConfiguration);\r\n    }\r\n\r\n    temp.get(user. getMeta()).getStreams().add(value);\r\n\r\n}));\r\n\r\nreturn new ArrayList&lt;&gt;(temp.values());\r\n```\r\n\r\n`resultStorage` declaration:\r\n```java\r\nprivate Map&lt; SomeConfig, byte[]&gt; resultStorage = new ConcurrentHashMap&lt;&gt;();\r\n```\r\n`getStreams` is a getter on `SomeConfig` that returns a `List&lt;byte[]&gt;` as here:\r\n```java\r\n\tprivate List&lt;byte[]&gt; attachmentStreams = new ArrayList&lt;&gt;();\r\n\tpublic List&lt;byte[]&gt; getAttachmentStreams() {\r\n\t\treturn attachmentStreams;\r\n\t}\r\n```\r\n\r\nMy first attempt was something similar to this:\r\n\r\n```java\r\nresultStorage.entrySet().stream()\r\n    .forEach(entry -&gt; entry.getKey().getUsers().forEach(user -&gt; {\r\n\t\t\t\t\t\t\t\r\n    }));\r\n```\r\n\r\nAre we able to use a forEach within one of the streams terminating operation, forEach?  How would a stream benefit in this case as I saw documentation that it can significantly improve readability and performance of older pre-Java8 code?\r\n\r\n**Edit:**\r\n`resultStorage` holds a ConcurrentHashMap.  It will contain `Map&lt;SomeConfig, byte[]&gt;` for email and attachments. Using another HashMap `temp` that is initially empty - we analyze `resultStorage` , see if `temp` contains a specific email key, and then `put` or `add` based on the existence of a user&#39;s email","title":"Java Streams - Are you able to have multiple terminal operations (e.g. forEach)","body":"<p>I'm fairly new to Java and trying to learn how to use streams for easier code writing.  If I can code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, SomeConfig&gt; temp = new HashMap&lt;&gt;();\n\nresultStorage.forEach((key, value) -&gt; key.getUsers().forEach(user -&gt; {\n    if (!temp.containsKey(user.getMeta())) {\n\n        SomeConfig emailConfiguration = key\n            .withCheck1(masterAccountId)\n            .withCheck2(getClientTimezone())\n            .withCheck3(user.getMeta());\n\n        temp.put(user.getMeta(), emailConfiguration);\n    }\n\n    temp.get(user. getMeta()).getStreams().add(value);\n\n}));\n\nreturn new ArrayList&lt;&gt;(temp.values());\n</code></pre>\n<p><code>resultStorage</code> declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt; SomeConfig, byte[]&gt; resultStorage = new ConcurrentHashMap&lt;&gt;();\n</code></pre>\n<p><code>getStreams</code> is a getter on <code>SomeConfig</code> that returns a <code>List&lt;byte[]&gt;</code> as here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private List&lt;byte[]&gt; attachmentStreams = new ArrayList&lt;&gt;();\n    public List&lt;byte[]&gt; getAttachmentStreams() {\n        return attachmentStreams;\n    }\n</code></pre>\n<p>My first attempt was something similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>resultStorage.entrySet().stream()\n    .forEach(entry -&gt; entry.getKey().getUsers().forEach(user -&gt; {\n                            \n    }));\n</code></pre>\n<p>Are we able to use a forEach within one of the streams terminating operation, forEach?  How would a stream benefit in this case as I saw documentation that it can significantly improve readability and performance of older pre-Java8 code?</p>\n<p><strong>Edit:</strong>\n<code>resultStorage</code> holds a ConcurrentHashMap.  It will contain <code>Map&lt;SomeConfig, byte[]&gt;</code> for email and attachments. Using another HashMap <code>temp</code> that is initially empty - we analyze <code>resultStorage</code> , see if <code>temp</code> contains a specific email key, and then <code>put</code> or <code>add</code> based on the existence of a user's email</p>\n"},{"tags":["java","gradle","cyclic-dependency"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1569908027,"post_id":58178381,"comment_id":102737366,"body_markdown":"You might want to look at [this answer](https://stackoverflow.com/questions/51891074/avoid-circular-dependencies-in-gradle-build/51891870#51891870).","body":"You might want to look at <a href=\"https://stackoverflow.com/questions/51891074/avoid-circular-dependencies-in-gradle-build/51891870#51891870\">this answer</a>."},{"owner":{"account_id":10693974,"reputation":627,"user_id":7871852,"display_name":"Shehan Dhaleesha"},"score":0,"creation_date":1569909014,"post_id":58178381,"comment_id":102737655,"body_markdown":"When I configure the gradle using that, I can&#39;t go to the project files. And the content of the source directory is shown as empty. But it is not empty.","body":"When I configure the gradle using that, I can&#39;t go to the project files. And the content of the source directory is shown as empty. But it is not empty."}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1664901377,"creation_date":1569939188,"answer_id":58186686,"question_id":58178381,"body_markdown":"# Foreword\r\n\r\nThere is no magic that will let you compile your project when there&#39;s a cycle in your dependency graph. You&#39;ll need to do some refactoring to eliminate the cycle.\r\n\r\nThe way you deal with circular dependencies is that you split the modules and repeat that until the cycle is gone (or use the alternative given below).\r\n\r\n# Algorithm\r\n\r\n0) Starting point:\r\n\r\n    ```\r\n    A --&gt; B --&gt; C\r\n\t^           |\r\n    |           |\r\n    +-----------+\r\n    ```\r\n    \r\n1) Start with extracting the parts of `A` that are used by `C` to a separate module (let&#39;s call it `D`):\r\n\r\n    ```\r\n    A --&gt; B --&gt; C\r\n    |           |\r\n    |           |\r\n    +---&gt; D &lt;---+\r\n    ```\r\n\r\n    If `D` does not depend on any other module you&#39;re done. Otherwise continue cutting the cords.\r\n\r\n2) Let&#39;s say D stil has a B dependency:\r\n\r\n    ```\r\n    A --&gt; B --&gt; C\r\n    |     ^     |\r\n    |     |     |\r\n    +---&gt; D &lt;---+\r\n    ```\r\n\r\n    You need to analogically extract common parts from `B` (to let&#39;s call it `E`):\r\n\r\n    ```\r\n    A --&gt; B --&gt; C\r\n    |     |     |\r\n    |     v     |\r\n    |     E     |\r\n    |     ^     |\r\n    |     |     |\r\n    +---&gt; D &lt;---+\r\n    ```\r\n\r\n    Just like before - repeat if `E` still has problematic dependencies.\r\n\r\n3) Let&#39;s say E stil depends on C:\r\n\r\n    ```\r\n    A --&gt; B --&gt; C --+\r\n    |     |     ^   |\r\n    |     v     |   |\r\n    |     E ----+   |\r\n    |     ^         |\r\n    |     |         |\r\n    +---&gt; D &lt;-------+\r\n    ```\r\n\r\n    What do we do? Obvioulsy split `C` (by extracting `F`):\r\n\r\n    ```\r\n    A --&gt; B --&gt; C --+\r\n    |     |     |   |\r\n    |     v     v   |\r\n    |     E --&gt; F   |\r\n    |     ^         |\r\n    |     |         |\r\n    +---&gt; D &lt;-------+\r\n    ```\r\n\r\n4) Continue the loop until a point is reached where the newly introduced module has no more dependecies in the module graph.\r\n\r\n    For example in point 3) we&#39;re done if we assume that `F` is dependencyless. This means that the problematic part of `A` used by `C` has been extracted to the `D ─► E ─► F` subgraph.\r\n\r\n# Alternative\r\n\r\nNote that it might not be that easy if at all doable within a sane budget. So in some contexts it might be better to fall back to the less preferable alternative: duplicating the code in `A` which `C` relies on.","title":"Resolve circular dependency in gradle","body":"<h1>Foreword</h1>\n<p>There is no magic that will let you compile your project when there's a cycle in your dependency graph. You'll need to do some refactoring to eliminate the cycle.</p>\n<p>The way you deal with circular dependencies is that you split the modules and repeat that until the cycle is gone (or use the alternative given below).</p>\n<h1>Algorithm</h1>\n<ol start=\"0\">\n<li><p>Starting point:</p>\n<pre><code>A --&gt; B --&gt; C\n^           |\n|           |\n+-----------+\n</code></pre>\n</li>\n<li><p>Start with extracting the parts of <code>A</code> that are used by <code>C</code> to a separate module (let's call it <code>D</code>):</p>\n<pre><code>A --&gt; B --&gt; C\n|           |\n|           |\n+---&gt; D &lt;---+\n</code></pre>\n<p>If <code>D</code> does not depend on any other module you're done. Otherwise continue cutting the cords.</p>\n</li>\n<li><p>Let's say D stil has a B dependency:</p>\n<pre><code>A --&gt; B --&gt; C\n|     ^     |\n|     |     |\n+---&gt; D &lt;---+\n</code></pre>\n<p>You need to analogically extract common parts from <code>B</code> (to let's call it <code>E</code>):</p>\n<pre><code>A --&gt; B --&gt; C\n|     |     |\n|     v     |\n|     E     |\n|     ^     |\n|     |     |\n+---&gt; D &lt;---+\n</code></pre>\n<p>Just like before - repeat if <code>E</code> still has problematic dependencies.</p>\n</li>\n<li><p>Let's say E stil depends on C:</p>\n<pre><code>A --&gt; B --&gt; C --+\n|     |     ^   |\n|     v     |   |\n|     E ----+   |\n|     ^         |\n|     |         |\n+---&gt; D &lt;-------+\n</code></pre>\n<p>What do we do? Obvioulsy split <code>C</code> (by extracting <code>F</code>):</p>\n<pre><code>A --&gt; B --&gt; C --+\n|     |     |   |\n|     v     v   |\n|     E --&gt; F   |\n|     ^         |\n|     |         |\n+---&gt; D &lt;-------+\n</code></pre>\n</li>\n<li><p>Continue the loop until a point is reached where the newly introduced module has no more dependecies in the module graph.</p>\n<p>For example in point 3) we're done if we assume that <code>F</code> is dependencyless. This means that the problematic part of <code>A</code> used by <code>C</code> has been extracted to the <code>D ─► E ─► F</code> subgraph.</p>\n</li>\n</ol>\n<h1>Alternative</h1>\n<p>Note that it might not be that easy if at all doable within a sane budget. So in some contexts it might be better to fall back to the less preferable alternative: duplicating the code in <code>A</code> which <code>C</code> relies on.</p>\n"}],"owner":{"account_id":10693974,"reputation":627,"user_id":7871852,"display_name":"Shehan Dhaleesha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4421,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58186686,"answer_count":1,"score":6,"last_activity_date":1664901377,"creation_date":1569906626,"question_id":58178381,"body_markdown":"I recently started developing a java project which has some sub projects within it. All of them are gradle. So let&#39;s say there are two projects A and B which is already implemented. And I&#39;m going to introduce another graldle project C. And the dependencies are like this.\r\n\r\n - A has dependencies on B\r\n - B has dependencies on C\r\n - C has dependencies on A\r\n\r\nSo I need to implement this project C without cyclic dependencies error as it is given when I tried to build the project with gradle. I saw some answers that Interface is a solution for this. But in my case project A and B are large projects and I can&#39;t event think how to introduce a Interface for them. Only thing I can do is introducing interfaces for project C. So is there a way to solve my problem with these cases? If there isn&#39;t what is the way to have such an one? And please note that these A,B,C projects are individual projects so those can&#39;t combine as one. ","title":"Resolve circular dependency in gradle","body":"<p>I recently started developing a java project which has some sub projects within it. All of them are gradle. So let's say there are two projects A and B which is already implemented. And I'm going to introduce another graldle project C. And the dependencies are like this.</p>\n\n<ul>\n<li>A has dependencies on B</li>\n<li>B has dependencies on C</li>\n<li>C has dependencies on A</li>\n</ul>\n\n<p>So I need to implement this project C without cyclic dependencies error as it is given when I tried to build the project with gradle. I saw some answers that Interface is a solution for this. But in my case project A and B are large projects and I can't event think how to introduce a Interface for them. Only thing I can do is introducing interfaces for project C. So is there a way to solve my problem with these cases? If there isn't what is the way to have such an one? And please note that these A,B,C projects are individual projects so those can't combine as one. </p>\n"},{"tags":["java","hibernate","h2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664866119,"post_id":73943347,"comment_id":130562123,"body_markdown":"Which DBMS are you using? The error suggests H2, is that what you expect? If so, which version of H2 are you using?","body":"Which DBMS are you using? The error suggests H2, is that what you expect? If so, which version of H2 are you using?"},{"owner":{"account_id":7261263,"reputation":300,"user_id":5537902,"accept_rate":83,"display_name":"781850685"},"score":0,"creation_date":1664897207,"post_id":73943347,"comment_id":130572589,"body_markdown":"I&#39;m using com.h2database:h2:2.1.210 @MarkRotteveel","body":"I&#39;m using com.h2database:h2:2.1.210 @MarkRotteveel"},{"owner":{"account_id":7261263,"reputation":300,"user_id":5537902,"accept_rate":83,"display_name":"781850685"},"score":0,"creation_date":1664897438,"post_id":73943347,"comment_id":130572662,"body_markdown":"I think I am able to insert and read records with my model definition, but when I use @DataJpaTest in my integration test I see this error","body":"I think I am able to insert and read records with my model definition, but when I use @DataJpaTest in my integration test I see this error"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664901136,"creation_date":1664901136,"answer_id":73950943,"question_id":73943347,"body_markdown":"With `@DataJpaTest` Spring will instruct Hibernate to create the schema and that will use the information that you provided in your annotations, but it seems this is not legal for H2.\r\n\r\nTry using the following instead:\r\n\r\n```\r\n@Column(columnDefinition = &quot;text array&quot;)\r\n```","title":"JdbcSQLSyntaxErrorException when using text array from hibernate types","body":"<p>With <code>@DataJpaTest</code> Spring will instruct Hibernate to create the schema and that will use the information that you provided in your annotations, but it seems this is not legal for H2.</p>\n<p>Try using the following instead:</p>\n<pre><code>@Column(columnDefinition = &quot;text array&quot;)\n</code></pre>\n"}],"owner":{"account_id":7261263,"reputation":300,"user_id":5537902,"accept_rate":83,"display_name":"781850685"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664901136,"creation_date":1664860218,"question_id":73943347,"body_markdown":"I&#39;m using this [hibernate-types][1] that allows hibernate to translate SQL layer data types into java classes in my springboot application, here I&#39;m trying to add a text array field called user array.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_update&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @RequiredArgsConstructor\r\n    @TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\r\n    public class UserUpdate {\r\n    \r\n      @Id @NonNull private String userKey;\r\n    \r\n      @Column @NonNull private String userName;\r\n    \r\n      @Column @NonNull private Instant updatedAt;\r\n    \r\n      @Type(type = &quot;list-array&quot;)\r\n      @Column(columnDefinition = &quot;text[]&quot;)\r\n      @NonNull\r\n      private List&lt;String&gt; userArray;\r\n    }\r\n\r\nI can insert data into the table, but now I want to add a test and I see the following error message from the table.sql\r\n\r\n    CREATE TABLE IF NOT EXISTS user_update (\r\n        user_key VARCHAR(255) NOT NULL,\r\n        user_name VARCHAR(255) NOT NULL,\r\n        updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL,\r\n        user_array TEXT ARRAY NOT NULL,\r\n        PRIMARY KEY(org_key)\r\n    );\r\n\r\nmaybe it is because the test I&#39;m running uses `@DataJpaTest` and for some reason it can not recognize the new text[] field ?\r\n\r\n    Error executing DDL &quot;create table user_update (user_key varchar(255) not null, user_name varchar(255), user_array text[], updated_at timestamp, primary key (user_key))&quot; via JDBC Statement\r\n    \r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;create table user_update (user_key varchar(255) not null, user_name varchar(255), user_array text[*][], updated_at timestamp, primary key (user_key))&quot;; expected &quot;(, ARRAY, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, DEFAULT, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )&quot;; SQL statement:\r\n    \r\n      \r\n\r\n\r\n[1]: https://github.com/vladmihalcea/hibernate-types\r\n\r\n\r\n","title":"JdbcSQLSyntaxErrorException when using text array from hibernate types","body":"<p>I'm using this <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">hibernate-types</a> that allows hibernate to translate SQL layer data types into java classes in my springboot application, here I'm trying to add a text array field called user array.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_update&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@RequiredArgsConstructor\n@TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\npublic class UserUpdate {\n\n  @Id @NonNull private String userKey;\n\n  @Column @NonNull private String userName;\n\n  @Column @NonNull private Instant updatedAt;\n\n  @Type(type = &quot;list-array&quot;)\n  @Column(columnDefinition = &quot;text[]&quot;)\n  @NonNull\n  private List&lt;String&gt; userArray;\n}\n</code></pre>\n<p>I can insert data into the table, but now I want to add a test and I see the following error message from the table.sql</p>\n<pre><code>CREATE TABLE IF NOT EXISTS user_update (\n    user_key VARCHAR(255) NOT NULL,\n    user_name VARCHAR(255) NOT NULL,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP NOT NULL,\n    user_array TEXT ARRAY NOT NULL,\n    PRIMARY KEY(org_key)\n);\n</code></pre>\n<p>maybe it is because the test I'm running uses <code>@DataJpaTest</code> and for some reason it can not recognize the new text[] field ?</p>\n<pre><code>Error executing DDL &quot;create table user_update (user_key varchar(255) not null, user_name varchar(255), user_array text[], updated_at timestamp, primary key (user_key))&quot; via JDBC Statement\n\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;create table user_update (user_key varchar(255) not null, user_name varchar(255), user_array text[*][], updated_at timestamp, primary key (user_key))&quot;; expected &quot;(, ARRAY, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, DEFAULT, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )&quot;; SQL statement:\n\n  \n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1664901149,"post_id":73950904,"comment_id":130573938,"body_markdown":"Maybe I&#39;m not understanding, but what about A-F-C?","body":"Maybe I&#39;m not understanding, but what about A-F-C?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1664901585,"post_id":73950904,"comment_id":130574080,"body_markdown":"Have a look: https://stackoverflow.com/questions/9535819/find-all-paths-between-two-graph-nodes","body":"Have a look: <a href=\"https://stackoverflow.com/questions/9535819/find-all-paths-between-two-graph-nodes\" title=\"find all paths between two graph nodes\">stackoverflow.com/questions/9535819/&hellip;</a>"}],"owner":{"account_id":12540755,"reputation":11,"user_id":13116990,"display_name":"obbiondo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664901866,"answer_count":0,"score":1,"last_activity_date":1664900912,"creation_date":1664900912,"question_id":73950904,"body_markdown":"Given a list of couple of character \r\n\r\n    [&quot;A-B&quot;, &quot;C-D&quot;, &quot;E-F&quot;, &quot;B-C&quot;, &quot;A-E&quot;, &quot;A-F&quot;, &quot;F-C&quot;]\r\n\r\nHow do I find all the direct links between two character?\r\nFor instance, let&#39;s say that the input of the algorithm is the list above and i want to find the connection between &quot;A-C&quot;, the desired output is:\r\n\r\n    [&quot;A-B-C&quot;, &quot;A-E-F-C&quot;]\r\n","title":"Get all possible links between two strings","body":"<p>Given a list of couple of character</p>\n<pre><code>[&quot;A-B&quot;, &quot;C-D&quot;, &quot;E-F&quot;, &quot;B-C&quot;, &quot;A-E&quot;, &quot;A-F&quot;, &quot;F-C&quot;]\n</code></pre>\n<p>How do I find all the direct links between two character?\nFor instance, let's say that the input of the algorithm is the list above and i want to find the connection between &quot;A-C&quot;, the desired output is:</p>\n<pre><code>[&quot;A-B-C&quot;, &quot;A-E-F-C&quot;]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","integration-testing","spring-boot-test"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664902111,"post_id":73950887,"comment_id":130574238,"body_markdown":"&quot;integration&quot; always comes with a &quot;scope&quot;...so, when you want to test the integration `Web -&gt; Controller -&gt; Interface`, then mocking at that place is &quot;ok&quot;/&quot;must&quot;. (and you can still call it integration test) but when you want to &quot;integration test&quot; all of `Web -&gt; ... -&gt; DB`, then you should not use mocks, but real instances.","body":"&quot;integration&quot; always comes with a &quot;scope&quot;...so, when you want to test the integration <code>Web -&gt; Controller -&gt; Interface</code>, then mocking at that place is &quot;ok&quot;/&quot;must&quot;. (and you can still call it integration test) but when you want to &quot;integration test&quot; all of <code>Web -&gt; ... -&gt; DB</code>, then you should not use mocks, but real instances."},{"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"score":0,"creation_date":1664903283,"post_id":73950887,"comment_id":130574646,"body_markdown":"So if I dont want to test evrything `Web -&gt; ... -&gt; DB`, but only the controller and its endpoints, I can just verify (`verify(interface).method()`) if the endpoint calls the right method from interface?","body":"So if I dont want to test evrything <code>Web -&gt; ... -&gt; DB</code>, but only the controller and its endpoints, I can just verify (<code>verify(interface).method()</code>) if the endpoint calls the right method from interface?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664904123,"post_id":73950887,"comment_id":130574944,"body_markdown":"Exactly (just a matter of perspective/scope) but since it is easy&amp;&quot;cheap&quot;(er than mocking!?), Why not `...-&gt; DB`?;)","body":"Exactly (just a matter of perspective/scope) but since it is easy&amp;&quot;cheap&quot;(er than mocking!?), Why not <code>...-&gt; DB</code>?;)"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1664906753,"post_id":73950887,"comment_id":130575696,"body_markdown":"I had use cases where I had to connect with external third party systems over vpn to execute full api endpoint. In this case, I do not wish to fail my build due to reasons like socket timeout, also these integrations can go down anytime. So there I used mocks\nelse I agree with @xerx593, scope of test matters.","body":"I had use cases where I had to connect with external third party systems over vpn to execute full api endpoint. In this case, I do not wish to fail my build due to reasons like socket timeout, also these integrations can go down anytime. So there I used mocks else I agree with @xerx593, scope of test matters."},{"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"score":0,"creation_date":1664909363,"post_id":73950887,"comment_id":130576334,"body_markdown":"Since my app is not using any 3rd party systems or anything and its just a few endpoints, I will just stick with the idea of verifying if the endpoint calls the right method in the interface. Thank you very much for the answer :)","body":"Since my app is not using any 3rd party systems or anything and its just a few endpoints, I will just stick with the idea of verifying if the endpoint calls the right method in the interface. Thank you very much for the answer :)"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664900832,"creation_date":1664900832,"question_id":73950887,"body_markdown":"I&#39;m currently learning unit tests and integration tests. In my unit tests I have been using Mockito for mocking, such as when(something).thenReturn(something) etc. I used this approach to test the business logic of the application.\r\n\r\nNow I am trying to create integration tests to test all the endpoints of my application. The layers of my application are as follows: Controller -&gt; Interface -&gt; Service -&gt; Repository.\r\n\r\nWhen I tried to create an integration test for the POST method that creates a user, the request should have returned the created user, but returned an empty string. The test looked like this:\r\n\r\n    @Test\r\n      void create() throws Exception {\r\n        UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\r\n    \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String text = objectMapper.writeValueAsString(user);\r\n    \r\n        this.mockMvc\r\n            .perform(\r\n                MockMvcRequestBuilders.post(&quot;/users&quot;).contentType(&quot;application/json&quot;).content(text))\r\n            .andExpect(MockMvcResultMatchers.status().isOk())\r\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.id&quot;).value(1))\r\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.name&quot;).value(&quot;Steve&quot;))\r\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.email&quot;).value(&quot;steve@mail.com&quot;))\r\n            .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.password&quot;).value(&quot;password&quot;));\r\n    }\r\n\r\nI later found out that I need to add a line of code to mock the userInterface and what it should return.\r\n\r\n    Mockito.when(userInterface.create(Mockito.any())).thenReturn(user);\r\n\r\nAfter adding it, the method started returning the created user and the test passed. After reading a couple of articles, I came across an approach that says an **integration test should not contain mocking.**\r\n\r\n**So my question is:** Is this approach I have taken correct and can it be considered a correct integration test or do I need to get rid of the mocking of userInterface? In case I have to remove the mocking, how can I ensure that the test passes and returns not just an empty string, but an actually created user?","title":"Is it good approach to use Mocking for integration tests?","body":"<p>I'm currently learning unit tests and integration tests. In my unit tests I have been using Mockito for mocking, such as when(something).thenReturn(something) etc. I used this approach to test the business logic of the application.</p>\n<p>Now I am trying to create integration tests to test all the endpoints of my application. The layers of my application are as follows: Controller -&gt; Interface -&gt; Service -&gt; Repository.</p>\n<p>When I tried to create an integration test for the POST method that creates a user, the request should have returned the created user, but returned an empty string. The test looked like this:</p>\n<pre><code>@Test\n  void create() throws Exception {\n    UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String text = objectMapper.writeValueAsString(user);\n\n    this.mockMvc\n        .perform(\n            MockMvcRequestBuilders.post(&quot;/users&quot;).contentType(&quot;application/json&quot;).content(text))\n        .andExpect(MockMvcResultMatchers.status().isOk())\n        .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.id&quot;).value(1))\n        .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.name&quot;).value(&quot;Steve&quot;))\n        .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.email&quot;).value(&quot;steve@mail.com&quot;))\n        .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.password&quot;).value(&quot;password&quot;));\n}\n</code></pre>\n<p>I later found out that I need to add a line of code to mock the userInterface and what it should return.</p>\n<pre><code>Mockito.when(userInterface.create(Mockito.any())).thenReturn(user);\n</code></pre>\n<p>After adding it, the method started returning the created user and the test passed. After reading a couple of articles, I came across an approach that says an <strong>integration test should not contain mocking.</strong></p>\n<p><strong>So my question is:</strong> Is this approach I have taken correct and can it be considered a correct integration test or do I need to get rid of the mocking of userInterface? In case I have to remove the mocking, how can I ensure that the test passes and returns not just an empty string, but an actually created user?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","netflix-eureka"],"comments":[{"owner":{"account_id":308422,"reputation":1873,"user_id":620288,"accept_rate":100,"display_name":"Jeff"},"score":2,"creation_date":1479711324,"post_id":40705943,"comment_id":68656254,"body_markdown":"`eureka.client.enabled: false` causes the issue it seems, you can remove it for a workaround.","body":"<code>eureka.client.enabled: false</code> causes the issue it seems, you can remove it for a workaround."},{"owner":{"account_id":308422,"reputation":1873,"user_id":620288,"accept_rate":100,"display_name":"Jeff"},"score":2,"creation_date":1479712138,"post_id":40705943,"comment_id":68656633,"body_markdown":"Raised as an issue: https://github.com/spring-cloud/spring-cloud-netflix/issues/1484","body":"Raised as an issue: <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/1484\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-netflix/issues/1484</a>"},{"owner":{"account_id":2136382,"reputation":317,"user_id":1896054,"accept_rate":75,"display_name":"paoloaq"},"score":0,"creation_date":1479719780,"post_id":40705943,"comment_id":68660169,"body_markdown":"Removing `eureka.client.enabled: false` another error is raised: \n`Parameter 0 of method traceFilterRegistration in org.springframework.cloud.netflix.eureka.server.EurekaServerConfiguration required a bean of type &#39;javax.servlet.Filter&#39; that could not be found.\n- Bean method &#39;resourceUrlEncodingFilter&#39; in &#39;FreeMarkerAutoConfiguration.FreeMarkerWebConfiguration&#39; not loaded because @ConditionalOnEnabledResourceChain did not find class org.webjars.WebJarAssetLocator\nAction: Consider revisiting the conditions above or defining a bean of type &#39;javax.servlet.Filter&#39; in your configuration.`","body":"Removing <code>eureka.client.enabled: false</code> another error is raised:  <code>Parameter 0 of method traceFilterRegistration in org.springframework.cloud.netflix.eureka.server.EurekaServer&zwnj;&#8203;Configuration required a bean of type &#39;javax.servlet.Filter&#39; that could not be found. - Bean method &#39;resourceUrlEncodingFilter&#39; in &#39;FreeMarkerAutoConfiguration.FreeMarkerWebConfiguration&#39; not loaded because @ConditionalOnEnabledResourceChain did not find class org.webjars.WebJarAssetLocator Action: Consider revisiting the conditions above or defining a bean of type &#39;javax.servlet.Filter&#39; in your configuration.</code>"},{"owner":{"account_id":8555322,"reputation":5065,"user_id":6446898,"accept_rate":77,"display_name":"Jeterson Miranda Gomes"},"score":1,"creation_date":1627416074,"post_id":40705943,"comment_id":121149852,"body_markdown":"any solution for this problem? The solution above not works for me","body":"any solution for this problem? The solution above not works for me"}],"answers":[{"comments":[{"owner":{"account_id":3163073,"reputation":363,"user_id":2673637,"accept_rate":80,"display_name":"Shrirang Kumbhar"},"score":2,"creation_date":1590135455,"post_id":47672272,"comment_id":109570659,"body_markdown":"I am facing same issue. I dont have eureka.client.enabled in application.prop","body":"I am facing same issue. I dont have eureka.client.enabled in application.prop"},{"owner":{"account_id":8555322,"reputation":5065,"user_id":6446898,"accept_rate":77,"display_name":"Jeterson Miranda Gomes"},"score":1,"creation_date":1627416012,"post_id":47672272,"comment_id":121149829,"body_markdown":"i have same problem without eureka.client.enable","body":"i have same problem without eureka.client.enable"}],"tags":[],"owner":{"account_id":12327441,"reputation":59,"user_id":8994550,"display_name":"Mayur Vaid Mehta"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1512558123,"creation_date":1512556872,"answer_id":47672272,"question_id":40705943,"body_markdown":"Remove `eureka.client.enabled=false` from the configuration. Then it will start the server ","title":"Spring Boot 1.4.2.RELEASE with Eureka Server - Exception: org.springframework.beans.factory.NoSuchBeanDefinitionException","body":"<p>Remove <code>eureka.client.enabled=false</code> from the configuration. Then it will start the server </p>\n"},{"tags":[],"owner":{"account_id":14358321,"reputation":465,"user_id":10371480,"display_name":"Niraj Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538681961,"creation_date":1538681961,"answer_id":52653998,"question_id":40705943,"body_markdown":"In my case i have to use spring cloud version &quot;Edgware.SR4&quot; along with compatible parent pom version like &lt;version&gt;1.5.16.RELEASE&lt;/version&gt; to fix this.It seems to be some issue with cloud version and its associated dependencies.  ","title":"Spring Boot 1.4.2.RELEASE with Eureka Server - Exception: org.springframework.beans.factory.NoSuchBeanDefinitionException","body":"<p>In my case i have to use spring cloud version \"Edgware.SR4\" along with compatible parent pom version like 1.5.16.RELEASE to fix this.It seems to be some issue with cloud version and its associated dependencies.  </p>\n"},{"tags":[],"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629107757,"creation_date":1629107757,"answer_id":68800799,"question_id":40705943,"body_markdown":"In my case, there was a **spring boot and spring cloud version mismatch**. Use https://spring.io/projects/spring-cloud to check right version.","title":"Spring Boot 1.4.2.RELEASE with Eureka Server - Exception: org.springframework.beans.factory.NoSuchBeanDefinitionException","body":"<p>In my case, there was a <strong>spring boot and spring cloud version mismatch</strong>. Use <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud</a> to check right version.</p>\n"},{"tags":[],"owner":{"account_id":16499774,"reputation":11,"user_id":11921376,"display_name":"Shastri Chavan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664900670,"creation_date":1664429143,"answer_id":73890648,"question_id":40705943,"body_markdown":"instead of `eureka.client.enabled=false` you can write `eureka.client.register-with-eureka: false`\r\n\r\nor remove `eureka.client.enabled=false` from configuration file.","title":"Spring Boot 1.4.2.RELEASE with Eureka Server - Exception: org.springframework.beans.factory.NoSuchBeanDefinitionException","body":"<p>instead of <code>eureka.client.enabled=false</code> you can write <code>eureka.client.register-with-eureka: false</code></p>\n<p>or remove <code>eureka.client.enabled=false</code> from configuration file.</p>\n"}],"owner":{"account_id":2136382,"reputation":317,"user_id":1896054,"accept_rate":75,"display_name":"paoloaq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7449,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1664900670,"creation_date":1479656481,"question_id":40705943,"body_markdown":"I am getting the following error while trying to run Spring Boot 1.4.2.RELEASE with Eureka server:\r\n\r\n\t2016-11-20 16:25:59.306  INFO 14263 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2177849e: startup date [Sun Nov 20 16:25:59 CET 2016]; root of context hierarchy\r\n\t2016-11-20 16:25:59.581  INFO 14263 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n\t2016-11-20 16:25:59.606  INFO 14263 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;configurationPropertiesRebinderAutoConfiguration&#39; of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fc4b31a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\n\t  .   ____          _            __ _ _\r\n\t /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t =========|_|==============|___/=/_/_/_/\r\n\t :: Spring Boot ::        (v1.4.2.RELEASE)\r\n\r\n\t2016-11-20 16:26:04.988  INFO 14263 --- [           main] i.v.p.s.EurekaServerApplication          : No active profile set, falling back to default profiles: default\r\n\t2016-11-20 16:26:05.005  INFO 14263 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e14c16d: startup date [Sun Nov 20 16:26:05 CET 2016]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@2177849e\r\n\t2016-11-20 16:26:05.589  WARN 14263 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition &#39;refreshScope&#39; since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as &#39;static&#39;.\r\n\t2016-11-20 16:26:05.774  INFO 14263 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=05587591-c1ba-31c3-b56f-8b79a2e1951f\r\n\t2016-11-20 16:26:05.787  INFO 14263 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n\t2016-11-20 16:26:05.857  INFO 14263 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fc4b31a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\t2016-11-20 16:26:06.180  INFO 14263 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8761 (http)\r\n\t2016-11-20 16:26:06.197  INFO 14263 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n\t2016-11-20 16:26:06.198  INFO 14263 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.6\r\n\t2016-11-20 16:26:06.326  INFO 14263 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n\t2016-11-20 16:26:06.327  INFO 14263 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1322 ms\r\n\t2016-11-20 16:26:06.347 ERROR 14263 --- [ost-startStop-1] o.s.b.c.embedded.tomcat.TomcatStarter    : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;org.springframework.cloud.netflix.eureka.server.EurekaServerConfiguration&#39;: Unsatisfied dependency expressed through field &#39;applicationInfoManager&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.netflix.appinfo.ApplicationInfoManager&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\t2016-11-20 16:26:06.375  WARN 14263 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n\t2016-11-20 16:26:06.483 ERROR 14263 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n\t***************************\r\n\tAPPLICATION FAILED TO START\r\n\t***************************\r\n\r\n\tDescription:\r\n\r\n\tField applicationInfoManager in org.springframework.cloud.netflix.eureka.server.EurekaServerConfiguration required a bean of type &#39;com.netflix.appinfo.ApplicationInfoManager&#39; that could not be found.\r\n\r\n\r\n\tAction:\r\n\r\n\tConsider defining a bean of type &#39;com.netflix.appinfo.ApplicationInfoManager&#39; in your configuration.\r\n\r\n----------\r\n\r\nHere is the **pom file**:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;my.test.springMicroservices&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;EurekaServer&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t\t&lt;name&gt;EurekaServer&lt;/name&gt;\r\n\t\t&lt;description&gt;Eureka discovery server example&lt;/description&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;dependencyManagement&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;Camden.SR2&lt;/version&gt;\r\n\t\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/dependencyManagement&gt;\r\n\t\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n----------\r\n\r\nThe **application.yml**:\r\n\r\n\tserver:\r\n\t  port: 8761\r\n\tspring:\r\n\t  application:\r\n\t    name: eureka-server1\r\n\teureka:\r\n\t  client:\r\n\t    enabled: false\r\n\t    fetch-registry: false\r\n\r\n----------\r\n\r\nMy **Spring boot application class**:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class EurekaServerApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EurekaServerApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n----------\r\n\r\nThis is my environment: \r\n\r\n - MacOS Sierra 10.12.1\r\n - Spring Tool Suite - Version: 3.8.2.RELEASE (Build Id: 201610040743 - Platform: Eclipse Neon.1 (4.6.1))\r\n\r\n----------\r\n\r\nDo I missed something?\r\n\r\nThanks in advance","title":"Spring Boot 1.4.2.RELEASE with Eureka Server - Exception: org.springframework.beans.factory.NoSuchBeanDefinitionException","body":"<p>I am getting the following error while trying to run Spring Boot 1.4.2.RELEASE with Eureka server:</p>\n\n<pre><code>2016-11-20 16:25:59.306  INFO 14263 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@2177849e: startup date [Sun Nov 20 16:25:59 CET 2016]; root of context hierarchy\n2016-11-20 16:25:59.581  INFO 14263 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n2016-11-20 16:25:59.606  INFO 14263 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'configurationPropertiesRebinderAutoConfiguration' of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fc4b31a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.4.2.RELEASE)\n\n2016-11-20 16:26:04.988  INFO 14263 --- [           main] i.v.p.s.EurekaServerApplication          : No active profile set, falling back to default profiles: default\n2016-11-20 16:26:05.005  INFO 14263 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3e14c16d: startup date [Sun Nov 20 16:26:05 CET 2016]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@2177849e\n2016-11-20 16:26:05.589  WARN 14263 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'refreshScope' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.\n2016-11-20 16:26:05.774  INFO 14263 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=05587591-c1ba-31c3-b56f-8b79a2e1951f\n2016-11-20 16:26:05.787  INFO 14263 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n2016-11-20 16:26:05.857  INFO 14263 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$fc4b31a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2016-11-20 16:26:06.180  INFO 14263 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8761 (http)\n2016-11-20 16:26:06.197  INFO 14263 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2016-11-20 16:26:06.198  INFO 14263 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.6\n2016-11-20 16:26:06.326  INFO 14263 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2016-11-20 16:26:06.327  INFO 14263 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1322 ms\n2016-11-20 16:26:06.347 ERROR 14263 --- [ost-startStop-1] o.s.b.c.embedded.tomcat.TomcatStarter    : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'org.springframework.cloud.netflix.eureka.server.EurekaServerConfiguration': Unsatisfied dependency expressed through field 'applicationInfoManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.netflix.appinfo.ApplicationInfoManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2016-11-20 16:26:06.375  WARN 14263 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n2016-11-20 16:26:06.483 ERROR 14263 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField applicationInfoManager in org.springframework.cloud.netflix.eureka.server.EurekaServerConfiguration required a bean of type 'com.netflix.appinfo.ApplicationInfoManager' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.netflix.appinfo.ApplicationInfoManager' in your configuration.\n</code></pre>\n\n<hr>\n\n<p>Here is the <strong>pom file</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;my.test.springMicroservices&lt;/groupId&gt;\n    &lt;artifactId&gt;EurekaServer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;EurekaServer&lt;/name&gt;\n    &lt;description&gt;Eureka discovery server example&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Camden.SR2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>The <strong>application.yml</strong>:</p>\n\n<pre><code>server:\n  port: 8761\nspring:\n  application:\n    name: eureka-server1\neureka:\n  client:\n    enabled: false\n    fetch-registry: false\n</code></pre>\n\n<hr>\n\n<p>My <strong>Spring boot application class</strong>:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@SpringBootApplication\n@EnableEurekaServer\npublic class EurekaServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(EurekaServerApplication.class, args);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is my environment: </p>\n\n<ul>\n<li>MacOS Sierra 10.12.1</li>\n<li>Spring Tool Suite - Version: 3.8.2.RELEASE (Build Id: 201610040743 - Platform: Eclipse Neon.1 (4.6.1))</li>\n</ul>\n\n<hr>\n\n<p>Do I missed something?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","tomcat","intellij-idea","war"],"comments":[{"owner":{"account_id":1725529,"reputation":626,"user_id":1580304,"display_name":"OscarBcn"},"score":0,"creation_date":1467107535,"post_id":38072518,"comment_id":63582737,"body_markdown":"I think you need runtime dependency. It extends compile dependency. It should be:  runtime project(&#39;:library-services&#39;). According: https://docs.gradle.org/current/userguide/war_plugin.html (47.6)","body":"I think you need runtime dependency. It extends compile dependency. It should be:  runtime project(&#39;:library-services&#39;). According: <a href=\"https://docs.gradle.org/current/userguide/war_plugin.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/war_plugin.html</a> (47.6)"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1467108084,"post_id":38072518,"comment_id":63583091,"body_markdown":"why? it&#39;s should be dependent in compile time. no?","body":"why? it&#39;s should be dependent in compile time. no?"},{"owner":{"account_id":1725529,"reputation":626,"user_id":1580304,"display_name":"OscarBcn"},"score":0,"creation_date":1467109687,"post_id":38072518,"comment_id":63584125,"body_markdown":"I think runtime extends compile and it seems that you need those classes in runtime, not only in compile time. With runtime your dependent project should be included in your lib folder and those classes will be ready for your web-services project","body":"I think runtime extends compile and it seems that you need those classes in runtime, not only in compile time. With runtime your dependent project should be included in your lib folder and those classes will be ready for your web-services project"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1467110872,"post_id":38072518,"comment_id":63584794,"body_markdown":"it doesn&#39;t work. the project doesn&#39;t even run. module a missing classes from module b","body":"it doesn&#39;t work. the project doesn&#39;t even run. module a missing classes from module b"},{"owner":{"account_id":1725529,"reputation":626,"user_id":1580304,"display_name":"OscarBcn"},"score":0,"creation_date":1467140322,"post_id":38072518,"comment_id":63604735,"body_markdown":"If it can help you. I have created 1 project with one submodule. To be able to see it under libs it was needed to do: compile project(&#39;submodule&#39;)\n    runtime project(&#39;submodule&#39;). It seems that you will need to maintain your compile project adding one more line with runtime project","body":"If it can help you. I have created 1 project with one submodule. To be able to see it under libs it was needed to do: compile project(&#39;submodule&#39;)     runtime project(&#39;submodule&#39;). It seems that you will need to maintain your compile project adding one more line with runtime project"},{"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"score":0,"creation_date":1467208715,"post_id":38072518,"comment_id":63637462,"body_markdown":"After I removed this line the problem was solved:\n\n    #org.gradle.parallel=true","body":"After I removed this line the problem was solved:      #org.gradle.parallel=true"}],"answers":[{"comments":[{"owner":{"account_id":7593632,"reputation":335,"user_id":5760458,"display_name":"Josh Kergan"},"score":0,"creation_date":1467210678,"post_id":38102583,"comment_id":63639096,"body_markdown":"I wouldn&#39;t recommend this solution unless nothing else comes up since it could significantly increase the compile time on a large project.","body":"I wouldn&#39;t recommend this solution unless nothing else comes up since it could significantly increase the compile time on a large project."}],"tags":[],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1467210433,"creation_date":1467210433,"answer_id":38102583,"question_id":38072518,"body_markdown":"After I removed this line the problem was solved:\r\n\r\n\r\ngradle.properties file:\r\n\r\n    #org.gradle.parallel=true\r\n\r\n","title":"running gradle &quot;war&quot; doesn&#39;t include dependent intellij project","body":"<p>After I removed this line the problem was solved:</p>\n\n<p>gradle.properties file:</p>\n\n<pre><code>#org.gradle.parallel=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3643191,"reputation":164,"user_id":3036855,"display_name":"agent-p"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664900355,"creation_date":1664900355,"answer_id":73950781,"question_id":38072518,"body_markdown":"Here is a weird gradle IntelliJ behavior I noticed. Might be just gradle, but I don&#39;t usually use gradle outside of IntelliJ. So, I can&#39;t say for sure.\r\nIn any case, when the source set module I am including has a name alphabetically after the name of the module I am including it in. The WAR is missing the classes from the included module. Not sure what is causing it, but I put an underscore at the beginning of the included module and it includes the classes.\r\nNot an ideal solution, but works for me because I have a single core source set that I include in my API modules. It took a while before it became a problem for me because my core module is called api-core. Everything worked fine until I added an &quot;activities&quot; API module.\r\nI am always reluctant to post this kind of work-around solution without knowing exactly what the mechanism is. I hope it is helpful, and if anyone knows what is the root cause and has a better solution. I am all ears. :)\r\n","title":"running gradle &quot;war&quot; doesn&#39;t include dependent intellij project","body":"<p>Here is a weird gradle IntelliJ behavior I noticed. Might be just gradle, but I don't usually use gradle outside of IntelliJ. So, I can't say for sure.\nIn any case, when the source set module I am including has a name alphabetically after the name of the module I am including it in. The WAR is missing the classes from the included module. Not sure what is causing it, but I put an underscore at the beginning of the included module and it includes the classes.\nNot an ideal solution, but works for me because I have a single core source set that I include in my API modules. It took a while before it became a problem for me because my core module is called api-core. Everything worked fine until I added an &quot;activities&quot; API module.\nI am always reluctant to post this kind of work-around solution without knowing exactly what the mechanism is. I hope it is helpful, and if anyone knows what is the root cause and has a better solution. I am all ears. :)</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664900355,"creation_date":1467106732,"question_id":38072518,"body_markdown":"I have an intellij project with two modules: \r\n\r\n`web-services` (my API), `library-services` (business logic).\r\n\r\n\r\nbuild.gradle of web-serivces:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply from: ext.gradleDir + &#39;/common.gradle&#39;\r\n    apply from: ext.gradleDir + &#39;/integration_test.gradle&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    project.version = &#39;1.0.&#39; + getBuildNumber()\r\n    \r\n    \r\n    dependencies {\r\n        compile project(&#39;:library-services&#39;)\r\n        compile(&#39;com.waze.automation:common:1.0.80&#39;)\r\n    \r\n        compile(&#39;com.sun.jersey:jersey-bundle:1.19&#39;)\r\n        compile(&#39;com.sun.jersey:jersey-json:1.19&#39;)\r\n        compile group:  &#39;org.codehaus.jackson&#39;, name:&#39;jackson-jaxrs&#39;, version: &#39;1.1.1&#39;\r\n    \r\n        compile(&#39;com.google.guava:guava:18.0&#39;)\r\n    \r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.11&#39;\r\n        testCompile(&#39;org.hamcrest:hamcrest-all:1.3&#39;)\r\n        testCompile(&#39;org.mockito:mockito-all:1.9.5&#39;)\r\n    \r\n    }\r\n    \r\n    war {\r\n        from &#39;src/main&#39; // include source files in war\r\n    }\r\n\r\nI run this gradle command:\r\n\r\n    ~/workspaceQa/MobileAutomationWebService/web-services ⮀\r\n    ❯ ./gradlew war   \r\n\r\n\r\nbut in the created war I don&#39;t see the classes of library-services\r\n\r\nand my service throws `ClassNoFound` exception.\r\n\r\n \r\nhere is part of my log. how can i fix this?\r\n\r\n    12:10:28.081 [INFO] [org.gradle.BuildLogger] Tasks to be executed: [task &#39;:library-services:compileJava&#39;, task &#39;:library-services:processResources&#39;, task &#39;:library-services:verifyDependencies&#39;, task &#39;:library-services:classes&#39;, task &#39;:library-services:setProjectVersion&#39;, task &#39;:library-services:jar&#39;, task &#39;:web-services:compileJava&#39;, task &#39;:web-services:processResources&#39;, task &#39;:web-services:verifyDependencies&#39;, task &#39;:web-services:classes&#39;, task &#39;:web-services:war&#39;]\r\n\r\n\r\n","title":"running gradle &quot;war&quot; doesn&#39;t include dependent intellij project","body":"<p>I have an intellij project with two modules: </p>\n\n<p><code>web-services</code> (my API), <code>library-services</code> (business logic).</p>\n\n<p>build.gradle of web-serivces:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'war'\napply plugin: 'maven-publish'\napply from: ext.gradleDir + '/common.gradle'\napply from: ext.gradleDir + '/integration_test.gradle'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\nproject.version = '1.0.' + getBuildNumber()\n\n\ndependencies {\n    compile project(':library-services')\n    compile('com.waze.automation:common:1.0.80')\n\n    compile('com.sun.jersey:jersey-bundle:1.19')\n    compile('com.sun.jersey:jersey-json:1.19')\n    compile group:  'org.codehaus.jackson', name:'jackson-jaxrs', version: '1.1.1'\n\n    compile('com.google.guava:guava:18.0')\n\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n    testCompile('org.hamcrest:hamcrest-all:1.3')\n    testCompile('org.mockito:mockito-all:1.9.5')\n\n}\n\nwar {\n    from 'src/main' // include source files in war\n}\n</code></pre>\n\n<p>I run this gradle command:</p>\n\n<pre><code>~/workspaceQa/MobileAutomationWebService/web-services ⮀\n❯ ./gradlew war   \n</code></pre>\n\n<p>but in the created war I don't see the classes of library-services</p>\n\n<p>and my service throws <code>ClassNoFound</code> exception.</p>\n\n<p>here is part of my log. how can i fix this?</p>\n\n<pre><code>12:10:28.081 [INFO] [org.gradle.BuildLogger] Tasks to be executed: [task ':library-services:compileJava', task ':library-services:processResources', task ':library-services:verifyDependencies', task ':library-services:classes', task ':library-services:setProjectVersion', task ':library-services:jar', task ':web-services:compileJava', task ':web-services:processResources', task ':web-services:verifyDependencies', task ':web-services:classes', task ':web-services:war']\n</code></pre>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664899966,"creation_date":1664899966,"answer_id":73950709,"question_id":73916476,"body_markdown":"You can use almost the same query in HQL. Assuming your entity is called `Post` and the attribute for `WBS` is `wbs`, you can use:\r\n\r\n```sql\r\nSELECT p\r\nFROM Post p\r\nWHERE LENGTH(p.wbs) - LENGTH(REPLACE(p.wbs, &#39;.&#39;, &#39;&#39;)) = 1;\r\n```","title":"Hibernate, HQL: Count appearances of a specific character in a string","body":"<p>You can use almost the same query in HQL. Assuming your entity is called <code>Post</code> and the attribute for <code>WBS</code> is <code>wbs</code>, you can use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT p\nFROM Post p\nWHERE LENGTH(p.wbs) - LENGTH(REPLACE(p.wbs, '.', '')) = 1;\n</code></pre>\n"}],"owner":{"account_id":12660186,"reputation":60,"user_id":9203256,"display_name":"Dumitru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664899966,"creation_date":1664608491,"question_id":73916476,"body_markdown":"I have a table named &quot;POSTS&quot; with &quot;WBS&quot; field of type varchar(50).\r\nThe values in the WBS field match the following pattern:\r\n&lt;number.number.number..&gt; ex:  &quot;1.2.3&quot;, &quot;123.123&quot;, &quot;123&quot;, &quot;123.3.2.1&quot; etc.\r\n\r\nI need to select all records where the value of &quot;WBS&quot; field has two dots, one dot, or none.\r\n\r\nMy question is: How to count the appearances of a specific character in a string ?\r\n\r\nFor example, on MySQL and Oracle, I could try the following query:\r\n\r\n    SELECT *\r\n    FROM posts\r\n    WHERE LENGTH(WBS) - LENGTH(REPLACE(WBS, &#39;.&#39;, &#39;&#39;)) = 1;\r\nfound here: https://stackoverflow.com/questions/56642419/word-count-in-hibernate-query-language-hql\r\n\r\n","title":"Hibernate, HQL: Count appearances of a specific character in a string","body":"<p>I have a table named &quot;POSTS&quot; with &quot;WBS&quot; field of type varchar(50).\nThe values in the WBS field match the following pattern:\n&lt;number.number.number..&gt; ex:  &quot;1.2.3&quot;, &quot;123.123&quot;, &quot;123&quot;, &quot;123.3.2.1&quot; etc.</p>\n<p>I need to select all records where the value of &quot;WBS&quot; field has two dots, one dot, or none.</p>\n<p>My question is: How to count the appearances of a specific character in a string ?</p>\n<p>For example, on MySQL and Oracle, I could try the following query:</p>\n<pre><code>SELECT *\nFROM posts\nWHERE LENGTH(WBS) - LENGTH(REPLACE(WBS, '.', '')) = 1;\n</code></pre>\n<p>found here: <a href=\"https://stackoverflow.com/questions/56642419/word-count-in-hibernate-query-language-hql\">Word count in Hibernate Query Language (hql)</a></p>\n"},{"tags":["java","android","gif"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664902601,"post_id":73950705,"comment_id":130574414,"body_markdown":"Which `opts` is null? Is it both?","body":"Which <code>opts</code> is null? Is it both?"},{"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"score":0,"creation_date":1664903776,"post_id":73950705,"comment_id":130574825,"body_markdown":"Yes, both are null","body":"Yes, both are null"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664904778,"post_id":73950705,"comment_id":130575151,"body_markdown":"Well, it is hard to find to problem without the whole source code in hand. There are some redundant variables like `ic` and `callback`. I&#39;d first check if the methods `onCreateInputConnection()` and `onCommitContent()` are called. Secondly, remove the `ic` variable (Maybe `callback` as well). Third, I&#39;d just return `new InputConnectionCompat.OnCommitContentListener()` instance. I&#39;ve noticed that you&#39;ve never return `callback` instance either.","body":"Well, it is hard to find to problem without the whole source code in hand. There are some redundant variables like <code>ic</code> and <code>callback</code>. I&#39;d first check if the methods <code>onCreateInputConnection()</code> and <code>onCommitContent()</code> are called. Secondly, remove the <code>ic</code> variable (Maybe <code>callback</code> as well). Third, I&#39;d just return <code>new InputConnectionCompat.OnCommitContentListener()</code> instance. I&#39;ve noticed that you&#39;ve never return <code>callback</code> instance either."}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664899937,"creation_date":1664899937,"question_id":73950705,"body_markdown":"I have used code from StackOverflow and Google. This is it:\r\n\r\n```\r\neditText.setKeyBoardInputCallbackListener(new EditTextGIF.KeyBoardInputCallbackListener() {\r\n\t@Override\r\n\tpublic void onCommitContent(InputContentInfoCompat inputContentInfo,\r\n\t\t\t\t\t\t\t\tint flags, Bundle opts) {\r\n\t\t// you will get your gif/png/jpg here in opts bundle\r\n\t\tLog.d(TAG, &quot;Opts: &quot;+opts);\r\n\t}\r\n});\r\n```\r\n\r\nThis is EditText:\r\n\r\n```\r\n&lt;com.myapp.EditTextGIF\r\n\tandroid:id=&quot;@+id/editText&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;wrap_content&quot;\r\n\tandroid:inputType=&quot;textCapSentences|textMultiLine&quot;\r\n\tandroid:textColor=&quot;@color/textcolor&quot;\r\n\tandroid:background=&quot;@null&quot;\r\n\tandroid:maxLength=&quot;@integer/max_chat_message_length&quot;\r\n\tandroid:hint=&quot;@string/type_a_message&quot; /&gt;\r\n```\r\n\r\nThis is the class `EditTextGIF`:\r\n\r\n```\r\npublic class EditTextGIF extends AXEmojiEditText {\r\n\r\n    private KeyBoardInputCallbackListener keyBoardInputCallbackListener;\r\n\r\n    public EditTextGIF(Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public EditTextGIF(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    @Override\r\n    public InputConnection onCreateInputConnection(EditorInfo editorInfo) {\r\n        final InputConnection ic = super.onCreateInputConnection(editorInfo);\r\n        EditorInfoCompat.setContentMimeTypes(editorInfo, new String [] {&quot;image/gif&quot;});\r\n\r\n        final InputConnectionCompat.OnCommitContentListener callback =\r\n                new InputConnectionCompat.OnCommitContentListener() {\r\n                    @Override\r\n                    public boolean onCommitContent(InputContentInfoCompat inputContentInfo,\r\n                                                   int flags, Bundle opts) {\r\n                        Logg.dr(&quot;Opts: &quot; + opts);\r\n                        // read and display inputContentInfo asynchronously\r\n                        if (BuildCompat.isAtLeastNMR1() &amp;&amp; (flags &amp;\r\n                                InputConnectionCompat.INPUT_CONTENT_GRANT_READ_URI_PERMISSION) != 0) {\r\n                            try {\r\n                                inputContentInfo.requestPermission();\r\n                            }\r\n                            catch (Exception e) {\r\n                                return false; // return false if failed\r\n                            }\r\n                        }\r\n\r\n                        // read and display inputContentInfo asynchronously.\r\n                        // call inputContentInfo.releasePermission() as needed.\r\n                        if (keyBoardInputCallbackListener != null) {\r\n                            keyBoardInputCallbackListener.onCommitContent(inputContentInfo, flags, opts);\r\n                        }\r\n\r\n                        return true;  // return true if succeeded\r\n                    }\r\n                };\r\n        return InputConnectionCompat.createWrapper(ic, editorInfo, callback);\r\n    }\r\n\r\n    public interface KeyBoardInputCallbackListener {\r\n        void onCommitContent(InputContentInfoCompat inputContentInfo,\r\n                             int flags, Bundle opts);\r\n    }\r\n\r\n    public void setKeyBoardInputCallbackListener(KeyBoardInputCallbackListener keyBoardInputCallbackListener) {\r\n        this.keyBoardInputCallbackListener = keyBoardInputCallbackListener;\r\n    }\r\n}\r\n```\r\n\r\nIt extends `AXEmojiEditText`, which is from a 3rd party [library][1] for an emoji keyboard.\r\n\r\nBut this code does not work properly. When I try to insert a GIF, it no longer displays the &quot;GIFs-not-allowed-toast&quot;, but the Logs always say that the bundle `opts` I am receiving is null. No matter which GIF I choose. How can this be fixed?\r\n\r\n\r\n  [1]: https://github.com/Aghajari/AXEmojiView","title":"EditText GIF insertion gives null always","body":"<p>I have used code from StackOverflow and Google. This is it:</p>\n<pre><code>editText.setKeyBoardInputCallbackListener(new EditTextGIF.KeyBoardInputCallbackListener() {\n    @Override\n    public void onCommitContent(InputContentInfoCompat inputContentInfo,\n                                int flags, Bundle opts) {\n        // you will get your gif/png/jpg here in opts bundle\n        Log.d(TAG, &quot;Opts: &quot;+opts);\n    }\n});\n</code></pre>\n<p>This is EditText:</p>\n<pre><code>&lt;com.myapp.EditTextGIF\n    android:id=&quot;@+id/editText&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:inputType=&quot;textCapSentences|textMultiLine&quot;\n    android:textColor=&quot;@color/textcolor&quot;\n    android:background=&quot;@null&quot;\n    android:maxLength=&quot;@integer/max_chat_message_length&quot;\n    android:hint=&quot;@string/type_a_message&quot; /&gt;\n</code></pre>\n<p>This is the class <code>EditTextGIF</code>:</p>\n<pre><code>public class EditTextGIF extends AXEmojiEditText {\n\n    private KeyBoardInputCallbackListener keyBoardInputCallbackListener;\n\n    public EditTextGIF(Context context) {\n        super(context);\n    }\n\n    public EditTextGIF(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    public InputConnection onCreateInputConnection(EditorInfo editorInfo) {\n        final InputConnection ic = super.onCreateInputConnection(editorInfo);\n        EditorInfoCompat.setContentMimeTypes(editorInfo, new String [] {&quot;image/gif&quot;});\n\n        final InputConnectionCompat.OnCommitContentListener callback =\n                new InputConnectionCompat.OnCommitContentListener() {\n                    @Override\n                    public boolean onCommitContent(InputContentInfoCompat inputContentInfo,\n                                                   int flags, Bundle opts) {\n                        Logg.dr(&quot;Opts: &quot; + opts);\n                        // read and display inputContentInfo asynchronously\n                        if (BuildCompat.isAtLeastNMR1() &amp;&amp; (flags &amp;\n                                InputConnectionCompat.INPUT_CONTENT_GRANT_READ_URI_PERMISSION) != 0) {\n                            try {\n                                inputContentInfo.requestPermission();\n                            }\n                            catch (Exception e) {\n                                return false; // return false if failed\n                            }\n                        }\n\n                        // read and display inputContentInfo asynchronously.\n                        // call inputContentInfo.releasePermission() as needed.\n                        if (keyBoardInputCallbackListener != null) {\n                            keyBoardInputCallbackListener.onCommitContent(inputContentInfo, flags, opts);\n                        }\n\n                        return true;  // return true if succeeded\n                    }\n                };\n        return InputConnectionCompat.createWrapper(ic, editorInfo, callback);\n    }\n\n    public interface KeyBoardInputCallbackListener {\n        void onCommitContent(InputContentInfoCompat inputContentInfo,\n                             int flags, Bundle opts);\n    }\n\n    public void setKeyBoardInputCallbackListener(KeyBoardInputCallbackListener keyBoardInputCallbackListener) {\n        this.keyBoardInputCallbackListener = keyBoardInputCallbackListener;\n    }\n}\n</code></pre>\n<p>It extends <code>AXEmojiEditText</code>, which is from a 3rd party <a href=\"https://github.com/Aghajari/AXEmojiView\" rel=\"nofollow noreferrer\">library</a> for an emoji keyboard.</p>\n<p>But this code does not work properly. When I try to insert a GIF, it no longer displays the &quot;GIFs-not-allowed-toast&quot;, but the Logs always say that the bundle <code>opts</code> I am receiving is null. No matter which GIF I choose. How can this be fixed?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9234,"page":989,"page_size":100}
