{"items":[{"tags":["java","freemarker","velocity"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637688131,"creation_date":1637688131,"answer_id":70085182,"question_id":70078722,"body_markdown":"These look like just comments, which tell to the IDE (presumably) that we have these variables with the given types. I don&#39;t think these will actually create those variables. That happens outside the template.","title":"Translate Apache Velocity vm into Apache FreeMarker ftl","body":"<p>These look like just comments, which tell to the IDE (presumably) that we have these variables with the given types. I don't think these will actually create those variables. That happens outside the template.</p>\n"}],"owner":{"account_id":23077286,"reputation":21,"user_id":17190071,"display_name":"Guy Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70085182,"answer_count":1,"score":0,"last_activity_date":1637688131,"creation_date":1637661307,"question_id":70078722,"body_markdown":"I&#39;m trying to translate Velocity template file to FreeMarker template file, I&#39;m stock on converting this rows on vm, to work on ftl.\r\n\r\nThe first one is for accessing some utils function and the second one is for using an object that I can read on FreeMarker template and the map contains a &quot;user&quot; attribute with this object, but cannot access it.\r\n:\r\n\r\n    #* @vtlvariable name=&quot;Utils&quot; type=&quot;com.utils.Utils&quot; *###\r\n    #* @vtlvariable name=&quot;user&quot; type=&quot;com.objects.UserObject&quot; *###\r\n\r\nI could not find any guide for explanation how to import this class on FreeMarker.\r\n","title":"Translate Apache Velocity vm into Apache FreeMarker ftl","body":"<p>I'm trying to translate Velocity template file to FreeMarker template file, I'm stock on converting this rows on vm, to work on ftl.</p>\n<p>The first one is for accessing some utils function and the second one is for using an object that I can read on FreeMarker template and the map contains a &quot;user&quot; attribute with this object, but cannot access it.\n:</p>\n<pre><code>#* @vtlvariable name=&quot;Utils&quot; type=&quot;com.utils.Utils&quot; *###\n#* @vtlvariable name=&quot;user&quot; type=&quot;com.objects.UserObject&quot; *###\n</code></pre>\n<p>I could not find any guide for explanation how to import this class on FreeMarker.</p>\n"},{"tags":["java","react-native"],"answers":[{"tags":[],"owner":{"account_id":21881516,"reputation":66,"user_id":16531148,"display_name":"Dmitrii Chechetkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637688065,"creation_date":1637688065,"answer_id":70085166,"question_id":69953720,"body_markdown":"the `toString` method generates an internal representation of the object for debugging, not JSON of the document. You need to use a different method to serialize your Document to JSON.\r\n\r\nThe most popular option for this is to use the Jackson library: https://www.baeldung.com/jackson-object-mapper-tutorial\r\n\r\nIf you&#39;re using Spring framework with Spring data couchbase connector then Jackson&#39;s ObjectMapper should already be available to your application as a Bean.","title":"strip identifier from result of .toString() method","body":"<p>the <code>toString</code> method generates an internal representation of the object for debugging, not JSON of the document. You need to use a different method to serialize your Document to JSON.</p>\n<p>The most popular option for this is to use the Jackson library: <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-object-mapper-tutorial</a></p>\n<p>If you're using Spring framework with Spring data couchbase connector then Jackson's ObjectMapper should already be available to your application as a Bean.</p>\n"}],"owner":{"account_id":22590774,"reputation":49,"user_id":16773919,"display_name":"ruth hadish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637688065,"creation_date":1636802222,"question_id":69953720,"body_markdown":"It is out of desperation and I don&#39;t know java. Basically, I want to resolve a couchbase lite [Document][1] back to a react-native application as follows:\r\n\r\n           Document doc = database.getDocumet(&#39;id&#39;);\r\n           promise.resolve(doc);\r\n\r\nthat doesn&#39;t work with error can&#39;t be cast so I turned to toString(), hoping to parse it in react-native:\r\n\r\n   \r\n          promise.resolve(doc.toString());\r\n\r\n// in js:\r\n          \r\n          const document = getNativeDocument(&#39;id&#39;);\r\n          console.log(document)\r\n          const v = JSON.parse(document);\r\n\r\nbut that fails too with error:\r\n\r\n            SyntaxError: JSON Parse error: Unexpected identifier &quot;Document&quot;]. \r\n\r\n\r\nThe console result is:\r\n\r\n    Document{@0xb3181c18e30a7f1-1f61-49a0-9ca0-1dc3d2e343ed@1-a7ed608736c34cf5860a0d35968e6441e1f089ef(..):obj=&gt;Dictionary{(..)a=&gt;A,b=&gt;B},age=&gt;20,firstPromo=&gt;null}\r\n\r\nI have tried solutions to convert the Document into other times that can easily be resolved by promise.resolve() but now wondering if there is away to work with results of the .toString()\r\n\r\n  [1]: https://docs.couchbase.com/couchbase-lite/2.7/java-platform.html#document","title":"strip identifier from result of .toString() method","body":"<p>It is out of desperation and I don't know java. Basically, I want to resolve a couchbase lite <a href=\"https://docs.couchbase.com/couchbase-lite/2.7/java-platform.html#document\" rel=\"nofollow noreferrer\">Document</a> back to a react-native application as follows:</p>\n<pre><code>       Document doc = database.getDocumet('id');\n       promise.resolve(doc);\n</code></pre>\n<p>that doesn't work with error can't be cast so I turned to toString(), hoping to parse it in react-native:</p>\n<pre><code>      promise.resolve(doc.toString());\n</code></pre>\n<p>// in js:</p>\n<pre><code>      const document = getNativeDocument('id');\n      console.log(document)\n      const v = JSON.parse(document);\n</code></pre>\n<p>but that fails too with error:</p>\n<pre><code>        SyntaxError: JSON Parse error: Unexpected identifier &quot;Document&quot;]. \n</code></pre>\n<p>The console result is:</p>\n<pre><code>Document{@0xb3181c18e30a7f1-1f61-49a0-9ca0-1dc3d2e343ed@1-a7ed608736c34cf5860a0d35968e6441e1f089ef(..):obj=&gt;Dictionary{(..)a=&gt;A,b=&gt;B},age=&gt;20,firstPromo=&gt;null}\n</code></pre>\n<p>I have tried solutions to convert the Document into other times that can easily be resolved by promise.resolve() but now wondering if there is away to work with results of the .toString()</p>\n"},{"tags":["java","nlp","stanford-nlp","lemmatization"],"answers":[{"tags":[],"owner":{"account_id":83963,"reputation":9420,"user_id":235019,"display_name":"Christopher Manning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637687612,"creation_date":1637687612,"answer_id":70085051,"question_id":70064960,"body_markdown":"The algorithms, data structures, and model files of CoreNLP and Stanza (formerly stanfordnlp) are completely different. There isn&#39;t, and there isn&#39;t likely to ever be, any means of moving models between them in either direction. \r\n\r\nThe only thing I know of is that the Snowball stemmer supports Romanian and is usable in Java, if that&#39;s sufficient:\r\n\r\n- https://github.com/snowballstem\r\n- https://snowballstem.org/algorithms/\r\n","title":"Use stanford core nlp lemmatization with romanian language?","body":"<p>The algorithms, data structures, and model files of CoreNLP and Stanza (formerly stanfordnlp) are completely different. There isn't, and there isn't likely to ever be, any means of moving models between them in either direction.</p>\n<p>The only thing I know of is that the Snowball stemmer supports Romanian and is usable in Java, if that's sufficient:</p>\n<ul>\n<li><a href=\"https://github.com/snowballstem\" rel=\"nofollow noreferrer\">https://github.com/snowballstem</a></li>\n<li><a href=\"https://snowballstem.org/algorithms/\" rel=\"nofollow noreferrer\">https://snowballstem.org/algorithms/</a></li>\n</ul>\n"}],"owner":{"account_id":20619606,"reputation":1,"user_id":15136932,"display_name":"FellowJitser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637687612,"creation_date":1637580002,"question_id":70064960,"body_markdown":"Is there any way to use [stanford core-nlp][1] with a romanian language model?\r\nIt looks like it doesnt have the romanian language in the core library but I have tried to download the language model from the python library: https://stanfordnlp.github.io/stanfordnlp/models.html and somehow import them into the java code (`props.setProperty(&quot;pos.model&quot;,&quot;PATH...&quot;)` but they dont seem to be compatible, it gives the erorr `java.io.StreamCorruptedException: invalid stream header:`.\r\n\r\nIf using core-nlp is not possible are you aware of any java lemmatization library that supports romanian?\r\n\r\n\r\n  [1]: https://stanfordnlp.github.io/CoreNLP/human-languages.html","title":"Use stanford core nlp lemmatization with romanian language?","body":"<p>Is there any way to use <a href=\"https://stanfordnlp.github.io/CoreNLP/human-languages.html\" rel=\"nofollow noreferrer\">stanford core-nlp</a> with a romanian language model?\nIt looks like it doesnt have the romanian language in the core library but I have tried to download the language model from the python library: <a href=\"https://stanfordnlp.github.io/stanfordnlp/models.html\" rel=\"nofollow noreferrer\">https://stanfordnlp.github.io/stanfordnlp/models.html</a> and somehow import them into the java code (<code>props.setProperty(&quot;pos.model&quot;,&quot;PATH...&quot;)</code> but they dont seem to be compatible, it gives the erorr <code>java.io.StreamCorruptedException: invalid stream header:</code>.</p>\n<p>If using core-nlp is not possible are you aware of any java lemmatization library that supports romanian?</p>\n"},{"tags":["java","json","excel","spring","spring-boot"],"comments":[{"owner":{"account_id":15335464,"reputation":13,"user_id":11063956,"display_name":"Marius Biegger"},"score":0,"creation_date":1637679237,"post_id":70081655,"comment_id":123887347,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java) is could be helpful. Best Regards","body":"Maybe <a href=\"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java\">this</a> is could be helpful. Best Regards"},{"owner":{"account_id":6386919,"reputation":8069,"user_id":5737950,"display_name":"nima"},"score":0,"creation_date":1637778494,"post_id":70081655,"comment_id":123919388,"body_markdown":"Welcome to StackOverflow. please take a while and read [ask] with [mre]. Good luck &#128578;","body":"Welcome to StackOverflow. please take a while and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Good luck 🙂"}],"answers":[{"tags":[],"owner":{"account_id":15335464,"reputation":13,"user_id":11063956,"display_name":"Marius Biegger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637680279,"creation_date":1637680279,"answer_id":70083266,"question_id":70081655,"body_markdown":"There is a lot to unpack here.\r\nYou are asking for instructions to build a Java Application without providing much context regarding the entire use case. There are a lot of different ways to approach your problem.  \r\nIf you are new to Spring-Boot, I&#39;d suggest reading the [documentation][1].  \r\n\r\nIt hopefully will provide you with a basic understanding of the core concepts.\r\n\r\nNow lets get to the JSON-to-XLS conversion. According to [this][2] question, it is recommended to convert your JSON-Data into the CSV format. CSV could be interpreted as an open alternative to xls for tabular data. As far as I&#39;m aware, Excel can open CSV files.  \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/\r\n  [2]: https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java","title":"How to create a standalone application to convert JSON file data to Excel by using java","body":"<p>There is a lot to unpack here.\nYou are asking for instructions to build a Java Application without providing much context regarding the entire use case. There are a lot of different ways to approach your problem.<br />\nIf you are new to Spring-Boot, I'd suggest reading the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>It hopefully will provide you with a basic understanding of the core concepts.</p>\n<p>Now lets get to the JSON-to-XLS conversion. According to <a href=\"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java\">this</a> question, it is recommended to convert your JSON-Data into the CSV format. CSV could be interpreted as an open alternative to xls for tabular data. As far as I'm aware, Excel can open CSV files.</p>\n"}],"owner":{"account_id":22215271,"reputation":11,"user_id":16453821,"display_name":"pavan savana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637778501,"answer_count":1,"score":0,"last_activity_date":1637687587,"creation_date":1637673622,"question_id":70081655,"body_markdown":"I&#39;m new to IT Industry and My lead gave a Task to convert JSON file which contains JSON arrays, objects and Nested with 4000 lines to convert into Excel sheet in locally by reading JSON file. Please help me fellow coders. ","title":"How to create a standalone application to convert JSON file data to Excel by using java","body":"<p>I'm new to IT Industry and My lead gave a Task to convert JSON file which contains JSON arrays, objects and Nested with 4000 lines to convert into Excel sheet in locally by reading JSON file. Please help me fellow coders.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637577187,"post_id":70064287,"comment_id":123854502,"body_markdown":"Which java version are you using? Note that the API changes with every release. As far as I am aware, there is no `changeSides` method.","body":"Which java version are you using? Note that the API changes with every release. As far as I am aware, there is no <code>changeSides</code> method."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637577663,"post_id":70064287,"comment_id":123854683,"body_markdown":"You really need to explain clearly what changeSides() is supposed to do.","body":"You really need to explain clearly what changeSides() is supposed to do."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637578192,"post_id":70064287,"comment_id":123854872,"body_markdown":"I think that `changeSides` is either a method you are expected to write, or one provided by your instructor.","body":"I think that <code>changeSides</code> is either a method you are expected to write, or one provided by your instructor."},{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":0,"creation_date":1637583662,"post_id":70064287,"comment_id":123856888,"body_markdown":"correct me if i&#39;m wrong : a rectangle is defined by one point and its height and width ?\nso basically if you swap the two values it is not the same rectangle anymore ? \nIn this case just do : \nwidth += height;\nheight = width - height\nwidth -= height\nthis should work","body":"correct me if i&#39;m wrong : a rectangle is defined by one point and its height and width ? so basically if you swap the two values it is not the same rectangle anymore ?  In this case just do :  width += height; height = width - height width -= height this should work"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1637585275,"post_id":70064287,"comment_id":123857500,"body_markdown":"Where are the indicated variables defined?  Re-read the assignment - perhaps you are supposed to implement the `changeSides` method.","body":"Where are the indicated variables defined?  Re-read the assignment - perhaps you are supposed to implement the <code>changeSides</code> method."}],"answers":[{"tags":[],"owner":{"account_id":23244272,"reputation":64,"user_id":17333065,"display_name":"StartsMercury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637584195,"creation_date":1637584195,"answer_id":70065773,"question_id":70064287,"body_markdown":"**Assumptions**\r\n\r\n - To increase the height, means stretching the *medium* upwards.\r\n - To increase the width, means stretching the *medium* rightwards.\r\n\r\n----------\r\n\r\n**Notes**\r\n\r\n*let* pos *be the southeast point*    \r\n*let* width *, and* height *be the two sizes we start width*    \r\n*let* corner *be the southwest point*\r\n\r\n**Pseudo code**\r\n\r\n```\r\n// swapping the width and height can\r\n// be thought of as subtracting away width\r\n// then adding the height value.\r\ncorner.x = pos.x + height - width\r\n```\r\n\r\n----------\r\n\r\nIf any assumptions are incorrect, invalid, or needs changing. Feel free to notify me!","title":"How can i swap the height and width of a rectangle without changing the south western point?","body":"<p><strong>Assumptions</strong></p>\n<ul>\n<li>To increase the height, means stretching the <em>medium</em> upwards.</li>\n<li>To increase the width, means stretching the <em>medium</em> rightwards.</li>\n</ul>\n<hr />\n<p><strong>Notes</strong></p>\n<p><em>let</em> pos <em>be the southeast point</em><br />\n<em>let</em> width <em>, and</em> height <em>be the two sizes we start width</em><br />\n<em>let</em> corner <em>be the southwest point</em></p>\n<p><strong>Pseudo code</strong></p>\n<pre><code>// swapping the width and height can\n// be thought of as subtracting away width\n// then adding the height value.\ncorner.x = pos.x + height - width\n</code></pre>\n<hr />\n<p>If any assumptions are incorrect, invalid, or needs changing. Feel free to notify me!</p>\n"},{"tags":[],"owner":{"account_id":23432025,"reputation":1,"user_id":17490700,"display_name":"Aviad Raviv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637687336,"creation_date":1637687336,"answer_id":70084985,"question_id":70064287,"body_markdown":"you need a temporary variable for this one.\r\n\r\n        public void changeSides() {\r\n\r\n        int temp = width;\r\n        int width = height;\r\n        int height = temp;\r\n\r\n        }","title":"How can i swap the height and width of a rectangle without changing the south western point?","body":"<p>you need a temporary variable for this one.</p>\n<pre><code>    public void changeSides() {\n\n    int temp = width;\n    int width = height;\n    int height = temp;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1637687336,"creation_date":1637576840,"question_id":70064287,"body_markdown":"I need to  switch the height and width without changing the _pointSW value.\r\n\r\nThese are the variables:\r\n\r\n```\r\nprivate int _width; \r\nprivate int _height;\r\nprivate Point _pointSW;\r\n\r\n```\r\nI am not able to find the changeSides function on the oracle website which is the function they say to use in my assigment so i am not sure if there is some sort of command to do this? any assistance would be great thanks\r\n\r\n``` \r\npublic void changeSides()\r\n    {\r\n                      \r\n    }\r\n``` ","title":"How can i swap the height and width of a rectangle without changing the south western point?","body":"<p>I need to  switch the height and width without changing the _pointSW value.</p>\n<p>These are the variables:</p>\n<pre><code>private int _width; \nprivate int _height;\nprivate Point _pointSW;\n\n</code></pre>\n<p>I am not able to find the changeSides function on the oracle website which is the function they say to use in my assigment so i am not sure if there is some sort of command to do this? any assistance would be great thanks</p>\n<pre><code>public void changeSides()\n    {\n                      \n    }\n</code></pre>\n"},{"tags":["java","oracle","jdbctemplate","clob"],"comments":[{"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"score":0,"creation_date":1399125046,"post_id":23419567,"comment_id":35936510,"body_markdown":"I don&#39;t think 4. is a valid conclusion for 3. What if Spring just omits the LOB insert parameter which you set to null? `insert into t (a,b) values...` is quite different from `insert into t (a,b,lob) values...`. Did you enable debug logging to see what SQL statements get issues against the data base?","body":"I don&#39;t think 4. is a valid conclusion for 3. What if Spring just omits the LOB insert parameter which you set to null? <code>insert into t (a,b) values...</code> is quite different from <code>insert into t (a,b,lob) values...</code>. Did you enable debug logging to see what SQL statements get issues against the data base?"},{"owner":{"account_id":620225,"reputation":2065,"user_id":361275,"accept_rate":78,"display_name":"AliR"},"score":0,"creation_date":1399252204,"post_id":23419567,"comment_id":35971050,"body_markdown":"Thanks @MarcelSt&#246;r for the input, I have tried testing the procedure on Oracle to insert data and it was working.  Also, in the code above when struct gets created the struct object in db is checked for these input types before its creation.Not sure how can we enable debug loggin at Spring/Java side. any pointers ?","body":"Thanks @MarcelSt&#246;r for the input, I have tried testing the procedure on Oracle to insert data and it was working.  Also, in the code above when struct gets created the struct object in db is checked for these input types before its creation.Not sure how can we enable debug loggin at Spring/Java side. any pointers ?"},{"owner":{"account_id":620225,"reputation":2065,"user_id":361275,"accept_rate":78,"display_name":"AliR"},"score":0,"creation_date":1399254780,"post_id":23419567,"comment_id":35971616,"body_markdown":"@MarcelSt&#246;r added the debug logs","body":"@MarcelSt&#246;r added the debug logs"}],"answers":[{"tags":[],"owner":{"account_id":7975765,"reputation":121,"user_id":6019010,"display_name":"Tomas Šatas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475429200,"creation_date":1475429200,"answer_id":39819647,"question_id":23419567,"body_markdown":"Me here facing the same problem, but only when trying to do this with StoredProcedure\r\n\r\nbut this way\r\n\r\n            conn = datsource.getConnection();\r\n            cstmt = conn.prepareCall(&quot;{? = call schema.package.function(?)}&quot;);\r\n            cstmt.registerOutParameter(1, Types.CLOB);\r\n            cstmt.setClob(2, clob);\r\n            cstmt.execute();\r\n\r\nworks just fine.","title":"simpleJdbcCall calling Pl/SQL procedure -- ORA-22922 nonexistent LOB value","body":"<p>Me here facing the same problem, but only when trying to do this with StoredProcedure</p>\n\n<p>but this way</p>\n\n<pre><code>        conn = datsource.getConnection();\n        cstmt = conn.prepareCall(\"{? = call schema.package.function(?)}\");\n        cstmt.registerOutParameter(1, Types.CLOB);\n        cstmt.setClob(2, clob);\n        cstmt.execute();\n</code></pre>\n\n<p>works just fine.</p>\n"},{"tags":[],"owner":{"account_id":10074333,"reputation":11,"user_id":7446964,"display_name":"Roland Harangozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484926818,"creation_date":1484926818,"answer_id":41767356,"question_id":23419567,"body_markdown":"The Clob instance is tied to the &#39;oracleConnection&#39; that you use to create it and the SimpleJDBCCall uses another connection for the DB call. There are two independent sessions from the DB point of view and that&#39;s the reason why the clob does not exist in the session used by SimpleJDBCCall.\r\n\r\nThe connection that the SimpleJDBCCall uses must be used for the Clob creation. \r\n\r\nI have managed to solve a similar problem by implementing SQLData and by extracting the current connection:\r\n\r\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;IN_bean_type&quot;, new MyBean());\r\n    simpleJdbcCallOperations.execute(values);\r\n\r\nMyBean:\r\n\r\n    class MyBean implements SQLData {\r\n        ...\r\n        @Override\r\n        public void writeSQL(SQLOutput stream) throws SQLException {\r\n            ...\r\n            Clob clob = ((OracleSQLOutput)stream).getSTRUCT().getJavaSqlConnection().createClob(); //hack to get the current connection\r\n            clob.setString(1, &quot;stringValue&quot;);\r\n            stream.writeClob(clob);\r\n            ...\r\n        }\r\n        ...\r\n    }","title":"simpleJdbcCall calling Pl/SQL procedure -- ORA-22922 nonexistent LOB value","body":"<p>The Clob instance is tied to the 'oracleConnection' that you use to create it and the SimpleJDBCCall uses another connection for the DB call. There are two independent sessions from the DB point of view and that's the reason why the clob does not exist in the session used by SimpleJDBCCall.</p>\n\n<p>The connection that the SimpleJDBCCall uses must be used for the Clob creation. </p>\n\n<p>I have managed to solve a similar problem by implementing SQLData and by extracting the current connection:</p>\n\n<pre><code>Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"IN_bean_type\", new MyBean());\nsimpleJdbcCallOperations.execute(values);\n</code></pre>\n\n<p>MyBean:</p>\n\n<pre><code>class MyBean implements SQLData {\n    ...\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        ...\n        Clob clob = ((OracleSQLOutput)stream).getSTRUCT().getJavaSqlConnection().createClob(); //hack to get the current connection\n        clob.setString(1, \"stringValue\");\n        stream.writeClob(clob);\n        ...\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19831139,"reputation":1,"user_id":14525675,"display_name":"Daniel Casta&#241;eda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1603777618,"creation_date":1603761994,"answer_id":64547133,"question_id":23419567,"body_markdown":"I had a similar problem. And you can correct it. I make my contribution, hoping it can serve you.\r\n\r\n\r\n    public PreparedStatement insertaReprocesos(TimerLog timer, List&lt;ReprocesosDTO&gt; listaInsertaProcesos) throws SQLException, Exception{\r\n\t\tConnection conexion = null;\r\n\t\tCallableStatement cstmt = null;\r\n\t\tString query = null;\r\n\t\ttry {\r\n\t\t\tconexion = JDBCUtils.getConnection(UtilProperties.DATASOURCE);\r\n\t\t\tConnection conexion2 = JDBCUtils.getImplementsConnectionAllServer(conexion);\r\n\t\t\tquery= UtilProperties.SP_INSERTA_REPROCESOS;\r\n\t\t\tcstmt = conexion.prepareCall(query);\r\n\t\t\tObject[] recordArray = new Object[6];\r\n\t\t\tStruct[] structs = new Struct[listaInsertaProcesos.size()];\r\n\t\t\tint registroCont = 0;\r\n\t\t\tClob myClob = conexion2.createClob();\r\n\t\t\tfor(ReprocesosDTO registro : listaInsertaProcesos) {\r\n\t\t\t\tReader reader = registro.getFcregistro().getCharacterStream();//esta variable la esta declarada como Clob\r\n\t\t\t\tBufferedReader br = new BufferedReader(reader);\r\n\t\t\t\tmyClob.setString(1, br.readLine());\r\n\t\t\t\t\r\n\t\t\t\t\trecordArray[0] = registro.getFiprocesoId();\r\n\t\t\t\t\trecordArray[1] = registro.getFdfecha();\r\n\t\t\t\t\trecordArray[2] = (registro.getFisecuencia());\r\n\t\t\t\t\trecordArray[3] = registro.getFistatusid();\r\n\t\t\t\t\trecordArray[4] = myClob;// este dato en BD esta declarado como CLOB\r\n\t\t\t\t\trecordArray[5] = registro.getFcusuario();\r\n\t\t\t\t\tstructs[registroCont++] = conexion2.createStruct(UtilProperties.TYP_REPORTE_PROCESOS, recordArray);\r\n\t\t\t}\r\n\t\t\tArray oracleRecord = ((OracleConnection) conexion2).createOracleArray(UtilProperties.TYPE_TAREPORTE,structs);\r\n\t\t\tcstmt.setArray(1, oracleRecord);\r\n\t\t\tcstmt.registerOutParameter(MonitorConstants.PA_CODIGO_SALIDA_2,OracleTypes.VARCHAR);\r\n\t\t\tcstmt.registerOutParameter(MonitorConstants.PA_MENSAJE_SALIDA_3,OracleTypes.VARCHAR);\r\n\t\t\t\r\n\t\t\tcstmt.execute();\r\n\t\t} catch (SQLException e) {\r\n\t\t\tLOGGER.error(&quot;Mensaje &quot;+e.getMessage()+&quot;Causa: &quot;+e.getCause());\r\n\t\t\ttimer.setTiempoParcial(MonitorConstants.MONITOR_DAO, MonitorConstants.INSERTA_PROCESOS);\r\n\t\t\tthrow new SQLException(e);\r\n\t\t} catch (Exception e) {\r\n\t\t\ttimer.setTiempoParcial(MonitorConstants.MONITOR_DAO, MonitorConstants.INSERTA_PROCESOS);\r\n\t\t\tthrow new Exception(e);\r\n\t\t}\r\n\t\treturn cstmt;\r\n\t}\r\n\r\n\r\n","title":"simpleJdbcCall calling Pl/SQL procedure -- ORA-22922 nonexistent LOB value","body":"<p>I had a similar problem. And you can correct it. I make my contribution, hoping it can serve you.</p>\n<pre><code>public PreparedStatement insertaReprocesos(TimerLog timer, List&lt;ReprocesosDTO&gt; listaInsertaProcesos) throws SQLException, Exception{\n    Connection conexion = null;\n    CallableStatement cstmt = null;\n    String query = null;\n    try {\n        conexion = JDBCUtils.getConnection(UtilProperties.DATASOURCE);\n        Connection conexion2 = JDBCUtils.getImplementsConnectionAllServer(conexion);\n        query= UtilProperties.SP_INSERTA_REPROCESOS;\n        cstmt = conexion.prepareCall(query);\n        Object[] recordArray = new Object[6];\n        Struct[] structs = new Struct[listaInsertaProcesos.size()];\n        int registroCont = 0;\n        Clob myClob = conexion2.createClob();\n        for(ReprocesosDTO registro : listaInsertaProcesos) {\n            Reader reader = registro.getFcregistro().getCharacterStream();//esta variable la esta declarada como Clob\n            BufferedReader br = new BufferedReader(reader);\n            myClob.setString(1, br.readLine());\n            \n                recordArray[0] = registro.getFiprocesoId();\n                recordArray[1] = registro.getFdfecha();\n                recordArray[2] = (registro.getFisecuencia());\n                recordArray[3] = registro.getFistatusid();\n                recordArray[4] = myClob;// este dato en BD esta declarado como CLOB\n                recordArray[5] = registro.getFcusuario();\n                structs[registroCont++] = conexion2.createStruct(UtilProperties.TYP_REPORTE_PROCESOS, recordArray);\n        }\n        Array oracleRecord = ((OracleConnection) conexion2).createOracleArray(UtilProperties.TYPE_TAREPORTE,structs);\n        cstmt.setArray(1, oracleRecord);\n        cstmt.registerOutParameter(MonitorConstants.PA_CODIGO_SALIDA_2,OracleTypes.VARCHAR);\n        cstmt.registerOutParameter(MonitorConstants.PA_MENSAJE_SALIDA_3,OracleTypes.VARCHAR);\n        \n        cstmt.execute();\n    } catch (SQLException e) {\n        LOGGER.error(&quot;Mensaje &quot;+e.getMessage()+&quot;Causa: &quot;+e.getCause());\n        timer.setTiempoParcial(MonitorConstants.MONITOR_DAO, MonitorConstants.INSERTA_PROCESOS);\n        throw new SQLException(e);\n    } catch (Exception e) {\n        timer.setTiempoParcial(MonitorConstants.MONITOR_DAO, MonitorConstants.INSERTA_PROCESOS);\n        throw new Exception(e);\n    }\n    return cstmt;\n}\n</code></pre>\n"}],"owner":{"account_id":620225,"reputation":2065,"user_id":361275,"accept_rate":78,"display_name":"AliR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8704,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1637687330,"creation_date":1398995431,"question_id":23419567,"body_markdown":"I am getting this SQLException -- ORA-22922 nonexistent LOB value.\r\n\r\nMy scenario is:\r\n\r\n1. I am calling a procedure which takes a array of structs,\r\n2. The struct contains three types, two are date, and one a Clob\r\n3. When I execute the procedure using Spring&#39;s simpleJdbcCall setting the null instead of clob the statement gets executed and data gets written to the database.\r\n4. This tells that my simpleJdbcCall is setup correctly.\r\n\r\nHere is my code of creating clob, array and struct and executing the simpleJdbCall.\r\n\r\n      public void insertRecords(List&lt;MyObject&gt; objectList) throws Exception {\r\n        Array array = null;\r\n        Connection connection = jdbcTemplate.getDataSource().getConnection();\r\n        OracleConnection oracleConnection = connection.unwarp(OracleConnection.class);\r\n\r\n        Object[] arrObj = new Object[objectList.size()];\r\n        Object[][] structObj = new Object[objectList.size()][3];\r\n\r\n        Clob clob = connection.createClob();\r\n        for(int loop = 0; loop &lt; objectList.size(); loop++) {\r\n           clob.setString(objectList.get(loop).getData);\r\n\r\n           structObj[loop][0] = objectList.getDate1();\r\n           structObj[loop][1] = objectList.getDate2();\r\n           structObj[loop][2] = clob; //null; \r\n\r\n           arrObj[loop] = oracleConnection.createStruct(structName, structObj[loop]);\r\n         }\r\n\r\n         array = oracleConnection.createOracleArray(collectionName, arrObj);\r\n\r\n         Map&lt;String, Array&gt; inparam = new HashMap&lt;~&gt;;\r\n\r\n         inparam.put(arrayParamString, array);\r\n \r\n         //procInsertData is a SimpleJdbcCall\r\n         procInsertData.exexute(inparam);\r\n         clob.free();\r\n      }\r\n\r\n\r\nComments and solutions plz...\r\n\r\nUpdate: 5 May 2014 (Debug SQL statement logging output):\r\n\r\n    2014-05-05 11:30:18,126 [main] DEBUG  SimpleJdbcCall - JdbcCall call not compiled    before execution - invoking compile\r\n    2014-05-05 11:30:18,296 [main] DEBUG  SimpleJdbcCall - Compiled stored procedure. Call string is [{call MY_DB.WRITE(?)}]\r\n    2014-05-05 11:30:18,357 [main] DEBUG  SimpleJdbcCall - SqlCall for procedure [write] compiled\r\n    2014-05-05 11:30:18,367 [main] DEBUG  SimpleJdbcCall - The following parameters are used for call {call MY_DB.WRITE(?)} with:  {in_my_objects=org.springframework.jdbc.core.SqlParameterValue@7e4034bd}\r\n    2014-05-05 11:30:18,367 [main] DEBUG  SimpleJdbcCall - 1: in_my_objects SQL Type 2003 Type Name MY_OBJECT_COLL org.springframework.jdbc.core.SqlParameter\r\n    2014-05-05 11:30:18,388 [main] DEBUG  StatementCreatorUtils - Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 2003, type name null\r\n    2014-05-05 11:30:18,388 [main] TRACE  StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [oracle.sql.ARRAY@61d6687a], value class [oracle.sql.ARRAY], SQL type 2003\r\n    2014-05-05 11:30:18,447 [main] INFO   XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\r\n    2014-05-05 11:30:18,623 [main] INFO   SQLErrorCodesFactory - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]\r\n    Exception in thread &quot;main&quot; org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call MY_DB.WRITE(?)}]; SQL  state [99999]; error code [22922]; ORA-22922: nonexistent LOB value\r\n    ORA-06512: at &quot;PKG.MY_DB&quot;, line 30\r\n    ORA-06512: at line 1\r\n    ; nested exception is java.sql.SQLException: ORA-22922: nonexistent LOB value\r\n    ORA-06512: at &quot;PKG.MY_OBJ&quot;, line 30\r\n    ORA-06512: at line 1","title":"simpleJdbcCall calling Pl/SQL procedure -- ORA-22922 nonexistent LOB value","body":"<p>I am getting this SQLException -- ORA-22922 nonexistent LOB value.</p>\n\n<p>My scenario is:</p>\n\n<ol>\n<li>I am calling a procedure which takes a array of structs,</li>\n<li>The struct contains three types, two are date, and one a Clob</li>\n<li>When I execute the procedure using Spring's simpleJdbcCall setting the null instead of clob the statement gets executed and data gets written to the database.</li>\n<li>This tells that my simpleJdbcCall is setup correctly.</li>\n</ol>\n\n<p>Here is my code of creating clob, array and struct and executing the simpleJdbCall.</p>\n\n<pre><code>  public void insertRecords(List&lt;MyObject&gt; objectList) throws Exception {\n    Array array = null;\n    Connection connection = jdbcTemplate.getDataSource().getConnection();\n    OracleConnection oracleConnection = connection.unwarp(OracleConnection.class);\n\n    Object[] arrObj = new Object[objectList.size()];\n    Object[][] structObj = new Object[objectList.size()][3];\n\n    Clob clob = connection.createClob();\n    for(int loop = 0; loop &lt; objectList.size(); loop++) {\n       clob.setString(objectList.get(loop).getData);\n\n       structObj[loop][0] = objectList.getDate1();\n       structObj[loop][1] = objectList.getDate2();\n       structObj[loop][2] = clob; //null; \n\n       arrObj[loop] = oracleConnection.createStruct(structName, structObj[loop]);\n     }\n\n     array = oracleConnection.createOracleArray(collectionName, arrObj);\n\n     Map&lt;String, Array&gt; inparam = new HashMap&lt;~&gt;;\n\n     inparam.put(arrayParamString, array);\n\n     //procInsertData is a SimpleJdbcCall\n     procInsertData.exexute(inparam);\n     clob.free();\n  }\n</code></pre>\n\n<p>Comments and solutions plz...</p>\n\n<p>Update: 5 May 2014 (Debug SQL statement logging output):</p>\n\n<pre><code>2014-05-05 11:30:18,126 [main] DEBUG  SimpleJdbcCall - JdbcCall call not compiled    before execution - invoking compile\n2014-05-05 11:30:18,296 [main] DEBUG  SimpleJdbcCall - Compiled stored procedure. Call string is [{call MY_DB.WRITE(?)}]\n2014-05-05 11:30:18,357 [main] DEBUG  SimpleJdbcCall - SqlCall for procedure [write] compiled\n2014-05-05 11:30:18,367 [main] DEBUG  SimpleJdbcCall - The following parameters are used for call {call MY_DB.WRITE(?)} with:  {in_my_objects=org.springframework.jdbc.core.SqlParameterValue@7e4034bd}\n2014-05-05 11:30:18,367 [main] DEBUG  SimpleJdbcCall - 1: in_my_objects SQL Type 2003 Type Name MY_OBJECT_COLL org.springframework.jdbc.core.SqlParameter\n2014-05-05 11:30:18,388 [main] DEBUG  StatementCreatorUtils - Overriding type info with runtime info from SqlParameterValue: column index 1, SQL type 2003, type name null\n2014-05-05 11:30:18,388 [main] TRACE  StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [oracle.sql.ARRAY@61d6687a], value class [oracle.sql.ARRAY], SQL type 2003\n2014-05-05 11:30:18,447 [main] INFO   XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]\n2014-05-05 11:30:18,623 [main] INFO   SQLErrorCodesFactory - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]\nException in thread \"main\" org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call MY_DB.WRITE(?)}]; SQL  state [99999]; error code [22922]; ORA-22922: nonexistent LOB value\nORA-06512: at \"PKG.MY_DB\", line 30\nORA-06512: at line 1\n; nested exception is java.sql.SQLException: ORA-22922: nonexistent LOB value\nORA-06512: at \"PKG.MY_OBJ\", line 30\nORA-06512: at line 1\n</code></pre>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1616508373,"post_id":66764737,"comment_id":118019877,"body_markdown":"how did you try to run it?","body":"how did you try to run it?"},{"owner":{"account_id":16871757,"reputation":99,"user_id":12200109,"display_name":"Alexandre"},"score":1,"creation_date":1616508494,"post_id":66764737,"comment_id":118019939,"body_markdown":"Could you try using an other version of java (for ex java 11 LTS)","body":"Could you try using an other version of java (for ex java 11 LTS)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1616508720,"post_id":66764737,"comment_id":118020061,"body_markdown":"@Haidepzai RestController is not really an annotation for the entry point of the application. Did you try to run this code by running the main method?  Did you follow any tutorial/book when writing this code?","body":"@Haidepzai RestController is not really an annotation for the entry point of the application. Did you try to run this code by running the main method?  Did you follow any tutorial/book when writing this code?"},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1616508976,"post_id":66764737,"comment_id":118020206,"body_markdown":"Yeah I tried to run the main method. Yup, I followed the slides from my professor and did the same setup like on the slides but I think something is wrong with my IntelliJ...","body":"Yeah I tried to run the main method. Yup, I followed the slides from my professor and did the same setup like on the slides but I think something is wrong with my IntelliJ..."},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1616509370,"post_id":66764737,"comment_id":118020437,"body_markdown":"Okay I uninstalled IntelliJ and reinstalled and it seems to work. I still don&#39;t know why though...","body":"Okay I uninstalled IntelliJ and reinstalled and it seems to work. I still don&#39;t know why though..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1616509584,"post_id":66764737,"comment_id":118020555,"body_markdown":"you uninstalled intellij, re-installed it, re-imported the project, set your config, all in about six minutes?","body":"you uninstalled intellij, re-installed it, re-imported the project, set your config, all in about six minutes?"},{"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"score":0,"creation_date":1616509959,"post_id":66764737,"comment_id":118020746,"body_markdown":"About 10min, re-install and just create a new project","body":"About 10min, re-install and just create a new project"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1616509971,"post_id":66764737,"comment_id":118020754,"body_markdown":"Top and right corner of the screen go to FinanceMgmntApplication click the arrow to view options and click edit configurations. Then check JRE to be from JDK 16 .","body":"Top and right corner of the screen go to FinanceMgmntApplication click the arrow to view options and click edit configurations. Then check JRE to be from JDK 16 ."}],"answers":[{"tags":[],"owner":{"account_id":12628405,"reputation":43,"user_id":9180930,"display_name":"Yunan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637686918,"creation_date":1637686918,"answer_id":70084883,"question_id":66764737,"body_markdown":"try updating your Intellij IDE to the latest version.\r\nWorked for me.","title":"Problem with IntelliJ - Cannot run simple Spring Application","body":"<p>try updating your Intellij IDE to the latest version.\nWorked for me.</p>\n"}],"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1637686918,"creation_date":1616508183,"question_id":66764737,"body_markdown":"I don&#39;t know what is wrong but I created a new Spring Application and tried to run it but I always get this error:\r\n\r\n```\r\nError:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x5db45159) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5db45159\r\njava.lang.IllegalAccessError: class com.intellij.util.io.FileChannelUtil (in unnamed module @0x5db45159) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5db45159\r\n\tat com.intellij.util.io.FileChannelUtil.setupUnInterruptibleHandle(FileChannelUtil.java:26)\r\n\tat com.intellij.util.io.FileChannelUtil.&lt;clinit&gt;(FileChannelUtil.java:18)\r\n\tat com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext$1.execute(ReadWriteDirectBufferWrapper.java:50)\r\n\tat com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext$1.execute(ReadWriteDirectBufferWrapper.java:42)\r\n\tat com.intellij.openapi.util.io.FileUtilRt.doIOOperation(FileUtilRt.java:945)\r\n\tat com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext.&lt;init&gt;(ReadWriteDirectBufferWrapper.java:42)\r\n\tat com.intellij.util.io.ReadWriteDirectBufferWrapper.create(ReadWriteDirectBufferWrapper.java:27)\r\n\tat com.intellij.util.io.DirectBufferWrapper.getBuffer(DirectBufferWrapper.java:24)\r\n\tat com.intellij.util.io.ReadWriteDirectBufferWrapper.getBuffer(ReadWriteDirectBufferWrapper.java:16)\r\n\tat com.intellij.util.io.PagedFileStorage$StorageLock.createValue(PagedFileStorage.java:631)\r\n\tat com.intellij.util.io.PagedFileStorage$StorageLock.get(PagedFileStorage.java:558)\r\n\tat com.intellij.util.io.PagedFileStorage$StorageLock.access$500(PagedFileStorage.java:466)\r\n\tat com.intellij.util.io.PagedFileStorage.getBufferWrapper(PagedFileStorage.java:407)\r\n\tat com.intellij.util.io.PagedFileStorage.getBuffer(PagedFileStorage.java:371)\r\n\tat com.intellij.util.io.PagedFileStorage.putInt(PagedFileStorage.java:144)\r\n\tat com.intellij.util.io.ResizeableMappedFile.putInt(ResizeableMappedFile.java:222)\r\n\tat com.intellij.util.io.PersistentEnumeratorBase.markDirty(PersistentEnumeratorBase.java:597)\r\n\tat com.intellij.util.io.PersistentEnumeratorBase.&lt;init&gt;(PersistentEnumeratorBase.java:185)\r\n\tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:73)\r\n\tat com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:47)\r\n\tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:149)\r\n\tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:138)\r\n\tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:129)\r\n\tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:121)\r\n\tat com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:114)\r\n\tat org.jetbrains.jps.incremental.storage.AbstractStateStorage.createMap(AbstractStateStorage.java:124)\r\n\tat org.jetbrains.jps.incremental.storage.AbstractStateStorage.&lt;init&gt;(AbstractStateStorage.java:27)\r\n\tat org.jetbrains.jps.incremental.storage.FileTimestampStorage.&lt;init&gt;(FileTimestampStorage.java:27)\r\n\tat org.jetbrains.jps.incremental.storage.ProjectStamps.&lt;init&gt;(ProjectStamps.java:39)\r\n\tat org.jetbrains.jps.incremental.storage.ProjectTimestamps.&lt;init&gt;(ProjectTimestamps.java:19)\r\n\tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:92)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:274)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:130)\r\n\tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:232)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IxPpg.png\r\n\r\nWhat am I missing? I use Java SE 16 and SDK 8","title":"Problem with IntelliJ - Cannot run simple Spring Application","body":"<p>I don't know what is wrong but I created a new Spring Application and tried to run it but I always get this error:</p>\n<pre><code>Error:Internal error: (java.lang.IllegalAccessError) class com.intellij.util.io.FileChannelUtil (in unnamed module @0x5db45159) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5db45159\njava.lang.IllegalAccessError: class com.intellij.util.io.FileChannelUtil (in unnamed module @0x5db45159) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5db45159\n    at com.intellij.util.io.FileChannelUtil.setupUnInterruptibleHandle(FileChannelUtil.java:26)\n    at com.intellij.util.io.FileChannelUtil.&lt;clinit&gt;(FileChannelUtil.java:18)\n    at com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext$1.execute(ReadWriteDirectBufferWrapper.java:50)\n    at com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext$1.execute(ReadWriteDirectBufferWrapper.java:42)\n    at com.intellij.openapi.util.io.FileUtilRt.doIOOperation(FileUtilRt.java:945)\n    at com.intellij.util.io.ReadWriteDirectBufferWrapper$FileContext.&lt;init&gt;(ReadWriteDirectBufferWrapper.java:42)\n    at com.intellij.util.io.ReadWriteDirectBufferWrapper.create(ReadWriteDirectBufferWrapper.java:27)\n    at com.intellij.util.io.DirectBufferWrapper.getBuffer(DirectBufferWrapper.java:24)\n    at com.intellij.util.io.ReadWriteDirectBufferWrapper.getBuffer(ReadWriteDirectBufferWrapper.java:16)\n    at com.intellij.util.io.PagedFileStorage$StorageLock.createValue(PagedFileStorage.java:631)\n    at com.intellij.util.io.PagedFileStorage$StorageLock.get(PagedFileStorage.java:558)\n    at com.intellij.util.io.PagedFileStorage$StorageLock.access$500(PagedFileStorage.java:466)\n    at com.intellij.util.io.PagedFileStorage.getBufferWrapper(PagedFileStorage.java:407)\n    at com.intellij.util.io.PagedFileStorage.getBuffer(PagedFileStorage.java:371)\n    at com.intellij.util.io.PagedFileStorage.putInt(PagedFileStorage.java:144)\n    at com.intellij.util.io.ResizeableMappedFile.putInt(ResizeableMappedFile.java:222)\n    at com.intellij.util.io.PersistentEnumeratorBase.markDirty(PersistentEnumeratorBase.java:597)\n    at com.intellij.util.io.PersistentEnumeratorBase.&lt;init&gt;(PersistentEnumeratorBase.java:185)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:73)\n    at com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:47)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:149)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:138)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:129)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:121)\n    at com.intellij.util.io.PersistentHashMap.&lt;init&gt;(PersistentHashMap.java:114)\n    at org.jetbrains.jps.incremental.storage.AbstractStateStorage.createMap(AbstractStateStorage.java:124)\n    at org.jetbrains.jps.incremental.storage.AbstractStateStorage.&lt;init&gt;(AbstractStateStorage.java:27)\n    at org.jetbrains.jps.incremental.storage.FileTimestampStorage.&lt;init&gt;(FileTimestampStorage.java:27)\n    at org.jetbrains.jps.incremental.storage.ProjectStamps.&lt;init&gt;(ProjectStamps.java:39)\n    at org.jetbrains.jps.incremental.storage.ProjectTimestamps.&lt;init&gt;(ProjectTimestamps.java:19)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:92)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:274)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:130)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:232)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IxPpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IxPpg.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing? I use Java SE 16 and SDK 8</p>\n"},{"tags":["java","asynchronous","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1637642604,"post_id":70072530,"comment_id":123874587,"body_markdown":"Does this answer your question? [Fire and forget with reactor](https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor\">Fire and forget with reactor</a>"},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1637676394,"post_id":70072530,"comment_id":123886066,"body_markdown":"@lkatiforis Well, no, it doesn&#39;t :) It touches a similar problem, but from a different angle. They want to call an async method from within a reactive method, but return the original data. Here I want to call the already existing reactive method as if it were async. And I am asking if some specific solutions (**different** from those mentioned in your question) are OK. And, last but not least, I got a great answer from Michael Berry :) Please retract your close-because-of-duplicate vote :)","body":"@lkatiforis Well, no, it doesn&#39;t :) It touches a similar problem, but from a different angle. They want to call an async method from within a reactive method, but return the original data. Here I want to call the already existing reactive method as if it were async. And I am asking if some specific solutions (<b>different</b> from those mentioned in your question) are OK. And, last but not least, I got a great answer from Michael Berry :) Please retract your close-because-of-duplicate vote :)"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637629122,"creation_date":1637629122,"answer_id":70074177,"question_id":70072530,"body_markdown":"Your option with the following code is actually ok:\r\n```java\r\n@GetMapping\r\npublic void processData() {\r\n    service.processData()\r\n        .subscribeOn(Schedulers.boundedElastic())\r\n        .subscribe();\r\n}\r\n```\r\n\r\nThis is actually what you do in a `@Scheduled` method which simply returns nothing and you explicitly subscribe to the `Mono` or `Flux` so that elements are emitted.","title":"How to turn a Mono into a truly asynchronous (not reactive!) method call?","body":"<p>Your option with the following code is actually ok:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic void processData() {\n    service.processData()\n        .subscribeOn(Schedulers.boundedElastic())\n        .subscribe();\n}\n</code></pre>\n<p>This is actually what you do in a <code>@Scheduled</code> method which simply returns nothing and you explicitly subscribe to the <code>Mono</code> or <code>Flux</code> so that elements are emitted.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637686498,"creation_date":1637656604,"answer_id":70077666,"question_id":70072530,"body_markdown":" &gt; Is it OK (= doesn&#39;t it have any unwanted side effects) just to call Mono#subscribe() and return from the controller method?\r\n\r\nThere are side effects, but you may be ok living with them:\r\n\r\n - It truly is fire and forget - which means while you&#39;ll never be notified about a success (which most people realise), you&#39;ll also never be notified about a failure (which far fewer people realise.)\r\n - If the process hangs for some reason, that publisher will never complete, and you&#39;ll have no way of knowing. Since you&#39;re subscribing on the bounded elastic threadpool, it&#39;ll also tie up one of those limited threads indefinitely too.\r\n\r\nThe first point you might be fine with, or you might want to put some error logging further down that reactive chain as a side-effect somehow so you at least have an internal notification if something goes wrong.\r\n\r\nFor the second point - I&#39;d recommend putting a (generous) timeout on your method call so it at least gets cancelled if it hasn&#39;t completed in a set time, and is no longer hanging around consuming resources. If you&#39;re running an asynchronous task, then this isn&#39;t a massive issue as it&#39;ll just consume a bit of memory. If you&#39;re wrapping a blocking call on the elastic scheduler then this is worse however, as you&#39;re tying up a thread in that threadpool indefinitely.\r\n\r\nI&#39;d also question why you need to use the bounded elastic scheduler at all here - it&#39;s used for wrapping blocking calls, which doesn&#39;t seem to be the foundation of this use case. (To be clear, if your service is blocking then you should absolutely wrap it on the elastic scheduler - but if not then there&#39;s no reason to do so.)\r\n\r\nFinally, this example:\r\n\r\n```\r\npublic Mono&lt;Void&gt; processData() {\r\n    service.processData()\r\n        .subscribeOn(Schedulers.boundedElastic())\r\n        .subscribe();\r\n    return Mono.empty();\r\n}\r\n```\r\n\r\n...is a brilliant example of what *not* to do, as you&#39;re creating a kind of &quot;imposter reactive method&quot; - someone may very reasonably subscribe to that returned publisher thinking it will complete when the underlying publisher completes, which obviously isn&#39;t what&#39;s happening here. Using a `void` return type and thus not returning anything is the correct thing to do in this scenario.","title":"How to turn a Mono into a truly asynchronous (not reactive!) method call?","body":"<blockquote>\n<p>Is it OK (= doesn't it have any unwanted side effects) just to call Mono#subscribe() and return from the controller method?</p>\n</blockquote>\n<p>There are side effects, but you may be ok living with them:</p>\n<ul>\n<li>It truly is fire and forget - which means while you'll never be notified about a success (which most people realise), you'll also never be notified about a failure (which far fewer people realise.)</li>\n<li>If the process hangs for some reason, that publisher will never complete, and you'll have no way of knowing. Since you're subscribing on the bounded elastic threadpool, it'll also tie up one of those limited threads indefinitely too.</li>\n</ul>\n<p>The first point you might be fine with, or you might want to put some error logging further down that reactive chain as a side-effect somehow so you at least have an internal notification if something goes wrong.</p>\n<p>For the second point - I'd recommend putting a (generous) timeout on your method call so it at least gets cancelled if it hasn't completed in a set time, and is no longer hanging around consuming resources. If you're running an asynchronous task, then this isn't a massive issue as it'll just consume a bit of memory. If you're wrapping a blocking call on the elastic scheduler then this is worse however, as you're tying up a thread in that threadpool indefinitely.</p>\n<p>I'd also question why you need to use the bounded elastic scheduler at all here - it's used for wrapping blocking calls, which doesn't seem to be the foundation of this use case. (To be clear, if your service is blocking then you should absolutely wrap it on the elastic scheduler - but if not then there's no reason to do so.)</p>\n<p>Finally, this example:</p>\n<pre><code>public Mono&lt;Void&gt; processData() {\n    service.processData()\n        .subscribeOn(Schedulers.boundedElastic())\n        .subscribe();\n    return Mono.empty();\n}\n</code></pre>\n<p>...is a brilliant example of what <em>not</em> to do, as you're creating a kind of &quot;imposter reactive method&quot; - someone may very reasonably subscribe to that returned publisher thinking it will complete when the underlying publisher completes, which obviously isn't what's happening here. Using a <code>void</code> return type and thus not returning anything is the correct thing to do in this scenario.</p>\n"}],"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70077666,"answer_count":2,"score":5,"last_activity_date":1637686498,"creation_date":1637616187,"question_id":70072530,"body_markdown":"I have a method\r\n\r\n``` java-lang\r\n@Service\r\npublic class MyService {\r\n    public Mono&lt;Integer&gt; processData() {\r\n        ... // very long reactive operation\r\n    }\r\n}\r\n```\r\n\r\nIn the normal program flow, I call this method asynchronously via a Kafka event.\r\n\r\nFor testing purposes I need to **expose the method as a web service, but the method should be exposed as asynchronous**: returning only HTTP code 200 OK (&quot;request accepted&quot;) and continuing the data processing in the background.\r\n\r\nIs it OK (= doesn&#39;t it have any unwanted side effects) just to call `Mono#subscribe()` and return from the controller method?\r\n\r\n``` lang-java\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class MyController {\r\n    private final MyService service;\r\n\r\n    @GetMapping\r\n    public void processData() {\r\n        service.processData()\r\n            .subscribeOn(Schedulers.boundedElastic())\r\n            .subscribe();\r\n    }\r\n}\r\n```\r\n\r\nOr is it better to do it like this (here I am confused by the warning from IntelliJ, maybe the same as https://youtrack.jetbrains.com/issue/IDEA-276018 ?):\r\n\r\n``` lang-java\r\npublic Mono&lt;Void&gt; processData() {\r\n    service.processData()\r\n        .subscribeOn(Schedulers.boundedElastic())\r\n        .subscribe(); // IntelliJ complains &quot;Inappropriate &#39;subscribe&#39; call&quot; but I think it&#39;s a false alarm in my case(?)\r\n    return Mono.empty();\r\n}\r\n```\r\n\r\nOr some other solution?\r\n","title":"How to turn a Mono into a truly asynchronous (not reactive!) method call?","body":"<p>I have a method</p>\n<pre><code>@Service\npublic class MyService {\n    public Mono&lt;Integer&gt; processData() {\n        ... // very long reactive operation\n    }\n}\n</code></pre>\n<p>In the normal program flow, I call this method asynchronously via a Kafka event.</p>\n<p>For testing purposes I need to <strong>expose the method as a web service, but the method should be exposed as asynchronous</strong>: returning only HTTP code 200 OK (&quot;request accepted&quot;) and continuing the data processing in the background.</p>\n<p>Is it OK (= doesn't it have any unwanted side effects) just to call <code>Mono#subscribe()</code> and return from the controller method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\npublic class MyController {\n    private final MyService service;\n\n    @GetMapping\n    public void processData() {\n        service.processData()\n            .subscribeOn(Schedulers.boundedElastic())\n            .subscribe();\n    }\n}\n</code></pre>\n<p>Or is it better to do it like this (here I am confused by the warning from IntelliJ, maybe the same as <a href=\"https://youtrack.jetbrains.com/issue/IDEA-276018\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-276018</a> ?):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Void&gt; processData() {\n    service.processData()\n        .subscribeOn(Schedulers.boundedElastic())\n        .subscribe(); // IntelliJ complains &quot;Inappropriate 'subscribe' call&quot; but I think it's a false alarm in my case(?)\n    return Mono.empty();\n}\n</code></pre>\n<p>Or some other solution?</p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":6137419,"reputation":798,"user_id":4785772,"accept_rate":50,"display_name":"Tausif"},"score":2,"creation_date":1637687915,"post_id":70084732,"comment_id":123891131,"body_markdown":"Please provide your activity_main xml file","body":"Please provide your activity_main xml file"},{"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"score":0,"creation_date":1642505690,"post_id":70084732,"comment_id":125083301,"body_markdown":"Please show activity_main.xml content and Error content.","body":"Please show activity_main.xml content and Error content."}],"owner":{"account_id":23398897,"reputation":1,"user_id":17462383,"display_name":"Syed Jaseem Syed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637686480,"creation_date":1637686318,"question_id":70084732,"body_markdown":"I am trying to write an Android Studio `java` based program. In which I wanted to display a `button` whoes ID is startButton.It will be nice and I request you whoever watching this \r\nquestion try to understand my problem and answer it.  \r\nThe problem is that when I declared a variable called startButton as a `Button type` it showing we a problem tha Unexpected cast of `Button`.\r\n\r\n\r\n    package com.green.numbergames;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        Button startButton;\r\n        public void start(View view){\r\n\r\n\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n           startButton = (Button) findViewById(R.id.startButton);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Unexpected cast of `Button`","body":"<p>I am trying to write an Android Studio <code>java</code> based program. In which I wanted to display a <code>button</code> whoes ID is startButton.It will be nice and I request you whoever watching this\nquestion try to understand my problem and answer it.<br />\nThe problem is that when I declared a variable called startButton as a <code>Button type</code> it showing we a problem tha Unexpected cast of <code>Button</code>.</p>\n<pre><code>package com.green.numbergames;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    Button startButton;\n    public void start(View view){\n\n\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       startButton = (Button) findViewById(R.id.startButton);\n    }\n}\n</code></pre>\n"},{"tags":["java","database-connection","datasource"],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637686111,"creation_date":1637686111,"answer_id":70084689,"question_id":70084041,"body_markdown":"You&#39;re right, when you&#39;re calling `datasource` from configuration class, new instance is created because [Spring AOP doesn&#39;t support self invocation via `this`][1]. \r\n\r\nMoreover, even if you have used this AOP correctly, this wouldn&#39;t have closed `DataSource`, since you&#39;re creating new connection (via `getConnection()` and then closing it.\r\n\r\nIf you want to close `HikariDataSource`, then you need to call `HikariDataSource#close`.\r\n\r\nAlso, you don&#39;t need `@Bean` annotation on your `void` method since it makes no sense.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56614354/why-does-self-invocation-not-work-for-spring-proxies-e-g-with-aop","title":"Issue closing data source connection","body":"<p>You're right, when you're calling <code>datasource</code> from configuration class, new instance is created because <a href=\"https://stackoverflow.com/questions/56614354/why-does-self-invocation-not-work-for-spring-proxies-e-g-with-aop\">Spring AOP doesn't support self invocation via <code>this</code></a>.</p>\n<p>Moreover, even if you have used this AOP correctly, this wouldn't have closed <code>DataSource</code>, since you're creating new connection (via <code>getConnection()</code> and then closing it.</p>\n<p>If you want to close <code>HikariDataSource</code>, then you need to call <code>HikariDataSource#close</code>.</p>\n<p>Also, you don't need <code>@Bean</code> annotation on your <code>void</code> method since it makes no sense.</p>\n"}],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70084689,"answer_count":1,"score":0,"last_activity_date":1637686111,"creation_date":1637683394,"question_id":70084041,"body_markdown":"I have a data source that is setup &amp; then, used by a third party software to execute sql. After the sql is run I have another bean that executes &amp; closes the connection.\r\n\r\n```\r\n@Bean\r\npublic DataSource datasource() {\r\n    HikariConfig myconfig = new HikariConfig();\r\n    ...\r\n    return new HikariDataSource(myconfig);\r\n}\r\n\r\n@Bean\r\n@DependsOn(&quot;sqlproject&quot;)\r\npublic void closeConnection() throws SQLException {\r\n    Connection c = datasource().getConnection();\r\n    try {\r\n        c.close();\r\n    } \r\n    finally {\r\n        System.out.println(c.isClosed());\r\n    }\r\n}\r\n```\r\n\r\nHowever, I can clearly still make local calls using that datasource connection to particular data. Should I not be calling `datasource()` because this creates a new instance ? What am I doing wrong ?","title":"Issue closing data source connection","body":"<p>I have a data source that is setup &amp; then, used by a third party software to execute sql. After the sql is run I have another bean that executes &amp; closes the connection.</p>\n<pre><code>@Bean\npublic DataSource datasource() {\n    HikariConfig myconfig = new HikariConfig();\n    ...\n    return new HikariDataSource(myconfig);\n}\n\n@Bean\n@DependsOn(&quot;sqlproject&quot;)\npublic void closeConnection() throws SQLException {\n    Connection c = datasource().getConnection();\n    try {\n        c.close();\n    } \n    finally {\n        System.out.println(c.isClosed());\n    }\n}\n</code></pre>\n<p>However, I can clearly still make local calls using that datasource connection to particular data. Should I not be calling <code>datasource()</code> because this creates a new instance ? What am I doing wrong ?</p>\n"},{"tags":["java","jdbc","spring-jdbc","java-11"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1586736385,"post_id":61179770,"comment_id":108231245,"body_markdown":"_I have an enum_ - Can you edit the question, to show us your enum, together with some of your data, to help explain _the orders may change often so I can&#39;t rely on the ordinal_? Basically, can you show us your code, and how you want to use it? Thank you!","body":"<i>I have an enum</i> - Can you edit the question, to show us your enum, together with some of your data, to help explain <i>the orders may change often so I can&#39;t rely on the ordinal</i>? Basically, can you show us your code, and how you want to use it? Thank you!"},{"owner":{"account_id":17224887,"reputation":188,"user_id":12470787,"display_name":"djsoteric"},"score":0,"creation_date":1586744393,"post_id":61179770,"comment_id":108232708,"body_markdown":"I can copy/paste the enum in the linked example if that&#39;s alright. It&#39;s the same thing.","body":"I can copy/paste the enum in the linked example if that&#39;s alright. It&#39;s the same thing."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1586744549,"post_id":61179770,"comment_id":108232746,"body_markdown":"Sorry - I missed that - thanks for the update, though.","body":"Sorry - I missed that - thanks for the update, though."},{"owner":{"display_name":"user5914598"},"score":0,"creation_date":1586779966,"post_id":61179770,"comment_id":108244434,"body_markdown":"Even it is not the direct answer of yours, but this fella is the best about all mapping things  https://vladmihalcea.com/","body":"Even it is not the direct answer of yours, but this fella is the best about all mapping things  <a href=\"https://vladmihalcea.com/\" rel=\"nofollow noreferrer\">vladmihalcea.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637685916,"creation_date":1637685916,"answer_id":70084632,"question_id":61179770,"body_markdown":"As for now, AFAIK, it is not possible. Also spring [official doc][1] on sping-data-jdbc said that enums get mapped on their names. There is an [issue][2] btw to implement this kind of feature, but on current spring-data-jdbc version, which is [2.3.0][3], I do not know any ways you can do it somehow decoratively (I assume this is what you actually wanted), i.e. annotations.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#jdbc.entity-persistence.types\r\n  [2]: https://github.com/spring-projects/spring-data-jdbc/issues/1077\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.data/spring-data-jdbc/2.3.0","title":"Using Spring JDBC, what is the right way to convert an enum to and from a custom value?","body":"<p>As for now, AFAIK, it is not possible. Also spring <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#jdbc.entity-persistence.types\" rel=\"nofollow noreferrer\">official doc</a> on sping-data-jdbc said that enums get mapped on their names. There is an <a href=\"https://github.com/spring-projects/spring-data-jdbc/issues/1077\" rel=\"nofollow noreferrer\">issue</a> btw to implement this kind of feature, but on current spring-data-jdbc version, which is <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-jdbc/2.3.0\" rel=\"nofollow noreferrer\">2.3.0</a>, I do not know any ways you can do it somehow decoratively (I assume this is what you actually wanted), i.e. annotations.</p>\n"}],"owner":{"account_id":17224887,"reputation":188,"user_id":12470787,"display_name":"djsoteric"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637685916,"creation_date":1586736040,"question_id":61179770,"body_markdown":"I have an enum with custom integer values mapped to each enum because the orders may change often so I can&#39;t rely on the ordinal. I see similar questions specific to JPA/Hibernate (this is the exact scenario I have: https://stackoverflow.com/questions/2751733/map-enum-in-jpa-with-fixed-values), but we are only using JDBC templates in my project so there is no JPA/Hibernate integration. \r\n\r\nI can create a `RowMapper` and set the enum manually, but I wanted to avoid doing so because the default behavior for all of the other columns is correct. \r\nI was able to write the value from the enum by overriding  `setTypeValue` on the enum class, but I&#39;m not sure what the equivalent would be for doing this on read. \r\n\r\nExample (from copied question):\r\n\r\n      public enum Right {\r\n          READ(100), WRITE(200), EDITOR (300);\r\n    \r\n          private int value;\r\n    \r\n          Right(int value) { this.value = value; }\r\n    \r\n          public int getValue() { return value; }\r\n      };\r\n\r\nI want to be able to use getValue() to set the value in the database and to read it back and map it to the enum (e.g., &quot;200&quot; in the DB needs to map to `Right.WRITE`","title":"Using Spring JDBC, what is the right way to convert an enum to and from a custom value?","body":"<p>I have an enum with custom integer values mapped to each enum because the orders may change often so I can't rely on the ordinal. I see similar questions specific to JPA/Hibernate (this is the exact scenario I have: <a href=\"https://stackoverflow.com/questions/2751733/map-enum-in-jpa-with-fixed-values\">Map enum in JPA with fixed values?</a>), but we are only using JDBC templates in my project so there is no JPA/Hibernate integration. </p>\n\n<p>I can create a <code>RowMapper</code> and set the enum manually, but I wanted to avoid doing so because the default behavior for all of the other columns is correct. \nI was able to write the value from the enum by overriding  <code>setTypeValue</code> on the enum class, but I'm not sure what the equivalent would be for doing this on read. </p>\n\n<p>Example (from copied question):</p>\n\n<pre><code>  public enum Right {\n      READ(100), WRITE(200), EDITOR (300);\n\n      private int value;\n\n      Right(int value) { this.value = value; }\n\n      public int getValue() { return value; }\n  };\n</code></pre>\n\n<p>I want to be able to use getValue() to set the value in the database and to read it back and map it to the enum (e.g., \"200\" in the DB needs to map to <code>Right.WRITE</code></p>\n"},{"tags":["java","powershell","maven"],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637683753,"creation_date":1637683753,"answer_id":70084147,"question_id":70083948,"body_markdown":"If I run your script with PowerShell, I get the same error.\r\n\r\nYou can either change your shell or use the version that works with PowerShell:\r\n\r\n``` ps\r\nmvn -B archetype:generate -D&quot;groupId=com.mycompany.app&quot; -D&quot;artifactId=my-app&quot; -D&quot;archetypeArtifactId=maven-archetype-quickstart&quot; -D&quot;archetypeVersion=1.4&quot;\r\n```\r\n\r\nThis might be a duplicate of: [Cannot run Maven using `mvn -D` argument within Microsoft Powershell, but works in Command Prompt](https://stackoverflow.com/q/6347985/6367213)","title":"mvn:generate results in &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>If I run your script with PowerShell, I get the same error.</p>\n<p>You can either change your shell or use the version that works with PowerShell:</p>\n<pre><code>mvn -B archetype:generate -D&quot;groupId=com.mycompany.app&quot; -D&quot;artifactId=my-app&quot; -D&quot;archetypeArtifactId=maven-archetype-quickstart&quot; -D&quot;archetypeVersion=1.4&quot;\n</code></pre>\n<p>This might be a duplicate of: <a href=\"https://stackoverflow.com/q/6347985/6367213\">Cannot run Maven using <code>mvn -D</code> argument within Microsoft Powershell, but works in Command Prompt</a></p>\n"}],"owner":{"account_id":6399426,"reputation":8446,"user_id":5045227,"accept_rate":68,"display_name":"BugHunterUK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3060,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70084147,"answer_count":1,"score":1,"last_activity_date":1637685492,"creation_date":1637682984,"question_id":70083948,"body_markdown":"I&#39;m following the Maven tutorial on their site: https://maven.apache.org/guides/getting-started/index.html#how-do-i-make-my-first-maven-project\r\n\r\nWhen I run the following Maven generate command I get an error about a missing `POM.xml` file.\r\n\r\n    mvn -B archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\r\n\r\nThe error is:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.074 s\r\n    [INFO] Finished at: 2021-11-23T15:52:42Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] The goal you specified requires a project to execute but there is no POM in this directory (C:\\Users\\Jay\\Desktop\\java-youtube). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\r\n\r\nThe confusion I&#39;m having is according to the tutorial a `POM.xml` should be generated after running this command, but instead I get the error above.\r\n\r\nAny idea what I&#39;m doing wrong?\r\n\r\n`mvn --version` results:\r\n\r\n    Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\n    Maven home: C:\\Users\\Jay\\bin\\apache-maven-3.8.4\r\n    Java version: 17, vendor: Oracle Corporation, runtime: C:\\Users\\Jay\\.jabba\\jdk\\openjdk@1.17.0\r\n    Default locale: en_GB, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","title":"mvn:generate results in &quot;The goal you specified requires a project to execute but there is no POM in this directory&quot;","body":"<p>I'm following the Maven tutorial on their site: <a href=\"https://maven.apache.org/guides/getting-started/index.html#how-do-i-make-my-first-maven-project\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/getting-started/index.html#how-do-i-make-my-first-maven-project</a></p>\n<p>When I run the following Maven generate command I get an error about a missing <code>POM.xml</code> file.</p>\n<pre><code>mvn -B archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4\n</code></pre>\n<p>The error is:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.074 s\n[INFO] Finished at: 2021-11-23T15:52:42Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] The goal you specified requires a project to execute but there is no POM in this directory (C:\\Users\\Jay\\Desktop\\java-youtube). Please verify you invoked Maven from the correct directory. -&gt; [Help 1]\n</code></pre>\n<p>The confusion I'm having is according to the tutorial a <code>POM.xml</code> should be generated after running this command, but instead I get the error above.</p>\n<p>Any idea what I'm doing wrong?</p>\n<p><code>mvn --version</code> results:</p>\n<pre><code>Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\nMaven home: C:\\Users\\Jay\\bin\\apache-maven-3.8.4\nJava version: 17, vendor: Oracle Corporation, runtime: C:\\Users\\Jay\\.jabba\\jdk\\openjdk@1.17.0\nDefault locale: en_GB, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1542358494,"post_id":53331800,"comment_id":93547961,"body_markdown":"The JPA ID needn&#39;t correspond to the database PK - it just has to be a unique column or combination of columns. If you have 2 columns forming a unique ID then you can use a composite JPA ID. https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Composite_Primary_Keys","body":"The JPA ID needn&#39;t correspond to the database PK - it just has to be a unique column or combination of columns. If you have 2 columns forming a unique ID then you can use a composite JPA ID. <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Composite_Primary_Keys\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1542345916,"creation_date":1542345916,"answer_id":53331920,"question_id":53331800,"body_markdown":"JPA Specification clearly narrates that an Entity class must have a unique, immutable ID. However there are some hacks you can give them a try.\r\n\r\n1) Maintain UUID for this purpose.\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n    private UUID uuid;\r\n\r\n2) Create a DTO/POJO representation of data fields in view layer, then execute a SQL Native query, then map the result set to your class","title":"How to create the table without @Id field in spring using jpa?","body":"<p>JPA Specification clearly narrates that an Entity class must have a unique, immutable ID. However there are some hacks you can give them a try.</p>\n\n<p>1) Maintain UUID for this purpose.</p>\n\n<pre><code>@Id\n@Column(columnDefinition = \"BINARY(16)\")\nprivate UUID uuid;\n</code></pre>\n\n<p>2) Create a DTO/POJO representation of data fields in view layer, then execute a SQL Native query, then map the result set to your class</p>\n"},{"tags":[],"owner":{"account_id":5641068,"reputation":431,"user_id":4464927,"display_name":"Swarathesh Addanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637685481,"creation_date":1637685481,"answer_id":70084531,"question_id":53331800,"body_markdown":"**USE JPA PROJECTIONS**\r\nIn your case you dont have a primary key so use JpaProjections to get the fields you want\r\nfirst declare Entity as \r\n\r\n&gt;     @Entity\r\n&gt;     @Immutable\r\n&gt; \r\n&gt;\r\n\r\nset your Repository \r\n\r\n    public interface AddressView {\r\n        String getZipCode();\r\n    }\r\n\r\nThen use it in a repository interface:\r\n\r\n    public interface AddressRepository extends Repository&lt;Address, Long&gt; {\r\n          @Query(&quot;SELECT ADDRESS from TABLE WHERE address =  ?1&quot;)\r\n        AddressView getAddressByState(String state);\r\n    }\r\n\r\nnote ADDRESS entity in above is a placeholder\r\njust make it \r\n\r\n    Public class ADDRESS{\r\n    @Id\r\n    Long id;\r\n\r\n   \r\n   \r\n\r\n","title":"How to create the table without @Id field in spring using jpa?","body":"<p><strong>USE JPA PROJECTIONS</strong>\nIn your case you dont have a primary key so use JpaProjections to get the fields you want\nfirst declare Entity as</p>\n<blockquote>\n<pre><code>@Entity\n@Immutable\n</code></pre>\n</blockquote>\n<p>set your Repository</p>\n<pre><code>public interface AddressView {\n    String getZipCode();\n}\n</code></pre>\n<p>Then use it in a repository interface:</p>\n<pre><code>public interface AddressRepository extends Repository&lt;Address, Long&gt; {\n      @Query(&quot;SELECT ADDRESS from TABLE WHERE address =  ?1&quot;)\n    AddressView getAddressByState(String state);\n}\n</code></pre>\n<p>note ADDRESS entity in above is a placeholder\njust make it</p>\n<pre><code>Public class ADDRESS{\n@Id\nLong id;\n</code></pre>\n"}],"owner":{"account_id":14615466,"reputation":653,"user_id":10555697,"display_name":"ashwin karki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17247,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53331920,"answer_count":2,"score":3,"last_activity_date":1637685481,"creation_date":1542345112,"question_id":53331800,"body_markdown":"I am using spring boot and jpa to create the table but I need to create table without &lt;b&gt;@Id&lt;/b&gt; primary key column.It is not giving me to make the table without this @Id field. How to get this using spring data jpa?\r\n\r\nLetterDoc.java\r\n\r\n    package com.ashwin.springsecurityangular.model;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;letter_doc&quot;)\r\n    public class LetterDoc implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n    \t@ManyToOne(fetch = FetchType.EAGER, optional = false,cascade=CascadeType.PERSIST)\r\n        @JoinColumn(name = &quot;letterNo&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate Letter letter;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.EAGER, optional = false,cascade=CascadeType.PERSIST)\r\n        @JoinColumn(name = &quot;documentId&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate Document document;\r\n    \t\r\n    \tprivate String docFile;\r\n    \r\n    //i omitted getters and setters and both constructor\r\n    }\r\n     \r\nIt ask me the @Id field need.So there is error like:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.ashwin.springsecurityangular.model.LetterDoc\r\n\r\nIn this table i am avoided to make @Id field but it is not giving me.How to achieve this?","title":"How to create the table without @Id field in spring using jpa?","body":"<p>I am using spring boot and jpa to create the table but I need to create table without <b>@Id</b> primary key column.It is not giving me to make the table without this @Id field. How to get this using spring data jpa?</p>\n\n<p>LetterDoc.java</p>\n\n<pre><code>package com.ashwin.springsecurityangular.model;\n\nimport java.io.Serializable;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n@Entity\n@Table(name = \"letter_doc\")\npublic class LetterDoc implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false,cascade=CascadeType.PERSIST)\n    @JoinColumn(name = \"letterNo\")\n    @JsonIgnore\n    private Letter letter;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false,cascade=CascadeType.PERSIST)\n    @JoinColumn(name = \"documentId\")\n    @JsonIgnore\n    private Document document;\n\n    private String docFile;\n\n//i omitted getters and setters and both constructor\n}\n</code></pre>\n\n<p>It ask me the @Id field need.So there is error like:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.ashwin.springsecurityangular.model.LetterDoc\n</code></pre>\n\n<p>In this table i am avoided to make @Id field but it is not giving me.How to achieve this?</p>\n"},{"tags":["java","spring","jdbctemplate"],"comments":[{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1637685020,"post_id":70084359,"comment_id":123890000,"body_markdown":"Does this answer your question? [How to execute INSERT statement using JdbcTemplate class from Spring Framework](https://stackoverflow.com/questions/5026943/how-to-execute-insert-statement-using-jdbctemplate-class-from-spring-framework)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5026943/how-to-execute-insert-statement-using-jdbctemplate-class-from-spring-framework\">How to execute INSERT statement using JdbcTemplate class from Spring Framework</a>"},{"owner":{"account_id":9769458,"reputation":3,"user_id":7241872,"display_name":"Mahmood "},"score":0,"creation_date":1637686226,"post_id":70084359,"comment_id":123890462,"body_markdown":"@fujy sorry No.","body":"@fujy sorry No."},{"owner":{"account_id":9769458,"reputation":3,"user_id":7241872,"display_name":"Mahmood "},"score":0,"creation_date":1647336804,"post_id":70084359,"comment_id":126339871,"body_markdown":"@fujy No this is only insert in one table I want to insert into two related table in same time","body":"@fujy No this is only insert in one table I want to insert into two related table in same time"}],"owner":{"account_id":9769458,"reputation":3,"user_id":7241872,"display_name":"Mahmood "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637684658,"creation_date":1637684658,"question_id":70084359,"body_markdown":"I wark on spring rest API project where I have to insert Model and this model has realtion with other table (one-to-many) and I am using jdbcTemaple for some resons.\r\n\r\nThe api client send json object and it have list of the reated object. \r\n\r\nHow I can Insert this object in DB.\r\n\r\nfor eaxample client send this DTO:\r\n```\r\n{\r\n &quot;name&quot;: &quot;Join&quot;\r\n &quot;courses: [\r\n  {\r\n   &quot;id&quot; : 1,\r\n   &quot;courseName&quot;:&quot;Phisics&quot;\r\n  },\r\n {\r\n  &quot;id&quot; : 2,\r\n  &quot;courseName&quot;:&quot;Chemistry&quot;\r\n }\r\n]\r\n```","title":"How to isnset in recored with one-to-many relationship using jdbcTemplate?","body":"<p>I wark on spring rest API project where I have to insert Model and this model has realtion with other table (one-to-many) and I am using jdbcTemaple for some resons.</p>\n<p>The api client send json object and it have list of the reated object.</p>\n<p>How I can Insert this object in DB.</p>\n<p>for eaxample client send this DTO:</p>\n<pre><code>{\n &quot;name&quot;: &quot;Join&quot;\n &quot;courses: [\n  {\n   &quot;id&quot; : 1,\n   &quot;courseName&quot;:&quot;Phisics&quot;\n  },\n {\n  &quot;id&quot; : 2,\n  &quot;courseName&quot;:&quot;Chemistry&quot;\n }\n]\n</code></pre>\n"},{"tags":["java","spring-data-jpa","distinct","criteria-api","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1551342514,"creation_date":1551162883,"answer_id":54879670,"question_id":54869033,"body_markdown":"Inside of your `toPredicate` method, can you do;\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;Company&gt; roots, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        ....\r\n        query.distinct(true);\r\n        return ...;\r\n    }\r\n\r\nFrom &gt; [CriteriaQuery#distinct][1]\r\n\r\nThough what you are trying to do might not be possible, it is said to be a [limitation of JPA](https://stackoverflow.com/questions/18300465/spring-data-jpa-and-querydsl-to-fetch-subset-of-columns-using-bean-constructor-p)\r\n\r\nWhat you can try to do, is either remove duplicates within the code after fetch, or try to override `equals` &amp;  `hashCode` methods to try to hack the distinct definition maybe?\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html#distinct-boolean-","title":"How to add distinct property to query with jpa specification","body":"<p>Inside of your <code>toPredicate</code> method, can you do;</p>\n\n<pre><code>@Override\npublic Predicate toPredicate(Root&lt;Company&gt; roots, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n    ....\n    query.distinct(true);\n    return ...;\n}\n</code></pre>\n\n<p>From > <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaQuery.html#distinct-boolean-\" rel=\"nofollow noreferrer\">CriteriaQuery#distinct</a></p>\n\n<p>Though what you are trying to do might not be possible, it is said to be a <a href=\"https://stackoverflow.com/questions/18300465/spring-data-jpa-and-querydsl-to-fetch-subset-of-columns-using-bean-constructor-p\">limitation of JPA</a></p>\n\n<p>What you can try to do, is either remove duplicates within the code after fetch, or try to override <code>equals</code> &amp;  <code>hashCode</code> methods to try to hack the distinct definition maybe?</p>\n"}],"owner":{"account_id":4708386,"reputation":63,"user_id":3809748,"display_name":"ouatrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13917,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54879670,"answer_count":1,"score":3,"last_activity_date":1637684500,"creation_date":1551106925,"question_id":54869033,"body_markdown":"I am using jhipster criteria and jpa specification to implement an endpoint for making research.\r\n\r\nWell it is working, but keep sending me duplicates.\r\n\r\nThere is prestations with this model\r\n\r\n    public class Prestation extends AbstractAuditingEntity implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n\t@SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n\tprivate Long id;\r\n\r\n\t@NotNull\r\n\t@Column(name = &quot;jhi_label&quot;, nullable = false)\r\n\tprivate String label;\r\n\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\t@Column(name = &quot;unit&quot;)\r\n\tprivate String unit;\r\n\t\r\n\t@NotNull\r\n\t@Column(name = &quot;activated&quot;, nullable = false)\r\n\tprivate boolean activated;\r\n\r\n\t@ManyToOne(optional = false)\r\n\t@NotNull\r\n\t@JsonIgnoreProperties(&quot;prestations&quot;)\r\n\tprivate SubCategory subCategory;\r\n\r\n\t@OneToMany(mappedBy = &quot;prestation&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;CompanyPrestation&gt; companies = new ArrayList&lt;&gt;();\r\n\r\nAnd relation between company and prestations\r\n\r\n    @OneToMany(mappedBy = &quot;company&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@LazyCollection(LazyCollectionOption.FALSE)\r\n\tprivate List&lt;CompanyPrestation&gt; prestations = new ArrayList&lt;&gt;();\r\n\r\n\r\nAnd here is the CompanySpecification class that i used to create specification that i give to the repository\r\n\r\n    public class CompanySpecification extends QueryService&lt;Company&gt; implements Specification&lt;Company&gt; {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate CompanyCriteria criteria;\r\n\r\n\tpublic CompanySpecification(CompanyCriteria criteria) {\r\n\t\tthis.criteria = criteria;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Predicate toPredicate(Root&lt;Company&gt; roots, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n\r\n\t\tSpecification&lt;Company&gt; specification = Specification.where(null);\r\n\t\tif (criteria != null) {\r\n\t\t\tif (criteria.getName() != null) {\r\n\t\t\t\tspecification = specification.or(buildStringSpecification(criteria.getName(), Company_.name));\r\n\t\t\t}\r\n\t\t\tif (criteria.getSiret() != null) {\r\n\t\t\t\tspecification = specification.or(buildStringSpecification(criteria.getSiret(), Company_.siret));\r\n\t\t\t}\r\n\t\t\tif (criteria.getCodeAPE() != null) {\r\n\t\t\t\tspecification = specification.or(buildStringSpecification(criteria.getCodeAPE(), Company_.codeAPE));\r\n\t\t\t}\r\n\t\t\tif (criteria.getLegalForm() != null) {\r\n\t\t\t\tspecification = specification.or(buildStringSpecification(criteria.getLegalForm(), Company_.legalForm));\r\n\t\t\t}\r\n\t\t\tif (criteria.getVille() != null) {\r\n\t\t\t\tspecification = specification\r\n\t\t\t\t\t\t.and(buildReferringEntitySpecification(criteria.getVille(), Company_.address, Address_.ville));\r\n\t\t\t}\r\n\t\t\tif (criteria.getExercicePlace() != null &amp;&amp; !criteria.getExercicePlace().getIn().isEmpty()) {\r\n\t\t\t\tFilter&lt;ExercicePlace&gt; exercicePlaceFilter = new Filter&lt;&gt;();\r\n\t\t\t\texercicePlaceFilter.setIn(criteria.getExercicePlace().getIn().stream().map(ExercicePlace::valueOf)\r\n\t\t\t\t\t\t.collect(Collectors.toList()));\r\n\t\t\t\tspecification = specification.and(buildSpecification(exercicePlaceFilter, Company_.exercicePlace));\r\n\t\t\t}\r\n\t\t\tif (criteria.getCodePostal() != null) {\r\n\t\t\t\tspecification = specification.and(buildReferringEntitySpecification(criteria.getCodePostal(),\r\n\t\t\t\t\t\tCompany_.address, Address_.codePostal));\r\n\t\t\t}\r\n\t\t\tif (criteria.getPrestationsId() != null) {\r\n\t\t\t\tspecification = specification.and(buildSpecification(criteria.getPrestationsId(),\r\n\t\t\t\t\t\troot -&gt; root.join(Company_.prestations, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(CompanyPrestation_.prestation, JoinType.LEFT).get(Prestation_.id)));\r\n\t\t\t}\r\n\t\t\tif (criteria.getCatId() != null) {\r\n\t\t\t\tspecification = specification.and(buildSpecification(criteria.getCatId(),\r\n\t\t\t\t\t\troot -&gt; root.join(Company_.prestations, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(CompanyPrestation_.prestation, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(Prestation_.subCategory, JoinType.LEFT).join(SubCategory_.category, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.get(Category_.id)));\r\n\t\t\t}\r\n\t\t\tif (criteria.getSubCatId() != null) {\r\n\t\t\t\tspecification = specification.and(buildSpecification(criteria.getSubCatId(),\r\n\t\t\t\t\t\troot -&gt; root.join(Company_.prestations, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(CompanyPrestation_.prestation, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(Prestation_.subCategory, JoinType.LEFT).get(SubCategory_.id)));\r\n\t\t\t}\r\n\t\t\tif (criteria.getPrestationName() != null) {\r\n\t\t\t\tspecification = specification.or(buildSpecification(criteria.getPrestationName(),\r\n\t\t\t\t\t\troot -&gt; root.join(Company_.prestations, JoinType.LEFT)\r\n\t\t\t\t\t\t\t\t.join(CompanyPrestation_.prestation, JoinType.LEFT).get(Prestation_.label)));\r\n\t\t\t}\r\n\t\t\tif (criteria.getPriceMinimum() != null || criteria.getPriceMaximum() != null) {\r\n\t\t\t\tspecification = specification.and((lroot, lquery, lcriteriaBuilder) -&gt; {\r\n\t\t\t\t\tListJoin&lt;Company, CompanyPrestation&gt; joinCompnayToCompanyPrestations = lroot\r\n\t\t\t\t\t\t\t.join(Company_.prestations, JoinType.LEFT);\r\n\t\t\t\t\tif (criteria.getPriceMinimum() != null &amp;&amp; criteria.getPriceMaximum() != null) {\r\n\t\t\t\t\t\treturn lcriteriaBuilder.between(\r\n\t\t\t\t\t\t\t\tjoinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\r\n\t\t\t\t\t\t\t\tcriteria.getPriceMinimum().getGreaterOrEqualThan(),\r\n\t\t\t\t\t\t\t\tcriteria.getPriceMaximum().getLessOrEqualThan()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (criteria.getPriceMinimum() != null) {\r\n\t\t\t\t\t\treturn lcriteriaBuilder.greaterThanOrEqualTo(\r\n\t\t\t\t\t\t\t\tjoinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\r\n\t\t\t\t\t\t\t\tcriteria.getPriceMinimum().getGreaterOrEqualThan());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn lcriteriaBuilder.lessThanOrEqualTo(\r\n\t\t\t\t\t\t\t\tjoinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\r\n\t\t\t\t\t\t\t\tcriteria.getPriceMaximum().getLessOrEqualThan());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn specification.toPredicate(roots, query, builder);\r\n\t}\r\n\r\n   \r\n\r\nAnd here is my service method using it\r\n\r\n    @Transactional(readOnly = true)\r\n\tpublic Page&lt;CompanyDTO&gt; findByCriteria(CompanyCriteria criteria, Pageable page) {\r\n\t\tlog.debug(&quot;find by criteria : {}, page: {}&quot;, criteria, page);\r\n\t\tSpecification&lt;Company&gt; spec = Specification.where(null);\r\n\t\tCompanySpecification specification =  new CompanySpecification(criteria);\r\n\t\tspec = (Specification&lt;Company&gt;) specification;\r\n\t\tPage&lt;Company&gt; vitrinesPage = companyRepository.findAll(spec, page);\r\n\t\tList&lt;CompanyDTO&gt; list = companyMapper.toDto(vitrinesPage.getContent());\r\n\t\tPage&lt;CompanyDTO&gt; listPage = new PageImpl&lt;&gt;(list, page, vitrinesPage.getTotalElements());\r\n\t\treturn listPage;\r\n\t}\r\n\r\nI found a method distinct in CriteriaQuery but i dont really know how to add it in my specification. \r\n\r\nSome help please!","title":"How to add distinct property to query with jpa specification","body":"<p>I am using jhipster criteria and jpa specification to implement an endpoint for making research.</p>\n\n<p>Well it is working, but keep sending me duplicates.</p>\n\n<p>There is prestations with this model</p>\n\n<pre><code>public class Prestation extends AbstractAuditingEntity implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGenerator\")\n@SequenceGenerator(name = \"sequenceGenerator\")\nprivate Long id;\n\n@NotNull\n@Column(name = \"jhi_label\", nullable = false)\nprivate String label;\n\n@Column(name = \"description\")\nprivate String description;\n\n@Column(name = \"unit\")\nprivate String unit;\n\n@NotNull\n@Column(name = \"activated\", nullable = false)\nprivate boolean activated;\n\n@ManyToOne(optional = false)\n@NotNull\n@JsonIgnoreProperties(\"prestations\")\nprivate SubCategory subCategory;\n\n@OneToMany(mappedBy = \"prestation\", cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;CompanyPrestation&gt; companies = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>And relation between company and prestations</p>\n\n<pre><code>@OneToMany(mappedBy = \"company\", cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate List&lt;CompanyPrestation&gt; prestations = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>And here is the CompanySpecification class that i used to create specification that i give to the repository</p>\n\n<pre><code>public class CompanySpecification extends QueryService&lt;Company&gt; implements Specification&lt;Company&gt; {\n\nprivate static final long serialVersionUID = 1L;\nprivate CompanyCriteria criteria;\n\npublic CompanySpecification(CompanyCriteria criteria) {\n    this.criteria = criteria;\n}\n\n@Override\npublic Predicate toPredicate(Root&lt;Company&gt; roots, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n    Specification&lt;Company&gt; specification = Specification.where(null);\n    if (criteria != null) {\n        if (criteria.getName() != null) {\n            specification = specification.or(buildStringSpecification(criteria.getName(), Company_.name));\n        }\n        if (criteria.getSiret() != null) {\n            specification = specification.or(buildStringSpecification(criteria.getSiret(), Company_.siret));\n        }\n        if (criteria.getCodeAPE() != null) {\n            specification = specification.or(buildStringSpecification(criteria.getCodeAPE(), Company_.codeAPE));\n        }\n        if (criteria.getLegalForm() != null) {\n            specification = specification.or(buildStringSpecification(criteria.getLegalForm(), Company_.legalForm));\n        }\n        if (criteria.getVille() != null) {\n            specification = specification\n                    .and(buildReferringEntitySpecification(criteria.getVille(), Company_.address, Address_.ville));\n        }\n        if (criteria.getExercicePlace() != null &amp;&amp; !criteria.getExercicePlace().getIn().isEmpty()) {\n            Filter&lt;ExercicePlace&gt; exercicePlaceFilter = new Filter&lt;&gt;();\n            exercicePlaceFilter.setIn(criteria.getExercicePlace().getIn().stream().map(ExercicePlace::valueOf)\n                    .collect(Collectors.toList()));\n            specification = specification.and(buildSpecification(exercicePlaceFilter, Company_.exercicePlace));\n        }\n        if (criteria.getCodePostal() != null) {\n            specification = specification.and(buildReferringEntitySpecification(criteria.getCodePostal(),\n                    Company_.address, Address_.codePostal));\n        }\n        if (criteria.getPrestationsId() != null) {\n            specification = specification.and(buildSpecification(criteria.getPrestationsId(),\n                    root -&gt; root.join(Company_.prestations, JoinType.LEFT)\n                            .join(CompanyPrestation_.prestation, JoinType.LEFT).get(Prestation_.id)));\n        }\n        if (criteria.getCatId() != null) {\n            specification = specification.and(buildSpecification(criteria.getCatId(),\n                    root -&gt; root.join(Company_.prestations, JoinType.LEFT)\n                            .join(CompanyPrestation_.prestation, JoinType.LEFT)\n                            .join(Prestation_.subCategory, JoinType.LEFT).join(SubCategory_.category, JoinType.LEFT)\n                            .get(Category_.id)));\n        }\n        if (criteria.getSubCatId() != null) {\n            specification = specification.and(buildSpecification(criteria.getSubCatId(),\n                    root -&gt; root.join(Company_.prestations, JoinType.LEFT)\n                            .join(CompanyPrestation_.prestation, JoinType.LEFT)\n                            .join(Prestation_.subCategory, JoinType.LEFT).get(SubCategory_.id)));\n        }\n        if (criteria.getPrestationName() != null) {\n            specification = specification.or(buildSpecification(criteria.getPrestationName(),\n                    root -&gt; root.join(Company_.prestations, JoinType.LEFT)\n                            .join(CompanyPrestation_.prestation, JoinType.LEFT).get(Prestation_.label)));\n        }\n        if (criteria.getPriceMinimum() != null || criteria.getPriceMaximum() != null) {\n            specification = specification.and((lroot, lquery, lcriteriaBuilder) -&gt; {\n                ListJoin&lt;Company, CompanyPrestation&gt; joinCompnayToCompanyPrestations = lroot\n                        .join(Company_.prestations, JoinType.LEFT);\n                if (criteria.getPriceMinimum() != null &amp;&amp; criteria.getPriceMaximum() != null) {\n                    return lcriteriaBuilder.between(\n                            joinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\n                            criteria.getPriceMinimum().getGreaterOrEqualThan(),\n                            criteria.getPriceMaximum().getLessOrEqualThan()\n                    );\n                } else if (criteria.getPriceMinimum() != null) {\n                    return lcriteriaBuilder.greaterThanOrEqualTo(\n                            joinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\n                            criteria.getPriceMinimum().getGreaterOrEqualThan());\n                } else {\n                    return lcriteriaBuilder.lessThanOrEqualTo(\n                            joinCompnayToCompanyPrestations.get(CompanyPrestation_.pricePerUnit),\n                            criteria.getPriceMaximum().getLessOrEqualThan());\n                }\n            });\n        }\n    }\n    return specification.toPredicate(roots, query, builder);\n}\n</code></pre>\n\n<p>And here is my service method using it</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic Page&lt;CompanyDTO&gt; findByCriteria(CompanyCriteria criteria, Pageable page) {\n    log.debug(\"find by criteria : {}, page: {}\", criteria, page);\n    Specification&lt;Company&gt; spec = Specification.where(null);\n    CompanySpecification specification =  new CompanySpecification(criteria);\n    spec = (Specification&lt;Company&gt;) specification;\n    Page&lt;Company&gt; vitrinesPage = companyRepository.findAll(spec, page);\n    List&lt;CompanyDTO&gt; list = companyMapper.toDto(vitrinesPage.getContent());\n    Page&lt;CompanyDTO&gt; listPage = new PageImpl&lt;&gt;(list, page, vitrinesPage.getTotalElements());\n    return listPage;\n}\n</code></pre>\n\n<p>I found a method distinct in CriteriaQuery but i dont really know how to add it in my specification. </p>\n\n<p>Some help please!</p>\n"},{"tags":["java","maven","checkstyle","maven-checkstyle-plugin"],"answers":[{"tags":[],"owner":{"display_name":"user11595728"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1567620138,"creation_date":1567619477,"answer_id":57793542,"question_id":57792749,"body_markdown":"The structure that matches the 1.3 DTD for your example is as follows (namely, you seem to be missing the `Checker` module).\r\n\r\n    &lt;module name=&quot;Checker&quot;&gt;\r\n        &lt;module name=&quot;TreeWalker&quot;&gt;\r\n            &lt;module name=&quot;LineLength&quot;&gt;\r\n                &lt;property name=&quot;max&quot; value=&quot;120&quot;/&gt;\r\n            &lt;/module&gt;\r\n        &lt;/module&gt;\r\n    &lt;/module&gt;","title":"Checkstyle LineLength configuration not working","body":"<p>The structure that matches the 1.3 DTD for your example is as follows (namely, you seem to be missing the <code>Checker</code> module).</p>\n\n<pre><code>&lt;module name=\"Checker\"&gt;\n    &lt;module name=\"TreeWalker\"&gt;\n        &lt;module name=\"LineLength\"&gt;\n            &lt;property name=\"max\" value=\"120\"/&gt;\n        &lt;/module&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11029636,"reputation":992,"user_id":8101340,"display_name":"Radoslav Ivanov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584333347,"creation_date":1584332985,"answer_id":60700347,"question_id":57792749,"body_markdown":"Actually, `LineLength` should not be any more under `TreeWalker` but directly under `Checker` in the newer versions. \r\nSee here:\r\nhttps://github.com/checkstyle/eclipse-cs/issues/190","title":"Checkstyle LineLength configuration not working","body":"<p>Actually, <code>LineLength</code> should not be any more under <code>TreeWalker</code> but directly under <code>Checker</code> in the newer versions. \nSee here:\n<a href=\"https://github.com/checkstyle/eclipse-cs/issues/190\" rel=\"noreferrer\">https://github.com/checkstyle/eclipse-cs/issues/190</a></p>\n"},{"tags":[],"owner":{"account_id":3236416,"reputation":1095,"user_id":2730516,"display_name":"Matthew Peterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637684445,"creation_date":1637684445,"answer_id":70084302,"question_id":57792749,"body_markdown":"I was receiving this error in Visual Studio Code and I needed to make sure that my checkstyle.xml version matched the checkstyle version that Visual Studio Code was using. \r\n\r\nI went to Extensions-&gt;CheckStyle-&gt;Settings-&gt;Version and set it to match the appropriate version. I just set the version to match the version defined in my build.gradle.kts file.","title":"Checkstyle LineLength configuration not working","body":"<p>I was receiving this error in Visual Studio Code and I needed to make sure that my checkstyle.xml version matched the checkstyle version that Visual Studio Code was using.</p>\n<p>I went to Extensions-&gt;CheckStyle-&gt;Settings-&gt;Version and set it to match the appropriate version. I just set the version to match the version defined in my build.gradle.kts file.</p>\n"}],"owner":{"account_id":2019713,"reputation":1348,"user_id":1806193,"accept_rate":80,"display_name":"luizfzs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10915,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57793542,"answer_count":3,"score":6,"last_activity_date":1637684445,"creation_date":1567615708,"question_id":57792749,"body_markdown":"When trying to add `maven-checkstyle-plugin` to my Java project, I&#39;m facing some weird issues. \r\nThe checkstyle version is 3.1.0, that uses checkstyle version 8.19. Below is the `checkstyle.xml` the project is using:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE module PUBLIC\r\n              &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n              &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n    \t&lt;module name=&quot;LineLength&quot;&gt;\r\n    \t\t&lt;property name=&quot;max&quot; value=&quot;120&quot;/&gt;\r\n    \t&lt;/module&gt;\r\n    &lt;/module&gt;\r\n\r\nand my the configuration on the pom.xml\r\n \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNow, when I run `mvn checkstyle:check` the following message is displayed: \r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-checkstyle-plugin:3.1.0:check\r\n&gt; (default-cli) on project myproject: Failed during\r\n&gt; checkstyle configuration: LineLength is not allowed as a child in\r\n&gt; Checker -&gt; [Help 1]\r\n\r\nIf I update the checkstyle to make it look like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE module PUBLIC\r\n              &quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;\r\n              &quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&gt;\r\n   \t&lt;module name=&quot;LineLength&quot;&gt;\r\n    \t\t&lt;property name=&quot;max&quot; value=&quot;120&quot;/&gt;\r\n   \t&lt;/module&gt;\r\n\r\nI get the following message\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-checkstyle-plugin:3.1.0:check\r\n&gt; (default-cli) on project myproject: Failed during\r\n&gt; checkstyle configuration: Property &#39;max&#39; does not exist, please check\r\n&gt; the documentation -&gt; [Help 1]\r\n\r\nI cannot reason what&#39;s happening since, to me, the error messages are misleading. What am I missing on this configuration?","title":"Checkstyle LineLength configuration not working","body":"<p>When trying to add <code>maven-checkstyle-plugin</code> to my Java project, I'm facing some weird issues. \nThe checkstyle version is 3.1.0, that uses checkstyle version 8.19. Below is the <code>checkstyle.xml</code> the project is using:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE module PUBLIC\n          \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\"&gt;\n&lt;module name=\"TreeWalker\"&gt;\n    &lt;module name=\"LineLength\"&gt;\n        &lt;property name=\"max\" value=\"120\"/&gt;\n    &lt;/module&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>and my the configuration on the pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Now, when I run <code>mvn checkstyle:check</code> the following message is displayed: </p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-checkstyle-plugin:3.1.0:check\n  (default-cli) on project myproject: Failed during\n  checkstyle configuration: LineLength is not allowed as a child in\n  Checker -> [Help 1]</p>\n</blockquote>\n\n<p>If I update the checkstyle to make it look like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE module PUBLIC\n          \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\"&gt;\n&lt;module name=\"LineLength\"&gt;\n        &lt;property name=\"max\" value=\"120\"/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>I get the following message</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal\n  org.apache.maven.plugins:maven-checkstyle-plugin:3.1.0:check\n  (default-cli) on project myproject: Failed during\n  checkstyle configuration: Property 'max' does not exist, please check\n  the documentation -> [Help 1]</p>\n</blockquote>\n\n<p>I cannot reason what's happening since, to me, the error messages are misleading. What am I missing on this configuration?</p>\n"},{"tags":["java","android","sqlite","foreign-keys"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1636118322,"post_id":69853817,"comment_id":123477933,"body_markdown":"Did you extract the db from the device to inspect it?","body":"Did you extract the db from the device to inspect it?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636119188,"post_id":69853817,"comment_id":123478357,"body_markdown":"hmmm, You showed us File information, but is there something else, using File? That could have a relation to it? And that is why you are not able to DELETE it","body":"hmmm, You showed us File information, but is there something else, using File? That could have a relation to it? And that is why you are not able to DELETE it"},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1636120221,"post_id":69853817,"comment_id":123478786,"body_markdown":"@forpas - Yes, I have saved a copy from the emulator to the desktop and used SQLite Studio to inspect it. I will add an image of it.","body":"@forpas - Yes, I have saved a copy from the emulator to the desktop and used SQLite Studio to inspect it. I will add an image of it."},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1636120425,"post_id":69853817,"comment_id":123478869,"body_markdown":"@Susan Mustafa - Sorry to be thick in the head. Are you asking, maybe the file is &quot;open&quot; (using) it and I can&#39;t delete it? If so, I can say no to that. That makes sense, but I don&#39;t have the file open when trying to delete.","body":"@Susan Mustafa - Sorry to be thick in the head. Are you asking, maybe the file is &quot;open&quot; (using) it and I can&#39;t delete it? If so, I can say no to that. That makes sense, but I don&#39;t have the file open when trying to delete."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1636120740,"post_id":69853817,"comment_id":123479013,"body_markdown":"@svstackoverflow perhaps my question was not clear.   Do any of those Tables (Author_by_source, Authors, Comments, Files_By_Note, Notes, Questions, Quotes, Sources, Terms, Topics) have a relation to (Files)","body":"@svstackoverflow perhaps my question was not clear.   Do any of those Tables (Author_by_source, Authors, Comments, Files_By_Note, Notes, Questions, Quotes, Sources, Terms, Topics) have a relation to (Files)"},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":1,"creation_date":1636121294,"post_id":69853817,"comment_id":123479278,"body_markdown":"@Susan Mustafa - Ah, yes, there is a FilesByNote relationship, duh! I could see that having an impact. I will see if that is the issue.","body":"@Susan Mustafa - Ah, yes, there is a FilesByNote relationship, duh! I could see that having an impact. I will see if that is the issue."},{"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"score":0,"creation_date":1636121670,"post_id":69853817,"comment_id":123479458,"body_markdown":"@Susan Mustafa - That was it! I should have seen that... thanks or your help! I appreciate it.","body":"@Susan Mustafa - That was it! I should have seen that... thanks or your help! I appreciate it."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636121994,"post_id":69853817,"comment_id":123479599,"body_markdown":"No worries.  Glad to help.","body":"No worries.  Glad to help."}],"answers":[{"tags":[],"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637684438,"creation_date":1637684438,"answer_id":70084300,"question_id":69853817,"body_markdown":"With the help and comments of Susan Mustafa, I simply had my join table dependency in the wrong code order when attempting to delete the file. Once I reversed the order of the code pertaining to the file the `Foreign Key` error disappeared. I should have caught this but didn&#39;t, the foreign key dependencies should be removed first before removing the primary.\r\n\r\nThese were in reverse order:\r\n\r\n    rdb.getFilesByNoteDao().delete(new FilesByNote(id, oFile.getFileID()));\r\n    rdb.getFilesDao().deleteFile(oFile);","title":"How can I fix a Foreign FOREIGN KEY constraint failed (code 787) error that doesn&#39;t have a Constraint?","body":"<p>With the help and comments of Susan Mustafa, I simply had my join table dependency in the wrong code order when attempting to delete the file. Once I reversed the order of the code pertaining to the file the <code>Foreign Key</code> error disappeared. I should have caught this but didn't, the foreign key dependencies should be removed first before removing the primary.</p>\n<p>These were in reverse order:</p>\n<pre><code>rdb.getFilesByNoteDao().delete(new FilesByNote(id, oFile.getFileID()));\nrdb.getFilesDao().deleteFile(oFile);\n</code></pre>\n"}],"owner":{"account_id":2821411,"reputation":673,"user_id":11254630,"display_name":"svstackoverflow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70084300,"answer_count":1,"score":0,"last_activity_date":1637684438,"creation_date":1636117963,"question_id":69853817,"body_markdown":"**Problem:** I&#39;m receiving a FOREIGN CONSTRAINT error (code 787) when I try to delete a file stored in a SQLite database. Everything else works with adding (i.e., `insert`) the files and even reading (opening) them. I just can&#39;t delete them.\r\n\r\n**What I have tried**: I&#39;ve read 4-5 posts calling it a known issue. I think one post involved a type of conflict. A type conflict might be a possibility except I can `insert` and read (open) just fine. I don&#39;t think that is the issue  in my case... maybe, but I&#39;m not sure. Before going that far I thought I would post here. I&#39;m still learning about Android Room and Android in general, but could use some insights by those more learned than me.\r\n\r\n**Where the error occurs**\r\n\r\n    rdb.getFilesDao().deleteFile(bFile);\r\n\r\n**Files.java** (Entity)\r\n\r\n```java\r\n@Entity(tableName = &quot;Files&quot;)\r\npublic class Files implements Parcelable {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;FileID&quot;)\r\n    private int fileID;\r\n\r\n    @ColumnInfo(name = &quot;FileName&quot;)\r\n    private String fileName;\r\n\r\n    @TypeConverters(FileTypeConverter.class)\r\n    @ColumnInfo(name = &quot;FileData&quot;, typeAffinity = ColumnInfo.TEXT)\r\n    private byte[] fileData;\r\n\r\n    @SuppressWarnings(RoomWarnings.CURSOR_MISMATCH)\r\n    public Files(int fileID, String fileName, byte[] fileData){\r\n        this.fileID = fileID;\r\n        this.fileName = fileName;\r\n        this.fileData = fileData;\r\n    }\r\n\r\n    public Files(Parcel in){\r\n        this.fileID = in.readInt();\r\n        this.fileName = in.readString();\r\n        this.fileData = in.createByteArray();\r\n    }\r\n\r\n    public static final Creator&lt;Files&gt; CREATOR = new Creator&lt;Files&gt;() {\r\n        @Override\r\n        public Files createFromParcel(Parcel in) {\r\n            return new Files(in);\r\n        }\r\n\r\n        @Override\r\n        public Files[] newArray(int size) {\r\n            return new Files[size];\r\n        }\r\n    };\r\n```\r\n**FilesDao.java** (Dao)\r\n\r\n```java\r\n    @Dao\r\n    public interface FilesDao {\r\n        @Insert\r\n        long addFile(Files file);\r\n        @Update\r\n        void updateFile(Files file);\r\n        @Delete\r\n        void deleteFile(Files file);\r\n    \r\n        @Query(&quot;SELECT * FROM Files&quot;)\r\n        List&lt;Files&gt; getFiles();\r\n        @Query(&quot;SELECT * FROM Files WHERE FileID = :fileID&quot;)\r\n        Files getFile(int fileID);\r\n    }\r\n```\r\n\r\n**Files Structure** (json)\r\n\r\n        &quot;tableName&quot;: &quot;Files&quot;,\r\n        &quot;createSql&quot;: &quot;CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`FileID` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `FileName` TEXT, `FileData` TEXT)&quot;,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;fieldPath&quot;: &quot;fileID&quot;,\r\n            &quot;columnName&quot;: &quot;FileID&quot;,\r\n            &quot;affinity&quot;: &quot;INTEGER&quot;,\r\n            &quot;notNull&quot;: true\r\n          },\r\n          {\r\n            &quot;fieldPath&quot;: &quot;fileName&quot;,\r\n            &quot;columnName&quot;: &quot;FileName&quot;,\r\n            &quot;affinity&quot;: &quot;TEXT&quot;,\r\n            &quot;notNull&quot;: false\r\n          },\r\n          {\r\n            &quot;fieldPath&quot;: &quot;fileData&quot;,\r\n            &quot;columnName&quot;: &quot;FileData&quot;,\r\n            &quot;affinity&quot;: &quot;TEXT&quot;,\r\n            &quot;notNull&quot;: false\r\n          }\r\n        ],\r\n        &quot;primaryKey&quot;: {\r\n          &quot;columnNames&quot;: [\r\n            &quot;FileID&quot;\r\n          ],\r\n          &quot;autoGenerate&quot;: true\r\n        },\r\n        &quot;indices&quot;: [],\r\n        &quot;foreignKeys&quot;: []\r\n      },\r\n\r\n**Updated** to add pics to assist comment/questions:\r\n\r\n[![Structure][1]][1]\r\n\r\n[![Constraint][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QhH4a.jpg\r\n  [2]: https://i.stack.imgur.com/REfCl.jpg","title":"How can I fix a Foreign FOREIGN KEY constraint failed (code 787) error that doesn&#39;t have a Constraint?","body":"<p><strong>Problem:</strong> I'm receiving a FOREIGN CONSTRAINT error (code 787) when I try to delete a file stored in a SQLite database. Everything else works with adding (i.e., <code>insert</code>) the files and even reading (opening) them. I just can't delete them.</p>\n<p><strong>What I have tried</strong>: I've read 4-5 posts calling it a known issue. I think one post involved a type of conflict. A type conflict might be a possibility except I can <code>insert</code> and read (open) just fine. I don't think that is the issue  in my case... maybe, but I'm not sure. Before going that far I thought I would post here. I'm still learning about Android Room and Android in general, but could use some insights by those more learned than me.</p>\n<p><strong>Where the error occurs</strong></p>\n<pre><code>rdb.getFilesDao().deleteFile(bFile);\n</code></pre>\n<p><strong>Files.java</strong> (Entity)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;Files&quot;)\npublic class Files implements Parcelable {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;FileID&quot;)\n    private int fileID;\n\n    @ColumnInfo(name = &quot;FileName&quot;)\n    private String fileName;\n\n    @TypeConverters(FileTypeConverter.class)\n    @ColumnInfo(name = &quot;FileData&quot;, typeAffinity = ColumnInfo.TEXT)\n    private byte[] fileData;\n\n    @SuppressWarnings(RoomWarnings.CURSOR_MISMATCH)\n    public Files(int fileID, String fileName, byte[] fileData){\n        this.fileID = fileID;\n        this.fileName = fileName;\n        this.fileData = fileData;\n    }\n\n    public Files(Parcel in){\n        this.fileID = in.readInt();\n        this.fileName = in.readString();\n        this.fileData = in.createByteArray();\n    }\n\n    public static final Creator&lt;Files&gt; CREATOR = new Creator&lt;Files&gt;() {\n        @Override\n        public Files createFromParcel(Parcel in) {\n            return new Files(in);\n        }\n\n        @Override\n        public Files[] newArray(int size) {\n            return new Files[size];\n        }\n    };\n</code></pre>\n<p><strong>FilesDao.java</strong> (Dao)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Dao\n    public interface FilesDao {\n        @Insert\n        long addFile(Files file);\n        @Update\n        void updateFile(Files file);\n        @Delete\n        void deleteFile(Files file);\n    \n        @Query(&quot;SELECT * FROM Files&quot;)\n        List&lt;Files&gt; getFiles();\n        @Query(&quot;SELECT * FROM Files WHERE FileID = :fileID&quot;)\n        Files getFile(int fileID);\n    }\n</code></pre>\n<p><strong>Files Structure</strong> (json)</p>\n<pre><code>    &quot;tableName&quot;: &quot;Files&quot;,\n    &quot;createSql&quot;: &quot;CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`FileID` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `FileName` TEXT, `FileData` TEXT)&quot;,\n    &quot;fields&quot;: [\n      {\n        &quot;fieldPath&quot;: &quot;fileID&quot;,\n        &quot;columnName&quot;: &quot;FileID&quot;,\n        &quot;affinity&quot;: &quot;INTEGER&quot;,\n        &quot;notNull&quot;: true\n      },\n      {\n        &quot;fieldPath&quot;: &quot;fileName&quot;,\n        &quot;columnName&quot;: &quot;FileName&quot;,\n        &quot;affinity&quot;: &quot;TEXT&quot;,\n        &quot;notNull&quot;: false\n      },\n      {\n        &quot;fieldPath&quot;: &quot;fileData&quot;,\n        &quot;columnName&quot;: &quot;FileData&quot;,\n        &quot;affinity&quot;: &quot;TEXT&quot;,\n        &quot;notNull&quot;: false\n      }\n    ],\n    &quot;primaryKey&quot;: {\n      &quot;columnNames&quot;: [\n        &quot;FileID&quot;\n      ],\n      &quot;autoGenerate&quot;: true\n    },\n    &quot;indices&quot;: [],\n    &quot;foreignKeys&quot;: []\n  },\n</code></pre>\n<p><strong>Updated</strong> to add pics to assist comment/questions:</p>\n<p><a href=\"https://i.stack.imgur.com/QhH4a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QhH4a.jpg\" alt=\"Structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/REfCl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/REfCl.jpg\" alt=\"Constraint\" /></a></p>\n"},{"tags":["java","android","appium","browserstack"],"answers":[{"tags":[],"owner":{"account_id":21271574,"reputation":1,"user_id":15651022,"display_name":"user15651022"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637675673,"creation_date":1637675102,"answer_id":70082030,"question_id":70081579,"body_markdown":"I would like to let you know that, should your query be able to successfully reproduce on a real device locally then you would be able to do it on Browserstack as well.\r\n\r\nAs per Appium documentation, you can Long Tap on the touch screen using finger motion events. You can refer to the following for more information:\r\nhttp://appium.io/docs/en/commands/interactions/touch/long-press/\r\n\r\nIf you are able to long-press the app on a real device through your Appium code then that would be possible on Browserstack as well.\r\n","title":"Is it possible to perform a long press action to access app menu in BrowserStack?","body":"<p>I would like to let you know that, should your query be able to successfully reproduce on a real device locally then you would be able to do it on Browserstack as well.</p>\n<p>As per Appium documentation, you can Long Tap on the touch screen using finger motion events. You can refer to the following for more information:\n<a href=\"http://appium.io/docs/en/commands/interactions/touch/long-press/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/commands/interactions/touch/long-press/</a></p>\n<p>If you are able to long-press the app on a real device through your Appium code then that would be possible on Browserstack as well.</p>\n"}],"owner":{"account_id":16969605,"reputation":1,"user_id":17488727,"display_name":"Григорий Олевский"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637684425,"creation_date":1637673266,"question_id":70081579,"body_markdown":"I&#39;m using BrowserStack to run tests for android devices. I need to perform a long press on an app to access its menu (like on the picture attached). How can it be performed in Java? \r\n\r\n[![menu][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/UmE2G.jpg","title":"Is it possible to perform a long press action to access app menu in BrowserStack?","body":"<p>I'm using BrowserStack to run tests for android devices. I need to perform a long press on an app to access its menu (like on the picture attached). How can it be performed in Java?</p>\n<p><a href=\"https://i.stack.imgur.com/UmE2G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UmE2G.jpg\" alt=\"menu\" /></a></p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1637679670,"post_id":70082051,"comment_id":123887555,"body_markdown":"Could you share your `Greeting` class, too, please.","body":"Could you share your <code>Greeting</code> class, too, please."},{"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"score":0,"creation_date":1637679857,"post_id":70082051,"comment_id":123887627,"body_markdown":"@jmizv Yes, I have modified the question. You can find the code for the Greeting class now.","body":"@jmizv Yes, I have modified the question. You can find the code for the Greeting class now."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637681999,"post_id":70082051,"comment_id":123888611,"body_markdown":"You are mapping the wrong type on the consumer side `props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);` - it should be the consumer greeting type there.","body":"You are mapping the wrong type on the consumer side <code>props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);</code> - it should be the consumer greeting type there."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637681673,"creation_date":1637681673,"answer_id":70083627,"question_id":70082051,"body_markdown":"You are mapping the wrong type on the consumer side...\r\n\r\n    props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\r\n\r\nNeeds to be the consumer version.","title":"Kafka Class is not in the trusted package error","body":"<p>You are mapping the wrong type on the consumer side...</p>\n<pre><code>props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\n</code></pre>\n<p>Needs to be the consumer version.</p>\n"},{"tags":[],"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637684388,"creation_date":1637684388,"answer_id":70084290,"question_id":70082051,"body_markdown":"I solved this problem modifying the configuration in the following way:\r\n```return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class, false));```\r\nIn the last line in the **greetingConsumerFactory**, I have added **false** in the **JsonDeserializer**.","title":"Kafka Class is not in the trusted package error","body":"<p>I solved this problem modifying the configuration in the following way:\n<code>return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class, false));</code>\nIn the last line in the <strong>greetingConsumerFactory</strong>, I have added <strong>false</strong> in the <strong>JsonDeserializer</strong>.</p>\n"}],"owner":{"account_id":19772207,"reputation":1006,"user_id":14478957,"display_name":"Gloria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637684388,"creation_date":1637675209,"question_id":70082051,"body_markdown":"I am trying to integrate Kafka in my project. I have 2 spring applications, one has to be configured as a producer and the other one as a consumer. I am trying to send a greeting message. Greeting is a class having two field, it will be seen below. But I keep getting this error in the consumer app console:\r\n\r\n```\r\n2021-11-23 13:31:53.412 ERROR 8452 --- [ntainer#1-0-C-1] essageListenerContainer$ListenerConsumer : Consumer exception\r\n\r\njava.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:194) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n\tat org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:112) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1598) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1210) ~[spring-kafka-2.7.2.jar:2.7.2]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition greetingTopic-0 at offset 3. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.IllegalArgumentException: The class &#39;assignment2.kafka.Greeting&#39; is not in the trusted packages: [java.util, java.lang, ro.tuc.ds2020.kafkaconsumer, ro.tuc.ds2020.kafkaconsumer.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n\r\n```\r\nThe code for the Kafka producer configuration:\r\n```\r\npackage assignment2.kafka;\r\n\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.core.ProducerFactory;\r\nimport org.springframework.kafka.support.serializer.JsonSerializer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                bootstrapAddress);\r\n        configProps.put(\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n        configProps.put(\r\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, Greeting&gt; greetingProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        configProps.put(JsonSerializer.ADD_TYPE_INFO_HEADERS, false);\r\n        configProps.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, Greeting&gt; greetingKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(greetingProducerFactory());\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have the following code for the Kafka consumer configuration:\r\n```\r\npackage ro.tuc.ds2020.kafkaconsumer;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\r\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\r\nimport org.springframework.kafka.support.serializer.JsonSerializer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(\r\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                bootstrapAddress);\r\n        props.put(\r\n                ConsumerConfig.GROUP_ID_CONFIG,\r\n                &quot;sensorGroup&quot;);\r\n        props.put(\r\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n        props.put(\r\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;  kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n\r\n    public ConsumerFactory&lt;String, Greeting&gt; greetingConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;greeting&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\r\n        props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;assignment2.kafka.Greeting&quot;);\r\n        props.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\r\n        props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; greetingKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(greetingConsumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\nAnd the **Greeting** class, which is present in both applications. On the consumer app, in the **ro.tuc.ds2020.kafkaconsumer** package and on the producer part, on the **assignment2.kafka** package.\r\n\r\n```\r\npublic class Greeting {\r\n\r\n    private String msg;\r\n    private String name;\r\n\r\n    public Greeting() {\r\n\r\n    }\r\n\r\n    public Greeting(String msg, String name) {\r\n        this.msg = msg;\r\n        this.name = name;\r\n    }\r\n\r\n    public String getMsg() {\r\n        return msg;\r\n    }\r\n\r\n    public void setMsg(String msg) {\r\n        this.msg = msg;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return msg + &quot;, &quot; + name + &quot;!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI suspect there is something wrong with my configuration, I found a similar solved question here: https://stackoverflow.com/questions/66858489/spring-boot-kafka-consumer-throwing-error-in-loop . I have added the specific lines that solved this person error, but unfortunately I cannot make it work. I believe it is related to the fact that I have two separate applications, so the object of type **Greeting** that is send from producer to consumer is not in the same package.\r\nThank you! Hope someone can help\r\n","title":"Kafka Class is not in the trusted package error","body":"<p>I am trying to integrate Kafka in my project. I have 2 spring applications, one has to be configured as a producer and the other one as a consumer. I am trying to send a greeting message. Greeting is a class having two field, it will be seen below. But I keep getting this error in the consumer app console:</p>\n<pre><code>2021-11-23 13:31:53.412 ERROR 8452 --- [ntainer#1-0-C-1] essageListenerContainer$ListenerConsumer : Consumer exception\n\njava.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:194) ~[spring-kafka-2.7.2.jar:2.7.2]\n    at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:112) ~[spring-kafka-2.7.2.jar:2.7.2]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1598) ~[spring-kafka-2.7.2.jar:2.7.2]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1210) ~[spring-kafka-2.7.2.jar:2.7.2]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition greetingTopic-0 at offset 3. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.IllegalArgumentException: The class 'assignment2.kafka.Greeting' is not in the trusted packages: [java.util, java.lang, ro.tuc.ds2020.kafkaconsumer, ro.tuc.ds2020.kafkaconsumer.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\n\n</code></pre>\n<p>The code for the Kafka producer configuration:</p>\n<pre><code>package assignment2.kafka;\n\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaProducerConfig {\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                bootstrapAddress);\n        configProps.put(\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n                StringSerializer.class);\n        configProps.put(\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n                StringSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n\n\n    @Bean\n    public ProducerFactory&lt;String, Greeting&gt; greetingProducerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        configProps.put(JsonSerializer.ADD_TYPE_INFO_HEADERS, false);\n        configProps.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, Greeting&gt; greetingKafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(greetingProducerFactory());\n    }\n}\n</code></pre>\n<p>I have the following code for the Kafka consumer configuration:</p>\n<pre><code>package ro.tuc.ds2020.kafkaconsumer;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                bootstrapAddress);\n        props.put(\n                ConsumerConfig.GROUP_ID_CONFIG,\n                &quot;sensorGroup&quot;);\n        props.put(\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;  kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    public ConsumerFactory&lt;String, Greeting&gt; greetingConsumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;greeting&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(JsonSerializer.TYPE_MAPPINGS, &quot;greeting:assignment2.kafka.Greeting&quot;);\n        props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;assignment2.kafka.Greeting&quot;);\n        props.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\n        props.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props, new StringDeserializer(), new JsonDeserializer&lt;&gt;(Greeting.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; greetingKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Greeting&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(greetingConsumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>And the <strong>Greeting</strong> class, which is present in both applications. On the consumer app, in the <strong>ro.tuc.ds2020.kafkaconsumer</strong> package and on the producer part, on the <strong>assignment2.kafka</strong> package.</p>\n<pre><code>public class Greeting {\n\n    private String msg;\n    private String name;\n\n    public Greeting() {\n\n    }\n\n    public Greeting(String msg, String name) {\n        this.msg = msg;\n        this.name = name;\n    }\n\n    public String getMsg() {\n        return msg;\n    }\n\n    public void setMsg(String msg) {\n        this.msg = msg;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return msg + &quot;, &quot; + name + &quot;!&quot;;\n    }\n}\n</code></pre>\n<p>I suspect there is something wrong with my configuration, I found a similar solved question here: <a href=\"https://stackoverflow.com/questions/66858489/spring-boot-kafka-consumer-throwing-error-in-loop\">Spring Boot Kafka Consumer throwing error in loop</a> . I have added the specific lines that solved this person error, but unfortunately I cannot make it work. I believe it is related to the fact that I have two separate applications, so the object of type <strong>Greeting</strong> that is send from producer to consumer is not in the same package.\nThank you! Hope someone can help</p>\n"},{"tags":["java","spring","spring-boot","migration"],"comments":[{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1637696809,"post_id":70084200,"comment_id":123894569,"body_markdown":"A single `@SpringBootApplication` annotation can be used to enable ` `@EnableAutoConfiguration`,  `@ComponentScan`, and `@Configuration`. Did you try to remove them and see it&#39;s ok or not?","body":"A single <code>@SpringBootApplication</code> annotation can be used to enable ` <code>@EnableAutoConfiguration</code>,  <code>@ComponentScan</code>, and <code>@Configuration</code>. Did you try to remove them and see it&#39;s ok or not?"},{"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"score":0,"creation_date":1637777093,"post_id":70084200,"comment_id":123918857,"body_markdown":"Hi! Thanks for the tip. Didn&#39;t work.","body":"Hi! Thanks for the tip. Didn&#39;t work."}],"owner":{"account_id":3136632,"reputation":125,"user_id":2719470,"accept_rate":60,"display_name":"mcardia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637683929,"creation_date":1637683929,"question_id":70084200,"body_markdown":"I have an application that was working in Spring Boot 1.5, than worked in 2.0.\r\nNow I&#39;m migrating to 2.5.7\r\n\r\nThis application uses a external lib. This lib also written using Spring Boot 2.5.7 and it users OpenFeign.\r\n\r\nBut now, when running, the main application seens not to be scanning the lib.\r\n\r\nThe error is:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField usersRestClient in my.library.package.infrastructure.acl.facade.user.UserFacade required a bean of type &#39;my.library.package.infrastructure.acl.restclient.user.UsersRestClient&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @javax.inject.Inject()\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;my.library.package.acl.restclient.user.UsersRestClient&#39; in your configuration.\r\n\r\n```\r\nI already tried to use ComponentScan at diferent places. I tried to Create a Configuration Class with ComponentScan at the lib and point in the main application using @Import.\r\nNothing worked.\r\n\r\nI&#39;ve edited the code leaving just whats matters.\r\n\r\nIn the lib:\r\nThe Service UserFacade uses the Component UsersRestClient\r\n```\r\n@Service\r\n// I&#39;ve already tried to put @ComponentScan here, didn&#39;t work.\r\npublic class UserFacade {\r\n    @Autowired\r\n    private UsersRestClient usersRestClient;\r\n...\r\n}\r\n```\r\n\r\nThis is the component:\r\n```\r\n@RequestMapping(&quot;/users&quot;)\r\n@Component(&quot;usersRestClient&quot;)\r\npublic interface UsersRestClient {\r\n...\r\n}\r\n```\r\n\r\nIn the main App:\r\n\r\nThe main class\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;my.library.package&quot;})\r\n@EnableAutoConfiguration\r\n@EnableFeignClients({&quot;my.library.package&quot;})\r\npublic class ResourceAllocationServiceApplication {\r\n...\r\n}\r\n```\r\n\r\nThan, where I use the UseFacade Service:\r\n```\r\n@Component\r\npublic class RetrieveUserByIdUseCase {\r\n    @Autowired\r\n    private UserFacade userFacade;\r\n    ...\r\n}\r\n```\r\n\r\nCan anyone help? I found a similar issue here, but no answers worked.\r\nhttps://stackoverflow.com/questions/34989099/componentscan-on-external-library-not-working","title":"@ComponentScan seens not to be working after migrate from Spring Boot 2.0 to 2.5","body":"<p>I have an application that was working in Spring Boot 1.5, than worked in 2.0.\nNow I'm migrating to 2.5.7</p>\n<p>This application uses a external lib. This lib also written using Spring Boot 2.5.7 and it users OpenFeign.</p>\n<p>But now, when running, the main application seens not to be scanning the lib.</p>\n<p>The error is:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField usersRestClient in my.library.package.infrastructure.acl.facade.user.UserFacade required a bean of type 'my.library.package.infrastructure.acl.restclient.user.UsersRestClient' that could not be found.\n\nThe injection point has the following annotations:\n    - @javax.inject.Inject()\n\n\nAction:\n\nConsider defining a bean of type 'my.library.package.acl.restclient.user.UsersRestClient' in your configuration.\n\n</code></pre>\n<p>I already tried to use ComponentScan at diferent places. I tried to Create a Configuration Class with ComponentScan at the lib and point in the main application using @Import.\nNothing worked.</p>\n<p>I've edited the code leaving just whats matters.</p>\n<p>In the lib:\nThe Service UserFacade uses the Component UsersRestClient</p>\n<pre><code>@Service\n// I've already tried to put @ComponentScan here, didn't work.\npublic class UserFacade {\n    @Autowired\n    private UsersRestClient usersRestClient;\n...\n}\n</code></pre>\n<p>This is the component:</p>\n<pre><code>@RequestMapping(&quot;/users&quot;)\n@Component(&quot;usersRestClient&quot;)\npublic interface UsersRestClient {\n...\n}\n</code></pre>\n<p>In the main App:</p>\n<p>The main class</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;my.library.package&quot;})\n@EnableAutoConfiguration\n@EnableFeignClients({&quot;my.library.package&quot;})\npublic class ResourceAllocationServiceApplication {\n...\n}\n</code></pre>\n<p>Than, where I use the UseFacade Service:</p>\n<pre><code>@Component\npublic class RetrieveUserByIdUseCase {\n    @Autowired\n    private UserFacade userFacade;\n    ...\n}\n</code></pre>\n<p>Can anyone help? I found a similar issue here, but no answers worked.\n<a href=\"https://stackoverflow.com/questions/34989099/componentscan-on-external-library-not-working\">@ComponentScan on external library not working</a></p>\n"},{"tags":["java","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":343102,"reputation":12240,"user_id":2945027,"display_name":"Alex Guteniev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637683705,"creation_date":1637679219,"answer_id":70083017,"question_id":70082941,"body_markdown":"Non-negative means positive or zero.\r\n\r\nYou are assumed to use shifts and bit operations. \r\n\r\nBit shifts can be sign-extending, which can be misleading. To avoid this issue, you are asked to handle non-negative values only.\r\n\r\nBut you can handle negative values too, if you want. Java has unsigned shifts `&gt;&gt;&gt;`.\r\n\r\nSure this is an exercise. In real code you&#39;ll use a library implementation. `java.lang.Integer` has `bitCount(int i)`. I assume `bitCount` will execute on a hardware as bit-counting instruction, such as x86 `popcnt`, so it should be better than manual bit manipulation, or at least use a very decent bit manipulation implementation rather than one you&#39;d write as an exercise. There&#39;s a whole tag [tag:hammingweight] about counting those bits.","title":"Count number of bits set to 1, why non-negative integers?","body":"<p>Non-negative means positive or zero.</p>\n<p>You are assumed to use shifts and bit operations.</p>\n<p>Bit shifts can be sign-extending, which can be misleading. To avoid this issue, you are asked to handle non-negative values only.</p>\n<p>But you can handle negative values too, if you want. Java has unsigned shifts <code>&gt;&gt;&gt;</code>.</p>\n<p>Sure this is an exercise. In real code you'll use a library implementation. <code>java.lang.Integer</code> has <code>bitCount(int i)</code>. I assume <code>bitCount</code> will execute on a hardware as bit-counting instruction, such as x86 <code>popcnt</code>, so it should be better than manual bit manipulation, or at least use a very decent bit manipulation implementation rather than one you'd write as an exercise. There's a whole tag <a href=\"/questions/tagged/hammingweight\" class=\"post-tag\" title=\"show questions tagged &#39;hammingweight&#39;\" rel=\"tag\">hammingweight</a> about counting those bits.</p>\n"},{"tags":[],"owner":{"account_id":23430770,"reputation":11,"user_id":17489656,"display_name":"GOD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637679221,"creation_date":1637679221,"answer_id":70083018,"question_id":70082941,"body_markdown":"Negative integers are stored a little bit differently.\r\nIn a 4 Bit signed integer, 1111b would be -1, whereas 1000b would be -8, making the count of 1&#39;s dependent on the number of bits in the number. That way you can&#39;t answer the question anymore.","title":"Count number of bits set to 1, why non-negative integers?","body":"<p>Negative integers are stored a little bit differently.\nIn a 4 Bit signed integer, 1111b would be -1, whereas 1000b would be -8, making the count of 1's dependent on the number of bits in the number. That way you can't answer the question anymore.</p>\n"}],"owner":{"account_id":18923998,"reputation":89,"user_id":13807520,"display_name":"L P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637683705,"creation_date":1637678855,"question_id":70082941,"body_markdown":"In Elements of Programming Interviews in Java, the authors say: &quot;Writing a program to count the number of bits that are set to 1 in a nonnegative integer is a good way to get up to speed with primitive types&quot;.\r\n\r\nWhy do they qualify this with &#39;nonnegative&#39;?","title":"Count number of bits set to 1, why non-negative integers?","body":"<p>In Elements of Programming Interviews in Java, the authors say: &quot;Writing a program to count the number of bits that are set to 1 in a nonnegative integer is a good way to get up to speed with primitive types&quot;.</p>\n<p>Why do they qualify this with 'nonnegative'?</p>\n"},{"tags":["java","android","xml","statusbar","appbar"],"comments":[{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":0,"creation_date":1456758856,"post_id":35702896,"comment_id":59082442,"body_markdown":"above or below? if above then its your colorPrimaryDark","body":"above or below? if above then its your colorPrimaryDark"},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1456758901,"post_id":35702896,"comment_id":59082470,"body_markdown":"@Bhargav above the app bar, which is visible on the status bar.","body":"@Bhargav above the app bar, which is visible on the status bar."},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":0,"creation_date":1456758965,"post_id":35702896,"comment_id":59082507,"body_markdown":"Yes that is your colorPrimaryDark attribute, but if you were to draw a navigation drawer under it, it would should the status bar as transparent","body":"Yes that is your colorPrimaryDark attribute, but if you were to draw a navigation drawer under it, it would should the status bar as transparent"},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1456759348,"post_id":35702896,"comment_id":59082807,"body_markdown":"@Bhargav yup, the reason why I wanted to add &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt; is because I&#39;ll implement a nav drawer next.","body":"@Bhargav yup, the reason why I wanted to add &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/it&zwnj;&#8203;em&gt; is because I&#39;ll implement a nav drawer next."},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":0,"creation_date":1456759492,"post_id":35702896,"comment_id":59082927,"body_markdown":"yes when the nav drawer goes under it, you will notice that status bar is still transparent, so don&#39;t worry about this and just continue coding","body":"yes when the nav drawer goes under it, you will notice that status bar is still transparent, so don&#39;t worry about this and just continue coding"},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1456759615,"post_id":35702896,"comment_id":59083022,"body_markdown":"@Bhargav but I feel like having a shadow above the app bar isn&#39;t visually correct :/","body":"@Bhargav but I feel like having a shadow above the app bar isn&#39;t visually correct :/"},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":0,"creation_date":1456759856,"post_id":35702896,"comment_id":59083227,"body_markdown":"I think that shadow is not the shadow of the app bar but of the status bar, even if you were to make elevation 0dp to the appbar there would still be that shadow there is my guess","body":"I think that shadow is not the shadow of the app bar but of the status bar, even if you were to make elevation 0dp to the appbar there would still be that shadow there is my guess"},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1456760032,"post_id":35702896,"comment_id":59083362,"body_markdown":"@Bhargav I believe it is the shadow of the app bar and I just tried to make its elevation=0dp, all of its shadow are gone but I&#39;m thinking if it&#39;s possible to only remove the above part of its shadow and not the below one","body":"@Bhargav I believe it is the shadow of the app bar and I just tried to make its elevation=0dp, all of its shadow are gone but I&#39;m thinking if it&#39;s possible to only remove the above part of its shadow and not the below one"},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":1,"creation_date":1456760110,"post_id":35702896,"comment_id":59083428,"body_markdown":"post code of that layout here please","body":"post code of that layout here please"},{"owner":{"account_id":2291011,"reputation":5055,"user_id":2013835,"accept_rate":100,"display_name":"JJ86"},"score":0,"creation_date":1457520409,"post_id":35702896,"comment_id":59439794,"body_markdown":"Did you try to remove the _app:popupTheme=&quot;@style/MyMaterialTheme.PopupOverlay&quot;_  ? Maybe the problem is coming from the style.","body":"Did you try to remove the <i>app:popupTheme=&quot;@style/MyMaterialTheme.PopupOverlay&quot;</i>  ? Maybe the problem is coming from the style."},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1457531050,"post_id":35702896,"comment_id":59447318,"body_markdown":"@JJ86 nope, I believe it&#39;s not coming from the style as this happens everytime I start a new default project in Android Studio.","body":"@JJ86 nope, I believe it&#39;s not coming from the style as this happens everytime I start a new default project in Android Studio."},{"owner":{"account_id":2291011,"reputation":5055,"user_id":2013835,"accept_rate":100,"display_name":"JJ86"},"score":0,"creation_date":1457531339,"post_id":35702896,"comment_id":59447530,"body_markdown":"@brettbrdls if you say so; can you show us your _MyMaterialTheme_ theme xml as well?","body":"@brettbrdls if you say so; can you show us your <i>MyMaterialTheme</i> theme xml as well?"},{"owner":{"account_id":5381956,"reputation":25084,"user_id":4288782,"accept_rate":79,"display_name":"natario"},"score":0,"creation_date":1457643314,"post_id":35702896,"comment_id":59512585,"body_markdown":"The shadow is coming from the AppBarLayout , specifically from the `app:elevation` attribute. It can be set to 0, but this obviously removes the bottom shadow too.","body":"The shadow is coming from the AppBarLayout , specifically from the <code>app:elevation</code> attribute. It can be set to 0, but this obviously removes the bottom shadow too."},{"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"score":0,"creation_date":1457962237,"post_id":35702896,"comment_id":59630212,"body_markdown":"@mvai yes, that&#39;s the problem.","body":"@mvai yes, that&#39;s the problem."}],"answers":[{"tags":[],"owner":{"account_id":1667420,"reputation":4122,"user_id":1534554,"accept_rate":100,"display_name":"Malek Hijazi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1456758895,"creation_date":1456758895,"answer_id":35703006,"question_id":35702896,"body_markdown":"Add elevation 0dp to **AppBarLayout**\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n    android:id=&quot;@+id/app_bar_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:elevation=&quot;0dp&quot;&gt;","title":"How to remove the shadow above the app bar?","body":"<p>Add elevation 0dp to <strong>AppBarLayout</strong></p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\nandroid:id=\"@+id/app_bar_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\napp:elevation=\"0dp\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803453,"reputation":2442,"user_id":3156454,"accept_rate":75,"display_name":"Karol Żygłowicz"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1458042985,"creation_date":1457519919,"answer_id":35889189,"question_id":35702896,"body_markdown":"I believe this question is pointing to same problem\r\nhttps://stackoverflow.com/questions/33726318/android-appbarlayout-elevation-appears-in-status-bar\r\n\r\n\r\n\r\n&gt; Possible solutions:\r\n\r\nYour root layout should have `android:fitsSystemWindows=&quot;true&quot;` at all times, otherwise your UI will not draw behind status bar.\r\n\r\nNow wrap the `AppBarLayout` inside another `CoordinatorLayout` which has \r\n\r\n`android:fitsSystemWindows=&quot;false&quot;`. \r\n\r\n**This will prevent the shadow from overflowing into statusbar.**\r\n\r\n\r\n","title":"How to remove the shadow above the app bar?","body":"<p>I believe this question is pointing to same problem\n<a href=\"https://stackoverflow.com/questions/33726318/android-appbarlayout-elevation-appears-in-status-bar\">Android appbarlayout elevation appears in status bar</a></p>\n\n<blockquote>\n  <p>Possible solutions:</p>\n</blockquote>\n\n<p>Your root layout should have <code>android:fitsSystemWindows=\"true\"</code> at all times, otherwise your UI will not draw behind status bar.</p>\n\n<p>Now wrap the <code>AppBarLayout</code> inside another <code>CoordinatorLayout</code> which has </p>\n\n<p><code>android:fitsSystemWindows=\"false\"</code>. </p>\n\n<p><strong>This will prevent the shadow from overflowing into statusbar.</strong></p>\n"},{"tags":[],"owner":{"account_id":5680096,"reputation":534,"user_id":4491620,"display_name":"Bharath Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458035847,"creation_date":1458035259,"answer_id":36007697,"question_id":35702896,"body_markdown":"Call below method in the **onCreate** of your activity with the desired status bar color.  \r\n    \r\n    public void changeStatusBarColor(String hexColor)\r\n      {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(Color.parseColor(&quot;#AD2525&quot;));\r\n        }\r\n     }\r\n\r\n\r\nXML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;com.example.bharath.myapplication.MainActivity&quot;&gt;\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n\r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#AD2525&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n        &lt;!--\r\n        Other views\r\n        --&gt;\r\n\r\n    &lt;/RelativeLayout&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n\r\n\r\n[**Result**][1]\r\n\r\n  [1]: https://i.stack.imgur.com/EjlFD.png","title":"How to remove the shadow above the app bar?","body":"<p>Call below method in the <strong>onCreate</strong> of your activity with the desired status bar color.  </p>\n\n<pre><code>public void changeStatusBarColor(String hexColor)\n  {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n        Window window = getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        window.setStatusBarColor(Color.parseColor(\"#AD2525\"));\n    }\n }\n</code></pre>\n\n<p>XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\ntools:context=\"com.example.bharath.myapplication.MainActivity\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#AD2525\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n    &lt;!--\n    Other views\n    --&gt;\n\n&lt;/RelativeLayout&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EjlFD.png\" rel=\"noreferrer\"><strong>Result</strong></a></p>\n"},{"tags":[],"owner":{"account_id":12655492,"reputation":376,"user_id":9198161,"display_name":"DavidUps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598436189,"creation_date":1598436189,"answer_id":63595242,"question_id":35702896,"body_markdown":"```\r\n&lt;com.google.android.material.appbar.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/colorPrimaryDark&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                 /&gt;\r\n\r\n &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```","title":"How to remove the shadow above the app bar?","body":"<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:elevation=&quot;0dp&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@color/colorPrimaryDark&quot;\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\n                 /&gt;\n\n &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16485399,"reputation":49,"user_id":11910931,"display_name":"rpinferetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628093021,"creation_date":1628093021,"answer_id":68654568,"question_id":35702896,"body_markdown":"You could also add padding on app bar based on status bar height:\r\n\r\n\r\n    ViewCompat.setOnApplyWindowInsetsListener(binding.root) { _, insets -&gt;\r\n            val statusBarInsets = insets.getInsets(WindowInsetsCompat.Type.statusBars())\r\n            val bottomBarInsets = insets.getInsets(WindowInsetsCompat.Type.navigationBars())\r\n            binding.appBarLayout.setPadding(0, statusBarInsets.top, 0, 0)\r\n            binding.root.setPadding(0, 0, 0, bottomBarInsets.bottom)\r\n            insets\r\n        }\r\n\r\nYou can put this in your `onCreateView()` or `onViewCreated()` methods.\r\nRemember to remove `android:fitsSystemWindows=&quot;true&quot;` from your layout, because you&#39;re manually setting the padding to the views, and the insets must remains like it&#39;s a full screen fragment.","title":"How to remove the shadow above the app bar?","body":"<p>You could also add padding on app bar based on status bar height:</p>\n<pre><code>ViewCompat.setOnApplyWindowInsetsListener(binding.root) { _, insets -&gt;\n        val statusBarInsets = insets.getInsets(WindowInsetsCompat.Type.statusBars())\n        val bottomBarInsets = insets.getInsets(WindowInsetsCompat.Type.navigationBars())\n        binding.appBarLayout.setPadding(0, statusBarInsets.top, 0, 0)\n        binding.root.setPadding(0, 0, 0, bottomBarInsets.bottom)\n        insets\n    }\n</code></pre>\n<p>You can put this in your <code>onCreateView()</code> or <code>onViewCreated()</code> methods.\nRemember to remove <code>android:fitsSystemWindows=&quot;true&quot;</code> from your layout, because you're manually setting the padding to the views, and the insets must remains like it's a full screen fragment.</p>\n"},{"tags":[],"owner":{"account_id":21705671,"reputation":31,"user_id":16018169,"display_name":"Naveen Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637683497,"creation_date":1637682878,"answer_id":70083920,"question_id":35702896,"body_markdown":"*put this line in the `oncreate()` method of activity file of which activity you want to remove the elevation of the action bar*\r\n\r\n    getSupportActionBar().setElevation(0);","title":"How to remove the shadow above the app bar?","body":"<p><em>put this line in the <code>oncreate()</code> method of activity file of which activity you want to remove the elevation of the action bar</em></p>\n<pre><code>getSupportActionBar().setElevation(0);\n</code></pre>\n"}],"owner":{"account_id":4118043,"reputation":483,"user_id":3379138,"accept_rate":67,"display_name":"brettbrdls"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8612,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35889189,"answer_count":6,"score":7,"last_activity_date":1637683497,"creation_date":1456758493,"question_id":35702896,"body_markdown":"I&#39;d like to make the status bar transparent by adding `&lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;` to v21/styles.xml on `style name=&quot;AppTheme.NoActionBar&quot;` but I keep getting a shadow above the app bar, is it possible to remove it?\r\n\r\nEDIT:\r\nOk I think the solution is to move the app bar occupying the status bar space and extending the app bar of an additional dp to match it size so my question is, is it possible to move or extend the app bar height upwards?\r\n\r\nactivity_search.xml\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;\r\n         android:theme=&quot;@style/MyMaterialTheme.AppBarOverlay&quot;&gt;\r\n    \r\n         &lt;android.support.v7.widget.Toolbar\r\n              android:id=&quot;@+id/toolbar&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:background=&quot;?attr/colorPrimary&quot;\r\n              app:popupTheme=&quot;@style/MyMaterialTheme.PopupOverlay&quot;/&gt;\r\n    \r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n    \r\n    &lt;include layout=&quot;@layout/content_search&quot;/&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vekr0.png","title":"How to remove the shadow above the app bar?","body":"<p>I'd like to make the status bar transparent by adding <code>&lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;</code> to v21/styles.xml on <code>style name=\"AppTheme.NoActionBar\"</code> but I keep getting a shadow above the app bar, is it possible to remove it?</p>\n\n<p>EDIT:\nOk I think the solution is to move the app bar occupying the status bar space and extending the app bar of an additional dp to match it size so my question is, is it possible to move or extend the app bar height upwards?</p>\n\n<p>activity_search.xml</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:theme=\"@style/MyMaterialTheme.AppBarOverlay\"&gt;\n\n     &lt;android.support.v7.widget.Toolbar\n          android:id=\"@+id/toolbar\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"\n          android:background=\"?attr/colorPrimary\"\n          app:popupTheme=\"@style/MyMaterialTheme.PopupOverlay\"/&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;include layout=\"@layout/content_search\"/&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vekr0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vekr0.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1637659237,"post_id":70078188,"comment_id":123879068,"body_markdown":"It&#39;s not up to you","body":"It&#39;s not up to you"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637659232,"creation_date":1637659232,"answer_id":70078236,"question_id":70078188,"body_markdown":"This isn&#39;t a java question. \r\n\r\n`&quot;\\\\test_server\\Folder_1\\Folder_2\\Folder_3&quot;` denotes a file name that is given to the **operating system**.\r\n\r\nMeaning: java has **no** insight whatsoever what happens here. What kind of protocol the OS uses to connect to that server, in order to provide a *file handle* to java that the JVM can use to read/write to is **completely** out of control for that JVM.\r\n\r\nSo, in other words: the underlying protocol depends on how you configured the underlying operating system to connect to that network share.","title":"Which Protocol Java is using to store file at shared drive?","body":"<p>This isn't a java question.</p>\n<p><code>&quot;\\\\test_server\\Folder_1\\Folder_2\\Folder_3&quot;</code> denotes a file name that is given to the <strong>operating system</strong>.</p>\n<p>Meaning: java has <strong>no</strong> insight whatsoever what happens here. What kind of protocol the OS uses to connect to that server, in order to provide a <em>file handle</em> to java that the JVM can use to read/write to is <strong>completely</strong> out of control for that JVM.</p>\n<p>So, in other words: the underlying protocol depends on how you configured the underlying operating system to connect to that network share.</p>\n"}],"owner":{"account_id":8238840,"reputation":637,"user_id":6197069,"display_name":"Hanamant Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1637683289,"creation_date":1637659043,"question_id":70078188,"body_markdown":"I am using following code to write the file at shared drive. I just want to know which protocol it is using to transfer the file? Is it RDP/TCP/SMB? \r\n\r\n    try (FileOutputStream outputStream = new FileOutputStream(&quot;\\\\test_server\\Folder_1\\Folder_2\\Folder_3&quot;)) {\r\n    \tbook.write(outputStream);\r\n    }\r\n\r\nHere, book is nothing but XSSFWorkbook [org.apache.poi.xssf.usermodel.XSSFWorkbook].\r\n\r\n&quot;test_server&quot; is another machine in same network.","title":"Which Protocol Java is using to store file at shared drive?","body":"<p>I am using following code to write the file at shared drive. I just want to know which protocol it is using to transfer the file? Is it RDP/TCP/SMB?</p>\n<pre><code>try (FileOutputStream outputStream = new FileOutputStream(&quot;\\\\test_server\\Folder_1\\Folder_2\\Folder_3&quot;)) {\n    book.write(outputStream);\n}\n</code></pre>\n<p>Here, book is nothing but XSSFWorkbook [org.apache.poi.xssf.usermodel.XSSFWorkbook].</p>\n<p>&quot;test_server&quot; is another machine in same network.</p>\n"},{"tags":["java","android","callback","weak-references"],"answers":[{"tags":[],"owner":{"account_id":15139628,"reputation":329,"user_id":10925023,"display_name":"Cyrille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637683229,"creation_date":1637682616,"answer_id":70083859,"question_id":69671000,"body_markdown":"I guess it&#39;s because your command does not return 0x9000 here:\r\n\r\n    if (Arrays.equals(SELECT_OK_SW, statusWord))\r\n\r\nAdd a log to see which status you&#39;ve got\r\nMaybe you&#39;ll need to add this bundle in the last parameter of enableReaderMode:\r\n\r\n    Bundle options = new Bundle();\r\n    options.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 5000);\r\n\r\n","title":"Weak Reference Callback not working android","body":"<p>I guess it's because your command does not return 0x9000 here:</p>\n<pre><code>if (Arrays.equals(SELECT_OK_SW, statusWord))\n</code></pre>\n<p>Add a log to see which status you've got\nMaybe you'll need to add this bundle in the last parameter of enableReaderMode:</p>\n<pre><code>Bundle options = new Bundle();\noptions.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 5000);\n</code></pre>\n"}],"owner":{"account_id":12652775,"reputation":1,"user_id":9214498,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637683229,"creation_date":1634872403,"question_id":69671000,"body_markdown":"I am trying to pass my data(accountNumber) from LoyaltyCardReader.java to HCEPayment.java but somehow the call is not being received at HCEPayment.java. Can someone help me what i am doing wrong. I am able to receive data in LoyaltyCardReader and log it before sending to HCEPayment.\r\n\r\nhere onAccountReceived is not being called from LoyaltyCardReader.\r\n\r\nLoyaltyCardReader\r\n```\r\npackage com.example.try2;\r\n\r\nimport android.nfc.NfcAdapter;\r\nimport android.nfc.Tag;\r\nimport android.nfc.tech.IsoDep;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.ref.WeakReference;\r\nimport java.util.Arrays;\r\n\r\n/**\r\n * Callback class, invoked when an NFC card is scanned while the device is running in reader mode.\r\n *\r\n * Reader mode can be invoked by calling NfcAdapter\r\n */\r\npublic class LoyaltyCardReader implements NfcAdapter.ReaderCallback {\r\n    private static final String TAG = &quot;LoyaltyCardReader&quot;;\r\n    // AID for our loyalty card service.\r\n    private static final String SAMPLE_LOYALTY_CARD_AID = &quot;F222222222&quot;;\r\n    // ISO-DEP command HEADER for selecting an AID.\r\n    // Format: [Class | Instruction | Parameter 1 | Parameter 2]\r\n    private static final String SELECT_APDU_HEADER = &quot;00A40400&quot;;\r\n    // Format: [Class | Instruction | Parameter 1 | Parameter 2]\r\n    private static final String GET_DATA_APDU_HEADER = &quot;00CA0000&quot;;\r\n    // &quot;OK&quot; status word sent in response to SELECT AID command (0x9000)\r\n    private static final byte[] SELECT_OK_SW = {(byte) 0x90, (byte) 0x00};\r\n\r\n    String gotData = &quot;&quot;, finalGotData = &quot;&quot;;\r\n\r\n    long timeTaken = 0;\r\n\r\n    // Weak reference to prevent retain loop. mAccountCallback is responsible for exiting\r\n    // foreground mode before it becomes invalid (e.g. during onPause() or onStop()).\r\n    private WeakReference&lt;AccountCallback&gt; mAccountCallback;\r\n\r\n    public interface AccountCallback {\r\n        public void onAccountReceived(String account);\r\n    }\r\n\r\n    public LoyaltyCardReader(AccountCallback accountCallback) {\r\n        mAccountCallback = new WeakReference&lt;AccountCallback&gt;(accountCallback);\r\n    }\r\n\r\n    /**\r\n     * Callback when a new tag is discovered by the system.\r\n     *\r\n     * &lt;p&gt;Communication with the card should take place here.\r\n     *\r\n     * @param tag Discovered tag\r\n     */\r\n    @Override\r\n    public void onTagDiscovered(Tag tag) {\r\n\r\n        Log.i(TAG, &quot;New tag discovered&quot;);\r\n        // Android&#39;s Host-based Card Emulation (HCE) feature implements the ISO-DEP (ISO 14443-4)\r\n        // protocol.\r\n        //\r\n        // In order to communicate with a device using HCE, the discovered tag should be processed\r\n        // using the IsoDep class.\r\n        IsoDep isoDep = IsoDep.get(tag);\r\n        if (isoDep != null) {\r\n            try {\r\n                // Connect to the remote NFC device\r\n                isoDep.connect();\r\n                Log.i(TAG, &quot;Timeout = &quot; + isoDep.getTimeout());\r\n                isoDep.setTimeout(3600);\r\n                Log.i(TAG, &quot;Timeout = &quot; + isoDep.getTimeout());\r\n                Log.i(TAG, &quot;MaxTransceiveLength = &quot; + isoDep.getMaxTransceiveLength());\r\n\r\n                // Build SELECT AID command for our loyalty card service.\r\n                // This command tells the remote device which service we wish to communicate with.\r\n                Log.i(TAG, &quot;Requesting remote AID: &quot; + SAMPLE_LOYALTY_CARD_AID);\r\n                byte[] selCommand = BuildSelectApdu(SAMPLE_LOYALTY_CARD_AID);\r\n                // Send command to remote device\r\n                Log.i(TAG, &quot;Sending: &quot; + ByteArrayToHexString(selCommand));\r\n                byte[] result = isoDep.transceive(selCommand);\r\n                // If AID is successfully selected, 0x9000 is returned as the status word (last 2\r\n                // bytes of the result) by convention. Everything before the status word is\r\n                // optional payload, which is used here to hold the account number.\r\n                int resultLength = result.length;\r\n                byte[] statusWord = {result[resultLength-2], result[resultLength-1]};\r\n                byte[] payload = Arrays.copyOf(result, resultLength-2);\r\n                if (Arrays.equals(SELECT_OK_SW, statusWord)) {\r\n                    // The remote NFC device will immediately respond with its stored account number\r\n                    String accountNumber = new String(payload, &quot;UTF-8&quot;);\r\n                    Log.i(TAG, &quot;Received: &quot; + accountNumber);\r\n                    // Inform CardReaderFragment of received account number\r\n                    Log.d(&quot;Account&quot;,accountNumber);\r\n                    mAccountCallback.get().onAccountReceived(accountNumber);\r\n                }\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;Error communicating with card: &quot; + e.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Build APDU for SELECT AID command. This command indicates which service a reader is\r\n     * interested in communicating with. See ISO 7816-4.\r\n     *\r\n     * @param aid Application ID (AID) to select\r\n     * @return APDU for SELECT AID command\r\n     */\r\n    public static byte[] BuildSelectApdu(String aid) {\r\n        // Format: [CLASS | INSTRUCTION | PARAMETER 1 | PARAMETER 2 | LENGTH | DATA]\r\n        return HexStringToByteArray(SELECT_APDU_HEADER + String.format(&quot;%02X&quot;, aid.length() / 2) + aid);\r\n    }\r\n\r\n    /**\r\n     * Build APDU for GET_DATA command. See ISO 7816-4.\r\n     *\r\n     * @return APDU for SELECT AID command\r\n     */\r\n    public static byte[] BuildGetDataApdu() {\r\n        // Format: [CLASS | INSTRUCTION | PARAMETER 1 | PARAMETER 2 | LENGTH | DATA]\r\n        return HexStringToByteArray(GET_DATA_APDU_HEADER + &quot;0FFF&quot;);\r\n    }\r\n\r\n    /**\r\n     * Utility class to convert a byte array to a hexadecimal string.\r\n     *\r\n     * @param bytes Bytes to convert\r\n     * @return String, containing hexadecimal representation.\r\n     */\r\n    public static String ByteArrayToHexString(byte[] bytes) {\r\n        final char[] hexArray = {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;};\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        int v;\r\n        for ( int j = 0; j &lt; bytes.length; j++ ) {\r\n            v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\n    /**\r\n     * Utility class to convert a hexadecimal string to a byte string.\r\n     *\r\n     * &lt;p&gt;Behavior with input strings containing non-hexadecimal characters is undefined.\r\n     *\r\n     * @param s String containing hexadecimal characters to convert\r\n     * @return Byte array generated from input\r\n     */\r\n    public static byte[] HexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\n}\r\n\r\n```\r\nHCEPayment.java\r\n\r\n```\r\npackage com.example.try2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.nfc.NfcAdapter;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.TextView;\r\n\r\npublic class HCEPayment extends AppCompatActivity implements LoyaltyCardReader.AccountCallback {\r\n\r\n    public static final String TAG = &quot;CardReaderFragment&quot;;\r\n    public static int READER_FLAGS =\r\n            NfcAdapter.FLAG_READER_NFC_A | NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK;\r\n    public LoyaltyCardReader mLoyaltyCardReader;\r\n    private TextView mAccountField;\r\n    StringBuilder stringReceived;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_hcepayment);\r\n        mAccountField = (TextView) findViewById(R.id.card_account_field);\r\n        mAccountField.setText(&quot;Waiting...&quot;);\r\n        mLoyaltyCardReader = new LoyaltyCardReader(this);\r\n        enableReaderMode();\r\n    }\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        disableReaderMode();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        enableReaderMode();\r\n    }\r\n\r\n    private void enableReaderMode() {\r\n        Log.i(TAG, &quot;Enabling reader mode&quot;);\r\n        NfcAdapter nfc = NfcAdapter.getDefaultAdapter(this);\r\n        if (nfc != null) {\r\n            nfc.enableReaderMode(this, mLoyaltyCardReader, READER_FLAGS, null);\r\n        }\r\n    }\r\n    private void disableReaderMode() {\r\n        Log.i(TAG, &quot;Disabling reader mode&quot;);\r\n        NfcAdapter nfc = NfcAdapter.getDefaultAdapter(this);\r\n        if (nfc != null) {\r\n            nfc.disableReaderMode(this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onAccountReceived(String account) {\r\n        stringReceived.append(account);\r\n        if (account.contains(&quot;END&quot;)) {\r\n\r\n        }\r\n        this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                mAccountField.setText(account);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n","title":"Weak Reference Callback not working android","body":"<p>I am trying to pass my data(accountNumber) from LoyaltyCardReader.java to HCEPayment.java but somehow the call is not being received at HCEPayment.java. Can someone help me what i am doing wrong. I am able to receive data in LoyaltyCardReader and log it before sending to HCEPayment.</p>\n<p>here onAccountReceived is not being called from LoyaltyCardReader.</p>\n<p>LoyaltyCardReader</p>\n<pre><code>package com.example.try2;\n\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.nfc.tech.IsoDep;\nimport android.os.SystemClock;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.io.IOException;\nimport java.lang.ref.WeakReference;\nimport java.util.Arrays;\n\n/**\n * Callback class, invoked when an NFC card is scanned while the device is running in reader mode.\n *\n * Reader mode can be invoked by calling NfcAdapter\n */\npublic class LoyaltyCardReader implements NfcAdapter.ReaderCallback {\n    private static final String TAG = &quot;LoyaltyCardReader&quot;;\n    // AID for our loyalty card service.\n    private static final String SAMPLE_LOYALTY_CARD_AID = &quot;F222222222&quot;;\n    // ISO-DEP command HEADER for selecting an AID.\n    // Format: [Class | Instruction | Parameter 1 | Parameter 2]\n    private static final String SELECT_APDU_HEADER = &quot;00A40400&quot;;\n    // Format: [Class | Instruction | Parameter 1 | Parameter 2]\n    private static final String GET_DATA_APDU_HEADER = &quot;00CA0000&quot;;\n    // &quot;OK&quot; status word sent in response to SELECT AID command (0x9000)\n    private static final byte[] SELECT_OK_SW = {(byte) 0x90, (byte) 0x00};\n\n    String gotData = &quot;&quot;, finalGotData = &quot;&quot;;\n\n    long timeTaken = 0;\n\n    // Weak reference to prevent retain loop. mAccountCallback is responsible for exiting\n    // foreground mode before it becomes invalid (e.g. during onPause() or onStop()).\n    private WeakReference&lt;AccountCallback&gt; mAccountCallback;\n\n    public interface AccountCallback {\n        public void onAccountReceived(String account);\n    }\n\n    public LoyaltyCardReader(AccountCallback accountCallback) {\n        mAccountCallback = new WeakReference&lt;AccountCallback&gt;(accountCallback);\n    }\n\n    /**\n     * Callback when a new tag is discovered by the system.\n     *\n     * &lt;p&gt;Communication with the card should take place here.\n     *\n     * @param tag Discovered tag\n     */\n    @Override\n    public void onTagDiscovered(Tag tag) {\n\n        Log.i(TAG, &quot;New tag discovered&quot;);\n        // Android's Host-based Card Emulation (HCE) feature implements the ISO-DEP (ISO 14443-4)\n        // protocol.\n        //\n        // In order to communicate with a device using HCE, the discovered tag should be processed\n        // using the IsoDep class.\n        IsoDep isoDep = IsoDep.get(tag);\n        if (isoDep != null) {\n            try {\n                // Connect to the remote NFC device\n                isoDep.connect();\n                Log.i(TAG, &quot;Timeout = &quot; + isoDep.getTimeout());\n                isoDep.setTimeout(3600);\n                Log.i(TAG, &quot;Timeout = &quot; + isoDep.getTimeout());\n                Log.i(TAG, &quot;MaxTransceiveLength = &quot; + isoDep.getMaxTransceiveLength());\n\n                // Build SELECT AID command for our loyalty card service.\n                // This command tells the remote device which service we wish to communicate with.\n                Log.i(TAG, &quot;Requesting remote AID: &quot; + SAMPLE_LOYALTY_CARD_AID);\n                byte[] selCommand = BuildSelectApdu(SAMPLE_LOYALTY_CARD_AID);\n                // Send command to remote device\n                Log.i(TAG, &quot;Sending: &quot; + ByteArrayToHexString(selCommand));\n                byte[] result = isoDep.transceive(selCommand);\n                // If AID is successfully selected, 0x9000 is returned as the status word (last 2\n                // bytes of the result) by convention. Everything before the status word is\n                // optional payload, which is used here to hold the account number.\n                int resultLength = result.length;\n                byte[] statusWord = {result[resultLength-2], result[resultLength-1]};\n                byte[] payload = Arrays.copyOf(result, resultLength-2);\n                if (Arrays.equals(SELECT_OK_SW, statusWord)) {\n                    // The remote NFC device will immediately respond with its stored account number\n                    String accountNumber = new String(payload, &quot;UTF-8&quot;);\n                    Log.i(TAG, &quot;Received: &quot; + accountNumber);\n                    // Inform CardReaderFragment of received account number\n                    Log.d(&quot;Account&quot;,accountNumber);\n                    mAccountCallback.get().onAccountReceived(accountNumber);\n                }\n            } catch (IOException e) {\n                Log.e(TAG, &quot;Error communicating with card: &quot; + e.toString());\n            }\n        }\n    }\n\n    /**\n     * Build APDU for SELECT AID command. This command indicates which service a reader is\n     * interested in communicating with. See ISO 7816-4.\n     *\n     * @param aid Application ID (AID) to select\n     * @return APDU for SELECT AID command\n     */\n    public static byte[] BuildSelectApdu(String aid) {\n        // Format: [CLASS | INSTRUCTION | PARAMETER 1 | PARAMETER 2 | LENGTH | DATA]\n        return HexStringToByteArray(SELECT_APDU_HEADER + String.format(&quot;%02X&quot;, aid.length() / 2) + aid);\n    }\n\n    /**\n     * Build APDU for GET_DATA command. See ISO 7816-4.\n     *\n     * @return APDU for SELECT AID command\n     */\n    public static byte[] BuildGetDataApdu() {\n        // Format: [CLASS | INSTRUCTION | PARAMETER 1 | PARAMETER 2 | LENGTH | DATA]\n        return HexStringToByteArray(GET_DATA_APDU_HEADER + &quot;0FFF&quot;);\n    }\n\n    /**\n     * Utility class to convert a byte array to a hexadecimal string.\n     *\n     * @param bytes Bytes to convert\n     * @return String, containing hexadecimal representation.\n     */\n    public static String ByteArrayToHexString(byte[] bytes) {\n        final char[] hexArray = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};\n        char[] hexChars = new char[bytes.length * 2];\n        int v;\n        for ( int j = 0; j &lt; bytes.length; j++ ) {\n            v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\n    /**\n     * Utility class to convert a hexadecimal string to a byte string.\n     *\n     * &lt;p&gt;Behavior with input strings containing non-hexadecimal characters is undefined.\n     *\n     * @param s String containing hexadecimal characters to convert\n     * @return Byte array generated from input\n     */\n    public static byte[] HexStringToByteArray(String s) {\n        int len = s.length();\n        byte[] data = new byte[len / 2];\n        for (int i = 0; i &lt; len; i += 2) {\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                    + Character.digit(s.charAt(i+1), 16));\n        }\n        return data;\n    }\n\n}\n\n</code></pre>\n<p>HCEPayment.java</p>\n<pre><code>package com.example.try2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.nfc.NfcAdapter;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\n\npublic class HCEPayment extends AppCompatActivity implements LoyaltyCardReader.AccountCallback {\n\n    public static final String TAG = &quot;CardReaderFragment&quot;;\n    public static int READER_FLAGS =\n            NfcAdapter.FLAG_READER_NFC_A | NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK;\n    public LoyaltyCardReader mLoyaltyCardReader;\n    private TextView mAccountField;\n    StringBuilder stringReceived;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_hcepayment);\n        mAccountField = (TextView) findViewById(R.id.card_account_field);\n        mAccountField.setText(&quot;Waiting...&quot;);\n        mLoyaltyCardReader = new LoyaltyCardReader(this);\n        enableReaderMode();\n    }\n    @Override\n    public void onPause() {\n        super.onPause();\n        disableReaderMode();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        enableReaderMode();\n    }\n\n    private void enableReaderMode() {\n        Log.i(TAG, &quot;Enabling reader mode&quot;);\n        NfcAdapter nfc = NfcAdapter.getDefaultAdapter(this);\n        if (nfc != null) {\n            nfc.enableReaderMode(this, mLoyaltyCardReader, READER_FLAGS, null);\n        }\n    }\n    private void disableReaderMode() {\n        Log.i(TAG, &quot;Disabling reader mode&quot;);\n        NfcAdapter nfc = NfcAdapter.getDefaultAdapter(this);\n        if (nfc != null) {\n            nfc.disableReaderMode(this);\n        }\n    }\n\n    @Override\n    public void onAccountReceived(String account) {\n        stringReceived.append(account);\n        if (account.contains(&quot;END&quot;)) {\n\n        }\n        this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                mAccountField.setText(account);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21544672,"reputation":389,"user_id":15881730,"display_name":"squidwardsface"},"score":0,"creation_date":1637682645,"post_id":70083781,"comment_id":123888915,"body_markdown":"Try using &#39;System.out.print(&quot;Current processes: &quot; + numProcesses + &quot;\\r&quot;)&#39;. &quot;\\r&quot; is for carriage return, placing the cursor back at the start of the line. This is how you do it in C but I&#39;m not sure if it works in Java or not.","body":"Try using &#39;System.out.print(&quot;Current processes: &quot; + numProcesses + &quot;\\r&quot;)&#39;. &quot;\\r&quot; is for carriage return, placing the cursor back at the start of the line. This is how you do it in C but I&#39;m not sure if it works in Java or not."}],"answers":[{"tags":[],"owner":{"account_id":20521686,"reputation":165,"user_id":15061122,"display_name":"Cameron Grande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637682993,"creation_date":1637682993,"answer_id":70083950,"question_id":70083781,"body_markdown":"A new line is being added because you are using the System.out.**println** method which appends a new line at the end. Using the **System.out.print** method will not do that. You can use the \\r special character to return to the beginning of the same line, which I believe the functionality you&#39;re going for.\r\n\r\nSomething like-\r\n\r\n    public static void main(String[] args) {\r\n        int numProcesses=0;\r\n        while (true) \r\n            System.out.print(&quot;\\rCurrent processes: &quot; + numProcesses++);\r\n    }\r\n\r\n  \r\n","title":"Replace printed console stuff","body":"<p>A new line is being added because you are using the System.out.<strong>println</strong> method which appends a new line at the end. Using the <strong>System.out.print</strong> method will not do that. You can use the \\r special character to return to the beginning of the same line, which I believe the functionality you're going for.</p>\n<p>Something like-</p>\n<pre><code>public static void main(String[] args) {\n    int numProcesses=0;\n    while (true) \n        System.out.print(&quot;\\rCurrent processes: &quot; + numProcesses++);\n}\n</code></pre>\n"}],"owner":{"account_id":23266771,"reputation":13,"user_id":17352193,"display_name":"Profeta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1637683460,"accepted_answer_id":70083950,"answer_count":1,"score":0,"last_activity_date":1637682993,"creation_date":1637682329,"question_id":70083781,"body_markdown":"I am creating a monitoring application, and I need to print the information to the console, the problem is that each line is added every time I print, I want to know if it is possible to simply update the line and how.\r\n   \r\n    public static void main(String[] args) {\r\n        while (true) {\r\n            System.out.println(&quot;Current processes: &quot; + numProcesses);\r\n        }\r\n    }","title":"Replace printed console stuff","body":"<p>I am creating a monitoring application, and I need to print the information to the console, the problem is that each line is added every time I print, I want to know if it is possible to simply update the line and how.</p>\n<pre><code>public static void main(String[] args) {\n    while (true) {\n        System.out.println(&quot;Current processes: &quot; + numProcesses);\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","heroku","node-pty"],"answers":[{"tags":[],"owner":{"account_id":6082931,"reputation":31,"user_id":4748060,"display_name":"Gyanendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637682952,"creation_date":1637682952,"answer_id":70083937,"question_id":70083251,"body_markdown":"Solved the problem, \r\n\r\nInstead of spawning the shell with powershell or bash, spawn the shell directly with the executable that you&#39;re trying to run. So, `java` in my case.\r\n\r\nEffectively, what I did: \r\n\r\n```\r\n  const ptyProcess = pty.spawn(&quot;java&quot;, [&quot;-jar&quot;, &quot;Klox.jar&quot;], {\r\n    name: &#39;xterm-color&#39;,\r\n    cols: 80,\r\n    rows: 30,\r\n    cwd: process.env.HOME,\r\n    env: process.env\r\n  });\r\n```\r\n\r\nSo, &quot;java&quot; instead of old shell variable. \r\n\r\nOne another thing to keep in mind, on windows add `.exe` extension to the end, otherwise it will say file not found. For eg: `java.exe` on windows and `java` on linux. ","title":"/app/.jdk/bin/java: cannot execute binary file using node-pty on Heroku","body":"<p>Solved the problem,</p>\n<p>Instead of spawning the shell with powershell or bash, spawn the shell directly with the executable that you're trying to run. So, <code>java</code> in my case.</p>\n<p>Effectively, what I did:</p>\n<pre><code>  const ptyProcess = pty.spawn(&quot;java&quot;, [&quot;-jar&quot;, &quot;Klox.jar&quot;], {\n    name: 'xterm-color',\n    cols: 80,\n    rows: 30,\n    cwd: process.env.HOME,\n    env: process.env\n  });\n</code></pre>\n<p>So, &quot;java&quot; instead of old shell variable.</p>\n<p>One another thing to keep in mind, on windows add <code>.exe</code> extension to the end, otherwise it will say file not found. For eg: <code>java.exe</code> on windows and <code>java</code> on linux.</p>\n"}],"owner":{"account_id":6082931,"reputation":31,"user_id":4748060,"display_name":"Gyanendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70083937,"answer_count":1,"score":0,"last_activity_date":1637682986,"creation_date":1637680223,"question_id":70083251,"body_markdown":"I am trying to create a node-pty process. When developing locally, this works fine and there is no problem. However, when this runs on Heroku, it gives the error: `/app/.jdk/bin/java: cannot execute binary file`\r\n\r\nI tried running it with just `[&quot;java&quot;]`, and that gives the same error. So, its unable to start the java binary. \r\n\r\nHowever, when I manually type the command, it works just fine.\r\n\r\n```\r\n  const shell = os.platform() === &#39;win32&#39; ? &#39;powershell.exe&#39; : &#39;bash&#39;;\r\n\r\n  const ptyProcess = pty.spawn(shell, [&quot;java&quot;, &quot;-jar&quot;, &quot;Klox.jar&quot;], {\r\n    name: &#39;xterm-color&#39;,\r\n    cols: 80,\r\n    rows: 30,\r\n    cwd: process.env.HOME,\r\n    env: process.env\r\n  });\r\n\r\n```\r\n\r\nAny idea how I can solve this?","title":"/app/.jdk/bin/java: cannot execute binary file using node-pty on Heroku","body":"<p>I am trying to create a node-pty process. When developing locally, this works fine and there is no problem. However, when this runs on Heroku, it gives the error: <code>/app/.jdk/bin/java: cannot execute binary file</code></p>\n<p>I tried running it with just <code>[&quot;java&quot;]</code>, and that gives the same error. So, its unable to start the java binary.</p>\n<p>However, when I manually type the command, it works just fine.</p>\n<pre><code>  const shell = os.platform() === 'win32' ? 'powershell.exe' : 'bash';\n\n  const ptyProcess = pty.spawn(shell, [&quot;java&quot;, &quot;-jar&quot;, &quot;Klox.jar&quot;], {\n    name: 'xterm-color',\n    cols: 80,\n    rows: 30,\n    cwd: process.env.HOME,\n    env: process.env\n  });\n\n</code></pre>\n<p>Any idea how I can solve this?</p>\n"},{"tags":["java","linked-list","iterator","iterable"],"comments":[{"owner":{"account_id":2811841,"reputation":1042,"user_id":2417922,"accept_rate":0,"display_name":"Mark Lavin"},"score":0,"creation_date":1637602474,"post_id":70069984,"comment_id":123864789,"body_markdown":"I believe you need to define a new class ListIterator&lt;R&gt;, which has methods &quot;boolean hasNext()&quot; and &quot;R getNext()&quot; methods, and then have your &quot;iterator()&quot; method return an instance of ListIterator.","body":"I believe you need to define a new class ListIterator&lt;R&gt;, which has methods &quot;boolean hasNext()&quot; and &quot;R getNext()&quot; methods, and then have your &quot;iterator()&quot; method return an instance of ListIterator."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637602597,"creation_date":1637602597,"answer_id":70070082,"question_id":70069984,"body_markdown":"You implement the `Iterable` interface.\r\n\r\n[Documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html).\r\n\r\n&gt; public interface Iterable&lt;T&gt;\r\n&gt; \r\n&gt; Implementing this interface allows an object to be the target of the\r\n&gt; &quot;for-each loop&quot; statement.\r\n\r\nAt the very least you&#39;ll need to return an iterator.\r\n\r\n&gt; Iterator&lt;T&gt;\titerator()   \r\n&gt;\r\n&gt; Returns an iterator over elements of type T.\r\n\r\n&#39;null&#39; (as in your code) is not an iterator.  You&#39;ll need to implement a class (can be nested, if you like) that knows how to iterate over your particular linked-list implementation.  Probably, all it needs is a &#39;next node to process&#39; member; the next() and hasNext() methods can be implemented with just that.\r\n","title":"How can I make a class iterable in Java to use foreach loop","body":"<p>You implement the <code>Iterable</code> interface.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Documentation</a>.</p>\n<blockquote>\n<p>public interface Iterable</p>\n<p>Implementing this interface allows an object to be the target of the\n&quot;for-each loop&quot; statement.</p>\n</blockquote>\n<p>At the very least you'll need to return an iterator.</p>\n<blockquote>\n<p>Iterator   iterator()</p>\n<p>Returns an iterator over elements of type T.</p>\n</blockquote>\n<p>'null' (as in your code) is not an iterator.  You'll need to implement a class (can be nested, if you like) that knows how to iterate over your particular linked-list implementation.  Probably, all it needs is a 'next node to process' member; the next() and hasNext() methods can be implemented with just that.</p>\n"},{"tags":[],"owner":{"account_id":21085211,"reputation":193,"user_id":15498504,"display_name":"Reza Esmaeelzade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637682970,"creation_date":1637682970,"answer_id":70083942,"question_id":70069984,"body_markdown":"finally I can do it with this modification:\r\n\r\n    @Override\r\n    public Iterator&lt;R&gt; iterator() {\r\n        return new Iterator&lt;R&gt;(){\r\n            Node&lt;R&gt; current = (Node&lt;R&gt;) headNode;\r\n\r\n            @Override\r\n            public boolean hasNext(){\r\n                return current != null;\r\n            }\r\n\r\n            @Override\r\n            public R next(){\r\n                if (hasNext()){\r\n                    R dR = current.getData();\r\n                    current = current.getNextNode();\r\n                    return dR;\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n    }\r\nin &lt;i&gt;LinkedList.java&lt;/i&gt;","title":"How can I make a class iterable in Java to use foreach loop","body":"<p>finally I can do it with this modification:</p>\n<pre><code>@Override\npublic Iterator&lt;R&gt; iterator() {\n    return new Iterator&lt;R&gt;(){\n        Node&lt;R&gt; current = (Node&lt;R&gt;) headNode;\n\n        @Override\n        public boolean hasNext(){\n            return current != null;\n        }\n\n        @Override\n        public R next(){\n            if (hasNext()){\n                R dR = current.getData();\n                current = current.getNextNode();\n                return dR;\n            }\n            return null;\n        }\n    };\n}\n</code></pre>\n<p>in <i>LinkedList.java</i></p>\n"}],"owner":{"account_id":21085211,"reputation":193,"user_id":15498504,"display_name":"Reza Esmaeelzade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70083942,"answer_count":2,"score":0,"last_activity_date":1637682970,"creation_date":1637602070,"question_id":70069984,"body_markdown":"&lt;p&gt;I try to create a manual LinkedList class and then I made a function to merge two LinkedList. I implement iterable for my LinkedList class in order to use foreach loop but something went wrong. I don&#39;t know how to override iterator() function to solve problem. this is my code:&lt;/p&gt;\r\n&lt;i&gt;Node.java&lt;/i&gt;\r\n\r\n    package app;\r\n    public class Node&lt;R&gt; {\r\n        private R Data;\r\n        private Node&lt;R&gt; nextNode;\r\n        public final void setData(R data) {\r\n            Data = data;\r\n        }\r\n        public R getData() {\r\n            return Data;\r\n        }\r\n        public void setNextNode(Node&lt;R&gt; nextNode) {\r\n            this.nextNode = nextNode;\r\n        }\r\n        public Node&lt;R&gt; getNextNode() {\r\n            return nextNode;\r\n        }\r\n        public Node(R dR){\r\n            this.setData(dR);\r\n        }\r\n    }\r\n&lt;i&gt;LinkedList.java&lt;/i&gt;\r\n\r\n    package app;\r\n    import java.util.Iterator;\r\n    public class LinkedList&lt;R&gt; implements java.lang.Iterable&lt;R&gt;{\r\n        private Node&lt;R&gt; headNode;\r\n        public void addNode(Node&lt;R&gt; nR){\r\n            if(headNode == null){\r\n                headNode = nR;\r\n            } else {\r\n                nR.setNextNode(headNode);\r\n                this.headNode = nR;\r\n            }\r\n        }\r\n        public void addData(R dR){\r\n            Node&lt;R&gt; nR = new Node&lt;&gt;(dR);\r\n            addNode(nR);\r\n        }\r\n        public LinkedList(){\r\n            headNode = null;\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;R&gt; iterator() {\r\n            return null;\r\n        }\r\n    }\r\n\r\n&lt;i&gt;App.java&lt;/i&gt;\r\n\r\n    package app;\r\n    public class App {\r\n        public static &lt;R&gt;LinkedList&lt;R&gt; unionLinkedList(LinkedList&lt;R&gt; list , LinkedList&lt;R&gt; list2){\r\n            LinkedList&lt;R&gt; unionLinkedList = new LinkedList&lt;&gt;();\r\n            for (R dR : list) {\r\n                unionLinkedList.addData(dR);\r\n            }\r\n            for (R dR : list2) {\r\n                unionLinkedList.addData(dR);\r\n            }\r\n            return unionLinkedList;\r\n        }\r\n        public static void main(String[] args) throws Exception {\r\n            LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n            LinkedList&lt;Integer&gt; list2 = new LinkedList&lt;&gt;();\r\n            list.addData(3);\r\n            list.addData(9);\r\n            list.addData(8);\r\n            list2.addData(11);\r\n            list2.addData(5);\r\n            list2.addData(7);\r\n            LinkedList&lt;Integer&gt; u = unionLinkedList(list, list2);\r\n        }\r\n    }\r\nI know I have to change &lt;code&gt;return null;&lt;/code&gt; in &lt;code&gt;iterator()&lt;/code&gt; but I don&#39;t know what should replace it.","title":"How can I make a class iterable in Java to use foreach loop","body":"<p>I try to create a manual LinkedList class and then I made a function to merge two LinkedList. I implement iterable for my LinkedList class in order to use foreach loop but something went wrong. I don't know how to override iterator() function to solve problem. this is my code:</p>\n<i>Node.java</i>\n<pre><code>package app;\npublic class Node&lt;R&gt; {\n    private R Data;\n    private Node&lt;R&gt; nextNode;\n    public final void setData(R data) {\n        Data = data;\n    }\n    public R getData() {\n        return Data;\n    }\n    public void setNextNode(Node&lt;R&gt; nextNode) {\n        this.nextNode = nextNode;\n    }\n    public Node&lt;R&gt; getNextNode() {\n        return nextNode;\n    }\n    public Node(R dR){\n        this.setData(dR);\n    }\n}\n</code></pre>\n<p><i>LinkedList.java</i></p>\n<pre><code>package app;\nimport java.util.Iterator;\npublic class LinkedList&lt;R&gt; implements java.lang.Iterable&lt;R&gt;{\n    private Node&lt;R&gt; headNode;\n    public void addNode(Node&lt;R&gt; nR){\n        if(headNode == null){\n            headNode = nR;\n        } else {\n            nR.setNextNode(headNode);\n            this.headNode = nR;\n        }\n    }\n    public void addData(R dR){\n        Node&lt;R&gt; nR = new Node&lt;&gt;(dR);\n        addNode(nR);\n    }\n    public LinkedList(){\n        headNode = null;\n    }\n\n    @Override\n    public Iterator&lt;R&gt; iterator() {\n        return null;\n    }\n}\n</code></pre>\n<p><i>App.java</i></p>\n<pre><code>package app;\npublic class App {\n    public static &lt;R&gt;LinkedList&lt;R&gt; unionLinkedList(LinkedList&lt;R&gt; list , LinkedList&lt;R&gt; list2){\n        LinkedList&lt;R&gt; unionLinkedList = new LinkedList&lt;&gt;();\n        for (R dR : list) {\n            unionLinkedList.addData(dR);\n        }\n        for (R dR : list2) {\n            unionLinkedList.addData(dR);\n        }\n        return unionLinkedList;\n    }\n    public static void main(String[] args) throws Exception {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n        LinkedList&lt;Integer&gt; list2 = new LinkedList&lt;&gt;();\n        list.addData(3);\n        list.addData(9);\n        list.addData(8);\n        list2.addData(11);\n        list2.addData(5);\n        list2.addData(7);\n        LinkedList&lt;Integer&gt; u = unionLinkedList(list, list2);\n    }\n}\n</code></pre>\n<p>I know I have to change <code>return null;</code> in <code>iterator()</code> but I don't know what should replace it.</p>\n"},{"tags":["java","inheritance","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":23431253,"reputation":1,"user_id":17490069,"display_name":"Kamil Oleksiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637682707,"creation_date":1637682707,"answer_id":70083876,"question_id":69071856,"body_markdown":"You should add @ApiModel annotations, also classes should have getters for all fields you want to have documented.\r\n\r\nIf you have only getters, then args constructor is required, in case you have getters and setters then default one is enough.\r\n\r\n    @ApiModel(subTypes = {SpecificAccount.class})\r\n    public class Account {...}\r\n\r\n    @ApiModel(parent = Account.class)\r\n    public class SpecificAccount extends Account {...}","title":"Override swagger discerption/example using @ApiModelProperty in the inherited class fields","body":"<p>You should add @ApiModel annotations, also classes should have getters for all fields you want to have documented.</p>\n<p>If you have only getters, then args constructor is required, in case you have getters and setters then default one is enough.</p>\n<pre><code>@ApiModel(subTypes = {SpecificAccount.class})\npublic class Account {...}\n\n@ApiModel(parent = Account.class)\npublic class SpecificAccount extends Account {...}\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637682707,"creation_date":1630918625,"question_id":69071856,"body_markdown":"I have two classes \r\n\r\n    public class Account {\r\n        @ApiModelProperty(example = &quot;EUR&quot;)\r\n        private CurrencyCode currency;\r\n        ....// public setters and getters\r\n    }\r\n\r\nand \r\n\r\n    public class SpecificAccount extends Account {\r\n        //Here I need to override the currencie example without redefining the currency field\r\n        @ApiModelProperty(example = &quot;USD&quot;)  \r\n        private CurrencyCode currency;\r\n    }\r\n\r\nCan we override swagger discerption/example using @ApiModelProperty in inherited class ?\r\n","title":"Override swagger discerption/example using @ApiModelProperty in the inherited class fields","body":"<p>I have two classes</p>\n<pre><code>public class Account {\n    @ApiModelProperty(example = &quot;EUR&quot;)\n    private CurrencyCode currency;\n    ....// public setters and getters\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class SpecificAccount extends Account {\n    //Here I need to override the currencie example without redefining the currency field\n    @ApiModelProperty(example = &quot;USD&quot;)  \n    private CurrencyCode currency;\n}\n</code></pre>\n<p>Can we override swagger discerption/example using @ApiModelProperty in inherited class ?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637681469,"creation_date":1637668591,"answer_id":70080478,"question_id":70079672,"body_markdown":"It sounds a bit risky… My Spark code is often full of static functions that may defer from version to version, even minor versions (and even in patch versions if I remember correctly, or at least some behavior may have changed). \r\n\r\nThen it may defer between a job in Python and Java/Scala. You Spark-submit” the Python source code vs. byte code. It may work better with Python, but I would still not recommend it. \r\n\r\nMy experience also showed that in some previous versions of Spark where you could pick between Scala 2.11 and 2.12, the behavior would change. \r\n\r\nIn summary, with all the subtleties of Apache Spark, I would not try to mix and match versions, I would even recommend you log the version of Spark when you driver starts. In Maven, I always use variables to avoid potential issues with versions ([example of pom.xml][1]). \r\n\r\n\r\n  [1]: https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/pom.xml","title":"Spark application dependency version vs Spark server version","body":"<p>It sounds a bit risky… My Spark code is often full of static functions that may defer from version to version, even minor versions (and even in patch versions if I remember correctly, or at least some behavior may have changed).</p>\n<p>Then it may defer between a job in Python and Java/Scala. You Spark-submit” the Python source code vs. byte code. It may work better with Python, but I would still not recommend it.</p>\n<p>My experience also showed that in some previous versions of Spark where you could pick between Scala 2.11 and 2.12, the behavior would change.</p>\n<p>In summary, with all the subtleties of Apache Spark, I would not try to mix and match versions, I would even recommend you log the version of Spark when you driver starts. In Maven, I always use variables to avoid potential issues with versions (<a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/pom.xml\" rel=\"nofollow noreferrer\">example of pom.xml</a>).</p>\n"}],"owner":{"account_id":3336219,"reputation":1683,"user_id":3739748,"accept_rate":53,"display_name":"Amin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637682645,"creation_date":1637665165,"question_id":70079672,"body_markdown":"I have a simple question about using Spark, which although most tools usually explain this question explicitly (in important text, such as a specific format or a separate page), I did not find it anywhere. Maybe my search was not enough, but I thought it was good that I ask this question in the hope that maybe the answer will benefit other people as well. \r\n\r\nSpark binary is usually downloaded from the following link and installed and configured on the cluster: [Download Apache Spark][1]\r\n\r\nIf, for example, we use the Java language for programming (although it can be other supported languages), we need the following dependencies to communicate with Spark:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n \t    &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAs is clear, both the Spark cluster (binary of Spark) and the dependencies used on the application side have a specific version. In my opinion, it is obvious that if the version used is the same on both the application side and the server side, everything will most likely work in its ideal state without any problems. \r\n\r\nBut the question is, what if the two versions are not the same? Is it possible to have compatibility between the server and the application in specific number of conditions (such as not changing major version)? Or, for example, if the client is always ahead, is it not a problem? Or if the server is always ahead, is it not a problem? \r\n\r\nUnfortunately, I did not find the answer to any of these cases! Because it is difficult to use the same version due to the existence of libraries that may be updated late and are not in our control. I would be happy if anyone can provide its own experience or resources related to this. \r\n\r\nUpdate 1\r\n-------\r\nI think something went wrong in the sense of the question. My argument is not that it is better to define a variable to make sure that the same version is used everywhere. (For example `${spark_version}`) The argument is that there may be a library that I did not write and it is an old version, but I want to update my cluster (server version). Or it may not be possible for me to update the server version and all the applications version at the same time, so I want to update each one separately. As a result, the application-server version differs in a period of time. (maybe short or long period) I want to know exactly how Spark works in this situation.\r\n\r\n\r\n  [1]: https://spark.apache.org/downloads.html","title":"Spark application dependency version vs Spark server version","body":"<p>I have a simple question about using Spark, which although most tools usually explain this question explicitly (in important text, such as a specific format or a separate page), I did not find it anywhere. Maybe my search was not enough, but I thought it was good that I ask this question in the hope that maybe the answer will benefit other people as well.</p>\n<p>Spark binary is usually downloaded from the following link and installed and configured on the cluster: <a href=\"https://spark.apache.org/downloads.html\" rel=\"nofollow noreferrer\">Download Apache Spark</a></p>\n<p>If, for example, we use the Java language for programming (although it can be other supported languages), we need the following dependencies to communicate with Spark:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As is clear, both the Spark cluster (binary of Spark) and the dependencies used on the application side have a specific version. In my opinion, it is obvious that if the version used is the same on both the application side and the server side, everything will most likely work in its ideal state without any problems.</p>\n<p>But the question is, what if the two versions are not the same? Is it possible to have compatibility between the server and the application in specific number of conditions (such as not changing major version)? Or, for example, if the client is always ahead, is it not a problem? Or if the server is always ahead, is it not a problem?</p>\n<p>Unfortunately, I did not find the answer to any of these cases! Because it is difficult to use the same version due to the existence of libraries that may be updated late and are not in our control. I would be happy if anyone can provide its own experience or resources related to this.</p>\n<h2>Update 1</h2>\n<p>I think something went wrong in the sense of the question. My argument is not that it is better to define a variable to make sure that the same version is used everywhere. (For example <code>${spark_version}</code>) The argument is that there may be a library that I did not write and it is an old version, but I want to update my cluster (server version). Or it may not be possible for me to update the server version and all the applications version at the same time, so I want to update each one separately. As a result, the application-server version differs in a period of time. (maybe short or long period) I want to know exactly how Spark works in this situation.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637682548,"creation_date":1637655743,"answer_id":70077505,"question_id":70077152,"body_markdown":"You might be tempted to use a query that looks like this:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference pendingRef = db.child(&quot;Pending&quot;);\r\n    Query queryByKey = pendingRef.orderByKey().startAt(&quot;211010&quot;);\r\n\r\nBut this will not provide the expected results. Why? Because of the reason provided by @FrankvanPuffelen in the following answer:\r\n\r\n* https://stackoverflow.com/questions/39076284/firebase-orderbykey-with-startat-and-endat-giving-wrong-results\r\n\r\nSo to solve this, the best option that you have is **not** to use only numerical values for the keys. So a simple solution would be to prefix the keys with a constant String. So the corresponding query should look like this:\r\n\r\n    Query queryByKey = pendingRef.orderByKey().startAt(&quot;*211010&quot;).endAt(&quot;*211010&quot; + &quot;\\uf8ff&quot;);\r\n    //                                                  &#128070;               &#128070;\r\n\r\nAnd the keys in the database should look like this:\r\n\r\n    Firebase-root\r\n      |\r\n      --- *211010...\r\n      |\r\n      --- *211010...\r\n      |\r\n      --- *211010...\r\n\r\n**Edit:**\r\n\r\nI just took the following example:\r\n\r\n```\r\n{\r\n  &quot;Pending&quot; : {\r\n    &quot;2110101&quot; : {\r\n      &quot;name&quot; : 1\r\n    },\r\n    &quot;2110102&quot; : {\r\n      &quot;name&quot; : 2\r\n    },\r\n    &quot;2110103&quot; : {\r\n      &quot;name&quot; : 3\r\n    },\r\n    &quot;2110114&quot; : { //It&#39;s 21-10-11 and not  //It&#39;s 21-10-10\r\n      &quot;name&quot; : 4\r\n    },\r\n  }\r\n}\r\n```\r\n\r\nUsing the following query (no `*` added before the number):\r\n\r\n    Query queryByKey = pendingRef.orderByKey().startAt(&quot;211010&quot;).endAt(&quot;211010&quot; + &quot;\\uf8ff&quot;);\r\n\r\nI get the following result:\r\n\r\n    name: 1\r\n    name: 2\r\n    name: 3\r\n    name: 4\r\n\r\nSo I get all results. However, when I use:\r\n\r\n```\r\n{\r\n  &quot;Pending&quot; : {\r\n    &quot;*2110101&quot; : {\r\n      &quot;name&quot; : 1\r\n    },\r\n    &quot;*2110102&quot; : {\r\n      &quot;name&quot; : 2\r\n    },\r\n    &quot;*2110103&quot; : {\r\n      &quot;name&quot; : 3\r\n    },\r\n    &quot;*2110114&quot; : { //It&#39;s 21-10-11 and not  //It&#39;s 21-10-10\r\n      &quot;name&quot; : 4\r\n    },\r\n  }\r\n}\r\n```\r\n\r\nAnd the following query (with the `*` added before):\r\n\r\n    Query queryByKey = pendingRef.orderByKey().startAt(&quot;*211010&quot;).endAt(&quot;*211010&quot; + &quot;\\uf8ff&quot;);\r\n\r\nI only get:\r\n\r\n    name: 1\r\n    name: 2\r\n    name: 3\r\n\r\nSo it works in this case as well.","title":"Search firebase realtime database base on 6 digit in front of the child data, i want to query data between two numbers (dates)","body":"<p>You might be tempted to use a query that looks like this:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference pendingRef = db.child(&quot;Pending&quot;);\nQuery queryByKey = pendingRef.orderByKey().startAt(&quot;211010&quot;);\n</code></pre>\n<p>But this will not provide the expected results. Why? Because of the reason provided by @FrankvanPuffelen in the following answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/39076284/firebase-orderbykey-with-startat-and-endat-giving-wrong-results\">Firebase OrderByKey with startAt and endAt giving wrong results</a></li>\n</ul>\n<p>So to solve this, the best option that you have is <strong>not</strong> to use only numerical values for the keys. So a simple solution would be to prefix the keys with a constant String. So the corresponding query should look like this:</p>\n<pre><code>Query queryByKey = pendingRef.orderByKey().startAt(&quot;*211010&quot;).endAt(&quot;*211010&quot; + &quot;\\uf8ff&quot;);\n//                                                  👆               👆\n</code></pre>\n<p>And the keys in the database should look like this:</p>\n<pre><code>Firebase-root\n  |\n  --- *211010...\n  |\n  --- *211010...\n  |\n  --- *211010...\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>I just took the following example:</p>\n<pre><code>{\n  &quot;Pending&quot; : {\n    &quot;2110101&quot; : {\n      &quot;name&quot; : 1\n    },\n    &quot;2110102&quot; : {\n      &quot;name&quot; : 2\n    },\n    &quot;2110103&quot; : {\n      &quot;name&quot; : 3\n    },\n    &quot;2110114&quot; : { //It's 21-10-11 and not  //It's 21-10-10\n      &quot;name&quot; : 4\n    },\n  }\n}\n</code></pre>\n<p>Using the following query (no <code>*</code> added before the number):</p>\n<pre><code>Query queryByKey = pendingRef.orderByKey().startAt(&quot;211010&quot;).endAt(&quot;211010&quot; + &quot;\\uf8ff&quot;);\n</code></pre>\n<p>I get the following result:</p>\n<pre><code>name: 1\nname: 2\nname: 3\nname: 4\n</code></pre>\n<p>So I get all results. However, when I use:</p>\n<pre><code>{\n  &quot;Pending&quot; : {\n    &quot;*2110101&quot; : {\n      &quot;name&quot; : 1\n    },\n    &quot;*2110102&quot; : {\n      &quot;name&quot; : 2\n    },\n    &quot;*2110103&quot; : {\n      &quot;name&quot; : 3\n    },\n    &quot;*2110114&quot; : { //It's 21-10-11 and not  //It's 21-10-10\n      &quot;name&quot; : 4\n    },\n  }\n}\n</code></pre>\n<p>And the following query (with the <code>*</code> added before):</p>\n<pre><code>Query queryByKey = pendingRef.orderByKey().startAt(&quot;*211010&quot;).endAt(&quot;*211010&quot; + &quot;\\uf8ff&quot;);\n</code></pre>\n<p>I only get:</p>\n<pre><code>name: 1\nname: 2\nname: 3\n</code></pre>\n<p>So it works in this case as well.</p>\n"}],"owner":{"account_id":19487128,"reputation":7,"user_id":14256234,"display_name":"billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637682548,"creation_date":1637653881,"question_id":70077152,"body_markdown":"Is there possible to search database on 6 first digits from the Realtime Database, something like I search for 211010 and the data in range/having the 211010 in front of it will show up like 211010XXXXXXX, 211010XXXXXXX, I want to query data between two numbers (dates).\r\n\r\n[![enter image description here][1]][1]\r\nthe 211010 was a date 2021-10-10 \r\n\r\n  [1]: https://i.stack.imgur.com/3x4CA.png","title":"Search firebase realtime database base on 6 digit in front of the child data, i want to query data between two numbers (dates)","body":"<p>Is there possible to search database on 6 first digits from the Realtime Database, something like I search for 211010 and the data in range/having the 211010 in front of it will show up like 211010XXXXXXX, 211010XXXXXXX, I want to query data between two numbers (dates).</p>\n<p><a href=\"https://i.stack.imgur.com/3x4CA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3x4CA.png\" alt=\"enter image description here\" /></a>\nthe 211010 was a date 2021-10-10</p>\n"},{"tags":["java","swing","marvin-framework"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637674698,"post_id":70081620,"comment_id":123885297,"body_markdown":"From the code snippets in your question, it looks like you are cropping the image clone but you are saving the same image that you loaded.","body":"From the code snippets in your question, it looks like you are cropping the image clone but you are saving the same image that you loaded."},{"owner":{"account_id":11518214,"reputation":545,"user_id":8440950,"display_name":"thetechnician94"},"score":0,"creation_date":1637675267,"post_id":70081620,"comment_id":123885551,"body_markdown":"@abra, I imagine that the `crop()` function is overwriting the original image. My guess is that the arguments are something like (source, destination). Either way, that wouldn&#39;t explain OP&#39;s problem","body":"@abra, I imagine that the <code>crop()</code> function is overwriting the original image. My guess is that the arguments are something like (source, destination). Either way, that wouldn&#39;t explain OP&#39;s problem"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1637680084,"post_id":70081620,"comment_id":123887730,"body_markdown":"*I have no idea why this is happening* - neither do we. This should happen real time unless the Marvin API does some kind of caching. You need to read the API as there is nothing that appears to be wrong with the posted code based on a best guess of how it should work. In the meantime there is no need to use the Marvin API. Just use the ImageIO class to read/write the Image. You can then use the BufferedImage class to crop the image. The code would be almost identical to the code posted here.","body":"<i>I have no idea why this is happening</i> - neither do we. This should happen real time unless the Marvin API does some kind of caching. You need to read the API as there is nothing that appears to be wrong with the posted code based on a best guess of how it should work. In the meantime there is no need to use the Marvin API. Just use the ImageIO class to read/write the Image. You can then use the BufferedImage class to crop the image. The code would be almost identical to the code posted here."}],"answers":[{"tags":[],"owner":{"account_id":11518214,"reputation":545,"user_id":8440950,"display_name":"thetechnician94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637674096,"creation_date":1637674096,"answer_id":70081764,"question_id":70081620,"body_markdown":"I&#39;m not 100% certain, but I think your problem is that you are running your cropping function on the event dispatch thread. \r\n\r\nTry giving it its own thread:\r\n\r\n```\r\n  cropBtn.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n               System.out.println(&quot;Cropped successfully&quot;);\r\n               new Thread(new ImageThread()).start();\r\n            }\r\n        });\r\n\r\npublic class ImageThread implements Runnable{\r\n   @Override\r\n        public void run() {\r\n            ImageManipulator.cropImage(60, 32, 182, 62);\r\n         }\r\n}\r\n```","title":"Image processing delayed on Java","body":"<p>I'm not 100% certain, but I think your problem is that you are running your cropping function on the event dispatch thread.</p>\n<p>Try giving it its own thread:</p>\n<pre><code>  cropBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n               System.out.println(&quot;Cropped successfully&quot;);\n               new Thread(new ImageThread()).start();\n            }\n        });\n\npublic class ImageThread implements Runnable{\n   @Override\n        public void run() {\n            ImageManipulator.cropImage(60, 32, 182, 62);\n         }\n}\n</code></pre>\n"}],"owner":{"account_id":15827845,"reputation":117,"user_id":11420166,"display_name":"Rowan Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637682228,"creation_date":1637673463,"question_id":70081620,"body_markdown":"I have a jframe with a button to crop image, and im using the Marvin libray to manipulate images. Whenever i clic the button the new cropped image is created in the folder after i close the jframe window. I have no idea why this is happening and how to make it work real time. Appreciate any help\r\n\r\nGui.java\r\n````\r\n      cropBtn.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n               System.out.println(&quot;Cropped successfully&quot;);\r\n           \r\n             ImageManipulator.cropImage(60, 32, 182, 62);\r\n           }\r\n        });\r\n````\r\nCrop method\r\n````\r\n static MarvinImage cropImage(int x, int y, int width, int height) {\r\n        MarvinImage image = MarvinImageIO.loadImage(&quot;image.jpeg&quot;);\r\n        crop(image.clone(), image, x, y, width, height);\r\n        MarvinImageIO.saveImage(image, String.format(&quot;cropped-image-%s.%s&quot;, dateFormat.format(new Date()), format));\r\n        return image;\r\n    }\r\n````\r\n\r\n````\r\n   public static void crop(MarvinImage imageIn, MarvinImage imageOut, int x, int y, int width, int height) {\r\n        x = Math.min(Math.max(x, 0), imageIn.getWidth());\r\n        y = Math.min(Math.max(y, 0), imageIn.getHeight());\r\n        if (x + width &gt; imageIn.getWidth()) {\r\n            width = imageIn.getWidth() - x;\r\n        }\r\n\r\n        if (y + height &gt; imageIn.getHeight()) {\r\n            height = imageIn.getHeight() - y;\r\n        }\r\n\r\n        crop = checkAndLoadImagePlugin(crop, &quot;org.marvinproject.image.segmentation.crop&quot;);\r\n        crop.setAttribute(&quot;x&quot;, x);\r\n        crop.setAttribute(&quot;y&quot;, y);\r\n        crop.setAttribute(&quot;width&quot;, width);\r\n        crop.setAttribute(&quot;height&quot;, height);\r\n        crop.process(imageIn, imageOut);\r\n    }\r\n````","title":"Image processing delayed on Java","body":"<p>I have a jframe with a button to crop image, and im using the Marvin libray to manipulate images. Whenever i clic the button the new cropped image is created in the folder after i close the jframe window. I have no idea why this is happening and how to make it work real time. Appreciate any help</p>\n<p>Gui.java</p>\n<pre><code>      cropBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n               System.out.println(&quot;Cropped successfully&quot;);\n           \n             ImageManipulator.cropImage(60, 32, 182, 62);\n           }\n        });\n</code></pre>\n<p>Crop method</p>\n<pre><code> static MarvinImage cropImage(int x, int y, int width, int height) {\n        MarvinImage image = MarvinImageIO.loadImage(&quot;image.jpeg&quot;);\n        crop(image.clone(), image, x, y, width, height);\n        MarvinImageIO.saveImage(image, String.format(&quot;cropped-image-%s.%s&quot;, dateFormat.format(new Date()), format));\n        return image;\n    }\n</code></pre>\n<pre><code>   public static void crop(MarvinImage imageIn, MarvinImage imageOut, int x, int y, int width, int height) {\n        x = Math.min(Math.max(x, 0), imageIn.getWidth());\n        y = Math.min(Math.max(y, 0), imageIn.getHeight());\n        if (x + width &gt; imageIn.getWidth()) {\n            width = imageIn.getWidth() - x;\n        }\n\n        if (y + height &gt; imageIn.getHeight()) {\n            height = imageIn.getHeight() - y;\n        }\n\n        crop = checkAndLoadImagePlugin(crop, &quot;org.marvinproject.image.segmentation.crop&quot;);\n        crop.setAttribute(&quot;x&quot;, x);\n        crop.setAttribute(&quot;y&quot;, y);\n        crop.setAttribute(&quot;width&quot;, width);\n        crop.setAttribute(&quot;height&quot;, height);\n        crop.process(imageIn, imageOut);\n    }\n</code></pre>\n"},{"tags":["java","string","coding-style"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1637681090,"post_id":70083439,"comment_id":123888178,"body_markdown":"The &quot;very long variable&quot; will exist *somewhere*, does it really matter where? Although I might suggest using an array of strings and joining them; incrementally easier to read, modify, and reason about.","body":"The &quot;very long variable&quot; will exist <i>somewhere</i>, does it really matter where? Although I might suggest using an array of strings and joining them; incrementally easier to read, modify, and reason about."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1637681097,"post_id":70083439,"comment_id":123888182,"body_markdown":"If it&#39;s a fixed string, a static final String is sufficient.","body":"If it&#39;s a fixed string, a static final String is sufficient."},{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":2,"creation_date":1637681116,"post_id":70083439,"comment_id":123888189,"body_markdown":"If you are worried about readability why not have a separate &quot;config&quot; class that has any static strings etc your project will need. Then you can just import when required","body":"If you are worried about readability why not have a separate &quot;config&quot; class that has any static strings etc your project will need. Then you can just import when required"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1637681425,"post_id":70083439,"comment_id":123888338,"body_markdown":"Wondering, how are these &quot;configs&quot; used later on? The code using this, does that *parse* your strings, and extract values and uses them for something? Meaning: conceptually, your configs could be an **enum**, and then different sets of configs are represented as EnumSet ... and only when you need to go &quot;outside&quot; of the JVM, you would have ONE piece of code that translates such EnumSets into strings. But passing around raw strings like ... as said: smells like a code smell.","body":"Wondering, how are these &quot;configs&quot; used later on? The code using this, does that <i>parse</i> your strings, and extract values and uses them for something? Meaning: conceptually, your configs could be an <b>enum</b>, and then different sets of configs are represented as EnumSet ... and only when you need to go &quot;outside&quot; of the JVM, you would have ONE piece of code that translates such EnumSets into strings. But passing around raw strings like ... as said: smells like a code smell."}],"answers":[{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637682030,"creation_date":1637682030,"answer_id":70083713,"question_id":70083439,"body_markdown":"Configuration strings are better when stored in files. This is how most systems work too. Ex: Most systems like Kafka or Cassandra have configurations of loging, log file location, addresses etc in such configuration files.\r\n\r\nSo with this approach you can change these configuration strings as per a different environment as needed without impacting code.\r\n\r\nWith the use of a properties file, your input would just be a collection of key-value pairs.\r\n\r\nfirstConfig=&quot;differentConfig1,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\r\n    secondConfig=&quot;differentConfig2,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\r\n    thirdConfig=&quot;differentConfig3,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\r\n\r\nI dont really suggest breaking it further, but if you are sure that they will always have the same commonPrefix, one option is to do something like this:\r\n\r\nIn your properties file, \r\n    firstConfig=&quot;differentConfig1&quot;\r\n    secondConfig=&quot;differentConfig2&quot;\r\n    thirdConfig=&quot;differentConfig3&quot;\r\n    commonPrefix=&quot;config1,config2,config3....config9&quot;\r\n\r\nAnd in your code, you read these configuration string and append them. Something like this:\r\n\r\n    String c1 = Registry.getString(&quot;firstConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\r\n    String c2 = Registry.getString(&quot;secondConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\r\n    String c3 = Registry.getString(&quot;thirdConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\r\n\r\nNote: Properties file just a file that is present in your java project that holds the information of the configurations as a key-value pair.","title":"What is the best way to store a common part of Strings in Java?","body":"<p>Configuration strings are better when stored in files. This is how most systems work too. Ex: Most systems like Kafka or Cassandra have configurations of loging, log file location, addresses etc in such configuration files.</p>\n<p>So with this approach you can change these configuration strings as per a different environment as needed without impacting code.</p>\n<p>With the use of a properties file, your input would just be a collection of key-value pairs.</p>\n<p>firstConfig=&quot;differentConfig1,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\nsecondConfig=&quot;differentConfig2,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\nthirdConfig=&quot;differentConfig3,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;</p>\n<p>I dont really suggest breaking it further, but if you are sure that they will always have the same commonPrefix, one option is to do something like this:</p>\n<p>In your properties file,\nfirstConfig=&quot;differentConfig1&quot;\nsecondConfig=&quot;differentConfig2&quot;\nthirdConfig=&quot;differentConfig3&quot;\ncommonPrefix=&quot;config1,config2,config3....config9&quot;</p>\n<p>And in your code, you read these configuration string and append them. Something like this:</p>\n<pre><code>String c1 = Registry.getString(&quot;firstConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\nString c2 = Registry.getString(&quot;secondConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\nString c3 = Registry.getString(&quot;thirdConfig&quot;)+Registry.getString(&quot;commonPrefix&quot;)\n</code></pre>\n<p>Note: Properties file just a file that is present in your java project that holds the information of the configurations as a key-value pair.</p>\n"}],"owner":{"account_id":13465286,"reputation":153,"user_id":9715808,"display_name":"jhthewow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1637682030,"creation_date":1637680898,"question_id":70083439,"body_markdown":"I have some very similar string like this:\r\n\r\n    String first = &quot;differentConfig1,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\r\n    String second = &quot;differentConfig2,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\r\n    String third = &quot;differentConfig3,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\r\n\r\nwhere **config1 ... config9** are the same in each string, but **differentConfig1, differentConfig2 and differentConfig3** are different\r\n\r\nwhat is the best way to avoid duplicating config1-9 in each string?\r\n\r\n(Note that config1-9 are around 1 line long values)\r\n\r\nWhat I have now is:\r\n\r\n    private String commonConfiguration() {\r\n        return &quot;config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\r\n    }\r\n\r\nand then the strings are constructed like this:\r\n\r\n    String first = &quot;differentConfig1,&quot; + commonConfiguration();\r\n\r\n\r\nI was thinking about using variables instead of a function, but I am afraid that a very long variable at the beginning of the function would make it less readable.\r\n\r\n","title":"What is the best way to store a common part of Strings in Java?","body":"<p>I have some very similar string like this:</p>\n<pre><code>String first = &quot;differentConfig1,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\nString second = &quot;differentConfig2,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\nString third = &quot;differentConfig3,config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;;\n</code></pre>\n<p>where <strong>config1 ... config9</strong> are the same in each string, but <strong>differentConfig1, differentConfig2 and differentConfig3</strong> are different</p>\n<p>what is the best way to avoid duplicating config1-9 in each string?</p>\n<p>(Note that config1-9 are around 1 line long values)</p>\n<p>What I have now is:</p>\n<pre><code>private String commonConfiguration() {\n    return &quot;config1,config2,config3,config4,config5,config6,config7,config8,config9&quot;\n}\n</code></pre>\n<p>and then the strings are constructed like this:</p>\n<pre><code>String first = &quot;differentConfig1,&quot; + commonConfiguration();\n</code></pre>\n<p>I was thinking about using variables instead of a function, but I am afraid that a very long variable at the beginning of the function would make it less readable.</p>\n"},{"tags":["java","jdbc","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1637681941,"post_id":70083626,"comment_id":123888586,"body_markdown":"Starting a new database connection is typically slow; The industry standard solution for this is to use a ConnectionPool.","body":"Starting a new database connection is typically slow; The industry standard solution for this is to use a ConnectionPool."},{"owner":{"account_id":5253091,"reputation":1524,"user_id":4444577,"display_name":"Srinath Menon"},"score":0,"creation_date":1637719741,"post_id":70083626,"comment_id":123899999,"body_markdown":"Adding to it, is the connection to a PL enabled Snowflake account?","body":"Adding to it, is the connection to a PL enabled Snowflake account?"},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1638540810,"post_id":70083626,"comment_id":124122875,"body_markdown":"Can you enable [DEBUG](https://community.snowflake.com/s/article/How-to-generate-log-file-on-Snowflake-connectors#JDBC) and check the log file generated? 3s seems a bit too slow to me. Also have you checked in the Query History in Snowflake UI how much of the 3s was related to SQL itself (I assume it&#39;s just a few ms but worth checking as well)?","body":"Can you enable <a href=\"https://community.snowflake.com/s/article/How-to-generate-log-file-on-Snowflake-connectors#JDBC\" rel=\"nofollow noreferrer\">DEBUG</a> and check the log file generated? 3s seems a bit too slow to me. Also have you checked in the Query History in Snowflake UI how much of the 3s was related to SQL itself (I assume it&#39;s just a few ms but worth checking as well)?"}],"owner":{"account_id":1322869,"reputation":3345,"user_id":1268294,"accept_rate":81,"display_name":"Paweł Adamski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637681673,"creation_date":1637681673,"question_id":70083626,"body_markdown":"I have a simple piece of code that tries to connect to Snowflake and run a simple query.\r\nThe strange thing is that establishing a connection takes over 3s, which is IMO super slow.\r\nDo you have any idea why it happens?\r\n\r\nMy code:\r\n\r\n      public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n        Class.forName(&quot;net.snowflake.client.jdbc.SnowflakeDriver&quot;);\r\n        Instant startTime = Instant.now();\r\n        try (Connection con = DriverManager.getConnection(CONNECTION_STRING, USER, PASSWORD)) {\r\n          System.out.println(&quot;Connection time: &quot; + Duration.between(startTime, Instant.now()).toMillis() + &quot;ms&quot;);\r\n          PreparedStatement pstmt = con.prepareStatement(&quot;SELECT name,age from user where id = ?&quot;);\r\n          pstmt.setString(1, &quot;0066488521&quot;);\r\n          startTime = Instant.now();\r\n          ResultSet resultSet = pstmt.executeQuery();\r\n          while (resultSet.next()) {\r\n            String name = resultSet.getString(&quot;NAME&quot;);\r\n            String age = resultSet.getString(&quot;AGE&quot;);\r\n            System.out.println(name + &quot;, &quot; + age);\r\n          }\r\n          System.out.println(&quot;Query time: &quot; + Duration.between(startTime, Instant.now()).toMillis() + &quot;ms&quot;);\r\n        }\r\n      }","title":"Snowflake slow JDBC connection","body":"<p>I have a simple piece of code that tries to connect to Snowflake and run a simple query.\nThe strange thing is that establishing a connection takes over 3s, which is IMO super slow.\nDo you have any idea why it happens?</p>\n<p>My code:</p>\n<pre><code>  public static void main(String[] args) throws ClassNotFoundException, SQLException {\n    Class.forName(&quot;net.snowflake.client.jdbc.SnowflakeDriver&quot;);\n    Instant startTime = Instant.now();\n    try (Connection con = DriverManager.getConnection(CONNECTION_STRING, USER, PASSWORD)) {\n      System.out.println(&quot;Connection time: &quot; + Duration.between(startTime, Instant.now()).toMillis() + &quot;ms&quot;);\n      PreparedStatement pstmt = con.prepareStatement(&quot;SELECT name,age from user where id = ?&quot;);\n      pstmt.setString(1, &quot;0066488521&quot;);\n      startTime = Instant.now();\n      ResultSet resultSet = pstmt.executeQuery();\n      while (resultSet.next()) {\n        String name = resultSet.getString(&quot;NAME&quot;);\n        String age = resultSet.getString(&quot;AGE&quot;);\n        System.out.println(name + &quot;, &quot; + age);\n      }\n      System.out.println(&quot;Query time: &quot; + Duration.between(startTime, Instant.now()).toMillis() + &quot;ms&quot;);\n    }\n  }\n</code></pre>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":1,"creation_date":1528202052,"post_id":50700159,"comment_id":88409673,"body_markdown":"Could be a problem with Concurrency? Evaluates to true and changes before the message is shown. Netty is asynchronous so that would be my bet.","body":"Could be a problem with Concurrency? Evaluates to true and changes before the message is shown. Netty is asynchronous so that would be my bet."}],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528586144,"creation_date":1528586144,"answer_id":50779307,"question_id":50700159,"body_markdown":"This looks strange. Are you sure you not share the same `ByteBuf` with different threads ? If this is not the case please open an issue with more informations or even better a reproducer in the Netty issue tracker:\r\n\r\nhttps://github.com/netty/netty","title":"Netty UnpooledHeapByteBuf, strange and unjustified IndexOutOfBoundsException","body":"<p>This looks strange. Are you sure you not share the same <code>ByteBuf</code> with different threads ? If this is not the case please open an issue with more informations or even better a reproducer in the Netty issue tracker:</p>\n\n<p><a href=\"https://github.com/netty/netty\" rel=\"nofollow noreferrer\">https://github.com/netty/netty</a></p>\n"},{"tags":[],"owner":{"account_id":3146458,"reputation":81,"user_id":9523951,"display_name":"Julia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637681614,"creation_date":1637681614,"answer_id":70083606,"question_id":50700159,"body_markdown":"For me helped answer from *maximdim*: https://stackoverflow.com/questions/66822340/spring-webflux-security-and-request-body\r\n\r\nMain idea then you need to use `DataBufferUtils.join(exchange.getRequest().getBody())`, because first, you need to collect the all request body (join).","title":"Netty UnpooledHeapByteBuf, strange and unjustified IndexOutOfBoundsException","body":"<p>For me helped answer from <em>maximdim</em>: <a href=\"https://stackoverflow.com/questions/66822340/spring-webflux-security-and-request-body\">Spring WebFlux, Security and request body</a></p>\n<p>Main idea then you need to use <code>DataBufferUtils.join(exchange.getRequest().getBody())</code>, because first, you need to collect the all request body (join).</p>\n"}],"owner":{"account_id":13715611,"reputation":1,"user_id":9896814,"display_name":"gewy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637681614,"creation_date":1528201893,"question_id":50700159,"body_markdown":"In rare occasion Netty throw this kind of exception:\r\n\r\n&gt; java.lang.IndexOutOfBoundsException: readerIndex(37) + length(2)\r\n&gt; exceeds writerIndex(185): UnpooledHeapByteBuf(ridx: 37, widx: 185,\r\n&gt; cap: 185/185)\r\n&gt;         at io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1405)\r\n&gt;         at io.netty.buffer.AbstractByteBuf.checkReadableBytes(AbstractByteBuf.java:1392)\r\n&gt;         at io.netty.buffer.AbstractByteBuf.readBytes(AbstractByteBuf.java:872)\r\n&gt;         at io.netty.buffer.AbstractByteBuf.readBytes(AbstractByteBuf.java:880)\r\n\r\nThe code is :\r\n\r\n    private void checkReadableBytes0(int minimumReadableBytes) {\r\n        ensureAccessible();\r\n        if (readerIndex &gt; writerIndex - minimumReadableBytes) {\r\n            throw new IndexOutOfBoundsException(String.format(\r\n                    &quot;readerIndex(%d) + length(%d) exceeds writerIndex(%d): %s&quot;,\r\n                    readerIndex, minimumReadableBytes, writerIndex, this));\r\n        }\r\n    }\r\n\r\n(37 &gt; 185 - 2) should be true, how can it raise an exception ??","title":"Netty UnpooledHeapByteBuf, strange and unjustified IndexOutOfBoundsException","body":"<p>In rare occasion Netty throw this kind of exception:</p>\n\n<blockquote>\n  <p>java.lang.IndexOutOfBoundsException: readerIndex(37) + length(2)\n  exceeds writerIndex(185): UnpooledHeapByteBuf(ridx: 37, widx: 185,\n  cap: 185/185)\n          at io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1405)\n          at io.netty.buffer.AbstractByteBuf.checkReadableBytes(AbstractByteBuf.java:1392)\n          at io.netty.buffer.AbstractByteBuf.readBytes(AbstractByteBuf.java:872)\n          at io.netty.buffer.AbstractByteBuf.readBytes(AbstractByteBuf.java:880)</p>\n</blockquote>\n\n<p>The code is :</p>\n\n<pre><code>private void checkReadableBytes0(int minimumReadableBytes) {\n    ensureAccessible();\n    if (readerIndex &gt; writerIndex - minimumReadableBytes) {\n        throw new IndexOutOfBoundsException(String.format(\n                \"readerIndex(%d) + length(%d) exceeds writerIndex(%d): %s\",\n                readerIndex, minimumReadableBytes, writerIndex, this));\n    }\n}\n</code></pre>\n\n<p>(37 > 185 - 2) should be true, how can it raise an exception ??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1566156340,"post_id":57547641,"comment_id":101558473,"body_markdown":"Well based on what you said your result vs expected is, remove `System.out.println(prod);`.","body":"Well based on what you said your result vs expected is, remove <code>System.out.println(prod);</code>."}],"answers":[{"tags":[],"owner":{"account_id":15769701,"reputation":21,"user_id":11379101,"display_name":"Ali Kamil Yağlı"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566156689,"creation_date":1566156689,"answer_id":57547736,"question_id":57547641,"body_markdown":"Firstly,\r\nuse your if statement above the logic (sum or product),\r\nafter you decide to do which operation then code the logic in statement blocks\r\nso you can set your result to a variable in different conditions like below;\r\n\r\n```\r\n    Scanner sc=new Scanner(System.in);\r\n    int num=sc.nextInt();\r\n    int choice=sc.nextInt();\r\n    int result;\r\n\r\n    switch(choice) \r\n    {\r\n      case 1: //sum\r\n        result = 0;\r\n        for(int i=1;i&lt;=num;i++) {\r\n          result += i;\r\n        }\r\n      break;\r\n\r\n      case 2: //product\r\n        result = 1;\r\n        for(int i=1; i&lt;=num; i++) {\r\n          result *= i;\r\n        }\r\n      break;\r\n\r\n      default: //invalid op\r\n        result = -1;\r\n      break;\r\n    }\r\n    System.out.println(result);\r\n```\r\n\r\n","title":"Write a program that asks the user for a number N and a choice C","body":"<p>Firstly,\nuse your if statement above the logic (sum or product),\nafter you decide to do which operation then code the logic in statement blocks\nso you can set your result to a variable in different conditions like below;</p>\n\n<pre><code>    Scanner sc=new Scanner(System.in);\n    int num=sc.nextInt();\n    int choice=sc.nextInt();\n    int result;\n\n    switch(choice) \n    {\n      case 1: //sum\n        result = 0;\n        for(int i=1;i&lt;=num;i++) {\n          result += i;\n        }\n      break;\n\n      case 2: //product\n        result = 1;\n        for(int i=1; i&lt;=num; i++) {\n          result *= i;\n        }\n      break;\n\n      default: //invalid op\n        result = -1;\n      break;\n    }\n    System.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22873156,"reputation":1,"user_id":17015881,"display_name":"A N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634817633,"creation_date":1634729949,"answer_id":69645303,"question_id":57547641,"body_markdown":"Instead of if and else statement to check whether it is a sum or product inside a for loop was not giving the right results, so first if the user wants to do sum or product is checked and based on that calculations are done.\r\n\r\n        int result =0;\r\n\t\tint mult=1;\r\n\t\tScanner sc=new Scanner(System.in);  \r\n\t\tSystem.out.println(&quot;Enter a number?&quot;);\r\n\t\tint a = sc.nextInt();\r\n\t\tSystem.out.println(&quot;Do you want to compute the sum or product?&quot;);\r\n        //1 for sum, 2 for product \r\n\t\tint b = sc.nextInt();\r\n\t\t\r\n\t\t\t\tif(b==1){\r\n\t\t\t\t\tfor ( int i=1; i&lt;=a; i++) {\t\r\n\t\t\t\t\tresult += i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t}\r\n\t\t\t\telse if(b==2){\r\n\t\t\t\t\tfor (int i=1; i&lt;=a; i++) {\t\r\n\t\t\t\t\t\tmult = mult*i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(mult);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;Incorrect&quot;);\r\n\t\t\t\t}","title":"Write a program that asks the user for a number N and a choice C","body":"<p>Instead of if and else statement to check whether it is a sum or product inside a for loop was not giving the right results, so first if the user wants to do sum or product is checked and based on that calculations are done.</p>\n<pre><code>    int result =0;\n    int mult=1;\n    Scanner sc=new Scanner(System.in);  \n    System.out.println(&quot;Enter a number?&quot;);\n    int a = sc.nextInt();\n    System.out.println(&quot;Do you want to compute the sum or product?&quot;);\n    //1 for sum, 2 for product \n    int b = sc.nextInt();\n    \n            if(b==1){\n                for ( int i=1; i&lt;=a; i++) { \n                result += i;\n                }\n                System.out.println(result);\n            }\n            else if(b==2){\n                for (int i=1; i&lt;=a; i++) {  \n                    mult = mult*i;\n                    }\n                System.out.println(mult);\n            }\n            else {\n                System.out.println(&quot;Incorrect&quot;);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20521056,"reputation":1,"user_id":15060635,"display_name":"Tushar Jagtap"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637681214,"creation_date":1637681214,"answer_id":70083523,"question_id":57547641,"body_markdown":"import java.util.Scanner;\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// Write your code here\r\n        Scanner sc=new Scanner(System.in);\r\n        int n=sc.nextInt();\r\n        int c=sc.nextInt();\r\n        if(c==1)\r\n        {\r\n            int sum=0;\r\n            for(int i=1;i&lt;=n;i++)\r\n            {\r\n                sum=sum+i;\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n        else if(c==2)\r\n        {\r\n            int result=1;\r\n            for(int i=1;i&lt;=n;i++)\r\n            {\r\n                result=result*i;\r\n            }\r\n            System.out.println(result);            \r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;-1&quot;);\r\n        }\r\n\r\n\t}\r\n}\r\n\r\n","title":"Write a program that asks the user for a number N and a choice C","body":"<p>import java.util.Scanner;\npublic class Main {</p>\n<pre><code>public static void main(String[] args) {\n    // Write your code here\n    Scanner sc=new Scanner(System.in);\n    int n=sc.nextInt();\n    int c=sc.nextInt();\n    if(c==1)\n    {\n        int sum=0;\n        for(int i=1;i&lt;=n;i++)\n        {\n            sum=sum+i;\n        }\n        System.out.println(sum);\n    }\n    else if(c==2)\n    {\n        int result=1;\n        for(int i=1;i&lt;=n;i++)\n        {\n            result=result*i;\n        }\n        System.out.println(result);            \n    }\n    else\n    {\n        System.out.println(&quot;-1&quot;);\n    }\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16530228,"reputation":1,"user_id":11943722,"display_name":"Priyanka Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6064,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1637681214,"creation_date":1566155840,"question_id":57547641,"body_markdown":"Write a program that asks the user for a number N and a choice C. And then give him the possibility to choose between computing the sum and computing the product of 1 ,..., N.\r\n\r\nIf user enters C is equal to\r\n\r\n 1 : Print sum of 1 to N numbers\r\n\r\n 2 : Print product of 1 to N numbers\r\n\r\n Any other number : print -1\r\n\r\nInput format :\r\n\r\nLine 1 : Integer N\r\n\r\nLine 2 : Choice C (1 or 2)\r\n\r\nfor this i did not get the exact result of it.what is wrong in this code?\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Sum_OrProduct {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int num = sc.nextInt();\r\n        int choice = sc.nextInt();\r\n        int sum = 0, prod = 1;\r\n        for (int i = 1; i &lt;= num; i++) {\r\n            if (choice == 1) {\r\n                sum = sum + i;\r\n            } else if (choice == 2) {\r\n                prod = prod * i;\r\n            } else {\r\n                System.out.println(-1);\r\n            }\r\n        }\r\n        System.out.println(sum);\r\n        System.out.println(prod);\r\n    }\r\n\r\n}\r\n```\r\n**Result**\r\n```\r\nYour Output\r\n55\r\n1\r\n```\r\n**Expected Output**\r\n```\r\n55\r\n```","title":"Write a program that asks the user for a number N and a choice C","body":"<p>Write a program that asks the user for a number N and a choice C. And then give him the possibility to choose between computing the sum and computing the product of 1 ,..., N.</p>\n\n<p>If user enters C is equal to</p>\n\n<p>1 : Print sum of 1 to N numbers</p>\n\n<p>2 : Print product of 1 to N numbers</p>\n\n<p>Any other number : print -1</p>\n\n<p>Input format :</p>\n\n<p>Line 1 : Integer N</p>\n\n<p>Line 2 : Choice C (1 or 2)</p>\n\n<p>for this i did not get the exact result of it.what is wrong in this code?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Sum_OrProduct {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int num = sc.nextInt();\n        int choice = sc.nextInt();\n        int sum = 0, prod = 1;\n        for (int i = 1; i &lt;= num; i++) {\n            if (choice == 1) {\n                sum = sum + i;\n            } else if (choice == 2) {\n                prod = prod * i;\n            } else {\n                System.out.println(-1);\n            }\n        }\n        System.out.println(sum);\n        System.out.println(prod);\n    }\n\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>Your Output\n55\n1\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>55\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user17353495"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637680861,"creation_date":1637680861,"answer_id":70083427,"question_id":70083351,"body_markdown":"Maybe this is what you want:\r\n```\r\nDecimalFormat format = new DecimalFormat(&quot;#.#&quot;); // you can change it here\r\n\r\nSystem.out.println(format.format(d));\r\n```","title":"How to add numbers onto the back of an existing number (GUI Calculator)","body":"<p>Maybe this is what you want:</p>\n<pre><code>DecimalFormat format = new DecimalFormat(&quot;#.#&quot;); // you can change it here\n\nSystem.out.println(format.format(d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637681024,"creation_date":1637681024,"answer_id":70083474,"question_id":70083351,"body_markdown":"If you take a look at the line `Tnum1S = &quot;1&quot; + num1S;` , you are essentially concatenating 1 to the content of num1S as a String. Instead, for building a calculator you should be adding them as doubles and then push to the user interface.\r\n\r\nnum1S contains the String equivalent of num1.\r\n\r\n```num1S = Double.toString(num1);```\r\n\r\nTnum1S now gets a 1 concatenated with num1S.\r\n\r\n```Tnum1S = &quot;1&quot; + num1S;```\r\n\r\nYou are now converting the concatenated value ( not added value )back to Double\r\n\r\n```num1 = Double.parseDouble(Tnum1S);```\r\n\r\nYou are finally setting it on the UI.\r\n\r\n```l.setText(Tnum1S);```\r\n\r\nInstead you should,\r\n1. Convert the numbers of your interest from String to Double.\r\n2. Perform the operation as a Double.\r\n3. Push the result back to the user interface as a String.\r\n\r\nIn short, in your case, you are using the concatenation operation on String rather than the addition operation on a double.","title":"How to add numbers onto the back of an existing number (GUI Calculator)","body":"<p>If you take a look at the line <code>Tnum1S = &quot;1&quot; + num1S;</code> , you are essentially concatenating 1 to the content of num1S as a String. Instead, for building a calculator you should be adding them as doubles and then push to the user interface.</p>\n<p>num1S contains the String equivalent of num1.</p>\n<p><code>num1S = Double.toString(num1);</code></p>\n<p>Tnum1S now gets a 1 concatenated with num1S.</p>\n<p><code>Tnum1S = &quot;1&quot; + num1S;</code></p>\n<p>You are now converting the concatenated value ( not added value )back to Double</p>\n<p><code>num1 = Double.parseDouble(Tnum1S);</code></p>\n<p>You are finally setting it on the UI.</p>\n<p><code>l.setText(Tnum1S);</code></p>\n<p>Instead you should,</p>\n<ol>\n<li>Convert the numbers of your interest from String to Double.</li>\n<li>Perform the operation as a Double.</li>\n<li>Push the result back to the user interface as a String.</li>\n</ol>\n<p>In short, in your case, you are using the concatenation operation on String rather than the addition operation on a double.</p>\n"}],"owner":{"account_id":20673682,"reputation":45,"user_id":15178826,"display_name":"BLADEZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637681024,"creation_date":1637680585,"question_id":70083351,"body_markdown":"So for school I need to make a GUI calculator, I have fully made the calculator working, but only up to single digit arthmatic (1+1) but now I wish to make it that that I can have multiple digits inputed (123 + 45) this is my code:\r\n\r\n    b1.addActionListener(e -&gt; {System.out.println(&quot;Response:1 was inputed onto calculator&quot;); \r\n    \t\t\t\t\t\t\t\t\tif(arth == &quot;&quot;) {\r\n    \t\t\t\t\t\t\t\t\tnum1S = Double.toString(num1);\r\n    \t\t\t\t\t\t\t\t\tTnum1S = &quot;1&quot; + num1S; \r\n    \t\t\t\t\t\t\t\t\tnum1 = Double.parseDouble(Tnum1S);\r\n    \t\t\t\t\t\t\t\t    l.setText(Tnum1S); \r\n    \t\t\t\t\t\t\t\t    Tnum1S = &quot;&quot;;\r\n    \t\t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\tnum2S = Double.toString(num2);\r\n    \t\t\t\t\t\t\t\t\tTnum2S = num2S + &quot;1&quot;; \r\n    \t\t\t\t\t\t\t\t\tnum2 = Double.parseDouble(Tnum2S);\r\n    \t\t\t\t\t\t\t\t\tl.setText(Tnum2S); \r\n    \t\t\t\t\t\t\t\t\tTnum2S = &quot;&quot;;\r\n    \t\t\t\t\t\t\t\t\t}});\r\n                                        //T at the start means Temporary, S at te end means a String, normally my numbers are set to double.\r\n                                          \r\nThis is a screenshot of my results from my try of making this work[![enter image description here][1]][1] does anyone know how to make it that the number is not added into the decimal places?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZjwi.png","title":"How to add numbers onto the back of an existing number (GUI Calculator)","body":"<p>So for school I need to make a GUI calculator, I have fully made the calculator working, but only up to single digit arthmatic (1+1) but now I wish to make it that that I can have multiple digits inputed (123 + 45) this is my code:</p>\n<pre><code>b1.addActionListener(e -&gt; {System.out.println(&quot;Response:1 was inputed onto calculator&quot;); \n                                    if(arth == &quot;&quot;) {\n                                    num1S = Double.toString(num1);\n                                    Tnum1S = &quot;1&quot; + num1S; \n                                    num1 = Double.parseDouble(Tnum1S);\n                                    l.setText(Tnum1S); \n                                    Tnum1S = &quot;&quot;;\n                                    } else {\n                                    num2S = Double.toString(num2);\n                                    Tnum2S = num2S + &quot;1&quot;; \n                                    num2 = Double.parseDouble(Tnum2S);\n                                    l.setText(Tnum2S); \n                                    Tnum2S = &quot;&quot;;\n                                    }});\n                                    //T at the start means Temporary, S at te end means a String, normally my numbers are set to double.\n                                      \n</code></pre>\n<p>This is a screenshot of my results from my try of making this work<a href=\"https://i.stack.imgur.com/BZjwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZjwi.png\" alt=\"enter image description here\" /></a> does anyone know how to make it that the number is not added into the decimal places?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":0,"creation_date":1637678437,"post_id":70082798,"comment_id":123886973,"body_markdown":"Duplicate of: [How to find the permutation of a sort in Java](https://stackoverflow.com/questions/11997326/how-to-find-the-permutation-of-a-sort-in-java)","body":"Duplicate of: <a href=\"https://stackoverflow.com/questions/11997326/how-to-find-the-permutation-of-a-sort-in-java\">How to find the permutation of a sort in Java</a>"},{"owner":{"account_id":23202499,"reputation":23,"user_id":17297123,"display_name":"disamaj964"},"score":0,"creation_date":1637678512,"post_id":70082798,"comment_id":123887003,"body_markdown":"NO this does not answer my question","body":"NO this does not answer my question"},{"owner":{"display_name":"user17353495"},"score":0,"creation_date":1637678696,"post_id":70082798,"comment_id":123887072,"body_markdown":"Have you done anything? Please show us your code.","body":"Have you done anything? Please show us your code."},{"owner":{"account_id":12709521,"reputation":705,"user_id":9233560,"display_name":"gkhaos"},"score":0,"creation_date":1637678698,"post_id":70082798,"comment_id":123887073,"body_markdown":"why not use an array of tuples instead?","body":"why not use an array of tuples instead?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1637678699,"post_id":70082798,"comment_id":123887074,"body_markdown":"What have you tried yourself? You learn programming by first thinking up an algorithm, and then implementing that. Coming here and asking people to do that for you ... means that you **slow** down your learning. And that link that you got gives you the first half: you need to understand the order of INDEXES in the first array, and then you apply that on the others.","body":"What have you tried yourself? You learn programming by first thinking up an algorithm, and then implementing that. Coming here and asking people to do that for you ... means that you <b>slow</b> down your learning. And that link that you got gives you the first half: you need to understand the order of INDEXES in the first array, and then you apply that on the others."},{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":1,"creation_date":1637678708,"post_id":70082798,"comment_id":123887078,"body_markdown":"Of course it does answer your question: you find the permutation, then use this permutation to reorder all three arrays. Another way would be to use a custom &quot;move array element&quot; function, but there isn&#39;t anything built-in in Java: you would need to use a library or implement sort yourself.","body":"Of course it does answer your question: you find the permutation, then use this permutation to reorder all three arrays. Another way would be to use a custom &quot;move array element&quot; function, but there isn&#39;t anything built-in in Java: you would need to use a library or implement sort yourself."},{"owner":{"account_id":23202499,"reputation":23,"user_id":17297123,"display_name":"disamaj964"},"score":0,"creation_date":1637679225,"post_id":70082798,"comment_id":123887342,"body_markdown":"@AlexShesterov I know the answer to the question by implementing the swapping algorithm but I was searching for easy one :)","body":"@AlexShesterov I know the answer to the question by implementing the swapping algorithm but I was searching for easy one :)"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1637680142,"creation_date":1637679236,"answer_id":70083019,"question_id":70082798,"body_markdown":"This is how you can do this. This is only an example and performance could be low.\r\n\r\n**Option 1. Lambda**\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    int[] arr = { 20, 10, 5, 22 };\r\n    int[] arr2 = { 120, 344, 43, 122 };\r\n    int[] arr3 = { 2234, 12, 23, 3434 };\r\n\r\n    sort(arr2, arr);\r\n    sort(arr3, arr);\r\n    Arrays.sort(arr);\r\n}\r\n\r\nprivate static void sort(int[] arr, int[] indices) {\r\n    final class Pair {\r\n\r\n        private final int index;\r\n        private final int value;\r\n\r\n        public Pair(int index, int value) {\r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n\r\n    }\r\n\r\n    AtomicInteger pos = new AtomicInteger(0);\r\n\r\n    IntStream.range(0, arr.length)\r\n             .mapToObj(i -&gt; new Pair(indices[i], arr[i]))\r\n             .sorted(Comparator.comparingInt(one -&gt; one.index))\r\n             .map(pair -&gt; pair.value)\r\n             .forEach(value -&gt; arr[pos.getAndIncrement()] = value);\r\n}\r\n```\r\n\r\n**Option 2. PriorityQueue**\r\n```java\r\nprivate static void sort(int[] arr, int[] indices) {\r\n    final class Pair {\r\n\r\n        private final int index;\r\n        private final int value;\r\n\r\n        public Pair(int index, int value) {\r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n\r\n    }\r\n\r\n    Queue&lt;Pair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(one -&gt; one.index));\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n        queue.add(new Pair(indices[i], arr[i]));\r\n\r\n    int i = 0;\r\n\r\n    while (!queue.isEmpty())\r\n        arr[i++] = queue.remove().value;\r\n}\r\n```\r\n\r\n**Option 3. TreeMap**\r\n```java\r\nprivate static void sort(int[] arr, int[] indices) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (!map.containsKey(indices[i]))\r\n            map.put(indices[i], new ArrayList&lt;&gt;());\r\n        map.get(indices[i]).add(arr[i]);\r\n    }\r\n\r\n    int i = 0;\r\n\r\n    for (List&lt;Integer&gt; values : map.values())\r\n        for (int value : values)\r\n            arr[i++] = value;\r\n}\r\n```","title":"How to sort two or more arrays using single array?","body":"<p>This is how you can do this. This is only an example and performance could be low.</p>\n<p><strong>Option 1. Lambda</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    int[] arr = { 20, 10, 5, 22 };\n    int[] arr2 = { 120, 344, 43, 122 };\n    int[] arr3 = { 2234, 12, 23, 3434 };\n\n    sort(arr2, arr);\n    sort(arr3, arr);\n    Arrays.sort(arr);\n}\n\nprivate static void sort(int[] arr, int[] indices) {\n    final class Pair {\n\n        private final int index;\n        private final int value;\n\n        public Pair(int index, int value) {\n            this.index = index;\n            this.value = value;\n        }\n\n    }\n\n    AtomicInteger pos = new AtomicInteger(0);\n\n    IntStream.range(0, arr.length)\n             .mapToObj(i -&gt; new Pair(indices[i], arr[i]))\n             .sorted(Comparator.comparingInt(one -&gt; one.index))\n             .map(pair -&gt; pair.value)\n             .forEach(value -&gt; arr[pos.getAndIncrement()] = value);\n}\n</code></pre>\n<p><strong>Option 2. PriorityQueue</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void sort(int[] arr, int[] indices) {\n    final class Pair {\n\n        private final int index;\n        private final int value;\n\n        public Pair(int index, int value) {\n            this.index = index;\n            this.value = value;\n        }\n\n    }\n\n    Queue&lt;Pair&gt; queue = new PriorityQueue&lt;&gt;(Comparator.comparingInt(one -&gt; one.index));\n\n    for (int i = 0; i &lt; arr.length; i++)\n        queue.add(new Pair(indices[i], arr[i]));\n\n    int i = 0;\n\n    while (!queue.isEmpty())\n        arr[i++] = queue.remove().value;\n}\n</code></pre>\n<p><strong>Option 3. TreeMap</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void sort(int[] arr, int[] indices) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new TreeMap&lt;&gt;();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (!map.containsKey(indices[i]))\n            map.put(indices[i], new ArrayList&lt;&gt;());\n        map.get(indices[i]).add(arr[i]);\n    }\n\n    int i = 0;\n\n    for (List&lt;Integer&gt; values : map.values())\n        for (int value : values)\n            arr[i++] = value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637680885,"creation_date":1637680885,"answer_id":70083435,"question_id":70082798,"body_markdown":"1. Build list of indexes on the basis of the first `arr` array.\r\n2. Sort each of the remaining arrays according to the indexes.\r\n```java\r\nstatic int[] sort(List&lt;Integer&gt; indexes, int[] arr) {\r\n    return indexes.stream().mapToInt(i -&gt; arr[i]).toArray();\r\n}\r\n\r\npublic static void main(String[] args) {\r\nint arr[]={20,10,5,22};\r\n    int arr2[]={120,344,43,122};\r\n    int arr3[]={2234,12,23,3434};\r\n    \r\n    List&lt;Integer&gt; indexes = IntStream.range(0, arr.length)\r\n                            .boxed()\r\n                            .sorted(Comparator.comparingInt(i -&gt; arr[i]))\r\n                            .collect(Collectors.toList());\r\n    System.out.println(indexes);\r\n    \r\n    Arrays.sort(arr);\r\n    arr2 = sort(indexes, arr2);\r\n    arr3 = sort(indexes, arr3);\r\n    \r\n    System.out.println(Arrays.toString(arr));\r\n    System.out.println(Arrays.toString(arr2));\r\n    System.out.println(Arrays.toString(arr3));\r\n}\r\n```\r\nOutput:\r\n```\r\n[2, 1, 0, 3]\r\n[5, 10, 20, 22]\r\n[43, 344, 120, 122]\r\n[23, 12, 2234, 3434]\r\n```\r\n","title":"How to sort two or more arrays using single array?","body":"<ol>\n<li>Build list of indexes on the basis of the first <code>arr</code> array.</li>\n<li>Sort each of the remaining arrays according to the indexes.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>static int[] sort(List&lt;Integer&gt; indexes, int[] arr) {\n    return indexes.stream().mapToInt(i -&gt; arr[i]).toArray();\n}\n\npublic static void main(String[] args) {\nint arr[]={20,10,5,22};\n    int arr2[]={120,344,43,122};\n    int arr3[]={2234,12,23,3434};\n    \n    List&lt;Integer&gt; indexes = IntStream.range(0, arr.length)\n                            .boxed()\n                            .sorted(Comparator.comparingInt(i -&gt; arr[i]))\n                            .collect(Collectors.toList());\n    System.out.println(indexes);\n    \n    Arrays.sort(arr);\n    arr2 = sort(indexes, arr2);\n    arr3 = sort(indexes, arr3);\n    \n    System.out.println(Arrays.toString(arr));\n    System.out.println(Arrays.toString(arr2));\n    System.out.println(Arrays.toString(arr3));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[2, 1, 0, 3]\n[5, 10, 20, 22]\n[43, 344, 120, 122]\n[23, 12, 2234, 3434]\n</code></pre>\n"}],"owner":{"account_id":23202499,"reputation":23,"user_id":17297123,"display_name":"disamaj964"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1637678996,"accepted_answer_id":70083019,"answer_count":2,"score":-3,"last_activity_date":1637680885,"creation_date":1637678284,"question_id":70082798,"body_markdown":"How can I sort three arrays by sorting an only a single array?\r\n\r\n    int arr[]={20,10,5,22};\r\n    int arr2[]={120,344,43,122};\r\n    int arr3[]={2234,12,23,3434};\r\n\r\nwhat I want is to sort the first array arr and the remaining arrays must be sorted according to the index of the first array.\r\n\r\n    output:\r\n      5 10 20 22\r\n\r\nas in above `arr` before sorting index of 5 was 3 now it is 0. similarly index of 43 and 12 should be changed to 0\r\n\r\nexpected arrays after sorting would be would be\r\n\r\n    5 10 20 22\r\n    \r\n    43 344 120 122\r\n    \r\n    23 12 2234 3424  \r\n\r\n\r\n\r\nwhat I want as we swap element in bubble sort or any other swap we change to index of element by swapping. i want similar to other two arrays.\r\n\r\n    swap(arr[0],arr[2])\r\n    \r\n    swap(arr1[0],arr1[2])\r\n    \r\n    swap(arr2[0],arr2[2])\r\n\r\nThis is possible if I implement custom sorting but want something that will reduce code.\r\n\r\n","title":"How to sort two or more arrays using single array?","body":"<p>How can I sort three arrays by sorting an only a single array?</p>\n<pre><code>int arr[]={20,10,5,22};\nint arr2[]={120,344,43,122};\nint arr3[]={2234,12,23,3434};\n</code></pre>\n<p>what I want is to sort the first array arr and the remaining arrays must be sorted according to the index of the first array.</p>\n<pre><code>output:\n  5 10 20 22\n</code></pre>\n<p>as in above <code>arr</code> before sorting index of 5 was 3 now it is 0. similarly index of 43 and 12 should be changed to 0</p>\n<p>expected arrays after sorting would be would be</p>\n<pre><code>5 10 20 22\n\n43 344 120 122\n\n23 12 2234 3424  \n</code></pre>\n<p>what I want as we swap element in bubble sort or any other swap we change to index of element by swapping. i want similar to other two arrays.</p>\n<pre><code>swap(arr[0],arr[2])\n\nswap(arr1[0],arr1[2])\n\nswap(arr2[0],arr2[2])\n</code></pre>\n<p>This is possible if I implement custom sorting but want something that will reduce code.</p>\n"},{"tags":["java","printing","nodes"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637680769,"creation_date":1637680769,"answer_id":70083408,"question_id":70083255,"body_markdown":"Use `System.out.print()` instead of `System.out.println()`:\r\n```java\r\npublic void escrevePolinomio (Node lista){\r\n    if(lista != null){\r\n        System.out.print(lista.getElement().getCoef()+&quot;x^&quot;+lista.getElement().getExp());\r\n        lista=lista.getnext();\r\n        escrevePolinomio(lista);\r\n    }\r\n}\r\n```","title":"print all the content in a &quot;node list&quot; on the same line","body":"<p>Use <code>System.out.print()</code> instead of <code>System.out.println()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void escrevePolinomio (Node lista){\n    if(lista != null){\n        System.out.print(lista.getElement().getCoef()+&quot;x^&quot;+lista.getElement().getExp());\n        lista=lista.getnext();\n        escrevePolinomio(lista);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16181723,"reputation":29,"user_id":17489710,"display_name":"Miguel Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70083408,"answer_count":1,"score":0,"last_activity_date":1637680840,"creation_date":1637680234,"question_id":70083255,"body_markdown":"I&#180;m a beginner and I&#39;m working with java currently, I need to write in a single line an equation like 5x^3 + 2x^4 + ... using the content inside nodes.\r\n\r\nHere is my class Node: \r\n```java\r\npublic class Node {\r\n    private Termo element;\r\n    private Node next;\r\n    \r\n    public Node(){\r\n        element = null;\r\n        next= null;\r\n    }\r\n    \r\n    public Node( Termo element, Node next){\r\n        this.element= element;\r\n        this.next= next;\r\n    }\r\n    \r\n     public void setnext( Node next){\r\n        this.next= next;\r\n    }\r\n    \r\n    public Node getnext(){\r\n        return proximo;\r\n    } \r\n    \r\n     public void setElement( Termo element){\r\n        this.element= element;\r\n    }\r\n    \r\n    public Termo getElement(){\r\n        return element;\r\n    }\r\n    \r\n    @Override\r\n    public String toString(){\r\n        return &quot;Termo: &quot; + getElement().getCoef() + &quot;x^&quot; +getElement().getExp();\r\n    }\r\n}\r\n```\r\n\r\nMy class Termo (which is an object with the coefficient and the exponent)\r\n\r\n    private double coef;\r\n    private int exp;\r\n\r\n    public Termo() {\r\n        coef=0;\r\n        exp=0;\r\n    }\r\n\r\n    public Termo(double coef, int exp) {\r\n        this.coef = coef;\r\n        this.exp = exp;\r\n    }\r\n\r\n    public double  getCoef() {\r\n        return coef;\r\n    }\r\n\r\n    public void setCoef(int coef) {\r\n        this.coef = coef;\r\n    }\r\n\r\n    public int getExp() {\r\n        return exp;\r\n    }\r\n\r\n    public void setExp(int exp) {\r\n        this.exp = exp;\r\n    }\r\n    \r\n    public Object getObject(){\r\n        Termo obj = new Termo(this.coef, this.exp);\r\n        return obj;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return coef + &quot; &quot; + exp;\r\n    }\r\n    \r\nI created this method to print the content , but i want it in a single line:\r\n\r\n    public void escrevePolinomio (Node lista){\r\n            if(lista != null){\r\n                System.out.println(lista.getElement().getCoef()+&quot;x^&quot;+lista.getElement().getExp());\r\n                lista=lista.getnext();\r\n                escrevePolinomio(lista);\r\n            }\r\n        }","title":"print all the content in a &quot;node list&quot; on the same line","body":"<p>I´m a beginner and I'm working with java currently, I need to write in a single line an equation like 5x^3 + 2x^4 + ... using the content inside nodes.</p>\n<p>Here is my class Node:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Node {\n    private Termo element;\n    private Node next;\n    \n    public Node(){\n        element = null;\n        next= null;\n    }\n    \n    public Node( Termo element, Node next){\n        this.element= element;\n        this.next= next;\n    }\n    \n     public void setnext( Node next){\n        this.next= next;\n    }\n    \n    public Node getnext(){\n        return proximo;\n    } \n    \n     public void setElement( Termo element){\n        this.element= element;\n    }\n    \n    public Termo getElement(){\n        return element;\n    }\n    \n    @Override\n    public String toString(){\n        return &quot;Termo: &quot; + getElement().getCoef() + &quot;x^&quot; +getElement().getExp();\n    }\n}\n</code></pre>\n<p>My class Termo (which is an object with the coefficient and the exponent)</p>\n<pre><code>private double coef;\nprivate int exp;\n\npublic Termo() {\n    coef=0;\n    exp=0;\n}\n\npublic Termo(double coef, int exp) {\n    this.coef = coef;\n    this.exp = exp;\n}\n\npublic double  getCoef() {\n    return coef;\n}\n\npublic void setCoef(int coef) {\n    this.coef = coef;\n}\n\npublic int getExp() {\n    return exp;\n}\n\npublic void setExp(int exp) {\n    this.exp = exp;\n}\n\npublic Object getObject(){\n    Termo obj = new Termo(this.coef, this.exp);\n    return obj;\n}\n\n@Override\npublic String toString() {\n    return coef + &quot; &quot; + exp;\n}\n</code></pre>\n<p>I created this method to print the content , but i want it in a single line:</p>\n<pre><code>public void escrevePolinomio (Node lista){\n        if(lista != null){\n            System.out.println(lista.getElement().getCoef()+&quot;x^&quot;+lista.getElement().getExp());\n            lista=lista.getnext();\n            escrevePolinomio(lista);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","json","android-studio"],"comments":[{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":0,"creation_date":1637680855,"post_id":70082857,"comment_id":123888069,"body_markdown":"What does the JSON actually look like? Provide an example","body":"What does the JSON actually look like? Provide an example"},{"owner":{"account_id":7959933,"reputation":25,"user_id":6008048,"display_name":"Velociholmes"},"score":0,"creation_date":1637701525,"post_id":70082857,"comment_id":123896111,"body_markdown":"Hi. Thank you for your post. The problem has since been resolved. Take care.","body":"Hi. Thank you for your post. The problem has since been resolved. Take care."}],"answers":[{"tags":[],"owner":{"account_id":5288818,"reputation":329,"user_id":4221943,"display_name":"MG1616"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637680821,"creation_date":1637680821,"answer_id":70083420,"question_id":70082857,"body_markdown":"I think you forgot the &quot;market_data&quot;. In the JSON&#39;s file, market_data is the parent of low_24. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou don&#39;t have a &quot;response&quot; node in your JSON&#39;s data, try with market_data instead of response.\r\n\r\n```java\r\nString usd = jObj.getJSONObject(&quot;market_data&quot;).getJSONObject(&quot;low_24h&quot;).getString(&quot;usd&quot;).toString();\r\n\r\n```\r\n\r\nYou can also use library such as [gson][2] or [moshi][3] that will help you to work with JSON data.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VLQT0.png\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/square/moshi","title":"Problem extracting specific values from API using JSON","body":"<p>I think you forgot the &quot;market_data&quot;. In the JSON's file, market_data is the parent of low_24.</p>\n<p><a href=\"https://i.stack.imgur.com/VLQT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VLQT0.png\" alt=\"enter image description here\" /></a></p>\n<p>You don't have a &quot;response&quot; node in your JSON's data, try with market_data instead of response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String usd = jObj.getJSONObject(&quot;market_data&quot;).getJSONObject(&quot;low_24h&quot;).getString(&quot;usd&quot;).toString();\n\n</code></pre>\n<p>You can also use library such as <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> or <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">moshi</a> that will help you to work with JSON data.</p>\n"}],"owner":{"account_id":7959933,"reputation":25,"user_id":6008048,"display_name":"Velociholmes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70083420,"answer_count":1,"score":-1,"last_activity_date":1637680821,"creation_date":1637678572,"question_id":70082857,"body_markdown":"I am experiencing a problem getting data from an API and was wondering if someone could help please. I basically the value &#39;low_14h&#39; has a number of responses in different currencies. I would just like to be able to extract the value in &#39;usd&#39; and put it into my textbox &#39;dailylowtext&#39;. I can get close with fiddling around and get some of the values from &#39;low_24h&#39;, but am struggling to just about get the value from &#39;usd&#39;. Hopefully this makes sense what it is I&#39;m trying to achieve.\r\n\r\nMy current code is:\r\n\r\n\r\nRequestQueue queue = Volley.newRequestQueue(this);\r\n\t\tString url = &quot;https://api.coingecko.com/api/v3/coins/mina-protocol&quot;;\r\n\r\n\t\tJsonObjectRequest jsObjRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onResponse(JSONObject response) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tJSONObject jObj=new JSONObject(response.toString());\r\n\t\t\t\t\tString usd = jObj.getJSONObject(&quot;response&quot;).getJSONObject(&quot;low_24h&quot;).getString(&quot;usd&quot;).toString();\r\n\r\n\r\n\r\n\t\t\t\t} catch (JSONException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tdailylowtext.setText(response.toString());\r\n\t\t\t\tSystem.out.println(&quot;Response =&gt; &quot;+response.toString());\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}, new Response.ErrorListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onErrorResponse(VolleyError error) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tqueue.add(jsObjRequest);\r\n","title":"Problem extracting specific values from API using JSON","body":"<p>I am experiencing a problem getting data from an API and was wondering if someone could help please. I basically the value 'low_14h' has a number of responses in different currencies. I would just like to be able to extract the value in 'usd' and put it into my textbox 'dailylowtext'. I can get close with fiddling around and get some of the values from 'low_24h', but am struggling to just about get the value from 'usd'. Hopefully this makes sense what it is I'm trying to achieve.</p>\n<p>My current code is:</p>\n<p>RequestQueue queue = Volley.newRequestQueue(this);\nString url = &quot;https://api.coingecko.com/api/v3/coins/mina-protocol&quot;;</p>\n<pre><code>    JsonObjectRequest jsObjRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n\n        @Override\n        public void onResponse(JSONObject response) {\n\n            try {\n                JSONObject jObj=new JSONObject(response.toString());\n                String usd = jObj.getJSONObject(&quot;response&quot;).getJSONObject(&quot;low_24h&quot;).getString(&quot;usd&quot;).toString();\n\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n\n\n            // TODO Auto-generated method stub\n            dailylowtext.setText(response.toString());\n            System.out.println(&quot;Response =&gt; &quot;+response.toString());\n\n\n        }\n\n    }, new Response.ErrorListener() {\n\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            // TODO Auto-generated method stub\n\n        }\n    });\n\n    queue.add(jsObjRequest);\n</code></pre>\n"},{"tags":["java","elasticsearch","jackson","spring-data"],"comments":[{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1543267137,"post_id":53482725,"comment_id":93848326,"body_markdown":"Which version of ElasticSearch do you use? If higher than 6.2.2 then be aware of that Spring Data ElasticSearch doesn&#39;t support it.","body":"Which version of ElasticSearch do you use? If higher than 6.2.2 then be aware of that Spring Data ElasticSearch doesn&#39;t support it."},{"owner":{"account_id":9781034,"reputation":43,"user_id":7249097,"display_name":"Freaka"},"score":0,"creation_date":1543306768,"post_id":53482725,"comment_id":93860120,"body_markdown":"I missed that! I&#39;m using ES 6.5.0 that must be the reason. I changed my mind and will use the rest client for java provided by ES. thanks.","body":"I missed that! I&#39;m using ES 6.5.0 that must be the reason. I changed my mind and will use the rest client for java provided by ES. thanks."},{"owner":{"account_id":339894,"reputation":1116,"user_id":669634,"accept_rate":48,"display_name":"rpvilao"},"score":0,"creation_date":1575627816,"post_id":53482725,"comment_id":104638994,"body_markdown":"@Ice is there any alternative?","body":"@Ice is there any alternative?"},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1575734630,"post_id":53482725,"comment_id":104669115,"body_markdown":"Sorry, I am not aware of any other solution. Ofc there is possibility to extend library, but then you have to support it.","body":"Sorry, I am not aware of any other solution. Ofc there is possibility to extend library, but then you have to support it."}],"answers":[{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637680286,"creation_date":1637680286,"answer_id":70083269,"question_id":53482725,"body_markdown":"I faced similar problem and found out that it is problem with setter.\r\nAdding setter like this will solve the problem\r\n```\r\npublic void setSome-property(SomeProperty someProperty) {\r\n    this.someProperty = someProperty;\r\n}\r\n```","title":"Spring-data-elasticsearch @JsonProperty not working","body":"<p>I faced similar problem and found out that it is problem with setter.\nAdding setter like this will solve the problem</p>\n<pre><code>public void setSome-property(SomeProperty someProperty) {\n    this.someProperty = someProperty;\n}\n</code></pre>\n"}],"owner":{"account_id":9781034,"reputation":43,"user_id":7249097,"display_name":"Freaka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637680286,"creation_date":1543240728,"question_id":53482725,"body_markdown":"I am using Spring-data-elasticsearch with Spring Boot and I try to receive/send data to elasticsearch using ElasticsearchRepository.&lt;br/&gt;\r\nI can read (`GET`) documents and transform it into java objects without issue, but I cannot save (`POST`) documents due to one thing : I am using `@JsonProperty` for one of my property.\r\nI tried to save data without it and it worked, but the issue is that the property names would mismatch.\r\n\r\nThe property I want to use `@JsonProperty` on is named `someProperty` in my java program and `some-property` inside the &#39;elasticsearch&#39; DB.    \r\n\r\nMy class looks like this :  \r\n\r\n\r\n    @Field(type = FieldType.Nested)\r\n    @JsonProperty(&quot;some-property&quot;)\r\n    private SomeProperty someProperty;\r\n\r\n","title":"Spring-data-elasticsearch @JsonProperty not working","body":"<p>I am using Spring-data-elasticsearch with Spring Boot and I try to receive/send data to elasticsearch using ElasticsearchRepository.<br/>\nI can read (<code>GET</code>) documents and transform it into java objects without issue, but I cannot save (<code>POST</code>) documents due to one thing : I am using <code>@JsonProperty</code> for one of my property.\nI tried to save data without it and it worked, but the issue is that the property names would mismatch.</p>\n\n<p>The property I want to use <code>@JsonProperty</code> on is named <code>someProperty</code> in my java program and <code>some-property</code> inside the 'elasticsearch' DB.    </p>\n\n<p>My class looks like this :  </p>\n\n<pre><code>@Field(type = FieldType.Nested)\n@JsonProperty(\"some-property\")\nprivate SomeProperty someProperty;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1637684171,"post_id":70083237,"comment_id":123889624,"body_markdown":"You don&#39;t need @EnableRetry if you are manually building the RetryTemplate. Can you make your implementation so that myService.execute(request); always throws a custom exception and try to retryOn that custom exception? Also keep in mind maxRetries includes the initial call, so you are effectively retrying once right now. Make sure log TRACE is enabled for the RetryTemplate. let us know the result after these changes. Try to log the context, which you are passing to the lambda, as well.","body":"You don&#39;t need @EnableRetry if you are manually building the RetryTemplate. Can you make your implementation so that myService.execute(request); always throws a custom exception and try to retryOn that custom exception? Also keep in mind maxRetries includes the initial call, so you are effectively retrying once right now. Make sure log TRACE is enabled for the RetryTemplate. let us know the result after these changes. Try to log the context, which you are passing to the lambda, as well."},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1637727512,"post_id":70083237,"comment_id":123901214,"body_markdown":"@hovanessyan, thanks. It seems to be working fine now.","body":"@hovanessyan, thanks. It seems to be working fine now."},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1637745997,"post_id":70083237,"comment_id":123906034,"body_markdown":"@hovanessyan I have one doubt regarding using RetryTemplate. As of now, I can use it for retrying on exceptions but consider a scenario, where no exception came, but in response, we got 5xx error/4xx error codes. Can I use RetryTemplate for such a given set of error codes?","body":"@hovanessyan I have one doubt regarding using RetryTemplate. As of now, I can use it for retrying on exceptions but consider a scenario, where no exception came, but in response, we got 5xx error/4xx error codes. Can I use RetryTemplate for such a given set of error codes?"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":1,"creation_date":1637757618,"post_id":70083237,"comment_id":123910672,"body_markdown":"yes it is possible. I believe the default spring restTemplate will throw RestClientException in case any error happens during request/response communication (so you can include that in the retryOn list). But even if it doesn&#39;t you can always write custom logic to inspect the Http Status code of the response and wrap that in a custom exception, then add that exception to the retryOn list.","body":"yes it is possible. I believe the default spring restTemplate will throw RestClientException in case any error happens during request/response communication (so you can include that in the retryOn list). But even if it doesn&#39;t you can always write custom logic to inspect the Http Status code of the response and wrap that in a custom exception, then add that exception to the retryOn list."}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637680142,"creation_date":1637680142,"question_id":70083237,"body_markdown":"I am trying to add retry utility to a non-bean class method on multiple types of exceptions: `InternalServerError` and `BadGatewayErrorr`.\r\n\r\nFrom taking the idea of my earlier post: https://stackoverflow.com/questions/70079418/retryable-annotation-not-working-for-non-spring-bean-class-method, I did the following:\r\n\r\n 1. Added `spring-retry` to `pom.xml`.\r\n 2. Added following configuration:\r\n\r\n        @Configuration\r\n        @EnableRetry\r\n        public class RetryConfiguration {\r\n        }\r\n 3. Initialized and used `RetryTemplate` as follows:\r\n\r\n        public abstract class OAuthRestClient {\r\n\r\n            private RetryTemplate getRetryTemplate() {\r\n                 return RetryTemplate.builder()\r\n                        .maxAttempts(2)\r\n                        .exponentialBackoff(100, 2, 1000)\r\n                        .retryOn(Exception.class)\r\n                        .traversingCauses()\r\n                        .build();\r\n             }\r\n\r\n             public Response call(Verb verb, String url, Object payload) {\r\n                OAuthRequest request = new OAuthRequest(verb, url);\r\n                return execute(request);\r\n             }\r\n\r\n             private Response execute(OAuthRequest request) {\r\n                 Response response = null;\r\n                 try {\r\n                    response = getRetryTemplate().execute(context -&gt; executeRequest(request));\r\n                 } catch (Exception ex) {\r\n                    handleException(request,\r\n                      BaseErrorCodes.REST_CLIENT_UNKNOWN_ERROR, ex);\r\n                 }\r\n                 return response;\r\n             }\r\n            \r\n             public abstract Response executeRequest(OAuthRequest request) throws IOException;\r\n             \r\n          }\r\n\r\n         public class OAuth1RestClient extends OAuthRestClient {\r\n\r\n             @Override\r\n             public Response executeRequest(OAuthRequest request) raised IOException {\r\n                log.info(&quot;called ..&quot;);\r\n                return myService.execute(request);\r\n             }\r\n         }\r\n\r\nBut, on exception, `executeRequest` is not getting retried, which should have happened as in `RetryTemplate` I have specified `retryOn` on `Exception.class` only.\r\n\r\nI am not able to understand what I am missing here.\r\n\r\nCould anyone please help? Thanks.","title":"RetryTemplate not working for Spring boot application","body":"<p>I am trying to add retry utility to a non-bean class method on multiple types of exceptions: <code>InternalServerError</code> and <code>BadGatewayErrorr</code>.</p>\n<p>From taking the idea of my earlier post: <a href=\"https://stackoverflow.com/questions/70079418/retryable-annotation-not-working-for-non-spring-bean-class-method\">@Retryable annotation not working for non Spring Bean class method</a>, I did the following:</p>\n<ol>\n<li><p>Added <code>spring-retry</code> to <code>pom.xml</code>.</p>\n</li>\n<li><p>Added following configuration:</p>\n<pre><code>@Configuration\n@EnableRetry\npublic class RetryConfiguration {\n}\n</code></pre>\n</li>\n<li><p>Initialized and used <code>RetryTemplate</code> as follows:</p>\n<pre><code>public abstract class OAuthRestClient {\n\n    private RetryTemplate getRetryTemplate() {\n         return RetryTemplate.builder()\n                .maxAttempts(2)\n                .exponentialBackoff(100, 2, 1000)\n                .retryOn(Exception.class)\n                .traversingCauses()\n                .build();\n     }\n\n     public Response call(Verb verb, String url, Object payload) {\n        OAuthRequest request = new OAuthRequest(verb, url);\n        return execute(request);\n     }\n\n     private Response execute(OAuthRequest request) {\n         Response response = null;\n         try {\n            response = getRetryTemplate().execute(context -&gt; executeRequest(request));\n         } catch (Exception ex) {\n            handleException(request,\n              BaseErrorCodes.REST_CLIENT_UNKNOWN_ERROR, ex);\n         }\n         return response;\n     }\n\n     public abstract Response executeRequest(OAuthRequest request) throws IOException;\n\n  }\n\n public class OAuth1RestClient extends OAuthRestClient {\n\n     @Override\n     public Response executeRequest(OAuthRequest request) raised IOException {\n        log.info(&quot;called ..&quot;);\n        return myService.execute(request);\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>But, on exception, <code>executeRequest</code> is not getting retried, which should have happened as in <code>RetryTemplate</code> I have specified <code>retryOn</code> on <code>Exception.class</code> only.</p>\n<p>I am not able to understand what I am missing here.</p>\n<p>Could anyone please help? Thanks.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":12050650,"reputation":11,"user_id":8813768,"display_name":"JustStudensXslt"},"score":0,"creation_date":1537627462,"post_id":52457540,"comment_id":91857672,"body_markdown":"In General i need to search by incoming UserDto which can have a different set of parameters","body":"In General i need to search by incoming UserDto which can have a different set of parameters"},{"owner":{"account_id":487921,"reputation":1196,"user_id":1360042,"display_name":"dvlcube"},"score":0,"creation_date":1637682740,"post_id":52457540,"comment_id":123888961,"body_markdown":"Maybe you want something like Query By Example? https://www.baeldung.com/spring-data-query-by-example","body":"Maybe you want something like Query By Example? <a href=\"https://www.baeldung.com/spring-data-query-by-example\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-query-by-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":13913920,"reputation":681,"user_id":10046318,"display_name":"Alpcan Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537626605,"creation_date":1537626605,"answer_id":52457623,"question_id":52457540,"body_markdown":"This will search first and lastname together not seperately\r\n\r\nLet&#39;s say in your database we have\r\n\r\nfirstname - lastname\r\n\r\njohn         wick\r\n\r\njohn         king\r\n\r\nIf you search findbyFirstNameAndLastName(&quot;john&quot;,&quot;&quot;);\r\n\r\nyou get nothing because query will be like where firstname==&quot;john&quot; AND lastname==&quot;wick&quot;\r\n\r\nIf you want it separately you can do :\r\n\r\n    List&lt;UserDbo&gt; findbyFirstName(String firstName);\r\n    List&lt;UserDbo&gt; findbyLastName(String lastName);\r\n\r\nYou can do null checks of those strings and search by seperately","title":"Spring Data. Search using many fields","body":"<p>This will search first and lastname together not seperately</p>\n\n<p>Let's say in your database we have</p>\n\n<p>firstname - lastname</p>\n\n<p>john         wick</p>\n\n<p>john         king</p>\n\n<p>If you search findbyFirstNameAndLastName(\"john\",\"\");</p>\n\n<p>you get nothing because query will be like where firstname==\"john\" AND lastname==\"wick\"</p>\n\n<p>If you want it separately you can do :</p>\n\n<pre><code>List&lt;UserDbo&gt; findbyFirstName(String firstName);\nList&lt;UserDbo&gt; findbyLastName(String lastName);\n</code></pre>\n\n<p>You can do null checks of those strings and search by seperately</p>\n"},{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637679846,"creation_date":1637679846,"answer_id":70083159,"question_id":52457540,"body_markdown":"If your need is only about these 2 fields (or a few additional fields), you can use a native query:\r\n\r\n```java\r\n@Query(value = &quot;SELECT user FROM UserDbo user &quot;\r\n             + &quot; WHERE (:firstName IS NULL OR user.firstName = :firstName)\r\n             + &quot; AND   (:lastName  IS NULL OR user.lastName  = :lastName)\r\n      )       \r\nList&lt;UserDbo&gt; find(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;lastName&quot;) String lastName);\r\n```\r\n\r\nIf your need is much larger or evolving constantly, and you need to build your query dynamically based on your input criteria, I suggest investigating [spring-boot-starter-data-search][1].\r\n\r\nYou can find a demo for jpa [here][2] \r\n  \r\n----------\r\n*Disclaimer: I&#39;m a contributor of spring-boot-starter-data-search*\r\n\r\n\r\n  [1]: https://github.com/commerce-io/spring-boot-starter-data-search\r\n  [2]: https://github.com/commerce-io/spring-boot-starter-data-search-jpa-demo","title":"Spring Data. Search using many fields","body":"<p>If your need is only about these 2 fields (or a few additional fields), you can use a native query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT user FROM UserDbo user &quot;\n             + &quot; WHERE (:firstName IS NULL OR user.firstName = :firstName)\n             + &quot; AND   (:lastName  IS NULL OR user.lastName  = :lastName)\n      )       \nList&lt;UserDbo&gt; find(@Param(&quot;firstName&quot;) String firstName, @Param(&quot;lastName&quot;) String lastName);\n</code></pre>\n<p>If your need is much larger or evolving constantly, and you need to build your query dynamically based on your input criteria, I suggest investigating <a href=\"https://github.com/commerce-io/spring-boot-starter-data-search\" rel=\"nofollow noreferrer\">spring-boot-starter-data-search</a>.</p>\n<p>You can find a demo for jpa <a href=\"https://github.com/commerce-io/spring-boot-starter-data-search-jpa-demo\" rel=\"nofollow noreferrer\">here</a></p>\n<hr />\n<p><em>Disclaimer: I'm a contributor of spring-boot-starter-data-search</em></p>\n"}],"owner":{"account_id":12050650,"reputation":11,"user_id":8813768,"display_name":"JustStudensXslt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637679846,"creation_date":1537626075,"question_id":52457540,"body_markdown":"I have a question about search in Spring Data JPA. I&#39;m trying to write something like this:\r\n\r\n    List&lt;UserDbo&gt; findbyFirstNameAndLastName(String firstName, String LastName)\r\n\r\nBut I want that the values that this request takes may be empty.\r\n\r\nFor example:\r\n\r\nIf you do search in **social network**, you can put a lot of information, like : Country, City, School, firstName and you find someone, using this parameters, but also you can put only one or two parameters, like *firtName* and *country* and your query still working.\r\n\r\nSo, I want to create a query method where parametres can be **optional empty**.\r\nIn my code example, I want to find by **FirsName and Lastname**, or only by **FirstaName** or only by **LastName**.\r\n\r\nI hope I described it clearly.","title":"Spring Data. Search using many fields","body":"<p>I have a question about search in Spring Data JPA. I'm trying to write something like this:</p>\n\n<pre><code>List&lt;UserDbo&gt; findbyFirstNameAndLastName(String firstName, String LastName)\n</code></pre>\n\n<p>But I want that the values that this request takes may be empty.</p>\n\n<p>For example:</p>\n\n<p>If you do search in <strong>social network</strong>, you can put a lot of information, like : Country, City, School, firstName and you find someone, using this parameters, but also you can put only one or two parameters, like <em>firtName</em> and <em>country</em> and your query still working.</p>\n\n<p>So, I want to create a query method where parametres can be <strong>optional empty</strong>.\nIn my code example, I want to find by <strong>FirsName and Lastname</strong>, or only by <strong>FirstaName</strong> or only by <strong>LastName</strong>.</p>\n\n<p>I hope I described it clearly.</p>\n"},{"tags":["java","spring","batch-file","app-startup","startupscript"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1637575645,"post_id":70063961,"comment_id":123853931,"body_markdown":"Ditch the assembly plugin, add the `spring-boot-maven-plugin` which already creates a fat runnable jar. You are working around/against the framework instead of using it.","body":"Ditch the assembly plugin, add the <code>spring-boot-maven-plugin</code> which already creates a fat runnable jar. You are working around/against the framework instead of using it."}],"answers":[{"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637679765,"creation_date":1637679765,"answer_id":70083139,"question_id":70063961,"body_markdown":"Thanks *M. Deinum*, that fixed my problem:\r\n\r\nI had to replace **maven-assembly-plugin** with the:\r\n     \r\n\r\n          &lt;build&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t    &lt;executions&gt;\r\n    \t\t        &lt;execution&gt;\r\n    \t\t            &lt;goals&gt;\r\n    \t\t                &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t            &lt;/goals&gt;\r\n    \t\t            &lt;configuration&gt;\r\n    \t\t                 &lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t\t            &lt;/configuration&gt;\r\n    \t\t         &lt;/execution&gt;\r\n    \t\t    &lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n          &lt;/build&gt;","title":"Installation (startup.bat) script won&#39;t start my app, error appears","body":"<p>Thanks <em>M. Deinum</em>, that fixed my problem:</p>\n<p>I had to replace <strong>maven-assembly-plugin</strong> with the:</p>\n<pre><code>      &lt;build&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                         &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                 &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70083139,"answer_count":1,"score":0,"last_activity_date":1637679765,"creation_date":1637575400,"question_id":70063961,"body_markdown":"I&#39;m trying to create .bat script that will start my Java application. Application uses a lot of the dependencies so I have to create a fat jar:\r\n\r\nI did that by adding this dependency to my pom.xml:\r\n\r\n**pom.xml**\r\n\r\n                &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\r\n    \t            &lt;configuration&gt;\r\n    \t            \t&lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;mainClass&gt;my.path.MicroserviceApp&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                        \r\n    \t                &lt;descriptorRefs&gt;\r\n    \t                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t                &lt;/descriptorRefs&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t\r\n    \t            &lt;executions&gt;\r\n    \t                &lt;execution&gt;\r\n    \t                    &lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t                    &lt;phase&gt;package&lt;/phase&gt;\r\n    \t                    &lt;goals&gt;\r\n    \t                        &lt;goal&gt;single&lt;/goal&gt;\r\n    \t                    &lt;/goals&gt;\r\n    \t                &lt;/execution&gt;\r\n    \t            &lt;/executions&gt;\r\n    \r\n            \t&lt;/plugin&gt; \r\n\r\nAfter that I executed maven clean install which created two jar files in my target folder. One &#39;normal&#39; jar and one fat jar. I used path to that fat jar and I tried to run it via my script but I got error.\r\n\r\n**Bat Script:**\r\n\r\n    echo off\r\n    \r\n    set &quot;JAVA_HOME=C:/Program Files/Java/jdk1.8.0_291&quot;\r\n    set &quot;PATH=C:/Program Files/Java/jdk1.8.0_291/bin;%PATH%&quot;\r\n    set &quot;MICRO_HTTP=C:/Users/just.quest/workspace/application_parent/MicroserviceApp&quot;\r\n    \r\n    set &quot;CLASSPATH=%MICRO_HTTP%/target/MicroserviceApp-20.14.1-1-jar-with-dependencies.jar&quot;\r\n    \r\n    java -jar %CLASSPATH%\r\n    \r\n    pause\r\n\r\n\r\nAnd error that I&#39;m getting:\r\n\r\n\r\n**Error Log from command prompt:**\r\n\r\n    \t\t}{\r\n      &quot;timestamp&quot; : &quot;2021-11-22T09:40:52.563Z&quot;,\r\n      &quot;level&quot; : &quot;ERROR&quot;,\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;logger&quot; : &quot;org.springframework.boot.SpringApplication&quot;,\r\n      &quot;message&quot; : &quot;Application run failed&quot;,\r\n      &quot;context&quot; : &quot;default&quot;,\r\n      &quot;exception&quot; : &quot;java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\\r\\n\\tat org.springframework.util.Assert.notEmpty(Assert.java:470)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:180)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getAutoConfigurationEntry(AutoConfigurationImportSelector.java:123)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.process(AutoConfigurationImportSelector.java:434)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:879)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\\r\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\\r\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\\r\\n\\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\\r\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\\r\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\\r\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\\r\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)&quot;\r\n    }{\r\n      &quot;timestamp&quot; : &quot;2021-11-22T09:40:52.565Z&quot;,\r\n      &quot;level&quot; : &quot;DEBUG&quot;,\r\n      &quot;thread&quot; : &quot;main&quot;,\r\n      &quot;logger&quot; : &quot;org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext&quot;,\r\n      &quot;message&quot; : &quot;Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6fa51cd4, started on Mon Nov 22 10:40:52 CET 2021&quot;,\r\n      &quot;context&quot; : &quot;default&quot;\r\n    }Press any key to continue . . .\r\n\r\nSo as you can see, it seems there is some problem with the *&quot;java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories.&quot;*\r\n\r\nI&#39;ve tried to google this but I couldn&#39;t find anything useful and I&#39;ve already spent too much time on this so I&#39;m out of options. I hope someone knows how can I start application from my command prompt. \r\n\r\n**When I start application from Eclipse, everything works fine. This error is present only when I use my .bat script.**","title":"Installation (startup.bat) script won&#39;t start my app, error appears","body":"<p>I'm trying to create .bat script that will start my Java application. Application uses a lot of the dependencies so I have to create a fat jar:</p>\n<p>I did that by adding this dependency to my pom.xml:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n    \n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;my.path.MicroserviceApp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    \n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n    \n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n            &lt;/plugin&gt; \n</code></pre>\n<p>After that I executed maven clean install which created two jar files in my target folder. One 'normal' jar and one fat jar. I used path to that fat jar and I tried to run it via my script but I got error.</p>\n<p><strong>Bat Script:</strong></p>\n<pre><code>echo off\n\nset &quot;JAVA_HOME=C:/Program Files/Java/jdk1.8.0_291&quot;\nset &quot;PATH=C:/Program Files/Java/jdk1.8.0_291/bin;%PATH%&quot;\nset &quot;MICRO_HTTP=C:/Users/just.quest/workspace/application_parent/MicroserviceApp&quot;\n\nset &quot;CLASSPATH=%MICRO_HTTP%/target/MicroserviceApp-20.14.1-1-jar-with-dependencies.jar&quot;\n\njava -jar %CLASSPATH%\n\npause\n</code></pre>\n<p>And error that I'm getting:</p>\n<p><strong>Error Log from command prompt:</strong></p>\n<pre><code>        }{\n  &quot;timestamp&quot; : &quot;2021-11-22T09:40:52.563Z&quot;,\n  &quot;level&quot; : &quot;ERROR&quot;,\n  &quot;thread&quot; : &quot;main&quot;,\n  &quot;logger&quot; : &quot;org.springframework.boot.SpringApplication&quot;,\n  &quot;message&quot; : &quot;Application run failed&quot;,\n  &quot;context&quot; : &quot;default&quot;,\n  &quot;exception&quot; : &quot;java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\\r\\n\\tat org.springframework.util.Assert.notEmpty(Assert.java:470)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getCandidateConfigurations(AutoConfigurationImportSelector.java:180)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.getAutoConfigurationEntry(AutoConfigurationImportSelector.java:123)\\r\\n\\tat org.springframework.boot.autoconfigure.AutoConfigurationImportSelector$AutoConfigurationGroup.process(AutoConfigurationImportSelector.java:434)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGrouping.getImports(ConfigurationClassParser.java:879)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:193)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\\r\\n\\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\\r\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\\r\\n\\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\\r\\n\\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\\r\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\\r\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\\r\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\\r\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\\r\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)&quot;\n}{\n  &quot;timestamp&quot; : &quot;2021-11-22T09:40:52.565Z&quot;,\n  &quot;level&quot; : &quot;DEBUG&quot;,\n  &quot;thread&quot; : &quot;main&quot;,\n  &quot;logger&quot; : &quot;org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext&quot;,\n  &quot;message&quot; : &quot;Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6fa51cd4, started on Mon Nov 22 10:40:52 CET 2021&quot;,\n  &quot;context&quot; : &quot;default&quot;\n}Press any key to continue . . .\n</code></pre>\n<p>So as you can see, it seems there is some problem with the <em>&quot;java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories.&quot;</em></p>\n<p>I've tried to google this but I couldn't find anything useful and I've already spent too much time on this so I'm out of options. I hope someone knows how can I start application from my command prompt.</p>\n<p><strong>When I start application from Eclipse, everything works fine. This error is present only when I use my .bat script.</strong></p>\n"},{"tags":["java","spring","spring-boot","logging"],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563278735,"creation_date":1563278735,"answer_id":57056872,"question_id":57056532,"body_markdown":"Try this:\r\n\r\n    &lt;file&gt;/VVV/AA/logs/fde.log&lt;/file&gt;\r\n    &lt;rollingPolicy\r\n        class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!-- rollover daily --&gt;\r\n        &lt;fileNamePattern&gt;/VVV/AA/logs/fde-%d{yyyy_MM_dd}.%i.log&lt;/fileNamePattern&gt;\r\n        &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;\r\n    &lt;/rollingPolicy&gt;\r\n\r\nAs in roll only over the file name rather than log file directory.","title":"Spring Boot : Log File in current date directory and rollover","body":"<p>Try this:</p>\n\n<pre><code>&lt;file&gt;/VVV/AA/logs/fde.log&lt;/file&gt;\n&lt;rollingPolicy\n    class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n    &lt;!-- rollover daily --&gt;\n    &lt;fileNamePattern&gt;/VVV/AA/logs/fde-%d{yyyy_MM_dd}.%i.log&lt;/fileNamePattern&gt;\n    &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;\n&lt;/rollingPolicy&gt;\n</code></pre>\n\n<p>As in roll only over the file name rather than log file directory.</p>\n"},{"tags":[],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637679538,"creation_date":1637679538,"answer_id":70083089,"question_id":57056532,"body_markdown":"First of all, I don&#39;t like this solution... but it works...\r\n\r\n1. Declare a &quot;**timestamp**&quot; property before starting Spring Boot.\r\n\r\n&gt;     public static void main(String[] args) {\r\n&gt;     \tSystem.setProperty(&quot;timestamp&quot;, Constants.ISO_YYYY_MM_DD_FORMAT.format(System.currentTimeMillis()));\r\n&gt;     \tSpringApplication app = new SpringApplication(MainConfig.class);\r\n&gt;     \tapp.setBannerMode(Banner.Mode.OFF);\r\n&gt;     \tapp.run(args);\r\n&gt;     }\r\n\r\n2. In application.properties  \r\n\r\n&gt; logging.path=${folder.deploy}/logs/${timestamp}\r\n\r\n3. In logback.xml, you import the property\r\n\r\n\\&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.path&quot; /\\&gt;\r\n\r\nAnd off you go... \r\n\r\nI still think there has to be an application.properties ONLY solution...","title":"Spring Boot : Log File in current date directory and rollover","body":"<p>First of all, I don't like this solution... but it works...</p>\n<ol>\n<li>Declare a &quot;<strong>timestamp</strong>&quot; property before starting Spring Boot.</li>\n</ol>\n<blockquote>\n<pre><code>public static void main(String[] args) {\n  System.setProperty(&quot;timestamp&quot;, Constants.ISO_YYYY_MM_DD_FORMAT.format(System.currentTimeMillis()));\n  SpringApplication app = new SpringApplication(MainConfig.class);\n  app.setBannerMode(Banner.Mode.OFF);\n  app.run(args);\n}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>In application.properties</li>\n</ol>\n<blockquote>\n<p>logging.path=${folder.deploy}/logs/${timestamp}</p>\n</blockquote>\n<ol start=\"3\">\n<li>In logback.xml, you import the property</li>\n</ol>\n<p>&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.path&quot; /&gt;</p>\n<p>And off you go...</p>\n<p>I still think there has to be an application.properties ONLY solution...</p>\n"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637679634,"creation_date":1563277652,"question_id":57056532,"body_markdown":"My requirement is to print logs in current date directory and logs needs to be rollover in current date directory with below conditions : \r\n1. Either hit max file size\r\n2. Or date has changed\r\n\r\nSo today date is 16/07/2019 so directory structure should be \r\n\r\n16_07_2019/fde.log (current log)\r\n\r\n16_07_2019/fde.1.log (due to max size)\r\n\r\n16_07_2019/fde.2.log (due to max size)\r\n\r\n15_07_2019/fde.log (yesterday log)\r\n\r\n15_07_2019/fde.1.log (yesterday log due to max size)\r\n\r\nmy logback.xml is :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration scan=&quot;true&quot;&gt;\r\n    \r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;FILE&quot;\r\n            class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;/VVV/AA/%d{yyyy_MM_dd}/fde.log&lt;/file&gt;\r\n            &lt;rollingPolicy\r\n                class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- rollover daily --&gt;\r\n                &lt;fileNamePattern&gt;/VVV/AA/%d{yyyy_MM_dd}/fde.%i.log\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{MM:dd HH:mm:ss.SSS} [%t] [%level] [%logger{36}] - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nInstead of creating current date directory it is create `%d{yyyy_MM_dd}` directory. I am not sure why? \r\n\r\nAlso, Is this xml looks fine based on my requirement?\r\n\r\nUsing SpringBoot : 2.0.5 version   ","title":"Spring Boot : Log File in current date directory and rollover","body":"<p>My requirement is to print logs in current date directory and logs needs to be rollover in current date directory with below conditions :</p>\n<ol>\n<li>Either hit max file size</li>\n<li>Or date has changed</li>\n</ol>\n<p>So today date is 16/07/2019 so directory structure should be</p>\n<p>16_07_2019/fde.log (current log)</p>\n<p>16_07_2019/fde.1.log (due to max size)</p>\n<p>16_07_2019/fde.2.log (due to max size)</p>\n<p>15_07_2019/fde.log (yesterday log)</p>\n<p>15_07_2019/fde.1.log (yesterday log due to max size)</p>\n<p>my logback.xml is :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot;&gt;\n\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n\n    &lt;appender name=&quot;FILE&quot;\n        class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;/VVV/AA/%d{yyyy_MM_dd}/fde.log&lt;/file&gt;\n        &lt;rollingPolicy\n            class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- rollover daily --&gt;\n            &lt;fileNamePattern&gt;/VVV/AA/%d{yyyy_MM_dd}/fde.%i.log\n            &lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{MM:dd HH:mm:ss.SSS} [%t] [%level] [%logger{36}] - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Instead of creating current date directory it is create <code>%d{yyyy_MM_dd}</code> directory. I am not sure why?</p>\n<p>Also, Is this xml looks fine based on my requirement?</p>\n<p>Using SpringBoot : 2.0.5 version</p>\n"},{"tags":["java","swing","jtable","java-17"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":5,"creation_date":1637420041,"post_id":70046960,"comment_id":123823913,"body_markdown":"Use the following steps to debug: 1) Create a JFrame with two tables each containing different data. 2) Then create an `enhance(...)` method that does nothing and retest. 3) Then change &quot;enhance() logic to create a custom renderer for both tables and retest. 4) Then add a little more logic to the `enhance()` method and retest. 5) When it stops working then you know what you just changed and you can solve the problem or ask a specific question. The point is do incremental testing. It is easier to determine when your code stops working. Also, method names should NOT start with an upper case.","body":"Use the following steps to debug: 1) Create a JFrame with two tables each containing different data. 2) Then create an <code>enhance(...)</code> method that does nothing and retest. 3) Then change &quot;enhance() logic to create a custom renderer for both tables and retest. 4) Then add a little more logic to the <code>enhance()</code> method and retest. 5) When it stops working then you know what you just changed and you can solve the problem or ask a specific question. The point is do incremental testing. It is easier to determine when your code stops working. Also, method names should NOT start with an upper case."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1637420529,"post_id":70046960,"comment_id":123824049,"body_markdown":"Sir I did like what you said. Then also it was not working. So I removed the `Enhance` method. Then also changing one `jtable` was changing other. I think the problem is because the data is same for all.","body":"Sir I did like what you said. Then also it was not working. So I removed the <code>Enhance</code> method. Then also changing one <code>jtable</code> was changing other. I think the problem is because the data is same for all."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1637420697,"post_id":70046960,"comment_id":123824085,"body_markdown":"It doesn&#39;t matter is the data in the array is the same for each table. When you create a new JTable a new TableModel is created for each table. The issue is in the code you don&#39;t post. Post a proper [mre] demonstrating the problem. So your MRE would simply be a frame with two tables. Get this working first. We should be able to copy/paste/compile/test the MRE to see your described problem.","body":"It doesn&#39;t matter is the data in the array is the same for each table. When you create a new JTable a new TableModel is created for each table. The issue is in the code you don&#39;t post. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. So your MRE would simply be a frame with two tables. Get this working first. We should be able to copy/paste/compile/test the MRE to see your described problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1637421046,"post_id":70046960,"comment_id":123824164,"body_markdown":"`You were NOT asked for your complete code`. You were asked for a `minimal` example. You need to first learn learn the basics of creating a table. As I stated it should be a frame with two tables. The class code will be about 20 lines of code. A few lines to create your data. A couple of lines to create the two tables. And a few more to create the frame. Learn the basics, then learn how to debug code you write. We can&#39;t help debug your application!","body":"<code>You were NOT asked for your complete code</code>. You were asked for a <code>minimal</code> example. You need to first learn learn the basics of creating a table. As I stated it should be a frame with two tables. The class code will be about 20 lines of code. A few lines to create your data. A couple of lines to create the two tables. And a few more to create the frame. Learn the basics, then learn how to debug code you write. We can&#39;t help debug your application!"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1637505770,"post_id":70046960,"comment_id":123838529,"body_markdown":"@camickr I have added a sample code which does not work.","body":"@camickr I have added a sample code which does not work."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1637516673,"post_id":70046960,"comment_id":123841409,"body_markdown":"Why would you vote to close your own question? I can&#39;t answer the question because it is closed because you took so long to post an MRE. Instead of creating the JTable with the &quot;data Array&quot;, use the Array to create a `DefaultTableModel`. Then create the JTable with the model. Now the data from the Array will be copied to each model separately instead of being shared.","body":"Why would you vote to close your own question? I can&#39;t answer the question because it is closed because you took so long to post an MRE. Instead of creating the JTable with the &quot;data Array&quot;, use the Array to create a <code>DefaultTableModel</code>. Then create the JTable with the model. Now the data from the Array will be copied to each model separately instead of being shared."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637713304,"post_id":70046960,"comment_id":123899002,"body_markdown":"I posted the answer in my comment. What did you not understand? Don&#39;t expect people to write the code for you. If there is something you don&#39;t understand about the suggestion then ask a follow up question.","body":"I posted the answer in my comment. What did you not understand? Don&#39;t expect people to write the code for you. If there is something you don&#39;t understand about the suggestion then ask a follow up question."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637679505,"creation_date":1637679505,"answer_id":70083076,"question_id":70046960,"body_markdown":"Don&#39;t use:\r\n\r\n    JTable t2 = new JTable(data,t);\r\n\r\nto create the JTable. This will create a simple TableModel using the Array as the storage for the data. \r\n\r\nAs you noticed, this Array is shared by all tables.\r\n\r\nInstead use:\r\n\r\n    DefaultTableModel model = new DefaultTableModel(data, t);\r\n    JTable t2 = new JTable( model );\r\n\r\nNow the data from the Array will be copied to the DefaultTableModel. \r\n\r\nTherefore each table has its own copy of the data.","title":"Changing one JTable changes other JTable in java","body":"<p>Don't use:</p>\n<pre><code>JTable t2 = new JTable(data,t);\n</code></pre>\n<p>to create the JTable. This will create a simple TableModel using the Array as the storage for the data.</p>\n<p>As you noticed, this Array is shared by all tables.</p>\n<p>Instead use:</p>\n<pre><code>DefaultTableModel model = new DefaultTableModel(data, t);\nJTable t2 = new JTable( model );\n</code></pre>\n<p>Now the data from the Array will be copied to the DefaultTableModel.</p>\n<p>Therefore each table has its own copy of the data.</p>\n"}],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70083076,"answer_count":1,"score":-1,"last_activity_date":1637679505,"creation_date":1637419563,"question_id":70046960,"body_markdown":"I am making a program in which I need many JTables. So for setting the font, column size etc. I am using this method:\r\n\r\n\r\n    public static void Enhance(JTable t){\r\n            \r\n           t.setRowHeight(70);\r\n            DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer();\r\n            centerRenderer.setHorizontalAlignment(JLabel.CENTER);\r\n            t.setDefaultRenderer(String.class, centerRenderer);\r\n    \r\n            t.setAlignmentX(JTable.CENTER_ALIGNMENT);\r\n         \r\n            t.getModel().addTableModelListener(new TableModelListener() {\r\n                @Override\r\n                public void tableChanged(TableModelEvent e) {\r\n                       resizeColumnWidth(t);\r\n                        \r\n                }\r\n            });\r\n    \r\n    \r\n            int index = 0;\r\n            t.setAutoCreateColumnsFromModel(true);\r\n    \r\n            while (index &lt; t.getColumnModel().getColumnCount()) {\r\n                \r\n                TableColumn a = t.getColumnModel().getColumn(index);\r\n                a.setMinWidth(130);\r\n                a.setPreferredWidth(130);\r\n    \r\n    \r\n            \r\n    \r\n                index++;\r\n    \r\n            }\r\n            JTextField textField = new JTextField();\r\n    textField.setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN, 27));\r\n    textField.setBorder(new LineBorder(Color.BLACK));\r\n    DefaultCellEditor dce = new DefaultCellEditor( textField );\r\n    t.getColumnModel().getColumn(0).setCellEditor(dce);\r\n    for(int i =1 ; i&lt;t.getColumnCount();i++){\r\n        \r\n        TableColumn sportColumn = t.getColumnModel().getColumn(i);\r\n                JComboBox comboBox = new JComboBox();\r\n                comboBox.setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN,25));\r\n                comboBox.addItem(&quot;Hulk- Maths&quot;);\r\n                comboBox.addItem(&quot;THor - Computer&quot;);\r\n                comboBox.addItem(&quot;Iron M- Geo&quot;);\r\n                comboBox.addItem(&quot;Black P- History&quot;);\r\n                comboBox.addItem(&quot;War M- Science&quot;);\r\n                comboBox.addItem(&quot;Java  - Easy&quot;);\r\n                comboBox.addItem(&quot;Custom&quot;);\r\n                sportColumn.setCellEditor(new DefaultCellEditor(comboBox));\r\n                comboBox.addItemListener(new ItemListener() {\r\n            @Override\r\n            public void itemStateChanged(ItemEvent e) {\r\n                \r\n                 Object selectedItem = comboBox.getSelectedItem();\r\n                    boolean editable = selectedItem instanceof String &amp;&amp; ((String)selectedItem).equals(&quot;Custom&quot;);\r\n                    comboBox.setEditable(editable);\r\n            }\r\n                });\r\n                \r\n    \r\n    }\r\n         \r\n    t.setShowGrid(true);\r\n            t.setFont(new Font(&quot;Open Sans&quot;,Font.PLAIN,25));\r\n            t.getTableHeader().setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN, 27));\r\n            t.setAutoResizeMode( JTable.AUTO_RESIZE_OFF );\r\n            t.setBackground(Color.WHITE);\r\n            t.setSelectionBackground(new Color(172, 208, 252));\r\n            t.setRowHeight(50);\r\n            t.setSelectionForeground(Color.black);\r\n            t.getTableHeader().setBackground(new Color(23, 180, 252));\r\n            t.setGridColor(Color.lightGray);\r\n            t.getTableHeader().setForeground(Color.white);\r\n            \r\n         \r\n            \r\n            \r\n            \r\n        }\r\n\r\n\r\n\r\nI am using this method like this:-\r\n\r\n    JTable t1 = new JTable(data1, title);//data is a String[][] Object and title is a String[] Object.\r\n    \r\n    Enhance(t1);\r\n\r\n\r\nLike this I have 4 more tables.\r\n\r\nBut the problem is when I make edits to `t1` , The JTable `t2` is also changing.\r\n\r\nIf I enter \r\n\r\n    &quot;Java&quot;\r\n\r\nin the first cell of `t1`, the first cell of `t2` will also be \r\n\r\n    &quot;Java&quot; \r\n\r\nHow can I solve this so that edits made to `t1` is not visible in `t2`?\r\n\r\n\r\n###### EDIT (Debugging details): ######\r\n\r\nEven this code is also not working\r\n\r\n      \r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    \r\n    /*\r\n     * Made By JFan\r\n     */\r\n    \r\n    /**\r\n     *\r\n     * @author JFan\r\n     */\r\n    public class Main {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            JFrame f = new JFrame();\r\n            f.setSize(1000,1000);\r\n            f.setLayout(null);\r\n            \r\n            String[][] data = {\r\n                \r\n                {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\r\n                {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\r\n                {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\r\n                {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},{&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\r\n            };\r\n            String[] t = {\r\n              &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;  \r\n            };\r\n            JTable t1 = new JTable(data,t);\r\n            JScrollPane j = new JScrollPane(t1);\r\n            j.setBounds(0, 200, 500, 500);\r\n            f.add(j);\r\n            \r\n             JTable t2 = new JTable(data,t);\r\n            f.add(j);\r\n            \r\n         \r\n            \r\n            JButton  b = new JButton(&quot;Click&quot;);\r\n            b.setBounds(0,0,100,100);\r\n            b.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n               \r\n                    j.setViewportView(t2);\r\n                    \r\n                }\r\n            });\r\n            \r\n            f.add(b);\r\n               f.setVisible(true);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Changing one JTable changes other JTable in java","body":"<p>I am making a program in which I need many JTables. So for setting the font, column size etc. I am using this method:</p>\n<pre><code>public static void Enhance(JTable t){\n        \n       t.setRowHeight(70);\n        DefaultTableCellRenderer centerRenderer = new DefaultTableCellRenderer();\n        centerRenderer.setHorizontalAlignment(JLabel.CENTER);\n        t.setDefaultRenderer(String.class, centerRenderer);\n\n        t.setAlignmentX(JTable.CENTER_ALIGNMENT);\n     \n        t.getModel().addTableModelListener(new TableModelListener() {\n            @Override\n            public void tableChanged(TableModelEvent e) {\n                   resizeColumnWidth(t);\n                    \n            }\n        });\n\n\n        int index = 0;\n        t.setAutoCreateColumnsFromModel(true);\n\n        while (index &lt; t.getColumnModel().getColumnCount()) {\n            \n            TableColumn a = t.getColumnModel().getColumn(index);\n            a.setMinWidth(130);\n            a.setPreferredWidth(130);\n\n\n        \n\n            index++;\n\n        }\n        JTextField textField = new JTextField();\ntextField.setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN, 27));\ntextField.setBorder(new LineBorder(Color.BLACK));\nDefaultCellEditor dce = new DefaultCellEditor( textField );\nt.getColumnModel().getColumn(0).setCellEditor(dce);\nfor(int i =1 ; i&lt;t.getColumnCount();i++){\n    \n    TableColumn sportColumn = t.getColumnModel().getColumn(i);\n            JComboBox comboBox = new JComboBox();\n            comboBox.setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN,25));\n            comboBox.addItem(&quot;Hulk- Maths&quot;);\n            comboBox.addItem(&quot;THor - Computer&quot;);\n            comboBox.addItem(&quot;Iron M- Geo&quot;);\n            comboBox.addItem(&quot;Black P- History&quot;);\n            comboBox.addItem(&quot;War M- Science&quot;);\n            comboBox.addItem(&quot;Java  - Easy&quot;);\n            comboBox.addItem(&quot;Custom&quot;);\n            sportColumn.setCellEditor(new DefaultCellEditor(comboBox));\n            comboBox.addItemListener(new ItemListener() {\n        @Override\n        public void itemStateChanged(ItemEvent e) {\n            \n             Object selectedItem = comboBox.getSelectedItem();\n                boolean editable = selectedItem instanceof String &amp;&amp; ((String)selectedItem).equals(&quot;Custom&quot;);\n                comboBox.setEditable(editable);\n        }\n            });\n            \n\n}\n     \nt.setShowGrid(true);\n        t.setFont(new Font(&quot;Open Sans&quot;,Font.PLAIN,25));\n        t.getTableHeader().setFont(new Font(&quot;Open Sans&quot;, Font.PLAIN, 27));\n        t.setAutoResizeMode( JTable.AUTO_RESIZE_OFF );\n        t.setBackground(Color.WHITE);\n        t.setSelectionBackground(new Color(172, 208, 252));\n        t.setRowHeight(50);\n        t.setSelectionForeground(Color.black);\n        t.getTableHeader().setBackground(new Color(23, 180, 252));\n        t.setGridColor(Color.lightGray);\n        t.getTableHeader().setForeground(Color.white);\n        \n     \n        \n        \n        \n    }\n</code></pre>\n<p>I am using this method like this:-</p>\n<pre><code>JTable t1 = new JTable(data1, title);//data is a String[][] Object and title is a String[] Object.\n\nEnhance(t1);\n</code></pre>\n<p>Like this I have 4 more tables.</p>\n<p>But the problem is when I make edits to <code>t1</code> , The JTable <code>t2</code> is also changing.</p>\n<p>If I enter</p>\n<pre><code>&quot;Java&quot;\n</code></pre>\n<p>in the first cell of <code>t1</code>, the first cell of <code>t2</code> will also be</p>\n<pre><code>&quot;Java&quot; \n</code></pre>\n<p>How can I solve this so that edits made to <code>t1</code> is not visible in <code>t2</code>?</p>\n<h6>EDIT (Debugging details):</h6>\n<p>Even this code is also not working</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\n\n/*\n * Made By JFan\n */\n\n/**\n *\n * @author JFan\n */\npublic class Main {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        JFrame f = new JFrame();\n        f.setSize(1000,1000);\n        f.setLayout(null);\n        \n        String[][] data = {\n            \n            {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\n            {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\n            {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},\n            {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;},{&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\n        };\n        String[] t = {\n          &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;  \n        };\n        JTable t1 = new JTable(data,t);\n        JScrollPane j = new JScrollPane(t1);\n        j.setBounds(0, 200, 500, 500);\n        f.add(j);\n        \n         JTable t2 = new JTable(data,t);\n        f.add(j);\n        \n     \n        \n        JButton  b = new JButton(&quot;Click&quot;);\n        b.setBounds(0,0,100,100);\n        b.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n           \n                j.setViewportView(t2);\n                \n            }\n        });\n        \n        f.add(b);\n           f.setVisible(true);\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","geofire"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637676034,"creation_date":1637676034,"answer_id":70082251,"question_id":70082024,"body_markdown":"To get the values of the latitude and longitude from the (0) and (1) nodes, please use the following lines of code:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference userLocationRef = db.child(&quot;UserLocation&quot;);\r\n    userLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n\t\t@Override\r\n\t\tpublic void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n\t\t\tif (task.isSuccessful()) {\r\n\t\t\t\tfor (DataSnapshot ds : task.getResult().getChildren()) {\r\n\t\t\t\t\tdoube lat = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;0&quot;).getValue(Double.class);\r\n\t\t\t\t\tdoube lng = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;1&quot;).getValue(Double.class);\r\n\t\t\t\t\tLog.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng); //Check the values\r\n\r\n                    //Add location on Google Map\r\n                    LatLng location = new LatLng(lat, lng);\r\n\r\n                    map.addMarker(new MarkerOptions()\r\n                            .position(location)\r\n                            .title(lat + &quot;, &quot; + lng)\r\n                            .showInfoWindow();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n\t\t\t}\r\n\t\t}\r\n\t});","title":"How to retrieve multiple location which set by using Geofire from Real-time Firebase and show them on map in Android Studio?","body":"<p>To get the values of the latitude and longitude from the (0) and (1) nodes, please use the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference userLocationRef = db.child(&quot;UserLocation&quot;);\nuserLocationRef.get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DataSnapshot ds : task.getResult().getChildren()) {\n                doube lat = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;0&quot;).getValue(Double.class);\n                doube lng = ds.child(&quot;You&quot;).child(&quot;l&quot;).child(&quot;1&quot;).getValue(Double.class);\n                Log.d(&quot;TAG&quot;, lat + &quot;, &quot; + lng); //Check the values\n\n                //Add location on Google Map\n                LatLng location = new LatLng(lat, lng);\n\n                map.addMarker(new MarkerOptions()\n                        .position(location)\n                        .title(lat + &quot;, &quot; + lng)\n                        .showInfoWindow();\n            }\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":21464843,"reputation":33,"user_id":15814958,"display_name":"Zi Zian Yeo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70082251,"answer_count":1,"score":1,"last_activity_date":1637679484,"creation_date":1637675087,"question_id":70082024,"body_markdown":"The aim of my application is to retrieve all users current location from real-time firebase and show it on the map in Android Studio. The location of the user is set by using GeoFire and stored in the real-time firebase. The code of setting GeoFire is as follow: \r\n\r\n    private void settingGeoFire() {\r\n        String firebaseAuth = FirebaseAuth.getInstance().getUid();\r\n        myLocationRef = FirebaseDatabase.getInstance().getReference(&quot;UserLocation/&quot;+firebaseAuth);\r\n        geoFire = new GeoFire(myLocationRef);\r\n    }\r\n\r\nand the structure of the real-time firebase is as follow:\r\n\r\n![real-time firebase][1]\r\n\r\n\r\nThe question is how to retrieve all user&#39;s latitude and longitude which are stored under the file 0 and 1 (refer to the image above) in real-time firebase and show them as multiple markers on the map in android studio? Thanks if you can help!\r\n\r\n  [1]: https://i.stack.imgur.com/f93FZ.png\r\n ","title":"How to retrieve multiple location which set by using Geofire from Real-time Firebase and show them on map in Android Studio?","body":"<p>The aim of my application is to retrieve all users current location from real-time firebase and show it on the map in Android Studio. The location of the user is set by using GeoFire and stored in the real-time firebase. The code of setting GeoFire is as follow:</p>\n<pre><code>private void settingGeoFire() {\n    String firebaseAuth = FirebaseAuth.getInstance().getUid();\n    myLocationRef = FirebaseDatabase.getInstance().getReference(&quot;UserLocation/&quot;+firebaseAuth);\n    geoFire = new GeoFire(myLocationRef);\n}\n</code></pre>\n<p>and the structure of the real-time firebase is as follow:</p>\n<p><img src=\"https://i.stack.imgur.com/f93FZ.png\" alt=\"real-time firebase\" /></p>\n<p>The question is how to retrieve all user's latitude and longitude which are stored under the file 0 and 1 (refer to the image above) in real-time firebase and show them as multiple markers on the map in android studio? Thanks if you can help!</p>\n"},{"tags":["java","spring","spring-boot","interface","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1637664502,"post_id":70077154,"comment_id":123881259,"body_markdown":"Can you please add the code for `OneOfMoiChangeValue`, `Type1MoiChangeValue` and `Type2MoiChangeValue`? Thanks!","body":"Can you please add the code for <code>OneOfMoiChangeValue</code>, <code>Type1MoiChangeValue</code> and <code>Type2MoiChangeValue</code>? Thanks!"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1637665301,"post_id":70077154,"comment_id":123881580,"body_markdown":"Hi @Jo&#227;oDias , I have updated the full code. Please check.","body":"Hi @Jo&#227;oDias , I have updated the full code. Please check."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637679417,"creation_date":1637679417,"answer_id":70083060,"question_id":70077154,"body_markdown":"You will need to to a couple of changes in your code and as a consequence in your request body. The first is to update `OneOfMoiChangeValue` with a couple of Jackson annotations so that it can know how to handle the different subtypes based on a property named `operation`:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\nimport static com.fasterxml.jackson.annotation.JsonTypeInfo.As.PROPERTY;\r\nimport static com.fasterxml.jackson.annotation.JsonTypeInfo.Id.NAME;\r\n\r\n@JsonTypeInfo(use = NAME, include = PROPERTY, property = &quot;operation&quot;)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value=Type1MoiChangeValue.class, name = &quot;Type1&quot;),\r\n  @JsonSubTypes.Type(value=Type2MoiChangeValue.class, name = &quot;Type2&quot;)\r\n})\r\npublic interface OneOfMoiChangeValue {\r\n\r\n}\r\n```\r\n\r\nThis means that you no longer need the `operation` property in `MoiChange`:\r\n```java\r\npublic class MoiChange {\r\n      @JsonProperty(&quot;value&quot;)\r\n      private OneOfMoiChangeValue value = null;   //value filed can be mapped with any of the OneOfMoiChangeValue Interface implentations  Type1MoiChangeValue or Type2MoiChangeValue.\r\n}\r\n```\r\n\r\nInstead, it must be sent alongside all the other properties of `OneOfMoiChangeValue`, so something along the following lines:\r\n```json\r\n{\r\n    &quot;moiChanges&quot;: \r\n    [\r\n        {\r\n            &quot;value&quot;: {\r\n                &quot;operation&quot;: &quot;Type1&quot;,\r\n                (...)\r\n            }    \r\n        },\r\n        {\r\n            &quot;value&quot;: {\r\n                &quot;operation&quot;: &quot;Type2&quot;,\r\n                (...)\r\n            }    \r\n        },\r\n        (...)\r\n    ]\r\n}\r\n```","title":"How to use Inteface as a field type in Request Body model class in Rest API","body":"<p>You will need to to a couple of changes in your code and as a consequence in your request body. The first is to update <code>OneOfMoiChangeValue</code> with a couple of Jackson annotations so that it can know how to handle the different subtypes based on a property named <code>operation</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSubTypes;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\nimport static com.fasterxml.jackson.annotation.JsonTypeInfo.As.PROPERTY;\nimport static com.fasterxml.jackson.annotation.JsonTypeInfo.Id.NAME;\n\n@JsonTypeInfo(use = NAME, include = PROPERTY, property = &quot;operation&quot;)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value=Type1MoiChangeValue.class, name = &quot;Type1&quot;),\n  @JsonSubTypes.Type(value=Type2MoiChangeValue.class, name = &quot;Type2&quot;)\n})\npublic interface OneOfMoiChangeValue {\n\n}\n</code></pre>\n<p>This means that you no longer need the <code>operation</code> property in <code>MoiChange</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoiChange {\n      @JsonProperty(&quot;value&quot;)\n      private OneOfMoiChangeValue value = null;   //value filed can be mapped with any of the OneOfMoiChangeValue Interface implentations  Type1MoiChangeValue or Type2MoiChangeValue.\n}\n</code></pre>\n<p>Instead, it must be sent alongside all the other properties of <code>OneOfMoiChangeValue</code>, so something along the following lines:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;moiChanges&quot;: \n    [\n        {\n            &quot;value&quot;: {\n                &quot;operation&quot;: &quot;Type1&quot;,\n                (...)\n            }    \n        },\n        {\n            &quot;value&quot;: {\n                &quot;operation&quot;: &quot;Type2&quot;,\n                (...)\n            }    \n        },\n        (...)\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70083060,"answer_count":1,"score":0,"last_activity_date":1637679417,"creation_date":1637653897,"question_id":70077154,"body_markdown":"We have a Java SpringBoot API endpoint and we pass a RequestBody of NotifyMoiChanges class type. In NotifyMoiChanges  model class we have one filed which is Interface type.\r\n\r\n**Endpoint snippet :**\r\n\r\n    @PostMapping(&quot;/notifyMOIChanges&quot;)\r\n    public ResponseEntity&lt;Void&gt; notifyMOIChangesPost(@RequestBody NotifyMoiChanges notifyMoiChanges) {\r\n    \t\tlogger.info(&quot;Received notifyMOIChanges request.&quot;);\r\n    \t\treturn ResponseEntity.noContent().build();\r\n    \t}\r\n\r\n**RequestBody Model snippet:**\r\n\r\n    public class NotifyMoiChanges {\r\n      @JsonProperty(&quot;moiChanges&quot;)\r\n      @Valid\r\n      private List&lt;MoiChange&gt; moiChanges = new ArrayList&lt;MoiChange&gt;();\r\n      ..... other attributes\r\n    }\r\n\r\n    public class MoiChange   {\r\n          @JsonProperty(&quot;operation&quot;)\r\n          private String operation = null;   //operation value can be &quot;Type1&quot; or &quot;Type2&quot;\r\n        \r\n          @JsonProperty(&quot;value&quot;)\r\n          private OneOfMoiChangeValue value = null;   //value filed can be mapped with any of the OneOfMoiChangeValue Interface implentations  Type1MoiChangeValue or Type2MoiChangeValue.\r\n        }\r\n\r\nOneOfMoiChangeValue  is an Interface which has two implementations Type1MoiChangeValue &amp; Type2MoiChangeValue.\r\n\r\nNow when I pass a RequestBody based on the &#39;operation&#39; filed data I have to map the &#39;value&#39; field of Request Body with any of the Interface implementations Type1MoiChangeValue or Type2MoiChangeValue. \r\n\r\n    public interface OneOfMoiChangeValue {\r\n    \r\n    }\r\n\r\n**Type1MoiChangeValue:**\r\n\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2021-11-16T11:51:46.436+05:30[Asia/Calcutta]&quot;)\r\n    public class Type1MoiChangeValue  extends ArrayList&lt;Type2MoiChangeValue &gt; implements OneOfMoiChangeValue {\r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(super.hashCode());\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class Type1MoiChangeValue {\\n&quot;);\r\n        sb.append(&quot;    &quot;).append(toIndentedString(super.toString())).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(java.lang.Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n\r\n**Type2MoiChangeValue:**\r\n\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2021-11-16T11:51:46.436+05:30[Asia/Calcutta]&quot;)\r\n    public class Type2MoiChangeValue extends HashMap&lt;String, Object&gt; implements OneOfMoiChangeValue {\r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(super.hashCode());\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class Type2MoiChangeValue {\\n&quot;);\r\n        sb.append(&quot;    &quot;).append(toIndentedString(super.toString())).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(java.lang.Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n\r\nWe are using jackson parser. How can I do it. Please advice!\r\n\r\n","title":"How to use Inteface as a field type in Request Body model class in Rest API","body":"<p>We have a Java SpringBoot API endpoint and we pass a RequestBody of NotifyMoiChanges class type. In NotifyMoiChanges  model class we have one filed which is Interface type.</p>\n<p><strong>Endpoint snippet :</strong></p>\n<pre><code>@PostMapping(&quot;/notifyMOIChanges&quot;)\npublic ResponseEntity&lt;Void&gt; notifyMOIChangesPost(@RequestBody NotifyMoiChanges notifyMoiChanges) {\n        logger.info(&quot;Received notifyMOIChanges request.&quot;);\n        return ResponseEntity.noContent().build();\n    }\n</code></pre>\n<p><strong>RequestBody Model snippet:</strong></p>\n<pre><code>public class NotifyMoiChanges {\n  @JsonProperty(&quot;moiChanges&quot;)\n  @Valid\n  private List&lt;MoiChange&gt; moiChanges = new ArrayList&lt;MoiChange&gt;();\n  ..... other attributes\n}\n\npublic class MoiChange   {\n      @JsonProperty(&quot;operation&quot;)\n      private String operation = null;   //operation value can be &quot;Type1&quot; or &quot;Type2&quot;\n    \n      @JsonProperty(&quot;value&quot;)\n      private OneOfMoiChangeValue value = null;   //value filed can be mapped with any of the OneOfMoiChangeValue Interface implentations  Type1MoiChangeValue or Type2MoiChangeValue.\n    }\n</code></pre>\n<p>OneOfMoiChangeValue  is an Interface which has two implementations Type1MoiChangeValue &amp; Type2MoiChangeValue.</p>\n<p>Now when I pass a RequestBody based on the 'operation' filed data I have to map the 'value' field of Request Body with any of the Interface implementations Type1MoiChangeValue or Type2MoiChangeValue.</p>\n<pre><code>public interface OneOfMoiChangeValue {\n\n}\n</code></pre>\n<p><strong>Type1MoiChangeValue:</strong></p>\n<pre><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2021-11-16T11:51:46.436+05:30[Asia/Calcutta]&quot;)\npublic class Type1MoiChangeValue  extends ArrayList&lt;Type2MoiChangeValue &gt; implements OneOfMoiChangeValue {\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    return true;\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(super.hashCode());\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class Type1MoiChangeValue {\\n&quot;);\n    sb.append(&quot;    &quot;).append(toIndentedString(super.toString())).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(java.lang.Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p><strong>Type2MoiChangeValue:</strong></p>\n<pre><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.SpringCodegen&quot;, date = &quot;2021-11-16T11:51:46.436+05:30[Asia/Calcutta]&quot;)\npublic class Type2MoiChangeValue extends HashMap&lt;String, Object&gt; implements OneOfMoiChangeValue {\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    return true;\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(super.hashCode());\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class Type2MoiChangeValue {\\n&quot;);\n    sb.append(&quot;    &quot;).append(toIndentedString(super.toString())).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(java.lang.Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p>We are using jackson parser. How can I do it. Please advice!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1637676269,"post_id":70082238,"comment_id":123886015,"body_markdown":"There are no errors because you aren&#39;t checking that. Have you tried to attach a failure listener to see if something goes wrong?","body":"There are no errors because you aren&#39;t checking that. Have you tried to attach a failure listener to see if something goes wrong?"},{"owner":{"account_id":23429926,"reputation":1,"user_id":17488940,"display_name":"Pib995"},"score":0,"creation_date":1637677020,"post_id":70082238,"comment_id":123886336,"body_markdown":"no brh! I&#39;m still new to android development. I cant find where I have mistaken or gone wrong.","body":"no brh! I&#39;m still new to android development. I cant find where I have mistaken or gone wrong."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1637679460,"post_id":70082238,"comment_id":123887463,"body_markdown":"You&#39;ve shared quite a bit of code in your question, and Stack Overflow is a notoriously inefficient interactive debugger. I recommend setting breakpoints in the code, running it in a debugger, and then stepping through it line by line, checking the variables at each step. If you do that, which line is the *first* that doesn&#39;t do what you expect it to do?","body":"You&#39;ve shared quite a bit of code in your question, and Stack Overflow is a notoriously inefficient interactive debugger. I recommend setting breakpoints in the code, running it in a debugger, and then stepping through it line by line, checking the variables at each step. If you do that, which line is the <i>first</i> that doesn&#39;t do what you expect it to do?"}],"owner":{"account_id":23429926,"reputation":1,"user_id":17488940,"display_name":"Pib995"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637679368,"creation_date":1637675969,"question_id":70082238,"body_markdown":"    \r\nMy code above is to insert user registration data into the firebase database. but when I build the app and try to insert some demo data into the database to perform a user registration none of them is being inserted to the firebase. can anyone check my code and find out anything that I have done wrong? \r\n    \r\n\r\n    public class CreateProfile extends AppCompatActivity {\r\n    \r\n        EditText etName,etBio,etProfession,etEmail,etWeb;\r\n        Button button;\r\n        ImageView imageView;\r\n        ProgressBar progressBar;\r\n        Uri imageUri;\r\n        UploadTask uploadTask;\r\n        StorageReference storageReference;\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference databaseReference;\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance() ;\r\n        DocumentReference documentReference;\r\n        private static final int PICK_IMAGE=1;\r\n        All_User_Member member;\r\n        String currentUserId;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_create_profile);\r\n    \r\n            member = new All_User_Member();\r\n            imageView = findViewById(R.id.iv_cp);\r\n            etBio = findViewById(R.id.et_bio_cp);\r\n            etEmail = findViewById(R.id.et_email_cp);\r\n            etName = findViewById(R.id.et_name_cp);\r\n            etProfession = findViewById(R.id.et_profession_cp);\r\n            etWeb = findViewById(R.id.et_web_cp);\r\n            button = findViewById(R.id.btn_cp);\r\n            progressBar = findViewById(R.id.progressbar_cp);\r\n    \r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n    \r\n            currentUserId = user.getUid();\r\n    \r\n            //reference\r\n            documentReference = db.collection(&quot;user&quot;).document(currentUserId);\r\n            storageReference = FirebaseStorage.getInstance().getReference(&quot;Profile images&quot;);\r\n            databaseReference = database.getReference(&quot;All users&quot;);\r\n    \r\n            //button click\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    uploadData();\r\n                }\r\n            });\r\n    \r\n    \r\n            //ProfileImageSelect\r\n            imageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent();\r\n                    intent.setType(&quot;image/*&quot;);\r\n                    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                    startActivityForResult(Intent.createChooser(intent,&quot;select image&quot;),PICK_IMAGE);\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        //LoadingProfileImage\r\n    \r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            try {\r\n    \r\n                if (requestCode==PICK_IMAGE || resultCode== RESULT_OK || data != null || data.getData() !=null){\r\n                    imageUri = data.getData();\r\n    \r\n                    Picasso.get().load(imageUri).into(imageView);\r\n                }\r\n    \r\n            }catch (Exception e){\r\n    \r\n                Toast.makeText(this, &quot;Error&quot;+e, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private String getFileExt(Uri uri){\r\n            ContentResolver contentResolver = getContentResolver();\r\n            MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n            return mimeTypeMap.getExtensionFromMimeType((contentResolver.getType(uri)));\r\n        }\r\n    \r\n    \r\n    \r\n        private void uploadData() {\r\n    \r\n            String name = etName.getText().toString();\r\n            String bio = etBio.getText().toString();\r\n            String web = etWeb.getText().toString();\r\n            String prof = etProfession.getText().toString();\r\n            String mail = etEmail.getText().toString();\r\n    \r\n            if(TextUtils.isEmpty(name) || TextUtils.isEmpty(bio) || TextUtils.isEmpty(web) || TextUtils.isEmpty(prof) ||\r\n                    TextUtils.isEmpty(mail) || imageUri != null){\r\n    \r\n                progressBar.setVisibility(View.VISIBLE);\r\n                final StorageReference reference = storageReference.child(System.currentTimeMillis()+ &quot;.&quot;+getFileExt(imageUri));\r\n                uploadTask = reference.putFile(imageUri);\r\n    \r\n                Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                    @Override\r\n                    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n    \r\n                        if (!task.isSuccessful()){\r\n                            throw task.getException();\r\n                        }\r\n    \r\n                        return reference.getDownloadUrl();\r\n    \r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n    \r\n    \r\n                        if (task.isSuccessful()){\r\n                            Uri downloadUri = task.getResult();\r\n    \r\n    \r\n                            Map&lt;String, String&gt; profile = new HashMap&lt;&gt;();\r\n                            profile.put(&quot;name&quot;, name);\r\n                            profile.put(&quot;prof&quot;, prof);\r\n                            profile.put(&quot;url&quot;, downloadUri.toString());\r\n                            profile.put(&quot;bio&quot;, bio);\r\n                            profile.put(&quot;mail&quot;, mail);\r\n                            profile.put(&quot;web&quot;, web);\r\n                            profile.put(&quot;privacy&quot;, &quot;Public&quot;);\r\n    \r\n                            member.setName(name);\r\n                            member.setProf(prof);\r\n                            member.setUid(currentUserId);\r\n                            member.setUrl(downloadUri.toString());\r\n    \r\n                            databaseReference.child(currentUserId).setValue(member);\r\n    \r\n                            documentReference.set(profile).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void unused) {\r\n    \r\n                                    progressBar.setVisibility(View.INVISIBLE);\r\n                                    Toast.makeText(CreateProfile.this, &quot;Profile Created&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                                    Handler handler = new Handler();\r\n                                    handler.postDelayed(new Runnable() {\r\n                                        @Override\r\n                                        public void run() {\r\n    \r\n                                            Intent intent = new Intent(CreateProfile.this,Fragment1.class);\r\n                                            startActivity(intent);\r\n    \r\n                                        }\r\n                                    },2000);\r\n    \r\n                                }\r\n                            });\r\n    \r\n                        }\r\n    \r\n                    }\r\n                });\r\n    \r\n            }else {\r\n                Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\nThese are the errors getting in the android studio:    \r\n     \r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kdBlU.jpg","title":"Android studio User registration data NOT get inserted to firebase database","body":"<p>My code above is to insert user registration data into the firebase database. but when I build the app and try to insert some demo data into the database to perform a user registration none of them is being inserted to the firebase. can anyone check my code and find out anything that I have done wrong?</p>\n<pre><code>public class CreateProfile extends AppCompatActivity {\n\n    EditText etName,etBio,etProfession,etEmail,etWeb;\n    Button button;\n    ImageView imageView;\n    ProgressBar progressBar;\n    Uri imageUri;\n    UploadTask uploadTask;\n    StorageReference storageReference;\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference databaseReference;\n    FirebaseFirestore db = FirebaseFirestore.getInstance() ;\n    DocumentReference documentReference;\n    private static final int PICK_IMAGE=1;\n    All_User_Member member;\n    String currentUserId;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_profile);\n\n        member = new All_User_Member();\n        imageView = findViewById(R.id.iv_cp);\n        etBio = findViewById(R.id.et_bio_cp);\n        etEmail = findViewById(R.id.et_email_cp);\n        etName = findViewById(R.id.et_name_cp);\n        etProfession = findViewById(R.id.et_profession_cp);\n        etWeb = findViewById(R.id.et_web_cp);\n        button = findViewById(R.id.btn_cp);\n        progressBar = findViewById(R.id.progressbar_cp);\n\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n        currentUserId = user.getUid();\n\n        //reference\n        documentReference = db.collection(&quot;user&quot;).document(currentUserId);\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;Profile images&quot;);\n        databaseReference = database.getReference(&quot;All users&quot;);\n\n        //button click\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                uploadData();\n            }\n        });\n\n\n        //ProfileImageSelect\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setType(&quot;image/*&quot;);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent,&quot;select image&quot;),PICK_IMAGE);\n            }\n        });\n\n\n    }\n\n    //LoadingProfileImage\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        try {\n\n            if (requestCode==PICK_IMAGE || resultCode== RESULT_OK || data != null || data.getData() !=null){\n                imageUri = data.getData();\n\n                Picasso.get().load(imageUri).into(imageView);\n            }\n\n        }catch (Exception e){\n\n            Toast.makeText(this, &quot;Error&quot;+e, Toast.LENGTH_SHORT).show();\n\n        }\n\n\n    }\n\n    private String getFileExt(Uri uri){\n        ContentResolver contentResolver = getContentResolver();\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\n        return mimeTypeMap.getExtensionFromMimeType((contentResolver.getType(uri)));\n    }\n\n\n\n    private void uploadData() {\n\n        String name = etName.getText().toString();\n        String bio = etBio.getText().toString();\n        String web = etWeb.getText().toString();\n        String prof = etProfession.getText().toString();\n        String mail = etEmail.getText().toString();\n\n        if(TextUtils.isEmpty(name) || TextUtils.isEmpty(bio) || TextUtils.isEmpty(web) || TextUtils.isEmpty(prof) ||\n                TextUtils.isEmpty(mail) || imageUri != null){\n\n            progressBar.setVisibility(View.VISIBLE);\n            final StorageReference reference = storageReference.child(System.currentTimeMillis()+ &quot;.&quot;+getFileExt(imageUri));\n            uploadTask = reference.putFile(imageUri);\n\n            Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                @Override\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n\n                    if (!task.isSuccessful()){\n                        throw task.getException();\n                    }\n\n                    return reference.getDownloadUrl();\n\n                }\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n\n\n                    if (task.isSuccessful()){\n                        Uri downloadUri = task.getResult();\n\n\n                        Map&lt;String, String&gt; profile = new HashMap&lt;&gt;();\n                        profile.put(&quot;name&quot;, name);\n                        profile.put(&quot;prof&quot;, prof);\n                        profile.put(&quot;url&quot;, downloadUri.toString());\n                        profile.put(&quot;bio&quot;, bio);\n                        profile.put(&quot;mail&quot;, mail);\n                        profile.put(&quot;web&quot;, web);\n                        profile.put(&quot;privacy&quot;, &quot;Public&quot;);\n\n                        member.setName(name);\n                        member.setProf(prof);\n                        member.setUid(currentUserId);\n                        member.setUrl(downloadUri.toString());\n\n                        databaseReference.child(currentUserId).setValue(member);\n\n                        documentReference.set(profile).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void unused) {\n\n                                progressBar.setVisibility(View.INVISIBLE);\n                                Toast.makeText(CreateProfile.this, &quot;Profile Created&quot;, Toast.LENGTH_SHORT).show();\n\n                                Handler handler = new Handler();\n                                handler.postDelayed(new Runnable() {\n                                    @Override\n                                    public void run() {\n\n                                        Intent intent = new Intent(CreateProfile.this,Fragment1.class);\n                                        startActivity(intent);\n\n                                    }\n                                },2000);\n\n                            }\n                        });\n\n                    }\n\n                }\n            });\n\n        }else {\n            Toast.makeText(this, &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>These are the errors getting in the android studio:</p>\n<p><img src=\"https://i.stack.imgur.com/kdBlU.jpg\" alt=\"\" /></p>\n"},{"tags":["java","oracle","jdbi","jdbi3"],"comments":[{"owner":{"account_id":3854593,"reputation":2852,"user_id":3193876,"display_name":"Ronald"},"score":0,"creation_date":1637664836,"post_id":70079512,"comment_id":123881392,"body_markdown":"Try the operation that promises success first (i.e. try update if the row is usually there, else try insert). If the statement fails (either dup key after attempted insert, else no rows updated), catch the error/warning and try the other one. (DB systems don&#39;t abort transactions just because one statement ran into an error).","body":"Try the operation that promises success first (i.e. try update if the row is usually there, else try insert). If the statement fails (either dup key after attempted insert, else no rows updated), catch the error/warning and try the other one. (DB systems don&#39;t abort transactions just because one statement ran into an error)."}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637665693,"creation_date":1637665693,"answer_id":70079789,"question_id":70079512,"body_markdown":"Merge it is. Performs well.\r\n\r\nDummy example based on your description:\r\n\r\n    merge into target_table a\r\n      using source_table b\r\n      on (a.id = b.id)\r\n    when matched then update set\r\n      a.name = b.name,\r\n      a.job  = b.job,\r\n      a.sal  = b.sal\r\n    when not matched then \r\n      insert (id, name, job, sal) \r\n      values (b.id, b.name, b.job, b.sal);","title":"Insert if not exist and update certain values if it does","body":"<p>Merge it is. Performs well.</p>\n<p>Dummy example based on your description:</p>\n<pre><code>merge into target_table a\n  using source_table b\n  on (a.id = b.id)\nwhen matched then update set\n  a.name = b.name,\n  a.job  = b.job,\n  a.sal  = b.sal\nwhen not matched then \n  insert (id, name, job, sal) \n  values (b.id, b.name, b.job, b.sal);\n</code></pre>\n"}],"owner":{"account_id":6508418,"reputation":360,"user_id":5036567,"accept_rate":100,"display_name":"Zanndorin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70079789,"answer_count":1,"score":0,"last_activity_date":1637678719,"creation_date":1637664483,"question_id":70079512,"body_markdown":"I&#39;m using JDBI3 (and would like to use @SQLUpdate) and an Oracle DB.\r\n\r\nI want to insert an item with 4 columns into the table if it does not exist, if it does exist I want to instead update 3 of the 4 values of the item. If it wasn&#39;t Oracle I would&#39;ve used some `ON DUPLICATE_KEY` logic but that does not exist in Oracle. I read some things about using Merge but the Queries seemed really wonky for what I was trying to do. Any tips on what to look for? \r\n\r\nAdditional question: If it is Merge I should use (with some form of sub queries I assume), how does the query affect performance? I think this database is quite write heavy. \r\n\r\n\r\n```sql\r\nMERGE INTO device db USING (SELECT &#39;abc&#39; AS col1, &#39;bcd&#39; as col2, &#39;cde&#39; as col3, &#39;def&#39; as col4 FROM DUAL) input\r\non (db.col1 = input.col1 AND db.col2= input.col2)\r\nWHEN MATCHED THEN UPDATE\r\nSET db.col4 = input.col4\r\nWHEN NOT MATCHED THEN INSERT\r\n(db.col1, db.col2, db.col3, db.col4)\r\nVALUES (input.col1, input.col2, input.col3, input.col4)\r\n```","title":"Insert if not exist and update certain values if it does","body":"<p>I'm using JDBI3 (and would like to use @SQLUpdate) and an Oracle DB.</p>\n<p>I want to insert an item with 4 columns into the table if it does not exist, if it does exist I want to instead update 3 of the 4 values of the item. If it wasn't Oracle I would've used some <code>ON DUPLICATE_KEY</code> logic but that does not exist in Oracle. I read some things about using Merge but the Queries seemed really wonky for what I was trying to do. Any tips on what to look for?</p>\n<p>Additional question: If it is Merge I should use (with some form of sub queries I assume), how does the query affect performance? I think this database is quite write heavy.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MERGE INTO device db USING (SELECT 'abc' AS col1, 'bcd' as col2, 'cde' as col3, 'def' as col4 FROM DUAL) input\non (db.col1 = input.col1 AND db.col2= input.col2)\nWHEN MATCHED THEN UPDATE\nSET db.col4 = input.col4\nWHEN NOT MATCHED THEN INSERT\n(db.col1, db.col2, db.col3, db.col4)\nVALUES (input.col1, input.col2, input.col3, input.col4)\n</code></pre>\n"},{"tags":["java","spring-boot","message-queue","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637678661,"creation_date":1637677287,"answer_id":70082561,"question_id":70075651,"body_markdown":"1. Give each listener an `id`\r\n2. Configure the container factory to not automatically start the listeners https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.integration.spring.jms.listener.auto-startup\r\n3. Start the container(s) manually using the `JmsListenerEndpointRegistry` bean - `registry.getListenerContainer(&quot;fooListener&quot;).start();`\r\n\r\n```java\r\n@Bean\r\nApplicationRunner runner(@Value(&quot;${fooEnabled}&quot;) boolean fooEnabled, \r\n        @Value(&quot;${barEnabled}&quot;) boolean barEnabled, JmsListenerEndpointRegistry registry) {\r\n    return args -&gt; {\r\n        if (fooEnabled) ...\r\n    }\r\n}\r\n```","title":"How to configure and enable a JMS Listener to consume messages based on some condition?","body":"<ol>\n<li>Give each listener an <code>id</code></li>\n<li>Configure the container factory to not automatically start the listeners <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.integration.spring.jms.listener.auto-startup\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.integration.spring.jms.listener.auto-startup</a></li>\n<li>Start the container(s) manually using the <code>JmsListenerEndpointRegistry</code> bean - <code>registry.getListenerContainer(&quot;fooListener&quot;).start();</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nApplicationRunner runner(@Value(&quot;${fooEnabled}&quot;) boolean fooEnabled, \n        @Value(&quot;${barEnabled}&quot;) boolean barEnabled, JmsListenerEndpointRegistry registry) {\n    return args -&gt; {\n        if (fooEnabled) ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19690691,"reputation":73,"user_id":14415712,"display_name":"Rushali Atre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70082561,"answer_count":1,"score":0,"last_activity_date":1637678661,"creation_date":1637643923,"question_id":70075651,"body_markdown":"I have two listeners(`fooMessages` and `barMessages`) in my application, and both of them are connected to same queue. At one point of time only one listener will consume the message from the queue based on some condition. In `application.yml` file if `fooEnabled` is set to `true` then `fooMessages` listener should consume the messages and if `fooEnabled` is set to `false` then `barMessages` listener should consume the messages.\r\n\r\nListeners:\r\n```java\r\n@JMSListener(destination=&quot;${queueName}&quot;, selector = &quot;${selectorName}&quot;)\r\npublic void fooMessages(Message message) {\r\n   // foo logic\r\n}\r\n    \r\n@JMSListener(destination=&quot;${queueName}&quot;, selector = &quot;${selectorName}&quot;)\r\npublic void barMessages(Message message) {\r\n   // bar logic\r\n}\r\n```\r\n`application.yml` file:\r\n```    \r\nqueueName: myqueue\r\nselectorName: &quot;priority=medium&quot;\r\nfooEnable: true\r\n```\r\nHow can I configure the listener to handle this scenario?","title":"How to configure and enable a JMS Listener to consume messages based on some condition?","body":"<p>I have two listeners(<code>fooMessages</code> and <code>barMessages</code>) in my application, and both of them are connected to same queue. At one point of time only one listener will consume the message from the queue based on some condition. In <code>application.yml</code> file if <code>fooEnabled</code> is set to <code>true</code> then <code>fooMessages</code> listener should consume the messages and if <code>fooEnabled</code> is set to <code>false</code> then <code>barMessages</code> listener should consume the messages.</p>\n<p>Listeners:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JMSListener(destination=&quot;${queueName}&quot;, selector = &quot;${selectorName}&quot;)\npublic void fooMessages(Message message) {\n   // foo logic\n}\n    \n@JMSListener(destination=&quot;${queueName}&quot;, selector = &quot;${selectorName}&quot;)\npublic void barMessages(Message message) {\n   // bar logic\n}\n</code></pre>\n<p><code>application.yml</code> file:</p>\n<pre><code>queueName: myqueue\nselectorName: &quot;priority=medium&quot;\nfooEnable: true\n</code></pre>\n<p>How can I configure the listener to handle this scenario?</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1637646052,"post_id":68095709,"comment_id":123875159,"body_markdown":"what do you mean by the last part of question?","body":"what do you mean by the last part of question?"}],"answers":[{"tags":[],"owner":{"account_id":10279781,"reputation":6290,"user_id":7585388,"display_name":"Bolt UIX"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637678226,"creation_date":1637678226,"answer_id":70082783,"question_id":68095709,"body_markdown":"**100% working solution** \r\n\r\nmanifest code:\r\n\r\n       &lt;!--BLUETOOTH PERMISSION--&gt;\r\n        &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n        &lt;!-- Needed only if your app looks for Bluetooth devices.\r\n                 If your app doesn&#39;t use Bluetooth scan results to derive physical\r\n                 location information, you can strongly assert that your app\r\n                 doesn&#39;t derive physical location. --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n        &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\r\n          devices. --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n        &lt;!-- Needed only if your app communicates with already-paired Bluetooth\r\n               devices. --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n        &lt;!--bibo01 : hardware option--&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot;/&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;false&quot;/&gt;\r\n\r\nKotlin code:\r\n \r\n\r\n     //check android12+\r\n                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                                requestMultiplePermissions.launch(arrayOf(\r\n                                    Manifest.permission.BLUETOOTH_SCAN,\r\n                                    Manifest.permission.BLUETOOTH_CONNECT))\r\n                            }\r\n                            else{\r\n                                val enableBtIntent = Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE)\r\n                                requestBluetooth.launch(enableBtIntent)\r\n                            }\r\n    ....................................................\r\n\r\n    private var requestBluetooth = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n                    if (result.resultCode == RESULT_OK) {\r\n                        //granted\r\n                    }else{\r\n                        //deny\r\n                    }\r\n     }\r\n    \r\n    private val requestMultiplePermissions =\r\n                    registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissions -&gt;\r\n                        permissions.entries.forEach {\r\n                            Log.d(&quot;test006&quot;, &quot;${it.key} = ${it.value}&quot;)\r\n                        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nRead more:\r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/permissions\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F0NFs.png","title":"startActivityForResult is deprecated and, unable to request for bluetooth connection with new code","body":"<p><strong>100% working solution</strong></p>\n<p>manifest code:</p>\n<pre><code>   &lt;!--BLUETOOTH PERMISSION--&gt;\n    &lt;!-- Request legacy Bluetooth permissions on older devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;!-- Needed only if your app looks for Bluetooth devices.\n             If your app doesn't use Bluetooth scan results to derive physical\n             location information, you can strongly assert that your app\n             doesn't derive physical location. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n    &lt;!-- Needed only if your app makes the device discoverable to Bluetooth\n      devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n    &lt;!-- Needed only if your app communicates with already-paired Bluetooth\n           devices. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;!--bibo01 : hardware option--&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;false&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;false&quot;/&gt;\n</code></pre>\n<p>Kotlin code:</p>\n<pre><code> //check android12+\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n                            requestMultiplePermissions.launch(arrayOf(\n                                Manifest.permission.BLUETOOTH_SCAN,\n                                Manifest.permission.BLUETOOTH_CONNECT))\n                        }\n                        else{\n                            val enableBtIntent = Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE)\n                            requestBluetooth.launch(enableBtIntent)\n                        }\n....................................................\n\nprivate var requestBluetooth = registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n                if (result.resultCode == RESULT_OK) {\n                    //granted\n                }else{\n                    //deny\n                }\n }\n\nprivate val requestMultiplePermissions =\n                registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissions -&gt;\n                    permissions.entries.forEach {\n                        Log.d(&quot;test006&quot;, &quot;${it.key} = ${it.value}&quot;)\n                    }\n}\n</code></pre>\n<p>Read more:\n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/permissions</a></p>\n<p><a href=\"https://i.stack.imgur.com/F0NFs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F0NFs.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18705080,"reputation":23,"user_id":16241416,"display_name":"Anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3584,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637678226,"creation_date":1624434575,"question_id":68095709,"body_markdown":"```java\r\nIntent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\nstartActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n```\r\n\r\nI was requesting to start Bluetooth using above source code. But, `startActivityForResult` is deprecated. So, I was searching for new code how to deal with that. Here&#39;s [the solution](https://stackoverflow.com/a/63654043/16241416) I found.\r\n\r\n```java\r\n// You can do the assignment inside onAttach or onCreate, i.e, before the activity is displayed\r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // There are no request codes\r\n                        Intent data = result.getData();\r\n                        doSomeOperations();\r\n                    }\r\n                }\r\n            });\r\n\r\n    public void openSomeActivityForResult() {\r\n        Intent intent = new Intent(this, SomeActivity.class);\r\n        someActivityResultLauncher.launch(intent);\r\n    }\r\n```\r\n\r\nI added it to my source code.\r\n\r\n```java\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n//            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n\r\n            ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n                    new ActivityResultContracts.StartActivityForResult(),\r\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                        @Override\r\n                        public void onActivityResult(ActivityResult result) {\r\n                            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                                // There are no request codes\r\n                                Intent data = result.getData();\r\n//                                doSomeOperations();\r\n                            }\r\n                        }\r\n                    });\r\n\r\n            someActivityResultLauncher.launch(enableBtIntent);\r\n```\r\n\r\nBut, Android is requesting for bluetooth permission automatically for old source code (I didn&#39;t have to add onActivityResult function. Cause, it was earlier written in background). But, when I am using ActivityResultLauncher I must add onActivityResult function(I can work without onActivityResult also But, `startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);` I had sent an integer value also `REQUEST_ENABLE_BT=1`). How can I request for bluetooth permission with new code?","title":"startActivityForResult is deprecated and, unable to request for bluetooth connection with new code","body":"<pre class=\"lang-java prettyprint-override\"><code>Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\nstartActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n</code></pre>\n<p>I was requesting to start Bluetooth using above source code. But, <code>startActivityForResult</code> is deprecated. So, I was searching for new code how to deal with that. Here's <a href=\"https://stackoverflow.com/a/63654043/16241416\">the solution</a> I found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can do the assignment inside onAttach or onCreate, i.e, before the activity is displayed\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // There are no request codes\n                        Intent data = result.getData();\n                        doSomeOperations();\n                    }\n                }\n            });\n\n    public void openSomeActivityForResult() {\n        Intent intent = new Intent(this, SomeActivity.class);\n        someActivityResultLauncher.launch(intent);\n    }\n</code></pre>\n<p>I added it to my source code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n//            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n\n            ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n                    new ActivityResultContracts.StartActivityForResult(),\n                    new ActivityResultCallback&lt;ActivityResult&gt;() {\n                        @Override\n                        public void onActivityResult(ActivityResult result) {\n                            if (result.getResultCode() == Activity.RESULT_OK) {\n                                // There are no request codes\n                                Intent data = result.getData();\n//                                doSomeOperations();\n                            }\n                        }\n                    });\n\n            someActivityResultLauncher.launch(enableBtIntent);\n</code></pre>\n<p>But, Android is requesting for bluetooth permission automatically for old source code (I didn't have to add onActivityResult function. Cause, it was earlier written in background). But, when I am using ActivityResultLauncher I must add onActivityResult function(I can work without onActivityResult also But, <code>startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);</code> I had sent an integer value also <code>REQUEST_ENABLE_BT=1</code>). How can I request for bluetooth permission with new code?</p>\n"},{"tags":["java","string","unicode","character-encoding","standards"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1607826070,"creation_date":1311673649,"answer_id":6828179,"question_id":6828076,"body_markdown":"The normal model of Java string length\r\n-----\r\n\r\n`String.length()` is *specified* as returning the number of `char` values (&quot;code units&quot;) in the String.  That is the *most generally useful* definition of the length of a Java String; see below.\r\n\r\nYour description&lt;sup&gt;1&lt;/sup&gt; of the semantics of `length` based on the size of the backing array/array slice is incorrect.  The fact that the value returned by `length()` is *also* the size of the backing array or array slice is *merely* an implementation detail of typical Java class libraries.  `String` does not need to be implemented that way.  Indeed, I think I&#39;ve seen Java String implementations where it WASN&#39;T implemented that way.\r\n\r\n--------\r\n\r\nAlternative models of string length.\r\n-----\r\n\r\nTo get the number of Unicode codepoints in a String use `str.codePointCount(0, str.length())` -- see [the javadoc][1].\r\n\r\nTo get the size (in bytes) of a String in a specific encoding (i.e. charset) use `str.getBytes(charset).length`&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nTo deal with locale-specific issues, you can use [`Normalizer`][2] to normalize the String to whatever form is most appropriate to your use-case, and then use `codePointCount` as above.  But in some cases, even this won&#39;t work; e.g. the Hungarian letter counting rules which the Unicode standard apparently doesn&#39;t cater for.\r\n\r\n--------\r\n\r\nUsing String.length() is generally OK\r\n-----\r\n\r\nThe reason that most applications use `String.length()` is that most applications are not concerned with counting the number of characters in words, texts, etcetera in a human-centric way.  For instance, if I do this:\r\n\r\n    String s = &quot;hi mum how are you&quot;;\r\n    int pos = s.indexOf(&quot;mum&quot;);\r\n    String textAfterMum = s.substring(pos + &quot;mum&quot;.length());\r\n\r\nit really doesn&#39;t matter that `&quot;mum&quot;.length()` is not returning code points or that it is not a linguistically correct character count.  It is measuring the length of the string using the model that is appropriate to the task at hand.  And it works.  \r\n\r\nObviously, things get a bit more complicated when you do multilingual text analysis; e.g. searching for words.  But even then, if you normalize your text and parameters before you start, you can safely code in terms of &quot;code units&quot; rather than &quot;code points&quot; most of the time; i.e. `length()` still works.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This description was on some versions of the question.  See the edit history ... if you have sufficient rep points.&lt;br&gt;\r\n2 - Using `str.getBytes(charset).length` entails doing the encoding and throwing it away.  There is possibly a *general* way to do this without that copy.  It would entail wrapping the `String` as a `CharBuffer`, creating a custom `ByteBuffer` with no backing to act as a byte counter, and then using `Encoder.encode(...)` to count the bytes.  Note: I have not tried this, and I would not recommend trying *unless* you have clear evidence that `getBytes(charset)` is a significant performance bottleneck.&lt;/sup&gt;\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointCount%28int,%20int%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/text/Normalizer.html","title":"How to correctly compute the length of a String in Java?","body":"<h2>The normal model of Java string length</h2>\n<p><code>String.length()</code> is <em>specified</em> as returning the number of <code>char</code> values (&quot;code units&quot;) in the String.  That is the <em>most generally useful</em> definition of the length of a Java String; see below.</p>\n<p>Your description<sup>1</sup> of the semantics of <code>length</code> based on the size of the backing array/array slice is incorrect.  The fact that the value returned by <code>length()</code> is <em>also</em> the size of the backing array or array slice is <em>merely</em> an implementation detail of typical Java class libraries.  <code>String</code> does not need to be implemented that way.  Indeed, I think I've seen Java String implementations where it WASN'T implemented that way.</p>\n<hr />\n<h2>Alternative models of string length.</h2>\n<p>To get the number of Unicode codepoints in a String use <code>str.codePointCount(0, str.length())</code> -- see <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointCount%28int,%20int%29\" rel=\"noreferrer\">the javadoc</a>.</p>\n<p>To get the size (in bytes) of a String in a specific encoding (i.e. charset) use <code>str.getBytes(charset).length</code><sup>2</sup>.</p>\n<p>To deal with locale-specific issues, you can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"noreferrer\"><code>Normalizer</code></a> to normalize the String to whatever form is most appropriate to your use-case, and then use <code>codePointCount</code> as above.  But in some cases, even this won't work; e.g. the Hungarian letter counting rules which the Unicode standard apparently doesn't cater for.</p>\n<hr />\n<h2>Using String.length() is generally OK</h2>\n<p>The reason that most applications use <code>String.length()</code> is that most applications are not concerned with counting the number of characters in words, texts, etcetera in a human-centric way.  For instance, if I do this:</p>\n<pre><code>String s = &quot;hi mum how are you&quot;;\nint pos = s.indexOf(&quot;mum&quot;);\nString textAfterMum = s.substring(pos + &quot;mum&quot;.length());\n</code></pre>\n<p>it really doesn't matter that <code>&quot;mum&quot;.length()</code> is not returning code points or that it is not a linguistically correct character count.  It is measuring the length of the string using the model that is appropriate to the task at hand.  And it works.</p>\n<p>Obviously, things get a bit more complicated when you do multilingual text analysis; e.g. searching for words.  But even then, if you normalize your text and parameters before you start, you can safely code in terms of &quot;code units&quot; rather than &quot;code points&quot; most of the time; i.e. <code>length()</code> still works.</p>\n<hr />\n<p><sup>1 - This description was on some versions of the question.  See the edit history ... if you have sufficient rep points.<br>\n2 - Using <code>str.getBytes(charset).length</code> entails doing the encoding and throwing it away.  There is possibly a <em>general</em> way to do this without that copy.  It would entail wrapping the <code>String</code> as a <code>CharBuffer</code>, creating a custom <code>ByteBuffer</code> with no backing to act as a byte counter, and then using <code>Encoder.encode(...)</code> to count the bytes.  Note: I have not tried this, and I would not recommend trying <em>unless</em> you have clear evidence that <code>getBytes(charset)</code> is a significant performance bottleneck.</sup></p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311703061,"creation_date":1311673652,"answer_id":6828181,"question_id":6828076,"body_markdown":"If you mean, counting the length of a string according to the grammatical rules of a language, then the answer is no, there&#39;s no such algorithm in Java, nor anywhere else.\r\n\r\nNot unless the algorithm also does a full semantic analysis of the text.\r\n\r\nIn Hungarian for example `sz` and `zs` can count as one letter or two, which depends on the composition of the word they appear in. (E.g.: `orsz&#225;g` is 5 letters, whereas `torzs&#225;g` is 7.)\r\n\r\n**Uodate**: If all you want is the Unicode standard character count (which, as I pointed out, isn&#39;t accurate), transforming your string to the `NFKC` form with [`java.text.Normalizer`][1] could be a solution.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/Normalizer.html","title":"How to correctly compute the length of a String in Java?","body":"<p>If you mean, counting the length of a string according to the grammatical rules of a language, then the answer is no, there's no such algorithm in Java, nor anywhere else.</p>\n\n<p>Not unless the algorithm also does a full semantic analysis of the text.</p>\n\n<p>In Hungarian for example <code>sz</code> and <code>zs</code> can count as one letter or two, which depends on the composition of the word they appear in. (E.g.: <code>ország</code> is 5 letters, whereas <code>torzság</code> is 7.)</p>\n\n<p><strong>Uodate</strong>: If all you want is the Unicode standard character count (which, as I pointed out, isn't accurate), transforming your string to the <code>NFKC</code> form with <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"nofollow\"><code>java.text.Normalizer</code></a> could be a solution.</p>\n"},{"tags":[],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1311778002,"creation_date":1311777183,"answer_id":6846155,"question_id":6828076,"body_markdown":"[`java.text.BreakIterator`][1] is able to iterate over text and can report on &quot;character&quot;, word, sentence and line boundaries.\r\n\r\nConsider this code:\r\n\r\n    def length(text: String, locale: java.util.Locale = java.util.Locale.ENGLISH) = {\r\n      val charIterator = java.text.BreakIterator.getCharacterInstance(locale)\r\n      charIterator.setText(text)\r\n    \r\n      var result = 0\r\n      while(charIterator.next() != BreakIterator.DONE) result += 1\r\n      result\r\n    }\r\n\r\nRunning it:\r\n\r\n    scala&gt; val text = &quot;Thîs lóo̰ks we̐ird!&quot;\r\n    text: java.lang.String = Thîs lóo̰ks we̐ird!\r\n\r\n    scala&gt; val length = length(text)\r\n    length: Int = 17\r\n\r\n    scala&gt; val codepoints = text.codePointCount(0, text.length)\r\n    codepoints: Int = 21 \r\n\r\nWith surrogate pairs:\r\n\r\n    scala&gt; val parens = &quot;\\uDBFF\\uDFFCsurpi\\u0301se!\\uDBFF\\uDFFD&quot;\r\n    parens: java.lang.String = &#1114108;surpíse!&#1114109;\r\n\r\n    scala&gt; val length = length(parens)\r\n    length: Int = 10\r\n\r\n    scala&gt; val codepoints = parens.codePointCount(0, parens.length)\r\n    codepoints: Int = 11\r\n    \r\n    scala&gt; val codeunits = parens.length\r\n    codeunits: Int = 13\r\n\r\n\r\nThis should do the job in most cases.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html","title":"How to correctly compute the length of a String in Java?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/text/BreakIterator.html\"><code>java.text.BreakIterator</code></a> is able to iterate over text and can report on \"character\", word, sentence and line boundaries.</p>\n\n<p>Consider this code:</p>\n\n<pre><code>def length(text: String, locale: java.util.Locale = java.util.Locale.ENGLISH) = {\n  val charIterator = java.text.BreakIterator.getCharacterInstance(locale)\n  charIterator.setText(text)\n\n  var result = 0\n  while(charIterator.next() != BreakIterator.DONE) result += 1\n  result\n}\n</code></pre>\n\n<p>Running it:</p>\n\n<pre><code>scala&gt; val text = \"Thîs lóo̰ks we̐ird!\"\ntext: java.lang.String = Thîs lóo̰ks we̐ird!\n\nscala&gt; val length = length(text)\nlength: Int = 17\n\nscala&gt; val codepoints = text.codePointCount(0, text.length)\ncodepoints: Int = 21 \n</code></pre>\n\n<p>With surrogate pairs:</p>\n\n<pre><code>scala&gt; val parens = \"\\uDBFF\\uDFFCsurpi\\u0301se!\\uDBFF\\uDFFD\"\nparens: java.lang.String = 􏿼surpíse!􏿽\n\nscala&gt; val length = length(parens)\nlength: Int = 10\n\nscala&gt; val codepoints = parens.codePointCount(0, parens.length)\ncodepoints: Int = 11\n\nscala&gt; val codeunits = parens.length\ncodeunits: Int = 13\n</code></pre>\n\n<p>This should do the job in most cases.</p>\n"},{"tags":[],"owner":{"account_id":2848990,"reputation":1538,"user_id":2446574,"accept_rate":86,"display_name":"Emily Mabrey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1482540363,"creation_date":1482540363,"answer_id":41309353,"question_id":6828076,"body_markdown":"It depends on exactly what you mean by &quot;length of \\[the\\] String&quot;:\r\n\r\n - [`String.length()`][1] returns the number of [`chars`][2] in the [`String`][3]. This is normally only useful for programming related tasks like allocating buffers because multi-byte encoding can cause problems which means one [`char`][2] doesn&#39;t mean one [Unicode code point][6].\r\n - [`String.codePointCount(int, int)`][4] and [`Character.codePointCount(CharSequence,int,int)`][5] both return the number of Unicode code points in the `String`. This is normally only useful for programming related tasks that require looking at a `String` as a series of Unicode code points without needing to worry about multi-byte encoding interfering.\r\n - [`BreakIterator.getCharacterInstance(Locale)`][7] can be used to get the next [grapheme][8] in a `String` for the given [`Locale`][9]. Using this multiple times can allow you to count the number of graphemes in a `String`. Since graphemes are *basically* letters (in most circumstances) this method is useful for getting the number of writable characters the `String` contains. Essentially this method returns approximately the same number you would get if you manually counted the number of letters in the `String`, making it useful for things like sizing user interfaces and splitting `Strings` without corrupting the data.\r\n\r\nTo give you an idea of how each of the different methods can return different lengths for the exact same data, I created [this class][10] to quickly generate the lengths of the Unicode text contained within [this page](http://www.cl.cam.ac.uk/~mgk25/ucs/examples/quickbrown.txt), which is designed to offer a comprehensive test of many different languages with non-English characters. Here is the results of executing that code after normalizing the input file in three different ways (no normalizing, [NFC][11], [NFD][12]):\r\n\r\n    Input UTF-8 String\r\n    &gt;&gt;\tString.length() = 3431\r\n    &gt;&gt;\tString.codePointCount(int,int) = 3431\r\n    &gt;&gt;\tBreakIterator.getCharacterInstance(Locale) = 3386\r\n    NFC Normalized UTF-8 String\r\n    &gt;&gt;\tString.length() = 3431\r\n    &gt;&gt;\tString.codePointCount(int,int) = 3431\r\n    &gt;&gt;\tBreakIterator.getCharacterInstance(Locale) = 3386\r\n    NFD Normalized UTF-8 String\r\n    &gt;&gt;\tString.length() = 3554\r\n    &gt;&gt;\tString.codePointCount(int,int) = 3554\r\n    &gt;&gt;\tBreakIterator.getCharacterInstance(Locale) = 3386\r\n\r\n\r\nAs you can see, even the &quot;same-looking&quot; `String` could give different results for the length if you use either `String.length()` or `String.codePointCount(int,int)`. \r\n\r\nFor more information on this topic and other similar topics you should read [this blog post][13] that covers a variety of basics on using Java to properly handle Unicode.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#length--\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointCount-int-int-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#codePointCount-java.lang.CharSequence-int-int-\r\n  [6]: https://en.wikipedia.org/wiki/Code_point\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/text/BreakIterator.html#getCharacterInstance-java.util.Locale-\r\n  [8]: https://en.wikipedia.org/wiki/Grapheme\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [10]: http://pastebin.com/cC9Xeifd\r\n  [11]: http://www.unicode.org/reports/tr15/tr15-23.html#Specification\r\n  [12]: http://www.unicode.org/reports/tr15/tr15-23.html#Decomposition\r\n  [13]: http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html","title":"How to correctly compute the length of a String in Java?","body":"<p>It depends on exactly what you mean by \"length of [the] String\":</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#length--\" rel=\"noreferrer\"><code>String.length()</code></a> returns the number of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html\" rel=\"noreferrer\"><code>chars</code></a> in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a>. This is normally only useful for programming related tasks like allocating buffers because multi-byte encoding can cause problems which means one <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html\" rel=\"noreferrer\"><code>char</code></a> doesn't mean one <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">Unicode code point</a>.</li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointCount-int-int-\" rel=\"noreferrer\"><code>String.codePointCount(int, int)</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#codePointCount-java.lang.CharSequence-int-int-\" rel=\"noreferrer\"><code>Character.codePointCount(CharSequence,int,int)</code></a> both return the number of Unicode code points in the <code>String</code>. This is normally only useful for programming related tasks that require looking at a <code>String</code> as a series of Unicode code points without needing to worry about multi-byte encoding interfering.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/BreakIterator.html#getCharacterInstance-java.util.Locale-\" rel=\"noreferrer\"><code>BreakIterator.getCharacterInstance(Locale)</code></a> can be used to get the next <a href=\"https://en.wikipedia.org/wiki/Grapheme\" rel=\"noreferrer\">grapheme</a> in a <code>String</code> for the given <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a>. Using this multiple times can allow you to count the number of graphemes in a <code>String</code>. Since graphemes are <em>basically</em> letters (in most circumstances) this method is useful for getting the number of writable characters the <code>String</code> contains. Essentially this method returns approximately the same number you would get if you manually counted the number of letters in the <code>String</code>, making it useful for things like sizing user interfaces and splitting <code>Strings</code> without corrupting the data.</li>\n</ul>\n\n<p>To give you an idea of how each of the different methods can return different lengths for the exact same data, I created <a href=\"http://pastebin.com/cC9Xeifd\" rel=\"noreferrer\">this class</a> to quickly generate the lengths of the Unicode text contained within <a href=\"http://www.cl.cam.ac.uk/~mgk25/ucs/examples/quickbrown.txt\" rel=\"noreferrer\">this page</a>, which is designed to offer a comprehensive test of many different languages with non-English characters. Here is the results of executing that code after normalizing the input file in three different ways (no normalizing, <a href=\"http://www.unicode.org/reports/tr15/tr15-23.html#Specification\" rel=\"noreferrer\">NFC</a>, <a href=\"http://www.unicode.org/reports/tr15/tr15-23.html#Decomposition\" rel=\"noreferrer\">NFD</a>):</p>\n\n<pre><code>Input UTF-8 String\n&gt;&gt;  String.length() = 3431\n&gt;&gt;  String.codePointCount(int,int) = 3431\n&gt;&gt;  BreakIterator.getCharacterInstance(Locale) = 3386\nNFC Normalized UTF-8 String\n&gt;&gt;  String.length() = 3431\n&gt;&gt;  String.codePointCount(int,int) = 3431\n&gt;&gt;  BreakIterator.getCharacterInstance(Locale) = 3386\nNFD Normalized UTF-8 String\n&gt;&gt;  String.length() = 3554\n&gt;&gt;  String.codePointCount(int,int) = 3554\n&gt;&gt;  BreakIterator.getCharacterInstance(Locale) = 3386\n</code></pre>\n\n<p>As you can see, even the \"same-looking\" <code>String</code> could give different results for the length if you use either <code>String.length()</code> or <code>String.codePointCount(int,int)</code>. </p>\n\n<p>For more information on this topic and other similar topics you should read <a href=\"http://illegalargumentexception.blogspot.com/2009/05/java-rough-guide-to-character-encoding.html\" rel=\"noreferrer\">this blog post</a> that covers a variety of basics on using Java to properly handle Unicode.</p>\n"},{"tags":[],"owner":{"account_id":6384493,"reputation":127,"user_id":9093167,"display_name":"Llu&#237;s Turr&#243; Cutiller"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1637678138,"creation_date":1637678138,"answer_id":70082751,"question_id":6828076,"body_markdown":".indexOf() method gives a hint:\r\n\r\n    int length = (yourString + &quot;whatever&quot;).indexOf(&quot;whatever&quot;);","title":"How to correctly compute the length of a String in Java?","body":"<p>.indexOf() method gives a hint:</p>\n<pre><code>int length = (yourString + &quot;whatever&quot;).indexOf(&quot;whatever&quot;);\n</code></pre>\n"}],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50114,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"accepted_answer_id":6846155,"answer_count":5,"score":22,"last_activity_date":1637678138,"creation_date":1311673145,"question_id":6828076,"body_markdown":"I know there is `String#length` and the various methods in `Character` which more or less work on code units/code points.\r\n\r\nWhat is the suggested way in Java to actually return the result as specified by Unicode standards ([UAX#29][1]), taking things like language/locale, normalization and grapheme clusters into account?\r\n\r\n  [1]: http://www.unicode.org/reports/tr29/","title":"How to correctly compute the length of a String in Java?","body":"<p>I know there is <code>String#length</code> and the various methods in <code>Character</code> which more or less work on code units/code points.</p>\n\n<p>What is the suggested way in Java to actually return the result as specified by Unicode standards (<a href=\"http://www.unicode.org/reports/tr29/\">UAX#29</a>), taking things like language/locale, normalization and grapheme clusters into account?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3180842,"reputation":1675,"user_id":2687589,"accept_rate":83,"display_name":"Brandon McKenzie"},"score":2,"creation_date":1489512392,"post_id":42792375,"comment_id":72699822,"body_markdown":"What is the expected output of the test case?   What actually happens?  I see your failed test case, and your explanation of the problem is really thorough, but you didn&#39;t actually indicate what the expectation of the test or what the failure was.","body":"What is the expected output of the test case?   What actually happens?  I see your failed test case, and your explanation of the problem is really thorough, but you didn&#39;t actually indicate what the expectation of the test or what the failure was."},{"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"score":0,"creation_date":1489512602,"post_id":42792375,"comment_id":72699967,"body_markdown":"@BrandonMcKenzie I don&#39;t know what the expected output of the test case is. I&#39;m technically not even supposed to know what the input for the test case is, but I was able to figure that out by brute force. When I run the test case through my code, it gives me 31694. My guess as to what the error is - is that I&#39;m not accounting for some type of edge case which would lower that number.","body":"@BrandonMcKenzie I don&#39;t know what the expected output of the test case is. I&#39;m technically not even supposed to know what the input for the test case is, but I was able to figure that out by brute force. When I run the test case through my code, it gives me 31694. My guess as to what the error is - is that I&#39;m not accounting for some type of edge case which would lower that number."},{"owner":{"account_id":8369188,"reputation":2865,"user_id":6284825,"display_name":"Abhilekh Singh"},"score":0,"creation_date":1489824186,"post_id":42792375,"comment_id":72849003,"body_markdown":"How did you get the value of parallel dimension&#39;s X and Y? What&#39;s the approach you are taking to solve this. Not very clear from the solution.","body":"How did you get the value of parallel dimension&#39;s X and Y? What&#39;s the approach you are taking to solve this. Not very clear from the solution."},{"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"score":0,"creation_date":1489849474,"post_id":42792375,"comment_id":72855992,"body_markdown":"@AbhilekhSingh To get the dimensions, I&#39;m dividing the maximum laser distance by the dimensions of the room to see how many possible parallel rooms I need to check (add one to include the first room). The approach that I&#39;m taking is to reflect the badguy&#39;s position in these parallel rooms and see if it&#39;s possible to hit that badguy (because reflecting the badguy&#39;s position is essentially unfolding the laser bounces). I&#39;m also trying to see if the laser would hit the source before the badguy (which would be bad), but I&#39;m not confident that I have that part correct yet.","body":"@AbhilekhSingh To get the dimensions, I&#39;m dividing the maximum laser distance by the dimensions of the room to see how many possible parallel rooms I need to check (add one to include the first room). The approach that I&#39;m taking is to reflect the badguy&#39;s position in these parallel rooms and see if it&#39;s possible to hit that badguy (because reflecting the badguy&#39;s position is essentially unfolding the laser bounces). I&#39;m also trying to see if the laser would hit the source before the badguy (which would be bad), but I&#39;m not confident that I have that part correct yet."},{"owner":{"account_id":2389294,"reputation":1155,"user_id":2089491,"accept_rate":75,"display_name":"serhii"},"score":0,"creation_date":1490227611,"post_id":42792375,"comment_id":73023831,"body_markdown":"have you finally got all test accepted?","body":"have you finally got all test accepted?"},{"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"score":0,"creation_date":1490240550,"post_id":42792375,"comment_id":73027386,"body_markdown":"@serhii Yes, I did finally find a solution that passed all of the test cases.","body":"@serhii Yes, I did finally find a solution that passed all of the test cases."},{"owner":{"account_id":307874,"reputation":538,"user_id":619420,"accept_rate":81,"display_name":"Lunayo"},"score":0,"creation_date":1491836065,"post_id":42792375,"comment_id":73717223,"body_markdown":"@Avix Do you mind sharing some insight on the reason of failing test case 10? I have the same problem","body":"@Avix Do you mind sharing some insight on the reason of failing test case 10? I have the same problem"},{"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"score":0,"creation_date":1491850215,"post_id":42792375,"comment_id":73725768,"body_markdown":"@Lunayo Ensure that you have a working solution for tests 1 through 9 first. Once you pass all of those tests, test 10 requires that you take some new things into consideration. What if your laser hits you (the source) before it hits the bad guy? What if your solution provides duplicate directions -&gt; (If you think about mirroring the guard, what would happen if the laser hits a mirrored guard before it hits the mirrored guard that you are checking?)","body":"@Lunayo Ensure that you have a working solution for tests 1 through 9 first. Once you pass all of those tests, test 10 requires that you take some new things into consideration. What if your laser hits you (the source) before it hits the bad guy? What if your solution provides duplicate directions -&gt; (If you think about mirroring the guard, what would happen if the laser hits a mirrored guard before it hits the mirrored guard that you are checking?)"},{"owner":{"account_id":307874,"reputation":538,"user_id":619420,"accept_rate":81,"display_name":"Lunayo"},"score":0,"creation_date":1491887375,"post_id":42792375,"comment_id":73738052,"body_markdown":"@Avix yep I have considered and validated all these cases, but it still fails on test case 10.. :(. For the failing test cases you posted above I got the result 30895. Is it huge difference between your accepted solution?","body":"@Avix yep I have considered and validated all these cases, but it still fails on test case 10.. :(. For the failing test cases you posted above I got the result 30895. Is it huge difference between your accepted solution?"},{"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"score":0,"creation_date":1491923789,"post_id":42792375,"comment_id":73763001,"body_markdown":"@Lunayo I can&#39;t tell you what the answer to test case 10 is, but I can tell you that you are close. Keep checking your code for possible errors. In the end, I didn&#39;t evaluate corner points. Perhaps try removing that code?","body":"@Lunayo I can&#39;t tell you what the answer to test case 10 is, but I can tell you that you are close. Keep checking your code for possible errors. In the end, I didn&#39;t evaluate corner points. Perhaps try removing that code?"},{"owner":{"account_id":307874,"reputation":538,"user_id":619420,"accept_rate":81,"display_name":"Lunayo"},"score":0,"creation_date":1491932032,"post_id":42792375,"comment_id":73768428,"body_markdown":"@Avix I found the issue on my code, I missed some of the reversed sink points. Thanks for your help.","body":"@Avix I found the issue on my code, I missed some of the reversed sink points. Thanks for your help."},{"owner":{"account_id":9134864,"reputation":132,"user_id":6794920,"display_name":"Pavisa"},"score":0,"creation_date":1585163521,"post_id":42792375,"comment_id":107670125,"body_markdown":"There&#39;s one thing I&#39;d like to point out here. \nIn my implementation, I made divisions to calculate the unit vector. While checking if that unit vector already exists in a dictionary there was an error on the last decimal digit which made equality return false.","body":"There&#39;s one thing I&#39;d like to point out here.  In my implementation, I made divisions to calculate the unit vector. While checking if that unit vector already exists in a dictionary there was an error on the last decimal digit which made equality return false."},{"owner":{"account_id":22093523,"reputation":94,"user_id":16351223,"display_name":"KSP"},"score":0,"creation_date":1626153833,"post_id":42792375,"comment_id":120809750,"body_markdown":"@Avix I was wondering if you could provide some insight on the code you&#39;ve given here. I&#39;m not sure I understand it","body":"@Avix I was wondering if you could provide some insight on the code you&#39;ve given here. I&#39;m not sure I understand it"}],"answers":[{"tags":[],"owner":{"account_id":10079265,"reputation":144,"user_id":7450210,"accept_rate":100,"display_name":"MWaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1489613607,"creation_date":1489613607,"answer_id":42821089,"question_id":42792375,"body_markdown":"    int[] dimensions = new int[] {2, 5};\r\n    int[] captain_position = new int [] {1, 2};\r\n    int[] badguy_position = new int[] {1, 4};\r\n    int distance = 11;\r\n\r\nFor this test your code returns 35, and my accepted (from today nonetheless) code returns 27, hope the smaller test can help you discover the bug.","title":"Google Foobar: Bringing a Gun to a Guard Fight","body":"<pre><code>int[] dimensions = new int[] {2, 5};\nint[] captain_position = new int [] {1, 2};\nint[] badguy_position = new int[] {1, 4};\nint distance = 11;\n</code></pre>\n\n<p>For this test your code returns 35, and my accepted (from today nonetheless) code returns 27, hope the smaller test can help you discover the bug.</p>\n"},{"tags":[],"owner":{"account_id":4933098,"reputation":904,"user_id":3972181,"display_name":"not_python"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637678131,"creation_date":1499261794,"answer_id":44927849,"question_id":42792375,"body_markdown":"Here you take some more test cases\r\n\r\n    dimensions = [10,10]\r\n    captain_position = [4, 4]\r\n    badguy_position = [3,3]\r\n    distance = 5000\r\n\r\nI didn&#39;t use java. btw ans = 739323\r\n\r\n    dimensions = [23,10]\r\n    captain_position = [6, 4]\r\n    badguy_position = [3,2]\r\n    distance = 23\r\n\r\n    ans  = 8\r\n\r\nI won&#39;t post code or the logic. Hint: can you see enemy behind shadow? look around yourself","title":"Google Foobar: Bringing a Gun to a Guard Fight","body":"<p>Here you take some more test cases</p>\n<pre><code>dimensions = [10,10]\ncaptain_position = [4, 4]\nbadguy_position = [3,3]\ndistance = 5000\n</code></pre>\n<p>I didn't use java. btw ans = 739323</p>\n<pre><code>dimensions = [23,10]\ncaptain_position = [6, 4]\nbadguy_position = [3,2]\ndistance = 23\n\nans  = 8\n</code></pre>\n<p>I won't post code or the logic. Hint: can you see enemy behind shadow? look around yourself</p>\n"},{"tags":[],"owner":{"account_id":3764644,"reputation":1001,"user_id":3128464,"accept_rate":50,"display_name":"liam923"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506043263,"creation_date":1506043263,"answer_id":46355462,"question_id":42792375,"body_markdown":"The only test I did not pass was Test 10, and I found the error to be in the part of my code that tested if a shot would hit the captain before the bad guy, so start your debugging with that area. To give you a test case, MWaw&#39;s example of \r\n\r\n    int[] dimensions = new int[] {2, 5};\r\n    int[] captain_position = new int [] {1, 2};\r\n    int[] badguy_position = new int[] {1, 4};\r\n    int distance = 11;\r\n\r\ngave me this issue with shot angles (as vectors)\r\n\r\n    [-6, -3]\r\n    [-4, -5]\r\n    [-6, 5]\r\n    [-4, -7]","title":"Google Foobar: Bringing a Gun to a Guard Fight","body":"<p>The only test I did not pass was Test 10, and I found the error to be in the part of my code that tested if a shot would hit the captain before the bad guy, so start your debugging with that area. To give you a test case, MWaw's example of </p>\n\n<pre><code>int[] dimensions = new int[] {2, 5};\nint[] captain_position = new int [] {1, 2};\nint[] badguy_position = new int[] {1, 4};\nint distance = 11;\n</code></pre>\n\n<p>gave me this issue with shot angles (as vectors)</p>\n\n<pre><code>[-6, -3]\n[-4, -5]\n[-6, 5]\n[-4, -7]\n</code></pre>\n"}],"owner":{"account_id":4929460,"reputation":133,"user_id":3969722,"display_name":"Avix"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10852,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":42821089,"answer_count":3,"score":1,"last_activity_date":1637678131,"creation_date":1489511499,"question_id":42792375,"body_markdown":"## My Situation ##\nI&#39;ve been working on this challenge on and off for about 9 days now, and I&#39;m out of ideas. So far my solution passes 9 / 10 of the test cases. My optimized solution runs quickly enough, so the error is the actual solution, not that it runs out of time to compute. I would greatly appreciate it if someone could tell me what I&#39;m missing or if my algorithm doesn&#39;t actually solve the problem given. Also, I realize some bits of my code aren&#39;t perfect - I plan to fix everything up once I have a working solution.\n\n## Problem ##\n\n\nUh-oh - you&#39;ve been cornered by one of Commander Lambdas elite guards! Fortunately, you grabbed a beam weapon from an abandoned guardpost while you were running through the station, so you have a chance to fight your way out. But the beam weapon is potentially dangerous to you as well as to the elite guard: its beams reflect off walls, meaning you&#39;ll have to be very careful where you shoot to avoid bouncing a shot toward yourself!\n\nLuckily, the beams can only travel a certain maximum distance before becoming too weak to cause damage. You also know that if a beam hits a corner, it will bounce back in exactly the same direction. And of course, if the beam hits either you or the guard, it will stop immediately (albeit painfully). \n\nWrite a function answer(dimensions, your_position, guard_position, distance) that gives an array of 2 integers of the width and height of the room, an array of 2 integers of your x and y coordinates in the room, an array of 2 integers of the guard&#39;s x and y coordinates in the room, and returns an integer of the number of distinct directions that you can fire to hit the elite guard, given the maximum distance that the beam can travel.\n\nThe room has integer dimensions [1 &lt; x_dim &lt;= 1000, 1 &lt; y_dim &lt;= 1000]. You and the elite guard are both positioned on the integer lattice at different distinct positions (x, y) inside the room such that [0 &lt; x &lt; x_dim, 0 &lt; y &lt; y_dim]. Finally, the maximum distance that the beam can travel before becoming harmless will be given as an integer 1 &lt; distance &lt;= 10000.\n\nFor example, if you and the elite guard were positioned in a room with dimensions [3, 2], you_position [1, 1], guard_position [2, 1], and a maximum shot distance of 4, you could shoot in seven different directions to hit the elite guard (given as vector bearings from your location): [1, 0], [1, 2], [1, -2], [3, 2], [3, -2], [-3, 2], and [-3, -2]. As specific examples, the shot at bearing [1, 0] is the straight line horizontal shot of distance 1, the shot at bearing [-3, -2] bounces off the left wall and then the bottom wall before hitting the elite guard with a total shot distance of sqrt(13), and the shot at bearing [1, 2] bounces off just the top wall before hitting the elite guard with a total shot distance of sqrt(5).\n\n## My Unfinished Solution (Java) ##\n\n    public class Answer {  \n    \n    public static int answer(int[] dimensions, int[] captain_position, int[] badguy_position, int distance) { \n        \n        int parallelDimensionX = (2 * (distance / dimensions[0])) + 1;\n        int parallelDimensionY = (2 * (distance / dimensions[1])) + 1;  \n        int numDirections = 0;\n        int distanceSquared = (int) Math.pow(distance, 2);      \n        ArrayList&lt;ArrayList&lt;Double&gt;&gt; directions = new ArrayList&lt;ArrayList&lt;Double&gt;&gt;();\n        ArrayList&lt;ArrayList&lt;Double&gt;&gt; sourceDirections = new ArrayList&lt;ArrayList&lt;Double&gt;&gt;();\n        ArrayList&lt;ArrayList&lt;int[]&gt;&gt; sourceTracker = new ArrayList&lt;ArrayList&lt;int[]&gt;&gt;();\n        \n        for(int i = 0; i &lt; 4; i++) {\n            \n            directions.add(new ArrayList&lt;Double&gt;());\n            sourceDirections.add(new ArrayList&lt;Double&gt;());\n            sourceTracker.add(new ArrayList&lt;int[]&gt;());\n        }       \n        \n        ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredPlanes = MirroredPlanes(badguy_position, dimensions, new int[]{parallelDimensionX, parallelDimensionY});\n        ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredSources = MirroredPlanes(captain_position, dimensions, new int[]{parallelDimensionX, parallelDimensionY});\n        \n        for(int i = 0; i &lt; parallelDimensionX; i++) {\n            \n            for(int j = 0; j &lt; parallelDimensionY; j++) {\n                \n                int[] sourcePoint = mirroredSources.get(j).get(i);\n                \n                if(sourcePoint[0] == captain_position[0] &amp;&amp; sourcePoint[1] == captain_position[1]) {\n                    \n                    continue;\n                }\n                \n                int[] vecA = new int[] {sourcePoint[0] - captain_position[0], sourcePoint[1] - captain_position[1]};\n                \n                double direction = Math.atan2(vecA[1], vecA[0]);\n                int quadrant = 0;\n                if(vecA[0] &lt; 0) {\n                    \n                    quadrant++;\n                }\n                if(vecA[1] &lt; 0) {\n                    \n                    quadrant += 2;\n                }\n                \n                if(!sourceDirections.get(quadrant).contains(direction)) {\n                    \n                    sourceDirections.get(quadrant).add(direction);\n                    sourceTracker.get(quadrant).add(new int[]{j, i});\n                } else {\n                    \n                    int sourceIndex = sourceDirections.get(quadrant).indexOf(direction);\n                    \n                    if((sourceTracker.get(quadrant).get(sourceIndex)[0] &lt; j &amp;&amp; j &lt; parallelDimensionY / 2) || (sourceTracker.get(quadrant).get(sourceIndex)[0] &gt; j &amp;&amp; j &gt; parallelDimensionY / 2)) {\n                        \n                        sourceTracker.get(quadrant).get(sourceIndex)[0] = j;\n                    }\n                    \n                    if((sourceTracker.get(quadrant).get(sourceIndex)[1] &lt; i &amp;&amp; i &lt; parallelDimensionX / 2) || (sourceTracker.get(quadrant).get(sourceIndex)[1] &gt; i &amp;&amp; i &gt; parallelDimensionX / 2)) {\n                        \n                        sourceTracker.get(quadrant).get(sourceIndex)[1] = i;\n                    }\n                }\n            }\n        }\n        \n        for(int i = 0; i &lt; parallelDimensionX; i++) {\n            \n            for(int j = 0; j &lt; parallelDimensionY; j++) {\n                \n                int[] currPoint = mirroredPlanes.get(j).get(i);             \n                \n                if(captain_position[0] == badguy_position[0] &amp;&amp; currPoint[0] == captain_position[0] &amp;&amp; currPoint[1] != badguy_position[1]) {\n                    \n                    continue;\n                }\n                \n                if(captain_position[1] == badguy_position[1] &amp;&amp; currPoint[1] == captain_position[1] &amp;&amp; currPoint[0] != badguy_position[0]) {\n                    \n                    continue;\n                }\n                \n                if(Math.pow(currPoint[0] - captain_position[0], 2) + Math.pow(currPoint[1] - captain_position[1], 2) &lt;= distanceSquared) {              \n                    \n                    int [] vecA = new int[] {currPoint[0] - captain_position[0], currPoint[1] - captain_position[1]};\n                    \n                    double direction = Math.atan2(vecA[1], vecA[0]);\n                    int quadrant = 0;\n                    if(vecA[0] &lt; 0) {\n                        \n                        quadrant++;\n                    }\n                    if(vecA[1] &lt; 0) {\n                        \n                        quadrant += 2;\n                    }\n                    \n                    \n                    if(directions.get(quadrant).contains(direction)) {\n                        \n                        continue;\n                    } else {\n                        \n                        directions.get(quadrant).add(direction);\n                    }       \n                    \n                    if(sourceDirections.get(quadrant).contains(direction)) {\n                        \n                        int index = sourceDirections.get(quadrant).indexOf(direction);\n                        \n                        int[] sourceIndex = sourceTracker.get(quadrant).get(index);\n                        int[] sourcePoint = mirroredSources.get(sourceIndex[0]).get(sourceIndex[1]);\n                            \n                        if(Math.pow(sourcePoint[0], 2) + Math.pow(sourcePoint[1], 2) &lt; Math.pow(currPoint[0], 2) + Math.pow(currPoint[1], 2)) {\n                                \n                            continue;\n                        }\n                        \n                    }\n                    \n                    numDirections++;\n                }\n            }\n        }\n        \n        return numDirections;\n    }\n    \n    public static ArrayList&lt;ArrayList&lt;int[]&gt;&gt; MirroredPlanes(int[] startingLocal, int[] planeDimensions, int[]mirrorDimensions) {\n        \n        ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredPlanes = new ArrayList&lt;ArrayList&lt;int[]&gt;&gt;();\n        \n        //int[][int[][]] mirroredPlanes = new int[mirrorDimensions[0]][mirrorDimensions[1]];\n        int middleX = mirrorDimensions[0] / 2;\n        int middleY = mirrorDimensions[1] / 2;\n        \n        for(int i = 0; i &lt; mirrorDimensions[1]; i++) {\n            \n            ArrayList&lt;int[]&gt; curXList = new ArrayList&lt;int[]&gt;(); \n            mirroredPlanes.add(curXList);\n            \n            for(int j = 0; j &lt; mirrorDimensions[0]; j++) {\n                \n                int[] curY = new int[2]; \n                \n                int[] tempLocal = new int[]{startingLocal[0], startingLocal[1]};\n                \n                int modX = j - middleX;\n                int modY = i - middleY;\n                            \n                if(modX % 2 != 0) {\n                    \n                    tempLocal[0] = planeDimensions[0] - startingLocal[0];\n                }\n                \n                curY[0] = tempLocal[0] + (modX * planeDimensions[0]);\n                \n                if(modY % 2 != 0) {\n                    \n                    tempLocal[1] = planeDimensions[1] - startingLocal[1];\n                }\n                \n                curY[1] = tempLocal[1] + (modY * planeDimensions[1]);\n                \n                curXList.add(curY);\n            }\n        }\n        \n        return mirroredPlanes; \n    }\n}\n\n## Things I&#39;ve tried that aren&#39;t currently in the code ##\n\n - Checking to see the if laser hits a corner\n - Checking to see if the laser hits the captain before the guard\n\n## Failed Test Case ##\n\n    int[] dimensions = new int[] {42, 59};\n    int[] captain_position = new int [] {34, 44};\n    int[] badguy_position = new int[] {6, 34};\n    int distance = 5000;\n    //Desired Output: ??? (Unknown)\n    //Actual Output: 31694 (Incorrect)\n","title":"Google Foobar: Bringing a Gun to a Guard Fight","body":"<h2>My Situation</h2>\n<p>I've been working on this challenge on and off for about 9 days now, and I'm out of ideas. So far my solution passes 9 / 10 of the test cases. My optimized solution runs quickly enough, so the error is the actual solution, not that it runs out of time to compute. I would greatly appreciate it if someone could tell me what I'm missing or if my algorithm doesn't actually solve the problem given. Also, I realize some bits of my code aren't perfect - I plan to fix everything up once I have a working solution.</p>\n<h2>Problem</h2>\n<p>Uh-oh - you've been cornered by one of Commander Lambdas elite guards! Fortunately, you grabbed a beam weapon from an abandoned guardpost while you were running through the station, so you have a chance to fight your way out. But the beam weapon is potentially dangerous to you as well as to the elite guard: its beams reflect off walls, meaning you'll have to be very careful where you shoot to avoid bouncing a shot toward yourself!</p>\n<p>Luckily, the beams can only travel a certain maximum distance before becoming too weak to cause damage. You also know that if a beam hits a corner, it will bounce back in exactly the same direction. And of course, if the beam hits either you or the guard, it will stop immediately (albeit painfully).</p>\n<p>Write a function answer(dimensions, your_position, guard_position, distance) that gives an array of 2 integers of the width and height of the room, an array of 2 integers of your x and y coordinates in the room, an array of 2 integers of the guard's x and y coordinates in the room, and returns an integer of the number of distinct directions that you can fire to hit the elite guard, given the maximum distance that the beam can travel.</p>\n<p>The room has integer dimensions [1 &lt; x_dim &lt;= 1000, 1 &lt; y_dim &lt;= 1000]. You and the elite guard are both positioned on the integer lattice at different distinct positions (x, y) inside the room such that [0 &lt; x &lt; x_dim, 0 &lt; y &lt; y_dim]. Finally, the maximum distance that the beam can travel before becoming harmless will be given as an integer 1 &lt; distance &lt;= 10000.</p>\n<p>For example, if you and the elite guard were positioned in a room with dimensions [3, 2], you_position [1, 1], guard_position [2, 1], and a maximum shot distance of 4, you could shoot in seven different directions to hit the elite guard (given as vector bearings from your location): [1, 0], [1, 2], [1, -2], [3, 2], [3, -2], [-3, 2], and [-3, -2]. As specific examples, the shot at bearing [1, 0] is the straight line horizontal shot of distance 1, the shot at bearing [-3, -2] bounces off the left wall and then the bottom wall before hitting the elite guard with a total shot distance of sqrt(13), and the shot at bearing [1, 2] bounces off just the top wall before hitting the elite guard with a total shot distance of sqrt(5).</p>\n<h2>My Unfinished Solution (Java)</h2>\n<pre><code>public class Answer {  \n\npublic static int answer(int[] dimensions, int[] captain_position, int[] badguy_position, int distance) { \n    \n    int parallelDimensionX = (2 * (distance / dimensions[0])) + 1;\n    int parallelDimensionY = (2 * (distance / dimensions[1])) + 1;  \n    int numDirections = 0;\n    int distanceSquared = (int) Math.pow(distance, 2);      \n    ArrayList&lt;ArrayList&lt;Double&gt;&gt; directions = new ArrayList&lt;ArrayList&lt;Double&gt;&gt;();\n    ArrayList&lt;ArrayList&lt;Double&gt;&gt; sourceDirections = new ArrayList&lt;ArrayList&lt;Double&gt;&gt;();\n    ArrayList&lt;ArrayList&lt;int[]&gt;&gt; sourceTracker = new ArrayList&lt;ArrayList&lt;int[]&gt;&gt;();\n    \n    for(int i = 0; i &lt; 4; i++) {\n        \n        directions.add(new ArrayList&lt;Double&gt;());\n        sourceDirections.add(new ArrayList&lt;Double&gt;());\n        sourceTracker.add(new ArrayList&lt;int[]&gt;());\n    }       \n    \n    ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredPlanes = MirroredPlanes(badguy_position, dimensions, new int[]{parallelDimensionX, parallelDimensionY});\n    ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredSources = MirroredPlanes(captain_position, dimensions, new int[]{parallelDimensionX, parallelDimensionY});\n    \n    for(int i = 0; i &lt; parallelDimensionX; i++) {\n        \n        for(int j = 0; j &lt; parallelDimensionY; j++) {\n            \n            int[] sourcePoint = mirroredSources.get(j).get(i);\n            \n            if(sourcePoint[0] == captain_position[0] &amp;&amp; sourcePoint[1] == captain_position[1]) {\n                \n                continue;\n            }\n            \n            int[] vecA = new int[] {sourcePoint[0] - captain_position[0], sourcePoint[1] - captain_position[1]};\n            \n            double direction = Math.atan2(vecA[1], vecA[0]);\n            int quadrant = 0;\n            if(vecA[0] &lt; 0) {\n                \n                quadrant++;\n            }\n            if(vecA[1] &lt; 0) {\n                \n                quadrant += 2;\n            }\n            \n            if(!sourceDirections.get(quadrant).contains(direction)) {\n                \n                sourceDirections.get(quadrant).add(direction);\n                sourceTracker.get(quadrant).add(new int[]{j, i});\n            } else {\n                \n                int sourceIndex = sourceDirections.get(quadrant).indexOf(direction);\n                \n                if((sourceTracker.get(quadrant).get(sourceIndex)[0] &lt; j &amp;&amp; j &lt; parallelDimensionY / 2) || (sourceTracker.get(quadrant).get(sourceIndex)[0] &gt; j &amp;&amp; j &gt; parallelDimensionY / 2)) {\n                    \n                    sourceTracker.get(quadrant).get(sourceIndex)[0] = j;\n                }\n                \n                if((sourceTracker.get(quadrant).get(sourceIndex)[1] &lt; i &amp;&amp; i &lt; parallelDimensionX / 2) || (sourceTracker.get(quadrant).get(sourceIndex)[1] &gt; i &amp;&amp; i &gt; parallelDimensionX / 2)) {\n                    \n                    sourceTracker.get(quadrant).get(sourceIndex)[1] = i;\n                }\n            }\n        }\n    }\n    \n    for(int i = 0; i &lt; parallelDimensionX; i++) {\n        \n        for(int j = 0; j &lt; parallelDimensionY; j++) {\n            \n            int[] currPoint = mirroredPlanes.get(j).get(i);             \n            \n            if(captain_position[0] == badguy_position[0] &amp;&amp; currPoint[0] == captain_position[0] &amp;&amp; currPoint[1] != badguy_position[1]) {\n                \n                continue;\n            }\n            \n            if(captain_position[1] == badguy_position[1] &amp;&amp; currPoint[1] == captain_position[1] &amp;&amp; currPoint[0] != badguy_position[0]) {\n                \n                continue;\n            }\n            \n            if(Math.pow(currPoint[0] - captain_position[0], 2) + Math.pow(currPoint[1] - captain_position[1], 2) &lt;= distanceSquared) {              \n                \n                int [] vecA = new int[] {currPoint[0] - captain_position[0], currPoint[1] - captain_position[1]};\n                \n                double direction = Math.atan2(vecA[1], vecA[0]);\n                int quadrant = 0;\n                if(vecA[0] &lt; 0) {\n                    \n                    quadrant++;\n                }\n                if(vecA[1] &lt; 0) {\n                    \n                    quadrant += 2;\n                }\n                \n                \n                if(directions.get(quadrant).contains(direction)) {\n                    \n                    continue;\n                } else {\n                    \n                    directions.get(quadrant).add(direction);\n                }       \n                \n                if(sourceDirections.get(quadrant).contains(direction)) {\n                    \n                    int index = sourceDirections.get(quadrant).indexOf(direction);\n                    \n                    int[] sourceIndex = sourceTracker.get(quadrant).get(index);\n                    int[] sourcePoint = mirroredSources.get(sourceIndex[0]).get(sourceIndex[1]);\n                        \n                    if(Math.pow(sourcePoint[0], 2) + Math.pow(sourcePoint[1], 2) &lt; Math.pow(currPoint[0], 2) + Math.pow(currPoint[1], 2)) {\n                            \n                        continue;\n                    }\n                    \n                }\n                \n                numDirections++;\n            }\n        }\n    }\n    \n    return numDirections;\n}\n\npublic static ArrayList&lt;ArrayList&lt;int[]&gt;&gt; MirroredPlanes(int[] startingLocal, int[] planeDimensions, int[]mirrorDimensions) {\n    \n    ArrayList&lt;ArrayList&lt;int[]&gt;&gt; mirroredPlanes = new ArrayList&lt;ArrayList&lt;int[]&gt;&gt;();\n    \n    //int[][int[][]] mirroredPlanes = new int[mirrorDimensions[0]][mirrorDimensions[1]];\n    int middleX = mirrorDimensions[0] / 2;\n    int middleY = mirrorDimensions[1] / 2;\n    \n    for(int i = 0; i &lt; mirrorDimensions[1]; i++) {\n        \n        ArrayList&lt;int[]&gt; curXList = new ArrayList&lt;int[]&gt;(); \n        mirroredPlanes.add(curXList);\n        \n        for(int j = 0; j &lt; mirrorDimensions[0]; j++) {\n            \n            int[] curY = new int[2]; \n            \n            int[] tempLocal = new int[]{startingLocal[0], startingLocal[1]};\n            \n            int modX = j - middleX;\n            int modY = i - middleY;\n                        \n            if(modX % 2 != 0) {\n                \n                tempLocal[0] = planeDimensions[0] - startingLocal[0];\n            }\n            \n            curY[0] = tempLocal[0] + (modX * planeDimensions[0]);\n            \n            if(modY % 2 != 0) {\n                \n                tempLocal[1] = planeDimensions[1] - startingLocal[1];\n            }\n            \n            curY[1] = tempLocal[1] + (modY * planeDimensions[1]);\n            \n            curXList.add(curY);\n        }\n    }\n    \n    return mirroredPlanes; \n}\n</code></pre>\n<p>}</p>\n<h2>Things I've tried that aren't currently in the code</h2>\n<ul>\n<li>Checking to see the if laser hits a corner</li>\n<li>Checking to see if the laser hits the captain before the guard</li>\n</ul>\n<h2>Failed Test Case</h2>\n<pre><code>int[] dimensions = new int[] {42, 59};\nint[] captain_position = new int [] {34, 44};\nint[] badguy_position = new int[] {6, 34};\nint distance = 5000;\n//Desired Output: ??? (Unknown)\n//Actual Output: 31694 (Incorrect)\n</code></pre>\n"},{"tags":["java","security","jwt","micronaut"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637678075,"creation_date":1637678075,"answer_id":70082737,"question_id":70014615,"body_markdown":"&gt; I get 401 on both routes.\r\n\r\nFrom [micronaut-projects.github.io/micronaut-security/3.2.0/guide/#gettingStarted][1]...\r\n\r\n&gt; By default Micronaut returns HTTP Status Unauthorized (401) for any\r\n&gt; endpoint invocation. Routes must be explicitly allowed through the\r\n&gt; provided mechanisms.\r\n\r\nQuestion:\r\n\r\n&gt; How can I have routes that do not need the JWT token.\r\n\r\nThere are a number of ways.\r\n\r\nFrom [micronaut-projects.github.io/micronaut-security/3.2.0/guide/#securityRule][2]...\r\n\r\n&gt; The decision to allow access to a particular endpoint to anonymous or\r\n&gt; authenticated users is determined by a collection of Security Rules.\r\n\r\n`@PermitAll` is one way to do it.  Others are documented at the links above.\r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-security/3.2.0/guide/#gettingStarted\r\n  [2]: https://micronaut-projects.github.io/micronaut-security/3.2.0/guide/#securityRule","title":"Micronaut all routes forbidden","body":"<blockquote>\n<p>I get 401 on both routes.</p>\n</blockquote>\n<p>From <a href=\"https://micronaut-projects.github.io/micronaut-security/3.2.0/guide/#gettingStarted\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-security/3.2.0/guide/#gettingStarted</a>...</p>\n<blockquote>\n<p>By default Micronaut returns HTTP Status Unauthorized (401) for any\nendpoint invocation. Routes must be explicitly allowed through the\nprovided mechanisms.</p>\n</blockquote>\n<p>Question:</p>\n<blockquote>\n<p>How can I have routes that do not need the JWT token.</p>\n</blockquote>\n<p>There are a number of ways.</p>\n<p>From <a href=\"https://micronaut-projects.github.io/micronaut-security/3.2.0/guide/#securityRule\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-security/3.2.0/guide/#securityRule</a>...</p>\n<blockquote>\n<p>The decision to allow access to a particular endpoint to anonymous or\nauthenticated users is determined by a collection of Security Rules.</p>\n</blockquote>\n<p><code>@PermitAll</code> is one way to do it.  Others are documented at the links above.</p>\n"}],"owner":{"account_id":1604850,"reputation":533,"user_id":1485138,"accept_rate":100,"display_name":"Tomislav Muic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637678075,"creation_date":1637209991,"question_id":70014615,"body_markdown":"I created an app in Micronaut using JWT tokens for security\r\n\r\n    mn create-app --features=security-jwt,data-jdbc,reactor,graalvm example.micronaut.micronautguide --build=gradle --lang=java\r\n\r\nAnd now all my routes are forbidden. How to exclude certain routes (ie. login) from JWT token checking. I tried both without annotation and with annotation IS_ANONYMOUS\r\n\r\n    package logfetcher;\r\n    \r\n    import io.micronaut.http.MediaType;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.micronaut.http.annotation.Produces;\r\n    import io.micronaut.http.annotation.Produces;\r\n    import io.micronaut.security.annotation.Secured;\r\n    import io.micronaut.security.rules.SecurityRule;\r\n    @Controller(&quot;/log&quot;)\r\n    public class LogFethcerContoller\r\n    \r\n    \r\n    {\r\n        @Get\r\n        @Secured(\r\n                SecurityRule.IS_ANONYMOUS   )\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String index() {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    \r\n        @Get(&quot;log&quot;)\r\n        public String index1() {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nI get 401 on both routes.\r\nHow can I have routes that do not need the JWT token.","title":"Micronaut all routes forbidden","body":"<p>I created an app in Micronaut using JWT tokens for security</p>\n<pre><code>mn create-app --features=security-jwt,data-jdbc,reactor,graalvm example.micronaut.micronautguide --build=gradle --lang=java\n</code></pre>\n<p>And now all my routes are forbidden. How to exclude certain routes (ie. login) from JWT token checking. I tried both without annotation and with annotation IS_ANONYMOUS</p>\n<pre><code>package logfetcher;\n\nimport io.micronaut.http.MediaType;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.annotation.Produces;\nimport io.micronaut.http.annotation.Produces;\nimport io.micronaut.security.annotation.Secured;\nimport io.micronaut.security.rules.SecurityRule;\n@Controller(&quot;/log&quot;)\npublic class LogFethcerContoller\n\n\n{\n    @Get\n    @Secured(\n            SecurityRule.IS_ANONYMOUS   )\n    @Produces(MediaType.TEXT_PLAIN)\n    public String index() {\n        return &quot;Hello World&quot;;\n    }\n\n    @Get(&quot;log&quot;)\n    public String index1() {\n        return &quot;Hello World&quot;;\n    }\n\n}\n</code></pre>\n<p>I get 401 on both routes.\nHow can I have routes that do not need the JWT token.</p>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637669300,"post_id":70079875,"comment_id":123883100,"body_markdown":"*&quot;Using PDFBOX for document Certification With AddValidationInformation&quot;* is a bit vague. Do you by chance mean that after adding a certification signature with *no-changes-permitted* (1) you add validation related information in  an incremental update? In that case you&#39;re running into a well-known bug of Adobe Acrobat. Otherwise please explain more exactly.","body":"<i>&quot;Using PDFBOX for document Certification With AddValidationInformation&quot;</i> is a bit vague. Do you by chance mean that after adding a certification signature with <i>no-changes-permitted</i> (1) you add validation related information in  an incremental update? In that case you&#39;re running into a well-known bug of Adobe Acrobat. Otherwise please explain more exactly."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1637672969,"post_id":70079875,"comment_id":123884563,"body_markdown":"yes, I mean adding certification signature with no-changes-permitted.","body":"yes, I mean adding certification signature with no-changes-permitted."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637675911,"post_id":70079875,"comment_id":123885855,"body_markdown":"*&quot;yes, I mean adding certification signature with no-changes-permitted.&quot;* - ... and you also *add validation related information in an incremental update*?","body":"<i>&quot;yes, I mean adding certification signature with no-changes-permitted.&quot;</i> - ... and you also <i>add validation related information in an incremental update</i>?"},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1637677659,"post_id":70079875,"comment_id":123886631,"body_markdown":"Yes, for LTV. I updated my question with snippet.  signatureInterface implementation is similar to pdfbox example on github. thanks much for  helping me out.","body":"Yes, for LTV. I updated my question with snippet.  signatureInterface implementation is similar to pdfbox example on github. thanks much for  helping me out."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1637679762,"post_id":70079875,"comment_id":123887594,"body_markdown":"The PDFBox issue comment referenced from [this answer](https://stackoverflow.com/a/66422552/1729265) is currently all we have, just Leonard writing that they at Adobe *logged a bug around this and will address it in a future release*.","body":"The PDFBox issue comment referenced from <a href=\"https://stackoverflow.com/a/66422552/1729265\">this answer</a> is currently all we have, just Leonard writing that they at Adobe <i>logged a bug around this and will address it in a future release</i>."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1637683564,"post_id":70079875,"comment_id":123889339,"body_markdown":"Thank you. This helps","body":"Thank you. This helps"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637684378,"post_id":70079875,"comment_id":123889733,"body_markdown":"Ok. I&#39;ll mark your question as a duplicate of that question, ok?","body":"Ok. I&#39;ll mark your question as a duplicate of that question, ok?"},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1637685007,"post_id":70079875,"comment_id":123889996,"body_markdown":"Yes, that will do","body":"Yes, that will do"}],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637691382,"answer_count":0,"score":0,"last_activity_date":1637677853,"creation_date":1637666031,"question_id":70079875,"body_markdown":"Using PDFBOX for document Certification \r\nWith AddValidationInformation and\r\n\r\n   \r\n\r\n     if (accessPermissions == 0)\r\n        {\r\n            SigUtils.setMDPPermission(document, signature, 1);\r\n        }\r\n\r\n*accessPermissions =1 (No changes to the document are permitted)*\r\n\r\n**Certification gets invalidated.**\r\n\r\nAlong with validateSignature() for LTV \r\n\r\n     try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream())\r\n        {\r\n            this.signDetached(signatureInterface,document,byteArrayOutputStream);\r\n            \r\n            Path tempFilePath=this.resize(path);\r\n            Files.write(tempFilePath,byteArrayOutputStream.toByteArray());\r\n\r\n\r\n            AddValidationInformation addOcspInformation = new AddValidationInformation();\r\n            File inFile = new File(tempFilePath.toUri());\r\n            File outFile = new File(path.toUri());\r\n\r\n            addOcspInformation.validateSignature(inFile, outFile);\r\n\r\n            Files.write(path,byteArrayOutputStream.toByteArray());\r\n\r\n        }\r\n\r\nWith AddValidationInformation class same as \r\nhttps://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/AddValidationInformation.java\r\n\r\nPDFBOX version : 2.0.24\r\n\r\nThanks in advance.\r\nCheers!!!\r\n\r\nNote: If available, adobe bug Id would be helpful.","title":"Setting MD 1 with PDFBOX invalidates the Certificate","body":"<p>Using PDFBOX for document Certification\nWith AddValidationInformation and</p>\n<pre><code> if (accessPermissions == 0)\n    {\n        SigUtils.setMDPPermission(document, signature, 1);\n    }\n</code></pre>\n<p><em>accessPermissions =1 (No changes to the document are permitted)</em></p>\n<p><strong>Certification gets invalidated.</strong></p>\n<p>Along with validateSignature() for LTV</p>\n<pre><code> try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream())\n    {\n        this.signDetached(signatureInterface,document,byteArrayOutputStream);\n        \n        Path tempFilePath=this.resize(path);\n        Files.write(tempFilePath,byteArrayOutputStream.toByteArray());\n\n\n        AddValidationInformation addOcspInformation = new AddValidationInformation();\n        File inFile = new File(tempFilePath.toUri());\n        File outFile = new File(path.toUri());\n\n        addOcspInformation.validateSignature(inFile, outFile);\n\n        Files.write(path,byteArrayOutputStream.toByteArray());\n\n    }\n</code></pre>\n<p>With AddValidationInformation class same as\n<a href=\"https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/AddValidationInformation.java\" rel=\"nofollow noreferrer\">https://github.com/apache/pdfbox/blob/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/validation/AddValidationInformation.java</a></p>\n<p>PDFBOX version : 2.0.24</p>\n<p>Thanks in advance.\nCheers!!!</p>\n<p>Note: If available, adobe bug Id would be helpful.</p>\n"},{"tags":["java","ms-access","jdbc","ucanaccess","jackcess"],"comments":[{"owner":{"account_id":9850721,"reputation":31858,"user_id":7296893,"accept_rate":100,"display_name":"Erik A"},"score":1,"creation_date":1543017180,"post_id":53451986,"comment_id":93780574,"body_markdown":"There&#39;s no such thing as a `VARBINARY` in Access. There are OLE objects, but those come in many types, some just containing a file as binary data, others containing specific headers, and others compressing files and putting multiple files in a single row. Unless you specify exactly what you&#39;re trying to import, we likely won&#39;t be able to help you.","body":"There&#39;s no such thing as a <code>VARBINARY</code> in Access. There are OLE objects, but those come in many types, some just containing a file as binary data, others containing specific headers, and others compressing files and putting multiple files in a single row. Unless you specify exactly what you&#39;re trying to import, we likely won&#39;t be able to help you."},{"owner":{"account_id":1897983,"reputation":2764,"user_id":1714490,"accept_rate":67,"display_name":"ZioByte"},"score":0,"creation_date":1543021397,"post_id":53451986,"comment_id":93781182,"body_markdown":"@ErikvonAsmuth: just a few minutes ago I discovered You are absolutely right. I will update Question to reflect my findings and refine question (short summary: those fields contain either images or &quot;formatted text&quot;).","body":"@ErikvonAsmuth: just a few minutes ago I discovered You are absolutely right. I will update Question to reflect my findings and refine question (short summary: those fields contain either images or &quot;formatted text&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":1897983,"reputation":2764,"user_id":1714490,"accept_rate":67,"display_name":"ZioByte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543165711,"creation_date":1543165711,"answer_id":53469848,"question_id":53451986,"body_markdown":"It turns out that, in my specific case, all &quot;OLE&quot; fields are actually BLOBs, unrecognizable as OLE2 objects.\r\n\r\nIn this condition jackcess returns a `Enum OleBlob.ContentType.UNKNOWN` Type and, in this case, it will refuse to access BLOB content (`OleBlob.content.getBytes()` returns `null`).\r\n\r\nIn order to access stored data is necessary to use directly `Column.getBytes(name)` (completely bypassing OLE subsystem).\r\n\r\nWhy, in this condition, `ucanaccess` returns an invalid value, instead of failure, is beyond me (probably I should file a bug report; comments welcome).\r\n\r\nImage data is plain jpeg-formatted file, while the &quot;formatted text&quot; seems some custom serialization of Delphi `TRichText` widget I don&#39;t know how to parse, but that is another issue.\r\n\r\nUsing `jackcess` `Column.getBytes(name)` I was able to retrieve the data I needed.","title":"UCanAccess seems unable to read OLE Object column using getBytes()","body":"<p>It turns out that, in my specific case, all \"OLE\" fields are actually BLOBs, unrecognizable as OLE2 objects.</p>\n\n<p>In this condition jackcess returns a <code>Enum OleBlob.ContentType.UNKNOWN</code> Type and, in this case, it will refuse to access BLOB content (<code>OleBlob.content.getBytes()</code> returns <code>null</code>).</p>\n\n<p>In order to access stored data is necessary to use directly <code>Column.getBytes(name)</code> (completely bypassing OLE subsystem).</p>\n\n<p>Why, in this condition, <code>ucanaccess</code> returns an invalid value, instead of failure, is beyond me (probably I should file a bug report; comments welcome).</p>\n\n<p>Image data is plain jpeg-formatted file, while the \"formatted text\" seems some custom serialization of Delphi <code>TRichText</code> widget I don't know how to parse, but that is another issue.</p>\n\n<p>Using <code>jackcess</code> <code>Column.getBytes(name)</code> I was able to retrieve the data I needed.</p>\n"},{"tags":[],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543248894,"creation_date":1543243157,"answer_id":53483458,"question_id":53451986,"body_markdown":"With UCanAccess you need to use `ResultSet#getBlob`:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String q = &quot;SELECT * FROM PersonImage&quot;;\r\n    ps = conn.prepareStatement(q);\r\n    rs = ps.executeQuery();\r\n    while (rs.next()) {\r\n        java.sql.Blob image = rs.getBlob(&quot;Image&quot;);\r\n        String fn = String.format(&quot;C:/Users/Gord/Pictures/i%05d.%d.jpg&quot;, rs.getInt(&quot;PersonId&quot;), rs.getInt(&quot;Index&quot;));\r\n        try (FileOutputStream fos = new FileOutputStream(fn)) {\r\n                fos.write(image.getBytes(1, (int) image.length()));\r\n        } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n        } catch (IOException e) {\r\n                e.printStackTrace();\r\n        }\r\n    }\r\n","title":"UCanAccess seems unable to read OLE Object column using getBytes()","body":"<p>With UCanAccess you need to use <code>ResultSet#getBlob</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String q = \"SELECT * FROM PersonImage\";\nps = conn.prepareStatement(q);\nrs = ps.executeQuery();\nwhile (rs.next()) {\n    java.sql.Blob image = rs.getBlob(\"Image\");\n    String fn = String.format(\"C:/Users/Gord/Pictures/i%05d.%d.jpg\", rs.getInt(\"PersonId\"), rs.getInt(\"Index\"));\n    try (FileOutputStream fos = new FileOutputStream(fn)) {\n            fos.write(image.getBytes(1, (int) image.length()));\n    } catch (FileNotFoundException e) {\n            e.printStackTrace();\n    } catch (IOException e) {\n            e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1720024,"reputation":2017,"user_id":1576196,"accept_rate":89,"display_name":"Balazs Gunics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637677729,"creation_date":1637677729,"answer_id":70082664,"question_id":53451986,"body_markdown":"We were able to access the content using UCanaccess + accdb file type:\r\n\r\n    String columnLabel = &quot;FIELD1&quot;; \r\n    Object obj = rs.getObject(2);\r\n    net.ucanaccess.complex.Attachment[] attachments = (net.ucanaccess.complex.Attachment[])obj;\r\n    net.ucanaccess.complex.Attachment att = attachments[0];\r\n    System.err.println(&quot;Attachment Name: &quot; + att.getName());\r\n    byte[] bytea = att.getData();\r\n\r\nAs you can see the attachments is an array and it can hold more than 1 attachment.\r\n ","title":"UCanAccess seems unable to read OLE Object column using getBytes()","body":"<p>We were able to access the content using UCanaccess + accdb file type:</p>\n<pre><code>String columnLabel = &quot;FIELD1&quot;; \nObject obj = rs.getObject(2);\nnet.ucanaccess.complex.Attachment[] attachments = (net.ucanaccess.complex.Attachment[])obj;\nnet.ucanaccess.complex.Attachment att = attachments[0];\nSystem.err.println(&quot;Attachment Name: &quot; + att.getName());\nbyte[] bytea = att.getData();\n</code></pre>\n<p>As you can see the attachments is an array and it can hold more than 1 attachment.</p>\n"}],"owner":{"account_id":1897983,"reputation":2764,"user_id":1714490,"accept_rate":67,"display_name":"ZioByte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53469848,"answer_count":3,"score":2,"last_activity_date":1637677729,"creation_date":1543000895,"question_id":53451986,"body_markdown":"I have a quite large `.mdb` access database I want to convert to SQLite3 to use it under Linux.\r\n\r\nI am unable to transfer any of the `BLOB`s (mostly containing images) I have.\r\nHere is a sample test program:\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class prova {\r\n            public static void main(String[] args) {\r\n                    String url = &quot;jdbc:ucanaccess://data/BookDB-201810.mdb&quot;;\r\n                    try {\r\n                            Connection c = DriverManager.getConnection(url);\r\n                            PreparedStatement ps;\r\n                            ResultSet rs;\r\n                            String q = &quot;SELECT * FROM PersonImage&quot;;\r\n                            ps = c.prepareStatement(q);\r\n                            rs = ps.executeQuery();\r\n                            while (rs.next()) {\r\n                                    byte[] i = rs.getBytes(&quot;Image&quot;);\r\n                                    String fn = String.format(&quot;data/img/i%05d.%d.jpg&quot;, rs.getInt(&quot;PersonId&quot;), rs.getInt(&quot;Index&quot;));\r\n                                    try (FileOutputStream fos = new FileOutputStream(fn)) {\r\n                                            fos.write(i);\r\n                                    } catch (FileNotFoundException e) {\r\n                                            e.printStackTrace();\r\n                                    } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                    }\r\n                            }\r\n                    } catch (SQLException e) {\r\n                            e.printStackTrace();\r\n                    }\r\n            }\r\n    }\r\n\r\nProgram runs without errors, but the produced files are &quot;strange&quot; (surely not images):\r\n\r\n    $ ls -l i00072.1.jpg \r\n    -rw-r--r-- 1 mcon mcon 369 Nov 23 11:38 i00072.1.jpg\r\n    $ file i00072.1.jpg \r\n    i00072.1.jpg: Java serialization data, version 5\r\n\r\nLooking int them I find this:\r\n\r\n    ....sr..net.ucanaccess.jdbc.BlobKey...........L.\r\n    columnNamet..Ljava/lang/String;L..keyt..Ljava/util/HashMap;L.   tableNameq.~..xpt..Imagesr..java.util.HashMap......`....F.\r\n    loadFactorI.    thresholdxp?@......w.........t..PersonIDsr..java.lang.Integer.⠤...8...I..valuexr..java.lang.Number...........xp...\r\n    Ht..Indexsr..java.lang.ShorthM7.4`.R...S..valuexq.~.  ..xt..PersonImage\r\n\r\nWhat am I doing wrong?\r\n\r\n**Update:**\r\nSince my aim is to convert a book database (maintained on the net as .mdb using the obsolete program [BookCAT](https://www.fnprg.com/index.html) for historical reasons) I found [AccessConverter](https://github.com/clytras/AccessConverter) which seems to fit the bill; unfortunately there are essentially two problems with that:\r\n\r\n- In my database some columns are named &quot;Index&quot;, which is a reserved word for SQLite (and others, but apparently not for MS-Access); this is trivially fixed inserting a filter &quot;Index&quot; -&gt; &quot;Idx&quot;.\r\n- There is a translation `switch (type) { case xxx: ...` to convert the various MS-Access types to more conventional SQLite3 types; breakpointing on the `default:` label I discovered (as @ErikvonAsmuth correctly guessed) there are unhandled `OLE` types. I have no idea about how to handle those.\r\n\r\nIn the program (BookCAT) those fields contain two kind of data:\r\n\r\n- images\r\n- formatted text\r\n\r\nThe latter is less important because there&#39;s always a duplicate &quot;plaintext&quot; version (it would be nice to retrieve also the formatted version, but...).\r\n\r\nI would really like to be able to extract the images, though.\r\n\r\nIn image data there is a companion &quot;ImageType&quot; column invariably set to &quot;2&quot; which (if I&#39;m not mistaken) means they should be `.jpeg` images.\r\n\r\nWhat can I do to retrieve `OLE` data in a usable format?\r\n\r\n**Note:** `AccessConverter` does not use `ucanaccess`, it uses directly the underlying `com.healthmarketscience.jackcess` lib instead.\r\n\r\n**Note2:** it seems `BookCAT` is built using Delphi, if that is relevant.","title":"UCanAccess seems unable to read OLE Object column using getBytes()","body":"<p>I have a quite large <code>.mdb</code> access database I want to convert to SQLite3 to use it under Linux.</p>\n\n<p>I am unable to transfer any of the <code>BLOB</code>s (mostly containing images) I have.\nHere is a sample test program:</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class prova {\n        public static void main(String[] args) {\n                String url = \"jdbc:ucanaccess://data/BookDB-201810.mdb\";\n                try {\n                        Connection c = DriverManager.getConnection(url);\n                        PreparedStatement ps;\n                        ResultSet rs;\n                        String q = \"SELECT * FROM PersonImage\";\n                        ps = c.prepareStatement(q);\n                        rs = ps.executeQuery();\n                        while (rs.next()) {\n                                byte[] i = rs.getBytes(\"Image\");\n                                String fn = String.format(\"data/img/i%05d.%d.jpg\", rs.getInt(\"PersonId\"), rs.getInt(\"Index\"));\n                                try (FileOutputStream fos = new FileOutputStream(fn)) {\n                                        fos.write(i);\n                                } catch (FileNotFoundException e) {\n                                        e.printStackTrace();\n                                } catch (IOException e) {\n                                        e.printStackTrace();\n                                }\n                        }\n                } catch (SQLException e) {\n                        e.printStackTrace();\n                }\n        }\n}\n</code></pre>\n\n<p>Program runs without errors, but the produced files are \"strange\" (surely not images):</p>\n\n<pre><code>$ ls -l i00072.1.jpg \n-rw-r--r-- 1 mcon mcon 369 Nov 23 11:38 i00072.1.jpg\n$ file i00072.1.jpg \ni00072.1.jpg: Java serialization data, version 5\n</code></pre>\n\n<p>Looking int them I find this:</p>\n\n<pre><code>....sr..net.ucanaccess.jdbc.BlobKey...........L.\ncolumnNamet..Ljava/lang/String;L..keyt..Ljava/util/HashMap;L.   tableNameq.~..xpt..Imagesr..java.util.HashMap......`....F.\nloadFactorI.    thresholdxp?@......w.........t..PersonIDsr..java.lang.Integer.⠤...8...I..valuexr..java.lang.Number...........xp...\nHt..Indexsr..java.lang.ShorthM7.4`.R...S..valuexq.~.  ..xt..PersonImage\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>Update:</strong>\nSince my aim is to convert a book database (maintained on the net as .mdb using the obsolete program <a href=\"https://www.fnprg.com/index.html\" rel=\"nofollow noreferrer\">BookCAT</a> for historical reasons) I found <a href=\"https://github.com/clytras/AccessConverter\" rel=\"nofollow noreferrer\">AccessConverter</a> which seems to fit the bill; unfortunately there are essentially two problems with that:</p>\n\n<ul>\n<li>In my database some columns are named \"Index\", which is a reserved word for SQLite (and others, but apparently not for MS-Access); this is trivially fixed inserting a filter \"Index\" -> \"Idx\".</li>\n<li>There is a translation <code>switch (type) { case xxx: ...</code> to convert the various MS-Access types to more conventional SQLite3 types; breakpointing on the <code>default:</code> label I discovered (as @ErikvonAsmuth correctly guessed) there are unhandled <code>OLE</code> types. I have no idea about how to handle those.</li>\n</ul>\n\n<p>In the program (BookCAT) those fields contain two kind of data:</p>\n\n<ul>\n<li>images</li>\n<li>formatted text</li>\n</ul>\n\n<p>The latter is less important because there's always a duplicate \"plaintext\" version (it would be nice to retrieve also the formatted version, but...).</p>\n\n<p>I would really like to be able to extract the images, though.</p>\n\n<p>In image data there is a companion \"ImageType\" column invariably set to \"2\" which (if I'm not mistaken) means they should be <code>.jpeg</code> images.</p>\n\n<p>What can I do to retrieve <code>OLE</code> data in a usable format?</p>\n\n<p><strong>Note:</strong> <code>AccessConverter</code> does not use <code>ucanaccess</code>, it uses directly the underlying <code>com.healthmarketscience.jackcess</code> lib instead.</p>\n\n<p><strong>Note2:</strong> it seems <code>BookCAT</code> is built using Delphi, if that is relevant.</p>\n"},{"tags":["java","2d","game-development","keystroke","game-loop"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637382281,"post_id":70043163,"comment_id":123817825,"body_markdown":"Don&#39;t use `KeyListener`, use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html), it&#39;s generally more reliable an easier to control the focus requirements need to activate them","body":"Don&#39;t use <code>KeyListener</code>, use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>, it&#39;s generally more reliable an easier to control the focus requirements need to activate them"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637382650,"post_id":70043163,"comment_id":123817851,"body_markdown":"If you&#39;re going to use `Thread` as the main game engine, you shouldn&#39;t be using Swing&#39;s painting workflow, but should instead make use of [`BufferStrategy`](https://stackoverflow.com/questions/47603643/breaking-out-of-a-loop-with-key-bindings/47603893#47603893) instead, this will give you full control of the painting process and remove any issues with Swings threading issues.  Alternatively, you could use a Swing `Timer` instead","body":"If you&#39;re going to use <code>Thread</code> as the main game engine, you shouldn&#39;t be using Swing&#39;s painting workflow, but should instead make use of <a href=\"https://stackoverflow.com/questions/47603643/breaking-out-of-a-loop-with-key-bindings/47603893#47603893\"><code>BufferStrategy</code></a> instead, this will give you full control of the painting process and remove any issues with Swings threading issues.  Alternatively, you could use a Swing <code>Timer</code> instead"}],"owner":{"account_id":23398243,"reputation":41,"user_id":17461837,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637677709,"creation_date":1637381284,"question_id":70043163,"body_markdown":"So I have been following a 2D game development tutorial for Java and I am using IntelliJ with java 1.8.0_201 and the program seems to ignore my inputs randomly when running the program. \r\n\r\nLike for example, I can run it once and the inputs will work fine and when I properly terminate the code and then try to test it again it will then ignore my inputs entirely. \r\n\r\nAs far as I can tell this issue began happening when I was first implementing the `KeyHandler.java` but it could have been happening before. I have tried re-writing all of `KeyHandler.java` 3 times and done both delta and the try and catch methods of game loops as well to see if that was the issue and the same problem occurred with both. \r\n\r\nThis program is composed of 3 java files all in the main package within the src folder, the code for these java files is shown below:\r\n\r\nMain.java:\r\n```\r\npackage main;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        JFrame window = new JFrame();\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(true);\r\n        window.setTitle(&quot;2D Game Test&quot;);\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        GamePanel gamePanel = new GamePanel();\r\n        window.add(gamePanel);\r\n        window.pack();\r\n        gamePanel.startGameThread();\r\n    }\r\n}\r\n```\r\n\r\nGamePanel.java:\r\n```\r\npackage main;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GamePanel extends JPanel implements Runnable{\r\n    // SCREEN SETTINGS\r\n    final int originalTileSize = 16; // 16x16 tile\r\n    final int scale = 3;\r\n    final int tileSize = originalTileSize * scale; //48x48 tiles\r\n    final int maxScreenCol = 16;\r\n    final int maxScreenRow = 12;\r\n    final int screenWidth = tileSize * maxScreenCol; //768 pixels\r\n    final int screenHeight = tileSize * maxScreenRow; //576 pixels\r\n\r\n    //FPS\r\n    double FPS = 60.0;\r\n\r\n    KeyHandler keyH = new KeyHandler();\r\n\r\n    Thread gameThread;\r\n\r\n    //Set player&#39;s default position\r\n    int playerX = 100;\r\n    int playerY = 100;\r\n    int playerSpeed = 4;\r\n\r\n    public GamePanel(){\r\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n        this.setBackground(Color.black);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(keyH);\r\n        this.setFocusable(true);\r\n    }\r\n\r\n    public void startGameThread(){\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        double drawInterval = 1000000000/FPS;\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long currentTime;\r\n\r\n        while(gameThread != null){\r\n            //System.out.println(&quot;The game loop is running!&quot;);\r\n            currentTime = System.nanoTime();\r\n            delta += (currentTime - lastTime)/drawInterval;\r\n            lastTime = currentTime;\r\n            if(delta &gt;= 1){\r\n                //1 UPDATE: update info such as character pos\r\n                update();\r\n                //2 DRAW: draw the screen with the updated info\r\n                repaint();\r\n                delta--;\r\n            }\r\n        }\r\n    }\r\n    public void update(){\r\n        if(keyH.upPressed){\r\n            playerY -= playerSpeed;\r\n        }\r\n        else if(keyH.downPressed){\r\n            playerY += playerSpeed;\r\n        }\r\n        else if(keyH.leftPressed){\r\n            playerX -= playerSpeed;\r\n        }\r\n        else if(keyH.rightPressed){\r\n            playerX += playerSpeed;\r\n        }\r\n    }\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D)g;\r\n        g2.setColor(Color.white);\r\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\r\n        g2.dispose();\r\n    }\r\n}\r\n```\r\n\r\nKeyHandler.java:\r\n```\r\npackage main;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class KeyHandler implements KeyListener{\r\n\r\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e){\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e){\r\n        int code = e.getKeyCode();\r\n        if(code == KeyEvent.VK_W){\r\n            upPressed = true;\r\n        }\r\n        if(code == KeyEvent.VK_S){\r\n            downPressed = true;\r\n        }\r\n        if(code == KeyEvent.VK_A){\r\n            leftPressed = true;\r\n        }\r\n        if(code == KeyEvent.VK_D){\r\n            rightPressed = true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e){\r\n        int code = e.getKeyCode();\r\n        if(code == KeyEvent.VK_W){\r\n            upPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_S){\r\n            downPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_A){\r\n            leftPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_D){\r\n            rightPressed = false;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"IntelliJ: When repeatedly running program inputs are sometimes recognized and often ignored","body":"<p>So I have been following a 2D game development tutorial for Java and I am using IntelliJ with java 1.8.0_201 and the program seems to ignore my inputs randomly when running the program.</p>\n<p>Like for example, I can run it once and the inputs will work fine and when I properly terminate the code and then try to test it again it will then ignore my inputs entirely.</p>\n<p>As far as I can tell this issue began happening when I was first implementing the <code>KeyHandler.java</code> but it could have been happening before. I have tried re-writing all of <code>KeyHandler.java</code> 3 times and done both delta and the try and catch methods of game loops as well to see if that was the issue and the same problem occurred with both.</p>\n<p>This program is composed of 3 java files all in the main package within the src folder, the code for these java files is shown below:</p>\n<p>Main.java:</p>\n<pre><code>package main;\n\nimport javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args){\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(true);\n        window.setTitle(&quot;2D Game Test&quot;);\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        GamePanel gamePanel = new GamePanel();\n        window.add(gamePanel);\n        window.pack();\n        gamePanel.startGameThread();\n    }\n}\n</code></pre>\n<p>GamePanel.java:</p>\n<pre><code>package main;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class GamePanel extends JPanel implements Runnable{\n    // SCREEN SETTINGS\n    final int originalTileSize = 16; // 16x16 tile\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale; //48x48 tiles\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol; //768 pixels\n    final int screenHeight = tileSize * maxScreenRow; //576 pixels\n\n    //FPS\n    double FPS = 60.0;\n\n    KeyHandler keyH = new KeyHandler();\n\n    Thread gameThread;\n\n    //Set player's default position\n    int playerX = 100;\n    int playerY = 100;\n    int playerSpeed = 4;\n\n    public GamePanel(){\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(keyH);\n        this.setFocusable(true);\n    }\n\n    public void startGameThread(){\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    @Override\n    public void run() {\n\n        double drawInterval = 1000000000/FPS;\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime;\n\n        while(gameThread != null){\n            //System.out.println(&quot;The game loop is running!&quot;);\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime)/drawInterval;\n            lastTime = currentTime;\n            if(delta &gt;= 1){\n                //1 UPDATE: update info such as character pos\n                update();\n                //2 DRAW: draw the screen with the updated info\n                repaint();\n                delta--;\n            }\n        }\n    }\n    public void update(){\n        if(keyH.upPressed){\n            playerY -= playerSpeed;\n        }\n        else if(keyH.downPressed){\n            playerY += playerSpeed;\n        }\n        else if(keyH.leftPressed){\n            playerX -= playerSpeed;\n        }\n        else if(keyH.rightPressed){\n            playerX += playerSpeed;\n        }\n    }\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n        g2.setColor(Color.white);\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\n        g2.dispose();\n    }\n}\n</code></pre>\n<p>KeyHandler.java:</p>\n<pre><code>package main;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyHandler implements KeyListener{\n\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\n\n    @Override\n    public void keyTyped(KeyEvent e){\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e){\n        int code = e.getKeyCode();\n        if(code == KeyEvent.VK_W){\n            upPressed = true;\n        }\n        if(code == KeyEvent.VK_S){\n            downPressed = true;\n        }\n        if(code == KeyEvent.VK_A){\n            leftPressed = true;\n        }\n        if(code == KeyEvent.VK_D){\n            rightPressed = true;\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e){\n        int code = e.getKeyCode();\n        if(code == KeyEvent.VK_W){\n            upPressed = false;\n        }\n        if(code == KeyEvent.VK_S){\n            downPressed = false;\n        }\n        if(code == KeyEvent.VK_A){\n            leftPressed = false;\n        }\n        if(code == KeyEvent.VK_D){\n            rightPressed = false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","record","spring-autoconfiguration"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637677485,"creation_date":1637670949,"answer_id":70081041,"question_id":70080026,"body_markdown":"Ok I figured it out :)\r\n\r\n&gt; Furthermore, it&#39;s important to emphasize that to use the constructor\r\n&gt; binding, we need to explicitly enable our configuration class either\r\n&gt; with @EnableConfigurationProperties or with\r\n&gt; @ConfigurationPropertiesScan.\r\n\r\n\r\nWorking example below with SpringBoot 2.5.4 and Java 17:\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.properties.ConfigurationPropertiesScan;\r\n    \r\n    @SpringBootApplication\r\n    @ConfigurationPropertiesScan\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.ConstructorBinding;\r\n    \r\n    @ConfigurationProperties(&quot;cache&quot;)\r\n    @ConstructorBinding\r\n    public record ExampleRecordConfig(int validity) {\r\n    }\r\n\r\n\r\n----------\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class ServiceWhichUsesConfig {\r\n    \r\n        @Autowired\r\n        private ExampleRecordConfig exampleRecordConfig;\r\n    \r\n    \r\n        public void justChecking(){\r\n            System.out.println(exampleRecordConfig.validity());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    \r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate ServiceWhichUsesConfig serviceWhichUsesConfig;\r\n    \r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tserviceWhichUsesConfig.justChecking();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n----------\r\n \r\nWhat made it work: `@ConfigurationPropertiesScan`\r\n\r\n\r\n\r\n\r\n=== Edited === \r\n\r\nJust for fun, to answer your question about default values.  You could achieve it in such a way:\r\n\r\nThe cons for this is that you default in code, rather than configuration.\r\n\r\n    @ConfigurationProperties(&quot;cache&quot;)\r\n    @ConstructorBinding\r\n    public record ExampleRecordConfig(Integer validity) {\r\n    \r\n        public Integer validity(){  &lt;-- notice the name..it cant be getValidity()\r\n            if(validity != null)\r\n                return validity;\r\n            return 500;\r\n        }\r\n    }\r\n\r\n\r\nIf you dont have `cache.validity` defined in your properties file at all, then it will return `500`\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\nFor configuration file defaults, you will need to do it in a different way:\r\n\r\n    somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile=5\r\n    server.port=8060\r\n    cache.validity=${somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile:5000000}\r\n\r\nThen it will print `5` because the first `somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInPrope` has a value.\r\n\r\n\r\n----------\r\n\r\n\r\n    server.port=8060\r\n    cache.validity=${somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile:5000000}\r\n\r\nThen it will print `5000000` which is the default, if no `somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInPrope` is defined;\r\n","title":"Java Records are not working with ConfigurationProperties annotation","body":"<p>Ok I figured it out :)</p>\n<blockquote>\n<p>Furthermore, it's important to emphasize that to use the constructor\nbinding, we need to explicitly enable our configuration class either\nwith @EnableConfigurationProperties or with\n@ConfigurationPropertiesScan.</p>\n</blockquote>\n<p>Working example below with SpringBoot 2.5.4 and Java 17:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.ConfigurationPropertiesScan;\n\n@SpringBootApplication\n@ConfigurationPropertiesScan\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.ConstructorBinding;\n\n@ConfigurationProperties(&quot;cache&quot;)\n@ConstructorBinding\npublic record ExampleRecordConfig(int validity) {\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ServiceWhichUsesConfig {\n\n    @Autowired\n    private ExampleRecordConfig exampleRecordConfig;\n\n\n    public void justChecking(){\n        System.out.println(exampleRecordConfig.validity());\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    private ServiceWhichUsesConfig serviceWhichUsesConfig;\n\n    @Test\n    void contextLoads() {\n        serviceWhichUsesConfig.justChecking();\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p>What made it work: <code>@ConfigurationPropertiesScan</code></p>\n<p>=== Edited ===</p>\n<p>Just for fun, to answer your question about default values.  You could achieve it in such a way:</p>\n<p>The cons for this is that you default in code, rather than configuration.</p>\n<pre><code>@ConfigurationProperties(&quot;cache&quot;)\n@ConstructorBinding\npublic record ExampleRecordConfig(Integer validity) {\n\n    public Integer validity(){  &lt;-- notice the name..it cant be getValidity()\n        if(validity != null)\n            return validity;\n        return 500;\n    }\n}\n</code></pre>\n<p>If you dont have <code>cache.validity</code> defined in your properties file at all, then it will return <code>500</code></p>\n<hr />\n<hr />\n<p>For configuration file defaults, you will need to do it in a different way:</p>\n<pre><code>somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile=5\nserver.port=8060\ncache.validity=${somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile:5000000}\n</code></pre>\n<p>Then it will print <code>5</code> because the first <code>somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInPrope</code> has a value.</p>\n<hr />\n<pre><code>server.port=8060\ncache.validity=${somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInProperitiesFile:5000000}\n</code></pre>\n<p>Then it will print <code>5000000</code> which is the default, if no <code>somePropertyEitherFromEnvironmentOrAlreadyDefinedUpInPrope</code> is defined;</p>\n"}],"owner":{"account_id":15839392,"reputation":565,"user_id":13189473,"display_name":"MrNobody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4012,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70081041,"answer_count":1,"score":6,"last_activity_date":1637677565,"creation_date":1637666665,"question_id":70080026,"body_markdown":"I&#39;m using @ConfigurationProperties annotation to auto-config my properties. Before my config class was working fine, but I tried to achieve the same thing with records and just fails.\r\n\r\nI was following this SO answer, but in my case it didn&#39;t work: https://stackoverflow.com/a/68358180/13189473\r\n\r\nIn my ```application.properties``` there is a property which is ```cache.validity=200```.\r\n\r\nThis is the code\r\n```\r\n@Component\r\n@ConfigurationProperties(&quot;cache&quot;)\r\npublic record MyConfig(int validity) {\r\n\r\n    @ConstructorBinding\r\n    public MyConfig(int validity) {\r\n        this.validity= Optional.ofNullable(validity).orElse(0);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to start my application I get the following error:\r\n\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in ...MyConfig required a bean of type &#39;int&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;int&#39; in your configuration.\r\n```\r\n\r\nWhat is the proper way to make this work? Thanks in advance.\r\n\r\n\r\nEdit:\r\nMy pom.xml:\r\n\r\n```        \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring.boot.version&gt;2.5.4&lt;/spring.boot.version&gt;\r\n        &lt;spring.version&gt;5.3.9&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\n\r\nMy application.properties:\r\n\r\n```\r\nserver.port=8060\r\ncache.validity=0\r\n\r\n... (DB Drivers/Security Configs)\r\n```\r\n\r\n","title":"Java Records are not working with ConfigurationProperties annotation","body":"<p>I'm using @ConfigurationProperties annotation to auto-config my properties. Before my config class was working fine, but I tried to achieve the same thing with records and just fails.</p>\n<p>I was following this SO answer, but in my case it didn't work: <a href=\"https://stackoverflow.com/a/68358180/13189473\">https://stackoverflow.com/a/68358180/13189473</a></p>\n<p>In my <code>application.properties</code> there is a property which is <code>cache.validity=200</code>.</p>\n<p>This is the code</p>\n<pre><code>@Component\n@ConfigurationProperties(&quot;cache&quot;)\npublic record MyConfig(int validity) {\n\n    @ConstructorBinding\n    public MyConfig(int validity) {\n        this.validity= Optional.ofNullable(validity).orElse(0);\n    }\n}\n</code></pre>\n<p>When I try to start my application I get the following error:</p>\n<pre><code>Description:\n\nParameter 0 of constructor in ...MyConfig required a bean of type 'int' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'int' in your configuration.\n</code></pre>\n<p>What is the proper way to make this work? Thanks in advance.</p>\n<p>Edit:\nMy pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring.boot.version&gt;2.5.4&lt;/spring.boot.version&gt;\n        &lt;spring.version&gt;5.3.9&lt;/spring.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>server.port=8060\ncache.validity=0\n\n... (DB Drivers/Security Configs)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":1,"creation_date":1460626720,"post_id":36618932,"comment_id":60834513,"body_markdown":"What page number are you requesting?","body":"What page number are you requesting?"},{"owner":{"account_id":6812904,"reputation":355,"user_id":5242493,"accept_rate":38,"display_name":"yeddez"},"score":1,"creation_date":1460626903,"post_id":36618932,"comment_id":60834639,"body_markdown":"I requested page =1 BUT now it&#39;s working fine I tested with page=0!","body":"I requested page =1 BUT now it&#39;s working fine I tested with page=0!"},{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":4,"creation_date":1460627002,"post_id":36618932,"comment_id":60834703,"body_markdown":"The first one should be 0 indeed","body":"The first one should be 0 indeed"},{"owner":{"account_id":6812904,"reputation":355,"user_id":5242493,"accept_rate":38,"display_name":"yeddez"},"score":0,"creation_date":1460627339,"post_id":36618932,"comment_id":60834949,"body_markdown":"Thanks a lot for your help. You&#39;re a life savior","body":"Thanks a lot for your help. You&#39;re a life savior"}],"answers":[{"tags":[],"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1478791357,"creation_date":1478791357,"answer_id":40531127,"question_id":36618932,"body_markdown":"Ensure that your `PageRequest` object is requesting `0` for small sets, not `1`.\r\n\r\nThe pagination begins from `0`.\r\n\r\nThis is a common mistake for beginners and is a common redherring when using `@Query` in conjunction with Spring pagination. If your `@Query` works without pagination and then returns nothing when using it, check the page number.","title":"Spring Data Pageable: Returns empty content","body":"<p>Ensure that your <code>PageRequest</code> object is requesting <code>0</code> for small sets, not <code>1</code>.</p>\n\n<p>The pagination begins from <code>0</code>.</p>\n\n<p>This is a common mistake for beginners and is a common redherring when using <code>@Query</code> in conjunction with Spring pagination. If your <code>@Query</code> works without pagination and then returns nothing when using it, check the page number.</p>\n"},{"tags":[],"owner":{"account_id":11698204,"reputation":31,"user_id":8564229,"display_name":"steven makunzva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637079272,"creation_date":1637078952,"answer_id":69992520,"question_id":36618932,"body_markdown":"I had a similar issue and with mine it was due to the fact that I modify the data after doing a select such that the modified field is the same field I use for searching. This means each time I run the query it will match less and less records so page zero will always have new data, so in that instance using page 0 always will not hurt as new records will always fill page zero. In the other instance I did not modify the search field and my query will match the same records each time I execute my select statement so in this instance requesting the exact page was important.","title":"Spring Data Pageable: Returns empty content","body":"<p>I had a similar issue and with mine it was due to the fact that I modify the data after doing a select such that the modified field is the same field I use for searching. This means each time I run the query it will match less and less records so page zero will always have new data, so in that instance using page 0 always will not hurt as new records will always fill page zero. In the other instance I did not modify the search field and my query will match the same records each time I execute my select statement so in this instance requesting the exact page was important.</p>\n"},{"tags":[],"owner":{"account_id":9111931,"reputation":11,"user_id":6780344,"display_name":"Nina"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1637677307,"creation_date":1637677307,"answer_id":70082565,"question_id":36618932,"body_markdown":"Dharman&#39;s answer helps me find out the reason.\r\nIf you use pagination to get data from DB, and also you update the search field after you retrieve it, then the page info will get messed up.","title":"Spring Data Pageable: Returns empty content","body":"<p>Dharman's answer helps me find out the reason.\nIf you use pagination to get data from DB, and also you update the search field after you retrieve it, then the page info will get messed up.</p>\n"}],"owner":{"account_id":6812904,"reputation":355,"user_id":5242493,"accept_rate":38,"display_name":"yeddez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26554,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1637677307,"creation_date":1460626082,"question_id":36618932,"body_markdown":"I&#39;m new with Spring Data and Spring MVC and I don&#39;t understand why am I getting empty content:\r\n\r\n    @RequestMapping(value=&quot;/pages&quot;, method=RequestMethod.GET)\r\n    @ResponseBody \r\n    public Page&lt;Client&gt; contactsPages(@RequestParam int page, @RequestParam int size) {\r\n    \tPageable pageable = new PageRequest(page, size, new Sort(&quot;id&quot;));\r\n    \tPage&lt;Client&gt; pageResult = clientRepository.findAll(pageable);\r\n\r\n    \treturn pageResult;\r\n    } \r\n\r\nThe result of my json when I test the url is:\r\n\r\n    {&quot;content&quot;:[],&quot;last&quot;:true,&quot;totalElements&quot;:2,&quot;totalPages&quot;:1,&quot;size&quot;:5,&quot;number&quot;:1,&quot;sort&quot;:[{&quot;direction&quot;:&quot;ASC&quot;,&quot;property&quot;:&quot;id&quot;,&quot;ignoreCase&quot;:false,&quot;nullHandling&quot;:&quot;NATIVE&quot;,&quot;ascending&quot;:true}],&quot;first&quot;:false,&quot;numberOfElements&quot;:0}\r\n\r\n\r\nAnd if you have good example making pageable request using Spring Data and Spring MVC and AngularJS; It will be a big help for me.","title":"Spring Data Pageable: Returns empty content","body":"<p>I'm new with Spring Data and Spring MVC and I don't understand why am I getting empty content:</p>\n\n<pre><code>@RequestMapping(value=\"/pages\", method=RequestMethod.GET)\n@ResponseBody \npublic Page&lt;Client&gt; contactsPages(@RequestParam int page, @RequestParam int size) {\n    Pageable pageable = new PageRequest(page, size, new Sort(\"id\"));\n    Page&lt;Client&gt; pageResult = clientRepository.findAll(pageable);\n\n    return pageResult;\n} \n</code></pre>\n\n<p>The result of my json when I test the url is:</p>\n\n<pre><code>{\"content\":[],\"last\":true,\"totalElements\":2,\"totalPages\":1,\"size\":5,\"number\":1,\"sort\":[{\"direction\":\"ASC\",\"property\":\"id\",\"ignoreCase\":false,\"nullHandling\":\"NATIVE\",\"ascending\":true}],\"first\":false,\"numberOfElements\":0}\n</code></pre>\n\n<p>And if you have good example making pageable request using Spring Data and Spring MVC and AngularJS; It will be a big help for me.</p>\n"},{"tags":["java","geoserver","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637676872,"creation_date":1637676872,"answer_id":70082453,"question_id":70081058,"body_markdown":"GeoTools can convert most (many?) `filter` objects to SQL before sending them to a `JDBCDatastore` but it usually depends on which database you are targetting. See, for example, `org.geotools.data.postgis.PostgisFilterToSQL` - you could do something like:\r\n\r\n    Filter filter = EQCL.toFilter(&quot;My filter goes here&quot;);\r\n    FilterToSQL encoder = new PostgisFilterToSQL(new PostGISDialect(null));\r\n    encoder.setInline(true); // don&#39;t adding WHERE\r\n    String sql = encoder.encodeToString(filter);\r\n    ","title":"Converting ECQL from geotools to SQL","body":"<p>GeoTools can convert most (many?) <code>filter</code> objects to SQL before sending them to a <code>JDBCDatastore</code> but it usually depends on which database you are targetting. See, for example, <code>org.geotools.data.postgis.PostgisFilterToSQL</code> - you could do something like:</p>\n<pre><code>Filter filter = EQCL.toFilter(&quot;My filter goes here&quot;);\nFilterToSQL encoder = new PostgisFilterToSQL(new PostGISDialect(null));\nencoder.setInline(true); // don't adding WHERE\nString sql = encoder.encodeToString(filter);\n</code></pre>\n"}],"owner":{"account_id":6043535,"reputation":59,"user_id":5131108,"display_name":"Fiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70082453,"answer_count":1,"score":3,"last_activity_date":1637676872,"creation_date":1637671013,"question_id":70081058,"body_markdown":"Is there a java library for converting ECQL(geotools) to SQL ?\r\n\r\nCQL and ECQL\r\nCQL (Common Query Language) is a query language created by the OGC for the Catalogue Web Services specification.","title":"Converting ECQL from geotools to SQL","body":"<p>Is there a java library for converting ECQL(geotools) to SQL ?</p>\n<p>CQL and ECQL\nCQL (Common Query Language) is a query language created by the OGC for the Catalogue Web Services specification.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1637656516,"post_id":70077581,"comment_id":123878074,"body_markdown":"`bbb.setName(&quot;A&quot;)` doesn&#39;t returns anything but `aaa.setPractice` expects `ArrayList&lt;Practice&gt;` thus the error.","body":"<code>bbb.setName(&quot;A&quot;)</code> doesn&#39;t returns anything but <code>aaa.setPractice</code> expects <code>ArrayList&lt;Practice&gt;</code> thus the error."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1637656518,"post_id":70077581,"comment_id":123878076,"body_markdown":"bbb.setName doesn&#39;t return anything. What exactly are you trying to set? The problem is not your test, it seems rather your lack of understanding of what your code is doing","body":"bbb.setName doesn&#39;t return anything. What exactly are you trying to set? The problem is not your test, it seems rather your lack of understanding of what your code is doing"},{"owner":{"account_id":20897371,"reputation":9,"user_id":15351231,"display_name":"wkddls"},"score":0,"creation_date":1637658921,"post_id":70077581,"comment_id":123878953,"body_markdown":"I want to test setPractice(ArrayList&lt;Practice). What should I put in here instead of bbb.setName()?","body":"I want to test setPractice(ArrayList&lt;Practice). What should I put in here instead of bbb.setName()?"}],"answers":[{"tags":[],"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637658271,"creation_date":1637656868,"answer_id":70077723,"question_id":70077581,"body_markdown":"Problem lies here:\r\n```\r\naaa.setPractice(bbb.setName(&quot;A&quot;));\r\n```\r\n`setPractice()` requires argument of `ArrayList`, but `bbb.setName(&quot;A&quot;)` returns `void`.","title":"How to test setter in JUnit?","body":"<p>Problem lies here:</p>\n<pre><code>aaa.setPractice(bbb.setName(&quot;A&quot;));\n</code></pre>\n<p><code>setPractice()</code> requires argument of <code>ArrayList</code>, but <code>bbb.setName(&quot;A&quot;)</code> returns <code>void</code>.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637675784,"creation_date":1637675784,"answer_id":70082197,"question_id":70077581,"body_markdown":"Unless you have really intricate logic in your getters and setters (which definitely is not the case), Unit Test them are overkill, a waste of time, and a waste of computer resources while performing them.\r\n\r\nFocus on your business logic instead. Focus on the classes with not so simple logic and that is the core of your application. Focus less on achieving 100% test coverage and more on thoroughly testing the main parts of your application.","title":"How to test setter in JUnit?","body":"<p>Unless you have really intricate logic in your getters and setters (which definitely is not the case), Unit Test them are overkill, a waste of time, and a waste of computer resources while performing them.</p>\n<p>Focus on your business logic instead. Focus on the classes with not so simple logic and that is the core of your application. Focus less on achieving 100% test coverage and more on thoroughly testing the main parts of your application.</p>\n"},{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637676466,"creation_date":1637676466,"answer_id":70082355,"question_id":70077581,"body_markdown":"You typically test a setter in combination with testing the corresponding getter.\r\n\r\nSet a value, then get it and see if what you get back is what you put in.\r\n\r\nOf course such a test is so trivial many people simply omit it, but I exist in an environment where a very high test coverage is mandatory (and you never know whether someone makes a typo in a setter after all...) so it&#39;s a good idea to include them (unless of course you have something like Lombok in place that generates getters and setters for you on the fly).","title":"How to test setter in JUnit?","body":"<p>You typically test a setter in combination with testing the corresponding getter.</p>\n<p>Set a value, then get it and see if what you get back is what you put in.</p>\n<p>Of course such a test is so trivial many people simply omit it, but I exist in an environment where a very high test coverage is mandatory (and you never know whether someone makes a typo in a setter after all...) so it's a good idea to include them (unless of course you have something like Lombok in place that generates getters and setters for you on the fly).</p>\n"}],"owner":{"account_id":20897371,"reputation":9,"user_id":15351231,"display_name":"wkddls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1637676466,"creation_date":1637656186,"question_id":70077581,"body_markdown":"I am studying about JUnit test. I want to test getter and setter in JUnit, but it doesn&#39;t work.\r\nThis is the first class.\r\n\r\n    public class Practice {\r\n\tprivate String name;\r\n\r\n\tpublic Practice(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\nand this is the second class.\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class Practice2 {\r\n\tprivate ArrayList&lt;Practice&gt; practice;\r\n\r\n\tpublic Practice2() {\r\n\t\tthis.practice = new ArrayList&lt;Practice&gt;();\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Practice&gt; getPractice() {\r\n\t\treturn this.practice;\r\n\t}\r\n\r\n\tpublic void setPractice(ArrayList&lt;Practice&gt; practice) {\r\n\t\tthis.practice = practice;\r\n\t}\r\n    }\r\n\r\nThe parameter of setPractice is ArrayList&lt;Practice&gt;, so I put object of Practice class in the parameter, but It shows an error.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class testGetterAndSetter {\r\n\r\n\t@Test\r\n\tpublic void testSetter() {\r\n\t\tPractice2 aaa = new Practice2();\r\n\t\tPractice bbb = new Practice(&quot;Hello&quot;);\r\n\t\taaa.setPractice(bbb.setName(&quot;A&quot;));\r\n\t}\r\n    }\r\n\r\nHow do I need to change for testing the setter, and how can I test for this?","title":"How to test setter in JUnit?","body":"<p>I am studying about JUnit test. I want to test getter and setter in JUnit, but it doesn't work.\nThis is the first class.</p>\n<pre><code>public class Practice {\nprivate String name;\n\npublic Practice(String name) {\n    this.name = name;\n}\n\npublic String getName() {\n    return this.name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p>}\nand this is the second class.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Practice2 {\nprivate ArrayList&lt;Practice&gt; practice;\n\npublic Practice2() {\n    this.practice = new ArrayList&lt;Practice&gt;();\n}\n\npublic ArrayList&lt;Practice&gt; getPractice() {\n    return this.practice;\n}\n\npublic void setPractice(ArrayList&lt;Practice&gt; practice) {\n    this.practice = practice;\n}\n}\n</code></pre>\n<p>The parameter of setPractice is ArrayList, so I put object of Practice class in the parameter, but It shows an error.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\npublic class testGetterAndSetter {\n\n@Test\npublic void testSetter() {\n    Practice2 aaa = new Practice2();\n    Practice bbb = new Practice(&quot;Hello&quot;);\n    aaa.setPractice(bbb.setName(&quot;A&quot;));\n}\n}\n</code></pre>\n<p>How do I need to change for testing the setter, and how can I test for this?</p>\n"},{"tags":["java","database","api","rest","microservices"],"answers":[{"tags":[],"owner":{"account_id":14845249,"reputation":140,"user_id":10720730,"display_name":"Danish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637670806,"creation_date":1637670806,"answer_id":70081012,"question_id":70080850,"body_markdown":"Table has the relationships with each other so you don&#39;t need to call two APIs.\r\nWhat I normally practice in the above mentioned case is I call one api i.e. /product and returns the product object and inside the product object  contains brand object as well. \r\nThis approach is also widely used internally by well renowned frameworks like springboot(Java) and Laravel(PHP).\r\n\r\n    {\r\n            &quot;productId&quot;: 1,\r\n            &quot;name&quot;: &quot;Tent&quot;,\r\n            &quot;description&quot;: &quot;This is a tent&quot;,\r\n            &quot;capacity&quot;: 4\r\n             &quot;brand&quot;:{\r\n               &quot;id&quot;:1,\r\n               &quot;name&quot;:&quot;brandName&quot;\r\n            }\r\n    }","title":"API Design: Making data human readable vs forcing more API calls","body":"<p>Table has the relationships with each other so you don't need to call two APIs.\nWhat I normally practice in the above mentioned case is I call one api i.e. /product and returns the product object and inside the product object  contains brand object as well.\nThis approach is also widely used internally by well renowned frameworks like springboot(Java) and Laravel(PHP).</p>\n<pre><code>{\n        &quot;productId&quot;: 1,\n        &quot;name&quot;: &quot;Tent&quot;,\n        &quot;description&quot;: &quot;This is a tent&quot;,\n        &quot;capacity&quot;: 4\n         &quot;brand&quot;:{\n           &quot;id&quot;:1,\n           &quot;name&quot;:&quot;brandName&quot;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637672207,"creation_date":1637672207,"answer_id":70081321,"question_id":70080850,"body_markdown":"&gt; I am confronted by this situation quite regularly and I&#39;m wondering what best practice is for a RESTful API. Any opinions very welcome.\r\n\r\nHeuristic: how would you do it on the web?\r\n\r\nWith web pages, it is common to have one page that combines all of the information that you need, even though that data is distributed across multiple tables.\r\n\r\nThe spelling of the URI normally comes not from the tables, but instead by thinking about what the name of this report is, and choosing an identifier that has similar semantics while remaining consistent with your local spelling conventions.\r\n\r\nHere, it looks like we&#39;ve got some form of &quot;product catalog&quot; or &quot;stock list&quot;, so that concept would likely be what we are expressing in the URI.\r\n\r\n(Note: part of the point of a REST API is that it acts as a facade, hiding the underlying implementation details.  You should not feel obligated to expose your table names in your identifiers.)\r\n\r\n","title":"API Design: Making data human readable vs forcing more API calls","body":"<blockquote>\n<p>I am confronted by this situation quite regularly and I'm wondering what best practice is for a RESTful API. Any opinions very welcome.</p>\n</blockquote>\n<p>Heuristic: how would you do it on the web?</p>\n<p>With web pages, it is common to have one page that combines all of the information that you need, even though that data is distributed across multiple tables.</p>\n<p>The spelling of the URI normally comes not from the tables, but instead by thinking about what the name of this report is, and choosing an identifier that has similar semantics while remaining consistent with your local spelling conventions.</p>\n<p>Here, it looks like we've got some form of &quot;product catalog&quot; or &quot;stock list&quot;, so that concept would likely be what we are expressing in the URI.</p>\n<p>(Note: part of the point of a REST API is that it acts as a facade, hiding the underlying implementation details.  You should not feel obligated to expose your table names in your identifiers.)</p>\n"},{"tags":[],"owner":{"account_id":18141415,"reputation":11,"user_id":13195240,"display_name":"kdritsas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637674618,"creation_date":1637674618,"answer_id":70081897,"question_id":70080850,"body_markdown":"Starting from the DB layer, you could use a *Read-Only View* for reading data. This view could combine fields spanned across different tables (like that foreign key relationship in the example).\r\n\r\nAlso, as already mentioned, your response could include the objects the entity you query refers to.\r\n\r\nAt the end of the day, almost no one consumes data straight from an API; usually, there&#39;s some front-end infrastructure in between. As such you need to strike a balance between having a lean enough response payload whilst trying to make the client make as few requests as possible.\r\n\r\nPS: This [Stack Exchange thread][1] may be relevant.\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/274340/many-small-requests-vs-few-large-requests-api-design","title":"API Design: Making data human readable vs forcing more API calls","body":"<p>Starting from the DB layer, you could use a <em>Read-Only View</em> for reading data. This view could combine fields spanned across different tables (like that foreign key relationship in the example).</p>\n<p>Also, as already mentioned, your response could include the objects the entity you query refers to.</p>\n<p>At the end of the day, almost no one consumes data straight from an API; usually, there's some front-end infrastructure in between. As such you need to strike a balance between having a lean enough response payload whilst trying to make the client make as few requests as possible.</p>\n<p>PS: This <a href=\"https://softwareengineering.stackexchange.com/questions/274340/many-small-requests-vs-few-large-requests-api-design\">Stack Exchange thread</a> may be relevant.</p>\n"},{"tags":[],"owner":{"account_id":312557,"reputation":29237,"user_id":626692,"display_name":"Neville Kuyt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637676441,"creation_date":1637676441,"answer_id":70082349,"question_id":70080850,"body_markdown":"The best answer I can give is &quot;let the client specify what data it wants&quot;, e.g. by using [GraphQL][1].\r\n\r\nThe problem is similar to the challenges ORM frameworks face - do I load the entire dependency graph (e.g. &quot;brand&quot; belongs to a category and a category has a manager and a manager has a department and a department has a...).\r\n\r\nGraphQL changes this dynamic - it lets the API client specify which data it wants.\r\n\r\nAlternatives are &quot;load one level of dependency&quot; (similar to [Danish&#39;s answer][2]), though that very quickly means a client has to build an understanding of your database schema - which creates tight coupling between client and API server.\r\n\r\n\r\n  [1]: https://graphql.org/\r\n  [2]: https://stackoverflow.com/a/70081012/626692","title":"API Design: Making data human readable vs forcing more API calls","body":"<p>The best answer I can give is &quot;let the client specify what data it wants&quot;, e.g. by using <a href=\"https://graphql.org/\" rel=\"nofollow noreferrer\">GraphQL</a>.</p>\n<p>The problem is similar to the challenges ORM frameworks face - do I load the entire dependency graph (e.g. &quot;brand&quot; belongs to a category and a category has a manager and a manager has a department and a department has a...).</p>\n<p>GraphQL changes this dynamic - it lets the API client specify which data it wants.</p>\n<p>Alternatives are &quot;load one level of dependency&quot; (similar to <a href=\"https://stackoverflow.com/a/70081012/626692\">Danish's answer</a>), though that very quickly means a client has to build an understanding of your database schema - which creates tight coupling between client and API server.</p>\n"}],"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637773035,"answer_count":4,"score":0,"last_activity_date":1637676441,"creation_date":1637670199,"question_id":70080850,"body_markdown":"Let&#39;s say we have a `Product` table in our database. This represents products that exist:\r\n\r\n| productId | brandId (FK) | name | description | capacity | pricePerNight |\r\n| -------- | -------------- | -------------- | -------------- | -------------- | -------------- |\r\n| 1    | 2       | Tent            | This is a tent            | 4            | 20            |\r\n\r\nLet&#39;s say we also have a `Brand` table in our database. This represents brands and is linked to the `Product` table via an FK:\r\n\r\n| id | name \r\n| -------- | -------- | \r\n| 1 | Vango | \r\n| 2 | Quechua | \r\n\r\nNow let&#39;s say I was making a public API which allows clients to query all products. I want the client to (conveniently) be able to see the name of the brand for each product.\r\n\r\nMy options are: (a) When they `GET /product` return an edited version of the `Product` object with a new human-readable field (`brand`) in addition to/in replacement of the FK:\r\n\r\n    {\r\n            &quot;productId&quot;: 1,\r\n            &quot;brand&quot;: &quot;Quechua&quot;,\r\n            &quot;name&quot;: &quot;Tent&quot;,\r\n            &quot;description&quot;: &quot;This is a tent&quot;,\r\n            &quot;capacity&quot;: 4,\r\n    }\r\n\r\n(b) Return the `Product` object as it exists in the database, thus compelling clients to make two calls if they want to access the brand name (e.g. one call to `GET /product` and one to `GET /brand`):\r\n\r\n    {\r\n            &quot;productId&quot;: 1,\r\n            &quot;brandId&quot;: 2,\r\n            &quot;name&quot;: &quot;Tent&quot;,\r\n            &quot;description&quot;: &quot;This is a tent&quot;,\r\n            &quot;capacity&quot;: 4,\r\n    }\r\n\r\n\r\nI am confronted by this situation quite regularly and I&#39;m wondering what best practice is for a RESTful API. Any opinions very welcome.\r\n\r\nEDIT: IRL I am building a public API which needs to be as intuitive and easy to use as possible for our company&#39;s integrating partners.\r\n","title":"API Design: Making data human readable vs forcing more API calls","body":"<p>Let's say we have a <code>Product</code> table in our database. This represents products that exist:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>productId</th>\n<th>brandId (FK)</th>\n<th>name</th>\n<th>description</th>\n<th>capacity</th>\n<th>pricePerNight</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>Tent</td>\n<td>This is a tent</td>\n<td>4</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Let's say we also have a <code>Brand</code> table in our database. This represents brands and is linked to the <code>Product</code> table via an FK:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Vango</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Quechua</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now let's say I was making a public API which allows clients to query all products. I want the client to (conveniently) be able to see the name of the brand for each product.</p>\n<p>My options are: (a) When they <code>GET /product</code> return an edited version of the <code>Product</code> object with a new human-readable field (<code>brand</code>) in addition to/in replacement of the FK:</p>\n<pre><code>{\n        &quot;productId&quot;: 1,\n        &quot;brand&quot;: &quot;Quechua&quot;,\n        &quot;name&quot;: &quot;Tent&quot;,\n        &quot;description&quot;: &quot;This is a tent&quot;,\n        &quot;capacity&quot;: 4,\n}\n</code></pre>\n<p>(b) Return the <code>Product</code> object as it exists in the database, thus compelling clients to make two calls if they want to access the brand name (e.g. one call to <code>GET /product</code> and one to <code>GET /brand</code>):</p>\n<pre><code>{\n        &quot;productId&quot;: 1,\n        &quot;brandId&quot;: 2,\n        &quot;name&quot;: &quot;Tent&quot;,\n        &quot;description&quot;: &quot;This is a tent&quot;,\n        &quot;capacity&quot;: 4,\n}\n</code></pre>\n<p>I am confronted by this situation quite regularly and I'm wondering what best practice is for a RESTful API. Any opinions very welcome.</p>\n<p>EDIT: IRL I am building a public API which needs to be as intuitive and easy to use as possible for our company's integrating partners.</p>\n"},{"tags":["java","spring-boot","apache-camel","parameter-passing"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637676408,"creation_date":1637676408,"answer_id":70082342,"question_id":70055640,"body_markdown":"Since you&#39;re using JavaDSL you can just define RouteDefinitions inside the loop. Just make sure each Route defintion has unique URI and RouteID.\r\n\r\n\r\nExample (doesn&#39;t compile):\r\n\r\n```java\r\npublic class ExampleRoute extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        \r\n        List&lt;HashMap&lt;String, String&gt;&gt; targets = createTargets();\r\n        for (HashMap&lt;String,String&gt; target : targets) {\r\n           configureRouteForTarget(target.get(&quot;name&quot;), target.get(&quot;deviceName&quot;), target.get(&quot;deviceProperty&quot;));\r\n        }\r\n    }\r\n\r\n    void configureRouteForTarget(String name, String deviceName, String deviceProperty){\r\n\r\n        final String URI = &quot;timer:&quot;+ name + &quot;?repeatCount=1&quot;;\r\n        from(URI)\r\n            .routeId(name+&quot;TimerRoute&quot;)\r\n            .setBody(constant(null))\r\n            .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\r\n            .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\r\n            .to(&quot;https://myUrl/&quot;\r\n                + deviceName + &quot;::&quot; + deviceProperty //\r\n                + &quot;?disableStreamCache=true&quot; //\r\n            ) \r\n            .process(data -&gt; {\r\n                //... my process ...\r\n            })\r\n            .log(&quot;${body}&quot;)\r\n            .to(&quot;direct:someEndpoint&quot;);\r\n    }\r\n\r\n    private List&lt;HashMap&lt;String, String&gt;&gt; createTargets() {\r\n\r\n        List&lt;HashMap&lt;String, String&gt;&gt; targets = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\r\n        for (int i = 1; i &lt;= 3; i++) {\r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;name&quot;, &quot;target&quot; + i);\r\n            map.put(&quot;deviceName&quot;, &quot;device&quot; + i);\r\n            map.put(&quot;deviceProperty&quot;, &quot;property&quot; + i);\r\n        }\r\n        return targets;\r\n    }\r\n}\r\n\r\n```","title":"Parameterization of Camel Component at startup","body":"<p>Since you're using JavaDSL you can just define RouteDefinitions inside the loop. Just make sure each Route defintion has unique URI and RouteID.</p>\n<p>Example (doesn't compile):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleRoute extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        \n        List&lt;HashMap&lt;String, String&gt;&gt; targets = createTargets();\n        for (HashMap&lt;String,String&gt; target : targets) {\n           configureRouteForTarget(target.get(&quot;name&quot;), target.get(&quot;deviceName&quot;), target.get(&quot;deviceProperty&quot;));\n        }\n    }\n\n    void configureRouteForTarget(String name, String deviceName, String deviceProperty){\n\n        final String URI = &quot;timer:&quot;+ name + &quot;?repeatCount=1&quot;;\n        from(URI)\n            .routeId(name+&quot;TimerRoute&quot;)\n            .setBody(constant(null))\n            .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\n            .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\n            .to(&quot;https://myUrl/&quot;\n                + deviceName + &quot;::&quot; + deviceProperty //\n                + &quot;?disableStreamCache=true&quot; //\n            ) \n            .process(data -&gt; {\n                //... my process ...\n            })\n            .log(&quot;${body}&quot;)\n            .to(&quot;direct:someEndpoint&quot;);\n    }\n\n    private List&lt;HashMap&lt;String, String&gt;&gt; createTargets() {\n\n        List&lt;HashMap&lt;String, String&gt;&gt; targets = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n        for (int i = 1; i &lt;= 3; i++) {\n            HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;name&quot;, &quot;target&quot; + i);\n            map.put(&quot;deviceName&quot;, &quot;device&quot; + i);\n            map.put(&quot;deviceProperty&quot;, &quot;property&quot; + i);\n        }\n        return targets;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70082342,"answer_count":1,"score":0,"last_activity_date":1637676408,"creation_date":1637506470,"question_id":70055640,"body_markdown":"I would like to set class attributes in an Apache Camel ````Component```` at class instantiation. How can I do this?\r\n\r\nI have a very simple Spring Boot Application:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;xyz.abc.myPackage&quot;)\r\n    public class RouteHandler_ARCHIVE {\r\n    \r\n    }\r\n\r\nPulling up an Apache Camel Component residing as well in package XYZ.abc.myPackage:\r\n\r\n    @Component\r\n    public class Route_ARCHIVE_REST extends RouteBuilder {\r\n    \r\n        private String _deviceName;\r\n        private String _deviceProperty;\r\n        Set&lt;String&gt; _batchBuffer = new HashSet&lt;&gt;();\r\n        int _batchBufferLimit = 10;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n    \r\n            from(&quot;timer:mytimer?repeatCount=1&quot;) //\r\n                    .setBody(simple(&quot;${null}&quot;)) //\r\n                    .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\r\n                    .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\r\n                    .to(&quot;myUrl/&quot; //\r\n                        + _deviceName + &quot;::&quot; + _deviceProperty //\r\n                        + &quot;?disableStreamCache=true&quot; //\r\n                    ) //\r\n                    .process(data -&gt; {\r\n                        ... my process ...\r\n                    })\r\n                    .log(&quot;${body}&quot;)\r\n                    .to(toEndpoint);\r\n        }\r\n    \r\n    }\r\n\r\nI want to start multiple instances of this Route with different values of ````_deviceName````, ````_deviceProperty````. In the moment I only have the idea of copying the class N times and hard-code the different values - which is definitively not very efficient ;)\r\n\r\nAs I do not explicitly instantiate the ````Component```` class (done by ````@ComponentScan````), how can I set the values of ````_deviceName````, ````_deviceProperty```` at starting the Component? I am not insisting on having these parameters as class attributes, if it can be done differently, I&#39;m fine too. Any help appreciated.\r\n\r\n ","title":"Parameterization of Camel Component at startup","body":"<p>I would like to set class attributes in an Apache Camel <code>Component</code> at class instantiation. How can I do this?</p>\n<p>I have a very simple Spring Boot Application:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;xyz.abc.myPackage&quot;)\npublic class RouteHandler_ARCHIVE {\n\n}\n</code></pre>\n<p>Pulling up an Apache Camel Component residing as well in package XYZ.abc.myPackage:</p>\n<pre><code>@Component\npublic class Route_ARCHIVE_REST extends RouteBuilder {\n\n    private String _deviceName;\n    private String _deviceProperty;\n    Set&lt;String&gt; _batchBuffer = new HashSet&lt;&gt;();\n    int _batchBufferLimit = 10;\n\n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:mytimer?repeatCount=1&quot;) //\n                .setBody(simple(&quot;${null}&quot;)) //\n                .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\n                .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\n                .to(&quot;myUrl/&quot; //\n                    + _deviceName + &quot;::&quot; + _deviceProperty //\n                    + &quot;?disableStreamCache=true&quot; //\n                ) //\n                .process(data -&gt; {\n                    ... my process ...\n                })\n                .log(&quot;${body}&quot;)\n                .to(toEndpoint);\n    }\n\n}\n</code></pre>\n<p>I want to start multiple instances of this Route with different values of <code>_deviceName</code>, <code>_deviceProperty</code>. In the moment I only have the idea of copying the class N times and hard-code the different values - which is definitively not very efficient ;)</p>\n<p>As I do not explicitly instantiate the <code>Component</code> class (done by <code>@ComponentScan</code>), how can I set the values of <code>_deviceName</code>, <code>_deviceProperty</code> at starting the Component? I am not insisting on having these parameters as class attributes, if it can be done differently, I'm fine too. Any help appreciated.</p>\n"},{"tags":["java","security","sqlexception"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1385954580,"post_id":20320311,"comment_id":30324750,"body_markdown":"Control access to the logged output.","body":"Control access to the logged output."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1385954634,"post_id":20320311,"comment_id":30324762,"body_markdown":"Log the exception somewhere.  Although, as it is, the only people that&#39;d potentially see the exception is anyone on the server, since `printStackTrace` writes to `System.err`.  That&#39;s assuming you meant for `se.printStackTrace()` to be between the curly braces, of course.","body":"Log the exception somewhere.  Although, as it is, the only people that&#39;d potentially see the exception is anyone on the server, since <code>printStackTrace</code> writes to <code>System.err</code>.  That&#39;s assuming you meant for <code>se.printStackTrace()</code> to be between the curly braces, of course."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1385958962,"post_id":20320311,"comment_id":30325782,"body_markdown":"For things like SSNs, passwords and keys, you want to make sure they don&#39;t even appear in log files. / As well as logs, exceptions are problematic in Java in the specific case that you are running with (untrusted) mobile code.","body":"For things like SSNs, passwords and keys, you want to make sure they don&#39;t even appear in log files. / As well as logs, exceptions are problematic in Java in the specific case that you are running with (untrusted) mobile code."}],"answers":[{"tags":[],"owner":{"account_id":1446536,"reputation":2347,"user_id":2179987,"accept_rate":93,"display_name":"Ming Slogar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385954588,"creation_date":1385954588,"answer_id":20320319,"question_id":20320311,"body_markdown":"You are revealing parts of your code, as line numbers and variable names will be printed.\r\n\r\nThe best way would be to just custom your own message. Another method can be something similar to the way IIS error messages are printed: show full stack trace if the request is from the server computer (debugging) but show a generic error for external requests.","title":"How do you write an exception without revealing sensitive information?","body":"<p>You are revealing parts of your code, as line numbers and variable names will be printed.</p>\n\n<p>The best way would be to just custom your own message. Another method can be something similar to the way IIS error messages are printed: show full stack trace if the request is from the server computer (debugging) but show a generic error for external requests.</p>\n"},{"tags":[],"owner":{"account_id":983587,"reputation":3714,"user_id":1002644,"display_name":"mrmoje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385954745,"creation_date":1385954745,"answer_id":20320340,"question_id":20320311,"body_markdown":"Even from a UX point of view, spewing out technical info will create a crappy experience for the user.\r\n\r\nUse a polite general error code (and or error message) that users can send you to help with debugging","title":"How do you write an exception without revealing sensitive information?","body":"<p>Even from a UX point of view, spewing out technical info will create a crappy experience for the user.</p>\n\n<p>Use a polite general error code (and or error message) that users can send you to help with debugging</p>\n"},{"tags":[],"owner":{"display_name":"user2128970"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385960547,"creation_date":1385960547,"answer_id":20321204,"question_id":20320311,"body_markdown":"[CERT Secure Coding][1] sheds some light on this topic. They give examples as to why simply printing the stack trace is not secure. There are several issues from both a technical and business prospective:\r\n\r\n - SQLExceptions can reveal hints about database structure\r\n - Sensitive client information could be revealed by an exception\r\n - Stack traces in general can reveal implementation details of your application\r\n\r\nThere are several things you can do to mitigate these risks.\r\n\r\n 1. Discard the exception. While far from ideal, one potential solution could be to catch the original exception, and either print a message free of sensitive data to Standard Error or throw a new exception with a different message. This, however, can make debugging difficult, but it could reduce the risk of exposing sensitive information.\r\n\r\n        catch(SQLException se){\r\n    \t    throw new SQLException(&quot;Error executing query.&quot;);\r\n        }\r\n\r\n 2. Clean up the exception.\r\n\r\n        catch (SQLException se) { \r\n            MyExceptionCleaner.clean(se); // Remove any sensitive data \r\n        }\r\n\r\nThe MyExceptionCleaner object has the ability to capture and filter any sensitive data while still preserving any details that might be useful for maintenance. For more information, check out [this][2] question.\r\n\r\n\r\n  [1]: https://www.securecoding.cert.org/confluence/display/java/ERR01-J.+Do+not+allow+exceptions+to+expose+sensitive+information\r\n  [2]: https://stackoverflow.com/questions/4651608/wrapping-an-exception-and-hiding-sensitive-details","title":"How do you write an exception without revealing sensitive information?","body":"<p><a href=\"https://www.securecoding.cert.org/confluence/display/java/ERR01-J.+Do+not+allow+exceptions+to+expose+sensitive+information\" rel=\"nofollow noreferrer\">CERT Secure Coding</a> sheds some light on this topic. They give examples as to why simply printing the stack trace is not secure. There are several issues from both a technical and business prospective:</p>\n\n<ul>\n<li>SQLExceptions can reveal hints about database structure</li>\n<li>Sensitive client information could be revealed by an exception</li>\n<li>Stack traces in general can reveal implementation details of your application</li>\n</ul>\n\n<p>There are several things you can do to mitigate these risks.</p>\n\n<ol>\n<li><p>Discard the exception. While far from ideal, one potential solution could be to catch the original exception, and either print a message free of sensitive data to Standard Error or throw a new exception with a different message. This, however, can make debugging difficult, but it could reduce the risk of exposing sensitive information.</p>\n\n<pre><code>catch(SQLException se){\n    throw new SQLException(\"Error executing query.\");\n}\n</code></pre></li>\n<li><p>Clean up the exception.</p>\n\n<pre><code>catch (SQLException se) { \n    MyExceptionCleaner.clean(se); // Remove any sensitive data \n}\n</code></pre></li>\n</ol>\n\n<p>The MyExceptionCleaner object has the ability to capture and filter any sensitive data while still preserving any details that might be useful for maintenance. For more information, check out <a href=\"https://stackoverflow.com/questions/4651608/wrapping-an-exception-and-hiding-sensitive-details\">this</a> question.</p>\n"},{"tags":[],"owner":{"account_id":10868863,"reputation":1,"user_id":7991401,"display_name":"Proxee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494416116,"creation_date":1494416116,"answer_id":43891333,"question_id":20320311,"body_markdown":"Q) Why printing the stack trace after an exception is thrown is insecure ?\r\n\r\nA) A stack trace is an informational leak, which reveals some details about the implementation of your system. Not a serious vulnerability but could aid attackers to gain certain information about the deign of the database (database version, table names, code filenames).\r\n\r\nPrinting the stack trace could also allow attackers to use debugging tools to identify and exploit flaws in the system.\r\n\r\nApart from the security issues discussed above the stack trace should not be displayed to any users of the system or attackers. \r\nCustomer confidence in the system will be decreased if an error such as the stack trace is printed onto the console. \r\n\r\nThe user is unclear if their transaction has been completed, or unclear on why such an error has been shown.\r\n\r\n********************************************************************************************************************\r\n\r\n******************************\r\n*An Error Has Occurred\r\nSummary:\r\nSyntax error (missing operator) in query expression &#39;username = &#39;john&#39; or 1=1 &#39; AND password = &#39;gggg&#39;&#39;.\r\nError Message:\r\nSystem.Data.OleDb.OleDbException: Syntax error (missing operator) in query expression &#39;username = &#39;john&#39; or 1=1 &#39; \r\nAND password = &#39;gggg&#39;&#39;. \r\nat System.Data.OleDb.OleDbCommand.ExecuteCommandTextErrorHandling(OleDbHResult hr) at \r\nSystem.Data.OleDb.OleDbCommand.ExecuteCommandTextForSingleResult(tagDBPARAMS dbParams, Object&amp; executeResult) at \r\nSystem.Data.OleDb.OleDbCommand.ExecuteCommandText(Object&amp; executeResult) at \r\nSystem.Data.OleDb.OleDbCommand.ExecuteCommand(CommandBehavior behavior, Object&amp; executeResult) at \r\nSystem.Data.OleDb.OleDbCommand.ExecuteReaderInternal(CommandBehavior behavior, String method) at \r\nSystem.Data.OleDb.OleDbCommand.ExecuteReader(CommandBehavior behavior) at \r\nSystem.Data.OleDb.OleDbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior) at \r\nSystem.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 \r\nmaxRecords, \r\nString srcTable, IDbCommand command, CommandBehavior behavior) at \r\nSystem.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, \r\nIDbCommand command, \r\nCommandBehavior behavior) at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, String srcTable) at \r\nAltoro.Authentication.ValidateUser\r\n(String uName, String pWord) in c:\\downloads\\AltoroMutual_v6\\website\\bank\\login.aspx.cs:line 68 at \r\nAltoro.Authentication.Page_Load(Object sender, EventArgs e) in c:\\downloads\\AltoroMutual_v6\\website\\bank\r\n\\login.aspx.cs:line 33 at \r\nSystem.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) at \r\nSystem.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) at System.Web.UI.Control.OnLoad\r\n(EventArgs e) at \r\nSystem.Web.UI.Control.LoadRecursive() at System.Web.UI.Page.ProcessRequestMain(Boolean \r\nincludeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint)*\r\n\r\n********************************************************************************************************************\r\n\r\n******************************************\r\n\r\n\r\nAs shown in the example stack trace shown above, the user name that was entered contained invalid characters that were not expected to be entered into the username field, as a result the system crashed and thrown this detailed stack trace to the screen. \r\n\r\nWhat should have occurred is either a customized exception made by the developer to be thrown which instead of revealing all of the above sensitive information to the user just show a message such as: \r\n\r\n\r\n\r\n\r\n\t\tInvalid character entered.\r\n\t\tPlease enter letters only.\r\n\t\tPlease try again!\r\n\r\n\r\n\r\nTwo ways of dealing with exceptions and stack trace is by **SANITIZING** or **PURGING.** \r\n\r\n1)\t**Sanitizing** \r\n\r\nAs shown above, the developer anticipated that an error in input could occur and wrote a error handling section  of code that instead of printing the stack trace printed a small easy to understand message to the user on why their action was not completed. \r\n\r\nThe developer sanitized or &quot;cleaned&quot; the exception to prevent \t\t\r\nthe system from crashing and can add a loop so if the data entered is incorrect an error message will be thrown and the user asked to re enter their credentials.\r\n\r\n\r\n2)\t**Purging**\r\n\r\nSimilar to sanitizing, the anticipation of an error occurring allows the   developer to intervene and display an error message that is customized only to the understanding of the developer or perhaps the error will not be thrown at all and just a customized error will be thrown to a log file. \r\n\r\nAny user facing errors that occur will be sanitized so that the customer can easily understand why the error occurred and the error is then logged. The logged error is purged inside the log file with an id number or a customized \r\n\r\nthrown error so instead of **FileNotFoundException** being displayed \r\nin the log the developer can customize that to read **Error:782**.\r\n\r\nThis prevents writing the descriptive error in plain text showing the vulnerabilities in a system.The customized id of an error is logged in a dictionary of errors within the companies database so the developer can search the ID and a description is assigned to the error to give an understanding of why it occurred but only authorized users can access this, preventing misuse of the information.\r\n\t\r\n","title":"How do you write an exception without revealing sensitive information?","body":"<p>Q) Why printing the stack trace after an exception is thrown is insecure ?</p>\n\n<p>A) A stack trace is an informational leak, which reveals some details about the implementation of your system. Not a serious vulnerability but could aid attackers to gain certain information about the deign of the database (database version, table names, code filenames).</p>\n\n<p>Printing the stack trace could also allow attackers to use debugging tools to identify and exploit flaws in the system.</p>\n\n<p>Apart from the security issues discussed above the stack trace should not be displayed to any users of the system or attackers. \nCustomer confidence in the system will be decreased if an error such as the stack trace is printed onto the console. </p>\n\n<p>The user is unclear if their transaction has been completed, or unclear on why such an error has been shown.</p>\n\n<hr>\n\n<hr>\n\n<p><em>An Error Has Occurred\nSummary:\nSyntax error (missing operator) in query expression 'username = 'john' or 1=1 ' AND password = 'gggg''.\nError Message:\nSystem.Data.OleDb.OleDbException: Syntax error (missing operator) in query expression 'username = 'john' or 1=1 ' \nAND password = 'gggg''. \nat System.Data.OleDb.OleDbCommand.ExecuteCommandTextErrorHandling(OleDbHResult hr) at \nSystem.Data.OleDb.OleDbCommand.ExecuteCommandTextForSingleResult(tagDBPARAMS dbParams, Object&amp; executeResult) at \nSystem.Data.OleDb.OleDbCommand.ExecuteCommandText(Object&amp; executeResult) at \nSystem.Data.OleDb.OleDbCommand.ExecuteCommand(CommandBehavior behavior, Object&amp; executeResult) at \nSystem.Data.OleDb.OleDbCommand.ExecuteReaderInternal(CommandBehavior behavior, String method) at \nSystem.Data.OleDb.OleDbCommand.ExecuteReader(CommandBehavior behavior) at \nSystem.Data.OleDb.OleDbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior) at \nSystem.Data.Common.DbDataAdapter.FillInternal(DataSet dataset, DataTable[] datatables, Int32 startRecord, Int32 \nmaxRecords, \nString srcTable, IDbCommand command, CommandBehavior behavior) at \nSystem.Data.Common.DbDataAdapter.Fill(DataSet dataSet, Int32 startRecord, Int32 maxRecords, String srcTable, \nIDbCommand command, \nCommandBehavior behavior) at System.Data.Common.DbDataAdapter.Fill(DataSet dataSet, String srcTable) at \nAltoro.Authentication.ValidateUser\n(String uName, String pWord) in c:\\downloads\\AltoroMutual_v6\\website\\bank\\login.aspx.cs:line 68 at \nAltoro.Authentication.Page_Load(Object sender, EventArgs e) in c:\\downloads\\AltoroMutual_v6\\website\\bank\n\\login.aspx.cs:line 33 at \nSystem.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) at \nSystem.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) at System.Web.UI.Control.OnLoad\n(EventArgs e) at \nSystem.Web.UI.Control.LoadRecursive() at System.Web.UI.Page.ProcessRequestMain(Boolean \nincludeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint)</em></p>\n\n<hr>\n\n<hr>\n\n<p>As shown in the example stack trace shown above, the user name that was entered contained invalid characters that were not expected to be entered into the username field, as a result the system crashed and thrown this detailed stack trace to the screen. </p>\n\n<p>What should have occurred is either a customized exception made by the developer to be thrown which instead of revealing all of the above sensitive information to the user just show a message such as: </p>\n\n<pre><code>    Invalid character entered.\n    Please enter letters only.\n    Please try again!\n</code></pre>\n\n<p>Two ways of dealing with exceptions and stack trace is by <strong>SANITIZING</strong> or <strong>PURGING.</strong> </p>\n\n<p>1)  <strong>Sanitizing</strong> </p>\n\n<p>As shown above, the developer anticipated that an error in input could occur and wrote a error handling section  of code that instead of printing the stack trace printed a small easy to understand message to the user on why their action was not completed. </p>\n\n<p>The developer sanitized or \"cleaned\" the exception to prevent<br>\nthe system from crashing and can add a loop so if the data entered is incorrect an error message will be thrown and the user asked to re enter their credentials.</p>\n\n<p>2)  <strong>Purging</strong></p>\n\n<p>Similar to sanitizing, the anticipation of an error occurring allows the   developer to intervene and display an error message that is customized only to the understanding of the developer or perhaps the error will not be thrown at all and just a customized error will be thrown to a log file. </p>\n\n<p>Any user facing errors that occur will be sanitized so that the customer can easily understand why the error occurred and the error is then logged. The logged error is purged inside the log file with an id number or a customized </p>\n\n<p>thrown error so instead of <strong>FileNotFoundException</strong> being displayed \nin the log the developer can customize that to read <strong>Error:782</strong>.</p>\n\n<p>This prevents writing the descriptive error in plain text showing the vulnerabilities in a system.The customized id of an error is logged in a dictionary of errors within the companies database so the developer can search the ID and a description is assigned to the error to give an understanding of why it occurred but only authorized users can access this, preventing misuse of the information.</p>\n"}],"owner":{"account_id":3667640,"reputation":69,"user_id":3055593,"accept_rate":25,"display_name":"user3055593"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637676224,"creation_date":1385954479,"question_id":20320311,"body_markdown":"I&#39;m writing a program, from a security point of view, that will catch an SQLException. I&#39;m trying to purge all sensitive information.\r\n\r\n    catch(SQLException se){\r\n      se.printStackTrace();\r\n    }\r\n    \r\n\r\nWould writing it the above way reveal sensitive information? If so, what would be a secure way to write it? ","title":"How do you write an exception without revealing sensitive information?","body":"<p>I'm writing a program, from a security point of view, that will catch an SQLException. I'm trying to purge all sensitive information.</p>\n<pre><code>catch(SQLException se){\n  se.printStackTrace();\n}\n</code></pre>\n<p>Would writing it the above way reveal sensitive information? If so, what would be a secure way to write it?</p>\n"},{"tags":["java","spring","elasticsearch","java-8","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8390469,"reputation":775,"user_id":6299363,"display_name":"Gianluca Musa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637676213,"creation_date":1637676213,"answer_id":70082299,"question_id":70082180,"body_markdown":"  Try with Page\r\n\r\n      @Query(&quot;{\\&quot;match\\&quot;: {\\&quot;metaData.transcript1\\&quot;: {\\&quot;query\\&quot;: \\&quot;?0\\&quot;,\\&quot;fuzziness\\&quot;: \\&quot;AUTO\\&quot;,\\&quot;prefix_length\\&quot;: \\&quot;0\\&quot;,\\&quot;max_expansions\\&quot;: \\&quot;100\\&quot;,\\&quot;boost\\&quot;: \\&quot;1.0\\&quot;}}}&quot;)\r\n        @Highlight(fields = {@HighlightField(name = &quot;metaData.transcript1&quot;)}, parameters = @HighlightParameters(\r\n                preTags = &quot;&lt;em&gt;&quot;,\r\n                postTags = &quot;&lt;/em&gt;&quot;,\r\n                fragmentSize = 50\r\n                numberOfFragments = 3\r\n            ))\r\n        Page&lt;SearchHit&lt;Audio&gt;&gt; findByKeyword(String query,Pageable pageable);\r\n\r\n\r\n\r\n\r\nand use like it \r\n\r\n    Page&lt;SearchHit&lt;Audio&gt;&gt; audios = repository.findAll(&quot;query_string&quot;,PageRequest.of(0, 100));","title":"How to increase response size in elasticsearch with spring-data using @Query annotation?","body":"<p>Try with Page</p>\n<pre><code>  @Query(&quot;{\\&quot;match\\&quot;: {\\&quot;metaData.transcript1\\&quot;: {\\&quot;query\\&quot;: \\&quot;?0\\&quot;,\\&quot;fuzziness\\&quot;: \\&quot;AUTO\\&quot;,\\&quot;prefix_length\\&quot;: \\&quot;0\\&quot;,\\&quot;max_expansions\\&quot;: \\&quot;100\\&quot;,\\&quot;boost\\&quot;: \\&quot;1.0\\&quot;}}}&quot;)\n    @Highlight(fields = {@HighlightField(name = &quot;metaData.transcript1&quot;)}, parameters = @HighlightParameters(\n            preTags = &quot;&lt;em&gt;&quot;,\n            postTags = &quot;&lt;/em&gt;&quot;,\n            fragmentSize = 50\n            numberOfFragments = 3\n        ))\n    Page&lt;SearchHit&lt;Audio&gt;&gt; findByKeyword(String query,Pageable pageable);\n</code></pre>\n<p>and use like it</p>\n<pre><code>Page&lt;SearchHit&lt;Audio&gt;&gt; audios = repository.findAll(&quot;query_string&quot;,PageRequest.of(0, 100));\n</code></pre>\n"}],"owner":{"account_id":13563731,"reputation":38,"user_id":9784531,"display_name":"Ajay Rajpurohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70082299,"answer_count":1,"score":0,"last_activity_date":1637676213,"creation_date":1637675688,"question_id":70082180,"body_markdown":"Currently the below query is only returning 10 search hits. I want to increase it to 100. How to do it??\r\n\r\n```\r\n    @Query(&quot;{\\&quot;match\\&quot;: {\\&quot;metaData.transcript1\\&quot;: {\\&quot;query\\&quot;: \\&quot;?0\\&quot;,\\&quot;fuzziness\\&quot;: \\&quot;AUTO\\&quot;,\\&quot;prefix_length\\&quot;: \\&quot;0\\&quot;,\\&quot;max_expansions\\&quot;: \\&quot;100\\&quot;,\\&quot;boost\\&quot;: \\&quot;1.0\\&quot;}}}&quot;)\r\n\t@Highlight(fields = {@HighlightField(name = &quot;metaData.transcript1&quot;)}, parameters = @HighlightParameters(\r\n            preTags = &quot;&lt;em&gt;&quot;,\r\n            postTags = &quot;&lt;/em&gt;&quot;,\r\n            fragmentSize = 50\r\n            numberOfFragments = 3\r\n        ))\r\n    List&lt;SearchHit&lt;Audio&gt;&gt; findByKeyword(String query);```","title":"How to increase response size in elasticsearch with spring-data using @Query annotation?","body":"<p>Currently the below query is only returning 10 search hits. I want to increase it to 100. How to do it??</p>\n<pre><code>    @Query(&quot;{\\&quot;match\\&quot;: {\\&quot;metaData.transcript1\\&quot;: {\\&quot;query\\&quot;: \\&quot;?0\\&quot;,\\&quot;fuzziness\\&quot;: \\&quot;AUTO\\&quot;,\\&quot;prefix_length\\&quot;: \\&quot;0\\&quot;,\\&quot;max_expansions\\&quot;: \\&quot;100\\&quot;,\\&quot;boost\\&quot;: \\&quot;1.0\\&quot;}}}&quot;)\n    @Highlight(fields = {@HighlightField(name = &quot;metaData.transcript1&quot;)}, parameters = @HighlightParameters(\n            preTags = &quot;&lt;em&gt;&quot;,\n            postTags = &quot;&lt;/em&gt;&quot;,\n            fragmentSize = 50\n            numberOfFragments = 3\n        ))\n    List&lt;SearchHit&lt;Audio&gt;&gt; findByKeyword(String query);```\n</code></pre>\n"},{"tags":["java","spring-boot","logstash","slf4j","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":421254,"reputation":174,"user_id":799394,"display_name":"art"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601512622,"creation_date":1601512622,"answer_id":64147599,"question_id":64142482,"body_markdown":"You can use [Markers][1] and pass it before your logging message - more details on [github][2]. \r\n\r\n    logger.info(append(&quot;key2&quot;, &quot;only json&quot;), \r\n                   &quot;My message with one arg {}&quot;, \r\n                   v(&quot;key1&quot;:&quot;arg in msg and json&quot;));\r\n\r\n\r\nI personally don&#39;t like this because markers have different purpose, so if structured argument works for you, just ignore warning in IDE.\r\n\r\nAnyway, all this json/structured implementations are workarounds for SLF4J 1.*, which has not built for that. There was SLF4J 2.0.0-alpha1 release almost a yeah ago, but it is still in alpha and I haven&#39;t used it. But it&#39;s API should be ready for key-values that are crusial in nowadays distributed log management systems.\r\n\r\n\r\n  [1]: https://github.com/logstash/logstash-logback-encoder/blob/master/src/main/java/net/logstash/logback/marker/Markers.java\r\n  [2]: https://github.com/logstash/logstash-logback-encoder","title":"Structured logging where logger argument not wanted in message","body":"<p>You can use <a href=\"https://github.com/logstash/logstash-logback-encoder/blob/master/src/main/java/net/logstash/logback/marker/Markers.java\" rel=\"nofollow noreferrer\">Markers</a> and pass it before your logging message - more details on <a href=\"https://github.com/logstash/logstash-logback-encoder\" rel=\"nofollow noreferrer\">github</a>.</p>\n<pre><code>logger.info(append(&quot;key2&quot;, &quot;only json&quot;), \n               &quot;My message with one arg {}&quot;, \n               v(&quot;key1&quot;:&quot;arg in msg and json&quot;));\n</code></pre>\n<p>I personally don't like this because markers have different purpose, so if structured argument works for you, just ignore warning in IDE.</p>\n<p>Anyway, all this json/structured implementations are workarounds for SLF4J 1.*, which has not built for that. There was SLF4J 2.0.0-alpha1 release almost a yeah ago, but it is still in alpha and I haven't used it. But it's API should be ready for key-values that are crusial in nowadays distributed log management systems.</p>\n"},{"tags":[],"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614123032,"creation_date":1614123032,"answer_id":66342576,"question_id":64142482,"body_markdown":"You can make the log message as a constant String, then the code quality checks will not warn this","title":"Structured logging where logger argument not wanted in message","body":"<p>You can make the log message as a constant String, then the code quality checks will not warn this</p>\n"},{"tags":[],"owner":{"account_id":4062178,"reputation":1,"user_id":3338409,"display_name":"JurajO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637676126,"creation_date":1637676126,"answer_id":70082276,"question_id":64142482,"body_markdown":"You can make the structured argument print *nothing* into the formatted message:\r\n- (1) include the second placeholder `{}` inside the message\r\n- (2) use `keyValue()` instead of `kv()`\r\n- (3) provide the optional *messageFormatPattern* parameter ([JavaDoc][1]) equal to `&quot;&quot;`\r\n\r\nAdjusting your example:\r\n```\r\nlog.info(\r\n  &quot;My message with one arg {}{}&quot;, //note (1)\r\n  v(&quot;key1&quot;:&quot;arg I want to include value in place of placeholder in message and in json as key/value&quot;), \r\n  keyValue(&quot;key2&quot;, &quot;arg I only want in the json and not in the message&quot;, &quot;&quot;)) //note (2) + (3)\r\n```\r\n\r\nThis will effectively replace the second placeholder with an empty string.\r\n\r\n\r\n  [1]: https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.0.1/net/logstash/logback/argument/StructuredArguments.html#keyValue-java.lang.String-java.lang.Object-java.lang.String-","title":"Structured logging where logger argument not wanted in message","body":"<p>You can make the structured argument print <em>nothing</em> into the formatted message:</p>\n<ul>\n<li>(1) include the second placeholder <code>{}</code> inside the message</li>\n<li>(2) use <code>keyValue()</code> instead of <code>kv()</code></li>\n<li>(3) provide the optional <em>messageFormatPattern</em> parameter (<a href=\"https://javadoc.io/static/net.logstash.logback/logstash-logback-encoder/7.0.1/net/logstash/logback/argument/StructuredArguments.html#keyValue-java.lang.String-java.lang.Object-java.lang.String-\" rel=\"nofollow noreferrer\">JavaDoc</a>) equal to <code>&quot;&quot;</code></li>\n</ul>\n<p>Adjusting your example:</p>\n<pre><code>log.info(\n  &quot;My message with one arg {}{}&quot;, //note (1)\n  v(&quot;key1&quot;:&quot;arg I want to include value in place of placeholder in message and in json as key/value&quot;), \n  keyValue(&quot;key2&quot;, &quot;arg I only want in the json and not in the message&quot;, &quot;&quot;)) //note (2) + (3)\n</code></pre>\n<p>This will effectively replace the second placeholder with an empty string.</p>\n"}],"owner":{"account_id":14758475,"reputation":168,"user_id":10658537,"display_name":"Joseph Berry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637676126,"creation_date":1601485626,"question_id":64142482,"body_markdown":"I&#39;m using structured logging in a Spring Boot app using logstash and sometimes I want to include key values in the log that I don&#39;t want to be used in the message of the log. Is there a StructuredArgument or similar that allows for this?\r\n\r\nAn example of what I am doing currently is something like this:\r\n\r\n```\r\n// import lombok.extern.slf4j.Slf4j;\r\n// import static net.logstash.logback.argument.StructuredArguments.kv;\r\n// import static net.logstash.logback.argument.StructuredArguments.v;\r\n\r\nlog.info(\r\n  &quot;My message with one arg {}&quot;, \r\n  v(&quot;key1&quot;:&quot;arg I want to include value in place of placeholder in message and in json as key/value&quot;), \r\n  kv(&quot;key2&quot;, &quot;arg I only want in the json and not in the message&quot;))\r\n\r\n```\r\n\r\nEverything works as I intended, by which I mean the log includes both key value pairs and the message only includes the first value in place of the placeholder. The issue is that I get a warning from the compiler which is flagged by intellij (PlaceholderCountMatchesArgumentCount) about the second structured argument and I would like to avoid this without resorting to suppressing/ignoring it","title":"Structured logging where logger argument not wanted in message","body":"<p>I'm using structured logging in a Spring Boot app using logstash and sometimes I want to include key values in the log that I don't want to be used in the message of the log. Is there a StructuredArgument or similar that allows for this?</p>\n<p>An example of what I am doing currently is something like this:</p>\n<pre><code>// import lombok.extern.slf4j.Slf4j;\n// import static net.logstash.logback.argument.StructuredArguments.kv;\n// import static net.logstash.logback.argument.StructuredArguments.v;\n\nlog.info(\n  &quot;My message with one arg {}&quot;, \n  v(&quot;key1&quot;:&quot;arg I want to include value in place of placeholder in message and in json as key/value&quot;), \n  kv(&quot;key2&quot;, &quot;arg I only want in the json and not in the message&quot;))\n\n</code></pre>\n<p>Everything works as I intended, by which I mean the log includes both key value pairs and the message only includes the first value in place of the placeholder. The issue is that I get a warning from the compiler which is flagged by intellij (PlaceholderCountMatchesArgumentCount) about the second structured argument and I would like to avoid this without resorting to suppressing/ignoring it</p>\n"},{"tags":["java","kotlin","attributes","android-layoutparams"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1637676897,"post_id":70082100,"comment_id":123886277,"body_markdown":"Android doesn&#39;t expose any simple way to do this. AttributeSet is an interface with many methods. There&#39;s no publicly exposed implementation class you can use.","body":"Android doesn&#39;t expose any simple way to do this. AttributeSet is an interface with many methods. There&#39;s no publicly exposed implementation class you can use."},{"owner":{"account_id":15843620,"reputation":195,"user_id":14191640,"display_name":"Bret Joseph"},"score":0,"creation_date":1637677572,"post_id":70082100,"comment_id":123886590,"body_markdown":"Oh ok I see.. I will have to resource to creating an xml with default attributes","body":"Oh ok I see.. I will have to resource to creating an xml with default attributes"}],"owner":{"account_id":15843620,"reputation":195,"user_id":14191640,"display_name":"Bret Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637675708,"creation_date":1637675372,"question_id":70082100,"body_markdown":"I know we can set AttributeSet without creating custom attributes in xml\r\n```\r\nXmlPullParser parser = resources.getXml(myResource);\r\nAttributeSet attributes = Xml.asAttributeSet(parser);\r\n```\r\n\r\nI want do do something like this\r\n&gt;kotlin\r\n\r\n```\r\nval attrs: AttributeSet = AnArray(&quot;android:orientation=Horizontal&quot;,&quot;\r\n   android:layout_height=match_parent&quot;)\r\n```\r\n&gt;java\r\n```\r\nAttributeSet attrs = new AnArray(&quot;android:orientation=Horizontal&quot;,&quot;\r\n   android:layout_height=match_parent&quot;)\r\n```\r\nIs it possible to type an Array and store it as Attribute set?","title":"How do we create an AttributeSet in Android without xml","body":"<p>I know we can set AttributeSet without creating custom attributes in xml</p>\n<pre><code>XmlPullParser parser = resources.getXml(myResource);\nAttributeSet attributes = Xml.asAttributeSet(parser);\n</code></pre>\n<p>I want do do something like this</p>\n<blockquote>\n<p>kotlin</p>\n</blockquote>\n<pre><code>val attrs: AttributeSet = AnArray(&quot;android:orientation=Horizontal&quot;,&quot;\n   android:layout_height=match_parent&quot;)\n</code></pre>\n<blockquote>\n<p>java</p>\n</blockquote>\n<pre><code>AttributeSet attrs = new AnArray(&quot;android:orientation=Horizontal&quot;,&quot;\n   android:layout_height=match_parent&quot;)\n</code></pre>\n<p>Is it possible to type an Array and store it as Attribute set?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1590059469,"post_id":61933049,"comment_id":109539647,"body_markdown":"This artifact does not exist in central repository...","body":"This artifact does not exist in central repository..."},{"owner":{"account_id":18344263,"reputation":19,"user_id":13359790,"display_name":"Mamikon Papikyan"},"score":0,"creation_date":1590060115,"post_id":61933049,"comment_id":109539974,"body_markdown":"Is there a solution to add it?","body":"Is there a solution to add it?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1590060650,"post_id":61933049,"comment_id":109540238,"body_markdown":"You need to search from which repository the dependency is available and add to your settings.xml file ....","body":"You need to search from which repository the dependency is available and add to your settings.xml file ...."}],"answers":[{"tags":[],"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590082918,"creation_date":1590082918,"answer_id":61940543,"question_id":61933049,"body_markdown":"As stated in [maven repository](https://mvnrepository.com/artifact/com.atlassian.plugins/atlassian-plugins-osgi-javaconfig/0.3.1) you have to specify their repository, like this:\r\n\r\n\r\n    &lt;repositories&gt;\r\n       &lt;repository&gt;\r\n         &lt;id&gt;Atlassian&lt;/id&gt;\r\n         &lt;name&gt;Atlassian Public&lt;/name&gt;\r\n         &lt;url&gt;https://maven.atlassian.com/content/repositories/atlassian-public&lt;/url&gt;\r\n       &lt;/repository&gt;\r\n     &lt;/repositories&gt;\r\n\r\n","title":"Jira REST API Java - missing artifact","body":"<p>As stated in <a href=\"https://mvnrepository.com/artifact/com.atlassian.plugins/atlassian-plugins-osgi-javaconfig/0.3.1\" rel=\"nofollow noreferrer\">maven repository</a> you have to specify their repository, like this:</p>\n\n<pre><code>&lt;repositories&gt;\n   &lt;repository&gt;\n     &lt;id&gt;Atlassian&lt;/id&gt;\n     &lt;name&gt;Atlassian Public&lt;/name&gt;\n     &lt;url&gt;https://maven.atlassian.com/content/repositories/atlassian-public&lt;/url&gt;\n   &lt;/repository&gt;\n &lt;/repositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938462,"reputation":1489,"user_id":2516892,"accept_rate":68,"display_name":"Qohelet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637675606,"creation_date":1637675606,"answer_id":70082160,"question_id":61933049,"body_markdown":"I came here as I had the same issue. I&#39;ve tried the solution provided by @WoAiNii but it failed with a cryptic message. Yet one part of his answer brought me to the correct solution:\r\n\r\n    &lt;repository&gt;\r\n          &lt;id&gt;atlassian-public&lt;/id&gt;\r\n          &lt;url&gt;https://packages.atlassian.com/mvn/maven-external/&lt;/url&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;checksumPolicy&gt;warn&lt;/checksumPolicy&gt;\r\n          &lt;/snapshots&gt;\r\n           &lt;releases&gt;\r\n             &lt;enabled&gt;true&lt;/enabled&gt;\r\n             &lt;checksumPolicy&gt;warn&lt;/checksumPolicy&gt;\r\n          &lt;/releases&gt;\r\n    &lt;/repository&gt;\r\n\r\nThis is provided here: https://developer.atlassian.com/server/framework/atlassian-sdk/atlassian-maven-repositories-2818705/\r\n\r\nThis unfortunately brought up another error:\r\n\r\n    Failed to execute goal on project Java2Jira: Could not resolve dependencies for project com.mycompany:Java2Jira:jar:1.0-SNAPSHOT: Failure to find jta:jta:jar:1.0.1 in https://packages.atlassian.com/mvn/maven-external/ was cached in the local repository, resolution will not be reattempted until the update interval of atlassian-public has elapsed or updates are forced -&gt; [Help 1]\r\n\r\nThis was discussed on the internal board by Atlassian and the solution seems to be just to add it externally by adding this to your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jta&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1b&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n","title":"Jira REST API Java - missing artifact","body":"<p>I came here as I had the same issue. I've tried the solution provided by @WoAiNii but it failed with a cryptic message. Yet one part of his answer brought me to the correct solution:</p>\n<pre><code>&lt;repository&gt;\n      &lt;id&gt;atlassian-public&lt;/id&gt;\n      &lt;url&gt;https://packages.atlassian.com/mvn/maven-external/&lt;/url&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;checksumPolicy&gt;warn&lt;/checksumPolicy&gt;\n      &lt;/snapshots&gt;\n       &lt;releases&gt;\n         &lt;enabled&gt;true&lt;/enabled&gt;\n         &lt;checksumPolicy&gt;warn&lt;/checksumPolicy&gt;\n      &lt;/releases&gt;\n&lt;/repository&gt;\n</code></pre>\n<p>This is provided here: <a href=\"https://developer.atlassian.com/server/framework/atlassian-sdk/atlassian-maven-repositories-2818705/\" rel=\"nofollow noreferrer\">https://developer.atlassian.com/server/framework/atlassian-sdk/atlassian-maven-repositories-2818705/</a></p>\n<p>This unfortunately brought up another error:</p>\n<pre><code>Failed to execute goal on project Java2Jira: Could not resolve dependencies for project com.mycompany:Java2Jira:jar:1.0-SNAPSHOT: Failure to find jta:jta:jar:1.0.1 in https://packages.atlassian.com/mvn/maven-external/ was cached in the local repository, resolution will not be reattempted until the update interval of atlassian-public has elapsed or updates are forced -&gt; [Help 1]\n</code></pre>\n<p>This was discussed on the internal board by Atlassian and the solution seems to be just to add it externally by adding this to your dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jta&lt;/groupId&gt;\n    &lt;artifactId&gt;jta&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1b&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":18344263,"reputation":19,"user_id":13359790,"display_name":"Mamikon Papikyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61940543,"answer_count":2,"score":0,"last_activity_date":1637675606,"creation_date":1590059072,"question_id":61933049,"body_markdown":"I have a problem when I want to connect to my jira localhost using java. I created maven project, and added dependency of atlassian plugin in pom.xml file. Here that dependency in my pom.xml:\r\n\r\n```\r\n&lt;dependency&gt; \r\n &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt; \r\n &lt;artifactId&gt;atlassian-plugins-osgi-javaconfig&lt;/artifactId&gt;\r\n &lt;version&gt;0.3.1&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\n So I&#39;m getting this error: &quot;Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.3.1&quot;. \r\n","title":"Jira REST API Java - missing artifact","body":"<p>I have a problem when I want to connect to my jira localhost using java. I created maven project, and added dependency of atlassian plugin in pom.xml file. Here that dependency in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt; \n &lt;groupId&gt;com.atlassian.plugins&lt;/groupId&gt; \n &lt;artifactId&gt;atlassian-plugins-osgi-javaconfig&lt;/artifactId&gt;\n &lt;version&gt;0.3.1&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>So I'm getting this error: \"Missing artifact com.atlassian.plugins:atlassian-plugins-osgi-javaconfig:jar:0.3.1\". </p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637675480,"creation_date":1637606706,"answer_id":70070886,"question_id":70070783,"body_markdown":"Try getting the String value of the view with the following.\r\n\r\n    fullname = textInputEditTextName.getText().toString();\r\n\r\nEdit for a follow up question:\r\n\r\nRead that error message and try to understand what it&#39;s telling you:\r\n\r\n    unexpected implicit cast to textInputEditText: Layout tag was editText\r\n\r\nLook at your LayoutFile. The views you are using for name, username, password and email are &quot;EditText&quot;.\r\n\r\nHowever back in your activity class, you aren&#39;t instantiating these fields with EditText, but rather TextInputEditText. That&#39;s what the tooltip error is trying to tell you.\r\n\r\nChange the following line from:\r\n\r\n    TextInputEditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;\r\n\r\nto:\r\n\r\n    EditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;","title":"incompatible types: Editable cannot be converted to char[] when trying to get the text from text inputs","body":"<p>Try getting the String value of the view with the following.</p>\n<pre><code>fullname = textInputEditTextName.getText().toString();\n</code></pre>\n<p>Edit for a follow up question:</p>\n<p>Read that error message and try to understand what it's telling you:</p>\n<pre><code>unexpected implicit cast to textInputEditText: Layout tag was editText\n</code></pre>\n<p>Look at your LayoutFile. The views you are using for name, username, password and email are &quot;EditText&quot;.</p>\n<p>However back in your activity class, you aren't instantiating these fields with EditText, but rather TextInputEditText. That's what the tooltip error is trying to tell you.</p>\n<p>Change the following line from:</p>\n<pre><code>TextInputEditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;\n</code></pre>\n<p>to:</p>\n<pre><code>EditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;\n</code></pre>\n"}],"owner":{"account_id":23410654,"reputation":1,"user_id":17472403,"display_name":"Wolo Lo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637675480,"creation_date":1637606141,"question_id":70070783,"body_markdown":"I am trying to get the text out of text edits and am running into a problem where it says they the editable cannot be converted to char. I am guessing that there is some wrong datatype somewhere but I am unsure. the part that pertains to this code is to get values out of these text Layouts for comparison to a database for a login system.\r\n\r\n    public class registerActivity extends AppCompatActivity {\r\n        TextInputEditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;\r\n        Button btnRegister;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n      //here  \r\n                textInputEditTextName = findViewById(R.id.txtName);\r\n                textInputEditTextEmail = findViewById(R.id.txtEmail);\r\n                textInputEditTextUsername = findViewById(R.id.txtUsername);\r\n                textInputEditTextPassword = findViewById(R.id.txtPassword);\r\n    \r\n    //to here\r\n                btnRegister =findViewById(R.id.btnRegister);\r\n        \r\n            btnRegister.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String fullname, password, username, email;\r\n\r\n    //here\r\n                        fullname = String.copyValueOf(textInputEditTextName.getText());\r\n                        email = String.copyValueOf(textInputEditTextEmail.getText());\r\n                        username = String.copyValueOf(textInputEditTextUsername.getText());\r\n                        password = String.copyValueOf(textInputEditTextPassword.getText());\r\n    //to here\r\n\r\n\r\nI am getting the error at the parts I indicated between the comments //here,//to here.\r\nthe error lies with the names of the TextInputLayouts which I declared just under the start of the class.\r\n\r\n\r\n[new complete error][1]\r\n\r\n\r\n[picture of error][2]\r\n\r\n\r\n\r\nand this is my complete activity_register.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.registerActivity&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;34dp&quot;\r\n            android:layout_height=&quot;33dp&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_compass&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;FlyBy&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.095&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtEmail&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Email&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txtName&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtName&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;68dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;full name&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtUsername&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Username&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txtEmail&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/txtPassword&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:text=&quot;Password&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txtUsername&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Register&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/txtName&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.527&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnRegister&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Register&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txtPassword&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.112&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnToLogin&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Login&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;32dp&quot;\r\n            android:text=&quot;already have an account?&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/btnRegister&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IuEet.png\r\n  [2]: https://i.stack.imgur.com/MQGax.png","title":"incompatible types: Editable cannot be converted to char[] when trying to get the text from text inputs","body":"<p>I am trying to get the text out of text edits and am running into a problem where it says they the editable cannot be converted to char. I am guessing that there is some wrong datatype somewhere but I am unsure. the part that pertains to this code is to get values out of these text Layouts for comparison to a database for a login system.</p>\n<pre><code>public class registerActivity extends AppCompatActivity {\n    TextInputEditText textInputEditTextName,textInputEditTextEmail, textInputEditTextUsername, textInputEditTextPassword;\n    Button btnRegister;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n  //here  \n            textInputEditTextName = findViewById(R.id.txtName);\n            textInputEditTextEmail = findViewById(R.id.txtEmail);\n            textInputEditTextUsername = findViewById(R.id.txtUsername);\n            textInputEditTextPassword = findViewById(R.id.txtPassword);\n\n//to here\n            btnRegister =findViewById(R.id.btnRegister);\n    \n        btnRegister.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String fullname, password, username, email;\n\n//here\n                    fullname = String.copyValueOf(textInputEditTextName.getText());\n                    email = String.copyValueOf(textInputEditTextEmail.getText());\n                    username = String.copyValueOf(textInputEditTextUsername.getText());\n                    password = String.copyValueOf(textInputEditTextPassword.getText());\n//to here\n</code></pre>\n<p>I am getting the error at the parts I indicated between the comments //here,//to here.\nthe error lies with the names of the TextInputLayouts which I declared just under the start of the class.</p>\n<p><a href=\"https://i.stack.imgur.com/IuEet.png\" rel=\"nofollow noreferrer\">new complete error</a></p>\n<p><a href=\"https://i.stack.imgur.com/MQGax.png\" rel=\"nofollow noreferrer\">picture of error</a></p>\n<p>and this is my complete activity_register.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.registerActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;34dp&quot;\n        android:layout_height=&quot;33dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n        app:srcCompat=&quot;@android:drawable/ic_menu_compass&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;FlyBy&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.095&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtEmail&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Email&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtName&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;68dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;full name&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtUsername&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Username&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtEmail&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/txtPassword&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;Password&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtUsername&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Register&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/txtName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\n        app:layout_constraintVertical_bias=&quot;0.527&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnRegister&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Register&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtPassword&quot;\n        app:layout_constraintVertical_bias=&quot;0.112&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnToLogin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Login&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:text=&quot;already have an account?&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/btnRegister&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1637513974,"post_id":70056385,"comment_id":123840612,"body_markdown":"Not sure this will help: Take a look at the C code in usb4java.  It has java callable functions.  https://github.com › usb4java","body":"Not sure this will help: Take a look at the C code in usb4java.  It has java callable functions.  <a href=\"https://github.com\" rel=\"nofollow noreferrer\">github.com</a> › usb4java"},{"owner":{"account_id":17061535,"reputation":156,"user_id":12344841,"display_name":"Vadim Hagedorn"},"score":0,"creation_date":1637517492,"post_id":70056385,"comment_id":123841658,"body_markdown":"If that variable is a declared within a class (ie on the heap), then you can get the field id and do stuff similar to reflection (see https://stackoverflow.com/questions/19429955/get-an-instance-variable-in-a-java-class-from-c-jni). If you&#39;re trying to do this on the stack, then you&#39;re on your own.\nIt would be easier just to assign it as the return value, though.","body":"If that variable is a declared within a class (ie on the heap), then you can get the field id and do stuff similar to reflection (see <a href=\"https://stackoverflow.com/questions/19429955/get-an-instance-variable-in-a-java-class-from-c-jni\" title=\"get an instance variable in a java class from c jni\">stackoverflow.com/questions/19429955/&hellip;</a>). If you&#39;re trying to do this on the stack, then you&#39;re on your own. It would be easier just to assign it as the return value, though."}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637521549,"creation_date":1637521549,"answer_id":70057725,"question_id":70056385,"body_markdown":"Java is [pass-by-value][1]. So you can&#39;t modify value of reference even using JNI. Here are some options you can use\r\n\r\n## 1. Add return type to your method\r\n\r\nYou can change signature of your function from \r\n```\r\nvoid c_function(Object o)\r\n```\r\nto\r\n```\r\nObject c_function()\r\n```\r\nSo you can use the following C implementation\r\n```\r\nJNIEXPORT jobject JNICALL Java_Main_func (JNIEnv *env, jclass cls) {\r\n    jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\r\n    jobject obj = (*env)-&gt;AllocObject(env, jcls);\r\n    return obj;\r\n}\r\n```\r\n\r\n## 2. Pass reference inside mutable wrapper\r\n\r\nYou can use `AtomicReference`, `Object[]` or your own custom implmentation.\r\n\r\nHere is an example with `Object[]`\r\n\r\nJava code:\r\n```\r\npublic class Main {\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;Main&quot;);\r\n\t}\r\n\tpublic static native void func(Object[] o);\r\n\r\n\tpublic static void main(String[] argv) {\r\n\t\tObject[] v = new Object[] { null };\r\n\t\tfunc(v);\r\n\t\tSystem.out.println(v[0]);\r\n\t}\r\n}\r\n```\r\nC code:\r\n```\r\nJNIEXPORT void JNICALL Java_Main_func (JNIEnv *env, jclass cls, jobjectArray jarr) {\r\n    jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\r\n    jobject obj = (*env)-&gt;AllocObject(env, jcls);\r\n    (*env)-&gt;SetObjectArrayElement(env, jarr, 0, obj);\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value","title":"How to create a Java object in C (using JNI) that can then be assigned to a variable declared in Java?","body":"<p>Java is <a href=\"https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">pass-by-value</a>. So you can't modify value of reference even using JNI. Here are some options you can use</p>\n<h2>1. Add return type to your method</h2>\n<p>You can change signature of your function from</p>\n<pre><code>void c_function(Object o)\n</code></pre>\n<p>to</p>\n<pre><code>Object c_function()\n</code></pre>\n<p>So you can use the following C implementation</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_Main_func (JNIEnv *env, jclass cls) {\n    jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\n    jobject obj = (*env)-&gt;AllocObject(env, jcls);\n    return obj;\n}\n</code></pre>\n<h2>2. Pass reference inside mutable wrapper</h2>\n<p>You can use <code>AtomicReference</code>, <code>Object[]</code> or your own custom implmentation.</p>\n<p>Here is an example with <code>Object[]</code></p>\n<p>Java code:</p>\n<pre><code>public class Main {\n    static {\n        System.loadLibrary(&quot;Main&quot;);\n    }\n    public static native void func(Object[] o);\n\n    public static void main(String[] argv) {\n        Object[] v = new Object[] { null };\n        func(v);\n        System.out.println(v[0]);\n    }\n}\n</code></pre>\n<p>C code:</p>\n<pre><code>JNIEXPORT void JNICALL Java_Main_func (JNIEnv *env, jclass cls, jobjectArray jarr) {\n    jclass jcls = (*env)-&gt;FindClass(env, &quot;java/lang/Object&quot;);\n    jobject obj = (*env)-&gt;AllocObject(env, jcls);\n    (*env)-&gt;SetObjectArrayElement(env, jarr, 0, obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637675472,"creation_date":1637531103,"answer_id":70058847,"question_id":70056385,"body_markdown":"You appear to be trying to using JNI to implement a method with a *pass by reference* argument.  \r\n\r\nSorry, but it won&#39;t work.  Java arguments are *pass by value*.  Period.\r\n\r\nNo matter what you do in the C code, the Java code is going to pass the **value** of `myVar` as a call argument.  Since the C side is never told what address of `myVar` is, and since (in general) it cannot find this out, you cannot make *call by reference* work.\r\n\r\nInstead, you need to use one of the standard *workarounds* for this limitation in Java:\r\n\r\n  - Just return the value as a regular result and rely on the caller to assign it to the destination variable.\r\n\r\n  - Return multiple value as a result array or object and rely on the caller to assign the values to the destination variables.\r\n\r\n  - Pass an array or object as an argument and return values by modifying its cells of fields.\r\n  \r\n  - In Java 9+ create and pass a `VarHandle`; see https://www.baeldung.com/java-variable-handles.\r\n\r\n  - Use reflection.  This only works if `myVar` is a class or instance field, and you will need to pass the name of the field as a `String` or in the form of a `Field` reference.\r\n\r\nOn the C size, just perform the relevant operations on the Java objects using JNI operations.\r\n\r\n---------------------\r\n\r\nIt is possible (in theory) for the C code to break JNI abstraction and try to find out the address of `myVar` on the stack and assign stuff to it directly.\r\n\r\n  1.  This is nasty / dangerous / non-portable stuff.  It is liable to fail if low-level JVM implementation details change from one platform to the next.  (Including JVM versions on the same hardware.)\r\n\r\n  2.  If you mess up, you are liable to corrupt stack or heap memory with unpredictable consequences.\r\n\r\n  3.  There is no good way for the C side to figure out *which* variable the caller is passing as a parameter.  That&#39;s fine it it is always the same one.  But my reading of the question is that you expect this to work for an arbitrary (reference) variable.\r\n\r\n  ","title":"How to create a Java object in C (using JNI) that can then be assigned to a variable declared in Java?","body":"<p>You appear to be trying to using JNI to implement a method with a <em>pass by reference</em> argument.</p>\n<p>Sorry, but it won't work.  Java arguments are <em>pass by value</em>.  Period.</p>\n<p>No matter what you do in the C code, the Java code is going to pass the <strong>value</strong> of <code>myVar</code> as a call argument.  Since the C side is never told what address of <code>myVar</code> is, and since (in general) it cannot find this out, you cannot make <em>call by reference</em> work.</p>\n<p>Instead, you need to use one of the standard <em>workarounds</em> for this limitation in Java:</p>\n<ul>\n<li><p>Just return the value as a regular result and rely on the caller to assign it to the destination variable.</p>\n</li>\n<li><p>Return multiple value as a result array or object and rely on the caller to assign the values to the destination variables.</p>\n</li>\n<li><p>Pass an array or object as an argument and return values by modifying its cells of fields.</p>\n</li>\n<li><p>In Java 9+ create and pass a <code>VarHandle</code>; see <a href=\"https://www.baeldung.com/java-variable-handles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-variable-handles</a>.</p>\n</li>\n<li><p>Use reflection.  This only works if <code>myVar</code> is a class or instance field, and you will need to pass the name of the field as a <code>String</code> or in the form of a <code>Field</code> reference.</p>\n</li>\n</ul>\n<p>On the C size, just perform the relevant operations on the Java objects using JNI operations.</p>\n<hr />\n<p>It is possible (in theory) for the C code to break JNI abstraction and try to find out the address of <code>myVar</code> on the stack and assign stuff to it directly.</p>\n<ol>\n<li><p>This is nasty / dangerous / non-portable stuff.  It is liable to fail if low-level JVM implementation details change from one platform to the next.  (Including JVM versions on the same hardware.)</p>\n</li>\n<li><p>If you mess up, you are liable to corrupt stack or heap memory with unpredictable consequences.</p>\n</li>\n<li><p>There is no good way for the C side to figure out <em>which</em> variable the caller is passing as a parameter.  That's fine it it is always the same one.  But my reading of the question is that you expect this to work for an arbitrary (reference) variable.</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user7698505"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637675472,"creation_date":1637511854,"question_id":70056385,"body_markdown":"From `C` using `JNI`, I would like to create a `Java` object that is then assigned to a variable declared in `Java`. I have been reading a lot about this subject but so far could not reach to any conclusion or code a solution. Basically, what I would like to do is the following:\r\n\r\nIn `Java`:\r\n\r\n    (...)\r\n\r\n    Object myVar;\r\n\r\n    c_function(myVar);\r\n\r\n    System.out.println(myVar);   // print the content of myVar which was created in C\r\n\r\n    (...)\r\n\r\nIn `C`:\r\n\r\n    #include &quot;jni.h&quot;\r\n\r\n    (...)\r\n\r\n    void c_function(jobject my_var)\r\n    {\r\n        jclass jcls;\r\n\r\n        jcls = env-&gt;FindClass(&quot;java/lang/Object&quot;);\r\n        my_var = env-&gt;AllocObject(jcls);\r\n    }\r\n\r\n    (...)\r\n","title":"How to create a Java object in C (using JNI) that can then be assigned to a variable declared in Java?","body":"<p>From <code>C</code> using <code>JNI</code>, I would like to create a <code>Java</code> object that is then assigned to a variable declared in <code>Java</code>. I have been reading a lot about this subject but so far could not reach to any conclusion or code a solution. Basically, what I would like to do is the following:</p>\n<p>In <code>Java</code>:</p>\n<pre><code>(...)\n\nObject myVar;\n\nc_function(myVar);\n\nSystem.out.println(myVar);   // print the content of myVar which was created in C\n\n(...)\n</code></pre>\n<p>In <code>C</code>:</p>\n<pre><code>#include &quot;jni.h&quot;\n\n(...)\n\nvoid c_function(jobject my_var)\n{\n    jclass jcls;\n\n    jcls = env-&gt;FindClass(&quot;java/lang/Object&quot;);\n    my_var = env-&gt;AllocObject(jcls);\n}\n\n(...)\n</code></pre>\n"},{"tags":["java","r","sharepoint","shiny","webdatarocks"],"answers":[{"tags":[],"owner":{"account_id":22682188,"reputation":76,"user_id":16852401,"display_name":"nadia khodakivska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637675135,"creation_date":1637675135,"answer_id":70082036,"question_id":70018801,"body_markdown":"Kindly note that using a report from the file on your Sharepoint should be set like this: \r\n\r\n    report: &quot;URL-to-your-Sharepoint&quot;\r\n\r\nMeanwhile, the link to your dataset should be included into the **report file**. For example, \r\n\r\n    {\r\n\t\tdataSource: {\r\n\t\t\tfilename: &quot;URL-to-your-datasource&quot;\r\n\t\t}\r\n\t}\r\n\r\n\r\nConsidering the error, please check whether there&#39;re any errors in the console. If yes, provide us a screenshot of the console window so we could continue the investigation. \r\n\r\nFurthermore, you may open an issue on the pivta GitHub: https://github.com/feddelegrand7/pivta/issues \r\n","title":"Is it possible to load a preformatted WebDataRocks report on component startup when the said report is stored in Sharepoint?","body":"<p>Kindly note that using a report from the file on your Sharepoint should be set like this:</p>\n<pre><code>report: &quot;URL-to-your-Sharepoint&quot;\n</code></pre>\n<p>Meanwhile, the link to your dataset should be included into the <strong>report file</strong>. For example,</p>\n<pre><code>{\n    dataSource: {\n        filename: &quot;URL-to-your-datasource&quot;\n    }\n}\n</code></pre>\n<p>Considering the error, please check whether there're any errors in the console. If yes, provide us a screenshot of the console window so we could continue the investigation.</p>\n<p>Furthermore, you may open an issue on the pivta GitHub: <a href=\"https://github.com/feddelegrand7/pivta/issues\" rel=\"nofollow noreferrer\">https://github.com/feddelegrand7/pivta/issues</a></p>\n"}],"owner":{"account_id":23365452,"reputation":1,"user_id":17437125,"display_name":"Tig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637675135,"creation_date":1637233795,"question_id":70018801,"body_markdown":"I have integrated WebDataRocks pivot table into one of our R Shiny applications. This pivot table has a pre-determined format and a dynamic dataset, that is updated in collaboration with the other members of the team. Both the format and dataset files are stored in Sharepoint. My team now wants to be able to open the latest version of the data on component startup rather than having to click in the load button and selecting the report. I have tried to save the link to the file in the argument &quot;*dsource*&quot; and also &quot;report&quot; of the function &quot;*pivta*&quot;, but I always received the same error message: \r\n[![enter image description here][1]][1]\r\n\r\nAny insight is much appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xZ9R5.png","title":"Is it possible to load a preformatted WebDataRocks report on component startup when the said report is stored in Sharepoint?","body":"<p>I have integrated WebDataRocks pivot table into one of our R Shiny applications. This pivot table has a pre-determined format and a dynamic dataset, that is updated in collaboration with the other members of the team. Both the format and dataset files are stored in Sharepoint. My team now wants to be able to open the latest version of the data on component startup rather than having to click in the load button and selecting the report. I have tried to save the link to the file in the argument &quot;<em>dsource</em>&quot; and also &quot;report&quot; of the function &quot;<em>pivta</em>&quot;, but I always received the same error message:\n<a href=\"https://i.stack.imgur.com/xZ9R5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZ9R5.png\" alt=\"enter image description here\" /></a></p>\n<p>Any insight is much appreciated.</p>\n"},{"tags":["java","date","datetime","timezone-offset"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":4,"creation_date":1637573037,"post_id":70063391,"comment_id":123852937,"body_markdown":"What are you hoping to accomplish with the hours/minutes? This sounds like an [XY Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). More context could help to provide a better solution.","body":"What are you hoping to accomplish with the hours/minutes? This sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>. More context could help to provide a better solution."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637674901,"creation_date":1637602256,"answer_id":70070023,"question_id":70063391,"body_markdown":"## java.time\r\n\r\nUse java.time, the modern Java date and time API, for your time work.\r\n\r\n\t\tString input = &quot;GMT+09:30&quot;;\r\n\t\tZoneOffset offset = ZoneOffset.from(GMT_OFFSET_PARSER.parse(input));\r\n\t\tint offsetSeconds = offset.getTotalSeconds();\r\n\t\t\r\n\t\tdouble hours = (double) offsetSeconds / (double) Duration.ofHours(1).toSeconds();\r\n\t\tSystem.out.println(&quot;Hours: &quot; + hours);\r\n\t\t\r\n\t\tlong minutes = Duration.ofSeconds(offsetSeconds).toMinutes();\r\n\t\tSystem.out.println(&quot;Minutes: &quot; + minutes);\r\n\r\nOutput:\r\n\r\n&gt;     Hours: 9.5\r\n&gt;     Minutes: 570\r\n\r\nI used this formatter for parsing:\r\n\r\n\tprivate static final DateTimeFormatter GMT_OFFSET_PARSER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;OOOO&quot;, Locale.ENGLISH);\r\n\r\nYour string, `GMT+09:30`, denotes an offset from GMT. In this example the local time being nine and a half hours ahead of GMT, as is the case in parts of Australia. A `DateTimeFormatter` can parse such an offset much the way it parses a date and/or time. I am specifying the format pattern `OOOO` following this part from the documentation:\r\n\r\n| Symbol | Meaning | Presentation | Examples |\r\n|--------|--------|--------|--------|\r\n| … | … | … | … |\r\n| O | localized zone-offset | offset-O | GMT+8; GMT+08:00; UTC-08:00 |\r\n\r\nFor offset-O we are further informed:\r\n\r\n&gt; **Offset O**: … Four letters outputs the full form, which is localized\r\n&gt; offset text, such as &#39;GMT, with 2-digit hour and minute field,\r\n&gt; optional second field if non-zero, and colon, for example &#39;GMT+08:00&#39;. …\r\n\r\nI noticed that `Locale.ENGLISH` recognized the text `GMT`. I figure that other locales may do the same or require `UTC` instead.\r\n\r\nI trust there to be a whole number of minutes, so the `Duration` class of java.time can make this conversion on its own. Since the hours need not be a whole number, we need to make this conversion ourselves. I simply divide the seconds of the offset by the number of seconds in an hour.\r\n\r\n**Documentation link:** [`DateTimeFormatter`](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html)","title":"How to parse &quot;GMT+09:30&quot; to hours, minutes","body":"<h2>java.time</h2>\n<p>Use java.time, the modern Java date and time API, for your time work.</p>\n<pre><code>    String input = &quot;GMT+09:30&quot;;\n    ZoneOffset offset = ZoneOffset.from(GMT_OFFSET_PARSER.parse(input));\n    int offsetSeconds = offset.getTotalSeconds();\n    \n    double hours = (double) offsetSeconds / (double) Duration.ofHours(1).toSeconds();\n    System.out.println(&quot;Hours: &quot; + hours);\n    \n    long minutes = Duration.ofSeconds(offsetSeconds).toMinutes();\n    System.out.println(&quot;Minutes: &quot; + minutes);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code>Hours: 9.5\nMinutes: 570\n</code></pre>\n</blockquote>\n<p>I used this formatter for parsing:</p>\n<pre><code>private static final DateTimeFormatter GMT_OFFSET_PARSER\n        = DateTimeFormatter.ofPattern(&quot;OOOO&quot;, Locale.ENGLISH);\n</code></pre>\n<p>Your string, <code>GMT+09:30</code>, denotes an offset from GMT. In this example the local time being nine and a half hours ahead of GMT, as is the case in parts of Australia. A <code>DateTimeFormatter</code> can parse such an offset much the way it parses a date and/or time. I am specifying the format pattern <code>OOOO</code> following this part from the documentation:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Symbol</th>\n<th>Meaning</th>\n<th>Presentation</th>\n<th>Examples</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n</tr>\n<tr>\n<td>O</td>\n<td>localized zone-offset</td>\n<td>offset-O</td>\n<td>GMT+8; GMT+08:00; UTC-08:00</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>For offset-O we are further informed:</p>\n<blockquote>\n<p><strong>Offset O</strong>: … Four letters outputs the full form, which is localized\noffset text, such as 'GMT, with 2-digit hour and minute field,\noptional second field if non-zero, and colon, for example 'GMT+08:00'. …</p>\n</blockquote>\n<p>I noticed that <code>Locale.ENGLISH</code> recognized the text <code>GMT</code>. I figure that other locales may do the same or require <code>UTC</code> instead.</p>\n<p>I trust there to be a whole number of minutes, so the <code>Duration</code> class of java.time can make this conversion on its own. Since the hours need not be a whole number, we need to make this conversion ourselves. I simply divide the seconds of the offset by the number of seconds in an hour.</p>\n<p><strong>Documentation link:</strong> <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a></p>\n"}],"owner":{"account_id":3588207,"reputation":11,"user_id":2994840,"display_name":"Huy Phan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637674901,"creation_date":1637572805,"question_id":70063391,"body_markdown":"How to parse &quot;GMT+09:30&quot; to hours, minutes by using Java? &lt;br&gt;\r\nhours: 9.5 &lt;br&gt;\r\nminutes: 570\r\n","title":"How to parse &quot;GMT+09:30&quot; to hours, minutes","body":"<p>How to parse &quot;GMT+09:30&quot; to hours, minutes by using Java? <br>\nhours: 9.5 <br>\nminutes: 570</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1637674694,"post_id":70081863,"comment_id":123885294,"body_markdown":"`ign` in `System.out.println(ign);` does not have access to the `ign` scope (where it&#39;s declared)","body":"<code>ign</code> in <code>System.out.println(ign);</code> does not have access to the <code>ign</code> scope (where it&#39;s declared)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637674764,"post_id":70081863,"comment_id":123885322,"body_markdown":"declare your String outside of the loop","body":"declare your String outside of the loop"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1637675695,"post_id":70081863,"comment_id":123885741,"body_markdown":"also, minor remark: if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)) should be rewritten to: if ( &quot;yes&quot;.equalsIgnoreCase(start)) -&gt; this covers &quot;yes&quot;, &quot;Yes&quot;, &quot;yeS&quot;, .. and any other option. It also won&#39;t throw an NPE if start would happen to be null","body":"also, minor remark: if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)) should be rewritten to: if ( &quot;yes&quot;.equalsIgnoreCase(start)) -&gt; this covers &quot;yes&quot;, &quot;Yes&quot;, &quot;yeS&quot;, .. and any other option. It also won&#39;t throw an NPE if start would happen to be null"},{"owner":{"account_id":23129026,"reputation":11,"user_id":17234399,"display_name":"Christian Dela Cruz"},"score":0,"creation_date":1637897948,"post_id":70081863,"comment_id":123951651,"body_markdown":"Ok, thank you so much @Stultuske!","body":"Ok, thank you so much @Stultuske!"}],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637674703,"creation_date":1637674703,"answer_id":70081921,"question_id":70081863,"body_markdown":"ign variable is inside if block and so not visible outside if block when you do System.out.println().\r\n\r\nYou can declare variable ign outside if block\r\n\r\n    String ign = null;\r\n    if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){ {\r\n        //Your other code\r\n        ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\r\n    }","title":"Calling a string inside a while loop","body":"<p>ign variable is inside if block and so not visible outside if block when you do System.out.println().</p>\n<p>You can declare variable ign outside if block</p>\n<pre><code>String ign = null;\nif (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){ {\n    //Your other code\n    ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637674857,"creation_date":1637674857,"answer_id":70081961,"question_id":70081863,"body_markdown":"You declared `String ign` inside your `if` statement, which means it will be only available within that `if` statement (this is its scope).\r\n\r\nYou are trying to use the `ign` variable outside the `if` statement and as a consequence you get the error. You can fix this by declaring the variable `ign` outside the `if` statement as follows:\r\n```java\r\npublic class ignCalcu {\r\n    public static void main (String[] args){\r\n        Scanner input = new Scanner(System.in);\r\n        char operator;\r\n        Double num1, num2, answer;\r\n        System.out.println(&quot;Welcome to CalcuLegends!&quot;);\r\n        while (true){\r\n            System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\r\n            System.out.println(&quot;Yes or No?&quot;);\r\n            String start = input.nextLine();\r\n            String ign = &quot;&quot;;\r\n            if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\r\n                System.out.println(&quot;What is your favorite color?&quot;);\r\n                String color = input.nextLine();\r\n                System.out.println(&quot;What word describes you the best?&quot;);\r\n                String word = input.nextLine();\r\n                System.out.println(&quot;What is your favorite animal?&quot;);\r\n                String animal = input.nextLine();\r\n\r\n                ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\r\n                System.out.println(&quot;Hi&quot; + ign + &quot;! You are now using Calcore.&quot;);\r\n                break;\r\n            }\r\n            System.out.println(ign);\r\n        }\r\n    }\r\n}\r\n```","title":"Calling a string inside a while loop","body":"<p>You declared <code>String ign</code> inside your <code>if</code> statement, which means it will be only available within that <code>if</code> statement (this is its scope).</p>\n<p>You are trying to use the <code>ign</code> variable outside the <code>if</code> statement and as a consequence you get the error. You can fix this by declaring the variable <code>ign</code> outside the <code>if</code> statement as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ignCalcu {\n    public static void main (String[] args){\n        Scanner input = new Scanner(System.in);\n        char operator;\n        Double num1, num2, answer;\n        System.out.println(&quot;Welcome to CalcuLegends!&quot;);\n        while (true){\n            System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\n            System.out.println(&quot;Yes or No?&quot;);\n            String start = input.nextLine();\n            String ign = &quot;&quot;;\n            if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\n                System.out.println(&quot;What is your favorite color?&quot;);\n                String color = input.nextLine();\n                System.out.println(&quot;What word describes you the best?&quot;);\n                String word = input.nextLine();\n                System.out.println(&quot;What is your favorite animal?&quot;);\n                String animal = input.nextLine();\n\n                ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\n                System.out.println(&quot;Hi&quot; + ign + &quot;! You are now using Calcore.&quot;);\n                break;\n            }\n            System.out.println(ign);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23129026,"reputation":11,"user_id":17234399,"display_name":"Christian Dela Cruz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637675613,"accepted_answer_id":70081961,"answer_count":2,"score":-1,"last_activity_date":1637674857,"creation_date":1637674493,"question_id":70081863,"body_markdown":"so I&#39;m working on an activity and I need help on figuring out how will i get a string that inside a while loop.\r\nThe code below is just a part of my activity so please disregard the doubles and char\r\nThe code:\r\n\r\nimport java.util.Scanner;\r\n\r\n    public class ignCalcu {\r\n\r\n        public static void main (String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            char operator;\r\n            Double num1, num2, answer;\r\n            System.out.println(&quot;Welcome to CalcuLegends!&quot;);\r\n         while (true){\r\n            System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\r\n            System.out.println(&quot;Yes or No?&quot;);\r\n            String start = input.nextLine();\r\n            if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\r\n               System.out.println(&quot;What is your favorite color?&quot;);\r\n               String color = input.nextLine(); \r\n               System.out.println(&quot;What word describes you the best?&quot;);\r\n               String word = input.nextLine();\r\n               System.out.println(&quot;What is your favorite animal?&quot;);\r\n               String animal = input.nextLine();\r\n             \r\n               String ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\r\n               System.out.println(&quot;Hi&quot; + ign + &quot;! You are now using Calcore.&quot;);\r\n               break;\r\n            }\r\n            System.out.println(ign);\r\n           }\r\n           }\r\n           }\r\n\r\nAnd here is the error:\r\n\r\nsource_file.java:26: error: cannot find symbol\r\n            System.out.println(ign);\r\n                               \r\nSymbol:   variable ign \r\n\r\nlocation: class ignCalcu\r\n1 error\r\n","title":"Calling a string inside a while loop","body":"<p>so I'm working on an activity and I need help on figuring out how will i get a string that inside a while loop.\nThe code below is just a part of my activity so please disregard the doubles and char\nThe code:</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class ignCalcu {\n\n    public static void main (String[] args){\n        Scanner input = new Scanner(System.in);\n        char operator;\n        Double num1, num2, answer;\n        System.out.println(&quot;Welcome to CalcuLegends!&quot;);\n     while (true){\n        System.out.println(&quot;Before you use the Calcore, would you like to set an IGN first?&quot;);\n        System.out.println(&quot;Yes or No?&quot;);\n        String start = input.nextLine();\n        if (start.equals(&quot;Yes&quot;) || start.equals(&quot;yes&quot;)){\n           System.out.println(&quot;What is your favorite color?&quot;);\n           String color = input.nextLine(); \n           System.out.println(&quot;What word describes you the best?&quot;);\n           String word = input.nextLine();\n           System.out.println(&quot;What is your favorite animal?&quot;);\n           String animal = input.nextLine();\n         \n           String ign = (&quot; &quot;+color+&quot;_&quot;+word+&quot;_&quot;+animal+&quot; &quot;);\n           System.out.println(&quot;Hi&quot; + ign + &quot;! You are now using Calcore.&quot;);\n           break;\n        }\n        System.out.println(ign);\n       }\n       }\n       }\n</code></pre>\n<p>And here is the error:</p>\n<p>source_file.java:26: error: cannot find symbol\nSystem.out.println(ign);</p>\n<p>Symbol:   variable ign</p>\n<p>location: class ignCalcu\n1 error</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637674778,"creation_date":1637674190,"answer_id":70081784,"question_id":70063887,"body_markdown":"You could use [toD](https://camel.apache.org/components/latest/eips/toD-eip.html) with dynamic uri that gets the **version**, **source** and **id** from message body, headers or exchange properties. You can also use [property-placeholders](https://camel.apache.org/manual/using-propertyplaceholder.html) to define host, port and other configs.\r\n\r\nSince the REST endpoints all use the same structure you can change the **version**, **source** and **id** and use the same URI for most if not all the REST API calls. \r\n\r\n**Example:** \r\n```java\r\npublic class ExampleTest extends CamelTestSupport {\r\n    \r\n    static final String API_DYNAMIC_URI = &quot;https://{{api.uri}}:{{api.port}}/{{api.version}}&quot; \r\n        + &quot;/${exchangeProperty.source}/${exchangeProperty.id}&quot;\r\n        + &quot;?disableStreamCache=true&quot;;\r\n\r\n    @Test\r\n    public void exampleTest() throws Exception {\r\n\r\n        context.adviceWith(context.getRouteDefinition(&quot;exampleRoute&quot;), \r\n            new AdviceWithRouteBuilder(){\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n\r\n                weaveById(&quot;apiEndpoint&quot;)\r\n                    .replace()\r\n                    .toD(&quot;mock:${exchangeProperty.source}/${exchangeProperty.id}&quot;)\r\n                    .setBody().simple(&quot;Source: ${exchangeProperty.source} id: ${exchangeProperty.id}&quot;);\r\n            } \r\n        });        \r\n\r\n        Map&lt;String, Object&gt; body1 = new HashMap&lt;&gt;();\r\n        body1.put(&quot;source&quot;, &quot;source1&quot;);\r\n        body1.put(&quot;id&quot;, &quot;A&quot;);\r\n\r\n        Map&lt;String, Object&gt; body2 = new HashMap&lt;&gt;();\r\n        body2.put(&quot;source&quot;, &quot;source2&quot;);\r\n        body2.put(&quot;id&quot;, &quot;B&quot;);\r\n\r\n        MockEndpoint source1MockEndpoint = getMockEndpoint(&quot;mock:source1/A&quot;);\r\n        source1MockEndpoint.expectedMessageCount(1);\r\n\r\n        MockEndpoint source2MockEndpoint = getMockEndpoint(&quot;mock:source2/B&quot;);\r\n        source2MockEndpoint.expectedMessageCount(2);\r\n        \r\n        startCamelContext();\r\n        template.sendBody(&quot;direct:start&quot;, body1);\r\n        \r\n        template.sendBody(&quot;direct:start&quot;, body2);\r\n        template.sendBody(&quot;direct:start&quot;, body2);\r\n\r\n        source1MockEndpoint.assertIsSatisfied();\r\n        source2MockEndpoint.assertIsSatisfied();\r\n    }\r\n\r\n    @Override\r\n    protected RoutesBuilder createRouteBuilder() throws Exception {\r\n        \r\n        return new RouteBuilder() {\r\n\r\n            @Override\r\n            public void configure() throws Exception {\r\n             \r\n                from(&quot;direct:start&quot;)\r\n                    .routeId(&quot;exampleRoute&quot;)\r\n                    .setProperty(&quot;source&quot;).simple(&quot;${body[&#39;source&#39;]}&quot;)\r\n                    .setProperty(&quot;id&quot;).simple(&quot;${body[&#39;id&#39;]}&quot;)\r\n                    .toD(API_DYNAMIC_URI).id(&quot;apiEndpoint&quot;)\r\n                    .log(&quot;Received: ${body}&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    protected Properties useOverridePropertiesWithPropertiesComponent() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;api.uri&quot;, &quot;localhost&quot;);\r\n        properties.put(&quot;api.port&quot;, &quot;3000&quot;);\r\n        properties.put(&quot;api.version&quot;, &quot;v1&quot;);\r\n        return properties;\r\n    }\r\n \r\n    @Override\r\n    public boolean isUseAdviceWith() {\r\n        return true;\r\n    }\r\n}\r\n```","title":"Apache Camel: best practice how to consume data from multiple REST endpoints","body":"<p>You could use <a href=\"https://camel.apache.org/components/latest/eips/toD-eip.html\" rel=\"nofollow noreferrer\">toD</a> with dynamic uri that gets the <strong>version</strong>, <strong>source</strong> and <strong>id</strong> from message body, headers or exchange properties. You can also use <a href=\"https://camel.apache.org/manual/using-propertyplaceholder.html\" rel=\"nofollow noreferrer\">property-placeholders</a> to define host, port and other configs.</p>\n<p>Since the REST endpoints all use the same structure you can change the <strong>version</strong>, <strong>source</strong> and <strong>id</strong> and use the same URI for most if not all the REST API calls.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleTest extends CamelTestSupport {\n    \n    static final String API_DYNAMIC_URI = &quot;https://{{api.uri}}:{{api.port}}/{{api.version}}&quot; \n        + &quot;/${exchangeProperty.source}/${exchangeProperty.id}&quot;\n        + &quot;?disableStreamCache=true&quot;;\n\n    @Test\n    public void exampleTest() throws Exception {\n\n        context.adviceWith(context.getRouteDefinition(&quot;exampleRoute&quot;), \n            new AdviceWithRouteBuilder(){\n\n            @Override\n            public void configure() throws Exception {\n\n                weaveById(&quot;apiEndpoint&quot;)\n                    .replace()\n                    .toD(&quot;mock:${exchangeProperty.source}/${exchangeProperty.id}&quot;)\n                    .setBody().simple(&quot;Source: ${exchangeProperty.source} id: ${exchangeProperty.id}&quot;);\n            } \n        });        \n\n        Map&lt;String, Object&gt; body1 = new HashMap&lt;&gt;();\n        body1.put(&quot;source&quot;, &quot;source1&quot;);\n        body1.put(&quot;id&quot;, &quot;A&quot;);\n\n        Map&lt;String, Object&gt; body2 = new HashMap&lt;&gt;();\n        body2.put(&quot;source&quot;, &quot;source2&quot;);\n        body2.put(&quot;id&quot;, &quot;B&quot;);\n\n        MockEndpoint source1MockEndpoint = getMockEndpoint(&quot;mock:source1/A&quot;);\n        source1MockEndpoint.expectedMessageCount(1);\n\n        MockEndpoint source2MockEndpoint = getMockEndpoint(&quot;mock:source2/B&quot;);\n        source2MockEndpoint.expectedMessageCount(2);\n        \n        startCamelContext();\n        template.sendBody(&quot;direct:start&quot;, body1);\n        \n        template.sendBody(&quot;direct:start&quot;, body2);\n        template.sendBody(&quot;direct:start&quot;, body2);\n\n        source1MockEndpoint.assertIsSatisfied();\n        source2MockEndpoint.assertIsSatisfied();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() throws Exception {\n        \n        return new RouteBuilder() {\n\n            @Override\n            public void configure() throws Exception {\n             \n                from(&quot;direct:start&quot;)\n                    .routeId(&quot;exampleRoute&quot;)\n                    .setProperty(&quot;source&quot;).simple(&quot;${body['source']}&quot;)\n                    .setProperty(&quot;id&quot;).simple(&quot;${body['id']}&quot;)\n                    .toD(API_DYNAMIC_URI).id(&quot;apiEndpoint&quot;)\n                    .log(&quot;Received: ${body}&quot;);\n            }\n        };\n    }\n\n    @Override\n    protected Properties useOverridePropertiesWithPropertiesComponent() {\n        Properties properties = new Properties();\n        properties.put(&quot;api.uri&quot;, &quot;localhost&quot;);\n        properties.put(&quot;api.port&quot;, &quot;3000&quot;);\n        properties.put(&quot;api.version&quot;, &quot;v1&quot;);\n        return properties;\n    }\n \n    @Override\n    public boolean isUseAdviceWith() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637674778,"creation_date":1637575021,"question_id":70063887,"body_markdown":"I am consuming data from REST endpoints (order of 1000+) which all have the same structure:\r\n\r\n    &lt;server uri&gt;/v1/source/&lt;some ID&gt;\r\n\r\nI am using RouteBuilder components like this connecting to the individual endpoint ````&lt;ID&gt;````:\r\n\r\n    @Component\r\n    public class Route_to_&lt;ID&gt; extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;timer:mytimer?repeatCount=1&quot;) //\r\n                .setBody(simple(&quot;${null}&quot;)) //\r\n                .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\r\n                .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\r\n                .to(\r\n                        &lt;server uri&gt;/v1/source/&lt;ID&gt;\r\n                                + _deviceName + &quot;::&quot; + _deviceProperty //\r\n                                + &quot;?disableStreamCache=true&quot; //\r\n                ) //\r\n                .process(data -&gt; {\r\n                    ... do same stuff for all endpoints ...\r\n                });\r\n    }\r\n}\r\n\r\nThe corresponding ````SpringBootApplication````looks like this:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;my.package.where.components.reside&quot;)\r\n    public class MyRouteHandler {\r\n\r\n    }\r\n\r\nIs there an elegant way to start all the individual routes to endpoints ````&lt;ID&gt;````in one go using one single ````SpringBootApplication````? Or does every route need an individual ````SpringBootApplication```` which is to be started individually?","title":"Apache Camel: best practice how to consume data from multiple REST endpoints","body":"<p>I am consuming data from REST endpoints (order of 1000+) which all have the same structure:</p>\n<pre><code>&lt;server uri&gt;/v1/source/&lt;some ID&gt;\n</code></pre>\n<p>I am using RouteBuilder components like this connecting to the individual endpoint <code>&lt;ID&gt;</code>:</p>\n<pre><code>@Component\npublic class Route_to_&lt;ID&gt; extends RouteBuilder {\n\n@Override\npublic void configure() throws Exception {\n    from(&quot;timer:mytimer?repeatCount=1&quot;) //\n            .setBody(simple(&quot;${null}&quot;)) //\n            .setHeader(Exchange.CONTENT_TYPE, simple(&quot;text/event-stream&quot;))\n            .setHeader(&quot;CamelHttpMethod&quot;, simple(&quot;GET&quot;))\n            .to(\n                    &lt;server uri&gt;/v1/source/&lt;ID&gt;\n                            + _deviceName + &quot;::&quot; + _deviceProperty //\n                            + &quot;?disableStreamCache=true&quot; //\n            ) //\n            .process(data -&gt; {\n                ... do same stuff for all endpoints ...\n            });\n}\n</code></pre>\n<p>}</p>\n<p>The corresponding <code>SpringBootApplication</code>looks like this:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;my.package.where.components.reside&quot;)\npublic class MyRouteHandler {\n\n}\n</code></pre>\n<p>Is there an elegant way to start all the individual routes to endpoints <code>&lt;ID&gt;</code>in one go using one single <code>SpringBootApplication</code>? Or does every route need an individual <code>SpringBootApplication</code> which is to be started individually?</p>\n"},{"tags":["java","unit-testing","testing","junit","junit5"],"comments":[{"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"score":0,"creation_date":1637676126,"post_id":70081841,"comment_id":123885956,"body_markdown":"Also, if possible you might consider using the more up-to-date JUnit 5 (&quot;Jupiter&quot;). Your annotations would then be `@BeforeEach` and `@BeforeAll`. It also supports nested test classes, parameterized tests, extensions, fancy stuff like `@DisplayName(&quot;…&quot;)` … and it allows you to even exchange the complete test engine—if you should need to.","body":"Also, if possible you might consider using the more up-to-date JUnit 5 (&quot;Jupiter&quot;). Your annotations would then be <code>@BeforeEach</code> and <code>@BeforeAll</code>. It also supports nested test classes, parameterized tests, extensions, fancy stuff like <code>@DisplayName(&quot;…&quot;)</code> … and it allows you to even exchange the complete test engine—if you should need to."},{"owner":{"display_name":"user17186249"},"score":0,"creation_date":1637730948,"post_id":70081841,"comment_id":123901791,"body_markdown":"Yes, I also thought that and of course can use @BeforeEach and @BeforeAll. However, I just need to be clarified about the Unit Test convention for re-using the same variables (e.g. just defining once in @BeforeEach **OR** @BeforeAll, clear the variables on  `@AfterEach`. So, what is the proper approach for this situation? I think it is a really common situation and there must be a general approach for that. Any idea?","body":"Yes, I also thought that and of course can use @BeforeEach and @BeforeAll. However, I just need to be clarified about the Unit Test convention for re-using the same variables (e.g. just defining once in @BeforeEach <b>OR</b> @BeforeAll, clear the variables on  <code>@AfterEach</code>. So, what is the proper approach for this situation? I think it is a really common situation and there must be a general approach for that. Any idea?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637674706,"creation_date":1637674706,"answer_id":70081923,"question_id":70081841,"body_markdown":"Nothing to worry about. JUnit will create a new instance of your test class, and then run each `@Before` method, and only then run the `@Test` method, and it does that song and dance routine all over again __for every `@Test` annotated method in that class__. You&#39;re using `@Before` exactly as it was intended: It&#39;s for storing initialization code that is required for all the tests in that test class.\r\n\r\nJUnit does it this way because &#39;test independence&#39; is nice to have: Tests, preferably, fail or pass independent of the ordering in which you execute them.\r\n\r\nEvery so often the init process is so expensive that it&#39;s not worth it to pay the &#39;cost&#39; of running it over and over again for every test. The annotation `@BeforeClass` exists specifically for _that_ purpose. The javadoc of `@BeforeClass` even spells out that this compromises test independence and should therefore only be used if the setup work you do within such a method is sufficiently expensive (computationally or otherwise) to make that tradeoff.\r\n\r\nIn other words:\r\n\r\nYour worries about test independence are real, but they apply to `@BeforeClass`. `@Before` doesn&#39;t suffer from this problem; that code is re-run for every test.\r\n\r\nNB: You can toss all this out the window if you have `static` stuff going on. Don&#39;t have static stuff in test code unless you really know what you&#39;re doing. I assume you don&#39;t have that in which case - carry on, your tests are independent.\r\n","title":"Should I use the same variables throught entire Unit Test?","body":"<p>Nothing to worry about. JUnit will create a new instance of your test class, and then run each <code>@Before</code> method, and only then run the <code>@Test</code> method, and it does that song and dance routine all over again <strong>for every <code>@Test</code> annotated method in that class</strong>. You're using <code>@Before</code> exactly as it was intended: It's for storing initialization code that is required for all the tests in that test class.</p>\n<p>JUnit does it this way because 'test independence' is nice to have: Tests, preferably, fail or pass independent of the ordering in which you execute them.</p>\n<p>Every so often the init process is so expensive that it's not worth it to pay the 'cost' of running it over and over again for every test. The annotation <code>@BeforeClass</code> exists specifically for <em>that</em> purpose. The javadoc of <code>@BeforeClass</code> even spells out that this compromises test independence and should therefore only be used if the setup work you do within such a method is sufficiently expensive (computationally or otherwise) to make that tradeoff.</p>\n<p>In other words:</p>\n<p>Your worries about test independence are real, but they apply to <code>@BeforeClass</code>. <code>@Before</code> doesn't suffer from this problem; that code is re-run for every test.</p>\n<p>NB: You can toss all this out the window if you have <code>static</code> stuff going on. Don't have static stuff in test code unless you really know what you're doing. I assume you don't have that in which case - carry on, your tests are independent.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1637674706,"creation_date":1637674402,"question_id":70081841,"body_markdown":"I am creating Unit Tests in Java and for each method, I create the same lists, variables, etc. On the other hand, of course I thought that I could create all of these variables as global and set their values in the `setup()` method (in `@Before`), but I am not sure if the values may be changed when running tests due to multithreading, etc. So, what is the best way for this situation?","title":"Should I use the same variables throught entire Unit Test?","body":"<p>I am creating Unit Tests in Java and for each method, I create the same lists, variables, etc. On the other hand, of course I thought that I could create all of these variables as global and set their values in the <code>setup()</code> method (in <code>@Before</code>), but I am not sure if the values may be changed when running tests due to multithreading, etc. So, what is the best way for this situation?</p>\n"},{"tags":["java","spring","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637674558,"creation_date":1637674558,"answer_id":70081877,"question_id":70077424,"body_markdown":"So that you are able to autowire a bean you need to register that bean as a Spring-managed bean. You can do that in multiple ways, being the following ones the simplest ones:\r\n\r\n**1) @Component annotation**\r\n\r\nIf you annotate `A` with `@Component` Spring will create an instance of the class and register it as a Spring-managed bean:\r\n```java\r\n@Component\r\nClass A {\r\n  B b;\r\n  C c;\r\n//setter based injection\r\n}\r\n```\r\n\r\n**2) @Bean annotation**\r\n\r\nAnother way to register a Bean is using a Configuration class and the `@Bean` annotation:\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n    @Bean\r\n    public A a() {\r\n        return new A();\r\n    }\r\n}\r\n```\r\n\r\nIf I understood correctly your use case, you will need to use option 2).","title":"Dependency Injection for Plugin Class","body":"<p>So that you are able to autowire a bean you need to register that bean as a Spring-managed bean. You can do that in multiple ways, being the following ones the simplest ones:</p>\n<p><strong>1) @Component annotation</strong></p>\n<p>If you annotate <code>A</code> with <code>@Component</code> Spring will create an instance of the class and register it as a Spring-managed bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nClass A {\n  B b;\n  C c;\n//setter based injection\n}\n</code></pre>\n<p><strong>2) @Bean annotation</strong></p>\n<p>Another way to register a Bean is using a Configuration class and the <code>@Bean</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n    @Bean\n    public A a() {\n        return new A();\n    }\n}\n</code></pre>\n<p>If I understood correctly your use case, you will need to use option 2).</p>\n"}],"owner":{"account_id":23380974,"reputation":11,"user_id":17447692,"display_name":"Mars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637674558,"creation_date":1637655342,"question_id":70077424,"body_markdown":"I have a class in a jar file like \r\n```kotlin\r\nClass A {\r\n  B b;\r\n  C c;\r\n//setter based injection\r\n}\r\n```\r\n\r\nNow I want to create a bean of A in a different project. But I don&#39;t have any main class to configure the Spring application. I have a plugin in my pom.xml which calls Class D in my project.\r\nIf I create a bean with the `new` keyword all the autowired beans in the jar will not be available.\r\nplease suggest any methods to do this. \r\n\r\nNote: This is a Spring application, Not Spring boot.","title":"Dependency Injection for Plugin Class","body":"<p>I have a class in a jar file like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Class A {\n  B b;\n  C c;\n//setter based injection\n}\n</code></pre>\n<p>Now I want to create a bean of A in a different project. But I don't have any main class to configure the Spring application. I have a plugin in my pom.xml which calls Class D in my project.\nIf I create a bean with the <code>new</code> keyword all the autowired beans in the jar will not be available.\nplease suggest any methods to do this.</p>\n<p>Note: This is a Spring application, Not Spring boot.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1637667435,"post_id":70079975,"comment_id":123882347,"body_markdown":"For starters, [`@MockBean`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html) should be used to add mocks required by your class under test to the context. So `controllerMapper` should not be a mock as it&#39;s what you want to test. Actually it does not even have to be there as it &quot;_will be invoked via `mvc.perform(...)`_&quot;. Howerver, you probably need to define and provide mock behaviours for the DAOs and the data handler it interacts with. See the `WebMockTest` [here](https://spring.io/guides/gs/testing-web/) for an example.","body":"For starters, <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"nofollow noreferrer\"><code>@MockBean</code></a> should be used to add mocks required by your class under test to the context. So <code>controllerMapper</code> should not be a mock as it&#39;s what you want to test. Actually it does not even have to be there as it &quot;<i>will be invoked via <code>mvc.perform(...)</code></i>&quot;. Howerver, you probably need to define and provide mock behaviours for the DAOs and the data handler it interacts with. See the <code>WebMockTest</code> <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a> for an example."},{"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"score":0,"creation_date":1637669562,"post_id":70079975,"comment_id":123883213,"body_markdown":"In first place I added  @MockBean private DataHandlerController dataHandlerController, but i replaced it with controllerMapper because this error &quot;Error creating bean with name &#39;controllerMapper&#39;: Unsatisfied dependency expressed through field &#39;daoRng&#39;;&quot; Now I understand that mocks for the DAOs should be added. I will check the article you gave and try to fix the test. Thank you for your advice.","body":"In first place I added  @MockBean private DataHandlerController dataHandlerController, but i replaced it with controllerMapper because this error &quot;Error creating bean with name &#39;controllerMapper&#39;: Unsatisfied dependency expressed through field &#39;daoRng&#39;;&quot; Now I understand that mocks for the DAOs should be added. I will check the article you gave and try to fix the test. Thank you for your advice."}],"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637674458,"creation_date":1637666461,"question_id":70079975,"body_markdown":"I&#39;m &quot;green&quot; with Junit testing and I have some difficultys testing the ControllerMapper.class of my SpringBoot project. The program works fine, it takes and return json data. I tried to approach the tests after looking at the exercises for RestController testing of Dan Vega and Amigocode on their YouTube channels, but without success. \r\n\r\nThis is the class I want to test:\r\n\r\n    @Component\r\n    @RequestMapping(value = {&quot;&quot;,&quot;/&quot;}, produces {&quot;application/json&quot;,&quot;application/xml&quot;},method = RequestMethod.POST)\r\n    public class ControllerMapper {\r\n\r\n        //GLOBAL dependency injection\r\n        @Autowired\r\n        @Qualifier(&quot;rng&quot;)\r\n        private Dao&lt;Rng&gt; daoRng;\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;user&quot;)\r\n        private  Dao&lt;User&gt; daoUser;\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;fingerprint&quot;)\r\n        private  Dao&lt;Fingerprint&gt; daoFingerprint;\r\n\r\n        @Autowired\r\n        DataHandlerController dataHandler = new DataHandlerController();\r\n\r\n        @ResponseBody\r\n        @RequestMapping(value = &quot;/finger-identification&quot;, produces = { &quot;application/json&quot;,&quot;application/xml&quot;}, method = RequestMethod.GET)\r\n        public Object administrationPage(HttpServletRequest request, HttpServletResponse response) throws IOException, ParseException {\r\n            return dataHandler.fingerIdentification(request, response, daoUser, daoFingerprint, daoRng);\r\n        }\r\n    }\r\n\r\nThis is the test I tried to build:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(ControllerMapper.class)\r\n    public class ControllerMapperIntTest {\r\n\r\n       @Autowired\r\n       private MockMvc mvc;\r\n\r\n       @MockBean\r\n       private ControllerMapper controllerMapper;\r\n\r\n       @Test\r\n       public void administrationPage() throws Exception {\r\n          //given\r\n\r\n          //when\r\n          RequestBuilder request = MockMvcRequestBuilders.get(&quot;/finger-identification&quot;);\r\n          MvcResult result = mvc.perform(request).andReturn();\r\n\r\n          //then\r\n          assertEquals(&quot;true&quot;, result.getResponse().getContentAsString());\r\n       }\r\n    }","title":"Junit tests on ControllerMapper class","body":"<p>I'm &quot;green&quot; with Junit testing and I have some difficultys testing the ControllerMapper.class of my SpringBoot project. The program works fine, it takes and return json data. I tried to approach the tests after looking at the exercises for RestController testing of Dan Vega and Amigocode on their YouTube channels, but without success.</p>\n<p>This is the class I want to test:</p>\n<pre><code>@Component\n@RequestMapping(value = {&quot;&quot;,&quot;/&quot;}, produces {&quot;application/json&quot;,&quot;application/xml&quot;},method = RequestMethod.POST)\npublic class ControllerMapper {\n\n    //GLOBAL dependency injection\n    @Autowired\n    @Qualifier(&quot;rng&quot;)\n    private Dao&lt;Rng&gt; daoRng;\n\n    @Autowired\n    @Qualifier(&quot;user&quot;)\n    private  Dao&lt;User&gt; daoUser;\n\n    @Autowired\n    @Qualifier(&quot;fingerprint&quot;)\n    private  Dao&lt;Fingerprint&gt; daoFingerprint;\n\n    @Autowired\n    DataHandlerController dataHandler = new DataHandlerController();\n\n    @ResponseBody\n    @RequestMapping(value = &quot;/finger-identification&quot;, produces = { &quot;application/json&quot;,&quot;application/xml&quot;}, method = RequestMethod.GET)\n    public Object administrationPage(HttpServletRequest request, HttpServletResponse response) throws IOException, ParseException {\n        return dataHandler.fingerIdentification(request, response, daoUser, daoFingerprint, daoRng);\n    }\n}\n</code></pre>\n<p>This is the test I tried to build:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(ControllerMapper.class)\npublic class ControllerMapperIntTest {\n\n   @Autowired\n   private MockMvc mvc;\n\n   @MockBean\n   private ControllerMapper controllerMapper;\n\n   @Test\n   public void administrationPage() throws Exception {\n      //given\n\n      //when\n      RequestBuilder request = MockMvcRequestBuilders.get(&quot;/finger-identification&quot;);\n      MvcResult result = mvc.perform(request).andReturn();\n\n      //then\n      assertEquals(&quot;true&quot;, result.getResponse().getContentAsString());\n   }\n}\n</code></pre>\n"},{"tags":["java","jdbc","jboss","oracle11gr2"],"answers":[{"tags":[],"owner":{"account_id":1405343,"reputation":43,"user_id":1333220,"accept_rate":89,"display_name":"daly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460450322,"creation_date":1459786600,"answer_id":36407815,"question_id":36407302,"body_markdown":"OK I resolved with putting  xa-datasource-class on `&lt;drivers&gt;` in standalone.xml\r\n\r\n    &lt;driver name=&quot;OracleJDBCDriver&quot; module=&quot;com.oracle.jdbc&quot;&gt;\r\n    &lt;xa-datasource-class&gt;oracle.jdbc.driver.OracleDriver&lt;/xa-datasource-class&gt;\r\n    \r\n    &lt;/driver&gt;\r\n","title":"jboss as 7 Unable to connect to oracle 11.2.0.1.0","body":"<p>OK I resolved with putting  xa-datasource-class on <code>&lt;drivers&gt;</code> in standalone.xml</p>\n\n<pre><code>&lt;driver name=\"OracleJDBCDriver\" module=\"com.oracle.jdbc\"&gt;\n&lt;xa-datasource-class&gt;oracle.jdbc.driver.OracleDriver&lt;/xa-datasource-class&gt;\n\n&lt;/driver&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13680312,"reputation":1,"user_id":9870833,"display_name":"Soreti Alemu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637674395,"creation_date":1637674395,"answer_id":70081839,"question_id":36407302,"body_markdown":"In My case, the DB user was locked so I had to alter the user by the following command and it worked. \r\n\r\nCommand-&gt; alter user [username] identified by [password] account unlock;\r\n\r\nTo check how it was locked just do\r\n1. sqlplus and hit enter\r\n2. it will prompt your DB&#39;s username and password enter the DB username and password\r\n3. then it will tell you that the account is locked","title":"jboss as 7 Unable to connect to oracle 11.2.0.1.0","body":"<p>In My case, the DB user was locked so I had to alter the user by the following command and it worked.</p>\n<p>Command-&gt; alter user [username] identified by [password] account unlock;</p>\n<p>To check how it was locked just do</p>\n<ol>\n<li>sqlplus and hit enter</li>\n<li>it will prompt your DB's username and password enter the DB username and password</li>\n<li>then it will tell you that the account is locked</li>\n</ol>\n"}],"owner":{"account_id":1405343,"reputation":43,"user_id":1333220,"accept_rate":89,"display_name":"daly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36407815,"answer_count":2,"score":0,"last_activity_date":1637674395,"creation_date":1459785064,"question_id":36407302,"body_markdown":"I am on jboss as 7 and i defined an oracle datasouce to oracle 11.2.0.1.0\r\nwhen i use sql developer to connect to this database it works but throuw jboss it&#39;s impossible i&#39;ve got this error \r\n\r\n[org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (HttpManagementService-threads - 4) IJ000604: Throwable while attempting to get \r\n\r\n    a new connection: null: javax.resource.ResourceException: Could not create connection\r\n    \tat org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:277) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:235) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.createConnectionEventListener(SemaphoreArrayListManagedConnectionPool.java:761) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.getConnection(SemaphoreArrayListManagedConnectionPool.java:343) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.AbstractPool.getSimpleConnection(AbstractPool.java:397) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.AbstractPool.getConnection(AbstractPool.java:365) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:627) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:88) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\r\n    \tat org.jboss.as.connector.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:121) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.connector.pool.PoolOperations$1.execute(PoolOperations.java:60) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.connector.pool.PoolOperations.execute(PoolOperations.java:74) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.ModelControllerImpl$DefaultPrepareStepHandler.execute(ModelControllerImpl.java:466) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:121) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.ModelControllerImpl$1.execute(ModelControllerImpl.java:309) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.controller.ModelControllerImpl$1.execute(ModelControllerImpl.java:299) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.domain.http.server.DomainApiHandler.processRequest(DomainApiHandler.java:294)\r\n    \tat org.jboss.as.domain.http.server.DomainApiHandler.doHandle(DomainApiHandler.java:201)\r\n    \tat org.jboss.as.domain.http.server.DomainApiHandler.handle(DomainApiHandler.java:208)\r\n    \tat org.jboss.as.domain.http.server.security.SubjectAssociationHandler.handle(SubjectAssociationHandler.java:51)\r\n    \tat org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:78)\r\n    \tat org.jboss.sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:69)\r\n    \tat org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:81)\r\n    \tat org.jboss.sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:710)\r\n    \tat org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:78)\r\n    \tat org.jboss.as.domain.http.server.RealmReadinessFilter.doFilter(RealmReadinessFilter.java:54)\r\n    \tat org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:81)\r\n    \tat org.jboss.sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_79]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_79]\r\n    \tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.0.0.GA.jar:2.0.0.GA]\r\n    Caused by: java.sql.SQLRecoverableException: Erreur d&#39;E/S: The Network Adapter could not establish the connection\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:489)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:553)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:254)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:528)\r\n    \tat org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:249) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\r\n    \t... 39 more\r\n    Caused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\r\n    \tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:439)\r\n    \tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:454)\r\n    \tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:693)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:251)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1140)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:340)\r\n    \t... 44 more\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) [rt.jar:1.7.0_79]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) [rt.jar:1.7.0_79]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) [rt.jar:1.7.0_79]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) [rt.jar:1.7.0_79]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) [rt.jar:1.7.0_79]\r\n    \tat java.net.Socket.connect(Socket.java:579) [rt.jar:1.7.0_79]\r\n    \tat oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:149)\r\n    \tat oracle.net.nt.ConnOption.connect(ConnOption.java:133)\r\n    \tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:405)\r\n    \t... 49 more\r\n\r\n\r\n\r\nhere is my standalone.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    -&lt;server xmlns=&quot;urn:jboss:domain:1.2&quot;&gt;\r\n    \r\n    \r\n    -&lt;extensions&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.clustering.infinispan&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.configadmin&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.connector&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.deployment-scanner&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.ee&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.ejb3&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.jaxrs&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.jdr&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.jmx&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.jpa&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.logging&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.mail&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.naming&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.osgi&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.pojo&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.remoting&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.sar&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.security&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.threads&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.transactions&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.web&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.webservices&quot;/&gt;\r\n    \r\n    &lt;extension module=&quot;org.jboss.as.weld&quot;/&gt;\r\n    \r\n    &lt;/extensions&gt;\r\n    \r\n    \r\n    -&lt;management&gt;\r\n    \r\n    \r\n    -&lt;security-realms&gt;\r\n    \r\n    \r\n    -&lt;security-realm name=&quot;ManagementRealm&quot;&gt;\r\n    \r\n    \r\n    -&lt;authentication&gt;\r\n    \r\n    &lt;properties relative-to=&quot;jboss.server.config.dir&quot; path=&quot;mgmt-users.properties&quot;/&gt;\r\n    \r\n    &lt;/authentication&gt;\r\n    \r\n    &lt;/security-realm&gt;\r\n    \r\n    \r\n    -&lt;security-realm name=&quot;ApplicationRealm&quot;&gt;\r\n    \r\n    \r\n    -&lt;authentication&gt;\r\n    \r\n    &lt;properties relative-to=&quot;jboss.server.config.dir&quot; path=&quot;application-users.properties&quot;/&gt;\r\n    \r\n    &lt;/authentication&gt;\r\n    \r\n    &lt;/security-realm&gt;\r\n    \r\n    &lt;/security-realms&gt;\r\n    \r\n    \r\n    -&lt;management-interfaces&gt;\r\n    \r\n    \r\n    -&lt;native-interface security-realm=&quot;ManagementRealm&quot;&gt;\r\n    \r\n    &lt;socket-binding native=&quot;management-native&quot;/&gt;\r\n    \r\n    &lt;/native-interface&gt;\r\n    \r\n    \r\n    -&lt;http-interface security-realm=&quot;ManagementRealm&quot;&gt;\r\n    \r\n    &lt;socket-binding http=&quot;management-http&quot;/&gt;\r\n    \r\n    &lt;/http-interface&gt;\r\n    \r\n    &lt;/management-interfaces&gt;\r\n    \r\n    &lt;/management&gt;\r\n    \r\n    \r\n    -&lt;profile&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:1.1&quot;&gt;\r\n    \r\n    \r\n    -&lt;console-handler name=&quot;CONSOLE&quot;&gt;\r\n    \r\n    &lt;level name=&quot;INFO&quot;/&gt;\r\n    \r\n    \r\n    -&lt;formatter&gt;\r\n    \r\n    &lt;pattern-formatter pattern=&quot;%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n&quot;/&gt;\r\n    \r\n    &lt;/formatter&gt;\r\n    \r\n    &lt;/console-handler&gt;\r\n    \r\n    \r\n    -&lt;periodic-rotating-file-handler name=&quot;FILE&quot;&gt;\r\n    \r\n    \r\n    -&lt;formatter&gt;\r\n    \r\n    &lt;pattern-formatter pattern=&quot;%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n&quot;/&gt;\r\n    \r\n    &lt;/formatter&gt;\r\n    \r\n    &lt;file relative-to=&quot;jboss.server.log.dir&quot; path=&quot;server.log&quot;/&gt;\r\n    \r\n    &lt;suffix value=&quot;.yyyy-MM-dd&quot;/&gt;\r\n    \r\n    &lt;append value=&quot;true&quot;/&gt;\r\n    \r\n    &lt;/periodic-rotating-file-handler&gt;\r\n    \r\n    \r\n    -&lt;logger category=&quot;com.arjuna&quot;&gt;\r\n    \r\n    &lt;level name=&quot;WARN&quot;/&gt;\r\n    \r\n    &lt;/logger&gt;\r\n    \r\n    \r\n    -&lt;logger category=&quot;org.apache.tomcat.util.modeler&quot;&gt;\r\n    \r\n    &lt;level name=&quot;WARN&quot;/&gt;\r\n    \r\n    &lt;/logger&gt;\r\n    \r\n    \r\n    -&lt;logger category=&quot;sun.rmi&quot;&gt;\r\n    \r\n    &lt;level name=&quot;WARN&quot;/&gt;\r\n    \r\n    &lt;/logger&gt;\r\n    \r\n    \r\n    -&lt;logger category=&quot;jacorb&quot;&gt;\r\n    \r\n    &lt;level name=&quot;WARN&quot;/&gt;\r\n    \r\n    &lt;/logger&gt;\r\n    \r\n    \r\n    -&lt;logger category=&quot;jacorb.config&quot;&gt;\r\n    \r\n    &lt;level name=&quot;ERROR&quot;/&gt;\r\n    \r\n    &lt;/logger&gt;\r\n    \r\n    \r\n    -&lt;root-logger&gt;\r\n    \r\n    &lt;level name=&quot;INFO&quot;/&gt;\r\n    \r\n    \r\n    -&lt;handlers&gt;\r\n    \r\n    &lt;handler name=&quot;CONSOLE&quot;/&gt;\r\n    \r\n    &lt;handler name=&quot;FILE&quot;/&gt;\r\n    \r\n    &lt;/handlers&gt;\r\n    \r\n    &lt;/root-logger&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:configadmin:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:1.0&quot;&gt;\r\n    \r\n    \r\n    -&lt;datasources&gt;\r\n    \r\n    \r\n    -&lt;datasource use-java-context=&quot;true&quot; enabled=&quot;true&quot; pool-name=&quot;ExampleDS&quot; jndi-name=&quot;java:jboss/datasources/ExampleDS&quot;&gt;\r\n    \r\n    &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;\r\n    \r\n    &lt;driver&gt;h2&lt;/driver&gt;\r\n    \r\n    \r\n    -&lt;security&gt;\r\n    \r\n    &lt;user-name&gt;sa&lt;/user-name&gt;\r\n    \r\n    &lt;password&gt;sa&lt;/password&gt;\r\n    \r\n    &lt;/security&gt;\r\n    \r\n    &lt;/datasource&gt;\r\n    \r\n    \r\n    -&lt;datasource enabled=&quot;true&quot; pool-name=&quot;Argos&quot; jndi-name=&quot;java:/Argos&quot; use-ccm=&quot;false&quot; jta=&quot;false&quot;&gt;\r\n    \r\n    &lt;connection-url&gt;jdbc:oracle:thin:@10.10.61.1:1521:SID&lt;/connection-url&gt;\r\n    \r\n    &lt;driver-class&gt;oracle.jdbc.OracleDriver&lt;/driver-class&gt;\r\n    \r\n    &lt;driver&gt;OracleJDBCDriver&lt;/driver&gt;\r\n    \r\n    \r\n    -&lt;security&gt;\r\n    \r\n    &lt;user-name&gt;argos14&lt;/user-name&gt;\r\n    \r\n    &lt;password&gt;oracle&lt;/password&gt;\r\n    \r\n    &lt;/security&gt;\r\n    \r\n    \r\n    -&lt;validation&gt;\r\n    \r\n    &lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\r\n    \r\n    &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n    \r\n    &lt;/validation&gt;\r\n    \r\n    \r\n    -&lt;statement&gt;\r\n    \r\n    &lt;share-prepared-statements&gt;false&lt;/share-prepared-statements&gt;\r\n    \r\n    &lt;/statement&gt;\r\n    \r\n    &lt;/datasource&gt;\r\n    \r\n    \r\n    -&lt;drivers&gt;\r\n    \r\n    \r\n    -&lt;driver module=&quot;com.h2database.h2&quot; name=&quot;h2&quot;&gt;\r\n    \r\n    &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n    \r\n    &lt;/driver&gt;\r\n    \r\n    &lt;driver module=&quot;com.oracle.jdbc&quot; name=&quot;OracleJDBCDriver&quot;/&gt;\r\n    \r\n    &lt;driver module=&quot;org.postgresql&quot; name=&quot;postgres&quot;/&gt;\r\n    \r\n    &lt;/drivers&gt;\r\n    \r\n    &lt;/datasources&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:deployment-scanner:1.1&quot;&gt;\r\n    \r\n    &lt;deployment-scanner relative-to=&quot;jboss.server.base.dir&quot; path=&quot;deployments&quot; scan-interval=&quot;5000&quot;/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:1.2&quot;&gt;\r\n    \r\n    \r\n    -&lt;session-bean&gt;\r\n    \r\n    \r\n    -&lt;stateless&gt;\r\n    \r\n    &lt;bean-instance-pool-ref pool-name=&quot;slsb-strict-max-pool&quot;/&gt;\r\n    \r\n    &lt;/stateless&gt;\r\n    \r\n    &lt;stateful cache-ref=&quot;simple&quot; default-access-timeout=&quot;5000&quot;/&gt;\r\n    \r\n    &lt;singleton default-access-timeout=&quot;5000&quot;/&gt;\r\n    \r\n    &lt;/session-bean&gt;\r\n    \r\n    \r\n    -&lt;pools&gt;\r\n    \r\n    \r\n    -&lt;bean-instance-pools&gt;\r\n    \r\n    &lt;strict-max-pool name=&quot;slsb-strict-max-pool&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot; instance-acquisition-timeout=&quot;5&quot; max-pool-size=&quot;20&quot;/&gt;\r\n    \r\n    &lt;strict-max-pool name=&quot;mdb-strict-max-pool&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot; instance-acquisition-timeout=&quot;5&quot; max-pool-size=&quot;20&quot;/&gt;\r\n    \r\n    &lt;/bean-instance-pools&gt;\r\n    \r\n    &lt;/pools&gt;\r\n    \r\n    \r\n    -&lt;caches&gt;\r\n    \r\n    &lt;cache name=&quot;simple&quot; aliases=&quot;NoPassivationCache&quot;/&gt;\r\n    \r\n    &lt;cache name=&quot;passivating&quot; aliases=&quot;SimpleStatefulCache&quot; passivation-store-ref=&quot;file&quot;/&gt;\r\n    \r\n    &lt;/caches&gt;\r\n    \r\n    \r\n    -&lt;passivation-stores&gt;\r\n    \r\n    &lt;file-passivation-store name=&quot;file&quot;/&gt;\r\n    \r\n    &lt;/passivation-stores&gt;\r\n    \r\n    &lt;async thread-pool-name=&quot;default&quot;/&gt;\r\n    \r\n    \r\n    -&lt;timer-service thread-pool-name=&quot;default&quot;&gt;\r\n    \r\n    &lt;data-store relative-to=&quot;jboss.server.data.dir&quot; path=&quot;timer-service-data&quot;/&gt;\r\n    \r\n    &lt;/timer-service&gt;\r\n    \r\n    &lt;remote thread-pool-name=&quot;default&quot; connector-ref=&quot;remoting-connector&quot;/&gt;\r\n    \r\n    \r\n    -&lt;thread-pools&gt;\r\n    \r\n    \r\n    -&lt;thread-pool name=&quot;default&quot;&gt;\r\n    \r\n    &lt;max-threads count=&quot;10&quot;/&gt;\r\n    \r\n    &lt;keepalive-time unit=&quot;milliseconds&quot; time=&quot;100&quot;/&gt;\r\n    \r\n    &lt;/thread-pool&gt;\r\n    \r\n    &lt;/thread-pools&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:infinispan:1.2&quot; default-cache-container=&quot;hibernate&quot;&gt;\r\n    \r\n    \r\n    -&lt;cache-container name=&quot;hibernate&quot; default-cache=&quot;local-query&quot;&gt;\r\n    \r\n    \r\n    -&lt;local-cache name=&quot;entity&quot;&gt;\r\n    \r\n    &lt;transaction mode=&quot;NON_XA&quot;/&gt;\r\n    \r\n    &lt;eviction max-entries=&quot;10000&quot; strategy=&quot;LRU&quot;/&gt;\r\n    \r\n    &lt;expiration max-idle=&quot;100000&quot;/&gt;\r\n    \r\n    &lt;/local-cache&gt;\r\n    \r\n    \r\n    -&lt;local-cache name=&quot;local-query&quot;&gt;\r\n    \r\n    &lt;transaction mode=&quot;NONE&quot;/&gt;\r\n    \r\n    &lt;eviction max-entries=&quot;10000&quot; strategy=&quot;LRU&quot;/&gt;\r\n    \r\n    &lt;expiration max-idle=&quot;100000&quot;/&gt;\r\n    \r\n    &lt;/local-cache&gt;\r\n    \r\n    \r\n    -&lt;local-cache name=&quot;timestamps&quot;&gt;\r\n    \r\n    &lt;transaction mode=&quot;NONE&quot;/&gt;\r\n    \r\n    &lt;eviction strategy=&quot;NONE&quot;/&gt;\r\n    \r\n    &lt;/local-cache&gt;\r\n    \r\n    &lt;/cache-container&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:jaxrs:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:jca:1.1&quot;&gt;\r\n    \r\n    &lt;archive-validation enabled=&quot;true&quot; fail-on-warn=&quot;false&quot; fail-on-error=&quot;true&quot;/&gt;\r\n    \r\n    &lt;bean-validation enabled=&quot;true&quot;/&gt;\r\n    \r\n    \r\n    -&lt;default-workmanager&gt;\r\n    \r\n    \r\n    -&lt;short-running-threads&gt;\r\n    \r\n    &lt;core-threads count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;queue-length count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;max-threads count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;keepalive-time unit=&quot;seconds&quot; time=&quot;10&quot;/&gt;\r\n    \r\n    &lt;/short-running-threads&gt;\r\n    \r\n    \r\n    -&lt;long-running-threads&gt;\r\n    \r\n    &lt;core-threads count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;queue-length count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;max-threads count=&quot;50&quot;/&gt;\r\n    \r\n    &lt;keepalive-time unit=&quot;seconds&quot; time=&quot;10&quot;/&gt;\r\n    \r\n    &lt;/long-running-threads&gt;\r\n    \r\n    &lt;/default-workmanager&gt;\r\n    \r\n    &lt;cached-connection-manager/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:jdr:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:jmx:1.1&quot;&gt;\r\n    \r\n    &lt;show-model value=&quot;true&quot;/&gt;\r\n    \r\n    &lt;remoting-connector/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:jpa:1.0&quot;&gt;\r\n    \r\n    &lt;jpa default-datasource=&quot;&quot;/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:mail:1.0&quot;&gt;\r\n    \r\n    \r\n    -&lt;mail-session jndi-name=&quot;java:jboss/mail/Default&quot;&gt;\r\n    \r\n    &lt;smtp-server outbound-socket-binding-ref=&quot;mail-smtp&quot;/&gt;\r\n    \r\n    &lt;/mail-session&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:naming:1.1&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:osgi:1.2&quot; activation=&quot;lazy&quot;&gt;\r\n    \r\n    \r\n    -&lt;properties&gt;\r\n    \r\n    &lt;property name=&quot;org.osgi.framework.startlevel.beginning&quot;&gt; 1 &lt;/property&gt;\r\n    \r\n    &lt;/properties&gt;\r\n    \r\n    \r\n    -&lt;capabilities&gt;\r\n    \r\n    &lt;capability name=&quot;javax.servlet.api:v25&quot;/&gt;\r\n    \r\n    &lt;capability name=&quot;javax.transaction.api&quot;/&gt;\r\n    \r\n    &lt;capability name=&quot;org.apache.felix.log&quot; startlevel=&quot;1&quot;/&gt;\r\n    \r\n    &lt;capability name=&quot;org.jboss.osgi.logging&quot; startlevel=&quot;1&quot;/&gt;\r\n    \r\n    &lt;capability name=&quot;org.apache.felix.configadmin&quot; startlevel=&quot;1&quot;/&gt;\r\n    \r\n    &lt;capability name=&quot;org.jboss.as.osgi.configadmin&quot; startlevel=&quot;1&quot;/&gt;\r\n    \r\n    &lt;/capabilities&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:pojo:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:remoting:1.1&quot;&gt;\r\n    \r\n    &lt;connector name=&quot;remoting-connector&quot; security-realm=&quot;ApplicationRealm&quot; socket-binding=&quot;remoting&quot;/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:1.0&quot;/&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:sar:1.0&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:security:1.1&quot;&gt;\r\n    \r\n    \r\n    -&lt;security-domains&gt;\r\n    \r\n    \r\n    -&lt;security-domain name=&quot;other&quot; cache-type=&quot;default&quot;&gt;\r\n    \r\n    \r\n    -&lt;authentication&gt;\r\n    \r\n    \r\n    -&lt;login-module flag=&quot;optional&quot; code=&quot;Remoting&quot;&gt;\r\n    \r\n    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n    \r\n    &lt;/login-module&gt;\r\n    \r\n    \r\n    -&lt;login-module flag=&quot;required&quot; code=&quot;RealmUsersRoles&quot;&gt;\r\n    \r\n    &lt;module-option name=&quot;usersProperties&quot; value=&quot;${jboss.server.config.dir}/application-users.properties&quot;/&gt;\r\n    \r\n    &lt;module-option name=&quot;rolesProperties&quot; value=&quot;${jboss.server.config.dir}/application-roles.properties&quot;/&gt;\r\n    \r\n    &lt;module-option name=&quot;realm&quot; value=&quot;ApplicationRealm&quot;/&gt;\r\n    \r\n    &lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n    \r\n    &lt;/login-module&gt;\r\n    \r\n    &lt;/authentication&gt;\r\n    \r\n    &lt;/security-domain&gt;\r\n    \r\n    \r\n    -&lt;security-domain name=&quot;jboss-web-policy&quot; cache-type=&quot;default&quot;&gt;\r\n    \r\n    \r\n    -&lt;authorization&gt;\r\n    \r\n    &lt;policy-module flag=&quot;required&quot; code=&quot;Delegating&quot;/&gt;\r\n    \r\n    &lt;/authorization&gt;\r\n    \r\n    &lt;/security-domain&gt;\r\n    \r\n    \r\n    -&lt;security-domain name=&quot;jboss-ejb-policy&quot; cache-type=&quot;default&quot;&gt;\r\n    \r\n    \r\n    -&lt;authorization&gt;\r\n    \r\n    &lt;policy-module flag=&quot;required&quot; code=&quot;Delegating&quot;/&gt;\r\n    \r\n    &lt;/authorization&gt;\r\n    \r\n    &lt;/security-domain&gt;\r\n    \r\n    &lt;/security-domains&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:threads:1.1&quot;/&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:transactions:1.1&quot;&gt;\r\n    \r\n    \r\n    -&lt;core-environment&gt;\r\n    \r\n    \r\n    -&lt;process-id&gt;\r\n    \r\n    &lt;uuid/&gt;\r\n    \r\n    &lt;/process-id&gt;\r\n    \r\n    &lt;/core-environment&gt;\r\n    \r\n    &lt;recovery-environment socket-binding=&quot;txn-recovery-environment&quot; status-socket-binding=&quot;txn-status-manager&quot;/&gt;\r\n    \r\n    &lt;coordinator-environment default-timeout=&quot;300&quot;/&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; native=&quot;false&quot; default-virtual-server=&quot;default-host&quot;&gt;\r\n    \r\n    &lt;connector name=&quot;http&quot; socket-binding=&quot;http&quot; scheme=&quot;http&quot; protocol=&quot;HTTP/1.1&quot;/&gt;\r\n    \r\n    \r\n    -&lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\r\n    \r\n    &lt;alias name=&quot;localhost&quot;/&gt;\r\n    \r\n    &lt;alias name=&quot;example.com&quot;/&gt;\r\n    \r\n    &lt;/virtual-server&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    \r\n    -&lt;subsystem xmlns=&quot;urn:jboss:domain:webservices:1.1&quot;&gt;\r\n    \r\n    &lt;modify-wsdl-address&gt;true&lt;/modify-wsdl-address&gt;\r\n    \r\n    &lt;wsdl-host&gt;${jboss.bind.address:127.0.0.1}&lt;/wsdl-host&gt;\r\n    \r\n    &lt;endpoint-config name=&quot;Standard-Endpoint-Config&quot;/&gt;\r\n    \r\n    \r\n    -&lt;endpoint-config name=&quot;Recording-Endpoint-Config&quot;&gt;\r\n    \r\n    \r\n    -&lt;pre-handler-chain name=&quot;recording-handlers&quot; protocol-bindings=&quot;##SOAP11_HTTP ##SOAP11_HTTP_MTOM ##SOAP12_HTTP ##SOAP12_HTTP_MTOM&quot;&gt;\r\n    \r\n    &lt;handler name=&quot;RecordingHandler&quot; class=&quot;org.jboss.ws.common.invocation.RecordingServerHandler&quot;/&gt;\r\n    \r\n    &lt;/pre-handler-chain&gt;\r\n    \r\n    &lt;/endpoint-config&gt;\r\n    \r\n    &lt;/subsystem&gt;\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:weld:1.0&quot;/&gt;\r\n    \r\n    &lt;/profile&gt;\r\n    \r\n    \r\n    -&lt;interfaces&gt;\r\n    \r\n    \r\n    -&lt;interface name=&quot;management&quot;&gt;\r\n    \r\n    &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n    \r\n    &lt;/interface&gt;\r\n    \r\n    \r\n    -&lt;interface name=&quot;public&quot;&gt;\r\n    \r\n    &lt;inet-address value=&quot;${jboss.bind.address:127.0.0.1}&quot;/&gt;\r\n    \r\n    &lt;/interface&gt;\r\n    \r\n    \r\n    -&lt;interface name=&quot;unsecure&quot;&gt;\r\n    \r\n    &lt;inet-address value=&quot;${jboss.bind.address.unsecure:127.0.0.1}&quot;/&gt;\r\n    \r\n    &lt;/interface&gt;\r\n    \r\n    &lt;/interfaces&gt;\r\n    \r\n    \r\n    -&lt;socket-binding-group name=&quot;standard-sockets&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot; default-interface=&quot;public&quot;&gt;\r\n    \r\n    &lt;socket-binding name=&quot;management-native&quot; port=&quot;${jboss.management.native.port:9999}&quot; interface=&quot;management&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;management-http&quot; port=&quot;${jboss.management.http.port:9990}&quot; interface=&quot;management&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;management-https&quot; port=&quot;${jboss.management.https.port:9443}&quot; interface=&quot;management&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;ajp&quot; port=&quot;8009&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;http&quot; port=&quot;80&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;https&quot; port=&quot;8443&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;osgi-http&quot; port=&quot;8090&quot; interface=&quot;management&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;remoting&quot; port=&quot;4447&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n    \r\n    &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n    \r\n    \r\n    -&lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n    \r\n    &lt;remote-destination port=&quot;25&quot; host=&quot;localhost&quot;/&gt;\r\n    \r\n    &lt;/outbound-socket-binding&gt;\r\n    \r\n    &lt;/socket-binding-group&gt;\r\n    \r\n    &lt;/server&gt;\r\n\r\n\r\n\r\nand my module.xml \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.0&quot; name=&quot;com.oracle.jdbc&quot;&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n\r\nTelnet is OK on 1521\r\n\r\nand sql developer can connect from the same pc","title":"jboss as 7 Unable to connect to oracle 11.2.0.1.0","body":"<p>I am on jboss as 7 and i defined an oracle datasouce to oracle 11.2.0.1.0\nwhen i use sql developer to connect to this database it works but throuw jboss it's impossible i've got this error </p>\n\n<p>[org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (HttpManagementService-threads - 4) IJ000604: Throwable while attempting to get </p>\n\n<pre><code>a new connection: null: javax.resource.ResourceException: Could not create connection\n    at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:277) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:235) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.createConnectionEventListener(SemaphoreArrayListManagedConnectionPool.java:761) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.getConnection(SemaphoreArrayListManagedConnectionPool.java:343) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getSimpleConnection(AbstractPool.java:397) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getConnection(AbstractPool.java:365) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:627) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:88) [ironjacamar-core-impl-1.0.9.Final.jar:1.0.9.Final]\n    at org.jboss.as.connector.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:121) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.connector.pool.PoolOperations$1.execute(PoolOperations.java:60) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.connector.pool.PoolOperations.execute(PoolOperations.java:74) [jboss-as-connector-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.ModelControllerImpl$DefaultPrepareStepHandler.execute(ModelControllerImpl.java:466) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:385) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:272) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:200) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:121) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.ModelControllerImpl$1.execute(ModelControllerImpl.java:309) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.controller.ModelControllerImpl$1.execute(ModelControllerImpl.java:299) [jboss-as-controller-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.domain.http.server.DomainApiHandler.processRequest(DomainApiHandler.java:294)\n    at org.jboss.as.domain.http.server.DomainApiHandler.doHandle(DomainApiHandler.java:201)\n    at org.jboss.as.domain.http.server.DomainApiHandler.handle(DomainApiHandler.java:208)\n    at org.jboss.as.domain.http.server.security.SubjectAssociationHandler.handle(SubjectAssociationHandler.java:51)\n    at org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:78)\n    at org.jboss.sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:69)\n    at org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:81)\n    at org.jboss.sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:710)\n    at org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:78)\n    at org.jboss.as.domain.http.server.RealmReadinessFilter.doFilter(RealmReadinessFilter.java:54)\n    at org.jboss.com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:81)\n    at org.jboss.sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_79]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_79]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\n    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.0.0.GA.jar:2.0.0.GA]\nCaused by: java.sql.SQLRecoverableException: Erreur d'E/S: The Network Adapter could not establish the connection\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:489)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:553)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:254)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:528)\n    at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:249) [ironjacamar-jdbc-1.0.9.Final.jar:1.0.9.Final]\n    ... 39 more\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:439)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:454)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:693)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:251)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1140)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:340)\n    ... 44 more\nCaused by: java.net.SocketTimeoutException: connect timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method) [rt.jar:1.7.0_79]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) [rt.jar:1.7.0_79]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) [rt.jar:1.7.0_79]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) [rt.jar:1.7.0_79]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) [rt.jar:1.7.0_79]\n    at java.net.Socket.connect(Socket.java:579) [rt.jar:1.7.0_79]\n    at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:149)\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:133)\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:405)\n    ... 49 more\n</code></pre>\n\n<p>here is my standalone.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n-&lt;server xmlns=\"urn:jboss:domain:1.2\"&gt;\n\n\n-&lt;extensions&gt;\n\n&lt;extension module=\"org.jboss.as.clustering.infinispan\"/&gt;\n\n&lt;extension module=\"org.jboss.as.configadmin\"/&gt;\n\n&lt;extension module=\"org.jboss.as.connector\"/&gt;\n\n&lt;extension module=\"org.jboss.as.deployment-scanner\"/&gt;\n\n&lt;extension module=\"org.jboss.as.ee\"/&gt;\n\n&lt;extension module=\"org.jboss.as.ejb3\"/&gt;\n\n&lt;extension module=\"org.jboss.as.jaxrs\"/&gt;\n\n&lt;extension module=\"org.jboss.as.jdr\"/&gt;\n\n&lt;extension module=\"org.jboss.as.jmx\"/&gt;\n\n&lt;extension module=\"org.jboss.as.jpa\"/&gt;\n\n&lt;extension module=\"org.jboss.as.logging\"/&gt;\n\n&lt;extension module=\"org.jboss.as.mail\"/&gt;\n\n&lt;extension module=\"org.jboss.as.naming\"/&gt;\n\n&lt;extension module=\"org.jboss.as.osgi\"/&gt;\n\n&lt;extension module=\"org.jboss.as.pojo\"/&gt;\n\n&lt;extension module=\"org.jboss.as.remoting\"/&gt;\n\n&lt;extension module=\"org.jboss.as.sar\"/&gt;\n\n&lt;extension module=\"org.jboss.as.security\"/&gt;\n\n&lt;extension module=\"org.jboss.as.threads\"/&gt;\n\n&lt;extension module=\"org.jboss.as.transactions\"/&gt;\n\n&lt;extension module=\"org.jboss.as.web\"/&gt;\n\n&lt;extension module=\"org.jboss.as.webservices\"/&gt;\n\n&lt;extension module=\"org.jboss.as.weld\"/&gt;\n\n&lt;/extensions&gt;\n\n\n-&lt;management&gt;\n\n\n-&lt;security-realms&gt;\n\n\n-&lt;security-realm name=\"ManagementRealm\"&gt;\n\n\n-&lt;authentication&gt;\n\n&lt;properties relative-to=\"jboss.server.config.dir\" path=\"mgmt-users.properties\"/&gt;\n\n&lt;/authentication&gt;\n\n&lt;/security-realm&gt;\n\n\n-&lt;security-realm name=\"ApplicationRealm\"&gt;\n\n\n-&lt;authentication&gt;\n\n&lt;properties relative-to=\"jboss.server.config.dir\" path=\"application-users.properties\"/&gt;\n\n&lt;/authentication&gt;\n\n&lt;/security-realm&gt;\n\n&lt;/security-realms&gt;\n\n\n-&lt;management-interfaces&gt;\n\n\n-&lt;native-interface security-realm=\"ManagementRealm\"&gt;\n\n&lt;socket-binding native=\"management-native\"/&gt;\n\n&lt;/native-interface&gt;\n\n\n-&lt;http-interface security-realm=\"ManagementRealm\"&gt;\n\n&lt;socket-binding http=\"management-http\"/&gt;\n\n&lt;/http-interface&gt;\n\n&lt;/management-interfaces&gt;\n\n&lt;/management&gt;\n\n\n-&lt;profile&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:logging:1.1\"&gt;\n\n\n-&lt;console-handler name=\"CONSOLE\"&gt;\n\n&lt;level name=\"INFO\"/&gt;\n\n\n-&lt;formatter&gt;\n\n&lt;pattern-formatter pattern=\"%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n\"/&gt;\n\n&lt;/formatter&gt;\n\n&lt;/console-handler&gt;\n\n\n-&lt;periodic-rotating-file-handler name=\"FILE\"&gt;\n\n\n-&lt;formatter&gt;\n\n&lt;pattern-formatter pattern=\"%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%E%n\"/&gt;\n\n&lt;/formatter&gt;\n\n&lt;file relative-to=\"jboss.server.log.dir\" path=\"server.log\"/&gt;\n\n&lt;suffix value=\".yyyy-MM-dd\"/&gt;\n\n&lt;append value=\"true\"/&gt;\n\n&lt;/periodic-rotating-file-handler&gt;\n\n\n-&lt;logger category=\"com.arjuna\"&gt;\n\n&lt;level name=\"WARN\"/&gt;\n\n&lt;/logger&gt;\n\n\n-&lt;logger category=\"org.apache.tomcat.util.modeler\"&gt;\n\n&lt;level name=\"WARN\"/&gt;\n\n&lt;/logger&gt;\n\n\n-&lt;logger category=\"sun.rmi\"&gt;\n\n&lt;level name=\"WARN\"/&gt;\n\n&lt;/logger&gt;\n\n\n-&lt;logger category=\"jacorb\"&gt;\n\n&lt;level name=\"WARN\"/&gt;\n\n&lt;/logger&gt;\n\n\n-&lt;logger category=\"jacorb.config\"&gt;\n\n&lt;level name=\"ERROR\"/&gt;\n\n&lt;/logger&gt;\n\n\n-&lt;root-logger&gt;\n\n&lt;level name=\"INFO\"/&gt;\n\n\n-&lt;handlers&gt;\n\n&lt;handler name=\"CONSOLE\"/&gt;\n\n&lt;handler name=\"FILE\"/&gt;\n\n&lt;/handlers&gt;\n\n&lt;/root-logger&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:configadmin:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:datasources:1.0\"&gt;\n\n\n-&lt;datasources&gt;\n\n\n-&lt;datasource use-java-context=\"true\" enabled=\"true\" pool-name=\"ExampleDS\" jndi-name=\"java:jboss/datasources/ExampleDS\"&gt;\n\n&lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&lt;/connection-url&gt;\n\n&lt;driver&gt;h2&lt;/driver&gt;\n\n\n-&lt;security&gt;\n\n&lt;user-name&gt;sa&lt;/user-name&gt;\n\n&lt;password&gt;sa&lt;/password&gt;\n\n&lt;/security&gt;\n\n&lt;/datasource&gt;\n\n\n-&lt;datasource enabled=\"true\" pool-name=\"Argos\" jndi-name=\"java:/Argos\" use-ccm=\"false\" jta=\"false\"&gt;\n\n&lt;connection-url&gt;jdbc:oracle:thin:@10.10.61.1:1521:SID&lt;/connection-url&gt;\n\n&lt;driver-class&gt;oracle.jdbc.OracleDriver&lt;/driver-class&gt;\n\n&lt;driver&gt;OracleJDBCDriver&lt;/driver&gt;\n\n\n-&lt;security&gt;\n\n&lt;user-name&gt;argos14&lt;/user-name&gt;\n\n&lt;password&gt;oracle&lt;/password&gt;\n\n&lt;/security&gt;\n\n\n-&lt;validation&gt;\n\n&lt;validate-on-match&gt;false&lt;/validate-on-match&gt;\n\n&lt;background-validation&gt;false&lt;/background-validation&gt;\n\n&lt;/validation&gt;\n\n\n-&lt;statement&gt;\n\n&lt;share-prepared-statements&gt;false&lt;/share-prepared-statements&gt;\n\n&lt;/statement&gt;\n\n&lt;/datasource&gt;\n\n\n-&lt;drivers&gt;\n\n\n-&lt;driver module=\"com.h2database.h2\" name=\"h2\"&gt;\n\n&lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n\n&lt;/driver&gt;\n\n&lt;driver module=\"com.oracle.jdbc\" name=\"OracleJDBCDriver\"/&gt;\n\n&lt;driver module=\"org.postgresql\" name=\"postgres\"/&gt;\n\n&lt;/drivers&gt;\n\n&lt;/datasources&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:deployment-scanner:1.1\"&gt;\n\n&lt;deployment-scanner relative-to=\"jboss.server.base.dir\" path=\"deployments\" scan-interval=\"5000\"/&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:ee:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:ejb3:1.2\"&gt;\n\n\n-&lt;session-bean&gt;\n\n\n-&lt;stateless&gt;\n\n&lt;bean-instance-pool-ref pool-name=\"slsb-strict-max-pool\"/&gt;\n\n&lt;/stateless&gt;\n\n&lt;stateful cache-ref=\"simple\" default-access-timeout=\"5000\"/&gt;\n\n&lt;singleton default-access-timeout=\"5000\"/&gt;\n\n&lt;/session-bean&gt;\n\n\n-&lt;pools&gt;\n\n\n-&lt;bean-instance-pools&gt;\n\n&lt;strict-max-pool name=\"slsb-strict-max-pool\" instance-acquisition-timeout-unit=\"MINUTES\" instance-acquisition-timeout=\"5\" max-pool-size=\"20\"/&gt;\n\n&lt;strict-max-pool name=\"mdb-strict-max-pool\" instance-acquisition-timeout-unit=\"MINUTES\" instance-acquisition-timeout=\"5\" max-pool-size=\"20\"/&gt;\n\n&lt;/bean-instance-pools&gt;\n\n&lt;/pools&gt;\n\n\n-&lt;caches&gt;\n\n&lt;cache name=\"simple\" aliases=\"NoPassivationCache\"/&gt;\n\n&lt;cache name=\"passivating\" aliases=\"SimpleStatefulCache\" passivation-store-ref=\"file\"/&gt;\n\n&lt;/caches&gt;\n\n\n-&lt;passivation-stores&gt;\n\n&lt;file-passivation-store name=\"file\"/&gt;\n\n&lt;/passivation-stores&gt;\n\n&lt;async thread-pool-name=\"default\"/&gt;\n\n\n-&lt;timer-service thread-pool-name=\"default\"&gt;\n\n&lt;data-store relative-to=\"jboss.server.data.dir\" path=\"timer-service-data\"/&gt;\n\n&lt;/timer-service&gt;\n\n&lt;remote thread-pool-name=\"default\" connector-ref=\"remoting-connector\"/&gt;\n\n\n-&lt;thread-pools&gt;\n\n\n-&lt;thread-pool name=\"default\"&gt;\n\n&lt;max-threads count=\"10\"/&gt;\n\n&lt;keepalive-time unit=\"milliseconds\" time=\"100\"/&gt;\n\n&lt;/thread-pool&gt;\n\n&lt;/thread-pools&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:infinispan:1.2\" default-cache-container=\"hibernate\"&gt;\n\n\n-&lt;cache-container name=\"hibernate\" default-cache=\"local-query\"&gt;\n\n\n-&lt;local-cache name=\"entity\"&gt;\n\n&lt;transaction mode=\"NON_XA\"/&gt;\n\n&lt;eviction max-entries=\"10000\" strategy=\"LRU\"/&gt;\n\n&lt;expiration max-idle=\"100000\"/&gt;\n\n&lt;/local-cache&gt;\n\n\n-&lt;local-cache name=\"local-query\"&gt;\n\n&lt;transaction mode=\"NONE\"/&gt;\n\n&lt;eviction max-entries=\"10000\" strategy=\"LRU\"/&gt;\n\n&lt;expiration max-idle=\"100000\"/&gt;\n\n&lt;/local-cache&gt;\n\n\n-&lt;local-cache name=\"timestamps\"&gt;\n\n&lt;transaction mode=\"NONE\"/&gt;\n\n&lt;eviction strategy=\"NONE\"/&gt;\n\n&lt;/local-cache&gt;\n\n&lt;/cache-container&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:jaxrs:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:jca:1.1\"&gt;\n\n&lt;archive-validation enabled=\"true\" fail-on-warn=\"false\" fail-on-error=\"true\"/&gt;\n\n&lt;bean-validation enabled=\"true\"/&gt;\n\n\n-&lt;default-workmanager&gt;\n\n\n-&lt;short-running-threads&gt;\n\n&lt;core-threads count=\"50\"/&gt;\n\n&lt;queue-length count=\"50\"/&gt;\n\n&lt;max-threads count=\"50\"/&gt;\n\n&lt;keepalive-time unit=\"seconds\" time=\"10\"/&gt;\n\n&lt;/short-running-threads&gt;\n\n\n-&lt;long-running-threads&gt;\n\n&lt;core-threads count=\"50\"/&gt;\n\n&lt;queue-length count=\"50\"/&gt;\n\n&lt;max-threads count=\"50\"/&gt;\n\n&lt;keepalive-time unit=\"seconds\" time=\"10\"/&gt;\n\n&lt;/long-running-threads&gt;\n\n&lt;/default-workmanager&gt;\n\n&lt;cached-connection-manager/&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:jdr:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:jmx:1.1\"&gt;\n\n&lt;show-model value=\"true\"/&gt;\n\n&lt;remoting-connector/&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:jpa:1.0\"&gt;\n\n&lt;jpa default-datasource=\"\"/&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:mail:1.0\"&gt;\n\n\n-&lt;mail-session jndi-name=\"java:jboss/mail/Default\"&gt;\n\n&lt;smtp-server outbound-socket-binding-ref=\"mail-smtp\"/&gt;\n\n&lt;/mail-session&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:naming:1.1\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:osgi:1.2\" activation=\"lazy\"&gt;\n\n\n-&lt;properties&gt;\n\n&lt;property name=\"org.osgi.framework.startlevel.beginning\"&gt; 1 &lt;/property&gt;\n\n&lt;/properties&gt;\n\n\n-&lt;capabilities&gt;\n\n&lt;capability name=\"javax.servlet.api:v25\"/&gt;\n\n&lt;capability name=\"javax.transaction.api\"/&gt;\n\n&lt;capability name=\"org.apache.felix.log\" startlevel=\"1\"/&gt;\n\n&lt;capability name=\"org.jboss.osgi.logging\" startlevel=\"1\"/&gt;\n\n&lt;capability name=\"org.apache.felix.configadmin\" startlevel=\"1\"/&gt;\n\n&lt;capability name=\"org.jboss.as.osgi.configadmin\" startlevel=\"1\"/&gt;\n\n&lt;/capabilities&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:pojo:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:remoting:1.1\"&gt;\n\n&lt;connector name=\"remoting-connector\" security-realm=\"ApplicationRealm\" socket-binding=\"remoting\"/&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:resource-adapters:1.0\"/&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:sar:1.0\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:security:1.1\"&gt;\n\n\n-&lt;security-domains&gt;\n\n\n-&lt;security-domain name=\"other\" cache-type=\"default\"&gt;\n\n\n-&lt;authentication&gt;\n\n\n-&lt;login-module flag=\"optional\" code=\"Remoting\"&gt;\n\n&lt;module-option name=\"password-stacking\" value=\"useFirstPass\"/&gt;\n\n&lt;/login-module&gt;\n\n\n-&lt;login-module flag=\"required\" code=\"RealmUsersRoles\"&gt;\n\n&lt;module-option name=\"usersProperties\" value=\"${jboss.server.config.dir}/application-users.properties\"/&gt;\n\n&lt;module-option name=\"rolesProperties\" value=\"${jboss.server.config.dir}/application-roles.properties\"/&gt;\n\n&lt;module-option name=\"realm\" value=\"ApplicationRealm\"/&gt;\n\n&lt;module-option name=\"password-stacking\" value=\"useFirstPass\"/&gt;\n\n&lt;/login-module&gt;\n\n&lt;/authentication&gt;\n\n&lt;/security-domain&gt;\n\n\n-&lt;security-domain name=\"jboss-web-policy\" cache-type=\"default\"&gt;\n\n\n-&lt;authorization&gt;\n\n&lt;policy-module flag=\"required\" code=\"Delegating\"/&gt;\n\n&lt;/authorization&gt;\n\n&lt;/security-domain&gt;\n\n\n-&lt;security-domain name=\"jboss-ejb-policy\" cache-type=\"default\"&gt;\n\n\n-&lt;authorization&gt;\n\n&lt;policy-module flag=\"required\" code=\"Delegating\"/&gt;\n\n&lt;/authorization&gt;\n\n&lt;/security-domain&gt;\n\n&lt;/security-domains&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:threads:1.1\"/&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:transactions:1.1\"&gt;\n\n\n-&lt;core-environment&gt;\n\n\n-&lt;process-id&gt;\n\n&lt;uuid/&gt;\n\n&lt;/process-id&gt;\n\n&lt;/core-environment&gt;\n\n&lt;recovery-environment socket-binding=\"txn-recovery-environment\" status-socket-binding=\"txn-status-manager\"/&gt;\n\n&lt;coordinator-environment default-timeout=\"300\"/&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:web:1.1\" native=\"false\" default-virtual-server=\"default-host\"&gt;\n\n&lt;connector name=\"http\" socket-binding=\"http\" scheme=\"http\" protocol=\"HTTP/1.1\"/&gt;\n\n\n-&lt;virtual-server name=\"default-host\" enable-welcome-root=\"true\"&gt;\n\n&lt;alias name=\"localhost\"/&gt;\n\n&lt;alias name=\"example.com\"/&gt;\n\n&lt;/virtual-server&gt;\n\n&lt;/subsystem&gt;\n\n\n-&lt;subsystem xmlns=\"urn:jboss:domain:webservices:1.1\"&gt;\n\n&lt;modify-wsdl-address&gt;true&lt;/modify-wsdl-address&gt;\n\n&lt;wsdl-host&gt;${jboss.bind.address:127.0.0.1}&lt;/wsdl-host&gt;\n\n&lt;endpoint-config name=\"Standard-Endpoint-Config\"/&gt;\n\n\n-&lt;endpoint-config name=\"Recording-Endpoint-Config\"&gt;\n\n\n-&lt;pre-handler-chain name=\"recording-handlers\" protocol-bindings=\"##SOAP11_HTTP ##SOAP11_HTTP_MTOM ##SOAP12_HTTP ##SOAP12_HTTP_MTOM\"&gt;\n\n&lt;handler name=\"RecordingHandler\" class=\"org.jboss.ws.common.invocation.RecordingServerHandler\"/&gt;\n\n&lt;/pre-handler-chain&gt;\n\n&lt;/endpoint-config&gt;\n\n&lt;/subsystem&gt;\n\n&lt;subsystem xmlns=\"urn:jboss:domain:weld:1.0\"/&gt;\n\n&lt;/profile&gt;\n\n\n-&lt;interfaces&gt;\n\n\n-&lt;interface name=\"management\"&gt;\n\n&lt;inet-address value=\"${jboss.bind.address.management:127.0.0.1}\"/&gt;\n\n&lt;/interface&gt;\n\n\n-&lt;interface name=\"public\"&gt;\n\n&lt;inet-address value=\"${jboss.bind.address:127.0.0.1}\"/&gt;\n\n&lt;/interface&gt;\n\n\n-&lt;interface name=\"unsecure\"&gt;\n\n&lt;inet-address value=\"${jboss.bind.address.unsecure:127.0.0.1}\"/&gt;\n\n&lt;/interface&gt;\n\n&lt;/interfaces&gt;\n\n\n-&lt;socket-binding-group name=\"standard-sockets\" port-offset=\"${jboss.socket.binding.port-offset:0}\" default-interface=\"public\"&gt;\n\n&lt;socket-binding name=\"management-native\" port=\"${jboss.management.native.port:9999}\" interface=\"management\"/&gt;\n\n&lt;socket-binding name=\"management-http\" port=\"${jboss.management.http.port:9990}\" interface=\"management\"/&gt;\n\n&lt;socket-binding name=\"management-https\" port=\"${jboss.management.https.port:9443}\" interface=\"management\"/&gt;\n\n&lt;socket-binding name=\"ajp\" port=\"8009\"/&gt;\n\n&lt;socket-binding name=\"http\" port=\"80\"/&gt;\n\n&lt;socket-binding name=\"https\" port=\"8443\"/&gt;\n\n&lt;socket-binding name=\"osgi-http\" port=\"8090\" interface=\"management\"/&gt;\n\n&lt;socket-binding name=\"remoting\" port=\"4447\"/&gt;\n\n&lt;socket-binding name=\"txn-recovery-environment\" port=\"4712\"/&gt;\n\n&lt;socket-binding name=\"txn-status-manager\" port=\"4713\"/&gt;\n\n\n-&lt;outbound-socket-binding name=\"mail-smtp\"&gt;\n\n&lt;remote-destination port=\"25\" host=\"localhost\"/&gt;\n\n&lt;/outbound-socket-binding&gt;\n\n&lt;/socket-binding-group&gt;\n\n&lt;/server&gt;\n</code></pre>\n\n<p>and my module.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module xmlns=\"urn:jboss:module:1.0\" name=\"com.oracle.jdbc\"&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"ojdbc6.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n        &lt;module name=\"javax.transaction.api\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>Telnet is OK on 1521</p>\n\n<p>and sql developer can connect from the same pc</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637609301,"post_id":70071038,"comment_id":123867440,"body_markdown":"The problem: `Transfer failed for https://repo.` either network issue or firewall/proxy etc. First try to use plain command line...which Maven version do you use? The given TLS is usually only needed for JDK7...but not for JDK8... also turn on checksum policy (https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/) also try to build via `mvn ... -U` (plain command line)...","body":"The problem: <code>Transfer failed for https:&#47;&#47;repo.</code> either network issue or firewall/proxy etc. First try to use plain command line...which Maven version do you use? The given TLS is usually only needed for JDK7...but not for JDK8... also turn on checksum policy (<a href=\"https://blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-what/\" rel=\"nofollow noreferrer\">blog.soebes.de/blog/2018/10/13/maven-artifact-checksums-wha&zwnj;&#8203;t</a>) also try to build via <code>mvn ... -U</code> (plain command line)..."},{"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"score":0,"creation_date":1637610681,"post_id":70071038,"comment_id":123867841,"body_markdown":"@khmarbaise Edited the post","body":"@khmarbaise Edited the post"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637611204,"post_id":70071038,"comment_id":123868044,"body_markdown":"sorry, cannot reproduce on [intializer project](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.0&amp;packaging=jar&amp;jvmVersion=1.8&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,data-jpa,h2)","body":"sorry, cannot reproduce on <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.0&amp;packaging=jar&amp;jvmVersion=1.8&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,data-jpa,h2\" rel=\"nofollow noreferrer\">intializer project</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1637612160,"post_id":70071038,"comment_id":123868413,"body_markdown":"The used JDK 8 is a bit out of date (1.8.0_41) ...JDK8 is something like 1.8.0_300?...","body":"The used JDK 8 is a bit out of date (1.8.0_41) ...JDK8 is something like 1.8.0_300?..."},{"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"score":0,"creation_date":1637650770,"post_id":70071038,"comment_id":123876206,"body_markdown":"@khmarbaise I have updated my version and updated the output in the question","body":"@khmarbaise I have updated my version and updated the output in the question"},{"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"score":0,"creation_date":1637650772,"post_id":70071038,"comment_id":123876209,"body_markdown":"@xerx593 I used the dependence WEB, JPA and H2 in the initializer","body":"@xerx593 I used the dependence WEB, JPA and H2 in the initializer"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637651166,"post_id":70071038,"comment_id":123876309,"body_markdown":"The error keeps the same as described? Yes then you have network issues (VPN?)","body":"The error keeps the same as described? Yes then you have network issues (VPN?)"},{"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"score":0,"creation_date":1637661090,"post_id":70071038,"comment_id":123879847,"body_markdown":"@khmarbaise I have tried to use the normal connection (Home Wi-Fi without restrictions) as well as a VPN (Bitdefender VPN various locations). The problem persists.","body":"@khmarbaise I have tried to use the normal connection (Home Wi-Fi without restrictions) as well as a VPN (Bitdefender VPN various locations). The problem persists."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1637667067,"post_id":70071038,"comment_id":123882222,"body_markdown":"The issue is the network...where I can&#39;t help...nor is it fault of Maven...","body":"The issue is the network...where I can&#39;t help...nor is it fault of Maven..."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1659121900,"post_id":70071038,"comment_id":129226328,"body_markdown":"@khmarbaise this has nothing to do with java version, to me. We reproduce it in `spring-cloud-kubernetes` build itself, on JDK-17. It has to be a networking issue, as we have two pipelines `circleci` and `github actions`, and we have never seen this on `circleci`.","body":"@khmarbaise this has nothing to do with java version, to me. We reproduce it in <code>spring-cloud-kubernetes</code> build itself, on JDK-17. It has to be a networking issue, as we have two pipelines <code>circleci</code> and <code>github actions</code>, and we have never seen this on <code>circleci</code>."}],"answers":[{"tags":[],"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637674372,"creation_date":1637674372,"answer_id":70081835,"question_id":70071038,"body_markdown":"The issue was the outdated java version. I updated to a newer one and at first I did not change it in the project settings (thought that would change on his own). Now it works like a charm. Thanks to @khmarbaise","title":"Java Maven Spring Could not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central","body":"<p>The issue was the outdated java version. I updated to a newer one and at first I did not change it in the project settings (thought that would change on his own). Now it works like a charm. Thanks to @khmarbaise</p>\n"}],"owner":{"account_id":15475433,"reputation":43,"user_id":11164222,"display_name":"Marvin S."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637674372,"creation_date":1637607458,"question_id":70071038,"body_markdown":"Java Spring project fails to package the project with maven, printing the following error:\r\n\r\n```\r\nCould not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central (https://repo.maven.apache.org/maven2): Transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit-platform/2.22.2/surefire-junit-platform-2.22.2.pom\r\n```\r\n\r\nThe use used pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;***&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;***&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;***&lt;/name&gt;\r\n\t&lt;description&gt;***&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI use IntelliJ to develop and build the project.\r\nI do not need a proxy to enter the internet. If I click the link, I can see the pom file without problems. Reloading the project does not work, downloading all sources neither. \r\n\r\nIn the local storage, I find the following files:\r\n```\r\nC:\\Users\\***\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-surefire-plugin\\2.22.2\r\n    _remote.repositories\r\n    maven-surefire-plugin-2.22.2.jar\r\n    maven-surefire-plugin-2.22.2.jar.sha1\r\n    maven-surefire-plugin-2.22.2.pom\r\n    maven-surefire-plugin-2.22.2.pom.sha1\r\n```\r\n\r\nRemoving them and reloading the project restores the files, the error persists.\r\n\r\nI cleaned the project and used the `-Dhttps.protocols=TLSv1.2` parameter no changes.\r\n\r\nEdit:\r\n\r\nUsing a VPN doe not work.\r\n\r\nOutput of `mvn -v`:\r\n```\r\nApache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\nMaven home: C:\\Program Files\\java\\apache-maven-3.8.4\r\nJava version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\r\nDefault locale: de_DE, platform encoding: Cp1252\r\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\nWhen building with `mvn clean package -U`:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project Grafnus-Server: Unable to generate classpath: org.apache.maven.artifact.resolver.ArtifactResolutionException: Unable to get dependency information for org.apache.maven.surefire:surefire-junit-platform:jar:2.22.2: Failed to retrieve POM for org.apache.maven.surefire:surefire-junit-platform:jar:2.22.2: Could not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit-platform/2.22.2/surefire-junit-platform-2.22.2.pom\r\n\r\n[ERROR] from the specified remote repositories:\r\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false)\r\n[ERROR] Path to dependency:\r\n[ERROR]         1) dummy:dummy:jar:1.0\r\n```","title":"Java Maven Spring Could not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central","body":"<p>Java Spring project fails to package the project with maven, printing the following error:</p>\n<pre><code>Could not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central (https://repo.maven.apache.org/maven2): Transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit-platform/2.22.2/surefire-junit-platform-2.22.2.pom\n</code></pre>\n<p>The use used pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;***&lt;/groupId&gt;\n    &lt;artifactId&gt;***&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;***&lt;/name&gt;\n    &lt;description&gt;***&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I use IntelliJ to develop and build the project.\nI do not need a proxy to enter the internet. If I click the link, I can see the pom file without problems. Reloading the project does not work, downloading all sources neither.</p>\n<p>In the local storage, I find the following files:</p>\n<pre><code>C:\\Users\\***\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-surefire-plugin\\2.22.2\n    _remote.repositories\n    maven-surefire-plugin-2.22.2.jar\n    maven-surefire-plugin-2.22.2.jar.sha1\n    maven-surefire-plugin-2.22.2.pom\n    maven-surefire-plugin-2.22.2.pom.sha1\n</code></pre>\n<p>Removing them and reloading the project restores the files, the error persists.</p>\n<p>I cleaned the project and used the <code>-Dhttps.protocols=TLSv1.2</code> parameter no changes.</p>\n<p>Edit:</p>\n<p>Using a VPN doe not work.</p>\n<p>Output of <code>mvn -v</code>:</p>\n<pre><code>Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\nMaven home: C:\\Program Files\\java\\apache-maven-3.8.4\nJava version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\nDefault locale: de_DE, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>When building with <code>mvn clean package -U</code>:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project Grafnus-Server: Unable to generate classpath: org.apache.maven.artifact.resolver.ArtifactResolutionException: Unable to get dependency information for org.apache.maven.surefire:surefire-junit-platform:jar:2.22.2: Failed to retrieve POM for org.apache.maven.surefire:surefire-junit-platform:jar:2.22.2: Could not transfer artifact org.apache.maven.surefire:surefire-junit-platform:pom:2.22.2 from/to central (https://repo.maven.apache.org/maven2): transfer failed for https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit-platform/2.22.2/surefire-junit-platform-2.22.2.pom\n\n[ERROR] from the specified remote repositories:\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false)\n[ERROR] Path to dependency:\n[ERROR]         1) dummy:dummy:jar:1.0\n</code></pre>\n"},{"tags":["java","ruby","cryptography","hmac"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1637672734,"post_id":70080717,"comment_id":123884465,"body_markdown":"I cannot reproduce the posted result of the Ruby code with the posted input data. And what is the input data and the result of the Java code? On my machine the results of both codes are identical (using the same input data). What exactly is the problem?","body":"I cannot reproduce the posted result of the Ruby code with the posted input data. And what is the input data and the result of the Java code? On my machine the results of both codes are identical (using the same input data). What exactly is the problem?"},{"owner":{"account_id":14458393,"reputation":2654,"user_id":10443890,"display_name":"mr_muscle"},"score":0,"creation_date":1637674440,"post_id":70080717,"comment_id":123885166,"body_markdown":"@Topaco I added 3 libraries in the Ruby code, should be fine now. The problem is described in the question - I don&#39;t know if my Ruby class will produce the same results as a Java class. I don&#39;t know how to test this Java class and I don&#39;t know why there is the `UTF8_ENCODING` part.","body":"@Topaco I added 3 libraries in the Ruby code, should be fine now. The problem is described in the question - I don&#39;t know if my Ruby class will produce the same results as a Java class. I don&#39;t know how to test this Java class and I don&#39;t know why there is the <code>UTF8_ENCODING</code> part."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1637675810,"post_id":70080717,"comment_id":123885804,"body_markdown":"The Java code produces the same result: https://www.jdoodle.com/iembed/v0/k2W. In Ruby code it is implicitly  UTF-8 encoded, you can also explicitly use `SECRET_KEY = &#39;Mnkh4r3QXgwZ3vmcE=&#39;.encode(&#39;utf-8&#39;)` without changing the result, s. online here: https://replit.com/@3hK8cL8H24hwiS7/ProudUnfitMigration.","body":"The Java code produces the same result: <a href=\"https://www.jdoodle.com/iembed/v0/k2W\" rel=\"nofollow noreferrer\">jdoodle.com/iembed/v0/k2W</a>. In Ruby code it is implicitly  UTF-8 encoded, you can also explicitly use <code>SECRET_KEY = &#39;Mnkh4r3QXgwZ3vmcE=&#39;.encode(&#39;utf-8&#39;)</code> without changing the result, s. online here: <a href=\"https://replit.com/@3hK8cL8H24hwiS7/ProudUnfitMigration\" rel=\"nofollow noreferrer\">replit.com/@3hK8cL8H24hwiS7/ProudUnfitMigration</a>."}],"owner":{"account_id":14458393,"reputation":2654,"user_id":10443890,"display_name":"mr_muscle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637674110,"creation_date":1637669613,"question_id":70080717,"body_markdown":"One of the part of API auth is to create `bodyHash` as a part of headers. The documentation is laconic:\r\n\r\n&gt;Hash of the message body using the HMAC Sha256 algorithm. Your secret key is used to generate the hash.\r\n\r\nAnd they provided an example in Java:\r\n\r\n    import java.util.UUID;\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    public class AuthorizationMacHeader {\r\n    \tprivate static final String HMAC_SHA256_ALGORITHM = &quot;HmacSHA256&quot;;\r\n    \tprivate static final String UTF8_ENCODING = &quot;UTF-8&quot;;\r\n\t/**\r\n\t * @param key_id\r\n\t *            : Your key id\r\n\t * @param secret_key\r\n\t *            : Your secret key\r\n\t * @param payload\r\n\t *            : payload\r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\r\n     // create the bodyHash value by hashing the payload and encoding it\r\n     SecretKeySpec signingKey = new SecretKeySpec(secret_key.getBytes(UTF8_ENCODING), \r\n     HMAC_SHA256_ALGORITHM);\r\n     Mac mac = Mac.getInstance(HMAC_SHA256_ALGORITHM);\r\n     mac.init(signingKey);\r\n     byte[] rawBodyHash = mac.doFinal(payload.getBytes(UTF8_ENCODING));\r\n     String bodyHash = Base64.encodeBase64String(rawBodyHash);\r\n\r\nSo what I did in Ruby was:\r\n\r\n    require &#39;json&#39;\r\n    require &#39;base64&#39;\r\n    require &#39;openssl&#39;\r\n\r\n    KEY_ID = &#39;Syb6i+sRygAGCgxLQJ4NwwKcT5&#39;\r\n    SECRET_KEY = &#39;Mnkh4r3QXgwZ3vmcE=&#39;\r\n\r\n    payload = { some: &#39;hash&#39; }.to_json\r\n\r\n    mac = Base64.strict_encode64(OpenSSL::HMAC.digest(&#39;SHA256&#39;, SECRET_KEY, payload))\r\n\r\n    puts mac\r\n     =&gt; &quot;DzWVea1hH+F3S2SuYWfyBjGCJI0bJ4393+kH1dU6LFc=&quot;\r\n\r\nBut I&#39;m not sure if this is correct because the Java class has `UTF8_ENCODING` part. I don&#39;t understand what this is all about?\r\n\r\nIf something will be unclear, full example of java class below:\r\nhttps://gist.github.com/mrmuscle1234/881144360e13ac1ac1794610c456d035\r\n\r\n","title":"HMAC payload in Ruby from Java HMAC example","body":"<p>One of the part of API auth is to create <code>bodyHash</code> as a part of headers. The documentation is laconic:</p>\n<blockquote>\n<p>Hash of the message body using the HMAC Sha256 algorithm. Your secret key is used to generate the hash.</p>\n</blockquote>\n<p>And they provided an example in Java:</p>\n<pre><code>import java.util.UUID;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport org.apache.commons.codec.binary.Base64;\n\npublic class AuthorizationMacHeader {\n    private static final String HMAC_SHA256_ALGORITHM = &quot;HmacSHA256&quot;;\n    private static final String UTF8_ENCODING = &quot;UTF-8&quot;;\n/**\n * @param key_id\n *            : Your key id\n * @param secret_key\n *            : Your secret key\n * @param payload\n *            : payload\n * @return\n * @throws Exception\n */\n\n // create the bodyHash value by hashing the payload and encoding it\n SecretKeySpec signingKey = new SecretKeySpec(secret_key.getBytes(UTF8_ENCODING), \n HMAC_SHA256_ALGORITHM);\n Mac mac = Mac.getInstance(HMAC_SHA256_ALGORITHM);\n mac.init(signingKey);\n byte[] rawBodyHash = mac.doFinal(payload.getBytes(UTF8_ENCODING));\n String bodyHash = Base64.encodeBase64String(rawBodyHash);\n</code></pre>\n<p>So what I did in Ruby was:</p>\n<pre><code>require 'json'\nrequire 'base64'\nrequire 'openssl'\n\nKEY_ID = 'Syb6i+sRygAGCgxLQJ4NwwKcT5'\nSECRET_KEY = 'Mnkh4r3QXgwZ3vmcE='\n\npayload = { some: 'hash' }.to_json\n\nmac = Base64.strict_encode64(OpenSSL::HMAC.digest('SHA256', SECRET_KEY, payload))\n\nputs mac\n =&gt; &quot;DzWVea1hH+F3S2SuYWfyBjGCJI0bJ4393+kH1dU6LFc=&quot;\n</code></pre>\n<p>But I'm not sure if this is correct because the Java class has <code>UTF8_ENCODING</code> part. I don't understand what this is all about?</p>\n<p>If something will be unclear, full example of java class below:\n<a href=\"https://gist.github.com/mrmuscle1234/881144360e13ac1ac1794610c456d035\" rel=\"nofollow noreferrer\">https://gist.github.com/mrmuscle1234/881144360e13ac1ac1794610c456d035</a></p>\n"},{"tags":["java","class","methods","program-entry-point"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1637650454,"post_id":70076378,"comment_id":123876120,"body_markdown":"&quot;I did this but the compiler kept giving me 0.&quot; Please show the code that&#39;s not working - at the moment you haven&#39;t shown us Hotel.java, and your code doesn&#39;t refer to it. Please provide a [mcve].","body":"&quot;I did this but the compiler kept giving me 0.&quot; Please show the code that&#39;s not working - at the moment you haven&#39;t shown us Hotel.java, and your code doesn&#39;t refer to it. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637674087,"creation_date":1637674087,"answer_id":70081759,"question_id":70076378,"body_markdown":"What you need is to change your `Hotel` class to something else. You actually need a class with a constructor accepting `nama`, `jenis` and `lama`. Within this you compute `kamar` and `tarif` as follows (I called it `HotelReservation` because it seems to be more appropriate):\r\n```java\r\npublic class HotelReservation {\r\n    private final String nama;\r\n    private final String kamar;\r\n    private final int tarif;\r\n\r\n    public HotelReservation(String nama, String jenis, int lama){\r\n        this.nama = nama;\r\n\r\n        switch (jenis) {\r\n            case &quot;R&quot;:\r\n                tarif = lama * 300000;\r\n                kamar = &quot;Reguler&quot;;\r\n                break;\r\n            case &quot;S&quot;:\r\n                tarif = lama * 500000;\r\n                kamar = &quot;Suite&quot;;\r\n                break;\r\n            case &quot;P&quot;:\r\n                tarif = lama * 750000;\r\n                kamar = &quot;President&quot;;\r\n                break;\r\n            default:\r\n                tarif = 0;\r\n                kamar = &quot;Invalid&quot;;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public String getNama() {\r\n        return nama;\r\n    }\r\n\r\n    public String getKamar() {\r\n        return kamar;\r\n    }\r\n\r\n    public int getTarif() {\r\n        return tarif;\r\n    }\r\n}\r\n```\r\n\r\nWith this class, you can now create a new Hotel Reservation in your main method given the data from the user:\r\n```java\r\npublic class Main {\r\n    public static void main (String [] args) throws IOException{\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        System.out.println(&quot;--**-- SISTEM INFORMASI PERHOTELAN --**--&quot;);\r\n        System.out.print(&quot;Nama Pelanggan \\t\\t\\t: &quot;);\r\n        String nama = br.readLine();\r\n\r\n        System.out.println(&quot;\\nPilih Jenis Kamar&quot;);\r\n        System.out.println(&quot;R. Reguler&quot;);\r\n        System.out.println(&quot;S. Suite&quot;);\r\n        System.out.println(&quot;P. President&quot;);\r\n        System.out.print(&quot;Jenis kamar yang dipesan (R/S/P) \\t: &quot;);\r\n        String jenis = br.readLine();\r\n\r\n        System.out.print(&quot;\\nLama Menginap \\t\\t\\t: &quot;);\r\n        int lama = Integer.parseInt(br.readLine());\r\n\r\n        HotelReservation hotelReservation = new HotelReservation(nama, jenis, lama);\r\n\r\n        System.out.println(&quot;\\n\\n---***--- NOTA PEMBAYARAN HOTEL ---***---&quot;);\r\n        System.out.println(&quot;Nama Pelanggan \\t\\t\\t: &quot; + hotelReservation.getNama());\r\n        System.out.println(&quot;Jenis Kamar \\t\\t\\t: &quot; + hotelReservation.getKamar());\r\n        System.out.println(&quot;Tarif Penginapan \\t\\t: Rp &quot; + hotelReservation.getTarif() + &quot;,-&quot;);\r\n        System.out.println(&quot;====================================================&quot;);\r\n    }\r\n}\r\n```","title":"How to create a new class for a method?","body":"<p>What you need is to change your <code>Hotel</code> class to something else. You actually need a class with a constructor accepting <code>nama</code>, <code>jenis</code> and <code>lama</code>. Within this you compute <code>kamar</code> and <code>tarif</code> as follows (I called it <code>HotelReservation</code> because it seems to be more appropriate):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HotelReservation {\n    private final String nama;\n    private final String kamar;\n    private final int tarif;\n\n    public HotelReservation(String nama, String jenis, int lama){\n        this.nama = nama;\n\n        switch (jenis) {\n            case &quot;R&quot;:\n                tarif = lama * 300000;\n                kamar = &quot;Reguler&quot;;\n                break;\n            case &quot;S&quot;:\n                tarif = lama * 500000;\n                kamar = &quot;Suite&quot;;\n                break;\n            case &quot;P&quot;:\n                tarif = lama * 750000;\n                kamar = &quot;President&quot;;\n                break;\n            default:\n                tarif = 0;\n                kamar = &quot;Invalid&quot;;\n                break;\n        }\n    }\n\n    public String getNama() {\n        return nama;\n    }\n\n    public String getKamar() {\n        return kamar;\n    }\n\n    public int getTarif() {\n        return tarif;\n    }\n}\n</code></pre>\n<p>With this class, you can now create a new Hotel Reservation in your main method given the data from the user:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main (String [] args) throws IOException{\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        System.out.println(&quot;--**-- SISTEM INFORMASI PERHOTELAN --**--&quot;);\n        System.out.print(&quot;Nama Pelanggan \\t\\t\\t: &quot;);\n        String nama = br.readLine();\n\n        System.out.println(&quot;\\nPilih Jenis Kamar&quot;);\n        System.out.println(&quot;R. Reguler&quot;);\n        System.out.println(&quot;S. Suite&quot;);\n        System.out.println(&quot;P. President&quot;);\n        System.out.print(&quot;Jenis kamar yang dipesan (R/S/P) \\t: &quot;);\n        String jenis = br.readLine();\n\n        System.out.print(&quot;\\nLama Menginap \\t\\t\\t: &quot;);\n        int lama = Integer.parseInt(br.readLine());\n\n        HotelReservation hotelReservation = new HotelReservation(nama, jenis, lama);\n\n        System.out.println(&quot;\\n\\n---***--- NOTA PEMBAYARAN HOTEL ---***---&quot;);\n        System.out.println(&quot;Nama Pelanggan \\t\\t\\t: &quot; + hotelReservation.getNama());\n        System.out.println(&quot;Jenis Kamar \\t\\t\\t: &quot; + hotelReservation.getKamar());\n        System.out.println(&quot;Tarif Penginapan \\t\\t: Rp &quot; + hotelReservation.getTarif() + &quot;,-&quot;);\n        System.out.println(&quot;====================================================&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23426002,"reputation":1,"user_id":17485478,"display_name":"Michael Wenas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637674087,"creation_date":1637649473,"question_id":70076378,"body_markdown":"    package HargaSewaKamar;\r\n    \r\n    import java.io.*;\r\n    \r\n    class Main {\r\n     public static void main (String [] args) throws IOException{\r\n      String nama=&quot;&quot;,kamar=&quot;&quot;,jenis=&quot;&quot;;\r\n      int lama=0,tarif=0;\r\n      \r\n      BufferedReader br = new BufferedReader(new InputStreamReader (System.in));\r\n      \r\n      System.out.println(&quot;--**-- SISTEM INFORMASI PERHOTELAN --**--&quot;);\r\n      System.out.print(&quot;Nama Pelanggan \\t\\t\\t: &quot;);\r\n      nama = br.readLine();\r\n      \r\n      System.out.println(&quot;\\nPilih Jenis Kamar&quot;);\r\n      System.out.println(&quot;R. Reguler&quot;);\r\n      System.out.println(&quot;S. Suite&quot;);\r\n      System.out.println(&quot;P. President&quot;);\r\n      System.out.print(&quot;Jenis kamar yang dipesan (R/S/P) \\t: &quot;);\r\n      jenis = br.readLine();\r\n      \r\n      System.out.print(&quot;\\nLama Menginap \\t\\t\\t: &quot;);\r\n      lama = Integer.parseInt(br.readLine());\r\n      \r\n      if (jenis.equals(&quot;R&quot;)){\r\n       tarif = lama*300000;\r\n       kamar=&quot;Reguler&quot;;\r\n      }else if (jenis.equals(&quot;S&quot;)){\r\n       tarif = lama*500000;\r\n       kamar=&quot;Suite&quot;;\r\n      }else if (jenis.equals(&quot;P&quot;)){\r\n       tarif = lama*750000;\r\n       kamar=&quot;President&quot;;\r\n      }\r\n      \r\n      System.out.println(&quot;\\n\\n---***--- NOTA PEMBAYARAN HOTEL ---***---&quot;);\r\n      System.out.println(&quot;Nama Pelanggan \\t\\t\\t: &quot; + nama);\r\n      System.out.println(&quot;Jenis Kamar \\t\\t\\t: &quot; + kamar);\r\n      System.out.println(&quot;Tarif Penginapan \\t\\t: Rp &quot; + tarif + &quot;,-&quot;);\r\n      System.out.println(&quot;====================================================&quot;);\r\n     }\r\n    }\r\n\r\nI am building a simple program for case study involving hotel pricing. Main.java should be where the user input their data while Hotel.java is where the price category is calculated with the days of stay. This is Main.java, and I wish to put the &quot;if&quot; method in Hotel.java. I did this but the compiler kept giving me 0.\r\n\r\nThis is Hotel.java\r\n\r\n    public class Hotel{\r\n    public static String hitung(String jenis){\r\n    \r\n    String kamar = &quot;&quot;;\r\n    int tarif=0;\r\n    int lama=0;\r\n      if (jenis.equals(&quot;R&quot;)){\r\n       tarif = lama*300000;   \r\n       kamar=&quot;Reguler&quot;;\r\n      }else if (jenis.equals(&quot;S&quot;)){\r\n       tarif = lama*500000;\r\n       kamar=&quot;Suite&quot;;\r\n      }else if (jenis.equals(&quot;P&quot;)){\r\n       tarif = lama*750000;\r\n       kamar=&quot;President&quot;;\r\n    }\r\n      return kamar;\r\n    }\r\n    }\r\n\r\n\r\n","title":"How to create a new class for a method?","body":"<pre><code>package HargaSewaKamar;\n\nimport java.io.*;\n\nclass Main {\n public static void main (String [] args) throws IOException{\n  String nama=&quot;&quot;,kamar=&quot;&quot;,jenis=&quot;&quot;;\n  int lama=0,tarif=0;\n  \n  BufferedReader br = new BufferedReader(new InputStreamReader (System.in));\n  \n  System.out.println(&quot;--**-- SISTEM INFORMASI PERHOTELAN --**--&quot;);\n  System.out.print(&quot;Nama Pelanggan \\t\\t\\t: &quot;);\n  nama = br.readLine();\n  \n  System.out.println(&quot;\\nPilih Jenis Kamar&quot;);\n  System.out.println(&quot;R. Reguler&quot;);\n  System.out.println(&quot;S. Suite&quot;);\n  System.out.println(&quot;P. President&quot;);\n  System.out.print(&quot;Jenis kamar yang dipesan (R/S/P) \\t: &quot;);\n  jenis = br.readLine();\n  \n  System.out.print(&quot;\\nLama Menginap \\t\\t\\t: &quot;);\n  lama = Integer.parseInt(br.readLine());\n  \n  if (jenis.equals(&quot;R&quot;)){\n   tarif = lama*300000;\n   kamar=&quot;Reguler&quot;;\n  }else if (jenis.equals(&quot;S&quot;)){\n   tarif = lama*500000;\n   kamar=&quot;Suite&quot;;\n  }else if (jenis.equals(&quot;P&quot;)){\n   tarif = lama*750000;\n   kamar=&quot;President&quot;;\n  }\n  \n  System.out.println(&quot;\\n\\n---***--- NOTA PEMBAYARAN HOTEL ---***---&quot;);\n  System.out.println(&quot;Nama Pelanggan \\t\\t\\t: &quot; + nama);\n  System.out.println(&quot;Jenis Kamar \\t\\t\\t: &quot; + kamar);\n  System.out.println(&quot;Tarif Penginapan \\t\\t: Rp &quot; + tarif + &quot;,-&quot;);\n  System.out.println(&quot;====================================================&quot;);\n }\n}\n</code></pre>\n<p>I am building a simple program for case study involving hotel pricing. Main.java should be where the user input their data while Hotel.java is where the price category is calculated with the days of stay. This is Main.java, and I wish to put the &quot;if&quot; method in Hotel.java. I did this but the compiler kept giving me 0.</p>\n<p>This is Hotel.java</p>\n<pre><code>public class Hotel{\npublic static String hitung(String jenis){\n\nString kamar = &quot;&quot;;\nint tarif=0;\nint lama=0;\n  if (jenis.equals(&quot;R&quot;)){\n   tarif = lama*300000;   \n   kamar=&quot;Reguler&quot;;\n  }else if (jenis.equals(&quot;S&quot;)){\n   tarif = lama*500000;\n   kamar=&quot;Suite&quot;;\n  }else if (jenis.equals(&quot;P&quot;)){\n   tarif = lama*750000;\n   kamar=&quot;President&quot;;\n}\n  return kamar;\n}\n}\n</code></pre>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":10817783,"reputation":1038,"user_id":7956161,"display_name":"Muhammad Ahmed"},"score":1,"creation_date":1637617068,"post_id":70072551,"comment_id":123869867,"body_markdown":"Could you please provide the stacktrace","body":"Could you please provide the stacktrace"},{"owner":{"account_id":23422913,"reputation":11,"user_id":17482844,"display_name":"Newbie coder"},"score":0,"creation_date":1637674056,"post_id":70072551,"comment_id":123885010,"body_markdown":"Added it into the question. @MuhammadAhmed","body":"Added it into the question. @MuhammadAhmed"}],"owner":{"account_id":23422913,"reputation":11,"user_id":17482844,"display_name":"Newbie coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637674026,"creation_date":1637616333,"question_id":70072551,"body_markdown":"i&#39;ve been making an app that sends gyroscope and accelerometer info to a pc txt file.\r\nI&#39;m new in coding and app making ect ect. But i need this app made by me to get some experience under my belt doing this kinda stuff.\r\nI&#39;ve been making this app for 3 days now i believe and now i&#39;ve gotten to the point of getting info from retrofit and having it displayed on the screen.\r\nThe next step being to send data to an web site. \r\nWell i&#39;ve ran into an problem.\r\n\r\n\r\n\r\nWhen i added retrofit funcionalities the app always crashes when i try to run it on my phone.\r\nI had to make an new activity where i could receive the txt from retrofit&#39;s website, but everytime i try to run the app it crashes. Can&#39;t find anything from the console (sence im a newbvie im guessing) so i decided to come here.\r\n\r\nI&#39;ve tried to google answers without luck.\r\n\r\nIf it helps i&#39;ve been using YouTube tutorials to get this all setup so i don&#39;t really no anything about coding. Be free to assume that i&#39;m making all the beginner mistakes.\r\n\r\nIf anyone could try and offer help it would be greatly appreciated.\r\nAnswer me what i need to send to help me diagnose this problem.\r\n\r\nThanks!\r\n\r\nDid a bit of googling, guessing this is the stacktrace\r\n\r\n--------- beginning of crash E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.testi, PID: 2622 java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.testi/com.example.testi.MainActivity}: java.lang.IllegalStateException: System services not available to Activities before onCreate() at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loop(Looper.java:223) at android.app.ActivityThread.main(ActivityThread.java:7656) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) Caused by: java.lang.IllegalStateException: System services not available to Activities before onCreate() at android.app.Activity.getSystemService(Activity.java:6800) at com.example.testi.MainActivity.(MainActivity.java:56) at java.lang.Class.newInstance(Native Method) at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95) at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45) at android.app.Instrumentation.newActivity(Instrumentation.java:1253) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loop(Looper.java:223)  at android.app.ActivityThread.main(ActivityThread.java:7656)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \r\n\r\np.s sorry for bad english / grammar. Not my 1st language.","title":"Android studio crahsing when i tried to add retrofit functionalities, why?","body":"<p>i've been making an app that sends gyroscope and accelerometer info to a pc txt file.\nI'm new in coding and app making ect ect. But i need this app made by me to get some experience under my belt doing this kinda stuff.\nI've been making this app for 3 days now i believe and now i've gotten to the point of getting info from retrofit and having it displayed on the screen.\nThe next step being to send data to an web site.\nWell i've ran into an problem.</p>\n<p>When i added retrofit funcionalities the app always crashes when i try to run it on my phone.\nI had to make an new activity where i could receive the txt from retrofit's website, but everytime i try to run the app it crashes. Can't find anything from the console (sence im a newbvie im guessing) so i decided to come here.</p>\n<p>I've tried to google answers without luck.</p>\n<p>If it helps i've been using YouTube tutorials to get this all setup so i don't really no anything about coding. Be free to assume that i'm making all the beginner mistakes.</p>\n<p>If anyone could try and offer help it would be greatly appreciated.\nAnswer me what i need to send to help me diagnose this problem.</p>\n<p>Thanks!</p>\n<p>Did a bit of googling, guessing this is the stacktrace</p>\n<p>--------- beginning of crash E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.testi, PID: 2622 java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.testi/com.example.testi.MainActivity}: java.lang.IllegalStateException: System services not available to Activities before onCreate() at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) at android.os.Handler.dispatchMessage(Handler.java:106) at android.os.Looper.loop(Looper.java:223) at android.app.ActivityThread.main(ActivityThread.java:7656) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) Caused by: java.lang.IllegalStateException: System services not available to Activities before onCreate() at android.app.Activity.getSystemService(Activity.java:6800) at com.example.testi.MainActivity.(MainActivity.java:56) at java.lang.Class.newInstance(Native Method) at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95) at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45) at android.app.Instrumentation.newActivity(Instrumentation.java:1253) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)  at android.os.Handler.dispatchMessage(Handler.java:106)  at android.os.Looper.loop(Looper.java:223)  at android.app.ActivityThread.main(ActivityThread.java:7656)  at java.lang.reflect.Method.invoke(Native Method)  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)</p>\n<p>p.s sorry for bad english / grammar. Not my 1st language.</p>\n"},{"tags":["java","android","jackson","duplicates","intuit-partner-platform"],"comments":[{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1637675130,"post_id":70081745,"comment_id":123885482,"body_markdown":"Exclude jackson from first one too &quot;com.intuit.quickbooks-online:ipp-v3-java-ata:6.2.0&quot; you are only doing it from devkit and oauth only","body":"Exclude jackson from first one too &quot;com.intuit.quickbooks-online:ipp-v3-java-ata:6.2.0&quot; you are only doing it from devkit and oauth only"},{"owner":{"account_id":7481556,"reputation":99,"user_id":5686157,"display_name":"Rahul"},"score":0,"creation_date":1637675448,"post_id":70081745,"comment_id":123885637,"body_markdown":"Tried now still having same issue","body":"Tried now still having same issue"}],"owner":{"account_id":7481556,"reputation":99,"user_id":5686157,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637674008,"creation_date":1637674008,"question_id":70081745,"body_markdown":"\r\n    implementation (&#39;com.intuit.quickbooks-online:ipp-v3-java-ata:6.2.0&#39;)\r\n    implementation (group: &#39;com.intuit.quickbooks-online&#39;, name: &#39;ipp-v3-java-devkit&#39;, version: \r\n    &#39;6.2.0&#39;, classifier: &#39;jar-with-dependencies&#39;)\r\n    implementation (group: &#39;com.intuit.quickbooks-online&#39;, name: &#39;oauth2-platform-api&#39;, version: \r\n    &#39;6.2.0&#39;, classifier: &#39;jar-with-dependencies&#39;)\r\n\r\nAbove are the dependencies I am using\r\nAND\r\nBelow are the errors I am facing\r\n\r\n    Duplicate class com.fasterxml.jackson.annotation.JacksonAnnotation found in the following \r\n    modules: jetified-ipp-v3-java-devkit-6.2-jar-with-dependencies.0-jar-with-dependencies \r\n    (com.intuit.quickbooks-online:ipp-v3-java-devkit:6.2.0), jetified-jackson-annotations-2.9.0 \r\n    (com.fasterxml.jackson.core:jackson-annotations:2.9.0) and jetified-oauth2-platform-api-6.2- \r\n    jar-with-dependencies.0-jar-with-dependencies (com.intuit.quickbooks-online:oauth2-platform- \r\n    api:6.2.0) \r\n\r\n\r\nPlease help me out with the solution but didn&#39;t worked.\r\n\r\nI have tried below solutions\r\n\r\n 1. Invalidate cache and Restart \r\n 2. Clean and Rebuild project\r\n 3. \r\n\r\n   \r\n\r\n     implementation (&#39;com.intuit.quickbooks-online:ipp-v3-java-data:6.2.0&#39;) {\r\n                exclude group: &quot;com.sun.istack&quot;, module: &quot;istack-commons-runtime&quot;\r\n                exclude group: &quot;com.sun.xml.bind&quot;, module: &quot;jaxb-impl&quot;\r\n                 exclude group: &quot;org.glassfish.jaxb&quot;, module: &quot;jaxb-runtime&quot;\r\n                 exclude group: &quot;org.springframework&quot;, module: &quot;spring-jcl&quot;\r\n                 //exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\r\n                exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\r\n                exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\r\n                exclude group: &quot;org.apache.http.impl.client&quot;, module: &quot;jetified&quot;\r\n        \r\n            }\r\n        \r\n            implementation (group: &#39;com.intuit.quickbooks-online&#39;, name: &#39;ipp-v3-java-devkit&#39;, version: &#39;6.2.0&#39;, classifier: &#39;jar-with-dependencies&#39;)\r\n                    {\r\n                        exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\r\n                        exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\r\n                        exclude group: &quot;com.fasterxml.jackson&quot;, module: &quot;jackson-annotations&quot;\r\n        \r\n                    }\r\n            implementation (group: &#39;com.intuit.quickbooks-online&#39;, name: &#39;oauth2-platform-api&#39;, version: &#39;6.2.0&#39;, classifier: &#39;jar-with-dependencies&#39;)\r\n                    {\r\n                        exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\r\n                        exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\r\n                        exclude group: &quot;com.fasterxml.jackson&quot;, module: &quot;jackson-annotations&quot;\r\n                    }","title":"Getting Duplicate class error after Implementing the below Library-Android","body":"<pre><code>implementation ('com.intuit.quickbooks-online:ipp-v3-java-ata:6.2.0')\nimplementation (group: 'com.intuit.quickbooks-online', name: 'ipp-v3-java-devkit', version: \n'6.2.0', classifier: 'jar-with-dependencies')\nimplementation (group: 'com.intuit.quickbooks-online', name: 'oauth2-platform-api', version: \n'6.2.0', classifier: 'jar-with-dependencies')\n</code></pre>\n<p>Above are the dependencies I am using\nAND\nBelow are the errors I am facing</p>\n<pre><code>Duplicate class com.fasterxml.jackson.annotation.JacksonAnnotation found in the following \nmodules: jetified-ipp-v3-java-devkit-6.2-jar-with-dependencies.0-jar-with-dependencies \n(com.intuit.quickbooks-online:ipp-v3-java-devkit:6.2.0), jetified-jackson-annotations-2.9.0 \n(com.fasterxml.jackson.core:jackson-annotations:2.9.0) and jetified-oauth2-platform-api-6.2- \njar-with-dependencies.0-jar-with-dependencies (com.intuit.quickbooks-online:oauth2-platform- \napi:6.2.0) \n</code></pre>\n<p>Please help me out with the solution but didn't worked.</p>\n<p>I have tried below solutions</p>\n<ol>\n<li><p>Invalidate cache and Restart</p>\n</li>\n<li><p>Clean and Rebuild project</p>\n</li>\n<li><p>implementation ('com.intuit.quickbooks-online:ipp-v3-java-data:6.2.0') {\nexclude group: &quot;com.sun.istack&quot;, module: &quot;istack-commons-runtime&quot;\nexclude group: &quot;com.sun.xml.bind&quot;, module: &quot;jaxb-impl&quot;\nexclude group: &quot;org.glassfish.jaxb&quot;, module: &quot;jaxb-runtime&quot;\nexclude group: &quot;org.springframework&quot;, module: &quot;spring-jcl&quot;\n//exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\nexclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\nexclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\nexclude group: &quot;org.apache.http.impl.client&quot;, module: &quot;jetified&quot;</p>\n<pre><code>     }\n\n     implementation (group: 'com.intuit.quickbooks-online', name: 'ipp-v3-java-devkit', version: '6.2.0', classifier: 'jar-with-dependencies')\n             {\n                 exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\n                 exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\n                 exclude group: &quot;com.fasterxml.jackson&quot;, module: &quot;jackson-annotations&quot;\n\n             }\n     implementation (group: 'com.intuit.quickbooks-online', name: 'oauth2-platform-api', version: '6.2.0', classifier: 'jar-with-dependencies')\n             {\n                 exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpcore&quot;\n                 exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;&quot;\n                 exclude group: &quot;com.fasterxml.jackson&quot;, module: &quot;jackson-annotations&quot;\n             }\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","concurrency","thread-safety","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":14257522,"reputation":3554,"user_id":10299342,"display_name":"Arvid Heise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637673461,"creation_date":1637673461,"answer_id":70081618,"question_id":70075452,"body_markdown":"All user-defined functions in Flink are only invoked by the same thread. You usually have one copy of such a function (through Serializable) per subtask/thread to exactly avoid costly synchronization.\r\n\r\nSo your Sink function is safe. However, when you cache values, you need to ensure to put them in the state if you rely on Flink&#39;s fault tolerance for exact results. If you use checkpointing, you should also be aware that no checkpoint can be done as long as `bufferedRecords.empty()` blocks.","title":"Apache Flink SinkFunction requirement","body":"<p>All user-defined functions in Flink are only invoked by the same thread. You usually have one copy of such a function (through Serializable) per subtask/thread to exactly avoid costly synchronization.</p>\n<p>So your Sink function is safe. However, when you cache values, you need to ensure to put them in the state if you rely on Flink's fault tolerance for exact results. If you use checkpointing, you should also be aware that no checkpoint can be done as long as <code>bufferedRecords.empty()</code> blocks.</p>\n"}],"owner":{"account_id":23425201,"reputation":13,"user_id":17484758,"display_name":"Neo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70081618,"answer_count":1,"score":1,"last_activity_date":1637673461,"creation_date":1637642037,"question_id":70075452,"body_markdown":"I&#39;ve seen an Apache Flink program of a class which [implements SinkFunction](https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/functions/sink/SinkFunction.html) that periodically uploads the data without proper synchronization primitive. \r\n\r\nIs it consider dangerous? \r\n\r\nSince the api reads \r\n&gt;&quot;Writes the given value to the sink. This function is called for every record.&quot; \r\n\r\nI assume the given function can be called by multiple threads given the same instance, which could potentially cause race condition without potential locking mechanism or concurrent data structure. Is this the right interpretation? \r\n\r\n    private List&lt;Record&gt; bufferedRecords;\r\n    @Override\r\n    public void invoke(Point point, Context context) throws Exception {\r\n        bufferedRecords.add(point);\r\n    \r\n        if (bufferedRecords.size() == batchSize) {\r\n            writeRecords(bufferedRecords);\r\n            bufferedRecords.empty();\r\n        }\r\n    }\r\n\r\nFollow up: To make invoke thread safe, I see wrapping the entire function around a lock seems to be sufficient. Is there a better way to handle this situation without sacrificing the property that `bufferedRecords` can not go over `batchSize` and there is no missed or duplicated records?","title":"Apache Flink SinkFunction requirement","body":"<p>I've seen an Apache Flink program of a class which <a href=\"https://nightlies.apache.org/flink/flink-docs-master/api/java/org/apache/flink/streaming/api/functions/sink/SinkFunction.html\" rel=\"nofollow noreferrer\">implements SinkFunction</a> that periodically uploads the data without proper synchronization primitive.</p>\n<p>Is it consider dangerous?</p>\n<p>Since the api reads</p>\n<blockquote>\n<p>&quot;Writes the given value to the sink. This function is called for every record.&quot;</p>\n</blockquote>\n<p>I assume the given function can be called by multiple threads given the same instance, which could potentially cause race condition without potential locking mechanism or concurrent data structure. Is this the right interpretation?</p>\n<pre><code>private List&lt;Record&gt; bufferedRecords;\n@Override\npublic void invoke(Point point, Context context) throws Exception {\n    bufferedRecords.add(point);\n\n    if (bufferedRecords.size() == batchSize) {\n        writeRecords(bufferedRecords);\n        bufferedRecords.empty();\n    }\n}\n</code></pre>\n<p>Follow up: To make invoke thread safe, I see wrapping the entire function around a lock seems to be sufficient. Is there a better way to handle this situation without sacrificing the property that <code>bufferedRecords</code> can not go over <code>batchSize</code> and there is no missed or duplicated records?</p>\n"},{"tags":["java","linkedhashmap","generic-method"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1637631438,"post_id":70074162,"comment_id":123872898,"body_markdown":"Side note: Unless there&#39;s something peculiar about all Toyotas (and other other brands) that requires its own class, better to just have a `brand` field in `Car` than to have subclasses. Perhaps `InternalCombustionCar`, `HybridCar` and `ElectricCar` may have been better choices? Or even no subclasses, just `Map&lt;String, Car&gt; hondaModels = ...` appropriately populated is what you want.","body":"Side note: Unless there&#39;s something peculiar about all Toyotas (and other other brands) that requires its own class, better to just have a <code>brand</code> field in <code>Car</code> than to have subclasses. Perhaps <code>InternalCombustionCar</code>, <code>HybridCar</code> and <code>ElectricCar</code> may have been better choices? Or even no subclasses, just <code>Map&lt;String, Car&gt; hondaModels = ...</code> appropriately populated is what you want."},{"owner":{"account_id":5302148,"reputation":177,"user_id":4231356,"display_name":"phamous"},"score":0,"creation_date":1637634135,"post_id":70074162,"comment_id":123873315,"body_markdown":"Thanks for the thought, it was just meant to be a quick example to illustrate how I can check if a map contains a key, regardless of what the map is, as long as the key is a string.","body":"Thanks for the thought, it was just meant to be a quick example to illustrate how I can check if a map contains a key, regardless of what the map is, as long as the key is a string."}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637629608,"creation_date":1637629608,"answer_id":70074224,"question_id":70074162,"body_markdown":"If you only want to check if the map contains the key you can use the `?` wildcard. \r\n\r\n    public boolean checkModel(Map&lt;String, ?&gt; lineup, String model) {\r\n        // trim any leading or trailing whitespace for the given vehicle model\r\n        model = model.trim();\r\n        if (lineup.containsKey(model)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nNow the method will accept any map as long as the key is a string.\r\n\r\nIf you want to accept only maps that have a string as key and a car as object you can write `Map&lt;String, ? extends Car&gt;` instead. No need to use type parameters.","title":"Creating methods by specifying LinkedHashMaps with generic values as a parameter","body":"<p>If you only want to check if the map contains the key you can use the <code>?</code> wildcard.</p>\n<pre><code>public boolean checkModel(Map&lt;String, ?&gt; lineup, String model) {\n    // trim any leading or trailing whitespace for the given vehicle model\n    model = model.trim();\n    if (lineup.containsKey(model)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Now the method will accept any map as long as the key is a string.</p>\n<p>If you want to accept only maps that have a string as key and a car as object you can write <code>Map&lt;String, ? extends Car&gt;</code> instead. No need to use type parameters.</p>\n"}],"owner":{"account_id":5302148,"reputation":177,"user_id":4231356,"display_name":"phamous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70074224,"answer_count":1,"score":0,"last_activity_date":1637673347,"creation_date":1637628974,"question_id":70074162,"body_markdown":"Let&#39;s say I have a super class **Car** and my sub classes are **Honda**, **Toyota**, and **Lexus**.\r\n\r\nI have 3 LinkedHashMaps using each sub class as the value:\r\n```\r\nLinkedHashMap&lt;String, Honda&gt; hondaModels = new LinkedHashMap&lt;String, Honda&gt;();\r\nLinkedHashMap&lt;String, Toyota&gt; toyotaModels = new LinkedHashMap&lt;String, Toyota&gt;();\r\nLinkedHashMap&lt;String, Lexus&gt; lexusModels = new LinkedHashMap&lt;String, Lexus&gt;();\r\n```\r\n\r\nWhat I am trying to achieve is something like this:\r\n\r\n```\r\npublic &lt;T&gt; boolean checkModel(LinkedHashMap&lt;String, &lt;T&gt;&gt; lineup, String model) {\r\n\tif (lineup.containsKey(model)) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n```\r\nIs it possible for me to create a method by specifying LinkedHashMap with a generic value as a parameter so I don&#39;t have to repeat the same method for all 3 LinkedHashMaps?","title":"Creating methods by specifying LinkedHashMaps with generic values as a parameter","body":"<p>Let's say I have a super class <strong>Car</strong> and my sub classes are <strong>Honda</strong>, <strong>Toyota</strong>, and <strong>Lexus</strong>.</p>\n<p>I have 3 LinkedHashMaps using each sub class as the value:</p>\n<pre><code>LinkedHashMap&lt;String, Honda&gt; hondaModels = new LinkedHashMap&lt;String, Honda&gt;();\nLinkedHashMap&lt;String, Toyota&gt; toyotaModels = new LinkedHashMap&lt;String, Toyota&gt;();\nLinkedHashMap&lt;String, Lexus&gt; lexusModels = new LinkedHashMap&lt;String, Lexus&gt;();\n</code></pre>\n<p>What I am trying to achieve is something like this:</p>\n<pre><code>public &lt;T&gt; boolean checkModel(LinkedHashMap&lt;String, &lt;T&gt;&gt; lineup, String model) {\n    if (lineup.containsKey(model)) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Is it possible for me to create a method by specifying LinkedHashMap with a generic value as a parameter so I don't have to repeat the same method for all 3 LinkedHashMaps?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1391549337,"post_id":21563811,"comment_id":32569238,"body_markdown":"You shouldn&#39;t try to directly access those properties, but instead call the public getter methods.","body":"You shouldn&#39;t try to directly access those properties, but instead call the public getter methods."},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391549567,"post_id":21563811,"comment_id":32569359,"body_markdown":"Thanks for that, @HovercraftFullOfEels - can you please explain how to infer that from the docs? To me, [java.awt.Rectangle](http://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html) describes its fields similarly, and yet there I _can_ read `rect.x` without a problem?","body":"Thanks for that, @HovercraftFullOfEels - can you please explain how to infer that from the docs? To me, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\">java.awt.Rectangle</a> describes its fields similarly, and yet there I <i>can</i> read <code>rect.x</code> without a problem?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1391549786,"post_id":21563811,"comment_id":32569482,"body_markdown":"That&#39;s the Rectangle API. The one you&#39;re interested in is the [Rectangle2D API](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.html). Check out the methods of its supper class for getX(), getY(), etc.","body":"That&#39;s the Rectangle API. The one you&#39;re interested in is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.html\" rel=\"nofollow noreferrer\">Rectangle2D API</a>. Check out the methods of its supper class for getX(), getY(), etc."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1391549879,"post_id":21563811,"comment_id":32569531,"body_markdown":"OFC that these fields are accesible, but to the class itself and classes from the same package. Not to the outside classes (non related). That what lack of public/protected/private keyword do.","body":"OFC that these fields are accesible, but to the class itself and classes from the same package. Not to the outside classes (non related). That what lack of public/protected/private keyword do."},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391549986,"post_id":21563811,"comment_id":32569591,"body_markdown":"Thanks, @HovercraftFullOfEels - I guess my problem is, why doesn&#39;t the documentation clearly state that for `java.awt.Rectangle`, fields `.x` are accessible; while for `java.awt.geom.Rectangle2D`, those fields are not accessible?","body":"Thanks, @HovercraftFullOfEels - I guess my problem is, why doesn&#39;t the documentation clearly state that for <code>java.awt.Rectangle</code>, fields <code>.x</code> are accessible; while for <code>java.awt.geom.Rectangle2D</code>, those fields are not accessible?"},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391550057,"post_id":21563811,"comment_id":32569648,"body_markdown":"Thanks, @Antoniossss - that would explain it; still, I wonder why the documentations doesn&#39;t state clearly when the fields are private (I tried ctrl-F private on both Rectangle and Rectangle2D doc pages) ...","body":"Thanks, @Antoniossss - that would explain it; still, I wonder why the documentations doesn&#39;t state clearly when the fields are private (I tried ctrl-F private on both Rectangle and Rectangle2D doc pages) ..."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1391550221,"post_id":21563811,"comment_id":32569740,"body_markdown":"What documentation? according to http://docs.oracle.com/javase/7/docs/api/java/awt/geom/RectangularShape.html those fields has no modificators so they are package protected.","body":"What documentation? according to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/RectangularShape.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/awt/geom/&hellip;</a> those fields has no modificators so they are package protected."},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391550323,"post_id":21563811,"comment_id":32569803,"body_markdown":"@Antoniossss - [java.awt.Rectangle (Java Platform SE 7 )](http://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html) and [java.awt.geom.Rectangle2D.Float (Java Platform SE 7 )](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html)... btw, turns out private fields are not the problem - see accepted answer below.","body":"@Antoniossss - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\">java.awt.Rectangle (Java Platform SE 7 )</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html\" rel=\"nofollow noreferrer\">java.awt.geom.Rectangle2D.Float (Java Platform SE 7 )</a>... btw, turns out private fields are not the problem - see accepted answer below."},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391550435,"post_id":21563811,"comment_id":32569862,"body_markdown":"@Antoniossss - aha, thanks: so the way to read that documentation is: if there are no modificators to the fields, then they are package protected, correct? How come then, the accepted answer works for me?","body":"@Antoniossss - aha, thanks: so the way to read that documentation is: if there are no modificators to the fields, then they are package protected, correct? How come then, the accepted answer works for me?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1391550600,"post_id":21563811,"comment_id":32569985,"body_markdown":"I don&#39;t know what is working for you as I don&#39;t see your code. I can just assume that you start using public fields of `Rectangle2D` insteed of package protected from `Rectangle2D.Float` And as about modifiers, take look at this website http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","body":"I don&#39;t know what is working for you as I don&#39;t see your code. I can just assume that you start using public fields of <code>Rectangle2D</code> insteed of package protected from <code>Rectangle2D.Float</code> And as about modifiers, take look at this website <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"score":0,"creation_date":1391550792,"post_id":21563811,"comment_id":32570101,"body_markdown":"Thanks, @Antoniossss - I didn&#39;t get that `Rectangle2D` has public fields, and `Rectangle2D.Float` has package protected fields; your last comment clarified that. Cheers!","body":"Thanks, @Antoniossss - I didn&#39;t get that <code>Rectangle2D</code> has public fields, and <code>Rectangle2D.Float</code> has package protected fields; your last comment clarified that. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391549982,"creation_date":1391549982,"answer_id":21564057,"question_id":21563811,"body_markdown":"These fields are declared on [`Rectangle2D.Float`](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html) but `testr` is just a `Rectangle2D`. Changing its declaration will let you access them since they are public:\r\n\r\n    Rectangle2D.Float testr;\r\n\r\nIt&#39;s a good suggestion to use getters and setters but there aren&#39;t individual setters for these classes. Only setters to set the entire rectangle (namely [setRect](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.html#setRect%28double,%20double,%20double,%20double%29)).","title":"Fields of java.awt.geom.Rectangle2D?","body":"<p>These fields are declared on <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html\" rel=\"nofollow\"><code>Rectangle2D.Float</code></a> but <code>testr</code> is just a <code>Rectangle2D</code>. Changing its declaration will let you access them since they are public:</p>\n\n<pre><code>Rectangle2D.Float testr;\n</code></pre>\n\n<p>It's a good suggestion to use getters and setters but there aren't individual setters for these classes. Only setters to set the entire rectangle (namely <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.html#setRect%28double,%20double,%20double,%20double%29\" rel=\"nofollow\">setRect</a>).</p>\n"},{"tags":[],"owner":{"account_id":23429721,"reputation":1,"user_id":17488754,"display_name":"Sami44"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637673117,"creation_date":1637673117,"answer_id":70081544,"question_id":21563811,"body_markdown":"These fields are declared on Rectangle2D.Float you can print to control.\r\n\r\n    Ellipse2D.Float test= new Ellipse2D.Float(getPosX()-40,getPosY()-40,30.0f, 30.0f);\r\n            System.out.println(test.getCenterX());\r\n            System.out.println(test.getCenterY());\r\n            System.out.println(test.getMinX());\r\n            System.out.println(test.getMinY());\r\n            System.out.println(test.getMaxX());\r\n            System.out.println(test.getMaxY());\r\n\r\n","title":"Fields of java.awt.geom.Rectangle2D?","body":"<p>These fields are declared on Rectangle2D.Float you can print to control.</p>\n<pre><code>Ellipse2D.Float test= new Ellipse2D.Float(getPosX()-40,getPosY()-40,30.0f, 30.0f);\n        System.out.println(test.getCenterX());\n        System.out.println(test.getCenterY());\n        System.out.println(test.getMinX());\n        System.out.println(test.getMinY());\n        System.out.println(test.getMaxX());\n        System.out.println(test.getMaxY());\n</code></pre>\n"}],"owner":{"account_id":103794,"reputation":37415,"user_id":277826,"accept_rate":56,"display_name":"sdaau"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21564057,"answer_count":2,"score":0,"last_activity_date":1637673117,"creation_date":1391549217,"question_id":21563811,"body_markdown":"Not a Java person here, I&#39;m just trying this code in [Processing.org](http://processing.org/):\r\n\r\n    //import java.awt.Rectangle; // int only\r\n    import java.awt.geom.Rectangle2D; \r\n    \r\n    Rectangle2D testr;\r\n    \r\n    void setup() {\r\n      testr = new Rectangle2D.Float(1.0, 1.0, 30.0, 30.0);\r\n      println(testr);\r\n      //println(testr.x);\r\n    }\r\n\r\nIt prints out:\r\n\r\n    java.awt.geom.Rectangle2D$Float[x=1.0,y=1.0,w=30.0,h=30.0]\r\n\r\n... which sort of implies where are `x` and `y` fields accessible? Even [Rectangle2D.Float (Java Platform SE 7 )](http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html) says:\r\n\r\n&gt; Field Summary  \r\n&gt; ...  \r\n&gt; float \tx  \r\n&gt; The X coordinate of this Rectangle2D.  \r\n\r\nAnd yet, if I uncomment `println(testr.x);`, compilation fails with:\r\n\r\n    testr.x cannot be resolved or not a field.\r\n\r\nWhere am I going wrong - and why cannot I access a field, which the documentation clearly says exists?\r\n\r\nBtw, this is what I find in `/tmp` as the full `.java` source when the processing `.pde` manages to compile:\r\n\r\n    import processing.core.*; \r\n    import processing.data.*; \r\n    import processing.event.*; \r\n    import processing.opengl.*; \r\n    \r\n    import java.awt.geom.Rectangle2D; \r\n    \r\n    import java.util.HashMap; \r\n    import java.util.ArrayList; \r\n    import java.io.File; \r\n    import java.io.BufferedReader; \r\n    import java.io.PrintWriter; \r\n    import java.io.InputStream; \r\n    import java.io.OutputStream; \r\n    import java.io.IOException; \r\n    \r\n    public class sketch_140204c extends PApplet {\r\n    \r\n    \r\n    //import java.awt.Rectangle; // int only\r\n     \r\n    \r\n    Rectangle2D testr;\r\n    \r\n    public void setup() {\r\n      testr = new Rectangle2D.Float(1.0f, 1.0f, 30.0f, 30.0f);\r\n      println(testr);\r\n    }\r\n    \r\n      static public void main(String[] passedArgs) {\r\n        String[] appletArgs = new String[] { &quot;sketch_140204c&quot; };\r\n        if (passedArgs != null) {\r\n          PApplet.main(concat(appletArgs, passedArgs));\r\n        } else {\r\n          PApplet.main(appletArgs);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Fields of java.awt.geom.Rectangle2D?","body":"<p>Not a Java person here, I'm just trying this code in <a href=\"http://processing.org/\" rel=\"nofollow\">Processing.org</a>:</p>\n\n<pre><code>//import java.awt.Rectangle; // int only\nimport java.awt.geom.Rectangle2D; \n\nRectangle2D testr;\n\nvoid setup() {\n  testr = new Rectangle2D.Float(1.0, 1.0, 30.0, 30.0);\n  println(testr);\n  //println(testr.x);\n}\n</code></pre>\n\n<p>It prints out:</p>\n\n<pre><code>java.awt.geom.Rectangle2D$Float[x=1.0,y=1.0,w=30.0,h=30.0]\n</code></pre>\n\n<p>... which sort of implies where are <code>x</code> and <code>y</code> fields accessible? Even <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Rectangle2D.Float.html\" rel=\"nofollow\">Rectangle2D.Float (Java Platform SE 7 )</a> says:</p>\n\n<blockquote>\n  <p>Field Summary<br>\n  ...<br>\n  float     x<br>\n  The X coordinate of this Rectangle2D.  </p>\n</blockquote>\n\n<p>And yet, if I uncomment <code>println(testr.x);</code>, compilation fails with:</p>\n\n<pre><code>testr.x cannot be resolved or not a field.\n</code></pre>\n\n<p>Where am I going wrong - and why cannot I access a field, which the documentation clearly says exists?</p>\n\n<p>Btw, this is what I find in <code>/tmp</code> as the full <code>.java</code> source when the processing <code>.pde</code> manages to compile:</p>\n\n<pre><code>import processing.core.*; \nimport processing.data.*; \nimport processing.event.*; \nimport processing.opengl.*; \n\nimport java.awt.geom.Rectangle2D; \n\nimport java.util.HashMap; \nimport java.util.ArrayList; \nimport java.io.File; \nimport java.io.BufferedReader; \nimport java.io.PrintWriter; \nimport java.io.InputStream; \nimport java.io.OutputStream; \nimport java.io.IOException; \n\npublic class sketch_140204c extends PApplet {\n\n\n//import java.awt.Rectangle; // int only\n\n\nRectangle2D testr;\n\npublic void setup() {\n  testr = new Rectangle2D.Float(1.0f, 1.0f, 30.0f, 30.0f);\n  println(testr);\n}\n\n  static public void main(String[] passedArgs) {\n    String[] appletArgs = new String[] { \"sketch_140204c\" };\n    if (passedArgs != null) {\n      PApplet.main(concat(appletArgs, passedArgs));\n    } else {\n      PApplet.main(appletArgs);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":3506912,"reputation":12425,"user_id":2932244,"accept_rate":50,"display_name":"JRodDynamite"},"score":0,"creation_date":1457005332,"post_id":35770992,"comment_id":59213786,"body_markdown":"The answers to this question are many. What exactly are you looking for?","body":"The answers to this question are many. What exactly are you looking for?"},{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1457005891,"post_id":35770992,"comment_id":59214172,"body_markdown":"i faced this question in interview, as I am aware about only two-three ways, so just curious to know about multiple ways of doing it.","body":"i faced this question in interview, as I am aware about only two-three ways, so just curious to know about multiple ways of doing it."}],"answers":[{"tags":[],"owner":{"account_id":6902040,"reputation":279,"user_id":5301341,"accept_rate":36,"display_name":"Pankaj Dubey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457005187,"creation_date":1457005187,"answer_id":35771187,"question_id":35770992,"body_markdown":"submit();\r\nIf the current element is a form, or an element within a form, then this will be submitted to the remote server. If this causes the current page to change, then this method will block until the new page is loaded","title":"How many ways to click on webElement In WebDriver?","body":"<p>submit();\nIf the current element is a form, or an element within a form, then this will be submitted to the remote server. If this causes the current page to change, then this method will block until the new page is loaded</p>\n"},{"tags":[],"owner":{"account_id":7740205,"reputation":1145,"user_id":5860267,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457006261,"creation_date":1457005414,"answer_id":35771272,"question_id":35770992,"body_markdown":"You can use:\r\n\r\n`yourelement.sendKeys(Keys.RETURN)` or `.sendKeys(Keys.ENTER)` : which is an equivalent of focusing that element and hitting RETURN/ENTER on that element\r\n\r\nAlso, There are methods to do this using Javacript but it is not usually recommended:\r\n\r\nusing the non-native Javascript Executor:\r\n\r\n`((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, yourelement);`\r\n\r\nor by using Javascript Library:\r\n\r\n    JavascriptLibrary jsLib = new JavascriptLibrary();`\r\n    jsLib.callEmbeddedSelenium(driver, &quot;triggerMouseEventAt&quot;, we, &quot;click&quot;, &quot;0,0&quot;);","title":"How many ways to click on webElement In WebDriver?","body":"<p>You can use:</p>\n\n<p><code>yourelement.sendKeys(Keys.RETURN)</code> or <code>.sendKeys(Keys.ENTER)</code> : which is an equivalent of focusing that element and hitting RETURN/ENTER on that element</p>\n\n<p>Also, There are methods to do this using Javacript but it is not usually recommended:</p>\n\n<p>using the non-native Javascript Executor:</p>\n\n<p><code>((JavascriptExecutor) driver).executeScript(\"arguments[0].click();\", yourelement);</code></p>\n\n<p>or by using Javascript Library:</p>\n\n<pre><code>JavascriptLibrary jsLib = new JavascriptLibrary();`\njsLib.callEmbeddedSelenium(driver, \"triggerMouseEventAt\", we, \"click\", \"0,0\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7498885,"reputation":89,"user_id":5698067,"display_name":"Ranjith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457006598,"creation_date":1457006598,"answer_id":35771719,"question_id":35770992,"body_markdown":"If you want to click a button or set an value to an web element through selenium you can use **XPATH** variable ,for using XPATH variable you must find the value of it ,you can find it using Firefox browser and few add_on&#39;s like firebugs . \r\n\r\n    driver.findElement(By.xpath(&quot;.//*[@id=&#39;main&#39;]/div[4]/div/button&quot;)).click();\r\n\r\nI would suggest you to use XPATH variable so that you can locate any web element in a webpage.\r\n\r\nIf you want find the hyperlink web element then you can use **By.linkText** when you are sure about the &lt;a&gt;tag name&lt;/a&gt; or choose **By.partialLinkText** by which you can locate even if you partial web element name but in this case your partial search key matches more than one element then By.partialLinkText won&#39;t works fine.\r\nFor example,in case you knows the complete tag name of hyperlink use can use \r\n\t   \r\n\r\n    driver.findElement(By.linkText(&quot;Click to Next Page&quot;)).click();\r\n\r\n*or else*\r\n    \r\n Where you knows only a partial tag name\r\n\r\n    driver.findElement(By.linkText(&quot;Next Page&quot;)).click();\r\n\r\nThe secound option will not help you in all instances.\r\n\r\n","title":"How many ways to click on webElement In WebDriver?","body":"<p>If you want to click a button or set an value to an web element through selenium you can use <strong>XPATH</strong> variable ,for using XPATH variable you must find the value of it ,you can find it using Firefox browser and few add_on's like firebugs . </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='main']/div[4]/div/button\")).click();\n</code></pre>\n\n<p>I would suggest you to use XPATH variable so that you can locate any web element in a webpage.</p>\n\n<p>If you want find the hyperlink web element then you can use <strong>By.linkText</strong> when you are sure about the tag name or choose <strong>By.partialLinkText</strong> by which you can locate even if you partial web element name but in this case your partial search key matches more than one element then By.partialLinkText won't works fine.\nFor example,in case you knows the complete tag name of hyperlink use can use </p>\n\n<pre><code>driver.findElement(By.linkText(\"Click to Next Page\")).click();\n</code></pre>\n\n<p><em>or else</em></p>\n\n<p>Where you knows only a partial tag name</p>\n\n<pre><code>driver.findElement(By.linkText(\"Next Page\")).click();\n</code></pre>\n\n<p>The secound option will not help you in all instances.</p>\n"},{"tags":[],"owner":{"account_id":14292441,"reputation":31,"user_id":10323994,"display_name":"Ramakrishna Jangatisetty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536221601,"creation_date":1536219546,"answer_id":52198869,"question_id":35770992,"body_markdown":"Below are some methods that will be useful to click a button/Image.\r\n\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    \tdriver.get(&quot;http://newtours.demoaut.com&quot;);\r\n    \tWebElement signOnImage = driver.findElement(By.xpath(&quot;//input[@type=&#39;image&#39;][@name=&#39;login&#39;]&quot;));\r\n\t\t\t\r\n\t// direct method from the API which is recommended always\r\n\t\tsignOnImage.click(); \r\n\r\n**1 Using Return Key**\r\n\t\t\r\n\t\t//signOnImage.sendKeys(Keys.RETURN); \r\n**2  Using JavascriptExecutor**\r\n\t\t\r\n\t2.1 \r\n\t\tJavascriptExecutor js = (JavascriptExecutor)driver; \r\n\t\tjs.executeScript(&quot;arguments[0].click();&quot;, signOnImage);\r\n\t\t\r\n\t2.2 \t\t\r\n\t\tJavascriptExecutor js = (JavascriptExecutor) driver; \r\n\t\tjs.executeScript(&quot;document.getElementsByName(&#39;login&#39;)[0].click()&quot;);\r\n\t\r\n**3 Using Actions class**\r\n\t\t\r\n\t3.1\r\n\t\tActions actions = new Actions(driver);  \r\n\t\tactions.click(signOnImage).perform();\r\n\t3.2\r\n\t\tActions actions = new Actions(driver);\r\n\t\tactions.moveToElement(signOnImage).click().perform();\r\n\t3.3\t\r\n\t\tActions actions = new Actions(driver); \r\n\t\tactions.clickAndHold(signOnImage).release().perform();\r\n\t3.4\t\r\n\t\tActions actions = new Actions(driver);\r\n\t\tactions.sendKeys(signOnImage, Keys.RETURN).perform();\r\n\t\t\t\t","title":"How many ways to click on webElement In WebDriver?","body":"<p>Below are some methods that will be useful to click a button/Image.</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\n    driver.get(\"http://newtours.demoaut.com\");\n    WebElement signOnImage = driver.findElement(By.xpath(\"//input[@type='image'][@name='login']\"));\n\n// direct method from the API which is recommended always\n    signOnImage.click(); \n</code></pre>\n\n<p><strong>1 Using Return Key</strong></p>\n\n<pre><code>    //signOnImage.sendKeys(Keys.RETURN); \n</code></pre>\n\n<p><strong>2  Using JavascriptExecutor</strong></p>\n\n<pre><code>2.1 \n    JavascriptExecutor js = (JavascriptExecutor)driver; \n    js.executeScript(\"arguments[0].click();\", signOnImage);\n\n2.2         \n    JavascriptExecutor js = (JavascriptExecutor) driver; \n    js.executeScript(\"document.getElementsByName('login')[0].click()\");\n</code></pre>\n\n<p><strong>3 Using Actions class</strong></p>\n\n<pre><code>3.1\n    Actions actions = new Actions(driver);  \n    actions.click(signOnImage).perform();\n3.2\n    Actions actions = new Actions(driver);\n    actions.moveToElement(signOnImage).click().perform();\n3.3 \n    Actions actions = new Actions(driver); \n    actions.clickAndHold(signOnImage).release().perform();\n3.4 \n    Actions actions = new Actions(driver);\n    actions.sendKeys(signOnImage, Keys.RETURN).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22659856,"reputation":13,"user_id":17465874,"display_name":"Best Scenes_2k18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637642397,"creation_date":1637642397,"answer_id":70075483,"question_id":35770992,"body_markdown":"There are four typical ways to perform click in `Selenium-Java bindings`. \r\n\r\n\r\n1. Using `findElement`\r\n\r\n       driver.findElement(By.xpath(&quot;//span[text()=&#39;Excel&#39;]&quot;)).click();\r\n\r\n2. Using `WebDriverWait`\r\n\r\n       new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()=&#39;Excel&#39;]&quot;))).click();\r\n\r\n3. Using `executeScript`\r\n\r\n       WebElement button = driver.findElement(By.xpath(&quot;//span[text()=&#39;Excel&#39;]&quot;));\r\n\t   ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, button);\r\n\r\n4. Using `ActionClass`\r\n\r\n       WebElement button  = driver.findElement(By.xpath(&quot;//span[text()=&#39;Excel&#39;]/parent::button[@aria-controls=&#39;report&#39;][contains(@class,&#39;downloadExcel&#39;)]&quot;));\r\n       new Actions(driver).moveToElement(button).click().build().perform();\r\n\r\n\r\nI am using `xpath`, you can use `css`, `linkText`, `tagName`, `name`, `partialLinkText` etc as well to perform `click`. ","title":"How many ways to click on webElement In WebDriver?","body":"<p>There are four typical ways to perform click in <code>Selenium-Java bindings</code>.</p>\n<ol>\n<li><p>Using <code>findElement</code></p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[text()='Excel']&quot;)).click();\n</code></pre>\n</li>\n<li><p>Using <code>WebDriverWait</code></p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[text()='Excel']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <code>executeScript</code></p>\n<pre><code>WebElement button = driver.findElement(By.xpath(&quot;//span[text()='Excel']&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, button);\n</code></pre>\n</li>\n<li><p>Using <code>ActionClass</code></p>\n<pre><code>WebElement button  = driver.findElement(By.xpath(&quot;//span[text()='Excel']/parent::button[@aria-controls='report'][contains(@class,'downloadExcel')]&quot;));\nnew Actions(driver).moveToElement(button).click().build().perform();\n</code></pre>\n</li>\n</ol>\n<p>I am using <code>xpath</code>, you can use <code>css</code>, <code>linkText</code>, <code>tagName</code>, <code>name</code>, <code>partialLinkText</code> etc as well to perform <code>click</code>.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637673087,"creation_date":1637654466,"answer_id":70077251,"question_id":35770992,"body_markdown":"HTMLElement.click()\r\n-------------------\r\nThe [_`HTMLElement.click()`_](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click) method simulates a mouse click on an element. At the core level when `click()` is used with supported elements e.g. `&lt;a&gt;`, `&lt;button&gt;`, `&lt;input&gt;`, etc, it fires the element&#39;s click event. This event then bubbles up to elements higher in the document tree (or event chain) and fires their click events.\r\n\r\n\r\n----------\r\n\r\n\r\nThere are several ways to invoke the `click()` method as follows:\r\n\r\n 1. Element [_`click()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#click()): This Element Click command scrolls into view the element if it is not already pointer-interactable, and clicks its in-view center point. An example:\r\n \r\n\t    driver.findElement(By.linkText(&quot;Selenium&quot;)).click();\r\n\r\n 2. Element `sendKeys(Keys.SPACE)`: An example:\r\n\r\n        driver.findElement(By.linkText(&quot;Selenium&quot;)).sendKeys(Keys.SPACE);\r\n \r\n 3. Actions [_`click()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#click()): Clicks at the current mouse location. Useful when combined with _moveToElement(org.openqa.selenium.WebElement, int, int)_ or _moveByOffset(int, int)_. An example:\r\n \r\n \t    new Actions(driver).click(element).build().perform();\r\n \r\n \r\n 4. Actions [_`doubleClick()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#doubleClick()): Performs a double-click at the current mouse location. An example:\r\n \r\n \t    new Actions(driver).keyDown(Keys.CONTROL).doubleClick(link).keyUp(Keys.CONTROL).build().perform();\r\n \r\n  5. Action `sendKeys(textToSend, Keys.RETURN)`: An example:\r\n\r\n         new Actions(driver).moveToElement(element).sendKeys(textToSend, Keys.RETURN).perform();\r\n\r\n\r\n  6. Action `sendKeys(textToSend, Keys.ENTER)`: An example:\r\n\r\n         new Actions(driver).moveToElement(element).sendKeys(textToSend, Keys.ENTER).perform();\r\n\r\n  7. Actions [_`contextClick()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#contextClick()): Performs a context-click at the current mouse location. An example:\r\n  \r\n \t     new Actions(driver).contextClick(element).build().perform();\r\n \r\n \r\n  8. [_JavascriptExecutor_](https://stackoverflow.com/questions/52689880/what-is-javascriptexecutor-in-selenium/52698089#52698089) [_`executeScript​()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript(java.lang.String,java.lang.Object...)): Executes JavaScript in the context of the currently selected frame or window. The script fragment provided will be executed as the body of an anonymous function.\r\n \r\n\t     ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click()&quot;, webElement);\r\n\t  \r\n  9. [_`Submit()`_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#submit()): Applicable if this current element is a form, or an element within a form.\r\n \r\n\t     WebElement searchButton = driver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;));\r\n\t     searchButton.submit();\r\n\t    \r\n  10. [_Mouse Double Click_](https://stackoverflow.com/questions/47981080/how-to-make-mouse-double-click-in-javascript/47981434#47981434)\r\n \r\n  11. [_Mouse Triple Click_](https://stackoverflow.com/questions/63253535/how-to-triple-click-on-python-to-select-a-paragraph/63255108#63255108)","title":"How many ways to click on webElement In WebDriver?","body":"<h2>HTMLElement.click()</h2>\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click\" rel=\"nofollow noreferrer\"><em><code>HTMLElement.click()</code></em></a> method simulates a mouse click on an element. At the core level when <code>click()</code> is used with supported elements e.g. <code>&lt;a&gt;</code>, <code>&lt;button&gt;</code>, <code>&lt;input&gt;</code>, etc, it fires the element's click event. This event then bubbles up to elements higher in the document tree (or event chain) and fires their click events.</p>\n<hr />\n<p>There are several ways to invoke the <code>click()</code> method as follows:</p>\n<ol>\n<li><p>Element <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#click()\" rel=\"nofollow noreferrer\"><em><code>click()</code></em></a>: This Element Click command scrolls into view the element if it is not already pointer-interactable, and clicks its in-view center point. An example:</p>\n<pre><code>driver.findElement(By.linkText(&quot;Selenium&quot;)).click();\n</code></pre>\n</li>\n<li><p>Element <code>sendKeys(Keys.SPACE)</code>: An example:</p>\n<pre><code>driver.findElement(By.linkText(&quot;Selenium&quot;)).sendKeys(Keys.SPACE);\n</code></pre>\n</li>\n<li><p>Actions <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#click()\" rel=\"nofollow noreferrer\"><em><code>click()</code></em></a>: Clicks at the current mouse location. Useful when combined with <em>moveToElement(org.openqa.selenium.WebElement, int, int)</em> or <em>moveByOffset(int, int)</em>. An example:</p>\n<pre><code>new Actions(driver).click(element).build().perform();\n</code></pre>\n</li>\n<li><p>Actions <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#doubleClick()\" rel=\"nofollow noreferrer\"><em><code>doubleClick()</code></em></a>: Performs a double-click at the current mouse location. An example:</p>\n<pre><code>new Actions(driver).keyDown(Keys.CONTROL).doubleClick(link).keyUp(Keys.CONTROL).build().perform();\n</code></pre>\n</li>\n<li><p>Action <code>sendKeys(textToSend, Keys.RETURN)</code>: An example:</p>\n<pre><code>new Actions(driver).moveToElement(element).sendKeys(textToSend, Keys.RETURN).perform();\n</code></pre>\n</li>\n<li><p>Action <code>sendKeys(textToSend, Keys.ENTER)</code>: An example:</p>\n<pre><code>new Actions(driver).moveToElement(element).sendKeys(textToSend, Keys.ENTER).perform();\n</code></pre>\n</li>\n<li><p>Actions <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#contextClick()\" rel=\"nofollow noreferrer\"><em><code>contextClick()</code></em></a>: Performs a context-click at the current mouse location. An example:</p>\n<pre><code>new Actions(driver).contextClick(element).build().perform();\n</code></pre>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/52689880/what-is-javascriptexecutor-in-selenium/52698089#52698089\"><em>JavascriptExecutor</em></a> <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><em><code>executeScript​()</code></em></a>: Executes JavaScript in the context of the currently selected frame or window. The script fragment provided will be executed as the body of an anonymous function.</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click()&quot;, webElement);\n</code></pre>\n</li>\n<li><p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#submit()\" rel=\"nofollow noreferrer\"><em><code>Submit()</code></em></a>: Applicable if this current element is a form, or an element within a form.</p>\n<pre><code>WebElement searchButton = driver.findElement(By.xpath(&quot;//button[@type='submit']&quot;));\nsearchButton.submit();\n</code></pre>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/47981080/how-to-make-mouse-double-click-in-javascript/47981434#47981434\"><em>Mouse Double Click</em></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/63253535/how-to-triple-click-on-python-to-select-a-paragraph/63255108#63255108\"><em>Mouse Triple Click</em></a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48902,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35771272,"answer_count":6,"score":5,"last_activity_date":1637673087,"creation_date":1457004605,"question_id":35770992,"body_markdown":"As I am aware that user can click on Particular Webelement by using click method and one more way like using Sendkey Method with ASCII Value for left Click.\r\n\r\n    By Click Method: driver.findElement(By.cssSelector(&quot;.dbl&quot;)).click();\r\n    \r\n    By Ascii Value : driver.findElement(By.cssSelector(&quot;.dbl&quot;)).sendKey(&quot;ASCII VALUE FOR Left Click&quot;);\r\n\r\nApart from this is there a way to perform click action??\r\n","title":"How many ways to click on webElement In WebDriver?","body":"<p>As I am aware that user can click on Particular Webelement by using click method and one more way like using Sendkey Method with ASCII Value for left Click.</p>\n\n<pre><code>By Click Method: driver.findElement(By.cssSelector(\".dbl\")).click();\n\nBy Ascii Value : driver.findElement(By.cssSelector(\".dbl\")).sendKey(\"ASCII VALUE FOR Left Click\");\n</code></pre>\n\n<p>Apart from this is there a way to perform click action??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1637662603,"post_id":70078924,"comment_id":123880490,"body_markdown":"keep a map where you map the names to the attributenames, that &#39;ll save you about ... 5 ifs already. But SO isn&#39;t really a &quot;code review&quot; group. There are better places to post this","body":"keep a map where you map the names to the attributenames, that &#39;ll save you about ... 5 ifs already. But SO isn&#39;t really a &quot;code review&quot; group. There are better places to post this"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1637662821,"post_id":70078924,"comment_id":123880582,"body_markdown":"And just saying: maybe you should avoid copy/pasting your companies production code to stackoverflow. Remember [mcve]. Especially those hardcoded package names that give away your company ... consider editing that out ;-)","body":"And just saying: maybe you should avoid copy/pasting your companies production code to stackoverflow. Remember <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Especially those hardcoded package names that give away your company ... consider editing that out ;-)"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637663061,"creation_date":1637662531,"answer_id":70079028,"question_id":70078924,"body_markdown":"Simple: by moving content into helper methods.\r\n\r\nThe real point here is: code quality doesn&#39;t come out of tools. It needs the developers to have a **common understanding** how good code *should* look like.\r\n\r\nWhich requires: for developers to spend time learning and thinking about it.\r\n\r\nLong story short: start by reading a good book, like &quot;Clean Code&quot; by Robert C. Martin. That book for example suggests that you always only have a single level of abstraction in your methods. One way to get there: by a lot of small helper methods. Your code has **4**: try - for - if - if. Theoretically, each *body* (try / for / if / if) could go into its own method.\r\n\r\nMeaning: you can reduce the complexity of that one method by moving the complicated checks in different places. Alternatives, you also could restructure the code completely. As user [Stultuske][1] suggests: in the end, your code is doing some sort of **mapping**. Those one solution would be to use a map, and that knows to map `strategyId` to `strategy_id`. (and note: many libraries doing so DTO mapping actually have built in strategies for reworking names from `camelCase` to `snake_case` for example. You are (sort of) re-inventing the wheel here.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2636929/stultuske","title":"Refactor this method to reduce its Cognitive Complexity from 18 to the 15 allowed","body":"<p>Simple: by moving content into helper methods.</p>\n<p>The real point here is: code quality doesn't come out of tools. It needs the developers to have a <strong>common understanding</strong> how good code <em>should</em> look like.</p>\n<p>Which requires: for developers to spend time learning and thinking about it.</p>\n<p>Long story short: start by reading a good book, like &quot;Clean Code&quot; by Robert C. Martin. That book for example suggests that you always only have a single level of abstraction in your methods. One way to get there: by a lot of small helper methods. Your code has <strong>4</strong>: try - for - if - if. Theoretically, each <em>body</em> (try / for / if / if) could go into its own method.</p>\n<p>Meaning: you can reduce the complexity of that one method by moving the complicated checks in different places. Alternatives, you also could restructure the code completely. As user <a href=\"https://stackoverflow.com/users/2636929/stultuske\">Stultuske</a> suggests: in the end, your code is doing some sort of <strong>mapping</strong>. Those one solution would be to use a map, and that knows to map <code>strategyId</code> to <code>strategy_id</code>. (and note: many libraries doing so DTO mapping actually have built in strategies for reworking names from <code>camelCase</code> to <code>snake_case</code> for example. You are (sort of) re-inventing the wheel here.</p>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637672896,"creation_date":1637665175,"answer_id":70079675,"question_id":70078924,"body_markdown":"One simple step for these kinds of issues is to check the for loop.\r\n\r\nCould probably extract the contents of the for loop to a method.\r\n\r\n      for (Field m : members) {\r\n          Audit a = createAudit(arrlist, m);\r\n          if(a!=null) arrlist.add(audit);\r\n      }","title":"Refactor this method to reduce its Cognitive Complexity from 18 to the 15 allowed","body":"<p>One simple step for these kinds of issues is to check the for loop.</p>\n<p>Could probably extract the contents of the for loop to a method.</p>\n<pre><code>  for (Field m : members) {\n      Audit a = createAudit(arrlist, m);\n      if(a!=null) arrlist.add(audit);\n  }\n</code></pre>\n"}],"owner":{"display_name":"user13126661"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637672896,"creation_date":1637662112,"question_id":70078924,"body_markdown":" I am getting sonar warning to reduce its complexity. How can I refactor the below code to reduce its Cognitive Complexity from 18 to the 15 allowed?\r\n\r\n    @Override\r\n       \r\n            \r\n            try {\r\n                Field[] members = MSAUnderlyingStrategyDTO.class.getDeclaredFields();\r\n                Class&lt;?&gt; c = Class.forName(&quot;com.model.MSAUnderlyingStrategyDTO&quot;);\r\n                for (Field m : members) {\r\n                    if (!m.getName().equalsIgnoreCase(&quot;serialVersionUID&quot;)\r\n                            &amp;&amp; !m.getName().equalsIgnoreCase(&quot;DATE_FORMAT&quot;)) {\r\n                        var audit = new Audit();\r\n                        audit.setAuditType(&quot;ADD&quot;);\r\n                        audit.setClientId(1);\r\n                        audit.setEntityId(msaStrategy.getStrategyId());\r\n                        audit.setCreatedBy(user);\r\n                        audit.setCreatedOn(new Timestamp(System.currentTimeMillis()));\r\n                        audit.setEntityName(MSASTRATEGY);\r\n                        audit.setAttributeFromValue(null);\r\n                        Object obj = c.getDeclaredMethod(createMethodName(m.getName())).invoke(msaStrategy);\r\n                        if(obj!=null&amp;&amp; !obj.toString().isEmpty()) {\r\n    \t\t\t\t\t\taudit.setAttributeToValue(obj.toString());\r\n    \t\t\t\t\t\tif(m.getName().equalsIgnoreCase(&quot;msaUnderlyingStrategyName&quot;))\r\n    \t\t\t\t\t\t\taudit.setAttributeName(&quot;underlying_strategy_name&quot;);\r\n    \t\t\t\t\t\telse\r\n","title":"Refactor this method to reduce its Cognitive Complexity from 18 to the 15 allowed","body":"<p>I am getting sonar warning to reduce its complexity. How can I refactor the below code to reduce its Cognitive Complexity from 18 to the 15 allowed?</p>\n<pre><code>@Override\n   \n        \n        try {\n            Field[] members = MSAUnderlyingStrategyDTO.class.getDeclaredFields();\n            Class&lt;?&gt; c = Class.forName(&quot;com.model.MSAUnderlyingStrategyDTO&quot;);\n            for (Field m : members) {\n                if (!m.getName().equalsIgnoreCase(&quot;serialVersionUID&quot;)\n                        &amp;&amp; !m.getName().equalsIgnoreCase(&quot;DATE_FORMAT&quot;)) {\n                    var audit = new Audit();\n                    audit.setAuditType(&quot;ADD&quot;);\n                    audit.setClientId(1);\n                    audit.setEntityId(msaStrategy.getStrategyId());\n                    audit.setCreatedBy(user);\n                    audit.setCreatedOn(new Timestamp(System.currentTimeMillis()));\n                    audit.setEntityName(MSASTRATEGY);\n                    audit.setAttributeFromValue(null);\n                    Object obj = c.getDeclaredMethod(createMethodName(m.getName())).invoke(msaStrategy);\n                    if(obj!=null&amp;&amp; !obj.toString().isEmpty()) {\n                        audit.setAttributeToValue(obj.toString());\n                        if(m.getName().equalsIgnoreCase(&quot;msaUnderlyingStrategyName&quot;))\n                            audit.setAttributeName(&quot;underlying_strategy_name&quot;);\n                        else\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":433414,"reputation":2452,"user_id":818716,"accept_rate":65,"display_name":"orelzion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637672825,"creation_date":1637672825,"answer_id":70081470,"question_id":70080941,"body_markdown":"You need to start with a `setContentView` so your activity will have an initial layout.\r\n\r\nTo that method you will pass either a view or a layout id.\r\n\r\nSo if for example you have a layout file named `activity2_layout.xml` your `onCreate` method should look something like this\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    // TODO Auto-generated method stub\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity2_layout)\r\n\r\n```\r\n\r\nAnd then you call your button with \r\n```\r\nfindViewById(R.id.buttun_id)\r\n```\r\n\r\nAnd if you want to add the button there without XML, you first find your layout and then call\r\n\r\n```\r\nmyLayout.addView(button)\r\n```\r\n\r\nThis is really Android basics, you probably want to take a look at [this][1] before proceeding \r\n\r\n\r\n  [1]: https://developer.android.com/courses/android-basics-kotlin/course","title":"Adding a button to activity without XML or Layout","body":"<p>You need to start with a <code>setContentView</code> so your activity will have an initial layout.</p>\n<p>To that method you will pass either a view or a layout id.</p>\n<p>So if for example you have a layout file named <code>activity2_layout.xml</code> your <code>onCreate</code> method should look something like this</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity2_layout)\n\n</code></pre>\n<p>And then you call your button with</p>\n<pre><code>findViewById(R.id.buttun_id)\n</code></pre>\n<p>And if you want to add the button there without XML, you first find your layout and then call</p>\n<pre><code>myLayout.addView(button)\n</code></pre>\n<p>This is really Android basics, you probably want to take a look at <a href=\"https://developer.android.com/courses/android-basics-kotlin/course\" rel=\"nofollow noreferrer\">this</a> before proceeding</p>\n"}],"owner":{"account_id":20611982,"reputation":1,"user_id":15130957,"display_name":"Dannielle Marvic Banaban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637672825,"creation_date":1637670548,"question_id":70080941,"body_markdown":"**Android Studio**\r\n\r\nWe have a project (game) that we need to do android game, a space racing game and we&#39;re almost done. We just need to add a retry button and exit button on the game view. The code below is on my GamePlayScene.java and it doesn&#39;t have a XML file on the layout folder. They said that it is connected through the game itself. I&#39;m super new to coding a game and on Java language. When I press the start button on the emulator it goes to MainActivty2.java and that MainActivity2 has a XML or on the layout folder but it doesn&#39;t have any designs on it, it doesn&#39;t have spaceship or anything that we can see if we run the game or start the game on the emulator. So I tried to add a button on that XML and when I tried to press the start button, the message appears &quot;Unfortunately, SpaceRacing has stopped&quot;. I hope someone can understand me with this. \r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        // TODO Auto-generated method stub\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Button button= new Button (this);\r\n        FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(\r\n                FrameLayout.LayoutParams.WRAP_CONTENT,\r\n                FrameLayout.LayoutParams.WRAP_CONTENT);\r\n        params.topMargin = 0;\r\n        params.gravity = Gravity.TOP | Gravity.CENTER_HORIZONTAL;\r\n\r\n        button.setText(&quot;Retry&quot;);\r\n        addContentView(button, params);\r\n        // setContentView(tv);\r\n        button.setOnClickListener(new Button.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(this, MainActivity2.class);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n&gt;The **bold** letter or has &quot; ** ** &quot; on the code has a red font on the studio.\r\n\r\n","title":"Adding a button to activity without XML or Layout","body":"<p><strong>Android Studio</strong></p>\n<p>We have a project (game) that we need to do android game, a space racing game and we're almost done. We just need to add a retry button and exit button on the game view. The code below is on my GamePlayScene.java and it doesn't have a XML file on the layout folder. They said that it is connected through the game itself. I'm super new to coding a game and on Java language. When I press the start button on the emulator it goes to MainActivty2.java and that MainActivity2 has a XML or on the layout folder but it doesn't have any designs on it, it doesn't have spaceship or anything that we can see if we run the game or start the game on the emulator. So I tried to add a button on that XML and when I tried to press the start button, the message appears &quot;Unfortunately, SpaceRacing has stopped&quot;. I hope someone can understand me with this.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n\n    Button button= new Button (this);\n    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(\n            FrameLayout.LayoutParams.WRAP_CONTENT,\n            FrameLayout.LayoutParams.WRAP_CONTENT);\n    params.topMargin = 0;\n    params.gravity = Gravity.TOP | Gravity.CENTER_HORIZONTAL;\n\n    button.setText(&quot;Retry&quot;);\n    addContentView(button, params);\n    // setContentView(tv);\n    button.setOnClickListener(new Button.OnClickListener(){\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(this, MainActivity2.class);\n        }\n\n    });\n}\n</code></pre>\n<blockquote>\n<p>The <strong>bold</strong> letter or has &quot; ** ** &quot; on the code has a red font on the studio.</p>\n</blockquote>\n"},{"tags":["java","command-line","command-line-arguments"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637672546,"post_id":70081367,"comment_id":123884407,"body_markdown":"did you compile all your files?","body":"did you compile all your files?"},{"owner":{"account_id":23011498,"reputation":3,"user_id":17133984,"display_name":"ps1nk4"},"score":0,"creation_date":1637672936,"post_id":70081367,"comment_id":123884551,"body_markdown":"@Stultuske yes, I did succesfully compile the *Complex.java* file which does not have any references, but running the ```javac``` command for other files with references returns the same error","body":"@Stultuske yes, I did succesfully compile the <i>Complex.java</i> file which does not have any references, but running the <code>javac</code> command for other files with references returns the same error"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637673147,"post_id":70081367,"comment_id":123884652,"body_markdown":"so, your problem is compiling them, not running them?  did you also compile the cardano_cubic class?","body":"so, your problem is compiling them, not running them?  did you also compile the cardano_cubic class?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637673221,"post_id":70081367,"comment_id":123884678,"body_markdown":"your issue is caused because you are using packages. Check this link for a short explanation and example: https://www.webucator.com/article/how-to-compile-packages-in-java/","body":"your issue is caused because you are using packages. Check this link for a short explanation and example: <a href=\"https://www.webucator.com/article/how-to-compile-packages-in-java/\" rel=\"nofollow noreferrer\">webucator.com/article/how-to-compile-packages-in-java</a>"},{"owner":{"account_id":23011498,"reputation":3,"user_id":17133984,"display_name":"ps1nk4"},"score":0,"creation_date":1637673431,"post_id":70081367,"comment_id":123884760,"body_markdown":"@Stultuske yes, the problem is compiling them, in my case only *Complex.java* file compiles successfully because it doesn&#39;t have references to other java files, compiling the *cardano_cubic.java* file returns the ```cannot find symbol``` error for each line where it references methods from the *Complex.java* file","body":"@Stultuske yes, the problem is compiling them, in my case only <i>Complex.java</i> file compiles successfully because it doesn&#39;t have references to other java files, compiling the <i>cardano_cubic.java</i> file returns the <code>cannot find symbol</code> error for each line where it references methods from the <i>Complex.java</i> file"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637673488,"post_id":70081367,"comment_id":123884780,"body_markdown":"@ps1nk4 so read my last comment. It points directly to an example","body":"@ps1nk4 so read my last comment. It points directly to an example"},{"owner":{"account_id":23011498,"reputation":3,"user_id":17133984,"display_name":"ps1nk4"},"score":0,"creation_date":1637674209,"post_id":70081367,"comment_id":123885066,"body_markdown":"@Stultuske thanks a lot for the help, the article was really helpful, this solves my initial question","body":"@Stultuske thanks a lot for the help, the article was really helpful, this solves my initial question"}],"owner":{"account_id":23011498,"reputation":3,"user_id":17133984,"display_name":"ps1nk4"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637674148,"answer_count":0,"score":0,"last_activity_date":1637672375,"creation_date":1637672375,"question_id":70081367,"body_markdown":"I have 3 java files in the same folder:\r\n\r\n*Main.java*\r\n```\r\npackage com.company;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        double a,b,c,d;\r\n        a = Float.parseFloat(args[0]);\r\n        b = Float.parseFloat(args[1]);\r\n        c = Float.parseFloat(args[2]);\r\n        d = Float.parseFloat(args[3]);\r\n        cardano_cubic.solve_cubic(a,b,c,d);\r\n    }\r\n}\r\n```\r\n*cardano_cubic.java*\r\n```\r\npackage com.company;\r\n\r\npublic class cardano_cubic {\r\n    private static Complex square_root(double n){\r\n        double sqrt = Math.sqrt(Math.abs(n));\r\n        return (n&lt;0)?new Complex(sqrt,0):new Complex(0,sqrt);\r\n    }\r\n\r\n    public static void solve_cubic(double a, double b, double c, double d){\r\n        System.out.println(\r\n                (a==b&amp;&amp;b==c&amp;&amp;c==d&amp;&amp;d==0)?&quot;0=0&quot;:\r\n                (a!=0?a+&quot;x&#179;&quot;:&quot;&quot;)\r\n                +(b&gt;0?&quot;+&quot;+b+&quot;x&#178;&quot;:b&lt;0?b+&quot;x&#178;&quot;:&quot;&quot;)\r\n                +(c&gt;0?&quot;+&quot;+c+&quot;x&quot;:c&lt;0?c+&quot;x&quot;:&quot;&quot;)\r\n                +(d&gt;0?&quot;+&quot;+d:d&lt;0?d:&quot;&quot;)\r\n                +&quot;=0&quot;\r\n        );\r\n\r\n        if (a==0 &amp;&amp; b==0 &amp;&amp; c==0) {\r\n            if (d==0) System.out.println(&quot;Решение - все числа&quot;);\r\n            else System.out.println(&quot;Нет решений&quot;);\r\n        }\r\n        else if (a==0 &amp;&amp; b==0 &amp;&amp; d==0) {\r\n            System.out.println(&quot;x1 = &quot; + 0);\r\n        }\r\n        else if (a==0 &amp;&amp; b==0) {\r\n            System.out.println(&quot;x1 = &quot; + -d/c);\r\n        }\r\n        else if (a==0) {\r\n            Complex D = square_root(c*c-4*b*d);\r\n            Complex x1 = new Complex(-c,0).plus(D);\r\n            x1 = x1.scale(1/(2*b));\r\n            Complex x2 = new Complex(-c,0).minus(D);\r\n            x2 = x2.scale(1/(2*b));\r\n\r\n            System.out.println(&quot;x1 = &quot; + x1);\r\n            System.out.println(&quot;x2 = &quot; + x2);\r\n        } else {\r\n            double Q = (3 * a * c - b * b) / (9 * a * a);\r\n            double R = (9 * a * b * c - 27 * a * a * d - 2 * b * b * b) / (54 * a * a * a);\r\n            double sqrt = Math.sqrt(Q * Q * Q + R * R);\r\n            double S = Math.pow(R + sqrt, 1d/3d);\r\n            double T = Math.pow(R - sqrt, 1d/3d);\r\n\r\n            Complex x1 = new Complex(S + T - b / (3 * a), 0);\r\n            double c1 = -(S + T) / 2 - b / (3 * a);\r\n            double c2 = Math.sqrt(3) / 2 * (S - T);\r\n            Complex x2 = new Complex(c1, c2);\r\n            Complex x3 = new Complex(c1, -c2);\r\n\r\n            System.out.println(&quot;x1 = &quot; + x1);\r\n            System.out.println(&quot;x2 = &quot; + x2);\r\n            System.out.println(&quot;x3 = &quot; + x3);\r\n        }\r\n    }\r\n}\r\n```\r\nand *Complex.java*\r\n```\r\npackage com.company;\r\n\r\npublic class Complex {\r\n    private double re;\r\n    private double im;\r\n\r\n    private double eps = 10e-12;\r\n\r\n    public Complex(double real, double imag) {\r\n        re = real;\r\n        im = imag;\r\n    }\r\n\r\n    public boolean equals(Object o) {\r\n        Complex other = (Complex) o;\r\n        return re==other.re &amp;&amp; im==other.im;\r\n    }\r\n\r\n    private String format(double n){\r\n        return String.format(&quot;%.2f&quot;,n);\r\n    }\r\n\r\n    public String toString() {\r\n        if (Math.abs(im)&lt;eps) return format(re);\r\n        if (Math.abs(re)&lt;eps) return format(im) + &quot;i&quot;;\r\n        if (im &lt;  0) return format(re) + &quot; - &quot; + format(-im) + &quot;i&quot;;\r\n        return format(re) + &quot; + &quot; + format(im) + &quot;i&quot;;\r\n    }\r\n\r\n    public Complex plus(Complex b) {\r\n        Complex a = this;\r\n        double real = a.re + b.re;\r\n        double imag = a.im + b.im;\r\n        return new Complex(real, imag);\r\n    }\r\n\r\n    public Complex minus(Complex b) {\r\n        Complex a = this;\r\n        double real = a.re - b.re;\r\n        double imag = a.im - b.im;\r\n        return new Complex(real, imag);\r\n    }\r\n\r\n    public Complex times(Complex b) {\r\n        Complex a = this;\r\n        double real = a.re * b.re - a.im * b.im;\r\n        double imag = a.re * b.im + a.im * b.re;\r\n        return new Complex(real, imag);\r\n    }\r\n\r\n    public Complex scale(double alpha) {\r\n        return new Complex(alpha * re, alpha * im);\r\n    }\r\n}\r\n```\r\n\r\nThe contents of these files are not that important, what&#39;s important is that the *Main.java* file has a reference to the *cardano_cubic.java* file and the *cardano_cubic.java* file has references to the *Complex.java* file and this runs perfectly fine in and IDE but in order to start using command line arguments it would be more convenient to run this project from a command line\r\n\r\nSo after using the ```cd``` command to navigate to the folder these files are located in and executing the ```javac Main.java``` I get this error:\r\n```\r\nMain.java:10: error: cannot find symbol\r\n        cardano_cubic.solve_cubic(a,b,c,d);\r\n        ^\r\n  symbol:   variable cardano_cubic\r\n  location: class Main\r\n1 error\r\n```\r\n\r\nWhich I&#39;m guessing means the java compiler cannot find the *cardano_cubic.java* file the code from *Main.java* is referencing to, even though they are in the same folder. How do I properly execute my program from a command line with command line arguments?","title":"How do I run java projects from the terminal?","body":"<p>I have 3 java files in the same folder:</p>\n<p><em>Main.java</em></p>\n<pre><code>package com.company;\n\npublic class Main {\n    public static void main(String[] args) {\n        double a,b,c,d;\n        a = Float.parseFloat(args[0]);\n        b = Float.parseFloat(args[1]);\n        c = Float.parseFloat(args[2]);\n        d = Float.parseFloat(args[3]);\n        cardano_cubic.solve_cubic(a,b,c,d);\n    }\n}\n</code></pre>\n<p><em>cardano_cubic.java</em></p>\n<pre><code>package com.company;\n\npublic class cardano_cubic {\n    private static Complex square_root(double n){\n        double sqrt = Math.sqrt(Math.abs(n));\n        return (n&lt;0)?new Complex(sqrt,0):new Complex(0,sqrt);\n    }\n\n    public static void solve_cubic(double a, double b, double c, double d){\n        System.out.println(\n                (a==b&amp;&amp;b==c&amp;&amp;c==d&amp;&amp;d==0)?&quot;0=0&quot;:\n                (a!=0?a+&quot;x³&quot;:&quot;&quot;)\n                +(b&gt;0?&quot;+&quot;+b+&quot;x²&quot;:b&lt;0?b+&quot;x²&quot;:&quot;&quot;)\n                +(c&gt;0?&quot;+&quot;+c+&quot;x&quot;:c&lt;0?c+&quot;x&quot;:&quot;&quot;)\n                +(d&gt;0?&quot;+&quot;+d:d&lt;0?d:&quot;&quot;)\n                +&quot;=0&quot;\n        );\n\n        if (a==0 &amp;&amp; b==0 &amp;&amp; c==0) {\n            if (d==0) System.out.println(&quot;Решение - все числа&quot;);\n            else System.out.println(&quot;Нет решений&quot;);\n        }\n        else if (a==0 &amp;&amp; b==0 &amp;&amp; d==0) {\n            System.out.println(&quot;x1 = &quot; + 0);\n        }\n        else if (a==0 &amp;&amp; b==0) {\n            System.out.println(&quot;x1 = &quot; + -d/c);\n        }\n        else if (a==0) {\n            Complex D = square_root(c*c-4*b*d);\n            Complex x1 = new Complex(-c,0).plus(D);\n            x1 = x1.scale(1/(2*b));\n            Complex x2 = new Complex(-c,0).minus(D);\n            x2 = x2.scale(1/(2*b));\n\n            System.out.println(&quot;x1 = &quot; + x1);\n            System.out.println(&quot;x2 = &quot; + x2);\n        } else {\n            double Q = (3 * a * c - b * b) / (9 * a * a);\n            double R = (9 * a * b * c - 27 * a * a * d - 2 * b * b * b) / (54 * a * a * a);\n            double sqrt = Math.sqrt(Q * Q * Q + R * R);\n            double S = Math.pow(R + sqrt, 1d/3d);\n            double T = Math.pow(R - sqrt, 1d/3d);\n\n            Complex x1 = new Complex(S + T - b / (3 * a), 0);\n            double c1 = -(S + T) / 2 - b / (3 * a);\n            double c2 = Math.sqrt(3) / 2 * (S - T);\n            Complex x2 = new Complex(c1, c2);\n            Complex x3 = new Complex(c1, -c2);\n\n            System.out.println(&quot;x1 = &quot; + x1);\n            System.out.println(&quot;x2 = &quot; + x2);\n            System.out.println(&quot;x3 = &quot; + x3);\n        }\n    }\n}\n</code></pre>\n<p>and <em>Complex.java</em></p>\n<pre><code>package com.company;\n\npublic class Complex {\n    private double re;\n    private double im;\n\n    private double eps = 10e-12;\n\n    public Complex(double real, double imag) {\n        re = real;\n        im = imag;\n    }\n\n    public boolean equals(Object o) {\n        Complex other = (Complex) o;\n        return re==other.re &amp;&amp; im==other.im;\n    }\n\n    private String format(double n){\n        return String.format(&quot;%.2f&quot;,n);\n    }\n\n    public String toString() {\n        if (Math.abs(im)&lt;eps) return format(re);\n        if (Math.abs(re)&lt;eps) return format(im) + &quot;i&quot;;\n        if (im &lt;  0) return format(re) + &quot; - &quot; + format(-im) + &quot;i&quot;;\n        return format(re) + &quot; + &quot; + format(im) + &quot;i&quot;;\n    }\n\n    public Complex plus(Complex b) {\n        Complex a = this;\n        double real = a.re + b.re;\n        double imag = a.im + b.im;\n        return new Complex(real, imag);\n    }\n\n    public Complex minus(Complex b) {\n        Complex a = this;\n        double real = a.re - b.re;\n        double imag = a.im - b.im;\n        return new Complex(real, imag);\n    }\n\n    public Complex times(Complex b) {\n        Complex a = this;\n        double real = a.re * b.re - a.im * b.im;\n        double imag = a.re * b.im + a.im * b.re;\n        return new Complex(real, imag);\n    }\n\n    public Complex scale(double alpha) {\n        return new Complex(alpha * re, alpha * im);\n    }\n}\n</code></pre>\n<p>The contents of these files are not that important, what's important is that the <em>Main.java</em> file has a reference to the <em>cardano_cubic.java</em> file and the <em>cardano_cubic.java</em> file has references to the <em>Complex.java</em> file and this runs perfectly fine in and IDE but in order to start using command line arguments it would be more convenient to run this project from a command line</p>\n<p>So after using the <code>cd</code> command to navigate to the folder these files are located in and executing the <code>javac Main.java</code> I get this error:</p>\n<pre><code>Main.java:10: error: cannot find symbol\n        cardano_cubic.solve_cubic(a,b,c,d);\n        ^\n  symbol:   variable cardano_cubic\n  location: class Main\n1 error\n</code></pre>\n<p>Which I'm guessing means the java compiler cannot find the <em>cardano_cubic.java</em> file the code from <em>Main.java</em> is referencing to, even though they are in the same folder. How do I properly execute my program from a command line with command line arguments?</p>\n"},{"tags":["java","jakarta-ee","https","wildfly","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":23428938,"reputation":16,"user_id":17488055,"display_name":"hossein sadati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637672159,"creation_date":1637668437,"answer_id":70080446,"question_id":70079779,"body_markdown":"I found the solution. In the `Standalone.xml` we should disable the `enable-http2=&quot;true&quot;` of this line:\r\n\r\n    &lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;false&quot;\\&gt;","title":"migration from http to https in wildfly","body":"<p>I found the solution. In the <code>Standalone.xml</code> we should disable the <code>enable-http2=&quot;true&quot;</code> of this line:</p>\n<pre><code>&lt;https-listener name=&quot;https&quot; socket-binding=&quot;https&quot; security-realm=&quot;ApplicationRealm&quot; enable-http2=&quot;false&quot;\\&gt;\n</code></pre>\n"}],"owner":{"account_id":7636831,"reputation":3,"user_id":5790152,"display_name":"hossein khoshkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70080446,"answer_count":1,"score":-1,"last_activity_date":1637672159,"creation_date":1637665654,"question_id":70079779,"body_markdown":" I want to migrate from http to https in wildfly 19.1\r\n\r\n after setup all configuration from this tutorials &lt;https://medium.com/@hasnat.saeed/setup-ssl-https-on-jboss-wildfly-application-server-fde6288a0f40&gt; i have trouble :\r\n\r\n when my application server startsup try to load all of pages. \r\n\r\nnote: my project is a huge project with heavy queries and this action take a lot of time\r\n\r\n\r\n\r\n   ","title":"migration from http to https in wildfly","body":"<p>I want to migrate from http to https in wildfly 19.1</p>\n<p>after setup all configuration from this tutorials <a href=\"https://medium.com/@hasnat.saeed/setup-ssl-https-on-jboss-wildfly-application-server-fde6288a0f40\" rel=\"nofollow noreferrer\">https://medium.com/@hasnat.saeed/setup-ssl-https-on-jboss-wildfly-application-server-fde6288a0f40</a> i have trouble :</p>\n<p>when my application server startsup try to load all of pages.</p>\n<p>note: my project is a huge project with heavy queries and this action take a lot of time</p>\n"},{"tags":["java","spring","database","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":1,"creation_date":1637597518,"post_id":70068567,"comment_id":123862793,"body_markdown":"Don&#39;t know if there is a way to do with a Scheduled method, but you could launch the jobs dynamically. Autowire the TaskScheduler, and then:\n\nScheduledFuture&lt;?&gt; jobHandler = this.taskScheduler.schedule(new Runnable() {\n\t@Override\n\tpublic void run() {\n\t\t// Do stuff here or get an instance of a bean to call\n\t}\n}, new CronTrigger(yourCronFromDatabase));\nIt also returns a handler, so you can stop and restart the job if your database configuration changes.","body":"Don&#39;t know if there is a way to do with a Scheduled method, but you could launch the jobs dynamically. Autowire the TaskScheduler, and then:  ScheduledFuture&lt;?&gt; jobHandler = this.taskScheduler.schedule(new Runnable() { \t@Override \tpublic void run() { \t\t// Do stuff here or get an instance of a bean to call \t} }, new CronTrigger(yourCronFromDatabase)); It also returns a handler, so you can stop and restart the job if your database configuration changes."}],"answers":[{"tags":[],"owner":{"account_id":7428320,"reputation":183,"user_id":5650135,"display_name":"Xxtreem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637672037,"creation_date":1637672037,"answer_id":70081278,"question_id":70068567,"body_markdown":"I found a Solution: \r\nCreating a `ThreadPoolTaskScheduler` witch I can use to execute a runnable class:\r\n```    @Bean\r\n    public ExportJobService exportScheduler(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\r\n        threadPoolTaskScheduler.setPoolSize(5);\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;ExportJobScheduler&quot;);\r\n        return new ExportJobService(threadPoolTaskScheduler);\r\n    }\r\n```\r\nI use `PostConstruct` to load the specific cronExceptions from the database and execute all jobs at the start of my program.\r\n````\r\n @PostConstruct\r\n    public void runJobs() {\r\n        repository.findAll()\r\n                  .stream()\r\n                  .map(this::buildJob)\r\n                  .forEach(job -&gt; {\r\n                      var cronTrigger = new CronTrigger(job.getCronExpression());\r\n                      taskScheduler.schedule(job, cronTrigger);\r\n                  });\r\n    }\r\n````\r\n\r\nYou can find more informations here: https://www.baeldung.com/spring-task-scheduler","title":"Execute Scheduled methods with cron expression from Database","body":"<p>I found a Solution:\nCreating a <code>ThreadPoolTaskScheduler</code> witch I can use to execute a runnable class:</p>\n<pre><code>    public ExportJobService exportScheduler(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\n        threadPoolTaskScheduler.setPoolSize(5);\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;ExportJobScheduler&quot;);\n        return new ExportJobService(threadPoolTaskScheduler);\n    }\n</code></pre>\n<p>I use <code>PostConstruct</code> to load the specific cronExceptions from the database and execute all jobs at the start of my program.</p>\n<pre><code> @PostConstruct\n    public void runJobs() {\n        repository.findAll()\n                  .stream()\n                  .map(this::buildJob)\n                  .forEach(job -&gt; {\n                      var cronTrigger = new CronTrigger(job.getCronExpression());\n                      taskScheduler.schedule(job, cronTrigger);\n                  });\n    }\n</code></pre>\n<p>You can find more informations here: <a href=\"https://www.baeldung.com/spring-task-scheduler\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-task-scheduler</a></p>\n"}],"owner":{"account_id":7428320,"reputation":183,"user_id":5650135,"display_name":"Xxtreem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70081278,"answer_count":1,"score":0,"last_activity_date":1637672037,"creation_date":1637596204,"question_id":70068567,"body_markdown":"I&#39;m trying to change the cron expression of a specific method with the value defined in a Database. I&#39;m normally using Spring annotations for this.\r\n\r\nFor Example:\r\n```\r\n@Scheduled(cron = &quot;cronExpression from Database&quot;)\r\npublic void typeAJob(){\r\n...\r\n}\r\n```\r\nIt would be ok if after the start of my program these cron expressions count not be changed anymore. But at the start, it should read the value from the Database and use it as cron expression for this method.\r\n\r\nThe final goal would be, that I have X numbers of Jobs in the Database with each having his own cron expressions. The jobs will have a specific type (typeAJob, typeBJob, etc.).\r\nEach type will have his own Scheduled method.\r\n\r\nmaybe someone has a Idee, thank you :)","title":"Execute Scheduled methods with cron expression from Database","body":"<p>I'm trying to change the cron expression of a specific method with the value defined in a Database. I'm normally using Spring annotations for this.</p>\n<p>For Example:</p>\n<pre><code>@Scheduled(cron = &quot;cronExpression from Database&quot;)\npublic void typeAJob(){\n...\n}\n</code></pre>\n<p>It would be ok if after the start of my program these cron expressions count not be changed anymore. But at the start, it should read the value from the Database and use it as cron expression for this method.</p>\n<p>The final goal would be, that I have X numbers of Jobs in the Database with each having his own cron expressions. The jobs will have a specific type (typeAJob, typeBJob, etc.).\nEach type will have his own Scheduled method.</p>\n<p>maybe someone has a Idee, thank you :)</p>\n"},{"tags":["java","generics","type-inference"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1637670938,"post_id":70081006,"comment_id":123883756,"body_markdown":"The compiler doesn&#39;t carry inferred types across a chain of generic method calls like that. It&#39;s a known limitation. Check [Why does Java generics type inference break in chained method calls?](https://stackoverflow.com/questions/66089702/why-does-java-generics-type-inference-break-in-chained-method-calls)","body":"The compiler doesn&#39;t carry inferred types across a chain of generic method calls like that. It&#39;s a known limitation. Check <a href=\"https://stackoverflow.com/questions/66089702/why-does-java-generics-type-inference-break-in-chained-method-calls\">Why does Java generics type inference break in chained method calls?</a>"}],"owner":{"account_id":8371327,"reputation":734,"user_id":6286358,"display_name":"SnowmanXL"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1637671134,"answer_count":0,"score":1,"last_activity_date":1637671294,"creation_date":1637670778,"question_id":70081006,"body_markdown":"Given the following builder setup:\r\n\r\n```\r\nclass Factory {\r\n\tpublic static &lt;T&gt; FooBuilder&lt;T&gt; fooBuilder() {\r\n\t\treturn new FooBuilder&lt;&gt;();\r\n\t}\r\n}\r\n\r\nclass FooBuilder&lt;T&gt; {\r\n\r\n\tint x;\r\n\r\n\tpublic FooBuilder&lt;T&gt; addFooStep(int x) {\r\n\t\tthis.x = x;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Metric&lt;T&gt; build() {\r\n\t\treturn new Metric&lt;&gt;(x);\r\n\t}\r\n}\r\n\r\nclass Metric&lt;T&gt; {\r\n\r\n\tfinal int cm;\r\n\r\n\tpublic Metric(int cm)\r\n\t{\r\n\t\tthis.cm = cm;\r\n\t}\r\n}\r\n```\r\n\r\nSomewhere the type T information is lost. So in order to use this builder, I have to specify the type explicitly like:\r\n\r\n```\r\nMetric&lt;Integer&gt; integerMetric = Factory.&lt;Integer&gt;fooBuilder()\r\n\t\t\t.addFooStep(1)\r\n\t\t\t.build();\r\n```\r\n\r\nHowever, I would like to be able to use it without the explicity type notation, like:\r\n\r\n```\r\nMetric&lt;Integer&gt; integerMetric = Factory.fooBuilder()\r\n\t\t\t.addFooStep(1)\r\n\t\t\t.build();\r\n```\r\n\r\nIs this possible, and if so, how can it be achieved?","title":"Generic type cannot be inferred","body":"<p>Given the following builder setup:</p>\n<pre><code>class Factory {\n    public static &lt;T&gt; FooBuilder&lt;T&gt; fooBuilder() {\n        return new FooBuilder&lt;&gt;();\n    }\n}\n\nclass FooBuilder&lt;T&gt; {\n\n    int x;\n\n    public FooBuilder&lt;T&gt; addFooStep(int x) {\n        this.x = x;\n        return this;\n    }\n\n    public Metric&lt;T&gt; build() {\n        return new Metric&lt;&gt;(x);\n    }\n}\n\nclass Metric&lt;T&gt; {\n\n    final int cm;\n\n    public Metric(int cm)\n    {\n        this.cm = cm;\n    }\n}\n</code></pre>\n<p>Somewhere the type T information is lost. So in order to use this builder, I have to specify the type explicitly like:</p>\n<pre><code>Metric&lt;Integer&gt; integerMetric = Factory.&lt;Integer&gt;fooBuilder()\n            .addFooStep(1)\n            .build();\n</code></pre>\n<p>However, I would like to be able to use it without the explicity type notation, like:</p>\n<pre><code>Metric&lt;Integer&gt; integerMetric = Factory.fooBuilder()\n            .addFooStep(1)\n            .build();\n</code></pre>\n<p>Is this possible, and if so, how can it be achieved?</p>\n"},{"tags":["java","image","rgb"],"comments":[{"owner":{"account_id":1045596,"reputation":1508,"user_id":1050877,"accept_rate":80,"display_name":"Lucky Man"},"score":0,"creation_date":1322618585,"post_id":8319770,"comment_id":10255572,"body_markdown":"I don&#39;t need alpha channel. I want to get RGB565 picture and send it like a sequence of (unsigned short) words. Microcontroller receives this picture and shows on LCD. I want to see on LCD almost the same Image like on PC. I don&#39;t understand anything. I converted image according to all the rules...","body":"I don&#39;t need alpha channel. I want to get RGB565 picture and send it like a sequence of (unsigned short) words. Microcontroller receives this picture and shows on LCD. I want to see on LCD almost the same Image like on PC. I don&#39;t understand anything. I converted image according to all the rules..."},{"owner":{"account_id":1045596,"reputation":1508,"user_id":1050877,"accept_rate":80,"display_name":"Lucky Man"},"score":0,"creation_date":1322619031,"post_id":8319770,"comment_id":10255646,"body_markdown":"BufferedImage NewImg = new BufferedImage(CONTROLLER_LCD_WIDTH, CONTROLLER_LCD_HEIGHT, BufferedImage.TYPE_USHORT_565_RGB);  I changed it to BufferedImage.TYPE_INT_ARGB. But nothing has changed... May be I should use another approach to picture converting. Is it exist?","body":"BufferedImage NewImg = new BufferedImage(CONTROLLER_LCD_WIDTH, CONTROLLER_LCD_HEIGHT, BufferedImage.TYPE_USHORT_565_RGB);  I changed it to BufferedImage.TYPE_INT_ARGB. But nothing has changed... May be I should use another approach to picture converting. Is it exist?"}],"answers":[{"tags":[],"owner":{"account_id":8489217,"reputation":11,"user_id":6366152,"display_name":"Daniel Bienvenu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463878000,"creation_date":1463877756,"answer_id":37369443,"question_id":8319770,"body_markdown":"The reason you see these yellow artefacts is simply due to negative values for `byteL` overwriting bits from `byteH` containing the correct values for **red** and (part of) **green** channels. Let me explain.\r\n\r\nRemember, if the highest bit in a byte is set to 1, the value is considered negative (-128 to -1 instead of 128 to 255), and by converting it to an `int` all the extra high-bits are set to 1 to conserve the same values (-128 to -1).\r\n\r\nIn your program, these extra bits set to 1 are in direct conflict with the value in `byteH` when applying the OR bit-operator `|`, overwriting (saturating) the red and (part of) green values you are trying to extract and display.\r\n\r\n    curPixel = (byteH &lt;&lt; 8) | (byteL); // BUG: issue with negative byteL values\r\n\r\nA solution is to apply an AND-mask to be sure to get rid of any unwanted bits before applying the OR bit-operator.\r\n\r\n    curPixel = byteL &amp; 0xFF; // Convert byte to int to be within [0 , 255]\r\n    curPixel = (byteH &lt;&lt; 8) | curPixel; // Apply OR bit-operator","title":"Java image conversion to RGB565","body":"<p>The reason you see these yellow artefacts is simply due to negative values for <code>byteL</code> overwriting bits from <code>byteH</code> containing the correct values for <strong>red</strong> and (part of) <strong>green</strong> channels. Let me explain.</p>\n\n<p>Remember, if the highest bit in a byte is set to 1, the value is considered negative (-128 to -1 instead of 128 to 255), and by converting it to an <code>int</code> all the extra high-bits are set to 1 to conserve the same values (-128 to -1).</p>\n\n<p>In your program, these extra bits set to 1 are in direct conflict with the value in <code>byteH</code> when applying the OR bit-operator <code>|</code>, overwriting (saturating) the red and (part of) green values you are trying to extract and display.</p>\n\n<pre><code>curPixel = (byteH &lt;&lt; 8) | (byteL); // BUG: issue with negative byteL values\n</code></pre>\n\n<p>A solution is to apply an AND-mask to be sure to get rid of any unwanted bits before applying the OR bit-operator.</p>\n\n<pre><code>curPixel = byteL &amp; 0xFF; // Convert byte to int to be within [0 , 255]\ncurPixel = (byteH &lt;&lt; 8) | curPixel; // Apply OR bit-operator\n</code></pre>\n"}],"owner":{"account_id":1045596,"reputation":1508,"user_id":1050877,"accept_rate":80,"display_name":"Lucky Man"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3878,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1637671248,"creation_date":1322613937,"question_id":8319770,"body_markdown":"I try to convert image to RGB565 format.\r\nI read this image:\r\n\r\n\tBufferedImage bufImg = ImageIO.read(imagePathFile);\r\n\tsendImg = new BufferedImage(CONTROLLER_LCD_WIDTH/*320*/, CONTROLLER_LCD_HEIGHT/*240*/, BufferedImage.TYPE_USHORT_565_RGB);\r\n\tsendImg.getGraphics().drawImage(bufImg, 0, 0, CONTROLLER_LCD_WIDTH/*320*/, CONTROLLER_LCD_HEIGHT/*240*/, null);\r\n\r\nHere is it:\r\n\r\n\r\n![picture before convertation][1]\r\n\r\nThen I convert it to RGB565:\r\n\r\n\r\n    int numByte=0;\r\n    byte[] OutputImageArray = new byte[CONTROLLER_LCD_WIDTH*CONTROLLER_LCD_HEIGHT*2];\r\n                                       \r\n    int i=0;\r\n    int j=0;\r\n    int len = OutputImageArray.length;\r\n\r\n    for (i=0;i&lt;CONTROLLER_LCD_WIDTH;i++) {\r\n        for (j=0;j&lt;CONTROLLER_LCD_HEIGHT;j++) {\r\n\r\n            Color c = new Color(sendImg.getRGB(i, j));\r\n            int aRGBpix = sendImg.getRGB(i, j);\r\n            int alpha;\r\n            int red = c.getRed();\r\n            int green = c.getGreen();\r\n            int blue = c.getBlue();\r\n            \r\n            //RGB888\r\n            red = (aRGBpix &gt;&gt; 16) &amp; 0x0FF;\r\n            green = (aRGBpix &gt;&gt; 8) &amp; 0x0FF;\r\n            blue = (aRGBpix &gt;&gt; 0) &amp; 0x0FF; \r\n            alpha = (aRGBpix &gt;&gt; 24) &amp; 0x0FF;\r\n            \r\n            //RGB565\r\n            red = red &gt;&gt; 3;\r\n            green = green &gt;&gt; 2;\r\n            blue = blue &gt;&gt; 3;\r\n\r\n            //A pixel is represented by a 4-byte (32 bit) integer, like so:\r\n            //00000000 00000000 00000000 11111111\r\n            //^ Alpha  ^Red     ^Green   ^Blue\r\n            //Converting to RGB565\r\n            \r\n            short pixel_to_send = 0;\r\n            int pixel_to_send_int = 0;\r\n            pixel_to_send_int = (red &lt;&lt; 11) | (green &lt;&lt; 5) | (blue);\r\n            pixel_to_send = (short) pixel_to_send_int;\r\n            \r\n            \r\n            //dividing into bytes\r\n            byte byteH=(byte)((pixel_to_send &gt;&gt; 8) &amp; 0x0FF);\r\n            byte byteL=(byte)(pixel_to_send &amp; 0x0FF);\r\n            \r\n            //Writing it to array - High-byte is second\r\n            OutputImageArray[numByte]=byteH;\r\n            OutputImageArray[numByte+1]=byteL;\r\n            \r\n            numByte+=2;\r\n        }\r\n    }\r\n\r\n\r\nThen I try to restore this from resulting array `OutputImageArray`:\r\n\r\n    i=0;\r\n    j=0;                        \r\n    numByte=0;\r\n    BufferedImage NewImg = new BufferedImage(CONTROLLER_LCD_WIDTH, CONTROLLER_LCD_HEIGHT, BufferedImage.TYPE_USHORT_565_RGB);\r\n    for (i=0;i&lt;CONTROLLER_LCD_WIDTH;i++) {\r\n        for (j=0;j&lt;CONTROLLER_LCD_HEIGHT;j++) {\r\n            \r\n            int curPixel=0;\r\n            int alpha=0x0FF;\r\n            int red;\r\n            int green;\r\n            int blue; \r\n            \r\n            byte byteL=0;\r\n            byte byteH=0;\r\n            \r\n            byteH = OutputImageArray[numByte];\r\n            byteL = OutputImageArray[numByte+1];\r\n            \r\n            curPixel= (byteH &lt;&lt; 8) | (byteL);\r\n            \r\n            //RGB565\r\n            red = (curPixel &gt;&gt; (6+5)) &amp; 0x01F;\r\n            green = (curPixel &gt;&gt; 5) &amp; 0x03F;\r\n            blue = (curPixel) &amp; 0x01F;\r\n            \r\n            //RGB888\r\n            red = red &lt;&lt; 3;\r\n            green = green &lt;&lt; 2;\r\n            blue = blue &lt;&lt; 3;                                \r\n            \r\n            //aRGB\r\n            curPixel = 0;\r\n            curPixel = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | (blue);\r\n            \r\n            NewImg.setRGB(i, j, curPixel);\r\n            numByte+=2;\r\n\r\n        }\r\n    }\r\n\r\nI output this restored image. But I see that it looks very poor.\r\n\r\n![enter image description here][2]\r\n\r\nI expected the lost of pictures quality. \r\nBut as I thought, this picture has to have almost the same quality as the previous picture. Is it right?\r\nIs my code right?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VNB0W.png\r\n  [2]: http://i.stack.imgur.com/ySSO0.png","title":"Java image conversion to RGB565","body":"<p>I try to convert image to RGB565 format.\nI read this image:</p>\n\n<pre><code>BufferedImage bufImg = ImageIO.read(imagePathFile);\nsendImg = new BufferedImage(CONTROLLER_LCD_WIDTH/*320*/, CONTROLLER_LCD_HEIGHT/*240*/, BufferedImage.TYPE_USHORT_565_RGB);\nsendImg.getGraphics().drawImage(bufImg, 0, 0, CONTROLLER_LCD_WIDTH/*320*/, CONTROLLER_LCD_HEIGHT/*240*/, null);\n</code></pre>\n\n<p>Here is it:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VNB0W.png\" alt=\"picture before convertation\"></p>\n\n<p>Then I convert it to RGB565:</p>\n\n<pre><code>int numByte=0;\nbyte[] OutputImageArray = new byte[CONTROLLER_LCD_WIDTH*CONTROLLER_LCD_HEIGHT*2];\n\nint i=0;\nint j=0;\nint len = OutputImageArray.length;\n\nfor (i=0;i&lt;CONTROLLER_LCD_WIDTH;i++) {\n    for (j=0;j&lt;CONTROLLER_LCD_HEIGHT;j++) {\n\n        Color c = new Color(sendImg.getRGB(i, j));\n        int aRGBpix = sendImg.getRGB(i, j);\n        int alpha;\n        int red = c.getRed();\n        int green = c.getGreen();\n        int blue = c.getBlue();\n\n        //RGB888\n        red = (aRGBpix &gt;&gt; 16) &amp; 0x0FF;\n        green = (aRGBpix &gt;&gt; 8) &amp; 0x0FF;\n        blue = (aRGBpix &gt;&gt; 0) &amp; 0x0FF; \n        alpha = (aRGBpix &gt;&gt; 24) &amp; 0x0FF;\n\n        //RGB565\n        red = red &gt;&gt; 3;\n        green = green &gt;&gt; 2;\n        blue = blue &gt;&gt; 3;\n\n        //A pixel is represented by a 4-byte (32 bit) integer, like so:\n        //00000000 00000000 00000000 11111111\n        //^ Alpha  ^Red     ^Green   ^Blue\n        //Converting to RGB565\n\n        short pixel_to_send = 0;\n        int pixel_to_send_int = 0;\n        pixel_to_send_int = (red &lt;&lt; 11) | (green &lt;&lt; 5) | (blue);\n        pixel_to_send = (short) pixel_to_send_int;\n\n\n        //dividing into bytes\n        byte byteH=(byte)((pixel_to_send &gt;&gt; 8) &amp; 0x0FF);\n        byte byteL=(byte)(pixel_to_send &amp; 0x0FF);\n\n        //Writing it to array - High-byte is second\n        OutputImageArray[numByte]=byteH;\n        OutputImageArray[numByte+1]=byteL;\n\n        numByte+=2;\n    }\n}\n</code></pre>\n\n<p>Then I try to restore this from resulting array <code>OutputImageArray</code>:</p>\n\n<pre><code>i=0;\nj=0;                        \nnumByte=0;\nBufferedImage NewImg = new BufferedImage(CONTROLLER_LCD_WIDTH, CONTROLLER_LCD_HEIGHT, BufferedImage.TYPE_USHORT_565_RGB);\nfor (i=0;i&lt;CONTROLLER_LCD_WIDTH;i++) {\n    for (j=0;j&lt;CONTROLLER_LCD_HEIGHT;j++) {\n\n        int curPixel=0;\n        int alpha=0x0FF;\n        int red;\n        int green;\n        int blue; \n\n        byte byteL=0;\n        byte byteH=0;\n\n        byteH = OutputImageArray[numByte];\n        byteL = OutputImageArray[numByte+1];\n\n        curPixel= (byteH &lt;&lt; 8) | (byteL);\n\n        //RGB565\n        red = (curPixel &gt;&gt; (6+5)) &amp; 0x01F;\n        green = (curPixel &gt;&gt; 5) &amp; 0x03F;\n        blue = (curPixel) &amp; 0x01F;\n\n        //RGB888\n        red = red &lt;&lt; 3;\n        green = green &lt;&lt; 2;\n        blue = blue &lt;&lt; 3;                                \n\n        //aRGB\n        curPixel = 0;\n        curPixel = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | (blue);\n\n        NewImg.setRGB(i, j, curPixel);\n        numByte+=2;\n\n    }\n}\n</code></pre>\n\n<p>I output this restored image. But I see that it looks very poor.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ySSO0.png\" alt=\"enter image description here\"></p>\n\n<p>I expected the lost of pictures quality. \nBut as I thought, this picture has to have almost the same quality as the previous picture. Is it right?\nIs my code right?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1637589106,"post_id":70066776,"comment_id":123859031,"body_markdown":"Would a [`wrapper` query](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html) help?","body":"Would a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html\" rel=\"nofollow noreferrer\"><code>wrapper</code> query</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637671225,"creation_date":1637590811,"answer_id":70067279,"question_id":70066776,"body_markdown":"As Val suggested, you can write the SearchRequest this way:\r\n\r\n    SearchRequest searchRequest = new SearchRequest(&quot;indexName&quot;);\r\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder().query(QueryBuilders.wrapperQuery(&quot;your json goes here&quot;));\r\n    searchRequest.source(searchSourceBuilder);","title":"Set json string custom query to an elastic search request, java RestHighLevelClient","body":"<p>As Val suggested, you can write the SearchRequest this way:</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest(&quot;indexName&quot;);\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder().query(QueryBuilders.wrapperQuery(&quot;your json goes here&quot;));\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n"}],"owner":{"account_id":14554448,"reputation":191,"user_id":10512384,"display_name":"Pikappa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70067279,"answer_count":1,"score":0,"last_activity_date":1637671225,"creation_date":1637588741,"question_id":70066776,"body_markdown":"I&#39;m using the RestHighLevelClient and I&#39;m facing some trouble.\r\n\r\nFrom front end, I will receive a json String like that: \r\n\r\n    {&quot;query&quot;:{&quot;term&quot;:{&quot;something.keyword&quot;:&quot;something&quot;}}} \r\n\r\nand I need to add that String to a SearchRequest or, better, create a SearchRequest from the json above\r\n\r\nHow can I do that without creating a parser and create programmatically the QueryBuilder to add to the searchRequest?\r\n\r\nEDIT:\r\nI&#39;ve already tried the wrapper query, but executing this query:\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;wrapper&quot;: {\r\n          &quot;query&quot;: &quot;eyJxdWVyeSI6eyJ0ZXJtIjp7ImV2ZW50LmtpbmQua2V5d29yZCI6ImV2ZW50In19fSA=&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI have this response:\r\n\r\n    {\r\n      &quot;error&quot; : {\r\n        &quot;root_cause&quot; : [\r\n          {\r\n            &quot;type&quot; : &quot;parsing_exception&quot;,\r\n            &quot;reason&quot; : &quot;unknown query [query]&quot;,\r\n            &quot;line&quot; : 1,\r\n            &quot;col&quot; : 10\r\n          }\r\n        ],\r\n        &quot;type&quot; : &quot;parsing_exception&quot;,\r\n        &quot;reason&quot; : &quot;unknown query [query]&quot;,\r\n        &quot;line&quot; : 1,\r\n        &quot;col&quot; : 10,\r\n        &quot;caused_by&quot; : {\r\n          &quot;type&quot; : &quot;named_object_not_found_exception&quot;,\r\n          &quot;reason&quot; : &quot;[1:10] unknown field [query]&quot;\r\n        }\r\n      },\r\n      &quot;status&quot; : 400\r\n    }\r\n\r\nEDIT 2:\r\n\r\nSorry, the wrapper works just perfectly! I had to remove the &quot;query&quot; from the string, my fault. ","title":"Set json string custom query to an elastic search request, java RestHighLevelClient","body":"<p>I'm using the RestHighLevelClient and I'm facing some trouble.</p>\n<p>From front end, I will receive a json String like that:</p>\n<pre><code>{&quot;query&quot;:{&quot;term&quot;:{&quot;something.keyword&quot;:&quot;something&quot;}}} \n</code></pre>\n<p>and I need to add that String to a SearchRequest or, better, create a SearchRequest from the json above</p>\n<p>How can I do that without creating a parser and create programmatically the QueryBuilder to add to the searchRequest?</p>\n<p>EDIT:\nI've already tried the wrapper query, but executing this query:</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;wrapper&quot;: {\n      &quot;query&quot;: &quot;eyJxdWVyeSI6eyJ0ZXJtIjp7ImV2ZW50LmtpbmQua2V5d29yZCI6ImV2ZW50In19fSA=&quot;\n    }\n  }\n}\n</code></pre>\n<p>I have this response:</p>\n<pre><code>{\n  &quot;error&quot; : {\n    &quot;root_cause&quot; : [\n      {\n        &quot;type&quot; : &quot;parsing_exception&quot;,\n        &quot;reason&quot; : &quot;unknown query [query]&quot;,\n        &quot;line&quot; : 1,\n        &quot;col&quot; : 10\n      }\n    ],\n    &quot;type&quot; : &quot;parsing_exception&quot;,\n    &quot;reason&quot; : &quot;unknown query [query]&quot;,\n    &quot;line&quot; : 1,\n    &quot;col&quot; : 10,\n    &quot;caused_by&quot; : {\n      &quot;type&quot; : &quot;named_object_not_found_exception&quot;,\n      &quot;reason&quot; : &quot;[1:10] unknown field [query]&quot;\n    }\n  },\n  &quot;status&quot; : 400\n}\n</code></pre>\n<p>EDIT 2:</p>\n<p>Sorry, the wrapper works just perfectly! I had to remove the &quot;query&quot; from the string, my fault.</p>\n"},{"tags":["java","android","google-maps"],"answers":[{"tags":[],"owner":{"account_id":7698989,"reputation":13215,"user_id":5832311,"display_name":"abielita"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1491408048,"creation_date":1491408048,"answer_id":43236202,"question_id":43224263,"body_markdown":"You may refer with this [related thread](https://stackoverflow.com/questions/27092113/rotate-marker-based-on-driving-direction). Use [bearing](https://developer.android.com/reference/android/location/Location.html#getBearing()) of the `Location` object then set it to the `CameraPosition`.\r\n\r\n&gt; If you use GPS for locating the user then the `Location` object you\r\n&gt; get in `onLocationChanged` contains the [bearing][1].\r\n&gt; \r\n&gt; If you only have the two coordinates (e.g. you only have coordinates\r\n&gt; from network location provider), you can use `Location.bearingTo()` to\r\n&gt; calculate the bearing of two coordinates:\r\n&gt; \r\n&gt;     Location prevLoc = ... ;\r\n&gt;     Location newLoc = ... ;\r\n&gt;     float bearing = prevLoc.bearingTo(newLoc) ;\r\n&gt; \r\n&gt; If you have a bearing, you can set the rotation of the marker using\r\n&gt; [`MarkerOptions.rotation()`][2]:\r\n&gt; \r\n&gt;     mMap.addMarker(new MarkerOptions()\r\n&gt;                         .position(markerLatLng)\r\n&gt;                         .icon(BitmapDescriptorFactory.fromResource(R.drawable.map_marker))\r\n&gt;                         .anchor(0.5f, 0.5f)\r\n&gt;                         .rotation(bearing)\r\n&gt;                         .flat(true));\r\n&gt; \r\n&gt; You have to set the [anchor][3] to the point you want to rotate\r\n&gt; around, and it&#39;s also the point you want to be at the position you set\r\n&gt; to the marker. (0.5, 0.5) is the center of the image.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/location/Location.html#getBearing()\r\n  [2]: http://developer.android.com/reference/com/google/android/gms/maps/model/MarkerOptions.html#rotation(float)\r\n  [3]: http://developer.android.com/reference/com/google/android/gms/maps/model/MarkerOptions.html#anchor(float,%20float)\r\n\r\nHere are some posts which might also help:\r\n\r\n- https://stackoverflow.com/questions/23149613/change-google-map-marker-orientation-according-path-direction\r\n- https://stackoverflow.com/questions/20704834/rotate-marker-as-per-user-direction-on-google-maps-v2-android","title":"how to rotate marker(bus) according to direction?","body":"<p>You may refer with this <a href=\"https://stackoverflow.com/questions/27092113/rotate-marker-based-on-driving-direction\">related thread</a>. Use <a href=\"https://developer.android.com/reference/android/location/Location.html#getBearing()\" rel=\"noreferrer\">bearing</a> of the <code>Location</code> object then set it to the <code>CameraPosition</code>.</p>\n\n<blockquote>\n  <p>If you use GPS for locating the user then the <code>Location</code> object you\n  get in <code>onLocationChanged</code> contains the <a href=\"http://developer.android.com/reference/android/location/Location.html#getBearing()\" rel=\"noreferrer\">bearing</a>.</p>\n  \n  <p>If you only have the two coordinates (e.g. you only have coordinates\n  from network location provider), you can use <code>Location.bearingTo()</code> to\n  calculate the bearing of two coordinates:</p>\n\n<pre><code>Location prevLoc = ... ;\nLocation newLoc = ... ;\nfloat bearing = prevLoc.bearingTo(newLoc) ;\n</code></pre>\n  \n  <p>If you have a bearing, you can set the rotation of the marker using\n  <a href=\"http://developer.android.com/reference/com/google/android/gms/maps/model/MarkerOptions.html#rotation(float)\" rel=\"noreferrer\"><code>MarkerOptions.rotation()</code></a>:</p>\n\n<pre><code>mMap.addMarker(new MarkerOptions()\n                    .position(markerLatLng)\n                    .icon(BitmapDescriptorFactory.fromResource(R.drawable.map_marker))\n                    .anchor(0.5f, 0.5f)\n                    .rotation(bearing)\n                    .flat(true));\n</code></pre>\n  \n  <p>You have to set the <a href=\"http://developer.android.com/reference/com/google/android/gms/maps/model/MarkerOptions.html#anchor(float,%20float)\" rel=\"noreferrer\">anchor</a> to the point you want to rotate\n  around, and it's also the point you want to be at the position you set\n  to the marker. (0.5, 0.5) is the center of the image.</p>\n</blockquote>\n\n<p>Here are some posts which might also help:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23149613/change-google-map-marker-orientation-according-path-direction\">Change Google map marker orientation according path direction</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20704834/rotate-marker-as-per-user-direction-on-google-maps-v2-android\">Rotate marker as per user direction on Google Maps V2 Android</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4569598,"reputation":1717,"user_id":3709640,"display_name":"Jiks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521709491,"creation_date":1521709491,"answer_id":49424464,"question_id":43224263,"body_markdown":"**Try below code.**\r\nIt&#39;s very easy to implement.\r\n\r\nHere latLng1=old your location &amp; latLng2=your new location.\r\n\r\n**Step=1**\r\n\r\n     private double getBearingBetweenTwoPoints1(LatLng latLng1, LatLng latLng2) {\r\n    \r\n            double lat1 = degreesToRadians(latLng1.latitude);\r\n            double long1 = degreesToRadians(latLng1.longitude);\r\n            double lat2 = degreesToRadians(latLng2.latitude);\r\n            double long2 = degreesToRadians(latLng2.longitude);\r\n    \r\n    \r\n            double dLon = (long2 - long1);\r\n    \r\n    \r\n            double y = Math.sin(dLon) * Math.cos(lat2);\r\n            double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\r\n                    * Math.cos(lat2) * Math.cos(dLon);\r\n    \r\n            double radiansBearing = Math.atan2(y, x);\r\n    \r\n    \r\n            return radiansToDegrees(radiansBearing);\r\n        }\r\n\r\n**Step=2**\r\n\r\n    private double degreesToRadians(double degrees) {\r\n            return degrees * Math.PI / 180.0;\r\n        }\r\n\r\n**Step=3**\r\n\r\n    private double radiansToDegrees(double radians) {\r\n        return radians * 180.0 / Math.PI;\r\n    }\r\n\r\n\r\n**Step=4** Set your marker rotation.\r\n\r\n     mPositionMarker.setRotation((float) getBearingBetweenTwoPoints1(new LatLng(lastLocLati, lastLocLongi), new LatLng(lati, longi)));","title":"how to rotate marker(bus) according to direction?","body":"<p><strong>Try below code.</strong>\nIt's very easy to implement.</p>\n\n<p>Here latLng1=old your location &amp; latLng2=your new location.</p>\n\n<p><strong>Step=1</strong></p>\n\n<pre><code> private double getBearingBetweenTwoPoints1(LatLng latLng1, LatLng latLng2) {\n\n        double lat1 = degreesToRadians(latLng1.latitude);\n        double long1 = degreesToRadians(latLng1.longitude);\n        double lat2 = degreesToRadians(latLng2.latitude);\n        double long2 = degreesToRadians(latLng2.longitude);\n\n\n        double dLon = (long2 - long1);\n\n\n        double y = Math.sin(dLon) * Math.cos(lat2);\n        double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\n                * Math.cos(lat2) * Math.cos(dLon);\n\n        double radiansBearing = Math.atan2(y, x);\n\n\n        return radiansToDegrees(radiansBearing);\n    }\n</code></pre>\n\n<p><strong>Step=2</strong></p>\n\n<pre><code>private double degreesToRadians(double degrees) {\n        return degrees * Math.PI / 180.0;\n    }\n</code></pre>\n\n<p><strong>Step=3</strong></p>\n\n<pre><code>private double radiansToDegrees(double radians) {\n    return radians * 180.0 / Math.PI;\n}\n</code></pre>\n\n<p><strong>Step=4</strong> Set your marker rotation.</p>\n\n<pre><code> mPositionMarker.setRotation((float) getBearingBetweenTwoPoints1(new LatLng(lastLocLati, lastLocLongi), new LatLng(lati, longi)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13161998,"reputation":95,"user_id":9981862,"display_name":"iamjpsharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637671204,"creation_date":1630491252,"answer_id":69011836,"question_id":43224263,"body_markdown":"Here is code to move and rotate marker at same time with use of bearing - \r\n\r\n\r\n\r\n\r\n       public void animateMarker(final Marker marker, final LatLng toPosition, final boolean hideMarker) {\r\n        boolean contains = mMap.getProjection()\r\n                .getVisibleRegion()\r\n                .latLngBounds\r\n                .contains(toPosition);\r\n\r\n        if(!contains){\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(toPosition, 60));\r\n         // MOVE CAMERA\r\n        }\r\n        final Handler handler = new Handler();\r\n        final long start = SystemClock.uptimeMillis();\r\n        Projection proj = mMap.getProjection();\r\n        Point startPoint = proj.toScreenLocation(marker.getPosition());\r\n        final LatLng startLatLng = proj.fromScreenLocation(startPoint);\r\n        final long duration = 500;\r\n        final float toRotation = (float) bearingBetweenLocations(marker.getPosition(), toPosition);\r\n        final float startRotation = marker.getRotation();\r\n        final Interpolator interpolator = new LinearInterpolator();\r\n        handler.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                long elapsed = SystemClock.uptimeMillis() - start;\r\n                float t = interpolator.getInterpolation((float) elapsed\r\n                        / duration);\r\n                //rotate marker\r\n                float rot = t * toRotation + (1 - t) * startRotation;\r\n                float bearing = -rot &gt; 180 ? rot / 2 : rot;\r\n                marker.setRotation(bearing);\r\n                //move marker\r\n                double lng = t * toPosition.longitude + (1 - t)\r\n                        * startLatLng.longitude;\r\n                double lat = t * toPosition.latitude + (1 - t)\r\n                        * startLatLng.latitude;\r\n                marker.setPosition(new LatLng(lat, lng));\r\n                if (t &lt; 1.0) {\r\n                    // Post again 16ms later.\r\n                    handler.postDelayed(this, 16);\r\n                } else {\r\n                    if (hideMarker) {\r\n                        marker.setVisible(false);\r\n                    } else {\r\n                        marker.setVisible(true);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private double bearingBetweenLocations(LatLng latLng1, LatLng latLng2) {\r\n        double PI = 3.14159;\r\n        double lat1 = latLng1.latitude * PI / 180;\r\n        double long1 = latLng1.longitude * PI / 180;\r\n        double lat2 = latLng2.latitude * PI / 180;\r\n        double long2 = latLng2.longitude * PI / 180;\r\n        double dLon = (long2 - long1);\r\n        double y = Math.sin(dLon) * Math.cos(lat2);\r\n        double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\r\n                * Math.cos(lat2) * Math.cos(dLon);\r\n        double brng = Math.atan2(y, x);\r\n        brng = Math.toDegrees(brng);\r\n        brng = (brng + 360) % 360;\r\n        return brng;\r\n    }","title":"how to rotate marker(bus) according to direction?","body":"<p>Here is code to move and rotate marker at same time with use of bearing -</p>\n<pre><code>   public void animateMarker(final Marker marker, final LatLng toPosition, final boolean hideMarker) {\n    boolean contains = mMap.getProjection()\n            .getVisibleRegion()\n            .latLngBounds\n            .contains(toPosition);\n\n    if(!contains){\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(toPosition, 60));\n     // MOVE CAMERA\n    }\n    final Handler handler = new Handler();\n    final long start = SystemClock.uptimeMillis();\n    Projection proj = mMap.getProjection();\n    Point startPoint = proj.toScreenLocation(marker.getPosition());\n    final LatLng startLatLng = proj.fromScreenLocation(startPoint);\n    final long duration = 500;\n    final float toRotation = (float) bearingBetweenLocations(marker.getPosition(), toPosition);\n    final float startRotation = marker.getRotation();\n    final Interpolator interpolator = new LinearInterpolator();\n    handler.post(new Runnable() {\n        @Override\n        public void run() {\n            long elapsed = SystemClock.uptimeMillis() - start;\n            float t = interpolator.getInterpolation((float) elapsed\n                    / duration);\n            //rotate marker\n            float rot = t * toRotation + (1 - t) * startRotation;\n            float bearing = -rot &gt; 180 ? rot / 2 : rot;\n            marker.setRotation(bearing);\n            //move marker\n            double lng = t * toPosition.longitude + (1 - t)\n                    * startLatLng.longitude;\n            double lat = t * toPosition.latitude + (1 - t)\n                    * startLatLng.latitude;\n            marker.setPosition(new LatLng(lat, lng));\n            if (t &lt; 1.0) {\n                // Post again 16ms later.\n                handler.postDelayed(this, 16);\n            } else {\n                if (hideMarker) {\n                    marker.setVisible(false);\n                } else {\n                    marker.setVisible(true);\n                }\n            }\n        }\n    });\n}\n\n\nprivate double bearingBetweenLocations(LatLng latLng1, LatLng latLng2) {\n    double PI = 3.14159;\n    double lat1 = latLng1.latitude * PI / 180;\n    double long1 = latLng1.longitude * PI / 180;\n    double lat2 = latLng2.latitude * PI / 180;\n    double long2 = latLng2.longitude * PI / 180;\n    double dLon = (long2 - long1);\n    double y = Math.sin(dLon) * Math.cos(lat2);\n    double x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1)\n            * Math.cos(lat2) * Math.cos(dLon);\n    double brng = Math.atan2(y, x);\n    brng = Math.toDegrees(brng);\n    brng = (brng + 360) % 360;\n    return brng;\n}\n</code></pre>\n"}],"owner":{"account_id":7245730,"reputation":672,"user_id":7223676,"accept_rate":83,"display_name":"Moin Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11255,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":43236202,"answer_count":3,"score":6,"last_activity_date":1637671204,"creation_date":1491376345,"question_id":43224263,"body_markdown":"From Below Code I am adding marker on map and every 15 seconds its refreshing and getting new latitude and longitude from database. Marker(Bus Image) are successfully adding on map and moving smoothly from one position to another position like car goes on road. Now what I want that I want to rotate bus marker according to direction. How can I achieve this? I am not getting what is the value of toRotation and st ?\r\n\r\n    public Runnable runLocation = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                gps = new GPSTracker(MapActivity.this);\r\n                MyLocation1.clear();\r\n                if (gps.CanGetLocation()) {\r\n                    double latitude = gps.getLatitude();\r\n                    double longitude = gps.getLongitude();\r\n                    LatLng mylocation = new LatLng(latitude, longitude);\r\n                    if (marker != null) {\r\n                        marker.remove();\r\n                    }\r\n                    if (circle != null) {\r\n                        circle.remove();\r\n                    }\r\n                    if (busMarker != null){\r\n                        lastBusPos = busMarker.getPosition();\r\n                    }\r\n    \r\n                    marker = mMap.addMarker(new MarkerOptions()\r\n                            .icon(BitmapDescriptorFactory.fromResource(R.drawable.location))\r\n                            .title(&quot;My Location&quot;)\r\n                            .position(mylocation));\r\n    \r\n                    circle = mMap.addCircle(new CircleOptions()\r\n                            .center(mylocation)\r\n                            .radius(1000)\r\n                            .strokeColor(0x10000000)\r\n                            .fillColor(0x10000000));\r\n                } else {\r\n                    // gps.showSettingsAlert();\r\n                }\r\n    \r\n                String tag_json_obj = &quot;json_obj_req&quot;;\r\n                String url = AppConfig.RouteData + &quot;i=1&amp;&quot; + &quot;y=1&quot;;\r\n    \r\n                JsonObjectRequest jsonObjReq = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\r\n    \r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n    \r\n                            JSONObject jObj = new JSONObject(String.valueOf(response));\r\n                            JSONArray json_user = jObj.getJSONArray(&quot;Message&quot;);\r\n                            for (int i = 0; i &lt; json_user.length(); i++) {\r\n    \r\n                                try {\r\n    \r\n                                    JSONObject obj = json_user.getJSONObject(i);\r\n    \r\n                                    final Double currLat = obj.getDouble(&quot;actual_lat&quot;);\r\n                                    final Double currLong = obj.getDouble(&quot;actual_long&quot;);\r\n                                    final LatLng hcmus = new LatLng(currLat, currLong);\r\n    \r\n                                    \r\n                                    List&lt;LatLng&gt; latList = new ArrayList&lt;LatLng&gt;();\r\n                                    latList.add(hcmus);\r\n    \r\n                                    if (mMarkers.size() != json_user.length()) {\r\n                                        busMarker = mMap.addMarker(new MarkerOptions()\r\n                                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.bus))\r\n                                                .title(&quot;Bus No&quot; + obj.getString(&quot;bus_id&quot;))\r\n                                                .position(hcmus));\r\n                                        mMarkers.add(busMarker);\r\n                                    } else {\r\n                                        //busMarker.setPosition(hcmus);\r\n                                        animateMarker(hcmus, false);\r\n                                        rotateMarker(busMarker, 45.0f, 45.0f);\r\n                                    }\r\n    \r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n    \r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(MapActivity.this, &quot;Sorry something went wrong..Try again&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    \r\n                // Adding request to request queue\r\n                AppController.getInstance().addToRequestQueue(jsonObjReq, tag_json_obj);\r\n    \r\n                MapActivity.this.handler.postDelayed(MapActivity.this.runLocation, 15000);\r\n            }\r\n    \r\n        };\r\n    \r\n        /*-------------------------------Animation----------------------------*/\r\n        public void rotateMarker(final Marker marker, final float toRotation, final float st) {\r\n            final Handler handler = new Handler();\r\n            final long start = SystemClock.uptimeMillis();\r\n            final float startRotation = st;\r\n            final long duration = 1555;\r\n    \r\n            final Interpolator interpolator = new LinearInterpolator();\r\n    \r\n            handler.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    long elapsed = SystemClock.uptimeMillis() - start;\r\n                    float t = interpolator.getInterpolation((float) elapsed / duration);\r\n    \r\n                    float rot = t * toRotation + (1 - t) * startRotation;\r\n    \r\n                    marker.setRotation(-rot &gt; 180 ? rot / 2 : rot);\r\n                    if (t &lt; 1.0) {\r\n                        // Post again 16ms later.\r\n                        handler.postDelayed(this, 16);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void animateMarker(final LatLng toPosition,final boolean hideMarke) {\r\n            final Handler handler = new Handler();\r\n            final long start = SystemClock.uptimeMillis();\r\n            Projection proj = mMap.getProjection();\r\n            Point startPoint = proj.toScreenLocation(lastBusPos);\r\n            final LatLng startLatLng = proj.fromScreenLocation(startPoint);\r\n            final long duration = 5000;\r\n    \r\n            final Interpolator interpolator = new LinearInterpolator();\r\n    \r\n            handler.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    long elapsed = SystemClock.uptimeMillis() - start;\r\n                    float t = interpolator.getInterpolation((float) elapsed\r\n                            / duration);\r\n                    double lng = t * toPosition.longitude + (1 - t)\r\n                            * startLatLng.longitude;\r\n                    double lat = t * toPosition.latitude + (1 - t)\r\n                            * startLatLng.latitude;\r\n                    busMarker.setPosition(new LatLng(lat, lng));\r\n    \r\n                    if (t &lt; 1.0) {\r\n                        // Post again 16ms later.\r\n                        handler.postDelayed(this, 16);\r\n                    } else {\r\n                        if (hideMarke) {\r\n                            busMarker.setVisible(false);\r\n                        } else {\r\n                            busMarker.setVisible(true);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        /*--------------------------------------------------------------------*/","title":"how to rotate marker(bus) according to direction?","body":"<p>From Below Code I am adding marker on map and every 15 seconds its refreshing and getting new latitude and longitude from database. Marker(Bus Image) are successfully adding on map and moving smoothly from one position to another position like car goes on road. Now what I want that I want to rotate bus marker according to direction. How can I achieve this? I am not getting what is the value of toRotation and st ?</p>\n\n<pre><code>public Runnable runLocation = new Runnable() {\n        @Override\n        public void run() {\n            gps = new GPSTracker(MapActivity.this);\n            MyLocation1.clear();\n            if (gps.CanGetLocation()) {\n                double latitude = gps.getLatitude();\n                double longitude = gps.getLongitude();\n                LatLng mylocation = new LatLng(latitude, longitude);\n                if (marker != null) {\n                    marker.remove();\n                }\n                if (circle != null) {\n                    circle.remove();\n                }\n                if (busMarker != null){\n                    lastBusPos = busMarker.getPosition();\n                }\n\n                marker = mMap.addMarker(new MarkerOptions()\n                        .icon(BitmapDescriptorFactory.fromResource(R.drawable.location))\n                        .title(\"My Location\")\n                        .position(mylocation));\n\n                circle = mMap.addCircle(new CircleOptions()\n                        .center(mylocation)\n                        .radius(1000)\n                        .strokeColor(0x10000000)\n                        .fillColor(0x10000000));\n            } else {\n                // gps.showSettingsAlert();\n            }\n\n            String tag_json_obj = \"json_obj_req\";\n            String url = AppConfig.RouteData + \"i=1&amp;\" + \"y=1\";\n\n            JsonObjectRequest jsonObjReq = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONObject&gt;() {\n\n                @Override\n                public void onResponse(JSONObject response) {\n                    try {\n\n                        JSONObject jObj = new JSONObject(String.valueOf(response));\n                        JSONArray json_user = jObj.getJSONArray(\"Message\");\n                        for (int i = 0; i &lt; json_user.length(); i++) {\n\n                            try {\n\n                                JSONObject obj = json_user.getJSONObject(i);\n\n                                final Double currLat = obj.getDouble(\"actual_lat\");\n                                final Double currLong = obj.getDouble(\"actual_long\");\n                                final LatLng hcmus = new LatLng(currLat, currLong);\n\n\n                                List&lt;LatLng&gt; latList = new ArrayList&lt;LatLng&gt;();\n                                latList.add(hcmus);\n\n                                if (mMarkers.size() != json_user.length()) {\n                                    busMarker = mMap.addMarker(new MarkerOptions()\n                                            .icon(BitmapDescriptorFactory.fromResource(R.drawable.bus))\n                                            .title(\"Bus No\" + obj.getString(\"bus_id\"))\n                                            .position(hcmus));\n                                    mMarkers.add(busMarker);\n                                } else {\n                                    //busMarker.setPosition(hcmus);\n                                    animateMarker(hcmus, false);\n                                    rotateMarker(busMarker, 45.0f, 45.0f);\n                                }\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, new Response.ErrorListener() {\n\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(MapActivity.this, \"Sorry something went wrong..Try again\", Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            // Adding request to request queue\n            AppController.getInstance().addToRequestQueue(jsonObjReq, tag_json_obj);\n\n            MapActivity.this.handler.postDelayed(MapActivity.this.runLocation, 15000);\n        }\n\n    };\n\n    /*-------------------------------Animation----------------------------*/\n    public void rotateMarker(final Marker marker, final float toRotation, final float st) {\n        final Handler handler = new Handler();\n        final long start = SystemClock.uptimeMillis();\n        final float startRotation = st;\n        final long duration = 1555;\n\n        final Interpolator interpolator = new LinearInterpolator();\n\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                long elapsed = SystemClock.uptimeMillis() - start;\n                float t = interpolator.getInterpolation((float) elapsed / duration);\n\n                float rot = t * toRotation + (1 - t) * startRotation;\n\n                marker.setRotation(-rot &gt; 180 ? rot / 2 : rot);\n                if (t &lt; 1.0) {\n                    // Post again 16ms later.\n                    handler.postDelayed(this, 16);\n                }\n            }\n        });\n    }\n\n    public void animateMarker(final LatLng toPosition,final boolean hideMarke) {\n        final Handler handler = new Handler();\n        final long start = SystemClock.uptimeMillis();\n        Projection proj = mMap.getProjection();\n        Point startPoint = proj.toScreenLocation(lastBusPos);\n        final LatLng startLatLng = proj.fromScreenLocation(startPoint);\n        final long duration = 5000;\n\n        final Interpolator interpolator = new LinearInterpolator();\n\n        handler.post(new Runnable() {\n            @Override\n            public void run() {\n                long elapsed = SystemClock.uptimeMillis() - start;\n                float t = interpolator.getInterpolation((float) elapsed\n                        / duration);\n                double lng = t * toPosition.longitude + (1 - t)\n                        * startLatLng.longitude;\n                double lat = t * toPosition.latitude + (1 - t)\n                        * startLatLng.latitude;\n                busMarker.setPosition(new LatLng(lat, lng));\n\n                if (t &lt; 1.0) {\n                    // Post again 16ms later.\n                    handler.postDelayed(this, 16);\n                } else {\n                    if (hideMarke) {\n                        busMarker.setVisible(false);\n                    } else {\n                        busMarker.setVisible(true);\n                    }\n                }\n            }\n        });\n    }\n\n    /*--------------------------------------------------------------------*/\n</code></pre>\n"},{"tags":["java","object","oop","design-patterns"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1637622842,"post_id":70073456,"comment_id":123871396,"body_markdown":"Why can&#39;t you use equals? There is a typical pattern that is also generated by most IDEs which checks for strict type equality, this.getClass() == that.getClass()","body":"Why can&#39;t you use equals? There is a typical pattern that is also generated by most IDEs which checks for strict type equality, this.getClass() == that.getClass()"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1637622949,"post_id":70073456,"comment_id":123871414,"body_markdown":"Another thing to keep in mind is that if you run into these problems, inheritance may not be the best thing to begin with. Is a NumberedCard really a ColoredCard? To me it seems that having a number and having a color are two unrelated properties that could be present at the same time. Maybe you just need an optional Number and Color for every Card?","body":"Another thing to keep in mind is that if you run into these problems, inheritance may not be the best thing to begin with. Is a NumberedCard really a ColoredCard? To me it seems that having a number and having a color are two unrelated properties that could be present at the same time. Maybe you just need an optional Number and Color for every Card?"},{"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"score":0,"creation_date":1637622978,"post_id":70073456,"comment_id":123871421,"body_markdown":"@Clashsoft Because for a NumberedCard to be `equal` it must have the same color too but I do not check that in my method. Same for the SpecialColoredCard","body":"@Clashsoft Because for a NumberedCard to be <code>equal</code> it must have the same color too but I do not check that in my method. Same for the SpecialColoredCard"},{"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"score":0,"creation_date":1637623011,"post_id":70073456,"comment_id":123871424,"body_markdown":"@Clashsoft Yes, a NumberedCard is a ColoredCard in the [UNO Card Game](https://en.wikipedia.org/wiki/Uno_(card_game)) that I am developing.","body":"@Clashsoft Yes, a NumberedCard is a ColoredCard in the <a href=\"https://en.wikipedia.org/wiki/Uno_(card_game)\" rel=\"nofollow noreferrer\">UNO Card Game</a> that I am developing."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1637623107,"post_id":70073456,"comment_id":123871444,"body_markdown":"Ok, but you can still model it differently and just use a single Card class for everything. Inheritance is not always the right tool for the job and in this case I would&#39;t bother with it to avoid the problems you describe.","body":"Ok, but you can still model it differently and just use a single Card class for everything. Inheritance is not always the right tool for the job and in this case I would&#39;t bother with it to avoid the problems you describe."},{"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"score":0,"creation_date":1637623273,"post_id":70073456,"comment_id":123871474,"body_markdown":"@Clashsoft if I keep numbers and speciality in the single card class, then also I will have to perform these if checks and with new boolean and null checks because NumebredCards don&#39;t have a speciality and vice versa.","body":"@Clashsoft if I keep numbers and speciality in the single card class, then also I will have to perform these if checks and with new boolean and null checks because NumebredCards don&#39;t have a speciality and vice versa."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1637623370,"post_id":70073456,"comment_id":123871496,"body_markdown":"Yes, but generally null checks are at least cleaner than instanceof checks.","body":"Yes, but generally null checks are at least cleaner than instanceof checks."}],"answers":[{"tags":[],"owner":{"account_id":20418426,"reputation":56,"user_id":14980014,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637624453,"creation_date":1637624453,"answer_id":70073690,"question_id":70073456,"body_markdown":"like mentioned in a comment, inheritance isn&#39;t always the best solution. \r\nModeling this scenario with NumberedCard and ColoredCard is imho not very useful. Because a colored card will always have a number and a numbered card will always have a color, so why separate these concepts.\r\n\r\nI would create two classes. One as NormalCard with color and number and the other as SpecialCard. And in an interface Card should exists a method compatibleTo().\r\n\r\njust my 2c","title":"How to avoid instanceOf and dynamic getter check?","body":"<p>like mentioned in a comment, inheritance isn't always the best solution.\nModeling this scenario with NumberedCard and ColoredCard is imho not very useful. Because a colored card will always have a number and a numbered card will always have a color, so why separate these concepts.</p>\n<p>I would create two classes. One as NormalCard with color and number and the other as SpecialCard. And in an interface Card should exists a method compatibleTo().</p>\n<p>just my 2c</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637626710,"creation_date":1637625538,"answer_id":70073818,"question_id":70073456,"body_markdown":"\r\n* Put the getters on your base card class, but make their return type `Optional&lt;Colour&gt;`, `Optional&lt;Integer&gt;` etc so that cards which don&#39;t have that characteristic can return `Optional.empty()`.\r\n\r\nThen your code can look like this:\r\n```java\r\n    enum UnoColour {\r\n        RED, GREEN, YELLOW, BLUE\r\n    }\r\n    interface Card {\r\n        Optional&lt;Integer&gt; getNumber();\r\n        Optional&lt;UnoColour&gt; getColour();\r\n    }\r\n\r\n    public static boolean areBothColoredAndHaveSameColor(Card c1, Card c2) {\r\n        return compareCards(c1, c2, c -&gt; c.getColour());\r\n    }\r\n\r\n    public static boolean areBothNumberedAndHaveSameNumber(Card c1, Card c2) {\r\n        return compareCards(c1, c2, c -&gt; c.getNumber());\r\n    }\r\n\r\n    \r\n    public static &lt;T&gt; boolean compareCards(Card a, Card b, Function&lt;Card,Optional&lt;T&gt;&gt; extractor) {\r\n        Optional&lt;T&gt; aValue = extractor.apply(a);\r\n        Optional&lt;T&gt; bValue = extractor.apply(b);\r\n        \r\n        return aValue.isPresent() &amp;&amp; bValue.isPresent() &amp;&amp; aValue.get().equals(bValue.get());\r\n    }\r\n```\r\n\r\nSo `compareCards` removes the duplicated code.\r\n\r\nWe can make the code more idiomatic (although perhaps harder to understand if you are not familiar with the features used), by using a method reference instead of an explicit lambda:\r\n```java\r\n        return compareCards(c1, c2, Card::getNumber);\r\n```\r\nAnd using `map` in `compareCards`:\r\n```java\r\n    public static &lt;T&gt; boolean compareCards(Card a, Card b, Function&lt;Card,Optional&lt;T&gt;&gt; extractor) {\r\n        return extractor.apply(a)\r\n           .flatMap(at -&gt; extractor.apply(b).map(bt -&gt; at.equals(bt)))\r\n           .orElse(false);\r\n    }\r\n```\r\n\r\nYou can still use subclasses for each type of card, e.g.:\r\n```java\r\nclass ColouredCard implements Card {\r\n\r\n        private final Optional&lt;UnoColour&gt; colour;\r\n\r\n        ColouredCard(UnoColour colour) {\r\n            this.colour = Optional.of(colour);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Integer&gt; getNumber() {\r\n            return Optional.empty();\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;UnoColour&gt; getColour() {\r\n            return colour;\r\n        }\r\n    }\r\n```\r\nIt may be useful to have a static type for a `Card` to catch errors at compile time -- without seeing your code I don&#39;t know how useful that will be:\r\n```java\r\n  ColouredCard c = new ColouredCard(BLUE);\r\n  functionWhichOnlyTakesNumberedCards(c); // &lt;-- helpful compile time error\r\n```","title":"How to avoid instanceOf and dynamic getter check?","body":"<ul>\n<li>Put the getters on your base card class, but make their return type <code>Optional&lt;Colour&gt;</code>, <code>Optional&lt;Integer&gt;</code> etc so that cards which don't have that characteristic can return <code>Optional.empty()</code>.</li>\n</ul>\n<p>Then your code can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    enum UnoColour {\n        RED, GREEN, YELLOW, BLUE\n    }\n    interface Card {\n        Optional&lt;Integer&gt; getNumber();\n        Optional&lt;UnoColour&gt; getColour();\n    }\n\n    public static boolean areBothColoredAndHaveSameColor(Card c1, Card c2) {\n        return compareCards(c1, c2, c -&gt; c.getColour());\n    }\n\n    public static boolean areBothNumberedAndHaveSameNumber(Card c1, Card c2) {\n        return compareCards(c1, c2, c -&gt; c.getNumber());\n    }\n\n    \n    public static &lt;T&gt; boolean compareCards(Card a, Card b, Function&lt;Card,Optional&lt;T&gt;&gt; extractor) {\n        Optional&lt;T&gt; aValue = extractor.apply(a);\n        Optional&lt;T&gt; bValue = extractor.apply(b);\n        \n        return aValue.isPresent() &amp;&amp; bValue.isPresent() &amp;&amp; aValue.get().equals(bValue.get());\n    }\n</code></pre>\n<p>So <code>compareCards</code> removes the duplicated code.</p>\n<p>We can make the code more idiomatic (although perhaps harder to understand if you are not familiar with the features used), by using a method reference instead of an explicit lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        return compareCards(c1, c2, Card::getNumber);\n</code></pre>\n<p>And using <code>map</code> in <code>compareCards</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T&gt; boolean compareCards(Card a, Card b, Function&lt;Card,Optional&lt;T&gt;&gt; extractor) {\n        return extractor.apply(a)\n           .flatMap(at -&gt; extractor.apply(b).map(bt -&gt; at.equals(bt)))\n           .orElse(false);\n    }\n</code></pre>\n<p>You can still use subclasses for each type of card, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ColouredCard implements Card {\n\n        private final Optional&lt;UnoColour&gt; colour;\n\n        ColouredCard(UnoColour colour) {\n            this.colour = Optional.of(colour);\n        }\n\n        @Override\n        public Optional&lt;Integer&gt; getNumber() {\n            return Optional.empty();\n        }\n\n        @Override\n        public Optional&lt;UnoColour&gt; getColour() {\n            return colour;\n        }\n    }\n</code></pre>\n<p>It may be useful to have a static type for a <code>Card</code> to catch errors at compile time -- without seeing your code I don't know how useful that will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ColouredCard c = new ColouredCard(BLUE);\n  functionWhichOnlyTakesNumberedCards(c); // &lt;-- helpful compile time error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637671202,"creation_date":1637671202,"answer_id":70081101,"question_id":70073456,"body_markdown":"Like tgdavies’s solution, I would use a Function argument, but I wouldn’t modify the Card subclasses.  (I’m not saying I agree with your inheritance hierarchy, but I don’t have enough information to really question it.)\r\n\r\n    private static &lt;C extends Card&gt; boolean attributeMatches(\r\n                                                Card c1,\r\n                                                Card c2,\r\n                                                Class&lt;C&gt; cardType,\r\n                                                Function&lt;C, ?&gt; attribute) {\r\n\r\n        return cardType.isInstance(c1) &amp;&amp; cardType.isInstance(c2)\r\n            &amp;&amp; Objects.equals(attribute.apply(c1), attribute.apply(c2));\r\n    }\r\n\r\n    public static boolean sameColor(Card c1, Card c2) {\r\n        return attributeMatches(c1, c2, ColoredCard, ColoredCard::getColor);\r\n    }\r\n\r\n    public static boolean sameNumber(Card c1, Card c2) {\r\n        return attributeMatches(c1, c2, NumberedCard, NumberedCard::getNumber);\r\n    }\r\n\r\n    public static boolean sameSpecialty(Card c1, Card c2) {\r\n        return attributeMatches(c1, c2, SpecialColoredCard, SpecialColoredCard::getSpecialty);\r\n    }\r\n","title":"How to avoid instanceOf and dynamic getter check?","body":"<p>Like tgdavies’s solution, I would use a Function argument, but I wouldn’t modify the Card subclasses.  (I’m not saying I agree with your inheritance hierarchy, but I don’t have enough information to really question it.)</p>\n<pre><code>private static &lt;C extends Card&gt; boolean attributeMatches(\n                                            Card c1,\n                                            Card c2,\n                                            Class&lt;C&gt; cardType,\n                                            Function&lt;C, ?&gt; attribute) {\n\n    return cardType.isInstance(c1) &amp;&amp; cardType.isInstance(c2)\n        &amp;&amp; Objects.equals(attribute.apply(c1), attribute.apply(c2));\n}\n\npublic static boolean sameColor(Card c1, Card c2) {\n    return attributeMatches(c1, c2, ColoredCard, ColoredCard::getColor);\n}\n\npublic static boolean sameNumber(Card c1, Card c2) {\n    return attributeMatches(c1, c2, NumberedCard, NumberedCard::getNumber);\n}\n\npublic static boolean sameSpecialty(Card c1, Card c2) {\n    return attributeMatches(c1, c2, SpecialColoredCard, SpecialColoredCard::getSpecialty);\n}\n</code></pre>\n"}],"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637671202,"creation_date":1637622462,"question_id":70073456,"body_markdown":"This code is from the `CardUtility` class I am using in my application. \r\n\r\n```java\r\npublic static boolean areBothColoredAndHaveSameColor(Card c1, Card c2) {\r\n    if (c1 instanceof ColoredCard coloredCard1 &amp;&amp; c2 instanceof ColoredCard coloredCard2)\r\n        return coloredCard1.getColor() == coloredCard2.getColor();\r\n    return false;\r\n}\r\n\r\npublic static boolean areBothNumberedAndHaveSameNumber(Card c1, Card c2) {\r\n    if (c1 instanceof NumberedCard numberedCard1 &amp;&amp; c2 instanceof NumberedCard numberedCard2)\r\n        return numberedCard1.getNumber() == numberedCard2.getNumber();\r\n    return false;\r\n}\r\n\r\npublic static boolean areBothSpecialAndHaveSameSpeciality(Card c1, Card c2) {\r\n    if (c1 instanceof SpecialColoredCard specialColoredCard1 &amp;&amp; c2 instanceof SpecialColoredCard specialColoredCard2)\r\n        return specialColoredCard1.getSpeciality() == specialColoredCard2.getSpeciality();\r\n    return false;\r\n}\r\n```\r\n\r\nI can obviously see the code duplication happening here but I am bound by the fact that I can&#39;t use an `equals` check and because of the inheritance hierarchy: `NumberedCard` and `SpecialColoredCard` both extend the abstract `ColoredCard` class. How can I avoid redundancy? Should I make all of these implement a new `CardWithKeyProperty interface` and refactor these methods to a single `doBothHaveTheSameKeyProperty()` method? But again I am not sure because `ColoredCard` is one step higher in the inheritance hierarchy so all of them implementing the same interface doesn&#39;t sound right. ","title":"How to avoid instanceOf and dynamic getter check?","body":"<p>This code is from the <code>CardUtility</code> class I am using in my application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean areBothColoredAndHaveSameColor(Card c1, Card c2) {\n    if (c1 instanceof ColoredCard coloredCard1 &amp;&amp; c2 instanceof ColoredCard coloredCard2)\n        return coloredCard1.getColor() == coloredCard2.getColor();\n    return false;\n}\n\npublic static boolean areBothNumberedAndHaveSameNumber(Card c1, Card c2) {\n    if (c1 instanceof NumberedCard numberedCard1 &amp;&amp; c2 instanceof NumberedCard numberedCard2)\n        return numberedCard1.getNumber() == numberedCard2.getNumber();\n    return false;\n}\n\npublic static boolean areBothSpecialAndHaveSameSpeciality(Card c1, Card c2) {\n    if (c1 instanceof SpecialColoredCard specialColoredCard1 &amp;&amp; c2 instanceof SpecialColoredCard specialColoredCard2)\n        return specialColoredCard1.getSpeciality() == specialColoredCard2.getSpeciality();\n    return false;\n}\n</code></pre>\n<p>I can obviously see the code duplication happening here but I am bound by the fact that I can't use an <code>equals</code> check and because of the inheritance hierarchy: <code>NumberedCard</code> and <code>SpecialColoredCard</code> both extend the abstract <code>ColoredCard</code> class. How can I avoid redundancy? Should I make all of these implement a new <code>CardWithKeyProperty interface</code> and refactor these methods to a single <code>doBothHaveTheSameKeyProperty()</code> method? But again I am not sure because <code>ColoredCard</code> is one step higher in the inheritance hierarchy so all of them implementing the same interface doesn't sound right.</p>\n"},{"tags":["java","maven","sap-commerce-cloud"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1580419589,"post_id":59972570,"comment_id":106101937,"body_markdown":"Great finding! +1 for posting it.","body":"Great finding! +1 for posting it."}],"answers":[{"tags":[],"owner":{"account_id":17606881,"reputation":986,"user_id":12775757,"display_name":"Neil Hubert-Price"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1580331303,"creation_date":1580331303,"answer_id":59975433,"question_id":59972570,"body_markdown":"You can override this by setting up your $HOME/.m2/settings.xml file.\r\n\r\nFor example:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;default&lt;/id&gt;\r\n                &lt;repositories&gt;\r\n                    &lt;repository&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                        &lt;id&gt;central&lt;/id&gt;\r\n                        &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;/repository&gt;\r\n                &lt;/repositories&gt;\r\n                &lt;pluginRepositories&gt;\r\n                    &lt;pluginRepository&gt;\r\n                        &lt;releases&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/releases&gt;\r\n                        &lt;snapshots&gt;\r\n                            &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;/snapshots&gt;\r\n                        &lt;id&gt;central&lt;/id&gt;\r\n                        &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;/pluginRepository&gt;\r\n                &lt;/pluginRepositories&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n        &lt;activeProfiles&gt;\r\n            &lt;activeProfile&gt;default&lt;/activeProfile&gt;\r\n        &lt;/activeProfiles&gt;\r\n    \r\n    &lt;/settings&gt;","title":"Why does Hybris ship insecure http maven repository URL? And why can&#39;t we override it?","body":"<p>You can override this by setting up your $HOME/.m2/settings.xml file.</p>\n\n<p>For example:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;default&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580341406,"creation_date":1580339806,"answer_id":59976987,"question_id":59972570,"body_markdown":"Redeclaring `m2.repo` in `local.properties` won&#39;t work as there is no such property loaded by Hybris. You can verify it by searching for `m2.repo` in  **hAC &gt; Platform &gt; Configuration** (or simply at https://localhost:9002/platform/config).\r\n\r\nModifying it in `apache-ant/lib/libraries.properties` should work if you execute `ant`. Please let me know if it is not the case and I will try to find some other option.\r\n\r\n&gt; When that did not pick the new value, I changed it to `https` in\r\n&gt; `apache-ant/lib/libraries.properties`, but it is still picking `http`. How\r\n&gt; to override this property?\r\n\r\nIt would be helpful if you mention where do you see it picking `http`. Please mention the steps to replicate this behavior.","title":"Why does Hybris ship insecure http maven repository URL? And why can&#39;t we override it?","body":"<p>Redeclaring <code>m2.repo</code> in <code>local.properties</code> won't work as there is no such property loaded by Hybris. You can verify it by searching for <code>m2.repo</code> in  <strong>hAC > Platform > Configuration</strong> (or simply at <a href=\"https://localhost:9002/platform/config\" rel=\"nofollow noreferrer\">https://localhost:9002/platform/config</a>).</p>\n\n<p>Modifying it in <code>apache-ant/lib/libraries.properties</code> should work if you execute <code>ant</code>. Please let me know if it is not the case and I will try to find some other option.</p>\n\n<blockquote>\n  <p>When that did not pick the new value, I changed it to <code>https</code> in\n  <code>apache-ant/lib/libraries.properties</code>, but it is still picking <code>http</code>. How\n  to override this property?</p>\n</blockquote>\n\n<p>It would be helpful if you mention where do you see it picking <code>http</code>. Please mention the steps to replicate this behavior.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59975433,"answer_count":2,"score":7,"last_activity_date":1637671181,"creation_date":1580319021,"question_id":59972570,"body_markdown":"In `apache-ant/lib/libraries.properties` \r\n\r\n&gt; m2.repo=http://repo1.maven.org/maven2/\r\n\r\nWhat is the point of shipping Hybris with `http` URL?&lt;br&gt; It cannot be accessed in the first place, let alone used for downloading.&lt;br&gt;\r\nIdeally, it should be an `https` URL.\r\n\r\n&gt; m2.repo=https://repo1.maven.org/maven2/\r\n\r\nI tried *overriding* it by redeclaring this property in `local.properties`. When that did not pick the new value, I changed it to `https` in `apache-ant/lib/libraries.properties`, but it is still picking `http`. How to override this property?\r\n\r\nError logs:\r\n\r\n    [artifact:mvn] Downloading: org/apache/maven/apache-maven/3.2.5/apache-maven-3.2.5.pom from repository central at http://repo1.maven.org/maven2\r\n    [artifact:mvn] Error transferring file: Operation timed out (Connection timed out)\r\n    [artifact:mvn] [WARNING] Unable to get resource &#39;org.apache.maven:apache-maven:pom:3.2.5&#39; from repository central (http://repo1.maven.org/maven2): Error transferring file: Operation timed out (Connection timed out)\r\n         [null] An error has occurred while processing the Maven artifact tasks.\r\n         [null]  Diagnosis:\r\n         [null] \r\n         [null] Unable to resolve artifact: Missing:\r\n         [null] ----------\r\n         [null] 1) org.apache.maven:apache-maven:pom:3.2.5\r\n         [null]   Path to dependency: \r\n         [null]   \t1) org.apache.maven:super-pom:pom:2.0\r\n         [null]   \t2) org.apache.maven:apache-maven:pom:3.2.5\r\n         [null] \r\n         [null] ----------\r\n         [null] 1 required artifact is missing.\r\n         [null] \r\n         [null] for artifact: \r\n         [null]   org.apache.maven:super-pom:pom:2.0\r\n         [null] \r\n         [null] from the specified remote repositories:\r\n         [null]   central (http://repo1.maven.org/maven2)\r\n         [null] \r\n         [null] \r\n    \r\n    BUILD FAILED\r\n\r\n","title":"Why does Hybris ship insecure http maven repository URL? And why can&#39;t we override it?","body":"<p>In <code>apache-ant/lib/libraries.properties</code> </p>\n\n<blockquote>\n  <p>m2.repo=<a href=\"http://repo1.maven.org/maven2/\" rel=\"noreferrer\">http://repo1.maven.org/maven2/</a></p>\n</blockquote>\n\n<p>What is the point of shipping Hybris with <code>http</code> URL?<br> It cannot be accessed in the first place, let alone used for downloading.<br>\nIdeally, it should be an <code>https</code> URL.</p>\n\n<blockquote>\n  <p>m2.repo=<a href=\"https://repo1.maven.org/maven2/\" rel=\"noreferrer\">https://repo1.maven.org/maven2/</a></p>\n</blockquote>\n\n<p>I tried <em>overriding</em> it by redeclaring this property in <code>local.properties</code>. When that did not pick the new value, I changed it to <code>https</code> in <code>apache-ant/lib/libraries.properties</code>, but it is still picking <code>http</code>. How to override this property?</p>\n\n<p>Error logs:</p>\n\n<pre><code>[artifact:mvn] Downloading: org/apache/maven/apache-maven/3.2.5/apache-maven-3.2.5.pom from repository central at http://repo1.maven.org/maven2\n[artifact:mvn] Error transferring file: Operation timed out (Connection timed out)\n[artifact:mvn] [WARNING] Unable to get resource 'org.apache.maven:apache-maven:pom:3.2.5' from repository central (http://repo1.maven.org/maven2): Error transferring file: Operation timed out (Connection timed out)\n     [null] An error has occurred while processing the Maven artifact tasks.\n     [null]  Diagnosis:\n     [null] \n     [null] Unable to resolve artifact: Missing:\n     [null] ----------\n     [null] 1) org.apache.maven:apache-maven:pom:3.2.5\n     [null]   Path to dependency: \n     [null]     1) org.apache.maven:super-pom:pom:2.0\n     [null]     2) org.apache.maven:apache-maven:pom:3.2.5\n     [null] \n     [null] ----------\n     [null] 1 required artifact is missing.\n     [null] \n     [null] for artifact: \n     [null]   org.apache.maven:super-pom:pom:2.0\n     [null] \n     [null] from the specified remote repositories:\n     [null]   central (http://repo1.maven.org/maven2)\n     [null] \n     [null] \n\nBUILD FAILED\n</code></pre>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637658725,"post_id":70078089,"comment_id":123878888,"body_markdown":"you still have the optional, so you can still do &quot;return discFit&quot;.","body":"you still have the optional, so you can still do &quot;return discFit&quot;."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1637658831,"post_id":70078089,"comment_id":123878925,"body_markdown":"That is a very unusual requirement... A list that can either have items or be empty is _much_ easier to work with than an optional list that can either wrap a list with items in or an empty optional. Why do you want to do this?","body":"That is a very unusual requirement... A list that can either have items or be empty is <i>much</i> easier to work with than an optional list that can either wrap a list with items in or an empty optional. Why do you want to do this?"},{"owner":{"account_id":23427371,"reputation":1,"user_id":17486688,"display_name":"SilentSlippers"},"score":1,"creation_date":1637659249,"post_id":70078089,"comment_id":123879073,"body_markdown":"We got a assignement in Java class we need to get this, maybe this code i wrote wrong","body":"We got a assignement in Java class we need to get this, maybe this code i wrote wrong"},{"owner":{"account_id":23427371,"reputation":1,"user_id":17486688,"display_name":"SilentSlippers"},"score":0,"creation_date":1637659417,"post_id":70078089,"comment_id":123879130,"body_markdown":"Maybe i need to use Optional.ofNullable() in discount","body":"Maybe i need to use Optional.ofNullable() in discount"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1637659591,"post_id":70078089,"comment_id":123879216,"body_markdown":"Are you REALLY sure you are supposed to return an `Optional&lt;List&lt;Item&gt;&gt;`? If you misunderstood the assignment, you&#39;re wasting your time by trying to do something completely useless.","body":"Are you REALLY sure you are supposed to return an <code>Optional&lt;List&lt;Item&gt;&gt;</code>? If you misunderstood the assignment, you&#39;re wasting your time by trying to do something completely useless."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1637660757,"post_id":70078089,"comment_id":123879705,"body_markdown":"And note: if the assignment is like that, then it is perfectly fair for you to go back to your instructor and ask for the purpose of this. Because the folks on stackoverflow told you: this isnt something you do in the real world.","body":"And note: if the assignment is like that, then it is perfectly fair for you to go back to your instructor and ask for the purpose of this. Because the folks on stackoverflow told you: this isnt something you do in the real world."},{"owner":{"account_id":23427371,"reputation":1,"user_id":17486688,"display_name":"SilentSlippers"},"score":1,"creation_date":1637662787,"post_id":70078089,"comment_id":123880567,"body_markdown":"It&#39;s that type of professor that just gives an assignement you need to do and that is it, if you dont upload it in time you get ZERO and we move on","body":"It&#39;s that type of professor that just gives an assignement you need to do and that is it, if you dont upload it in time you get ZERO and we move on"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637671138,"creation_date":1637659660,"answer_id":70078316,"question_id":70078089,"body_markdown":"    Optional&lt;List&lt;Item&gt;&gt; discFit = Optional.of(items\r\n           .stream()\r\n           .filter(item -&gt; item.getDiscount() &lt;= 0)\r\n           .collect(Collectors.toList())).filter(l -&gt; !l.isEmpty());\r\n\r\n`Optional.filter` returns a value if the predicate matches or otherwise `Optional.empty`\r\n\r\nBut as mentioned there is rarely a good reason to wrap a list in an optional, because the list can be either empty or have values (usually returned lists aren&#39;t `null`) and wrapping the list in optional only makes it more complicated.\r\n\r\n----------\r\n\r\nIf you only need `Optional&lt;Item&gt;` (which makes more sense) there are different ways to get the result depending on what you actually want to do.\r\n\r\n    Optional&lt;Item&gt; discFit = items\r\n           .stream()\r\n           .filter(item -&gt; item.getDiscount() &lt;= 0)\r\n           .findFirst();\r\n\r\nThis would return an `Optional` with the first `Item` that has a discount great than 0 or `Optional.empty()` if no `&#204;tem` was found.","title":"How can i return an Optional object if the list is empty","body":"<pre><code>Optional&lt;List&lt;Item&gt;&gt; discFit = Optional.of(items\n       .stream()\n       .filter(item -&gt; item.getDiscount() &lt;= 0)\n       .collect(Collectors.toList())).filter(l -&gt; !l.isEmpty());\n</code></pre>\n<p><code>Optional.filter</code> returns a value if the predicate matches or otherwise <code>Optional.empty</code></p>\n<p>But as mentioned there is rarely a good reason to wrap a list in an optional, because the list can be either empty or have values (usually returned lists aren't <code>null</code>) and wrapping the list in optional only makes it more complicated.</p>\n<hr />\n<p>If you only need <code>Optional&lt;Item&gt;</code> (which makes more sense) there are different ways to get the result depending on what you actually want to do.</p>\n<pre><code>Optional&lt;Item&gt; discFit = items\n       .stream()\n       .filter(item -&gt; item.getDiscount() &lt;= 0)\n       .findFirst();\n</code></pre>\n<p>This would return an <code>Optional</code> with the first <code>Item</code> that has a discount great than 0 or <code>Optional.empty()</code> if no <code>Ìtem</code> was found.</p>\n"}],"owner":{"account_id":23427371,"reputation":1,"user_id":17486688,"display_name":"SilentSlippers"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1637659358,"answer_count":1,"score":-3,"last_activity_date":1637671138,"creation_date":1637658614,"question_id":70078089,"body_markdown":"Need to filter through a list of items and check if item.discount() &lt;= 0, in case none are found return Optional object type.\r\n\r\nThis is a code for adding values to list but I don&#39;t know how to get Optional object if the list is empty\r\n\r\n    Optional&lt;List&lt;Item&gt;&gt; discFit = Optional.of(items\r\n               .stream()\r\n               .filter(item -&gt; item.getDiscount() &lt;= 0)\r\n               .collect(Collectors.toList()));","title":"How can i return an Optional object if the list is empty","body":"<p>Need to filter through a list of items and check if item.discount() &lt;= 0, in case none are found return Optional object type.</p>\n<p>This is a code for adding values to list but I don't know how to get Optional object if the list is empty</p>\n<pre><code>Optional&lt;List&lt;Item&gt;&gt; discFit = Optional.of(items\n           .stream()\n           .filter(item -&gt; item.getDiscount() &lt;= 0)\n           .collect(Collectors.toList()));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-data-rest","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637670864,"creation_date":1583419647,"answer_id":60547974,"question_id":60530908,"body_markdown":"&gt; For example, if I limit the permission of delete, does it affect similarly on deleteById, deleteInBatch, deleteAll?\r\n\r\nTo the best of my knowledge: no. Check this sample code where searches are authorized, but deletion is strictly limited to admins only:\r\n\r\n    public interface RecordRepository&lt;T extends Record&gt; extends MongoRepository&lt;T, String&gt; {\r\n    \r\n        // paginated queries\r\n        @RestResource(path = &quot;names&quot;, rel = &quot;name&quot;)\r\n        public Page&lt;T&gt; findByName(@Param(&quot;name&quot;) String name, Pageable pageable);\r\n        @RestResource(path = &quot;types&quot;, rel = &quot;types&quot;)\r\n        public Page&lt;T&gt; findByTypeIn(@Param(&quot;type&quot;) List&lt;String&gt; types, Pageable pageable);\r\n    \r\n        // restrict delete operations to administrators only\r\n    \r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        @Override\r\n        void deleteById(String id);\r\n    \r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        @Override\r\n        void delete(T entity);\r\n    \r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        @Override\r\n        void deleteAll(Iterable&lt;? extends T&gt; records);\r\n    \r\n        @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n        @Override\r\n        void deleteAll();\r\n    }\r\n\r\nThat being said, if your purpose is to restrict deletion to admins only, you can extend [WebSecurityConfigurerAdapter][1] and configure it to block all http DELETE requests:\r\n\r\n    public class WebSecurityBaseConfiguration extends WebSecurityConfigurerAdapter {\r\n        ...\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n              .antMatchers(HttpMethod.DELETE).hasRole(&quot;ADMIN&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nNote that this is a quick and dirty copy paste that may not work out of the box (you will probably need to configure a [role hierarchy][2]).\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-security-autoconfiguration\r\n  [2]: https://stackoverflow.com/questions/26661192/spring-boot-spring-security-hierarchical-roles","title":"Secure method of spring data rest repository","body":"<blockquote>\n<p>For example, if I limit the permission of delete, does it affect similarly on deleteById, deleteInBatch, deleteAll?</p>\n</blockquote>\n<p>To the best of my knowledge: no. Check this sample code where searches are authorized, but deletion is strictly limited to admins only:</p>\n<pre><code>public interface RecordRepository&lt;T extends Record&gt; extends MongoRepository&lt;T, String&gt; {\n\n    // paginated queries\n    @RestResource(path = &quot;names&quot;, rel = &quot;name&quot;)\n    public Page&lt;T&gt; findByName(@Param(&quot;name&quot;) String name, Pageable pageable);\n    @RestResource(path = &quot;types&quot;, rel = &quot;types&quot;)\n    public Page&lt;T&gt; findByTypeIn(@Param(&quot;type&quot;) List&lt;String&gt; types, Pageable pageable);\n\n    // restrict delete operations to administrators only\n\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    @Override\n    void deleteById(String id);\n\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    @Override\n    void delete(T entity);\n\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    @Override\n    void deleteAll(Iterable&lt;? extends T&gt; records);\n\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    @Override\n    void deleteAll();\n}\n</code></pre>\n<p>That being said, if your purpose is to restrict deletion to admins only, you can extend <a href=\"https://www.baeldung.com/spring-boot-security-autoconfiguration\" rel=\"nofollow noreferrer\">WebSecurityConfigurerAdapter</a> and configure it to block all http DELETE requests:</p>\n<pre><code>public class WebSecurityBaseConfiguration extends WebSecurityConfigurerAdapter {\n    ...\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n          .antMatchers(HttpMethod.DELETE).hasRole(&quot;ADMIN&quot;);\n    }\n\n}\n</code></pre>\n<p>Note that this is a quick and dirty copy paste that may not work out of the box (you will probably need to configure a <a href=\"https://stackoverflow.com/questions/26661192/spring-boot-spring-security-hierarchical-roles\">role hierarchy</a>).</p>\n"}],"owner":{"account_id":7603126,"reputation":195,"user_id":5766957,"display_name":"qnhant5010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637670864,"creation_date":1583340269,"question_id":60530908,"body_markdown":"I am currently developping a REST API server based on Spring Boot. Thanks to Spring Data Rest, the 10-ish entities can easily have their own controller via a simple repository (`@RepositoryRestResource` plus `JpaRepository` and `JpaSpecificationExecutor`). Now i need to integrate the security control with `@PreAuthorize`.\r\n\r\nThe question here is which method should I put the annotation on to restrain GET / POST / etc. ?\r\n\r\nFor example, if I limit the permission of `delete`, does it affect similarly on `deleteById`, `deleteInBatch`, `deleteAll`? I see in the documentation the annotation of exported is put on `deleteById` and `delete` without any further explanation, which confuses me.","title":"Secure method of spring data rest repository","body":"<p>I am currently developping a REST API server based on Spring Boot. Thanks to Spring Data Rest, the 10-ish entities can easily have their own controller via a simple repository (<code>@RepositoryRestResource</code> plus <code>JpaRepository</code> and <code>JpaSpecificationExecutor</code>). Now i need to integrate the security control with <code>@PreAuthorize</code>.</p>\n\n<p>The question here is which method should I put the annotation on to restrain GET / POST / etc. ?</p>\n\n<p>For example, if I limit the permission of <code>delete</code>, does it affect similarly on <code>deleteById</code>, <code>deleteInBatch</code>, <code>deleteAll</code>? I see in the documentation the annotation of exported is put on <code>deleteById</code> and <code>delete</code> without any further explanation, which confuses me.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8167,"page":1825,"page_size":100}
