{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"score":1,"creation_date":1666795945,"post_id":74209775,"comment_id":131021299,"body_markdown":"Do you get any errors? Have you tried logging `task.getException().getMessage()` instead of _&#39;Failed to register! Try again!&#39;_ in the toast?","body":"Do you get any errors? Have you tried logging <code>task.getException().getMessage()</code> instead of <i>&#39;Failed to register! Try again!&#39;</i> in the toast?"},{"owner":{"account_id":23999638,"reputation":13,"user_id":17984726,"display_name":"Templar1"},"score":0,"creation_date":1666796318,"post_id":74209775,"comment_id":131021448,"body_markdown":"Haven&#39;t tried that but I don&#39;t get any errors. Registration process using the app works fine and you can use your account data to log in later, but firebase doesn&#39;t create any data in realtime database","body":"Haven&#39;t tried that but I don&#39;t get any errors. Registration process using the app works fine and you can use your account data to log in later, but firebase doesn&#39;t create any data in realtime database"},{"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1666796414,"post_id":74209775,"comment_id":131021496,"body_markdown":"Does either of the successful or failed toast show up?","body":"Does either of the successful or failed toast show up?"},{"owner":{"account_id":23999638,"reputation":13,"user_id":17984726,"display_name":"Templar1"},"score":0,"creation_date":1666796638,"post_id":74209775,"comment_id":131021568,"body_markdown":"Here are some pictures because I cannot post any images yet: https://postimg.cc/gallery/0jk5Hvd","body":"Here are some pictures because I cannot post any images yet: <a href=\"https://postimg.cc/gallery/0jk5Hvd\" rel=\"nofollow noreferrer\">postimg.cc/gallery/0jk5Hvd</a>"},{"owner":{"account_id":23999638,"reputation":13,"user_id":17984726,"display_name":"Templar1"},"score":0,"creation_date":1666796781,"post_id":74209775,"comment_id":131021630,"body_markdown":"No, registration process goes all the way from the beggining to the end. No errors or toast messages are shown during that.","body":"No, registration process goes all the way from the beggining to the end. No errors or toast messages are shown during that."}],"answers":[{"tags":[],"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666796934,"creation_date":1666796934,"answer_id":74210057,"question_id":74209775,"body_markdown":"The URL in `getReferenceFromUrl()` seems to be the problem. You are passing the console&#39;s URL instead of database URL. Try using `getReference()` instead:\r\n```\r\nFirebaseDatabase.getInstance().getReference()\r\n  .child(&quot;data&quot;)\r\n  .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n  .setValue(...)\r\n```\r\n\r\nIf you want to use `getReferenceFromUrl()` then the URL must be:\r\n\r\n&gt; https://&lt;project_id&gt;&lt;db-name?&gt;.europe-west1.firebasedatabase.app/data\r\n\r\nThe domain might differ based on the database location but you can check the URL in console here followed by the path:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GEii9.png","title":"Firebase not adding data to realtime database","body":"<p>The URL in <code>getReferenceFromUrl()</code> seems to be the problem. You are passing the console's URL instead of database URL. Try using <code>getReference()</code> instead:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference()\n  .child(&quot;data&quot;)\n  .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n  .setValue(...)\n</code></pre>\n<p>If you want to use <code>getReferenceFromUrl()</code> then the URL must be:</p>\n<blockquote>\n<p>https://&lt;project_id&gt;&lt;db-name?&gt;.europe-west1.firebasedatabase.app/data</p>\n</blockquote>\n<p>The domain might differ based on the database location but you can check the URL in console here followed by the path:</p>\n<p><a href=\"https://i.stack.imgur.com/GEii9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEii9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23999638,"reputation":13,"user_id":17984726,"display_name":"Templar1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74210057,"answer_count":1,"score":1,"last_activity_date":1666796934,"creation_date":1666795748,"question_id":74209775,"body_markdown":"I&#39;m trying to create Android Application using Android Studio and firebase. I connected my app to firebase and was trying to use Realtime database. Everything have seemed fine until I realized, that firebase was not creating any tables in the Realtime database. Authentication works without any problems and I can see the registered users on the Authentication Page on Firebase website. What&#39;s more, I can even use their data to log into application and everything works as it should. I guess, that if something However, nothing new appears in Realtime database. No Users table is created.\r\n\r\nRealtime database rules:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: &quot;true&quot;,\r\n    &quot;.write&quot;: &quot;true&quot;\r\n  }\r\n}\r\n```\r\n\r\nRegisterUser Activity, which sends data to Firebase Realtime Database:\r\n```\r\npackage com.kalarus.kaluzinski.kaczor;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\npublic class RegisterUser extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private TextView banner;\r\n    private Button registerUserButton;\r\n    private EditText editTextFullNameRegisterPage, editTextAgeRegisterPage ,editTextEmailRegisterPage, editTextPasswordRegisterPage;\r\n    private ProgressBar progressBarRegisterPage;\r\n\r\n    private FirebaseAuth kinoAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register_user);\r\n\r\n        kinoAuth = FirebaseAuth.getInstance();\r\n\r\n        banner = (TextView) findViewById(R.id.banner);\r\n        banner.setOnClickListener(this);\r\n\r\n        registerUserButton = (Button) findViewById(R.id.registerUserButton);\r\n        registerUserButton.setOnClickListener(this);\r\n\r\n        editTextFullNameRegisterPage = (EditText) findViewById(R.id.editTextFullNameRegisterPage);\r\n        editTextAgeRegisterPage = (EditText) findViewById(R.id.editTextAgeRegisterPage);\r\n        editTextEmailRegisterPage = (EditText) findViewById(R.id.editTextEmailRegisterPage);\r\n        editTextPasswordRegisterPage = (EditText) findViewById(R.id.editTextPasswordRegisterPage);\r\n\r\n        progressBarRegisterPage = (ProgressBar) findViewById(R.id.progressBarRegisterPage);\r\n        progressBarRegisterPage.setVisibility(View.INVISIBLE);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.banner:\r\n                startActivity(new Intent(this, LoginPage.class));\r\n                break;\r\n            case R.id.registerUserButton:\r\n                    registerUser();\r\n                    break;\r\n        }\r\n    }\r\n\r\n    private void registerUser()\r\n    {\r\n        String email = editTextEmailRegisterPage.getText().toString().trim();\r\n        String password = editTextPasswordRegisterPage.getText().toString().trim();\r\n        String fullName = editTextFullNameRegisterPage.getText().toString().trim();\r\n        String age = editTextAgeRegisterPage.getText().toString().trim();\r\n\r\n        if(fullName.isEmpty())\r\n        {\r\n            editTextFullNameRegisterPage.setError(&quot;Full name is required!&quot;);\r\n            editTextFullNameRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n        if(age.isEmpty())\r\n        {\r\n            editTextAgeRegisterPage.setError(&quot;Age is required!&quot;);\r\n            editTextAgeRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n        if(email.isEmpty())\r\n        {\r\n            editTextEmailRegisterPage.setError(&quot;Email is required!&quot;);\r\n            editTextEmailRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n        if(!Patterns.EMAIL_ADDRESS.matcher(email).matches())\r\n        {\r\n            editTextEmailRegisterPage.setError(&quot;Please provide valid email!&quot;);\r\n            editTextEmailRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n        if(password.isEmpty())\r\n        {\r\n            editTextPasswordRegisterPage.setError(&quot;Password is required!&quot;);\r\n            editTextPasswordRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(password.length() &lt; 6)\r\n        {\r\n            editTextPasswordRegisterPage.setError(&quot;Min password length should be 6 characters!&quot;);\r\n            editTextPasswordRegisterPage.requestFocus();\r\n            return;\r\n        }\r\n\r\n        progressBarRegisterPage.setVisibility(View.VISIBLE);\r\n        kinoAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    User user = new User(fullName, age, email);\r\n\r\n                    FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://console.firebase.google.com/project/kino-fcff3/database/kino-fcff3-default-rtdb/data/~2F&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful())\r\n                            {\r\n                                Toast.makeText(RegisterUser.this, &quot;User has been registered successfully!&quot;, Toast.LENGTH_LONG).show();\r\n                                progressBarRegisterPage.setVisibility(View.INVISIBLE);\r\n                            }\r\n                            else\r\n                            {\r\n                                Toast.makeText(RegisterUser.this, &quot;Failed to register! Try again!&quot;, Toast.LENGTH_LONG).show();\r\n                                progressBarRegisterPage.setVisibility(View.INVISIBLE);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    Toast.makeText(RegisterUser.this, &quot;Failed to register! Try again!&quot;, Toast.LENGTH_LONG).show();\r\n                    progressBarRegisterPage.setVisibility(View.INVISIBLE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nUser data is stored in User class:\r\n```\r\npackage com.kalarus.kaluzinski.kaczor;\r\n\r\npublic class User {\r\n    public String fullName, age, email;\r\n\r\n    public User() {\r\n    }\r\n    public User(String fullName, String age, String email) {\r\n        this.fullName = fullName;\r\n        this.age = age;\r\n        this.email = email;\r\n    }\r\n}\r\n```\r\n\r\nI tried many solutions, that I&#39;ve found on the Internet but none of them solved the issue. Things I&#39;ve done:\r\n\r\n - created new realtime database in firebase\r\n - enabled email/password authentication in firebase\r\n - changed the rules of realtime database to &quot;true&quot;\r\n - connected Android Studio project to Firebase and added appropriate SDKs (Authentication SDKs and realtime database SDKs)\r\n - checked if gradle is using appropriate dependencies\r\n - redownloaded google-services.json file and replaced the one in a project\r\n - created new clean project and connected it to firebase realtime database","title":"Firebase not adding data to realtime database","body":"<p>I'm trying to create Android Application using Android Studio and firebase. I connected my app to firebase and was trying to use Realtime database. Everything have seemed fine until I realized, that firebase was not creating any tables in the Realtime database. Authentication works without any problems and I can see the registered users on the Authentication Page on Firebase website. What's more, I can even use their data to log into application and everything works as it should. I guess, that if something However, nothing new appears in Realtime database. No Users table is created.</p>\n<p>Realtime database rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: &quot;true&quot;,\n    &quot;.write&quot;: &quot;true&quot;\n  }\n}\n</code></pre>\n<p>RegisterUser Activity, which sends data to Firebase Realtime Database:</p>\n<pre><code>package com.kalarus.kaluzinski.kaczor;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class RegisterUser extends AppCompatActivity implements View.OnClickListener{\n\n    private TextView banner;\n    private Button registerUserButton;\n    private EditText editTextFullNameRegisterPage, editTextAgeRegisterPage ,editTextEmailRegisterPage, editTextPasswordRegisterPage;\n    private ProgressBar progressBarRegisterPage;\n\n    private FirebaseAuth kinoAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register_user);\n\n        kinoAuth = FirebaseAuth.getInstance();\n\n        banner = (TextView) findViewById(R.id.banner);\n        banner.setOnClickListener(this);\n\n        registerUserButton = (Button) findViewById(R.id.registerUserButton);\n        registerUserButton.setOnClickListener(this);\n\n        editTextFullNameRegisterPage = (EditText) findViewById(R.id.editTextFullNameRegisterPage);\n        editTextAgeRegisterPage = (EditText) findViewById(R.id.editTextAgeRegisterPage);\n        editTextEmailRegisterPage = (EditText) findViewById(R.id.editTextEmailRegisterPage);\n        editTextPasswordRegisterPage = (EditText) findViewById(R.id.editTextPasswordRegisterPage);\n\n        progressBarRegisterPage = (ProgressBar) findViewById(R.id.progressBarRegisterPage);\n        progressBarRegisterPage.setVisibility(View.INVISIBLE);\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.banner:\n                startActivity(new Intent(this, LoginPage.class));\n                break;\n            case R.id.registerUserButton:\n                    registerUser();\n                    break;\n        }\n    }\n\n    private void registerUser()\n    {\n        String email = editTextEmailRegisterPage.getText().toString().trim();\n        String password = editTextPasswordRegisterPage.getText().toString().trim();\n        String fullName = editTextFullNameRegisterPage.getText().toString().trim();\n        String age = editTextAgeRegisterPage.getText().toString().trim();\n\n        if(fullName.isEmpty())\n        {\n            editTextFullNameRegisterPage.setError(&quot;Full name is required!&quot;);\n            editTextFullNameRegisterPage.requestFocus();\n            return;\n        }\n        if(age.isEmpty())\n        {\n            editTextAgeRegisterPage.setError(&quot;Age is required!&quot;);\n            editTextAgeRegisterPage.requestFocus();\n            return;\n        }\n        if(email.isEmpty())\n        {\n            editTextEmailRegisterPage.setError(&quot;Email is required!&quot;);\n            editTextEmailRegisterPage.requestFocus();\n            return;\n        }\n        if(!Patterns.EMAIL_ADDRESS.matcher(email).matches())\n        {\n            editTextEmailRegisterPage.setError(&quot;Please provide valid email!&quot;);\n            editTextEmailRegisterPage.requestFocus();\n            return;\n        }\n        if(password.isEmpty())\n        {\n            editTextPasswordRegisterPage.setError(&quot;Password is required!&quot;);\n            editTextPasswordRegisterPage.requestFocus();\n            return;\n        }\n\n        if(password.length() &lt; 6)\n        {\n            editTextPasswordRegisterPage.setError(&quot;Min password length should be 6 characters!&quot;);\n            editTextPasswordRegisterPage.requestFocus();\n            return;\n        }\n\n        progressBarRegisterPage.setVisibility(View.VISIBLE);\n        kinoAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful())\n                {\n                    User user = new User(fullName, age, email);\n\n                    FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://console.firebase.google.com/project/kino-fcff3/database/kino-fcff3-default-rtdb/data/~2F&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if(task.isSuccessful())\n                            {\n                                Toast.makeText(RegisterUser.this, &quot;User has been registered successfully!&quot;, Toast.LENGTH_LONG).show();\n                                progressBarRegisterPage.setVisibility(View.INVISIBLE);\n                            }\n                            else\n                            {\n                                Toast.makeText(RegisterUser.this, &quot;Failed to register! Try again!&quot;, Toast.LENGTH_LONG).show();\n                                progressBarRegisterPage.setVisibility(View.INVISIBLE);\n                            }\n                        }\n                    });\n                }\n                else\n                {\n                    Toast.makeText(RegisterUser.this, &quot;Failed to register! Try again!&quot;, Toast.LENGTH_LONG).show();\n                    progressBarRegisterPage.setVisibility(View.INVISIBLE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>User data is stored in User class:</p>\n<pre><code>package com.kalarus.kaluzinski.kaczor;\n\npublic class User {\n    public String fullName, age, email;\n\n    public User() {\n    }\n    public User(String fullName, String age, String email) {\n        this.fullName = fullName;\n        this.age = age;\n        this.email = email;\n    }\n}\n</code></pre>\n<p>I tried many solutions, that I've found on the Internet but none of them solved the issue. Things I've done:</p>\n<ul>\n<li>created new realtime database in firebase</li>\n<li>enabled email/password authentication in firebase</li>\n<li>changed the rules of realtime database to &quot;true&quot;</li>\n<li>connected Android Studio project to Firebase and added appropriate SDKs (Authentication SDKs and realtime database SDKs)</li>\n<li>checked if gradle is using appropriate dependencies</li>\n<li>redownloaded google-services.json file and replaced the one in a project</li>\n<li>created new clean project and connected it to firebase realtime database</li>\n</ul>\n"},{"tags":["java","google-cloud-platform","google-bigquery","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1666796886,"creation_date":1666796886,"answer_id":74210045,"question_id":74208815,"body_markdown":"I think the best way is to directly using `Bigquery` to copy a table from one project to another, no need to `Dataflow` in this case if you don&#39;t have business rules and tranformations.\r\n\r\nYou can use for example `gcloud` sdk and `bq` : \r\n\r\n```shell\r\nbq cp project1:dataset1.table1 project2:dataset2.table2\r\n```\r\n\r\nYou can also directly use the `Bigquery` console from the `GUI` to do that.\r\n\r\nYou must using an identity that has the needed privileges on the two projects.","title":"Best approach to copy table from one dataset to another in google big query using Dataflow and Java","body":"<p>I think the best way is to directly using <code>Bigquery</code> to copy a table from one project to another, no need to <code>Dataflow</code> in this case if you don't have business rules and tranformations.</p>\n<p>You can use for example <code>gcloud</code> sdk and <code>bq</code> :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bq cp project1:dataset1.table1 project2:dataset2.table2\n</code></pre>\n<p>You can also directly use the <code>Bigquery</code> console from the <code>GUI</code> to do that.</p>\n<p>You must using an identity that has the needed privileges on the two projects.</p>\n"}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74210045,"answer_count":1,"score":0,"last_activity_date":1666796886,"creation_date":1666791618,"question_id":74208815,"body_markdown":"What&#39;s the best way to copy big query table from one project to another using Dataflow. I did that using CopyJobConfiguration but, for that we always need to raise job creation access on the other project. So I am looking for the best, optimal and economical solution to copy data. On GCP I couldn&#39;t find the recommended approach other than JobCopyConfiguration. ","title":"Best approach to copy table from one dataset to another in google big query using Dataflow and Java","body":"<p>What's the best way to copy big query table from one project to another using Dataflow. I did that using CopyJobConfiguration but, for that we always need to raise job creation access on the other project. So I am looking for the best, optimal and economical solution to copy data. On GCP I couldn't find the recommended approach other than JobCopyConfiguration.</p>\n"},{"tags":["java","sorting","insert"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1666796655,"post_id":74209951,"comment_id":131021572,"body_markdown":"Try to use a debugger to find out what is happening here","body":"Try to use a debugger to find out what is happening here"},{"owner":{"account_id":25534389,"reputation":3,"user_id":19321768,"display_name":"PizzaE4ter"},"score":0,"creation_date":1666796988,"post_id":74209951,"comment_id":131021707,"body_markdown":"Im not sure If I used the debugger right, but If I debug the testInsertSort, I get this =SimpleSortingTest@1883 ; results = null","body":"Im not sure If I used the debugger right, but If I debug the testInsertSort, I get this =SimpleSortingTest@1883 ; results = null"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666797096,"post_id":74209951,"comment_id":131021762,"body_markdown":"You should debug `insertSort`. BTW: implement `toString()` in `SimpleSortingTest` will show you the details","body":"You should debug <code>insertSort</code>. BTW: implement <code>toString()</code> in <code>SimpleSortingTest</code> will show you the details"}],"owner":{"account_id":25534389,"reputation":3,"user_id":19321768,"display_name":"PizzaE4ter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666796600,"creation_date":1666796456,"question_id":74209951,"body_markdown":"I have a task to write an Insert Sort method and Im pretty sure Im on the right way. Somehow, if I let the test play I get that error\r\n\r\n    &quot;org.opentest4j.AssertionFailedError: Results: [3, 8, 1, 6, 5, 4, 7, 2, 9, 0] Expected: [1, 3, 8, 6, 5, 4, 7, 2, 9, 0] ==&gt; array contents differ at index [0], expected: &lt;3&gt; but was: &lt;1&gt;&quot;\r\n\r\nI understand, that I need to swap at `index [0]`, but I believe my code is able to do that.\r\n\r\n    public static&lt;T&gt; void insertSort(T[]data, Comparator&lt;T&gt;compar, Consumer&lt;T[]&gt; output) {\r\n            for (int i = 0; i &lt; data.length; i++) {\r\n    \r\n                T jetzt = data[i];\r\n                int j = i-1;\r\n    \r\n                while(j &gt;= 0 &amp;&amp; compar.compare(data[j], data[i]) &gt; 0) {\r\n                    data[j+1] = data[j];\r\n                    j--;\r\n                }\r\n    \r\n                data[j+1] = jetzt;\r\n    \r\n    \r\n    \r\n                output.accept(data);\r\n            }\r\n        }\r\n\r\nEither Im missing something or Im on the wrong way.\r\n\r\n\r\n\r\nTried to fix the index 0 problem.\r\n\r\n","title":"problem with my insert sort code. cant change index 0 element in array","body":"<p>I have a task to write an Insert Sort method and Im pretty sure Im on the right way. Somehow, if I let the test play I get that error</p>\n<pre><code>&quot;org.opentest4j.AssertionFailedError: Results: [3, 8, 1, 6, 5, 4, 7, 2, 9, 0] Expected: [1, 3, 8, 6, 5, 4, 7, 2, 9, 0] ==&gt; array contents differ at index [0], expected: &lt;3&gt; but was: &lt;1&gt;&quot;\n</code></pre>\n<p>I understand, that I need to swap at <code>index [0]</code>, but I believe my code is able to do that.</p>\n<pre><code>public static&lt;T&gt; void insertSort(T[]data, Comparator&lt;T&gt;compar, Consumer&lt;T[]&gt; output) {\n        for (int i = 0; i &lt; data.length; i++) {\n\n            T jetzt = data[i];\n            int j = i-1;\n\n            while(j &gt;= 0 &amp;&amp; compar.compare(data[j], data[i]) &gt; 0) {\n                data[j+1] = data[j];\n                j--;\n            }\n\n            data[j+1] = jetzt;\n\n\n\n            output.accept(data);\n        }\n    }\n</code></pre>\n<p>Either Im missing something or Im on the wrong way.</p>\n<p>Tried to fix the index 0 problem.</p>\n"},{"tags":["java","python","loops","for-loop","translate"],"comments":[{"owner":{"account_id":2592202,"reputation":7631,"user_id":2246674,"display_name":"user2246674"},"score":1,"creation_date":1372721309,"post_id":17415198,"comment_id":25291510,"body_markdown":"`for (a; b; c) { _ }` -&gt; `a; while(b) { _; c; }` - barring scoping issues and having to deal with `continue`. The last component of the for-each construct is evalutated *after* each evaluation of the loop body.","body":"<code>for (a; b; c) { _ }</code> -&gt; <code>a; while(b) { _; c; }</code> - barring scoping issues and having to deal with <code>continue</code>. The last component of the for-each construct is evalutated <i>after</i> each evaluation of the loop body."},{"owner":{"account_id":552017,"reputation":2595,"user_id":917035,"accept_rate":93,"display_name":"Singular1ty"},"score":1,"creation_date":1372721314,"post_id":17415198,"comment_id":25291511,"body_markdown":"You might want to take a look at http://blog.startifact.com/posts/older/what-is-pythonic.html in reference to wanting to translate java (or other languages) to python - don&#39;t forget to be pythonic!","body":"You might want to take a look at <a href=\"http://blog.startifact.com/posts/older/what-is-pythonic.html\" rel=\"nofollow noreferrer\">blog.startifact.com/posts/older/what-is-pythonic.html</a> in reference to wanting to translate java (or other languages) to python - don&#39;t forget to be pythonic!"}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1372724715,"creation_date":1372721194,"answer_id":17415221,"question_id":17415198,"body_markdown":"&lt;!-- language-all: lang-py --&gt;\r\n\r\nThe only `for`-loop in Python is technically a &quot;for-each&quot;, so you can use something like\r\n\r\n    for i in xrange(3, int(math.sqrt(n)), 2):  # use &#39;range&#39; in Python 3\r\n        if n % i == 0:\r\n            return False\r\n\r\nOf course, Python can do better than that:\r\n\r\n    all(n % i for i in xrange(3, int(math.sqrt(n)), 2))\r\n\r\nwould be equivalent as well (assuming there&#39;s a `return true` at the end of that Java loop). Indeed, the latter would be considered the *Pythonic* way to approach it.\r\n\r\n---\r\n\r\n**Reference:**\r\n\r\n- [`for` Statements][1]\r\n- [`xrange`][2]\r\n- [`all`][3]\r\n\r\n\r\n  [1]: http://docs.python.org/2/tutorial/controlflow.html#for-statements\r\n  [2]: http://docs.python.org/2/library/functions.html#xrange\r\n  [3]: http://docs.python.org/2/library/functions.html#all","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"\n\n<p>The only <code>for</code>-loop in Python is technically a \"for-each\", so you can use something like</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for i in xrange(3, int(math.sqrt(n)), 2):  # use 'range' in Python 3\n    if n % i == 0:\n        return False\n</code></pre>\n\n<p>Of course, Python can do better than that:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>all(n % i for i in xrange(3, int(math.sqrt(n)), 2))\n</code></pre>\n\n<p>would be equivalent as well (assuming there's a <code>return true</code> at the end of that Java loop). Indeed, the latter would be considered the <em>Pythonic</em> way to approach it.</p>\n\n<hr>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://docs.python.org/2/tutorial/controlflow.html#for-statements\"><code>for</code> Statements</a></li>\n<li><a href=\"http://docs.python.org/2/library/functions.html#xrange\"><code>xrange</code></a></li>\n<li><a href=\"http://docs.python.org/2/library/functions.html#all\"><code>all</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user149341"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1372721198,"creation_date":1372721198,"answer_id":17415222,"question_id":17415198,"body_markdown":"A direct translation would be:\r\n\r\n    for i in range(3, int(math.sqrt(n)), 2):\r\n        if n % i == 0:\r\n            return False\r\n","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"<p>A direct translation would be:</p>\n\n<pre><code>for i in range(3, int(math.sqrt(n)), 2):\n    if n % i == 0:\n        return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372721201,"creation_date":1372721201,"answer_id":17415223,"question_id":17415198,"body_markdown":"Use a basic Python `for i in range` loop:\r\n\r\n    for i in range(3, math.round(math.sqrt(x)), 2):\r\n        if (n % i == 0):\r\n            return false\r\n    ","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"<p>Use a basic Python <code>for i in range</code> loop:</p>\n\n<pre><code>for i in range(3, math.round(math.sqrt(x)), 2):\n    if (n % i == 0):\n        return false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14130,"reputation":401475,"user_id":28804,"accept_rate":74,"display_name":"mipadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372721438,"creation_date":1372721438,"answer_id":17415255,"question_id":17415198,"body_markdown":"In a Java for loop, the step (the `i += 2` part in your example) occurs at the end of the loop, just before it repeats. Translated to a while, your for loop would be equivalent to:\r\n\r\n    int i = 3;\r\n    while (i &lt; Math.sqrt(n)) {\r\n        if (n % i == 0) {\r\n            return false;\r\n        }\r\n        i += 2;\r\n    }\r\n\r\nWhich in Python is similar:\r\n\r\n    i = 3\r\n    while i &lt; math.sqrt(n):\r\n        if n % i == 0:\r\n            return False\r\n        i += 2\r\n\r\nHowever, you can make this more &quot;Pythonic&quot; and easier to read by using Python&#39;s [`xrange`](http://docs.python.org/2/library/functions.html#xrange) function, which allows you to specify a `step` parameter:\r\n\r\n    for i in xrange(3, math.sqrt(n), 2):\r\n        if n % i == 0:\r\n            return False","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"<p>In a Java for loop, the step (the <code>i += 2</code> part in your example) occurs at the end of the loop, just before it repeats. Translated to a while, your for loop would be equivalent to:</p>\n\n<pre><code>int i = 3;\nwhile (i &lt; Math.sqrt(n)) {\n    if (n % i == 0) {\n        return false;\n    }\n    i += 2;\n}\n</code></pre>\n\n<p>Which in Python is similar:</p>\n\n<pre><code>i = 3\nwhile i &lt; math.sqrt(n):\n    if n % i == 0:\n        return False\n    i += 2\n</code></pre>\n\n<p>However, you can make this more \"Pythonic\" and easier to read by using Python's <a href=\"http://docs.python.org/2/library/functions.html#xrange\" rel=\"nofollow\"><code>xrange</code></a> function, which allows you to specify a <code>step</code> parameter:</p>\n\n<pre><code>for i in xrange(3, math.sqrt(n), 2):\n    if n % i == 0:\n        return False\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19406719,"reputation":81,"user_id":14192015,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666796446,"creation_date":1666796446,"answer_id":74209948,"question_id":17415198,"body_markdown":"I get this answer from an automatic translation by AgileUML: \r\n\r\n    def op(self, n) :\r\n      result = False\r\n      i = 0\r\n      i = 3\r\n      while i &lt; math.sqrt(n) :\r\n        if n % i == 0 :\r\n          return False\r\n        else :\r\n          pass\r\n        i = (i + 2)\r\n      return True\r\n\r\nIt seems to be semantically correct?\r\n","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"<p>I get this answer from an automatic translation by AgileUML:</p>\n<pre><code>def op(self, n) :\n  result = False\n  i = 0\n  i = 3\n  while i &lt; math.sqrt(n) :\n    if n % i == 0 :\n      return False\n    else :\n      pass\n    i = (i + 2)\n  return True\n</code></pre>\n<p>It seems to be semantically correct?</p>\n"}],"owner":{"account_id":2038766,"reputation":283,"user_id":1820463,"accept_rate":75,"display_name":"Deneb A."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26887,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":17415221,"answer_count":5,"score":14,"last_activity_date":1666796446,"creation_date":1372721051,"question_id":17415198,"body_markdown":"I&#39;m writing a simple algorithm to check the primality of an integer and I&#39;m having a problem translating this Java code into Python:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    for (int i = 3; i &lt; Math.sqrt(n); i += 2) {\r\n        if (n % i == 0)\r\n            return false;\r\n    }\r\n\r\nSo, I&#39;ve been trying to use this, but I&#39;m obviously skipping the division by 3:\r\n\r\n&lt;!-- language: lang-py --&gt;\r\n\r\n    i = 3\r\n    while (i &lt; int(math.sqrt(n))):\r\n        i += 2  # where do I put this?\r\n        if (n % i == 0):\r\n            return False\r\n","title":"What is Python&#39;s equivalent of Java&#39;s standard for-loop?","body":"<p>I'm writing a simple algorithm to check the primality of an integer and I'm having a problem translating this Java code into Python:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 3; i &lt; Math.sqrt(n); i += 2) {\n    if (n % i == 0)\n        return false;\n}\n</code></pre>\n\n<p>So, I've been trying to use this, but I'm obviously skipping the division by 3:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>i = 3\nwhile (i &lt; int(math.sqrt(n))):\n    i += 2  # where do I put this?\n    if (n % i == 0):\n        return False\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1666726674,"post_id":74199275,"comment_id":131003716,"body_markdown":"Q: Why can&#39;t you run your Java code locally (e.g. in Eclipse), so you can set breakpoints and step through the code?  You need to troubleshoot exactly WHERE your code is failing to &quot;return something&quot;.  Running in a debugger is arguably the fastest way to accomplish this.  Just because the DB is in the cloud ... shouldn&#39;t mean you can&#39;t debug Java locally.","body":"Q: Why can&#39;t you run your Java code locally (e.g. in Eclipse), so you can set breakpoints and step through the code?  You need to troubleshoot exactly WHERE your code is failing to &quot;return something&quot;.  Running in a debugger is arguably the fastest way to accomplish this.  Just because the DB is in the cloud ... shouldn&#39;t mean you can&#39;t debug Java locally."},{"owner":{"account_id":26731243,"reputation":1,"user_id":20333538,"display_name":"J. Wong"},"score":0,"creation_date":1666732742,"post_id":74199275,"comment_id":131005423,"body_markdown":"Because the DB is in the cloud, it isn&#39;t accessible locally (security, ya know). I can see it through the AWS Console, but the whole setup to enable that isn&#39;t available to me locally.","body":"Because the DB is in the cloud, it isn&#39;t accessible locally (security, ya know). I can see it through the AWS Console, but the whole setup to enable that isn&#39;t available to me locally."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1666733312,"post_id":74199275,"comment_id":131005554,"body_markdown":"You should be able to connect like this: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/CodeSamples.Java.html.  Alternatively, you should be able to use Cloud9: https://docs.aws.amazon.com/cloud9/latest/user-guide/sample-java.html.  As a last resort, you can put judicious &quot;println()&quot; or &quot;log()&quot; statements in your code.  But you MUST be able to trace the code path, in order to determine where the problem lies.","body":"You should be able to connect like this: <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/CodeSamples.Java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a>.  Alternatively, you should be able to use Cloud9: <a href=\"https://docs.aws.amazon.com/cloud9/latest/user-guide/sample-java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cloud9/latest/user-guide/sample-java.htm&zwnj;&#8203;l</a>.  As a last resort, you can put judicious &quot;println()&quot; or &quot;log()&quot; statements in your code.  But you MUST be able to trace the code path, in order to determine where the problem lies."}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666796136,"creation_date":1666796136,"answer_id":74209877,"question_id":74199275,"body_markdown":"Scan is lazily loaded by default. Try setting the scan to EAGER_LOADING so that the data is returned on execution. \r\n\r\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperConfig.PaginationLoadingStrategy.html","title":"DynamoDB scan seems to not do anything","body":"<p>Scan is lazily loaded by default. Try setting the scan to EAGER_LOADING so that the data is returned on execution.</p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperConfig.PaginationLoadingStrategy.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperConfig.PaginationLoadingStrategy.html</a></p>\n"}],"owner":{"account_id":26731243,"reputation":1,"user_id":20333538,"display_name":"J. Wong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666796136,"creation_date":1666726285,"question_id":74199275,"body_markdown":"Basically, trying to scan a DynamoDB table to correct a data problem (which is why it is a scan):\r\n\r\n```\r\nvar tableName = dynamoDbMapperProvider.getTableName(DynamoSnapshot.class, address);\r\nlog(&quot;Starting re-encryption for table &quot; + tableName);\r\nint migratedSnapshotsCount = 0;\r\nfor (var snapshot : dynamoDBMapper.scan(DynamoSnapshot.class, snapshotScanExpression)) {\r\n    if (snapshot.getEncryptedKey() != null) {\r\n        try {\r\n            encryptionService.decrypt(\r\n                EnvelopeMessage.of(snapshot.getBinaryData(), snapshot.getEncryptedKey(), snapshot.getCmkId())\r\n            );\r\n            // decryption okay so just set Cmk to configured value as a side-effect...\r\n            log(&quot;Updating CmkId for &quot; + snapshot.getRootId());\r\n            dynamoDBMapper.save(snapshot.withCmkId(cmkId));\r\n        } catch (EncryptDecryptException ex) {\r\n            if (ex.isKmsError()) {\r\n                // ... reencrypt and log...\r\n                migratedSnapshotsCount++;\r\n            }\r\n        }\r\n    }\r\n}\r\nlog(\r\n    &quot;Re-encrypt encrypted key process completed for table &quot; + tableName + &quot;, &quot; + migratedSnapshotsCount +\r\n        &quot; Snapshots migrated and re-encrypted.&quot;\r\n);\r\n\r\n```\r\n\r\n\r\nThis is running in the cloud so I cannot debug this locally. I would expect at least 2 log messages, but we&#39;re only getting the 1st from before the for-each loop and then nothing, no exceptions, just nothing. How is that even possible?","title":"DynamoDB scan seems to not do anything","body":"<p>Basically, trying to scan a DynamoDB table to correct a data problem (which is why it is a scan):</p>\n<pre><code>var tableName = dynamoDbMapperProvider.getTableName(DynamoSnapshot.class, address);\nlog(&quot;Starting re-encryption for table &quot; + tableName);\nint migratedSnapshotsCount = 0;\nfor (var snapshot : dynamoDBMapper.scan(DynamoSnapshot.class, snapshotScanExpression)) {\n    if (snapshot.getEncryptedKey() != null) {\n        try {\n            encryptionService.decrypt(\n                EnvelopeMessage.of(snapshot.getBinaryData(), snapshot.getEncryptedKey(), snapshot.getCmkId())\n            );\n            // decryption okay so just set Cmk to configured value as a side-effect...\n            log(&quot;Updating CmkId for &quot; + snapshot.getRootId());\n            dynamoDBMapper.save(snapshot.withCmkId(cmkId));\n        } catch (EncryptDecryptException ex) {\n            if (ex.isKmsError()) {\n                // ... reencrypt and log...\n                migratedSnapshotsCount++;\n            }\n        }\n    }\n}\nlog(\n    &quot;Re-encrypt encrypted key process completed for table &quot; + tableName + &quot;, &quot; + migratedSnapshotsCount +\n        &quot; Snapshots migrated and re-encrypted.&quot;\n);\n\n</code></pre>\n<p>This is running in the cloud so I cannot debug this locally. I would expect at least 2 log messages, but we're only getting the 1st from before the for-each loop and then nothing, no exceptions, just nothing. How is that even possible?</p>\n"},{"tags":["java","linux","process"],"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1260737791,"post_id":1897655,"comment_id":1800336,"body_markdown":"String commend = &quot;some_program&quot; is better in this case","body":"String commend = &quot;some_program&quot; is better in this case"},{"owner":{"account_id":15748,"reputation":2526,"user_id":33599,"accept_rate":58,"display_name":"Pawka"},"score":0,"creation_date":1260737932,"post_id":1897655,"comment_id":1800344,"body_markdown":"It is not the real code. Just a snippet to describe the problem.","body":"It is not the real code. Just a snippet to describe the problem."}],"answers":[{"tags":[],"owner":{"account_id":63320,"reputation":7119,"user_id":187492,"accept_rate":86,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260737296,"creation_date":1260737296,"answer_id":1897686,"question_id":1897655,"body_markdown":"I tried (and failed) to do this a while back. I ended up wrapping my command in a shell script that dumped the pid to a file. Not the best solution but it got me past this hurdle.","title":"Get subprocess id in Java","body":"<p>I tried (and failed) to do this a while back. I ended up wrapping my command in a shell script that dumped the pid to a file. Not the best solution but it got me past this hurdle.</p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260737299,"creation_date":1260737299,"answer_id":1897687,"question_id":1897655,"body_markdown":"Well there is no documented way to do this, but it happens that the Process implementation class is UNIXProcess, and it has a pid field.  So you could use reflection to access this private field to get the ID.  Googling around you will find other tricks of calling another shell to get ps output and that kind of thing.  Nothing easy.","title":"Get subprocess id in Java","body":"<p>Well there is no documented way to do this, but it happens that the Process implementation class is UNIXProcess, and it has a pid field.  So you could use reflection to access this private field to get the ID.  Googling around you will find other tricks of calling another shell to get ps output and that kind of thing.  Nothing easy.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1260737340,"creation_date":1260737340,"answer_id":1897692,"question_id":1897655,"body_markdown":"There is still no public API for this (see &lt;https://bugs.java.com/bugdatabase/view_bug?bug_id=4244896&gt;) but there are workarounds.\r\n\r\nA first workaround would be to use an external program like `ps` and to call it using `Runtime.exec()` to get the pid :)\r\n\r\nAnother one is based on the fact that the `java.lang.Process` class is abstract and that you actually get a concrete subclass depending on your platform. On Linux, you&#39;ll get a `java.lang.UnixProcess` which has a private field `int pid`. Using reflection, you can easily get the value of this field:\r\n\r\n    Field f = p.getClass().getDeclaredField(&quot;pid&quot;);\r\n    f.setAccessible(true);\r\n    System.out.println( f.get( p ) );\r\n\r\n","title":"Get subprocess id in Java","body":"<p>There is still no public API for this (see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4244896\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4244896</a>) but there are workarounds.</p>\n<p>A first workaround would be to use an external program like <code>ps</code> and to call it using <code>Runtime.exec()</code> to get the pid :)</p>\n<p>Another one is based on the fact that the <code>java.lang.Process</code> class is abstract and that you actually get a concrete subclass depending on your platform. On Linux, you'll get a <code>java.lang.UnixProcess</code> which has a private field <code>int pid</code>. Using reflection, you can easily get the value of this field:</p>\n<pre><code>Field f = p.getClass().getDeclaredField(&quot;pid&quot;);\nf.setAccessible(true);\nSystem.out.println( f.get( p ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260737357,"creation_date":1260737357,"answer_id":1897693,"question_id":1897655,"body_markdown":"From &lt;a href=&quot;http://blog.igorminar.com/2007/03/how-java-application-can-discover-its.html&quot;&gt;here&lt;/a&gt;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        byte[] bo = new byte[100];\r\n        String[] cmd = {&quot;bash&quot;, &quot;-c&quot;, &quot;echo $PPID&quot;};\r\n        Process p = Runtime.getRuntime().exec(cmd);\r\n        p.getInputStream().read(bo);\r\n        System.out.println(new String(bo));\r\n    }","title":"Get subprocess id in Java","body":"<p>From <a href=\"http://blog.igorminar.com/2007/03/how-java-application-can-discover-its.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    byte[] bo = new byte[100];\n    String[] cmd = {\"bash\", \"-c\", \"echo $PPID\"};\n    Process p = Runtime.getRuntime().exec(cmd);\n    p.getInputStream().read(bo);\n    System.out.println(new String(bo));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666712523,"creation_date":1666712523,"answer_id":74196732,"question_id":1897655,"body_markdown":"Given there is no public API to get the `pid` till now,  \r\n\r\nWe can also apply the following trick obtain the `pid`:  \r\nIN CASE, YOU USE THE **[Liberica JDK][1]**, if not, you can check if you can use the same idea or not:\r\n\r\n\r\n\r\n\r\n    String pid = process.toString().substring(12, process.toString().indexOf(&#39;,&#39;));\r\n\r\n\r\n\r\n\r\nThe idea behind the above code, after checking the `toString()` impl inside `ProcessImpl` class.\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringBuilder(&quot;Process[pid=&quot;).append(pid)\r\n                .append(&quot;, exitValue=&quot;).append(hasExited ? exitcode : &quot;\\&quot;not exited\\&quot;&quot;)\r\n                .append(&quot;]&quot;).toString();\r\n    }\r\n\r\n\r\nCons:\r\n- This  way depend on impl!\r\n- When you change your JDK, you may change the parser to fetch the pid\r\n\r\n\r\n  [1]: https://bell-sw.com/pages/downloads/#/java-11-lts","title":"Get subprocess id in Java","body":"<p>Given there is no public API to get the <code>pid</code> till now,</p>\n<p>We can also apply the following trick obtain the <code>pid</code>:<br />\nIN CASE, YOU USE THE <strong><a href=\"https://bell-sw.com/pages/downloads/#/java-11-lts\" rel=\"nofollow noreferrer\">Liberica JDK</a></strong>, if not, you can check if you can use the same idea or not:</p>\n<pre><code>String pid = process.toString().substring(12, process.toString().indexOf(','));\n</code></pre>\n<p>The idea behind the above code, after checking the <code>toString()</code> impl inside <code>ProcessImpl</code> class.</p>\n<pre><code>@Override\npublic String toString() {\n    return new StringBuilder(&quot;Process[pid=&quot;).append(pid)\n            .append(&quot;, exitValue=&quot;).append(hasExited ? exitcode : &quot;\\&quot;not exited\\&quot;&quot;)\n            .append(&quot;]&quot;).toString();\n}\n</code></pre>\n<p>Cons:</p>\n<ul>\n<li>This  way depend on impl!</li>\n<li>When you change your JDK, you may change the parser to fetch the pid</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666795773,"creation_date":1666795773,"answer_id":74209784,"question_id":1897655,"body_markdown":"Using `Java 9`, now you can fetch the pid directly as it is defined in the Process API interface.\r\n\r\n\r\n    process.pid();\r\n\r\n\r\n\r\nThe main code of the Process interface  \r\n\r\n\r\n    /**\r\n     * Returns the native process ID of the process.\r\n     * The native process ID is an identification number that the operating\r\n     * system assigns to the process.\r\n     *\r\n     * @implSpec\r\n     * The implementation of this method returns the process id as:\r\n     * {@link #toHandle toHandle().pid()}.\r\n     *\r\n     * @return the native process id of the process\r\n     * @throws UnsupportedOperationException if the Process implementation\r\n     *         does not support this operation\r\n     * @since 9\r\n     */\r\n    public long pid() {\r\n        return toHandle().pid();\r\n    }\r\n\r\n\r\n","title":"Get subprocess id in Java","body":"<p>Using <code>Java 9</code>, now you can fetch the pid directly as it is defined in the Process API interface.</p>\n<pre><code>process.pid();\n</code></pre>\n<p>The main code of the Process interface</p>\n<pre><code>/**\n * Returns the native process ID of the process.\n * The native process ID is an identification number that the operating\n * system assigns to the process.\n *\n * @implSpec\n * The implementation of this method returns the process id as:\n * {@link #toHandle toHandle().pid()}.\n *\n * @return the native process id of the process\n * @throws UnsupportedOperationException if the Process implementation\n *         does not support this operation\n * @since 9\n */\npublic long pid() {\n    return toHandle().pid();\n}\n</code></pre>\n"}],"owner":{"account_id":15748,"reputation":2526,"user_id":33599,"accept_rate":58,"display_name":"Pawka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6204,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":1897692,"answer_count":6,"score":15,"last_activity_date":1666795773,"creation_date":1260736407,"question_id":1897655,"body_markdown":"I&#39;m creating subprocesses in this way:\r\n\r\n\r\n\r\n    String command = new String(&quot;some_program&quot;);\r\n\r\n    Process p = Runtime.getRuntime().exec(command);\r\n\r\n\r\n\r\nHow I can get that subprocess id?\r\n\r\n\r\n\r\nP.S. I&#39;m working on Linux.","title":"Get subprocess id in Java","body":"<p>I'm creating subprocesses in this way:</p>\n\n<pre><code>String command = new String(\"some_program\");\n\nProcess p = Runtime.getRuntime().exec(command);\n</code></pre>\n\n<p>How I can get that subprocess id?</p>\n\n<p>P.S. I'm working on Linux.</p>\n"},{"tags":["java","android","canvas"],"answers":[{"tags":[],"owner":{"account_id":917138,"reputation":2317,"user_id":949700,"accept_rate":57,"display_name":"jpalm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318696146,"creation_date":1318696146,"answer_id":7779095,"question_id":7778335,"body_markdown":"It sounds like you&#39;re looking to create tooltip text. This isn&#39;t built-in to the View classes in android, so you&#39;ll have to create them or use a library like [GreenDroid][1]. This has already been addressed, see the following:\r\n\r\n[https://stackoverflow.com/questions/6039837/android-how-to-make-tooltip-for-textview][2]\r\n\r\n[https://stackoverflow.com/questions/4300779/android-tooltip][3]\r\n\r\n\r\n  [1]: https://github.com/cyrilmottier/GreenDroid\r\n  [2]: https://stackoverflow.com/questions/6039837/android-how-to-make-tooltip-for-textview\r\n  [3]: https://stackoverflow.com/questions/4300779/android-tooltip","title":"Display balloon tip in Android activity","body":"<p>It sounds like you're looking to create tooltip text. This isn't built-in to the View classes in android, so you'll have to create them or use a library like <a href=\"https://github.com/cyrilmottier/GreenDroid\" rel=\"nofollow noreferrer\">GreenDroid</a>. This has already been addressed, see the following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6039837/android-how-to-make-tooltip-for-textview\">android how to make Tooltip for TextView</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4300779/android-tooltip\">Android &quot;Tooltip&quot;</a></p>\n"}],"owner":{"account_id":461758,"reputation":1808,"user_id":863678,"accept_rate":75,"display_name":"Wesley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7779095,"answer_count":1,"score":2,"last_activity_date":1666795732,"creation_date":1318687983,"question_id":7778335,"body_markdown":"I&#39;m curious to implement a balloon tip to show info of different UI elements in an activity. How can I achieve this? On some little effort put to this (correct me if I&#39;m wrong please) using something like `canvas rectF`???","title":"Display balloon tip in Android activity","body":"<p>I'm curious to implement a balloon tip to show info of different UI elements in an activity. How can I achieve this? On some little effort put to this (correct me if I'm wrong please) using something like <code>canvas rectF</code>???</p>\n"},{"tags":["java","oop","file-handling","objectinputstream","objectoutputstream"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1666796341,"post_id":74209761,"comment_id":131021457,"body_markdown":"Any particular reason why you override `writeStreamHeader` ? And please read about Java naming conventions, the code is a pain to read :-)","body":"Any particular reason why you override <code>writeStreamHeader</code> ? And please read about Java naming conventions, the code is a pain to read :-)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666799831,"post_id":74209761,"comment_id":131022876,"body_markdown":"Err... you&#39;ve overridden `writeStreamHeader()` without providing an implementation yet you&#39;re surprised that the header is corrupt and giving you an exception..?","body":"Err... you&#39;ve overridden <code>writeStreamHeader()</code> without providing an implementation yet you&#39;re surprised that the header is corrupt and giving you an exception..?"}],"owner":{"account_id":26730686,"reputation":1,"user_id":20333088,"display_name":"Magnus Bane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666795694,"creation_date":1666795694,"question_id":74209761,"body_markdown":"I am making a program where user inputs his/her info and it is written in the file in binary form and after that we ask for a name whose info we want to get from the file. In that I take all the inserted objects into a arraylist and then match the name with respective name corresponding to the objects\r\n\r\nthis is my code\r\n\r\n```\r\nimport java.util.*;\r\n\r\nimport java.io.*;\r\n\r\nclass MyObjectOutputStream extends ObjectOutputStream {\r\n\r\n    public MyObjectOutputStream(OutputStream os) throws IOException {\r\n        super(os);\r\n      }\r\n\r\n    @Override\r\n    protected void writeStreamHeader() {}\r\n}\r\n\r\ninterface IIITN {\r\n    final String InstituteName = &quot;IIIT Nagpur&quot;;\r\n}\r\n\r\nclass Student implements Serializable\r\n{\r\n    String name;\r\n    String RollNo;\r\n    String branch;\r\n    String gender;\r\n    String Degree;\r\n\r\n    Student(String name, String RollNo, String branch, String gender, String Degree) {\r\n\r\n        this.name = name;\r\n        this.RollNo = RollNo;\r\n        this.branch = branch;\r\n        this.gender = gender;\r\n        this.Degree = Degree;\r\n    }\r\n}\r\n\r\nclass CSE implements IIITN {\r\n    String name;\r\n\r\n    public void input(File CSEStudent) throws IOException {\r\n        Scanner sc = new Scanner(System.in);\r\n        String name = sc.next();\r\n        String RollNo = sc.next();\r\n        String branch = sc.next();\r\n        String gender = sc.next();\r\n        String Degree = sc.next();\r\n        Student s1 = new Student(name, RollNo, branch, gender, Degree);\r\n        FileOutputStream fs = new FileOutputStream(CSEStudent,true);\r\n        MyObjectOutputStream obj = new MyObjectOutputStream(fs);\r\n        obj.writeObject(s1);\r\n        // obj.close();\r\n    }\r\n\r\n    public void display(File f) throws IOException {\r\n        FileInputStream CS = new FileInputStream(f);\r\n        \r\n        // ObjectInputStream obj = new ObjectInputStream(CS);\r\n        // ArrayList&lt;Student&gt; objectList = new ArrayList&lt;&gt;();\r\n        Student s = null;\r\n        boolean isExist = false;\r\n        ObjectInputStream obj = new ObjectInputStream(CS);\r\n        while (!isExist) {\r\n            try {\r\n                // ObjectInputStream obj = new ObjectInputStream(CS);\r\n                s = (Student) obj.readObject();\r\n                if (s != null) {\r\n                    System.out.println(s.name);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println();\r\n                isExist = true;\r\n               \r\n            }\r\n        }\r\n    }\r\n\r\n    public void setname(File f) throws IOException{\r\n        System.out.println(&quot;Enter the name of student&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        this.name = sc.next();\r\n        ArrayList&lt;Student&gt; obj = new ArrayList&lt;&gt;();\r\n        display(f);\r\n    //     for (Student student : obj) {\r\n    //         System.out.println(student.name);\r\n    //     }\r\n    //     System.out.println(&quot;Enter&quot;);\r\n    //     for (int i = 0; i &lt; obj.size(); i++) {\r\n    //        if((obj.get(i)).name == this.name) {\r\n    //         System.out.println((obj.get(i)).name);\r\n    //         System.out.println((obj.get(i)).RollNo);\r\n    //        } else {\r\n    //         System.out.println(&quot;Not Found&quot;);\r\n    //        }\r\n    //    }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException{\r\n        CSE c1 = new CSE();\r\n        File f = new File(&quot;./CSE.txt&quot;);\r\n        c1.input(f);\r\n        c1.input(f);\r\n        c1.setname(f);\r\n    }\r\n}\r\n```\r\n\r\nIt is taking the info of the student and is writing it in the file but when it comes to read from the file it gives me this error\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: 73720007\r\n        at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:987)\r\n        at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:414)\r\n        at CSE.display(Main.java:61)\r\n        at CSE.setname(Main.java:82)\r\n        at Main.main(Main.java:187)\r\n```","title":"writing and reading object in a binary file","body":"<p>I am making a program where user inputs his/her info and it is written in the file in binary form and after that we ask for a name whose info we want to get from the file. In that I take all the inserted objects into a arraylist and then match the name with respective name corresponding to the objects</p>\n<p>this is my code</p>\n<pre><code>import java.util.*;\n\nimport java.io.*;\n\nclass MyObjectOutputStream extends ObjectOutputStream {\n\n    public MyObjectOutputStream(OutputStream os) throws IOException {\n        super(os);\n      }\n\n    @Override\n    protected void writeStreamHeader() {}\n}\n\ninterface IIITN {\n    final String InstituteName = &quot;IIIT Nagpur&quot;;\n}\n\nclass Student implements Serializable\n{\n    String name;\n    String RollNo;\n    String branch;\n    String gender;\n    String Degree;\n\n    Student(String name, String RollNo, String branch, String gender, String Degree) {\n\n        this.name = name;\n        this.RollNo = RollNo;\n        this.branch = branch;\n        this.gender = gender;\n        this.Degree = Degree;\n    }\n}\n\nclass CSE implements IIITN {\n    String name;\n\n    public void input(File CSEStudent) throws IOException {\n        Scanner sc = new Scanner(System.in);\n        String name = sc.next();\n        String RollNo = sc.next();\n        String branch = sc.next();\n        String gender = sc.next();\n        String Degree = sc.next();\n        Student s1 = new Student(name, RollNo, branch, gender, Degree);\n        FileOutputStream fs = new FileOutputStream(CSEStudent,true);\n        MyObjectOutputStream obj = new MyObjectOutputStream(fs);\n        obj.writeObject(s1);\n        // obj.close();\n    }\n\n    public void display(File f) throws IOException {\n        FileInputStream CS = new FileInputStream(f);\n        \n        // ObjectInputStream obj = new ObjectInputStream(CS);\n        // ArrayList&lt;Student&gt; objectList = new ArrayList&lt;&gt;();\n        Student s = null;\n        boolean isExist = false;\n        ObjectInputStream obj = new ObjectInputStream(CS);\n        while (!isExist) {\n            try {\n                // ObjectInputStream obj = new ObjectInputStream(CS);\n                s = (Student) obj.readObject();\n                if (s != null) {\n                    System.out.println(s.name);\n                }\n            } catch (Exception e) {\n                System.out.println();\n                isExist = true;\n               \n            }\n        }\n    }\n\n    public void setname(File f) throws IOException{\n        System.out.println(&quot;Enter the name of student&quot;);\n        Scanner sc = new Scanner(System.in);\n        this.name = sc.next();\n        ArrayList&lt;Student&gt; obj = new ArrayList&lt;&gt;();\n        display(f);\n    //     for (Student student : obj) {\n    //         System.out.println(student.name);\n    //     }\n    //     System.out.println(&quot;Enter&quot;);\n    //     for (int i = 0; i &lt; obj.size(); i++) {\n    //        if((obj.get(i)).name == this.name) {\n    //         System.out.println((obj.get(i)).name);\n    //         System.out.println((obj.get(i)).RollNo);\n    //        } else {\n    //         System.out.println(&quot;Not Found&quot;);\n    //        }\n    //    }\n    }\n}\n\n\n\npublic class Main {\n    public static void main(String[] args) throws IOException{\n        CSE c1 = new CSE();\n        File f = new File(&quot;./CSE.txt&quot;);\n        c1.input(f);\n        c1.input(f);\n        c1.setname(f);\n    }\n}\n</code></pre>\n<p>It is taking the info of the student and is writing it in the file but when it comes to read from the file it gives me this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: 73720007\n        at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:987)\n        at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:414)\n        at CSE.display(Main.java:61)\n        at CSE.setname(Main.java:82)\n        at Main.main(Main.java:187)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1666695204,"post_id":74192137,"comment_id":130993010,"body_markdown":"I cannot see what is wrong in the code... but I have a warning for you. Spring JPA is full of surprises. When you call `Repository.save()` with an object that has an id (and maybe which is not attached to the entity manager), Spring JPA will first do a select to figure out if it needs to do an insert or update. Depending on your performance requirements that might not be great. In your test there are 2 places where the entity will be loaded, as you&#39;ve found, but it&#39;s odd that spring complains that it cannot find the object during `save` as that should trigger an insert statement.","body":"I cannot see what is wrong in the code... but I have a warning for you. Spring JPA is full of surprises. When you call <code>Repository.save()</code> with an object that has an id (and maybe which is not attached to the entity manager), Spring JPA will first do a select to figure out if it needs to do an insert or update. Depending on your performance requirements that might not be great. In your test there are 2 places where the entity will be loaded, as you&#39;ve found, but it&#39;s odd that spring complains that it cannot find the object during <code>save</code> as that should trigger an insert statement."}],"answers":[{"tags":[],"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666795529,"creation_date":1666708732,"answer_id":74195853,"question_id":74192137,"body_markdown":"The cause is that you save the parent object only (which is absolutely correct and fine) but still need to explain JPA that the operation should be propagated i.e.\r\n\r\n```java\r\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n@JoinColumn(name = &quot;cart_id&quot;)\r\nprivate List&lt;Item&gt; items;\r\n```\r\n\r\nAs minor improvements I would suggest to put the UUID generation into constructors and establish the relation via the dedicated method i.e.\r\n\r\n```java\r\nfinal var cart = new Cart(&quot;cart&quot;);\r\ncart.addItem(new Item(&quot;item&quot;));\r\n```\r\n\r\nand probably consider using `em.persist()` instead of `repository.save()` as it makes a `select` request first in case of using uuids as @Augusto mentioned","title":"JpaObjectRetrievalFailureException when saving entity with one-to-many and client-assigned ids","body":"<p>The cause is that you save the parent object only (which is absolutely correct and fine) but still need to explain JPA that the operation should be propagated i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n@JoinColumn(name = &quot;cart_id&quot;)\nprivate List&lt;Item&gt; items;\n</code></pre>\n<p>As minor improvements I would suggest to put the UUID generation into constructors and establish the relation via the dedicated method i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var cart = new Cart(&quot;cart&quot;);\ncart.addItem(new Item(&quot;item&quot;));\n</code></pre>\n<p>and probably consider using <code>em.persist()</code> instead of <code>repository.save()</code> as it makes a <code>select</code> request first in case of using uuids as @Augusto mentioned</p>\n"}],"owner":{"account_id":5295297,"reputation":580,"user_id":4226631,"display_name":"Lo&#239;c"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74195853,"answer_count":1,"score":0,"last_activity_date":1666795529,"creation_date":1666691333,"question_id":74192137,"body_markdown":"In a simple Spring Boot Application, I&#39;m facing with a `JpaObjectRetrievalFailureException` when I&#39;m trying to save an entity with one-to-many association and client-assigned ids.\r\n\r\nPlease take a look on these entities and on this simple repository:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;cart&quot;)\r\npublic class Cart {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;cart_id&quot;)\r\n    private List&lt;Item&gt; items;\r\n\r\n    // constructors, getters, setters, equals and hashCode ommitted\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;item&quot;)\r\npublic class Item {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    // constructors, getters, setters, equals and hashCode ommitted\r\n}\r\n\r\npublic interface CartRepository extends JpaRepository&lt;Cart, UUID&gt; {\r\n}\r\n```\r\n\r\nI wrote this test:\r\n```\r\n@DataJpaTest\r\nclass CartRepositoryTest {\r\n\r\n    @Autowired\r\n    private CartRepository cartRepository;\r\n\r\n    @Test\r\n    void should_save_cart() {\r\n        // GIVEN\r\n        final var cart = new Cart(UUID.randomUUID(), &quot;cart&quot;);\r\n        final var item = new Item(UUID.randomUUID(), &quot;item&quot;);\r\n        cart.setItems(List.of(item));\r\n\r\n        // WHEN\r\n        final var saved = cartRepository.save(cart);\r\n\r\n        // THEN\r\n        final var fetched = cartRepository.findById(saved.id());\r\n        assertThat(fetched).isPresent();\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the test, call to `cartRepository.save(cart)` fails with:\r\n```\r\nUnable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356\r\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356\r\n\tat app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:379)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy105.save(Unknown Source)\r\n\tat app//com.example.testjpaonetomany.repository.CartRepositoryTest.should_save_cart(CartRepositoryTest.java:28)\r\n```\r\n\r\nIf I modify my entities by adding `@GeneratedValue` for ids, and in my test, I replace `UUID.randomUUID()` by `null` to delegate to Hibernate the ID generation, the test passes.\r\n\r\nHow to deal with client-generated ids? \r\n","title":"JpaObjectRetrievalFailureException when saving entity with one-to-many and client-assigned ids","body":"<p>In a simple Spring Boot Application, I'm facing with a <code>JpaObjectRetrievalFailureException</code> when I'm trying to save an entity with one-to-many association and client-assigned ids.</p>\n<p>Please take a look on these entities and on this simple repository:</p>\n<pre><code>@Entity\n@Table(name = &quot;cart&quot;)\npublic class Cart {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany\n    @JoinColumn(name = &quot;cart_id&quot;)\n    private List&lt;Item&gt; items;\n\n    // constructors, getters, setters, equals and hashCode ommitted\n}\n\n@Entity\n@Table(name = &quot;item&quot;)\npublic class Item {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    // constructors, getters, setters, equals and hashCode ommitted\n}\n\npublic interface CartRepository extends JpaRepository&lt;Cart, UUID&gt; {\n}\n</code></pre>\n<p>I wrote this test:</p>\n<pre><code>@DataJpaTest\nclass CartRepositoryTest {\n\n    @Autowired\n    private CartRepository cartRepository;\n\n    @Test\n    void should_save_cart() {\n        // GIVEN\n        final var cart = new Cart(UUID.randomUUID(), &quot;cart&quot;);\n        final var item = new Item(UUID.randomUUID(), &quot;item&quot;);\n        cart.setItems(List.of(item));\n\n        // WHEN\n        final var saved = cartRepository.save(cart);\n\n        // THEN\n        final var fetched = cartRepository.findById(saved.id());\n        assertThat(fetched).isPresent();\n    }\n}\n</code></pre>\n<p>When I run the test, call to <code>cartRepository.save(cart)</code> fails with:</p>\n<pre><code>Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.example.testjpaonetomany.domain.Item with id f5658508-f3d0-4d9b-a1f0-17b614753356\n    at app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:379)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy105.save(Unknown Source)\n    at app//com.example.testjpaonetomany.repository.CartRepositoryTest.should_save_cart(CartRepositoryTest.java:28)\n</code></pre>\n<p>If I modify my entities by adding <code>@GeneratedValue</code> for ids, and in my test, I replace <code>UUID.randomUUID()</code> by <code>null</code> to delegate to Hibernate the ID generation, the test passes.</p>\n<p>How to deal with client-generated ids?</p>\n"},{"tags":["java","android","camera","android-camera2"],"comments":[{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1546181153,"post_id":53950457,"comment_id":94794543,"body_markdown":"Your device (or is it the *emulator*?), albeit running Android Oreo, has a LEGACY camera. Which means, it only pretends to provide **camera2** API. The [wrapper](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/camera2/legacy/) works reasonably well in standard scenarios, but cannot be used for tricky ones. You can try to work with the *deprecated* Camera API directly to achieve your goals.","body":"Your device (or is it the <i>emulator</i>?), albeit running Android Oreo, has a LEGACY camera. Which means, it only pretends to provide <b>camera2</b> API. The <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/hardware/camera2/legacy/\" rel=\"nofollow noreferrer\">wrapper</a> works reasonably well in standard scenarios, but cannot be used for tricky ones. You can try to work with the <i>deprecated</i> Camera API directly to achieve your goals."}],"answers":[{"tags":[],"owner":{"account_id":10606447,"reputation":324,"user_id":7811661,"display_name":"Yudi karma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666795482,"creation_date":1546595639,"answer_id":54036560,"question_id":53950457,"body_markdown":"I have same issue with camera2 Api in second time capture image. That problem cause you not close image `image.close` in image reader listener after get bytes;\r\n\r\nI hope this help ","title":"setPreviewTexture failed when taking second photo with Camera2","body":"<p>I have same issue with camera2 Api in second time capture image. That problem cause you not close image <code>image.close</code> in image reader listener after get bytes;</p>\n<p>I hope this help</p>\n"}],"owner":{"account_id":5823851,"reputation":41,"user_id":4590965,"display_name":"Yuro8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666795482,"creation_date":1545942125,"question_id":53950457,"body_markdown":"I&#39;m trying to configure a camera compatibility without preview but after taking second photo the app crashes with exception:\r\n \r\n&gt;2018-12-27 14:36:20.392 12389-12977/com.example.android.braillefeeder E/RequestThread-0: Received device exception during capture call: \r\n    java.io.IOException: setPreviewTexture failed\r\n        at android.hardware.Camera.setPreviewTexture(Native Method)\r\n        at android.hardware.camera2.legacy.RequestThreadManager.doJpegCapturePrepare(RequestThreadManager.java:298)\r\n        at android.hardware.camera2.legacy.RequestThreadManager.-wrap1(Unknown Source:0)\r\n        at android.hardware.camera2.legacy.RequestThreadManager$5.handleMessage(RequestThreadManager.java:830)\r\n        at android.os.Handler.dispatchMessage(Handler.java:101)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.os.HandlerThread.run(HandlerThread.java:65)\r\n\r\nI have this code:\r\n\r\n\r\nI&#39;m targeting for 28 SDK version. I thought the problem may have something with thread so I tried to initialize thread in main but with no success. \r\n\r\n    public class CameraService {\r\n\r\n    // Size of taken photo\r\n    private static final int IMAGE_WIDTH = 1280;\r\n    private static final int IMAGE_HEIGHT = 960;\r\n\r\n    private CameraDevice mCameraDevice;\r\n    private CameraCaptureSession mCameraCaptureSession;\r\n\r\n    private HandlerThread backgroundThread;\r\n    private Handler backgroundHandler;\r\n\r\n    private ImageReader mImageReader;\r\n\r\n    private CameraService() {\r\n    }\r\n\r\n    private static class InstanceHolder {\r\n        private static CameraService sCameraService = new CameraService();\r\n    }\r\n\r\n    public static CameraService getInstance() {\r\n        return InstanceHolder.sCameraService;\r\n    }\r\n\r\n    public void initializeCamera(Context context,\r\n                                 ImageReader.OnImageAvailableListener onImageAvailableListener) {\r\n\r\n        CameraManager cameraManager = (CameraManager) context.getSystemService(CAMERA_SERVICE);\r\n        String[] camIds = {};\r\n        try {\r\n            camIds = cameraManager.getCameraIdList();\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if( camIds.length &lt; 1) {\r\n            Log.e(&quot;CameraService&quot;, &quot;Camera not available.&quot;);\r\n            return;\r\n        }\r\n\r\n        startBackgroundThread();\r\n\r\n        mImageReader = ImageReader.newInstance(IMAGE_WIDTH, IMAGE_HEIGHT, ImageFormat.JPEG, 2);\r\n        mImageReader.setOnImageAvailableListener(onImageAvailableListener, backgroundHandler);\r\n\r\n        try {\r\n            cameraManager.openCamera(camIds[0], mStateCallback, backgroundHandler);\r\n        } catch (SecurityException e) {\r\n            e.printStackTrace();\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void startBackgroundThread() {\r\n        backgroundThread = new HandlerThread(&quot;CameraBackground&quot;);\r\n        backgroundThread.start();\r\n        backgroundHandler = new Handler(backgroundThread.getLooper());\r\n    }\r\n\r\n    private void stopBackgroundThread() {\r\n        backgroundThread.quitSafely();\r\n        try {\r\n            backgroundThread.join();\r\n            backgroundThread = null;\r\n            backgroundHandler = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private final CameraDevice.StateCallback mStateCallback = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(@NonNull CameraDevice cameraDevice) {\r\n            mCameraDevice = cameraDevice;\r\n        }\r\n\r\n        @Override\r\n        public void onDisconnected(@NonNull CameraDevice cameraDevice) {\r\n            cameraDevice.close();\r\n            mCameraDevice = null;\r\n        }\r\n\r\n        @Override\r\n        public void onError(@NonNull CameraDevice cameraDevice, int i) {\r\n            cameraDevice.close();\r\n            mCameraDevice = null;\r\n        }\r\n\r\n        @Override\r\n        public void onClosed(@NonNull CameraDevice camera) {\r\n            mCameraDevice = null;\r\n        }\r\n    };\r\n\r\n    public void takePicture() {\r\n        Log.d(&quot;CameraService&quot;, &quot;takePicture()&quot;);\r\n        if( mCameraDevice == null) {\r\n            Log.d(&quot;CameraService&quot;, &quot;Cannot take picture. Camera device is null.&quot;);\r\n            return;\r\n        }\r\n        try {\r\n            mCameraDevice.createCaptureSession(Collections.singletonList(mImageReader.getSurface()),\r\n                    new CameraCaptureSession.StateCallback() {\r\n                        @Override\r\n                        public void onConfigured(CameraCaptureSession cameraCaptureSession) {\r\n                            if( mCameraDevice == null) {\r\n                                Log.e(&quot;mStateCallback&quot;, &quot; mStateCallbackCaptureSession configured&quot;);\r\n                                return;\r\n                            }\r\n                            Log.d(&quot;CameraService&quot;, &quot;imageCapture()&quot;);\r\n                            mCameraCaptureSession = cameraCaptureSession;\r\n                            imageCapture();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onConfigureFailed(CameraCaptureSession cameraCaptureSession) {\r\n                            Log.e(&quot;mStateCallback&quot;, &quot;Configure failed&quot;);\r\n                        }\r\n                    }, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n  \r\n    private void imageCapture() {\r\n        Log.d(&quot;CameraService&quot;, &quot;imageCapture()&quot;);\r\n        try {\r\n            final CaptureRequest.Builder builder = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n            builder.addTarget(mImageReader.getSurface());\r\n            builder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\r\n            mCameraCaptureSession.stopRepeating();\r\n            mCameraCaptureSession.capture(builder.build(), mCaptureCallback, null);\r\n        } catch (CameraAccessException e) {\r\n            Log.e(&quot;imagecapture()&quot;, &quot;KOKOTKO&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private final CameraCaptureSession.CaptureCallback mCaptureCallback =\r\n            new CameraCaptureSession.CaptureCallback() {\r\n                @Override\r\n                public void onCaptureStarted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, long timestamp, long frameNumber) {\r\n                    super.onCaptureStarted(session, request, timestamp, frameNumber);\r\n                }\r\n\r\n                @Override\r\n                public void onCaptureProgressed(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull CaptureResult partialResult) {\r\n                    super.onCaptureProgressed(session, request, partialResult);\r\n                }\r\n\r\n                @Override\r\n                public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                    if( session != null) {\r\n                         session.close();\r\n                    }\r\n                }\r\n    };\r\n\r\n    public void shutdown() {\r\n        Log.d(&quot;CameraService&quot;, &quot;shutdown()&quot;);\r\n        if( mCameraDevice != null) {\r\n            mCameraDevice.close();\r\n        }\r\n        if( mCameraCaptureSession != null) {\r\n            mCameraCaptureSession.close();\r\n        }\r\n        stopBackgroundThread();\r\n    }\r\n    }\r\n\r\nThanks\r\n\r\n","title":"setPreviewTexture failed when taking second photo with Camera2","body":"<p>I'm trying to configure a camera compatibility without preview but after taking second photo the app crashes with exception:</p>\n\n<blockquote>\n  <p>2018-12-27 14:36:20.392 12389-12977/com.example.android.braillefeeder E/RequestThread-0: Received device exception during capture call: \n      java.io.IOException: setPreviewTexture failed\n          at android.hardware.Camera.setPreviewTexture(Native Method)\n          at android.hardware.camera2.legacy.RequestThreadManager.doJpegCapturePrepare(RequestThreadManager.java:298)\n          at android.hardware.camera2.legacy.RequestThreadManager.-wrap1(Unknown Source:0)\n          at android.hardware.camera2.legacy.RequestThreadManager$5.handleMessage(RequestThreadManager.java:830)\n          at android.os.Handler.dispatchMessage(Handler.java:101)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.os.HandlerThread.run(HandlerThread.java:65)</p>\n</blockquote>\n\n<p>I have this code:</p>\n\n<p>I'm targeting for 28 SDK version. I thought the problem may have something with thread so I tried to initialize thread in main but with no success. </p>\n\n<pre><code>public class CameraService {\n\n// Size of taken photo\nprivate static final int IMAGE_WIDTH = 1280;\nprivate static final int IMAGE_HEIGHT = 960;\n\nprivate CameraDevice mCameraDevice;\nprivate CameraCaptureSession mCameraCaptureSession;\n\nprivate HandlerThread backgroundThread;\nprivate Handler backgroundHandler;\n\nprivate ImageReader mImageReader;\n\nprivate CameraService() {\n}\n\nprivate static class InstanceHolder {\n    private static CameraService sCameraService = new CameraService();\n}\n\npublic static CameraService getInstance() {\n    return InstanceHolder.sCameraService;\n}\n\npublic void initializeCamera(Context context,\n                             ImageReader.OnImageAvailableListener onImageAvailableListener) {\n\n    CameraManager cameraManager = (CameraManager) context.getSystemService(CAMERA_SERVICE);\n    String[] camIds = {};\n    try {\n        camIds = cameraManager.getCameraIdList();\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n    if( camIds.length &lt; 1) {\n        Log.e(\"CameraService\", \"Camera not available.\");\n        return;\n    }\n\n    startBackgroundThread();\n\n    mImageReader = ImageReader.newInstance(IMAGE_WIDTH, IMAGE_HEIGHT, ImageFormat.JPEG, 2);\n    mImageReader.setOnImageAvailableListener(onImageAvailableListener, backgroundHandler);\n\n    try {\n        cameraManager.openCamera(camIds[0], mStateCallback, backgroundHandler);\n    } catch (SecurityException e) {\n        e.printStackTrace();\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void startBackgroundThread() {\n    backgroundThread = new HandlerThread(\"CameraBackground\");\n    backgroundThread.start();\n    backgroundHandler = new Handler(backgroundThread.getLooper());\n}\n\nprivate void stopBackgroundThread() {\n    backgroundThread.quitSafely();\n    try {\n        backgroundThread.join();\n        backgroundThread = null;\n        backgroundHandler = null;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate final CameraDevice.StateCallback mStateCallback = new CameraDevice.StateCallback() {\n    @Override\n    public void onOpened(@NonNull CameraDevice cameraDevice) {\n        mCameraDevice = cameraDevice;\n    }\n\n    @Override\n    public void onDisconnected(@NonNull CameraDevice cameraDevice) {\n        cameraDevice.close();\n        mCameraDevice = null;\n    }\n\n    @Override\n    public void onError(@NonNull CameraDevice cameraDevice, int i) {\n        cameraDevice.close();\n        mCameraDevice = null;\n    }\n\n    @Override\n    public void onClosed(@NonNull CameraDevice camera) {\n        mCameraDevice = null;\n    }\n};\n\npublic void takePicture() {\n    Log.d(\"CameraService\", \"takePicture()\");\n    if( mCameraDevice == null) {\n        Log.d(\"CameraService\", \"Cannot take picture. Camera device is null.\");\n        return;\n    }\n    try {\n        mCameraDevice.createCaptureSession(Collections.singletonList(mImageReader.getSurface()),\n                new CameraCaptureSession.StateCallback() {\n                    @Override\n                    public void onConfigured(CameraCaptureSession cameraCaptureSession) {\n                        if( mCameraDevice == null) {\n                            Log.e(\"mStateCallback\", \" mStateCallbackCaptureSession configured\");\n                            return;\n                        }\n                        Log.d(\"CameraService\", \"imageCapture()\");\n                        mCameraCaptureSession = cameraCaptureSession;\n                        imageCapture();\n                    }\n\n                    @Override\n                    public void onConfigureFailed(CameraCaptureSession cameraCaptureSession) {\n                        Log.e(\"mStateCallback\", \"Configure failed\");\n                    }\n                }, null);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void imageCapture() {\n    Log.d(\"CameraService\", \"imageCapture()\");\n    try {\n        final CaptureRequest.Builder builder = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n        builder.addTarget(mImageReader.getSurface());\n        builder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\n        mCameraCaptureSession.stopRepeating();\n        mCameraCaptureSession.capture(builder.build(), mCaptureCallback, null);\n    } catch (CameraAccessException e) {\n        Log.e(\"imagecapture()\", \"KOKOTKO\");\n        e.printStackTrace();\n    }\n}\n\nprivate final CameraCaptureSession.CaptureCallback mCaptureCallback =\n        new CameraCaptureSession.CaptureCallback() {\n            @Override\n            public void onCaptureStarted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, long timestamp, long frameNumber) {\n                super.onCaptureStarted(session, request, timestamp, frameNumber);\n            }\n\n            @Override\n            public void onCaptureProgressed(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull CaptureResult partialResult) {\n                super.onCaptureProgressed(session, request, partialResult);\n            }\n\n            @Override\n            public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                if( session != null) {\n                     session.close();\n                }\n            }\n};\n\npublic void shutdown() {\n    Log.d(\"CameraService\", \"shutdown()\");\n    if( mCameraDevice != null) {\n        mCameraDevice.close();\n    }\n    if( mCameraCaptureSession != null) {\n        mCameraCaptureSession.close();\n    }\n    stopBackgroundThread();\n}\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","html","spring"],"comments":[{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":0,"creation_date":1666795738,"post_id":74199697,"comment_id":131021218,"body_markdown":"Have you tried to add some whitelist configuration like \n```web.antMatchers(&quot;/*.js&quot;,&quot;*.css&quot;).permitAll()\n``` in some subclasses of ```WebSecurityConfigurerAdapter``` or something?","body":"Have you tried to add some whitelist configuration like  <code>web.antMatchers(&quot;&#47;*.js&quot;,&quot;*.css&quot;).permitAll() </code> in some subclasses of <code>WebSecurityConfigurerAdapter</code> or something?"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666795397,"creation_date":1666728869,"question_id":74199697,"body_markdown":"I am working on a Spring v-2.7.4 application in which I use SecurityFilterChain interface from spring framework security to add some roles to my web server. By default when implementing SecuirityFilterChain it also enables X-Content-Type-Options: nosniff, this seems to make the browser block my javascript and css files. I understand that it is a good practice to enable this setting, but I can&#39;t find the correct way so that my browser does not reject my css or js templates. I have already tried to add the corresponding mime format to the routes in the headers according to this documentation: [https ://developer.mozilla.org/en/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types][1]\r\n\r\nHowever, it still continues unchanged. What am I doing wrong?\r\n\r\n\r\n  [1]: https://developer.mozilla.org/es/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\t&lt;link  href=&quot;css/homeview.css&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n\r\n    ...\r\n\r\n    &lt;script src=&quot;Javascript/main.js&quot; type=&quot;application/javascript&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;","title":"How to add correct mime type in html using spring?","body":"<p>I am working on a Spring v-2.7.4 application in which I use SecurityFilterChain interface from spring framework security to add some roles to my web server. By default when implementing SecuirityFilterChain it also enables X-Content-Type-Options: nosniff, this seems to make the browser block my javascript and css files. I understand that it is a good practice to enable this setting, but I can't find the correct way so that my browser does not reject my css or js templates. I have already tried to add the corresponding mime format to the routes in the headers according to this documentation: <a href=\"https://developer.mozilla.org/es/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\" rel=\"nofollow noreferrer\">https ://developer.mozilla.org/en/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types</a></p>\n<p>However, it still continues unchanged. What am I doing wrong?</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n&lt;link  href=&quot;css/homeview.css&quot; type=&quot;text/css&quot;&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n...\n\n&lt;script src=&quot;Javascript/main.js&quot; type=&quot;application/javascript&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","heap-memory"],"comments":[{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":5,"creation_date":1255515276,"post_id":1565388,"comment_id":58578920,"body_markdown":"Have you tried `-Xmx6g` ? Did this not work? What did you observe?","body":"Have you tried <code>-Xmx6g</code> ? Did this not work? What did you observe?"},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":4,"creation_date":1255515318,"post_id":1565388,"comment_id":1424738,"body_markdown":"I presume you tried increasing the heap but failed? Are you using a 64 bit JVM?","body":"I presume you tried increasing the heap but failed? Are you using a 64 bit JVM?"},{"owner":{"account_id":53227,"reputation":4163,"user_id":159136,"accept_rate":77,"display_name":"Sunil "},"score":0,"creation_date":1255530110,"post_id":1565388,"comment_id":58578921,"body_markdown":"Thanks for comment but this is not working","body":"Thanks for comment but this is not working"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":1,"creation_date":1255589779,"post_id":1565388,"comment_id":58578922,"body_markdown":"Well - how do you know it isn&#39;t working? Does the JVM not start?","body":"Well - how do you know it isn&#39;t working? Does the JVM not start?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1255515408,"creation_date":1255515408,"answer_id":1565409,"question_id":1565388,"body_markdown":"&gt; Can I increase the heap memory to 75%\r\n&gt; of physical memory(6GB Heap).\r\n\r\nYes you can.  In fact, you can increase to more than the amount of physical memory, if you want to.\r\n\r\nWhether it is a good idea to do this depends on how much else is running on your system.  In particular, if the &quot;working set&quot; of the applications and services that are currently running significantly exceeds the available physical memory, your system is liable to &quot;thrash&quot;, spending a lot of time moving virtual memory pages to and from disk.  The net effect is that the system gets horribly slow.","title":"Increase heap size in Java","body":"<blockquote>\n  <p>Can I increase the heap memory to 75%\n  of physical memory(6GB Heap).</p>\n</blockquote>\n\n<p>Yes you can.  In fact, you can increase to more than the amount of physical memory, if you want to.</p>\n\n<p>Whether it is a good idea to do this depends on how much else is running on your system.  In particular, if the \"working set\" of the applications and services that are currently running significantly exceeds the available physical memory, your system is liable to \"thrash\", spending a lot of time moving virtual memory pages to and from disk.  The net effect is that the system gets horribly slow.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":4,"up_vote_count":380,"is_accepted":true,"score":376,"last_activity_date":1610631710,"creation_date":1255524511,"answer_id":1566026,"question_id":1565388,"body_markdown":"You can increase to `2GB` on a `32` bit system. If you&#39;re on a 64 bit system you can go higher. No need to worry if you&#39;ve chosen incorrectly, if you ask for 5g on a 32 bit system java will complain about an invalid value and quit.\r\n\r\nAs others have posted, use the cmd-line flags - e.g. \r\n\r\n    java -Xmx6g myprogram\r\n\r\nYou can get a full list (or a nearly full list, anyway) by typing java -X.\r\n","title":"Increase heap size in Java","body":"<p>You can increase to <code>2GB</code> on a <code>32</code> bit system. If you're on a 64 bit system you can go higher. No need to worry if you've chosen incorrectly, if you ask for 5g on a 32 bit system java will complain about an invalid value and quit.</p>\n<p>As others have posted, use the cmd-line flags - e.g.</p>\n<pre><code>java -Xmx6g myprogram\n</code></pre>\n<p>You can get a full list (or a nearly full list, anyway) by typing java -X.</p>\n"},{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1255525150,"creation_date":1255525150,"answer_id":1566078,"question_id":1565388,"body_markdown":"On a 32-bit JVM, the largest heap size you can theoretically set is 4gb.  To use a larger heap size, you need to use a 64-bit JVM. Try the following:\r\n\r\n&gt; java -Xmx6144M -d64\r\n\r\nThe -d64 flag is important as this tells the JVM to run in 64-bit mode.","title":"Increase heap size in Java","body":"<p>On a 32-bit JVM, the largest heap size you can theoretically set is 4gb.  To use a larger heap size, you need to use a 64-bit JVM. Try the following:</p>\n\n<blockquote>\n  <p>java -Xmx6144M -d64</p>\n</blockquote>\n\n<p>The -d64 flag is important as this tells the JVM to run in 64-bit mode.</p>\n"},{"tags":[],"owner":{"account_id":2179848,"reputation":2922,"user_id":1929603,"display_name":"Karthik Reddy"},"down_vote_count":2,"up_vote_count":189,"is_accepted":false,"score":187,"last_activity_date":1666795305,"creation_date":1363763456,"answer_id":15517399,"question_id":1565388,"body_markdown":"It is possible to increase heap size allocated by the JVM by using these command line options:\r\n\r\n    -Xms&lt;size&gt;        set initial Java heap size\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n    -Xss&lt;size&gt;        set java thread stack size\r\n    \r\nIn the following example, minimum heap size is set to 16mb, and the maximum to 64mb:\r\n\r\n```bash\r\njava -Xms16m -Xmx64m ClassName\r\n```","title":"Increase heap size in Java","body":"<p>It is possible to increase heap size allocated by the JVM by using these command line options:</p>\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n-Xss&lt;size&gt;        set java thread stack size\n</code></pre>\n<p>In the following example, minimum heap size is set to 16mb, and the maximum to 64mb:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Xms16m -Xmx64m ClassName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179848,"reputation":2922,"user_id":1929603,"display_name":"Karthik Reddy"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1363767104,"creation_date":1363765645,"answer_id":15517960,"question_id":1565388,"body_markdown":"It is possible to increase heap size allocated by the JVM in eclipse directly \r\nIn eclipse IDE goto\r\n\r\nRun----&gt;Run Configurations----&gt;Arguments\r\n\r\nEnter -Xmx1g(It is used to set the max size like Xmx256m or Xmx1g...... m--&gt;mb g---&gt;gb)","title":"Increase heap size in Java","body":"<p>It is possible to increase heap size allocated by the JVM in eclipse directly \nIn eclipse IDE goto</p>\n\n<p>Run---->Run Configurations---->Arguments</p>\n\n<p>Enter -Xmx1g(It is used to set the max size like Xmx256m or Xmx1g...... m-->mb g--->gb)</p>\n"},{"tags":[],"owner":{"account_id":3037706,"reputation":121,"user_id":2575388,"display_name":"Sumit Deshinge"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1373612592,"creation_date":1373612592,"answer_id":17609263,"question_id":1565388,"body_markdown":"java -d64 -Xms512m -Xmx4g HelloWorld\r\n\r\nwhere,\r\n-d64: Will enable 64-bit JVM\r\n-Xms512m: Will set initial heap size as 512 MB\r\n-Xmx4g: Will set maximum heap size as 4 GB\r\n(here java file name is : HelloWorld.java)","title":"Increase heap size in Java","body":"<p>java -d64 -Xms512m -Xmx4g HelloWorld</p>\n\n<p>where,\n-d64: Will enable 64-bit JVM\n-Xms512m: Will set initial heap size as 512 MB\n-Xmx4g: Will set maximum heap size as 4 GB\n(here java file name is : HelloWorld.java)</p>\n"},{"tags":[],"owner":{"account_id":4533922,"reputation":53,"user_id":3683651,"display_name":"madhu"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1515087585,"creation_date":1401281104,"answer_id":23911979,"question_id":1565388,"body_markdown":"This only works with 64 bit version of Java. Go to Control Panel and click on the Java icon. On the small window of Java Control Panel, click on the Java menu bar and then click on `view` button.\r\n\r\nIf you have two Java platforms, disable the previous version of Java, then click on _Runtime parameters_ text field and write `-Xmx1024m` or less than RAM size. Don&#39;t increase heap size equal to RAM otherwise your system will crash.","title":"Increase heap size in Java","body":"<p>This only works with 64 bit version of Java. Go to Control Panel and click on the Java icon. On the small window of Java Control Panel, click on the Java menu bar and then click on <code>view</code> button.</p>\n\n<p>If you have two Java platforms, disable the previous version of Java, then click on <em>Runtime parameters</em> text field and write <code>-Xmx1024m</code> or less than RAM size. Don't increase heap size equal to RAM otherwise your system will crash.</p>\n"},{"tags":[],"owner":{"display_name":"user7389761"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1484698899,"creation_date":1484637059,"answer_id":41690963,"question_id":1565388,"body_markdown":"Please use below command to change heap size to 6GB\r\n\r\n    export JAVA_OPTS=&quot;-Xms6144m -Xmx6144m -XX:NewSize=256m -XX:MaxNewSize=356m -XX:PermSize=256m -XX:MaxPermSize=356m&quot;\r\n","title":"Increase heap size in Java","body":"<p>Please use below command to change heap size to 6GB</p>\n\n<pre><code>export JAVA_OPTS=\"-Xms6144m -Xmx6144m -XX:NewSize=256m -XX:MaxNewSize=356m -XX:PermSize=256m -XX:MaxPermSize=356m\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491996220,"creation_date":1491996220,"answer_id":43368188,"question_id":1565388,"body_markdown":"**Yes. You Can.**\r\n\r\nYou can increase your heap memory to 75% of physical memory (6 GB Heap) or higher.\r\n\r\n**Since You are using 64bit you can increase your heap size to your desired amount. In Case you are using 32bit it is limited to 4GB.**\r\n\r\n    $ java -Xms512m -Xmx6144m JavaApplication\r\n\r\nSets you with initial heap size to 512mb and maximum heapsize to 6GB.\r\n\r\nHope it Helps.. :)\r\n","title":"Increase heap size in Java","body":"<p><strong>Yes. You Can.</strong></p>\n\n<p>You can increase your heap memory to 75% of physical memory (6 GB Heap) or higher.</p>\n\n<p><strong>Since You are using 64bit you can increase your heap size to your desired amount. In Case you are using 32bit it is limited to 4GB.</strong></p>\n\n<pre><code>$ java -Xms512m -Xmx6144m JavaApplication\n</code></pre>\n\n<p>Sets you with initial heap size to 512mb and maximum heapsize to 6GB.</p>\n\n<p>Hope it Helps.. :)</p>\n"},{"tags":[],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496117983,"creation_date":1496116437,"answer_id":44253141,"question_id":1565388,"body_markdown":"Several people pointed out the specific answers for heap size with the jvm options of `-Xms` and `-Xms`. I want to point out that this is not the only type of memory options for the jvm. Specifically if you are get stack over flows, then you&#39;ll want to increase the size of the stack by adding an additional option like `-Xss8m`. \r\n\r\nFor this problem, the jvm options of something like `-Xms2g -Xmx6g -Xss8m` would be a solution.\r\n\r\nI&#39;m sharing this information as my google searches on how to increase jvm memory took me to this solution, and the solutions didn&#39;t work with high amounts of memory allocation. Once I figured out what the specific settings were for, I was able to google how to increase the stack size and found the missing param. :) Hope this saves others time, as it would of saved me a ton of time. :)","title":"Increase heap size in Java","body":"<p>Several people pointed out the specific answers for heap size with the jvm options of <code>-Xms</code> and <code>-Xms</code>. I want to point out that this is not the only type of memory options for the jvm. Specifically if you are get stack over flows, then you'll want to increase the size of the stack by adding an additional option like <code>-Xss8m</code>. </p>\n\n<p>For this problem, the jvm options of something like <code>-Xms2g -Xmx6g -Xss8m</code> would be a solution.</p>\n\n<p>I'm sharing this information as my google searches on how to increase jvm memory took me to this solution, and the solutions didn't work with high amounts of memory allocation. Once I figured out what the specific settings were for, I was able to google how to increase the stack size and found the missing param. :) Hope this saves others time, as it would of saved me a ton of time. :)</p>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1511167622,"creation_date":1511167622,"answer_id":47388044,"question_id":1565388,"body_markdown":"You can increase the Heap Size by passing JVM parameters **-Xms** and **-Xmx** like below:\r\n\r\nFor Jar Files:\r\n \r\n\r\n    java -jar -Xms4096M -Xmx6144M jarFilePath.jar\r\n\r\n\r\nFor Java Files:\r\n\r\n     java -Xms4096M -Xmx6144M ClassName\r\n\r\nThe above parameters increase the **InitialHeapSize (-Xms)** to 4GB (4096 MB) and **MaxHeapSize(-Xmx)** to 6GB (6144 MB). \r\n\r\nBut, the **Young Generation** Heap Size will remain same and the additional HeapSize will be added to the **Old Generation** Heap Size. To **equalize the size of Young Gen Heap and Old Gen Heap**, use **-XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy** params.\r\n\r\n    java -jar -Xms4096M -Xmx6144M -XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy pathToJarFile.jar\r\n\r\n**-XX:NewRatio = Old Gen Heap Size : Young Gen HeapSize** (You can play with this ratio to get your desired ratio).\r\n\r\n","title":"Increase heap size in Java","body":"<p>You can increase the Heap Size by passing JVM parameters <strong>-Xms</strong> and <strong>-Xmx</strong> like below:</p>\n\n<p>For Jar Files:</p>\n\n<pre><code>java -jar -Xms4096M -Xmx6144M jarFilePath.jar\n</code></pre>\n\n<p>For Java Files:</p>\n\n<pre><code> java -Xms4096M -Xmx6144M ClassName\n</code></pre>\n\n<p>The above parameters increase the <strong>InitialHeapSize (-Xms)</strong> to 4GB (4096 MB) and <strong>MaxHeapSize(-Xmx)</strong> to 6GB (6144 MB). </p>\n\n<p>But, the <strong>Young Generation</strong> Heap Size will remain same and the additional HeapSize will be added to the <strong>Old Generation</strong> Heap Size. To <strong>equalize the size of Young Gen Heap and Old Gen Heap</strong>, use <strong>-XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy</strong> params.</p>\n\n<pre><code>java -jar -Xms4096M -Xmx6144M -XX:NewRatio=1 -XX:-UseAdaptiveSizePolicy pathToJarFile.jar\n</code></pre>\n\n<p><strong>-XX:NewRatio = Old Gen Heap Size : Young Gen HeapSize</strong> (You can play with this ratio to get your desired ratio).</p>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1583814803,"creation_date":1583814803,"answer_id":60611589,"question_id":1565388,"body_markdown":"I have problem running the py files in my java code using eclipse/STS, getting PyException due to insufficient jvm heap memory. I have done the changes as mentioned below and I&#39;m able to resolve this issue. Below is my System configuration.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd these are the changes I did in my workspace and voila it runs perfect now.\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CGcuS.jpg\r\n  [2]: https://i.stack.imgur.com/1aXXQ.jpg\r\n  [3]: https://i.stack.imgur.com/cgdcF.jpg","title":"Increase heap size in Java","body":"<p>I have problem running the py files in my java code using eclipse/STS, getting PyException due to insufficient jvm heap memory. I have done the changes as mentioned below and I'm able to resolve this issue. Below is my System configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CGcuS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CGcuS.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And these are the changes I did in my workspace and voila it runs perfect now.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1aXXQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1aXXQ.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/cgdcF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cgdcF.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4592324,"reputation":139,"user_id":3725297,"accept_rate":60,"display_name":"Jagath01234"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1631086567,"creation_date":1631086567,"answer_id":69098813,"question_id":1565388,"body_markdown":"Here are the steps if someone wants to know how to do this in windows.\r\n\r\n[![][1]][1]\r\n\r\n\r\n[![][2]][2]\r\n\r\n\r\n[![][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PGAcs.jpg\r\n  [2]: https://i.stack.imgur.com/BqxuH.jpg\r\n  [3]: https://i.stack.imgur.com/JOTex.jpg","title":"Increase heap size in Java","body":"<p>Here are the steps if someone wants to know how to do this in windows.</p>\n<p><a href=\"https://i.stack.imgur.com/PGAcs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGAcs.jpg\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BqxuH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BqxuH.jpg\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JOTex.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOTex.jpg\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":53227,"reputation":4163,"user_id":159136,"accept_rate":77,"display_name":"Sunil "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952177,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"accepted_answer_id":1566026,"answer_count":13,"score":334,"last_activity_date":1666795305,"creation_date":1255515178,"question_id":1565388,"body_markdown":"I am working on a Windows 2003 server (64-bit) with 8 GB RAM. How can I increase the heap memory maximum? I am using the `-Xmx1500m` flag to increase the heap size to 1500 Mb. Can I increase the heap memory to 75% of physical memory (6 GB Heap)?\r\n ","title":"Increase heap size in Java","body":"<p>I am working on a Windows 2003 server (64-bit) with 8 GB RAM. How can I increase the heap memory maximum? I am using the <code>-Xmx1500m</code> flag to increase the heap size to 1500 Mb. Can I increase the heap memory to 75% of physical memory (6 GB Heap)?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1413987169,"post_id":26508166,"comment_id":41649264,"body_markdown":"If you were missing a dependency, you would be getting a &quot;Missing artifact com.foo.bar&quot; type error.  What is the full error text that you are seeing?","body":"If you were missing a dependency, you would be getting a &quot;Missing artifact com.foo.bar&quot; type error.  What is the full error text that you are seeing?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":6,"creation_date":1414076515,"post_id":26508166,"comment_id":41688544,"body_markdown":"I don&#39;t really want to mark this as a duplicate (as a Gold Java user, it will close it in a single vote), but the [solution is here](http://stackoverflow.com/a/7835746/15880)","body":"I don&#39;t really want to mark this as a duplicate (as a Gold Java user, it will close it in a single vote), but the <a href=\"http://stackoverflow.com/a/7835746/15880\">solution is here</a>"},{"owner":{"account_id":332750,"reputation":2403,"user_id":658216,"accept_rate":76,"display_name":"Rob"},"score":0,"creation_date":1414175387,"post_id":26508166,"comment_id":41729906,"body_markdown":"There ended up being something odd in how eclipse was parsing the POM.  Cut/paste the whole thing and the error went away.  There was no actual error to be clear (there may have been at one time but for whatever reason the parser still showed an error).  So try that if you get to this page.","body":"There ended up being something odd in how eclipse was parsing the POM.  Cut/paste the whole thing and the error went away.  There was no actual error to be clear (there may have been at one time but for whatever reason the parser still showed an error).  So try that if you get to this page."},{"owner":{"account_id":4308528,"reputation":165,"user_id":3520291,"display_name":"Murtuza K"},"score":0,"creation_date":1484668461,"post_id":26508166,"comment_id":70598919,"body_markdown":"I did Select All then Cut then Paste and error went away. Thanks @Rob","body":"I did Select All then Cut then Paste and error went away. Thanks @Rob"},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1527926076,"post_id":26508166,"comment_id":88319614,"body_markdown":"Possible duplicate of [Problems using Spring Hibernate](https://stackoverflow.com/questions/7835389/problems-using-spring-hibernate)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/7835389/problems-using-spring-hibernate\">Problems using Spring Hibernate</a>"},{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1572631163,"post_id":26508166,"comment_id":103630847,"body_markdown":"Solution: remove the extra space and check the syntax (possibly in properties tags)","body":"Solution: remove the extra space and check the syntax (possibly in properties tags)"}],"answers":[{"tags":[],"owner":{"account_id":3305334,"reputation":7005,"user_id":2780334,"display_name":"J&#228;mes"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1559257968,"creation_date":1491092100,"answer_id":43163334,"question_id":26508166,"body_markdown":"As mentioned in the comment by [Powerlord][1], this error is due to incorrect parsing of the XML file, because there are strange and hidden characters in between a/some `&lt;dependency&gt;...&lt;/dependency&gt;` tag(s). Those characters could come from a copy paste from the Web.\r\n\r\nTo solve the issue, remove all spaces and newline characters between `&lt;dependency&gt;...&lt;/dependency&gt;` tags definitions and put them back into your editor.\r\n\r\n  [1]: https://stackoverflow.com/users/15880/powerlord","title":"maven error: element dependency can not have character children","body":"<p>As mentioned in the comment by <a href=\"https://stackoverflow.com/users/15880/powerlord\">Powerlord</a>, this error is due to incorrect parsing of the XML file, because there are strange and hidden characters in between a/some <code>&lt;dependency&gt;...&lt;/dependency&gt;</code> tag(s). Those characters could come from a copy paste from the Web.</p>\n\n<p>To solve the issue, remove all spaces and newline characters between <code>&lt;dependency&gt;...&lt;/dependency&gt;</code> tags definitions and put them back into your editor.</p>\n"},{"tags":[],"owner":{"account_id":10648339,"reputation":21,"user_id":7840218,"display_name":"Nasco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516181429,"creation_date":1516171282,"answer_id":48295035,"question_id":26508166,"body_markdown":"I recently faced that problem and the error showed at the **xsi:schemaLocation** of the **pom.xml** file and it was a problem of copy and paste from different websites introducing an invisible non-space character. To check which line have the hidden character I take a copy of the pom file and paste it to a blank word file and enable &quot;Show paragraph mark and other formatting&quot;.","title":"maven error: element dependency can not have character children","body":"<p>I recently faced that problem and the error showed at the <strong>xsi:schemaLocation</strong> of the <strong>pom.xml</strong> file and it was a problem of copy and paste from different websites introducing an invisible non-space character. To check which line have the hidden character I take a copy of the pom file and paste it to a blank word file and enable \"Show paragraph mark and other formatting\".</p>\n"},{"tags":[],"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525295024,"creation_date":1525295024,"answer_id":50143525,"question_id":26508166,"body_markdown":"This is because, as others have said, there are non-printable, but XML-illegal characters inserted into *pom.xml*, usually between XML elements. In my case, this often happens when I copy and paste from elsewhere, usually documentation, an article, tutorial, etc. in my browser.\r\n\r\nFor me, IntelliJ IDEA&#39;s editor displays these characters as rose-colored space, perhaps a function of my color scheme, so that it&#39;s easy to find and delete them.","title":"maven error: element dependency can not have character children","body":"<p>This is because, as others have said, there are non-printable, but XML-illegal characters inserted into <em>pom.xml</em>, usually between XML elements. In my case, this often happens when I copy and paste from elsewhere, usually documentation, an article, tutorial, etc. in my browser.</p>\n\n<p>For me, IntelliJ IDEA's editor displays these characters as rose-colored space, perhaps a function of my color scheme, so that it's easy to find and delete them.</p>\n"},{"tags":[],"owner":{"account_id":13742668,"reputation":11,"user_id":9917295,"display_name":"Manthan Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558523478,"creation_date":1558523478,"answer_id":56255517,"question_id":26508166,"body_markdown":"It&#39;s because you have tried to copy paste the dependencies from the web and there are some special or hidden characters are there which are causing this type of errors. So first copy to a text file then put paste it to the code for avoiding this type of an error.  \r\n","title":"maven error: element dependency can not have character children","body":"<p>It's because you have tried to copy paste the dependencies from the web and there are some special or hidden characters are there which are causing this type of errors. So first copy to a text file then put paste it to the code for avoiding this type of an error.  </p>\n"},{"tags":[],"owner":{"account_id":14649938,"reputation":355,"user_id":10580233,"display_name":"saurabh umathe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592488185,"creation_date":1592488185,"answer_id":62451535,"question_id":26508166,"body_markdown":"This error mainly occurs due to xml parsing error for POM.xml\r\n\r\nFor me, It was not able to parse xml due to unexpected element &#39;&gt;&#39; after dependencies end tag. ","title":"maven error: element dependency can not have character children","body":"<p>This error mainly occurs due to xml parsing error for POM.xml</p>\n\n<p>For me, It was not able to parse xml due to unexpected element '>' after dependencies end tag. </p>\n"},{"tags":[],"owner":{"account_id":4141810,"reputation":313,"user_id":5186631,"display_name":"lordbah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615057342,"creation_date":1615057342,"answer_id":66509563,"question_id":26508166,"body_markdown":"I get this kind of error without having done copy/paste, only adding dependencies via the Dependencies tab. Select All/Cut/Paste changes the error to &quot;Content is not allowed in trailing section&quot; or ... something I can&#39;t seem to reproduce any more. Meanwhile the &quot;Effective POM&quot; tab shows no issues at all.","title":"maven error: element dependency can not have character children","body":"<p>I get this kind of error without having done copy/paste, only adding dependencies via the Dependencies tab. Select All/Cut/Paste changes the error to &quot;Content is not allowed in trailing section&quot; or ... something I can't seem to reproduce any more. Meanwhile the &quot;Effective POM&quot; tab shows no issues at all.</p>\n"}],"owner":{"account_id":332750,"reputation":2403,"user_id":658216,"accept_rate":76,"display_name":"Rob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54256,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":43163334,"answer_count":6,"score":37,"last_activity_date":1666794978,"creation_date":1413983242,"question_id":26508166,"body_markdown":"I&#39;m not sure what happened, but the POM for my project no longer works.  Its complaining about the dependency element.  Is it that the dependency no longer exists?  What does this error mean?  To be clear I haven&#39;t change the POM, it just does not work now.\r\n\r\nThe exact error message is cvc-complex-type.2.3:  Element &#39;dependency&#39; cannot have character (children), because this type&#39;s content type is element-only.\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n      &lt;groupId&gt;com.medfusion&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Estatements-core&lt;/artifactId&gt;\r\n      &lt;version&gt;14.6.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;Estatements-core&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;com.group.id.Launcher1&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          \r\n     \t  &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;nexus-qhg-dev&lt;/id&gt;\r\n            &lt;name&gt;Medfusion repo&lt;/name&gt;\r\n            &lt;url&gt;http://maven.qhg.local/nexus/content/groups/qhg-dev&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n    &#160;   &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\r\n        &lt;version&gt;14.6.0-SNAPSHOT&lt;/version&gt; \r\n    &#160;   &lt;artifactId&gt;notification-reference&lt;/artifactId&gt; &#160; &#160;\r\n      &lt;/dependency&gt; \r\n      &lt;dependency&gt;\r\n    &#160; &#160; &#160; &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &#160; &#160; &#160; &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &#160; &#160; &#160; &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &#160; &#160; &#160; &lt;scope&gt;test&lt;/scope&gt;\r\n    &#160; &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n    &#160; &#160; &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\r\n    &#160;   &lt;version&gt;ihg-depot-trunk-SNAPSHOT&lt;/version&gt;\r\n    &#160;   &lt;artifactId&gt;attachment-reference&lt;/artifactId&gt;\r\n    &#160; &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n    &#160;   &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\r\n    &#160;   &lt;version&gt;ihg-depot-trunk-SNAPSHOT&lt;/version&gt;\r\n    &#160;   &lt;artifactId&gt;eCommunication-core&lt;/artifactId&gt; &#160; &#160;\r\n      &lt;/dependency&gt; \r\n    &lt;/dependencies&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n","title":"maven error: element dependency can not have character children","body":"<p>I'm not sure what happened, but the POM for my project no longer works.  Its complaining about the dependency element.  Is it that the dependency no longer exists?  What does this error mean?  To be clear I haven't change the POM, it just does not work now.</p>\n\n<p>The exact error message is cvc-complex-type.2.3:  Element 'dependency' cannot have character (children), because this type's content type is element-only.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n  &lt;groupId&gt;com.medfusion&lt;/groupId&gt;\n  &lt;artifactId&gt;Estatements-core&lt;/artifactId&gt;\n  &lt;version&gt;14.6.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;Estatements-core&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;com.group.id.Launcher1&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus-qhg-dev&lt;/id&gt;\n        &lt;name&gt;Medfusion repo&lt;/name&gt;\n        &lt;url&gt;http://maven.qhg.local/nexus/content/groups/qhg-dev&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\n    &lt;version&gt;14.6.0-SNAPSHOT&lt;/version&gt; \n   &lt;artifactId&gt;notification-reference&lt;/artifactId&gt;  \n  &lt;/dependency&gt; \n  &lt;dependency&gt;\n   &lt;groupId&gt;junit&lt;/groupId&gt;\n   &lt;artifactId&gt;junit&lt;/artifactId&gt;\n   &lt;version&gt;3.8.1&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n  &lt;dependency&gt;\n  &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\n   &lt;version&gt;ihg-depot-trunk-SNAPSHOT&lt;/version&gt;\n   &lt;artifactId&gt;attachment-reference&lt;/artifactId&gt;\n &lt;/dependency&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;com.intuit.health&lt;/groupId&gt;\n   &lt;version&gt;ihg-depot-trunk-SNAPSHOT&lt;/version&gt;\n   &lt;artifactId&gt;eCommunication-core&lt;/artifactId&gt;  \n  &lt;/dependency&gt; \n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666793916,"creation_date":1666793916,"answer_id":74209329,"question_id":74163477,"body_markdown":"If you want to get results from multiple queries, then you should consider using [Query#get()][1], which returns an object of type [Task][2]. That being said, to merge 5 different Firebase Realtime Database requests locally, I recommend you to use [Tasks.whenAllSuccess()][3] method. You can achieve this, using the following lines of code:\r\n\r\n    Query questionFromA = FirebaseDatabase.getInstance().getReference()\r\n            .child(&quot;A&quot;)\r\n            .orderByChild(&quot;questionID&quot;)\r\n            .equalTo(new Random()\r\n            .nextInt(15));\r\n\r\n    Query questionFromB = FirebaseDatabase.getInstance().getReference()\r\n            .child(&quot;B&quot;)\r\n            .orderByChild(&quot;questionID&quot;)\r\n            .equalTo(new Random()\r\n            .nextInt(15));\r\n\r\n    //Create the other three queries.\r\n\r\n    Task aTask = questionFromA.get();\r\n    Task bTask = questionFromb.get();\r\n\r\n    //Create the other three Task objects.\r\n\r\n    Task combinedTask = Tasks.whenAllSuccess(aTask, bTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; list) {\r\n             //Do what you need to do with your list\r\n        }\r\n    });\r\n\r\nAnd pass all five Task objects to the `whenAllSuccess()` method. As you can see, when overriding the `onSuccess()` method the result is a list of objects. So you only have to map each object from the list into an object of type `QuizQuestions` and do what you need to do with them.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#get()\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)","title":"Random questions from different child from Firebase to Java andoird studio","body":"<p>If you want to get results from multiple queries, then you should consider using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query#get()\" rel=\"nofollow noreferrer\">Query#get()</a>, which returns an object of type <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html\" rel=\"nofollow noreferrer\">Task</a>. That being said, to merge 5 different Firebase Realtime Database requests locally, I recommend you to use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Tasks#whenAllSuccess(com.google.android.gms.tasks.Task%3C?%3E...)\" rel=\"nofollow noreferrer\">Tasks.whenAllSuccess()</a> method. You can achieve this, using the following lines of code:</p>\n<pre><code>Query questionFromA = FirebaseDatabase.getInstance().getReference()\n        .child(&quot;A&quot;)\n        .orderByChild(&quot;questionID&quot;)\n        .equalTo(new Random()\n        .nextInt(15));\n\nQuery questionFromB = FirebaseDatabase.getInstance().getReference()\n        .child(&quot;B&quot;)\n        .orderByChild(&quot;questionID&quot;)\n        .equalTo(new Random()\n        .nextInt(15));\n\n//Create the other three queries.\n\nTask aTask = questionFromA.get();\nTask bTask = questionFromb.get();\n\n//Create the other three Task objects.\n\nTask combinedTask = Tasks.whenAllSuccess(aTask, bTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; list) {\n         //Do what you need to do with your list\n    }\n});\n</code></pre>\n<p>And pass all five Task objects to the <code>whenAllSuccess()</code> method. As you can see, when overriding the <code>onSuccess()</code> method the result is a list of objects. So you only have to map each object from the list into an object of type <code>QuizQuestions</code> and do what you need to do with them.</p>\n"}],"owner":{"account_id":26101556,"reputation":13,"user_id":19796907,"display_name":"AttiL4682"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74209329,"answer_count":1,"score":1,"last_activity_date":1666794895,"creation_date":1666441007,"question_id":74163477,"body_markdown":"I am trying to make a quiz app using Firebase but I need to get 5 questions in total from different topics randomly and add them to `ArrayList&lt;object&gt;`. I already have generated 1 random question from only 1 topic (child) and I can not make this for the other 4 topics to have 5 questions from different topics \r\nMy Firebase database is here:\r\n[![enter image description here][1]][1]\r\n\r\nMy code is:\r\n```\r\nfinal Query questionFromB = FirebaseDatabase.getInstance().getReference().child(&quot;B&quot;).orderByChild(&quot;questionID&quot;).equalTo(new Random().nextInt(15));\r\nquestionFromB.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot datasnapshot) {\r\n        for (DataSnapshot question : datasnapshot.getChildren()){\r\n            if (questionCount &lt; 1){\r\n                questionView.setText(question.getValue(QuizQuestions.class).getQuestionText());\r\n                answerText.setText(question.getValue(QuizQuestions.class).getAnswerText());\r\n\r\n                arrayList.add(new QuizQuestions(question.getValue(QuizQuestions.class).getQuestionID(),question.getValue(QuizQuestions.class).getQuestionText(),question.getValue(QuizQuestions.class).getAnswerText()));\r\n                datasnapshot.getChildrenCount();\r\n                questionCount ++;\r\n            }else{\r\n                nextButton.setVisibility(View.GONE);\r\n                nextActivityButton.setVisibility(View.VISIBLE);\r\n                for (int i=0;i&lt;arrayList.size();i++){\r\n                    textView.append(arrayList.get(i).getQuestionText());\r\n                    textView.append(&quot; \\n &quot;);\r\n                    textView.append(&quot; \\n &quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        Toast.makeText(MainActivity.this, &quot;Error, something was wrong&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n```\r\n\r\n(in the second activity i am just showing ArrayList contents in TextView)\r\n\r\n  [1]: https://i.stack.imgur.com/ixFE2.png\r\n\r\n","title":"Random questions from different child from Firebase to Java andoird studio","body":"<p>I am trying to make a quiz app using Firebase but I need to get 5 questions in total from different topics randomly and add them to <code>ArrayList&lt;object&gt;</code>. I already have generated 1 random question from only 1 topic (child) and I can not make this for the other 4 topics to have 5 questions from different topics\nMy Firebase database is here:\n<a href=\"https://i.stack.imgur.com/ixFE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixFE2.png\" alt=\"enter image description here\" /></a></p>\n<p>My code is:</p>\n<pre><code>final Query questionFromB = FirebaseDatabase.getInstance().getReference().child(&quot;B&quot;).orderByChild(&quot;questionID&quot;).equalTo(new Random().nextInt(15));\nquestionFromB.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot datasnapshot) {\n        for (DataSnapshot question : datasnapshot.getChildren()){\n            if (questionCount &lt; 1){\n                questionView.setText(question.getValue(QuizQuestions.class).getQuestionText());\n                answerText.setText(question.getValue(QuizQuestions.class).getAnswerText());\n\n                arrayList.add(new QuizQuestions(question.getValue(QuizQuestions.class).getQuestionID(),question.getValue(QuizQuestions.class).getQuestionText(),question.getValue(QuizQuestions.class).getAnswerText()));\n                datasnapshot.getChildrenCount();\n                questionCount ++;\n            }else{\n                nextButton.setVisibility(View.GONE);\n                nextActivityButton.setVisibility(View.VISIBLE);\n                for (int i=0;i&lt;arrayList.size();i++){\n                    textView.append(arrayList.get(i).getQuestionText());\n                    textView.append(&quot; \\n &quot;);\n                    textView.append(&quot; \\n &quot;);\n                }\n\n            }\n        }\n    }\n\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Toast.makeText(MainActivity.this, &quot;Error, something was wrong&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>(in the second activity i am just showing ArrayList contents in TextView)</p>\n"},{"tags":["java","xml","eclipse","default"],"answers":[{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1604955206,"creation_date":1604955206,"answer_id":64759124,"question_id":64758579,"body_markdown":"Make sure to open xml file with proper editor in Eclipse.&lt;br&gt;\r\nSelect xml file =&gt; click with right mouse button =&gt; Open with =&gt; XML Editor&lt;br&gt;\r\n\r\nThen you can press &quot;Strg + Space&quot; while typing and you should get the proposals.\r\n\r\nYou can also check your Content Assist settings here:\r\nEclipse Menu =&gt; Window =&gt; Preferences &lt;br&gt;\r\nXML =&gt; XML Files =&gt; Editor =&gt; Content Assist&lt;br&gt;\r\nHere you can check things like &quot;Automatically make suggestions&quot; ","title":"No default proposals in Eclipse when working with XML","body":"<p>Make sure to open xml file with proper editor in Eclipse.<br>\nSelect xml file =&gt; click with right mouse button =&gt; Open with =&gt; XML Editor<br></p>\n<p>Then you can press &quot;Strg + Space&quot; while typing and you should get the proposals.</p>\n<p>You can also check your Content Assist settings here:\nEclipse Menu =&gt; Window =&gt; Preferences <br>\nXML =&gt; XML Files =&gt; Editor =&gt; Content Assist<br>\nHere you can check things like &quot;Automatically make suggestions&quot;</p>\n"},{"tags":[],"owner":{"account_id":26709936,"reputation":1,"user_id":20315492,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666794489,"creation_date":1666539229,"answer_id":74172438,"question_id":64758579,"body_markdown":"Please add the Rest Assured latest JAR Externally. It is working. I was also facing the same issue but now it is working for me. [Check this out][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OMgn6.png","title":"No default proposals in Eclipse when working with XML","body":"<p>Please add the Rest Assured latest JAR Externally. It is working. I was also facing the same issue but now it is working for me. <a href=\"https://i.stack.imgur.com/OMgn6.png\" rel=\"nofollow noreferrer\">Check this out</a></p>\n"}],"owner":{"account_id":18975237,"reputation":15,"user_id":13847868,"display_name":"Zerii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64759124,"answer_count":2,"score":1,"last_activity_date":1666794489,"creation_date":1604952599,"question_id":64758579,"body_markdown":"So i  started learning javaFX.\r\nAnd ive succesfully added javadocumentation in Eclipse when working with XML, but normally when im working with Java in Eclipse i get default recommendations with methods or when typing in java i get recommendations. These are really nice and i often scroll trough them just to see what methods there are and play around if i see anything interesting. \r\nWhen working in XML files i do not get the recommendations at all, ive tried alot of stuff and dont wanna break something since i just started on JavaFX and finally configured most things correctly :P\r\n\r\nCan anyone please help me ?\r\n\r\nThanks in  advance!!\r\n\r\n\r\nInfo: JDK 11\r\n\r\nJavaFX version 11\r\n\r\n[This is someone who does get the default proposal][1]\r\n\r\n[I do not get any kind of proposal when typing at all just to show here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHoJA.png\r\n  [2]: https://i.stack.imgur.com/CLXTT.png","title":"No default proposals in Eclipse when working with XML","body":"<p>So i  started learning javaFX.\nAnd ive succesfully added javadocumentation in Eclipse when working with XML, but normally when im working with Java in Eclipse i get default recommendations with methods or when typing in java i get recommendations. These are really nice and i often scroll trough them just to see what methods there are and play around if i see anything interesting.\nWhen working in XML files i do not get the recommendations at all, ive tried alot of stuff and dont wanna break something since i just started on JavaFX and finally configured most things correctly :P</p>\n<p>Can anyone please help me ?</p>\n<p>Thanks in  advance!!</p>\n<p>Info: JDK 11</p>\n<p>JavaFX version 11</p>\n<p><a href=\"https://i.stack.imgur.com/fHoJA.png\" rel=\"nofollow noreferrer\">This is someone who does get the default proposal</a></p>\n<p><a href=\"https://i.stack.imgur.com/CLXTT.png\" rel=\"nofollow noreferrer\">I do not get any kind of proposal when typing at all just to show here</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1666646932,"post_id":74186951,"comment_id":130982683,"body_markdown":"It uses [`HttpMessageConverter`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html).","body":"It uses <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>HttpMessageConverter</code></a>."},{"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"score":0,"creation_date":1666667057,"post_id":74186951,"comment_id":130985984,"body_markdown":"I assume you are curious on how it works instead of just using it. The easiest way is to see the code if it is available. If it is not, it probably uses the methods defined by the superclass or the interfaces. Or, it could use introspection to do that. Apart from curiosity sake, I wouldnt bother how it works, but that it works correctly.","body":"I assume you are curious on how it works instead of just using it. The easiest way is to see the code if it is available. If it is not, it probably uses the methods defined by the superclass or the interfaces. Or, it could use introspection to do that. Apart from curiosity sake, I wouldnt bother how it works, but that it works correctly."}],"owner":{"account_id":26721316,"reputation":19,"user_id":20325103,"display_name":"CDevoss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666794442,"creation_date":1666646559,"question_id":74186951,"body_markdown":"Hoping to get some help in finding how `RestTemplate.exchange()` can take in a `HttpEntity` with a generic body type such as: `HttpEntity(T body, MultiValueMap&lt;String,String&gt; headers)` \r\n\r\nHow do I know how `RestTemplate.exchange()` makes use of my `HttpEntity` with my own custom object type body? Is it calling a `.toString()` on whatever object the body is? How can I confirm that&#39;s how it works? Thanks for any help!\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpEntity.html\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"How does RestTemplate make use of HttpEntity with a generic body?","body":"<p>Hoping to get some help in finding how <code>RestTemplate.exchange()</code> can take in a <code>HttpEntity</code> with a generic body type such as: <code>HttpEntity(T body, MultiValueMap&lt;String,String&gt; headers)</code></p>\n<p>How do I know how <code>RestTemplate.exchange()</code> makes use of my <code>HttpEntity</code> with my own custom object type body? Is it calling a <code>.toString()</code> on whatever object the body is? How can I confirm that's how it works? Thanks for any help!</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpEntity.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpEntity.html</a></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html</a></p>\n"},{"tags":["java","arraylist","parallel-processing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1666807613,"post_id":74208979,"comment_id":131025541,"body_markdown":"`list.stream().parallel().forEach(e -&gt; doStuffWith(e));`?","body":"<code>list.stream().parallel().forEach(e -&gt; doStuffWith(e));</code>?"},{"owner":{"account_id":8434884,"reputation":613,"user_id":6329331,"display_name":"MiGo"},"score":0,"creation_date":1666881795,"post_id":74208979,"comment_id":131044591,"body_markdown":"what if there is an exception for one of the &#39;e&#39; in doStuffWith(e) ??  will it proceed to other e s?","body":"what if there is an exception for one of the &#39;e&#39; in doStuffWith(e) ??  will it proceed to other e s?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1666881965,"post_id":74208979,"comment_id":131044658,"body_markdown":"No.  But you can either change doStuffWith to catch exceptions, or you can write a wrapper method like doStuffQuietlyWith that calls doStuffWith and catches exceptions.","body":"No.  But you can either change doStuffWith to catch exceptions, or you can write a wrapper method like doStuffQuietlyWith that calls doStuffWith and catches exceptions."}],"owner":{"account_id":8434884,"reputation":613,"user_id":6329331,"display_name":"MiGo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666794270,"creation_date":1666792322,"question_id":74208979,"body_markdown":"I have a an ArrayList of Strings for example \r\n\r\n    List&lt;String&gt; list= new ArrayList&lt;&gt;();\r\n    list.add(&quot;element1&quot;);\r\n    list.add(&quot;element1&quot;);\r\n    list.add(&quot;element1&quot;);\r\n\r\nfor every element in this list i have to do some checks by calling few methods and it is possible that some of the elements may throw exceptions but it should not affect for other elements i.e. the program should not stop. How can I process these elements parallely?","title":"How can i process something parallely for list of string elements in ArrayList?","body":"<p>I have a an ArrayList of Strings for example</p>\n<pre><code>List&lt;String&gt; list= new ArrayList&lt;&gt;();\nlist.add(&quot;element1&quot;);\nlist.add(&quot;element1&quot;);\nlist.add(&quot;element1&quot;);\n</code></pre>\n<p>for every element in this list i have to do some checks by calling few methods and it is possible that some of the elements may throw exceptions but it should not affect for other elements i.e. the program should not stop. How can I process these elements parallely?</p>\n"},{"tags":["selenium","automated-tests","java","testlink"],"owner":{"display_name":"user4559147"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666793925,"creation_date":1444190624,"question_id":32983610,"body_markdown":"I am working on a Automation Testing Framework for UI (browser) testing using selenium.\r\n\r\nWe are using Test Link for storing test cases and managing execution status.\r\n\r\nWe are using Test Link api to update the execution status back in test link after execution, but the status gets updated at test case level.\r\n\r\nI need to update the execution status at test step level also.\r\n\r\nNeed insights into this.\r\nBelow is the code i have used.\r\n\r\n\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import testlink.api.java.client.TestLinkAPIClient;\r\n    import testlink.api.java.client.TestLinkAPIException;\r\n    import testlink.api.java.client.TestLinkAPIResults;\r\n    \r\n    public class AutomatedUpdateExample {\r\n    \r\n    \tpublic static String DEVKEY = &quot;2f404203b306bd8dd811a7f824c194d0&quot;;\r\n    \tpublic static String URL = &quot;http://localhost/testlink/lib/api/xmlrpc/v1/xmlrpc.php&quot;;\r\n    \r\n    \tpublic static void reportResult(String TestProject, String TestPlan, String Testcase, String Build, String Notes, String Result) throws TestLinkAPIException {\r\n    \t\tTestLinkAPIClient api = new TestLinkAPIClient(DEVKEY, URL);\r\n    \t\tapi.reportTestCaseResult(TestProject, TestPlan, Testcase, Build, Notes,\tResult);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void Test1() throws Exception {\r\n    \t\tAutomatedUpdateExample a = new AutomatedUpdateExample();\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \t\tWebDriverWait wait = new WebDriverWait(driver, 600);\r\n    \t\tString testProject = &quot;Gmail&quot;;\r\n    \t\tString testPlan = &quot;SampleTestPlan&quot;;\r\n    \t\tString testCase = &quot;GmailLogin1&quot;;\r\n    \t\tString build = &quot;SampleBuild&quot;;\r\n    \t\tString notes = null;\r\n    \t\tString result = null;\r\n    \t\ttry {\r\n    \t\t\tdriver.manage().window().maximize();\r\n    \t\t\tdriver.get(&quot;https://accounts.google.com/ServiceLogin?service=mail&amp;passive=true&amp;rm=false&amp;continue=https://mail.google.com/mail/&amp;ss=1&amp;scc=1&amp;ltmpl=default&amp;ltmplcache=2&amp;emr=1&quot;);\r\n    \t\t\tdriver.findElement(By.id(&quot;Email&quot;)).sendKeys(&quot;testlink.msoftgp&quot;);\r\n    \t\t\tdriver.findElement(By.id(&quot;Passwd&quot;)).sendKeys(&quot;*******&quot;);\r\n    \t\t\tdriver.findElement(By.id(&quot;signIn&quot;)).click();\r\n    \t\t\tdriver.switchTo().defaultContent();\r\n    \t\t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(&quot;+Testlink&quot;)));\r\n    \t\t\tresult = TestLinkAPIResults.TEST_PASSED;\r\n    \t\t\tnotes = &quot;Executed successfully&quot;;\r\n    \t\t}\r\n    \r\n    \t\tcatch (Exception e) {\r\n    \t\t\tresult = TestLinkAPIResults.TEST_FAILED;\r\n    \t\t\tnotes = &quot;Execution failed&quot;;\r\n    \t\t} finally {\r\n    \t\t\ta.reportResult(testProject, testPlan, testCase, build, notes, result);\r\n    \t\t\tdriver.quit();\r\n    \t\t}\r\n    \t}\r\n    }","title":"TestLink API to update execution status at test step level","body":"<p>I am working on a Automation Testing Framework for UI (browser) testing using selenium.</p>\n\n<p>We are using Test Link for storing test cases and managing execution status.</p>\n\n<p>We are using Test Link api to update the execution status back in test link after execution, but the status gets updated at test case level.</p>\n\n<p>I need to update the execution status at test step level also.</p>\n\n<p>Need insights into this.\nBelow is the code i have used.</p>\n\n<pre><code>import org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport testlink.api.java.client.TestLinkAPIClient;\nimport testlink.api.java.client.TestLinkAPIException;\nimport testlink.api.java.client.TestLinkAPIResults;\n\npublic class AutomatedUpdateExample {\n\n    public static String DEVKEY = \"2f404203b306bd8dd811a7f824c194d0\";\n    public static String URL = \"http://localhost/testlink/lib/api/xmlrpc/v1/xmlrpc.php\";\n\n    public static void reportResult(String TestProject, String TestPlan, String Testcase, String Build, String Notes, String Result) throws TestLinkAPIException {\n        TestLinkAPIClient api = new TestLinkAPIClient(DEVKEY, URL);\n        api.reportTestCaseResult(TestProject, TestPlan, Testcase, Build, Notes, Result);\n    }\n\n    @Test\n    public void Test1() throws Exception {\n        AutomatedUpdateExample a = new AutomatedUpdateExample();\n        WebDriver driver = new FirefoxDriver();\n        WebDriverWait wait = new WebDriverWait(driver, 600);\n        String testProject = \"Gmail\";\n        String testPlan = \"SampleTestPlan\";\n        String testCase = \"GmailLogin1\";\n        String build = \"SampleBuild\";\n        String notes = null;\n        String result = null;\n        try {\n            driver.manage().window().maximize();\n            driver.get(\"https://accounts.google.com/ServiceLogin?service=mail&amp;passive=true&amp;rm=false&amp;continue=https://mail.google.com/mail/&amp;ss=1&amp;scc=1&amp;ltmpl=default&amp;ltmplcache=2&amp;emr=1\");\n            driver.findElement(By.id(\"Email\")).sendKeys(\"testlink.msoftgp\");\n            driver.findElement(By.id(\"Passwd\")).sendKeys(\"*******\");\n            driver.findElement(By.id(\"signIn\")).click();\n            driver.switchTo().defaultContent();\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(\"+Testlink\")));\n            result = TestLinkAPIResults.TEST_PASSED;\n            notes = \"Executed successfully\";\n        }\n\n        catch (Exception e) {\n            result = TestLinkAPIResults.TEST_FAILED;\n            notes = \"Execution failed\";\n        } finally {\n            a.reportResult(testProject, testPlan, testCase, build, notes, result);\n            driver.quit();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666768029,"post_id":74203728,"comment_id":131011486,"body_markdown":"Once, you found node of `data1` (not a good parameter name:) (`temp` in your case), you have to: 1. `Node memNext = temp.next;` 2. `temp.next = insertNode;` and 3. `insertNode.next = memNext;`","body":"Once, you found node of <code>data1</code> (not a good parameter name:) (<code>temp</code> in your case), you have to: 1. <code>Node memNext = temp.next;</code> 2. <code>temp.next = insertNode;</code> and 3. <code>insertNode.next = memNext;</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666768501,"post_id":74203728,"comment_id":131011614,"body_markdown":"1) `insertNode.nextNode = temp;` would be for &#39;insert before&#39;, but not for &#39;insert after&#39;; 2) `temp = insertNode;` is only changing the value of `temp` but not setting the `next` field of the corresponding node","body":"1) <code>insertNode.nextNode = temp;</code> would be for &#39;insert before&#39;, but not for &#39;insert after&#39;; 2) <code>temp = insertNode;</code> is only changing the value of <code>temp</code> but not setting the <code>next</code> field of the corresponding node"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1666768779,"post_id":74203728,"comment_id":131011702,"body_markdown":"You will end in a `NullPointerException` if `data1` is not in the list","body":"You will end in a <code>NullPointerException</code> if <code>data1</code> is not in the list"},{"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"score":0,"creation_date":1666770078,"post_id":74203728,"comment_id":131012116,"body_markdown":"@user16320675 -  ```insertNode.nextNode = temp;``` ```temp = insertNode;``` This code is not working for insert before . Where I am going wrong?","body":"@user16320675 -  <code>insertNode.nextNode = temp;</code> <code>temp = insertNode;</code> This code is not working for insert before . Where I am going wrong?"},{"owner":{"account_id":7934299,"reputation":156,"user_id":5990941,"display_name":"Prakash Bansal"},"score":1,"creation_date":1666778684,"post_id":74203728,"comment_id":131014905,"body_markdown":"@isilia Insert Before can be considered as Insert After on previous node of temp. So instead of using\nwhile (temp.data != data1)\nuse\nwhile (temp.next.data != data1)\n\nand rest of the logic remains same as insertAfter.","body":"@isilia Insert Before can be considered as Insert After on previous node of temp. So instead of using while (temp.data != data1) use while (temp.next.data != data1)  and rest of the logic remains same as insertAfter."}],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666793607,"creation_date":1666768075,"answer_id":74203869,"question_id":74203728,"body_markdown":"Your logic for `insertAfter` is not correct. Your `while` loop exits when it encounters a node with the same value as data1. Then, you need to point the new node to the next value of the node containing data1, and point the node containing data1 to the newly added node with the value of data2. Adding this would fix the bug.\r\n\r\n\tinsertNode.nextNode = temp.nextNode;\r\n\ttemp.nextNode = insertNode;\r\n\r\nThe new output would be something like this:\r\n\r\n&gt; 0-&gt;1-&gt;2-&gt;3-&gt;72-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null\r\n\r\n\r\nJust to answer your second query, yes you can implement `insertBefore` in a singly linked list using a pointer which points to the previous node in addition to the one pointing to the current node. Here&#39;s how it looks. Please note that error handling is omitted for simplicity&#39;s sake.\r\n\r\n\t\r\n\r\n    public void insertBefore(T data1, T data2) {\r\n    \t\tNode p = null;\r\n    \t\tNode curr = headNode;\r\n    \t\twhile (curr.data != data1) {\r\n    \t\t\tp = curr;\r\n    \t\t\tcurr = curr.nextNode;\r\n    \t\t}\r\n    \r\n    \t\tNode insertNode = new Node();\r\n    \t\tinsertNode.data = data2;\r\n    \t\tp.nextNode = insertNode;\r\n    \t\tinsertNode.nextNode = curr;\r\n    \t\tsize = size + 1;\r\n    \t}","title":"Insert after specific element in LinkedList java","body":"<p>Your logic for <code>insertAfter</code> is not correct. Your <code>while</code> loop exits when it encounters a node with the same value as data1. Then, you need to point the new node to the next value of the node containing data1, and point the node containing data1 to the newly added node with the value of data2. Adding this would fix the bug.</p>\n<pre><code>insertNode.nextNode = temp.nextNode;\ntemp.nextNode = insertNode;\n</code></pre>\n<p>The new output would be something like this:</p>\n<blockquote>\n<p>0-&gt;1-&gt;2-&gt;3-&gt;72-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null</p>\n</blockquote>\n<p>Just to answer your second query, yes you can implement <code>insertBefore</code> in a singly linked list using a pointer which points to the previous node in addition to the one pointing to the current node. Here's how it looks. Please note that error handling is omitted for simplicity's sake.</p>\n<pre><code>public void insertBefore(T data1, T data2) {\n        Node p = null;\n        Node curr = headNode;\n        while (curr.data != data1) {\n            p = curr;\n            curr = curr.nextNode;\n        }\n\n        Node insertNode = new Node();\n        insertNode.data = data2;\n        p.nextNode = insertNode;\n        insertNode.nextNode = curr;\n        size = size + 1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666771334,"creation_date":1666769366,"answer_id":74204127,"question_id":74203728,"body_markdown":"If you want to insert after the data1 your error is here(insertAfter method):\r\n\r\n    insertNode.nextNode = temp;\r\n        temp = insertNode;\r\n\r\nSo this is the right code:\r\n\r\n    Node next = temp.nextNode;\r\n    temp.nextNode = insertNode;\r\n    insertNode.nextNode = next;","title":"Insert after specific element in LinkedList java","body":"<p>If you want to insert after the data1 your error is here(insertAfter method):</p>\n<pre><code>insertNode.nextNode = temp;\n    temp = insertNode;\n</code></pre>\n<p>So this is the right code:</p>\n<pre><code>Node next = temp.nextNode;\ntemp.nextNode = insertNode;\ninsertNode.nextNode = next;\n</code></pre>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74203869,"answer_count":2,"score":0,"last_activity_date":1666793607,"creation_date":1666767260,"question_id":74203728,"body_markdown":"I was trying to write the function insertAfter to insert the element after specific element in the LinkedList . Below is the code. The insertAfter function is not producing the desired output. Can some one help me what mistake I have done in the below insertAfter function that I need to correct.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.lang.Exception;\r\nimport java.lang.StringBuilder;\r\nimport java.util.ArrayList;\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\nimport java.util.stream.Collectors;\r\n\r\nclass SingleLinkedList&lt;T&gt; \r\n{\r\n\tpublic class Node \r\n\t{\r\n\t\tpublic T data;\r\n\t\tpublic Node nextNode;\r\n\t}\r\n\t\r\n\tpublic Node headNode;\r\n\tpublic int size;\r\n\t\r\n\tpublic SingleLinkedList()\r\n\t{\r\n\t\theadNode = null;\r\n\t\tsize = 0;\r\n\t}\r\n\t\r\n\tpublic boolean isEmpty()\r\n\t{\r\n\t\tif (headNode == null)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic void insertAtHead(T data)\r\n\t{\r\n\t\tNode node = new Node();\r\n\t\tnode.data = data;\r\n\t\tnode.nextNode = headNode;\r\n\t\theadNode = node;\r\n\t\tsize++;\r\n\t}\r\n\t\r\n\tpublic void insertAtEnd(T data)\r\n\t{\r\n\t\tif (isEmpty())\r\n\t\t{\r\n\t\t\tinsertAtHead(data);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tNode newNode = new Node();\r\n\t\tnewNode.data = data;\r\n\t\tnewNode.nextNode = null;\r\n\t\t\r\n\t\tNode last = headNode;\r\n\t\twhile (last.nextNode != null)\r\n\t\t{\r\n\t\t\tlast = last.nextNode;\r\n\t\t}\r\n\t\t\r\n\t\tlast.nextNode = newNode;\r\n\t\tsize++;\r\n\t}\r\n\t\r\n\tpublic void insertAfter(T data1, T data2)\r\n\t{\r\n\t\tif (isEmpty())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;The list is empty&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tNode insertNode = new Node();\r\n\t\tinsertNode.data = data2;\r\n\t\t\r\n\t\tNode temp = headNode;\r\n\t\twhile (temp.data != data1)\r\n\t\t{\r\n\t\t\ttemp = temp.nextNode;\r\n\t\t}\r\n\t\t\r\n\t\tinsertNode.nextNode = temp;\r\n\t\ttemp = insertNode;\r\n\t\tsize++;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void printList()\r\n\t{\r\n\t\tif (isEmpty())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;The list is empty.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tNode temp = headNode;\r\n\t\tSystem.out.println(&quot;List : &quot;);\r\n\t\twhile (temp.nextNode != null)\r\n\t\t{\r\n\t\t\tSystem.out.print(temp.data.toString() + &quot;-&gt;&quot;);\r\n\t\t\ttemp = temp.nextNode;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot; null&quot;);\r\n\t}\r\n}\r\n  \r\n\r\n\r\n\r\n\r\n\r\npublic class Solution\r\n{\r\n  //static String originalString=&quot;AbcDef&quot;;\r\n  \r\n  \r\n     \r\n  \r\n  \r\n  // arguments are passed using the text field below this editor\r\n  public static void main(String[] args)\r\n  {\r\n\t SingleLinkedList&lt;Integer&gt; sll = new SingleLinkedList&lt;&gt;();\r\n     sll.printList();\r\n     for (int i = 0; i &lt;= 10; i++)\r\n     {\r\n\t\t sll.insertAtEnd(i);\r\n\t\t \r\n\t\t \r\n\t }\r\n\r\n    sll.printList();\t\r\n\r\n     System.out.println(&quot;The size of the list is : &quot; + sll.size);\r\n\r\n     sll.insertAfter(3,72);\r\n\t \r\n\t sll.printList();\r\n\r\n     System.out.println(&quot;The new size of the list is : &quot; + sll.size); \r\n\t \r\n  \r\n  }\r\n}\r\n\r\n```\r\n\r\nIn the insertAfter function I create a temp Node and assign the headNode address. Then I create a while loop and traverse the list until I reach the data element after which I need to insert and update the nextNode address in temp Node. Once the loop breaks I update the new Node next address to the temp Node and update the temp node address with the address of the new Node. It seems correct to me but code provides below output.\r\n\r\n```\r\nThe list is empty.\r\nList :\r\n0-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null\r\nThe size of the list is : 11\r\nList :\r\n0-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null\r\nThe new size of the list is : 12\r\n\r\n```\r\n","title":"Insert after specific element in LinkedList java","body":"<p>I was trying to write the function insertAfter to insert the element after specific element in the LinkedList . Below is the code. The insertAfter function is not producing the desired output. Can some one help me what mistake I have done in the below insertAfter function that I need to correct.</p>\n<pre><code>import java.util.Scanner;\nimport java.lang.Exception;\nimport java.lang.StringBuilder;\nimport java.util.ArrayList;\nimport java.util.*;\nimport java.util.regex.*;\nimport java.util.stream.Collectors;\n\nclass SingleLinkedList&lt;T&gt; \n{\n    public class Node \n    {\n        public T data;\n        public Node nextNode;\n    }\n    \n    public Node headNode;\n    public int size;\n    \n    public SingleLinkedList()\n    {\n        headNode = null;\n        size = 0;\n    }\n    \n    public boolean isEmpty()\n    {\n        if (headNode == null)\n        {\n            return true;\n        }\n        return false;\n    }\n    \n    public void insertAtHead(T data)\n    {\n        Node node = new Node();\n        node.data = data;\n        node.nextNode = headNode;\n        headNode = node;\n        size++;\n    }\n    \n    public void insertAtEnd(T data)\n    {\n        if (isEmpty())\n        {\n            insertAtHead(data);\n            return;\n        }\n        \n        Node newNode = new Node();\n        newNode.data = data;\n        newNode.nextNode = null;\n        \n        Node last = headNode;\n        while (last.nextNode != null)\n        {\n            last = last.nextNode;\n        }\n        \n        last.nextNode = newNode;\n        size++;\n    }\n    \n    public void insertAfter(T data1, T data2)\n    {\n        if (isEmpty())\n        {\n            System.out.println(&quot;The list is empty&quot;);\n            return;\n        }\n        \n        Node insertNode = new Node();\n        insertNode.data = data2;\n        \n        Node temp = headNode;\n        while (temp.data != data1)\n        {\n            temp = temp.nextNode;\n        }\n        \n        insertNode.nextNode = temp;\n        temp = insertNode;\n        size++;\n        \n        \n    }\n    \n    public void printList()\n    {\n        if (isEmpty())\n        {\n            System.out.println(&quot;The list is empty.&quot;);\n            return;\n        }\n        \n        Node temp = headNode;\n        System.out.println(&quot;List : &quot;);\n        while (temp.nextNode != null)\n        {\n            System.out.print(temp.data.toString() + &quot;-&gt;&quot;);\n            temp = temp.nextNode;\n        }\n        \n        System.out.println(&quot; null&quot;);\n    }\n}\n  \n\n\n\n\n\npublic class Solution\n{\n  //static String originalString=&quot;AbcDef&quot;;\n  \n  \n     \n  \n  \n  // arguments are passed using the text field below this editor\n  public static void main(String[] args)\n  {\n     SingleLinkedList&lt;Integer&gt; sll = new SingleLinkedList&lt;&gt;();\n     sll.printList();\n     for (int i = 0; i &lt;= 10; i++)\n     {\n         sll.insertAtEnd(i);\n         \n         \n     }\n\n    sll.printList();    \n\n     System.out.println(&quot;The size of the list is : &quot; + sll.size);\n\n     sll.insertAfter(3,72);\n     \n     sll.printList();\n\n     System.out.println(&quot;The new size of the list is : &quot; + sll.size); \n     \n  \n  }\n}\n\n</code></pre>\n<p>In the insertAfter function I create a temp Node and assign the headNode address. Then I create a while loop and traverse the list until I reach the data element after which I need to insert and update the nextNode address in temp Node. Once the loop breaks I update the new Node next address to the temp Node and update the temp node address with the address of the new Node. It seems correct to me but code provides below output.</p>\n<pre><code>The list is empty.\nList :\n0-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null\nThe size of the list is : 11\nList :\n0-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;9-&gt; null\nThe new size of the list is : 12\n\n</code></pre>\n"},{"tags":["java","sorting","object","arraylist"],"comments":[{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1666792950,"post_id":74208999,"comment_id":131020020,"body_markdown":"**I have tried several codes but it gets me no where.** Show it then. Based on your code, I don&#39;t see any of your attempt on overriding the contains function, or comparing the elements before inserting it.","body":"<b>I have tried several codes but it gets me no where.</b> Show it then. Based on your code, I don&#39;t see any of your attempt on overriding the contains function, or comparing the elements before inserting it."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1666794144,"post_id":74208999,"comment_id":131020518,"body_markdown":"Does this answer your question? [Java Streams  How to group by value and find min and max value of each group?](https://stackoverflow.com/questions/51377851/java-streams-how-to-group-by-value-and-find-min-and-max-value-of-each-group)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51377851/java-streams-how-to-group-by-value-and-find-min-and-max-value-of-each-group\">Java Streams  How to group by value and find min and max value of each group?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666793594,"creation_date":1666793594,"answer_id":74209258,"question_id":74208999,"body_markdown":"You can take advantage of Java streams API. Grouping the values by name and getting the highest grade:\r\n```Java\r\nMap&lt;String, Result&gt; map = newSet.stream()\r\n    .collect(Collectors.toMap(Result::getName, Function.identity(), \r\n    BinaryOperator.maxBy(Comparator.comparing(Result::getGrade))));\r\n```\r\n\r\nI&#39;ve tested it using the following:\r\n```Java\r\nResult r1 = new Result(1, &quot;Emmanuel&quot;, &quot;14&quot;);\r\nResult r2 = new Result(2, &quot;Emmanuel&quot;, &quot;15&quot;);\r\n```\r\nAnd the result is:\r\n```\r\n{Emmanuel=Result{date=2, name=&#39;Emmanuel&#39;, grade=&#39;15&#39;}}\r\n```","title":"deleting duplicate objects from an arraylist","body":"<p>You can take advantage of Java streams API. Grouping the values by name and getting the highest grade:</p>\n<pre><code>Map&lt;String, Result&gt; map = newSet.stream()\n    .collect(Collectors.toMap(Result::getName, Function.identity(), \n    BinaryOperator.maxBy(Comparator.comparing(Result::getGrade))));\n</code></pre>\n<p>I've tested it using the following:</p>\n<pre><code>Result r1 = new Result(1, &quot;Emmanuel&quot;, &quot;14&quot;);\nResult r2 = new Result(2, &quot;Emmanuel&quot;, &quot;15&quot;);\n</code></pre>\n<p>And the result is:</p>\n<pre><code>{Emmanuel=Result{date=2, name='Emmanuel', grade='15'}}\n</code></pre>\n"}],"owner":{"account_id":26738537,"reputation":1,"user_id":20339697,"display_name":"zara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666793594,"creation_date":1666792403,"question_id":74208999,"body_markdown":"I have an array list consisting of objects defined in the class Result(date, name, grade). I have managed to sort the dataset. However I want there to be no duplicates, only the object with that has  **highest** grade attribute should be left. I have tried several codes but it gets me no where.\r\n\r\nThe data looks as following now,   \r\nDATE  NAME  GRADE\r\n```none\r\n0612 AA BB 15\r\n0713 AA BB 12\r\n0613 CD E 7\r\n0327 KA BC 23\r\n0903 KA BC 15\r\n```\r\nBut i want it to look like this\r\n```none\r\n0612 AA BB 15\r\n0613 CD E 7\r\n0327 KA BC 23\r\n```\r\nResult class defined as below\r\n```\r\n    Result(int date,String name, String grade){  \r\n        this.date=date;  \r\n        this.name=first;  \r\n        this.grade=grade;\r\n    }  \r\n```\r\n\r\n\r\n```\r\n  for (Result element:info) {\r\n          if (!newList.contains(element.name)) {\r\n              newList.add(element);\r\n            }\r\n        }\r\n\r\n        for(Result st:newList){  \r\n          System.out.println(st.date+&quot; &quot;+st.name+&quot; &quot; + st.grade);   \r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\nI have done this, so far. However it does not give me the wanted output.\r\n","title":"deleting duplicate objects from an arraylist","body":"<p>I have an array list consisting of objects defined in the class Result(date, name, grade). I have managed to sort the dataset. However I want there to be no duplicates, only the object with that has  <strong>highest</strong> grade attribute should be left. I have tried several codes but it gets me no where.</p>\n<p>The data looks as following now,<br />\nDATE  NAME  GRADE</p>\n<pre class=\"lang-none prettyprint-override\"><code>0612 AA BB 15\n0713 AA BB 12\n0613 CD E 7\n0327 KA BC 23\n0903 KA BC 15\n</code></pre>\n<p>But i want it to look like this</p>\n<pre class=\"lang-none prettyprint-override\"><code>0612 AA BB 15\n0613 CD E 7\n0327 KA BC 23\n</code></pre>\n<p>Result class defined as below</p>\n<pre><code>    Result(int date,String name, String grade){  \n        this.date=date;  \n        this.name=first;  \n        this.grade=grade;\n    }  \n</code></pre>\n<pre><code>  for (Result element:info) {\n          if (!newList.contains(element.name)) {\n              newList.add(element);\n            }\n        }\n\n        for(Result st:newList){  \n          System.out.println(st.date+&quot; &quot;+st.name+&quot; &quot; + st.grade);   \n        }\n\n    }\n}\n\n\n\n</code></pre>\n<p>I have done this, so far. However it does not give me the wanted output.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666793684,"post_id":74209191,"comment_id":131020323,"body_markdown":"If you are using Jetty as an embedded container it should work out-of-the-box. If you are deploying to an external Jetty the `management.server.port` won&#39;t do anything. Also please specify **which version** of Spring Boot you are using.","body":"If you are using Jetty as an embedded container it should work out-of-the-box. If you are deploying to an external Jetty the <code>management.server.port</code> won&#39;t do anything. Also please specify <b>which version</b> of Spring Boot you are using."},{"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"score":0,"creation_date":1666799961,"post_id":74209191,"comment_id":131022926,"body_markdown":"I presume you&#39;re prefixing all your requests to those endpoints with `/actuator/` right? Otherwise, you&#39;re not hitting the correct urls","body":"I presume you&#39;re prefixing all your requests to those endpoints with <code>&#47;actuator&#47;</code> right? Otherwise, you&#39;re not hitting the correct urls"},{"owner":{"account_id":16977173,"reputation":286,"user_id":12280162,"display_name":"WebStormer"},"score":0,"creation_date":1666806933,"post_id":74209191,"comment_id":131025309,"body_markdown":"@user3275784 yes, I am prefixing all the requests with /actuator/health etc.","body":"@user3275784 yes, I am prefixing all the requests with /actuator/health etc."},{"owner":{"account_id":16977173,"reputation":286,"user_id":12280162,"display_name":"WebStormer"},"score":0,"creation_date":1666806998,"post_id":74209191,"comment_id":131025336,"body_markdown":"@M.Deinum I am using Spring Boot 1.5.10","body":"@M.Deinum I am using Spring Boot 1.5.10"},{"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"score":0,"creation_date":1666812465,"post_id":74209191,"comment_id":131027123,"body_markdown":"@WebStormer When you say &quot;There&#39;s no way I can reach them&quot;, how are you trying to reach them? What is the error that you see? Besides, is there any reason why you are using 1.5.10 version? 1.x is already out of support in around end of 2019. If you can post you full pom.xml content will be much helpful.","body":"@WebStormer When you say &quot;There&#39;s no way I can reach them&quot;, how are you trying to reach them? What is the error that you see? Besides, is there any reason why you are using 1.5.10 version? 1.x is already out of support in around end of 2019. If you can post you full pom.xml content will be much helpful."},{"owner":{"account_id":16977173,"reputation":286,"user_id":12280162,"display_name":"WebStormer"},"score":0,"creation_date":1666812781,"post_id":74209191,"comment_id":131027217,"body_markdown":"@AnishPanthi I can&#39;t change the spring boot version as I am working on a customer project. I try to reach the endpoint with a simple get request that always returns a 404 error","body":"@AnishPanthi I can&#39;t change the spring boot version as I am working on a customer project. I try to reach the endpoint with a simple get request that always returns a 404 error"},{"owner":{"account_id":3842177,"reputation":847,"user_id":3184937,"accept_rate":71,"display_name":"Anish Panthi"},"score":0,"creation_date":1666818770,"post_id":74209191,"comment_id":131028824,"body_markdown":"If you are trying to run in your local, you should first check on `http://localhost:&lt;port&gt;/&lt;context-path&gt;/actuator/health` and see if it is exposed in project&#39;s default context-path and port.","body":"If you are trying to run in your local, you should first check on <code>http:&#47;&#47;localhost:&lt;port&gt;&#47;&lt;context-path&gt;&#47;actuator&#47;health</code> and see if it is exposed in project&#39;s default context-path and port."}],"owner":{"account_id":16977173,"reputation":286,"user_id":12280162,"display_name":"WebStormer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666793270,"creation_date":1666793270,"question_id":74209191,"body_markdown":"I am trying to add the Spring Boot actuator on an existing project using Jetty, and I was wondering if it&#39;s possible at all, because despite adding the library to the project \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAnd enabling those endpoints in the application properties:\r\n\r\n    endpoints.health.sensitive=false\r\n    endpoints.health.enabled=true\r\n    management.security.enabled=false \r\n    management.endpoints.web.exposure.include=*\r\n\r\nAnd even forcing the endpoints to one specific port:\r\n\r\n    management.server.port=9001\r\n\r\nThere&#39;s no way I can reach them. \r\n\r\nI can definitely see that the endpoints are mapped though:\r\n\r\n`[2022-10-26 15:00:37]` `org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping INFO : Mapped &quot;{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal) (AbstractHandlerMethodMapping.java:543)` \r\n\r\nThe question is, where they have been mapped, cause I tried every port, and I can&#39;t find those endpoints. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VjvFR.png","title":"Is it possible using Spring Boot actuator with Jetty?","body":"<p>I am trying to add the Spring Boot actuator on an existing project using Jetty, and I was wondering if it's possible at all, because despite adding the library to the project</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And enabling those endpoints in the application properties:</p>\n<pre><code>endpoints.health.sensitive=false\nendpoints.health.enabled=true\nmanagement.security.enabled=false \nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p>And even forcing the endpoints to one specific port:</p>\n<pre><code>management.server.port=9001\n</code></pre>\n<p>There's no way I can reach them.</p>\n<p>I can definitely see that the endpoints are mapped though:</p>\n<p><code>[2022-10-26 15:00:37]</code> <code>org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping INFO : Mapped &quot;{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}&quot; onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal) (AbstractHandlerMethodMapping.java:543)</code></p>\n<p>The question is, where they have been mapped, cause I tried every port, and I can't find those endpoints.\n<a href=\"https://i.stack.imgur.com/VjvFR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjvFR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1666766540,"post_id":74203501,"comment_id":131011080,"body_markdown":"You might want to read up on [Form handling with Thymeleaf](https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/).","body":"You might want to read up on <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666795323,"post_id":74203501,"comment_id":131021044,"body_markdown":"Hi&amp;Welcome! Passing an &quot;object via get&quot; (which `&lt;a href...` is) is rather &quot;unconventional&quot;, but possible...it would look (on client side) like `/edit?id=1&amp;price=2.99&amp;...`","body":"Hi&amp;Welcome! Passing an &quot;object via get&quot; (which <code>&lt;a href...</code> is) is rather &quot;unconventional&quot;, but possible...it would look (on client side) like <code>&#47;edit?id=1&amp;price=2.99&amp;...</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666795506,"post_id":74203501,"comment_id":131021125,"body_markdown":"..whereas on controller, you could try just: `@GetMapping(&quot;/edit&quot;)\n    public String editInvoice(Invoice invoice){..`","body":"..whereas on controller, you could try just: <code>@GetMapping(&quot;&#47;edit&quot;)     public String editInvoice(Invoice invoice){..</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666795826,"post_id":74203501,"comment_id":131021248,"body_markdown":"For the &quot;edit&quot; a `POST` (or even `PATCH` http request) would be more appropriate, you can achieve, by wrapping each row with a `&lt;form th:object=&quot;*{invoice}&quot;&gt;...` ..while the button would rather &quot;form.submit()&quot;","body":"For the &quot;edit&quot; a <code>POST</code> (or even <code>PATCH</code> http request) would be more appropriate, you can achieve, by wrapping each row with a <code>&lt;form th:object=&quot;*{invoice}&quot;&gt;...</code> ..while the button would rather &quot;form.submit()&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666795964,"post_id":74203501,"comment_id":131021304,"body_markdown":"For (use case) &quot;delete&quot;, (http request) `DELETE` &quot;sounds super&quot;!:)","body":"For (use case) &quot;delete&quot;, (http request) <code>DELETE</code> &quot;sounds super&quot;!:)"}],"owner":{"account_id":26734806,"reputation":1,"user_id":20336534,"display_name":"NeQ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666793094,"creation_date":1666765692,"question_id":74203501,"body_markdown":"I&#39;m wondering how I can receive the object from frontend(Thymeleaf) using @ModelAttribute. Main purpose of this is to edit object in the new view(html) where the fields are filled updated object therefore the invoice object is passed to model for further editing.\r\n\r\nI tried to do that.\r\n\r\n\r\nModel\r\n```\r\npublic class Invoice {\r\n    private Long id;\r\n    private BigDecimal price;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate date;\r\n    private String name;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(BigDecimal price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDate getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(LocalDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n    @GetMapping(&quot;/edit&quot;)\r\n    public String editInvoice(Model model, @ModelAttribute Invoice invoice){\r\n        model.addAttribute(&quot;updatedInvoice&quot;, invoice);\r\n        return &quot;edit&quot;;\r\n    }\r\n```\r\n\r\n\r\n```\r\n&lt;tr th:each=&quot;invoice:${allInvoices}&quot;&gt;\r\n        &lt;td th:text=&quot;${invoice.id}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${invoice.price}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${invoice.date}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${invoice.name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;a th:href=&quot;@{/delete(id=${invoice.id})}&quot; class=&quot;btn btn-danger&quot;&gt;DELETE&lt;/a&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;a th:href=&quot;@{/edit(invoice=${invoice})}&quot; class=&quot;btn btn-primary&quot;&gt;EDIT&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n```\r\n\r\n\r\nFinally I see that the invoice object has allocated memory but it is empty(I mean its variables)\r\nWhen I printout the invoice object I get this: main.domain.model.Invoice@37567a3b  it is not null but object has empty variables.\r\n\r\nThank you in advance for support and help.\r\n\r\nMain purpose of this is to edit object in the new view(html) where the fields are filled updated object therefore the invoice object is passed to model for further editing.","title":"Model attributes in Thymleaf and Spring boot","body":"<p>I'm wondering how I can receive the object from frontend(Thymeleaf) using @ModelAttribute. Main purpose of this is to edit object in the new view(html) where the fields are filled updated object therefore the invoice object is passed to model for further editing.</p>\n<p>I tried to do that.</p>\n<p>Model</p>\n<pre><code>public class Invoice {\n    private Long id;\n    private BigDecimal price;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate date;\n    private String name;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public LocalDate getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDate date) {\n        this.date = date;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<pre><code>    @GetMapping(&quot;/edit&quot;)\n    public String editInvoice(Model model, @ModelAttribute Invoice invoice){\n        model.addAttribute(&quot;updatedInvoice&quot;, invoice);\n        return &quot;edit&quot;;\n    }\n</code></pre>\n<pre><code>&lt;tr th:each=&quot;invoice:${allInvoices}&quot;&gt;\n        &lt;td th:text=&quot;${invoice.id}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${invoice.price}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${invoice.date}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${invoice.name}&quot;&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;a th:href=&quot;@{/delete(id=${invoice.id})}&quot; class=&quot;btn btn-danger&quot;&gt;DELETE&lt;/a&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;a th:href=&quot;@{/edit(invoice=${invoice})}&quot; class=&quot;btn btn-primary&quot;&gt;EDIT&lt;/a&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n</code></pre>\n<p>Finally I see that the invoice object has allocated memory but it is empty(I mean its variables)\nWhen I printout the invoice object I get this: main.domain.model.Invoice@37567a3b  it is not null but object has empty variables.</p>\n<p>Thank you in advance for support and help.</p>\n<p>Main purpose of this is to edit object in the new view(html) where the fields are filled updated object therefore the invoice object is passed to model for further editing.</p>\n"},{"tags":["java","spring-boot","properties-file","wiremock","spring-boot-2"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1616395083,"post_id":66741276,"comment_id":117978287,"body_markdown":"Please add a code of your test, at least the annotations you&#39;re using in the test as well as the exact location of `application.properties` file. Without the code we can only speculate","body":"Please add a code of your test, at least the annotations you&#39;re using in the test as well as the exact location of <code>application.properties</code> file. Without the code we can only speculate"},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":0,"creation_date":1616403941,"post_id":66741276,"comment_id":117981323,"body_markdown":"You can get these details in log file/console. At server start up, all the details about configuration files being loaded are logged in log file/console.","body":"You can get these details in log file/console. At server start up, all the details about configuration files being loaded are logged in log file/console."},{"owner":{"account_id":471451,"reputation":175,"user_id":10471045,"display_name":"cool_ravi"},"score":0,"creation_date":1616415163,"post_id":66741276,"comment_id":117986189,"body_markdown":"@pratap Nope, we don&#39;t get file name in log/console","body":"@pratap Nope, we don&#39;t get file name in log/console"},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":0,"creation_date":1616480711,"post_id":66741276,"comment_id":118008206,"body_markdown":"If you enable the DEBUG log, it should show the properties file loaded. I just created sample spring boot application and started with DEBUG logging, here is what I see in logs\n```2021-03-23 11:53:17.157 DEBUG 16544 --- [           main] o.s.w.c.s.StandardServletEnvironment     : Adding [applicationConfig: [classpath:/application.properties]] PropertySource with search precedence immediately lower than [applicationConfigurationProperties] ```","body":"If you enable the DEBUG log, it should show the properties file loaded. I just created sample spring boot application and started with DEBUG logging, here is what I see in logs <code>2021-03-23 11:53:17.157 DEBUG 16544 --- [           main] o.s.w.c.s.StandardServletEnvironment     : Adding [applicationConfig: [classpath:&#47;application.properties]] PropertySource with search precedence immediately lower than [applicationConfigurationProperties] </code>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616396058,"creation_date":1616396058,"answer_id":66741491,"question_id":66741276,"body_markdown":"Ok, following the test definition please make sure that:\r\n\r\n1. You should run the test with spring runner (spring extension if you&#39;re on JUnit5). So you should place the annotation `@RunWith(SpringRunner.class)` (or `@ExtendsWith(SpringExtension.class)` for junit 5)\r\n\r\n2. The property source you&#39;re using is `application-test.properties`. You&#39;ve said that the properties file is located in `src/main/resources` but the file name probably implies that it should reside in `src/test/resources`\r\n\r\n","title":"Is there a way to get list of loaded properties file in SpringBoot application?","body":"<p>Ok, following the test definition please make sure that:</p>\n<ol>\n<li><p>You should run the test with spring runner (spring extension if you're on JUnit5). So you should place the annotation <code>@RunWith(SpringRunner.class)</code> (or <code>@ExtendsWith(SpringExtension.class)</code> for junit 5)</p>\n</li>\n<li><p>The property source you're using is <code>application-test.properties</code>. You've said that the properties file is located in <code>src/main/resources</code> but the file name probably implies that it should reside in <code>src/test/resources</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21066800,"reputation":31,"user_id":15483853,"display_name":"Andrian Ang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616739556,"creation_date":1616739556,"answer_id":66811937,"question_id":66741276,"body_markdown":"After searching and trying out for a while, looks like `ConfigurableEnvironment` is what you&#39;re trying to find.\r\n\r\nThe code is pretty simple. However I think it&#39;s better to debug and check the `configurableEnvironment` value directly, so you can adjust the code to your needs (remove filter name, etc). \r\n\r\n\r\n      @Autowired\r\n      private ConfigurableEnvironment configurableEnvironment;\r\n    \r\n      @Test\r\n      public void getProperties() {\r\n        Map&lt;String, Object&gt; mapOfProperties = configurableEnvironment.getPropertySources()\r\n            .stream()\r\n            .filter(propertySource -&gt; propertySource.getName()\r\n                .contains(&quot;application-test.properties&quot;))\r\n            .collect(Collectors.toMap(PropertySource::getName, PropertySource::getSource));\r\n        mapOfProperties.values()\r\n            .forEach(System.out::println);\r\n      }\r\n\r\nthe code will printed out \r\n\r\n&gt; {properties-one=value-for-properties-one,\r\n&gt; properties-two=value-for-properties-two}\r\n\r\nwith my application-test.properties value\r\n\r\n```\r\nproperties-one=value-for-properties-one\r\nproperties-two=value-for-properties-two\r\n```\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html","title":"Is there a way to get list of loaded properties file in SpringBoot application?","body":"<p>After searching and trying out for a while, looks like <code>ConfigurableEnvironment</code> is what you're trying to find.</p>\n<p>The code is pretty simple. However I think it's better to debug and check the <code>configurableEnvironment</code> value directly, so you can adjust the code to your needs (remove filter name, etc).</p>\n<pre><code>  @Autowired\n  private ConfigurableEnvironment configurableEnvironment;\n\n  @Test\n  public void getProperties() {\n    Map&lt;String, Object&gt; mapOfProperties = configurableEnvironment.getPropertySources()\n        .stream()\n        .filter(propertySource -&gt; propertySource.getName()\n            .contains(&quot;application-test.properties&quot;))\n        .collect(Collectors.toMap(PropertySource::getName, PropertySource::getSource));\n    mapOfProperties.values()\n        .forEach(System.out::println);\n  }\n</code></pre>\n<p>the code will printed out</p>\n<blockquote>\n<p>{properties-one=value-for-properties-one,\nproperties-two=value-for-properties-two}</p>\n</blockquote>\n<p>with my application-test.properties value</p>\n<pre><code>properties-one=value-for-properties-one\nproperties-two=value-for-properties-two\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html</a></p>\n"},{"tags":[],"owner":{"account_id":4194511,"reputation":366,"user_id":3436226,"display_name":"nilsman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666793044,"creation_date":1666793044,"answer_id":74209137,"question_id":66741276,"body_markdown":"To troubleshoot context configuration on app startup (for those who don&#39;t have an access to app sources) you can add\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework.boot.context.config: trace\r\n```\r\nto your application.yml to get filenames:\r\n```\r\n2022-10-26 13:29:45.977 TRACE [,,] 16522 --- [main] o.s.b.context.config.ConfigDataLoaders   : Loading file [config/application-app.\r\nyml] using loader org.springframework.boot.context.config.StandardConfigDataLoader\r\n2022-10-26 13:29:45.977 TRACE [,,] 16522 --- [main] o.s.b.context.config.ConfigDataLoaders   : Loading file [config/application-ppe.\r\nyml] using loader org.springframework.boot.context.config.StandardConfigDataLoader\r\n```\r\n\r\nAdding `org.springframework.boot.context.properties: trace` doesn&#39;t help much though. Some user-defined properties get logged, however others don&#39;t.","title":"Is there a way to get list of loaded properties file in SpringBoot application?","body":"<p>To troubleshoot context configuration on app startup (for those who don't have an access to app sources) you can add</p>\n<pre><code>logging:\n  level:\n    org.springframework.boot.context.config: trace\n</code></pre>\n<p>to your application.yml to get filenames:</p>\n<pre><code>2022-10-26 13:29:45.977 TRACE [,,] 16522 --- [main] o.s.b.context.config.ConfigDataLoaders   : Loading file [config/application-app.\nyml] using loader org.springframework.boot.context.config.StandardConfigDataLoader\n2022-10-26 13:29:45.977 TRACE [,,] 16522 --- [main] o.s.b.context.config.ConfigDataLoaders   : Loading file [config/application-ppe.\nyml] using loader org.springframework.boot.context.config.StandardConfigDataLoader\n</code></pre>\n<p>Adding <code>org.springframework.boot.context.properties: trace</code> doesn't help much though. Some user-defined properties get logged, however others don't.</p>\n"}],"owner":{"account_id":471451,"reputation":175,"user_id":10471045,"display_name":"cool_ravi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9828,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1666793044,"creation_date":1616394767,"question_id":66741276,"body_markdown":"I&#39;m facing an issue on only one platform when I&#39;m trying to execute `mvn clean install`. As part of the build we compile multiple component and last we execute functional testing using wiremock. It is supposed to pick specific configuration from function testing profile and default properties should be picked from application.properties file. But for some reason same code isn&#39;t able to find the properties mentioned in these file. So, just wondering if somehow, if I can get the list of properties files being loaded during wiremock ? This will give some clue on why isn&#39;t expected properties files are being picked ?\r\n\r\nAll properties files are located inside :\r\n\r\n    src/main/resources\r\n\r\nAnd, following from test class.\r\n\r\n    @ContextConfiguration(classes = SampleFTConfiguration.class)\r\n    public class SampleControllerTest{\r\n    //test method\r\n    }\r\n    \r\n    @ComponentScan(&quot;com.xxx.xxx.xxx.ft&quot;)\r\n    @PropertySource(&quot;classpath:application-test.properties&quot;)\r\n    public class  SampleFTConfiguration{\r\n    \r\n    \r\n    }\r\n\r\n**Note :** I&#39;m not expecting anyone to fix the issue, all I wanted to know, if we can get the name of loaded property files ?","title":"Is there a way to get list of loaded properties file in SpringBoot application?","body":"<p>I'm facing an issue on only one platform when I'm trying to execute <code>mvn clean install</code>. As part of the build we compile multiple component and last we execute functional testing using wiremock. It is supposed to pick specific configuration from function testing profile and default properties should be picked from application.properties file. But for some reason same code isn't able to find the properties mentioned in these file. So, just wondering if somehow, if I can get the list of properties files being loaded during wiremock ? This will give some clue on why isn't expected properties files are being picked ?</p>\n<p>All properties files are located inside :</p>\n<pre><code>src/main/resources\n</code></pre>\n<p>And, following from test class.</p>\n<pre><code>@ContextConfiguration(classes = SampleFTConfiguration.class)\npublic class SampleControllerTest{\n//test method\n}\n\n@ComponentScan(&quot;com.xxx.xxx.xxx.ft&quot;)\n@PropertySource(&quot;classpath:application-test.properties&quot;)\npublic class  SampleFTConfiguration{\n\n\n}\n</code></pre>\n<p><strong>Note :</strong> I'm not expecting anyone to fix the issue, all I wanted to know, if we can get the name of loaded property files ?</p>\n"},{"tags":["java","maven","maven-plugin","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":16319196,"reputation":95,"user_id":11785459,"display_name":"mihaij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666793017,"creation_date":1666779656,"answer_id":74206135,"question_id":70596159,"body_markdown":"Try with `mvn surefire-report:report -Daggregate=true`","title":"aggregating surefire reports in MultiModule project","body":"<p>Try with <code>mvn surefire-report:report -Daggregate=true</code></p>\n"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666793017,"creation_date":1641399528,"question_id":70596159,"body_markdown":"I have multimodule maven project I want to get aggregated surefire reports . I tried below approach but I dont see aggregated surefire report generated. I could see report generated for individual modules. \r\n \r\n\r\nI have added below plugin configuration in indvidual Modules (packaging jar)\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n    &lt;reporting&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                    &lt;inherited&gt;false&lt;/inherited&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                        &lt;linkXRef&gt;true&lt;/linkXRef&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n\r\nAnd below in root level pom (packaging type pom) \r\n\r\n    &lt;reporting&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.plugin.surefire}&lt;/version&gt;\r\n                    &lt;inherited&gt;false&lt;/inherited&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                        &lt;linkXRef&gt;true&lt;/linkXRef&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n\r\n\r\nCould some one please help where I am going wrong ? ","title":"aggregating surefire reports in MultiModule project","body":"<p>I have multimodule maven project I want to get aggregated surefire reports . I tried below approach but I dont see aggregated surefire report generated. I could see report generated for individual modules.</p>\n<p>I have added below plugin configuration in indvidual Modules (packaging jar)</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n&lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;inherited&gt;false&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n</code></pre>\n<p>And below in root level pom (packaging type pom)</p>\n<pre><code>&lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.plugin.surefire}&lt;/version&gt;\n                &lt;inherited&gt;false&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n</code></pre>\n<p>Could some one please help where I am going wrong ?</p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing"],"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":1,"creation_date":1666530669,"post_id":74170940,"comment_id":130954289,"body_markdown":"I believe they are the same thing, further clarification below.","body":"I believe they are the same thing, further clarification below."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666572991,"post_id":74170940,"comment_id":130962560,"body_markdown":"I think a better way to think of it is that concurrency is a more general concept, and parallelism is _one case_ of concurrency. All parallel execution is concurrent, but not all concurrent execution is parallel.","body":"I think a better way to think of it is that concurrency is a more general concept, and parallelism is <i>one case</i> of concurrency. All parallel execution is concurrent, but not all concurrent execution is parallel."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666730186,"creation_date":1666527673,"answer_id":74171093,"question_id":74170940,"body_markdown":"Concurrency is when the execution of multiple tasks can overlap.\r\n\r\nParallelism is the actual parallel execution of tasks. So multiple tasks are running at the same time.\r\n\r\nExample:\r\n\r\nYou need to get a new passport and work on a report.\r\n\r\n1. No concurrency and no parallelism: You first get the new passport and then work on the report.\r\n\r\n2. Concurrency and no parallelism: While you are in the line waiting for your passport, you open your laptop and work on the report. As soon as it is your turn, you close the laptop and deal with the new passport. And later you continue work on the report. So the tasks are overlapping, but the tasks are not running at the same time.\r\n\r\n3. Concurrency and parallelism: You ask someone else to get your passport while you work on the report. So 2 tasks are actually running at the same time.\r\n\r\nAbout the example:\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\r\n        Thread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\r\n\r\n        t1.start();\r\n        t2.start();\r\n\r\n        t1.join();\r\n        t2.join();\r\n    }\r\n```\r\n\r\nIt is obvious that t1/t2 are overlapping and hence they are concurrent. So there is concurrency.\r\n\r\nIf this would be run on an ancient laptop with just a single core and no hyperthreading, then there is no parallelism possible since only 1 thread at any moment can be running.\r\n\r\nBut on modern CPUs, both threads can run in parallel since there are multiple cores. So if the 2 threads are running at the same time, then there is also parallelism.\r\n\r\nSo there is certainly concurrency and potentially parallelism (depending on the hardware).","title":"java concurrency vs parallelism","body":"<p>Concurrency is when the execution of multiple tasks can overlap.</p>\n<p>Parallelism is the actual parallel execution of tasks. So multiple tasks are running at the same time.</p>\n<p>Example:</p>\n<p>You need to get a new passport and work on a report.</p>\n<ol>\n<li><p>No concurrency and no parallelism: You first get the new passport and then work on the report.</p>\n</li>\n<li><p>Concurrency and no parallelism: While you are in the line waiting for your passport, you open your laptop and work on the report. As soon as it is your turn, you close the laptop and deal with the new passport. And later you continue work on the report. So the tasks are overlapping, but the tasks are not running at the same time.</p>\n</li>\n<li><p>Concurrency and parallelism: You ask someone else to get your passport while you work on the report. So 2 tasks are actually running at the same time.</p>\n</li>\n</ol>\n<p>About the example:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n        Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\n        Thread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n    }\n</code></pre>\n<p>It is obvious that t1/t2 are overlapping and hence they are concurrent. So there is concurrency.</p>\n<p>If this would be run on an ancient laptop with just a single core and no hyperthreading, then there is no parallelism possible since only 1 thread at any moment can be running.</p>\n<p>But on modern CPUs, both threads can run in parallel since there are multiple cores. So if the 2 threads are running at the same time, then there is also parallelism.</p>\n<p>So there is certainly concurrency and potentially parallelism (depending on the hardware).</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666530634,"creation_date":1666529793,"answer_id":74171319,"question_id":74170940,"body_markdown":"First of all, this is more of a lexical problem than a programming problem. And perhaps one that doesn&#39;t really apply to java.\r\n\r\n---\r\n\r\nOne of the fundamental concepts in java, is that we try to write code platform independent. We don&#39;t pre-optimize for specific hardware. The same code can run on any system no matter how many processors it has. There is a JIT (just-in-time) compiler, which will rewrite the code at-runtime to optimize it, once the hardware is known.\r\n\r\nIn java we have only very little control over the number of active cores.\r\n\r\nAnd so, in other words, we don&#39;t make the distinction between &quot;parallelism&quot;, &quot;concurrency&quot; or &quot;multi-threading&quot;. Those words are just used interchangeably.\r\n\r\nHaving said that, the official tutorial says that &quot;concurrency&quot; is even possible on a system with just 1 core. And what it means is that functions can get interrupted halfway, and resumed later on. And it happens so fast and often, that it really seems like threads are running completely parallel even when they run on the same core.\r\n\r\nYou often don&#39;t know when/where that will happen. So, you need `synchronize` keywords and other locking strategies, even on a single-core system.\r\n\r\n---\r\n\r\nIn the end, &quot;parallel&quot; and &quot;concurrent&quot; are just English words. &quot;Concurrent&quot;:\r\n\r\n&gt; 1 : operating or occurring at the same time. 2a : running parallel. b : convergent specifically : meeting or intersecting in a point. 3 : acting in conjunction.","title":"java concurrency vs parallelism","body":"<p>First of all, this is more of a lexical problem than a programming problem. And perhaps one that doesn't really apply to java.</p>\n<hr />\n<p>One of the fundamental concepts in java, is that we try to write code platform independent. We don't pre-optimize for specific hardware. The same code can run on any system no matter how many processors it has. There is a JIT (just-in-time) compiler, which will rewrite the code at-runtime to optimize it, once the hardware is known.</p>\n<p>In java we have only very little control over the number of active cores.</p>\n<p>And so, in other words, we don't make the distinction between &quot;parallelism&quot;, &quot;concurrency&quot; or &quot;multi-threading&quot;. Those words are just used interchangeably.</p>\n<p>Having said that, the official tutorial says that &quot;concurrency&quot; is even possible on a system with just 1 core. And what it means is that functions can get interrupted halfway, and resumed later on. And it happens so fast and often, that it really seems like threads are running completely parallel even when they run on the same core.</p>\n<p>You often don't know when/where that will happen. So, you need <code>synchronize</code> keywords and other locking strategies, even on a single-core system.</p>\n<hr />\n<p>In the end, &quot;parallel&quot; and &quot;concurrent&quot; are just English words. &quot;Concurrent&quot;:</p>\n<blockquote>\n<p>1 : operating or occurring at the same time. 2a : running parallel. b : convergent specifically : meeting or intersecting in a point. 3 : acting in conjunction.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666792936,"creation_date":1666730636,"answer_id":74199982,"question_id":74170940,"body_markdown":"&gt; Concurrency is performing multiple tasks alternately, while parallelism is performing multiple tasks at once.\r\n\r\nI&#39;ve been doing thread programming for a couple decades now and I&#39;ve never heard of this distinction.  The internet says that concurrency is any tasks that can run simultaneously (at the same time) in an application while parallelism is when you run the *same task* multiple times simultaneously.  So multiple copies of the *same task* running concurrently is parallelism.  In either case, I wouldn&#39;t argue semantics  especially with a professor :-).\r\n\r\nLet&#39;s look at the code:\r\n\r\n    Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\r\n    Thread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\r\n    t1.start();\r\n    t2.start();\r\n    t1.join();\r\n    t2.join();\r\n\r\n&gt; I thought that running this code on multiple cores would run with parallelism, not concurrency, the instructor says concurrency.\r\n\r\nIt certainly is concurrent.  The 2 threads *can* (although they may not) run at the same time.  For the record, it could be that `t1` or `t2` might start running and might finish before the other gets started because of thread race conditions.  Another wrinkle is that `System.out` is a `synchronized` class meaning that the 2nd thread executing a `println(...)` statement will be blocked by the first so the output will never be printed concurrently.  But I nit pick.\r\n\r\nUsing the internet definition of concurrency and parallelism, I would say that it is not parallelism since it is not the *same job*.  If you executed the same `Runnable` in 2 different threads then it would be.  If you changed the code to be the following, again using the internet definition, then it would be parallelism (as well as concurrency):\r\n\r\n    Runnable job = () -&gt; System.out.println(&quot;T&quot; + Thread.currentThread().getId());\r\n    Thread t1 = new Thread(job);\r\n    Thread t2 = new Thread(job);\r\n    ...\r\n\r\nHope this helps.\r\n","title":"java concurrency vs parallelism","body":"<blockquote>\n<p>Concurrency is performing multiple tasks alternately, while parallelism is performing multiple tasks at once.</p>\n</blockquote>\n<p>I've been doing thread programming for a couple decades now and I've never heard of this distinction.  The internet says that concurrency is any tasks that can run simultaneously (at the same time) in an application while parallelism is when you run the <em>same task</em> multiple times simultaneously.  So multiple copies of the <em>same task</em> running concurrently is parallelism.  In either case, I wouldn't argue semantics  especially with a professor :-).</p>\n<p>Let's look at the code:</p>\n<pre><code>Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\nThread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\nt1.start();\nt2.start();\nt1.join();\nt2.join();\n</code></pre>\n<blockquote>\n<p>I thought that running this code on multiple cores would run with parallelism, not concurrency, the instructor says concurrency.</p>\n</blockquote>\n<p>It certainly is concurrent.  The 2 threads <em>can</em> (although they may not) run at the same time.  For the record, it could be that <code>t1</code> or <code>t2</code> might start running and might finish before the other gets started because of thread race conditions.  Another wrinkle is that <code>System.out</code> is a <code>synchronized</code> class meaning that the 2nd thread executing a <code>println(...)</code> statement will be blocked by the first so the output will never be printed concurrently.  But I nit pick.</p>\n<p>Using the internet definition of concurrency and parallelism, I would say that it is not parallelism since it is not the <em>same job</em>.  If you executed the same <code>Runnable</code> in 2 different threads then it would be.  If you changed the code to be the following, again using the internet definition, then it would be parallelism (as well as concurrency):</p>\n<pre><code>Runnable job = () -&gt; System.out.println(&quot;T&quot; + Thread.currentThread().getId());\nThread t1 = new Thread(job);\nThread t2 = new Thread(job);\n...\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":18929848,"reputation":35,"user_id":19344103,"display_name":"JavaMe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74171319,"answer_count":3,"score":0,"last_activity_date":1666792936,"creation_date":1666526183,"question_id":74170940,"body_markdown":"I know the difference between the two clearly.\r\n\r\nConcurrency is performing multiple tasks alternately, while parallelism is performing multiple tasks at once.\r\n\r\nHowever, there is confusion in this code because a certain instructor has a different opinion than me.\r\n\r\nHere is code:\r\n``` java\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\r\n    Thread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\r\n    t1.start();\r\n    t2.start();\r\n    t1.join();\r\n    t2.join();\r\n}\r\n```\r\n\r\nI thought that running this code on `multiple cores` would run with parallelism, not concurrency, the instructor says concurrency.\r\n\r\nIf concurrency is not parallel, what is the reason?\r\n","title":"java concurrency vs parallelism","body":"<p>I know the difference between the two clearly.</p>\n<p>Concurrency is performing multiple tasks alternately, while parallelism is performing multiple tasks at once.</p>\n<p>However, there is confusion in this code because a certain instructor has a different opinion than me.</p>\n<p>Here is code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    Thread t1 = new Thread(() -&gt; System.out.println(&quot;T1&quot;));\n    Thread t2 = new Thread(() -&gt; System.out.println(&quot;T2&quot;));\n    t1.start();\n    t2.start();\n    t1.join();\n    t2.join();\n}\n</code></pre>\n<p>I thought that running this code on <code>multiple cores</code> would run with parallelism, not concurrency, the instructor says concurrency.</p>\n<p>If concurrency is not parallel, what is the reason?</p>\n"},{"tags":["java","eclipse","birt"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666792867,"post_id":74208899,"comment_id":131019994,"body_markdown":"It is looking for an `IPluginDescriptor` interface which was removed from Eclipse quite some time ago - that version of Birt is not compatible with recent versions of Eclipse","body":"It is looking for an <code>IPluginDescriptor</code> interface which was removed from Eclipse quite some time ago - that version of Birt is not compatible with recent versions of Eclipse"},{"owner":{"account_id":3338979,"reputation":15534,"user_id":4452553,"accept_rate":73,"display_name":"guradio"},"score":0,"creation_date":1666833810,"post_id":74208899,"comment_id":131031477,"body_markdown":"@greg-449 is there an available version of `BIRT` i can install that is compatible with this version of eclipse ? or what version of eclipse should i have to be compatible with this `BIRT`","body":"@greg-449 is there an available version of <code>BIRT</code> i can install that is compatible with this version of eclipse ? or what version of eclipse should i have to be compatible with this <code>BIRT</code>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666852821,"post_id":74208899,"comment_id":131034390,"body_markdown":"I don&#39;t know much about BIRT, but their site is [here](https://eclipse.github.io/birt-website/) and appears to have up to date builds.","body":"I don&#39;t know much about BIRT, but their site is <a href=\"https://eclipse.github.io/birt-website/\" rel=\"nofollow noreferrer\">here</a> and appears to have up to date builds."}],"owner":{"account_id":3338979,"reputation":15534,"user_id":4452553,"accept_rate":73,"display_name":"guradio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666792595,"creation_date":1666791984,"question_id":74208899,"body_markdown":"I wanted to create a Simple Listing Report using BIRT\r\n\r\nI follow the steps below \r\n\r\n&gt;File -&gt;  New -&gt; Others -&gt; Business Intelligence and Reporting Tools -&gt; Report\r\n\r\nWhen I fill up the importanteinformation and click `Finish` I get the error and the below stack trace\r\n\r\nHow to fix this error?\r\n\r\n```none\r\njava.lang.RuntimeException: org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.birt.report.designer.ui.ide was unable to load class org.eclipse.birt.report.designer.ui.ReportPerspective.\r\n\tat org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:83)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.createPerspective(WorkbenchPage.java:4087)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:3994)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.lambda$10(WorkbenchPage.java:3954)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3954)\r\n\tat org.eclipse.ui.wizards.newresource.BasicNewProjectResourceWizard.replaceCurrentPerspective(BasicNewProjectResourceWizard.java:368)\r\n\tat org.eclipse.ui.wizards.newresource.BasicNewProjectResourceWizard.updatePerspective(BasicNewProjectResourceWizard.java:513)\r\n\tat org.eclipse.birt.report.designer.ui.ide.wizards.NewReportProjectWizard.updatePerspective(NewReportProjectWizard.java:380)\r\n\tat org.eclipse.birt.report.designer.ui.ide.wizards.NewReportProjectWizard.performFinish(NewReportProjectWizard.java:359)\r\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:833)\r\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:473)\r\n\tat org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n\tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:119)\r\n\tat org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$1.linkActivated(EmptyWorkspaceHelper.java:281)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:215)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:309)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.lambda$3(AbstractHyperlink.java:117)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.birt.report.designer.ui.ide was unable to load class org.eclipse.birt.report.designer.ui.ReportPerspective.\r\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:212)\r\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:198)\r\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\r\n\tat org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:79)\r\n\t... 53 more\r\nCaused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.birt.report.designer.ui.lib (525).\r\n\tat org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)\r\n\tat org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:622)\r\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:196)\r\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\r\n\tat org.eclipse.birt.report.designer.ui.views.ElementAdapterManager.&lt;clinit&gt;(ElementAdapterManager.java:96)\r\n\tat org.eclipse.birt.report.designer.ui.preferences.PreferenceFactory.getPreferences(PreferenceFactory.java:73)\r\n\tat org.eclipse.birt.report.designer.ui.preferences.PreferenceFactory.getPreferences(PreferenceFactory.java:44)\r\n\tat org.eclipse.birt.report.designer.ui.ReportPlugin.start(ReportPlugin.java:274)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:818)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:810)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:767)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\r\n\tat org.eclipse.osgi.container.Module.doStart(Module.java:605)\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:468)\r\n\tat org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\r\n\tat org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\r\n\tat org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\r\n\tat org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)\r\n\tat org.eclipse.osgi.internal.loader.sources.MultiSourcePackage.loadClass(MultiSourcePackage.java:37)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:496)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.eclipse.birt.report.designer.ui.IDEReportPlugin.start(IDEReportPlugin.java:45)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:818)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:810)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:767)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\r\n\tat org.eclipse.osgi.container.Module.doStart(Module.java:605)\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:468)\r\n\tat org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\r\n\tat org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\r\n\tat org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:622)\r\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:196)\r\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\r\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\r\n\tat org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:79)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.createPerspective(WorkbenchPage.java:4087)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:3994)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.lambda$10(WorkbenchPage.java:3954)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3954)\r\n\tat org.eclipse.ui.handlers.ShowPerspectiveHandler.openPerspective(ShowPerspectiveHandler.java:156)\r\n\tat org.eclipse.ui.handlers.ShowPerspectiveHandler.lambda$1(ShowPerspectiveHandler.java:124)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.ui.handlers.ShowPerspectiveHandler.openOther(ShowPerspectiveHandler.java:119)\r\n\tat org.eclipse.ui.handlers.ShowPerspectiveHandler.execute(ShowPerspectiveHandler.java:57)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:195)\r\n\tat org.eclipse.e4.ui.workbench.addons.perspectiveswitcher.PerspectiveSwitcher.selectPerspective(PerspectiveSwitcher.java:567)\r\n\tat org.eclipse.e4.ui.workbench.addons.perspectiveswitcher.PerspectiveSwitcher.lambda$3(PerspectiveSwitcher.java:312)\r\n\tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\t... 27 more\r\nCaused by: org.osgi.framework.BundleException: Error starting module. osgi.identity; osgi.identity=&quot;org.eclipse.birt.report.designer.ui.lib&quot;; type=&quot;osgi.bundle&quot;; version:Version=&quot;4.4.2.v201410272105&quot;; singleton:=&quot;true&quot; [id=525]\r\n\tat org.eclipse.osgi.container.Module.doStart(Module.java:614)\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:468)\r\n\tat org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\r\n\tat org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\r\n\t... 117 more\r\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/core/runtime/IPluginDescriptor\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3578)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2271)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.loadBundleActivator(BundleContextImpl.java:801)\r\n\tat org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:753)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\r\n\tat org.eclipse.osgi.container.Module.doStart(Module.java:605)\r\n\t... 120 more\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.core.runtime.IPluginDescriptor cannot be found by org.eclipse.birt.report.designer.ui.lib_4.4.2.v201410272105\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 129 more\r\n```","title":"BIRT in eclipse `Version: 2022-09 (4.25.0)` running in Ubuntu 22.04.1 LTS getting error","body":"<p>I wanted to create a Simple Listing Report using BIRT</p>\n<p>I follow the steps below</p>\n<blockquote>\n<p>File -&gt;  New -&gt; Others -&gt; Business Intelligence and Reporting Tools -&gt; Report</p>\n</blockquote>\n<p>When I fill up the importanteinformation and click <code>Finish</code> I get the error and the below stack trace</p>\n<p>How to fix this error?</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.birt.report.designer.ui.ide was unable to load class org.eclipse.birt.report.designer.ui.ReportPerspective.\n    at org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:83)\n    at org.eclipse.ui.internal.WorkbenchPage.createPerspective(WorkbenchPage.java:4087)\n    at org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:3994)\n    at org.eclipse.ui.internal.WorkbenchPage.lambda$10(WorkbenchPage.java:3954)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3954)\n    at org.eclipse.ui.wizards.newresource.BasicNewProjectResourceWizard.replaceCurrentPerspective(BasicNewProjectResourceWizard.java:368)\n    at org.eclipse.ui.wizards.newresource.BasicNewProjectResourceWizard.updatePerspective(BasicNewProjectResourceWizard.java:513)\n    at org.eclipse.birt.report.designer.ui.ide.wizards.NewReportProjectWizard.updatePerspective(NewReportProjectWizard.java:380)\n    at org.eclipse.birt.report.designer.ui.ide.wizards.NewReportProjectWizard.performFinish(NewReportProjectWizard.java:359)\n    at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:833)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:473)\n    at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\n    at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:119)\n    at org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$1.linkActivated(EmptyWorkspaceHelper.java:281)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:215)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:309)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.lambda$3(AbstractHyperlink.java:117)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.birt.report.designer.ui.ide was unable to load class org.eclipse.birt.report.designer.ui.ReportPerspective.\n    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:212)\n    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:198)\n    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\n    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\n    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\n    at org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:79)\n    ... 53 more\nCaused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.birt.report.designer.ui.lib (525).\n    at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)\n    at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:622)\n    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:196)\n    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\n    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\n    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\n    at org.eclipse.birt.report.designer.ui.views.ElementAdapterManager.&lt;clinit&gt;(ElementAdapterManager.java:96)\n    at org.eclipse.birt.report.designer.ui.preferences.PreferenceFactory.getPreferences(PreferenceFactory.java:73)\n    at org.eclipse.birt.report.designer.ui.preferences.PreferenceFactory.getPreferences(PreferenceFactory.java:44)\n    at org.eclipse.birt.report.designer.ui.ReportPlugin.start(ReportPlugin.java:274)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:818)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:810)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:767)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\n    at org.eclipse.osgi.container.Module.doStart(Module.java:605)\n    at org.eclipse.osgi.container.Module.start(Module.java:468)\n    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\n    at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\n    at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\n    at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)\n    at org.eclipse.osgi.internal.loader.sources.MultiSourcePackage.loadClass(MultiSourcePackage.java:37)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:496)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.eclipse.birt.report.designer.ui.IDEReportPlugin.start(IDEReportPlugin.java:45)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:818)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:810)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:767)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\n    at org.eclipse.osgi.container.Module.doStart(Module.java:605)\n    at org.eclipse.osgi.container.Module.start(Module.java:468)\n    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\n    at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\n    at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:622)\n    at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:196)\n    at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)\n    at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)\n    at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)\n    at org.eclipse.ui.internal.registry.PerspectiveDescriptor.createFactory(PerspectiveDescriptor.java:79)\n    at org.eclipse.ui.internal.WorkbenchPage.createPerspective(WorkbenchPage.java:4087)\n    at org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:3994)\n    at org.eclipse.ui.internal.WorkbenchPage.lambda$10(WorkbenchPage.java:3954)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3954)\n    at org.eclipse.ui.handlers.ShowPerspectiveHandler.openPerspective(ShowPerspectiveHandler.java:156)\n    at org.eclipse.ui.handlers.ShowPerspectiveHandler.lambda$1(ShowPerspectiveHandler.java:124)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.handlers.ShowPerspectiveHandler.openOther(ShowPerspectiveHandler.java:119)\n    at org.eclipse.ui.handlers.ShowPerspectiveHandler.execute(ShowPerspectiveHandler.java:57)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:195)\n    at org.eclipse.e4.ui.workbench.addons.perspectiveswitcher.PerspectiveSwitcher.selectPerspective(PerspectiveSwitcher.java:567)\n    at org.eclipse.e4.ui.workbench.addons.perspectiveswitcher.PerspectiveSwitcher.lambda$3(PerspectiveSwitcher.java:312)\n    at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    ... 27 more\nCaused by: org.osgi.framework.BundleException: Error starting module. osgi.identity; osgi.identity=&quot;org.eclipse.birt.report.designer.ui.lib&quot;; type=&quot;osgi.bundle&quot;; version:Version=&quot;4.4.2.v201410272105&quot;; singleton:=&quot;true&quot; [id=525]\n    at org.eclipse.osgi.container.Module.doStart(Module.java:614)\n    at org.eclipse.osgi.container.Module.start(Module.java:468)\n    at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)\n    at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)\n    ... 117 more\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/core/runtime/IPluginDescriptor\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3373)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3578)\n    at java.base/java.lang.Class.getConstructor(Class.java:2271)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.loadBundleActivator(BundleContextImpl.java:801)\n    at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:753)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)\n    at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)\n    at org.eclipse.osgi.container.Module.doStart(Module.java:605)\n    ... 120 more\nCaused by: java.lang.ClassNotFoundException: org.eclipse.core.runtime.IPluginDescriptor cannot be found by org.eclipse.birt.report.designer.ui.lib_4.4.2.v201410272105\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 129 more\n</code></pre>\n"},{"tags":["java","soaphandler"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1666791613,"post_id":74208745,"comment_id":131019464,"body_markdown":"So which line is `LoggingHandler.java:108`?  And what is happening around lines 26 and 49 of the same file?","body":"So which line is <code>LoggingHandler.java:108</code>?  And what is happening around lines 26 and 49 of the same file?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666791947,"post_id":74208745,"comment_id":131019609,"body_markdown":"108: MimeHeader mh = (MimeHeader) mhIterator.next();","body":"108: MimeHeader mh = (MimeHeader) mhIterator.next();"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666791971,"post_id":74208745,"comment_id":131019621,"body_markdown":"26: public class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt;","body":"26: public class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt;"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666792024,"post_id":74208745,"comment_id":131019638,"body_markdown":"49: logMessage(context, &quot;SOAP Message: &quot;); //actually this is called inside public boolean handleMessage(SOAPMessageContext context) to call the method there line 108 is located","body":"49: logMessage(context, &quot;SOAP Message: &quot;); //actually this is called inside public boolean handleMessage(SOAPMessageContext context) to call the method there line 108 is located"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666792121,"post_id":74208745,"comment_id":131019674,"body_markdown":"@JohnBollinger I have added the full class code for clarity","body":"@JohnBollinger I have added the full class code for clarity"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1666792322,"post_id":74208745,"comment_id":131019748,"body_markdown":"just having a quick glance at the code: is it possible that both `handleMessage` and `handleFault` get called &quot;at the same time&quot; with the same instance of `SOAPMessageContext` ?","body":"just having a quick glance at the code: is it possible that both <code>handleMessage</code> and <code>handleFault</code> get called &quot;at the same time&quot; with the same instance of <code>SOAPMessageContext</code> ?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1666792553,"post_id":74208745,"comment_id":131019852,"body_markdown":"The code posted does not correspond to the stack trace presented.  The stack trace shows a direct call at line LoggingHandler.java:26, in a method named `handleMessage()`, either recursively to the same `handleMessage()` method or to another method with that name, the latter of which encompasses line 49 of the file.  One does not need to count lines to see that the code posted does not match.  There is only one `handleMessage()` method, and it does not invoke itself recursively.","body":"The code posted does not correspond to the stack trace presented.  The stack trace shows a direct call at line LoggingHandler.java:26, in a method named <code>handleMessage()</code>, either recursively to the same <code>handleMessage()</code> method or to another method with that name, the latter of which encompasses line 49 of the file.  One does not need to count lines to see that the code posted does not match.  There is only one <code>handleMessage()</code> method, and it does not invoke itself recursively."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666793402,"post_id":74208745,"comment_id":131020205,"body_markdown":"...Hmmm ...why has `SoapHandler` this extra `getHeaders()` method, and why do you return empty set from it? (Looks like you access the headers wrong/at a unfavorable moment.. and the existence of this method hints to it..)","body":"...Hmmm ...why has <code>SoapHandler</code> this extra <code>getHeaders()</code> method, and why do you return empty set from it? (Looks like you access the headers wrong/at a unfavorable moment.. and the existence of this method hints to it..)"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666793514,"post_id":74208745,"comment_id":131020252,"body_markdown":"@xerx593 that&#39;s a SOAPHandler interface method","body":"@xerx593 that&#39;s a SOAPHandler interface method"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666793640,"post_id":74208745,"comment_id":131020303,"body_markdown":"@JohnBollinger that&#39;s also suspicious for me. But I have no clues why it is shown in the stacktrace twice. The line 26 points to the class definition","body":"@JohnBollinger that&#39;s also suspicious for me. But I have no clues why it is shown in the stacktrace twice. The line 26 points to the class definition"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666793706,"post_id":74208745,"comment_id":131020335,"body_markdown":"@cyberbrain I tried to debug that, but never faced those calls at the same time","body":"@cyberbrain I tried to debug that, but never faced those calls at the same time"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666793900,"post_id":74208745,"comment_id":131020413,"body_markdown":"..exactly...and for what?;) ..[javadoc-6](https://docs.oracle.com/javaee/6/api/index.html?javax/xml/ws/handler/soap/SOAPHandler.html):&quot;Gets the header blocks that can be processed by this Handler instance.&quot; ..of course then still confusing, why &quot;Iterator loop started&quot; happens..","body":"..exactly...and for what?;) ..<a href=\"https://docs.oracle.com/javaee/6/api/index.html?javax/xml/ws/handler/soap/SOAPHandler.html\" rel=\"nofollow noreferrer\">javadoc-6</a>:&quot;Gets the header blocks that can be processed by this Handler instance.&quot; ..of course then still confusing, why &quot;Iterator loop started&quot; happens.."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1666795149,"post_id":74208745,"comment_id":131020967,"body_markdown":"That&#39;s not just suspicious, @IlyaYevlampiev, it should be *alarming*.  At minimum, you should recognize that the most likely conclusion is that the version of `LoggingHandler` deployed in your application is not derived from the source code you&#39;re looking at.  If that&#39;s the case, then no amount of debugging the code presented will lead you to a solution to the observed problem.","body":"That&#39;s not just suspicious, @IlyaYevlampiev, it should be <i>alarming</i>.  At minimum, you should recognize that the most likely conclusion is that the version of <code>LoggingHandler</code> deployed in your application is not derived from the source code you&#39;re looking at.  If that&#39;s the case, then no amount of debugging the code presented will lead you to a solution to the observed problem."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1666795207,"post_id":74208745,"comment_id":131020988,"body_markdown":"So due to the differences between stacktrace and code - are you sure this is the code that&#39;s actually running? (Even if it sounds stupid - happened to me before) Did you try to change the log message that works so you see the code changed? Does the debugger make sense when you set a breakpoint? Sometimes old code survives in web containers, so did you restart that?","body":"So due to the differences between stacktrace and code - are you sure this is the code that&#39;s actually running? (Even if it sounds stupid - happened to me before) Did you try to change the log message that works so you see the code changed? Does the debugger make sense when you set a breakpoint? Sometimes old code survives in web containers, so did you restart that?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1666796933,"post_id":74208745,"comment_id":131021698,"body_markdown":"Surely, the new deployments are reflected. I have added new trace lines and I see all of the updates. As for the stacktrace, why it can point to the class initialization line while showing it being executed within the specific method?","body":"Surely, the new deployments are reflected. I have added new trace lines and I see all of the updates. As for the stacktrace, why it can point to the class initialization line while showing it being executed within the specific method?"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666792097,"creation_date":1666791331,"question_id":74208745,"body_markdown":"I have a \r\n\r\n    public class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n\r\nand in the \r\n\r\n    public boolean handleMessage(SOAPMessageContext context)\r\n\r\nI have the below processing of the message headers \r\n\r\n                LOGGER.trace(&quot;Starting processing msg in try block&quot;);\r\n                SOAPMessage msg = ((SOAPMessageContext) mc).getMessage();\r\n                LOGGER.trace(&quot;Cast message and getting message&quot;);\r\n                MimeHeaders mimeHeaders = msg.getMimeHeaders();\r\n                LOGGER.trace(&quot;Getting headers&quot;);\r\n                Iterator mhIterator = mimeHeaders.getAllHeaders();\r\n                LOGGER.trace(&quot;Starting file creation for user {}&quot;, user); //not actually affecting the SOAP message, but needed according to my business logic\r\n                msg.writeTo(baos);\r\n                FileWriter fw = new FileWriter(filename, true);\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                PrintWriter out = new PrintWriter(bw);\r\n                LOGGER.trace(&quot;File opened for filename {}&quot;, filename);\r\n                LOGGER.trace(type);\r\n                //out.println(type);\r\n                //out.flush();\r\n                while (mhIterator.hasNext()) {\r\n                    LOGGER.trace(&quot;Iterator loop started&quot;);\r\n                    MimeHeader mh = (MimeHeader) mhIterator.next();\r\n                    LOGGER.trace(&quot;Iterator next requested&quot;);\r\n                    String header = mh.getName() + &quot; : &quot; + mh.getValue();\r\n                    LOGGER.trace(&quot;Iterator MimeHeared values taken&quot;);\r\n                    LOGGER.trace(header);\r\n                    out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+header+&quot;\\r\\n&quot;);\r\n                    out.flush();\r\n                }\r\n\r\nSo,\r\n\r\n    LOGGER.trace(&quot;Iterator loop started&quot;); \r\n\r\nworks, but \r\n\r\n    MimeHeader mh = (MimeHeader) mhIterator.next();\r\n\r\nalready hangs and fails with below exception. For me  it isn&#39;t clear, as I don&#39;t touch the data being iterated.\r\n\r\n\r\n    2022-10-26 19:25:48.595 [http-nio-127.0.0.1-8080-exec-6] ERROR c.o.s.w.s.i.WebServiceExceptionHandler - java.util.ConcurrentModificationException\r\n    javax.xml.ws.WebServiceException: java.util.ConcurrentModificationException\r\n            at com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnRequest(ClientSOAPHandlerTube.java:120)\r\n            at com.sun.xml.ws.handler.HandlerTube.processRequest(HandlerTube.java:97)\r\n            at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1106)\r\n            at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1020)\r\n            at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\r\n            at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\r\n            at com.sun.xml.ws.client.Stub.process(Stub.java:433)\r\n            at com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161)\r\n            at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\r\n            at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\r\n            at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:131)\r\n            at com.sun.proxy.$Proxy543.getUserInfo(Unknown Source)\r\n            at com.openpayment.client.basia.BankServiceClientImpl.getUserInfo(BankServiceClientImpl.java:47)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n            at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)\r\n            at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:96)\r\n            at com.openpayment.client.basia.handler.error.LoggingFilterAspect.putToLogOn(LoggingFilterAspect.java:38)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:627)\r\n            at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:616)\r\n            at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n            at com.sun.proxy.$Proxy94.getUserInfo(Unknown Source)\r\n            at com.openpayment.impl.service.AgentServiceImpl.createOrUpdateAgent(AgentServiceImpl.java:597)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n            at com.sun.proxy.$Proxy105.createOrUpdateAgent(Unknown Source)\r\n            at com.openpayment.site.web.service.UserResource.createOrUpdateUser(UserResource.java:75)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:854)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:765)\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n            at com.openpayment.site.web.service.init.SiteWebDispatcherServlet.doDispatch(SiteWebDispatcherServlet.java:48)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.util.ConcurrentModificationException: null\r\n            at java.base/java.util.Vector$Itr.checkForComodification(Vector.java:1321)\r\n            at java.base/java.util.Vector$Itr.next(Vector.java:1277)\r\n            at com.openpayment.client.basia.handler.LoggingHandler.logMessage(LoggingHandler.java:108)\r\n            at com.openpayment.client.basia.handler.LoggingHandler.handleMessage(LoggingHandler.java:49)\r\n            at com.openpayment.client.basia.handler.LoggingHandler.handleMessage(LoggingHandler.java:26)\r\n            at com.sun.xml.ws.handler.HandlerProcessor.callHandleMessage(HandlerProcessor.java:267)\r\n            at com.sun.xml.ws.handler.HandlerProcessor.callHandlersRequest(HandlerProcessor.java:108)\r\n            at com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnRequest(ClientSOAPHandlerTube.java:112)\r\n            ... 124 common frames omitted\r\n\r\nBy the end, the full class is given, the iterator causiong a problem is commented out:\r\n\r\n    package com.openpayment.client.basia.handler;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.soap.MimeHeader;\r\n    import javax.xml.soap.MimeHeaders;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import javax.xml.ws.handler.MessageContext;\r\n    import javax.xml.ws.handler.soap.SOAPHandler;\r\n    import javax.xml.ws.handler.soap.SOAPMessageContext;\r\n    import java.io.*;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Collections;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    \r\n    public class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(LoggingHandler.class);\r\n    \r\n        private String tempLogfilesLocation;\r\n    \r\n        private String user;\r\n        private Boolean toLog;\r\n    \r\n        public LoggingHandler(String user, Boolean toLog, String tempLogfilesLocation) {\r\n            this.user = user;\r\n            this.toLog = toLog;\r\n            this.tempLogfilesLocation = tempLogfilesLocation;\r\n        }\r\n    \r\n        public void close(MessageContext context) {\r\n        }\r\n    \r\n        public boolean handleFault(SOAPMessageContext context) {\r\n            logMessage(context, &quot;SOAP Error is : &quot;);\r\n            return true;\r\n        }\r\n    \r\n        public boolean handleMessage(SOAPMessageContext context) {\r\n            logMessage(context, &quot;SOAP Message: &quot;);\r\n            return true;\r\n        }\r\n    \r\n        public Set&lt;QName&gt; getHeaders() {\r\n            return Collections.emptySet();\r\n        }\r\n    \r\n        private boolean logMessage(MessageContext mc, String type) {\r\n            // try {\r\n            MessageDigest md = null;\r\n            try {\r\n                md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            LOGGER.trace(&quot;Hanldler User {}&quot;, user);\r\n            LOGGER.trace(&quot;Handler toLog {}&quot;, toLog);\r\n            LOGGER.trace(&quot;Handler tempLogfilesLocation {}&quot;, tempLogfilesLocation);\r\n            md.update(user.getBytes());\r\n            LOGGER.trace(&quot;md updated&quot;);\r\n            byte[] digest = md.digest();\r\n            LOGGER.trace(&quot;digest calculated&quot;);\r\n            String usernameHash = DatatypeConverter.printHexBinary(digest).toUpperCase();\r\n            LOGGER.trace(&quot;userhashname {} of user {}&quot;, usernameHash, user);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            LOGGER.trace(&quot;Outputstream created&quot;);\r\n            String filename = tempLogfilesLocation + usernameHash + &quot;.log&quot;;\r\n            LOGGER.trace(&quot;Starting processing msg {}&quot;, mc.toString());\r\n            if (toLog == null) {\r\n                this.toLog = false;\r\n            }\r\n            LocalDateTime printDate = LocalDateTime.now();\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS &quot;);\r\n            String formattedDateTime = printDate.format(formatter); // &quot;1986-04-08 12:30&quot;\r\n    \r\n            Boolean outboundProperty = (Boolean) mc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n    \r\n            if (toLog) { //if username is present for the SOAP query; it use to be present, so we rely on that!\r\n                LOGGER.trace(&quot;Starting processing msg before try block&quot;);\r\n                try {\r\n                    LOGGER.trace(&quot;Starting processing msg in try block&quot;);\r\n                    SOAPMessage msg = ((SOAPMessageContext) mc).getMessage();\r\n                    LOGGER.trace(&quot;Cast message and getting message&quot;);\r\n                    MimeHeaders mimeHeaders = msg.getMimeHeaders();\r\n                    LOGGER.trace(&quot;Getting headers&quot;);\r\n                    Iterator mhIterator = mimeHeaders.getAllHeaders();\r\n    \r\n                    LOGGER.trace(&quot;Starting file creation for user {}&quot;, user);\r\n                    msg.writeTo(baos);\r\n                    FileWriter fw = new FileWriter(filename, true);\r\n                    BufferedWriter bw = new BufferedWriter(fw);\r\n                    PrintWriter out = new PrintWriter(bw);\r\n                    LOGGER.trace(&quot;File opened for filename {}&quot;, filename);\r\n                    LOGGER.trace(type);\r\n                    //out.println(type);\r\n                    //out.flush();\r\n    //                while (mhIterator.hasNext()) {\r\n    //                    LOGGER.trace(&quot;Iterator loop started&quot;);\r\n    //                    MimeHeader mh = (MimeHeader) mhIterator.next();\r\n    //                    LOGGER.trace(&quot;Iterator next requested&quot;);\r\n    //                    String header = mh.getName() + &quot; : &quot; + mh.getValue();\r\n    //                    LOGGER.trace(&quot;Iterator MimeHeared values taken&quot;);\r\n    //                    LOGGER.trace(header);\r\n    //                    out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+header+&quot;\\r\\n&quot;);\r\n    //                    out.flush();\r\n    //                }\r\n                    LOGGER.trace(&quot; &quot; + simpleSecureFilter(baos.toString()));\r\n                    out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+simpleSecureFilter(baos.toString())+&quot;\\r\\n&quot;);\r\n                    out.flush();\r\n                    out.close();\r\n                    baos.close();\r\n                    LOGGER.trace(&quot;SOAP Message has been written to the file {}&quot;, filename);\r\n    \r\n                } catch (IOException e) {\r\n                    LOGGER.error(&quot;Error logging SOAP message to file &quot; + filename + &quot; for user &quot; + user, e);\r\n                } catch (SOAPException e) {\r\n                    LOGGER.trace(&quot;Starting file creation for catching soap exceptions for user {}&quot;, user);\r\n                    FileWriter fw = null;\r\n                    try {\r\n                        fw = new FileWriter(filename, true);\r\n                        BufferedWriter bw = new BufferedWriter(fw);\r\n                        PrintWriter out = new PrintWriter(bw);\r\n                        out.println(e.getMessage());\r\n                        LOGGER.error(&quot;Soap Exception&quot;, e);\r\n                    } catch (IOException ex) {\r\n                        LOGGER.error(&quot;Exception when trying to write tio the file SOAP fault&quot;, ex);\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                LOGGER.trace(&quot;Else block for toLog {}&quot;, toLog);\r\n            }\r\n            LOGGER.trace(&quot;Call ended&quot;);\r\n    \r\n            return true;\r\n        }\r\n    \r\n        private String simpleSecureFilter(String input) {\r\n            String[] secureTags = new String[]{&quot;password&quot;, &quot;pNewPass&quot;};\r\n            for (String secureTag : secureTags) {\r\n                int startIndex = input.indexOf(secureTag + &quot;&gt;&quot;);\r\n                if (startIndex != -1) {\r\n                    int endIndex = input.substring(startIndex).indexOf(&quot;&lt;/&quot;);\r\n                    String password = input.substring(startIndex + secureTag.length() + 1, startIndex + endIndex);\r\n                    return input.replaceAll(secureTag + &quot;&gt;&quot; + password + &quot;&lt;/&quot;, secureTag + &quot;&gt;***&lt;/&quot;);\r\n                }\r\n            }\r\n            return input;\r\n        }\r\n    }\r\n\r\n","title":"java.util.ConcurrentModificationException when iterating over ((SOAPMessageContext) mc).getMessage().getMimeHeaders().getAllHeaders()","body":"<p>I have a</p>\n<pre><code>public class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n</code></pre>\n<p>and in the</p>\n<pre><code>public boolean handleMessage(SOAPMessageContext context)\n</code></pre>\n<p>I have the below processing of the message headers</p>\n<pre><code>            LOGGER.trace(&quot;Starting processing msg in try block&quot;);\n            SOAPMessage msg = ((SOAPMessageContext) mc).getMessage();\n            LOGGER.trace(&quot;Cast message and getting message&quot;);\n            MimeHeaders mimeHeaders = msg.getMimeHeaders();\n            LOGGER.trace(&quot;Getting headers&quot;);\n            Iterator mhIterator = mimeHeaders.getAllHeaders();\n            LOGGER.trace(&quot;Starting file creation for user {}&quot;, user); //not actually affecting the SOAP message, but needed according to my business logic\n            msg.writeTo(baos);\n            FileWriter fw = new FileWriter(filename, true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter out = new PrintWriter(bw);\n            LOGGER.trace(&quot;File opened for filename {}&quot;, filename);\n            LOGGER.trace(type);\n            //out.println(type);\n            //out.flush();\n            while (mhIterator.hasNext()) {\n                LOGGER.trace(&quot;Iterator loop started&quot;);\n                MimeHeader mh = (MimeHeader) mhIterator.next();\n                LOGGER.trace(&quot;Iterator next requested&quot;);\n                String header = mh.getName() + &quot; : &quot; + mh.getValue();\n                LOGGER.trace(&quot;Iterator MimeHeared values taken&quot;);\n                LOGGER.trace(header);\n                out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+header+&quot;\\r\\n&quot;);\n                out.flush();\n            }\n</code></pre>\n<p>So,</p>\n<pre><code>LOGGER.trace(&quot;Iterator loop started&quot;); \n</code></pre>\n<p>works, but</p>\n<pre><code>MimeHeader mh = (MimeHeader) mhIterator.next();\n</code></pre>\n<p>already hangs and fails with below exception. For me  it isn't clear, as I don't touch the data being iterated.</p>\n<pre><code>2022-10-26 19:25:48.595 [http-nio-127.0.0.1-8080-exec-6] ERROR c.o.s.w.s.i.WebServiceExceptionHandler - java.util.ConcurrentModificationException\njavax.xml.ws.WebServiceException: java.util.ConcurrentModificationException\n        at com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnRequest(ClientSOAPHandlerTube.java:120)\n        at com.sun.xml.ws.handler.HandlerTube.processRequest(HandlerTube.java:97)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:1106)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:1020)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:989)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:847)\n        at com.sun.xml.ws.client.Stub.process(Stub.java:433)\n        at com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161)\n        at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78)\n        at com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:62)\n        at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:131)\n        at com.sun.proxy.$Proxy543.getUserInfo(Unknown Source)\n        at com.openpayment.client.basia.BankServiceClientImpl.getUserInfo(BankServiceClientImpl.java:47)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n        at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:96)\n        at com.openpayment.client.basia.handler.error.LoggingFilterAspect.putToLogOn(LoggingFilterAspect.java:38)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:627)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:616)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n        at com.sun.proxy.$Proxy94.getUserInfo(Unknown Source)\n        at com.openpayment.impl.service.AgentServiceImpl.createOrUpdateAgent(AgentServiceImpl.java:597)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n        at com.sun.proxy.$Proxy105.createOrUpdateAgent(Unknown Source)\n        at com.openpayment.site.web.service.UserResource.createOrUpdateUser(UserResource.java:75)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:854)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:765)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n        at com.openpayment.site.web.service.init.SiteWebDispatcherServlet.doDispatch(SiteWebDispatcherServlet.java:48)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.util.ConcurrentModificationException: null\n        at java.base/java.util.Vector$Itr.checkForComodification(Vector.java:1321)\n        at java.base/java.util.Vector$Itr.next(Vector.java:1277)\n        at com.openpayment.client.basia.handler.LoggingHandler.logMessage(LoggingHandler.java:108)\n        at com.openpayment.client.basia.handler.LoggingHandler.handleMessage(LoggingHandler.java:49)\n        at com.openpayment.client.basia.handler.LoggingHandler.handleMessage(LoggingHandler.java:26)\n        at com.sun.xml.ws.handler.HandlerProcessor.callHandleMessage(HandlerProcessor.java:267)\n        at com.sun.xml.ws.handler.HandlerProcessor.callHandlersRequest(HandlerProcessor.java:108)\n        at com.sun.xml.ws.handler.ClientSOAPHandlerTube.callHandlersOnRequest(ClientSOAPHandlerTube.java:112)\n        ... 124 common frames omitted\n</code></pre>\n<p>By the end, the full class is given, the iterator causiong a problem is commented out:</p>\n<pre><code>package com.openpayment.client.basia.handler;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\n\nimport javax.xml.bind.DatatypeConverter;\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.MimeHeader;\nimport javax.xml.soap.MimeHeaders;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPMessage;\nimport javax.xml.ws.handler.MessageContext;\nimport javax.xml.ws.handler.soap.SOAPHandler;\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\nimport java.io.*;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class LoggingHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoggingHandler.class);\n\n    private String tempLogfilesLocation;\n\n    private String user;\n    private Boolean toLog;\n\n    public LoggingHandler(String user, Boolean toLog, String tempLogfilesLocation) {\n        this.user = user;\n        this.toLog = toLog;\n        this.tempLogfilesLocation = tempLogfilesLocation;\n    }\n\n    public void close(MessageContext context) {\n    }\n\n    public boolean handleFault(SOAPMessageContext context) {\n        logMessage(context, &quot;SOAP Error is : &quot;);\n        return true;\n    }\n\n    public boolean handleMessage(SOAPMessageContext context) {\n        logMessage(context, &quot;SOAP Message: &quot;);\n        return true;\n    }\n\n    public Set&lt;QName&gt; getHeaders() {\n        return Collections.emptySet();\n    }\n\n    private boolean logMessage(MessageContext mc, String type) {\n        // try {\n        MessageDigest md = null;\n        try {\n            md = MessageDigest.getInstance(&quot;MD5&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n        LOGGER.trace(&quot;Hanldler User {}&quot;, user);\n        LOGGER.trace(&quot;Handler toLog {}&quot;, toLog);\n        LOGGER.trace(&quot;Handler tempLogfilesLocation {}&quot;, tempLogfilesLocation);\n        md.update(user.getBytes());\n        LOGGER.trace(&quot;md updated&quot;);\n        byte[] digest = md.digest();\n        LOGGER.trace(&quot;digest calculated&quot;);\n        String usernameHash = DatatypeConverter.printHexBinary(digest).toUpperCase();\n        LOGGER.trace(&quot;userhashname {} of user {}&quot;, usernameHash, user);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        LOGGER.trace(&quot;Outputstream created&quot;);\n        String filename = tempLogfilesLocation + usernameHash + &quot;.log&quot;;\n        LOGGER.trace(&quot;Starting processing msg {}&quot;, mc.toString());\n        if (toLog == null) {\n            this.toLog = false;\n        }\n        LocalDateTime printDate = LocalDateTime.now();\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS &quot;);\n        String formattedDateTime = printDate.format(formatter); // &quot;1986-04-08 12:30&quot;\n\n        Boolean outboundProperty = (Boolean) mc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n\n        if (toLog) { //if username is present for the SOAP query; it use to be present, so we rely on that!\n            LOGGER.trace(&quot;Starting processing msg before try block&quot;);\n            try {\n                LOGGER.trace(&quot;Starting processing msg in try block&quot;);\n                SOAPMessage msg = ((SOAPMessageContext) mc).getMessage();\n                LOGGER.trace(&quot;Cast message and getting message&quot;);\n                MimeHeaders mimeHeaders = msg.getMimeHeaders();\n                LOGGER.trace(&quot;Getting headers&quot;);\n                Iterator mhIterator = mimeHeaders.getAllHeaders();\n\n                LOGGER.trace(&quot;Starting file creation for user {}&quot;, user);\n                msg.writeTo(baos);\n                FileWriter fw = new FileWriter(filename, true);\n                BufferedWriter bw = new BufferedWriter(fw);\n                PrintWriter out = new PrintWriter(bw);\n                LOGGER.trace(&quot;File opened for filename {}&quot;, filename);\n                LOGGER.trace(type);\n                //out.println(type);\n                //out.flush();\n//                while (mhIterator.hasNext()) {\n//                    LOGGER.trace(&quot;Iterator loop started&quot;);\n//                    MimeHeader mh = (MimeHeader) mhIterator.next();\n//                    LOGGER.trace(&quot;Iterator next requested&quot;);\n//                    String header = mh.getName() + &quot; : &quot; + mh.getValue();\n//                    LOGGER.trace(&quot;Iterator MimeHeared values taken&quot;);\n//                    LOGGER.trace(header);\n//                    out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+header+&quot;\\r\\n&quot;);\n//                    out.flush();\n//                }\n                LOGGER.trace(&quot; &quot; + simpleSecureFilter(baos.toString()));\n                out.print(formattedDateTime+Thread.currentThread().getId()+&quot; &quot;+(outboundProperty?&quot;Request&quot;:&quot;Response&quot;)+&quot; &quot;+user+&quot; &quot;+simpleSecureFilter(baos.toString())+&quot;\\r\\n&quot;);\n                out.flush();\n                out.close();\n                baos.close();\n                LOGGER.trace(&quot;SOAP Message has been written to the file {}&quot;, filename);\n\n            } catch (IOException e) {\n                LOGGER.error(&quot;Error logging SOAP message to file &quot; + filename + &quot; for user &quot; + user, e);\n            } catch (SOAPException e) {\n                LOGGER.trace(&quot;Starting file creation for catching soap exceptions for user {}&quot;, user);\n                FileWriter fw = null;\n                try {\n                    fw = new FileWriter(filename, true);\n                    BufferedWriter bw = new BufferedWriter(fw);\n                    PrintWriter out = new PrintWriter(bw);\n                    out.println(e.getMessage());\n                    LOGGER.error(&quot;Soap Exception&quot;, e);\n                } catch (IOException ex) {\n                    LOGGER.error(&quot;Exception when trying to write tio the file SOAP fault&quot;, ex);\n                    throw new RuntimeException(ex);\n                }\n            }\n        }\n        else {\n            LOGGER.trace(&quot;Else block for toLog {}&quot;, toLog);\n        }\n        LOGGER.trace(&quot;Call ended&quot;);\n\n        return true;\n    }\n\n    private String simpleSecureFilter(String input) {\n        String[] secureTags = new String[]{&quot;password&quot;, &quot;pNewPass&quot;};\n        for (String secureTag : secureTags) {\n            int startIndex = input.indexOf(secureTag + &quot;&gt;&quot;);\n            if (startIndex != -1) {\n                int endIndex = input.substring(startIndex).indexOf(&quot;&lt;/&quot;);\n                String password = input.substring(startIndex + secureTag.length() + 1, startIndex + endIndex);\n                return input.replaceAll(secureTag + &quot;&gt;&quot; + password + &quot;&lt;/&quot;, secureTag + &quot;&gt;***&lt;/&quot;);\n            }\n        }\n        return input;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666345503,"creation_date":1666345503,"answer_id":74151778,"question_id":74150287,"body_markdown":"    loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                final String phoneTxt = phone.getText().toString();\r\n                final String passwordTxt = password.getText().toString();\r\n\r\n                if (phoneTxt.isEmpty() || passwordTxt.isEmpty()){\r\n                    Toast.makeText(Login.this, &quot;Please Enter Your Phone Number Or Password&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n\r\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if (snapshot.hasChild(phoneTxt)){\r\n                                final String getpassword = snapshot.child(phoneTxt).child(&quot;password&quot;).getValue(String.class);\r\n\r\n                                if (getpassword.equals(passwordTxt)){\r\n                                    Toast.makeText(Login.this, &quot;Successfully login! &quot;, Toast.LENGTH_SHORT).show();\r\n                                    startActivity(new Intent(Login.this,HomeScreen.class));\r\n                                    finish();\r\n                                }\r\n                                else{\r\n                                    Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                            else {\r\n                                Toast.makeText(Login.this, &quot;Wrong Phone Number!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n\r\n\r\nI have done this. I think this helps you.","title":"loggin with realtime database Firebase ( Android Studio)","body":"<pre><code>loginBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            final String phoneTxt = phone.getText().toString();\n            final String passwordTxt = password.getText().toString();\n\n            if (phoneTxt.isEmpty() || passwordTxt.isEmpty()){\n                Toast.makeText(Login.this, &quot;Please Enter Your Phone Number Or Password&quot;, Toast.LENGTH_SHORT).show();\n            }else {\n\n                databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.hasChild(phoneTxt)){\n                            final String getpassword = snapshot.child(phoneTxt).child(&quot;password&quot;).getValue(String.class);\n\n                            if (getpassword.equals(passwordTxt)){\n                                Toast.makeText(Login.this, &quot;Successfully login! &quot;, Toast.LENGTH_SHORT).show();\n                                startActivity(new Intent(Login.this,HomeScreen.class));\n                                finish();\n                            }\n                            else{\n                                Toast.makeText(Login.this, &quot;Wrong Password&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                        else {\n                            Toast.makeText(Login.this, &quot;Wrong Phone Number!&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n        }\n    });\n</code></pre>\n<p>I have done this. I think this helps you.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666791772,"creation_date":1666791772,"answer_id":74208860,"question_id":74150287,"body_markdown":"When you&#39;re using:\r\n\r\n    snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)\r\n\r\nIt basically means that you try to check if the full URL for the above reference is equal to &quot;user&quot;. Which obviously will always return false since that URL can never be equal to the &quot;user&quot; String. The [toString()][1] method of the [DatabaseReference][2] class returns:\r\n\r\n&gt; The full location URL for this reference.\r\n\r\nTo solve this problem, you have to get the value that corresponds to the `role` field as a String:\r\n\r\n    snapshot.child(uid).child(&quot;role&quot;).getValue(String.class).equals(&quot;user&quot;)\r\n    //                                 &#128070;\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#public-string-tostring\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html","title":"loggin with realtime database Firebase ( Android Studio)","body":"<p>When you're using:</p>\n<pre><code>snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)\n</code></pre>\n<p>It basically means that you try to check if the full URL for the above reference is equal to &quot;user&quot;. Which obviously will always return false since that URL can never be equal to the &quot;user&quot; String. The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#public-string-tostring\" rel=\"nofollow noreferrer\">toString()</a> method of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference\" rel=\"nofollow noreferrer\">DatabaseReference</a> class returns:</p>\n<blockquote>\n<p>The full location URL for this reference.</p>\n</blockquote>\n<p>To solve this problem, you have to get the value that corresponds to the <code>role</code> field as a String:</p>\n<pre><code>snapshot.child(uid).child(&quot;role&quot;).getValue(String.class).equals(&quot;user&quot;)\n//                                 \n</code></pre>\n"}],"owner":{"account_id":21408804,"reputation":1,"user_id":15769500,"display_name":"StressCodingCok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666791801,"creation_date":1666338161,"question_id":74150287,"body_markdown":"So I want to log in with a certain role where I try to login with the user role, but it always goes into the else condition, because `snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)` this condition always false. Is there any solution to this problem?\r\n\r\n[this is my database structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYReb.png\r\n\r\nand this is my code :\r\n\r\n```\r\npackage com.example.finalproject2;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class LoginScreenUser extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private TextView phone,pass;\r\n    private Button button;\r\n    private ProgressBar progressBar;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_screen);\r\n\r\n        phone = (TextView) findViewById(R.id.nomorTelp);\r\n        pass = (TextView) findViewById(R.id.passUser);\r\n        button = (Button) findViewById(R.id.loginUser);\r\n        progressBar = (ProgressBar) findViewById(R.id.loads);\r\n        button.setOnClickListener(this);\r\n        progressBar.setVisibility(View.GONE);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch(v.getId()){\r\n            case R.id.loginUser:\r\n                userlogin();\r\n        }\r\n    }\r\n\r\n    private void userlogin() {\r\n        String nomor = phone.getText().toString().trim();\r\n        String password = pass.getText().toString().trim();\r\n\r\n\r\n//        progressBar.setVisibility(View.VISIBLE);\r\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        DatabaseReference DatabaseReference = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference.child(&quot;Users&quot;).orderByChild(&quot;role&quot;).equalTo(&quot;user&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.child(nomor).exists()  &amp;&amp; snapshot.child(password).exists() &amp;&amp; snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)){\r\n                    Toast.makeText(LoginScreenUser.this,&quot;Login Succes&quot;,Toast.LENGTH_SHORT).show();\r\n                    back();\r\n                }else{\r\n                    Toast.makeText(LoginScreenUser.this,&quot;Data Belum Terdaftar&quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }\r\n    private void back() {\r\n        startActivity(new Intent(this,MainActivity.class));\r\n    }\r\n}\r\n```","title":"loggin with realtime database Firebase ( Android Studio)","body":"<p>So I want to log in with a certain role where I try to login with the user role, but it always goes into the else condition, because <code>snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)</code> this condition always false. Is there any solution to this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/yYReb.png\" rel=\"nofollow noreferrer\">this is my database structure</a></p>\n<p>and this is my code :</p>\n<pre><code>package com.example.finalproject2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.Switch;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class LoginScreenUser extends AppCompatActivity implements View.OnClickListener{\n\n    private TextView phone,pass;\n    private Button button;\n    private ProgressBar progressBar;\n    private FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login_screen);\n\n        phone = (TextView) findViewById(R.id.nomorTelp);\n        pass = (TextView) findViewById(R.id.passUser);\n        button = (Button) findViewById(R.id.loginUser);\n        progressBar = (ProgressBar) findViewById(R.id.loads);\n        button.setOnClickListener(this);\n        progressBar.setVisibility(View.GONE);\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch(v.getId()){\n            case R.id.loginUser:\n                userlogin();\n        }\n    }\n\n    private void userlogin() {\n        String nomor = phone.getText().toString().trim();\n        String password = pass.getText().toString().trim();\n\n\n//        progressBar.setVisibility(View.VISIBLE);\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        DatabaseReference DatabaseReference = FirebaseDatabase.getInstance().getReference();\n        DatabaseReference.child(&quot;Users&quot;).orderByChild(&quot;role&quot;).equalTo(&quot;user&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.child(nomor).exists()  &amp;&amp; snapshot.child(password).exists() &amp;&amp; snapshot.child(uid).child(&quot;role&quot;).equals(&quot;user&quot;)){\n                    Toast.makeText(LoginScreenUser.this,&quot;Login Succes&quot;,Toast.LENGTH_SHORT).show();\n                    back();\n                }else{\n                    Toast.makeText(LoginScreenUser.this,&quot;Data Belum Terdaftar&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n            }\n        });\n    }\n    private void back() {\n        startActivity(new Intent(this,MainActivity.class));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito","mockmvc"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1666795762,"post_id":74208307,"comment_id":131021227,"body_markdown":"Try this link: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql","body":"Try this link: <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-data-sql-and-schema-sql</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666846318,"post_id":74208307,"comment_id":131033193,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10907801,"reputation":113,"user_id":8018059,"display_name":"FranzF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666790694,"creation_date":1666790694,"answer_id":74208586,"question_id":74208307,"body_markdown":"There are many ways:\r\n- use liquibase scripts with test data for test environment\r\n- use @Sql annotation https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\r\n- If you use testcontainers like PostgreSQLContainer, there are method withInitScript(&quot;someScript.sql&quot;)\r\n- If you use H2 then put to your url init part like : &quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;classpath:scripts/create.sql&#39;&quot;","title":"Why setup method that is annotated with BeforeAll doesn&#39;t save ShippingAddress object to DB?","body":"<p>There are many ways:</p>\n<ul>\n<li>use liquibase scripts with test data for test environment</li>\n<li>use @Sql annotation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html</a></li>\n<li>If you use testcontainers like PostgreSQLContainer, there are method withInitScript(&quot;someScript.sql&quot;)</li>\n<li>If you use H2 then put to your url init part like : &quot;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM 'classpath:scripts/create.sql'&quot;</li>\n</ul>\n"}],"owner":{"account_id":26738488,"reputation":1,"user_id":20339654,"display_name":"Anamaria Afanasov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666791556,"creation_date":1666789570,"question_id":74208307,"body_markdown":"I am trying to add some tests to my project and I need to populate the DB before running my tests.\r\n\r\nI have tried to do it by using a void setup() method, annotated with BeforeEach and trying to make sure that data is not rolled back. Here is my code sample. I would have to add that both shippingAddressRepository and billingAddressRepository extend JPARepository. When I run test, it throws a custom exception that tells me that id for shipping address is not found in DB.\r\n\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {OrdersApiApplication.class, H2JpaConfig.class})\r\n@AutoConfigureMockMvc\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@TestClassOrder(ClassOrderer.OrderAnnotation.class)\r\n@TestPropertySource(&quot;classpath:application.yml&quot;)\r\nclass OrdersControllerTest extends GenericIntegrationTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ShippingAddressRepository shippingAddressRepository;\r\n    @Autowired\r\n    private BillingAddressRepository billingAddressRepository;\r\n    private static ShippingAddress testShippingAddress;\r\n    private static BillingAddress testBillingAddress;\r\n\r\n    @BeforeAll\r\n    @Rollback(value=false)\r\n    public void setup() {\r\n        testShippingAddress = shippingAddressRepository.save(new ShippingAddress(&quot;1&quot;,&quot;0722123443&quot;,&quot;Popescu&quot;,&quot;Ana&quot;,&quot;aleea lalelelor&quot;, &quot;Romania&quot;,&quot;Sv&quot;,&quot;2112&quot;,null));\r\n        System.out.println(testShippingAddress);\r\n        testBillingAddress = billingAddressRepository.save(new BillingAddress(&quot;1&quot;, &quot;0722123443&quot;,&quot;Popescu&quot;,&quot;Ana&quot;,&quot;aleea lalelelor&quot;, &quot;Romania&quot;,&quot;Sv&quot;,&quot;2112&quot;,null));\r\n    }\r\n    @Nested\r\n    class CreateOrderTests {\r\n\r\n        @Nested\r\n        class CreateProductTests {\r\n            private ObjectMapper mapper = new ObjectMapper();\r\n            @Test\r\n            void shouldCreateOrderSuccessfully() throws Exception {\r\n\r\n                ShippingAddress shippingAddress = new ShippingAddress();\r\n                shippingAddress.setId(&quot;1&quot;);\r\n                // act\r\n                MvcResult mvcResult = mockMvc\r\n                        .perform(createPostRequest(OrdersController.PATH, new CreateOrderReqDTO(OrderStatus.PAID, 3, 100.0, 100.0, 5.0, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;)))\r\n                        .andReturn();\r\n\r\n                OrderDTO response = mapper.readValue(mvcResult.getResponse().getContentAsString(), new TypeReference&lt;&gt;() {\r\n                });\r\n\r\n                // assert\r\n                assertEquals(100.0, response.getTotal());\r\n                assertEquals(100.0, response.getGrandTotal());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"Why setup method that is annotated with BeforeAll doesn&#39;t save ShippingAddress object to DB?","body":"<p>I am trying to add some tests to my project and I need to populate the DB before running my tests.</p>\n<p>I have tried to do it by using a void setup() method, annotated with BeforeEach and trying to make sure that data is not rolled back. Here is my code sample. I would have to add that both shippingAddressRepository and billingAddressRepository extend JPARepository. When I run test, it throws a custom exception that tells me that id for shipping address is not found in DB.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {OrdersApiApplication.class, H2JpaConfig.class})\n@AutoConfigureMockMvc\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@TestClassOrder(ClassOrderer.OrderAnnotation.class)\n@TestPropertySource(&quot;classpath:application.yml&quot;)\nclass OrdersControllerTest extends GenericIntegrationTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ShippingAddressRepository shippingAddressRepository;\n    @Autowired\n    private BillingAddressRepository billingAddressRepository;\n    private static ShippingAddress testShippingAddress;\n    private static BillingAddress testBillingAddress;\n\n    @BeforeAll\n    @Rollback(value=false)\n    public void setup() {\n        testShippingAddress = shippingAddressRepository.save(new ShippingAddress(&quot;1&quot;,&quot;0722123443&quot;,&quot;Popescu&quot;,&quot;Ana&quot;,&quot;aleea lalelelor&quot;, &quot;Romania&quot;,&quot;Sv&quot;,&quot;2112&quot;,null));\n        System.out.println(testShippingAddress);\n        testBillingAddress = billingAddressRepository.save(new BillingAddress(&quot;1&quot;, &quot;0722123443&quot;,&quot;Popescu&quot;,&quot;Ana&quot;,&quot;aleea lalelelor&quot;, &quot;Romania&quot;,&quot;Sv&quot;,&quot;2112&quot;,null));\n    }\n    @Nested\n    class CreateOrderTests {\n\n        @Nested\n        class CreateProductTests {\n            private ObjectMapper mapper = new ObjectMapper();\n            @Test\n            void shouldCreateOrderSuccessfully() throws Exception {\n\n                ShippingAddress shippingAddress = new ShippingAddress();\n                shippingAddress.setId(&quot;1&quot;);\n                // act\n                MvcResult mvcResult = mockMvc\n                        .perform(createPostRequest(OrdersController.PATH, new CreateOrderReqDTO(OrderStatus.PAID, 3, 100.0, 100.0, 5.0, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;, &quot;1&quot;)))\n                        .andReturn();\n\n                OrderDTO response = mapper.readValue(mvcResult.getResponse().getContentAsString(), new TypeReference&lt;&gt;() {\n                });\n\n                // assert\n                assertEquals(100.0, response.getTotal());\n                assertEquals(100.0, response.getGrandTotal());\n            }\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jakarta-ee","soft-delete"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667915801,"post_id":74208721,"comment_id":131278074,"body_markdown":"Did you try adding `@Filter(name = &quot;deletedFilter&quot;)` to this `groups` field yet?","body":"Did you try adding <code>@Filter(name = &quot;deletedFilter&quot;)</code> to this <code>groups</code> field yet?"},{"owner":{"account_id":4937057,"reputation":678,"user_id":3974872,"display_name":"Martin Hlava"},"score":0,"creation_date":1667981649,"post_id":74208721,"comment_id":131294794,"body_markdown":"Yes, without success.","body":"Yes, without success."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667987134,"post_id":74208721,"comment_id":131296635,"body_markdown":"If you think this is a bug, you should create a reproducer (https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) and report the problem on the issue tracker (https://hibernate.atlassian.net). By the way, here is a test from the Hibernate testsuite that actually exercises this and it appears to work: https://github.com/hibernate/hibernate-orm/blob/main/documentation/src/test/java/org/hibernate/userguide/pc/FilterTest.java#L224","body":"If you think this is a bug, you should create a reproducer (<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob/mas&zwnj;&#8203;ter/&hellip;</a>) and report the problem on the issue tracker (<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>). By the way, here is a test from the Hibernate testsuite that actually exercises this and it appears to work: <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/documentation/src/test/java/org/hibernate/userguide/pc/FilterTest.java#L224\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/main/documentation/s&zwnj;&#8203;rc/&hellip;</a>"}],"owner":{"account_id":4937057,"reputation":678,"user_id":3974872,"display_name":"Martin Hlava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666791430,"creation_date":1666791252,"question_id":74208721,"body_markdown":"I am implementing soft delete with Hibernate. Each entity that supports soft-deleting has an attribute for it.\r\n\r\n    @Column(name = &quot;DELETED&quot;)\r\n    private boolean deleted;\r\n\r\nI have created @FilterDef in package-info.java for package with domain objects.\r\n\r\n    @FilterDef(name = &quot;deletedFilter&quot;,\r\n        parameters = @ParamDef(name = &quot;includeDeleted&quot;, type = Boolean.class),\r\n        defaultCondition = &quot;:includeDeleted = true OR DELETED = false&quot;\r\n    )\r\n\r\napplied it to all DeleteAware entities\r\n\r\n    @Filter(name = &quot;deletedFilter&quot;)\r\n    public class CustomerGroup\r\n\r\nand enabled in when using in queries\r\n\r\n    Session session = em.unwrap(Session.class);\r\n    session.enableFilter(&quot;deletedFilter&quot;)\r\n           .setParameter(&quot;includeDeleted&quot;, fp.isDeleted());\r\n\r\nFilter is applied and works correctly for primary entity (for example when I query customers I can see that additional where condition is always applied as needed). \r\n\r\nProblem is with filter of association. Let&#39;s say Customer entity has collection of CustomerGroup.\r\n\r\n```\r\n@ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n@JoinTable(name = &quot;CUSTOMER_CUSTOMER_GROUP&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;CUSTOMER_ID&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;CUSTOMER_GROUP_ID&quot;))\r\nprivate Set&lt;CustomerGroup&gt; groups;\r\n```\r\nHowever when I query for Customer, groups collection contains deleted entities. I have turned on sql logging and I can see that condition is not applied for lazy query. However if I change \r\n\r\n    @ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n\r\nto \r\n\r\n    @ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.EAGER)\r\n    \r\nit works.\r\n\r\nBoth entities are annotated with @Filter. I have also tried applying @Filter annotation to collection itself success without. For initial testing I have also ensured that filters are not disabled and includeDeleted parameter is always false.\r\n\r\n@Where annotation on entities works like a charm, but cannot be disabled (99% percent of queries we want to filter out deleted objects but there is that pesky 1% where we need deleted ones).\r\n\r\nWe are using Hibernate 6.1.13 provided in WildFly 27 application server. Looks like filters are not applied when relation is lazy loaded. Am I missing something? \r\n\r\n","title":"Implementing soft delete with @Filter and lazy loaded associations","body":"<p>I am implementing soft delete with Hibernate. Each entity that supports soft-deleting has an attribute for it.</p>\n<pre><code>@Column(name = &quot;DELETED&quot;)\nprivate boolean deleted;\n</code></pre>\n<p>I have created @FilterDef in package-info.java for package with domain objects.</p>\n<pre><code>@FilterDef(name = &quot;deletedFilter&quot;,\n    parameters = @ParamDef(name = &quot;includeDeleted&quot;, type = Boolean.class),\n    defaultCondition = &quot;:includeDeleted = true OR DELETED = false&quot;\n)\n</code></pre>\n<p>applied it to all DeleteAware entities</p>\n<pre><code>@Filter(name = &quot;deletedFilter&quot;)\npublic class CustomerGroup\n</code></pre>\n<p>and enabled in when using in queries</p>\n<pre><code>Session session = em.unwrap(Session.class);\nsession.enableFilter(&quot;deletedFilter&quot;)\n       .setParameter(&quot;includeDeleted&quot;, fp.isDeleted());\n</code></pre>\n<p>Filter is applied and works correctly for primary entity (for example when I query customers I can see that additional where condition is always applied as needed).</p>\n<p>Problem is with filter of association. Let's say Customer entity has collection of CustomerGroup.</p>\n<pre><code>@ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n@JoinTable(name = &quot;CUSTOMER_CUSTOMER_GROUP&quot;,\n    joinColumns = @JoinColumn(name = &quot;CUSTOMER_ID&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;CUSTOMER_GROUP_ID&quot;))\nprivate Set&lt;CustomerGroup&gt; groups;\n</code></pre>\n<p>However when I query for Customer, groups collection contains deleted entities. I have turned on sql logging and I can see that condition is not applied for lazy query. However if I change</p>\n<pre><code>@ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n</code></pre>\n<p>to</p>\n<pre><code>@ManyToMany(cascade = CascadeType.DETACH, fetch = FetchType.EAGER)\n</code></pre>\n<p>it works.</p>\n<p>Both entities are annotated with @Filter. I have also tried applying @Filter annotation to collection itself success without. For initial testing I have also ensured that filters are not disabled and includeDeleted parameter is always false.</p>\n<p>@Where annotation on entities works like a charm, but cannot be disabled (99% percent of queries we want to filter out deleted objects but there is that pesky 1% where we need deleted ones).</p>\n<p>We are using Hibernate 6.1.13 provided in WildFly 27 application server. Looks like filters are not applied when relation is lazy loaded. Am I missing something?</p>\n"},{"tags":["java","spring-boot","jboss"],"answers":[{"tags":[],"owner":{"account_id":12809684,"reputation":25,"user_id":9268311,"display_name":"Gerard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652270455,"creation_date":1652270455,"answer_id":72200713,"question_id":72200712,"body_markdown":"The reason for the warning is that JBoss 7.3 is using an old Xerces library (2.2.12.0.SP03) which does not support the properties: accessExternalDTD and accessExternalSchema and spring-boot (2.6.6) expect support for this and log a warning when it is not supported.\r\n\r\nNormally you should update to a newer version of the Xerces library but in the case of JBoss this is not possible because the Xerces library is packaged with JBoss.\r\n\r\nThe solution for this is to change the logging settings in JBoss to the error level for this particular logging. This can be done with the following commands:\r\n\r\n````\r\n${JBOSS_HOME}/bin/jboss-cli.sh --connect controller=localhost:9990 --user=&lt;admin user&gt; --password=&lt;password&gt; --command=&quot;/subsystem=logging/logger=org.springframework.xml.validation.Jaxp15ValidatorFactory:add&quot;\r\n${JBOSS_HOME}/bin/jboss-cli.sh --connect controller=localhost:9990 --user=&lt;admin user&gt; --password=&lt;password&gt; --command=&quot;/subsystem=logging/logger=org.springframework.xml.validation.Jaxp15ValidatorFactory:write-attribute(name=level, value=ERROR)&quot;\r\n````\r\n","title":"Getting &quot;http://javax.xml.XMLConstants/property/accessExternalDTD property not supported&quot; in JBoss and using springboot","body":"<p>The reason for the warning is that JBoss 7.3 is using an old Xerces library (2.2.12.0.SP03) which does not support the properties: accessExternalDTD and accessExternalSchema and spring-boot (2.6.6) expect support for this and log a warning when it is not supported.</p>\n<p>Normally you should update to a newer version of the Xerces library but in the case of JBoss this is not possible because the Xerces library is packaged with JBoss.</p>\n<p>The solution for this is to change the logging settings in JBoss to the error level for this particular logging. This can be done with the following commands:</p>\n<pre><code>${JBOSS_HOME}/bin/jboss-cli.sh --connect controller=localhost:9990 --user=&lt;admin user&gt; --password=&lt;password&gt; --command=&quot;/subsystem=logging/logger=org.springframework.xml.validation.Jaxp15ValidatorFactory:add&quot;\n${JBOSS_HOME}/bin/jboss-cli.sh --connect controller=localhost:9990 --user=&lt;admin user&gt; --password=&lt;password&gt; --command=&quot;/subsystem=logging/logger=org.springframework.xml.validation.Jaxp15ValidatorFactory:write-attribute(name=level, value=ERROR)&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14938,"reputation":1011,"user_id":31090,"accept_rate":83,"display_name":"Ed Gomoliako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666791361,"creation_date":1666791361,"answer_id":74208759,"question_id":72200712,"body_markdown":"The provided implementation of the `ValidatorFactory` doesn&#39;t support the mentioned property.\r\n\r\nAs it&#39;s mentioned in the answer of @Gerard, JBoss `org.apache.xerces` dependency provides its implementation.\r\n\r\nYou can configure your program to use the implementation that supports or ignores the mentioned property.\r\n\r\nI elaborated on the details in another [similar answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74208524/31090","title":"Getting &quot;http://javax.xml.XMLConstants/property/accessExternalDTD property not supported&quot; in JBoss and using springboot","body":"<p>The provided implementation of the <code>ValidatorFactory</code> doesn't support the mentioned property.</p>\n<p>As it's mentioned in the answer of @Gerard, JBoss <code>org.apache.xerces</code> dependency provides its implementation.</p>\n<p>You can configure your program to use the implementation that supports or ignores the mentioned property.</p>\n<p>I elaborated on the details in another <a href=\"https://stackoverflow.com/a/74208524/31090\">similar answer</a>.</p>\n"}],"owner":{"account_id":12809684,"reputation":25,"user_id":9268311,"display_name":"Gerard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666791361,"creation_date":1652270455,"question_id":72200712,"body_markdown":"After upgrading our application to spring boot 2.6.6 in combination with JBoss 7.3 we get on every xml validation the following warnings: \r\n\r\n````\r\n2022-04-13 14:18:39,433 WARN  [org.springframework.xml.validation.Jaxp15ValidatorFactory] (default task-2) http://javax.xml.XMLConstants/property/accessExternalDTD property not supported by org.apache.xerces.jaxp.validation.ValidatorImpl\r\n2022-04-13 14:18:39,433 WARN  [org.springframework.xml.validation.Jaxp15ValidatorFactory] (default task-1) http://javax.xml.XMLConstants/property/accessExternalSchema property not supported by org.apache.xerces.jaxp.validation.ValidatorImpl\r\n````\r\n\r\nDue to the intensive number of validations, the JBoss disk was filled with a log warnings resulting in a full disk.\r\n\r\nThe most obvious solution is not to use JBoss, but unfortunately that is not possible in our production environment.","title":"Getting &quot;http://javax.xml.XMLConstants/property/accessExternalDTD property not supported&quot; in JBoss and using springboot","body":"<p>After upgrading our application to spring boot 2.6.6 in combination with JBoss 7.3 we get on every xml validation the following warnings:</p>\n<pre><code>2022-04-13 14:18:39,433 WARN  [org.springframework.xml.validation.Jaxp15ValidatorFactory] (default task-2) http://javax.xml.XMLConstants/property/accessExternalDTD property not supported by org.apache.xerces.jaxp.validation.ValidatorImpl\n2022-04-13 14:18:39,433 WARN  [org.springframework.xml.validation.Jaxp15ValidatorFactory] (default task-1) http://javax.xml.XMLConstants/property/accessExternalSchema property not supported by org.apache.xerces.jaxp.validation.ValidatorImpl\n</code></pre>\n<p>Due to the intensive number of validations, the JBoss disk was filled with a log warnings resulting in a full disk.</p>\n<p>The most obvious solution is not to use JBoss, but unfortunately that is not possible in our production environment.</p>\n"},{"tags":["java","android","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"score":0,"creation_date":1392369339,"post_id":21775138,"comment_id":32942766,"body_markdown":"So you want the length of `myArray`? Or the length of a column?","body":"So you want the length of <code>myArray</code>? Or the length of a column?"},{"owner":{"account_id":1929598,"reputation":5634,"user_id":1739297,"accept_rate":86,"display_name":"Matthias"},"score":0,"creation_date":1392370036,"post_id":21775138,"comment_id":32943161,"body_markdown":"The length of each dimension: columns and rows","body":"The length of each dimension: columns and rows"}],"answers":[{"tags":[],"owner":{"account_id":1557782,"reputation":6837,"user_id":1448363,"accept_rate":87,"display_name":"Piotr Chojnacki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392369321,"creation_date":1392369321,"answer_id":21775180,"question_id":21775138,"body_markdown":"Basically this will return length of second dimension:\r\n\r\n    this.myArray[0].length;\r\n\r\nRemember that two-dimensional array is just an array of arrays, which means that if you take one object of this main array, you will be able to check it&#39;s length.","title":"get length of second dimension of array","body":"<p>Basically this will return length of second dimension:</p>\n\n<pre><code>this.myArray[0].length;\n</code></pre>\n\n<p>Remember that two-dimensional array is just an array of arrays, which means that if you take one object of this main array, you will be able to check it's length.</p>\n"},{"tags":[],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1666791236,"creation_date":1392369388,"answer_id":21775204,"question_id":21775138,"body_markdown":"You can check length of your array, like:\r\n\r\n    this.myArray.length; // for row count\r\n\r\nand...\r\n\r\n    this.myArray[0].length; //for column count\r\n\r\nNote: Remember that 2-D array is actually an array containing other arrays (an array of array).","title":"get length of second dimension of array","body":"<p>You can check length of your array, like:</p>\n<pre><code>this.myArray.length; // for row count\n</code></pre>\n<p>and...</p>\n<pre><code>this.myArray[0].length; //for column count\n</code></pre>\n<p>Note: Remember that 2-D array is actually an array containing other arrays (an array of array).</p>\n"},{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1392369471,"creation_date":1392369471,"answer_id":21775232,"question_id":21775138,"body_markdown":"Number of Rows\r\n\r\n    this.myArray.length;\r\n\r\n \r\n\r\nNumber of Columns\r\n\r\n    this.myArray[0].length; ","title":"get length of second dimension of array","body":"<p>Number of Rows</p>\n\n<pre><code>this.myArray.length;\n</code></pre>\n\n<p>Number of Columns</p>\n\n<pre><code>this.myArray[0].length; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3372079,"reputation":694,"user_id":2831087,"accept_rate":100,"display_name":"Solenya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392371134,"creation_date":1392369567,"answer_id":21775274,"question_id":21775138,"body_markdown":"For cols:\r\n\r\n\r\n    System.out.println(AreaTuple[0].length);\r\n\r\nFor rows:\r\n\r\n\r\n    System.out.println(AreaTuple.length);","title":"get length of second dimension of array","body":"<p>For cols:</p>\n\n<pre><code>System.out.println(AreaTuple[0].length);\n</code></pre>\n\n<p>For rows:</p>\n\n<pre><code>System.out.println(AreaTuple.length);\n</code></pre>\n"}],"owner":{"account_id":1929598,"reputation":5634,"user_id":1739297,"accept_rate":86,"display_name":"Matthias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1392385476,"accepted_answer_id":21775232,"answer_count":4,"score":0,"last_activity_date":1666791236,"creation_date":1392369183,"question_id":21775138,"body_markdown":"I found different post on this topic but I could not find a suitable solution nor understand the code. Anyway, I do have an array that works like a non-squared matrix with columns and rows. From that array I want to retrieve the number of columns and rows later on. \r\n\r\n\tthis.myArray = new AreaTuple[cols][rows];\r\n\r\nBut how? I know how this works in C# but not in Java.","title":"get length of second dimension of array","body":"<p>I found different post on this topic but I could not find a suitable solution nor understand the code. Anyway, I do have an array that works like a non-squared matrix with columns and rows. From that array I want to retrieve the number of columns and rows later on. </p>\n\n<pre><code>this.myArray = new AreaTuple[cols][rows];\n</code></pre>\n\n<p>But how? I know how this works in C# but not in Java.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1639128180,"post_id":70302123,"comment_id":124274492,"body_markdown":"this is logging - it doesn&#39;t stop POI working - using the JDK parser (and removing xerces jar from your classpath) should lead to the logging going away - or you can configure your logging framework to ignore these logs","body":"this is logging - it doesn&#39;t stop POI working - using the JDK parser (and removing xerces jar from your classpath) should lead to the logging going away - or you can configure your logging framework to ignore these logs"},{"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"score":1,"creation_date":1639134816,"post_id":70302123,"comment_id":124276807,"body_markdown":"This does not make the POI stop, but it looks ugly :)","body":"This does not make the POI stop, but it looks ugly :)"}],"answers":[{"tags":[],"owner":{"account_id":14938,"reputation":1011,"user_id":31090,"accept_rate":83,"display_name":"Ed Gomoliako"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666791235,"creation_date":1666791235,"answer_id":74208719,"question_id":70302123,"body_markdown":"The provided implementation of the `DocumentBuilderFactory` doesn&#39;t support the mentioned property.\r\n\r\nIt could be that some third-party dependency in your classpath provides its implementation or its the behavior of the default one from your JDK.\r\n\r\nYou can configure your program to use the implementation that supports or ignores the mentioned property.\r\n\r\nI elaborated on the details in another [similar answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74208524/31090","title":"Property &#39;http://javax.xml.XMLConstants/property/accessExternalSchema&#39; is not recognized","body":"<p>The provided implementation of the <code>DocumentBuilderFactory</code> doesn't support the mentioned property.</p>\n<p>It could be that some third-party dependency in your classpath provides its implementation or its the behavior of the default one from your JDK.</p>\n<p>You can configure your program to use the implementation that supports or ignores the mentioned property.</p>\n<p>I elaborated on the details in another <a href=\"https://stackoverflow.com/a/74208524/31090\">similar answer</a>.</p>\n"}],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2851,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666791235,"creation_date":1639127588,"question_id":70302123,"body_markdown":"I got such an error. Is it related to dependencies? How can this be fixed?\r\n\r\n    java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalSchema&#39; is not recognized.\r\n\tat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.setAttribute(Unknown Source) ~[xercesImpl-2.12.1.jar:na]\r\n\tat org.apache.poi.util.XMLHelper.trySet(XMLHelper.java:284) ~[poi-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.util.XMLHelper.getDocumentBuilderFactory(XMLHelper.java:114) ~[poi-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.util.XMLHelper.&lt;clinit&gt;(XMLHelper.java:85) ~[poi-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.ooxml.util.DocumentHelper.newDocumentBuilder(DocumentHelper.java:47) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.ooxml.util.DocumentHelper.&lt;clinit&gt;(DocumentHelper.java:36) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.internal.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:393) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.internal.ContentTypeManager.&lt;init&gt;(ContentTypeManager.java:102) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.internal.ZipContentTypeManager.&lt;init&gt;(ZipContentTypeManager.java:53) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:740) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:47) ~[poi-ooxml-5.1.0.jar:5.1.0]\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:296) ~[poi-ooxml-5.1.0.jar:5.1","title":"Property &#39;http://javax.xml.XMLConstants/property/accessExternalSchema&#39; is not recognized","body":"<p>I got such an error. Is it related to dependencies? How can this be fixed?</p>\n<pre><code>java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalSchema' is not recognized.\nat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.setAttribute(Unknown Source) ~[xercesImpl-2.12.1.jar:na]\nat org.apache.poi.util.XMLHelper.trySet(XMLHelper.java:284) ~[poi-5.1.0.jar:5.1.0]\nat org.apache.poi.util.XMLHelper.getDocumentBuilderFactory(XMLHelper.java:114) ~[poi-5.1.0.jar:5.1.0]\nat org.apache.poi.util.XMLHelper.&lt;clinit&gt;(XMLHelper.java:85) ~[poi-5.1.0.jar:5.1.0]\nat org.apache.poi.ooxml.util.DocumentHelper.newDocumentBuilder(DocumentHelper.java:47) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.ooxml.util.DocumentHelper.&lt;clinit&gt;(DocumentHelper.java:36) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.internal.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:393) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.internal.ContentTypeManager.&lt;init&gt;(ContentTypeManager.java:102) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.internal.ZipContentTypeManager.&lt;init&gt;(ZipContentTypeManager.java:53) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:282) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:740) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:47) ~[poi-ooxml-5.1.0.jar:5.1.0]\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:296) ~[poi-ooxml-5.1.0.jar:5.1\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1666790889,"post_id":74208572,"comment_id":131019155,"body_markdown":"You can&#39;t. Java arrays are not really square, they are so-called jagged arrays, meaning each and every nested array can have its own length. If you declare the first dimension to be length zero, there is no second dimension, and even if it had a length of 1 or larger, you shouldn&#39;t rely on the length of the first (or any other) nested array to infer the length of all nested arrays.","body":"You can&#39;t. Java arrays are not really square, they are so-called jagged arrays, meaning each and every nested array can have its own length. If you declare the first dimension to be length zero, there is no second dimension, and even if it had a length of 1 or larger, you shouldn&#39;t rely on the length of the first (or any other) nested array to infer the length of all nested arrays."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666791135,"post_id":74208572,"comment_id":131019253,"body_markdown":"Related: [Getting the array length of a 2D array in Java](https://stackoverflow.com/questions/4000169/getting-the-array-length-of-a-2d-array-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/4000169/getting-the-array-length-of-a-2d-array-in-java\">Getting the array length of a 2D array in Java</a>"}],"owner":{"account_id":13316158,"reputation":49,"user_id":14569582,"display_name":"Bledder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666791291,"answer_count":0,"score":0,"last_activity_date":1666790857,"creation_date":1666790661,"question_id":74208572,"body_markdown":"I want to know the size of the second dimension but the first dimension needs to be 0. Of course this array cannot store any elements and is therefore useless, but the size of the first dimension will later be changed with an `arrayCopy` method.\r\n\r\n    String[][] arr = new String[0][3];\r\n    \r\n    // Get the first dimension size\r\n    System.out.println(arr.length); // 0\r\n    \r\n    // Get the second dimension size\r\n    System.out.println(arr[0].length; // Out of bounds error","title":"Get size of second dimension while first dimension is empty","body":"<p>I want to know the size of the second dimension but the first dimension needs to be 0. Of course this array cannot store any elements and is therefore useless, but the size of the first dimension will later be changed with an <code>arrayCopy</code> method.</p>\n<pre><code>String[][] arr = new String[0][3];\n\n// Get the first dimension size\nSystem.out.println(arr.length); // 0\n\n// Get the second dimension size\nSystem.out.println(arr[0].length; // Out of bounds error\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jpa"],"answers":[{"tags":[],"owner":{"account_id":338186,"reputation":2467,"user_id":666906,"accept_rate":54,"display_name":"simou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666790855,"creation_date":1446724841,"answer_id":33544003,"question_id":32381490,"body_markdown":" \r\n[This is likely a duplicate.][1]\r\n\r\n\r\nWhat I did was to `grep -ir &#39;ScanEnvironment&#39; .` in my local maven repo `~/.m2/repositoryode`. Luckily there was a match `./org/hibernate/hibernate-entitymanager/5.0.3.Final/hibernate-entitymanager-5.0.3.Final.jar`. According to `hibernate-entitymanager-5.0.3.Final.pom` you need this\r\n   \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.3.Final&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/33431310/spring-4-entitymanager-configuration","title":"Spring data and error NoClassDefFoundError ScanEnvironment","body":"<p><a href=\"http://stackoverflow.com/questions/33431310/spring-4-entitymanager-configuration\">This is likely a duplicate.</a></p>\n<p>What I did was to <code>grep -ir 'ScanEnvironment' .</code> in my local maven repo <code>~/.m2/repositoryode</code>. Luckily there was a match <code>./org/hibernate/hibernate-entitymanager/5.0.3.Final/hibernate-entitymanager-5.0.3.Final.jar</code>. According to <code>hibernate-entitymanager-5.0.3.Final.pom</code> you need this</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.0.3.Final&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5873787,"reputation":575,"user_id":4625321,"accept_rate":52,"display_name":"Bohdan Olehovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666790855,"creation_date":1441299468,"question_id":32381490,"body_markdown":"i create spring web application with controller, service, dao layer and this worked, but i want replace my dao layer to spring data jpa, but when i run new project from `spring data` i get error in browser when create object `repositories`. I get error when use `DriverManagerDataSource` or when use `HikariConfig`.\r\n\r\n`HTTP Status 500 - Request processing failed; nested exception is` `org.springframework.beans.factory.BeanCreationException: Error creating` `bean with name &#39;entityManagerFactory&#39; defined in configuration.AppConfig:` `Invocation of init method failed; nested exception is` `java.lang.NoClassDefFoundError:` `org/hibernate/boot/archive/scan/spi/ScanEnvironment`\r\n\r\n*I think that the error in &quot;`Spring data`&quot; because when I&#39;m replaced dao to jpa I get error, when working with the dao is good.*\r\n\r\nThis is `dependencies` in my `pom.xml`\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.servicemix.bundles.postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4-1201-jdbc41_1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2-beta&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.11.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n            &lt;version&gt;3.20.0-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**Config JPA class**\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {&quot;repositories&quot;},\r\n            entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;transactionManager&quot;)\r\n    @EnableTransactionManagement\r\n    @PropertySource(&quot;classpath:app.properties&quot;)\r\n    public class AppConfig {\r\n    \r\n        public AppConfig() {\r\n        }\r\n        /**\r\n         * The method that configures the datasource bean\r\n         * */\r\n        @Resource\r\n        private Environment env;\r\n    \r\n        @Bean\r\n        DataSource dataSource() {\r\n            //DriverManagerDataSource dataSourceConfig = new DriverManagerDataSource();\r\n            HikariConfig dataSourceConfig = new HikariConfig();\r\n    \r\n            dataSourceConfig.setJdbcUrl(env.getRequiredProperty(&quot;db.url&quot;));\r\n            //dataSourceConfig.setUrl(env.getRequiredProperty(&quot;db.url&quot;));\r\n    \r\n            dataSourceConfig.setDriverClassName(env.getRequiredProperty(&quot;db.driver&quot;));\r\n            //dataSourceConfig.setDriverClassName(env.getRequiredProperty(&quot;db.driver&quot;));\r\n    \r\n            dataSourceConfig.setUsername(env.getRequiredProperty(&quot;db.username&quot;));\r\n            //dataSourceConfig.setUsername(env.getRequiredProperty(&quot;db.username&quot;));\r\n    \r\n            dataSourceConfig.setPassword(env.getRequiredProperty(&quot;db.password&quot;));\r\n            //dataSourceConfig.setPassword(env.getRequiredProperty(&quot;db.password&quot;));\r\n    \r\n            return new HikariDataSource(dataSourceConfig);\r\n            //return dataSourceConfig;\r\n        }\r\n        /**\r\n         * The method that configures the entity manager factory\r\n         * */\r\n        @Bean\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, Environment env) {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactoryBean.setDataSource(dataSource);\r\n            entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n            entityManagerFactoryBean.setPackagesToScan(&quot;entities&quot;);\r\n    \r\n            Properties jpaProperties = new Properties();\r\n    \r\n            jpaProperties.put(&quot;hibernate.dialect&quot;, env.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n            jpaProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, env.getRequiredProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n            jpaProperties.put(&quot;hibernate.show_sql&quot;, env.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n            jpaProperties.put(&quot;hibernate.format_sql&quot;, env.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n    \r\n            entityManagerFactoryBean.setJpaProperties(jpaProperties);\r\n    \r\n            return entityManagerFactoryBean;\r\n        }\r\n        /**\r\n         * The method that configures the transaction manager\r\n         * */\r\n        @Bean\r\n        JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\n**PupilRepositories** class\r\n\r\n    public interface PupilRepositories extends CrudRepository&lt;Pupil, Long&gt; {\r\n    }\r\n**app.properties**\r\n\r\n    #Database Configuration\r\n    db.driver=org.postgresql.Driver\r\n    db.url=jdbc:postgresql://localhost:5432/database\r\n    db.username=postgres\r\n    db.password=password\r\n    \r\n    #Hibernate Configuration\r\n    hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\r\n    hibernate.hbm2ddl.auto=update\r\n    hibernate.show_sql=false\r\n    hibernate.format_sql=false\r\n\r\nPupilServiceImpl\r\n\r\n    @Service\r\n    public class PupilServiceImpl implements PupilService {\r\n    \r\n        private static ApplicationContext context = null;\r\n        private static PupilRepositories pupilRepositories = null;\r\n    \r\n        public PupilServiceImpl() {\r\n    \r\n        }\r\n        public static PupilRepositories getPupilRepositories(){\r\n            if (context == null){\r\n                context = new AnnotationConfigApplicationContext(AppConfig.class);\r\n                System.out.println(&quot;enter &amp; create new context&quot;);\r\n            }\r\n            if (pupilRepositories == null){\r\n                pupilRepositories = context.getBean(PupilRepositories.class);\r\n            }\r\n            return pupilRepositories;\r\n        }\r\n    \r\n        public List&lt;Pupil&gt; getAllPupils() {\r\n            System.out.println(getPupilRepositories().count());\r\n            return null;\r\n        }\r\n\r\n**Stacktrace**\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in configuration.AppConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    root cause\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in configuration.AppConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n    \torg.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n    \torg.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n    \tservice.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\r\n    \tservice.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\r\n    \tcontroller.PupilController.getAllPupils(PupilController.java:42)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:497)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    root cause\r\n    \r\n    java.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\r\n    \torg.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:34)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:165)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:160)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)\r\n    \torg.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:338)\r\n    \torg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n    \torg.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n    \torg.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n    \tservice.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\r\n    \tservice.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\r\n    \tcontroller.PupilController.getAllPupils(PupilController.java:42)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:497)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    root cause\r\n    \r\n    java.lang.ClassNotFoundException: org.hibernate.boot.archive.scan.spi.ScanEnvironment\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1313)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1164)\r\n    \torg.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:34)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:165)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:160)\r\n    \torg.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)\r\n    \torg.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:338)\r\n    \torg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\r\n    \torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\r\n    \torg.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n    \torg.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\r\n    \tservice.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\r\n    \tservice.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\r\n    \tcontroller.PupilController.getAllPupils(PupilController.java:42)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:497)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)","title":"Spring data and error NoClassDefFoundError ScanEnvironment","body":"<p>i create spring web application with controller, service, dao layer and this worked, but i want replace my dao layer to spring data jpa, but when i run new project from <code>spring data</code> i get error in browser when create object <code>repositories</code>. I get error when use <code>DriverManagerDataSource</code> or when use <code>HikariConfig</code>.</p>\n\n<p><code>HTTP Status 500 - Request processing failed; nested exception is</code> <code>org.springframework.beans.factory.BeanCreationException: Error creating</code> <code>bean with name 'entityManagerFactory' defined in configuration.AppConfig:</code> <code>Invocation of init method failed; nested exception is</code> <code>java.lang.NoClassDefFoundError:</code> <code>org/hibernate/boot/archive/scan/spi/ScanEnvironment</code></p>\n\n<p><em>I think that the error in \"<code>Spring data</code>\" because when I'm replaced dao to jpa I get error, when working with the dao is good.</em></p>\n\n<p>This is <code>dependencies</code> in my <code>pom.xml</code></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.servicemix.bundles.postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.4-1201-jdbc41_1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2-beta&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.3.11.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.20.0-GA&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>Config JPA class</strong></p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\"repositories\"},\n        entityManagerFactoryRef = \"entityManagerFactory\",\n        transactionManagerRef = \"transactionManager\")\n@EnableTransactionManagement\n@PropertySource(\"classpath:app.properties\")\npublic class AppConfig {\n\n    public AppConfig() {\n    }\n    /**\n     * The method that configures the datasource bean\n     * */\n    @Resource\n    private Environment env;\n\n    @Bean\n    DataSource dataSource() {\n        //DriverManagerDataSource dataSourceConfig = new DriverManagerDataSource();\n        HikariConfig dataSourceConfig = new HikariConfig();\n\n        dataSourceConfig.setJdbcUrl(env.getRequiredProperty(\"db.url\"));\n        //dataSourceConfig.setUrl(env.getRequiredProperty(\"db.url\"));\n\n        dataSourceConfig.setDriverClassName(env.getRequiredProperty(\"db.driver\"));\n        //dataSourceConfig.setDriverClassName(env.getRequiredProperty(\"db.driver\"));\n\n        dataSourceConfig.setUsername(env.getRequiredProperty(\"db.username\"));\n        //dataSourceConfig.setUsername(env.getRequiredProperty(\"db.username\"));\n\n        dataSourceConfig.setPassword(env.getRequiredProperty(\"db.password\"));\n        //dataSourceConfig.setPassword(env.getRequiredProperty(\"db.password\"));\n\n        return new HikariDataSource(dataSourceConfig);\n        //return dataSourceConfig;\n    }\n    /**\n     * The method that configures the entity manager factory\n     * */\n    @Bean\n    LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource, Environment env) {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setDataSource(dataSource);\n        entityManagerFactoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        entityManagerFactoryBean.setPackagesToScan(\"entities\");\n\n        Properties jpaProperties = new Properties();\n\n        jpaProperties.put(\"hibernate.dialect\", env.getRequiredProperty(\"hibernate.dialect\"));\n        jpaProperties.put(\"hibernate.hbm2ddl.auto\", env.getRequiredProperty(\"hibernate.hbm2ddl.auto\"));\n        jpaProperties.put(\"hibernate.show_sql\", env.getRequiredProperty(\"hibernate.show_sql\"));\n        jpaProperties.put(\"hibernate.format_sql\", env.getRequiredProperty(\"hibernate.format_sql\"));\n\n        entityManagerFactoryBean.setJpaProperties(jpaProperties);\n\n        return entityManagerFactoryBean;\n    }\n    /**\n     * The method that configures the transaction manager\n     * */\n    @Bean\n    JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n        return transactionManager;\n    }\n}\n</code></pre>\n\n<p><strong>PupilRepositories</strong> class</p>\n\n<pre><code>public interface PupilRepositories extends CrudRepository&lt;Pupil, Long&gt; {\n}\n</code></pre>\n\n<p><strong>app.properties</strong></p>\n\n<pre><code>#Database Configuration\ndb.driver=org.postgresql.Driver\ndb.url=jdbc:postgresql://localhost:5432/database\ndb.username=postgres\ndb.password=password\n\n#Hibernate Configuration\nhibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\nhibernate.hbm2ddl.auto=update\nhibernate.show_sql=false\nhibernate.format_sql=false\n</code></pre>\n\n<p>PupilServiceImpl</p>\n\n<pre><code>@Service\npublic class PupilServiceImpl implements PupilService {\n\n    private static ApplicationContext context = null;\n    private static PupilRepositories pupilRepositories = null;\n\n    public PupilServiceImpl() {\n\n    }\n    public static PupilRepositories getPupilRepositories(){\n        if (context == null){\n            context = new AnnotationConfigApplicationContext(AppConfig.class);\n            System.out.println(\"enter &amp; create new context\");\n        }\n        if (pupilRepositories == null){\n            pupilRepositories = context.getBean(PupilRepositories.class);\n        }\n        return pupilRepositories;\n    }\n\n    public List&lt;Pupil&gt; getAllPupils() {\n        System.out.println(getPupilRepositories().count());\n        return null;\n    }\n</code></pre>\n\n<p><strong>Stacktrace</strong></p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in configuration.AppConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:982)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nroot cause\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in configuration.AppConfig: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\n    org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\n    service.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\n    service.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\n    controller.PupilController.getAllPupils(PupilController.java:42)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:497)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nroot cause\n\njava.lang.NoClassDefFoundError: org/hibernate/boot/archive/scan/spi/ScanEnvironment\n    org.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:34)\n    org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:165)\n    org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:160)\n    org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)\n    org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:338)\n    org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\n    org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\n    service.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\n    service.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\n    controller.PupilController.getAllPupils(PupilController.java:42)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:497)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nroot cause\n\njava.lang.ClassNotFoundException: org.hibernate.boot.archive.scan.spi.ScanEnvironment\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1313)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1164)\n    org.hibernate.jpa.boot.spi.Bootstrap.getEntityManagerFactoryBuilder(Bootstrap.java:34)\n    org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:165)\n    org.hibernate.jpa.HibernatePersistenceProvider.getEntityManagerFactoryBuilder(HibernatePersistenceProvider.java:160)\n    org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)\n    org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:338)\n    org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:305)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:301)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)\n    org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1045)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:824)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:84)\n    service.implement.PupilServiceImpl.getPupilRepositories(PupilServiceImpl.java:27)\n    service.implement.PupilServiceImpl.getAllPupils(PupilServiceImpl.java:37)\n    controller.PupilController.getAllPupils(PupilController.java:42)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:497)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:178)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:442)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:430)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n"},{"tags":["java","spring-boot","multipartform-data","x509certificate","verification"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1666827389,"post_id":74206753,"comment_id":131030558,"body_markdown":"A PKCS7/CMS signature -- and CAdES is basically just CMS with added constraints -- is per Doug Adams almost completely unlike the raw cryptographic signature your code would handle. If you can use bouncycastle see https://stackoverflow.com/questions/17043569/pkcs7-verify-digital-signature-in-java?rq=1 (already suggested as Related) plus link there.","body":"A PKCS7/CMS signature -- and CAdES is basically just CMS with added constraints -- is per Doug Adams almost completely unlike the raw cryptographic signature your code would handle. If you can use bouncycastle see <a href=\"https://stackoverflow.com/questions/17043569/pkcs7-verify-digital-signature-in-java?rq=1\" title=\"pkcs7 verify digital signature in java\">stackoverflow.com/questions/17043569/&hellip;</a> (already suggested as Related) plus link there."},{"owner":{"account_id":26109986,"reputation":41,"user_id":19804077,"display_name":"Adam Jedrzejko"},"score":0,"creation_date":1666883624,"post_id":74206753,"comment_id":131045297,"body_markdown":"Thank you very much, it helped me to go into good direction but luckily that requirement was removed from my project and I couldn&#39;t test it and make it work.","body":"Thank you very much, it helped me to go into good direction but luckily that requirement was removed from my project and I couldn&#39;t test it and make it work."}],"owner":{"account_id":26109986,"reputation":41,"user_id":19804077,"display_name":"Adam Jedrzejko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666790670,"creation_date":1666782403,"question_id":74206753,"body_markdown":"In my REST API I am getting multipart files with a request. I get a JSON file, and p7s file, which is a signature of that JSON file. I have the public certificate which was used to sign it.\r\n\r\nI need to verify JSON file with jsonSig file.\r\n\r\nCode I have written by now is:\r\n\r\n```\r\npublic void getFiles(@RequestParam(&quot;json&quot;) MultipartFile json,\r\n                                        @RequestParam(&quot;json-sig&quot;) MultipartFile jsonSig) throws IOException, NoSuchAlgorithmException, KeyStoreException, CertificateException, InvalidKeyException, SignatureException {\r\n\r\n    String certificate = CERTIFIFATE;\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    byte[] base64Bytes = Base64.getDecoder().decode(certificate);\r\n    X509Certificate x509Certificate = (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(base64Bytes));\r\n\r\n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n    signature.initVerify(x509Certificate.getPublicKey());\r\n    signature.update(json.getBytes());\r\n    InputStream bytessss = jsonSig.getInputStream();\r\n    boolean isCorrect = signature.verify(jsonSig.getBytes());\r\n```\r\n\r\nI get an error in the last line:\r\n\r\n&gt; java.security.SignatureException: Signature length not correct: got\r\n&gt; 6793 but was expecting 256] with root cause\r\n\r\nI probably need to extract just a certificate from jsonSig, but I have no clue how to do that.\r\n","title":"How to verify JSON file (PKCS#7 detached signature in the .p7s file, CAdES-B compliant signature)","body":"<p>In my REST API I am getting multipart files with a request. I get a JSON file, and p7s file, which is a signature of that JSON file. I have the public certificate which was used to sign it.</p>\n<p>I need to verify JSON file with jsonSig file.</p>\n<p>Code I have written by now is:</p>\n<pre><code>public void getFiles(@RequestParam(&quot;json&quot;) MultipartFile json,\n                                        @RequestParam(&quot;json-sig&quot;) MultipartFile jsonSig) throws IOException, NoSuchAlgorithmException, KeyStoreException, CertificateException, InvalidKeyException, SignatureException {\n\n    String certificate = CERTIFIFATE;\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    byte[] base64Bytes = Base64.getDecoder().decode(certificate);\n    X509Certificate x509Certificate = (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(base64Bytes));\n\n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    signature.initVerify(x509Certificate.getPublicKey());\n    signature.update(json.getBytes());\n    InputStream bytessss = jsonSig.getInputStream();\n    boolean isCorrect = signature.verify(jsonSig.getBytes());\n</code></pre>\n<p>I get an error in the last line:</p>\n<blockquote>\n<p>java.security.SignatureException: Signature length not correct: got\n6793 but was expecting 256] with root cause</p>\n</blockquote>\n<p>I probably need to extract just a certificate from jsonSig, but I have no clue how to do that.</p>\n"},{"tags":["java","spring","spring-integration","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666790494,"creation_date":1666790494,"answer_id":74208550,"question_id":74201054,"body_markdown":"The pattern you are trying to use is called `factory method`. This has nothing to do with an `init`, which is typically something like `afterPropertiesSet()`.\r\n\r\nSince your factory method is not `static` - some dependency is present. Then you need to create a bean for the `CreateWebClient`, and then call that factory method for `WebClient`:\r\n\r\n\r\n    &lt;beans:bean id=&quot;createWebClient&quot; class=&quot;com.abc.mypackage.CreateWebClient&quot;/&gt;\r\n\r\n    &lt;beans:bean id=&quot;customWebClient&quot; factory-bean=&quot;createWebClient&quot;\r\n                                     factory-method=&quot;createWebClient&quot;/&gt;\r\n\r\nSee XSD doc for the `factory-method`:\r\n\r\n\tThe name of a factory method to use to create this object. Use\r\n\tconstructor-arg elements to specify arguments to the factory method,\r\n\tif it takes arguments. Autowiring does not apply to factory methods.\r\n\r\n\tIf the &quot;class&quot; attribute is present, the factory method will be a static\r\n\tmethod on the class specified by the &quot;class&quot; attribute on this bean\r\n\tdefinition. Often this will be the same class as that of the constructed\r\n\tobject - for example, when the factory method is used as an alternative\r\n\tto a constructor. However, it may be on a different class. In that case,\r\n\tthe created object will *not* be of the class specified in the &quot;class&quot;\r\n\tattribute. This is analogous to FactoryBean behavior.\r\n\r\n\tIf the &quot;factory-bean&quot; attribute is present, the &quot;class&quot; attribute is not\r\n\tused, and the factory method will be an instance method on the object\r\n\treturned from a getBean call with the specified bean name. The factory\r\n\tbean may be defined as a singleton or a prototype.\r\n\r\n\tThe factory method can have any number of arguments. Autowiring is not\r\n\tsupported. Use indexed constructor-arg elements in conjunction with the\r\n\tfactory-method attribute.\r\n\r\n\tSetter Injection can be used in conjunction with a factory method.\r\n\tMethod Injection cannot, as the factory method returns an instance,\r\n\twhich will be used when the container creates the bean.","title":"How to use custom webclient in spring webflux integration using xml configuration","body":"<p>The pattern you are trying to use is called <code>factory method</code>. This has nothing to do with an <code>init</code>, which is typically something like <code>afterPropertiesSet()</code>.</p>\n<p>Since your factory method is not <code>static</code> - some dependency is present. Then you need to create a bean for the <code>CreateWebClient</code>, and then call that factory method for <code>WebClient</code>:</p>\n<pre><code>&lt;beans:bean id=&quot;createWebClient&quot; class=&quot;com.abc.mypackage.CreateWebClient&quot;/&gt;\n\n&lt;beans:bean id=&quot;customWebClient&quot; factory-bean=&quot;createWebClient&quot;\n                                 factory-method=&quot;createWebClient&quot;/&gt;\n</code></pre>\n<p>See XSD doc for the <code>factory-method</code>:</p>\n<pre><code>The name of a factory method to use to create this object. Use\nconstructor-arg elements to specify arguments to the factory method,\nif it takes arguments. Autowiring does not apply to factory methods.\n\nIf the &quot;class&quot; attribute is present, the factory method will be a static\nmethod on the class specified by the &quot;class&quot; attribute on this bean\ndefinition. Often this will be the same class as that of the constructed\nobject - for example, when the factory method is used as an alternative\nto a constructor. However, it may be on a different class. In that case,\nthe created object will *not* be of the class specified in the &quot;class&quot;\nattribute. This is analogous to FactoryBean behavior.\n\nIf the &quot;factory-bean&quot; attribute is present, the &quot;class&quot; attribute is not\nused, and the factory method will be an instance method on the object\nreturned from a getBean call with the specified bean name. The factory\nbean may be defined as a singleton or a prototype.\n\nThe factory method can have any number of arguments. Autowiring is not\nsupported. Use indexed constructor-arg elements in conjunction with the\nfactory-method attribute.\n\nSetter Injection can be used in conjunction with a factory method.\nMethod Injection cannot, as the factory method returns an instance,\nwhich will be used when the container creates the bean.\n</code></pre>\n"}],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666790494,"creation_date":1666739399,"question_id":74201054,"body_markdown":"I am building webclient by adding different filters in my application. I want to use this custom webclient in spring webflux integration. I saw that WebFluxRequestExecutingMessageHandler accept custom webclient but i am not able to inject custom webclient bean through xml configuration.\r\n\r\nhttps://github.com/spring-projects/spring-integration/blob/2217cb4f90a722fdfd5868cfc376809b7eb7da31/spring-integration-webflux/src/main/java/org/springframework/integration/webflux/outbound/WebFluxRequestExecutingMessageHandler.java#L103-L116\r\n\r\nThis is my gateway spring xml\r\n\r\n    &lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\r\n\t\t\t\t\t  url=&quot;http://localhost:8080/hello&quot;\r\n\t\t\t\t\t  http-method=&quot;GET&quot;\r\n\t\t\t\t\t  request-channel=&quot;requests&quot;\r\n\t\t\t\t\t  reply-timeout=&quot;1234&quot;\r\n\t\t\t\t\t  extract-request-payload=&quot;false&quot;\r\n\t\t\t\t\t  expected-response-type=&quot;java.lang.String&quot;\r\n\t\t\t\t\t  mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\r\n\t\t\t\t\t  mapped-response-headers=&quot;responseHeader&quot;\r\n\t\t\t\t\t  reply-channel=&quot;replies&quot;\r\n\t\t\t\t\t  charset=&quot;UTF-8&quot;\r\n\t\t\t\t\t  order=&quot;77&quot;\r\n\t\t\t\t\t  auto-startup=&quot;false&quot;\r\n\t\t\t\t\t  transfer-cookies=&quot;true&quot;\r\n\t\t\t\t\t  reply-payload-to-flux=&quot;true&quot;\r\n\t\t\t\t\t  body-extractor=&quot;bodyExtractor&quot;\r\n\t\t\t\t\t  publisher-element-type-expression=&quot;headers.elementType&quot;\r\n\t\t\t\t\t  extract-response-body=&quot;false&quot;\r\n\t\t\t\t\t  web-client=&quot;customWebClient&quot;&gt;\r\n\r\n\t\t&lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\r\n\t&lt;/outbound-gateway&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;customWebClient&quot; class=&quot;com.abc.mypackage.CreateWebClient&quot;\r\n\t   init-method=&quot;createWebClient&quot;/&gt;\r\n\r\n\r\nThis is my CreateWebClient.java\r\n\r\n    public class CreateWebClient {\r\n    \r\n        @Autowired\r\n        MyCustomBuilderFactory builderFactory;\r\n    \r\n        public WebClient createWebClient() {\r\n    \r\n            WebClient webClient =  builderFactory.getbuilder(&quot;someconfiguration&quot;).build();\r\n            return webClient;\r\n        }\r\n    }\r\n\r\nNote: I know that CreateWebClient.java doesnt implement WebClient interface which i dont want to do as i just want to handover the already prepared webclient object spring integration for use.","title":"How to use custom webclient in spring webflux integration using xml configuration","body":"<p>I am building webclient by adding different filters in my application. I want to use this custom webclient in spring webflux integration. I saw that WebFluxRequestExecutingMessageHandler accept custom webclient but i am not able to inject custom webclient bean through xml configuration.</p>\n<p><a href=\"https://github.com/spring-projects/spring-integration/blob/2217cb4f90a722fdfd5868cfc376809b7eb7da31/spring-integration-webflux/src/main/java/org/springframework/integration/webflux/outbound/WebFluxRequestExecutingMessageHandler.java#L103-L116\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/blob/2217cb4f90a722fdfd5868cfc376809b7eb7da31/spring-integration-webflux/src/main/java/org/springframework/integration/webflux/outbound/WebFluxRequestExecutingMessageHandler.java#L103-L116</a></p>\n<p>This is my gateway spring xml</p>\n<pre><code>&lt;outbound-gateway id=&quot;reactiveFullConfig&quot;\n                  url=&quot;http://localhost:8080/hello&quot;\n                  http-method=&quot;GET&quot;\n                  request-channel=&quot;requests&quot;\n                  reply-timeout=&quot;1234&quot;\n                  extract-request-payload=&quot;false&quot;\n                  expected-response-type=&quot;java.lang.String&quot;\n                  mapped-request-headers=&quot;requestHeader1, requestHeader2&quot;\n                  mapped-response-headers=&quot;responseHeader&quot;\n                  reply-channel=&quot;replies&quot;\n                  charset=&quot;UTF-8&quot;\n                  order=&quot;77&quot;\n                  auto-startup=&quot;false&quot;\n                  transfer-cookies=&quot;true&quot;\n                  reply-payload-to-flux=&quot;true&quot;\n                  body-extractor=&quot;bodyExtractor&quot;\n                  publisher-element-type-expression=&quot;headers.elementType&quot;\n                  extract-response-body=&quot;false&quot;\n                  web-client=&quot;customWebClient&quot;&gt;\n\n    &lt;uri-variable name=&quot;foo&quot; expression=&quot;headers.bar&quot;/&gt;\n&lt;/outbound-gateway&gt;\n\n&lt;beans:bean id=&quot;customWebClient&quot; class=&quot;com.abc.mypackage.CreateWebClient&quot;\n   init-method=&quot;createWebClient&quot;/&gt;\n</code></pre>\n<p>This is my CreateWebClient.java</p>\n<pre><code>public class CreateWebClient {\n\n    @Autowired\n    MyCustomBuilderFactory builderFactory;\n\n    public WebClient createWebClient() {\n\n        WebClient webClient =  builderFactory.getbuilder(&quot;someconfiguration&quot;).build();\n        return webClient;\n    }\n}\n</code></pre>\n<p>Note: I know that CreateWebClient.java doesnt implement WebClient interface which i dont want to do as i just want to handover the already prepared webclient object spring integration for use.</p>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1666790269,"creation_date":1321834439,"answer_id":8205929,"question_id":8205919,"body_markdown":"There is a [JSpinner](https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html) control available in Swing.","title":"NumericUpDown equivalent in Java","body":"<p>There is a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">JSpinner</a> control available in Swing.</p>\n"},{"tags":[],"owner":{"account_id":162974,"reputation":9167,"user_id":384803,"accept_rate":60,"display_name":"Dmitry B."},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1321834461,"creation_date":1321834461,"answer_id":8205934,"question_id":8205919,"body_markdown":"http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html","title":"NumericUpDown equivalent in Java","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html</a></p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1321834553,"creation_date":1321834553,"answer_id":8205946,"question_id":8205919,"body_markdown":"If you&#39;re in Swing land, use a [JSpinner][1] - it works in numbers by default but can be customised to work with months, dates, or pretty much anything else.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/javax/swing/JSpinner.html","title":"NumericUpDown equivalent in Java","body":"<p>If you're in Swing land, use a <a href=\"http://download.oracle.com/javase/7/docs/api/javax/swing/JSpinner.html\" rel=\"nofollow\">JSpinner</a> - it works in numbers by default but can be customised to work with months, dates, or pretty much anything else.</p>\n"}],"owner":{"account_id":109907,"reputation":1755,"user_id":291024,"accept_rate":100,"display_name":"Eugenio De Hoyos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5378,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8205929,"answer_count":3,"score":4,"last_activity_date":1666790293,"creation_date":1321834337,"question_id":8205919,"body_markdown":"This one should be easy, but I didn&#39;t find it in Google:\r\n\r\nIs there an equivalent control to .Net&#39;s `System.Windows.Forms.NumericUpDown` in Java?\r\n\r\nThe functionality required is to select a valid decimal or integer number.","title":"NumericUpDown equivalent in Java","body":"<p>This one should be easy, but I didn't find it in Google:</p>\n<p>Is there an equivalent control to .Net's <code>System.Windows.Forms.NumericUpDown</code> in Java?</p>\n<p>The functionality required is to select a valid decimal or integer number.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":6,"creation_date":1390569475,"post_id":21333646,"comment_id":32159917,"body_markdown":"Aha, you&#39;re experimenting with Java 8. Try also overriding `hashCode()` in class `C`. If two `C` objects are equal, then their hash codes must be the same.","body":"Aha, you&#39;re experimenting with Java 8. Try also overriding <code>hashCode()</code> in class <code>C</code>. If two <code>C</code> objects are equal, then their hash codes must be the same."},{"owner":{"account_id":1443155,"reputation":2430,"user_id":1362623,"display_name":"Yasser Zamani"},"score":2,"creation_date":1390570034,"post_id":21333646,"comment_id":32160239,"body_markdown":"Put a breakpoint inside overrided `equals` and see if `distinct` regards it.","body":"Put a breakpoint inside overrided <code>equals</code> and see if <code>distinct</code> regards it."},{"owner":{"account_id":1443155,"reputation":2430,"user_id":1362623,"display_name":"Yasser Zamani"},"score":2,"creation_date":1390570139,"post_id":21333646,"comment_id":32160292,"body_markdown":"@Jesper, I did not see any worry about `hashcode` in documents at http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html#distinct--","body":"@Jesper, I did not see any worry about <code>hashcode</code> in documents at <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\">download.java.net/jdk8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"account_id":5030320,"reputation":119,"user_id":4040736,"display_name":"ksmonkey123"},"score":5,"creation_date":1429950167,"post_id":21333646,"comment_id":47850974,"body_markdown":"But it seems to operate initially on `hashcode`, since that most often is more efficient than the `equals` checks. And since it is a general contract, that two equal objects _must_ have the same hash. Therefore it is a valid solution to only perform the `equals` check when the `hashcode`s are the same. And I believe that&#39;s exactly what `distinct` does","body":"But it seems to operate initially on <code>hashcode</code>, since that most often is more efficient than the <code>equals</code> checks. And since it is a general contract, that two equal objects <i>must</i> have the same hash. Therefore it is a valid solution to only perform the <code>equals</code> check when the <code>hashcode</code>s are the same. And I believe that&#39;s exactly what <code>distinct</code> does"},{"owner":{"account_id":6797655,"reputation":975,"user_id":5232255,"display_name":"Jason Law"},"score":0,"creation_date":1580308052,"post_id":21333646,"comment_id":106055141,"body_markdown":"*but I don&#39;t understand why `distinct` returns 3 and not 2.*, `distinct` should be `count`.","body":"<i>but I don&#39;t understand why <code>distinct</code> returns 3 and not 2.</i>, <code>distinct</code> should be <code>count</code>."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1457683399,"creation_date":1390570476,"answer_id":21334090,"question_id":21333646,"body_markdown":"You need to also override the `hashCode` method in class `C`. For example:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return n.hashCode();\r\n    }\r\n\r\nWhen two `C` objects are equal, their `hashCode` methods must return the same value.\r\n\r\nThe API documentation for interface `Stream` does not mention this, but it&#39;s well-known that if you override `equals`, you should also override `hashCode`. The API documentation for `Object.equals()` mentions this:\r\n\r\n&gt; Note that it is generally necessary to override the `hashCode` method whenever this method is overridden, so as to maintain the general contract for the `hashCode` method, which states that equal objects must have equal hash codes.\r\n\r\nApparently, `Stream.distinct()` indeed uses the hash code of the objects, because when you implement it like I showed above, you get the expected result: 2.","title":"Stream and the distinct operation","body":"<p>You need to also override the <code>hashCode</code> method in class <code>C</code>. For example:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    return n.hashCode();\n}\n</code></pre>\n\n<p>When two <code>C</code> objects are equal, their <code>hashCode</code> methods must return the same value.</p>\n\n<p>The API documentation for interface <code>Stream</code> does not mention this, but it's well-known that if you override <code>equals</code>, you should also override <code>hashCode</code>. The API documentation for <code>Object.equals()</code> mentions this:</p>\n\n<blockquote>\n  <p>Note that it is generally necessary to override the <code>hashCode</code> method whenever this method is overridden, so as to maintain the general contract for the <code>hashCode</code> method, which states that equal objects must have equal hash codes.</p>\n</blockquote>\n\n<p>Apparently, <code>Stream.distinct()</code> indeed uses the hash code of the objects, because when you implement it like I showed above, you get the expected result: 2.</p>\n"}],"owner":{"account_id":25344,"reputation":20890,"user_id":65120,"accept_rate":56,"display_name":"xdevel2000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36600,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":21334090,"answer_count":1,"score":38,"last_activity_date":1666790187,"creation_date":1390569218,"question_id":21333646,"body_markdown":"I have the following code:\r\n\r\n    class C\r\n    {\r\n        String n;\r\n    \r\n        C(String n)\r\n        {\r\n            this.n = n;\r\n        }\r\n    \r\n        public String getN() { return n; }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj)\r\n        {\r\n            return this.getN().equals(((C)obj).getN());\r\n        }\r\n     }\r\n    \r\n    List&lt;C&gt; cc = Arrays.asList(new C(&quot;ONE&quot;), new C(&quot;TWO&quot;), new C(&quot;ONE&quot;));\r\n    \r\n    System.out.println(cc.parallelStream().distinct().count());\r\n\r\nbut I don&#39;t understand why `distinct` returns 3 and not 2.","title":"Stream and the distinct operation","body":"<p>I have the following code:</p>\n\n<pre><code>class C\n{\n    String n;\n\n    C(String n)\n    {\n        this.n = n;\n    }\n\n    public String getN() { return n; }\n\n    @Override\n    public boolean equals(Object obj)\n    {\n        return this.getN().equals(((C)obj).getN());\n    }\n }\n\nList&lt;C&gt; cc = Arrays.asList(new C(\"ONE\"), new C(\"TWO\"), new C(\"ONE\"));\n\nSystem.out.println(cc.parallelStream().distinct().count());\n</code></pre>\n\n<p>but I don't understand why <code>distinct</code> returns 3 and not 2.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":10056368,"reputation":500,"user_id":7434553,"display_name":"IQV"},"score":0,"creation_date":1517490368,"post_id":48563377,"comment_id":84122611,"body_markdown":"You need a getter-function `get2Id()` which return the unique ID and use this function in the example you found.","body":"You need a getter-function <code>get2Id()</code> which return the unique ID and use this function in the example you found."}],"answers":[{"tags":[],"owner":{"account_id":9112023,"reputation":744,"user_id":6780399,"display_name":"Gal Shaboodi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517491005,"creation_date":1517490298,"answer_id":48563477,"question_id":48563377,"body_markdown":"1. Override `equals()` and `hashCode()` methods in `Customer` object and include the relevant fields.\r\n2. Use `java.util.Set` instead of `java.util.List` and just add the objects to the Set.\r\n\r\nThis will assure you don&#39;t have any duplicate objects in the Set.\r\nSee this [post][1] for more info.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1642210/duplicate-elements-in-java-util-set\r\n\r\n**Update:**\r\n\r\nAfter overriding `equals()` you can do the following:\r\n    \r\n    List&lt;Customer&gt; distinctCustomers = customersList.stream().distinct().collect(Collectors.toList());\r\n\r\n*distinct() documentation:*\r\n\r\n&gt; java.util.stream.Stream&lt;br&gt;\r\npublic abstract Stream&lt;T&gt; **distinct()**&lt;br&gt;\r\nReturns a stream consisting of the **distinct** elements (**according to Object.equals(Object)**) of this stream.","title":"Removing duplicates from the list of objects based on more than one property in java 8","body":"<ol>\n<li>Override <code>equals()</code> and <code>hashCode()</code> methods in <code>Customer</code> object and include the relevant fields.</li>\n<li>Use <code>java.util.Set</code> instead of <code>java.util.List</code> and just add the objects to the Set.</li>\n</ol>\n\n<p>This will assure you don't have any duplicate objects in the Set.\nSee this <a href=\"https://stackoverflow.com/questions/1642210/duplicate-elements-in-java-util-set\">post</a> for more info.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>After overriding <code>equals()</code> you can do the following:</p>\n\n<pre><code>List&lt;Customer&gt; distinctCustomers = customersList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p><em>distinct() documentation:</em></p>\n\n<blockquote>\n  <p>java.util.stream.Stream<br>\n  public abstract Stream <strong>distinct()</strong><br>\n  Returns a stream consisting of the <strong>distinct</strong> elements (<strong>according to Object.equals(Object)</strong>) of this stream.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517490566,"creation_date":1517490503,"answer_id":48563542,"question_id":48563377,"body_markdown":"Very simple solution would be is to implement a [Comparator][1] interface for your Class that would compare your class based on the properties of your interest. Then compare the instances for equality using your Comparator.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Removing duplicates from the list of objects based on more than one property in java 8","body":"<p>Very simple solution would be is to implement a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> interface for your Class that would compare your class based on the properties of your interest. Then compare the instances for equality using your Comparator.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1517492313,"creation_date":1517491907,"answer_id":48563982,"question_id":48563377,"body_markdown":"[This answer](https://stackoverflow.com/a/29672489/2711488) of the linked question already points to a working solution, as you can easily use `List` containing all property values as keys, e.g.\r\n\r\n    HashSet&lt;Object&gt; seen=new HashSet&lt;&gt;();\r\n    customers.removeIf(c -&gt; !seen.add(Arrays.asList(c.getName(), c.getDayOfBirth())));\r\n\r\nIf these properties are never `null`, you could use Java&#160;9s `List.of` instead of `Arrays.asList` which is potentially more efficient.\r\n\r\n---\r\n\r\nIf you want a Stream solution creating a new `List`, you could use\r\n\r\n    List&lt;Customer&gt; distinctCustomers = customers.stream()\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.toMap(c -&gt; Arrays.asList(c.getName(), c.getDayOfBirth()),\r\n                             Function.identity(), (a,b) -&gt; a, LinkedHashMap::new),\r\n            m -&gt; new ArrayList&lt;&gt;(m.values())));\r\n","title":"Removing duplicates from the list of objects based on more than one property in java 8","body":"<p><a href=\"https://stackoverflow.com/a/29672489/2711488\">This answer</a> of the linked question already points to a working solution, as you can easily use <code>List</code> containing all property values as keys, e.g.</p>\n\n<pre><code>HashSet&lt;Object&gt; seen=new HashSet&lt;&gt;();\ncustomers.removeIf(c -&gt; !seen.add(Arrays.asList(c.getName(), c.getDayOfBirth())));\n</code></pre>\n\n<p>If these properties are never <code>null</code>, you could use Java9s <code>List.of</code> instead of <code>Arrays.asList</code> which is potentially more efficient.</p>\n\n<hr>\n\n<p>If you want a Stream solution creating a new <code>List</code>, you could use</p>\n\n<pre><code>List&lt;Customer&gt; distinctCustomers = customers.stream()\n    .collect(Collectors.collectingAndThen(\n        Collectors.toMap(c -&gt; Arrays.asList(c.getName(), c.getDayOfBirth()),\n                         Function.identity(), (a,b) -&gt; a, LinkedHashMap::new),\n        m -&gt; new ArrayList&lt;&gt;(m.values())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666789956,"creation_date":1666789956,"answer_id":74208425,"question_id":48563377,"body_markdown":"For distinct() on a stream to work, we need to override both equals and hashCode method of an object.\r\n\r\n    &lt;list or set&gt;.stream().distinct().collect(Collectors.toSet());","title":"Removing duplicates from the list of objects based on more than one property in java 8","body":"<p>For distinct() on a stream to work, we need to override both equals and hashCode method of an object.</p>\n<pre><code>&lt;list or set&gt;.stream().distinct().collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":1717337,"reputation":31,"user_id":1574126,"display_name":"Pavan ks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25034,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1666789956,"creation_date":1517490036,"question_id":48563377,"body_markdown":"I am trying to remove duplicates from the list of objects based on two properties, this question would be similar to below link but I am trying to find uniqueness based on two properties using java 8 features.\r\n\r\nexample: I have custom object where two property together makes unique entry\r\n\r\nsay List&lt;Customer&gt; customers\r\n\r\ncustomerName and DOB together makes unique entry. \r\n\r\nAny solution to identify distinction using predicate for two properties.\r\nlike below link they have solution on one property.\r\nhttps://stackoverflow.com/questions/23699371/java-8-distinct-by-property \r\n\r\nSimilar question:\r\n\r\nhttps://stackoverflow.com/questions/29670116/remove-duplicates-from-a-list-of-objects-based-on-property-in-java-8/29671170    ","title":"Removing duplicates from the list of objects based on more than one property in java 8","body":"<p>I am trying to remove duplicates from the list of objects based on two properties, this question would be similar to below link but I am trying to find uniqueness based on two properties using java 8 features.</p>\n\n<p>example: I have custom object where two property together makes unique entry</p>\n\n<p>say List customers</p>\n\n<p>customerName and DOB together makes unique entry. </p>\n\n<p>Any solution to identify distinction using predicate for two properties.\nlike below link they have solution on one property.\n<a href=\"https://stackoverflow.com/questions/23699371/java-8-distinct-by-property\">Java 8 Distinct by property</a> </p>\n\n<p>Similar question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29670116/remove-duplicates-from-a-list-of-objects-based-on-property-in-java-8/29671170\">Remove duplicates from a list of objects based on property in Java 8</a>    </p>\n"},{"tags":["java","spring","gitlab","sftp","apache-mina"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1666749570,"post_id":74201114,"comment_id":131008247,"body_markdown":"What port number is `BPSDataLoadControllerTest.startSftpServer()` trying to bind to?","body":"What port number is <code>BPSDataLoadControllerTest.startSftpServer()</code> trying to bind to?"},{"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"score":0,"creation_date":1666749742,"post_id":74201114,"comment_id":131008279,"body_markdown":"@Kenster 22 is the one specified in the application.yml","body":"@Kenster 22 is the one specified in the application.yml"}],"answers":[{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666789666,"creation_date":1666789666,"answer_id":74208339,"question_id":74201114,"body_markdown":"The error indicates the SFTP server logic is getting an error while binding to a TCP port to receive connections. You indicate that it&#39;s trying to bind to port 22.\r\n\r\nOn unix systems, processes not running as root typically can&#39;t bind to ports below 1024. This is intended to prevent untrusted processes from taking over the ports used by essential services.\r\n\r\nIt&#39;s also likely that some other process is already bound to port 22. Port 22 is the standard SSH service port, and most unix systems run an SSH server to provide remote access. If your test server could bind to port 22, it might find itself receiving connections from genuine SSH clients not involved in your test.\r\n\r\nUnless you want to run your test as root and you&#39;re sure that port 22 is unused, you should arrange for the test to use a port number from the range 1024 through 65535.\r\n","title":"Testing Sftp using Apache Mina fails with permission denied in GitLab CI","body":"<p>The error indicates the SFTP server logic is getting an error while binding to a TCP port to receive connections. You indicate that it's trying to bind to port 22.</p>\n<p>On unix systems, processes not running as root typically can't bind to ports below 1024. This is intended to prevent untrusted processes from taking over the ports used by essential services.</p>\n<p>It's also likely that some other process is already bound to port 22. Port 22 is the standard SSH service port, and most unix systems run an SSH server to provide remote access. If your test server could bind to port 22, it might find itself receiving connections from genuine SSH clients not involved in your test.</p>\n<p>Unless you want to run your test as root and you're sure that port 22 is unused, you should arrange for the test to use a port number from the range 1024 through 65535.</p>\n"}],"owner":{"account_id":8903518,"reputation":488,"user_id":8383744,"accept_rate":75,"display_name":"Beez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74208339,"answer_count":1,"score":0,"last_activity_date":1666789666,"creation_date":1666740097,"question_id":74201114,"body_markdown":"I&#39;m attempting to push my changes to GitLab that allows me to spin up a local server on the machine and connect to it via SFTP using key auth. When running this in my local all tests pass as expected and I can connect to the Apache Mina server. However, when the tests run on the GitLab pipeline I get a permission denied error, with very little explanation. Any insight on this would be very helpful. Once it gets to `sshd.start()` is when the exception is thrown\r\n\r\nThanks in advance.\r\n\r\n```\r\n  java.net.SocketException: Permission denied\r\n        at sun.nio.ch.Net.bind0(Native Method)\r\n        at sun.nio.ch.Net.bind(Net.java:433)\r\n        at sun.nio.ch.Net.bind(Net.java:425)\r\n        at sun.nio.ch.AsynchronousServerSocketChannelImpl.bind(AsynchronousServerSocketChannelImpl.java:162)\r\n        at org.apache.sshd.common.io.nio2.Nio2Acceptor.bind(Nio2Acceptor.java:83)\r\n        at org.apache.sshd.common.io.nio2.Nio2Acceptor.bind(Nio2Acceptor.java:173)\r\n        at org.apache.sshd.server.SshServer.start(SshServer.java:340)\r\n        at com.broadridge.gto.gptm.recon.controller.BPSDataLoadControllerTest.startSftpServer(BPSDataLoadControllerTest.java:162)\r\n        at com.broadridge.gto.gptm.recon.controller.BPSDataLoadControllerTest.bpsSftpDataLoad(BPSDataLoadControllerTest.java:120)\r\n```\r\nCONTROLLER:\r\n```\r\n   try {\r\n      sftp.execute(\r\n          downloadFileInto(\r\n              &quot;/path/to/file/test&quot;,\r\n              positionService::saveAllBpsPositionData));\r\n```\r\nTEST: \r\n```\r\n @Test\r\n  void bpsSftpDataLoad() throws Throwable {\r\n    ReflectionTestUtils.setField(dataLoadController, &quot;wildcard&quot;, &quot;test&quot;);\r\n    startSftpServer();\r\n    InputStream is =\r\n        new ClassPathResource(&quot;/testdata/PositionRecon/position.txt&quot;).getInputStream();\r\n    Path virtualFile =\r\n        fileSystem.getPath(&quot;/path/to/file/test&quot;);\r\n    java.nio.file.Files.createDirectories(virtualFile.getParent());\r\n    java.nio.file.Files.createFile(virtualFile);\r\n    java.nio.file.Files.copy(is, virtualFile, StandardCopyOption.REPLACE_EXISTING);\r\n    mockMvc.perform(\r\n        MockMvcRequestBuilders.request(\r\n            HttpMethod.POST, &quot;/perform-bps-load-sftp/{businessDate}&quot;, &quot;06072022&quot;));\r\n    assertEquals(8, bpsPositionsRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\r\n    assertEquals(3, bpsPriceRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\r\n    assertEquals(2, bpsMemoRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\r\n    teardown();\r\n  }\r\n\r\n  private void startSftpServer()\r\n      throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\r\n    sshd = SshServer.setUpDefaultServer();\r\n    sshd.setPort(port);\r\n    sshd.setSubsystemFactories(\r\n        Collections.singletonList(new SftpSubsystemFactory.Builder().build()));\r\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\r\n    sshd.setUserAuthFactories(\r\n        BuiltinUserAuthFactories.parseFactoriesList(&quot;publickey&quot;).getParsedFactories());\r\n    sshd.setPublickeyAuthenticator(\r\n        new KeySetPublickeyAuthenticator(\r\n            &quot;keySetPKAuth&quot;,\r\n            SftpTestConfigUtils.loadPemPublicKeys(\r\n                new ClassPathResource(&quot;/keystore/public_test.pem&quot;))));\r\n    fileSystem =\r\n        Jimfs.newFileSystem(Configuration.unix().toBuilder().setAttributeViews(&quot;posix&quot;).build());\r\n    sshd.setFileSystemFactory(new VirtualFileSystemFactory(fileSystem.getPath(&quot;/&quot;)));\r\n\r\n    sshd.start();\r\n  }\r\n```\r\nCONFIG: \r\n```\r\npublic class SftpTestConfigUtils {\r\n  public static Set&lt;PublicKey&gt; loadPemPublicKeys(Resource... resources)\r\n      throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    Set&lt;PublicKey&gt; publicKeySet = new HashSet&lt;&gt;();\r\n    for (Resource resource : resources) {\r\n      try (InputStream inputStream = resource.getInputStream();\r\n          Reader reader = new InputStreamReader(inputStream);\r\n          PemReader pemReader = new PemReader(reader)) {\r\n        PemObject pemObject =\r\n            Objects.requireNonNull(pemReader.readPemObject(), &quot;No public key found in &quot; + resource);\r\n        publicKeySet.add(keyFactory.generatePublic(new X509EncodedKeySpec(pemObject.getContent())));\r\n      }\r\n    }\r\n    return publicKeySet;\r\n  }\r\n\r\n  public static FailableSupplier&lt;Session, JSchException&gt; getConfig(int port) {\r\n    SftpConfiguration config = new SftpConfiguration();\r\n    config.setPort(port);\r\n    config.setServer(&quot;127.0.0.1&quot;);\r\n    config.setUsername(&quot;sshd&quot;);\r\n    config.setPrivateKey(new ClassPathResource(&quot;/keystore/test_pk_rsa_mina.pem&quot;));\r\n    return config::createSession;\r\n  }\r\n}\r\n```\r\n```\r\n@Configuration\r\npublic class SftpSpringConfiguration {\r\n  @Bean\r\n  @ConfigurationProperties(prefix = &quot;recon.data.load.sftp.*&quot;)\r\n  public SftpConfiguration sftpFileRetrievalConfiguration() {\r\n    return new SftpConfiguration();\r\n  }\r\n\r\n  @Bean\r\n  public SftpFileRetrieval fileRetrieval() {\r\n    return new SftpFileRetrieval(sftpFileRetrievalConfiguration()::createSession);\r\n  }\r\n}\r\n```\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class SftpConfiguration {\r\n  private String server;\r\n  private String username;\r\n  private Resource privateKey;\r\n  private int port;\r\n\r\n  public Session createSession() throws JSchException {\r\n    validate();\r\n    JSch jsch = new JSch();\r\n    try {\r\n      byte[] privateKeyBytes = IOUtils.toByteArray(this.getPrivateKey().getInputStream());\r\n      jsch.addIdentity(&quot;user&quot;, privateKeyBytes, null, null);\r\n      Arrays.fill(privateKeyBytes, (byte) 0); // Go away Checkmarx!\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(&quot;Failed to read private key&quot;, e);\r\n    }\r\n    Session session = jsch.getSession(this.getUsername(), this.getServer(), this.getPort());\r\n    Properties config = new Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.setConfig(config);\r\n    return session;\r\n  }\r\n```\r\nSFTP CLIENT:\r\n```\r\n\r\n  public SftpFileRetrieval(@NonNull FailableSupplier&lt;Session, JSchException&gt; sessionFactory) {\r\n    this.sessionFactory = sessionFactory;\r\n  }\r\n\r\n  @Override\r\n  public void execute(FailableConsumer&lt;ChannelSftp, Exception&gt; consumer) throws Exception {\r\n\r\n    Session session =\r\n        Objects.requireNonNull(sessionFactory.get(), &quot;Null session returned from session factory.&quot;);\r\n\r\n    ChannelSftp channelSftp = null;\r\n\r\n    try {\r\n      session.connect();\r\n\r\n      channelSftp = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n\r\n      channelSftp.connect();\r\n      log.info(&quot;SFTP channel connected&quot;);\r\n\r\n      consumer.accept(channelSftp);\r\n\r\n    } catch (Exception e) {\r\n      log.warn(&quot;Sftp File Retrieval Failed: {}&quot;, e.getMessage());\r\n      throw e;\r\n    } finally {\r\n      if (channelSftp != null) {\r\n        closeQuietly(channelSftp::disconnect);\r\n        closeQuietly(channelSftp::exit);\r\n      }\r\n      closeQuietly(session::disconnect);\r\n    }\r\n  }\r\n```\r\nNote: All of my values for SftpConfiguration class are autowired in by the SpringConfig class, where the values are located in my application.yml\r\n\r\nWhat makes me think this is a GitLab issue is, again when running this on my local system all tests pass as expected, and I have no issue connecting, writing, downloading from the server.\r\n\r\nPlease let me know if you need to see anymore of the code.","title":"Testing Sftp using Apache Mina fails with permission denied in GitLab CI","body":"<p>I'm attempting to push my changes to GitLab that allows me to spin up a local server on the machine and connect to it via SFTP using key auth. When running this in my local all tests pass as expected and I can connect to the Apache Mina server. However, when the tests run on the GitLab pipeline I get a permission denied error, with very little explanation. Any insight on this would be very helpful. Once it gets to <code>sshd.start()</code> is when the exception is thrown</p>\n<p>Thanks in advance.</p>\n<pre><code>  java.net.SocketException: Permission denied\n        at sun.nio.ch.Net.bind0(Native Method)\n        at sun.nio.ch.Net.bind(Net.java:433)\n        at sun.nio.ch.Net.bind(Net.java:425)\n        at sun.nio.ch.AsynchronousServerSocketChannelImpl.bind(AsynchronousServerSocketChannelImpl.java:162)\n        at org.apache.sshd.common.io.nio2.Nio2Acceptor.bind(Nio2Acceptor.java:83)\n        at org.apache.sshd.common.io.nio2.Nio2Acceptor.bind(Nio2Acceptor.java:173)\n        at org.apache.sshd.server.SshServer.start(SshServer.java:340)\n        at com.broadridge.gto.gptm.recon.controller.BPSDataLoadControllerTest.startSftpServer(BPSDataLoadControllerTest.java:162)\n        at com.broadridge.gto.gptm.recon.controller.BPSDataLoadControllerTest.bpsSftpDataLoad(BPSDataLoadControllerTest.java:120)\n</code></pre>\n<p>CONTROLLER:</p>\n<pre><code>   try {\n      sftp.execute(\n          downloadFileInto(\n              &quot;/path/to/file/test&quot;,\n              positionService::saveAllBpsPositionData));\n</code></pre>\n<p>TEST:</p>\n<pre><code> @Test\n  void bpsSftpDataLoad() throws Throwable {\n    ReflectionTestUtils.setField(dataLoadController, &quot;wildcard&quot;, &quot;test&quot;);\n    startSftpServer();\n    InputStream is =\n        new ClassPathResource(&quot;/testdata/PositionRecon/position.txt&quot;).getInputStream();\n    Path virtualFile =\n        fileSystem.getPath(&quot;/path/to/file/test&quot;);\n    java.nio.file.Files.createDirectories(virtualFile.getParent());\n    java.nio.file.Files.createFile(virtualFile);\n    java.nio.file.Files.copy(is, virtualFile, StandardCopyOption.REPLACE_EXISTING);\n    mockMvc.perform(\n        MockMvcRequestBuilders.request(\n            HttpMethod.POST, &quot;/perform-bps-load-sftp/{businessDate}&quot;, &quot;06072022&quot;));\n    assertEquals(8, bpsPositionsRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\n    assertEquals(3, bpsPriceRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\n    assertEquals(2, bpsMemoRepo.countByBusinessDate(LocalDate.parse(&quot;2022-06-07&quot;)));\n    teardown();\n  }\n\n  private void startSftpServer()\n      throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\n    sshd = SshServer.setUpDefaultServer();\n    sshd.setPort(port);\n    sshd.setSubsystemFactories(\n        Collections.singletonList(new SftpSubsystemFactory.Builder().build()));\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider());\n    sshd.setUserAuthFactories(\n        BuiltinUserAuthFactories.parseFactoriesList(&quot;publickey&quot;).getParsedFactories());\n    sshd.setPublickeyAuthenticator(\n        new KeySetPublickeyAuthenticator(\n            &quot;keySetPKAuth&quot;,\n            SftpTestConfigUtils.loadPemPublicKeys(\n                new ClassPathResource(&quot;/keystore/public_test.pem&quot;))));\n    fileSystem =\n        Jimfs.newFileSystem(Configuration.unix().toBuilder().setAttributeViews(&quot;posix&quot;).build());\n    sshd.setFileSystemFactory(new VirtualFileSystemFactory(fileSystem.getPath(&quot;/&quot;)));\n\n    sshd.start();\n  }\n</code></pre>\n<p>CONFIG:</p>\n<pre><code>public class SftpTestConfigUtils {\n  public static Set&lt;PublicKey&gt; loadPemPublicKeys(Resource... resources)\n      throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    Set&lt;PublicKey&gt; publicKeySet = new HashSet&lt;&gt;();\n    for (Resource resource : resources) {\n      try (InputStream inputStream = resource.getInputStream();\n          Reader reader = new InputStreamReader(inputStream);\n          PemReader pemReader = new PemReader(reader)) {\n        PemObject pemObject =\n            Objects.requireNonNull(pemReader.readPemObject(), &quot;No public key found in &quot; + resource);\n        publicKeySet.add(keyFactory.generatePublic(new X509EncodedKeySpec(pemObject.getContent())));\n      }\n    }\n    return publicKeySet;\n  }\n\n  public static FailableSupplier&lt;Session, JSchException&gt; getConfig(int port) {\n    SftpConfiguration config = new SftpConfiguration();\n    config.setPort(port);\n    config.setServer(&quot;127.0.0.1&quot;);\n    config.setUsername(&quot;sshd&quot;);\n    config.setPrivateKey(new ClassPathResource(&quot;/keystore/test_pk_rsa_mina.pem&quot;));\n    return config::createSession;\n  }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class SftpSpringConfiguration {\n  @Bean\n  @ConfigurationProperties(prefix = &quot;recon.data.load.sftp.*&quot;)\n  public SftpConfiguration sftpFileRetrievalConfiguration() {\n    return new SftpConfiguration();\n  }\n\n  @Bean\n  public SftpFileRetrieval fileRetrieval() {\n    return new SftpFileRetrieval(sftpFileRetrievalConfiguration()::createSession);\n  }\n}\n</code></pre>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic class SftpConfiguration {\n  private String server;\n  private String username;\n  private Resource privateKey;\n  private int port;\n\n  public Session createSession() throws JSchException {\n    validate();\n    JSch jsch = new JSch();\n    try {\n      byte[] privateKeyBytes = IOUtils.toByteArray(this.getPrivateKey().getInputStream());\n      jsch.addIdentity(&quot;user&quot;, privateKeyBytes, null, null);\n      Arrays.fill(privateKeyBytes, (byte) 0); // Go away Checkmarx!\n    } catch (IOException e) {\n      throw new RuntimeException(&quot;Failed to read private key&quot;, e);\n    }\n    Session session = jsch.getSession(this.getUsername(), this.getServer(), this.getPort());\n    Properties config = new Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.setConfig(config);\n    return session;\n  }\n</code></pre>\n<p>SFTP CLIENT:</p>\n<pre><code>\n  public SftpFileRetrieval(@NonNull FailableSupplier&lt;Session, JSchException&gt; sessionFactory) {\n    this.sessionFactory = sessionFactory;\n  }\n\n  @Override\n  public void execute(FailableConsumer&lt;ChannelSftp, Exception&gt; consumer) throws Exception {\n\n    Session session =\n        Objects.requireNonNull(sessionFactory.get(), &quot;Null session returned from session factory.&quot;);\n\n    ChannelSftp channelSftp = null;\n\n    try {\n      session.connect();\n\n      channelSftp = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n\n      channelSftp.connect();\n      log.info(&quot;SFTP channel connected&quot;);\n\n      consumer.accept(channelSftp);\n\n    } catch (Exception e) {\n      log.warn(&quot;Sftp File Retrieval Failed: {}&quot;, e.getMessage());\n      throw e;\n    } finally {\n      if (channelSftp != null) {\n        closeQuietly(channelSftp::disconnect);\n        closeQuietly(channelSftp::exit);\n      }\n      closeQuietly(session::disconnect);\n    }\n  }\n</code></pre>\n<p>Note: All of my values for SftpConfiguration class are autowired in by the SpringConfig class, where the values are located in my application.yml</p>\n<p>What makes me think this is a GitLab issue is, again when running this on my local system all tests pass as expected, and I have no issue connecting, writing, downloading from the server.</p>\n<p>Please let me know if you need to see anymore of the code.</p>\n"},{"tags":["java","string","collections","hashmap","string-formatting"],"comments":[{"owner":{"account_id":7084651,"reputation":447,"user_id":5421812,"display_name":"isudarsan"},"score":0,"creation_date":1666353960,"post_id":74152906,"comment_id":130922902,"body_markdown":"@AlexanderIvanchenko Thanks for replying, yes like a java type such as List to store each row as an object.","body":"@AlexanderIvanchenko Thanks for replying, yes like a java type such as List to store each row as an object."},{"owner":{"account_id":7084651,"reputation":447,"user_id":5421812,"display_name":"isudarsan"},"score":0,"creation_date":1666355928,"post_id":74152906,"comment_id":130923635,"body_markdown":"@AlexanderIvanchenko The table structure needs to be displayed on java console as output.","body":"@AlexanderIvanchenko The table structure needs to be displayed on java console as output."},{"owner":{"account_id":7084651,"reputation":447,"user_id":5421812,"display_name":"isudarsan"},"score":0,"creation_date":1666356713,"post_id":74152906,"comment_id":130923909,"body_markdown":"@AlexanderIvanchenko The intention is to clearly distinguish two maps data, there is no condition to store them in a list.","body":"@AlexanderIvanchenko The intention is to clearly distinguish two maps data, there is no condition to store them in a list."},{"owner":{"account_id":7084651,"reputation":447,"user_id":5421812,"display_name":"isudarsan"},"score":0,"creation_date":1666368800,"post_id":74152906,"comment_id":130928439,"body_markdown":"@Holger No specific reason, but Class2 belongs to source map and Class4 belongs to the other one.","body":"@Holger No specific reason, but Class2 belongs to source map and Class4 belongs to the other one."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666787859,"creation_date":1666394259,"answer_id":74159986,"question_id":74152906,"body_markdown":"You can generate a `Set` of Entries from each `Map` and iterate over both sets simultaneously, printing entries from both as formatted as a single line of text.\r\n\r\nThe rest boils down to [`System.out.printf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) and [*basic formatting*](https://docs.oracle.com/javase/tutorial/essential/io/formatting.html).\r\n\r\n***Note:** that if the order of entries is important, you need to use a `LinkedHashMap` instead of `HashMap`*.\r\n\r\nThat&#39;s how an implementation encapsulated into a separate class might look like:\r\n\r\n```\r\npublic class TablePrinter {\r\n    \r\n    public static final String SOURCE_TITLE = &quot;SourceMap&quot;;\r\n    public static final String TARGET_TITLE = &quot;TargetMap&quot;;\r\n    \r\n    private String horizontalBorder;\r\n    private String verticalBorder;\r\n    private int columnWidth;\r\n    \r\n    public TablePrinter(String horizontalBorder, String verticalBorder, int columnWidth) {\r\n        this.horizontalBorder = horizontalBorder;\r\n        this.verticalBorder = verticalBorder;\r\n        this.columnWidth = columnWidth;\r\n    }\r\n    \r\n    public void printTable(Map&lt;String, Long&gt; source,\r\n                           Map&lt;String, Long&gt; target) {\r\n        \r\n        printHorizontalLine();\r\n        \r\n        printHeader();\r\n        \r\n        printHorizontalLine();\r\n        \r\n        Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; sourceEntries = source.entrySet().iterator();\r\n        Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; targetEntries = target.entrySet().iterator();\r\n        \r\n        while (sourceEntries.hasNext() || targetEntries.hasNext()) {\r\n            \r\n            String k1 = &quot;&quot;;\r\n            String v1 = &quot;&quot;;\r\n            String k2 = &quot;&quot;;\r\n            String v2 = &quot;&quot;;\r\n            \r\n            if (sourceEntries.hasNext()) {\r\n                Map.Entry&lt;String, Long&gt; entry = sourceEntries.next();\r\n                k1 = entry.getKey();\r\n                v1 = String.valueOf(entry.getValue());\r\n            }\r\n            if (targetEntries.hasNext()) {\r\n                Map.Entry&lt;String, Long&gt; entry = targetEntries.next();\r\n                k2 = entry.getKey();\r\n                v2 = String.valueOf(entry.getValue());\r\n            }\r\n            \r\n            printRow(k1, v1, k2, v2);\r\n            printHorizontalLine();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Each column name would be printed in the center of column.\r\n     * The width of the header-row is guaranteed to be equal to the width of the regular row\r\n     */\r\n    public void printHeader() {\r\n        \r\n        int halfTableWidth = 2 * columnWidth + 1; // -&gt; &quot;left column | right column&quot; &lt;-\r\n        \r\n        int leftPadding1 = halfTableWidth / 2 - SOURCE_TITLE.length() / 2;\r\n        int rightPadding1 = halfTableWidth - leftPadding1 - SOURCE_TITLE.length();\r\n        int leftPadding2 = halfTableWidth / 2 - TARGET_TITLE.length() / 2;\r\n        int rightPadding2 = halfTableWidth - leftPadding2 - TARGET_TITLE.length();\r\n        \r\n        String format = getHeaderFormat(leftPadding1, rightPadding1, leftPadding2, rightPadding2);\r\n        \r\n        System.out.printf(format, &quot;&quot;, SOURCE_TITLE, &quot;&quot;, &quot;&quot;, TARGET_TITLE, &quot;&quot;);\r\n    }\r\n    \r\n    public String getHeaderFormat(int leftPadding1, int rightPadding1,\r\n                                  int leftPadding2, int rightPadding2) {\r\n        \r\n        String leftSection = &quot;%&quot; + leftPadding1 + &quot;s%s%&quot; + rightPadding1 + &quot;s&quot;;\r\n        String rightSection = &quot;%&quot; + leftPadding2 + &quot;s%s%&quot; + rightPadding2 + &quot;s&quot;;\r\n        \r\n        return verticalBorder + leftSection + verticalBorder + rightSection + verticalBorder + &quot;\\n&quot;;\r\n    }\r\n    \r\n    public void printRow(String k1, String v1, String k2, String v2) {\r\n        \r\n        System.out.printf(getRowFormat(columnWidth), k1, v1, k2, v2);\r\n    }\r\n    \r\n    public String getRowFormat(int columnWidth) {\r\n        \r\n        String section = &quot; %-&quot; + (columnWidth - 1) + &quot;s&quot;; // because of the white space on the left 1 was subtracted\r\n        \r\n        String format = Stream.generate(() -&gt; section).limit(4) // same as `tableBorder + section + tableBorder + section + tableBorder` two times `+ &quot;\\n&quot;`\r\n            .collect(Collectors.joining(verticalBorder, verticalBorder, verticalBorder));\r\n        \r\n        return format + &quot;\\n&quot;;\r\n    }\r\n    \r\n    public void printHorizontalLine() {\r\n        \r\n        int tableWidth = 4 * columnWidth + 5;\r\n        \r\n        System.out.println(horizontalBorder.repeat(tableWidth));\r\n    }\r\n}\r\n```\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        // initializing maps\r\n        Map&lt;String, Long&gt; sourceMap = new LinkedHashMap&lt;&gt;();\r\n        sourceMap.put(&quot;Class1&quot;, 10L);\r\n        sourceMap.put(&quot;Class2&quot;, 20L);\r\n        sourceMap.put(&quot;Class3&quot;, 30L);\r\n        \r\n        Map&lt;String, Long&gt; targetMap = new LinkedHashMap&lt;&gt;();\r\n        targetMap.put(&quot;Class1&quot;, 10L);\r\n        targetMap.put(&quot;Class4&quot;, 20L);\r\n\r\n        // printing maps\r\n        TablePrinter printer = new TablePrinter(&quot;-&quot;, &quot;|&quot;, 10);\r\n\r\n        printer.printTable(sourceMap, targetMap);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n---------------------------------------------\r\n|      SourceMap      |      TargetMap      |\r\n---------------------------------------------\r\n| Class1   | 10       | Class1   | 10       |\r\n---------------------------------------------\r\n| Class2   | 20       | Class4   | 20       |\r\n---------------------------------------------\r\n| Class3   | 30       |          |          |\r\n---------------------------------------------\r\n```","title":"String-Formatting - Generate a table based on the contents of Two Maps and print it on the Console","body":"<p>You can generate a <code>Set</code> of Entries from each <code>Map</code> and iterate over both sets simultaneously, printing entries from both as formatted as a single line of text.</p>\n<p>The rest boils down to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>System.out.printf()</code></a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/formatting.html\" rel=\"nofollow noreferrer\"><em>basic formatting</em></a>.</p>\n<p><em><strong>Note:</strong> that if the order of entries is important, you need to use a <code>LinkedHashMap</code> instead of <code>HashMap</code></em>.</p>\n<p>That's how an implementation encapsulated into a separate class might look like:</p>\n<pre><code>public class TablePrinter {\n    \n    public static final String SOURCE_TITLE = &quot;SourceMap&quot;;\n    public static final String TARGET_TITLE = &quot;TargetMap&quot;;\n    \n    private String horizontalBorder;\n    private String verticalBorder;\n    private int columnWidth;\n    \n    public TablePrinter(String horizontalBorder, String verticalBorder, int columnWidth) {\n        this.horizontalBorder = horizontalBorder;\n        this.verticalBorder = verticalBorder;\n        this.columnWidth = columnWidth;\n    }\n    \n    public void printTable(Map&lt;String, Long&gt; source,\n                           Map&lt;String, Long&gt; target) {\n        \n        printHorizontalLine();\n        \n        printHeader();\n        \n        printHorizontalLine();\n        \n        Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; sourceEntries = source.entrySet().iterator();\n        Iterator&lt;Map.Entry&lt;String, Long&gt;&gt; targetEntries = target.entrySet().iterator();\n        \n        while (sourceEntries.hasNext() || targetEntries.hasNext()) {\n            \n            String k1 = &quot;&quot;;\n            String v1 = &quot;&quot;;\n            String k2 = &quot;&quot;;\n            String v2 = &quot;&quot;;\n            \n            if (sourceEntries.hasNext()) {\n                Map.Entry&lt;String, Long&gt; entry = sourceEntries.next();\n                k1 = entry.getKey();\n                v1 = String.valueOf(entry.getValue());\n            }\n            if (targetEntries.hasNext()) {\n                Map.Entry&lt;String, Long&gt; entry = targetEntries.next();\n                k2 = entry.getKey();\n                v2 = String.valueOf(entry.getValue());\n            }\n            \n            printRow(k1, v1, k2, v2);\n            printHorizontalLine();\n        }\n    }\n    \n    /**\n     * Each column name would be printed in the center of column.\n     * The width of the header-row is guaranteed to be equal to the width of the regular row\n     */\n    public void printHeader() {\n        \n        int halfTableWidth = 2 * columnWidth + 1; // -&gt; &quot;left column | right column&quot; &lt;-\n        \n        int leftPadding1 = halfTableWidth / 2 - SOURCE_TITLE.length() / 2;\n        int rightPadding1 = halfTableWidth - leftPadding1 - SOURCE_TITLE.length();\n        int leftPadding2 = halfTableWidth / 2 - TARGET_TITLE.length() / 2;\n        int rightPadding2 = halfTableWidth - leftPadding2 - TARGET_TITLE.length();\n        \n        String format = getHeaderFormat(leftPadding1, rightPadding1, leftPadding2, rightPadding2);\n        \n        System.out.printf(format, &quot;&quot;, SOURCE_TITLE, &quot;&quot;, &quot;&quot;, TARGET_TITLE, &quot;&quot;);\n    }\n    \n    public String getHeaderFormat(int leftPadding1, int rightPadding1,\n                                  int leftPadding2, int rightPadding2) {\n        \n        String leftSection = &quot;%&quot; + leftPadding1 + &quot;s%s%&quot; + rightPadding1 + &quot;s&quot;;\n        String rightSection = &quot;%&quot; + leftPadding2 + &quot;s%s%&quot; + rightPadding2 + &quot;s&quot;;\n        \n        return verticalBorder + leftSection + verticalBorder + rightSection + verticalBorder + &quot;\\n&quot;;\n    }\n    \n    public void printRow(String k1, String v1, String k2, String v2) {\n        \n        System.out.printf(getRowFormat(columnWidth), k1, v1, k2, v2);\n    }\n    \n    public String getRowFormat(int columnWidth) {\n        \n        String section = &quot; %-&quot; + (columnWidth - 1) + &quot;s&quot;; // because of the white space on the left 1 was subtracted\n        \n        String format = Stream.generate(() -&gt; section).limit(4) // same as `tableBorder + section + tableBorder + section + tableBorder` two times `+ &quot;\\n&quot;`\n            .collect(Collectors.joining(verticalBorder, verticalBorder, verticalBorder));\n        \n        return format + &quot;\\n&quot;;\n    }\n    \n    public void printHorizontalLine() {\n        \n        int tableWidth = 4 * columnWidth + 5;\n        \n        System.out.println(horizontalBorder.repeat(tableWidth));\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    // initializing maps\n    Map&lt;String, Long&gt; sourceMap = new LinkedHashMap&lt;&gt;();\n    sourceMap.put(&quot;Class1&quot;, 10L);\n    sourceMap.put(&quot;Class2&quot;, 20L);\n    sourceMap.put(&quot;Class3&quot;, 30L);\n    \n    Map&lt;String, Long&gt; targetMap = new LinkedHashMap&lt;&gt;();\n    targetMap.put(&quot;Class1&quot;, 10L);\n    targetMap.put(&quot;Class4&quot;, 20L);\n\n    // printing maps\n    TablePrinter printer = new TablePrinter(&quot;-&quot;, &quot;|&quot;, 10);\n\n    printer.printTable(sourceMap, targetMap);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>---------------------------------------------\n|      SourceMap      |      TargetMap      |\n---------------------------------------------\n| Class1   | 10       | Class1   | 10       |\n---------------------------------------------\n| Class2   | 20       | Class4   | 20       |\n---------------------------------------------\n| Class3   | 30       |          |          |\n---------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":7084651,"reputation":447,"user_id":5421812,"display_name":"isudarsan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159986,"answer_count":1,"score":0,"last_activity_date":1666789651,"creation_date":1666351355,"question_id":74152906,"body_markdown":"What is the possible way to combine two Maps in order to generate a table (i.e. to render the below table on console using `System.out`) filled with the entries of these maps?\r\n\r\n    Map&lt;String, Long&gt; sourceMap = new HashMap&lt;String,Long&gt;();\r\n    sourceMap.put(&quot;Class1&quot;,10);\r\n    sourceMap.put(&quot;Class2,&quot;20);\r\n    sourceMap.put(&quot;Class3,&quot;30);\r\n    \r\n    Map&lt;String, Long&gt; targetMap = new HashMap&lt;String,Long&gt;();\r\n    targetMap.put(&quot;Class1&quot;,10);\r\n    targetMap.put(&quot;Class4,&quot;20);\r\n\r\n*A table-sample:*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n***Note:*** in this example, there&#39;s no specific reason for `Class2` and `Class4` to be displayed on the same line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OIcge.png","title":"String-Formatting - Generate a table based on the contents of Two Maps and print it on the Console","body":"<p>What is the possible way to combine two Maps in order to generate a table (i.e. to render the below table on console using <code>System.out</code>) filled with the entries of these maps?</p>\n<pre><code>Map&lt;String, Long&gt; sourceMap = new HashMap&lt;String,Long&gt;();\nsourceMap.put(&quot;Class1&quot;,10);\nsourceMap.put(&quot;Class2,&quot;20);\nsourceMap.put(&quot;Class3,&quot;30);\n\nMap&lt;String, Long&gt; targetMap = new HashMap&lt;String,Long&gt;();\ntargetMap.put(&quot;Class1&quot;,10);\ntargetMap.put(&quot;Class4,&quot;20);\n</code></pre>\n<p><em>A table-sample:</em></p>\n<p><a href=\"https://i.stack.imgur.com/OIcge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OIcge.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>Note:</strong></em> in this example, there's no specific reason for <code>Class2</code> and <code>Class4</code> to be displayed on the same line.</p>\n"},{"tags":["java","maven","maven-3","pmd"],"answers":[{"tags":[],"owner":{"account_id":1646329,"reputation":7093,"user_id":1517816,"accept_rate":57,"display_name":"poussma"},"down_vote_count":0,"up_vote_count":93,"is_accepted":true,"score":93,"last_activity_date":1666743414,"creation_date":1345535454,"answer_id":12050420,"question_id":12038238,"body_markdown":"You should add the `maven-jxr-plugin` to the **`reportingPlugin`** section.\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\nRe run it and enjoy.\r\n\r\nBTW, maybe you&#39;ll need to run once the `jxr:jxr` goal to first generate some file that will be used by pmd.\r\n\r\n","title":"Unable to locate Source XRef to link to","body":"<p>You should add the <code>maven-jxr-plugin</code> to the <strong><code>reportingPlugin</code></strong> section.</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>Re run it and enjoy.</p>\n<p>BTW, maybe you'll need to run once the <code>jxr:jxr</code> goal to first generate some file that will be used by pmd.</p>\n"},{"tags":[],"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1377204217,"creation_date":1377204217,"answer_id":18390459,"question_id":12038238,"body_markdown":"Mind there is also the ability to disable the xref feature by adding\r\n\r\n    &lt;configuration&gt;\r\n      &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n    &lt;/configuration&gt;\r\n\r\nto the maven-pmd-plugin plugin. This resolves the warning without making the build even longer due to running an additional reporting plugin. E.g. if you run your builds in Jenkins, the Jenkins PMD plugin can take care of relating PMD warnings to source code, there is no need to run another Maven plugin for this.","title":"Unable to locate Source XRef to link to","body":"<p>Mind there is also the ability to disable the xref feature by adding</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>to the maven-pmd-plugin plugin. This resolves the warning without making the build even longer due to running an additional reporting plugin. E.g. if you run your builds in Jenkins, the Jenkins PMD plugin can take care of relating PMD warnings to source code, there is no need to run another Maven plugin for this.</p>\n"},{"tags":[],"owner":{"account_id":926420,"reputation":1513,"user_id":957137,"accept_rate":78,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473081872,"creation_date":1473070026,"answer_id":39328255,"question_id":12038238,"body_markdown":"You should add the maven-jxr-plugin and run the `jxr:jxr` goal before the `site` lifecycle if the `maven-jxr-plugin` is added as a plugin like in your case:  \r\n`clean jxr:jxr site`  \r\n\r\nOtherwise you should add it as a report if you want it to work with `mvn site`. Take a look at the JXR Usage Documentation : \r\n[JXR Usage][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/jxr/maven-jxr-plugin/usage.html","title":"Unable to locate Source XRef to link to","body":"<p>You should add the maven-jxr-plugin and run the <code>jxr:jxr</code> goal before the <code>site</code> lifecycle if the <code>maven-jxr-plugin</code> is added as a plugin like in your case:<br>\n<code>clean jxr:jxr site</code>  </p>\n\n<p>Otherwise you should add it as a report if you want it to work with <code>mvn site</code>. Take a look at the JXR Usage Documentation : \n<a href=\"https://maven.apache.org/jxr/maven-jxr-plugin/usage.html\" rel=\"nofollow\">JXR Usage</a></p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666789189,"creation_date":1589593991,"answer_id":61830927,"question_id":12038238,"body_markdown":"It is way easier to configure it this way and not tie it to the site phase.\r\n\r\nThen, it is as simple as `mvn test`.\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputDirectory&gt;target/surefire-reports&lt;/outputDirectory&gt;\r\n          &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"Unable to locate Source XRef to link to","body":"<p>It is way easier to configure it this way and not tie it to the site phase.</p>\n<p>Then, it is as simple as <code>mvn test</code>.</p>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;outputDirectory&gt;target/surefire-reports&lt;/outputDirectory&gt;\n      &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53679,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":12050420,"answer_count":4,"score":72,"last_activity_date":1666789189,"creation_date":1345467838,"question_id":12038238,"body_markdown":"I have a big Maven project that uses the PMD plugin for code quality checks.\r\n\r\nsince I started using the PMD plugin i get the following warning message:\r\n\r\n    [WARNING] Unable to locate Source XRef to link to - DISABLED\r\n\r\nI googled and found that i need to implement the JXR plugin.\r\n\r\nSo I added the following to the main `pom.xml` file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n\r\nIt doesn&#39;t really change anything. \r\n\r\nAny ideas what I need to change in order to resolve this warning message?\r\n\r\noutput of `mvn -version`\r\n\r\n    Apache Maven 3.0.4 (r1232337; 2012-01-17 10:44:56+0200)\r\n    Maven home: /usr/share/maven-bin-3.0\r\n    Java version: 1.7.0_05, vendor: Oracle Corporation\r\n    Java home: /usr/lib64/icedtea7/jre\r\n    Default locale: en_US, platform encoding: ANSI_X3.4-1968\r\n    OS name: &quot;linux&quot;, version: &quot;3.5.2-gentoo&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nthanks!","title":"Unable to locate Source XRef to link to","body":"<p>I have a big Maven project that uses the PMD plugin for code quality checks.</p>\n<p>since I started using the PMD plugin i get the following warning message:</p>\n<pre><code>[WARNING] Unable to locate Source XRef to link to - DISABLED\n</code></pre>\n<p>I googled and found that i need to implement the JXR plugin.</p>\n<p>So I added the following to the main <code>pom.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>It doesn't really change anything.</p>\n<p>Any ideas what I need to change in order to resolve this warning message?</p>\n<p>output of <code>mvn -version</code></p>\n<pre><code>Apache Maven 3.0.4 (r1232337; 2012-01-17 10:44:56+0200)\nMaven home: /usr/share/maven-bin-3.0\nJava version: 1.7.0_05, vendor: Oracle Corporation\nJava home: /usr/lib64/icedtea7/jre\nDefault locale: en_US, platform encoding: ANSI_X3.4-1968\nOS name: &quot;linux&quot;, version: &quot;3.5.2-gentoo&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>thanks!</p>\n"},{"tags":["java","c++","objective-c","react-native","react-native-turbomodule"],"answers":[{"tags":[],"owner":{"account_id":954425,"reputation":12352,"user_id":979986,"display_name":"iUrii"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666788945,"creation_date":1666788945,"answer_id":74208158,"question_id":74147421,"body_markdown":"To emit events to RN from iOS you should make your own emitter class that is inherited from `RCTEventEmitter` and then init it on JS side with `NativeEventEmitter` and add listeners for needed events with `addListener`:\r\n\r\n**EventEmitter.h**\r\n``` objective-c\r\n#import &lt;React/RCTEventEmitter.h&gt;\r\n\r\n@interface EventEmitter : RCTEventEmitter\r\n\r\n+ (instancetype)shared;\r\n\r\n@end\r\n```\r\n\r\n**EventEmitter.m**\r\n``` objective-c\r\n#import &quot;EventEmitter.h&quot;\r\n\r\n// Events\r\nstatic NSString* onMyEvent = @&quot;onMyEvent&quot;;\r\n\r\n// Variable to save the instance\r\nstatic EventEmitter* eventEmitter = nil;\r\n\r\n@implementation EventEmitter\r\n\r\n/// Exposing &quot;EventEmitter&quot; name to RN\r\nRCT_EXPORT_MODULE(EventEmitter);\r\n\r\n// Called from RN\r\n- (instancetype)init {\r\n  if (self = [super init]) {\r\n    eventEmitter = self;\r\n  }\r\n  return self;\r\n}\r\n\r\n+ (BOOL)requiresMainQueueSetup {\r\n    return NO;\r\n}\r\n\r\n+ (instancetype)shared {\r\n  return eventEmitter;\r\n}\r\n\r\n// List of supported events\r\n- (NSArray&lt;NSString *&gt; *)supportedEvents {\r\n  return @[onMyEvent];\r\n}\r\n\r\n@end\r\n```\r\n\r\nHow to call:\r\n\r\n``` objective-c\r\nNSDictionary* body = @{@&quot;message&quot; : @&quot;Hello Emitter!&quot;};\r\n[EventEmitter.shared sendEventWithName:@&quot;onMyEvent&quot; body:body];\r\n```\r\n\r\n**RN/JS**\r\n\r\n``` js\r\n\r\nimport {\r\n  ...\r\n  NativeEventEmitter,\r\n  NativeModules,\r\n} from &#39;react-native&#39;;\r\nimport type EmitterSubscription from &#39;react-native&#39;;\r\n\r\nclass EventHandler extends React.Component {\r\n  eventsSubscription: EmitterSubscription;\r\n\r\n  componentDidMount() {\r\n    const eventEmitter = new NativeEventEmitter(NativeModules.EventEmitter);\r\n\r\n    this.eventsSubscription = eventEmitter.addListener(&#39;onMyEvent&#39;, event =&gt; {\r\n      console.log(event.message); // Prints &quot;Hello Emitter!&quot;\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.eventsSubscription.remove();\r\n  }\r\n\r\n  ...\r\n};\r\n```","title":"How to emit event in a Turbo Module on iOS","body":"<p>To emit events to RN from iOS you should make your own emitter class that is inherited from <code>RCTEventEmitter</code> and then init it on JS side with <code>NativeEventEmitter</code> and add listeners for needed events with <code>addListener</code>:</p>\n<p><strong>EventEmitter.h</strong></p>\n<pre class=\"lang-objectivec prettyprint-override\"><code>#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface EventEmitter : RCTEventEmitter\n\n+ (instancetype)shared;\n\n@end\n</code></pre>\n<p><strong>EventEmitter.m</strong></p>\n<pre class=\"lang-objectivec prettyprint-override\"><code>#import &quot;EventEmitter.h&quot;\n\n// Events\nstatic NSString* onMyEvent = @&quot;onMyEvent&quot;;\n\n// Variable to save the instance\nstatic EventEmitter* eventEmitter = nil;\n\n@implementation EventEmitter\n\n/// Exposing &quot;EventEmitter&quot; name to RN\nRCT_EXPORT_MODULE(EventEmitter);\n\n// Called from RN\n- (instancetype)init {\n  if (self = [super init]) {\n    eventEmitter = self;\n  }\n  return self;\n}\n\n+ (BOOL)requiresMainQueueSetup {\n    return NO;\n}\n\n+ (instancetype)shared {\n  return eventEmitter;\n}\n\n// List of supported events\n- (NSArray&lt;NSString *&gt; *)supportedEvents {\n  return @[onMyEvent];\n}\n\n@end\n</code></pre>\n<p>How to call:</p>\n<pre class=\"lang-objectivec prettyprint-override\"><code>NSDictionary* body = @{@&quot;message&quot; : @&quot;Hello Emitter!&quot;};\n[EventEmitter.shared sendEventWithName:@&quot;onMyEvent&quot; body:body];\n</code></pre>\n<p><strong>RN/JS</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>\nimport {\n  ...\n  NativeEventEmitter,\n  NativeModules,\n} from 'react-native';\nimport type EmitterSubscription from 'react-native';\n\nclass EventHandler extends React.Component {\n  eventsSubscription: EmitterSubscription;\n\n  componentDidMount() {\n    const eventEmitter = new NativeEventEmitter(NativeModules.EventEmitter);\n\n    this.eventsSubscription = eventEmitter.addListener('onMyEvent', event =&gt; {\n      console.log(event.message); // Prints &quot;Hello Emitter!&quot;\n    });\n  }\n\n  componentWillUnmount() {\n    this.eventsSubscription.remove();\n  }\n\n  ...\n};\n</code></pre>\n"}],"owner":{"account_id":106997,"reputation":15570,"user_id":284714,"accept_rate":64,"display_name":"Berry Blue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74208158,"answer_count":1,"score":3,"last_activity_date":1666788945,"creation_date":1666310275,"question_id":74147421,"body_markdown":"I&#39;m following the guide here to create a Turbo Module in React Native.\r\nhttps://reactnative.dev/docs/next/the-new-architecture/pillars-turbomodules\r\n\r\nHow do you emit events on iOS? The documentation only shows how to call a native function from React, but not how to emit an event from the Turbo Module.\r\n\r\nFor Android, you get a `ReactApplicationContext` object, which lets you create an emitter like this using the context object.\r\n\r\n    private val emitter = context.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter::class.java)\r\n    emitter.emit(eventName, eventArray)\r\n\r\nHow do you do the same thing on iOS?","title":"How to emit event in a Turbo Module on iOS","body":"<p>I'm following the guide here to create a Turbo Module in React Native.\n<a href=\"https://reactnative.dev/docs/next/the-new-architecture/pillars-turbomodules\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/next/the-new-architecture/pillars-turbomodules</a></p>\n<p>How do you emit events on iOS? The documentation only shows how to call a native function from React, but not how to emit an event from the Turbo Module.</p>\n<p>For Android, you get a <code>ReactApplicationContext</code> object, which lets you create an emitter like this using the context object.</p>\n<pre><code>private val emitter = context.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter::class.java)\nemitter.emit(eventName, eventArray)\n</code></pre>\n<p>How do you do the same thing on iOS?</p>\n"},{"tags":["java","postgresql","jooq","hikaricp"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666620574,"post_id":74181514,"comment_id":130974040,"body_markdown":"Could it be that the new selected leader is still read-only? Because a connection to the old failed over database server by the connection pool would not be possible at all, right? Then another exception would occur, like e.g. ConnectionTimeoutException. How do you know that the old database server was still used?","body":"Could it be that the new selected leader is still read-only? Because a connection to the old failed over database server by the connection pool would not be possible at all, right? Then another exception would occur, like e.g. ConnectionTimeoutException. How do you know that the old database server was still used?"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666621342,"post_id":74181514,"comment_id":130974350,"body_markdown":"Furthermore, why don&#39;t you write all your database servers in the JDBC url like [here](https://dba.stackexchange.com/a/255008)? When you utilize a url to a database cluster  as you did then I would suppose your database cluster has the job to handle the outage and to swap it accordingly and then the connection pool has nothing to do because they point still to this very database cluster in which the magic happens.","body":"Furthermore, why don&#39;t you write all your database servers in the JDBC url like <a href=\"https://dba.stackexchange.com/a/255008\">here</a>? When you utilize a url to a database cluster  as you did then I would suppose your database cluster has the job to handle the outage and to swap it accordingly and then the connection pool has nothing to do because they point still to this very database cluster in which the magic happens."},{"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"score":0,"creation_date":1666622192,"post_id":74181514,"comment_id":130974729,"body_markdown":"No the new elected leader is definitely not a read-only - when I restart the service (which also closes all the existing connections) - the problem is solved and the service works with new connections","body":"No the new elected leader is definitely not a read-only - when I restart the service (which also closes all the existing connections) - the problem is solved and the service works with new connections"},{"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"score":0,"creation_date":1666622244,"post_id":74181514,"comment_id":130974755,"body_markdown":"&gt; why don&#39;t you write all your database servers\nI could but I wanted to have only one db dns which would automatically load balance the traffic to the new master (which it does)","body":"&gt; why don&#39;t you write all your database servers I could but I wanted to have only one db dns which would automatically load balance the traffic to the new master (which it does)"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666627828,"post_id":74181514,"comment_id":130976868,"body_markdown":"But the JDBC url points to the load balancer which in turn all the connections of the pool are using. So why should then any connection point to the old master when they actually point to the load balancer who dispatches it to the new leader? Then I would say your load balancer is the point of failure.","body":"But the JDBC url points to the load balancer which in turn all the connections of the pool are using. So why should then any connection point to the old master when they actually point to the load balancer who dispatches it to the new leader? Then I would say your load balancer is the point of failure."}],"answers":[{"tags":[],"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666788915,"creation_date":1666788915,"answer_id":74208144,"question_id":74181514,"body_markdown":"I found a solution by adding `&amp;targetServerType=primary` to jdbc url as docs states: https://jdbc.postgresql.org/documentation/use/","title":"Jooq + hikariCP + Postgres - cannot handle failovers","body":"<p>I found a solution by adding <code>&amp;targetServerType=primary</code> to jdbc url as docs states: <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/use/</a></p>\n"}],"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74208144,"answer_count":1,"score":0,"last_activity_date":1666788915,"creation_date":1666616655,"question_id":74181514,"body_markdown":"I have a spring boot app that read/writes to postgres database. I use `jooq` and `hikariCP `to manage the database connections. My apps is connected to a patroni cluster consisting of two `Postgresql 14.5` instances - one is the master and the other one is a read-only replica. \r\n\r\nWhen the service is processing data and I trigger a failover in the database - \r\nkilling the leader, choosing new leader, then changing the old leader to a replica - I start getting exceptions like \r\n```\r\nwith\\norg.jooq.exception.DataAccessException: SQL [delete from \\&quot;public\\&quot;.\\&quot;my_table\\&quot; where \\&quot;public\\&quot;.\\&quot;my_table\\&quot;.\\&quot;username\\&quot; = ?]; ERROR: cannot execute DELETE in a read-only transaction\r\n```\r\nit looks like a `hikariCP/jdbc` driver issue where it is still using the connections to the `old-master-now-replica` instead of evicting them and creating new connections to the new leader. \r\n\r\nHow to solve it ? \r\n\r\nMy configuration looks like this:\r\n```\r\norg.jooq:jooq:3.16.10\r\norg.postgresql:postgresql:42.5.0\r\norg.jooq:jooq-postgres-extensions:3.16.10\r\ncom.zaxxer:HikariCP:4.0.3\r\n```\r\n\r\n```\r\nspring:\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n    banner-mode: &quot;off&quot;\r\n  jooq:\r\n    sql-dialect: Postgres\r\n  jpa:\r\n    open-in-view: false\r\n  datasource:\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    driver-class-name: org.postgresql.Driver\r\n    url: &quot;jdbc:postgresql://my-db-cluster:5432/my-database?tcpKeepAlive=true&amp;ApplicationName=my-app&quot;\r\n    username: ${DATASOURCE_USERNAME}\r\n    password: ${DATASOURCE_PASSWORD}\r\n    hikari:\r\n      minimumIdle: 0\r\n      maximumPoolSize: 10\r\n      auto-commit: false\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration\r\n```\r\n\r\n","title":"Jooq + hikariCP + Postgres - cannot handle failovers","body":"<p>I have a spring boot app that read/writes to postgres database. I use <code>jooq</code> and <code>hikariCP </code>to manage the database connections. My apps is connected to a patroni cluster consisting of two <code>Postgresql 14.5</code> instances - one is the master and the other one is a read-only replica.</p>\n<p>When the service is processing data and I trigger a failover in the database -\nkilling the leader, choosing new leader, then changing the old leader to a replica - I start getting exceptions like</p>\n<pre><code>with\\norg.jooq.exception.DataAccessException: SQL [delete from \\&quot;public\\&quot;.\\&quot;my_table\\&quot; where \\&quot;public\\&quot;.\\&quot;my_table\\&quot;.\\&quot;username\\&quot; = ?]; ERROR: cannot execute DELETE in a read-only transaction\n</code></pre>\n<p>it looks like a <code>hikariCP/jdbc</code> driver issue where it is still using the connections to the <code>old-master-now-replica</code> instead of evicting them and creating new connections to the new leader.</p>\n<p>How to solve it ?</p>\n<p>My configuration looks like this:</p>\n<pre><code>org.jooq:jooq:3.16.10\norg.postgresql:postgresql:42.5.0\norg.jooq:jooq-postgres-extensions:3.16.10\ncom.zaxxer:HikariCP:4.0.3\n</code></pre>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n    banner-mode: &quot;off&quot;\n  jooq:\n    sql-dialect: Postgres\n  jpa:\n    open-in-view: false\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    driver-class-name: org.postgresql.Driver\n    url: &quot;jdbc:postgresql://my-db-cluster:5432/my-database?tcpKeepAlive=true&amp;ApplicationName=my-app&quot;\n    username: ${DATASOURCE_USERNAME}\n    password: ${DATASOURCE_PASSWORD}\n    hikari:\n      minimumIdle: 0\n      maximumPoolSize: 10\n      auto-commit: false\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration\n</code></pre>\n"},{"tags":["java","gremlin","tinkerpop","janusgraph"],"answers":[{"tags":[],"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666116497,"creation_date":1666114837,"answer_id":74115231,"question_id":74112452,"body_markdown":"It is expected behavior. You can do:\r\n\r\n    gremlin&gt; g.V().project(&#39;id&#39;, &#39;class&#39;)\r\n      .by(id())\r\n      .by(map{it-&gt;it.get().id().getClass()})\r\n    ==&gt;[id:b6609a02-4574-4e6f-87ab-6ea3edaa9e55,class:class java.lang.String]\r\n    ==&gt;[id:b6609a02-4574-4e6f-87ab-6ea3edaa9e55,class:class java.util.UUID]\r\n\r\nApparently, comparing the String object and the UUID object always results in false.   \r\n\r\nBy the way, the graph you opened is a TinkerGraph which is shipped with JanusGraph as part of Apache TinkerPop. JanusGraph itself does not allow vertex id&#39;s to be specified, unless explicitly configured that way. ","title":"Apache TinkerPop allow duplicated Vertex ID","body":"<p>It is expected behavior. You can do:</p>\n<pre><code>gremlin&gt; g.V().project('id', 'class')\n  .by(id())\n  .by(map{it-&gt;it.get().id().getClass()})\n==&gt;[id:b6609a02-4574-4e6f-87ab-6ea3edaa9e55,class:class java.lang.String]\n==&gt;[id:b6609a02-4574-4e6f-87ab-6ea3edaa9e55,class:class java.util.UUID]\n</code></pre>\n<p>Apparently, comparing the String object and the UUID object always results in false.</p>\n<p>By the way, the graph you opened is a TinkerGraph which is shipped with JanusGraph as part of Apache TinkerPop. JanusGraph itself does not allow vertex id's to be specified, unless explicitly configured that way.</p>\n"}],"owner":{"account_id":24732836,"reputation":645,"user_id":18620602,"display_name":"Adelino Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74115231,"answer_count":1,"score":1,"last_activity_date":1666788850,"creation_date":1666102222,"question_id":74112452,"body_markdown":"In this test we can see that it does not allow to insert the same vertex ID for the same datatype, but for different datatype it allows it.\r\n\r\n- is this the expected behavior or a bug ?\r\n- how can we know what is the Vertex ID data type after the Vertex was created ? \r\n\r\n``` \r\ngremlin&gt; graph = TinkerGraph.open()\r\n==&gt;tinkergraph[vertices:0 edges:0]\r\ngremlin&gt; g = graph.traversal()\r\n==&gt;graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]\r\ngremlin&gt; g.V()\r\n\r\n# generate vertex id automatically by UUID.randomUUID()\r\ngremlin&gt; g.addV().property(id,UUID.randomUUID())\r\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\r\ngremlin&gt; g.V()\r\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\r\n\r\n# generate vertex id manually as UUID datatype.\r\ngremlin&gt; g.addV().property(id,UUID.fromString(&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;))\r\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\r\ngremlin&gt; g.V()\r\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\r\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\r\n\r\n# generate vertex id manually as STRING datatype.\r\ngremlin&gt;  g.addV().property(id,&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;)\r\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\r\ngremlin&gt; g.V()\r\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\r\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\r\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\r\n\r\n# here we can see the vertex with same id duplicated.\r\ngremlin&gt;  g.V().id()\r\n==&gt;c2d673de-2425-4b42-bc1e-68ff20e3b0a8\r\n==&gt;b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2\r\n==&gt;c2d673de-2425-4b42-bc1e-68ff20e3b0a8\r\n\r\n# trying to insert it again as UUID datatype.\r\ngremlin&gt; g.addV().property(id,UUID.fromString(&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;))\r\nVertex with id already exists: c2d673de-2425-4b42-bc1e-68ff20e3b0a8\r\n\r\n# trying to insert it again as STRING datatype.\r\ngremlin&gt;  g.addV().property(id,&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;)\r\nVertex with id already exists: c2d673de-2425-4b42-bc1e-68ff20e3b0a8\r\n```\r\n","title":"Apache TinkerPop allow duplicated Vertex ID","body":"<p>In this test we can see that it does not allow to insert the same vertex ID for the same datatype, but for different datatype it allows it.</p>\n<ul>\n<li>is this the expected behavior or a bug ?</li>\n<li>how can we know what is the Vertex ID data type after the Vertex was created ?</li>\n</ul>\n<pre><code>gremlin&gt; graph = TinkerGraph.open()\n==&gt;tinkergraph[vertices:0 edges:0]\ngremlin&gt; g = graph.traversal()\n==&gt;graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]\ngremlin&gt; g.V()\n\n# generate vertex id automatically by UUID.randomUUID()\ngremlin&gt; g.addV().property(id,UUID.randomUUID())\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\ngremlin&gt; g.V()\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\n\n# generate vertex id manually as UUID datatype.\ngremlin&gt; g.addV().property(id,UUID.fromString(&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;))\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\ngremlin&gt; g.V()\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\n\n# generate vertex id manually as STRING datatype.\ngremlin&gt;  g.addV().property(id,&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;)\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\ngremlin&gt; g.V()\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\n==&gt;v[b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2]\n==&gt;v[c2d673de-2425-4b42-bc1e-68ff20e3b0a8]\n\n# here we can see the vertex with same id duplicated.\ngremlin&gt;  g.V().id()\n==&gt;c2d673de-2425-4b42-bc1e-68ff20e3b0a8\n==&gt;b47bb233-9a2a-49c8-8ada-0ac0fe9be6f2\n==&gt;c2d673de-2425-4b42-bc1e-68ff20e3b0a8\n\n# trying to insert it again as UUID datatype.\ngremlin&gt; g.addV().property(id,UUID.fromString(&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;))\nVertex with id already exists: c2d673de-2425-4b42-bc1e-68ff20e3b0a8\n\n# trying to insert it again as STRING datatype.\ngremlin&gt;  g.addV().property(id,&quot;c2d673de-2425-4b42-bc1e-68ff20e3b0a8&quot;)\nVertex with id already exists: c2d673de-2425-4b42-bc1e-68ff20e3b0a8\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1666697323,"post_id":74192723,"comment_id":130993708,"body_markdown":"trigger seems to be OK (I would prefer to remove first select ... for update in favour of returning into in update stmt. though, and you actually need to create three triggers), however if product_location_count table is managed by HBN and it is not marked as @Immutable (or counter column is not marked as non-updatable), you may potentially loose some updates","body":"trigger seems to be OK (I would prefer to remove first select ... for update in favour of returning into in update stmt. though, and you actually need to create three triggers), however if product_location_count table is managed by HBN and it is not marked as @Immutable (or counter column is not marked as non-updatable), you may potentially loose some updates"},{"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1666697988,"post_id":74192723,"comment_id":130993941,"body_markdown":"why 3 triggers?","body":"why 3 triggers?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1666698137,"post_id":74192723,"comment_id":130993994,"body_markdown":"If I understand properly you need to keep value of `products.counter_value` in sync with `product_location_count.counter`, so, you need three triggers: one for insert, one for delete and one for update.","body":"If I understand properly you need to keep value of <code>products.counter_value</code> in sync with <code>product_location_count.counter</code>, so, you need three triggers: one for insert, one for delete and one for update."},{"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1666699195,"post_id":74192723,"comment_id":130994337,"body_markdown":"No, i don&#39;t need it to be synced. I need to get the atomic value of `product_location_count.counter` at moment of time t1, add the value to the product, update the `product_location_count.counter = product_location_count.counter + 1` then release it for another thread/client to come pick up the next value","body":"No, i don&#39;t need it to be synced. I need to get the atomic value of <code>product_location_count.counter</code> at moment of time t1, add the value to the product, update the <code>product_location_count.counter = product_location_count.counter + 1</code> then release it for another thread/client to come pick up the next value"},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1666707951,"post_id":74192723,"comment_id":130997562,"body_markdown":"Before digging into the technical details I would suggest to think what these counters are for from the business perspective. Could you update the post, please, and provide more details? What `product.counter` is used for?","body":"Before digging into the technical details I would suggest to think what these counters are for from the business perspective. Could you update the post, please, and provide more details? What <code>product.counter</code> is used for?"},{"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1666788713,"post_id":74192723,"comment_id":131018305,"body_markdown":"thx @AndriySlobodyanyk but i&#39;ve explained the business logic already. I&#39;ve found a solution anyway.","body":"thx @AndriySlobodyanyk but i&#39;ve explained the business logic already. I&#39;ve found a solution anyway."},{"owner":{"account_id":6484184,"reputation":2035,"user_id":5020294,"display_name":"Andriy Slobodyanyk"},"score":0,"creation_date":1666796214,"post_id":74192723,"comment_id":131021409,"body_markdown":"I only want to emphasize that the problem looks like a typical counter. It is fine but on the other hand it makes a bottleneck, all product creation requests could be handled serially only, couldn&#39;t be scaled horizontally and so on.","body":"I only want to emphasize that the problem looks like a typical counter. It is fine but on the other hand it makes a bottleneck, all product creation requests could be handled serially only, couldn&#39;t be scaled horizontally and so on."},{"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1666855132,"post_id":74192723,"comment_id":131034991,"body_markdown":"Well that&#39;s the problem. As the api having multiple instances connected to the db, we can&#39;t make this serial coz it doesn&#39;t apply in this case. It is the typical case of counter in a distributed environment but I mostly wanted to let the db handle the work. Also given it&#39;s just a counter the operations on fetching and updating will be quite fast so even if it&#39;s a bottleneck point, I&#39;m accepting it as it is.","body":"Well that&#39;s the problem. As the api having multiple instances connected to the db, we can&#39;t make this serial coz it doesn&#39;t apply in this case. It is the typical case of counter in a distributed environment but I mostly wanted to let the db handle the work. Also given it&#39;s just a counter the operations on fetching and updating will be quite fast so even if it&#39;s a bottleneck point, I&#39;m accepting it as it is."}],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666788839,"creation_date":1666788839,"answer_id":74208131,"question_id":74192723,"body_markdown":"This is how I&#39;ve achieved what i needed. \r\n\r\nLong story short, i&#39;ve used a sql function and I called it inside repository. I didn&#39;t need the trigger anymore.\r\n\r\nhttps://stackoverflow.com/a/74208072/3018285","title":"JPA concurrent postgresql counter column with retrieving value","body":"<p>This is how I've achieved what i needed.</p>\n<p>Long story short, i've used a sql function and I called it inside repository. I didn't need the trigger anymore.</p>\n<p><a href=\"https://stackoverflow.com/a/74208072/3018285\">https://stackoverflow.com/a/74208072/3018285</a></p>\n"}],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74208131,"answer_count":1,"score":0,"last_activity_date":1666788839,"creation_date":1666694137,"question_id":74192723,"body_markdown":"**Pre-requisites**\r\n\r\n*Postgresql*\r\n\r\n*Spring boot with spring data jpa*\r\n\r\n**Problem**\r\n\r\nI have 2 tables. `Products` and `ProductsLocationCounter`. Each product has a `location_id` and `counter_value` fields among others. `location_id` is also the primary key of `ProductsLocationCounter`.\r\nThe `ProductsLocationCounter` is meant to keep a counter of the number of products grouped by a specific `location_id` whenever a new product is added. \r\nThe problem is that I also need the counter value at that point in time to be attached to the product entity.\r\n\r\nSo the flow would be like\r\n```\r\n 1. create product\r\n 2. counter_value = get counter\r\n 3. increment counter\r\n 4. product.counter_value = counter_value\r\n```\r\n\r\nOf course this has to be done in a concurrent matter.\r\nNow, i&#39;ve read/tried different solutions.\r\n\r\n 1. [this stackoverflow post](https://stackoverflow.com/questions/30143594/spring-jpa-and-hibernate-how-to-increment-a-counter-without-concurrency-issu) suggests that i should let the db to handle the concurrency, which sounds fine by me. But the trick is that I need the value of the counter in the same transaction. So I&#39;ve created a trigger\r\n```\r\nCREATE FUNCTION maintain_location_product_count_fun() RETURNS TRIGGER AS\r\n$$\r\nDECLARE\r\ncounter_var BIGINT;\r\nBEGIN\r\n  IF TG_OP IN (&#39;INSERT&#39;) THEN\r\n  \tselect product_location_count.counter into counter_var from product_location_count WHERE id = new.location_id FOR UPDATE;\r\n    UPDATE product_location_count SET counter = counter + 1 WHERE id = new.location_id;\r\n\tUPDATE products SET counter_value = counter_var WHERE location_id = new.location_id;\r\n  END IF;\r\n  RETURN NULL;\r\nEND\r\n$$\r\nLANGUAGE plpgsql;\r\n\r\nCREATE TRIGGER maintain_location_product_count_trig\r\nAFTER INSERT ON products\r\nFOR EACH ROW\r\nEXECUTE PROCEDURE maintain_location_product_count_fun();\r\n```\r\n\r\nand tested it with a parallel stream \r\n```\r\n    IntStream.range(1, 5000)\r\n        .parallel()\r\n        .forEach(value -&gt; {\r\n          executeInsideTransactionTemplate(status -&gt; {\r\n            var location = locationRepository.findById(location.getId()).get();\r\n            return addProductWithLocation(location)\r\n          });\r\n        });\r\n```\r\n\r\n***Got no duplication on the `counter_value` column. Is this trigger safe for multi-threaded apps? Haven&#39;t worked with triggers/postgresql functions before. Not sure what to expect***\r\n\r\n----------\r\n\r\n 1. The second solution I tried was to add `PESIMISTIC_WRITE` on `findById` method of the `ProductsLocationCounter` entity but i ended up getting \r\n `cannot execute SELECT FOR UPDATE in a read-only transaction` even though i was executing the code in a `@Transactional` annotated method ( which by default has read-only false).\r\n\r\n 2. The third one was to update and retrieve the value of the counter in the same statement but spring jpa doesn&#39;t allow that (nor the underlying db) as the update statement only return the number of rows affected\r\n\r\n\r\nIs there any other solution or do i need to add something to the trigger function to make it threadsafe? Thank you","title":"JPA concurrent postgresql counter column with retrieving value","body":"<p><strong>Pre-requisites</strong></p>\n<p><em>Postgresql</em></p>\n<p><em>Spring boot with spring data jpa</em></p>\n<p><strong>Problem</strong></p>\n<p>I have 2 tables. <code>Products</code> and <code>ProductsLocationCounter</code>. Each product has a <code>location_id</code> and <code>counter_value</code> fields among others. <code>location_id</code> is also the primary key of <code>ProductsLocationCounter</code>.\nThe <code>ProductsLocationCounter</code> is meant to keep a counter of the number of products grouped by a specific <code>location_id</code> whenever a new product is added.\nThe problem is that I also need the counter value at that point in time to be attached to the product entity.</p>\n<p>So the flow would be like</p>\n<pre><code> 1. create product\n 2. counter_value = get counter\n 3. increment counter\n 4. product.counter_value = counter_value\n</code></pre>\n<p>Of course this has to be done in a concurrent matter.\nNow, i've read/tried different solutions.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/30143594/spring-jpa-and-hibernate-how-to-increment-a-counter-without-concurrency-issu\">this stackoverflow post</a> suggests that i should let the db to handle the concurrency, which sounds fine by me. But the trick is that I need the value of the counter in the same transaction. So I've created a trigger</li>\n</ol>\n<pre><code>CREATE FUNCTION maintain_location_product_count_fun() RETURNS TRIGGER AS\n$$\nDECLARE\ncounter_var BIGINT;\nBEGIN\n  IF TG_OP IN ('INSERT') THEN\n    select product_location_count.counter into counter_var from product_location_count WHERE id = new.location_id FOR UPDATE;\n    UPDATE product_location_count SET counter = counter + 1 WHERE id = new.location_id;\n    UPDATE products SET counter_value = counter_var WHERE location_id = new.location_id;\n  END IF;\n  RETURN NULL;\nEND\n$$\nLANGUAGE plpgsql;\n\nCREATE TRIGGER maintain_location_product_count_trig\nAFTER INSERT ON products\nFOR EACH ROW\nEXECUTE PROCEDURE maintain_location_product_count_fun();\n</code></pre>\n<p>and tested it with a parallel stream</p>\n<pre><code>    IntStream.range(1, 5000)\n        .parallel()\n        .forEach(value -&gt; {\n          executeInsideTransactionTemplate(status -&gt; {\n            var location = locationRepository.findById(location.getId()).get();\n            return addProductWithLocation(location)\n          });\n        });\n</code></pre>\n<p><em><strong>Got no duplication on the <code>counter_value</code> column. Is this trigger safe for multi-threaded apps? Haven't worked with triggers/postgresql functions before. Not sure what to expect</strong></em></p>\n<hr />\n<ol>\n<li><p>The second solution I tried was to add <code>PESIMISTIC_WRITE</code> on <code>findById</code> method of the <code>ProductsLocationCounter</code> entity but i ended up getting\n<code>cannot execute SELECT FOR UPDATE in a read-only transaction</code> even though i was executing the code in a <code>@Transactional</code> annotated method ( which by default has read-only false).</p>\n</li>\n<li><p>The third one was to update and retrieve the value of the counter in the same statement but spring jpa doesn't allow that (nor the underlying db) as the update statement only return the number of rows affected</p>\n</li>\n</ol>\n<p>Is there any other solution or do i need to add something to the trigger function to make it threadsafe? Thank you</p>\n"},{"tags":["java","jsp","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":9791160,"reputation":676,"user_id":7773888,"accept_rate":40,"display_name":"raviraja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495202613,"creation_date":1495202613,"answer_id":44072118,"question_id":44067680,"body_markdown":"You can set it as request attribute as\r\n\r\n    request.setAttribute(&quot;idName&quot;,userid);\r\n\r\nand access it in JSP using JSTL as `${idName}`\r\n\r\nWhat is the error you are getting??\r\n\r\n\r\n\r\n","title":"calling jsp page from servlet not using session variable","body":"<p>You can set it as request attribute as</p>\n\n<pre><code>request.setAttribute(\"idName\",userid);\n</code></pre>\n\n<p>and access it in JSP using JSTL as <code>${idName}</code></p>\n\n<p>What is the error you are getting??</p>\n"},{"tags":[],"owner":{"account_id":26601216,"reputation":1,"user_id":20222837,"display_name":"saravana kumar p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666788327,"creation_date":1666788327,"answer_id":74208015,"question_id":44067680,"body_markdown":"    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            String nextPage = &quot;&quot;;\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            String statusMessage = &quot;&quot;;\r\n            String emailId = request.getParameter(&quot;EmailId&quot;);\r\n    \r\n            try {\r\n    \r\n               int i = 1;\r\n                if (i != -1) {\r\n                    if (i &gt;= 1) {\r\n                        statusMessage = &quot;User Authentication Success&quot;;\r\n    \r\n    \r\n                    } else {\r\n                        statusMessage = &quot;User Authentication failed&quot;;\r\n                    }\r\n                } else {\r\n                    statusMessage = &quot;ooooppppsssss&quot;;\r\n                }\r\n    \r\n            } catch (Exception se) {\r\n                out.println(se);\r\n            }\r\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\r\n        out.println(statusMessage);\r\n        rd.include(request, response);\r\n    }","title":"calling jsp page from servlet not using session variable","body":"<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String nextPage = &quot;&quot;;\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        String statusMessage = &quot;&quot;;\n        String emailId = request.getParameter(&quot;EmailId&quot;);\n\n        try {\n\n           int i = 1;\n            if (i != -1) {\n                if (i &gt;= 1) {\n                    statusMessage = &quot;User Authentication Success&quot;;\n\n\n                } else {\n                    statusMessage = &quot;User Authentication failed&quot;;\n                }\n            } else {\n                statusMessage = &quot;ooooppppsssss&quot;;\n            }\n\n        } catch (Exception se) {\n            out.println(se);\n        }\n    RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\n    out.println(statusMessage);\n    rd.include(request, response);\n}\n</code></pre>\n"}],"owner":{"account_id":10933659,"reputation":1,"user_id":8036044,"display_name":"Harsha Hegde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666788777,"creation_date":1495189760,"question_id":44067680,"body_markdown":"Im trying to achive the requirement as below using netbeans, tomcat and servlet. \r\n\r\nI&#39;m submitting the form to the servlet &quot;Servlet1&quot; with userid. and in Servlet1, I am creating the statusmessage based on userid I got from form and  that needs to be displayed on &quot;welcome.Jsp&quot; page. \r\n\r\nmy servlet code : \r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            String nextPage = &quot;&quot;;\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            String statusMessage = &quot;&quot;;\r\n            String emailId = request.getParameter(&quot;EmailId&quot;);\r\n           \r\n            try {\r\n    \r\n               int i = 1;\r\n                if (i != -1) {\r\n                    if (i &gt;= 1) {\r\n                        statusMessage = &quot;User Authentication Success&quot;;\r\n                        \r\n    \r\n                    } else {\r\n                        statusMessage = &quot;User Authentication failed&quot;;\r\n                    }\r\n                } else {\r\n                    statusMessage = &quot;ooooppppsssss&quot;;\r\n                }\r\n    \r\n            } catch (Exception se) {\r\n                out.println(se);\r\n            }\r\n            // out.print(statusMessage);\r\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\r\n        rd.forward(request, response);\r\n    }\r\n\r\nThe problem is: I&#39;m not redirected to the page where I want to display the message and instead url ends up on the same page and not redirected.  I know we can set it in session and it can be accessed from &quot;welcome.jsp&quot; by `response.sendredirect` but is there any way I can achieve this without using the session? ","title":"calling jsp page from servlet not using session variable","body":"<p>Im trying to achive the requirement as below using netbeans, tomcat and servlet.</p>\n<p>I'm submitting the form to the servlet &quot;Servlet1&quot; with userid. and in Servlet1, I am creating the statusmessage based on userid I got from form and  that needs to be displayed on &quot;welcome.Jsp&quot; page.</p>\n<p>my servlet code :</p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String nextPage = &quot;&quot;;\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        String statusMessage = &quot;&quot;;\n        String emailId = request.getParameter(&quot;EmailId&quot;);\n       \n        try {\n\n           int i = 1;\n            if (i != -1) {\n                if (i &gt;= 1) {\n                    statusMessage = &quot;User Authentication Success&quot;;\n                    \n\n                } else {\n                    statusMessage = &quot;User Authentication failed&quot;;\n                }\n            } else {\n                statusMessage = &quot;ooooppppsssss&quot;;\n            }\n\n        } catch (Exception se) {\n            out.println(se);\n        }\n        // out.print(statusMessage);\n    RequestDispatcher rd = request.getRequestDispatcher(&quot;welcome.jsp&quot;);\n    rd.forward(request, response);\n}\n</code></pre>\n<p>The problem is: I'm not redirected to the page where I want to display the message and instead url ends up on the same page and not redirected.  I know we can set it in session and it can be accessed from &quot;welcome.jsp&quot; by <code>response.sendredirect</code> but is there any way I can achieve this without using the session?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1666538780,"post_id":74172325,"comment_id":130956006,"body_markdown":"I&#39;ve never used this, but the error says expected content-type is null. @ReadOperation looks like it takes a produces parameter. Did you try to set that application/json?","body":"I&#39;ve never used this, but the error says expected content-type is null. @ReadOperation looks like it takes a produces parameter. Did you try to set that application/json?"},{"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"score":0,"creation_date":1666546494,"post_id":74172325,"comment_id":130957857,"body_markdown":"I ran with setting ```@ReadOperation(produces = &quot;application/json&quot;)``` still not running","body":"I ran with setting <code>@ReadOperation(produces = &quot;application&#47;json&quot;)</code> still not running"}],"answers":[{"tags":[],"owner":{"account_id":23136355,"reputation":1,"user_id":17240536,"display_name":"Subash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666788742,"creation_date":1666788742,"answer_id":74208111,"question_id":74172325,"body_markdown":"Add below line in your application.properties file\r\n\r\nmanagement.endpoints.web.exposure.include=urlshotnerendpoint\r\n","title":"Unable to access Custom Actuator Endpoint in Springboot","body":"<p>Add below line in your application.properties file</p>\n<p>management.endpoints.web.exposure.include=urlshotnerendpoint</p>\n"}],"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666788742,"creation_date":1666538410,"question_id":74172325,"body_markdown":"I am trying to create a custom api endpoint for actuator where the endpoint is defined as a separate class and uses @Endpoint annotation \r\n\r\nThe endpoint is visible when http://~/actuator in the list but somehow when I try to &#39;&#39;&#39;GET&#39;&#39;&#39; on this  ```http://~/actuator/urlshotnerendpoint``` , I get ```HTTP 500``` error \r\n\r\nHave posted the code below for reference \r\n\r\nCustomEndPoint.java\r\n```\r\npackage com.soul1.url_shotener_service.endpoint;\r\n\r\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\r\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n\r\n@Component\r\n@Endpoint(id = &quot;urlshotnerendpoint&quot;, enableByDefault = true)\r\npublic class CustomEndPoint {\r\n\t\r\n\t@ReadOperation\r\n\tpublic CustomEndPointResponse features() {\r\n\t\treturn new CustomEndPointResponse(12,&quot;name1&quot;,&quot;status1&quot;);\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\nclass CustomEndPointResponse{\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String status;\r\n\t\r\n\tpublic CustomEndPointResponse(int id, String name,String status) {\r\n\t\tthis.id=id;\r\n\t\tthis.name=name;\r\n\t\tthis.status=status;\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\npom.xml\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nThe error coming up in the logs in Debug mode is as below \r\n\r\n```\r\n2022-10-23 20:30:02.039 DEBUG 15932 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/actuator&quot;, parameters={}\r\n2022-10-23 20:30:02.055 DEBUG 15932 --- [nio-8080-exec-1] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped to Actuator root web endpoint\r\n2022-10-23 20:30:02.155 DEBUG 15932 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;application/vnd.spring-boot.actuator.v3+json&#39;, given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\r\n2022-10-23 20:30:02.225 DEBUG 15932 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [{_links={self=[Link@26effc60 href = &#39;http://localhost:8080/actuator&#39;], urlshotnerendpoint=[Link@4c78 (truncated)...]\r\n2022-10-23 20:30:03.191 DEBUG 15932 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n2022-10-23 20:30:23.318 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/actuator/urlshotnerendpoint&quot;, parameters={}\r\n2022-10-23 20:30:23.319 DEBUG 15932 --- [nio-8080-exec-3] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped to Actuator web endpoint &#39;urlshotnerendpoint&#39;\r\n2022-10-23 20:30:23.698 DEBUG 15932 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;application/vnd.spring-boot.actuator.v3+json&#39;, given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\r\n2022-10-23 20:30:23.704  WARN 15932 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.soul1.url_shotener_service.endpoint.CustomEndPointResponse] with preset Content-Type &#39;null&#39;]\r\n2022-10-23 20:30:23.704 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR\r\n2022-10-23 20:30:23.710 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n2022-10-23 20:30:23.792 DEBUG 15932 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2022-10-23 20:30:23.829 DEBUG 15932 --- [nio-8080-exec-3] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2022-10-23 20:30:23.996 DEBUG 15932 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]\r\n2022-10-23 20:30:24.049 DEBUG 15932 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Oct 23 20:30:23 IST 2022, status=500, error=Internal Server Error, path=/actuator/url (truncated)...]\r\n2022-10-23 20:30:24.060 DEBUG 15932 --- [nio-8080-exec-3] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2022-10-23 20:30:24.063 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 500\r\n```\r\n\r\nThanks in Advance for you help\r\n\r\nalso\r\n\r\nI have a separate  customized health indicator at http://~/actuator/health which is showing up fine without any issues\r\n\r\n```\r\npackage com.soul.custom_url_shotener_service.health;\r\n\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\n\r\nimport org.springframework.boot.actuate.health.Health;\r\nimport org.springframework.boot.actuate.health.HealthIndicator;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class InternalHealthMetrics implements HealthIndicator{\r\n\t\r\n\t@Override\r\n    public Health health() {\r\n\t\treturn checkInternet()==true?Health.up().withDetail(&quot;success code&quot;,&quot;Active Internet Connection&quot;).build():Health.down().withDetail(&quot;error code&quot;,&quot;InActive Internet Connection&quot;).build();\t\t\r\n    }\r\n\t\r\n\tprivate boolean checkInternet() {\r\n\t\tboolean flag = false;\r\n\t\ttry {\r\n\t\t\tURL url = new URL(&quot;https://www.google.com&quot;);\r\n\t\t\tURLConnection connection = url.openConnection();\r\n\t\t\tconnection.connect();\r\n\t\t\tflag=true;\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tflag=false;\r\n\t\t}\r\n\t\t\r\n\t\treturn flag;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Unable to access Custom Actuator Endpoint in Springboot","body":"<p>I am trying to create a custom api endpoint for actuator where the endpoint is defined as a separate class and uses @Endpoint annotation</p>\n<p>The endpoint is visible when http://~/actuator in the list but somehow when I try to '''GET''' on this  <code>http://~/actuator/urlshotnerendpoint</code> , I get <code>HTTP 500</code> error</p>\n<p>Have posted the code below for reference</p>\n<p>CustomEndPoint.java</p>\n<pre><code>package com.soul1.url_shotener_service.endpoint;\n\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\nimport org.springframework.stereotype.Component;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n\n@Component\n@Endpoint(id = &quot;urlshotnerendpoint&quot;, enableByDefault = true)\npublic class CustomEndPoint {\n    \n    @ReadOperation\n    public CustomEndPointResponse features() {\n        return new CustomEndPointResponse(12,&quot;name1&quot;,&quot;status1&quot;);\n    }\n    \n\n}\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n\nclass CustomEndPointResponse{\n    private int id;\n    private String name;\n    private String status;\n    \n    public CustomEndPointResponse(int id, String name,String status) {\n        this.id=id;\n        this.name=name;\n        this.status=status;\n        \n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>The error coming up in the logs in Debug mode is as below</p>\n<pre><code>2022-10-23 20:30:02.039 DEBUG 15932 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/actuator&quot;, parameters={}\n2022-10-23 20:30:02.055 DEBUG 15932 --- [nio-8080-exec-1] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped to Actuator root web endpoint\n2022-10-23 20:30:02.155 DEBUG 15932 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\n2022-10-23 20:30:02.225 DEBUG 15932 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [{_links={self=[Link@26effc60 href = 'http://localhost:8080/actuator'], urlshotnerendpoint=[Link@4c78 (truncated)...]\n2022-10-23 20:30:03.191 DEBUG 15932 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-10-23 20:30:23.318 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/actuator/urlshotnerendpoint&quot;, parameters={}\n2022-10-23 20:30:23.319 DEBUG 15932 --- [nio-8080-exec-3] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped to Actuator web endpoint 'urlshotnerendpoint'\n2022-10-23 20:30:23.698 DEBUG 15932 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]\n2022-10-23 20:30:23.704  WARN 15932 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.soul1.url_shotener_service.endpoint.CustomEndPointResponse] with preset Content-Type 'null']\n2022-10-23 20:30:23.704 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR\n2022-10-23 20:30:23.710 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2022-10-23 20:30:23.792 DEBUG 15932 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2022-10-23 20:30:23.829 DEBUG 15932 --- [nio-8080-exec-3] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-10-23 20:30:23.996 DEBUG 15932 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]\n2022-10-23 20:30:24.049 DEBUG 15932 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Oct 23 20:30:23 IST 2022, status=500, error=Internal Server Error, path=/actuator/url (truncated)...]\n2022-10-23 20:30:24.060 DEBUG 15932 --- [nio-8080-exec-3] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n2022-10-23 20:30:24.063 DEBUG 15932 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 500\n</code></pre>\n<p>Thanks in Advance for you help</p>\n<p>also</p>\n<p>I have a separate  customized health indicator at http://~/actuator/health which is showing up fine without any issues</p>\n<pre><code>package com.soul.custom_url_shotener_service.health;\n\nimport java.net.URL;\nimport java.net.URLConnection;\n\nimport org.springframework.boot.actuate.health.Health;\nimport org.springframework.boot.actuate.health.HealthIndicator;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class InternalHealthMetrics implements HealthIndicator{\n    \n    @Override\n    public Health health() {\n        return checkInternet()==true?Health.up().withDetail(&quot;success code&quot;,&quot;Active Internet Connection&quot;).build():Health.down().withDetail(&quot;error code&quot;,&quot;InActive Internet Connection&quot;).build();     \n    }\n    \n    private boolean checkInternet() {\n        boolean flag = false;\n        try {\n            URL url = new URL(&quot;https://www.google.com&quot;);\n            URLConnection connection = url.openConnection();\n            connection.connect();\n            flag=true;\n        }\n        catch(Exception e){\n            flag=false;\n        }\n        \n        return flag;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","notifydatasetchanged"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666788644,"creation_date":1666788644,"answer_id":74208091,"question_id":74206133,"body_markdown":"`notifyDataSetChanged()` is most likely working as planned. You can set a breakpoint in your view holder binding code to check this.\r\n\r\nIt is more likely that _Glide_ is pulling the cached versions of the images. You will need a way to get _Glide_ to ignore what&#39;s in cache and reload from the URL.\r\n\r\n[This post](https://stackoverflow.com/questions/33443146/remove-image-from-cache-in-glide-library) addresses the same issue and may be of help to you.","title":"How to update the recycler without changing the list","body":"<p><code>notifyDataSetChanged()</code> is most likely working as planned. You can set a breakpoint in your view holder binding code to check this.</p>\n<p>It is more likely that <em>Glide</em> is pulling the cached versions of the images. You will need a way to get <em>Glide</em> to ignore what's in cache and reload from the URL.</p>\n<p><a href=\"https://stackoverflow.com/questions/33443146/remove-image-from-cache-in-glide-library\">This post</a> addresses the same issue and may be of help to you.</p>\n"}],"owner":{"account_id":25555579,"reputation":31,"user_id":19339199,"display_name":"ttcreator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74208091,"answer_count":1,"score":0,"last_activity_date":1666788644,"creation_date":1666779653,"question_id":74206133,"body_markdown":"My Recyclerview is filled with a list containing links to images. But the images can change (let&#39;s say the user can draw something on them), but the link to the image itself does not change. I need to make it so that when the image changes, it is also drawn again in the recycler.\r\n\r\n`notifyDataSetChanged()` does not work in this case, apparently because it reacts to changes in the sheet, and in fact there are no changes in the sheet itself, the links are the same in it. But the images are changed by links.\r\n\r\nMaybe somehow you can push the recycler so that it is updated or draws items again?\r\n\r\nMy Activity:\r\n\r\n    public class MyDrawing extends Fragment {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private RecyclerViewAdapter recyclerViewAdapter;\r\n        private View root;\r\n        private TextView text;\r\n    \r\n        public MyDrawing() {\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            root = inflater.inflate(R.layout.fragment_my_drawing, container, false);\r\n            recyclerView = root.findViewById(R.id.recyclerViewMyDrawing);\r\n            text = root.findViewById(R.id.text);\r\n            List&lt;CacheImageModel&gt; cacheImageModels = getCacheImageByState();\r\n            recyclerViewAdapter = new RecyclerViewAdapter(cacheImageModels, getContext());\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n            recyclerView.setAdapter(recyclerViewAdapter);\r\n            recyclerViewAdapter.notifyDataSetChanged();\r\n            \r\n            return root;\r\n        }\r\n\r\nMy Adapter:\r\n\r\n    public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\r\n    \r\n        private List&lt;CacheImageModel&gt; cacheImageModels;\r\n        private Context context;\r\n        private String imgUrl;\r\n        private int imageKey;\r\n        private String category;\r\n        private String nameImage;\r\n        private ProgressBar progressBarItem;\r\n    \r\n        public RecyclerViewAdapter(List&lt;CacheImageModel&gt; cacheImageModels, Context context) {\r\n            this.cacheImageModels = cacheImageModels;\r\n            this.context = context;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.recycler_view_item, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n                imgUrl = cacheImageModels.get(position).getImageCacheUrl();\r\n                nameImage = cacheImageModels.get(position).getName();\r\n                category = cacheImageModels.get(position).getCategory();\r\n                imageKey = cacheImageModels.get(position).getImageKey();\r\n                holder.progressBarItem.setVisibility(View.VISIBLE);\r\n                holder.relativeLayout.setLayoutParams(new FrameLayout.LayoutParams(MyApp.getScreenWidth(context) / 2,\r\n                        MyApp.getScreenWidth(context) / 2));\r\n                Glide.with(context)\r\n                        .load(imgUrl)\r\n                        .listener(new RequestListener&lt;Drawable&gt;() {\r\n                            @Override\r\n                            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n                                return false;\r\n                            }\r\n    \r\n                            @Override\r\n                            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                                holder.progressBarItem.setVisibility(View.GONE);\r\n                                return false;\r\n                            }\r\n                        })\r\n                        .into(holder.image);\r\n    \r\n    \r\n            holder.image.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int posit = holder.getAdapterPosition();\r\n                    if (posit &lt; 0 || posit &gt;= cacheImageModels.size()) {\r\n                        Log.d(&quot;POSITION&quot;, &quot;Number postition &quot; + posit + &quot; its error&quot;);\r\n                    } else {\r\n                        String urlImagePosition = cacheImageModels.get(posit).getImageCacheUrl();\r\n                        String namePosition = cacheImageModels.get(posit).getName();\r\n                        String categoryPosition = cacheImageModels.get(posit).getCategory();\r\n                        int imageKeyPosition = cacheImageModels.get(posit).getImageKey();\r\n                        Uri uri = ContentUris.withAppendedId(MCDataContract.CONTENT_URI, imageKeyPosition);\r\n                        Intent intent = new Intent(v.getContext(),\r\n                                ColoringActivity.class);\r\n                        intent.putExtra(&quot;urlImagePosition&quot;, urlImagePosition);\r\n                        intent.putExtra(&quot;nameImage&quot;, namePosition);\r\n                        intent.putExtra(&quot;keyPosition&quot;, imageKeyPosition);\r\n                        intent.putExtra(&quot;categoryPosition&quot;, categoryPosition);\r\n                        intent.setData(uri);\r\n                        v.getContext().startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return super.getItemId(position);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return cacheImageModels.size();\r\n        }\r\n    \r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            private ImageView image;\r\n            private ProgressBar progressBarItem;\r\n            private RelativeLayout relativeLayout;\r\n            private CardView cardView;\r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                image = itemView.findViewById(R.id.imageView);\r\n                progressBarItem = itemView.findViewById(R.id.progressBarItem);\r\n                relativeLayout = itemView.findViewById(R.id.parentItem);\r\n                cardView = itemView.findViewById(R.id.cardView);\r\n            }\r\n        }\r\n    }","title":"How to update the recycler without changing the list","body":"<p>My Recyclerview is filled with a list containing links to images. But the images can change (let's say the user can draw something on them), but the link to the image itself does not change. I need to make it so that when the image changes, it is also drawn again in the recycler.</p>\n<p><code>notifyDataSetChanged()</code> does not work in this case, apparently because it reacts to changes in the sheet, and in fact there are no changes in the sheet itself, the links are the same in it. But the images are changed by links.</p>\n<p>Maybe somehow you can push the recycler so that it is updated or draws items again?</p>\n<p>My Activity:</p>\n<pre><code>public class MyDrawing extends Fragment {\n\n    private RecyclerView recyclerView;\n    private RecyclerViewAdapter recyclerViewAdapter;\n    private View root;\n    private TextView text;\n\n    public MyDrawing() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        root = inflater.inflate(R.layout.fragment_my_drawing, container, false);\n        recyclerView = root.findViewById(R.id.recyclerViewMyDrawing);\n        text = root.findViewById(R.id.text);\n        List&lt;CacheImageModel&gt; cacheImageModels = getCacheImageByState();\n        recyclerViewAdapter = new RecyclerViewAdapter(cacheImageModels, getContext());\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\n        recyclerView.setAdapter(recyclerViewAdapter);\n        recyclerViewAdapter.notifyDataSetChanged();\n        \n        return root;\n    }\n</code></pre>\n<p>My Adapter:</p>\n<pre><code>public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\n\n    private List&lt;CacheImageModel&gt; cacheImageModels;\n    private Context context;\n    private String imgUrl;\n    private int imageKey;\n    private String category;\n    private String nameImage;\n    private ProgressBar progressBarItem;\n\n    public RecyclerViewAdapter(List&lt;CacheImageModel&gt; cacheImageModels, Context context) {\n        this.cacheImageModels = cacheImageModels;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.recycler_view_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            imgUrl = cacheImageModels.get(position).getImageCacheUrl();\n            nameImage = cacheImageModels.get(position).getName();\n            category = cacheImageModels.get(position).getCategory();\n            imageKey = cacheImageModels.get(position).getImageKey();\n            holder.progressBarItem.setVisibility(View.VISIBLE);\n            holder.relativeLayout.setLayoutParams(new FrameLayout.LayoutParams(MyApp.getScreenWidth(context) / 2,\n                    MyApp.getScreenWidth(context) / 2));\n            Glide.with(context)\n                    .load(imgUrl)\n                    .listener(new RequestListener&lt;Drawable&gt;() {\n                        @Override\n                        public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n                            return false;\n                        }\n\n                        @Override\n                        public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                            holder.progressBarItem.setVisibility(View.GONE);\n                            return false;\n                        }\n                    })\n                    .into(holder.image);\n\n\n        holder.image.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int posit = holder.getAdapterPosition();\n                if (posit &lt; 0 || posit &gt;= cacheImageModels.size()) {\n                    Log.d(&quot;POSITION&quot;, &quot;Number postition &quot; + posit + &quot; its error&quot;);\n                } else {\n                    String urlImagePosition = cacheImageModels.get(posit).getImageCacheUrl();\n                    String namePosition = cacheImageModels.get(posit).getName();\n                    String categoryPosition = cacheImageModels.get(posit).getCategory();\n                    int imageKeyPosition = cacheImageModels.get(posit).getImageKey();\n                    Uri uri = ContentUris.withAppendedId(MCDataContract.CONTENT_URI, imageKeyPosition);\n                    Intent intent = new Intent(v.getContext(),\n                            ColoringActivity.class);\n                    intent.putExtra(&quot;urlImagePosition&quot;, urlImagePosition);\n                    intent.putExtra(&quot;nameImage&quot;, namePosition);\n                    intent.putExtra(&quot;keyPosition&quot;, imageKeyPosition);\n                    intent.putExtra(&quot;categoryPosition&quot;, categoryPosition);\n                    intent.setData(uri);\n                    v.getContext().startActivity(intent);\n                }\n            }\n        });\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return super.getItemId(position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return cacheImageModels.size();\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private ImageView image;\n        private ProgressBar progressBarItem;\n        private RelativeLayout relativeLayout;\n        private CardView cardView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            image = itemView.findViewById(R.id.imageView);\n            progressBarItem = itemView.findViewById(R.id.progressBarItem);\n            relativeLayout = itemView.findViewById(R.id.parentItem);\n            cardView = itemView.findViewById(R.id.cardView);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-spark","apache-spark-sql","apache-spark-2.0"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665412038,"post_id":74016186,"comment_id":130688034,"body_markdown":"*HADOOP_HOME and hadoop.home.dir are unset* Is that maybe giving you any clues?","body":"<i>HADOOP_HOME and hadoop.home.dir are unset</i> Is that maybe giving you any clues?"},{"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"score":0,"creation_date":1665412541,"post_id":74016186,"comment_id":130688243,"body_markdown":"@g00se hi, i am not sure about it, i have not added any package for HADOOP.\nis there any example how to set this HADOOP_HOME?","body":"@g00se hi, i am not sure about it, i have not added any package for HADOOP. is there any example how to set this HADOOP_HOME?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665413435,"post_id":74016186,"comment_id":130688592,"body_markdown":"That would normally be the Hadoop installation directory. Your software is *clearly* using Hadoop in some way","body":"That would normally be the Hadoop installation directory. Your software is <i>clearly</i> using Hadoop in some way"}],"answers":[{"tags":[],"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666788619,"creation_date":1666788619,"answer_id":74208086,"question_id":74016186,"body_markdown":"Issue has got resolved, it was missing configuration of HADOOP_HOME directory and  winutils [WINUTILS][1], and hadoop.dll [HADOOP.DLL][2]\r\n\r\nSolution and configuration can find here : [solution][3]\r\n\r\n\r\n  [1]: https://github.com/steveloughran/winutils\r\n  [2]: https://github.com/steveloughran/winutils/blob/master/hadoop-3.0.0/bin/hadoop.dll\r\n  [3]: https://www.youtube.com/watch?v=dY5099JlQV8&amp;t=333s","title":"how to read CSV file with apache-spark spring boot","body":"<p>Issue has got resolved, it was missing configuration of HADOOP_HOME directory and  winutils <a href=\"https://github.com/steveloughran/winutils\" rel=\"nofollow noreferrer\">WINUTILS</a>, and hadoop.dll <a href=\"https://github.com/steveloughran/winutils/blob/master/hadoop-3.0.0/bin/hadoop.dll\" rel=\"nofollow noreferrer\">HADOOP.DLL</a></p>\n<p>Solution and configuration can find here : <a href=\"https://www.youtube.com/watch?v=dY5099JlQV8&amp;t=333s\" rel=\"nofollow noreferrer\">solution</a></p>\n"}],"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74208086,"answer_count":1,"score":0,"last_activity_date":1666788619,"creation_date":1665410819,"question_id":74016186,"body_markdown":"I&#39;m new to Apache Spark and am attempting to use Java Spring Boot to read a CSV file from Apache Spark.\r\nhowever, I kept getting the below exception despite trying several different approaches.\r\n\r\nIs there a need for additional configuration?\r\n\r\n    SparkSession spark = SparkSession\r\n    \t\t\t    .builder()\r\n    \t\t\t    .appName(&quot;Java Spark SQL Example&quot;)\r\n    \t\t\t    .getOrCreate();\r\n\t\t\r\n\t\t\r\n\t\tStructType schema = new StructType()\r\n\t\t\t    .add(&quot;department&quot;, &quot;string&quot;)\r\n\t\t\t    .add(&quot;designation&quot;, &quot;string&quot;)\r\n\t\t\t    .add(&quot;ctc&quot;, &quot;long&quot;)\r\n\t\t\t    .add(&quot;state&quot;, &quot;string&quot;);\r\n\t\t\r\n\t\t\r\n\t\tDataset&lt;Row&gt; df = spark.read()\r\n\t\t\t    .option(&quot;mode&quot;, &quot;DROPMALFORMED&quot;)\r\n\t\t\t    .schema(schema)\r\n\t\t\t    .csv(&quot;C://exampl/bands-csv.csv&quot;);\r\n\r\n\r\n\r\n    java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\r\n    \tat org.apache.hadoop.util.Shell.fileNotFoundException(Shell.java:547) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.Shell.getHadoopHomeDir(Shell.java:568) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.Shell.getQualifiedBin(Shell.java:591) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:688) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79) ~[hadoop-client-api-3.3.2.jar:na]\r\n    Caused by: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset.\r\n    \tat org.apache.hadoop.util.Shell.checkHadoopHomeInner(Shell.java:467) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.Shell.checkHadoopHome(Shell.java:438) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:515) ~[hadoop-client-api-3.3.2.jar:na]\r\n    \t... 21 common frames omitted\r\n    \r\n    2022-10-10 09:51:44.030  WARN 20884 --- [  restartedMain] org.apache.hadoop.util.NativeCodeLoader  : Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    2022-10-10 09:51:44.168 ERROR 20884 --- [  restartedMain] org.apache.spark.SparkContext            : Error initializing SparkContext.\r\n    \r\n    org.apache.spark.SparkException: A master URL must be set in your configuration\r\n    \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:396) ~[spark-core_2.13-3.3.0.jar:3.3.0]\r\n    \tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704) ~[spark-core_2.13-3.3.0.jar:3.3.0]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.0.jar:3.3.0]\r\n    \tat scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:na]\r\n    \tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.0.jar:3.3.0]\r\n    \tat com.spark.sql.SparkPocApplication.main(SparkPocApplication.java:42) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\n    \r\n    2022-10-10 09:51:44.229  INFO 20884 --- [  restartedMain] org.apache.spark.SparkContext            : Successfully stopped SparkContext\r\n    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n\r\n\r\nDependencies added apche-spark core and apache-spark-sql\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t","title":"how to read CSV file with apache-spark spring boot","body":"<p>I'm new to Apache Spark and am attempting to use Java Spring Boot to read a CSV file from Apache Spark.\nhowever, I kept getting the below exception despite trying several different approaches.</p>\n<p>Is there a need for additional configuration?</p>\n<pre><code>SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;Java Spark SQL Example&quot;)\n                .getOrCreate();\n    \n    \n    StructType schema = new StructType()\n            .add(&quot;department&quot;, &quot;string&quot;)\n            .add(&quot;designation&quot;, &quot;string&quot;)\n            .add(&quot;ctc&quot;, &quot;long&quot;)\n            .add(&quot;state&quot;, &quot;string&quot;);\n    \n    \n    Dataset&lt;Row&gt; df = spark.read()\n            .option(&quot;mode&quot;, &quot;DROPMALFORMED&quot;)\n            .schema(schema)\n            .csv(&quot;C://exampl/bands-csv.csv&quot;);\n\n\n\njava.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\n    at org.apache.hadoop.util.Shell.fileNotFoundException(Shell.java:547) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.Shell.getHadoopHomeDir(Shell.java:568) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.Shell.getQualifiedBin(Shell.java:591) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:688) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79) ~[hadoop-client-api-3.3.2.jar:na]\nCaused by: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset.\n    at org.apache.hadoop.util.Shell.checkHadoopHomeInner(Shell.java:467) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.Shell.checkHadoopHome(Shell.java:438) ~[hadoop-client-api-3.3.2.jar:na]\n    at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:515) ~[hadoop-client-api-3.3.2.jar:na]\n    ... 21 common frames omitted\n\n2022-10-10 09:51:44.030  WARN 20884 --- [  restartedMain] org.apache.hadoop.util.NativeCodeLoader  : Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n2022-10-10 09:51:44.168 ERROR 20884 --- [  restartedMain] org.apache.spark.SparkContext            : Error initializing SparkContext.\n\norg.apache.spark.SparkException: A master URL must be set in your configuration\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:396) ~[spark-core_2.13-3.3.0.jar:3.3.0]\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704) ~[spark-core_2.13-3.3.0.jar:3.3.0]\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953) ~[spark-sql_2.13-3.3.0.jar:3.3.0]\n    at scala.Option.getOrElse(Option.scala:201) ~[scala-library-2.13.8.jar:na]\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947) ~[spark-sql_2.13-3.3.0.jar:3.3.0]\n    at com.spark.sql.SparkPocApplication.main(SparkPocApplication.java:42) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\n\n2022-10-10 09:51:44.229  INFO 20884 --- [  restartedMain] org.apache.spark.SparkContext            : Successfully stopped SparkContext\nException in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>Dependencies added apche-spark core and apache-spark-sql</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n</code></pre>\n"},{"tags":["java","sonarqube","spring-batch"],"comments":[{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1637672918,"post_id":56449800,"comment_id":123884545,"body_markdown":"How have you fixed this issue, Can you please guide me on it","body":"How have you fixed this issue, Can you please guide me on it"}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1559675153,"creation_date":1559675153,"answer_id":56449904,"question_id":56449800,"body_markdown":"Based on the link, it seems self-explanatory: \r\n\r\n&gt; That means using parameter injection instead of field injection for\r\n&gt; dependencies that are only used in a single @Bean method.\r\n\r\nSo for your job, instantiate it like this:\r\n\r\n      @Bean(&quot;readStudentJob&quot;)\r\n      @Primary\r\n      public Job readStudentJob(Step StudentStepOne) {\r\n          return jobBuilderFactory.get(&quot;readStudentJob&quot;)\r\n                  .incrementer(new RunIdIncrementer())\r\n                  .start(StudentStepOne)\r\n                  .build();\r\n      }\r\n\r\nUnrelated, but you should follow java conventions. Methods should use camelcase. `StudentStepOne()` should be `studentStepOne()`","title":"Inject this field value directly into &quot;studentStepOne&quot;, the only method that uses it","body":"<p>Based on the link, it seems self-explanatory: </p>\n\n<blockquote>\n  <p>That means using parameter injection instead of field injection for\n  dependencies that are only used in a single @Bean method.</p>\n</blockquote>\n\n<p>So for your job, instantiate it like this:</p>\n\n<pre><code>  @Bean(\"readStudentJob\")\n  @Primary\n  public Job readStudentJob(Step StudentStepOne) {\n      return jobBuilderFactory.get(\"readStudentJob\")\n              .incrementer(new RunIdIncrementer())\n              .start(StudentStepOne)\n              .build();\n  }\n</code></pre>\n\n<p>Unrelated, but you should follow java conventions. Methods should use camelcase. <code>StudentStepOne()</code> should be <code>studentStepOne()</code></p>\n"},{"tags":[],"owner":{"account_id":8412143,"reputation":65,"user_id":6313675,"display_name":"G V"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574938774,"creation_date":1574938774,"answer_id":59087309,"question_id":56449800,"body_markdown":"Below Answer will help you.\r\n\r\n    private StepBuilderFactory stepBuilderFactory;\r\n    \r\n    @Autowired\r\n    public void setStepBuilderFactory(StepBuilderFactory stepBuilderFactory) {\r\n    \tthis.stepBuilderFactory= stepBuilderFactory;\r\n    }\r\n\r\nInstead of implementing field Injection, You can go through with setter injection. Field Injection is not recommended.","title":"Inject this field value directly into &quot;studentStepOne&quot;, the only method that uses it","body":"<p>Below Answer will help you.</p>\n\n<pre><code>private StepBuilderFactory stepBuilderFactory;\n\n@Autowired\npublic void setStepBuilderFactory(StepBuilderFactory stepBuilderFactory) {\n    this.stepBuilderFactory= stepBuilderFactory;\n}\n</code></pre>\n\n<p>Instead of implementing field Injection, You can go through with setter injection. Field Injection is not recommended.</p>\n"},{"tags":[],"owner":{"account_id":5722825,"reputation":39,"user_id":4520769,"display_name":"Tiago Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666788272,"creation_date":1666788272,"answer_id":74208005,"question_id":56449800,"body_markdown":"In a *@Configuration* class the spring will read the class trying reference with all existent beans.\r\nSo, if you wanna only reference one bean in your method, without share between methods, you don&#39;t need wired in a class attribute. Just receive in your method constructor.\r\n\r\n        @Bean\r\n    public Step StudentStepOne(StepBuilderFactory stepBuilderFactory) {\r\n        return stepBuilderFactory.get(&quot;StudentStepOne&quot;)\r\n                .&lt;Student, Student&gt;chunk(Integer.parseInt(chunkSize))\r\n                .reader(StudentReader)\r\n                .processor(StudentProcessor)\r\n                .writer(StudentWriter)\r\n                .listener(StudentStepExecuListner())\r\n                .build();\r\n    }\r\nThe spring will set the bean automatically.","title":"Inject this field value directly into &quot;studentStepOne&quot;, the only method that uses it","body":"<p>In a <em>@Configuration</em> class the spring will read the class trying reference with all existent beans.\nSo, if you wanna only reference one bean in your method, without share between methods, you don't need wired in a class attribute. Just receive in your method constructor.</p>\n<pre><code>    @Bean\npublic Step StudentStepOne(StepBuilderFactory stepBuilderFactory) {\n    return stepBuilderFactory.get(&quot;StudentStepOne&quot;)\n            .&lt;Student, Student&gt;chunk(Integer.parseInt(chunkSize))\n            .reader(StudentReader)\n            .processor(StudentProcessor)\n            .writer(StudentWriter)\n            .listener(StudentStepExecuListner())\n            .build();\n}\n</code></pre>\n<p>The spring will set the bean automatically.</p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8874,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56449904,"answer_count":3,"score":5,"last_activity_date":1666788272,"creation_date":1559674738,"question_id":56449800,"body_markdown":"I&#39;ve developed **Spring Boot-Batch** code and `sonarlint/Sonar-Qube` giving me below error. I went through the link, but solution is not understood as per this link: https://rules.sonarsource.com/java/tag/spring/RSPEC-3305.\r\n\r\n\r\n&gt;Inject this field value directly into &quot;studentStepOne&quot;, the only method that uses it.\r\n\r\n**Code:**\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class StudentJob {\r\n    \t@Value( &quot;${spring.chunk.size}&quot;)\r\n    \tprivate String chunkSize;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory stepBuilderFactory;\r\n    \r\n    \t@Autowired\r\n    \tprivate JdbcCursorItemReader&lt;Student&gt; StudentReader;\r\n    \r\n    \t@Autowired\r\n    \tprivate ItemProcessor&lt;Student, Student&gt; StudentProcessor;\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentWriter StudentWriter;\r\n    \t\r\n    \t@Bean\r\n    \tpublic StudentStepExecuListner StudentStepExecuListner() {\r\n    \t\treturn new StudentStepExecuListner();\r\n    \t}\r\n    \r\n    \t@Bean(&quot;readStudentJob&quot;)\r\n    \t@Primary\r\n    \tpublic Job readStudentJob() {\r\n    \t\treturn jobBuilderFactory.get(&quot;readStudentJob&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.start(StudentStepOne())\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step StudentStepOne() {\r\n    \t\treturn stepBuilderFactory.get(&quot;StudentStepOne&quot;)\r\n    \t\t\t\t.&lt;Student, Student&gt;chunk(Integer.parseInt(chunkSize))\r\n    \t\t\t\t.reader(StudentReader)\r\n    \t\t\t\t.processor(StudentProcessor)\r\n    \t\t\t\t.writer(StudentWriter)\r\n    \t\t\t\t.listener(StudentStepExecuListner())\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }\r\n\r\n","title":"Inject this field value directly into &quot;studentStepOne&quot;, the only method that uses it","body":"<p>I've developed <strong>Spring Boot-Batch</strong> code and <code>sonarlint/Sonar-Qube</code> giving me below error. I went through the link, but solution is not understood as per this link: <a href=\"https://rules.sonarsource.com/java/tag/spring/RSPEC-3305\" rel=\"noreferrer\">https://rules.sonarsource.com/java/tag/spring/RSPEC-3305</a>.</p>\n\n<blockquote>\n  <p>Inject this field value directly into \"studentStepOne\", the only method that uses it.</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class StudentJob {\n    @Value( \"${spring.chunk.size}\")\n    private String chunkSize;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private JdbcCursorItemReader&lt;Student&gt; StudentReader;\n\n    @Autowired\n    private ItemProcessor&lt;Student, Student&gt; StudentProcessor;\n\n    @Autowired\n    private StudentWriter StudentWriter;\n\n    @Bean\n    public StudentStepExecuListner StudentStepExecuListner() {\n        return new StudentStepExecuListner();\n    }\n\n    @Bean(\"readStudentJob\")\n    @Primary\n    public Job readStudentJob() {\n        return jobBuilderFactory.get(\"readStudentJob\")\n                .incrementer(new RunIdIncrementer())\n                .start(StudentStepOne())\n                .build();\n    }\n\n    @Bean\n    public Step StudentStepOne() {\n        return stepBuilderFactory.get(\"StudentStepOne\")\n                .&lt;Student, Student&gt;chunk(Integer.parseInt(chunkSize))\n                .reader(StudentReader)\n                .processor(StudentProcessor)\n                .writer(StudentWriter)\n                .listener(StudentStepExecuListner())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"score":0,"creation_date":1666788260,"post_id":74207937,"comment_id":131018094,"body_markdown":"I performed an operation to read a CSV file and write it to a text file to test the configuration for Apache-Spark, and it was successful. but with Oracle Database to read data it&#39;s not working.","body":"I performed an operation to read a CSV file and write it to a text file to test the configuration for Apache-Spark, and it was successful. but with Oracle Database to read data it&#39;s not working."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666788877,"post_id":74207937,"comment_id":131018357,"body_markdown":"Have yo tried without devtools? You also marked the `park-sql_2.13` dependency as provided which means it won&#39;t be shipped, you might want to change that.","body":"Have yo tried without devtools? You also marked the <code>park-sql_2.13</code> dependency as provided which means it won&#39;t be shipped, you might want to change that."},{"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"score":0,"creation_date":1666789644,"post_id":74207937,"comment_id":131018663,"body_markdown":"@M.Deinum, Yes tried without devtools, but i didn&#39;t get on change for spark-sql_2.13 dependency.","body":"@M.Deinum, Yes tried without devtools, but i didn&#39;t get on change for spark-sql_2.13 dependency."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666790528,"post_id":74207937,"comment_id":131019007,"body_markdown":"The `spark-sql` dependency is scoped `provided`. Which means it isn&#39;t available in the fat jar you are building. If you are using classes from there they arent&#39; available and you will get exceptions.","body":"The <code>spark-sql</code> dependency is scoped <code>provided</code>. Which means it isn&#39;t available in the fat jar you are building. If you are using classes from there they arent&#39; available and you will get exceptions."},{"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"score":0,"creation_date":1666791085,"post_id":74207937,"comment_id":131019233,"body_markdown":"@M.Deinum, as i am doing simple with Sparksession i am not using any functions of spark-sql_2.13, even i tried without spark-sql_2.13, but the issue is same.","body":"@M.Deinum, as i am doing simple with Sparksession i am not using any functions of spark-sql_2.13, even i tried without spark-sql_2.13, but the issue is same."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666791883,"post_id":74207937,"comment_id":131019577,"body_markdown":"the package `org.apache.spark.sql` hints otherwise (but that might be my limited Spark knowledge). Looks like you are using an incompatible version of Janino (or spark). So you want to either up-/downgrade one of those to have compatible versions. See https://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil","body":"the package <code>org.apache.spark.sql</code> hints otherwise (but that might be my limited Spark knowledge). Looks like you are using an incompatible version of Janino (or spark). So you want to either up-/downgrade one of those to have compatible versions. See <a href=\"https://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\" title=\"spark sql fails with java lang noclassdeffounderror org codehaus commons compil\">stackoverflow.com/questions/42352091/&hellip;</a>"}],"owner":{"account_id":26390152,"reputation":1,"user_id":20042124,"display_name":"Ghaleppa Vijaykumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666788067,"creation_date":1666787960,"question_id":74207937,"body_markdown":"I&#39;m trying to retrieve data from an Oracle Database table, and I&#39;m new to Apache Spark.\r\n\r\nI must retrieve data from two databases with two tables (production DB and lower environment)\r\n\r\nmust compare the data in both tables column by column and then insert it into another audit table in a lower environment. Later, a job will update the lower&#160;environment with the updated data.\r\n\r\nDue to the enormous amount of data, many tables with various schemas will contain trillions of records.\r\n\r\nThe problem is that I cannot connect to and retrieve records from the database.\r\n\r\n\r\nAny possible solution would be greatly appreciated. Thanks\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n            SpringApplication.run(ApacheSparkApplication.class, args);\r\n            SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;SparkandOracledbTest&quot;).getOrCreate();\r\n            Dataset&lt;Row&gt; oracleDF = spark.read().format(&quot;oracle&quot;)\r\n                    .option(&quot;adbId&quot;, &quot;jdbc:oracle:thin:@host:port/dbname&quot;)\r\n                    .option(&quot;dbtable&quot;, &quot;owner.tablename&quot;)\r\n                                    .option(&quot;user&quot;, &quot;user&quot;)\r\n                                    .option(&quot;password&quot;, &quot;password&quot;)\r\n                    .load();\r\n            oracleDF.show();\r\n\r\n    2022-10-26 08:25:22.557  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@244c93d7{/metrics/json,null,AVAILABLE,@Spark}\r\n    2022-10-26 08:25:22.765  WARN 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : URL.setURLStreamHandlerFactory failed to set FsUrlStreamHandlerFactory\r\n    2022-10-26 08:25:22.766  INFO 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n    2022-10-26 08:25:22.776  INFO 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : Warehouse path is &#39;file:/C:/Vijay/csv/spark-warehouse&#39;.\r\n    2022-10-26 08:25:22.793  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@7b364643{/SQL,null,AVAILABLE,@Spark}\r\n    2022-10-26 08:25:22.794  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@76e99147{/SQL/json,null,AVAILABLE,@Spark}\r\n    2022-10-26 08:25:22.795  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@40a15ec9{/SQL/execution,null,AVAILABLE,@Spark}\r\n    2022-10-26 08:25:22.796  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@d385186{/SQL/execution/json,null,AVAILABLE,@Spark}\r\n    2022-10-26 08:25:22.798  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@3fa6b59a{/static/sql,null,AVAILABLE,@Spark}\r\n    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: java.lang.NoClassDefFoundError: org/codehaus/janino/InternalCompilerException\r\n        at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:675)\r\n        at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSourceV2(DataSource.scala:725)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:207)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:171)\r\n        at com.spark.csv.ApacheSparkApplication.main(ApacheSparkApplication.java:34)\r\n        ... 5 more\r\n    Caused by: java.lang.ClassNotFoundException: org.codehaus.janino.InternalCompilerException\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 10 more\r\n\r\nPOM.xml\r\n\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artif`actId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n           &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/janino --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n                &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n           &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/commons-compiler --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n           &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.oracle.ojdbc/ojdbc8 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n\r\n","title":"Apache Spark with Java Spring boot : Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException","body":"<p>I'm trying to retrieve data from an Oracle Database table, and I'm new to Apache Spark.</p>\n<p>I must retrieve data from two databases with two tables (production DB and lower environment)</p>\n<p>must compare the data in both tables column by column and then insert it into another audit table in a lower environment. Later, a job will update the lowerenvironment with the updated data.</p>\n<p>Due to the enormous amount of data, many tables with various schemas will contain trillions of records.</p>\n<p>The problem is that I cannot connect to and retrieve records from the database.</p>\n<p>Any possible solution would be greatly appreciated. Thanks</p>\n<pre><code>public static void main(String[] args) {\n        SpringApplication.run(ApacheSparkApplication.class, args);\n        SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;SparkandOracledbTest&quot;).getOrCreate();\n        Dataset&lt;Row&gt; oracleDF = spark.read().format(&quot;oracle&quot;)\n                .option(&quot;adbId&quot;, &quot;jdbc:oracle:thin:@host:port/dbname&quot;)\n                .option(&quot;dbtable&quot;, &quot;owner.tablename&quot;)\n                                .option(&quot;user&quot;, &quot;user&quot;)\n                                .option(&quot;password&quot;, &quot;password&quot;)\n                .load();\n        oracleDF.show();\n\n2022-10-26 08:25:22.557  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@244c93d7{/metrics/json,null,AVAILABLE,@Spark}\n2022-10-26 08:25:22.765  WARN 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : URL.setURLStreamHandlerFactory failed to set FsUrlStreamHandlerFactory\n2022-10-26 08:25:22.766  INFO 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n2022-10-26 08:25:22.776  INFO 5448 --- [  restartedMain] o.apache.spark.sql.internal.SharedState  : Warehouse path is 'file:/C:/Vijay/csv/spark-warehouse'.\n2022-10-26 08:25:22.793  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@7b364643{/SQL,null,AVAILABLE,@Spark}\n2022-10-26 08:25:22.794  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@76e99147{/SQL/json,null,AVAILABLE,@Spark}\n2022-10-26 08:25:22.795  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@40a15ec9{/SQL/execution,null,AVAILABLE,@Spark}\n2022-10-26 08:25:22.796  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@d385186{/SQL/execution/json,null,AVAILABLE,@Spark}\n2022-10-26 08:25:22.798  INFO 5448 --- [  restartedMain] o.s.jetty.server.handler.ContextHandler  : Started o.s.j.s.ServletContextHandler@3fa6b59a{/static/sql,null,AVAILABLE,@Spark}\nException in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.NoClassDefFoundError: org/codehaus/janino/InternalCompilerException\n    at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSource(DataSource.scala:675)\n    at org.apache.spark.sql.execution.datasources.DataSource$.lookupDataSourceV2(DataSource.scala:725)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:207)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:171)\n    at com.spark.csv.ApacheSparkApplication.main(ApacheSparkApplication.java:34)\n    ... 5 more\nCaused by: java.lang.ClassNotFoundException: org.codehaus.janino.InternalCompilerException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 10 more\n</code></pre>\n<p>POM.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artif`actId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n       &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n       &lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/janino --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.janino/commons-compiler --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.oracle.ojdbc/ojdbc8 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1666782280,"post_id":74206593,"comment_id":131016056,"body_markdown":"You always print 14 stars, instead of input - `n`. Then fix your new lines and you will get the first required output. About the second, i advise you to make an attempt and then ask about what didn&#39;t work. As a second advice, learn to use your IDE&#39;s debugger to inspect the program flow, it makes finding errors much easier.","body":"You always print 14 stars, instead of input - <code>n</code>. Then fix your new lines and you will get the first required output. About the second, i advise you to make an attempt and then ask about what didn&#39;t work. As a second advice, learn to use your IDE&#39;s debugger to inspect the program flow, it makes finding errors much easier."}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666782485,"creation_date":1666782485,"answer_id":74206763,"question_id":74206593,"body_markdown":"`printStars` does not move to the next line after printing\r\n\r\nSo, when you call `printStars(15)` and `printStars(2)`, it will simply print 17 stars in 1 line\r\n\r\nUtilize `System.out.println()` to make a new line\r\n\r\n    void writeBox() {    \r\n\r\n        printStars(15);\r\n        System.out.println();\r\n        printStars(2);\r\n        System.out.print(&quot;Hello World&quot;);\r\n        printStars(2);\r\n        System.out.println();\r\n        printStars(15);\r\n\r\n    }\r\n\r\nIt is now unnecessary to have `println` and `\\n` in the `Hello World` statement\r\n\r\nAlso, make sure to change `i &lt;= 14` to `i &lt;= n` in `printStars`\r\n\r\n","title":"How to make a method to wrap text in stars?","body":"<p><code>printStars</code> does not move to the next line after printing</p>\n<p>So, when you call <code>printStars(15)</code> and <code>printStars(2)</code>, it will simply print 17 stars in 1 line</p>\n<p>Utilize <code>System.out.println()</code> to make a new line</p>\n<pre><code>void writeBox() {    \n\n    printStars(15);\n    System.out.println();\n    printStars(2);\n    System.out.print(&quot;Hello World&quot;);\n    printStars(2);\n    System.out.println();\n    printStars(15);\n\n}\n</code></pre>\n<p>It is now unnecessary to have <code>println</code> and <code>\\n</code> in the <code>Hello World</code> statement</p>\n<p>Also, make sure to change <code>i &lt;= 14</code> to <code>i &lt;= n</code> in <code>printStars</code></p>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784359,"creation_date":1666784359,"answer_id":74207140,"question_id":74206593,"body_markdown":"    public class StarWriter {\r\n        private static final int BORDER = 3;\r\n    \r\n        public static void main(String[] args) {\r\n            String text = &quot;Hello world!\\nI am here!&quot;;\r\n            String[] lines = text.split(&quot;\\n&quot;);\r\n    \r\n            int maxLength = 0;\r\n            for (String line : lines) if (line.length() &gt; maxLength) maxLength = line.length();\r\n            int fullLength = maxLength + BORDER * 2;\r\n    \r\n            StringBuilder builder = new StringBuilder();\r\n            String starsOnly = fill(fullLength, &#39;*&#39;) + &quot;\\n&quot;;\r\n            builder.append(starsOnly);\r\n            for (int i = BORDER; i &gt;= 1; i--) addStars(maxLength, builder, i);\r\n            for (int i = 1; i &lt;= BORDER; i++) addStars(maxLength, builder, i);\r\n            builder.append(starsOnly);\r\n            for (int i = 0; i &lt; lines.length; i++) {\r\n                String line = lines[i];\r\n                int index = (BORDER + i) * (fullLength + 1) + BORDER;\r\n                builder.replace(index, index + line.length(), line);\r\n            }\r\n    \r\n            String result = builder.toString();\r\n    \r\n            System.out.println(result);\r\n        }\r\n    \r\n        private static void addStars(int maxLength, StringBuilder result, int i) {\r\n            String stars = fill(i, &#39;*&#39;);\r\n            result.append(stars).append(fill(maxLength + (BORDER - i) * 2, &#39; &#39;)).append(stars).append(&quot;\\n&quot;);\r\n        }\r\n    \r\n        private static String fill(int amount, char c) {\r\n            return new String(new char[amount]).replaceAll(&quot;\\0&quot;, &quot;&quot; + c);\r\n        }\r\n    }\r\n\r\n","title":"How to make a method to wrap text in stars?","body":"<pre><code>public class StarWriter {\n    private static final int BORDER = 3;\n\n    public static void main(String[] args) {\n        String text = &quot;Hello world!\\nI am here!&quot;;\n        String[] lines = text.split(&quot;\\n&quot;);\n\n        int maxLength = 0;\n        for (String line : lines) if (line.length() &gt; maxLength) maxLength = line.length();\n        int fullLength = maxLength + BORDER * 2;\n\n        StringBuilder builder = new StringBuilder();\n        String starsOnly = fill(fullLength, '*') + &quot;\\n&quot;;\n        builder.append(starsOnly);\n        for (int i = BORDER; i &gt;= 1; i--) addStars(maxLength, builder, i);\n        for (int i = 1; i &lt;= BORDER; i++) addStars(maxLength, builder, i);\n        builder.append(starsOnly);\n        for (int i = 0; i &lt; lines.length; i++) {\n            String line = lines[i];\n            int index = (BORDER + i) * (fullLength + 1) + BORDER;\n            builder.replace(index, index + line.length(), line);\n        }\n\n        String result = builder.toString();\n\n        System.out.println(result);\n    }\n\n    private static void addStars(int maxLength, StringBuilder result, int i) {\n        String stars = fill(i, '*');\n        result.append(stars).append(fill(maxLength + (BORDER - i) * 2, ' ')).append(stars).append(&quot;\\n&quot;);\n    }\n\n    private static String fill(int amount, char c) {\n        return new String(new char[amount]).replaceAll(&quot;\\0&quot;, &quot;&quot; + c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666785797,"creation_date":1666785797,"answer_id":74207425,"question_id":74206593,"body_markdown":"There are a couple of problems.\r\n\r\n 1. Use the parameter argument in the `printStars` method (hardcoded to 14)\r\n 1. Emit new lines after each line and ONLY after each line\r\n 1. Pad the string with spaces where expected\r\n\r\nSo...\r\n\r\n    void printStars(int n) {\r\n      // changed to standard index handling (i.e. base-0)\r\n      for(int i = 0 ; i &lt; n ; i++) {\r\n        System.out.print(&quot;*&quot;);\r\n      }\r\n    }\r\n\r\n... and ... \r\n\r\n    void writeBox() {    \r\n      printStars(15);\r\n      System.out.println();\r\n\r\n      printStars(2);\r\n      // replace println with print, remove newline-character, pad with spaces\r\n      System.out.print(&quot; Hello World &quot;);\r\n      printStars(2);\r\n      System.out.println();\r\n\r\n      printStars(15);\r\n      System.out.println();\r\n    }\r\n\r\n","title":"How to make a method to wrap text in stars?","body":"<p>There are a couple of problems.</p>\n<ol>\n<li>Use the parameter argument in the <code>printStars</code> method (hardcoded to 14)</li>\n<li>Emit new lines after each line and ONLY after each line</li>\n<li>Pad the string with spaces where expected</li>\n</ol>\n<p>So...</p>\n<pre><code>void printStars(int n) {\n  // changed to standard index handling (i.e. base-0)\n  for(int i = 0 ; i &lt; n ; i++) {\n    System.out.print(&quot;*&quot;);\n  }\n}\n</code></pre>\n<p>... and ...</p>\n<pre><code>void writeBox() {    \n  printStars(15);\n  System.out.println();\n\n  printStars(2);\n  // replace println with print, remove newline-character, pad with spaces\n  System.out.print(&quot; Hello World &quot;);\n  printStars(2);\n  System.out.println();\n\n  printStars(15);\n  System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666787784,"creation_date":1666787784,"answer_id":74207891,"question_id":74206593,"body_markdown":"Since others are posting their work, I&#39;ll post mine.\r\n\r\nThe general way to solve any problem like this is to break it down into smaller and smaller steps until you can simply code each step.\r\n\r\nWhat I did was break the problem down this way.  \r\n\r\n1. Determine if I want the simple stars or the fancy stars.\r\n2. Write a method to create a line of a character, either a star or a blank.\r\n3. Write a method to create the simple stars.\r\n4. Test the code\r\n5. Write a method to create the fancy stars.\r\n6. Test the code.\r\n\r\nI used the `StringBuilder` class extensively because the `append` method can take characters, strings, and other `StringBuilder` instances as input.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    /*\r\n     * The purpose of the class is to write text inside a box, like this:\r\n     * \r\n     * ******************* \r\n     * ** Hello, World! ** \r\n     * *******************\r\n     * \r\n     * The fancyWrap flag, when true, will produce a fancier star wrap, like this:\r\n     * \r\n     * ******************* \r\n     * ***             *** \r\n     * **               ** \r\n     * *  Hello, World!  * \r\n     * **               ** \r\n     * ***             *** \r\n     * *******************\r\n     */\r\n    \r\n    public class StarWrap {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString output = new StarWrap(true).wrapStars(&quot;Hello World!&quot;);\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    \r\n    \tprivate final boolean isFancyWrap;\r\n    \r\n    \tpublic StarWrap(boolean isFancyWrap) {\r\n    \t\tthis.isFancyWrap = isFancyWrap;\r\n    \t}\r\n    \r\n    \tpublic String wrapStars(String text) {\r\n    \t\tif (isFancyWrap) {\r\n    \t\t\treturn fancyWrap(text);\r\n    \t\t} else {\r\n    \t\t\treturn simpleWrap(text);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate String fancyWrap(String text) {\r\n    \t\tint length = text.length() + 6;\r\n    \t\tchar star = &#39;*&#39;;\r\n    \t\tchar blank = &#39; &#39;;\r\n    \r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(createLine(length, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(3, star));\r\n    \t\tbuilder.append(createLine(text.length(), blank));\r\n    \t\tbuilder.append(createLine(3, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(createLine(text.length() + 2, blank));\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(star);\r\n    \t\tbuilder.append(createLine(2, blank));\r\n    \t\tbuilder.append(text);\r\n    \t\tbuilder.append(createLine(2, blank));\r\n    \t\tbuilder.append(star);\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(createLine(text.length() + 2, blank));\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(3, star));\r\n    \t\tbuilder.append(createLine(text.length(), blank));\r\n    \t\tbuilder.append(createLine(3, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(length, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    \tprivate String simpleWrap(String text) {\r\n    \t\tint length = text.length() + 6;\r\n    \t\tchar star = &#39;*&#39;;\r\n    \t\tchar blank = &#39; &#39;;\r\n    \r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(createLine(length, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(blank);\r\n    \t\tbuilder.append(text);\r\n    \t\tbuilder.append(blank);\r\n    \t\tbuilder.append(createLine(2, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \t\tbuilder.append(createLine(length, star));\r\n    \t\tbuilder.append(System.lineSeparator());\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    \tprivate StringBuilder createLine(int length, char c) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \r\n    \t\tfor (int index = 0; index &lt; length; index++) {\r\n    \t\t\tbuilder.append(c);\r\n    \t\t}\r\n    \r\n    \t\treturn builder;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to make a method to wrap text in stars?","body":"<p>Since others are posting their work, I'll post mine.</p>\n<p>The general way to solve any problem like this is to break it down into smaller and smaller steps until you can simply code each step.</p>\n<p>What I did was break the problem down this way.</p>\n<ol>\n<li>Determine if I want the simple stars or the fancy stars.</li>\n<li>Write a method to create a line of a character, either a star or a blank.</li>\n<li>Write a method to create the simple stars.</li>\n<li>Test the code</li>\n<li>Write a method to create the fancy stars.</li>\n<li>Test the code.</li>\n</ol>\n<p>I used the <code>StringBuilder</code> class extensively because the <code>append</code> method can take characters, strings, and other <code>StringBuilder</code> instances as input.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>/*\n * The purpose of the class is to write text inside a box, like this:\n * \n * ******************* \n * ** Hello, World! ** \n * *******************\n * \n * The fancyWrap flag, when true, will produce a fancier star wrap, like this:\n * \n * ******************* \n * ***             *** \n * **               ** \n * *  Hello, World!  * \n * **               ** \n * ***             *** \n * *******************\n */\n\npublic class StarWrap {\n\n    public static void main(String[] args) {\n        String output = new StarWrap(true).wrapStars(&quot;Hello World!&quot;);\n        System.out.println(output);\n    }\n\n    private final boolean isFancyWrap;\n\n    public StarWrap(boolean isFancyWrap) {\n        this.isFancyWrap = isFancyWrap;\n    }\n\n    public String wrapStars(String text) {\n        if (isFancyWrap) {\n            return fancyWrap(text);\n        } else {\n            return simpleWrap(text);\n        }\n    }\n\n    private String fancyWrap(String text) {\n        int length = text.length() + 6;\n        char star = '*';\n        char blank = ' ';\n\n        StringBuilder builder = new StringBuilder();\n        builder.append(createLine(length, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(3, star));\n        builder.append(createLine(text.length(), blank));\n        builder.append(createLine(3, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(2, star));\n        builder.append(createLine(text.length() + 2, blank));\n        builder.append(createLine(2, star));\n        builder.append(System.lineSeparator());\n        builder.append(star);\n        builder.append(createLine(2, blank));\n        builder.append(text);\n        builder.append(createLine(2, blank));\n        builder.append(star);\n        builder.append(System.lineSeparator());\n        builder.append(createLine(2, star));\n        builder.append(createLine(text.length() + 2, blank));\n        builder.append(createLine(2, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(3, star));\n        builder.append(createLine(text.length(), blank));\n        builder.append(createLine(3, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(length, star));\n        builder.append(System.lineSeparator());\n\n        return builder.toString();\n    }\n\n    private String simpleWrap(String text) {\n        int length = text.length() + 6;\n        char star = '*';\n        char blank = ' ';\n\n        StringBuilder builder = new StringBuilder();\n        builder.append(createLine(length, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(2, star));\n        builder.append(blank);\n        builder.append(text);\n        builder.append(blank);\n        builder.append(createLine(2, star));\n        builder.append(System.lineSeparator());\n        builder.append(createLine(length, star));\n        builder.append(System.lineSeparator());\n\n        return builder.toString();\n    }\n\n    private StringBuilder createLine(int length, char c) {\n        StringBuilder builder = new StringBuilder();\n\n        for (int index = 0; index &lt; length; index++) {\n            builder.append(c);\n        }\n\n        return builder;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26737237,"reputation":1,"user_id":20338616,"display_name":"quiznakinghumans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":4,"score":-4,"last_activity_date":1666787784,"creation_date":1666781614,"question_id":74206593,"body_markdown":"My goal is to add a method printStars to the program that prints a line of stars and use this method in the existing method write to print Hello, World! in a box made of stars, like so:\r\n```\r\n******************* \r\n** Hello, World! ** \r\n*******************\r\n```\r\n\r\nI have the following code for now but it just prints a line above and below the Hello World.\r\nI&#39;d also want to have a case where it outputs the following:\r\n```\r\n******************* \r\n***             *** \r\n**               ** \r\n*  Hello, World!  * \r\n**               ** \r\n***             *** \r\n*******************\r\n```\r\nHave this code for now but it doesn&#39;t really wrap the String &quot;Hello, World&quot;. It just prints a line of stars above and below.\r\n```\r\npublic class StarWriter {\r\n    /**\r\n     * yk prints stars\r\n     */\r\n    void printStars(int n) {\r\n        for(int i=1; i &lt;= 14; i++) {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Say hello\r\n     */\r\n    void writeBox() {    \r\n\r\n        printStars(15);\r\n        printStars(2);\r\n        System.out.println(&quot;\\nHello World&quot;);\r\n        printStars(2);\r\n        printStars(15);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new StarWriter().writeBox();\r\n    }\r\n}\r\n```\r\n","title":"How to make a method to wrap text in stars?","body":"<p>My goal is to add a method printStars to the program that prints a line of stars and use this method in the existing method write to print Hello, World! in a box made of stars, like so:</p>\n<pre><code>******************* \n** Hello, World! ** \n*******************\n</code></pre>\n<p>I have the following code for now but it just prints a line above and below the Hello World.\nI'd also want to have a case where it outputs the following:</p>\n<pre><code>******************* \n***             *** \n**               ** \n*  Hello, World!  * \n**               ** \n***             *** \n*******************\n</code></pre>\n<p>Have this code for now but it doesn't really wrap the String &quot;Hello, World&quot;. It just prints a line of stars above and below.</p>\n<pre><code>public class StarWriter {\n    /**\n     * yk prints stars\n     */\n    void printStars(int n) {\n        for(int i=1; i &lt;= 14; i++) {\n            System.out.print(&quot;*&quot;);\n        }\n    }\n\n    /**\n     * Say hello\n     */\n    void writeBox() {    \n\n        printStars(15);\n        printStars(2);\n        System.out.println(&quot;\\nHello World&quot;);\n        printStars(2);\n        printStars(15);\n\n    }\n\n    public static void main(String[] args) {\n        new StarWriter().writeBox();\n    }\n}\n</code></pre>\n"},{"tags":["java","methods","unary-operator"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1666786496,"post_id":74207586,"comment_id":131017460,"body_markdown":"It works the same way as with any other `boolean` value. And your method `put` returns a `boolean`","body":"It works the same way as with any other <code>boolean</code> value. And your method <code>put</code> returns a <code>boolean</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1666786729,"post_id":74207586,"comment_id":131017554,"body_markdown":"`put` returns a boolean. If the index is not ok (based on `indexOK`), the method returns false. In those cases, `if(!fs.put(...))` evaluates to `if(!false)`, which is the same as `if(true)`, thus executing the `System.out.println` statement.","body":"<code>put</code> returns a boolean. If the index is not ok (based on <code>indexOK</code>), the method returns false. In those cases, <code>if(!fs.put(...))</code> evaluates to <code>if(!false)</code>, which is the same as <code>if(true)</code>, thus executing the <code>System.out.println</code> statement."}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666787752,"creation_date":1666787752,"answer_id":74207881,"question_id":74207586,"body_markdown":"The `put` function of `FailSoftArray` returns a `boolean` value `true`/`false` whether it was able to successfully `put` the new value `val` at index `index` within array `a`\r\n\r\nThe `!` signifies a logical `NOT`\r\n\r\nBy using `if(!fs.put(i, i*10))`, you are effectively telling the compiler \r\n\r\n    if(put was NOT able to place i*10 at index i)\r\n        System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\r\n\r\nLeaving the `!` out would be like saying \r\n\r\n    if(put succeeded)\r\n        //Print error\r\n\r\nwhich is obviously not intended","title":"How the &#39;NOT&#39; operator(!) works when used with methods in Java?","body":"<p>The <code>put</code> function of <code>FailSoftArray</code> returns a <code>boolean</code> value <code>true</code>/<code>false</code> whether it was able to successfully <code>put</code> the new value <code>val</code> at index <code>index</code> within array <code>a</code></p>\n<p>The <code>!</code> signifies a logical <code>NOT</code></p>\n<p>By using <code>if(!fs.put(i, i*10))</code>, you are effectively telling the compiler</p>\n<pre><code>if(put was NOT able to place i*10 at index i)\n    System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\n</code></pre>\n<p>Leaving the <code>!</code> out would be like saying</p>\n<pre><code>if(put succeeded)\n    //Print error\n</code></pre>\n<p>which is obviously not intended</p>\n"}],"owner":{"account_id":26599940,"reputation":1,"user_id":20221728,"display_name":"b3jf"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1666817780,"accepted_answer_id":74207881,"answer_count":1,"score":-4,"last_activity_date":1666787752,"creation_date":1666786435,"question_id":74207586,"body_markdown":"This is an example of using access modifiers to avoid generating exceptions:\r\n\r\n\r\n```java\r\nclass FailSoftArray {\r\n    private int a[];\r\n    private int errval;\r\n    public int length;\r\n\r\n    public FailSoftArray(int size, int errv) {\r\n        a = new int[size];\r\n        errval = errv;\r\n        length = size;\r\n    }\r\n\r\n    public int get(int index) {\r\n        if(indexOK(index)) return a[index];\r\n        return errval;\r\n    }\r\n\r\n    public boolean put(int index, int val) {\r\n        if(indexOK(index)) {\r\n            a[index] = val;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    private boolean indexOK(int index) {\r\n        if(index &gt;= 0 &amp; index &lt; length) return true;\r\n        return false;\r\n    }\r\n}\r\n\r\npublic class TestMethod {\r\n    public static void main(String[] args) {\r\n        FailSoftArray333 fs = new FailSoftArray(5, -1);\r\n        int x;\r\n\r\n        System.out.println(&quot;\\nError access message.&quot;);\r\n        for(int i = 0; i &lt; (fs.length * 2); i++)\r\n            if(!fs.put(i, i*10))\r\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\r\n\r\n        for(int i =0; i &lt; (fs.length * 2); i++) {\r\n            x = fs.get(i);\r\n            if(x != -1) System.out.print(x + &quot; &quot;);\r\n            else\r\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t understand why in this case I have to use the operator (!) for the code to work correctly:\r\n\r\n```java\r\n        System.out.println(&quot;\\nError access message.&quot;);\r\n        for(int i = 0; i &lt; (fs.length * 2); i++)\r\n            if(!fs.put(i, i*10))\r\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\r\n```\r\n\r\n\r\nWhen I print it with (!) the results are what you would expect:\r\n\r\n```\r\nError access message..\r\nIndex 5 outside the range of the array\r\nIndex 6 outside the range of the array\r\nIndex 7 outside the range of the array\r\nIndex 8 outside the range of the array\r\nIndex 9 outside the range of the array\r\n0 10 20 30 40 Index 5 outside the range of the array\r\nIndex 6 outside the range of the array\r\nIndex 7 outside the range of the array\r\nIndex 8 outside the range of the array\r\nIndex 9 outside the range of the array\r\n```\r\n\r\nWithout (!):\r\n\r\n```\r\nError access message..\r\nIndex 0 outside the range of the array\r\nIndex 1 outside the range of the array\r\nIndex 2 outside the range of the array\r\nIndex 3 outside the range of the array\r\nIndex 4 outside the range of the array\r\n0 10 20 30 40 Index 5 outside the range of the array\r\nIndex 6 outside the range of the array\r\nIndex 7 outside the range of the array\r\nIndex 8 outside the range of the array\r\nIndex 9 outside the range of the array\r\n```\r\n\r\nCan someone explain to me how exactly the operator (!) works in this case? Why is it needed and how does it affect the method?","title":"How the &#39;NOT&#39; operator(!) works when used with methods in Java?","body":"<p>This is an example of using access modifiers to avoid generating exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FailSoftArray {\n    private int a[];\n    private int errval;\n    public int length;\n\n    public FailSoftArray(int size, int errv) {\n        a = new int[size];\n        errval = errv;\n        length = size;\n    }\n\n    public int get(int index) {\n        if(indexOK(index)) return a[index];\n        return errval;\n    }\n\n    public boolean put(int index, int val) {\n        if(indexOK(index)) {\n            a[index] = val;\n            return true;\n        }\n        return false;\n    }\n    private boolean indexOK(int index) {\n        if(index &gt;= 0 &amp; index &lt; length) return true;\n        return false;\n    }\n}\n\npublic class TestMethod {\n    public static void main(String[] args) {\n        FailSoftArray333 fs = new FailSoftArray(5, -1);\n        int x;\n\n        System.out.println(&quot;\\nError access message.&quot;);\n        for(int i = 0; i &lt; (fs.length * 2); i++)\n            if(!fs.put(i, i*10))\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\n\n        for(int i =0; i &lt; (fs.length * 2); i++) {\n            x = fs.get(i);\n            if(x != -1) System.out.print(x + &quot; &quot;);\n            else\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I don't understand why in this case I have to use the operator (!) for the code to work correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        System.out.println(&quot;\\nError access message.&quot;);\n        for(int i = 0; i &lt; (fs.length * 2); i++)\n            if(!fs.put(i, i*10))\n                System.out.println(&quot;Index &quot; + i + &quot; outside the range of the array&quot;);\n</code></pre>\n<p>When I print it with (!) the results are what you would expect:</p>\n<pre><code>Error access message..\nIndex 5 outside the range of the array\nIndex 6 outside the range of the array\nIndex 7 outside the range of the array\nIndex 8 outside the range of the array\nIndex 9 outside the range of the array\n0 10 20 30 40 Index 5 outside the range of the array\nIndex 6 outside the range of the array\nIndex 7 outside the range of the array\nIndex 8 outside the range of the array\nIndex 9 outside the range of the array\n</code></pre>\n<p>Without (!):</p>\n<pre><code>Error access message..\nIndex 0 outside the range of the array\nIndex 1 outside the range of the array\nIndex 2 outside the range of the array\nIndex 3 outside the range of the array\nIndex 4 outside the range of the array\n0 10 20 30 40 Index 5 outside the range of the array\nIndex 6 outside the range of the array\nIndex 7 outside the range of the array\nIndex 8 outside the range of the array\nIndex 9 outside the range of the array\n</code></pre>\n<p>Can someone explain to me how exactly the operator (!) works in this case? Why is it needed and how does it affect the method?</p>\n"},{"tags":["java","sql-server","spring-data-jpa"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1666605644,"post_id":74178530,"comment_id":130968710,"body_markdown":"What are you using to log traces? Could the logging in Application A only flush periodically?","body":"What are you using to log traces? Could the logging in Application A only flush periodically?"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1666607408,"post_id":74178530,"comment_id":130969258,"body_markdown":"@AlwaysLearning I use SQL Server Profiler to log traces. Will check the flush config.","body":"@AlwaysLearning I use SQL Server Profiler to log traces. Will check the flush config."}],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666787740,"creation_date":1666625998,"answer_id":74183605,"question_id":74178530,"body_markdown":"The issue was the following [@Transactional pitfall](https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth#transactional-pitfalls): the service which used the save method was annotated with `@Transactional`, so all the methods where transactional, like in the following snippet\r\n\r\n    @Transactional\r\n    void myMethod(Long id) {\r\n        DTO dto = myService.findById(id);\r\n        //modifying the dto...\r\n        myService.save(dto);\r\n        myFeignClient.callApplicationB(id);\r\n    }\r\n\r\nI changed the code in the following way\r\n\r\n    void myMethod(Long id) {\r\n        myTransactionalMethod(id);\r\n        myFeignClient.callApplicationB(id);\r\n    }\r\n\r\n\r\n    @Transactional\r\n    void myTransactionalMethod(Long id) {\r\n        DTO dto = myService.findById(id);\r\n        //modifying the dto...\r\n        myService.save(dto);\r\n    }\r\n\r\nAnother solution, if one wants to keep the same transactional boundaries, is to pass the whole dto to the application B, and return it modified:\r\n\r\n    @Transactional\r\n    void myMethod(Long id) {\r\n        DTO dto = myService.findById(id);\r\n        //modifying the dto...\r\n        dto = myFeignClient.callApplicationB(dto);\r\n        myService.save(dto);\r\n    }\r\n\r\nEDIT: I will try to clarify the logic behind the transactions. The old logic was the following:\r\n\r\n* application A opens a (physical) transactions A1 and edits the dto;\r\n* application A opens a (logical) transaction A2 inside the transaction A1 and saves the dto;\r\n* application A closes the transaction A2: the edits are not committed to db as the A1 transaction is still open;\r\n* application A calls application B;\r\n* application B opens a (physical) transactions B1 and edits the dto;\r\n* application B opens a (logical) transaction B2 inside the transaction B1 and saves the dto;\r\n* application B closes the transaction B2;\r\n* application B replies to application A and closes the transaction B1: the changes made by B are committed to db;\r\n* application A receives the response and closes the transaction A1: the changes made by A overwrite the changes made by B.\r\n\r\nIn the solution, the transaction A1 is closed before the call to application B, so the changes made by A are committed before any change made by B.","title":"Second update is executed before the first","body":"<p>The issue was the following <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth#transactional-pitfalls\" rel=\"nofollow noreferrer\">@Transactional pitfall</a>: the service which used the save method was annotated with <code>@Transactional</code>, so all the methods where transactional, like in the following snippet</p>\n<pre><code>@Transactional\nvoid myMethod(Long id) {\n    DTO dto = myService.findById(id);\n    //modifying the dto...\n    myService.save(dto);\n    myFeignClient.callApplicationB(id);\n}\n</code></pre>\n<p>I changed the code in the following way</p>\n<pre><code>void myMethod(Long id) {\n    myTransactionalMethod(id);\n    myFeignClient.callApplicationB(id);\n}\n\n\n@Transactional\nvoid myTransactionalMethod(Long id) {\n    DTO dto = myService.findById(id);\n    //modifying the dto...\n    myService.save(dto);\n}\n</code></pre>\n<p>Another solution, if one wants to keep the same transactional boundaries, is to pass the whole dto to the application B, and return it modified:</p>\n<pre><code>@Transactional\nvoid myMethod(Long id) {\n    DTO dto = myService.findById(id);\n    //modifying the dto...\n    dto = myFeignClient.callApplicationB(dto);\n    myService.save(dto);\n}\n</code></pre>\n<p>EDIT: I will try to clarify the logic behind the transactions. The old logic was the following:</p>\n<ul>\n<li>application A opens a (physical) transactions A1 and edits the dto;</li>\n<li>application A opens a (logical) transaction A2 inside the transaction A1 and saves the dto;</li>\n<li>application A closes the transaction A2: the edits are not committed to db as the A1 transaction is still open;</li>\n<li>application A calls application B;</li>\n<li>application B opens a (physical) transactions B1 and edits the dto;</li>\n<li>application B opens a (logical) transaction B2 inside the transaction B1 and saves the dto;</li>\n<li>application B closes the transaction B2;</li>\n<li>application B replies to application A and closes the transaction B1: the changes made by B are committed to db;</li>\n<li>application A receives the response and closes the transaction A1: the changes made by A overwrite the changes made by B.</li>\n</ul>\n<p>In the solution, the transaction A1 is closed before the call to application B, so the changes made by A are committed before any change made by B.</p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74183605,"answer_count":1,"score":0,"last_activity_date":1666787740,"creation_date":1666600810,"question_id":74178530,"body_markdown":"I&#39;m using Spring Data JPA in a microservice architecture. I have a simple (actually it uses generics, but for the sake of simplicity, let&#39;s assume this is equivalent) save method in MyService, which is in a shared library between the two applications:\r\n\r\n    @SneakyThrows\r\n    @Transactional\r\n    public DTO save(DTO dto) {\r\n    \tMyEntity entity = Optional\r\n    \t\t.ofNullable(dto.getId())\r\n    \t\t.flatMap(repository::findById)\r\n    \t\t.orElse(new MyEntity());\r\n    \tmodelMapper.map(dto, entity);\r\n    \treturn modelMapper.map(repository.save(entity), DTO.class);\r\n    }\r\n\r\nwhere repository is a JpaRepository. So far, so good. I have two Spring applications; the application A does some stuff, saves an entity and then calls application B, in the following manner:\r\n\r\n    DTO dto = myService.findById(id);\r\n    //modifying the dto...\r\n    myService.save(dto);\r\n    myFeignClient.callApplicationB(id);\r\n\r\nThe structure behind the application B is similar (find, edit, save), yet logging a trace on the db (I use SQL Server, 2016 or 2019 behave the same) I see that the second update (the one by the application B) is executed before the &quot;first&quot; one (the one by the application A). Am I missing a obvious configuration or should I search the issue elsewhere?","title":"Second update is executed before the first","body":"<p>I'm using Spring Data JPA in a microservice architecture. I have a simple (actually it uses generics, but for the sake of simplicity, let's assume this is equivalent) save method in MyService, which is in a shared library between the two applications:</p>\n<pre><code>@SneakyThrows\n@Transactional\npublic DTO save(DTO dto) {\n    MyEntity entity = Optional\n        .ofNullable(dto.getId())\n        .flatMap(repository::findById)\n        .orElse(new MyEntity());\n    modelMapper.map(dto, entity);\n    return modelMapper.map(repository.save(entity), DTO.class);\n}\n</code></pre>\n<p>where repository is a JpaRepository. So far, so good. I have two Spring applications; the application A does some stuff, saves an entity and then calls application B, in the following manner:</p>\n<pre><code>DTO dto = myService.findById(id);\n//modifying the dto...\nmyService.save(dto);\nmyFeignClient.callApplicationB(id);\n</code></pre>\n<p>The structure behind the application B is similar (find, edit, save), yet logging a trace on the db (I use SQL Server, 2016 or 2019 behave the same) I see that the second update (the one by the application B) is executed before the &quot;first&quot; one (the one by the application A). Am I missing a obvious configuration or should I search the issue elsewhere?</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1510585238,"post_id":47254907,"comment_id":81485197,"body_markdown":"Have you already checked out [Stephane Nicoll&#39;s repo](https://github.com/snicoll-scratches/test-spring-components-index), which goes through some test examples? These examples appear to utilize a [dependency in the pom](https://github.com/snicoll-scratches/test-spring-components-index/blob/master/sample-components-200/pom.xml) to build this index based on the annotated `@Components`","body":"Have you already checked out <a href=\"https://github.com/snicoll-scratches/test-spring-components-index\" rel=\"nofollow noreferrer\">Stephane Nicoll&#39;s repo</a>, which goes through some test examples? These examples appear to utilize a <a href=\"https://github.com/snicoll-scratches/test-spring-components-index/blob/master/sample-components-200/pom.xml\" rel=\"nofollow noreferrer\">dependency in the pom</a> to build this index based on the annotated <code>@Components</code>"},{"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"score":1,"creation_date":1510661330,"post_id":47254907,"comment_id":81520775,"body_markdown":"Ah, no, I&#39;d not found that - Thanks, I&#39;ll have a look!","body":"Ah, no, I&#39;d not found that - Thanks, I&#39;ll have a look!"},{"owner":{"account_id":328052,"reputation":7064,"user_id":650784,"accept_rate":57,"display_name":"Zipper"},"score":1,"creation_date":1511892445,"post_id":47254907,"comment_id":82033254,"body_markdown":"Did you have any luck with it? I tried including the spring-context-indexer in my pom, but didn&#39;t see any difference at all in loading time, and I didn&#39;t see a index file created. So far I haven&#39;t been able to get this working","body":"Did you have any luck with it? I tried including the spring-context-indexer in my pom, but didn&#39;t see any difference at all in loading time, and I didn&#39;t see a index file created. So far I haven&#39;t been able to get this working"},{"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"score":0,"creation_date":1512006175,"post_id":47254907,"comment_id":82087247,"body_markdown":"Haven&#39;t gotten back to it yet sorry - I&#39;ll be sure to report back if/when I do.","body":"Haven&#39;t gotten back to it yet sorry - I&#39;ll be sure to report back if/when I do."},{"owner":{"account_id":140345,"reputation":872,"user_id":346588,"display_name":"bh5k"},"score":0,"creation_date":1513521356,"post_id":47254907,"comment_id":82676395,"body_markdown":"@Zipper it worked great for me. It is attached to a Maven goal, specifically the package goal, so all I had to do was run mvn package and it created my index file.","body":"@Zipper it worked great for me. It is attached to a Maven goal, specifically the package goal, so all I had to do was run mvn package and it created my index file."},{"owner":{"account_id":328052,"reputation":7064,"user_id":650784,"accept_rate":57,"display_name":"Zipper"},"score":0,"creation_date":1513610919,"post_id":47254907,"comment_id":82708445,"body_markdown":"Ok thanks, maybe that was my problem, I&#39;m not sure when running in dev mode if it actually runs package","body":"Ok thanks, maybe that was my problem, I&#39;m not sure when running in dev mode if it actually runs package"},{"owner":{"account_id":1474133,"reputation":550,"user_id":1384975,"display_name":"otterslide"},"score":0,"creation_date":1515870681,"post_id":47254907,"comment_id":83469180,"body_markdown":"Hardly any documentation exists for this. The file created is in WEB-INF/classes/META-INF/spring.components  in the resulting war file using the maven War plugin.  If you have an incomplete index, you will get a bean not found error. I have multiple modules dependent on each other and it is not scanning/indexing the dependent modules, so I get an error at startup.","body":"Hardly any documentation exists for this. The file created is in WEB-INF/classes/META-INF/spring.components  in the resulting war file using the maven War plugin.  If you have an incomplete index, you will get a bean not found error. I have multiple modules dependent on each other and it is not scanning/indexing the dependent modules, so I get an error at startup."}],"answers":[{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1525547998,"creation_date":1516729883,"answer_id":48407939,"question_id":47254907,"body_markdown":"**Spring 5** Has added a new feature to improve startup performance of large applications.\r\n\r\n*it creates a list of component candidates at compilation time.* \r\n\r\nIn this mode, all modules of the application must use this mechanism as, when the ApplicationContext detects such index, it will automatically use it rather than scanning the classpath.\r\n\r\n\r\n**To generate the index,**  we just need to add below dependency to each module \r\n\r\n**Maven:** \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**Gradle** \r\n\r\n    dependencies {\r\n        compileOnly(&quot;org.springframework:spring-context-indexer:5.0.3.RELEASE&quot;)\r\n    }\r\n\r\n\r\nThis process will generate a **META-INF/spring.components** file that is going to be included in the jar.\r\n\r\n\r\nReference : [1.10.9. Generating an index of candidate components][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-scanning-index","title":"How can I create a Spring 5 component index?","body":"<p><strong>Spring 5</strong> Has added a new feature to improve startup performance of large applications.</p>\n\n<p><em>it creates a list of component candidates at compilation time.</em> </p>\n\n<p>In this mode, all modules of the application must use this mechanism as, when the ApplicationContext detects such index, it will automatically use it rather than scanning the classpath.</p>\n\n<p><strong>To generate the index,</strong>  we just need to add below dependency to each module </p>\n\n<p><strong>Maven:</strong> </p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n        &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>Gradle</strong> </p>\n\n<pre><code>dependencies {\n    compileOnly(\"org.springframework:spring-context-indexer:5.0.3.RELEASE\")\n}\n</code></pre>\n\n<p>This process will generate a <strong>META-INF/spring.components</strong> file that is going to be included in the jar.</p>\n\n<p>Reference : <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-scanning-index\" rel=\"noreferrer\">1.10.9. Generating an index of candidate components</a></p>\n"},{"tags":[],"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1553183233,"creation_date":1527070273,"answer_id":50485603,"question_id":47254907,"body_markdown":"The `META-INF/spring.components` files are generated by an annotation processor library called `spring-context-indexer`. If you add this library as &quot;annotation processor path&quot; to the maven-compiler-plugin, the files will be generated automatically at build time:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n        ...\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis setup requires maven-compiler-plugin version 3.5 or greater.\r\n\r\nSee also: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths\r\n\r\n","title":"How can I create a Spring 5 component index?","body":"<p>The <code>META-INF/spring.components</code> files are generated by an annotation processor library called <code>spring-context-indexer</code>. If you add this library as \"annotation processor path\" to the maven-compiler-plugin, the files will be generated automatically at build time:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;\n        &lt;version&gt;5.0.6.RELEASE&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n    ...\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This setup requires maven-compiler-plugin version 3.5 or greater.</p>\n\n<p>See also: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#annotationProcessorPaths</a></p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666787213,"creation_date":1666787213,"answer_id":74207778,"question_id":47254907,"body_markdown":"Kotlin + Maven:\r\n\r\nTo generate the Spring Component Index when building with Maven and Kotlin:\r\n\r\nKotlin Maven Plugin includes Kapt - Kotlin Annotation Processing Tool. It has a goal `kapt` which needs to execute before `compile` (it uses the sources, not the bytecode. \r\n\r\nSee  also:\r\n* https://kotlinlang.org/docs/kapt.html#using-in-maven \r\n* https://maven.apache.org/ref/3.8.6/maven-core/lifecycles.html\r\n\r\nI put the execution into a profile, so that I can get rid of this if not needed.\r\n\r\n    mvn install -PcreateSpringComponentIndex\r\n\r\nImportant: You need to keep this updated for each compilation as a matter of habit, otherwise Spring won&#39;t pick the new(ly) annotated classes as components! That also means, that if skipping the generation, you need to `mvn clean`.\r\n\r\nImportant: When using &quot;shading&quot; (putting all classes and resources into a single flat jar), the files `META-INF/spring.components` need to be merged! Otherwise one of them will be picked randomly and Spring won&#39;t detect any other components. (It&#39;s better to avoid shading and pack the dependencies as JARs within a JAR).\r\n\r\nExample:\r\n\r\n\r\n        &lt;!-- May speed up the app boot by a couple of seconds. See https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-index --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;createSpringComponentIndex&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;&lt;execution&gt;&lt;id&gt;kapt&lt;/id&gt;&lt;goals&gt;&lt;goal&gt;kapt&lt;/goal&gt;&lt;/goals&gt;&lt;phase&gt;process-classes&lt;/phase&gt;&lt;/execution&gt;&lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;&lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;&lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;&lt;/sourceDirs&gt;\r\n                            &lt;annotationProcessorPaths&gt;\r\n                                &lt;annotationProcessorPath&gt;&lt;groupId&gt;org.springframework&lt;/groupId&gt;&lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;&lt;version&gt;5.3.23&lt;/version&gt;&lt;/annotationProcessorPath&gt;\r\n                            &lt;/annotationProcessorPaths&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;&lt;groupId&gt;org.springframework&lt;/groupId&gt;&lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;&lt;version&gt;5.3.23&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n","title":"How can I create a Spring 5 component index?","body":"<p>Kotlin + Maven:</p>\n<p>To generate the Spring Component Index when building with Maven and Kotlin:</p>\n<p>Kotlin Maven Plugin includes Kapt - Kotlin Annotation Processing Tool. It has a goal <code>kapt</code> which needs to execute before <code>compile</code> (it uses the sources, not the bytecode.</p>\n<p>See  also:</p>\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/kapt.html#using-in-maven\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/kapt.html#using-in-maven</a></li>\n<li><a href=\"https://maven.apache.org/ref/3.8.6/maven-core/lifecycles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/ref/3.8.6/maven-core/lifecycles.html</a></li>\n</ul>\n<p>I put the execution into a profile, so that I can get rid of this if not needed.</p>\n<pre><code>mvn install -PcreateSpringComponentIndex\n</code></pre>\n<p>Important: You need to keep this updated for each compilation as a matter of habit, otherwise Spring won't pick the new(ly) annotated classes as components! That also means, that if skipping the generation, you need to <code>mvn clean</code>.</p>\n<p>Important: When using &quot;shading&quot; (putting all classes and resources into a single flat jar), the files <code>META-INF/spring.components</code> need to be merged! Otherwise one of them will be picked randomly and Spring won't detect any other components. (It's better to avoid shading and pack the dependencies as JARs within a JAR).</p>\n<p>Example:</p>\n<pre><code>    &lt;!-- May speed up the app boot by a couple of seconds. See https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-index --&gt;\n    &lt;profile&gt;\n        &lt;id&gt;createSpringComponentIndex&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;&lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;executions&gt;&lt;execution&gt;&lt;id&gt;kapt&lt;/id&gt;&lt;goals&gt;&lt;goal&gt;kapt&lt;/goal&gt;&lt;/goals&gt;&lt;phase&gt;process-classes&lt;/phase&gt;&lt;/execution&gt;&lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;&lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;&lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;&lt;/sourceDirs&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;annotationProcessorPath&gt;&lt;groupId&gt;org.springframework&lt;/groupId&gt;&lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;&lt;version&gt;5.3.23&lt;/version&gt;&lt;/annotationProcessorPath&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;&lt;groupId&gt;org.springframework&lt;/groupId&gt;&lt;artifactId&gt;spring-context-indexer&lt;/artifactId&gt;&lt;version&gt;5.3.23&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/profile&gt;\n</code></pre>\n"}],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15357,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":48407939,"answer_count":3,"score":22,"last_activity_date":1666787213,"creation_date":1510527168,"question_id":47254907,"body_markdown":"Spring Framework 5 apparently contains support for a &quot;component index&quot; which lives in META-INF/spring.components and can be used to avoid the need for class-path scanning, and thus, I assume, improve a webapps&#39; startup time.\r\n\r\nSee:\r\n\r\n* [The &quot;what&#39;s new in spring 5&quot; mention](https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-5.x#core-container)\r\n* [The jira issue under which the support was developed](https://jira.spring.io/browse/SPR-11890)\r\n* [Some examples of what the spring.components format seems to be from the change implementing it](https://github.com/snicoll/spring-framework/commit/dc160f6fd1f3623bf14b375c14a9b5065e660377#diff-db99676db08a87a6c93199c9c597e774)\r\n\r\nHow can I create such a component index for an existing web app I plan to upgrade to Spring 5?\r\n\r\n(Ideally it would get generated automatically at build time with Maven I imagine, but any other workable approaches would at least give me a starting point to work from)","title":"How can I create a Spring 5 component index?","body":"<p>Spring Framework 5 apparently contains support for a \"component index\" which lives in META-INF/spring.components and can be used to avoid the need for class-path scanning, and thus, I assume, improve a webapps' startup time.</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-5.x#core-container\" rel=\"noreferrer\">The \"what's new in spring 5\" mention</a></li>\n<li><a href=\"https://jira.spring.io/browse/SPR-11890\" rel=\"noreferrer\">The jira issue under which the support was developed</a></li>\n<li><a href=\"https://github.com/snicoll/spring-framework/commit/dc160f6fd1f3623bf14b375c14a9b5065e660377#diff-db99676db08a87a6c93199c9c597e774\" rel=\"noreferrer\">Some examples of what the spring.components format seems to be from the change implementing it</a></li>\n</ul>\n\n<p>How can I create such a component index for an existing web app I plan to upgrade to Spring 5?</p>\n\n<p>(Ideally it would get generated automatically at build time with Maven I imagine, but any other workable approaches would at least give me a starting point to work from)</p>\n"},{"tags":["java","docker","selenium","maven"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1666719205,"post_id":74197978,"comment_id":131001589,"body_markdown":"I have never come across of two FROM entries in a dockerfile. What does this mean?","body":"I have never come across of two FROM entries in a dockerfile. What does this mean?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1666719557,"post_id":74197978,"comment_id":131001684,"body_markdown":"You sure you have such a lot of whitespaces in this path `AdavencedLevel.QDPM-    0.0.1-SNAPSHOT-jar-with-dependencies.jar`?","body":"You sure you have such a lot of whitespaces in this path <code>AdavencedLevel.QDPM-    0.0.1-SNAPSHOT-jar-with-dependencies.jar</code>?"},{"owner":{"account_id":26699933,"reputation":1,"user_id":20307165,"display_name":"Mayank Mishra"},"score":0,"creation_date":1666720568,"post_id":74197978,"comment_id":131002007,"body_markdown":"Those whitespaces while pasting , I did some edit in question","body":"Those whitespaces while pasting , I did some edit in question"},{"owner":{"account_id":26699933,"reputation":1,"user_id":20307165,"display_name":"Mayank Mishra"},"score":0,"creation_date":1666720662,"post_id":74197978,"comment_id":131002023,"body_markdown":"Two from for use base image with linux with java, BTW I am a beginner then please suggest the best. Thanks!","body":"Two from for use base image with linux with java, BTW I am a beginner then please suggest the best. Thanks!"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666720954,"post_id":74197978,"comment_id":131002105,"body_markdown":"@MayankMishra, remove the first line `FROM ubuntu:18` because this makes no sense; your dockerfile can only be derived from one very image.","body":"@MayankMishra, remove the first line <code>FROM ubuntu:18</code> because this makes no sense; your dockerfile can only be derived from one very image."},{"owner":{"account_id":26699933,"reputation":1,"user_id":20307165,"display_name":"Mayank Mishra"},"score":0,"creation_date":1666724921,"post_id":74197978,"comment_id":131003230,"body_markdown":"@kladderradatsch : did the same as you suggest but get the same result.","body":"@kladderradatsch : did the same as you suggest but get the same result."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666728880,"post_id":74197978,"comment_id":131004371,"body_markdown":"`TestRunner` comes from JUnit. I guess you&#39;ve forgotten to include JUnit into your Jar file because in the `pom.xml` test libraries like Junit are declared normally with `&lt;scope&gt;test&lt;/scope&gt;` so it is excluded from the Jar. When you need this library within the Jar make sure to remove the *test scope*.","body":"<code>TestRunner</code> comes from JUnit. I guess you&#39;ve forgotten to include JUnit into your Jar file because in the <code>pom.xml</code> test libraries like Junit are declared normally with <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code> so it is excluded from the Jar. When you need this library within the Jar make sure to remove the <i>test scope</i>."},{"owner":{"account_id":26699933,"reputation":1,"user_id":20307165,"display_name":"Mayank Mishra"},"score":0,"creation_date":1666729801,"post_id":74197978,"comment_id":131004622,"body_markdown":"I am using TestNG here.TestRunner is a class which has main method and the logic of maven invoker","body":"I am using TestNG here.TestRunner is a class which has main method and the logic of maven invoker"}],"owner":{"account_id":26699933,"reputation":1,"user_id":20307165,"display_name":"Mayank Mishra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666787178,"creation_date":1666718703,"question_id":74197978,"body_markdown":"I try to containerized my selenium code. In order to do the same I created a jar of my code that contains the .class file and dependencies.\r\n\r\nMy Dockerfile is \r\n\r\n\r\n    FROM ubuntu:18.\r\n    FROM openjdk:8u191-jre-alpine3.8\r\n    RUN apk add --no-cache curl tar bash procps\r\n    ARG MAVEN_VERSION=3.6.3\r\n    ARG USER_HOME_DIR=&quot;/root&quot;\r\n    ARG BASE_URL=https://apache.osuosl.org/maven/maven-3/${MAVEN_VERSION}/binaries\r\n    # Install Java.\r\n    #\r\n    RUN apk --update --no-cache add openjdk8 curl\r\n\r\n    RUN mkdir -p /usr/share/maven /usr/share/maven/ref \\\r\n    &amp;&amp; curl -fsSL -o /tmp/apache-maven.tar.gz ${BASE_URL}/apache- maven-${MAVEN_VERSION}-bin.tar.gz \\\r\n    &amp;&amp; tar -xzf /tmp/apache-maven.tar.gz -C /usr/share/maven --strip- components=1 \\\r\n    &amp;&amp; rm -f /tmp/apache-maven.tar.gz \\\r\n    &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n\r\n    ENV MAVEN_HOME /usr/share/maven\r\n    ENV MAVEN_CONFIG &quot;$USER_HOME_DIR/.m2&quot;\r\n    ENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk\r\n    ENV CLASSPATH /usr/lib/jvm/java-1.8-openjdk/lib\r\n\r\n      # Define default command.\r\n    CMD [&quot;mvn&quot;, &quot;--version&quot;]\r\n\r\n    WORKDIR E:/Advanced_Selenium_Test_Automation_Framework-master\r\n    COPY target/AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/E:/Advanced_Selenium_Test_Automation_Framework-master/AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar&quot;]\r\n\r\nafter running the docker image getting Error:\r\n\r\n    Error: Could not find or load main class TestRunner\r\n\r\nI try to set ENV through Dockerfile to avoid this issue\r\nI am expecting that as jdk is already present in the Image then that issue should not occur.","title":"Error: Could not find or load main class in Docker","body":"<p>I try to containerized my selenium code. In order to do the same I created a jar of my code that contains the .class file and dependencies.</p>\n<p>My Dockerfile is</p>\n<pre><code>FROM ubuntu:18.\nFROM openjdk:8u191-jre-alpine3.8\nRUN apk add --no-cache curl tar bash procps\nARG MAVEN_VERSION=3.6.3\nARG USER_HOME_DIR=&quot;/root&quot;\nARG BASE_URL=https://apache.osuosl.org/maven/maven-3/${MAVEN_VERSION}/binaries\n# Install Java.\n#\nRUN apk --update --no-cache add openjdk8 curl\n\nRUN mkdir -p /usr/share/maven /usr/share/maven/ref \\\n&amp;&amp; curl -fsSL -o /tmp/apache-maven.tar.gz ${BASE_URL}/apache- maven-${MAVEN_VERSION}-bin.tar.gz \\\n&amp;&amp; tar -xzf /tmp/apache-maven.tar.gz -C /usr/share/maven --strip- components=1 \\\n&amp;&amp; rm -f /tmp/apache-maven.tar.gz \\\n&amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nENV MAVEN_HOME /usr/share/maven\nENV MAVEN_CONFIG &quot;$USER_HOME_DIR/.m2&quot;\nENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk\nENV CLASSPATH /usr/lib/jvm/java-1.8-openjdk/lib\n\n  # Define default command.\nCMD [&quot;mvn&quot;, &quot;--version&quot;]\n\nWORKDIR E:/Advanced_Selenium_Test_Automation_Framework-master\nCOPY target/AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/E:/Advanced_Selenium_Test_Automation_Framework-master/AdavencedLevel.QDPM-0.0.1-SNAPSHOT-jar-with-dependencies.jar&quot;]\n</code></pre>\n<p>after running the docker image getting Error:</p>\n<pre><code>Error: Could not find or load main class TestRunner\n</code></pre>\n<p>I try to set ENV through Dockerfile to avoid this issue\nI am expecting that as jdk is already present in the Image then that issue should not occur.</p>\n"},{"tags":["java","stream","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592700646,"creation_date":1592700646,"answer_id":62493324,"question_id":62492495,"body_markdown":"Your `ProcessFunctionClass` needs to extend the Flink `ProcessFunction`.","title":"Apache Flink Process Function state is not holding the state","body":"<p>Your <code>ProcessFunctionClass</code> needs to extend the Flink <code>ProcessFunction</code>.</p>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592720021,"creation_date":1592720021,"answer_id":62495067,"question_id":62492495,"body_markdown":"Process functions used key-partitioned state, meaning there is a separate list for every key. My guess is that there is no key with multiple events in a 10 second period.","title":"Apache Flink Process Function state is not holding the state","body":"<p>Process functions used key-partitioned state, meaning there is a separate list for every key. My guess is that there is no key with multiple events in a 10 second period.</p>\n"},{"tags":[],"owner":{"account_id":16687704,"reputation":11,"user_id":13221128,"display_name":"Chandan Bansal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666787119,"creation_date":1666787119,"answer_id":74207756,"question_id":62492495,"body_markdown":"The ProcessFunction is not meant to hold the state. You can use WindowProcessFunctions to hold the state of the elements present in the window.","title":"Apache Flink Process Function state is not holding the state","body":"<p>The ProcessFunction is not meant to hold the state. You can use WindowProcessFunctions to hold the state of the elements present in the window.</p>\n"}],"owner":{"account_id":17429825,"reputation":61,"user_id":12634006,"display_name":"BlameMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666787119,"creation_date":1592692710,"question_id":62492495,"body_markdown":"I am writing some code for a `processElement` function in Apache Flink 1.4:\r\n\r\n\r\n    public class ProcessFunctionClass extends ProcessFunction&lt;Tuple2&lt;String, String&gt;, Tuple2&lt;String, String&gt;&gt;{\r\n    \r\n        private ListState&lt;String&gt; listState;\r\n    \r\n        public void processElement(Tuple2&lt;String, String&gt; tuple2,  Context context, Collector&lt;Tuple2&lt;String, String&gt;&gt; collector) {\r\n    \r\n            // if the state is empty, start a timer\r\n            if (listState.get().iterator().hasNext() == false)\r\n                context.timerService().registerEventTimeTimer(10000);\r\n    \r\n            listState.add(&quot;someStringToBeStored&quot;);\r\n    \r\n            // ...\r\n        }\r\n    \r\n    }\r\n\r\nI have this function for when the timer expires:\r\n\r\n\r\n    public void onTimer(long timestamp, OnTimerContext ctx, Collector&lt;Tuple2&lt;String, String&gt;&gt; out) throws Exception {\r\n        Iterable&lt;String&gt; strings = listState.get();\r\n        int cnt = 0;\r\n        int totalLength = 0;\r\n        Iterator&lt;String&gt; it = strings.iterator();\r\n        while (it.hasNext()) {\r\n            cnt++;\r\n            totalLength += it.next().length();\r\n        }\r\n        LOGGER.info(&quot;cnt is:&quot; + cnt);\r\n        LOGGER.info(&quot;totalLength is:&quot; + totalLength);\r\n\r\n        // clearing the state\r\n        listState.clear();\r\n    }\r\n\r\nHowever every time I run the application, the value of `cnt` is always 1, and the value of `totalLength` is the length of the particular string that has been processed at that time. It looks like the state is not kept in the system. From this code is it clear what I am doing wrong here?","title":"Apache Flink Process Function state is not holding the state","body":"<p>I am writing some code for a <code>processElement</code> function in Apache Flink 1.4:</p>\n<pre><code>public class ProcessFunctionClass extends ProcessFunction&lt;Tuple2&lt;String, String&gt;, Tuple2&lt;String, String&gt;&gt;{\n\n    private ListState&lt;String&gt; listState;\n\n    public void processElement(Tuple2&lt;String, String&gt; tuple2,  Context context, Collector&lt;Tuple2&lt;String, String&gt;&gt; collector) {\n\n        // if the state is empty, start a timer\n        if (listState.get().iterator().hasNext() == false)\n            context.timerService().registerEventTimeTimer(10000);\n\n        listState.add(&quot;someStringToBeStored&quot;);\n\n        // ...\n    }\n\n}\n</code></pre>\n<p>I have this function for when the timer expires:</p>\n<pre><code>public void onTimer(long timestamp, OnTimerContext ctx, Collector&lt;Tuple2&lt;String, String&gt;&gt; out) throws Exception {\n    Iterable&lt;String&gt; strings = listState.get();\n    int cnt = 0;\n    int totalLength = 0;\n    Iterator&lt;String&gt; it = strings.iterator();\n    while (it.hasNext()) {\n        cnt++;\n        totalLength += it.next().length();\n    }\n    LOGGER.info(&quot;cnt is:&quot; + cnt);\n    LOGGER.info(&quot;totalLength is:&quot; + totalLength);\n\n    // clearing the state\n    listState.clear();\n}\n</code></pre>\n<p>However every time I run the application, the value of <code>cnt</code> is always 1, and the value of <code>totalLength</code> is the length of the particular string that has been processed at that time. It looks like the state is not kept in the system. From this code is it clear what I am doing wrong here?</p>\n"},{"tags":["java","android","react-native","android-studio","gradle"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1622735923,"post_id":67824824,"comment_id":119883296,"body_markdown":"What Java version do you have installed locally?","body":"What Java version do you have installed locally?"},{"owner":{"account_id":16844379,"reputation":141,"user_id":12830009,"display_name":"MayenRosil"},"score":0,"creation_date":1622736138,"post_id":67824824,"comment_id":119883395,"body_markdown":"version 1.8.1_251-b08","body":"version 1.8.1_251-b08"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1622744838,"post_id":67824824,"comment_id":119886824,"body_markdown":"It looks like the library you are using was compiled with JDK 15. You need to locate a Java 8 version of the library. Alternatively, can you compile your code with JDK 15?","body":"It looks like the library you are using was compiled with JDK 15. You need to locate a Java 8 version of the library. Alternatively, can you compile your code with JDK 15?"},{"owner":{"account_id":16844379,"reputation":141,"user_id":12830009,"display_name":"MayenRosil"},"score":0,"creation_date":1622747166,"post_id":67824824,"comment_id":119887657,"body_markdown":"How do i do that?\nI am new on Android\nI don&#39;t even know what JDK number i just know it is 1.8.1\nCan anybody guide me pls? :(","body":"How do i do that? I am new on Android I don&#39;t even know what JDK number i just know it is 1.8.1 Can anybody guide me pls? :("},{"owner":{"account_id":16844379,"reputation":141,"user_id":12830009,"display_name":"MayenRosil"},"score":0,"creation_date":1622747360,"post_id":67824824,"comment_id":119887729,"body_markdown":"Do i have to upgrade or downgrade or what? i don&#39;t know too much :c","body":"Do i have to upgrade or downgrade or what? i don&#39;t know too much :c"}],"answers":[{"tags":[],"owner":{"account_id":10925365,"reputation":181,"user_id":8030249,"display_name":"justanotherdev"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1625496086,"creation_date":1625496086,"answer_id":68258028,"question_id":67824824,"body_markdown":"For me the issue occured when I tried to update the [firebase crashlytics gradle plugin][1] to `2.7.1`. \r\n\r\nIt was possible to fix it by setting `android.jetifier.blacklist=bcprov-jdk15on` in `gradle.properties` as mentioned [here][2].\r\n\r\n\r\n  [1]: https://firebase.google.com/support/release-notes/android#crashlytics_gradle_plugin_v2-7-1\r\n  [2]: https://github.com/bcgit/bc-java/issues/762#issuecomment-852056041","title":"Unsupported class file major version 59 in Android Studio with ReactNative","body":"<p>For me the issue occured when I tried to update the <a href=\"https://firebase.google.com/support/release-notes/android#crashlytics_gradle_plugin_v2-7-1\" rel=\"noreferrer\">firebase crashlytics gradle plugin</a> to <code>2.7.1</code>.</p>\n<p>It was possible to fix it by setting <code>android.jetifier.blacklist=bcprov-jdk15on</code> in <code>gradle.properties</code> as mentioned <a href=\"https://github.com/bcgit/bc-java/issues/762#issuecomment-852056041\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":22798977,"reputation":3043,"user_id":16952036,"display_name":"MANISH"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1666786744,"creation_date":1655633120,"answer_id":72675937,"question_id":67824824,"body_markdown":"Try this :\r\n* clear project cache \r\n\r\n* upgrade packages for ex. in flutter we use **flutter pub get**\r\n\r\n* add :\r\n\r\n    **android.jetifier.blacklist=bcprov-jdk15on**\r\n \r\nto your **gradle.properties** file and rebuild the project. if not resolved please refer to similar issue on [github][1] and [google][2]\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/issues/762\r\n  [2]: https://issuetracker.google.com/issues/172784894?pli=1","title":"Unsupported class file major version 59 in Android Studio with ReactNative","body":"<p>Try this :</p>\n<ul>\n<li><p>clear project cache</p>\n</li>\n<li><p>upgrade packages for ex. in flutter we use <strong>flutter pub get</strong></p>\n</li>\n<li><p>add :</p>\n<p><strong>android.jetifier.blacklist=bcprov-jdk15on</strong></p>\n</li>\n</ul>\n<p>to your <strong>gradle.properties</strong> file and rebuild the project. if not resolved please refer to similar issue on <a href=\"https://github.com/bcgit/bc-java/issues/762\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://issuetracker.google.com/issues/172784894?pli=1\" rel=\"nofollow noreferrer\">google</a></p>\n"}],"owner":{"account_id":16844379,"reputation":141,"user_id":12830009,"display_name":"MayenRosil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9424,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":2,"score":13,"last_activity_date":1666786744,"creation_date":1622735779,"question_id":67824824,"body_markdown":"i&#39;m trying to reBuild and compile my Android Studio project, it worked good before installing the new version of `react-native-jumio-mobilesdk` for react native. After upgrading that library to 3.9.1, i had this error and i have not been able to fix it.\r\n\r\n    &gt; Task :react-native-jumio-mobilesdk:compileDebugKotlin FAILED\r\nExecution failed for task &#39;:react-native-jumio-mobilesdk:compileDebugKotlin&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:react-native-jumio-mobilesdk:debugCompileClasspath&#39;.\r\n   &gt; Failed to transform bcprov-jdk15on-1.67.jar (org.bouncycastle:bcprov-jdk15on:1.67) to match attributes {artifactType=android-classes-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-api}.\r\n      &gt; Execution failed for JetifyTransform: C:\\Users\\UsuarioDA1\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.67\\8c0998045da87dbc2f1d4b6480458ed811ca7b82\\bcprov-jdk15on-1.67.jar.\r\n         &gt; Failed to transform &#39;C:\\Users\\UsuarioDA1\\.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.67\\8c0998045da87dbc2f1d4b6480458ed811ca7b82\\bcprov-jdk15on-1.67.jar&#39; using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\r\n           Please file a bug at http://issuetracker.google.com/issues/new?component=460323.\r\n    \r\n\r\nI have one entire week trying to fix it but so far I have not been able.\r\n\r\nI appreciate your help. :D","title":"Unsupported class file major version 59 in Android Studio with ReactNative","body":"<p>i'm trying to reBuild and compile my Android Studio project, it worked good before installing the new version of <code>react-native-jumio-mobilesdk</code> for react native. After upgrading that library to 3.9.1, i had this error and i have not been able to fix it.</p>\n<pre><code>&gt; Task :react-native-jumio-mobilesdk:compileDebugKotlin FAILED\n</code></pre>\n<p>Execution failed for task ':react-native-jumio-mobilesdk:compileDebugKotlin'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':react-native-jumio-mobilesdk:debugCompileClasspath'.\nFailed to transform bcprov-jdk15on-1.67.jar (org.bouncycastle:bcprov-jdk15on:1.67) to match attributes {artifactType=android-classes-jar, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-api}.\n&gt; Execution failed for JetifyTransform: C:\\Users\\UsuarioDA1.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.67\\8c0998045da87dbc2f1d4b6480458ed811ca7b82\\bcprov-jdk15on-1.67.jar.\n&gt; Failed to transform 'C:\\Users\\UsuarioDA1.gradle\\caches\\modules-2\\files-2.1\\org.bouncycastle\\bcprov-jdk15on\\1.67\\8c0998045da87dbc2f1d4b6480458ed811ca7b82\\bcprov-jdk15on-1.67.jar' using Jetifier. Reason: IllegalArgumentException, message: Unsupported class file major version 59. (Run with --stacktrace for more details.)\nPlease file a bug at <a href=\"http://issuetracker.google.com/issues/new?component=460323\" rel=\"noreferrer\">http://issuetracker.google.com/issues/new?component=460323</a>.</p>\n</blockquote>\n<p>I have one entire week trying to fix it but so far I have not been able.</p>\n<p>I appreciate your help. :D</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666788570,"post_id":74207619,"comment_id":131018235,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1666789653,"post_id":74207619,"comment_id":131018668,"body_markdown":"For front-end test you should pick up few combinations, let&#39;s say some most used. For testing all possible combinations there has to exist some back-end test.","body":"For front-end test you should pick up few combinations, let&#39;s say some most used. For testing all possible combinations there has to exist some back-end test."},{"owner":{"account_id":8109631,"reputation":2744,"user_id":6110169,"accept_rate":92,"display_name":"AutoTester213"},"score":0,"creation_date":1666794080,"post_id":74207619,"comment_id":131020497,"body_markdown":"Just adding, on @pburgr comment, Im not sure what you are trying to achieve by testing this, For UI test in my opinion you should test the functionality of the dropdowns, something like the ability to select a value etc. not sure why you would even have to test all the combinations on the back-end as well.","body":"Just adding, on @pburgr comment, Im not sure what you are trying to achieve by testing this, For UI test in my opinion you should test the functionality of the dropdowns, something like the ability to select a value etc. not sure why you would even have to test all the combinations on the back-end as well."}],"owner":{"account_id":26738043,"reputation":1,"user_id":20339281,"display_name":"JOEPETER FRANCIS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666786574,"creation_date":1666786574,"question_id":74207619,"body_markdown":"I want to know what is the most efficient way to automate test cases related to filters where I will be seelcting different options from 3 different dropdowns, and hence they contribute to 100 plus combinations.\r\n\r\nI am using selenium java for automation and I am using the BDD framework.\r\n\r\nI tried scenario outline where in i gave each option in the parameters, but i dont think of it as an efficient way to test 1000 cases","title":"How to automate test cases in my website, which has more than 1000 different combinations","body":"<p>I want to know what is the most efficient way to automate test cases related to filters where I will be seelcting different options from 3 different dropdowns, and hence they contribute to 100 plus combinations.</p>\n<p>I am using selenium java for automation and I am using the BDD framework.</p>\n<p>I tried scenario outline where in i gave each option in the parameters, but i dont think of it as an efficient way to test 1000 cases</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1666784405,"post_id":74206974,"comment_id":131016722,"body_markdown":"You could create your own WebMvcConfigurer bean, mark it as primary and only put whatever you need in it. You could even have it extend the one from the library if there are parts of it you want to keep.","body":"You could create your own WebMvcConfigurer bean, mark it as primary and only put whatever you need in it. You could even have it extend the one from the library if there are parts of it you want to keep."},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":0,"creation_date":1666786525,"post_id":74206974,"comment_id":131017467,"body_markdown":"See my edit. this not work. What do I wrong?","body":"See my edit. this not work. What do I wrong?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666788624,"post_id":74206974,"comment_id":131018265,"body_markdown":"Try like so: [exclude bean from config](https://stackoverflow.com/q/18992880/592355)? (Discarding `WebMvcConfigurer` from &quot;lib&quot;)","body":"Try like so: <a href=\"https://stackoverflow.com/q/18992880/592355\">exclude bean from config</a>? (Discarding <code>WebMvcConfigurer</code> from &quot;lib&quot;)"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666786498,"creation_date":1666783621,"question_id":74206974,"body_markdown":"in an included library unfortunately the following is done:\r\n\r\n    @Bean\r\n    public WebMvcConfigurer webMvcConfigurerAdapter() {\r\n       return new WebMvcConfigurer() {\r\n          public void addViewControllers(ViewControllerRegistry registry) {\r\n              registry.addViewController(&quot;/notFound&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n              ...\r\n          }\r\n       }\r\n    }\r\n\r\nHow and where can I remove this in my application afterwards? I would like to create a separate error page for it. For other errors except 404 the error page works.\r\n\r\nMany greetings\r\n\r\nEdit:\r\n\r\n    @Configuration\r\n    @Primary\r\n    public class SpringMvcConfiguration {\r\n\r\n        @Bean\r\n    \t@Primary\r\n    \tpublic WebMvcConfigurer mywebMvcConfigurerAdapter() {\r\n    \t\treturn new WebMvcConfigurer() {\r\n    \t\t\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n    \t\t\t\tregistry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    \t\t\t\tregistry.addViewController(&quot;/error&quot;).setViewName(&quot;error&quot;);\r\n    \t\t\t\tregistry.addViewController(&quot;/notFound&quot;).setViewName(&quot;notFound&quot;);\r\n    \t\t\t\tregistry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nThat not work, it fowarded always to index.html","title":"How to remove a existing mapping in Spring Boot MVC?","body":"<p>in an included library unfortunately the following is done:</p>\n<pre><code>@Bean\npublic WebMvcConfigurer webMvcConfigurerAdapter() {\n   return new WebMvcConfigurer() {\n      public void addViewControllers(ViewControllerRegistry registry) {\n          registry.addViewController(&quot;/notFound&quot;).setViewName(&quot;forward:/index.html&quot;);\n          ...\n      }\n   }\n}\n</code></pre>\n<p>How and where can I remove this in my application afterwards? I would like to create a separate error page for it. For other errors except 404 the error page works.</p>\n<p>Many greetings</p>\n<p>Edit:</p>\n<pre><code>@Configuration\n@Primary\npublic class SpringMvcConfiguration {\n\n    @Bean\n    @Primary\n    public WebMvcConfigurer mywebMvcConfigurerAdapter() {\n        return new WebMvcConfigurer() {\n            public void addViewControllers(ViewControllerRegistry registry) {\n                registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n                registry.addViewController(&quot;/error&quot;).setViewName(&quot;error&quot;);\n                registry.addViewController(&quot;/notFound&quot;).setViewName(&quot;notFound&quot;);\n                registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>That not work, it fowarded always to index.html</p>\n"},{"tags":["java","import","lucene"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1666790890,"post_id":74207351,"comment_id":131019156,"body_markdown":"Simply replacing the imports is probably not possible. Instead, you will almost certainly need to refactor your code, given there have been many changes (and breaking changes) to the API from your old (ancient!) version to 8.11.2. I recommend you look at the source code provided in the [Basic Demo](https://lucene.apache.org/core/8_11_2/demo/overview-summary.html#overview.description). So, for example, you will see code such as `ScoreDoc[] hits = results.scoreDocs;`, and so on.","body":"Simply replacing the imports is probably not possible. Instead, you will almost certainly need to refactor your code, given there have been many changes (and breaking changes) to the API from your old (ancient!) version to 8.11.2. I recommend you look at the source code provided in the <a href=\"https://lucene.apache.org/core/8_11_2/demo/overview-summary.html#overview.description\" rel=\"nofollow noreferrer\">Basic Demo</a>. So, for example, you will see code such as <code>ScoreDoc[] hits = results.scoreDocs;</code>, and so on."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1666790893,"post_id":74207351,"comment_id":131019158,"body_markdown":"You can also find additional up-to-date (for version 8) code examples in the API documents - for example, in the &quot;Description&quot; section of the [analysis package](https://lucene.apache.org/core/8_11_2/analyzers-common/index.html). Another approach is to search through the [change logs](https://lucene.apache.org/core/8_11_2/changes/Changes.html).","body":"You can also find additional up-to-date (for version 8) code examples in the API documents - for example, in the &quot;Description&quot; section of the <a href=\"https://lucene.apache.org/core/8_11_2/analyzers-common/index.html\" rel=\"nofollow noreferrer\">analysis package</a>. Another approach is to search through the <a href=\"https://lucene.apache.org/core/8_11_2/changes/Changes.html\" rel=\"nofollow noreferrer\">change logs</a>."}],"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666786088,"creation_date":1666785403,"question_id":74207351,"body_markdown":"I was using the 1.4.3 version of Lucene, but i need to use the 8.11.2 now.\r\n\r\nThe problem is that some of the import completely changed (from the 1.4.3 version):\r\n\r\n    - import org.apache.lucene.search.Hits;\r\n    - import org.apache.lucene.store.InputStream;\r\n    - import org.apache.lucene.store.OutputStream;\r\n    - import org.apache.lucene.analysis.Token;\r\n\r\nAnd i don&#39;t find anything when searching on all classes of the 8.11.2 version...\r\n\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/edition/HelpAgregator.java:[20,32] cannot find symbol\r\n    [ERROR] symbol:   class Hits\r\n    [ERROR] location: package org.apache.lucene.search\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/FtsLuceneApplet.java:[18,32] cannot find symbol\r\n    [ERROR] symbol:   class Hits\r\n    [ERROR] location: package org.apache.lucene.search\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/FtsLuceneApplet.java:[28,5] cannot find symbol\r\n    [ERROR] symbol:   class Hits\r\n    [ERROR] location: class com.hraccess.hradoc.fts.FtsLuceneApplet\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[70,31] cannot find symbol\r\n    [ERROR] symbol:   class InputStream\r\n    [ERROR] location: package org.apache.lucene.store\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[72,31] cannot find symbol\r\n    [ERROR] symbol:   class OutputStream\r\n    [ERROR] location: package org.apache.lucene.store\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[205,22] cannot find symbol\r\n    [ERROR] symbol:   class OutputStream\r\n    [ERROR] location: class com.hraccess.hradoc.fts.RODirectory\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[213,22] cannot find symbol\r\n    [ERROR] symbol:   class InputStream\r\n    [ERROR] location: class com.hraccess.hradoc.fts.RODirectory\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[285,35] cannot find symbol\r\n    [ERROR] symbol: class InputStream\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/analysis/cjk/CJKTokenizer.java:[22,34] cannot find symbol\r\n    [ERROR] symbol:   class Token\r\n    [ERROR] location: package org.apache.lucene.analysis\r\n    [ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/analysis/cjk/CJKTokenizer.java:[105,18] cannot find symbol\r\n    [ERROR] symbol:   class Token\r\n    [ERROR] location: class com.hraccess.hradoc.fts.analysis.cjk.CJKTokenizer\r\n\r\nWhat can i do to replace these import on the actual 8.11.2 version ?","title":"&#39;cannot find symbol&#39; with Lucene","body":"<p>I was using the 1.4.3 version of Lucene, but i need to use the 8.11.2 now.</p>\n<p>The problem is that some of the import completely changed (from the 1.4.3 version):</p>\n<pre><code>- import org.apache.lucene.search.Hits;\n- import org.apache.lucene.store.InputStream;\n- import org.apache.lucene.store.OutputStream;\n- import org.apache.lucene.analysis.Token;\n</code></pre>\n<p>And i don't find anything when searching on all classes of the 8.11.2 version...</p>\n<pre><code>[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/edition/HelpAgregator.java:[20,32] cannot find symbol\n[ERROR] symbol:   class Hits\n[ERROR] location: package org.apache.lucene.search\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/FtsLuceneApplet.java:[18,32] cannot find symbol\n[ERROR] symbol:   class Hits\n[ERROR] location: package org.apache.lucene.search\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/FtsLuceneApplet.java:[28,5] cannot find symbol\n[ERROR] symbol:   class Hits\n[ERROR] location: class com.hraccess.hradoc.fts.FtsLuceneApplet\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[70,31] cannot find symbol\n[ERROR] symbol:   class InputStream\n[ERROR] location: package org.apache.lucene.store\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[72,31] cannot find symbol\n[ERROR] symbol:   class OutputStream\n[ERROR] location: package org.apache.lucene.store\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[205,22] cannot find symbol\n[ERROR] symbol:   class OutputStream\n[ERROR] location: class com.hraccess.hradoc.fts.RODirectory\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[213,22] cannot find symbol\n[ERROR] symbol:   class InputStream\n[ERROR] location: class com.hraccess.hradoc.fts.RODirectory\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/RODirectory.java:[285,35] cannot find symbol\n[ERROR] symbol: class InputStream\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/analysis/cjk/CJKTokenizer.java:[22,34] cannot find symbol\n[ERROR] symbol:   class Token\n[ERROR] location: package org.apache.lucene.analysis\n[ERROR] /D:/Dev/7.xx/Webtools/hra-tools-web-tools/hr-documentation-tool/src/main/java/com/hraccess/hradoc/fts/analysis/cjk/CJKTokenizer.java:[105,18] cannot find symbol\n[ERROR] symbol:   class Token\n[ERROR] location: class com.hraccess.hradoc.fts.analysis.cjk.CJKTokenizer\n</code></pre>\n<p>What can i do to replace these import on the actual 8.11.2 version ?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393349187,"creation_date":1393346699,"answer_id":22020690,"question_id":22020428,"body_markdown":"You&#39;re performing a redirect\r\n\r\n    mav = new ModelAndView(&quot;redirect:/spring/person/list&quot;, &quot;person&quot;, person);\r\n\r\nYour `errors` are stored in the model and subsequently in the `HttpServletRequest` attributes. These only last for the duration of one request. A redirect causes the client to send a **new** request. They therefore don&#39;t exist when your redirected view is rendered.\r\n\r\nConsider using flash attributes. Look into [`RedirectAttributes`][1]. That&#39;s how POST-REDIRECT-GET typically works.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html","title":"Spring MVC form:errors not displaying error","body":"<p>You're performing a redirect</p>\n\n<pre><code>mav = new ModelAndView(\"redirect:/spring/person/list\", \"person\", person);\n</code></pre>\n\n<p>Your <code>errors</code> are stored in the model and subsequently in the <code>HttpServletRequest</code> attributes. These only last for the duration of one request. A redirect causes the client to send a <strong>new</strong> request. They therefore don't exist when your redirected view is rendered.</p>\n\n<p>Consider using flash attributes. Look into <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/support/RedirectAttributes.html\" rel=\"nofollow\"><code>RedirectAttributes</code></a>. That's how POST-REDIRECT-GET typically works.</p>\n"},{"tags":[],"owner":{"account_id":2028728,"reputation":1807,"user_id":1813047,"accept_rate":75,"display_name":"Henrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393348801,"creation_date":1393348262,"answer_id":22021326,"question_id":22020428,"body_markdown":"How does your person bean looks like? Do you have validation annotation(s) there also? Please paste fields.\r\n\r\ntry this instead:\r\n\r\n    @RequestMapping(value = &quot;add&quot;, method = RequestMethod.POST)\r\n    public ModelAndView addPerson(\r\n            @ModelAttribute(&quot;person&quot;) @Valid Person person, BindingResult result) {\r\n    \r\n        ModelAndView mav;\r\n    \r\n        log.info(&quot;in add&quot;);\r\n    \r\n        personValidator.validate(person, result);\r\n    \r\n    \tif (result.hasErrors()) {\r\n    \t    mav = new ModelAndView(&quot;your view here&quot;);\r\n    \t    mav.addObject(&quot;person&quot;, person);\r\n    \t    return mav;\r\n    \t}\r\n    \r\n        personService.addPerson(person);\r\n    \r\n        mav = new ModelAndView(&quot;redirect:/spring/person/list&quot;, &quot;person&quot;, person);\r\n    \r\n        return mav;\r\n    }\r\n\r\nIf there are any errors we want to add the bean to the mav and display the view again. (If you&#39;ve got validation in the bean also, the errors will display on the jsp) else the person will be created and redirect.. \r\n\r\nAs you have now, the error messages cannot display because of the redirecting. Therefore we want to add the bean to the view and display the view again.","title":"Spring MVC form:errors not displaying error","body":"<p>How does your person bean looks like? Do you have validation annotation(s) there also? Please paste fields.</p>\n\n<p>try this instead:</p>\n\n<pre><code>@RequestMapping(value = \"add\", method = RequestMethod.POST)\npublic ModelAndView addPerson(\n        @ModelAttribute(\"person\") @Valid Person person, BindingResult result) {\n\n    ModelAndView mav;\n\n    log.info(\"in add\");\n\n    personValidator.validate(person, result);\n\n    if (result.hasErrors()) {\n        mav = new ModelAndView(\"your view here\");\n        mav.addObject(\"person\", person);\n        return mav;\n    }\n\n    personService.addPerson(person);\n\n    mav = new ModelAndView(\"redirect:/spring/person/list\", \"person\", person);\n\n    return mav;\n}\n</code></pre>\n\n<p>If there are any errors we want to add the bean to the mav and display the view again. (If you've got validation in the bean also, the errors will display on the jsp) else the person will be created and redirect.. </p>\n\n<p>As you have now, the error messages cannot display because of the redirecting. Therefore we want to add the bean to the view and display the view again.</p>\n"},{"tags":[],"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666785993,"creation_date":1666785993,"answer_id":74207478,"question_id":22020428,"body_markdown":"Make sure correct validation dependencies are added to your project like below 2:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.2.5.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**Note:**  \r\n**1)** Even though hibernate is not used in your project you&#39;ll need a bean validation implementer. hibernate-validator provides  such implementation.  \r\n\r\n**2)** Make sure correct dependency versions are added like below for `hibernate-validator` **6.2.5.Final** needs `jakarta.validation` version **2.0.2**.   \r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Xg89T.jpg","title":"Spring MVC form:errors not displaying error","body":"<p>Make sure correct validation dependencies are added to your project like below 2:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/jakarta.validation/jakarta.validation-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.2.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Note:</strong><br />\n<strong>1)</strong> Even though hibernate is not used in your project you'll need a bean validation implementer. hibernate-validator provides  such implementation.</p>\n<p><strong>2)</strong> Make sure correct dependency versions are added like below for <code>hibernate-validator</code> <strong>6.2.5.Final</strong> needs <code>jakarta.validation</code> version <strong>2.0.2</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/Xg89T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xg89T.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3949884,"reputation":35,"user_id":3260768,"accept_rate":50,"display_name":"user3260768"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666785993,"creation_date":1393346149,"question_id":22020428,"body_markdown":"I have looked at other posting on this subject but couldn&#39;t get it to work. This seems to be a simple issue. I would appreciate if someone could help.\r\n\r\nPerson.java\r\n------------\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    public class Person {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;PERSON_ID&quot;)\r\n\tprivate int id;\r\n\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\tpublic Person() {\r\n\t}\r\n\r\n\tpublic Person(String fname, String lname) {\r\n\t\tthis.firstName = fname;\r\n\t\tthis.lastName = lname;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String first_name) {\r\n\t\tthis.firstName = first_name;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String last_name) {\r\n\t\tthis.lastName = last_name;\r\n\t}\r\n    }\r\n\r\nPersonController.java\r\n----------------\r\n    @Controller\r\n    @RequestMapping(&quot;person&quot;)\r\n    public class PersonController {\r\n\r\n\t@RequestMapping(value = &quot;add&quot;, method = RequestMethod.POST)\r\n\tpublic String addPerson(\r\n\t\t\t@ModelAttribute(&quot;person&quot;) @Valid Person person, BindingResult result) {\r\n\r\n\t\tlog.info(&quot;in add&quot;);\r\n\r\n\t\tpersonValidator.validate(person, result);\r\n\r\n\t\tif (!result.hasErrors())\r\n\t\t\tpersonService.addPerson(person);\r\n\r\n\t\treturn &quot;redirect:/spring/person/list&quot;;\r\n\t}\r\n\r\nperson.jsp\r\n----------\r\n    &lt;body&gt;\r\n\r\n\t&lt;form:form method=&quot;post&quot; action=&quot;add.html&quot; commandName=&quot;person&quot;&gt;\r\n\t\t&lt;form:errors path=&quot;*&quot; cssClass=&quot;errorblock&quot; /&gt;\r\n\t\t&lt;table&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:label path=&quot;firstName&quot;&gt;First name&lt;/form:label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input path=&quot;firstName&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:errors path=&quot;*&quot; cssClass=&quot;error&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:label path=&quot;lastName&quot;&gt;Last name&lt;/form:label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input path=&quot;lastName&quot; /&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:errors path=&quot;*&quot; cssClass=&quot;error&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Add&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\t&lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nPersonValidator.java\r\n--------------------\r\n    @Component\r\n    public class PersonValidator implements Validator {\r\n        \tpublic void validate(Object arg0, Errors arg1) {\r\n\t\tPerson person = (Person) arg0;\r\n\t\t\r\n    \tif (personService.findPersonByName(person.getFirstName(), person.getLastName()) != null)\r\n    \t\targ1.rejectValue(&quot;firstName&quot;, &quot;first name empty&quot;);\r\n    \t\t//arg1.reject(&quot;save.person&quot;, &quot;User already exists.&quot;);\r\n\t}\r\n      }\r\n\r\npersonService.findPersonByName is not null and result.hasErrors() is true, so I know the form has errors but they don&#39;t display for some reasons.","title":"Spring MVC form:errors not displaying error","body":"<p>I have looked at other posting on this subject but couldn't get it to work. This seems to be a simple issue. I would appreciate if someone could help.</p>\n\n<h2>Person.java</h2>\n\n<pre><code>@Entity\n@Table(name = \"PERSON\")\npublic class Person {\n\n@Id\n@Column(name = \"PERSON_ID\")\nprivate int id;\n\n@Column(name = \"first_name\")\nprivate String firstName;\n\n@Column(name = \"last_name\")\nprivate String lastName;\n\npublic Person() {\n}\n\npublic Person(String fname, String lname) {\n    this.firstName = fname;\n    this.lastName = lname;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String first_name) {\n    this.firstName = first_name;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String last_name) {\n    this.lastName = last_name;\n}\n}\n</code></pre>\n\n<h2>PersonController.java</h2>\n\n<pre><code>@Controller\n@RequestMapping(\"person\")\npublic class PersonController {\n\n@RequestMapping(value = \"add\", method = RequestMethod.POST)\npublic String addPerson(\n        @ModelAttribute(\"person\") @Valid Person person, BindingResult result) {\n\n    log.info(\"in add\");\n\n    personValidator.validate(person, result);\n\n    if (!result.hasErrors())\n        personService.addPerson(person);\n\n    return \"redirect:/spring/person/list\";\n}\n</code></pre>\n\n<h2>person.jsp</h2>\n\n<pre><code>&lt;body&gt;\n\n&lt;form:form method=\"post\" action=\"add.html\" commandName=\"person\"&gt;\n    &lt;form:errors path=\"*\" cssClass=\"errorblock\" /&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;form:label path=\"firstName\"&gt;First name&lt;/form:label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"firstName\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"*\" cssClass=\"error\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;form:label path=\"lastName\"&gt;Last name&lt;/form:label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input path=\"lastName\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:errors path=\"*\" cssClass=\"error\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"2\"&gt;&lt;input type=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h2>PersonValidator.java</h2>\n\n<pre><code>@Component\npublic class PersonValidator implements Validator {\n        public void validate(Object arg0, Errors arg1) {\n    Person person = (Person) arg0;\n\n    if (personService.findPersonByName(person.getFirstName(), person.getLastName()) != null)\n        arg1.rejectValue(\"firstName\", \"first name empty\");\n        //arg1.reject(\"save.person\", \"User already exists.\");\n}\n  }\n</code></pre>\n\n<p>personService.findPersonByName is not null and result.hasErrors() is true, so I know the form has errors but they don't display for some reasons.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"score":6,"creation_date":1440120833,"post_id":32131007,"comment_id":52152930,"body_markdown":"You may look at [aspect-oriented programming](https://en.wikipedia.org/wiki/Aspect-oriented_programming). Back in college, I had a class on [AspectJ](https://en.wikipedia.org/wiki/AspectJ), which allows things like the one you&#39;re asking here.","body":"You may look at <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\">aspect-oriented programming</a>. Back in college, I had a class on <a href=\"https://en.wikipedia.org/wiki/AspectJ\" rel=\"nofollow noreferrer\">AspectJ</a>, which allows things like the one you&#39;re asking here."},{"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"score":0,"creation_date":1440121143,"post_id":32131007,"comment_id":52153026,"body_markdown":"possible duplicate of [Run a method before and after a called method in Java](http://stackoverflow.com/questions/9596991/run-a-method-before-and-after-a-called-method-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9596991/run-a-method-before-and-after-a-called-method-in-java\">Run a method before and after a called method in Java</a>"},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1440121252,"post_id":32131007,"comment_id":52153049,"body_markdown":"One possibility (like @watery mentioned) is to use aspect-oriented programming. In this case, since you want to do something before and after a method call, you could use [`@Around`](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-ataspectj-around-advice) advice. I would recommend on reading the [Spring AOP](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html) documentation (as I think it is easier to understand than the regular AspectJ documentation) to get a good understanding of the concepts.","body":"One possibility (like @watery mentioned) is to use aspect-oriented programming. In this case, since you want to do something before and after a method call, you could use <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-ataspectj-around-advice\" rel=\"nofollow noreferrer\"><code>@Around</code></a> advice. I would recommend on reading the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">Spring AOP</a> documentation (as I think it is easier to understand than the regular AspectJ documentation) to get a good understanding of the concepts."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1440125545,"post_id":32131007,"comment_id":52154019,"body_markdown":"You can try btrace:  My question has some example lines: http://stackoverflow.com/questions/4142845/how-can-write-logs-to-a-file-in-btrace","body":"You can try btrace:  My question has some example lines: <a href=\"http://stackoverflow.com/questions/4142845/how-can-write-logs-to-a-file-in-btrace\" title=\"how can write logs to a file in btrace\">stackoverflow.com/questions/4142845/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440137377,"creation_date":1440137377,"answer_id":32133459,"question_id":32131007,"body_markdown":"There are a number of different ways to achieve it.\r\n\r\nFirst of all, you can use a Decorator Design Pattern. It allows you to add some additional behavior to object. Here is short example:\r\n\r\n    public interface Car {\r\n      public String drive();\r\n    }\r\n\r\n    public class SomeCar implements Car {\r\n      @Override\r\n      public String drive() {\r\n        return &quot;Drive some car&quot;;\r\n      }\r\n    }\r\n\r\n    public abstract class CarDecorator implements Car {\r\n      Car car;\r\n\r\n      public CarDecorator(Car newPizza) {\r\n        this.car = newPizza;\r\n      }\r\n\r\n      @Override\r\n      public String drive() {\r\n        //do somthing before\r\n\r\n        String result = car.drive();\r\n\r\n        //do someething after\r\n\r\n        return result;\r\n      }\r\n    }\r\n\r\nYou can use it like this, or make all instances via some Factory of Car Objects:\r\n\r\n    Car car = new CarDecorator(new SomeCar());\r\n    car.drive();\r\n\r\nFurthermore, you can use aspect-oriented programming (AOP) to achieve your goal. For example, with [AspectJ][1] or with if you use a Spring Framework - [Spring AOP][2].\r\n\r\nOne more solution is to use [Java EE Interceptors][3], if it acceptable in your project.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\r\n  [3]: http://docs.oracle.com/javaee/6/tutorial/doc/gkeed.html","title":"How to automatically call a method before and after each method call","body":"<p>There are a number of different ways to achieve it.</p>\n\n<p>First of all, you can use a Decorator Design Pattern. It allows you to add some additional behavior to object. Here is short example:</p>\n\n<pre><code>public interface Car {\n  public String drive();\n}\n\npublic class SomeCar implements Car {\n  @Override\n  public String drive() {\n    return \"Drive some car\";\n  }\n}\n\npublic abstract class CarDecorator implements Car {\n  Car car;\n\n  public CarDecorator(Car newPizza) {\n    this.car = newPizza;\n  }\n\n  @Override\n  public String drive() {\n    //do somthing before\n\n    String result = car.drive();\n\n    //do someething after\n\n    return result;\n  }\n}\n</code></pre>\n\n<p>You can use it like this, or make all instances via some Factory of Car Objects:</p>\n\n<pre><code>Car car = new CarDecorator(new SomeCar());\ncar.drive();\n</code></pre>\n\n<p>Furthermore, you can use aspect-oriented programming (AOP) to achieve your goal. For example, with <a href=\"http://www.eclipse.org/aspectj/\" rel=\"nofollow\">AspectJ</a> or with if you use a Spring Framework - <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\" rel=\"nofollow\">Spring AOP</a>.</p>\n\n<p>One more solution is to use <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gkeed.html\" rel=\"nofollow\">Java EE Interceptors</a>, if it acceptable in your project.</p>\n"}],"owner":{"account_id":1018861,"reputation":3731,"user_id":1029808,"accept_rate":60,"display_name":"as3rdaccount"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666785984,"creation_date":1440120623,"question_id":32131007,"body_markdown":"I have a class that have some methods for which I would like to add logs of the method name before and after each method.\r\n\r\n    private void log(String msg){\r\n\t\tlogger.info(&quot;=================================&quot;);\r\n\t\tlogger.info(msg);\r\n\t\tlogger.info(&quot;=================================&quot;);\r\n\t}\r\n\r\n    private void method1(){\r\n\t\tlog(&quot;Here I want to print method name&quot; + &quot; :start&quot;);\r\n        //do stuff\r\n        log(&quot;Here I want to print method name&quot; + &quot; :end&quot;);\r\n\t}\r\n\r\n    private void method2(){\r\n\t\tlog(&quot;Here I want to print method name&quot; + &quot; :start&quot;);\r\n        //do stuff\r\n        log(&quot;Here I want to print method name&quot; + &quot; :end&quot;);\r\n\t}\r\n\r\nIdeally, I want every method to automatically log before and after without really having to call log each time for each method.\r\n\r\nIs there a way to achieve this? I know annotation may be one option but I could not think I am the first one encountering this problem.","title":"How to automatically call a method before and after each method call","body":"<p>I have a class that have some methods for which I would like to add logs of the method name before and after each method.</p>\n<pre><code>private void log(String msg){\n    logger.info(&quot;=================================&quot;);\n    logger.info(msg);\n    logger.info(&quot;=================================&quot;);\n}\n\nprivate void method1(){\n    log(&quot;Here I want to print method name&quot; + &quot; :start&quot;);\n    //do stuff\n    log(&quot;Here I want to print method name&quot; + &quot; :end&quot;);\n}\n\nprivate void method2(){\n    log(&quot;Here I want to print method name&quot; + &quot; :start&quot;);\n    //do stuff\n    log(&quot;Here I want to print method name&quot; + &quot; :end&quot;);\n}\n</code></pre>\n<p>Ideally, I want every method to automatically log before and after without really having to call log each time for each method.</p>\n<p>Is there a way to achieve this? I know annotation may be one option but I could not think I am the first one encountering this problem.</p>\n"},{"tags":["java","mysql","geometry","mybatis"],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666785854,"creation_date":1666785854,"answer_id":74207447,"question_id":47886399,"body_markdown":"Here is an example using [locationtech/jts][1]&#39;s Geometry:\r\n\r\n\r\nMySQL Table:\r\n```sql\r\nCREATE TABLE `geo` (\r\n    `id` int(11) NOT NULL,\r\n    `path` geometry DEFAULT NULL,\r\n    PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\r\n```\r\n\r\nGeometry Entity Class:\r\n```java\r\npackage com.xyz.entity;\r\n\r\nimport org.locationtech.jts.geom.Geometry;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.StringJoiner;\r\n\r\npublic class GeometryEntity implements Serializable {\r\n    private int id;\r\n    private Geometry geometry;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Geometry getGeometry() {\r\n        return geometry;\r\n    }\r\n\r\n    public void setGeometry(Geometry geometry) {\r\n        this.geometry = geometry;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, GeometryEntity.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                .add(&quot;id=&quot; + id)\r\n                .add(&quot;geometry=&quot; + geometry)\r\n                .toString();\r\n    }\r\n}\r\n```\r\n\r\nMapper Class:\r\n```java\r\npackage com.xyz.mapper;\r\n\r\nimport com.xyz.entity.GeometryEntity;\r\nimport org.apache.ibatis.annotations.Param;\r\n\r\nimport java.util.List;\r\n\r\npublic interface GeometryMapper {\r\n    int insertGeometry(@Param(&quot;entity&quot;) GeometryEntity entity);\r\n\r\n    List&lt;GeometryEntity&gt; selectAll();\r\n\r\n    GeometryEntity selectGeometryById(int id);\r\n}\r\n```\r\n\r\nType Handler Class:\r\n```java\r\npackage com.xyz.typehandler;\r\n\r\nimport org.apache.ibatis.type.BaseTypeHandler;\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.locationtech.jts.geom.Geometry;\r\nimport org.locationtech.jts.geom.GeometryFactory;\r\nimport org.locationtech.jts.geom.PrecisionModel;\r\nimport org.locationtech.jts.io.ByteOrderValues;\r\nimport org.locationtech.jts.io.ParseException;\r\nimport org.locationtech.jts.io.WKBReader;\r\nimport org.locationtech.jts.io.WKBWriter;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\npublic class GeometryTypeHandler extends BaseTypeHandler&lt;Geometry&gt;  {\r\n    private static final PrecisionModel PRECISION_MODEL = new PrecisionModel(PrecisionModel.FIXED);\r\n    private static final Map&lt;Integer, GeometryFactory&gt; GEOMETRY_FACTORIES = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void setNonNullParameter(PreparedStatement ps, int i, Geometry parameter, JdbcType jdbcType) throws SQLException {\r\n        byte[] bytes = serializeGeometry(parameter);\r\n        ps.setBytes(i, bytes);\r\n    }\r\n\r\n    @Override\r\n    public Geometry getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n        byte[] bytes = rs.getBytes(columnName);\r\n        try {\r\n            return deserializeGeometry(bytes);\r\n        } catch (ParseException e) {\r\n            throw new SQLException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Geometry getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n        byte[] bytes = rs.getBytes(columnIndex);\r\n        try {\r\n            return deserializeGeometry(bytes);\r\n        } catch (ParseException e) {\r\n            throw new SQLException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Geometry getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n        byte[] bytes = cs.getBytes(columnIndex);\r\n        try {\r\n            return deserializeGeometry(bytes);\r\n        } catch (ParseException e) {\r\n            throw new SQLException(e);\r\n        }\r\n    }\r\n\r\n    private static Geometry deserializeGeometry(byte[] bytes) throws ParseException {\r\n        if (bytes == null) {\r\n            return null;\r\n        }\r\n\r\n        ByteBuffer buffer = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN);\r\n        int srid = buffer.getInt();\r\n        byte[] geometryBytes = new byte[buffer.remaining()];\r\n        buffer.get(geometryBytes);\r\n\r\n        // Thread-safe\r\n        GeometryFactory geometryFactory = GEOMETRY_FACTORIES.computeIfAbsent(srid, i -&gt; new GeometryFactory(PRECISION_MODEL, i));\r\n\r\n        // WKBReader is not thread-safe. a ThreadLocal variable can be used instead of creating a reader for each call.\r\n        WKBReader reader = new WKBReader(geometryFactory);\r\n        return reader.read(geometryBytes);\r\n    }\r\n\r\n    private byte[] serializeGeometry(Geometry geometry) {\r\n        int srid = geometry.getSRID();\r\n        byte[] bytes = new WKBWriter(2, ByteOrderValues.LITTLE_ENDIAN).write(geometry);\r\n        return ByteBuffer.allocate(bytes.length + 4).order(ByteOrder.LITTLE_ENDIAN)\r\n                .putInt(srid)\r\n                .put(bytes)\r\n                .array();\r\n    }\r\n}\r\n```\r\n\r\n\r\nMapper XML Config File (geometry.xml):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n&lt;mapper namespace=&quot;com.xyz.mapper.GeometryMapper&quot;&gt;\r\n\r\n    &lt;insert id=&quot;insertGeometry&quot; keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\r\n        INSERT INTO `geo`\r\n        VALUES (#{entity.id}, #{entity.geometry})\r\n    &lt;/insert&gt;\r\n\r\n    &lt;select id=&quot;selectAll&quot; resultMap=&quot;geometryResultMap&quot;&gt;\r\n        SELECT *\r\n        FROM `geo`\r\n    &lt;/select&gt;\r\n\r\n    &lt;select id=&quot;selectGeometryById&quot; parameterType=&quot;int&quot; resultMap=&quot;geometryResultMap&quot;&gt;\r\n        SELECT *\r\n        FROM `geo`\r\n        WHERE `id` = #{parameter}\r\n    &lt;/select&gt;\r\n\r\n    &lt;resultMap id=&quot;geometryResultMap&quot; type=&quot;com.xyz.entity.GeometryEntity&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;geometry&quot; column=&quot;path&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\nMyBatis XML Config:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\r\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n    &lt;typeHandlers&gt;\r\n        &lt;typeHandler handler=&quot;com.xyz.typehandler.GeometryTypeHandler&quot; javaType=&quot;org.locationtech.jts.geom.Geometry&quot; jdbcType=&quot;BLOB&quot;/&gt;\r\n    &lt;/typeHandlers&gt;\r\n    &lt;!--    &lt;environments&gt; tag goes here --&gt;\r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;com/xyz/mapping/mapping/geometry.xml&quot;/&gt;\r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nSample Code:\r\n```java\r\nGeometryMapper geometryMapper = sqlSession.getMapper(GeometryMapper.class);\r\n\r\nWKTReader wktReader = new WKTReader();\r\n\r\n// Inserting a point\r\nGeometryEntity pointEntity = new GeometryEntity();\r\nPoint point = (Point) wktReader.read(&quot;POINT(6 42)&quot;);\r\npointEntity.setId(1);\r\npointEntity.setGeometry(point);\r\ngeometryMapper.insertGeometry(pointEntity);\r\n\r\n// Inserting a polygon\r\nGeometryEntity polygonEntity = new GeometryEntity();\r\nPolygon polygon = (Polygon) wktReader.read(&quot;POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))&quot;);\r\npolygonEntity.setId(2);\r\npolygonEntity.setGeometry(polygon);\r\ngeometryMapper.insertGeometry(polygonEntity);\r\n\r\n// Inserting a collection\r\nGeometryEntity collectionEntity = new GeometryEntity();\r\nGeometryCollection geometryCollection = (GeometryCollection) wktReader.read(&quot;GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20 20))&quot;);\r\ncollectionEntity.setId(3);\r\ncollectionEntity.setGeometry(geometryCollection);\r\ngeometryMapper.insertGeometry(collectionEntity);\r\n\r\nsqlSession.commit();\r\n\r\ngeometryMapper.selectAll().forEach(System.out::println);\r\n```\r\n\r\nOutput:\r\n```lang-none\r\nGeometryEntity[id=1, geometry=POINT (6 42)]\r\nGeometryEntity[id=2, geometry=POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0), (5 5, 7 5, 7 7, 5 7, 5 5))]\r\nGeometryEntity[id=3, geometry=GEOMETRYCOLLECTION (POINT (10 10), POINT (30 30), LINESTRING (15 15, 20 20))]\r\n```\r\n\r\nMySQL:\r\n```sql\r\nSELECT id, ST_AsGeoJson(path) FROM `geo`;\r\n```\r\n\r\n| id  |  ST_AsGeoJson(path)  |\r\n|-----|----------------------|\r\n|  1  |  {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [6.0, 42.0]} |\r\n|  2  |  {&quot;type&quot;: &quot;Polygon&quot;, &quot;coordinates&quot;: [[[0.0, 0.0], [10.0, 0.0], [10.0, 10.0], [0.0, 10.0], [0.0, 0.0]], [[5.0, 5.0], [7.0, 5.0], [7.0, 7.0], [5.0, 7.0], [5.0, 5.0]]]}  |\r\n|  3  |  {&quot;type&quot;: &quot;GeometryCollection&quot;, &quot;geometries&quot;: [{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [10.0, 10.0]}, {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [30.0, 30.0]}, {&quot;type&quot;: &quot;LineString&quot;, &quot;coordinates&quot;: [[15.0, 15.0], [20.0, 20.0]]}]}  |\r\n\r\n\r\n  [1]: https://github.com/locationtech/jts","title":"How to map MySQL geometry type in Java using MyBatis?","body":"<p>Here is an example using <a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">locationtech/jts</a>'s Geometry:</p>\n<p>MySQL Table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `geo` (\n    `id` int(11) NOT NULL,\n    `path` geometry DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n<p>Geometry Entity Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xyz.entity;\n\nimport org.locationtech.jts.geom.Geometry;\n\nimport java.io.Serializable;\nimport java.util.StringJoiner;\n\npublic class GeometryEntity implements Serializable {\n    private int id;\n    private Geometry geometry;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Geometry getGeometry() {\n        return geometry;\n    }\n\n    public void setGeometry(Geometry geometry) {\n        this.geometry = geometry;\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, GeometryEntity.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;id=&quot; + id)\n                .add(&quot;geometry=&quot; + geometry)\n                .toString();\n    }\n}\n</code></pre>\n<p>Mapper Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xyz.mapper;\n\nimport com.xyz.entity.GeometryEntity;\nimport org.apache.ibatis.annotations.Param;\n\nimport java.util.List;\n\npublic interface GeometryMapper {\n    int insertGeometry(@Param(&quot;entity&quot;) GeometryEntity entity);\n\n    List&lt;GeometryEntity&gt; selectAll();\n\n    GeometryEntity selectGeometryById(int id);\n}\n</code></pre>\n<p>Type Handler Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xyz.typehandler;\n\nimport org.apache.ibatis.type.BaseTypeHandler;\nimport org.apache.ibatis.type.JdbcType;\nimport org.locationtech.jts.geom.Geometry;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.PrecisionModel;\nimport org.locationtech.jts.io.ByteOrderValues;\nimport org.locationtech.jts.io.ParseException;\nimport org.locationtech.jts.io.WKBReader;\nimport org.locationtech.jts.io.WKBWriter;\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class GeometryTypeHandler extends BaseTypeHandler&lt;Geometry&gt;  {\n    private static final PrecisionModel PRECISION_MODEL = new PrecisionModel(PrecisionModel.FIXED);\n    private static final Map&lt;Integer, GeometryFactory&gt; GEOMETRY_FACTORIES = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, Geometry parameter, JdbcType jdbcType) throws SQLException {\n        byte[] bytes = serializeGeometry(parameter);\n        ps.setBytes(i, bytes);\n    }\n\n    @Override\n    public Geometry getNullableResult(ResultSet rs, String columnName) throws SQLException {\n        byte[] bytes = rs.getBytes(columnName);\n        try {\n            return deserializeGeometry(bytes);\n        } catch (ParseException e) {\n            throw new SQLException(e);\n        }\n    }\n\n    @Override\n    public Geometry getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n        byte[] bytes = rs.getBytes(columnIndex);\n        try {\n            return deserializeGeometry(bytes);\n        } catch (ParseException e) {\n            throw new SQLException(e);\n        }\n    }\n\n    @Override\n    public Geometry getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n        byte[] bytes = cs.getBytes(columnIndex);\n        try {\n            return deserializeGeometry(bytes);\n        } catch (ParseException e) {\n            throw new SQLException(e);\n        }\n    }\n\n    private static Geometry deserializeGeometry(byte[] bytes) throws ParseException {\n        if (bytes == null) {\n            return null;\n        }\n\n        ByteBuffer buffer = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN);\n        int srid = buffer.getInt();\n        byte[] geometryBytes = new byte[buffer.remaining()];\n        buffer.get(geometryBytes);\n\n        // Thread-safe\n        GeometryFactory geometryFactory = GEOMETRY_FACTORIES.computeIfAbsent(srid, i -&gt; new GeometryFactory(PRECISION_MODEL, i));\n\n        // WKBReader is not thread-safe. a ThreadLocal variable can be used instead of creating a reader for each call.\n        WKBReader reader = new WKBReader(geometryFactory);\n        return reader.read(geometryBytes);\n    }\n\n    private byte[] serializeGeometry(Geometry geometry) {\n        int srid = geometry.getSRID();\n        byte[] bytes = new WKBWriter(2, ByteOrderValues.LITTLE_ENDIAN).write(geometry);\n        return ByteBuffer.allocate(bytes.length + 4).order(ByteOrder.LITTLE_ENDIAN)\n                .putInt(srid)\n                .put(bytes)\n                .array();\n    }\n}\n</code></pre>\n<p>Mapper XML Config File (geometry.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;com.xyz.mapper.GeometryMapper&quot;&gt;\n\n    &lt;insert id=&quot;insertGeometry&quot; keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\n        INSERT INTO `geo`\n        VALUES (#{entity.id}, #{entity.geometry})\n    &lt;/insert&gt;\n\n    &lt;select id=&quot;selectAll&quot; resultMap=&quot;geometryResultMap&quot;&gt;\n        SELECT *\n        FROM `geo`\n    &lt;/select&gt;\n\n    &lt;select id=&quot;selectGeometryById&quot; parameterType=&quot;int&quot; resultMap=&quot;geometryResultMap&quot;&gt;\n        SELECT *\n        FROM `geo`\n        WHERE `id` = #{parameter}\n    &lt;/select&gt;\n\n    &lt;resultMap id=&quot;geometryResultMap&quot; type=&quot;com.xyz.entity.GeometryEntity&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;geometry&quot; column=&quot;path&quot;/&gt;\n    &lt;/resultMap&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>MyBatis XML Config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    &lt;typeHandlers&gt;\n        &lt;typeHandler handler=&quot;com.xyz.typehandler.GeometryTypeHandler&quot; javaType=&quot;org.locationtech.jts.geom.Geometry&quot; jdbcType=&quot;BLOB&quot;/&gt;\n    &lt;/typeHandlers&gt;\n    &lt;!--    &lt;environments&gt; tag goes here --&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;com/xyz/mapping/mapping/geometry.xml&quot;/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Sample Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GeometryMapper geometryMapper = sqlSession.getMapper(GeometryMapper.class);\n\nWKTReader wktReader = new WKTReader();\n\n// Inserting a point\nGeometryEntity pointEntity = new GeometryEntity();\nPoint point = (Point) wktReader.read(&quot;POINT(6 42)&quot;);\npointEntity.setId(1);\npointEntity.setGeometry(point);\ngeometryMapper.insertGeometry(pointEntity);\n\n// Inserting a polygon\nGeometryEntity polygonEntity = new GeometryEntity();\nPolygon polygon = (Polygon) wktReader.read(&quot;POLYGON((0 0,10 0,10 10,0 10,0 0),(5 5,7 5,7 7,5 7, 5 5))&quot;);\npolygonEntity.setId(2);\npolygonEntity.setGeometry(polygon);\ngeometryMapper.insertGeometry(polygonEntity);\n\n// Inserting a collection\nGeometryEntity collectionEntity = new GeometryEntity();\nGeometryCollection geometryCollection = (GeometryCollection) wktReader.read(&quot;GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20 20))&quot;);\ncollectionEntity.setId(3);\ncollectionEntity.setGeometry(geometryCollection);\ngeometryMapper.insertGeometry(collectionEntity);\n\nsqlSession.commit();\n\ngeometryMapper.selectAll().forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>GeometryEntity[id=1, geometry=POINT (6 42)]\nGeometryEntity[id=2, geometry=POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0), (5 5, 7 5, 7 7, 5 7, 5 5))]\nGeometryEntity[id=3, geometry=GEOMETRYCOLLECTION (POINT (10 10), POINT (30 30), LINESTRING (15 15, 20 20))]\n</code></pre>\n<p>MySQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT id, ST_AsGeoJson(path) FROM `geo`;\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>ST_AsGeoJson(path)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [6.0, 42.0]}</td>\n</tr>\n<tr>\n<td>2</td>\n<td>{&quot;type&quot;: &quot;Polygon&quot;, &quot;coordinates&quot;: [[[0.0, 0.0], [10.0, 0.0], [10.0, 10.0], [0.0, 10.0], [0.0, 0.0]], [[5.0, 5.0], [7.0, 5.0], [7.0, 7.0], [5.0, 7.0], [5.0, 5.0]]]}</td>\n</tr>\n<tr>\n<td>3</td>\n<td>{&quot;type&quot;: &quot;GeometryCollection&quot;, &quot;geometries&quot;: [{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [10.0, 10.0]}, {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [30.0, 30.0]}, {&quot;type&quot;: &quot;LineString&quot;, &quot;coordinates&quot;: [[15.0, 15.0], [20.0, 20.0]]}]}</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":10353058,"reputation":323,"user_id":7635920,"display_name":"DoneSpeak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666785916,"creation_date":1513684327,"question_id":47886399,"body_markdown":"How to map MySQL geometry type in java using MyBatis? My database table is like the following:\r\n```sql\r\nCREATE TABLE `test` (\r\n    `id` int(11) NOT NULL,\r\n    `path` geometry DEFAULT NULL,\r\n    PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\r\n```\r\nI have no idea to design the POJO and write my mapper.\r\n","title":"How to map MySQL geometry type in Java using MyBatis?","body":"<p>How to map MySQL geometry type in java using MyBatis? My database table is like the following:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `test` (\n    `id` int(11) NOT NULL,\n    `path` geometry DEFAULT NULL,\n    PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n<p>I have no idea to design the POJO and write my mapper.</p>\n"},{"tags":["java","spring","forms","hibernate","validation"],"answers":[{"tags":[],"owner":{"account_id":7068611,"reputation":190,"user_id":5411068,"display_name":"spm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444409663,"creation_date":1444409663,"answer_id":33043543,"question_id":33042745,"body_markdown":"You&#39;re performing a redirect\r\nmodel.setViewName(&quot;redirect:/host/manage/users/create&quot;);\r\n\r\nYour errors are stored in the model and subsequently in the HttpServletRequest attributes. These only last for the duration of one request. A redirect causes the client to send a new request. They therefore don&#39;t exist when your redirected view is rendered.\r\n\r\nConsider using flash attributes. \r\n\r\nPlease look at the example below\r\n\r\nhttps://stackoverflow.com/questions/2543797/spring-redirect-after-post-even-with-validation-errors","title":"Spring MVC &lt;form:errors /&gt; not showing errors","body":"<p>You're performing a redirect\nmodel.setViewName(\"redirect:/host/manage/users/create\");</p>\n\n<p>Your errors are stored in the model and subsequently in the HttpServletRequest attributes. These only last for the duration of one request. A redirect causes the client to send a new request. They therefore don't exist when your redirected view is rendered.</p>\n\n<p>Consider using flash attributes. </p>\n\n<p>Please look at the example below</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2543797/spring-redirect-after-post-even-with-validation-errors\">Spring - Redirect after POST (even with validation errors)</a></p>\n"},{"tags":[],"owner":{"account_id":7068611,"reputation":190,"user_id":5411068,"display_name":"spm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444413871,"creation_date":1444413871,"answer_id":33044571,"question_id":33042745,"body_markdown":"I don&#39;t see a commandName in your form tag.\r\nTry like this\r\nhttps://stefanhendriks.wordpress.com/2012/03/22/gotchas-showing-error-messages-with-spring-forms-formerrors/","title":"Spring MVC &lt;form:errors /&gt; not showing errors","body":"<p>I don't see a commandName in your form tag.\nTry like this\n<a href=\"https://stefanhendriks.wordpress.com/2012/03/22/gotchas-showing-error-messages-with-spring-forms-formerrors/\" rel=\"nofollow\">https://stefanhendriks.wordpress.com/2012/03/22/gotchas-showing-error-messages-with-spring-forms-formerrors/</a></p>\n"}],"owner":{"account_id":2905572,"reputation":39,"user_id":2491049,"accept_rate":86,"display_name":"Tijme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3734,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666785877,"creation_date":1444406828,"question_id":33042745,"body_markdown":"I am creating a Spring MVC (4.2.1) / Hibernate (5.0.1) web application. I am trying to get error validation working in my forms.\r\n\r\nThe validation itself is working. When I call `result.getAllErrors()` in my controller. I get the following output:\r\n\r\n\t[Field error in object &#39;user&#39; on field &#39;first_name&#39;: rejected value [a];\r\n\t\tcodes [Size.user.first_name,Size.first_name,Size]; \r\n\t\targuments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.first_name,first_name]; \r\n\t\targuments []; \r\n\t\tdefault message [first_name],4,2]; \r\n\t\tdefault message [size must be between 2 and 4]\r\n\t] \r\n\r\nThe `&lt;form:errors /&gt;` in my .jsp file is not working unfortunately. It does not output anything at all.\r\n\r\nDoes anybody know how to fix this?\r\n\r\n**create.jsp (view)**\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;tg&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n        &lt;ol class=&quot;breadcrumb&quot;&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/host/manage/dashboard/index&quot;&gt;&lt;spring:message code=&quot;dashboard.title&quot; /&gt;&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/host/manage/users/index&quot;&gt;&lt;spring:message code=&quot;user.title&quot; /&gt;&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li class=&quot;active&quot;&gt;&lt;spring:message code=&quot;user.create_entity&quot; /&gt;&lt;/li&gt;\r\n        &lt;/ol&gt;\r\n        &lt;form:form method=&quot;post&quot; modelAttribute=&quot;user&quot; autocomplete=&quot;off&quot;&gt;\r\n                &lt;div class=&quot;panel panel-default&quot;&gt;\r\n                    &lt;div class=&quot;panel-heading&quot;&gt;\r\n                        &lt;strong&gt;&lt;spring:message code=&quot;user.title&quot; /&gt;&lt;/strong&gt;\r\n                        &lt;p&gt;&lt;spring:message code=&quot;user.create_entity&quot; /&gt;&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;panel-body&quot;&gt;\r\n                        &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;firstName&quot;&gt;&lt;spring:message code=&quot;user.first_name&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;spring:message code=&quot;user.first_name_placeholder&quot; var=&quot;user_first_name_placeholder&quot;/&gt;\r\n                                    &lt;form:input type=&quot;text&quot; path=&quot;firstName&quot; class=&quot;form-control&quot; id=&quot;firstName&quot; placeholder=&quot;${user_first_name_placeholder}&quot; autocomplete=&quot;off&quot; /&gt;\r\n                                    &lt;form:errors path=&quot;firstName&quot; /&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;lastName&quot;&gt;&lt;spring:message code=&quot;user.last_name&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;spring:message code=&quot;user.last_name_placeholder&quot; var=&quot;user_last_name_placeholder&quot;/&gt;\r\n                                    &lt;form:input type=&quot;text&quot; path=&quot;lastName&quot; class=&quot;form-control&quot; id=&quot;lastName&quot; placeholder=&quot;${user_last_name_placeholder}&quot; autocomplete=&quot;off&quot; /&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-12&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;email&quot;&gt;&lt;spring:message code=&quot;user.email&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;spring:message code=&quot;user.email_placeholder&quot; var=&quot;user_email_placeholder&quot;/&gt;\r\n                                    &lt;form:input type=&quot;email&quot; path=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; placeholder=&quot;${user_email_placeholder}&quot; autocomplete=&quot;off&quot; /&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;password&quot;&gt;&lt;spring:message code=&quot;user.password&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;spring:message code=&quot;user.password_placeholder&quot; var=&quot;user_password_placeholder&quot;/&gt;\r\n                                    &lt;form:input type=&quot;password&quot; path=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; placeholder=&quot;${user_password_placeholder}&quot; autocomplete=&quot;off&quot; /&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;passwordConfirmation&quot;&gt;&lt;spring:message code=&quot;user.password_confirmation&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;spring:message code=&quot;user.password_confirmation_placeholder&quot; var=&quot;user_password_confirmation_placeholder&quot;/&gt;\r\n                                    &lt;form:input type=&quot;password&quot; path=&quot;passwordConfirmation&quot; class=&quot;form-control&quot; id=&quot;passwordConfirmation&quot; placeholder=&quot;${user_password_confirmation_placeholder}&quot; autocomplete=&quot;off&quot; /&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-12&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;role&quot;&gt;&lt;spring:message code=&quot;user.role&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;form:select path=&quot;role&quot; id=&quot;role&quot; class=&quot;form-control&quot; required=&quot;required&quot;&gt;\r\n                                        &lt;option default&gt;-- &lt;spring:message code=&quot;general.click_to_select&quot; /&gt; --&lt;/option&gt;\r\n                                        &lt;c:forEach items=&quot;${roles}&quot; var=&quot;role&quot;&gt;\r\n                                            &lt;c:set value=&quot;user.${role }&quot; var=&quot;roleMessage&quot;  /&gt;\r\n                                            &lt;option value=&quot;${role }&quot;&gt;&lt;spring:message code=&quot;${roleMessage }&quot;/&gt;&lt;/option&gt;\r\n                                        &lt;/c:forEach&gt;\r\n                                    &lt;/form:select&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;row&quot;&gt;\r\n                            &lt;div class=&quot;col-md-12&quot;&gt;\r\n                                &lt;div class=&quot;form-group&quot;&gt;\r\n                                    &lt;label for=&quot;enabled&quot;&gt;&lt;spring:message code=&quot;user.enabled&quot; /&gt;&lt;/label&gt;\r\n                                    &lt;form:select path=&quot;enabled&quot; id=&quot;enabled&quot; class=&quot;form-control&quot; required=&quot;required&quot;&gt;\r\n                                        &lt;option default&gt;-- &lt;spring:message code=&quot;general.click_to_select&quot; /&gt; --&lt;/option&gt;\r\n                                        &lt;option value=&quot;1&quot;&gt;&lt;spring:message code=&quot;user.enabled_1&quot; /&gt;&lt;/option&gt;\r\n                                        &lt;option value=&quot;0&quot;&gt;&lt;spring:message code=&quot;user.enabled_0&quot; /&gt;&lt;/option&gt;\r\n                                    &lt;/form:select&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;panel-footer&quot;&gt;\r\n                        &lt;form:button type=&quot;submit&quot; class=&quot;btn btn-sm btn-success&quot;&gt;&lt;spring:message code=&quot;general.save&quot; /&gt;&lt;/form:button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n\r\n**UserController.java (controller)**\r\n\r\n\tpackage com.klm.workshop.controller.host.manage;\r\n\r\n\timport com.klm.workshop.dao.UserDAO;\r\n\timport com.klm.workshop.model.User;\r\n\timport javax.validation.Valid;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.support.PagedListHolder;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.ui.Model;\r\n\timport org.springframework.validation.BindingResult;\r\n\timport org.springframework.web.bind.annotation.ModelAttribute;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.servlet.ModelAndView;\r\n\r\n\t/**\r\n\t * Host manage users controller\r\n\t * \r\n\t * @author -\r\n\t */\r\n\t@Controller(&quot;hostManageUserController&quot;)\r\n\t@RequestMapping(value=&quot;/host/manage&quot;)\r\n\tpublic class UserController {\r\n\t\t\r\n\t\t/**\r\n\t\t * User data access object\r\n\t\t */\r\n\t\t@Autowired\r\n\t\tprivate UserDAO userDAO;\r\n\t\t\r\n\t\t/**\r\n\t\t * List of users\r\n\t\t * \r\n\t\t * @param model Objects and view\r\n\t\t * @param page Current pagination page\r\n\t\t * @param search Search value\r\n\t\t * @return The users list view\r\n\t\t */\r\n\t\t@RequestMapping(value=&quot;/users/index&quot;, method=RequestMethod.GET)\r\n\t\tpublic ModelAndView index(\r\n\t\t\t\tModelAndView model, \r\n\t\t\t\t@RequestParam(name=&quot;p&quot;, required=false, defaultValue = &quot;0&quot;) int page, \r\n\t\t\t\t@RequestParam(name=&quot;search&quot;, required=false, defaultValue = &quot;&quot;) String search\r\n\t\t) {\r\n\t\t\tPagedListHolder pagedListHolder = new PagedListHolder();\r\n\t\t\tpagedListHolder.setSource(userDAO.searchAll(search));\r\n\t\t\tpagedListHolder.setPage(page);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmodel.addObject(&quot;pagedListHolder&quot;, pagedListHolder);\r\n\t\t\tmodel.setViewName(&quot;host/manage/users/index&quot;);\r\n\t\t\treturn model;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Show create user form\r\n\t\t * \r\n\t\t * @param model Objects and view\r\n\t\t * @return Form to create a user\r\n\t\t */\r\n\t\t@RequestMapping(value=&quot;/users/create&quot;, method=RequestMethod.GET)\r\n\t\tpublic ModelAndView getCreate(ModelAndView model) {\r\n\t\t\tmodel.addObject(&quot;user&quot;, new User());\r\n\t\t\tmodel.addObject(&quot;roles&quot;, User.Role.values());\r\n\t\t\tmodel.setViewName(&quot;host/manage/users/create&quot;);\r\n\t\t\treturn model;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Create user, and show create user form\r\n\t\t * \r\n\t\t * @param model Objects and view\r\n\t\t * @param user The posted user\r\n\t\t * @param result Binded validation\r\n\t\t * @return Form to create a user, or a redirect (if user was created successfully)\r\n\t\t */\r\n\t\t@RequestMapping(value=&quot;/users/create&quot;, method=RequestMethod.POST)\r\n\t\tpublic ModelAndView postCreate(\r\n\t\t\t\tModelAndView model, \r\n\t\t\t\t@ModelAttribute(&quot;user&quot;) @Valid User user, \r\n\t\t\t\tBindingResult result\r\n\t\t) {\r\n\t\t\tif (result.hasErrors()) {\r\n\t\t\t\tmodel.addObject(&quot;user&quot;, user);\r\n\t\t\t\tmodel.addObject(&quot;roles&quot;, User.Role.values());\r\n\t\t\t\tmodel.setViewName(&quot;host/manage/users/create&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tmodel.setViewName(&quot;redirect:/host/manage/users/create&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn model;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n**User.java (model)**\r\n\r\n    package com.klm.workshop.model;\r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.EnumType;\r\n    import javax.persistence.Enumerated;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Transient;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import org.hibernate.validator.constraints.Email;\r\n\r\n    /**\r\n     * User model\r\n     * \r\n     * @author -\r\n     */\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User implements Serializable {\r\n        \r\n        /**\r\n         * Host role (enum value for the user role)\r\n         */\r\n        public static final String ROLE_HOST = &quot;ROLE_HOST&quot;;\r\n        \r\n        /**\r\n         * Participant role (enum value for the user role)\r\n         */\r\n        public static final String ROLE_PARTICIPANT = &quot;ROLE_PARTICIPANT&quot;;\r\n        \r\n        /**\r\n         * Administrator role (enum value for the user role)\r\n         */\r\n        public static final String ROLE_ADMINISTRATOR = &quot;ROLE_ADMINISTRATOR&quot;;\r\n        \r\n        /**\r\n         * Host action\r\n         */\r\n        public static final String ACTION_HOST = &quot;host&quot;;\r\n        \r\n        /**\r\n         * Participate action\r\n         */\r\n        public static final String ACTION_PARTICIPATE = &quot;participate&quot;;\r\n        \r\n        /**\r\n         * Identifier for user\r\n         */\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        @Column(name=&quot;id&quot;)\r\n        private int id;\r\n\r\n        /**\r\n         * Email from the user\r\n         */\r\n        @Email\r\n        @NotNull\r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n\r\n        /**\r\n         * Hashed password from the user\r\n         */\r\n        @NotNull\r\n        @Column(name=&quot;password&quot;)\r\n        private String password;\r\n        \r\n        /**\r\n         * Hashed password confirmation from the user\r\n         */\r\n        @Transient\r\n        private String password_confirmation;\r\n\r\n        /**\r\n         * Role from the user\r\n         */\r\n        @Enumerated(EnumType.STRING)\r\n        @NotNull\r\n        @Column(name=&quot;role&quot;)\r\n        private Role role;\r\n\r\n        /**\r\n         * If user is blocked\r\n         */\r\n        @NotNull\r\n        @Column(name=&quot;enabled&quot;)\r\n        private boolean enabled;\r\n\r\n        /**\r\n         * User&#39;s first name\r\n         */\r\n        @NotNull\r\n        @Size(min = 2, max = 4)\r\n        @Column(name=&quot;first_name&quot;)\r\n        private String first_name;\r\n\r\n        /**\r\n         * User&#39;s last name (also containing optional insertion)\r\n         */\r\n        @NotNull\r\n        @Size(min = 2, max = 255)\r\n        @Column(name=&quot;last_name&quot;)\r\n        private String last_name;\r\n        \r\n        /**\r\n         * User&#39;s action (want does the user want to do, participate or host)\r\n         */\r\n        @Transient\r\n        private String action;\r\n        \r\n        /**\r\n         * User&#39;s workshop (only set if the user is a participant)\r\n         */\r\n        @Transient\r\n        private Workshop workshop;\r\n        \r\n        /**\r\n         * Enum values for the role column\r\n         */\r\n        public enum Role {\r\n            ROLE_PARTICIPANT, \r\n            ROLE_HOST, \r\n            ROLE_ADMINISTRATOR;\r\n        }\r\n\r\n        /**\r\n         * @return the id\r\n         */\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * @param id the id to set\r\n         */\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        /**\r\n         * @return the email\r\n         */\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n\r\n        /**\r\n         * @param email the email to set\r\n         */\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n\r\n        /**\r\n         * @return the hashed password\r\n         */\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        /**\r\n         * @param password the password to set\r\n         */\r\n        public void setPassword(String password) {\r\n            BCryptPasswordEncoder bcrypt = new BCryptPasswordEncoder();\r\n            String hashedPassword = bcrypt.encode(password);\r\n            this.password = hashedPassword;\r\n        }\r\n\r\n        /**\r\n         * @return the hashed password\r\n         */\r\n        public String getPasswordConfirmation() {\r\n            return password_confirmation;\r\n        }\r\n\r\n        /**\r\n         * @param password_confirmation the password confirmation to set\r\n         */\r\n        public void setPasswordConfirmation(String password_confirmation) {\r\n            BCryptPasswordEncoder bcrypt = new BCryptPasswordEncoder();\r\n            String hashedPassword = bcrypt.encode(password_confirmation);\r\n            this.password_confirmation = hashedPassword;\r\n        }\r\n\r\n        /**\r\n         * @return the role\r\n         */\r\n        public Role getRole() {\r\n            return role;\r\n        }\r\n\r\n        /**\r\n         * @param role the role to set\r\n         */\r\n        public void setRole(Role role) {\r\n            this.role = role;\r\n        }\r\n\r\n        /**\r\n         * @return the enabled status\r\n         */\r\n        public boolean getEnabled() {\r\n            return enabled;\r\n        }\r\n\r\n        /**\r\n         * @param enabled the enabled status to set\r\n         */\r\n        public void setEnabled(boolean enabled) {\r\n            this.enabled = enabled;\r\n        }\r\n\r\n        /**\r\n         * @return the first_name\r\n         */\r\n        public String getFirstName() {\r\n            return first_name;\r\n        }\r\n\r\n        /**\r\n         * @param first_name the first_name to set\r\n         */\r\n        public void setFirstName(String first_name) {\r\n            this.first_name = first_name;\r\n        }\r\n\r\n        /**\r\n         * @return the last_name\r\n         */\r\n        public String getLastName() {\r\n            return last_name;\r\n        }\r\n\r\n        /**\r\n         * @param last_name the last_name to set\r\n         */\r\n        public void setLastName(String last_name) {\r\n            this.last_name = last_name;\r\n        }\r\n\r\n        /**\r\n         * @return the first_name and last_name\r\n         */\r\n        public String getFullName() {\r\n            return getFirstName() + &quot; &quot; + getLastName();\r\n        }\r\n\r\n        /**\r\n         * @return the action\r\n         */\r\n        public String getAction() {\r\n            return action;\r\n        }\r\n\r\n        /**\r\n         * @param action the action to set\r\n         */\r\n        public void setAction(String action) {\r\n            this.action = action;\r\n        }\r\n\r\n        /**\r\n         * @return the workshop\r\n         */\r\n        public Workshop getWorkshop() {\r\n            if(this.action.equals(ACTION_HOST)) {\r\n                throw new UnsupportedOperationException(&quot;Workshop cannot be returned when user is hosting a workshop&quot;);\r\n            }\r\n            \r\n            return workshop;\r\n        }\r\n\r\n        /**\r\n         * @param workshop the workshop to set\r\n         */\r\n        public void setWorkshop(Workshop workshop) {\r\n            if(this.action.equals(ACTION_HOST)) {\r\n                throw new UnsupportedOperationException(&quot;Workshop cannot be set when user is hosting a workshop&quot;);\r\n            }\r\n            \r\n            this.workshop = workshop;\r\n        }\r\n\r\n    }\r\n","title":"Spring MVC &lt;form:errors /&gt; not showing errors","body":"<p>I am creating a Spring MVC (4.2.1) / Hibernate (5.0.1) web application. I am trying to get error validation working in my forms.</p>\n\n<p>The validation itself is working. When I call <code>result.getAllErrors()</code> in my controller. I get the following output:</p>\n\n<pre><code>[Field error in object 'user' on field 'first_name': rejected value [a];\n    codes [Size.user.first_name,Size.first_name,Size]; \n    arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.first_name,first_name]; \n    arguments []; \n    default message [first_name],4,2]; \n    default message [size must be between 2 and 4]\n] \n</code></pre>\n\n<p>The <code>&lt;form:errors /&gt;</code> in my .jsp file is not working unfortunately. It does not output anything at all.</p>\n\n<p>Does anybody know how to fix this?</p>\n\n<p><strong>create.jsp (view)</strong></p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %&gt;\n&lt;%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %&gt;\n&lt;%@ taglib prefix=\"tg\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;div class=\"container-fluid\"&gt;\n    &lt;ol class=\"breadcrumb\"&gt;\n        &lt;li&gt;&lt;a href=\"/host/manage/dashboard/index\"&gt;&lt;spring:message code=\"dashboard.title\" /&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/host/manage/users/index\"&gt;&lt;spring:message code=\"user.title\" /&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"active\"&gt;&lt;spring:message code=\"user.create_entity\" /&gt;&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;form:form method=\"post\" modelAttribute=\"user\" autocomplete=\"off\"&gt;\n            &lt;div class=\"panel panel-default\"&gt;\n                &lt;div class=\"panel-heading\"&gt;\n                    &lt;strong&gt;&lt;spring:message code=\"user.title\" /&gt;&lt;/strong&gt;\n                    &lt;p&gt;&lt;spring:message code=\"user.create_entity\" /&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=\"panel-body\"&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"firstName\"&gt;&lt;spring:message code=\"user.first_name\" /&gt;&lt;/label&gt;\n                                &lt;spring:message code=\"user.first_name_placeholder\" var=\"user_first_name_placeholder\"/&gt;\n                                &lt;form:input type=\"text\" path=\"firstName\" class=\"form-control\" id=\"firstName\" placeholder=\"${user_first_name_placeholder}\" autocomplete=\"off\" /&gt;\n                                &lt;form:errors path=\"firstName\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"lastName\"&gt;&lt;spring:message code=\"user.last_name\" /&gt;&lt;/label&gt;\n                                &lt;spring:message code=\"user.last_name_placeholder\" var=\"user_last_name_placeholder\"/&gt;\n                                &lt;form:input type=\"text\" path=\"lastName\" class=\"form-control\" id=\"lastName\" placeholder=\"${user_last_name_placeholder}\" autocomplete=\"off\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-12\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"email\"&gt;&lt;spring:message code=\"user.email\" /&gt;&lt;/label&gt;\n                                &lt;spring:message code=\"user.email_placeholder\" var=\"user_email_placeholder\"/&gt;\n                                &lt;form:input type=\"email\" path=\"email\" class=\"form-control\" id=\"email\" placeholder=\"${user_email_placeholder}\" autocomplete=\"off\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"password\"&gt;&lt;spring:message code=\"user.password\" /&gt;&lt;/label&gt;\n                                &lt;spring:message code=\"user.password_placeholder\" var=\"user_password_placeholder\"/&gt;\n                                &lt;form:input type=\"password\" path=\"password\" class=\"form-control\" id=\"password\" placeholder=\"${user_password_placeholder}\" autocomplete=\"off\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"passwordConfirmation\"&gt;&lt;spring:message code=\"user.password_confirmation\" /&gt;&lt;/label&gt;\n                                &lt;spring:message code=\"user.password_confirmation_placeholder\" var=\"user_password_confirmation_placeholder\"/&gt;\n                                &lt;form:input type=\"password\" path=\"passwordConfirmation\" class=\"form-control\" id=\"passwordConfirmation\" placeholder=\"${user_password_confirmation_placeholder}\" autocomplete=\"off\" /&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-12\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"role\"&gt;&lt;spring:message code=\"user.role\" /&gt;&lt;/label&gt;\n                                &lt;form:select path=\"role\" id=\"role\" class=\"form-control\" required=\"required\"&gt;\n                                    &lt;option default&gt;-- &lt;spring:message code=\"general.click_to_select\" /&gt; --&lt;/option&gt;\n                                    &lt;c:forEach items=\"${roles}\" var=\"role\"&gt;\n                                        &lt;c:set value=\"user.${role }\" var=\"roleMessage\"  /&gt;\n                                        &lt;option value=\"${role }\"&gt;&lt;spring:message code=\"${roleMessage }\"/&gt;&lt;/option&gt;\n                                    &lt;/c:forEach&gt;\n                                &lt;/form:select&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-12\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;label for=\"enabled\"&gt;&lt;spring:message code=\"user.enabled\" /&gt;&lt;/label&gt;\n                                &lt;form:select path=\"enabled\" id=\"enabled\" class=\"form-control\" required=\"required\"&gt;\n                                    &lt;option default&gt;-- &lt;spring:message code=\"general.click_to_select\" /&gt; --&lt;/option&gt;\n                                    &lt;option value=\"1\"&gt;&lt;spring:message code=\"user.enabled_1\" /&gt;&lt;/option&gt;\n                                    &lt;option value=\"0\"&gt;&lt;spring:message code=\"user.enabled_0\" /&gt;&lt;/option&gt;\n                                &lt;/form:select&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"panel-footer\"&gt;\n                    &lt;form:button type=\"submit\" class=\"btn btn-sm btn-success\"&gt;&lt;spring:message code=\"general.save\" /&gt;&lt;/form:button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n    &lt;/form:form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>UserController.java (controller)</strong></p>\n\n<pre><code>package com.klm.workshop.controller.host.manage;\n\nimport com.klm.workshop.dao.UserDAO;\nimport com.klm.workshop.model.User;\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.support.PagedListHolder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\n/**\n * Host manage users controller\n * \n * @author -\n */\n@Controller(\"hostManageUserController\")\n@RequestMapping(value=\"/host/manage\")\npublic class UserController {\n\n    /**\n     * User data access object\n     */\n    @Autowired\n    private UserDAO userDAO;\n\n    /**\n     * List of users\n     * \n     * @param model Objects and view\n     * @param page Current pagination page\n     * @param search Search value\n     * @return The users list view\n     */\n    @RequestMapping(value=\"/users/index\", method=RequestMethod.GET)\n    public ModelAndView index(\n            ModelAndView model, \n            @RequestParam(name=\"p\", required=false, defaultValue = \"0\") int page, \n            @RequestParam(name=\"search\", required=false, defaultValue = \"\") String search\n    ) {\n        PagedListHolder pagedListHolder = new PagedListHolder();\n        pagedListHolder.setSource(userDAO.searchAll(search));\n        pagedListHolder.setPage(page);\n\n\n        model.addObject(\"pagedListHolder\", pagedListHolder);\n        model.setViewName(\"host/manage/users/index\");\n        return model;\n    }\n\n    /**\n     * Show create user form\n     * \n     * @param model Objects and view\n     * @return Form to create a user\n     */\n    @RequestMapping(value=\"/users/create\", method=RequestMethod.GET)\n    public ModelAndView getCreate(ModelAndView model) {\n        model.addObject(\"user\", new User());\n        model.addObject(\"roles\", User.Role.values());\n        model.setViewName(\"host/manage/users/create\");\n        return model;\n    }\n\n    /**\n     * Create user, and show create user form\n     * \n     * @param model Objects and view\n     * @param user The posted user\n     * @param result Binded validation\n     * @return Form to create a user, or a redirect (if user was created successfully)\n     */\n    @RequestMapping(value=\"/users/create\", method=RequestMethod.POST)\n    public ModelAndView postCreate(\n            ModelAndView model, \n            @ModelAttribute(\"user\") @Valid User user, \n            BindingResult result\n    ) {\n        if (result.hasErrors()) {\n            model.addObject(\"user\", user);\n            model.addObject(\"roles\", User.Role.values());\n            model.setViewName(\"host/manage/users/create\");\n        } else {\n            model.setViewName(\"redirect:/host/manage/users/create\");\n        }\n\n        return model;\n    }\n\n}\n</code></pre>\n\n<p><strong>User.java (model)</strong></p>\n\n<pre><code>package com.klm.workshop.model;\n\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.persistence.Transient;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport org.hibernate.validator.constraints.Email;\n\n/**\n * User model\n * \n * @author -\n */\n@Entity\n@Table(name=\"users\")\npublic class User implements Serializable {\n\n    /**\n     * Host role (enum value for the user role)\n     */\n    public static final String ROLE_HOST = \"ROLE_HOST\";\n\n    /**\n     * Participant role (enum value for the user role)\n     */\n    public static final String ROLE_PARTICIPANT = \"ROLE_PARTICIPANT\";\n\n    /**\n     * Administrator role (enum value for the user role)\n     */\n    public static final String ROLE_ADMINISTRATOR = \"ROLE_ADMINISTRATOR\";\n\n    /**\n     * Host action\n     */\n    public static final String ACTION_HOST = \"host\";\n\n    /**\n     * Participate action\n     */\n    public static final String ACTION_PARTICIPATE = \"participate\";\n\n    /**\n     * Identifier for user\n     */\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"id\")\n    private int id;\n\n    /**\n     * Email from the user\n     */\n    @Email\n    @NotNull\n    @Column(name=\"email\")\n    private String email;\n\n    /**\n     * Hashed password from the user\n     */\n    @NotNull\n    @Column(name=\"password\")\n    private String password;\n\n    /**\n     * Hashed password confirmation from the user\n     */\n    @Transient\n    private String password_confirmation;\n\n    /**\n     * Role from the user\n     */\n    @Enumerated(EnumType.STRING)\n    @NotNull\n    @Column(name=\"role\")\n    private Role role;\n\n    /**\n     * If user is blocked\n     */\n    @NotNull\n    @Column(name=\"enabled\")\n    private boolean enabled;\n\n    /**\n     * User's first name\n     */\n    @NotNull\n    @Size(min = 2, max = 4)\n    @Column(name=\"first_name\")\n    private String first_name;\n\n    /**\n     * User's last name (also containing optional insertion)\n     */\n    @NotNull\n    @Size(min = 2, max = 255)\n    @Column(name=\"last_name\")\n    private String last_name;\n\n    /**\n     * User's action (want does the user want to do, participate or host)\n     */\n    @Transient\n    private String action;\n\n    /**\n     * User's workshop (only set if the user is a participant)\n     */\n    @Transient\n    private Workshop workshop;\n\n    /**\n     * Enum values for the role column\n     */\n    public enum Role {\n        ROLE_PARTICIPANT, \n        ROLE_HOST, \n        ROLE_ADMINISTRATOR;\n    }\n\n    /**\n     * @return the id\n     */\n    public int getId() {\n        return id;\n    }\n\n    /**\n     * @param id the id to set\n     */\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    /**\n     * @return the email\n     */\n    public String getEmail() {\n        return email;\n    }\n\n    /**\n     * @param email the email to set\n     */\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    /**\n     * @return the hashed password\n     */\n    public String getPassword() {\n        return password;\n    }\n\n    /**\n     * @param password the password to set\n     */\n    public void setPassword(String password) {\n        BCryptPasswordEncoder bcrypt = new BCryptPasswordEncoder();\n        String hashedPassword = bcrypt.encode(password);\n        this.password = hashedPassword;\n    }\n\n    /**\n     * @return the hashed password\n     */\n    public String getPasswordConfirmation() {\n        return password_confirmation;\n    }\n\n    /**\n     * @param password_confirmation the password confirmation to set\n     */\n    public void setPasswordConfirmation(String password_confirmation) {\n        BCryptPasswordEncoder bcrypt = new BCryptPasswordEncoder();\n        String hashedPassword = bcrypt.encode(password_confirmation);\n        this.password_confirmation = hashedPassword;\n    }\n\n    /**\n     * @return the role\n     */\n    public Role getRole() {\n        return role;\n    }\n\n    /**\n     * @param role the role to set\n     */\n    public void setRole(Role role) {\n        this.role = role;\n    }\n\n    /**\n     * @return the enabled status\n     */\n    public boolean getEnabled() {\n        return enabled;\n    }\n\n    /**\n     * @param enabled the enabled status to set\n     */\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n\n    /**\n     * @return the first_name\n     */\n    public String getFirstName() {\n        return first_name;\n    }\n\n    /**\n     * @param first_name the first_name to set\n     */\n    public void setFirstName(String first_name) {\n        this.first_name = first_name;\n    }\n\n    /**\n     * @return the last_name\n     */\n    public String getLastName() {\n        return last_name;\n    }\n\n    /**\n     * @param last_name the last_name to set\n     */\n    public void setLastName(String last_name) {\n        this.last_name = last_name;\n    }\n\n    /**\n     * @return the first_name and last_name\n     */\n    public String getFullName() {\n        return getFirstName() + \" \" + getLastName();\n    }\n\n    /**\n     * @return the action\n     */\n    public String getAction() {\n        return action;\n    }\n\n    /**\n     * @param action the action to set\n     */\n    public void setAction(String action) {\n        this.action = action;\n    }\n\n    /**\n     * @return the workshop\n     */\n    public Workshop getWorkshop() {\n        if(this.action.equals(ACTION_HOST)) {\n            throw new UnsupportedOperationException(\"Workshop cannot be returned when user is hosting a workshop\");\n        }\n\n        return workshop;\n    }\n\n    /**\n     * @param workshop the workshop to set\n     */\n    public void setWorkshop(Workshop workshop) {\n        if(this.action.equals(ACTION_HOST)) {\n            throw new UnsupportedOperationException(\"Workshop cannot be set when user is hosting a workshop\");\n        }\n\n        this.workshop = workshop;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":2,"creation_date":1666613572,"post_id":74176267,"comment_id":130971356,"body_markdown":"Does this answer your question? [Vertx Future Object returns null](https://stackoverflow.com/questions/48551722/vertx-future-object-returns-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48551722/vertx-future-object-returns-null\">Vertx Future Object returns null</a>"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1666613627,"post_id":74176267,"comment_id":130971380,"body_markdown":"You may also be interested in https://stackoverflow.com/questions/55325895/vertx-future-result-availability-and-coding-patterns","body":"You may also be interested in <a href=\"https://stackoverflow.com/questions/55325895/vertx-future-result-availability-and-coding-patterns\" title=\"vertx future result availability and coding patterns\">stackoverflow.com/questions/55325895/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666785846,"creation_date":1666785846,"answer_id":74207440,"question_id":74176267,"body_markdown":"When writing asynchronous code, you are carried to use the framework / runtime semantics and tools for communication.\r\n\r\nYou are already leveraging one of *Vert.x*&#39;s way of async communication, the `Future` - but in the wrong manner trying to retrieve its result inline.\r\n\r\nInstead of having the `Future` result accessed within your method, you need to return it as your mean of communication to a caller, which would be able to set a completion handler (`Handler`) to it:\r\n\r\n\r\n    private Future&lt;JsonObject&gt; getClazzById(RoutingContext rc) {\r\n        \r\n        Future&lt;JsonObject&gt; future = Future.future();\r\n    \r\n        String clazzId = rc.request().getParam(&quot;clazzId&quot;);\r\n        classService.getClazzById(clazzId, res -&gt; {\r\n            if (res.succeeded()) {\r\n                JsonObject result = res.result();\r\n                if (result != null) {\r\n                    future.complete(res.result()); // set the retrieved result\r\n                    rc.response().setStatusCode(200).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n                            .end(result.encodePrettily());\r\n                } else {\r\n                    future.complete(null); // you need to provide &#39;null&#39; result to avoid caller blocking\r\n                    rc.response().setStatusCode(400).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n                            .end(new JsonObject().put(&quot;error&quot;, &quot;Class not found!&quot;).encodePrettily());\r\n                }\r\n            } else\r\n                rc.fail(res.cause());\r\n        });\r\n        \r\n        return future; // return the future to caller\r\n    }\r\n\r\nAn interested caller would be able to set a handler for `Future` completion as needed:\r\n\r\n    getClassById(rc).setHandler(s -&gt; {\r\n            if (s.succeeded()) {\r\n                System.out.println(&quot;sss: &quot; +s.result()); //  print: {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\r\n            }\r\n            else {\r\n                System.out.println(&quot;fail&quot;);\r\n            }\r\n        });\r\n\r\nAs a side note: you are not setting the API boundaries properly in your business logic as you are trying to resolve the HTTP `Response` result which generally denotes the request processing end while still returning the query result to be handled in some other manner.","title":"Vert.x return results and store them from a query MongoDB","body":"<p>When writing asynchronous code, you are carried to use the framework / runtime semantics and tools for communication.</p>\n<p>You are already leveraging one of <em>Vert.x</em>'s way of async communication, the <code>Future</code> - but in the wrong manner trying to retrieve its result inline.</p>\n<p>Instead of having the <code>Future</code> result accessed within your method, you need to return it as your mean of communication to a caller, which would be able to set a completion handler (<code>Handler</code>) to it:</p>\n<pre><code>private Future&lt;JsonObject&gt; getClazzById(RoutingContext rc) {\n    \n    Future&lt;JsonObject&gt; future = Future.future();\n\n    String clazzId = rc.request().getParam(&quot;clazzId&quot;);\n    classService.getClazzById(clazzId, res -&gt; {\n        if (res.succeeded()) {\n            JsonObject result = res.result();\n            if (result != null) {\n                future.complete(res.result()); // set the retrieved result\n                rc.response().setStatusCode(200).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n                        .end(result.encodePrettily());\n            } else {\n                future.complete(null); // you need to provide 'null' result to avoid caller blocking\n                rc.response().setStatusCode(400).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n                        .end(new JsonObject().put(&quot;error&quot;, &quot;Class not found!&quot;).encodePrettily());\n            }\n        } else\n            rc.fail(res.cause());\n    });\n    \n    return future; // return the future to caller\n}\n</code></pre>\n<p>An interested caller would be able to set a handler for <code>Future</code> completion as needed:</p>\n<pre><code>getClassById(rc).setHandler(s -&gt; {\n        if (s.succeeded()) {\n            System.out.println(&quot;sss: &quot; +s.result()); //  print: {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\n        }\n        else {\n            System.out.println(&quot;fail&quot;);\n        }\n    });\n</code></pre>\n<p>As a side note: you are not setting the API boundaries properly in your business logic as you are trying to resolve the HTTP <code>Response</code> result which generally denotes the request processing end while still returning the query result to be handled in some other manner.</p>\n"}],"owner":{"account_id":25484493,"reputation":17,"user_id":19280246,"display_name":"V&#245; Khc Bo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74207440,"answer_count":1,"score":0,"last_activity_date":1666785846,"creation_date":1666579627,"question_id":74176267,"body_markdown":"I am using Vert.x in my project, I used future() to get the results from a MongoDB query. However when I do future().result it returns &quot;null&quot;. I want the result to be saved in the future and I will use it for other APIs. Is there any guide for me, I will be very grateful and appreciate if someone give me a solution. Thanks\r\n\r\nrouter.class\r\n\r\n    rivate void getClazzById(RoutingContext rc) {\r\n\t\t\r\n\t\tFuture&lt;JsonObject&gt; future = Future.future();\r\n\r\n\t\tString clazzId = rc.request().getParam(&quot;clazzId&quot;);\r\n\t\tclassService.getClazzById(clazzId, res -&gt; {\r\n\t\t\tSystem.out.println(res.result());\r\n\t\t\tif (res.succeeded()) {\r\n\t\t\t\tJsonObject result = res.result();\r\n\t\t\t\tif (result != null) {\r\n\t\t\t\t\tfuture.complete(res.result());\r\n\t\t\t\t\trc.response().setStatusCode(200).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n\t\t\t\t\t\t\t.end(result.encodePrettily());\r\n\t\t\t\t} else {\r\n\t\t\t\t\trc.response().setStatusCode(400).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n\t\t\t\t\t\t\t.end(new JsonObject().put(&quot;error&quot;, &quot;Class not found!&quot;).encodePrettily());\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t\trc.fail(res.cause());\r\n\t\t});\r\n\t\t\r\n\t\tfuture.setHandler(s -&gt; {\r\n\t\t\tif (s.succeeded()) {\r\n\t\t\t\tSystem.out.println(&quot;sss: &quot; +s.result()); //  print: {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;fail&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\tSystem.out.println(&quot;hhhhhh: &quot; + future.result()); // I want to print {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\r\n\r\n\t}\r\n\r\n\r\nservice.class\r\n\r\n    \tpublic void getClazzById(String clazzId, Handler&lt;AsyncResult&lt;JsonObject&gt;&gt; resultHandler) {\r\n\t\tJsonObject query = new JsonObject().put(&quot;_id&quot;, clazzId);\r\n\t\tclient.findOne(Collection.CLAZZ, query, null, ar -&gt; {\r\n\t\t\tif (ar.succeeded()) {\r\n\t\t\t\tif (ar.succeeded()) {\r\n\t\t\t\t\tJsonObject result = ar.result();\r\n\t\t\t\t\tif (result == null) {\r\n\t\t\t\t\t\tresultHandler.handle(Future.failedFuture(&quot;Error&quot;));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresultHandler.handle(Future.succeededFuture(result));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tar.cause();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n","title":"Vert.x return results and store them from a query MongoDB","body":"<p>I am using Vert.x in my project, I used future() to get the results from a MongoDB query. However when I do future().result it returns &quot;null&quot;. I want the result to be saved in the future and I will use it for other APIs. Is there any guide for me, I will be very grateful and appreciate if someone give me a solution. Thanks</p>\n<p>router.class</p>\n<pre><code>rivate void getClazzById(RoutingContext rc) {\n    \n    Future&lt;JsonObject&gt; future = Future.future();\n\n    String clazzId = rc.request().getParam(&quot;clazzId&quot;);\n    classService.getClazzById(clazzId, res -&gt; {\n        System.out.println(res.result());\n        if (res.succeeded()) {\n            JsonObject result = res.result();\n            if (result != null) {\n                future.complete(res.result());\n                rc.response().setStatusCode(200).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n                        .end(result.encodePrettily());\n            } else {\n                rc.response().setStatusCode(400).putHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n                        .end(new JsonObject().put(&quot;error&quot;, &quot;Class not found!&quot;).encodePrettily());\n            }\n        } else\n            rc.fail(res.cause());\n    });\n    \n    future.setHandler(s -&gt; {\n        if (s.succeeded()) {\n            System.out.println(&quot;sss: &quot; +s.result()); //  print: {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\n        }\n        else {\n            System.out.println(&quot;fail&quot;);\n        }\n    });\n    System.out.println(&quot;hhhhhh: &quot; + future.result()); // I want to print {&quot;_id&quot;:&quot;123&quot;, &quot;name&quot;:&quot;abc&quot;}\n\n}\n</code></pre>\n<p>service.class</p>\n<pre><code>    public void getClazzById(String clazzId, Handler&lt;AsyncResult&lt;JsonObject&gt;&gt; resultHandler) {\n    JsonObject query = new JsonObject().put(&quot;_id&quot;, clazzId);\n    client.findOne(Collection.CLAZZ, query, null, ar -&gt; {\n        if (ar.succeeded()) {\n            if (ar.succeeded()) {\n                JsonObject result = ar.result();\n                if (result == null) {\n                    resultHandler.handle(Future.failedFuture(&quot;Error&quot;));\n                } else {\n                    resultHandler.handle(Future.succeededFuture(result));\n                }\n\n            } else {\n                ar.cause();\n            }\n\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","hash","unique","md5","hashcode"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1563777432,"post_id":57140274,"comment_id":100796019,"body_markdown":"Have a look at [the JavaDocs of `MessageDigest`](https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html) and google for some examples.","body":"Have a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html\" rel=\"nofollow noreferrer\">the JavaDocs of <code>MessageDigest</code></a> and google for some examples."},{"owner":{"account_id":1830490,"reputation":5130,"user_id":1662033,"accept_rate":49,"display_name":"Ofek Agmon"},"score":1,"creation_date":1563777605,"post_id":57140274,"comment_id":100796074,"body_markdown":"I meant I want two objects with the same attributes to have the same hashes/string identifiers. Maybe it wasn&#39;t clear - this is so I can detect if I got a similar object and skip it","body":"I meant I want two objects with the same attributes to have the same hashes/string identifiers. Maybe it wasn&#39;t clear - this is so I can detect if I got a similar object and skip it"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1563777837,"post_id":57140274,"comment_id":100796185,"body_markdown":"You&#39;re right, that wasn&#39;t clear to me. Do you want to detect *similar* or *equal* objects considering their attributes? I think `equals()` could be an option for the latter...","body":"You&#39;re right, that wasn&#39;t clear to me. Do you want to detect <i>similar</i> or <i>equal</i> objects considering their attributes? I think <code>equals()</code> could be an option for the latter..."},{"owner":{"account_id":1830490,"reputation":5130,"user_id":1662033,"accept_rate":49,"display_name":"Ofek Agmon"},"score":1,"creation_date":1563777933,"post_id":57140274,"comment_id":100796227,"body_markdown":"I get 200,000 objects to process. for each one I process I generate a hash and store it in a cache, so that the next time I get an object with the same attributes I&#39;ll know to skip it - so I need equal objects (in terms of attributes)","body":"I get 200,000 objects to process. for each one I process I generate a hash and store it in a cache, so that the next time I get an object with the same attributes I&#39;ll know to skip it - so I need equal objects (in terms of attributes)"},{"owner":{"account_id":8853149,"reputation":8782,"user_id":6611700,"display_name":"riyaz-ali"},"score":0,"creation_date":1563778382,"post_id":57140274,"comment_id":100796401,"body_markdown":"perhaps override the `hashCode()` method for that object? see also: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode() https://stackoverflow.com/a/113600 https://stackoverflow.com/a/27609","body":"perhaps override the <code>hashCode()</code> method for that object? see also: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> <a href=\"https://stackoverflow.com/a/113600\">stackoverflow.com/a/113600</a> <a href=\"https://stackoverflow.com/a/27609\">stackoverflow.com/a/27609</a>"},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1563779925,"post_id":57140274,"comment_id":100797111,"body_markdown":"If you insist on using MD5, you could apply it to the `hashCode` values of your object&#39;s instance variables but - could you share here what advantage you see with MD5 ?","body":"If you insist on using MD5, you could apply it to the <code>hashCode</code> values of your object&#39;s instance variables but - could you share here what advantage you see with MD5 ?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1563803191,"post_id":57140274,"comment_id":100810008,"body_markdown":"Java has no formal definition of &quot;attributes&quot; of an object, so that concept only has meaning to you. You need a method to order these &quot;attributes&quot; so that two objects with the same &quot;attributes&quot; can produce them in the same order. Then you need to convert these attributes into byte arrays and supply them to the hash function. This can seemingly be done in the standard way by overriding `hashCode` and `equals`, and I can see no value in using MD5. A standard `Set` or `Map` should suffice for your needs, based on the limited info you&#39;ve provided.","body":"Java has no formal definition of &quot;attributes&quot; of an object, so that concept only has meaning to you. You need a method to order these &quot;attributes&quot; so that two objects with the same &quot;attributes&quot; can produce them in the same order. Then you need to convert these attributes into byte arrays and supply them to the hash function. This can seemingly be done in the standard way by overriding <code>hashCode</code> and <code>equals</code>, and I can see no value in using MD5. A standard <code>Set</code> or <code>Map</code> should suffice for your needs, based on the limited info you&#39;ve provided."}],"answers":[{"tags":[],"owner":{"account_id":11239210,"reputation":779,"user_id":8244162,"display_name":"J&#243;n&#225;s Bal&#225;zs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563780644,"creation_date":1563780173,"answer_id":57140960,"question_id":57140274,"body_markdown":"Hash code of an object does not need to be unique. By the way it is impossible\r\n\r\nHash code must comply to the following contract:\r\n\r\n - It should return the same value every time it is invoked on the same object in the same state.\r\n - If two objects are equal according to `Object::equals` then the `hashCode` should return the same.\r\n\r\nMost of IDEs can generate the method `hashCode()` but there are some tools even in JDK for generating hashcode eg. `java.util.Objects.hash(Object...)`.\r\n\r\nYou can read a great summary [here](https://www.baeldung.com/java-hashcode)","title":"Generate unique MD5 hash for objects","body":"<p>Hash code of an object does not need to be unique. By the way it is impossible</p>\n\n<p>Hash code must comply to the following contract:</p>\n\n<ul>\n<li>It should return the same value every time it is invoked on the same object in the same state.</li>\n<li>If two objects are equal according to <code>Object::equals</code> then the <code>hashCode</code> should return the same.</li>\n</ul>\n\n<p>Most of IDEs can generate the method <code>hashCode()</code> but there are some tools even in JDK for generating hashcode eg. <code>java.util.Objects.hash(Object...)</code>.</p>\n\n<p>You can read a great summary <a href=\"https://www.baeldung.com/java-hashcode\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1830490,"reputation":5130,"user_id":1662033,"accept_rate":49,"display_name":"Ofek Agmon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3330,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666785478,"creation_date":1563777074,"question_id":57140274,"body_markdown":"I need to generate unique hash for objects to identify objects with the same exact attributes.\r\n\r\nAfter reading a bit on the subject I decided its best to use MD5 hashing rather than java hashCode (I have a large number of objects, around 200,000-300,000).\r\n\r\nI found many examples on how to do MD5 hashing on a string, but didn&#39;t find how to do it on an object, so that it will really be unique according to the object&#39;s attributes.","title":"Generate unique MD5 hash for objects","body":"<p>I need to generate unique hash for objects to identify objects with the same exact attributes.</p>\n\n<p>After reading a bit on the subject I decided its best to use MD5 hashing rather than java hashCode (I have a large number of objects, around 200,000-300,000).</p>\n\n<p>I found many examples on how to do MD5 hashing on a string, but didn't find how to do it on an object, so that it will really be unique according to the object's attributes.</p>\n"},{"tags":["java","spring","hibernate","docker","testcontainers"],"comments":[{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1540545548,"post_id":52968195,"comment_id":92914711,"body_markdown":"If your standalone MySQL is running, please stop that or kill it. Though the exposed port can be different, the host port would still be same 3306 if i&#39;m not wrong. If that worked, let me know as I would post it as answer later.","body":"If your standalone MySQL is running, please stop that or kill it. Though the exposed port can be different, the host port would still be same 3306 if i&#39;m not wrong. If that worked, let me know as I would post it as answer later."},{"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":""},"score":0,"creation_date":1540549834,"post_id":52968195,"comment_id":92917141,"body_markdown":"@KarthikR it wouldn&#39;t have sense, because after tests my app connect to standalone MySQL","body":"@KarthikR it wouldn&#39;t have sense, because after tests my app connect to standalone MySQL"}],"answers":[{"tags":[],"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540545129,"creation_date":1540385089,"answer_id":52969361,"question_id":52968195,"body_markdown":"It seems you have two problems here.\r\n\r\n1. Docker is exposing mysql server on a random port, but you need a fixed port. To fix that you may set the fixed port using `addFixedExposedPort` of [GenericContainer][1]\r\n\r\n        public class TestMySQL extends MySQLContainer {\r\n    \r\n            public TestMySQL(String dockerImageName) {\r\n                super(dockerImageName);\r\n                addFixedExposedPort(6161, MYSQL_PORT);\r\n            }\r\n    \r\n            @Override\r\n            public String getDriverClassName() {\r\n                return &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n            }\r\n        }\r\n\r\n2. You probably don&#39;t have database `test`, user `test` with password `test` as it&#39;s default credentials in [MySQLContainer][2], that cause the `ContainerLaunchException` you are getting. Use `withDatabaseName`, `withUsername` and `withPassword` to configure DB and user properly.\r\n\r\n\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @ContextConfiguration(classes = {\r\n            HibernateConfiguration.class,\r\n            SecurityConfiguration.class,\r\n            SecurityInitializer.class,\r\n            ViewConfiguration.class,\r\n            ViewInitializer.class})\r\n        @WebAppConfiguration\r\n        public class ControllerServiceJTest {\r\n        \r\n            @ClassRule\r\n            public static TestMySQL  container\r\n                = new TestMySQL(&quot;h2testbase&quot;)\r\n                  .withDatabaseName(&quot;myTestDb&quot;)\r\n                  .withUsername(&quot;root&quot;)\r\n                  .withPassword(&quot;admin&quot;);\r\n        \r\n            @Autowired\r\n            ControllerService controllerService;\r\n        \r\n            @Test\r\n            public void stationPagination() {\r\n                Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\r\n                Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\r\n            }\r\n        \r\n            @Test\r\n            public void trainPagination() {\r\n                Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\r\n                Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\r\n            }\r\n        \r\n            @Test\r\n            public void switchHelper() {\r\n                Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\r\n            }\r\n        }\r\n\r\n**UPDATE**:\r\n\r\nTo turn on logging, add following dependency to `pom.xml`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nand create `src/test/resources/logback.xml` with following content\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;info&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;org.testcontainers&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/blob/007c3b9df12145f5175a7dd17c476a01e6f1f5b8/core/src/main/java/org/testcontainers/containers/GenericContainer.java#L783\r\n  [2]: https://github.com/testcontainers/testcontainers-java/blob/29570469df18f999645e7d29290fb4ac5dda2672/modules/mysql/src/main/java/org/testcontainers/containers/MySQLContainer.java#L19","title":"Using custom DB docker-image with Testcontainers","body":"<p>It seems you have two problems here.</p>\n\n<ol>\n<li><p>Docker is exposing mysql server on a random port, but you need a fixed port. To fix that you may set the fixed port using <code>addFixedExposedPort</code> of <a href=\"https://github.com/testcontainers/testcontainers-java/blob/007c3b9df12145f5175a7dd17c476a01e6f1f5b8/core/src/main/java/org/testcontainers/containers/GenericContainer.java#L783\" rel=\"nofollow noreferrer\">GenericContainer</a></p>\n\n<pre><code>public class TestMySQL extends MySQLContainer {\n\n    public TestMySQL(String dockerImageName) {\n        super(dockerImageName);\n        addFixedExposedPort(6161, MYSQL_PORT);\n    }\n\n    @Override\n    public String getDriverClassName() {\n        return \"com.mysql.cj.jdbc.Driver\";\n    }\n}\n</code></pre></li>\n<li><p>You probably don't have database <code>test</code>, user <code>test</code> with password <code>test</code> as it's default credentials in <a href=\"https://github.com/testcontainers/testcontainers-java/blob/29570469df18f999645e7d29290fb4ac5dda2672/modules/mysql/src/main/java/org/testcontainers/containers/MySQLContainer.java#L19\" rel=\"nofollow noreferrer\">MySQLContainer</a>, that cause the <code>ContainerLaunchException</code> you are getting. Use <code>withDatabaseName</code>, <code>withUsername</code> and <code>withPassword</code> to configure DB and user properly.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {\n    HibernateConfiguration.class,\n    SecurityConfiguration.class,\n    SecurityInitializer.class,\n    ViewConfiguration.class,\n    ViewInitializer.class})\n@WebAppConfiguration\npublic class ControllerServiceJTest {\n\n    @ClassRule\n    public static TestMySQL  container\n        = new TestMySQL(\"h2testbase\")\n          .withDatabaseName(\"myTestDb\")\n          .withUsername(\"root\")\n          .withPassword(\"admin\");\n\n    @Autowired\n    ControllerService controllerService;\n\n    @Test\n    public void stationPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\n        Assert.assertTrue(((List&lt;Station&gt;)pag.get(\"stations\")).size() == 8);\n    }\n\n    @Test\n    public void trainPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\n        Assert.assertTrue(((List&lt;Train&gt;)pag.get(\"trains\")).size() == 20);\n    }\n\n    @Test\n    public void switchHelper() {\n        Assert.assertTrue(controllerService.stationSwitchHelper(\"BLUE\").equals(URLs.REDIRECT_DASHSTATION + \"/2\"));\n    }\n}\n</code></pre></li>\n</ol>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>To turn on logging, add following dependency to <code>pom.xml</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and create <code>src/test/resources/logback.xml</code> with following content</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"info\"&gt;\n        &lt;appender-ref ref=\"STDOUT\"/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=\"org.testcontainers\" level=\"DEBUG\"/&gt;\n&lt;/configuration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26737838,"reputation":1,"user_id":20339111,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666785374,"creation_date":1666785374,"answer_id":74207349,"question_id":52968195,"body_markdown":"I had the same problem. It seems that when extending a custom class from MySQLContainer the container starts multiple times. In my case three mysql container were started. When I use directly MySQLContainer class everything worked as expected. Only one mysql container is started.\r\n","title":"Using custom DB docker-image with Testcontainers","body":"<p>I had the same problem. It seems that when extending a custom class from MySQLContainer the container starts multiple times. In my case three mysql container were started. When I use directly MySQLContainer class everything worked as expected. Only one mysql container is started.</p>\n"}],"owner":{"account_id":13129711,"reputation":53,"user_id":9913554,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666785374,"creation_date":1540381575,"question_id":52968195,"body_markdown":"I&#39;m novice in Testcontainers, so i have a question.\r\nI have application on Spring/Hibernate. I have docker-image (h2testbase) with mysql-base (myTestDb) with data. I run that image in docker with -p 6161:3306. In test/resources directory I have file application.properties. It contains next\r\n\r\n```properties\r\njdbc.driverClassName=com.mysql.cj.jdbc.Driver\r\njdbc.url=jdbc:mysql://localhost:6161/myTestDb?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Europe/Moscow&amp;&amp;useSSL=false\r\njdbc.username=root\r\njdbc.cred=admin\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nhibernate.show_sql=true\r\nhibernate.format_sql=true\r\n```\r\n\r\nI use mvn test - it&#39;s working. Now I want to run these test with Testcontainers. I added in pom.xml dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n    &lt;version&gt;1.9.1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI extented class MySQLContainer\r\n\r\n    public class TestMySQL extends MySQLContainer {\r\n    \r\n        public TestMySQL() {\r\n            super();\r\n        }\r\n    \r\n        public TestMySQL(String dockerImageName) {\r\n            super(dockerImageName);\r\n        }\r\n    \r\n        @Override\r\n        public String getDriverClassName() {\r\n            return &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n        }\r\n    }\r\n\r\ncuz MySQLContainer using com.mysql.jdbc.Driver and it&#39;s deprecated.\r\nMy test (for example)\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {\r\n            HibernateConfiguration.class,\r\n            SecurityConfiguration.class,\r\n            SecurityInitializer.class,\r\n            ViewConfiguration.class,\r\n            ViewInitializer.class})\r\n    @WebAppConfiguration\r\n    public class ControllerServiceJTest {\r\n    \r\n        @ClassRule\r\n        public static TestMySQL  container\r\n                = new TestMySQL(&quot;h2testbase&quot;);\r\n    \r\n        @Autowired\r\n        ControllerService controllerService;\r\n    \r\n        @Test\r\n        public void stationPagination() {\r\n            Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\r\n            Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\r\n        }\r\n    \r\n        @Test\r\n        public void trainPagination() {\r\n            Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\r\n            Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\r\n        }\r\n    \r\n        @Test\r\n        public void switchHelper() {\r\n            Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\r\n        }\r\n    }\r\n\r\nAnd there I&#39;m hitting the wall. If I use mvn test, I see (through docker ps) that container is started. It started two or three times (and mapping go on random ports such 328xx), but then maven tells\r\n\r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n    Caused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\n    Caused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\n    Caused by: java.util.concurrent.TimeoutException\r\n\r\nWhat should I do now? How to tell to my testcontainer needed port (6161)? How to use parameters which in application.properties? I can&#39;t find code examples where used custom images with DB with data.\r\nThank you in advance\r\n\r\n**Update**\r\nAdd full result for failed test.\r\n```lang-none\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running ru.javasch.metro.junit.ControllerServiceJTest\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.\r\nSLF4J: Defaulting to no-operation MDCAdapter implementation.\r\nSLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.\r\n\t\t?? Checking the system...\r\n\t\t? Docker version should be at least 1.6.0\r\n\t\t? Docker environment should have more than 2GB free disk space\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 97.189 s &lt;&lt;&lt; FAILURE! - in ru.javasch.metro.junit.ControllerServiceJTest\r\n[ERROR] ru.javasch.metro.junit.ControllerServiceJTest  Time elapsed: 97.187 s  &lt;&lt;&lt; ERROR!\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\r\nCaused by: java.util.concurrent.TimeoutException\r\n```\r\n\r\nThere some info. I tried tests with MySqlContainer from [here][1] (with my TestMySql). When I use clean mysql:5.5 image - all good. But when I try add some modifications in container (for example addFixedExposedPort) it&#39;s not start cuz port is already allocated. In case when I adding data from script - it&#39;s &quot;Could not create container&quot;. If I&#39;m trying give it my image (h2testbase), again &quot;Could not create container&quot;. \r\n\r\n\r\n  [1]: https://kazuhira-r.hatenablog.com/entry/20170311/1489239579","title":"Using custom DB docker-image with Testcontainers","body":"<p>I'm novice in Testcontainers, so i have a question.\nI have application on Spring/Hibernate. I have docker-image (h2testbase) with mysql-base (myTestDb) with data. I run that image in docker with -p 6161:3306. In test/resources directory I have file application.properties. It contains next</p>\n<pre><code>jdbc.driverClassName=com.mysql.cj.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:6161/myTestDb?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=Europe/Moscow&amp;&amp;useSSL=false\njdbc.username=root\njdbc.cred=admin\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\nhibernate.show_sql=true\nhibernate.format_sql=true\n</code></pre>\n<p>I use mvn test - it's working. Now I want to run these test with Testcontainers. I added in pom.xml dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;1.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n    &lt;version&gt;1.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I extented class MySQLContainer</p>\n<pre><code>public class TestMySQL extends MySQLContainer {\n\n    public TestMySQL() {\n        super();\n    }\n\n    public TestMySQL(String dockerImageName) {\n        super(dockerImageName);\n    }\n\n    @Override\n    public String getDriverClassName() {\n        return &quot;com.mysql.cj.jdbc.Driver&quot;;\n    }\n}\n</code></pre>\n<p>cuz MySQLContainer using com.mysql.jdbc.Driver and it's deprecated.\nMy test (for example)</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {\n        HibernateConfiguration.class,\n        SecurityConfiguration.class,\n        SecurityInitializer.class,\n        ViewConfiguration.class,\n        ViewInitializer.class})\n@WebAppConfiguration\npublic class ControllerServiceJTest {\n\n    @ClassRule\n    public static TestMySQL  container\n            = new TestMySQL(&quot;h2testbase&quot;);\n\n    @Autowired\n    ControllerService controllerService;\n\n    @Test\n    public void stationPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.stationPagination(4);\n        Assert.assertTrue(((List&lt;Station&gt;)pag.get(&quot;stations&quot;)).size() == 8);\n    }\n\n    @Test\n    public void trainPagination() {\n        Map&lt;String, Object&gt; pag = controllerService.trainPagination(1);\n        Assert.assertTrue(((List&lt;Train&gt;)pag.get(&quot;trains&quot;)).size() == 20);\n    }\n\n    @Test\n    public void switchHelper() {\n        Assert.assertTrue(controllerService.stationSwitchHelper(&quot;BLUE&quot;).equals(URLs.REDIRECT_DASHSTATION + &quot;/2&quot;));\n    }\n}\n</code></pre>\n<p>And there I'm hitting the wall. If I use mvn test, I see (through docker ps) that container is started. It started two or three times (and mapping go on random ports such 328xx), but then maven tells</p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: java.util.concurrent.TimeoutException\n</code></pre>\n<p>What should I do now? How to tell to my testcontainer needed port (6161)? How to use parameters which in application.properties? I can't find code examples where used custom images with DB with data.\nThank you in advance</p>\n<p><strong>Update</strong>\nAdd full result for failed test.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running ru.javasch.metro.junit.ControllerServiceJTest\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.\nSLF4J: Defaulting to no-operation MDCAdapter implementation.\nSLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.\n        ?? Checking the system...\n        ? Docker version should be at least 1.6.0\n        ? Docker environment should have more than 2GB free disk space\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 97.189 s &lt;&lt;&lt; FAILURE! - in ru.javasch.metro.junit.ControllerServiceJTest\n[ERROR] ru.javasch.metro.junit.ControllerServiceJTest  Time elapsed: 97.187 s  &lt;&lt;&lt; ERROR!\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\nCaused by: org.rnorth.ducttape.TimeoutException: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: org.rnorth.ducttape.TimeoutException: java.util.concurrent.TimeoutException\nCaused by: java.util.concurrent.TimeoutException\n</code></pre>\n<p>There some info. I tried tests with MySqlContainer from <a href=\"https://kazuhira-r.hatenablog.com/entry/20170311/1489239579\" rel=\"nofollow noreferrer\">here</a> (with my TestMySql). When I use clean mysql:5.5 image - all good. But when I try add some modifications in container (for example addFixedExposedPort) it's not start cuz port is already allocated. In case when I adding data from script - it's &quot;Could not create container&quot;. If I'm trying give it my image (h2testbase), again &quot;Could not create container&quot;.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666637541,"post_id":74184796,"comment_id":130979929,"body_markdown":"Please show code example wich doesn&#39;t work","body":"Please show code example wich doesn&#39;t work"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666637750,"post_id":74184796,"comment_id":130979979,"body_markdown":"Added the code direct into the question","body":"Added the code direct into the question"},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":1,"creation_date":1666638069,"post_id":74184796,"comment_id":130980092,"body_markdown":"Add more of your code. Are you calling `setSelection` after setting the adapter?","body":"Add more of your code. Are you calling <code>setSelection</code> after setting the adapter?"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666638394,"post_id":74184796,"comment_id":130980219,"body_markdown":"Updated the shared code","body":"Updated the shared code"},{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666638420,"post_id":74184796,"comment_id":130980226,"body_markdown":"You should set position from you adapter","body":"You should set position from you adapter"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666638464,"post_id":74184796,"comment_id":130980240,"body_markdown":"What do u mean, dont understand it &#128517;?","body":"What do u mean, dont understand it ?"},{"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"score":0,"creation_date":1666639146,"post_id":74184796,"comment_id":130980462,"body_markdown":"@KittenLS How to do that?","body":"@KittenLS How to do that?"},{"owner":{"account_id":1525402,"reputation":81,"user_id":1423982,"display_name":"KittenLS"},"score":0,"creation_date":1666720096,"post_id":74184796,"comment_id":131001861,"body_markdown":"currenciesSpinner adapter is already filled with which values, it seems a problem in adapter, do you have default selected value","body":"currenciesSpinner adapter is already filled with which values, it seems a problem in adapter, do you have default selected value"}],"answers":[{"tags":[],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666785203,"creation_date":1666785203,"answer_id":74207312,"question_id":74184796,"body_markdown":"You call updateCurrencySpinner when countrySpinner changes, but you don&#39;t use the value of countrySpinner, instead you use the value of serviceSpinner.\r\n\r\nSo even if you call the method when countrySpinner changes, it does not actually change anything because the value of serviceSpinner is still the same.","title":"Kotlin problem: My spinner does not update","body":"<p>You call updateCurrencySpinner when countrySpinner changes, but you don't use the value of countrySpinner, instead you use the value of serviceSpinner.</p>\n<p>So even if you call the method when countrySpinner changes, it does not actually change anything because the value of serviceSpinner is still the same.</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74207312,"answer_count":1,"score":-2,"last_activity_date":1666785203,"creation_date":1666632873,"question_id":74184796,"body_markdown":"[function][1]\r\n\r\n        private fun updateCurrencySpinner() {\r\n        // Update selected item form the currency spinner based on the country spinner\r\n        val currency = when (serviceSpinner.selectedItemPosition) {\r\n            0 -&gt; 0\r\n            1 -&gt; 0\r\n            2 -&gt; 1\r\n            3 -&gt; 2\r\n            else -&gt; 0\r\n        }\r\n        currenciesSpinner.setSelection(currency)\r\n    }\r\n[when i call the function][2]\r\n\r\n            countrySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\r\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\r\n                updateCurrencySpinner()\r\n            }\r\n\r\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\r\n        }\r\n\r\ncan someone tell me why my spinner does not update (I call this function every time I change the selected item)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dGeyM.png\r\n  [2]: https://i.stack.imgur.com/BW40A.png","title":"Kotlin problem: My spinner does not update","body":"<p><a href=\"https://i.stack.imgur.com/dGeyM.png\" rel=\"nofollow noreferrer\">function</a></p>\n<pre><code>    private fun updateCurrencySpinner() {\n    // Update selected item form the currency spinner based on the country spinner\n    val currency = when (serviceSpinner.selectedItemPosition) {\n        0 -&gt; 0\n        1 -&gt; 0\n        2 -&gt; 1\n        3 -&gt; 2\n        else -&gt; 0\n    }\n    currenciesSpinner.setSelection(currency)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BW40A.png\" rel=\"nofollow noreferrer\">when i call the function</a></p>\n<pre><code>        countrySpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            updateCurrencySpinner()\n        }\n\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\n    }\n</code></pre>\n<p>can someone tell me why my spinner does not update (I call this function every time I change the selected item)?</p>\n"},{"tags":["java","azure","docker","kubernetes","datadog"],"comments":[{"owner":{"account_id":16625137,"reputation":3499,"user_id":12014434,"display_name":"Piotr Malec"},"score":0,"creation_date":1592493055,"post_id":62436021,"comment_id":110451257,"body_markdown":"So Datadog dashboard is working but the service traces are not showing?","body":"So Datadog dashboard is working but the service traces are not showing?"},{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1592542794,"post_id":62436021,"comment_id":110468297,"body_markdown":"Exactly @PiotrMalec","body":"Exactly @PiotrMalec"},{"owner":{"account_id":16625137,"reputation":3499,"user_id":12014434,"display_name":"Piotr Malec"},"score":1,"creation_date":1593531827,"post_id":62436021,"comment_id":110811727,"body_markdown":"This might be caused by changes introduced in `1.16`. Take a look at this blog [post](https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/). I suggest trying to configure Datadog from scratrch.","body":"This might be caused by changes introduced in <code>1.16</code>. Take a look at this blog <a href=\"https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\" rel=\"nofollow noreferrer\">post</a>. I suggest trying to configure Datadog from scratrch."},{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1593617998,"post_id":62436021,"comment_id":110845802,"body_markdown":"This was not due to the Kubernetes version but with the Datadog version and its ways of fetching Kubelet. @PiotrMalec","body":"This was not due to the Kubernetes version but with the Datadog version and its ways of fetching Kubelet. @PiotrMalec"}],"answers":[{"tags":[],"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1593616846,"creation_date":1593616846,"answer_id":62680072,"question_id":62436021,"body_markdown":"This was a issue with deployed DataDog daemonset for me:\r\n\r\nWhat I did to resolve:\r\n\r\n1. Check daemonset if it exists or not:\r\n\r\n       kubectl get ds -n datadog\r\n\r\n2. Edit the datadog daemonset:\r\n\r\n       kubectl edit ds datadog -n datadog\r\n\r\n3. In the opened yaml, add\r\n\r\n       - name: DD_KUBELET_TLS_VERIFY\r\n         value: &quot;false&quot;\r\n    Add this in **env:** tag for all places. For me there were 4 places which are having DD tags in the yaml.\r\n\r\n4. Save and close it. The daemonset will restart. And the application will start getting traced.","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>This was a issue with deployed DataDog daemonset for me:</p>\n<p>What I did to resolve:</p>\n<ol>\n<li><p>Check daemonset if it exists or not:</p>\n<pre><code>kubectl get ds -n datadog\n</code></pre>\n</li>\n<li><p>Edit the datadog daemonset:</p>\n<pre><code>kubectl edit ds datadog -n datadog\n</code></pre>\n</li>\n<li><p>In the opened yaml, add</p>\n<pre><code>- name: DD_KUBELET_TLS_VERIFY\n  value: &quot;false&quot;\n</code></pre>\n<p>Add this in <strong>env:</strong> tag for all places. For me there were 4 places which are having DD tags in the yaml.</p>\n</li>\n<li><p>Save and close it. The daemonset will restart. And the application will start getting traced.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485209,"reputation":2676,"user_id":2179157,"display_name":"Sajjad Shirazi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618474086,"creation_date":1618474086,"answer_id":67104589,"question_id":62436021,"body_markdown":"If you are using the Helm chart, you can overwrite on the values:\r\n \r\n```yaml\r\n## https://github.com/DataDog/helm-charts/blob/master/charts/datadog/values.yaml\r\n\r\ndatadog:  \r\n  # kubelet configuration\r\n  kubelet:\r\n    # datadog.kubelet.tlsVerify -- Toggle kubelet TLS verification\r\n    # @default -- true\r\n    tlsVerify:  false\r\n```","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>If you are using the Helm chart, you can overwrite on the values:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>## https://github.com/DataDog/helm-charts/blob/master/charts/datadog/values.yaml\n\ndatadog:  \n  # kubelet configuration\n  kubelet:\n    # datadog.kubelet.tlsVerify -- Toggle kubelet TLS verification\n    # @default -- true\n    tlsVerify:  false\n</code></pre>\n"}],"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3919,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62680072,"answer_count":2,"score":4,"last_activity_date":1666785191,"creation_date":1592418810,"question_id":62436021,"body_markdown":"I set up datadog trace client in my kubernetes cluster to monitor my deployed application. It was working fine with the kubernetes version 1.15x but as soon as I upgraded the version to 1.16x, the service itself is not showing in the Datadog Dashboard.\r\n\r\nCurrently using:\r\n\r\n1. Kubernetes 1.16.9 \r\n\r\n2. Datadog 0.52.0\r\n\r\nWhen checked for agent status. It is giving following exception :\r\n\r\n    Instance ID: kubelet:xxxxxxxxxxxxx [ERROR]\r\n          Configuration Source: file:/etc/datadog-agent/conf.d/kubelet.d/conf.yaml.default\r\n          Total Runs: 12,453\r\n          Metric Samples: Last Run: 0, Total: 0\r\n          Events: Last Run: 0, Total: 0\r\n          Service Checks: Last Run: 0, Total: 0\r\n          Average Execution Time : 5ms\r\n          Last Execution Date : 2020-06-19 15:18:19.000000 UTC\r\n          Last Successful Execution Date : Never\r\n          Error: Unable to detect the kubelet URL automatically.\r\n          Traceback (most recent call last):\r\n            File &quot;/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py&quot;, line 822, in run\r\n              self.check(instance)\r\n            File &quot;/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/kubelet/kubelet.py&quot;, line 297, in check\r\n              raise CheckException(&quot;Unable to detect the kubelet URL automatically.&quot;)\r\n          datadog_checks.base.errors.CheckException: Unable to detect the kubelet URL automatically.\r\n\r\n This looks like a version issue to me. If it is which Datadog version I need to use for monitoring?","title":"Unable to detect the kubelet URL automatically : datadog_checks.base.errors.CheckException","body":"<p>I set up datadog trace client in my kubernetes cluster to monitor my deployed application. It was working fine with the kubernetes version 1.15x but as soon as I upgraded the version to 1.16x, the service itself is not showing in the Datadog Dashboard.</p>\n\n<p>Currently using:</p>\n\n<ol>\n<li><p>Kubernetes 1.16.9 </p></li>\n<li><p>Datadog 0.52.0</p></li>\n</ol>\n\n<p>When checked for agent status. It is giving following exception :</p>\n\n<pre><code>Instance ID: kubelet:xxxxxxxxxxxxx [ERROR]\n      Configuration Source: file:/etc/datadog-agent/conf.d/kubelet.d/conf.yaml.default\n      Total Runs: 12,453\n      Metric Samples: Last Run: 0, Total: 0\n      Events: Last Run: 0, Total: 0\n      Service Checks: Last Run: 0, Total: 0\n      Average Execution Time : 5ms\n      Last Execution Date : 2020-06-19 15:18:19.000000 UTC\n      Last Successful Execution Date : Never\n      Error: Unable to detect the kubelet URL automatically.\n      Traceback (most recent call last):\n        File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/base/checks/base.py\", line 822, in run\n          self.check(instance)\n        File \"/opt/datadog-agent/embedded/lib/python3.8/site-packages/datadog_checks/kubelet/kubelet.py\", line 297, in check\n          raise CheckException(\"Unable to detect the kubelet URL automatically.\")\n      datadog_checks.base.errors.CheckException: Unable to detect the kubelet URL automatically.\n</code></pre>\n\n<p>This looks like a version issue to me. If it is which Datadog version I need to use for monitoring?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1666785023,"post_id":74206445,"comment_id":131016909,"body_markdown":"Have you tried using the `FileWriter` or `PrintWriter`? You define them but do not use them..","body":"Have you tried using the <code>FileWriter</code> or <code>PrintWriter</code>? You define them but do not use them.."},{"owner":{"account_id":26721859,"reputation":1,"user_id":20325550,"display_name":"fer"},"score":0,"creation_date":1666793486,"post_id":74206445,"comment_id":131020242,"body_markdown":"Yes,  I have tried to use them, without success","body":"Yes,  I have tried to use them, without success"},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1666796142,"post_id":74206445,"comment_id":131021379,"body_markdown":"What did not work the way you expected?","body":"What did not work the way you expected?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666801083,"post_id":74206445,"comment_id":131023337,"body_markdown":"[You&#39;re hiding errors](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">You&#39;re hiding errors</a>"}],"owner":{"account_id":26721859,"reputation":1,"user_id":20325550,"display_name":"fer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666784819,"creation_date":1666780924,"question_id":74206445,"body_markdown":"The program does what I want with system.out.println , but I don&#39;t get the result that comes out with the previous statement being able to print to a csv file. With FileWriter I can&#39;t print the file.\r\n\r\n```\r\n  public static void main(String[] args) throws FileNotFoundException, IOException {\r\n      \r\n      // archivo inicial &quot;prueba1.csv&quot; - linea-  7852500397148583,705034500050,45871,M501,20301231,,sonter,,,\r\n         \r\n     // archivo resultado 111.CSV --     7852 5003 9714 8583;705034500050;31/12/2030\r\n   String SEPARATOR=&quot;,&quot;;\r\n   String QUOTE=&quot;\\&quot;&quot;;\r\n\r\n   BufferedReader br = null;\r\n   FileWriter flwriter = null;\r\n   try {    \r\n        \r\n         br =new BufferedReader(new FileReader(&quot;G:\\\\java orig\\\\csv1\\\\prueba1.csv&quot;));\r\n         String line = br.readLine();\r\n        FileWriter fichero = new FileWriter(&quot;G:/java orig/csv1/&quot; + &quot;111.CSV&quot; ); // nombre fichero \r\n   PrintWriter pw = new PrintWriter(fichero); // variable de impresion\r\n \r\n  \r\n         while (null!=line) {\r\npw.println( &quot;hola&quot;);\r\n               \r\n            String [] fields = line.split(SEPARATOR);\r\n            String t1= fields[0];\r\n            String pin_mod = t1.substring(0,4)+&quot; &quot;+t1.substring(4,8)+&quot; &quot;+t1.substring(8,12)+&quot; &quot;+t1.substring(12,16) ;        \r\n            String t2= fields[1];\r\n            String t4= fields[4];\r\n            String  a  = t4.substring(0,4);\r\n            String  m  = t4.substring(4,6);\r\n            String  d  = t4.substring(6,8);\r\n            System.out.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\r\n//            System.out.println(&quot;t2  &quot; +  t2);\r\n//            System.out.println(  d + &quot;/&quot;+ m +&quot;/&quot;+ a);  \r\n pw.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\r\n            line = br.readLine();\r\n           \r\n         \r\n                            }\r\n             pw.close();\r\n         } catch (Exception e) { \r\n         \r\n          } finally {\r\n            if (null!=br) {\r\n            br.close();\r\n             \r\n                    }\r\n}  }\r\n```\r\n","title":"problems in read modify and write csv file in java","body":"<p>The program does what I want with system.out.println , but I don't get the result that comes out with the previous statement being able to print to a csv file. With FileWriter I can't print the file.</p>\n<pre><code>  public static void main(String[] args) throws FileNotFoundException, IOException {\n      \n      // archivo inicial &quot;prueba1.csv&quot; - linea-  7852500397148583,705034500050,45871,M501,20301231,,sonter,,,\n         \n     // archivo resultado 111.CSV --     7852 5003 9714 8583;705034500050;31/12/2030\n   String SEPARATOR=&quot;,&quot;;\n   String QUOTE=&quot;\\&quot;&quot;;\n\n   BufferedReader br = null;\n   FileWriter flwriter = null;\n   try {    \n        \n         br =new BufferedReader(new FileReader(&quot;G:\\\\java orig\\\\csv1\\\\prueba1.csv&quot;));\n         String line = br.readLine();\n        FileWriter fichero = new FileWriter(&quot;G:/java orig/csv1/&quot; + &quot;111.CSV&quot; ); // nombre fichero \n   PrintWriter pw = new PrintWriter(fichero); // variable de impresion\n \n  \n         while (null!=line) {\npw.println( &quot;hola&quot;);\n               \n            String [] fields = line.split(SEPARATOR);\n            String t1= fields[0];\n            String pin_mod = t1.substring(0,4)+&quot; &quot;+t1.substring(4,8)+&quot; &quot;+t1.substring(8,12)+&quot; &quot;+t1.substring(12,16) ;        \n            String t2= fields[1];\n            String t4= fields[4];\n            String  a  = t4.substring(0,4);\n            String  m  = t4.substring(4,6);\n            String  d  = t4.substring(6,8);\n            System.out.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\n//            System.out.println(&quot;t2  &quot; +  t2);\n//            System.out.println(  d + &quot;/&quot;+ m +&quot;/&quot;+ a);  \n pw.println( pin_mod+ &quot;;&quot;+ t2+ &quot;;&quot;+ d + &quot;/&quot;+ m +&quot;/&quot;+ a );\n            line = br.readLine();\n           \n         \n                            }\n             pw.close();\n         } catch (Exception e) { \n         \n          } finally {\n            if (null!=br) {\n            br.close();\n             \n                    }\n}  }\n</code></pre>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":10485773,"reputation":1268,"user_id":7729375,"display_name":"Benjamin Charais"},"score":0,"creation_date":1622746432,"post_id":67654365,"comment_id":119887423,"body_markdown":"Your Extension might not be configured by the time it is being used, which may mean it is being used in the apply method. You need to be sure that any extension values are used within tasks, not as a result of apply. Documentation is not overtly clear about this. You can use an init block in your class to help with default values","body":"Your Extension might not be configured by the time it is being used, which may mean it is being used in the apply method. You need to be sure that any extension values are used within tasks, not as a result of apply. Documentation is not overtly clear about this. You can use an init block in your class to help with default values"},{"owner":{"account_id":10907019,"reputation":91,"user_id":8017457,"display_name":"Harrison Cole"},"score":0,"creation_date":1641949162,"post_id":67654365,"comment_id":124940557,"body_markdown":"@BenjaminCharais, are you able to elaborate upon your point above? I&#39;m encountering the same issue with a plugin and extension I have developed!","body":"@BenjaminCharais, are you able to elaborate upon your point above? I&#39;m encountering the same issue with a plugin and extension I have developed!"}],"answers":[{"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633387144,"creation_date":1633386806,"answer_id":69443041,"question_id":67654365,"body_markdown":"I&#39;m using gradle 7.X and Kotlin.\r\n\r\nThe &quot;Cannot have abstract method myPropertyName&quot; error is reported when the method name is prefixed by `&quot;is&quot;`:\r\n\r\n    abstract val isRegistered: Property&lt;Boolean&gt;\r\n\r\nThat was annoying to track down.  The type doesn&#39;t seem to matter.\r\n\r\nThe solution was to remove `&quot;is&quot;` from the name.","title":"Gradle Cannot have abstract method","body":"<p>I'm using gradle 7.X and Kotlin.</p>\n<p>The &quot;Cannot have abstract method myPropertyName&quot; error is reported when the method name is prefixed by <code>&quot;is&quot;</code>:</p>\n<pre><code>abstract val isRegistered: Property&lt;Boolean&gt;\n</code></pre>\n<p>That was annoying to track down.  The type doesn't seem to matter.</p>\n<p>The solution was to remove <code>&quot;is&quot;</code> from the name.</p>\n"},{"tags":[],"owner":{"account_id":25282871,"reputation":11,"user_id":19110442,"display_name":"Jesper Skov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652449683,"creation_date":1652449683,"answer_id":72230639,"question_id":67654365,"body_markdown":"The problem here seems to be the name of the abstract method.\r\n\r\nAll configurable methods must be bean-methods - this holds for both Extensions and Tasks.\r\n\r\nSo you should have used (assuming a java class):\r\n\r\n     abstract Property&lt;String&gt; getJars()\r\n\r\ninstead of \r\n\r\n     abstract Property&lt;String&gt; jars()\r\n\r\n\r\n","title":"Gradle Cannot have abstract method","body":"<p>The problem here seems to be the name of the abstract method.</p>\n<p>All configurable methods must be bean-methods - this holds for both Extensions and Tasks.</p>\n<p>So you should have used (assuming a java class):</p>\n<pre><code> abstract Property&lt;String&gt; getJars()\n</code></pre>\n<p>instead of</p>\n<pre><code> abstract Property&lt;String&gt; jars()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784600,"creation_date":1666784600,"answer_id":74207190,"question_id":67654365,"body_markdown":"In addition to @Richard Sitze answer, in my case it was a custom setter function that was used in tests only (annotated with `@TestOnly`) was preventing generating the class. \r\n\r\nI had declared serializable object as `@Input`\r\n\r\n```kotlin\r\n@get:Input \r\nabstract val myPropertry : Property&lt;MyObject&gt;\r\n\r\n@Test\r\nfun setMyProperty(obj : MyObject){\r\n   //...\r\n}\r\n```\r\n\r\nSomehow the name of the function interfered with generating the property setter along generation of the setter. \r\n","title":"Gradle Cannot have abstract method","body":"<p>In addition to @Richard Sitze answer, in my case it was a custom setter function that was used in tests only (annotated with <code>@TestOnly</code>) was preventing generating the class.</p>\n<p>I had declared serializable object as <code>@Input</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@get:Input \nabstract val myPropertry : Property&lt;MyObject&gt;\n\n@Test\nfun setMyProperty(obj : MyObject){\n   //...\n}\n</code></pre>\n<p>Somehow the name of the function interfered with generating the property setter along generation of the setter.</p>\n"}],"owner":{"account_id":4986564,"reputation":141,"user_id":4072252,"display_name":"artk2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2740,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666784600,"creation_date":1621719303,"question_id":67654365,"body_markdown":"I&#39;m developing a custom binary Gradle plugin, following the pattern shown [here][1].\r\n\r\nMy extension, VersionInfoExtension is abstract with abstract methods, just like the BinaryRepositoryExtension in the documentation. My task is also abstract, with abstract methods for the parameters, like the LatestArtifactVersion in the documentation. When I test, I get the following error:\r\n\r\n    An exception occurred applying plugin request [id: &#39;com.example.version-info&#39;]\r\n    &gt; Failed to apply plugin &#39;com.example.version-info&#39;.\r\n       &gt; Could not create an instance of type com.example.gradle.version.VersionInfoExtension.\r\n          &gt; Could not generate a decorated class for type VersionInfoExtension.\r\n             &gt; Cannot have abstract method VersionInfoExtension.jars().\r\n\r\nWhat am I missing? Are there any good examples of making this work?\r\n\r\n  [1]: https://docs.gradle.org/6.8.1/userguide/implementing_gradle_plugins.html#capturing_user_input_to_configure_plugin_runtime_behavior","title":"Gradle Cannot have abstract method","body":"<p>I'm developing a custom binary Gradle plugin, following the pattern shown <a href=\"https://docs.gradle.org/6.8.1/userguide/implementing_gradle_plugins.html#capturing_user_input_to_configure_plugin_runtime_behavior\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>My extension, VersionInfoExtension is abstract with abstract methods, just like the BinaryRepositoryExtension in the documentation. My task is also abstract, with abstract methods for the parameters, like the LatestArtifactVersion in the documentation. When I test, I get the following error:</p>\n<pre><code>An exception occurred applying plugin request [id: 'com.example.version-info']\n&gt; Failed to apply plugin 'com.example.version-info'.\n   &gt; Could not create an instance of type com.example.gradle.version.VersionInfoExtension.\n      &gt; Could not generate a decorated class for type VersionInfoExtension.\n         &gt; Cannot have abstract method VersionInfoExtension.jars().\n</code></pre>\n<p>What am I missing? Are there any good examples of making this work?</p>\n"},{"tags":["java","android","kotlin","android-view","android-glide"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666784470,"creation_date":1666784470,"answer_id":74207162,"question_id":74207097,"body_markdown":"You should be using `ImageView` and not `ItemView` there.\r\n\r\nFor the `ClassCastException` check that the layout has id `ivProfile` for the `ImageView` only and not e.g. in a higher-level `ConstraintLayout`.","title":"Can&#39;t find ItemView","body":"<p>You should be using <code>ImageView</code> and not <code>ItemView</code> there.</p>\n<p>For the <code>ClassCastException</code> check that the layout has id <code>ivProfile</code> for the <code>ImageView</code> only and not e.g. in a higher-level <code>ConstraintLayout</code>.</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74207162,"answer_count":1,"score":-1,"last_activity_date":1666784470,"creation_date":1666784141,"question_id":74207097,"body_markdown":"[1][1]\r\n\r\n\r\n[2][2]\r\n\r\n        inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n        var tvName: TextView = itemView.findViewById(R.id.tvName)\r\n        var tvAge: TextView = itemView.findViewById(R.id.tvAge)\r\n        var ivProfile: ItemView = itemView.findViewById(R.id.ivProfile)\r\n\r\n        fun bind(contact: Contact) {\r\n            tvName.text = contact.name\r\n            tvAge.text = &quot;Age: ${contact.age}&quot;\r\n\r\n            Glide.with(context).load(contact.imageUrl).into (ivProfile)\r\n        }\r\n      }\r\n    }\r\n\r\nIs there in kotlin only `MenuView.ItemView`? Because Glide expects ItemView\r\n\r\nError Log:\r\n\r\n    Type mismatch: inferred type is MenuView.ItemView but ImageView was expected.\r\n\r\n  [1]: https://i.stack.imgur.com/7c9rG.png\r\n  [2]: https://i.stack.imgur.com/MsF7Z.png\r\n\r\nAnd if I paste instead of `MenuView.ItemView` `ImageView` then it says:\r\n\r\n    java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.ImageView\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter$ViewHolder.&lt;init&gt;(ContactAdapter.kt:35)\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:17)\r\n                                                                                                    \tat com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:13)\r\n\r\n","title":"Can&#39;t find ItemView","body":"<p><a href=\"https://i.stack.imgur.com/7c9rG.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p><a href=\"https://i.stack.imgur.com/MsF7Z.png\" rel=\"nofollow noreferrer\">2</a></p>\n<pre><code>    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    var tvName: TextView = itemView.findViewById(R.id.tvName)\n    var tvAge: TextView = itemView.findViewById(R.id.tvAge)\n    var ivProfile: ItemView = itemView.findViewById(R.id.ivProfile)\n\n    fun bind(contact: Contact) {\n        tvName.text = contact.name\n        tvAge.text = &quot;Age: ${contact.age}&quot;\n\n        Glide.with(context).load(contact.imageUrl).into (ivProfile)\n    }\n  }\n}\n</code></pre>\n<p>Is there in kotlin only <code>MenuView.ItemView</code>? Because Glide expects ItemView</p>\n<p>Error Log:</p>\n<pre><code>Type mismatch: inferred type is MenuView.ItemView but ImageView was expected.\n</code></pre>\n<p>And if I paste instead of <code>MenuView.ItemView</code> <code>ImageView</code> then it says:</p>\n<pre><code>java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.ImageView\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter$ViewHolder.&lt;init&gt;(ContactAdapter.kt:35)\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:17)\n                                                                                                    at com.jakob.kotlinrecyclerview.ContactAdapter.onCreateViewHolder(ContactAdapter.kt:13)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1666112386,"post_id":74112939,"comment_id":130856565,"body_markdown":"This can be error prone, but perhaps try it like this in Java `(?:^/\\*(?=(?:(?!\\*/|/\\*)[\\s\\S])*\\R\\h*\\*/)|\\G(?!^))(?&lt;=^/\\*(?:(?!\\*/|/\\*)[\\s\\S]){0,10000})(\\R)(?:(?!\\*/).*|\\*/)` https://regex101.com/r/0QWJGH/1 and https://ideone.com/Xl3cu8","body":"This can be error prone, but perhaps try it like this in Java <code>(?:^&#47;\\*(?=(?:(?!\\*&#47;|&#47;\\*)[\\s\\S])*\\R\\h*\\*&#47;)|\\G(?!^))(?&lt;=^&#47;\\*(?&zwnj;&#8203;:(?!\\*&#47;|&#47;\\*)[\\s\\S]){&zwnj;&#8203;0,10000})(\\R)(?:(?!\\&zwnj;&#8203;*&#47;).*|\\*&#47;)</code> <a href=\"https://regex101.com/r/0QWJGH/1\" rel=\"nofollow noreferrer\">regex101.com/r/0QWJGH/1</a> and <a href=\"https://ideone.com/Xl3cu8\" rel=\"nofollow noreferrer\">ideone.com/Xl3cu8</a>"}],"answers":[{"tags":[],"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666784367,"creation_date":1666784367,"answer_id":74207144,"question_id":74112939,"body_markdown":"In the end, I made a custom method:\r\n\r\n      //compressBlockComments(String)\r\n      private String compressBlockComments(String source) {\r\n        Matcher m = Pattern.compile(&quot;/\\\\*[\\\\s\\\\S]*?\\\\*/&quot;).matcher(source);\r\n        StringBuffer sb = new StringBuffer(source);\r\n        int offset = 0; //keep track of how many chars have been removed\r\n    \r\n        while (m.find()) { //Loop through pattern matches\r\n          String blockComment = m.group();\r\n          IntStream onlyNewlines = blockComment.chars().filter(c -&gt; c == &#39;\\n&#39;);\r\n          int countOfNewlines = (int)onlyNewlines.count();\r\n          String compressed = &quot;\\n&quot;.repeat(countOfNewlines); //empty string if count == 0\r\n    \r\n          //Replace the block comment with a compressed string, offsetting\r\n          //to account for the number of chars already removed.\r\n          sb = sb.replace(m.start() - offset, m.end() - offset, compressed);\r\n    \r\n          //Increment offset with the number of chars removed in this iteration.\r\n          offset += blockComment.length() - countOfNewlines;\r\n        } //while\r\n    \r\n        return sb.toString();\r\n      }\r\n\r\nThis has proved effective in my testing on source files with block quotes of various lengths and content.","title":"Collapse multiline block quote, preserving lines?","body":"<p>In the end, I made a custom method:</p>\n<pre><code>  //compressBlockComments(String)\n  private String compressBlockComments(String source) {\n    Matcher m = Pattern.compile(&quot;/\\\\*[\\\\s\\\\S]*?\\\\*/&quot;).matcher(source);\n    StringBuffer sb = new StringBuffer(source);\n    int offset = 0; //keep track of how many chars have been removed\n\n    while (m.find()) { //Loop through pattern matches\n      String blockComment = m.group();\n      IntStream onlyNewlines = blockComment.chars().filter(c -&gt; c == '\\n');\n      int countOfNewlines = (int)onlyNewlines.count();\n      String compressed = &quot;\\n&quot;.repeat(countOfNewlines); //empty string if count == 0\n\n      //Replace the block comment with a compressed string, offsetting\n      //to account for the number of chars already removed.\n      sb = sb.replace(m.start() - offset, m.end() - offset, compressed);\n\n      //Increment offset with the number of chars removed in this iteration.\n      offset += blockComment.length() - countOfNewlines;\n    } //while\n\n    return sb.toString();\n  }\n</code></pre>\n<p>This has proved effective in my testing on source files with block quotes of various lengths and content.</p>\n"}],"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74207144,"answer_count":1,"score":0,"last_activity_date":1666784367,"creation_date":1666104274,"question_id":74112939,"body_markdown":"I am writing a preprocessor in Java for a language that supports traditional C-style block quotes, of the form:\r\n\r\n    /* Block quote on a single line. */\r\n\r\nor:\r\n\r\n    /*\r\n      Block quote on multiple lines.\r\n    */\r\n\r\nThe first task of the preprocessor is to collapse these block quotes to zero-length strings **but preserve any line breaks** within the quote.  This is necessary so that down the line, any compilation errors can refer the programmer back to the line number in the original (pre-preprocessed!) source code.\r\n\r\nRight now, my preprocessor can find and collapse block quotes with Java pattern matching:\r\n\r\n    String open = /\\\\*;  // the initial slash-star\r\n    String body = (.*?); // any char, zero or more, reluctantly\r\n    String close = \\\\*/; // the ending star-slash\r\n    \r\n    Pattern p = Pattern.compile(open + body + close, Pattern.DOTALL);\r\n    Matcher m = p.matcher(sourceCode);\r\n    \r\n    sourceCode = m.replaceAll();\r\n\r\nBut, this approach does not preserve line numbering  any multiline block quotes get collapsed to a single line.  Thus:\r\n\r\n    1: /*\r\n    2: Multiline block quote.\r\n    3: */\r\n    4: \r\n    5: println(I was coded on line 5.);\r\n\r\nwill preprocess to:\r\n\r\n    1:\r\n    2:\r\n    3: println(I was coded on line 5.);\r\n\r\nbut it should end up as:\r\n\r\n    1:\r\n    2:\r\n    3:\r\n    4:\r\n    5: println(I was coded on line 5.);\r\n\r\nIs there a way I can collapse block quotes while preserving line numbering?","title":"Collapse multiline block quote, preserving lines?","body":"<p>I am writing a preprocessor in Java for a language that supports traditional C-style block quotes, of the form:</p>\n<pre><code>/* Block quote on a single line. */\n</code></pre>\n<p>or:</p>\n<pre><code>/*\n  Block quote on multiple lines.\n*/\n</code></pre>\n<p>The first task of the preprocessor is to collapse these block quotes to zero-length strings <strong>but preserve any line breaks</strong> within the quote.  This is necessary so that down the line, any compilation errors can refer the programmer back to the line number in the original (pre-preprocessed!) source code.</p>\n<p>Right now, my preprocessor can find and collapse block quotes with Java pattern matching:</p>\n<pre><code>String open = /\\\\*;  // the initial slash-star\nString body = (.*?); // any char, zero or more, reluctantly\nString close = \\\\*/; // the ending star-slash\n\nPattern p = Pattern.compile(open + body + close, Pattern.DOTALL);\nMatcher m = p.matcher(sourceCode);\n\nsourceCode = m.replaceAll();\n</code></pre>\n<p>But, this approach does not preserve line numbering  any multiline block quotes get collapsed to a single line.  Thus:</p>\n<pre><code>1: /*\n2: Multiline block quote.\n3: */\n4: \n5: println(I was coded on line 5.);\n</code></pre>\n<p>will preprocess to:</p>\n<pre><code>1:\n2:\n3: println(I was coded on line 5.);\n</code></pre>\n<p>but it should end up as:</p>\n<pre><code>1:\n2:\n3:\n4:\n5: println(I was coded on line 5.);\n</code></pre>\n<p>Is there a way I can collapse block quotes while preserving line numbering?</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1636602512,"post_id":69922929,"comment_id":123603323,"body_markdown":"Try putting autowired annotation on the repository in the service, like you did for the service in the controller.","body":"Try putting autowired annotation on the repository in the service, like you did for the service in the controller."},{"owner":{"account_id":6539993,"reputation":360,"user_id":5674568,"display_name":"Komdosh"},"score":1,"creation_date":1636602642,"post_id":69922929,"comment_id":123603351,"body_markdown":"Why you try to implement repo and autowire it same time?","body":"Why you try to implement repo and autowire it same time?"},{"owner":{"account_id":18600848,"reputation":5,"user_id":13555713,"display_name":"Jesus Mg"},"score":0,"creation_date":1636602933,"post_id":69922929,"comment_id":123603390,"body_markdown":"@NathanHughes Yeah! That was the problem. Solved it! Thx.","body":"@NathanHughes Yeah! That was the problem. Solved it! Thx."}],"answers":[{"tags":[],"owner":{"account_id":15490816,"reputation":102,"user_id":13673276,"display_name":"Lakshan Chathuranga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658325836,"creation_date":1636603121,"answer_id":69923027,"question_id":69922929,"body_markdown":"Try to add `@Autowired` annotation in `EquipoServicio`.\r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;","title":"NullPointerException on JPA on SpringBoot","body":"<p>Try to add <code>@Autowired</code> annotation in <code>EquipoServicio</code>.</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23302291,"reputation":11,"user_id":17382752,"display_name":"manojkdm18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636603695,"creation_date":1636603272,"answer_id":69923043,"question_id":69922929,"body_markdown":"the reason is you are calling method of null object. use @Autowired annotation to get an object .\r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>the reason is you are calling method of null object. use @Autowired annotation to get an object .</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22835195,"reputation":109,"user_id":16983047,"display_name":"huseyinkadioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636654615,"creation_date":1636654615,"answer_id":69933049,"question_id":69922929,"body_markdown":"Let&#39;s say application context is a pool. There are specific ways to put something in a pool and pull something from the pool.\r\n\r\nWhen you add `@Service`, `@Repository`, `@Bean` to your class/method, you are putting something in the pool.\r\n\r\n    public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{}\r\n\r\nThere is no problem here without @Repository, because JpaRepository has it and JugadorRepo extends JpaRepository. \r\n\r\nBut if you want the use one of the elements in a pool, you need to get it first. You can use Injections(Constructor, Setter), `@Autowired` etc. \r\n\r\n    @Autowired\r\n    private EquipoRepo equiporepo;\r\n\r\nThis solves your problem. \r\n\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>Let's say application context is a pool. There are specific ways to put something in a pool and pull something from the pool.</p>\n<p>When you add <code>@Service</code>, <code>@Repository</code>, <code>@Bean</code> to your class/method, you are putting something in the pool.</p>\n<pre><code>public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{}\n</code></pre>\n<p>There is no problem here without @Repository, because JpaRepository has it and JugadorRepo extends JpaRepository.</p>\n<p>But if you want the use one of the elements in a pool, you need to get it first. You can use Injections(Constructor, Setter), <code>@Autowired</code> etc.</p>\n<pre><code>@Autowired\nprivate EquipoRepo equiporepo;\n</code></pre>\n<p>This solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784319,"creation_date":1666784319,"answer_id":74207133,"question_id":69922929,"body_markdown":"you forgot to add the annotation: &quot; @Autowired &quot; here, or inject it by constructor:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dREYv.png","title":"NullPointerException on JPA on SpringBoot","body":"<p>you forgot to add the annotation: &quot; @Autowired &quot; here, or inject it by constructor:\n<a href=\"https://i.stack.imgur.com/dREYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dREYv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18600848,"reputation":5,"user_id":13555713,"display_name":"Jesus Mg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69923027,"answer_count":4,"score":0,"last_activity_date":1666784319,"creation_date":1636602167,"question_id":69922929,"body_markdown":"I&#39;m new on SpringBoot and I&#39;m making a small CRUD. When I try to make a GET request that show me a list of soccer teams from my BD called &quot;soccer&quot; I&#39;ve have the following error message:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.balamcode.repo.EquipoRepo.findAll()&quot; because &quot;this.equiporepo&quot; is null\r\n\tat com.balamcode.servicio.EquipoServicio.findAll(EquipoServicio.java:22) ~[classes/:na]\r\n\tat com.balamcode.rest.EquipoREST.getAllEquipos(EquipoREST.java:23) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\nMy model &quot;Equipo&quot; is:\r\n\r\n    package com.balamcode.modelos;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table (name = &quot;equipo&quot;)\r\n    public class Equipo {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \tprivate String nombre;\r\n    \t\r\n    \tpublic Equipo() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Equipo(String nombre) {\r\n    \t\tsuper();\r\n    \t\tthis.nombre = nombre;\r\n    \t}\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getNombre() {\r\n    \t\treturn nombre;\r\n    \t}\r\n    \tpublic void setNombre(String nombre) {\r\n    \t\tthis.nombre = nombre;\r\n    \t}\r\n    \t\r\n    \t}\r\n\r\nMy Repositorie &quot;EquipoRepo&quot; is\r\n\r\n    package com.balamcode.repo;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.balamcode.modelos.Jugador;\r\n    \r\n    public interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{\r\n    \r\n    }\r\n\r\nMy service &quot;EquipoServicio&quot; is:\r\n\r\n    package com.balamcode.servicio;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.data.domain.Example;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.balamcode.modelos.Equipo;\r\n    import com.balamcode.repo.EquipoRepo;\r\n    \r\n    @Service\r\n    public class EquipoServicio implements EquipoRepo{\r\n    \r\n    \tprivate EquipoRepo equiporepo;\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAll() {\r\n    \t\treturn equiporepo.findAll();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAll(Sort sort) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;Equipo&gt; findAllById(Iterable&lt;Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void flush() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; S saveAndFlush(S entity) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllInBatch(Iterable&lt;Equipo&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllByIdInBatch(Iterable&lt;Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllInBatch() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Equipo getOne(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Equipo getById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Page&lt;Equipo&gt; findAll(Pageable pageable) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; S save(S entity) {\r\n    \t\t\r\n    \t\treturn equiporepo.save(entity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Optional&lt;Equipo&gt; findById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean existsById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long count() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteById(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void delete(Equipo entity) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAllById(Iterable&lt;? extends Integer&gt; ids) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAll(Iterable&lt;? extends Equipo&gt; entities) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteAll() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; long count(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;S extends Equipo&gt; boolean exists(Example&lt;S&gt; example) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nAnd my REST class called &quot;EquipoREST&quot; is:\r\n\r\n    package com.balamcode.rest;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.balamcode.modelos.Equipo;\r\n    import com.balamcode.servicio.EquipoServicio;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/equipo/&quot;)\r\n    public class EquipoREST {\r\n    \r\n    \t@Autowired\r\n    \tprivate EquipoServicio equipoServicio;\r\n    \t\r\n    \t@GetMapping\r\n    \tpublic ResponseEntity&lt;List&lt;Equipo&gt;&gt; getAllEquipos(){\r\n    \t\treturn ResponseEntity.ok(equipoServicio.findAll());\r\n    \t}\r\n    }\r\n\r\n","title":"NullPointerException on JPA on SpringBoot","body":"<p>I'm new on SpringBoot and I'm making a small CRUD. When I try to make a GET request that show me a list of soccer teams from my BD called &quot;soccer&quot; I've have the following error message:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.balamcode.repo.EquipoRepo.findAll()&quot; because &quot;this.equiporepo&quot; is null\nat com.balamcode.servicio.EquipoServicio.findAll(EquipoServicio.java:22) ~[classes/:na]\nat com.balamcode.rest.EquipoREST.getAllEquipos(EquipoREST.java:23) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\nat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>My model &quot;Equipo&quot; is:</p>\n<pre><code>package com.balamcode.modelos;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table (name = &quot;equipo&quot;)\npublic class Equipo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String nombre;\n    \n    public Equipo() {\n        \n    }\n    \n    public Equipo(String nombre) {\n        super();\n        this.nombre = nombre;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getNombre() {\n        return nombre;\n    }\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n    \n    }\n</code></pre>\n<p>My Repositorie &quot;EquipoRepo&quot; is</p>\n<pre><code>package com.balamcode.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.balamcode.modelos.Jugador;\n\npublic interface JugadorRepo extends JpaRepository&lt;Jugador, Integer&gt;{\n\n}\n</code></pre>\n<p>My service &quot;EquipoServicio&quot; is:</p>\n<pre><code>package com.balamcode.servicio;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.data.domain.Example;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.stereotype.Service;\n\nimport com.balamcode.modelos.Equipo;\nimport com.balamcode.repo.EquipoRepo;\n\n@Service\npublic class EquipoServicio implements EquipoRepo{\n\n    private EquipoRepo equiporepo;\n\n    @Override\n    public List&lt;Equipo&gt; findAll() {\n        return equiporepo.findAll();\n    }\n\n    @Override\n    public List&lt;Equipo&gt; findAll(Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;Equipo&gt; findAllById(Iterable&lt;Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; saveAll(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void flush() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; S saveAndFlush(S entity) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; saveAllAndFlush(Iterable&lt;S&gt; entities) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void deleteAllInBatch(Iterable&lt;Equipo&gt; entities) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllByIdInBatch(Iterable&lt;Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllInBatch() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public Equipo getOne(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Equipo getById(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; List&lt;S&gt; findAll(Example&lt;S&gt; example, Sort sort) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Page&lt;Equipo&gt; findAll(Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; S save(S entity) {\n        \n        return equiporepo.save(entity);\n    }\n\n    @Override\n    public Optional&lt;Equipo&gt; findById(Integer id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean existsById(Integer id) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public long count() {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public void deleteById(Integer id) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void delete(Equipo entity) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAllById(Iterable&lt;? extends Integer&gt; ids) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll(Iterable&lt;? extends Equipo&gt; entities) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void deleteAll() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; Page&lt;S&gt; findAll(Example&lt;S&gt; example, Pageable pageable) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; long count(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public &lt;S extends Equipo&gt; boolean exists(Example&lt;S&gt; example) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n}\n</code></pre>\n<p>And my REST class called &quot;EquipoREST&quot; is:</p>\n<pre><code>package com.balamcode.rest;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.balamcode.modelos.Equipo;\nimport com.balamcode.servicio.EquipoServicio;\n\n@RestController\n@RequestMapping(&quot;/equipo/&quot;)\npublic class EquipoREST {\n\n    @Autowired\n    private EquipoServicio equipoServicio;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;Equipo&gt;&gt; getAllEquipos(){\n        return ResponseEntity.ok(equipoServicio.findAll());\n    }\n}\n</code></pre>\n"},{"tags":["java","heap-memory","patch","suse"],"answers":[{"tags":[],"owner":{"account_id":26737711,"reputation":1,"user_id":20339002,"display_name":"Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666784192,"creation_date":1666784192,"answer_id":74207110,"question_id":71422580,"body_markdown":"As I know, SUSE has 1.3 GB as the decision limit. That is, as you have 1 GB &lt; 1.3 GB for your container, it considers it small, and thus uses MinRAMPercentage to determine heap size. I could not find the corresponding patch yet, though.","title":"Heap size allocation in SUSE using MinRAMPercentage instead of MaxRAMPercentage values although heap size &gt; 250 MB","body":"<p>As I know, SUSE has 1.3 GB as the decision limit. That is, as you have 1 GB &lt; 1.3 GB for your container, it considers it small, and thus uses MinRAMPercentage to determine heap size. I could not find the corresponding patch yet, though.</p>\n"}],"owner":{"account_id":23019951,"reputation":11,"user_id":17141136,"display_name":"Thomas Enblom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666784192,"creation_date":1646908086,"question_id":71422580,"body_markdown":"I have a problem when defining usage of heap size using MinRAMPercentage and MaxRAMPercentage.\r\n\r\nThe MaxRAMPercentage value is used when heap size is &gt; 250 MB while the MinRAMPercentage is used when heap size &lt; 250 MB.\r\n\r\nI have run the following 2 commands:\r\n------------------------------------\r\n\r\n\r\n**First command** is with openjdk11\r\n\r\ndocker run -m 1GB openjdk:11 java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version\r\n\r\nIt allocates around **820MB** for the java heap size limit, thereby using the MaxRAMPercentage which is correct!\r\n \r\n**Second command** is with SUSE provided openjdk\r\n\r\ndocker run -m 1GB armdocker.rnd.ericsson.se/proj-adp-cicd-drop/bob-java11mvnbuilder:latest java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version\r\n\r\nIt allocates **512MB** which it allocates using the MinRAMPercentage..\r\n\r\n-------\r\n\r\nSo it seems that the **First command** java uses MaxRAMPercentage, while the **second command** java uses MinRAMPercentage.\r\nWith SUSE it picks MinRAMPercentage 50%*1GB = 500 MB\r\n \r\nApparently there is a patch in SUSE provided jdk that switches to MinRAMPercentage although MaxRAMPercentage should be used for this heap size value (1 GB).\r\n\r\nMy questions:\r\n* What is the reasoning behind this patch in SUSE?\r\n* Is there a place where I can find more information\r\n* Is there a way to avoid this patch?\r\n\r\nThanks.\r\nThomas\r\n\r\n","title":"Heap size allocation in SUSE using MinRAMPercentage instead of MaxRAMPercentage values although heap size &gt; 250 MB","body":"<p>I have a problem when defining usage of heap size using MinRAMPercentage and MaxRAMPercentage.</p>\n<p>The MaxRAMPercentage value is used when heap size is &gt; 250 MB while the MinRAMPercentage is used when heap size &lt; 250 MB.</p>\n<h2>I have run the following 2 commands:</h2>\n<p><strong>First command</strong> is with openjdk11</p>\n<p>docker run -m 1GB openjdk:11 java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version</p>\n<p>It allocates around <strong>820MB</strong> for the java heap size limit, thereby using the MaxRAMPercentage which is correct!</p>\n<p><strong>Second command</strong> is with SUSE provided openjdk</p>\n<p>docker run -m 1GB armdocker.rnd.ericsson.se/proj-adp-cicd-drop/bob-java11mvnbuilder:latest java -server -XX:+UseG1GC -XX:+ExplicitGCInvokesConcurrent -XX:InitialRAMPercentage=80.0 -XX:MinRAMPercentage=50.0 -XX:MaxRAMPercentage=80.0 -XX:+PrintFlagsFinal -XshowSettings -version</p>\n<p>It allocates <strong>512MB</strong> which it allocates using the MinRAMPercentage..</p>\n<hr />\n<p>So it seems that the <strong>First command</strong> java uses MaxRAMPercentage, while the <strong>second command</strong> java uses MinRAMPercentage.\nWith SUSE it picks MinRAMPercentage 50%*1GB = 500 MB</p>\n<p>Apparently there is a patch in SUSE provided jdk that switches to MinRAMPercentage although MaxRAMPercentage should be used for this heap size value (1 GB).</p>\n<p>My questions:</p>\n<ul>\n<li>What is the reasoning behind this patch in SUSE?</li>\n<li>Is there a place where I can find more information</li>\n<li>Is there a way to avoid this patch?</li>\n</ul>\n<p>Thanks.\nThomas</p>\n"},{"tags":["java","homebrew"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1596837538,"post_id":63309614,"comment_id":111949502,"body_markdown":"Ask 10 people, get 11 answers (eventhough there seem to be only three possible answers available...)","body":"Ask 10 people, get 11 answers (eventhough there seem to be only three possible answers available...)"},{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":1,"creation_date":1596838954,"post_id":63309614,"comment_id":111949882,"body_markdown":"I would recommend using `sdk` instead `brew` for installing java versions. On top it gives you flexibility for easy switch between the versions.","body":"I would recommend using <code>sdk</code> instead <code>brew</code> for installing java versions. On top it gives you flexibility for easy switch between the versions."}],"answers":[{"tags":[],"owner":{"account_id":7655202,"reputation":1958,"user_id":5802381,"accept_rate":62,"display_name":"Andrew Vershinin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1596837707,"creation_date":1596837707,"answer_id":63309656,"question_id":63309614,"body_markdown":"You can use [AdoptOpenJDK][1] for `brew`\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/homebrew-openjdk","title":"How to install openjdk with brew?","body":"<p>You can use <a href=\"https://github.com/AdoptOpenJDK/homebrew-openjdk\" rel=\"noreferrer\">AdoptOpenJDK</a> for <code>brew</code></p>\n"},{"tags":[],"owner":{"account_id":4298152,"reputation":850,"user_id":3512601,"accept_rate":0,"display_name":"saysiva"},"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1645700385,"creation_date":1596837781,"answer_id":63309664,"question_id":63309614,"body_markdown":"Run `brew install openjdk@11`\r\n\r\nIn case you are managing java versions with [jenv][1], also run:\r\n\r\n```sh\r\nsudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\njenv add /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home/\r\n```\r\n\r\n\r\n  [1]: https://www.jenv.be/","title":"How to install openjdk with brew?","body":"<p>Run <code>brew install openjdk@11</code></p>\n<p>In case you are managing java versions with <a href=\"https://www.jenv.be/\" rel=\"noreferrer\">jenv</a>, also run:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\njenv add /Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3238523,"reputation":509,"user_id":2732094,"accept_rate":50,"display_name":"SkillsIndexOutOfBounds"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1666784084,"creation_date":1596846991,"answer_id":63310708,"question_id":63309614,"body_markdown":"To install latest:\r\n\r\n    brew install --cask adoptopenjdk\r\n\r\nTo install a specific version\r\n\r\n    brew tap AdoptOpenJDK/openjdk\r\n    brew install --cask adoptopenjdk8\r\n    brew install --cask adoptopenjdk9","title":"How to install openjdk with brew?","body":"<p>To install latest:</p>\n<pre><code>brew install --cask adoptopenjdk\n</code></pre>\n<p>To install a specific version</p>\n<pre><code>brew tap AdoptOpenJDK/openjdk\nbrew install --cask adoptopenjdk8\nbrew install --cask adoptopenjdk9\n</code></pre>\n"}],"owner":{"account_id":82358,"reputation":14014,"user_id":231624,"accept_rate":54,"display_name":"Alex Craft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84579,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"closed_date":1596870984,"accepted_answer_id":63309664,"answer_count":3,"score":33,"last_activity_date":1666784084,"creation_date":1596837434,"question_id":63309614,"body_markdown":"Seems like there&#39;s 3 packages &quot;openjdk&quot;, &quot;cask java&quot; and &quot;adoptopenjdk&quot;. \r\n\r\nWhich one should be used?","title":"How to install openjdk with brew?","body":"<p>Seems like there's 3 packages &quot;openjdk&quot;, &quot;cask java&quot; and &quot;adoptopenjdk&quot;.</p>\n<p>Which one should be used?</p>\n"},{"tags":["java","floating-point","numbers"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":3,"creation_date":1666782790,"post_id":74206776,"comment_id":131016221,"body_markdown":"The value in a floating point variable is the value that&#39;s stores in the variable, fetching it will not make the value better or worse. So &quot;it gives an approx of a number in the variable&quot; is not true. What is true is that doing operations on floating point values (addition, multiplication, division, etc) *can* (but not always, depends on the values) lead to small rounding errors. The more operations you make of the values the larger the error becomes. So after doing a few operations of the variables, then a direct equality comparison might not lead to expected results.","body":"The value in a floating point variable is the value that&#39;s stores in the variable, fetching it will not make the value better or worse. So &quot;it gives an approx of a number in the variable&quot; is not true. What is true is that doing operations on floating point values (addition, multiplication, division, etc) <i>can</i> (but not always, depends on the values) lead to small rounding errors. The more operations you make of the values the larger the error becomes. So after doing a few operations of the variables, then a direct equality comparison might not lead to expected results."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1666782920,"post_id":74206776,"comment_id":131016262,"body_markdown":"The solution is usually to compare using an *epsilon*. similar to your `abs` method: `if (Math.abs(a - b) &lt; 0.00001)`","body":"The solution is usually to compare using an <i>epsilon</i>. similar to your <code>abs</code> method: <code>if (Math.abs(a - b) &lt; 0.00001)</code>"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1666782952,"post_id":74206776,"comment_id":131016276,"body_markdown":"Also see [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Also see <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":26737404,"reputation":3,"user_id":20338751,"display_name":"owns good"},"score":0,"creation_date":1666783663,"post_id":74206776,"comment_id":131016482,"body_markdown":"Oh! Yeah that is much more clever. Like setting to &lt;0.0001\n\nVery well done. That means even if there are minor errors along the way this still is not that big of a diff most of the time. I see, so instead of settiing ==0 set to &lt;0.0001. Why didn&#39;t I think of that. Thank you !","body":"Oh! Yeah that is much more clever. Like setting to &lt;0.0001  Very well done. That means even if there are minor errors along the way this still is not that big of a diff most of the time. I see, so instead of settiing ==0 set to &lt;0.0001. Why didn&#39;t I think of that. Thank you !"},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1667334389,"post_id":74206776,"comment_id":131142235,"body_markdown":"Both methods are weak.","body":"Both methods are weak."}],"answers":[{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666783150,"creation_date":1666783150,"answer_id":74206886,"question_id":74206776,"body_markdown":"Inaccuracy with comparisons using the == operator is caused by the way double values are stored in a computer&#39;s memory. We need to remember that there is an infinite number of values that must fit in limited memory space, usually 64 bits. As a result, we can&#39;t have an exact representation of most double values in our computers. They must be rounded to be saved.\r\n\r\nBecause of the rounding inaccuracy, interesting errors might occur:\r\n\r\n    double d1 = 0;\r\n    for (int i = 1; i &lt;= 8; i++) {\r\n    d1 += 0.1;\r\n    }\r\n\r\n    double d2 = 0.1 * 8;\r\n\r\n    System.out.println(d1);\r\n    System.out.println(d2);\r\n\r\nBoth variables, d1 and d2, should equal 0.8. However, when we run the code above, we&#39;ll see the following results:\r\n\r\n    0.7999999999999999\r\n    0.8\r\n\r\nIn that case, comparing both values with the == operator would produce a wrong result. For this reason, we must use a more complex comparison algorithm.\r\n\r\nIf we want to have the best precision and control over the rounding mechanism, we can use java.math.BigDecimal class.\r\n\r\nThe recommended algorithm to compare double values in plain Java is a threshold comparison method. In this case, we need to check whether the difference between both numbers is within the specified tolerance, commonly called epsilon:\r\n\r\n    double epsilon = 0.000001d;\r\n\r\n    assertThat(Math.abs(d1 - d2) &lt; epsilon).isTrue();\r\n\r\nThe smaller the epsilon&#39;s value, the greater the comparison accuracy. However, if we specify the tolerance value too small, we&#39;ll get the same false result as in the simple == comparison","title":"Float-type useless?","body":"<p>Inaccuracy with comparisons using the == operator is caused by the way double values are stored in a computer's memory. We need to remember that there is an infinite number of values that must fit in limited memory space, usually 64 bits. As a result, we can't have an exact representation of most double values in our computers. They must be rounded to be saved.</p>\n<p>Because of the rounding inaccuracy, interesting errors might occur:</p>\n<pre><code>double d1 = 0;\nfor (int i = 1; i &lt;= 8; i++) {\nd1 += 0.1;\n}\n\ndouble d2 = 0.1 * 8;\n\nSystem.out.println(d1);\nSystem.out.println(d2);\n</code></pre>\n<p>Both variables, d1 and d2, should equal 0.8. However, when we run the code above, we'll see the following results:</p>\n<pre><code>0.7999999999999999\n0.8\n</code></pre>\n<p>In that case, comparing both values with the == operator would produce a wrong result. For this reason, we must use a more complex comparison algorithm.</p>\n<p>If we want to have the best precision and control over the rounding mechanism, we can use java.math.BigDecimal class.</p>\n<p>The recommended algorithm to compare double values in plain Java is a threshold comparison method. In this case, we need to check whether the difference between both numbers is within the specified tolerance, commonly called epsilon:</p>\n<pre><code>double epsilon = 0.000001d;\n\nassertThat(Math.abs(d1 - d2) &lt; epsilon).isTrue();\n</code></pre>\n<p>The smaller the epsilon's value, the greater the comparison accuracy. However, if we specify the tolerance value too small, we'll get the same false result as in the simple == comparison</p>\n"},{"tags":[],"owner":{"account_id":19696385,"reputation":11,"user_id":14420200,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666783364,"creation_date":1666783364,"answer_id":74206921,"question_id":74206776,"body_markdown":"The thing is, That statement you read in your java book just prevents you from some errors in future, that can be hardly debugged. Computers store decimals/floats as binary, thus not everything we can express as rational in decimal numbers can be expressed as rational in binary, so there&#39;s always something like 0.7 = 0.699999999998511. You may not see difference in those comparisons you use, but in real project where you may use much more variables, add and subtract from them, this difference may appear in very surprising place.\r\n\r\nThere is some classic question about floating numbers. You may see it in any language as well\r\nhttps://stackoverflow.com/questions/3150716/why-does-this-code-print-a-result-of-7","title":"Float-type useless?","body":"<p>The thing is, That statement you read in your java book just prevents you from some errors in future, that can be hardly debugged. Computers store decimals/floats as binary, thus not everything we can express as rational in decimal numbers can be expressed as rational in binary, so there's always something like 0.7 = 0.699999999998511. You may not see difference in those comparisons you use, but in real project where you may use much more variables, add and subtract from them, this difference may appear in very surprising place.</p>\n<p>There is some classic question about floating numbers. You may see it in any language as well\n<a href=\"https://stackoverflow.com/questions/3150716/why-does-this-code-print-a-result-of-7\">Why does this code print a result of &#39;7&#39;?</a></p>\n"}],"owner":{"account_id":26737404,"reputation":3,"user_id":20338751,"display_name":"owns good"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74206886,"answer_count":2,"score":-2,"last_activity_date":1666783364,"creation_date":1666782562,"question_id":74206776,"body_markdown":"in my java book it told me to not directly compare 2 different float(type) numbers when storing them in variables. Because it gives an approx of a number in the variable. Instead it suggested checking the absolute value of the difference and see if it equals 0. If it does they are the same.  How is this helpful? What if I store 5 in variable a and 5 in variable b, how can they not be the same? And how does it help if I compare absolute value?? \r\n\r\n\r\n```\r\ndouble a=5,b=5;\r\n\r\nif (Math.abs(a-b)==0)\r\n//run code\r\n\r\nif (a==b)\r\n//run code \r\n```\r\n\r\nI don&#39;t see at all why the above method would be more accurate? Since if &#39;a&#39; is not equal to &#39;b&#39; it wont matter if I use Math.abs. \r\n\r\nI appreciate replies and thank you for your time. \r\n\r\n\r\n\r\nI tried both methods.","title":"Float-type useless?","body":"<p>in my java book it told me to not directly compare 2 different float(type) numbers when storing them in variables. Because it gives an approx of a number in the variable. Instead it suggested checking the absolute value of the difference and see if it equals 0. If it does they are the same.  How is this helpful? What if I store 5 in variable a and 5 in variable b, how can they not be the same? And how does it help if I compare absolute value??</p>\n<pre><code>double a=5,b=5;\n\nif (Math.abs(a-b)==0)\n//run code\n\nif (a==b)\n//run code \n</code></pre>\n<p>I don't see at all why the above method would be more accurate? Since if 'a' is not equal to 'b' it wont matter if I use Math.abs.</p>\n<p>I appreciate replies and thank you for your time.</p>\n<p>I tried both methods.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7340028,"reputation":11,"user_id":5589963,"display_name":"Mangesh Darekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666773983,"creation_date":1666767449,"answer_id":74203759,"question_id":74203634,"body_markdown":"    for(WADataModel model : claimDataList){\r\n      if(model.PLAN_NUMBER==null){\r\n        model.SUBGROUP_POLICY_NUMBER = &lt;&gt;\r\n      }\r\n    }","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<pre><code>for(WADataModel model : claimDataList){\n  if(model.PLAN_NUMBER==null){\n    model.SUBGROUP_POLICY_NUMBER = &lt;&gt;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666783333,"creation_date":1666768757,"answer_id":74204007,"question_id":74203634,"body_markdown":"If I have understood, you want to check that the value &#39;***PLAN_NUMBER***&#39; is not null, and then fill the variable &#39;***SUBGRUOUP_POLICY_NUMBER***&#39;.\r\n\r\nYou can do this with `lambdas` (since j8), which is optimal.\r\n\r\n    claimDataList.stream()\r\n    .filter(x -&gt; x.getPLAN_NUMBER() != null)\r\n    .forEach(y -&gt; y.setSUBGROUP_POLICY_NUMBER(y.getPLAN_NUMBER()));\r\n\r\n","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>If I have understood, you want to check that the value '<em><strong>PLAN_NUMBER</strong></em>' is not null, and then fill the variable '<em><strong>SUBGRUOUP_POLICY_NUMBER</strong></em>'.</p>\n<p>You can do this with <code>lambdas</code> (since j8), which is optimal.</p>\n<pre><code>claimDataList.stream()\n.filter(x -&gt; x.getPLAN_NUMBER() != null)\n.forEach(y -&gt; y.setSUBGROUP_POLICY_NUMBER(y.getPLAN_NUMBER()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666769317,"creation_date":1666769317,"answer_id":74204114,"question_id":74203634,"body_markdown":"Write a method to update **one** model.\r\nThen you can iterate over the list of models, filter them and call this method for the resuming models.\r\nI would prefer a stream:\r\n```\r\nclaimDataList.stream()\r\n    .filter(model -&gt; model.PLAN_NUMBER == null)\r\n    .forEach(this::planNumberNull);\r\n\r\nprivate void planNumberNull(WADataModel model) {\r\n    model.SUBGROUP_POLICY_NUMBER = ...\r\n}\r\n```","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>Write a method to update <strong>one</strong> model.\nThen you can iterate over the list of models, filter them and call this method for the resuming models.\nI would prefer a stream:</p>\n<pre><code>claimDataList.stream()\n    .filter(model -&gt; model.PLAN_NUMBER == null)\n    .forEach(this::planNumberNull);\n\nprivate void planNumberNull(WADataModel model) {\n    model.SUBGROUP_POLICY_NUMBER = ...\n}\n</code></pre>\n"}],"owner":{"account_id":11293194,"reputation":15,"user_id":15153070,"display_name":"lakshya saxena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74204114,"answer_count":3,"score":-1,"last_activity_date":1666783333,"creation_date":1666766602,"question_id":74203634,"body_markdown":"I have a array list of a Model class which has multiple String type variables.\r\nThis Array list values is populated from JDBC template result set.\r\n\r\nNow I want to iterate this Array List and update some of these model element based upon some conditions.\r\n\r\nMy Model Class:\r\n\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n\r\n    public class WADataModel {\r\n\r\n    public String STATUS;\t\r\n    public String AUTO_DATE;\r\n    public String RECORD_TYPE;\r\n    public String VENDOR_NAME;\r\n    public String CREATED_DATE;\r\n    public String ACTION_CODE;\r\n    public String CITY;\r\n    public String GROUP_NUMBER;\r\n    public String GROUP_POLICY_NUMBER;\r\n    public String SUBGROUP_NUMBER;\r\n    public String SUBGROUP_POLICY_NUMBER;\r\n    public String SYSTEM;\r\n    public String PLAN_NUMBER;\r\n    }\r\n\r\nMy DAO Class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.jdbc.core.BeanPropertyRowMapper;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    import org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class PlanCrosswalks {\r\n\t\r\n    @Autowired\r\n    @Qualifier(&quot;nemisNamedJdbcTemplate&quot;)\r\n    private NamedParameterJdbcTemplate nemisJdbcTemplate;\t\r\n\r\n    @Autowired\r\n    private FetchDatafFromProp fetchDatafFromProp;\r\n\r\n    @Value(&quot;${query.state}&quot;)\r\n    private String queryState;\r\n\r\n\tpublic List&lt;WADataModel&gt; doWACrosswalk(List&lt;WADataModel&gt; claimDataList) throws ApplicationExceptions{\r\n\t\t\r\n\t\tRowMapper&lt;WACrosswalkModel&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(WACrosswalkModel.class);\r\n\t\tList&lt;WACrosswalkModel&gt; statusResult = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String,String&gt; crosswalkQueryMap = new HashMap&lt;&gt;();\r\n\t\tMap&lt;String,String&gt; paramMap = new HashMap&lt;&gt;();\r\n\t\tcrosswalkQueryMap = fetchDatafFromProp.getDataForGeneration();\r\n\t\t\r\n\t\tstatusResult = nemisJdbcTemplate.query(crosswalkQueryMap.get(queryState+ Constants.UNDERSCORE + Constants.FETCH_SUB_GROUP_POLICY),paramMap,rowMapper);\r\n\t\t\r\n\t\tfor(WADataModel model : claimDataList)\r\n\t\t\t//Here I want to update ClaimDataList elements like SUBGROUP_POLICY_NUMBER,GROUP_POLICY_NUMBER based upon some conditions by iterating whole List.\r\n\r\n\t\treturn claimDataList; \r\n\t}\r\n\r\n}\r\n\r\n\r\nI want to iterate &quot;claimDataList&quot; and check whether plan_number is null and update subGroupPolicyNumber accordingly based upon the value of plan_number.\r\n\r\nI can iterate List of model but don&#39;t know how to update the values in List of model.\r\nPlease help me to update the values in &quot;claimDataList&quot;","title":"How to iterate a List of Model in java and update the value of some of model element in list","body":"<p>I have a array list of a Model class which has multiple String type variables.\nThis Array list values is populated from JDBC template result set.</p>\n<p>Now I want to iterate this Array List and update some of these model element based upon some conditions.</p>\n<p>My Model Class:</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n\npublic class WADataModel {\n\npublic String STATUS;   \npublic String AUTO_DATE;\npublic String RECORD_TYPE;\npublic String VENDOR_NAME;\npublic String CREATED_DATE;\npublic String ACTION_CODE;\npublic String CITY;\npublic String GROUP_NUMBER;\npublic String GROUP_POLICY_NUMBER;\npublic String SUBGROUP_NUMBER;\npublic String SUBGROUP_POLICY_NUMBER;\npublic String SYSTEM;\npublic String PLAN_NUMBER;\n}\n</code></pre>\n<p>My DAO Class:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PlanCrosswalks {\n\n@Autowired\n@Qualifier(&quot;nemisNamedJdbcTemplate&quot;)\nprivate NamedParameterJdbcTemplate nemisJdbcTemplate;   \n\n@Autowired\nprivate FetchDatafFromProp fetchDatafFromProp;\n\n@Value(&quot;${query.state}&quot;)\nprivate String queryState;\n\npublic List&lt;WADataModel&gt; doWACrosswalk(List&lt;WADataModel&gt; claimDataList) throws ApplicationExceptions{\n    \n    RowMapper&lt;WACrosswalkModel&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(WACrosswalkModel.class);\n    List&lt;WACrosswalkModel&gt; statusResult = new ArrayList&lt;&gt;();\n    Map&lt;String,String&gt; crosswalkQueryMap = new HashMap&lt;&gt;();\n    Map&lt;String,String&gt; paramMap = new HashMap&lt;&gt;();\n    crosswalkQueryMap = fetchDatafFromProp.getDataForGeneration();\n    \n    statusResult = nemisJdbcTemplate.query(crosswalkQueryMap.get(queryState+ Constants.UNDERSCORE + Constants.FETCH_SUB_GROUP_POLICY),paramMap,rowMapper);\n    \n    for(WADataModel model : claimDataList)\n        //Here I want to update ClaimDataList elements like SUBGROUP_POLICY_NUMBER,GROUP_POLICY_NUMBER based upon some conditions by iterating whole List.\n\n    return claimDataList; \n}\n</code></pre>\n<p>}</p>\n<p>I want to iterate &quot;claimDataList&quot; and check whether plan_number is null and update subGroupPolicyNumber accordingly based upon the value of plan_number.</p>\n<p>I can iterate List of model but don't know how to update the values in List of model.\nPlease help me to update the values in &quot;claimDataList&quot;</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3978962,"reputation":440,"user_id":3281415,"accept_rate":50,"display_name":"SerCrAsH"},"score":1,"creation_date":1617365327,"post_id":66919053,"comment_id":118289263,"body_markdown":"you could even try to use this simplified version `Optional&lt;User&gt; findByUsername(String username);` and also remove all `@Getter @Setter` and replace it with a class annotation `@Data`. Apart from that, just a stupid question .. did you initiate your database with records in user&#39;s table?","body":"you could even try to use this simplified version <code>Optional&lt;User&gt; findByUsername(String username);</code> and also remove all <code>@Getter @Setter</code> and replace it with a class annotation <code>@Data</code>. Apart from that, just a stupid question .. did you initiate your database with records in user&#39;s table?"}],"answers":[{"tags":[],"owner":{"account_id":12448890,"reputation":245,"user_id":9064229,"display_name":"Aethernite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617365763,"creation_date":1617365763,"answer_id":66919199,"question_id":66919053,"body_markdown":"It is possible that you don&#39;t seed the database with the user you are trying to login. You can use an Application Runner class to seed it on every start if the user doesn&#39;t exist in the database. Also, you can apply the `@Data` annotation from Lombok on class level to generate getters and setters for all the fields.\r\n\r\n```java\r\npackage com.javahowtos.dataseeddemo.dataseed;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.javahowtos.dataseeddemo.model.User;\r\nimport com.javahowtos.dataseeddemo.repository.UserRepository;\r\n\r\n@Component\r\npublic class UserDataLoader implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tloadUserData();\r\n\t}\r\n\r\n\tprivate void loadUserData() {\r\n\t\tif (userRepository.count() == 0) {\r\n\t\t\tUser user1 = new User(&quot;John&quot;, &quot;Doe&quot;);\r\n\t\t\tUser user2 = new User(&quot;John&quot;, &quot;Cook&quot;);\r\n\t\t\tuserRepository.save(user1);\r\n\t\t\tuserRepository.save(user2);\r\n\t\t}\r\n\t\tSystem.out.println(userRepository.count());\r\n\t}\r\n}\r\n```\r\n\r\nSource: https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<p>It is possible that you don't seed the database with the user you are trying to login. You can use an Application Runner class to seed it on every start if the user doesn't exist in the database. Also, you can apply the <code>@Data</code> annotation from Lombok on class level to generate getters and setters for all the fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.javahowtos.dataseeddemo.dataseed;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport com.javahowtos.dataseeddemo.model.User;\nimport com.javahowtos.dataseeddemo.repository.UserRepository;\n\n@Component\npublic class UserDataLoader implements CommandLineRunner {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Override\n    public void run(String... args) throws Exception {\n        loadUserData();\n    }\n\n    private void loadUserData() {\n        if (userRepository.count() == 0) {\n            User user1 = new User(&quot;John&quot;, &quot;Doe&quot;);\n            User user2 = new User(&quot;John&quot;, &quot;Cook&quot;);\n            userRepository.save(user1);\n            userRepository.save(user2);\n        }\n        System.out.println(userRepository.count());\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html\" rel=\"nofollow noreferrer\">https://javahowtos.com/guides/107-spring/376-how-to-seed-the-database-in-spring-boot-project.html</a></p>\n"},{"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617366409,"creation_date":1617366409,"answer_id":66919321,"question_id":66919053,"body_markdown":" - You have to be sure that you have a user with the appropriate username in the database (case sensitive), if you do not have a user you can insert some test users (with the migration tool, with custom component, or manually)\r\n - You probably need to add a unique index for username\r\n - If you extend JpaRepository and add method findByUsername spring will generate implementation and you do not need @Query, if you have multiple items you can use findFirstByUsername\r\n","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<ul>\n<li>You have to be sure that you have a user with the appropriate username in the database (case sensitive), if you do not have a user you can insert some test users (with the migration tool, with custom component, or manually)</li>\n<li>You probably need to add a unique index for username</li>\n<li>If you extend JpaRepository and add method findByUsername spring will generate implementation and you do not need @Query, if you have multiple items you can use findFirstByUsername</li>\n</ul>\n"}],"owner":{"account_id":15505980,"reputation":39,"user_id":11186140,"display_name":"coi175"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66919199,"answer_count":2,"score":1,"last_activity_date":1666782955,"creation_date":1617365068,"question_id":66919053,"body_markdown":"I want to make login form with data from my own database. I made Entity User class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Auth_data&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue\r\n        @Getter @Setter\r\n        private Long id;\r\n        @Column(name= &quot;username&quot;)\r\n        @Getter @Setter\r\n        private String username;\r\n        @Column(name=&quot;password&quot;)\r\n        @Getter @Setter\r\n        private String password;\r\n    \r\n        @Enumerated(EnumType.ORDINAL)\r\n        @Column(name=&quot;role&quot;)\r\n        @Getter @Setter\r\n        private Role role;\r\n        @Column(name = &quot;client_ID&quot;)\r\n        @Getter @Setter\r\n        private Long clientID;\r\n        @Column(name = &quot;instructor_ID&quot;)\r\n        @Getter @Setter\r\n        private Long instructorID;\r\n    \r\n        public User() {}\r\n    \r\n        public User(String username, String password, Role role, Long clientID, Long instructorID) {\r\n            this.username = username;\r\n            this.password = password;\r\n            this.role = role;\r\n            this.clientID = clientID;\r\n            this.instructorID = instructorID;\r\n        }\r\n    \r\n    }\r\n\r\nAlso I made UserDetailsServiceIml class which implements UserDetailsService:\r\n\r\n    @Service\r\n    public class UserDetailsServiceIml implements UserDetailsService {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            final User user = userRepository.findByUsername(username);\r\n            if(user == null) {\r\n                throw new UsernameNotFoundException(username);\r\n            }\r\n    \r\n            Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt; &gt;();\r\n            grantedAuthorities.add(new SimpleGrantedAuthority(user.getRole().name()));\r\n            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(),\r\n                    grantedAuthorities);\r\n        }\r\n    }\r\n\r\nMy User repository class:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        User findByUsername(String username);\r\n    }\r\nI also tried make Query like this:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        @Query(&quot;Select u from User u WHERE u.username=:username&quot;)\r\n        User findByUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nBut when I enter login and password into login form I get error, because User is Null after searching in database. How can I fix it? \r\n\r\nUPD: SOLVED!\r\nI don&#39;t know why and how. I found that hibernate created new table &quot;auth_data&quot;, but not used my table &quot;Auth_data&quot;. So, I renamed &quot;Auth_data&quot; to &quot;auth_data&quot; and now it&#39;s work! I also changed @Getter @Setter on @Data,changed in User repository on &quot;&lt;Optional&gt; User findByUsername(String username);&quot; and changed type of field role from enum to String. ","title":"How to get User from database for login with Spring Boot and Spring Data Jpa","body":"<p>I want to make login form with data from my own database. I made Entity User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;Auth_data&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    @Getter @Setter\n    private Long id;\n    @Column(name= &quot;username&quot;)\n    @Getter @Setter\n    private String username;\n    @Column(name=&quot;password&quot;)\n    @Getter @Setter\n    private String password;\n\n    @Enumerated(EnumType.ORDINAL)\n    @Column(name=&quot;role&quot;)\n    @Getter @Setter\n    private Role role;\n    @Column(name = &quot;client_ID&quot;)\n    @Getter @Setter\n    private Long clientID;\n    @Column(name = &quot;instructor_ID&quot;)\n    @Getter @Setter\n    private Long instructorID;\n\n    public User() {}\n\n    public User(String username, String password, Role role, Long clientID, Long instructorID) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n        this.clientID = clientID;\n        this.instructorID = instructorID;\n    }\n\n}\n</code></pre>\n<p>Also I made UserDetailsServiceIml class which implements UserDetailsService:</p>\n<pre><code>@Service\npublic class UserDetailsServiceIml implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        final User user = userRepository.findByUsername(username);\n        if(user == null) {\n            throw new UsernameNotFoundException(username);\n        }\n\n        Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt; &gt;();\n        grantedAuthorities.add(new SimpleGrantedAuthority(user.getRole().name()));\n        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(),\n                grantedAuthorities);\n    }\n}\n</code></pre>\n<p>My User repository class:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByUsername(String username);\n}\n</code></pre>\n<p>I also tried make Query like this:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;Select u from User u WHERE u.username=:username&quot;)\n    User findByUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>But when I enter login and password into login form I get error, because User is Null after searching in database. How can I fix it?</p>\n<p>UPD: SOLVED!\nI don't know why and how. I found that hibernate created new table &quot;auth_data&quot;, but not used my table &quot;Auth_data&quot;. So, I renamed &quot;Auth_data&quot; to &quot;auth_data&quot; and now it's work! I also changed @Getter @Setter on @Data,changed in User repository on &quot; User findByUsername(String username);&quot; and changed type of field role from enum to String.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1478006790,"post_id":40360984,"comment_id":67975137,"body_markdown":"Please show us your code.","body":"Please show us your code."}],"answers":[{"tags":[],"owner":{"account_id":3824555,"reputation":49,"user_id":3171679,"display_name":"HopeBing"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503070884,"creation_date":1503070884,"answer_id":45760407,"question_id":40360984,"body_markdown":"Maybe there is some conflicts in configuration. You&#39;re basically mixing two different file upload API&#39;s. The second one will get only an empty stream.If you use commons-fileupload streaming api, you may need to add spring.http.multipart.enabled=false in you application.properties if you use Spring boot.If you want to upload file by using MultipartFile, you need to enable multipart.","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>Maybe there is some conflicts in configuration. You're basically mixing two different file upload API's. The second one will get only an empty stream.If you use commons-fileupload streaming api, you may need to add spring.http.multipart.enabled=false in you application.properties if you use Spring boot.If you want to upload file by using MultipartFile, you need to enable multipart.</p>\n"},{"tags":[],"owner":{"account_id":6430905,"reputation":400,"user_id":4984125,"display_name":"New Bee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666782923,"creation_date":1666782923,"answer_id":74206849,"question_id":40360984,"body_markdown":"It is required to set following in application properties file\r\n\r\n    spring.servlet.multipart.enabled=false","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>It is required to set following in application properties file</p>\n<pre><code>spring.servlet.multipart.enabled=false\n</code></pre>\n"}],"owner":{"account_id":7767007,"reputation":1,"user_id":5877899,"display_name":"Manvendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666782923,"creation_date":1478006603,"question_id":40360984,"body_markdown":"In my *web.xml*, there are no filters.\r\nIn my HTML, name attribute in input field is already mentioned.\r\nI&#39;m not using any *getParameter()* or *getAttribute()* APIs before parsing the HTTPRequest.\r\n    \r\nAfter all this, I&#39;m still unable to get any elements.\r\nPlease explain why?\r\n   \r\nMy MVC controller:\r\n\r\n    @RequestMapping(value = {&quot;/upload&quot;}, method = RequestMethod.POST)\r\n    public void uploadFileHandler(HttpServletRequest request) throws Exception\r\n    {\r\n\t\t// Check that we have a file upload request\r\n\t\tboolean isMultipart = true;//ServletFileUpload.isMultipartContent(request);\r\n\t\tif(true == isMultipart)\r\n\t\t{\r\n\t\t\tFileItemFactory factory = new DiskFileItemFactory();\r\n\t\t\tServletFileUpload upload = new ServletFileUpload(factory);\r\n\t\t\tFileItemIterator iter = upload.getItemIterator(request);\r\n\t\t\twhile (true == iter.hasNext()) \r\n\t\t\t{\r\n\t\t\t\tFileItemStream item = iter.next();\r\n\t\t\t\tString name = item.getFieldName();\r\n\t\t\t\tInputStream stream = ((ServletRequest) item).getInputStream();\r\n\t\t\t\tif (true == item.isFormField()) \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Form field &quot; + name + &quot; with value &quot; + Streams.asString(stream) + &quot; detected.&quot;);\r\n\t\t\t\t} \r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tString fileName = item.getName();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\nMy html file:\r\n\r\n    var fileSelector = document.createElement(&#39;form&#39;);\r\n    fileSelector.setAttribute(&#39;id&#39;, &#39;uploadForm&#39;);\r\n    fileSelector.setAttribute(&#39;method&#39;, &#39;POST&#39;);\r\n    fileSelector.setAttribute(&#39;enctype&#39;, &#39;multipart/form-data&#39;);\r\n    \r\n    var inputType = document.createElement(&#39;input&#39;);\r\n    inputType.setAttribute(&#39;type&#39;, &#39;file&#39;);\r\n    inputType.setAttribute(&#39;name&#39;, &#39;uploadedFile&#39;);\r\n    inputType.setAttribute(&#39;id&#39;,&#39;importFile&#39;);\r\n    fileSelector.appendChild(inputType);\r\n\r\nAjax call:\r\n\r\n    $.ajax({\r\n    \t\t   url:  &#39;upload&#39;,\r\n    \t       data: formData,\r\n    \t       contentType: false,\r\n    \t       processData: false,\r\n    \t       cache: false,\r\n    \t       type: &#39;POST&#39;,\r\n    \t       success: function(data)\r\n    \t       {\r\n    \t       \t\talert(&quot;upload success&quot;);\t       \t\t\r\n    \t       },\r\n    \t       error: function(jqXHR, textStatus, errorThrown)\r\n    \t        {\r\n    \t        \talert(&quot;upload fail&quot;);\r\n    \t        }\r\n    \t    });","title":"Apache commons fileupload FileItemIterator hasNext() always returns false","body":"<p>In my <em>web.xml</em>, there are no filters.\nIn my HTML, name attribute in input field is already mentioned.\nI'm not using any <em>getParameter()</em> or <em>getAttribute()</em> APIs before parsing the HTTPRequest.</p>\n\n<p>After all this, I'm still unable to get any elements.\nPlease explain why?</p>\n\n<p>My MVC controller:</p>\n\n<pre><code>@RequestMapping(value = {\"/upload\"}, method = RequestMethod.POST)\npublic void uploadFileHandler(HttpServletRequest request) throws Exception\n{\n    // Check that we have a file upload request\n    boolean isMultipart = true;//ServletFileUpload.isMultipartContent(request);\n    if(true == isMultipart)\n    {\n        FileItemFactory factory = new DiskFileItemFactory();\n        ServletFileUpload upload = new ServletFileUpload(factory);\n        FileItemIterator iter = upload.getItemIterator(request);\n        while (true == iter.hasNext()) \n        {\n            FileItemStream item = iter.next();\n            String name = item.getFieldName();\n            InputStream stream = ((ServletRequest) item).getInputStream();\n            if (true == item.isFormField()) \n            {\n                System.out.println(\"Form field \" + name + \" with value \" + Streams.asString(stream) + \" detected.\");\n            } \n            else \n            {\n                String fileName = item.getName();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My html file:</p>\n\n<pre><code>var fileSelector = document.createElement('form');\nfileSelector.setAttribute('id', 'uploadForm');\nfileSelector.setAttribute('method', 'POST');\nfileSelector.setAttribute('enctype', 'multipart/form-data');\n\nvar inputType = document.createElement('input');\ninputType.setAttribute('type', 'file');\ninputType.setAttribute('name', 'uploadedFile');\ninputType.setAttribute('id','importFile');\nfileSelector.appendChild(inputType);\n</code></pre>\n\n<p>Ajax call:</p>\n\n<pre><code>$.ajax({\n           url:  'upload',\n           data: formData,\n           contentType: false,\n           processData: false,\n           cache: false,\n           type: 'POST',\n           success: function(data)\n           {\n                alert(\"upload success\");                \n           },\n           error: function(jqXHR, textStatus, errorThrown)\n            {\n                alert(\"upload fail\");\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","postgresql","liquibase"],"comments":[{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537964432,"post_id":52517529,"comment_id":91974704,"body_markdown":"@a_horse_with_no_name I want to create my tables(changesets in liquibase will do it) in my custom schema. But when liquibase start to work, my custom schema is not created yet.","body":"@a_horse_with_no_name I want to create my tables(changesets in liquibase will do it) in my custom schema. But when liquibase start to work, my custom schema is not created yet."},{"owner":{"account_id":1792177,"reputation":3486,"user_id":1632305,"accept_rate":62,"display_name":"Rashedul.Rubel"},"score":0,"creation_date":1537964474,"post_id":52517529,"comment_id":91974726,"body_markdown":"Confused with your two statements &quot;liquibase should create all tables&quot; and &quot;How can I create my schema in DB before liquibase start to work?&quot;. two statements are contradictory to each other","body":"Confused with your two statements &quot;liquibase should create all tables&quot; and &quot;How can I create my schema in DB before liquibase start to work?&quot;. two statements are contradictory to each other"},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537964646,"post_id":52517529,"comment_id":91974826,"body_markdown":"@Rashedul.Rubel liquibase should create tables. Tables in my custom schema, but liquibase can&#39;t create schema. I want to create it before liquibase start to work.","body":"@Rashedul.Rubel liquibase should create tables. Tables in my custom schema, but liquibase can&#39;t create schema. I want to create it before liquibase start to work."},{"owner":{"account_id":1792177,"reputation":3486,"user_id":1632305,"accept_rate":62,"display_name":"Rashedul.Rubel"},"score":0,"creation_date":1537965084,"post_id":52517529,"comment_id":91975110,"body_markdown":"ohh, I misread it. Thanks","body":"ohh, I misread it. Thanks"},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965455,"post_id":52517529,"comment_id":91975344,"body_markdown":"@a_horse_with_no_name I can&#39;t. When liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in `liquibase.default-schema = my_schema`, but it&#39;s not exist when liquibase start to work and it an error: `exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist`","body":"@a_horse_with_no_name I can&#39;t. When liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in <code>liquibase.default-schema = my_schema</code>, but it&#39;s not exist when liquibase start to work and it an error: <code>exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist</code>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1537965494,"post_id":52517529,"comment_id":91975373,"body_markdown":"Please edit your question and include that information; don&#39;t use comments to communicate information pertinent to your question.","body":"Please edit your question and include that information; don&#39;t use comments to communicate information pertinent to your question."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1537965505,"post_id":52517529,"comment_id":91975383,"body_markdown":"So you **do** want the liquibase tables to be created in that schema. Your answer to the first time I asked that question was that you want to create _your_ tables in that schema. You should make creating that schema part of your initial database setup - you are not creating the database in your Liquibase script either, so whatever you use to create the database, that part should also create the needed schema.","body":"So you <b>do</b> want the liquibase tables to be created in that schema. Your answer to the first time I asked that question was that you want to create <i>your</i> tables in that schema. You should make creating that schema part of your initial database setup - you are not creating the database in your Liquibase script either, so whatever you use to create the database, that part should also create the needed schema."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965651,"post_id":52517529,"comment_id":91975476,"body_markdown":"@a_horse_with_no_name I want ALL tables in my_schema. Sorry for misunderstanding.","body":"@a_horse_with_no_name I want ALL tables in my_schema. Sorry for misunderstanding."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1537965946,"post_id":52517529,"comment_id":91975657,"body_markdown":"@a_horse_with_no_name I see, but DB is already created. My point is make all changes with DB when my app is deployed . Without manual intervention in the DB.","body":"@a_horse_with_no_name I see, but DB is already created. My point is make all changes with DB when my app is deployed . Without manual intervention in the DB."}],"answers":[{"tags":[],"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1627373099,"creation_date":1538058072,"answer_id":52539236,"question_id":52517529,"body_markdown":"I found a solution with my application.properties. \r\n\r\n`org.springframework.jdbc.datasource.init.ScriptUtils` worked before liquibase.\r\n\r\nLogs:\r\n\r\n    14:11:14,760 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \r\n    (ServerService Thread Pool -- 300) Executing SQL script from URL \r\n    [vfs:/content/app.war/WEB-INF/classes/schema.sql]\r\n\r\n    14:11:14,761 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \r\n    (ServerService Thread Pool -- 300) Executed SQL script from URL \r\n    [vfs:/content/app.war/WEB-INF/classes/schema.sql] in 1 ms.\r\n\r\n    14:11:14,912 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Successfully acquired change log lock\r\n\r\n    14:11:15,292 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Reading from my_schema.databasechangelog\r\n\r\n    14:11:15,320 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \r\n    2:11 PM: liquibase: Successfully released change log lock\r\n\r\nI just put `schema.sql` with `CREATE SCHEMA IF NOT EXISTS my_schema;` into resources dir and all working properly.\r\n\r\nThanks all for help.\r\n\r\n**Update**: It&#39;s work for Spring boot 1.X. If you are use Spring Boot 2, you should enable schema.sql in properties file, with `spring.datasource.initialization-mode=always`. \r\nMore info in https://stackoverflow.com/questions/38040572/spring-boot-loading-initial-data\r\n\r\n**Update 2**: In Spring Boot 2.5.2 (maybe in earlier versions too) this solution is not working now, as @peterh has wrote in comment. Sad but true. The last version I was try this solution and it&#39;s work was Spring Boot 2.0.9 In docs [Spring Boot][1] says that it was redesigned from Spring Boot 2.5.x\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#hibernate-and-datasql\r\n\r\n\r\n**Update 3**: Some information why they kill this feature -&gt; https://github.com/spring-projects/spring-boot/issues/22741","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>I found a solution with my application.properties.</p>\n<p><code>org.springframework.jdbc.datasource.init.ScriptUtils</code> worked before liquibase.</p>\n<p>Logs:</p>\n<pre><code>14:11:14,760 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \n(ServerService Thread Pool -- 300) Executing SQL script from URL \n[vfs:/content/app.war/WEB-INF/classes/schema.sql]\n\n14:11:14,761 INFO  [org.springframework.jdbc.datasource.init.ScriptUtils] \n(ServerService Thread Pool -- 300) Executed SQL script from URL \n[vfs:/content/app.war/WEB-INF/classes/schema.sql] in 1 ms.\n\n14:11:14,912 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Successfully acquired change log lock\n\n14:11:15,292 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Reading from my_schema.databasechangelog\n\n14:11:15,320 ERROR [stderr] (ServerService Thread Pool -- 300) INFO 9/27/18 \n2:11 PM: liquibase: Successfully released change log lock\n</code></pre>\n<p>I just put <code>schema.sql</code> with <code>CREATE SCHEMA IF NOT EXISTS my_schema;</code> into resources dir and all working properly.</p>\n<p>Thanks all for help.</p>\n<p><strong>Update</strong>: It's work for Spring boot 1.X. If you are use Spring Boot 2, you should enable schema.sql in properties file, with <code>spring.datasource.initialization-mode=always</code>.\nMore info in <a href=\"https://stackoverflow.com/questions/38040572/spring-boot-loading-initial-data\">Spring Boot - Loading Initial Data</a></p>\n<p><strong>Update 2</strong>: In Spring Boot 2.5.2 (maybe in earlier versions too) this solution is not working now, as @peterh has wrote in comment. Sad but true. The last version I was try this solution and it's work was Spring Boot 2.0.9 In docs <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.5-Release-Notes#hibernate-and-datasql\" rel=\"nofollow noreferrer\">Spring Boot</a> says that it was redesigned from Spring Boot 2.5.x</p>\n<p><strong>Update 3</strong>: Some information why they kill this feature -&gt; <a href=\"https://github.com/spring-projects/spring-boot/issues/22741\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/22741</a></p>\n"},{"tags":[],"owner":{"account_id":2638842,"reputation":271,"user_id":2282938,"display_name":"lbruun"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1619331656,"creation_date":1619293037,"answer_id":67246756,"question_id":52517529,"body_markdown":"You can use [Spring Boot Pre-Liquibase module][1] for this. It is exactly what it is meant for. It executes some SQL prior to executing Liquibase itself. Pre-Liquibase sets itself up in the Spring Boot AutoConfigure chain so that it is guaranteed to always execute *before* Liquibase.\r\n\r\n### Step 1\r\nAdd the following Starter to your project:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.lbruun.springboot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;preliquibase-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;  ---latest-version---  &lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Step 2\r\nAdd a SQL file to `src/main/resources/preliquibase` with a name of `postgresql.sql` and content like this:\r\n\r\n```sql\r\nCREATE SCHEMA IF NOT EXISTS ${spring.liquibase.default-schema};\r\n```\r\nThe `${}` syntax denotes a placeholder variable. Pre-Liquibase will resolve it from the properties in your Spring Environment.\r\n\r\n### Step 3\r\n\r\nSet application properties like this:\r\n\r\n```properties\r\nspring.liquibase.default-schema=${my.db.schemaname}\r\nspring.jpa.properties.hibernate.default_schema=${my.db.schemaname}\r\n```\r\n\r\nNow - in this example - the only thing left to decide is where the `my.db.schemaname` value comes from. That is your choice. The [example project][2] advocates that it should come from an OS environment variable, in particular if your are deploying to a cloud.\r\n\r\n### Final words\r\nWARNING: Pre-Liquibase is possibly way too flexible in that it allows to execute _any_ SQL code. Don&#39;t be tempted to put stuff in Pre-Liquibase files which rightfully belong in an Liquibase ChangeSet. Honestly, the only usage I can think of for Pre-Liquibase is to set up a database &quot;home&quot; (meaning a schema or a catalog) where Liquibase db objects can live so that instances of the same application can be separated by schema or catalog while residing on the same database server.\r\n\r\n\r\n(Disclosure:  I&#39;m the author of Pre-Liquibase module)\r\n\r\n\r\n  [1]: https://github.com/lbruun/Pre-Liquibase\r\n  [2]: https://github.com/lbruun/Pre-Liquibase/tree/master/example","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>You can use <a href=\"https://github.com/lbruun/Pre-Liquibase\" rel=\"noreferrer\">Spring Boot Pre-Liquibase module</a> for this. It is exactly what it is meant for. It executes some SQL prior to executing Liquibase itself. Pre-Liquibase sets itself up in the Spring Boot AutoConfigure chain so that it is guaranteed to always execute <em>before</em> Liquibase.</p>\n<h3>Step 1</h3>\n<p>Add the following Starter to your project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.lbruun.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;preliquibase-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;  ---latest-version---  &lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Step 2</h3>\n<p>Add a SQL file to <code>src/main/resources/preliquibase</code> with a name of <code>postgresql.sql</code> and content like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SCHEMA IF NOT EXISTS ${spring.liquibase.default-schema};\n</code></pre>\n<p>The <code>${}</code> syntax denotes a placeholder variable. Pre-Liquibase will resolve it from the properties in your Spring Environment.</p>\n<h3>Step 3</h3>\n<p>Set application properties like this:</p>\n<pre><code>spring.liquibase.default-schema=${my.db.schemaname}\nspring.jpa.properties.hibernate.default_schema=${my.db.schemaname}\n</code></pre>\n<p>Now - in this example - the only thing left to decide is where the <code>my.db.schemaname</code> value comes from. That is your choice. The <a href=\"https://github.com/lbruun/Pre-Liquibase/tree/master/example\" rel=\"noreferrer\">example project</a> advocates that it should come from an OS environment variable, in particular if your are deploying to a cloud.</p>\n<h3>Final words</h3>\n<p>WARNING: Pre-Liquibase is possibly way too flexible in that it allows to execute <em>any</em> SQL code. Don't be tempted to put stuff in Pre-Liquibase files which rightfully belong in an Liquibase ChangeSet. Honestly, the only usage I can think of for Pre-Liquibase is to set up a database &quot;home&quot; (meaning a schema or a catalog) where Liquibase db objects can live so that instances of the same application can be separated by schema or catalog while residing on the same database server.</p>\n<p>(Disclosure:  I'm the author of Pre-Liquibase module)</p>\n"},{"tags":[],"owner":{"account_id":12445560,"reputation":231,"user_id":9061851,"display_name":"Pavel D."},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657035952,"creation_date":1657035538,"answer_id":72872126,"question_id":52517529,"body_markdown":"To solve this, we need to run a SQL statement that creates the schema during Spring Boot initialization at the point when `DataSource` bean had been already initialized so DB connections can be easily obtained but before Liquibase runs.\r\n\r\nBy default, Spring Boot runs Liquibase by creating an `InitializingBean` named `SpringLiquibase`. This happens in `LiquibaseAutoConfiguration`.\r\n\r\nKnowing this, we can use `AbstractDependsOnBeanFactoryPostProcessor` to configure `SpringLiquibase` to depend on our custom schema creating bean (`SchemaInitBean` in the example below) which depends on `DataSource`. This arranges the correct execution order.\r\n\r\nMy `application.properties`:\r\n\r\n    db.schema=my_schema\r\n    spring.jpa.hibernate.ddl-auto=validate\r\n    spring.jpa.open-in-view=false\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n    spring.jpa.properties.hibernate.default_schema=${db.schema}\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.liquibase.enabled=true\r\n    spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\r\n    spring.liquibase.defaultSchema=${db.schema}\r\n\r\nAdd the `@Configuration` class below to the project, for example put it in a package processed by component scan.\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@ConditionalOnClass({ SpringLiquibase.class, DatabaseChange.class })\r\n@ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\r\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class })\r\n@Import({SchemaInit.SpringLiquibaseDependsOnPostProcessor.class})\r\npublic class SchemaInit {\r\n\r\n    @Component\r\n    @ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\r\n    public static class SchemaInitBean implements InitializingBean {\r\n\r\n        private final DataSource dataSource;\r\n        private final String schemaName;\r\n\r\n        @Autowired\r\n        public SchemaInitBean(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String schemaName) {\r\n            this.dataSource = dataSource;\r\n            this.schemaName = schemaName;\r\n        }\r\n\r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            try (Connection conn = dataSource.getConnection();\r\n                 Statement statement = conn.createStatement()) {\r\n                log.info(&quot;Going to create DB schema &#39;{}&#39; if not exists.&quot;, schemaName);\r\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(&quot;Failed to create schema &#39;&quot; + schemaName + &quot;&#39;&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @ConditionalOnBean(SchemaInitBean.class)\r\n    static class SpringLiquibaseDependsOnPostProcessor extends AbstractDependsOnBeanFactoryPostProcessor {\r\n\r\n        SpringLiquibaseDependsOnPostProcessor() {\r\n            // Configure the 3rd party SpringLiquibase bean to depend on our SchemaInitBean\r\n            super(SpringLiquibase.class, SchemaInitBean.class);\r\n        }\r\n    }\r\n}\r\n```\r\nThis solution does not require external libraries like Spring Boot Pre-Liquibase and not affected by limitations on `data.sql` / `schema.sql` support. My main motivation for finding this solution was a requirement I had that schema name must be a configurable property.\r\nPutting everything in one class and using plain JDBC is for brevity.","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>To solve this, we need to run a SQL statement that creates the schema during Spring Boot initialization at the point when <code>DataSource</code> bean had been already initialized so DB connections can be easily obtained but before Liquibase runs.</p>\n<p>By default, Spring Boot runs Liquibase by creating an <code>InitializingBean</code> named <code>SpringLiquibase</code>. This happens in <code>LiquibaseAutoConfiguration</code>.</p>\n<p>Knowing this, we can use <code>AbstractDependsOnBeanFactoryPostProcessor</code> to configure <code>SpringLiquibase</code> to depend on our custom schema creating bean (<code>SchemaInitBean</code> in the example below) which depends on <code>DataSource</code>. This arranges the correct execution order.</p>\n<p>My <code>application.properties</code>:</p>\n<pre><code>db.schema=my_schema\nspring.jpa.hibernate.ddl-auto=validate\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.default_schema=${db.schema}\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.liquibase.enabled=true\nspring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml\nspring.liquibase.defaultSchema=${db.schema}\n</code></pre>\n<p>Add the <code>@Configuration</code> class below to the project, for example put it in a package processed by component scan.</p>\n<pre><code>@Slf4j\n@Configuration\n@ConditionalOnClass({ SpringLiquibase.class, DatabaseChange.class })\n@ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\n@AutoConfigureAfter({ DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class })\n@Import({SchemaInit.SpringLiquibaseDependsOnPostProcessor.class})\npublic class SchemaInit {\n\n    @Component\n    @ConditionalOnProperty(prefix = &quot;spring.liquibase&quot;, name = &quot;enabled&quot;, matchIfMissing = true)\n    public static class SchemaInitBean implements InitializingBean {\n\n        private final DataSource dataSource;\n        private final String schemaName;\n\n        @Autowired\n        public SchemaInitBean(DataSource dataSource, @Value(&quot;${db.schema}&quot;) String schemaName) {\n            this.dataSource = dataSource;\n            this.schemaName = schemaName;\n        }\n\n        @Override\n        public void afterPropertiesSet() {\n            try (Connection conn = dataSource.getConnection();\n                 Statement statement = conn.createStatement()) {\n                log.info(&quot;Going to create DB schema '{}' if not exists.&quot;, schemaName);\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\n            } catch (SQLException e) {\n                throw new RuntimeException(&quot;Failed to create schema '&quot; + schemaName + &quot;'&quot;, e);\n            }\n        }\n    }\n\n\n    @ConditionalOnBean(SchemaInitBean.class)\n    static class SpringLiquibaseDependsOnPostProcessor extends AbstractDependsOnBeanFactoryPostProcessor {\n\n        SpringLiquibaseDependsOnPostProcessor() {\n            // Configure the 3rd party SpringLiquibase bean to depend on our SchemaInitBean\n            super(SpringLiquibase.class, SchemaInitBean.class);\n        }\n    }\n}\n</code></pre>\n<p>This solution does not require external libraries like Spring Boot Pre-Liquibase and not affected by limitations on <code>data.sql</code> / <code>schema.sql</code> support. My main motivation for finding this solution was a requirement I had that schema name must be a configurable property.\nPutting everything in one class and using plain JDBC is for brevity.</p>\n"},{"tags":[],"owner":{"account_id":21089810,"reputation":61,"user_id":15501992,"display_name":"RulleR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1666782573,"creation_date":1666782573,"answer_id":74206778,"question_id":52517529,"body_markdown":"Simple solution based on [Pavel D.][1] answer.\r\nIt also can be used without liquibase\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class SchemaConfig implements BeanPostProcessor {\r\n    \r\n        @Value(&quot;${db.schema}&quot;)\r\n        private String schemaName;\r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (!StringUtils.isEmpty(schemaName) &amp;&amp; bean instanceof DataSource) {\r\n                DataSource dataSource = (DataSource) bean;\r\n                try (Connection conn = dataSource.getConnection();\r\n                     Statement statement = conn.createStatement()) {\r\n                    log.info(&quot;Going to create DB schema &#39;{}&#39; if not exists.&quot;, schemaName);\r\n                    statement.execute(&quot;create schema if not exists &quot; + schemaName);\r\n                } catch (SQLException e) {\r\n                    throw new RuntimeException(&quot;Failed to create schema &#39;&quot; + schemaName + &quot;&#39;&quot;, e);\r\n                }\r\n            }\r\n            return bean;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9061851/pavel-d","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>Simple solution based on <a href=\"https://stackoverflow.com/users/9061851/pavel-d\">Pavel D.</a> answer.\nIt also can be used without liquibase</p>\n<pre><code>@Slf4j\n@Component\npublic class SchemaConfig implements BeanPostProcessor {\n\n    @Value(&quot;${db.schema}&quot;)\n    private String schemaName;\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (!StringUtils.isEmpty(schemaName) &amp;&amp; bean instanceof DataSource) {\n            DataSource dataSource = (DataSource) bean;\n            try (Connection conn = dataSource.getConnection();\n                 Statement statement = conn.createStatement()) {\n                log.info(&quot;Going to create DB schema '{}' if not exists.&quot;, schemaName);\n                statement.execute(&quot;create schema if not exists &quot; + schemaName);\n            } catch (SQLException e) {\n                throw new RuntimeException(&quot;Failed to create schema '&quot; + schemaName + &quot;'&quot;, e);\n            }\n        }\n        return bean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20973,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":52539236,"answer_count":4,"score":22,"last_activity_date":1666782573,"creation_date":1537964024,"question_id":52517529,"body_markdown":"I have standalone application. Its on java, spring-boot, postgres and it has liquibase. \r\n\r\nI need to deploy my app and liquibase should create all tables, etc. But it should do it into custom schema not in public. All service tables of liquibase (databasechangelog and databasechangeloglock) should be in custom schema too. How can I create my schema in DB before liquibase start to work? I must do it inside my app when its deploying, in config or some like. Without any manual intervention into the DB.\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.jndi-name=java:/PostgresDS\r\n    spring.jpa.properties.hibernate.default_schema=my_schema\r\n    spring.jpa.show-sql = false\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    spring.datasource.continue-on-error=true\r\n    spring.datasource.sql-script-encoding=UTF-8\r\n\r\n    liquibase.change-log = classpath:liquibase/changelog-master.yaml\r\n    liquibase.default-schema = my_schema\r\n\r\nUPD:\r\n\r\nWhen liquibase start, it&#39;s create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in `liquibase.default-schema = my_schema`, but it&#39;s not exist when liquibase start to work and it an error: exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema &quot;my_schema&quot; does not exist\r\n\r\nI want liquibase work in custom schema, not in public:\r\n\r\n    liquibase.default-schema = my_schema\r\n\r\nbut before liquibase can do it, the schema must be created. Liquibase can&#39;t do this because it not started yet and for start it needs schema.\r\nVicious circle.","title":"How to create schema in Postgres DB, before liquibase start to work?","body":"<p>I have standalone application. Its on java, spring-boot, postgres and it has liquibase. </p>\n\n<p>I need to deploy my app and liquibase should create all tables, etc. But it should do it into custom schema not in public. All service tables of liquibase (databasechangelog and databasechangeloglock) should be in custom schema too. How can I create my schema in DB before liquibase start to work? I must do it inside my app when its deploying, in config or some like. Without any manual intervention into the DB.</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.datasource.jndi-name=java:/PostgresDS\nspring.jpa.properties.hibernate.default_schema=my_schema\nspring.jpa.show-sql = false\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.continue-on-error=true\nspring.datasource.sql-script-encoding=UTF-8\n\nliquibase.change-log = classpath:liquibase/changelog-master.yaml\nliquibase.default-schema = my_schema\n</code></pre>\n\n<p>UPD:</p>\n\n<p>When liquibase start, it's create two tables databasechangelogs and one more table. After that, liquibase start working. But I want liquibase in <code>liquibase.default-schema = my_schema</code>, but it's not exist when liquibase start to work and it an error: exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: schema \"my_schema\" does not exist</p>\n\n<p>I want liquibase work in custom schema, not in public:</p>\n\n<pre><code>liquibase.default-schema = my_schema\n</code></pre>\n\n<p>but before liquibase can do it, the schema must be created. Liquibase can't do this because it not started yet and for start it needs schema.\nVicious circle.</p>\n"},{"tags":["java","rest","sockets","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3821282,"reputation":1460,"user_id":3169330,"accept_rate":69,"display_name":"ameet chaubal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592394025,"creation_date":1592394025,"answer_id":62428130,"question_id":62427663,"body_markdown":"Not sure exactly what you mean by `propagate to the Socket`. \r\nSo I will assume that you wish to make a connection to a remote *TCP* server from your java application, on receiving a REST connection on an endpoint.\r\nHow you make the connection will depend on your specific use case,\r\n\r\n+ synchronous vs asynchronous\r\n+ volume of information to be transmitted between TCP server and client\r\n+ any specific protocol for message communication\r\n+ Do you get to design your own protocol, say using `protobuf` for example.\r\n\r\nA few options you may consider,\r\n\r\n + Plain native java `SocketChannel`: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html\r\n + Asynchronous: AsynchronousSocketChannel https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html \r\n + kryonet library: https://github.com/EsotericSoftware/kryonet \r\n + Apache MINA: https://mina.apache.org/mina-project sample TCP Client code: https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html\r\n + `gRPC` if you are going to design your own client-server communication  - https://grpc.io/ ","title":"Combine TCP Sockets and Restful endpoints","body":"<p>Not sure exactly what you mean by <code>propagate to the Socket</code>. \nSo I will assume that you wish to make a connection to a remote <em>TCP</em> server from your java application, on receiving a REST connection on an endpoint.\nHow you make the connection will depend on your specific use case,</p>\n\n<ul>\n<li>synchronous vs asynchronous</li>\n<li>volume of information to be transmitted between TCP server and client</li>\n<li>any specific protocol for message communication</li>\n<li>Do you get to design your own protocol, say using <code>protobuf</code> for example.</li>\n</ul>\n\n<p>A few options you may consider,</p>\n\n<ul>\n<li>Plain native java <code>SocketChannel</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html</a></li>\n<li>Asynchronous: AsynchronousSocketChannel <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousSocketChannel.html</a> </li>\n<li>kryonet library: <a href=\"https://github.com/EsotericSoftware/kryonet\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryonet</a> </li>\n<li>Apache MINA: <a href=\"https://mina.apache.org/mina-project\" rel=\"nofollow noreferrer\">https://mina.apache.org/mina-project</a> sample TCP Client code: <a href=\"https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html\" rel=\"nofollow noreferrer\">https://mina.apache.org/mina-project/userguide/ch2-basics/ch2.3-sample-tcp-client.html</a></li>\n<li><code>gRPC</code> if you are going to design your own client-server communication  - <a href=\"https://grpc.io/\" rel=\"nofollow noreferrer\">https://grpc.io/</a> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593417051,"creation_date":1593417051,"answer_id":62633529,"question_id":62427663,"body_markdown":"I have created a custom servlet to process my data.","title":"Combine TCP Sockets and Restful endpoints","body":"<p>I have created a custom servlet to process my data.</p>\n"}],"owner":{"account_id":2263562,"reputation":1086,"user_id":3064995,"accept_rate":86,"display_name":"KostasC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62633529,"answer_count":2,"score":1,"last_activity_date":1666782487,"creation_date":1592392466,"question_id":62427663,"body_markdown":"I would like to point out to me where to look about(Java), how to combine Restful Api and TCP Sockets. Request are coming from the Restful api and will be propagate to the Socket! It is possible to do that with Spring Integration? Or another framework?\r\nEDIT:\r\nI already have the program which is communicating with the Socket Server.\r\nThe communication must be synchronous.","title":"Combine TCP Sockets and Restful endpoints","body":"<p>I would like to point out to me where to look about(Java), how to combine Restful Api and TCP Sockets. Request are coming from the Restful api and will be propagate to the Socket! It is possible to do that with Spring Integration? Or another framework?\nEDIT:\nI already have the program which is communicating with the Socket Server.\nThe communication must be synchronous.</p>\n"},{"tags":["java","spring","log4net"],"comments":[{"owner":{"account_id":2392308,"reputation":22265,"user_id":2091925,"display_name":"Will Keeling"},"score":0,"creation_date":1391683580,"post_id":21586555,"comment_id":32633959,"body_markdown":"Since you don&#39;t want to send an email for every log statement - just one email at the end, is there any reason why you&#39;re using Log4J to accomplish this? Would you not be better to use Spring&#39;s `JavaMailSender`?","body":"Since you don&#39;t want to send an email for every log statement - just one email at the end, is there any reason why you&#39;re using Log4J to accomplish this? Would you not be better to use Spring&#39;s <code>JavaMailSender</code>?"},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391712593,"post_id":21586555,"comment_id":32652913,"body_markdown":"Hi Will Keeling, I don&#39;t want to send email for every log because I am  verifying different URLs and folder permissions, and the batch job has to send email every 40 min. so definitely sending separate email for every log does not look good in my opinion. could you please give me some insight into JavaMailSender","body":"Hi Will Keeling, I don&#39;t want to send email for every log because I am  verifying different URLs and folder permissions, and the batch job has to send email every 40 min. so definitely sending separate email for every log does not look good in my opinion. could you please give me some insight into JavaMailSender"}],"answers":[{"tags":[],"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465404800,"creation_date":1391628708,"answer_id":21586727,"question_id":21586555,"body_markdown":"Define your log4j configuration in XML and add a logger element to use as logger name.\r\n\r\nsee [log4j XML format][1] and [Log4j config][2]\r\n\r\n    &lt;appender name=&quot;SmtpAppender&quot; type=&quot;log4net.Appender.SmtpAppender&quot;&gt;\r\n       &lt;to value=&quot;to@domain.com&quot; /&gt;\r\n       &lt;from value=&quot;from@domain.com&quot; /&gt;\r\n       &lt;subject value=&quot;test logging message&quot; /&gt;\r\n       &lt;smtpHost value=&quot;SMTPServer.domain.com&quot; /&gt;\r\n       &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt;\r\n           &lt;conversionPattern value=&quot;%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline&quot; /&gt;\r\n       &lt;/layout&gt;\r\n    &lt;/appender&gt;   \r\n    &lt;logger name=&quot;sendMail&quot; additivity=&quot;false&quot;&gt;\r\n       &lt;level value=&quot;info&quot; /&gt;\r\n       &lt;appender-ref ref=&quot;mailAppender&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n\r\nIn your code:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static Logger LOG_MAIL = Logger.getLogger(&quot;sendMail&quot;);\r\n\r\n   \r\n\r\n\r\n  [1]: http://wiki.apache.org/logging-log4j/Log4jXmlFormat\r\n  [2]: http://logging.apache.org/log4net/release/config-examples.html\r\n","title":"how to send email with log4j SMTP appender","body":"<p>Define your log4j configuration in XML and add a logger element to use as logger name.</p>\n\n<p>see <a href=\"http://wiki.apache.org/logging-log4j/Log4jXmlFormat\" rel=\"nofollow\">log4j XML format</a> and <a href=\"http://logging.apache.org/log4net/release/config-examples.html\" rel=\"nofollow\">Log4j config</a></p>\n\n<pre><code>&lt;appender name=\"SmtpAppender\" type=\"log4net.Appender.SmtpAppender\"&gt;\n   &lt;to value=\"to@domain.com\" /&gt;\n   &lt;from value=\"from@domain.com\" /&gt;\n   &lt;subject value=\"test logging message\" /&gt;\n   &lt;smtpHost value=\"SMTPServer.domain.com\" /&gt;\n   &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n       &lt;conversionPattern value=\"%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline\" /&gt;\n   &lt;/layout&gt;\n&lt;/appender&gt;   \n&lt;logger name=\"sendMail\" additivity=\"false\"&gt;\n   &lt;level value=\"info\" /&gt;\n   &lt;appender-ref ref=\"mailAppender\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>In your code:\n</p>\n\n<pre><code>private static Logger LOG_MAIL = Logger.getLogger(\"sendMail\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392308,"reputation":22265,"user_id":2091925,"display_name":"Will Keeling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391767914,"creation_date":1391767914,"answer_id":21624862,"question_id":21586555,"body_markdown":"Since you want to send one email at the end of the batch run, you may be better to aggregate all of the messages into some sort of large string, and then use Spring&#39;s `JavaMailSender` to send a single email.\r\n\r\nYou can find [various articles][1] on sending email using `JavaMailSender` but essentially you&#39;d need to first configure an instance of it in your Spring config:\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        &lt;property name=&quot;host&quot; value=&quot;mail_host&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;25&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;mail_username&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;mail_password&quot;/&gt;\r\n        &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThen in your client (batch job or whatever it happens to be), you can specify an autowired field for the `JavaMailSender`:\r\n\r\n    @Autowired\r\n    private JavaMailSender mailSender;\r\n\r\nAnd then it would just be a case of creating and sending the message:\r\n\r\n    SimpleMailMessage message = new SimpleMailMessage();\r\n    message.setTo(to);\r\n    message.setSubject(subject);\r\n    message.setText(body); // Your aggregated messages\r\n    mailSender.send(message);\r\n\r\nThat&#39;s the basics - but you&#39;ll find plenty of other articles and documentation discussing it in more detail around the web.\r\n\r\n\r\n  [1]: http://springtips.blogspot.co.uk/2008/06/send-e-mail-using-spring-and-javamail.html","title":"how to send email with log4j SMTP appender","body":"<p>Since you want to send one email at the end of the batch run, you may be better to aggregate all of the messages into some sort of large string, and then use Spring's <code>JavaMailSender</code> to send a single email.</p>\n\n<p>You can find <a href=\"http://springtips.blogspot.co.uk/2008/06/send-e-mail-using-spring-and-javamail.html\" rel=\"nofollow\">various articles</a> on sending email using <code>JavaMailSender</code> but essentially you'd need to first configure an instance of it in your Spring config:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"mail_host\"/&gt;\n    &lt;property name=\"port\" value=\"25\"/&gt;\n    &lt;property name=\"username\" value=\"mail_username\"/&gt;\n    &lt;property name=\"password\" value=\"mail_password\"/&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then in your client (batch job or whatever it happens to be), you can specify an autowired field for the <code>JavaMailSender</code>:</p>\n\n<pre><code>@Autowired\nprivate JavaMailSender mailSender;\n</code></pre>\n\n<p>And then it would just be a case of creating and sending the message:</p>\n\n<pre><code>SimpleMailMessage message = new SimpleMailMessage();\nmessage.setTo(to);\nmessage.setSubject(subject);\nmessage.setText(body); // Your aggregated messages\nmailSender.send(message);\n</code></pre>\n\n<p>That's the basics - but you'll find plenty of other articles and documentation discussing it in more detail around the web.</p>\n"}],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666782375,"creation_date":1391628164,"question_id":21586555,"body_markdown":"I want send email to email group only once after I finish the java task.\r\n\r\nin log4j properties, I am able to send email,but is triggering email for every log statement.\r\n\r\nBut my requirement is that to send email after all tasks are completed, meaning start java program, do some processing which will have multiple log statements, then send email.\r\n\r\nBelow is my log4j smtp properties list.\r\n\r\n    #log4j.rootLogger=DEBUG, sendMail  \r\n    #log4j.appender.stdout=org.apache.log4j.ConsoleAppender  \r\n    #log4j.appender.stdout.layout=org.apache.log4j.PatternLayout  \r\n    #log4j.appender.stdout.layout.ConversionPattern=[%5p] %d{mm:ss} (%F:%M:%L)%n%m%n%n  \r\n    #log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender  \r\n    ##log4j.appender.sendMail.Threshold=WARN  \r\n    #log4j.appender.sendMail.To=xx@domain.com   \r\n    #log4j.appender.sendMail.From=xx@domain.com  \r\n    #log4j.appender.sendMail.SMTPHost=10.13.16.57\r\n    #log4j.appender.sendMail.Subject=Log4J Message  \r\n    #log4j.appender.sendMail.layout=org.apache.log4j.PatternLayout  \r\n    #log4j.appender.sendMail.layout.ConversionPattern=%p %t %c - %m%n  \r\n    #log4j.appender.sendMail.BufferSize=1  \r\n    #log4j.appender.sendMail.SMTPDebug=true ","title":"how to send email with log4j SMTP appender","body":"<p>I want send email to email group only once after I finish the java task.</p>\n\n<p>in log4j properties, I am able to send email,but is triggering email for every log statement.</p>\n\n<p>But my requirement is that to send email after all tasks are completed, meaning start java program, do some processing which will have multiple log statements, then send email.</p>\n\n<p>Below is my log4j smtp properties list.</p>\n\n<pre><code>#log4j.rootLogger=DEBUG, sendMail  \n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender  \n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout  \n#log4j.appender.stdout.layout.ConversionPattern=[%5p] %d{mm:ss} (%F:%M:%L)%n%m%n%n  \n#log4j.appender.sendMail=org.apache.log4j.net.SMTPAppender  \n##log4j.appender.sendMail.Threshold=WARN  \n#log4j.appender.sendMail.To=xx@domain.com   \n#log4j.appender.sendMail.From=xx@domain.com  \n#log4j.appender.sendMail.SMTPHost=10.13.16.57\n#log4j.appender.sendMail.Subject=Log4J Message  \n#log4j.appender.sendMail.layout=org.apache.log4j.PatternLayout  \n#log4j.appender.sendMail.layout.ConversionPattern=%p %t %c - %m%n  \n#log4j.appender.sendMail.BufferSize=1  \n#log4j.appender.sendMail.SMTPDebug=true \n</code></pre>\n"},{"tags":["java","android","google-mlkit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666799122,"post_id":74206668,"comment_id":131022606,"body_markdown":"Please show the used intent and the launch().","body":"Please show the used intent and the launch()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666799330,"post_id":74206668,"comment_id":131022694,"body_markdown":"`InputImage.fromFilePath(this, result);` That does not look correct.","body":"<code>InputImage.fromFilePath(this, result);</code> That does not look correct."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803254,"post_id":74206668,"comment_id":131024114,"body_markdown":"@blackapps thanks for replying. Look at this [link](https://developers.google.com/ml-kit/vision/barcode-scanning/android#using-a-file-uri) as they clearly mentioned the way to convert Uri into InputImage. &quot;result&quot; is the content style Uri e.g. content://com.android.providers.media.documents/document/image%3A328944","body":"@blackapps thanks for replying. Look at this <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android#using-a-file-uri\" rel=\"nofollow noreferrer\">link</a> as they clearly mentioned the way to convert Uri into InputImage. &quot;result&quot; is the content style Uri e.g. content://com.android.providers.media.documents/document/ima&zwnj;&#8203;ge%3A328944"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803391,"post_id":74206668,"comment_id":131024166,"body_markdown":"@blackapps here&#39;s the launch(): - `binding.selectFromGallery.setOnClickListener(view -&gt; mChoosePhoto.launch(&quot;image/*&quot;));`","body":"@blackapps here&#39;s the launch(): - <code>binding.selectFromGallery.setOnClickListener(view -&gt; mChoosePhoto.launch(&quot;image&#47;*&quot;));</code>"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666803683,"post_id":74206668,"comment_id":131024264,"body_markdown":"`ActivityResultLauncher&lt;String&gt; mChoosePhoto;`","body":"<code>ActivityResultLauncher&lt;String&gt; mChoosePhoto;</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666812607,"post_id":74206668,"comment_id":131027164,"body_markdown":"You should put that and all code in your post of course.","body":"You should put that and all code in your post of course."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666813139,"post_id":74206668,"comment_id":131027326,"body_markdown":"`I&#39;m unable to scan any QR code if I choose a picture from gallery.` Too vague. What happens exactly? Or what exactly does not happen. Does an InputImage display the picture normally? At which statement things go wrong?","body":"<code>I&#39;m unable to scan any QR code if I choose a picture from gallery.</code> Too vague. What happens exactly? Or what exactly does not happen. Does an InputImage display the picture normally? At which statement things go wrong?"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666841520,"post_id":74206668,"comment_id":131032539,"body_markdown":"@blackapps yea I should have added that code. Okay lemme explain assuming two scenarios. Suppose I&#39;m using android 9 or above, I clicked the button to choose QR from Gallery. It&#39;ll return me the  `result` Uri and then in **try** block it&#39;ll convert Uri into InputImage and then [here](https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30) it returns me the `List&lt;Barcode&gt; barcodes` of size one ofcousre. But for android 8.1 or below, I get `result` Uri, in **try** block it convert it into InputImage `image` but then...","body":"@blackapps yea I should have added that code. Okay lemme explain assuming two scenarios. Suppose I&#39;m using android 9 or above, I clicked the button to choose QR from Gallery. It&#39;ll return me the  <code>result</code> Uri and then in <b>try</b> block it&#39;ll convert Uri into InputImage and then <a href=\"https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30\" rel=\"nofollow noreferrer\">here</a> it returns me the <code>List&lt;Barcode&gt; barcodes</code> of size one ofcousre. But for android 8.1 or below, I get <code>result</code> Uri, in <b>try</b> block it convert it into InputImage <code>image</code> but then..."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666841741,"post_id":74206668,"comment_id":131032565,"body_markdown":"... [here](https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30) it returns me empty List&lt;Barcode&gt; barcodes and I&#39;ve no idea why this returns empty List of barcodes even when the image contains a QR Code. The same is working completely fine in Android 9 and above.","body":"... <a href=\"https://gist.github.com/yatiksihag01/d3554c8c6a66ae86c645876d382a26cd/#file-mainactivity-java-L24-L30\" rel=\"nofollow noreferrer\">here</a> it returns me empty List&lt;Barcode&gt; barcodes and I&#39;ve no idea why this returns empty List of barcodes even when the image contains a QR Code. The same is working completely fine in Android 9 and above."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666851636,"post_id":74206668,"comment_id":131034155,"body_markdown":"Instead of &#39;here&#39; you could just have said &#39;in onResponse()&#39;.","body":"Instead of &#39;here&#39; you could just have said &#39;in onResponse()&#39;."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666851740,"post_id":74206668,"comment_id":131034179,"body_markdown":"What is the resolution of the picture that goes wrong? Is it the same picture that you use in other devices?","body":"What is the resolution of the picture that goes wrong? Is it the same picture that you use in other devices?"},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666879763,"post_id":74206668,"comment_id":131043793,"body_markdown":"@blackapps thank you so much. Actually, I was using different pictures on those two devices. Then I tried the same picture which I was using in Android 9 in Android 8 and it worked. The one I was using in android 8 doesn&#39;t work in Android 9 and 12 too. The problem I found is that it scans [this](https://ibb.co/cX7bzsr) type of picture but not [this](https://ibb.co/mNR97X3) . The QR code size in both pictures is 512*512. I mean it scans if QR code doesn&#39;t fill the whole picture. Can you please give me some hint that what I should do?","body":"@blackapps thank you so much. Actually, I was using different pictures on those two devices. Then I tried the same picture which I was using in Android 9 in Android 8 and it worked. The one I was using in android 8 doesn&#39;t work in Android 9 and 12 too. The problem I found is that it scans <a href=\"https://ibb.co/cX7bzsr\" rel=\"nofollow noreferrer\">this</a> type of picture but not <a href=\"https://ibb.co/mNR97X3\" rel=\"nofollow noreferrer\">this</a> . The QR code size in both pictures is 512*512. I mean it scans if QR code doesn&#39;t fill the whole picture. Can you please give me some hint that what I should do?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666882631,"post_id":74206668,"comment_id":131044917,"body_markdown":"Inform Google. File a bug report.","body":"Inform Google. File a bug report."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666882765,"post_id":74206668,"comment_id":131044974,"body_markdown":"You could place the bitmap with qr code on a white bitmap that is slightly larger so it resembles the good one with the extra white borders.","body":"You could place the bitmap with qr code on a white bitmap that is slightly larger so it resembles the good one with the extra white borders."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666930894,"post_id":74206668,"comment_id":131056021,"body_markdown":"Hi @blackapps, I filed the bug report. But how can I place a QR code bitmap over a white image? You mean something like [bitmapOverlayToCenter()](https://stackoverflow.com/questions/10616777/how-to-merge-to-two-bitmap-one-over-another) method?","body":"Hi @blackapps, I filed the bug report. But how can I place a QR code bitmap over a white image? You mean something like <a href=\"https://stackoverflow.com/questions/10616777/how-to-merge-to-two-bitmap-one-over-another\">bitmapOverlayToCenter()</a> method?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666937381,"post_id":74206668,"comment_id":131057003,"body_markdown":"I have no idea what that code does. But you only have to copy your bitmap over a slightly bigger white or black bitmap.","body":"I have no idea what that code does. But you only have to copy your bitmap over a slightly bigger white or black bitmap."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666937523,"post_id":74206668,"comment_id":131057030,"body_markdown":"Yes that code you can use.","body":"Yes that code you can use."},{"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"score":0,"creation_date":1666978025,"post_id":74206668,"comment_id":131070113,"body_markdown":"Hi @blackapps, google recognized this issue and they said they&#39;ll fix it soon. Thank you so much for your help:)","body":"Hi @blackapps, google recognized this issue and they said they&#39;ll fix it soon. Thank you so much for your help:)"}],"owner":{"account_id":26260171,"reputation":76,"user_id":19931614,"display_name":"Yatik"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666782003,"creation_date":1666782003,"question_id":74206668,"body_markdown":"I&#39;m new to Android development and currently working on an app which lets the user scan the QR code using either camera or choosing a picture from Gallery using Barcode scanning kit. The app works completely fine for Android 9 (Api level 28) and above. The app works fine for all versions while scanning using camera. But for android 8 and below, I&#39;m unable to scan any QR code if I choose a picture from gallery. I searched everywhere but didn&#39;t find any solution.\r\n\r\n\r\n\r\n```\r\nHere&#39;s the code I tried: -\r\n\r\n```\r\n\r\n```\r\nmChoosePhoto = registerForActivityResult(new ActivityResultContracts.GetContent(), result -&gt; {\r\n    InputImage image;\r\n    BarcodeScannerOptions options =\r\n            new BarcodeScannerOptions.Builder()\r\n                    .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                    .build();\r\n    BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n    Log.v(&quot;myUri&quot;, String.valueOf(result));\r\n    try {\r\n        image = InputImage.fromFilePath(this, result);\r\n        scanner.process(image)\r\n            .addOnSuccessListener(MainActivity.this::processResult)\r\n            .addOnFailureListener(e -&gt; {\r\n                // Task failed with an exception\r\n                Toast.makeText(MainActivity.this, &quot;Failed to scan.&quot;, Toast.LENGTH_SHORT).show();\r\n                e.printStackTrace();\r\n            });\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n});\r\n```\r\n\r\n```\r\nAnd then in processResult() Method\r\n\r\n```\r\n\r\n```\r\nprivate void processResult(List&lt;Barcode&gt; barcodes){\r\n        for (Barcode barcode: barcodes) {\r\n\r\n            Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n            vibrator.vibrate(100);\r\n\r\n//            Rect bounds = barcode.getBoundingBox();\r\n//            Point[] corners = barcode.getCornerPoints();\r\n//\r\n//            String rawValue = barcode.getRawValue();\r\n\r\n            int valueType = barcode.getValueType();\r\n            switch (valueType) {\r\n                case Barcode.TYPE_WIFI:\r\n                    String ssid = barcode.getWifi().getSsid();\r\n                    String password = barcode.getWifi().getPassword();\r\n                    int type = barcode.getWifi().getEncryptionType();\r\n                    break;\r\n                case Barcode.TYPE_URL:\r\n                    String title = barcode.getUrl().getTitle();\r\n                    String url = barcode.getUrl().getUrl();\r\n                    Toast.makeText(this, title + &quot; &quot; + url, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case Barcode.TYPE_TEXT:\r\n                    String text = barcode.getDisplayValue();\r\n                    Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n```\r\n","title":"Google Barcode Scanning ML kit not working for android 8.1 and below","body":"<p>I'm new to Android development and currently working on an app which lets the user scan the QR code using either camera or choosing a picture from Gallery using Barcode scanning kit. The app works completely fine for Android 9 (Api level 28) and above. The app works fine for all versions while scanning using camera. But for android 8 and below, I'm unable to scan any QR code if I choose a picture from gallery. I searched everywhere but didn't find any solution.</p>\n<pre><code>Here's the code I tried: -\n\n</code></pre>\n<pre><code>mChoosePhoto = registerForActivityResult(new ActivityResultContracts.GetContent(), result -&gt; {\n    InputImage image;\n    BarcodeScannerOptions options =\n            new BarcodeScannerOptions.Builder()\n                    .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                    .build();\n    BarcodeScanner scanner = BarcodeScanning.getClient(options);\n    Log.v(&quot;myUri&quot;, String.valueOf(result));\n    try {\n        image = InputImage.fromFilePath(this, result);\n        scanner.process(image)\n            .addOnSuccessListener(MainActivity.this::processResult)\n            .addOnFailureListener(e -&gt; {\n                // Task failed with an exception\n                Toast.makeText(MainActivity.this, &quot;Failed to scan.&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n});\n</code></pre>\n<pre><code>And then in processResult() Method\n\n</code></pre>\n<pre><code>private void processResult(List&lt;Barcode&gt; barcodes){\n        for (Barcode barcode: barcodes) {\n\n            Vibrator vibrator = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n            vibrator.vibrate(100);\n\n//            Rect bounds = barcode.getBoundingBox();\n//            Point[] corners = barcode.getCornerPoints();\n//\n//            String rawValue = barcode.getRawValue();\n\n            int valueType = barcode.getValueType();\n            switch (valueType) {\n                case Barcode.TYPE_WIFI:\n                    String ssid = barcode.getWifi().getSsid();\n                    String password = barcode.getWifi().getPassword();\n                    int type = barcode.getWifi().getEncryptionType();\n                    break;\n                case Barcode.TYPE_URL:\n                    String title = barcode.getUrl().getTitle();\n                    String url = barcode.getUrl().getUrl();\n                    Toast.makeText(this, title + &quot; &quot; + url, Toast.LENGTH_SHORT).show();\n                    break;\n                case Barcode.TYPE_TEXT:\n                    String text = barcode.getDisplayValue();\n                    Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","mysql","apache-kafka","solr","vert.x"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1666786541,"post_id":74206575,"comment_id":131017476,"body_markdown":"DIH has been removed from Solr core in 9.0 - so you&#39;re going to either have to depend on the community project or create an alternative way to index your content. Since you already have Kafka in your stack, could you detect when an object is updated through the queue, fetch it from MySQL and then index it to Solr? That would probably be the most scalable and best solution. If you want to do it with DIH, you&#39;re going to have to have a field that indicates that a row has been updated since it was last indexed (i.e. an updated_at field or a &quot;has_been_indexed&quot; that you set to FALSE when updating)","body":"DIH has been removed from Solr core in 9.0 - so you&#39;re going to either have to depend on the community project or create an alternative way to index your content. Since you already have Kafka in your stack, could you detect when an object is updated through the queue, fetch it from MySQL and then index it to Solr? That would probably be the most scalable and best solution. If you want to do it with DIH, you&#39;re going to have to have a field that indicates that a row has been updated since it was last indexed (i.e. an updated_at field or a &quot;has_been_indexed&quot; that you set to FALSE when updating)"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1666898101,"post_id":74206575,"comment_id":131050164,"body_markdown":"You might be interested in the conversation here: https://twitter.com/tsegismont/status/1585558218171899906","body":"You might be interested in the conversation here: <a href=\"https://twitter.com/tsegismont/status/1585558218171899906\" rel=\"nofollow noreferrer\">twitter.com/tsegismont/status/1585558218171899906</a>"}],"owner":{"account_id":19026733,"reputation":1,"user_id":13889630,"display_name":"Ashif Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666781530,"creation_date":1666781530,"question_id":74206575,"body_markdown":"I have java vertx web application which uses mysql as database also take apache kafka in use. To increase the speed of search query i was thinking to add apache solr in my application and store few tables in it.\r\n\r\nBut i m not able to find a way to keep those few table stored in mysql data in sync with apache solr.\r\n\r\ni try to read DIH documentation but didnt found any solution","title":"How can we synchronize MySql Database with Apache solr?","body":"<p>I have java vertx web application which uses mysql as database also take apache kafka in use. To increase the speed of search query i was thinking to add apache solr in my application and store few tables in it.</p>\n<p>But i m not able to find a way to keep those few table stored in mysql data in sync with apache solr.</p>\n<p>i try to read DIH documentation but didnt found any solution</p>\n"},{"tags":["java","eclipse","maven","javafx-8"],"comments":[{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":0,"creation_date":1484762970,"post_id":41713989,"comment_id":70647466,"body_markdown":"It seems that you are only using apache-repositories, not maven-central. Your should upgrade to plugin-version 8.7.0 too, as it contains latest bugfixes and workarounds. Disclaimer: I&#39;m the maintainer of the project.","body":"It seems that you are only using apache-repositories, not maven-central. Your should upgrade to plugin-version 8.7.0 too, as it contains latest bugfixes and workarounds. Disclaimer: I&#39;m the maintainer of the project."},{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":0,"creation_date":1484790157,"post_id":41713989,"comment_id":70659067,"body_markdown":"@FibreFoX thanks, I was actually expecting for your reply as I see your name all over the web on jfx maven plugin threads. Can you explain what `only using apache-repositories, not maven-central` mean please? I&#39;m relatively new with maven setup. I do know that my project is already converted to a maven project (Eclipse convert to maven). Do I need to do further steps to use maven-central?","body":"@FibreFoX thanks, I was actually expecting for your reply as I see your name all over the web on jfx maven plugin threads. Can you explain what <code>only using apache-repositories, not maven-central</code> mean please? I&#39;m relatively new with maven setup. I do know that my project is already converted to a maven project (Eclipse convert to maven). Do I need to do further steps to use maven-central?"},{"owner":{"account_id":2221916,"reputation":2848,"user_id":1961102,"display_name":"FibreFoX"},"score":0,"creation_date":1484816717,"post_id":41713989,"comment_id":70668642,"body_markdown":"if you have further questions, don&#39;t hesitate  to drop me that question via email :) always happy to help here. And to make it clear: KUDOS here are required to got to jaydeep, I was wrong, he was right :) (I think it was too few sleep for me xD)","body":"if you have further questions, don&#39;t hesitate  to drop me that question via email :) always happy to help here. And to make it clear: KUDOS here are required to got to jaydeep, I was wrong, he was right :) (I think it was too few sleep for me xD)"}],"answers":[{"tags":[],"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484816649,"creation_date":1484730255,"answer_id":41715134,"question_id":41713989,"body_markdown":"You need to install your network ssl certificate to your jre cacerts.\r\n\r\n**Step 1 : Get certificate.**\r\n\r\n 1. Open https://repo.maven.apache.org URL using chrome browser.\r\n 2. Click on view certificate  \r\n 3. select Top most certificate on chain and drag and drop to desktop.\r\n[![enter image description here][3]][3]\r\n\r\n**Step 2 : install certificate to cacerts**\r\n\r\n 1. open command prompt or terminal and type command \r\n\r\n&gt; mvn -version\r\n\r\n 2. Grab path to jre which would be shown to your after typing above command.\r\n 3. Download [this][2] tool.\r\n 4. select open option in that tool and navigate to that path which you grabbed at point 2. Now you are at jre folder. Open lib folder. Open security folder.(YOURMAVENJDKPATH/jre/lib/security/cacerts)\r\n 5. Select cacerts file located in that security folder.Now you can see all the certificates in that tool. **Tool would ask for password enter &quot;changeit&quot;(without double quote string changeit is the password)**\r\n 6. find out import certificate icon and click on it.\r\n 7. Select the certificate which you downloaded in step 1.\r\n 8. Save your changes and close the tool.\r\n\r\nNow your problem is resolved.\r\n\r\n  [1]: http://stackoverflow.com/a/40757655/1802348\r\n  [2]: http://keystore-explorer.org/downloads.html\r\n  [3]: https://i.stack.imgur.com/iDLTT.png","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>You need to install your network ssl certificate to your jre cacerts.</p>\n\n<p><strong>Step 1 : Get certificate.</strong></p>\n\n<ol>\n<li>Open <a href=\"https://repo.maven.apache.org\" rel=\"noreferrer\">https://repo.maven.apache.org</a> URL using chrome browser.</li>\n<li>Click on view certificate  </li>\n<li>select Top most certificate on chain and drag and drop to desktop.\n<a href=\"https://i.stack.imgur.com/iDLTT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iDLTT.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p><strong>Step 2 : install certificate to cacerts</strong></p>\n\n<ol>\n<li>open command prompt or terminal and type command </li>\n</ol>\n\n<blockquote>\n  <p>mvn -version</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Grab path to jre which would be shown to your after typing above command.</li>\n<li>Download <a href=\"http://keystore-explorer.org/downloads.html\" rel=\"noreferrer\">this</a> tool.</li>\n<li>select open option in that tool and navigate to that path which you grabbed at point 2. Now you are at jre folder. Open lib folder. Open security folder.(YOURMAVENJDKPATH/jre/lib/security/cacerts)</li>\n<li>Select cacerts file located in that security folder.Now you can see all the certificates in that tool. <strong>Tool would ask for password enter \"changeit\"(without double quote string changeit is the password)</strong></li>\n<li>find out import certificate icon and click on it.</li>\n<li>Select the certificate which you downloaded in step 1.</li>\n<li>Save your changes and close the tool.</li>\n</ol>\n\n<p>Now your problem is resolved.</p>\n"},{"tags":[],"owner":{"account_id":98819,"reputation":10263,"user_id":267265,"accept_rate":91,"display_name":"German"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666781513,"creation_date":1666781513,"answer_id":74206568,"question_id":41713989,"body_markdown":"There&#39;s a shorter way to install your network ssl certificate to your jre cacerts:\r\n\r\n    mvn -version\r\n\r\nand copy the path to Java.\r\n\r\n    openssl s_client -connect mysite.org:443 | openssl x509 -out my_ssl.cert\r\n\r\nto download the certificate to your local home directory.\r\n\r\n    sudo keytool -import -alias mvn_certificate -file my_ssl.cert -keystore PATH_FROM_STEP_ONE/lib/security/cacerts\r\n\r\nand enter your account password and then &#39;changeit&#39; if requested.","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>There's a shorter way to install your network ssl certificate to your jre cacerts:</p>\n<pre><code>mvn -version\n</code></pre>\n<p>and copy the path to Java.</p>\n<pre><code>openssl s_client -connect mysite.org:443 | openssl x509 -out my_ssl.cert\n</code></pre>\n<p>to download the certificate to your local home directory.</p>\n<pre><code>sudo keytool -import -alias mvn_certificate -file my_ssl.cert -keystore PATH_FROM_STEP_ONE/lib/security/cacerts\n</code></pre>\n<p>and enter your account password and then 'changeit' if requested.</p>\n"}],"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8012,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41715134,"answer_count":2,"score":2,"last_activity_date":1666781513,"creation_date":1484726209,"question_id":41713989,"body_markdown":"I&#39;m trying to create an executable jar for my JavaFX application within an Eclipse Maven Project.\r\n\r\nI&#39;m following this thread:\r\nhttps://stackoverflow.com/questions/34388367/javafx-application-with-maven-in-eclipse\r\n\r\nAnd this turotial:\r\nhttps://www.youtube.com/watch?v=wbjW8rYlook\r\n\r\nI&#39;m getting a&lt;br&gt; `No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups`&lt;br&gt; error when trying to run the goal: `jfx:jar`\r\n\r\nFull build error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/javafx-maven-plugin/8.1.2/javafx-maven-plugin-8.1.2.pom\r\n    [WARNING] Failed to retrieve plugin descriptor for com.zenjava:javafx-maven-plugin:8.1.2: Plugin com.zenjava:javafx-maven-plugin:8.1.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for com.zenjava:javafx-maven-plugin:jar:8.1.2\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.3.2/maven-release-plugin-2.3.2.pom\r\n    [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.3.2: Plugin org.apache.maven.plugins:maven-release-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.3.2\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/maven-metadata.xml\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-metadata.xml\r\n    [INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/mojo/maven-metadata.xml\r\n    [WARNING] Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer com.zenjava/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer org.apache.maven.plugins/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [WARNING] Failure to transfer org.codehaus.mojo/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.831 s\r\n    [INFO] Finished at: 2017-01-18T15:36:52+08:00\r\n    [INFO] Final Memory: 9M/22M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups [com.zenjava, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\alexismatunog\\Documents\\My Docs\\03_OE\\Java\\workspace\\Maven\\m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\r\n\r\nI&#39;ve already tried the following in attempt to solve this problem:&lt;br&gt;\r\n1. Enter `mvn clean install` (BUILD SUCCESS)&lt;br&gt;\r\n2. Added `&lt;pluginGroup&gt;com.zenjava&lt;/pluginGroup&gt;` on settings.xml&lt;br&gt;\r\n\r\nAlso, I&#39;ve already added the `&lt;plugin&gt;` node in my pom.xml\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;com.zenjava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.1.2&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;mainClass&gt;com.sample.MainApp&lt;/mainClass&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nHow can I solve this problem?\r\n\r\n===========================================================&lt;br&gt;\r\n&lt;b&gt;UPDATE 1:&lt;/b&gt;&lt;br&gt;\r\nAfter following Jaydeep&#39;s answer, I&#39;m getting a password prompt after trying to open the cacerts file and unable to proceed further.&lt;br&gt;\r\n[![IMG1][1]][1] \r\n\r\n===========================================================&lt;br&gt;\r\n&lt;b&gt;UPDATE 2:&lt;/b&gt;&lt;br&gt;\r\nDefault password for cacerts is &quot;changeit&quot;.\r\n&lt;b&gt;Build is successful&lt;/b&gt; after importing the root cert. \r\nAlso, I&#39;ve updated my pom file with jfx plugin version 8.7.0 as advised by FibreFoX.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CA7Dg.png","title":"JavaFX Maven Plug-in: No plugin found for prefix &#39;jfx&#39; in the current project and in the plugin groups","body":"<p>I'm trying to create an executable jar for my JavaFX application within an Eclipse Maven Project.</p>\n\n<p>I'm following this thread:\n<a href=\"https://stackoverflow.com/questions/34388367/javafx-application-with-maven-in-eclipse\">JavaFx Application with Maven in Eclipse</a></p>\n\n<p>And this turotial:\n<a href=\"https://www.youtube.com/watch?v=wbjW8rYlook\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wbjW8rYlook</a></p>\n\n<p>I'm getting a<br> <code>No plugin found for prefix 'jfx' in the current project and in the plugin groups</code><br> error when trying to run the goal: <code>jfx:jar</code></p>\n\n<p>Full build error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/javafx-maven-plugin/8.1.2/javafx-maven-plugin-8.1.2.pom\n[WARNING] Failed to retrieve plugin descriptor for com.zenjava:javafx-maven-plugin:8.1.2: Plugin com.zenjava:javafx-maven-plugin:8.1.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for com.zenjava:javafx-maven-plugin:jar:8.1.2\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.3.2/maven-release-plugin-2.3.2.pom\n[WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.3.2: Plugin org.apache.maven.plugins:maven-release-plugin:2.3.2 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.3.2\n[INFO] Downloading: https://repo.maven.apache.org/maven2/com/zenjava/maven-metadata.xml\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-metadata.xml\n[INFO] Downloading: https://repo.maven.apache.org/maven2/org/codehaus/mojo/maven-metadata.xml\n[WARNING] Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer com.zenjava/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata com.zenjava/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer org.apache.maven.plugins/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[WARNING] Failure to transfer org.codehaus.mojo/maven-metadata.xml from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer metadata org.codehaus.mojo/maven-metadata.xml from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.831 s\n[INFO] Finished at: 2017-01-18T15:36:52+08:00\n[INFO] Final Memory: 9M/22M\n[INFO] ------------------------------------------------------------------------\n[ERROR] No plugin found for prefix 'jfx' in the current project and in the plugin groups [com.zenjava, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\alexismatunog\\Documents\\My Docs\\03_OE\\Java\\workspace\\Maven\\m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\n</code></pre>\n\n<p>I've already tried the following in attempt to solve this problem:<br>\n1. Enter <code>mvn clean install</code> (BUILD SUCCESS)<br>\n2. Added <code>&lt;pluginGroup&gt;com.zenjava&lt;/pluginGroup&gt;</code> on settings.xml<br></p>\n\n<p>Also, I've already added the <code>&lt;plugin&gt;</code> node in my pom.xml</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;8.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;com.sample.MainApp&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>How can I solve this problem?</p>\n\n<p>===========================================================<br>\n<b>UPDATE 1:</b><br>\nAfter following Jaydeep's answer, I'm getting a password prompt after trying to open the cacerts file and unable to proceed further.<br>\n<a href=\"https://i.stack.imgur.com/CA7Dg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CA7Dg.png\" alt=\"IMG1\"></a> </p>\n\n<p>===========================================================<br>\n<b>UPDATE 2:</b><br>\nDefault password for cacerts is \"changeit\".\n<b>Build is successful</b> after importing the root cert. \nAlso, I've updated my pom file with jfx plugin version 8.7.0 as advised by FibreFoX.</p>\n"},{"tags":["java","docker","maven","command-line-interface","jib"],"owner":{"account_id":13705864,"reputation":83,"user_id":9889501,"display_name":"malte.h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666780867,"creation_date":1666780867,"question_id":74206430,"body_markdown":"I have multiple Java Applications that depend on the directory `config/` at the root of each repository.\r\nWhen building images of these apps with jib-maven-plugin, Jib does not copy this directory by default.\r\n\r\nSpecifying `extraDirectories` works when configuring via `pom.xml` as `&lt;from&gt;` and `&lt;into&gt;` can be set:\r\n\r\n```xml\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;extraDirectories&gt;\r\n            &lt;paths&gt;\r\n              &lt;path&gt;\r\n                &lt;from&gt;./config&lt;/from&gt;\r\n                &lt;into&gt;/config&lt;/into&gt;\r\n              &lt;/path&gt;\r\n            &lt;/paths&gt;\r\n          &lt;/extraDirectories&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nThough I&#39;d rather configure Jib via CLI parameters.\r\n\r\n`-Djib.extraDirectories.paths=./config` works for copying all the contents of `config/` to the root of the container. Though I need the files to be copied to `/config/*`.\r\n\r\nThis brings me to the question whether it is possible to provide a list of objects to `-Djib.extraDirectories.paths`?\r\nAs in `-Djib.extraDirectories.paths={from=./config,into=/config},{from=/another/dir,into=/dir/in/image}` (whatever the right syntax would be?).","title":"How to provide a list of objects as CLI parameter to Jib?","body":"<p>I have multiple Java Applications that depend on the directory <code>config/</code> at the root of each repository.\nWhen building images of these apps with jib-maven-plugin, Jib does not copy this directory by default.</p>\n<p>Specifying <code>extraDirectories</code> works when configuring via <code>pom.xml</code> as <code>&lt;from&gt;</code> and <code>&lt;into&gt;</code> can be set:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;extraDirectories&gt;\n            &lt;paths&gt;\n              &lt;path&gt;\n                &lt;from&gt;./config&lt;/from&gt;\n                &lt;into&gt;/config&lt;/into&gt;\n              &lt;/path&gt;\n            &lt;/paths&gt;\n          &lt;/extraDirectories&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Though I'd rather configure Jib via CLI parameters.</p>\n<p><code>-Djib.extraDirectories.paths=./config</code> works for copying all the contents of <code>config/</code> to the root of the container. Though I need the files to be copied to <code>/config/*</code>.</p>\n<p>This brings me to the question whether it is possible to provide a list of objects to <code>-Djib.extraDirectories.paths</code>?\nAs in <code>-Djib.extraDirectories.paths={from=./config,into=/config},{from=/another/dir,into=/dir/in/image}</code> (whatever the right syntax would be?).</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1693,"reputation":17168,"user_id":2283,"accept_rate":79,"display_name":"Weeble"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666780804,"creation_date":1666780804,"answer_id":74206414,"question_id":74206258,"body_markdown":"There are at most four components. They are &quot;feature&quot;, &quot;interim&quot;, &quot;update&quot; and &quot;patch&quot;. From [Oracle&#39;s docs][1]:\r\n&gt; Java SE platform has adopted time-based release model with the JDK being released every six months.\r\n&gt; \r\n&gt; As of JDK 10 and later, the format of the version string, which reflects the Java SE platform&#39;s time-based release model, is $FEATURE.$INTERIM.$UPDATE.$PATCH.\r\n&gt; \r\n&gt; * $FEATURE is the version number that is incremented for every feature release. The feature release contains new features and changes to the existing features as specified by the Java SE platform specification. The version number is incremented every six months. For example, the version number for the March 2018 release is 10, the version number for the September 2018 release is 11, and so on.\r\n&gt; \r\n&gt; * $INTERIM is the version number that is incremented for every interim release, which contains bug fixes and enhancements. An interim release does not contain incompatible changes, feature removals, nor any changes to the standard APIs. The version number for the interim release is always zero (0) as the six-month release model does not include interim releases. However, this version number is reserved for future interim releases, if any.\r\n&gt;\r\n&gt; * $UPDATE is the version number that is incremented for an update release, which includes fixes for security issues, regressions, and bugs in new features. The version number is incremented one month after the $FEATURE release and every three months thereafter. For example, the full version string for the October update release is 17.0.1, the full version string for the January update release is 17.0.2, and so on.\r\n&gt; \r\n&gt; * $PATCH is the version number that is incremented for an emergency patch release to fix a critical issue.\r\n&gt;\r\n&gt; The version string doesn&#39;t have trailing zero elements. For example, if the value of $FEATURE is 17, the value of $INTERIM is 0, the value of $UPDATE is 1, and the value of $PATCH is 0, then the full version string is 17.0.1.\r\n\r\nPrior to version 10, the version-string components were called [&quot;major&quot;, &quot;minor&quot;, &quot;security&quot; and &quot;patch&quot;][2] and had slightly different meaning:\r\n\r\n&gt; The version-string scheme helps to easily distinguish major, minor, security, and patch update releases.\r\n&gt;\r\n&gt; The format of the version-string is $MAJOR.$MINOR.$SECURITY.$PATCH.\r\n&gt;\r\n&gt; * $MAJOR is the version number that is incremented for a major release, for example JDK 9, which contains significant new features as specified by the Java SE platform specification. A major release contains new features and changes to existing features, which are planned and notified well in advance.\r\n&gt;\r\n&gt; * $MINOR is the version number that is incremented for each minor update, such as bug fixes, revisions to standard APIs, or implementation of features outside the scope of the relevant platform specifications. These specifications might be new JDK-specific APIs, additional service providers, new garbage collectors, and ports to new hardware architectures. For example, if an update is released for JDK 9, then the version-string (containing major and minor release numbers) is 9.1.\r\n&gt;\r\n&gt; * $SECURITY is the version number that is incremented for a security-update release, which contains critical fixes, including those necessary to improve security. For example, for a JDK 9 security-update release, the version format can be 9.1.2, where 2 is the value of security update.\r\n&gt; \r\n&gt; * $PATCH is the version number that is incremented for a release containing security and high-priority customer fixes, which have been tested together. For example, if JDK 9 has Minor version 1, Security release 1, and Patch update 1, then the version-string format will be 9.1.1.1.\r\n&gt;\r\n&gt; The $PATCH version number is reset to zero when $SECURITY, $MINOR, or $MAJOR version numbers are incremented.\r\n&gt; \r\n&gt; When the $MAJOR version number is incremented, the subsequent version numbers of $MINOR and $SECURITY elements are set to zero. However, when the $MINOR version number is incremented, the subsequent $SECURITY version number need not be set to zero. Regardless of the $MINOR version number, the higher security release value indicates a more secure release.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/install/version-string-format.html\r\n[2]: https://docs.oracle.com/javase/9/install/version-string-format.htm#JSJIG-GUID-DCA60310-6565-4BB6-8D24-6FF07C1C4B4E","title":"How are Oracle JDK versions numbered?","body":"<p>There are at most four components. They are &quot;feature&quot;, &quot;interim&quot;, &quot;update&quot; and &quot;patch&quot;. From <a href=\"https://docs.oracle.com/en/java/javase/17/install/version-string-format.html\" rel=\"noreferrer\">Oracle's docs</a>:</p>\n<blockquote>\n<p>Java SE platform has adopted time-based release model with the JDK being released every six months.</p>\n<p>As of JDK 10 and later, the format of the version string, which reflects the Java SE platform's time-based release model, is $FEATURE.$INTERIM.$UPDATE.$PATCH.</p>\n<ul>\n<li><p>$FEATURE is the version number that is incremented for every feature release. The feature release contains new features and changes to the existing features as specified by the Java SE platform specification. The version number is incremented every six months. For example, the version number for the March 2018 release is 10, the version number for the September 2018 release is 11, and so on.</p>\n</li>\n<li><p>$INTERIM is the version number that is incremented for every interim release, which contains bug fixes and enhancements. An interim release does not contain incompatible changes, feature removals, nor any changes to the standard APIs. The version number for the interim release is always zero (0) as the six-month release model does not include interim releases. However, this version number is reserved for future interim releases, if any.</p>\n</li>\n<li><p>$UPDATE is the version number that is incremented for an update release, which includes fixes for security issues, regressions, and bugs in new features. The version number is incremented one month after the $FEATURE release and every three months thereafter. For example, the full version string for the October update release is 17.0.1, the full version string for the January update release is 17.0.2, and so on.</p>\n</li>\n<li><p>$PATCH is the version number that is incremented for an emergency patch release to fix a critical issue.</p>\n</li>\n</ul>\n<p>The version string doesn't have trailing zero elements. For example, if the value of $FEATURE is 17, the value of $INTERIM is 0, the value of $UPDATE is 1, and the value of $PATCH is 0, then the full version string is 17.0.1.</p>\n</blockquote>\n<p>Prior to version 10, the version-string components were called <a href=\"https://docs.oracle.com/javase/9/install/version-string-format.htm#JSJIG-GUID-DCA60310-6565-4BB6-8D24-6FF07C1C4B4E\" rel=\"noreferrer\">&quot;major&quot;, &quot;minor&quot;, &quot;security&quot; and &quot;patch&quot;</a> and had slightly different meaning:</p>\n<blockquote>\n<p>The version-string scheme helps to easily distinguish major, minor, security, and patch update releases.</p>\n<p>The format of the version-string is $MAJOR.$MINOR.$SECURITY.$PATCH.</p>\n<ul>\n<li><p>$MAJOR is the version number that is incremented for a major release, for example JDK 9, which contains significant new features as specified by the Java SE platform specification. A major release contains new features and changes to existing features, which are planned and notified well in advance.</p>\n</li>\n<li><p>$MINOR is the version number that is incremented for each minor update, such as bug fixes, revisions to standard APIs, or implementation of features outside the scope of the relevant platform specifications. These specifications might be new JDK-specific APIs, additional service providers, new garbage collectors, and ports to new hardware architectures. For example, if an update is released for JDK 9, then the version-string (containing major and minor release numbers) is 9.1.</p>\n</li>\n<li><p>$SECURITY is the version number that is incremented for a security-update release, which contains critical fixes, including those necessary to improve security. For example, for a JDK 9 security-update release, the version format can be 9.1.2, where 2 is the value of security update.</p>\n</li>\n<li><p>$PATCH is the version number that is incremented for a release containing security and high-priority customer fixes, which have been tested together. For example, if JDK 9 has Minor version 1, Security release 1, and Patch update 1, then the version-string format will be 9.1.1.1.</p>\n</li>\n</ul>\n<p>The $PATCH version number is reset to zero when $SECURITY, $MINOR, or $MAJOR version numbers are incremented.</p>\n<p>When the $MAJOR version number is incremented, the subsequent version numbers of $MINOR and $SECURITY elements are set to zero. However, when the $MINOR version number is incremented, the subsequent $SECURITY version number need not be set to zero. Regardless of the $MINOR version number, the higher security release value indicates a more secure release.</p>\n</blockquote>\n"}],"owner":{"account_id":1693,"reputation":17168,"user_id":2283,"accept_rate":79,"display_name":"Weeble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666780804,"creation_date":1666780148,"question_id":74206258,"body_markdown":"Modern Oracle JDKs appear to have version numbers with a varying number of dotted segments. For example, [this page][1] lists these version numbers:\r\n\r\n* JDK 17.0.5\r\n* JDK 17.0.4.1\r\n* JDK 17.0.4\r\n* JDK 17.0.3.1\r\n* JDK 17.0.3\r\n* JDK 17.0.2\r\n* JDK 17.0.1\r\n* JDK 17\r\n\r\nIt&#39;s not semantic versioning, because there can be more than three numeric components. Is four the maximum number of (dot-separated) numeric components, or can there be more? What do each of these numbers mean, and when would they increment? E.g. what does it say about the move from 17.0.2 to 17.0.3 compared to the move from 17.0.3 to 17.0.3.1? How should each number be referred to (e.g. &quot;major&quot;, &quot;minor&quot; or &quot;patch&quot;)? And is there an authoritative source explaining this numbering system?\r\n\r\n[1]: https://www.oracle.com/java/technologies/javase/17u-relnotes.html","title":"How are Oracle JDK versions numbered?","body":"<p>Modern Oracle JDKs appear to have version numbers with a varying number of dotted segments. For example, <a href=\"https://www.oracle.com/java/technologies/javase/17u-relnotes.html\" rel=\"nofollow noreferrer\">this page</a> lists these version numbers:</p>\n<ul>\n<li>JDK 17.0.5</li>\n<li>JDK 17.0.4.1</li>\n<li>JDK 17.0.4</li>\n<li>JDK 17.0.3.1</li>\n<li>JDK 17.0.3</li>\n<li>JDK 17.0.2</li>\n<li>JDK 17.0.1</li>\n<li>JDK 17</li>\n</ul>\n<p>It's not semantic versioning, because there can be more than three numeric components. Is four the maximum number of (dot-separated) numeric components, or can there be more? What do each of these numbers mean, and when would they increment? E.g. what does it say about the move from 17.0.2 to 17.0.3 compared to the move from 17.0.3 to 17.0.3.1? How should each number be referred to (e.g. &quot;major&quot;, &quot;minor&quot; or &quot;patch&quot;)? And is there an authoritative source explaining this numbering system?</p>\n"},{"tags":["java","prometheus","monitoring","metrics","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1629825144,"creation_date":1629825144,"answer_id":68911482,"question_id":68838179,"body_markdown":"Using `DistributionSummary` means:\r\n- writing and maintaining less code\r\n- using Micrometer&#39;s naming conventions\r\n- decay values over time (see: `distributionStatisticExpiry` and `distributionStatisticBufferLength`)\r\n- you can have [histograms and percentiles](https://micrometer.io/docs/concepts#_histograms_and_percentiles)\r\n- you can define SLOs","title":"Micrometer Counter vs DistributionSummary","body":"<p>Using <code>DistributionSummary</code> means:</p>\n<ul>\n<li>writing and maintaining less code</li>\n<li>using Micrometer's naming conventions</li>\n<li>decay values over time (see: <code>distributionStatisticExpiry</code> and <code>distributionStatisticBufferLength</code>)</li>\n<li>you can have <a href=\"https://micrometer.io/docs/concepts#_histograms_and_percentiles\" rel=\"nofollow noreferrer\">histograms and percentiles</a></li>\n<li>you can define SLOs</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780730,"creation_date":1629897909,"answer_id":68923794,"question_id":68838179,"body_markdown":"In addition to @Jonatan Ivanov&#39;s answer.\r\n\r\nUsing counter with `tag = &lt;request size&gt;` means a ***new*** metric will be created for every request size. Which means you might end up with a huge amount of counters.\r\n\r\nIf you think that the distinguishing tag is something with fewer possible values and not too many counter metrics will be created, you can still use counter and make all of the aggregations the summary provides. (except quantiles).\r\n\r\nI would use a counter if I am interested in for example the number of requests with size 450, this is not possible with the summary.\r\n\r\n**TLDR**:\r\n\r\n*Use summary if you are interested only in the total count and average size*\r\n\r\n*Use a counter if the size variance isn&#39;t too big and you are interested in the exact count for a given size.*","title":"Micrometer Counter vs DistributionSummary","body":"<p>In addition to @Jonatan Ivanov's answer.</p>\n<p>Using counter with <code>tag = &lt;request size&gt;</code> means a <em><strong>new</strong></em> metric will be created for every request size. Which means you might end up with a huge amount of counters.</p>\n<p>If you think that the distinguishing tag is something with fewer possible values and not too many counter metrics will be created, you can still use counter and make all of the aggregations the summary provides. (except quantiles).</p>\n<p>I would use a counter if I am interested in for example the number of requests with size 450, this is not possible with the summary.</p>\n<p><strong>TLDR</strong>:</p>\n<p><em>Use summary if you are interested only in the total count and average size</em></p>\n<p><em>Use a counter if the size variance isn't too big and you are interested in the exact count for a given size.</em></p>\n"}],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4386,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666780730,"creation_date":1629314227,"question_id":68838179,"body_markdown":"Using summary for request size I would track\r\n - total requests\r\n - total total request size\r\n - biggest request size\r\n\r\nI can do it like this\r\n\r\n    meterRegistry.summary(&quot;request.size&quot;, &lt;tag for url&gt;).record(&lt;size&gt;);\r\n\r\nHowever I can achieve the same using counters and a gauge for the biggest size\r\n\r\n    meterRegistry.counter(&quot;request.size.total&quot;, &lt;tag for url&gt;).increment(&lt;size&gt;);\r\n    meterRegistry.counter(&quot;request.size.count&quot;, &lt;tag for url&gt;).increment();\r\n    meterRegistry.gauge(&quot;request.size.max&quot;, &lt;tag for url&gt;).set(&lt;new value if needed&gt;);\r\n    // and the gauge value will be stored in atomic variable\r\n\r\nQuestion is, is there any benefit of summary over the longer solution except for being shorter?\r\n","title":"Micrometer Counter vs DistributionSummary","body":"<p>Using summary for request size I would track</p>\n<ul>\n<li>total requests</li>\n<li>total total request size</li>\n<li>biggest request size</li>\n</ul>\n<p>I can do it like this</p>\n<pre><code>meterRegistry.summary(&quot;request.size&quot;, &lt;tag for url&gt;).record(&lt;size&gt;);\n</code></pre>\n<p>However I can achieve the same using counters and a gauge for the biggest size</p>\n<pre><code>meterRegistry.counter(&quot;request.size.total&quot;, &lt;tag for url&gt;).increment(&lt;size&gt;);\nmeterRegistry.counter(&quot;request.size.count&quot;, &lt;tag for url&gt;).increment();\nmeterRegistry.gauge(&quot;request.size.max&quot;, &lt;tag for url&gt;).set(&lt;new value if needed&gt;);\n// and the gauge value will be stored in atomic variable\n</code></pre>\n<p>Question is, is there any benefit of summary over the longer solution except for being shorter?</p>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650491124,"post_id":71945866,"comment_id":127132711,"body_markdown":"project Loom is exactly about adding virtual threads, but it is still under active development, that is, not ready. And from an [Oracle Blog](https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads) about project Loom: &quot;*Things simply are not yet at the point where meaningful comparisons can be made, and the current performance is not thought to be really indicative of the final version.*&quot;","body":"project Loom is exactly about adding virtual threads, but it is still under active development, that is, not ready. And from an <a href=\"https://blogs.oracle.com/javamagazine/post/going-inside-javas-project-loom-and-virtual-threads\" rel=\"nofollow noreferrer\">Oracle Blog</a> about project Loom: &quot;<i>Things simply are not yet at the point where meaningful comparisons can be made, and the current performance is not thought to be really indicative of the final version.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1650562961,"creation_date":1650498427,"answer_id":71947335,"question_id":71945866,"body_markdown":"Be aware that Project Loom is under active experimental development. Things may change.\r\n\r\n\r\n----------\r\n\r\n\r\n# No default \r\n\r\nYou asked:\r\n\r\n&gt; Why not just make them the default?\r\n\r\nIn modern Java, we generally do not address threads directly. Instead, we use the Executors framework added years ago in Java 5.\r\n\r\nIn particular, in most cases a Java programmer uses the [`Executors`][1] utility class to produce an [`ExecutorService`][2]. That executor service is backed by various kinds of thread factories or thread pools. \r\n\r\nFor example, if you want to serialize one task after another, we would use an [executor service backed by a single thread][3].\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor() ;\r\n\r\nIf you browse through `Executors` class Javadoc, you will see a variety of options. &#128073; None of them is &quot;default&quot;. The programmer chooses one to suit the needs of her particular situation. \r\n\r\nWith [Project Loom][4], we will have at least one more such option to choose from. In the preview build of Java, call the new [`Executors.newVirtualThreadPerTaskExecutor()`][5] to get an executor service backed by [virtual threads][6]. Go nuts, and throw a million tasks at it.\r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n\r\nYou asked:\r\n\r\n&gt;why are they separate things?\r\n\r\nOne of the highest priorities for the Java team is backward-compatibility: Existing apps should be able to run without surprise. \r\n\r\nVirtual threads have a *very* different behavior and performance profile than platform threads. So I do not expect to see the Java team retrofitting virtual threads onto existing features of Java generally. They may choose to do so, but only if absolutely certain no detrimental effects will surface in the behavior of existing apps.\r\n\r\n# When to choose or avoid virtual threads\r\n\r\nYou asked:\r\n\r\n&gt;Is there any reason to not use them?\r\n\r\nYes, certainly. Two reasons:\r\n\r\n - CPU-bound tasks\r\n - Tasks used to indirectly throttle other resources\r\n\r\n## CPU-bound tasks\r\n\r\nThe entire point of virtual threads is to keep the &quot;real&quot; thread, the platform host-OS thread, busy. When a virtual thread blocks, such as waiting for storage I/O or waiting network I/O, the virtual thread is &quot;dismounted&quot; from the host thread while another virtual thread is &quot;mounted&quot; on the host thread to get some execution done. \r\n\r\nSo, if your tasks code does not block, do not bother with virtual threads. But this kind of code is rare. Most tasks in most apps are often waiting for users, storage, networks, attached devices, etc. An example of a rare task that might not block is something that is [CPU-bound][7] like video-encoding/decoding, scientific data analysis, or some kind of intense number-crunching. Such tasks should be assigned to platform threads directly rather than virtual threads.\r\n\r\n## Throttling \r\n\r\nAnother reason to avoid virtual threads is with existing code that depends on the limits or bottlenecks of platform threads to throttle their apps usage of other resources. For example, if a database server is limited to 10 simultaneous connections, then some app have been written to use an executor service backed by only 8 or 9 threads. Such existing code should not be blindly switched to virtual threads.\r\n\r\nOf course such code is less than optimal. Such a code base would be better, clearer, more obvious to comprehend if explicit limiting/throttling mechanisms were utilized. \r\n\r\nUsing explicit throttling mechanisms will be needed if a programmer wants to benefit having thousands, even millions, of simultaneous virtual threads while avoiding exhausting/overloading other limited resources. \r\n\r\nJava has long offered such throttling mechanisms. They just were not always used, given the simplicity/ease of relying on the limits/bottlenecks of a limited number of platform threads. \r\n\r\n\r\n----------\r\n\r\nI am no expert on this. So rely on those who *are* experts. For details and insights, be sure to read the articles and watch the presentations and interviews by Ron Pressler, Alan Bateman, or other members of the Project Loom team.\r\n\r\n\r\n\r\n  [1]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html\r\n  [2]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadExecutor()\r\n  [4]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [5]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\r\n  [6]: https://openjdk.java.net/jeps/425\r\n  [7]: https://en.wikipedia.org/wiki/CPU-bound","title":"Project loom: Why are virtual threads not the default?","body":"<p>Be aware that Project Loom is under active experimental development. Things may change.</p>\n<hr />\n<h1>No default</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Why not just make them the default?</p>\n</blockquote>\n<p>In modern Java, we generally do not address threads directly. Instead, we use the Executors framework added years ago in Java 5.</p>\n<p>In particular, in most cases a Java programmer uses the <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> utility class to produce an <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. That executor service is backed by various kinds of thread factories or thread pools.</p>\n<p>For example, if you want to serialize one task after another, we would use an <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadExecutor()\" rel=\"nofollow noreferrer\">executor service backed by a single thread</a>.</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor() ;\n</code></pre>\n<p>If you browse through <code>Executors</code> class Javadoc, you will see a variety of options.  None of them is &quot;default&quot;. The programmer chooses one to suit the needs of her particular situation.</p>\n<p>With <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a>, we will have at least one more such option to choose from. In the preview build of Java, call the new <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\"><code>Executors.newVirtualThreadPerTaskExecutor()</code></a> to get an executor service backed by <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a>. Go nuts, and throw a million tasks at it.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n</code></pre>\n<p>You asked:</p>\n<blockquote>\n<p>why are they separate things?</p>\n</blockquote>\n<p>One of the highest priorities for the Java team is backward-compatibility: Existing apps should be able to run without surprise.</p>\n<p>Virtual threads have a <em>very</em> different behavior and performance profile than platform threads. So I do not expect to see the Java team retrofitting virtual threads onto existing features of Java generally. They may choose to do so, but only if absolutely certain no detrimental effects will surface in the behavior of existing apps.</p>\n<h1>When to choose or avoid virtual threads</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is there any reason to not use them?</p>\n</blockquote>\n<p>Yes, certainly. Two reasons:</p>\n<ul>\n<li>CPU-bound tasks</li>\n<li>Tasks used to indirectly throttle other resources</li>\n</ul>\n<h2>CPU-bound tasks</h2>\n<p>The entire point of virtual threads is to keep the &quot;real&quot; thread, the platform host-OS thread, busy. When a virtual thread blocks, such as waiting for storage I/O or waiting network I/O, the virtual thread is &quot;dismounted&quot; from the host thread while another virtual thread is &quot;mounted&quot; on the host thread to get some execution done.</p>\n<p>So, if your tasks code does not block, do not bother with virtual threads. But this kind of code is rare. Most tasks in most apps are often waiting for users, storage, networks, attached devices, etc. An example of a rare task that might not block is something that is <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a> like video-encoding/decoding, scientific data analysis, or some kind of intense number-crunching. Such tasks should be assigned to platform threads directly rather than virtual threads.</p>\n<h2>Throttling</h2>\n<p>Another reason to avoid virtual threads is with existing code that depends on the limits or bottlenecks of platform threads to throttle their apps usage of other resources. For example, if a database server is limited to 10 simultaneous connections, then some app have been written to use an executor service backed by only 8 or 9 threads. Such existing code should not be blindly switched to virtual threads.</p>\n<p>Of course such code is less than optimal. Such a code base would be better, clearer, more obvious to comprehend if explicit limiting/throttling mechanisms were utilized.</p>\n<p>Using explicit throttling mechanisms will be needed if a programmer wants to benefit having thousands, even millions, of simultaneous virtual threads while avoiding exhausting/overloading other limited resources.</p>\n<p>Java has long offered such throttling mechanisms. They just were not always used, given the simplicity/ease of relying on the limits/bottlenecks of a limited number of platform threads.</p>\n<hr />\n<p>I am no expert on this. So rely on those who <em>are</em> experts. For details and insights, be sure to read the articles and watch the presentations and interviews by Ron Pressler, Alan Bateman, or other members of the Project Loom team.</p>\n"},{"tags":[],"owner":{"account_id":390471,"reputation":1703,"user_id":750563,"accept_rate":75,"display_name":"pron"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650723936,"creation_date":1650723936,"answer_id":71980539,"question_id":71945866,"body_markdown":"There are really two questions here: 1. Why are virtual threads not the default? and 2. Is there ever a reason not to use them.\r\n\r\nRegarding the default, Java really has not concept of a &quot;default&quot; thread. Once virtual threads arrive, when you create a thread, you *must* specify whether you want a platform thread or a virtual thread. The question then becomes why have we decided not to automatically replace today&#39;s threads with virtual threads (i.e. make `new Thread()` create a virtual thread). The answer to that is quite simple: it would not be helpful at all and *might* well be quite harmful. It would not be helpful because the advantages of virtual threads come from the ability to create a great many of them. If your application creates N threads today, nothing would be gained by turning those N threads into virtual threads. The scaling advantage of virtual threads would only kick in when your application creates, say, 1000N threads, which means it would need to be changed, anyway (e.g. by replacing `Executors.newFixedThreadPool` with `Executors.newVirtualThreadPerTaskExector`). It might be harmful because while virtual threads&#39; semantics are *almost* the same as platform threads, they are not perfectly backward compatible (see [JEP 425](https://openjdk.java.net/jeps/425) for details).\r\n\r\nAs to the question about when *not* to use virtual threads, there are some obvious cases. E.g. when your threads heavily interact with native code, which knows nothing about virtual threads, or when you depend on some detail that has changed for virtual threads, like the ability to subclass `Thread`. Other cases are not so clear. For example, CPU-bound operations do not benefit from having more threads than CPU cores, so they do not benefit from the multitude of virtual threads, but that doesn&#39;t mean that they would be *harmed*. We&#39;re still not ready to say that *users* should pick virtual threads by default, but we might well get there, as we learn more about how people use them.","title":"Project loom: Why are virtual threads not the default?","body":"<p>There are really two questions here: 1. Why are virtual threads not the default? and 2. Is there ever a reason not to use them.</p>\n<p>Regarding the default, Java really has not concept of a &quot;default&quot; thread. Once virtual threads arrive, when you create a thread, you <em>must</em> specify whether you want a platform thread or a virtual thread. The question then becomes why have we decided not to automatically replace today's threads with virtual threads (i.e. make <code>new Thread()</code> create a virtual thread). The answer to that is quite simple: it would not be helpful at all and <em>might</em> well be quite harmful. It would not be helpful because the advantages of virtual threads come from the ability to create a great many of them. If your application creates N threads today, nothing would be gained by turning those N threads into virtual threads. The scaling advantage of virtual threads would only kick in when your application creates, say, 1000N threads, which means it would need to be changed, anyway (e.g. by replacing <code>Executors.newFixedThreadPool</code> with <code>Executors.newVirtualThreadPerTaskExector</code>). It might be harmful because while virtual threads' semantics are <em>almost</em> the same as platform threads, they are not perfectly backward compatible (see <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">JEP 425</a> for details).</p>\n<p>As to the question about when <em>not</em> to use virtual threads, there are some obvious cases. E.g. when your threads heavily interact with native code, which knows nothing about virtual threads, or when you depend on some detail that has changed for virtual threads, like the ability to subclass <code>Thread</code>. Other cases are not so clear. For example, CPU-bound operations do not benefit from having more threads than CPU cores, so they do not benefit from the multitude of virtual threads, but that doesn't mean that they would be <em>harmed</em>. We're still not ready to say that <em>users</em> should pick virtual threads by default, but we might well get there, as we learn more about how people use them.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780650,"creation_date":1651687824,"answer_id":72117621,"question_id":71945866,"body_markdown":"If you make them default a good portion of the existing java code won&#39;t just be able to switch to java 19, because that code is optimized for OS threads.\r\nJava **has** to be backward compatible.\r\n\r\nThere are cases where Virtual Threads don&#39;t make much sense for example\r\n\r\n- Applications that do heavy computations\r\n- If you make requests to a DB that has max connection pool, the bottleneck is not the threads\r\n- Using thread locals is not a good idea with Virtual Threads\r\n\r\nFurthermore probably most of the existing code that deals with threads pools them which again goes against the main idea","title":"Project loom: Why are virtual threads not the default?","body":"<p>If you make them default a good portion of the existing java code won't just be able to switch to java 19, because that code is optimized for OS threads.\nJava <strong>has</strong> to be backward compatible.</p>\n<p>There are cases where Virtual Threads don't make much sense for example</p>\n<ul>\n<li>Applications that do heavy computations</li>\n<li>If you make requests to a DB that has max connection pool, the bottleneck is not the threads</li>\n<li>Using thread locals is not a good idea with Virtual Threads</li>\n</ul>\n<p>Furthermore probably most of the existing code that deals with threads pools them which again goes against the main idea</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664473138,"creation_date":1664473138,"answer_id":73899643,"question_id":71945866,"body_markdown":"Lets begin with\r\n\r\n&gt; Why not just make them the default?\r\n\r\n**Virtual threads are wrapped upon **platform threads**, so you may consider them an **illusion** that JVM provides, the whole idea is to make lifecycle of threads to [CPU bound][1] operations.**\r\n\r\n - Platform Threads versus Virtual threads. Platform threads take OS\r\n   threads hostage in IO based tasks and operations limited to number of\r\n   applicable threads with in thread pool and OS threads, by default\r\n   they are non Daemon threads\r\n\r\n - Virtual threads are implemented with JVM, in CPU bound operations the\r\n   associated to platform threads and retuning them to thread pool,\r\n   after IO bound operation finished a new thread will be called from\r\n   thread pool, so no hostage in this case.\r\n\r\n\r\n**Fourth level architecture to have better understanding.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCPU\r\n - Multicore CPU multicores with in cpu executing operations.\r\n\r\nOS\r\n - OS threads the OS scheduler allocating cpu time to engaged OS\r\n   threads.\r\n\r\nJVM\r\n\r\n - platform threads are wrapped totally upon OS threads with both task\r\n   operations\r\n - virtual threads are associated to platform threads in each CPU bound\r\n   operation, each virtual thread can be associated with multiple\r\n   platform threads as different times.\r\n\r\n\r\n**Virtual threads with Executer service**\r\n - More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.\r\n\r\n        try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\r\n            service.submit(ExecutorServiceVirtualThread::taskOne);\r\n            service.submit(ExecutorServiceVirtualThread::taskTwo);\r\n        }\r\n\r\n - Executer service implements Auto Closable interface in JDK 19, thus when used with in &#39;try with resource&#39;, once it reach to end of &#39;try&#39; block the &#39;close&#39; api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.\r\n\r\n        ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\r\n        try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\r\n            service.submit(ExecutorServiceThreadFactory::taskOne);\r\n            service.submit(ExecutorServiceThreadFactory::taskTwo);\r\n        }\r\n\r\n - Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.\r\n\r\n - Can benefits features of Executer service like Future and Completable Future.\r\n\r\n**Virtual threads advantages** \r\n\r\n - exhibits exact the same behavior as platform threads.\r\n - disposable and can be scaled to millions.\r\n - much more lightweight than platform threads.\r\n - fast creation time, as fast as creating string object.\r\n - the JVM does delimited continuation on IO operations, no IO for\r\n   virtual threads.\r\n - yet can have the sequential code as previous but way more effective.\r\n - the JVM gives an illusion of virtual threads, underneath whole story\r\n   goes on platform threads.\r\n - Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful\r\n\r\n**Virtual threads usage cautions**\r\n\r\n - Don not use monitor i.e the synchronized block, however this will fix in new release of JDK&#39;s, an alternative to do so is to use &#39;ReentrantLock&#39; with try-final statement.\r\n\r\n - Blocking with native frames on stack, JNI&#39;s. its very rare\r\n - Control memory per stack (reduce thread locales and no deep recursion)\r\n - Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc\r\n\r\n\r\nFind more on [JEP-425][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CPU-bound\r\n  [2]: https://i.stack.imgur.com/dNy24.png\r\n  [3]: https://openjdk.org/jeps/425","title":"Project loom: Why are virtual threads not the default?","body":"<p>Lets begin with</p>\n<blockquote>\n<p>Why not just make them the default?</p>\n</blockquote>\n<p><strong>Virtual threads are wrapped upon <strong>platform threads</strong>, so you may consider them an <strong>illusion</strong> that JVM provides, the whole idea is to make lifecycle of threads to <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU bound</a> operations.</strong></p>\n<ul>\n<li><p>Platform Threads versus Virtual threads. Platform threads take OS\nthreads hostage in IO based tasks and operations limited to number of\napplicable threads with in thread pool and OS threads, by default\nthey are non Daemon threads</p>\n</li>\n<li><p>Virtual threads are implemented with JVM, in CPU bound operations the\nassociated to platform threads and retuning them to thread pool,\nafter IO bound operation finished a new thread will be called from\nthread pool, so no hostage in this case.</p>\n</li>\n</ul>\n<p><strong>Fourth level architecture to have better understanding.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dNy24.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNy24.png\" alt=\"enter image description here\" /></a></p>\n<p>CPU</p>\n<ul>\n<li>Multicore CPU multicores with in cpu executing operations.</li>\n</ul>\n<p>OS</p>\n<ul>\n<li>OS threads the OS scheduler allocating cpu time to engaged OS\nthreads.</li>\n</ul>\n<p>JVM</p>\n<ul>\n<li>platform threads are wrapped totally upon OS threads with both task\noperations</li>\n<li>virtual threads are associated to platform threads in each CPU bound\noperation, each virtual thread can be associated with multiple\nplatform threads as different times.</li>\n</ul>\n<p><strong>Virtual threads with Executer service</strong></p>\n<ul>\n<li><p>More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.</p>\n<pre><code> try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\n     service.submit(ExecutorServiceVirtualThread::taskOne);\n     service.submit(ExecutorServiceVirtualThread::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service implements Auto Closable interface in JDK 19, thus when used with in 'try with resource', once it reach to end of 'try' block the 'close' api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.</p>\n<pre><code> ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\n try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\n     service.submit(ExecutorServiceThreadFactory::taskOne);\n     service.submit(ExecutorServiceThreadFactory::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.</p>\n</li>\n<li><p>Can benefits features of Executer service like Future and Completable Future.</p>\n</li>\n</ul>\n<p><strong>Virtual threads advantages</strong></p>\n<ul>\n<li>exhibits exact the same behavior as platform threads.</li>\n<li>disposable and can be scaled to millions.</li>\n<li>much more lightweight than platform threads.</li>\n<li>fast creation time, as fast as creating string object.</li>\n<li>the JVM does delimited continuation on IO operations, no IO for\nvirtual threads.</li>\n<li>yet can have the sequential code as previous but way more effective.</li>\n<li>the JVM gives an illusion of virtual threads, underneath whole story\ngoes on platform threads.</li>\n<li>Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful</li>\n</ul>\n<p><strong>Virtual threads usage cautions</strong></p>\n<ul>\n<li><p>Don not use monitor i.e the synchronized block, however this will fix in new release of JDK's, an alternative to do so is to use 'ReentrantLock' with try-final statement.</p>\n</li>\n<li><p>Blocking with native frames on stack, JNI's. its very rare</p>\n</li>\n<li><p>Control memory per stack (reduce thread locales and no deep recursion)</p>\n</li>\n<li><p>Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc</p>\n</li>\n</ul>\n<p>Find more on <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP-425</a></p>\n"}],"owner":{"account_id":25026051,"reputation":31,"user_id":18884254,"display_name":"kqi25755"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1666780650,"creation_date":1650486769,"question_id":71945866,"body_markdown":"According to the project loom documentation virtual threads behave like normal threads while having almost zero cost and the ability to turn blocking calls into non-blocking ones. \r\n\r\nIf this is true, then why are they separate things? Why not just make them the default? Is there any reason to *not* use them?","title":"Project loom: Why are virtual threads not the default?","body":"<p>According to the project loom documentation virtual threads behave like normal threads while having almost zero cost and the ability to turn blocking calls into non-blocking ones.</p>\n<p>If this is true, then why are they separate things? Why not just make them the default? Is there any reason to <em>not</em> use them?</p>\n"},{"tags":["java","list","generics","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1375469700,"post_id":18021218,"comment_id":26362377,"body_markdown":"If performance is your concern, trove should help.","body":"If performance is your concern, trove should help."},{"owner":{"account_id":468731,"reputation":383,"user_id":874891,"accept_rate":80,"display_name":"Taylor"},"score":0,"creation_date":1407884951,"post_id":18021218,"comment_id":39386351,"body_markdown":"It&#39;s possible to create a list using a basic array, but you do have to know the size of the array to start with, and you&#39;ll lose a lot of other functionality that comes with the Collections object. But you could do something like: int[] array = new int[10];","body":"It&#39;s possible to create a list using a basic array, but you do have to know the size of the array to start with, and you&#39;ll lose a lot of other functionality that comes with the Collections object. But you could do something like: int[] array = new int[10];"},{"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"score":0,"creation_date":1611311707,"post_id":18021218,"comment_id":116416051,"body_markdown":"long needs 8Bytes, Long needs 8Bytes plus 16Bytes for Object header (in 64bit system). It&#39;s a shame, there is no primitive list. Large data sets should always be hold as primitives...","body":"long needs 8Bytes, Long needs 8Bytes plus 16Bytes for Object header (in 64bit system). It&#39;s a shame, there is no primitive list. Large data sets should always be hold as primitives..."}],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":1,"up_vote_count":177,"is_accepted":true,"score":176,"last_activity_date":1534522354,"creation_date":1375458898,"answer_id":18021276,"question_id":18021218,"body_markdown":"In Java the type of any variable is either a primitive type or a reference type. Generic type arguments must be reference types. Since primitives do not extend `Object` they cannot be used as generic type arguments for a parametrized type.\r\n\r\nInstead use the `Integer` class which is a wrapper for `int`:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\nIf your using Java 7 you can simplify this declaration using the diamond operator:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\nWith autoboxing in Java the primitive type `int` will become an `Integer` when necessary.  \r\n\r\n&gt; Autoboxing is the automatic conversion that the Java compiler makes\r\n&gt; between the primitive types and their corresponding object wrapper\r\n&gt; classes.\r\n\r\nSo the following is valid:\r\n\r\n\tint myInt = 1;\r\n\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\tlist.add(myInt);\r\n\t\r\n\tSystem.out.println(list.get(0)); //prints 1","title":"Create a List of primitive int?","body":"<p>In Java the type of any variable is either a primitive type or a reference type. Generic type arguments must be reference types. Since primitives do not extend <code>Object</code> they cannot be used as generic type arguments for a parametrized type.</p>\n\n<p>Instead use the <code>Integer</code> class which is a wrapper for <code>int</code>:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>If your using Java 7 you can simplify this declaration using the diamond operator:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>With autoboxing in Java the primitive type <code>int</code> will become an <code>Integer</code> when necessary.  </p>\n\n<blockquote>\n  <p>Autoboxing is the automatic conversion that the Java compiler makes\n  between the primitive types and their corresponding object wrapper\n  classes.</p>\n</blockquote>\n\n<p>So the following is valid:</p>\n\n<pre><code>int myInt = 1;\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(myInt);\n\nSystem.out.println(list.get(0)); //prints 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1375458901,"creation_date":1375458901,"answer_id":18021277,"question_id":18021218,"body_markdown":"This is not possible. The java specification forbids the use of primitives in generics. However, you can create `ArrayList&lt;Integer&gt;` and call `add(i)` if `i` is an int thanks to boxing.","title":"Create a List of primitive int?","body":"<p>This is not possible. The java specification forbids the use of primitives in generics. However, you can create <code>ArrayList&lt;Integer&gt;</code> and call <code>add(i)</code> if <code>i</code> is an int thanks to boxing.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493896732,"creation_date":1375458918,"answer_id":18021282,"question_id":18021218,"body_markdown":"Collections use generics which support either [reference types][1] or wilcards. You can however use an `Integer` wrapper\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"Create a List of primitive int?","body":"<p>Collections use generics which support either <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3\" rel=\"nofollow noreferrer\">reference types</a> or wilcards. You can however use an <code>Integer</code> wrapper</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375460074,"creation_date":1375458937,"answer_id":18021289,"question_id":18021218,"body_markdown":"&gt; Is there a way to create a list of primitive int or any primitives in java\r\n\r\nNo you can&#39;t. You can only create List of reference types, like `Integer`, `String`, or your custom type.\r\n\r\n&gt; It seems I can do `List myList = new ArrayList();` and add &quot;int&quot; into this list.\r\n\r\nWhen you add `int` to this list, it is automatically boxed to `Integer` wrapper type. But it is a bad idea to use *raw* type lists, or for any generic type for that matter, in newer code.\r\n\r\n&gt; I can add anything into this list. \r\n\r\nOf course, that is the dis-advantage of using raw type. You can have *Cat*, *Dog*, *Tiger*, *Dinosaur*, all in one container.\r\n\r\n&gt; Is my only option, creating an array of int and converting it into a list\r\n\r\nIn that case also, you will get a `List&lt;Integer&gt;` only. There is no way you can create `List&lt;int&gt;` or any primitives.\r\n\r\nYou shouldn&#39;t be bothered anyways. Even in `List&lt;Integer&gt;` you can add an `int` primitive types. It will be automatically boxed, as in below example:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    list.add(5);\r\n\r\n","title":"Create a List of primitive int?","body":"<blockquote>\n  <p>Is there a way to create a list of primitive int or any primitives in java</p>\n</blockquote>\n\n<p>No you can't. You can only create List of reference types, like <code>Integer</code>, <code>String</code>, or your custom type.</p>\n\n<blockquote>\n  <p>It seems I can do <code>List myList = new ArrayList();</code> and add \"int\" into this list.</p>\n</blockquote>\n\n<p>When you add <code>int</code> to this list, it is automatically boxed to <code>Integer</code> wrapper type. But it is a bad idea to use <em>raw</em> type lists, or for any generic type for that matter, in newer code.</p>\n\n<blockquote>\n  <p>I can add anything into this list. </p>\n</blockquote>\n\n<p>Of course, that is the dis-advantage of using raw type. You can have <em>Cat</em>, <em>Dog</em>, <em>Tiger</em>, <em>Dinosaur</em>, all in one container.</p>\n\n<blockquote>\n  <p>Is my only option, creating an array of int and converting it into a list</p>\n</blockquote>\n\n<p>In that case also, you will get a <code>List&lt;Integer&gt;</code> only. There is no way you can create <code>List&lt;int&gt;</code> or any primitives.</p>\n\n<p>You shouldn't be bothered anyways. Even in <code>List&lt;Integer&gt;</code> you can add an <code>int</code> primitive types. It will be automatically boxed, as in below example:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053877,"reputation":1522,"user_id":1057032,"accept_rate":91,"display_name":"Mike B"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1375469029,"creation_date":1375460162,"answer_id":18021680,"question_id":18021218,"body_markdown":"No there isn&#39;t any collection that can contain primitive types when Java Collection Framework is being used.\r\n\r\nHowever, there are other java collections which support primitive types, such as: [Trove][1], [Colt][2], [Fastutil][3], [Guava][4]\r\n\r\nAn example of how an arraylist with ints would be when Trove Library used is the following:\r\n\r\n     TIntArrayList list= new TIntArrayList();\r\n\r\nThe performance of this list, when compared with the ArrayList of Integers from Java Collections is much better as the autoboxing/unboxing to the corresponding Integer Wrapper Class is not needed.\r\n\r\n  [1]: http://trove.starlight-systems.com/\r\n  [2]: http://acs.lbl.gov/software/colt/\r\n  [3]: http://fastutil.di.unimi.it/\r\n  [4]: https://code.google.com/p/guava-libraries/","title":"Create a List of primitive int?","body":"<p>No there isn't any collection that can contain primitive types when Java Collection Framework is being used.</p>\n\n<p>However, there are other java collections which support primitive types, such as: <a href=\"http://trove.starlight-systems.com/\">Trove</a>, <a href=\"http://acs.lbl.gov/software/colt/\">Colt</a>, <a href=\"http://fastutil.di.unimi.it/\">Fastutil</a>, <a href=\"https://code.google.com/p/guava-libraries/\">Guava</a></p>\n\n<p>An example of how an arraylist with ints would be when Trove Library used is the following:</p>\n\n<pre><code> TIntArrayList list= new TIntArrayList();\n</code></pre>\n\n<p>The performance of this list, when compared with the ArrayList of Integers from Java Collections is much better as the autoboxing/unboxing to the corresponding Integer Wrapper Class is not needed.</p>\n"},{"tags":[],"owner":{"account_id":3746354,"reputation":1442,"user_id":3114945,"accept_rate":60,"display_name":"stolen_leaves"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472046021,"creation_date":1400765754,"answer_id":23808490,"question_id":18021218,"body_markdown":"Try using the ArrayIntList from the apache framework. It works exactly like an arraylist, except it can hold primitive int. \r\n\r\nMore details here -\r\n\r\nhttps://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html","title":"Create a List of primitive int?","body":"<p>Try using the ArrayIntList from the apache framework. It works exactly like an arraylist, except it can hold primitive int. </p>\n\n<p>More details here -</p>\n\n<p><a href=\"https://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html\" rel=\"nofollow\">https://commons.apache.org/dormant/commons-primitives/apidocs/org/apache/commons/collections/primitives/ArrayIntList.html</a></p>\n"},{"tags":[],"owner":{"account_id":1278157,"reputation":7585,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449595253,"creation_date":1446132355,"answer_id":33418303,"question_id":18021218,"body_markdown":"&gt;Is there a way to convert an Integer[] array to an int[] array?\r\n\r\nThis gross omission from the Java core libraries seems to come up on pretty much every project I ever work on. And as convenient as the Trove library might be, I am unable to parse the precise requirements to meet LPGL for an Android app that statically links an LGPL library (preamble says ok, body does not seem to say the same). And it&#39;s just plain inconvenient to go rip-and-stripping Apache sources to get these classes. There has to be a better way.\r\n\r\n","title":"Create a List of primitive int?","body":"<blockquote>\n  <p>Is there a way to convert an Integer[] array to an int[] array?</p>\n</blockquote>\n\n<p>This gross omission from the Java core libraries seems to come up on pretty much every project I ever work on. And as convenient as the Trove library might be, I am unable to parse the precise requirements to meet LPGL for an Android app that statically links an LGPL library (preamble says ok, body does not seem to say the same). And it's just plain inconvenient to go rip-and-stripping Apache sources to get these classes. There has to be a better way.</p>\n"},{"tags":[],"owner":{"account_id":2840670,"reputation":2751,"user_id":2440358,"accept_rate":60,"display_name":"Stefan Medack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449593599,"creation_date":1449593599,"answer_id":34161558,"question_id":18021218,"body_markdown":"When you use Java for Android development, it is recommended to use `SparseIntArray` to prevent autoboxing between `int` and `Integer`.\r\n\r\nYou can finde more information to `SparseIntArray` in [the Android Developers documentation][1] and a good explanation for autoboxing on Android [enter link description here][2]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/SparseIntArray.html\r\n  [2]: https://www.youtube.com/watch?v=I16lz26WyzQ&amp;index=20&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE","title":"Create a List of primitive int?","body":"<p>When you use Java for Android development, it is recommended to use <code>SparseIntArray</code> to prevent autoboxing between <code>int</code> and <code>Integer</code>.</p>\n\n<p>You can finde more information to <code>SparseIntArray</code> in <a href=\"http://developer.android.com/reference/android/util/SparseIntArray.html\" rel=\"nofollow\">the Android Developers documentation</a> and a good explanation for autoboxing on Android <a href=\"https://www.youtube.com/watch?v=I16lz26WyzQ&amp;index=20&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE\" rel=\"nofollow\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":6722754,"reputation":1152,"user_id":5182052,"display_name":"Nikhil Nanivadekar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459041757,"creation_date":1459041757,"answer_id":36242857,"question_id":18021218,"body_markdown":"You can use primitive collections available in [Eclipse Collections][1]. Eclipse Collections has `List`, `Set`, `Bag` and `Map` for all primitives. The elements in the primitive collections are maintained as primitives and no boxing takes place.\r\n\r\nYou can initialize a [IntList][2] like this:\r\n\r\n    MutableIntList ints = IntLists.mutable.empty();\r\n\r\nYou can convert from a `List&lt;Integer&gt;` to `IntList` like this:\r\n\r\n    List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n    MutableIntList ints = ListAdapter.adapt(integers).collectInt(each -&gt; each);\r\n\r\nNote: I am a contributor to Eclipse Collections.\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/primitive/IntList.html","title":"Create a List of primitive int?","body":"<p>You can use primitive collections available in <a href=\"http://www.eclipse.org/collections/\" rel=\"noreferrer\">Eclipse Collections</a>. Eclipse Collections has <code>List</code>, <code>Set</code>, <code>Bag</code> and <code>Map</code> for all primitives. The elements in the primitive collections are maintained as primitives and no boxing takes place.</p>\n\n<p>You can initialize a <a href=\"http://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/list/primitive/IntList.html\" rel=\"noreferrer\">IntList</a> like this:</p>\n\n<pre><code>MutableIntList ints = IntLists.mutable.empty();\n</code></pre>\n\n<p>You can convert from a <code>List&lt;Integer&gt;</code> to <code>IntList</code> like this:</p>\n\n<pre><code>List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\nMutableIntList ints = ListAdapter.adapt(integers).collectInt(each -&gt; each);\n</code></pre>\n\n<p>Note: I am a contributor to Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666780596,"creation_date":1654609861,"answer_id":72532418,"question_id":18021218,"body_markdown":"[JEP 402][1] from project Valhalla, promises to allow this. They will remove the need for wrapper classes altogether, which means no more boxing and unboxing.\r\n\r\n..so watch out for that\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/402","title":"Create a List of primitive int?","body":"<p><a href=\"https://openjdk.java.net/jeps/402\" rel=\"nofollow noreferrer\">JEP 402</a> from project Valhalla, promises to allow this. They will remove the need for wrapper classes altogether, which means no more boxing and unboxing.</p>\n<p>..so watch out for that</p>\n"},{"tags":[],"owner":{"account_id":16164833,"reputation":39,"user_id":11670058,"display_name":"Shinu Mathew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662823059,"creation_date":1662823059,"answer_id":73672955,"question_id":18021218,"body_markdown":"If you have an array of primitive ints, you can convert it into a list using java streams.\r\n\r\n`List&lt;Integer&gt; lst = Arrays.stream(arr).boxed().collect(Collectors.toList());`\r\n\r\nwhen reading the values from list you can use `intValue()` to get it as primitive int\r\n\r\n`lst.get(0).intValue();`","title":"Create a List of primitive int?","body":"<p>If you have an array of primitive ints, you can convert it into a list using java streams.</p>\n<p><code>List&lt;Integer&gt; lst = Arrays.stream(arr).boxed().collect(Collectors.toList());</code></p>\n<p>when reading the values from list you can use <code>intValue()</code> to get it as primitive int</p>\n<p><code>lst.get(0).intValue();</code></p>\n"}],"owner":{"account_id":1362225,"reputation":5088,"user_id":1299376,"accept_rate":69,"display_name":"Susie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339833,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":18021276,"answer_count":11,"score":130,"last_activity_date":1666780596,"creation_date":1375458732,"question_id":18021218,"body_markdown":"Is there a way to create a list of primitive int or any primitives in java like following? \r\n\r\n    List&lt;int&gt; myList = new ArrayList&lt;int&gt;();\r\n\r\nIt seems I can do `List myList = new ArrayList();`\r\n\r\nand add &quot;int&quot; into this list. But then this would mean I can add anything into this list. \r\n\r\nIs my only option, creating an array of int and converting it into a list or creating a list of Integer objects? \r\n","title":"Create a List of primitive int?","body":"<p>Is there a way to create a list of primitive int or any primitives in java like following? </p>\n\n<pre><code>List&lt;int&gt; myList = new ArrayList&lt;int&gt;();\n</code></pre>\n\n<p>It seems I can do <code>List myList = new ArrayList();</code></p>\n\n<p>and add \"int\" into this list. But then this would mean I can add anything into this list. </p>\n\n<p>Is my only option, creating an array of int and converting it into a list or creating a list of Integer objects? </p>\n"},{"tags":["java","swing","while-loop","joptionpane"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1654610685,"post_id":72532567,"comment_id":128128225,"body_markdown":"Tried with `do-while`?","body":"Tried with <code>do-while</code>?"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654610797,"post_id":72532567,"comment_id":128128267,"body_markdown":"do-while? @SayanBhattacharya","body":"do-while? @SayanBhattacharya"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1654610922,"post_id":72532567,"comment_id":128128323,"body_markdown":"instead of using `while` loop use `do-while` loop. refer [here](https://www.geeksforgeeks.org/java-do-while-loop-with-examples/)","body":"instead of using <code>while</code> loop use <code>do-while</code> loop. refer <a href=\"https://www.geeksforgeeks.org/java-do-while-loop-with-examples/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654610995,"post_id":72532567,"comment_id":128128360,"body_markdown":"@SayanBhattacharya Ok, i will try","body":"@SayanBhattacharya Ok, i will try"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654611125,"post_id":72532567,"comment_id":128128408,"body_markdown":"Don&#39;t use a loop. Instead add a PropertyListener to the option pane that will allow you to validate the data entered before closing the option panel Read the section from the Swing tutorial on [Stop Automatic Dialog Closing](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup)","body":"Don&#39;t use a loop. Instead add a PropertyListener to the option pane that will allow you to validate the data entered before closing the option panel Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup\" rel=\"nofollow noreferrer\">Stop Automatic Dialog Closing</a>"},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611394,"post_id":72532567,"comment_id":128128520,"body_markdown":"@camickr I have to use a loop, its for a project.","body":"@camickr I have to use a loop, its for a project."},{"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"score":0,"creation_date":1654611626,"post_id":72532567,"comment_id":128128615,"body_markdown":"@SayanBhattacharya I have updated the question using your suggestion but it still repeats the input dialog","body":"@SayanBhattacharya I have updated the question using your suggestion but it still repeats the input dialog"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654611797,"post_id":72532567,"comment_id":128128687,"body_markdown":"Walk through your code. 1st it enters the &quot;do&quot; block. It calls &quot;checkTaskDescription()&quot;, and does nothing with the return value. Then it goes to the conditional of your &quot;while&quot; and ... calls &quot;checkTaskDescription()&quot;. You need to do something with the return value of your first &quot;checkTaskDescription&quot;;","body":"Walk through your code. 1st it enters the &quot;do&quot; block. It calls &quot;checkTaskDescription()&quot;, and does nothing with the return value. Then it goes to the conditional of your &quot;while&quot; and ... calls &quot;checkTaskDescription()&quot;. You need to do something with the return value of your first &quot;checkTaskDescription&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780577,"creation_date":1654610930,"answer_id":72532687,"question_id":72532567,"body_markdown":"It will be much easier if you do something like this\r\n\r\n    public String getTaskDescription() {\r\n        String taskDescription = &quot;&quot;;\r\n        do {\r\n            taskDescription = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n        }\r\n        while (taskDescription.length() &gt; 50);\r\n\r\n        return taskDescription;\r\n    }\r\n\r\nWhen you design your methods, try to make them as self-contained as possible. Now you return a flag and rely on a caller method to call it again in case the input isn&#39;t valid.","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>It will be much easier if you do something like this</p>\n<pre><code>public String getTaskDescription() {\n    String taskDescription = &quot;&quot;;\n    do {\n        taskDescription = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n    }\n    while (taskDescription.length() &gt; 50);\n\n    return taskDescription;\n}\n</code></pre>\n<p>When you design your methods, try to make them as self-contained as possible. Now you return a flag and rely on a caller method to call it again in case the input isn't valid.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654612742,"creation_date":1654611945,"answer_id":72532937,"question_id":72532567,"body_markdown":"You need to use the results of your method call.\r\n\r\n```java\r\n\r\nboolean ready = false;\r\n\r\ndo{\r\n\r\n    ready = checkTaskDescription();\r\n\r\n} while ( ! ready );\r\n```\r\n\r\nThat will enter the do block, assign ready to the return value of checkTaskDescription(), then check if it is false. If it is false, it will continue to loop, until it is true.\r\n\r\nYour checkTaskDescription is also broken. If you fail the first time, it will show the dialog again, then **always return false**. \r\n\r\n```\r\npublic boolean checkTaskDescription() {\r\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n        if (taskDesc.length() &gt; 50) {\r\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;);\r\n            return false;\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\r\n        return true;\r\n    }\r\n```\r\n\r\nI updated the method so it would &quot;work&quot; when there is a failed input, it will show an error message, then loop and show the dialog again. This is why you should validate the data from the dialog, and not open the dialog in the loop.","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>You need to use the results of your method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nboolean ready = false;\n\ndo{\n\n    ready = checkTaskDescription();\n\n} while ( ! ready );\n</code></pre>\n<p>That will enter the do block, assign ready to the return value of checkTaskDescription(), then check if it is false. If it is false, it will continue to loop, until it is true.</p>\n<p>Your checkTaskDescription is also broken. If you fail the first time, it will show the dialog again, then <strong>always return false</strong>.</p>\n<pre><code>public boolean checkTaskDescription() {\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n        if (taskDesc.length() &gt; 50) {\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;);\n            return false;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\n        return true;\n    }\n</code></pre>\n<p>I updated the method so it would &quot;work&quot; when there is a failed input, it will show an error message, then loop and show the dialog again. This is why you should validate the data from the dialog, and not open the dialog in the loop.</p>\n"}],"owner":{"account_id":25244290,"reputation":3,"user_id":19077749,"display_name":"Enzie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72532937,"answer_count":2,"score":0,"last_activity_date":1666780577,"creation_date":1654610457,"question_id":72532567,"body_markdown":"I&#39;m still learning java programming so forgive my lack of knowledge.\r\nIt probably is the most simplest thing ever, but I just can&#39;t for the life of me figure out a better way to have the *checkTaskDescription* method loop until the user input description is below the character limit. So far this is the only way I&#39;ve been able to do it but it clearly repeats the input dialog twice.\r\n\r\nThis is the part that executes it\r\n\r\n     do{\r\n         checkTaskDescription();\r\n        }\r\n           while (checkTaskDescription() == false);\r\n\r\n\r\nThis is the checkTaskDescription method that is being executed:\r\n\r\n\r\n    public boolean checkTaskDescription() {\r\n            taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n            if (taskDesc.length() &gt; 50) {\r\n                JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;, &quot;ERROR&quot;,3);\r\n                taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\r\n                return false;\r\n            }\r\n            JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\r\n            return true;\r\n        }\r\n\r\n","title":"Can&#39;t figure out a proper way to do a loop that loops until input is valid","body":"<p>I'm still learning java programming so forgive my lack of knowledge.\nIt probably is the most simplest thing ever, but I just can't for the life of me figure out a better way to have the <em>checkTaskDescription</em> method loop until the user input description is below the character limit. So far this is the only way I've been able to do it but it clearly repeats the input dialog twice.</p>\n<p>This is the part that executes it</p>\n<pre><code> do{\n     checkTaskDescription();\n    }\n       while (checkTaskDescription() == false);\n</code></pre>\n<p>This is the checkTaskDescription method that is being executed:</p>\n<pre><code>public boolean checkTaskDescription() {\n        taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n        if (taskDesc.length() &gt; 50) {\n            JOptionPane.showMessageDialog(null, &quot;Please enter a task description of less than 50 characters.&quot;, &quot;ERROR&quot;,3);\n            taskDesc = JOptionPane.showInputDialog(null, &quot;Please enter a short description of the task&quot;);\n            return false;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Task successfully captured.&quot;);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","rest","tomcat","netbeans","glassfish"],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780550,"creation_date":1654613893,"answer_id":72533468,"question_id":72533077,"body_markdown":"You have missing dependencies on your classpath\r\n\r\nSee the stack trace \r\n\r\n    javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n\r\n[This answer might be helpful][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo","title":"Error 500 while trying to load a xml file in java","body":"<p>You have missing dependencies on your classpath</p>\n<p>See the stack trace</p>\n<pre><code>javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">This answer might be helpful</a></p>\n"}],"owner":{"account_id":25497807,"reputation":1,"user_id":19291608,"display_name":"WMusquim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666780550,"creation_date":1654612440,"question_id":72533077,"body_markdown":"I have this uni project going on, and I&#39;m stuck on this error and can&#39;t find the solution.\r\nFirst there&#39;s the JSP file that loads a list \r\n\r\n    &lt;%@page import=&quot;Controllers.RestClient&quot;%&gt;\r\n    &lt;%@page import=&quot;java.util.List&quot;%&gt;\r\n    &lt;%@page import=&quot;Model.Stationss&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.xml.bind.JAXBException&quot;%&gt;\r\n    \r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n                &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\r\n                &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\r\n                    &lt;%\r\n                        List&lt;Stationss&gt; listS = RestClient.getStations();\r\n                        for (int i = 0; i &lt; listS.size(); i++) {\r\n                            out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\r\n                        }\r\n                    %&gt;\r\n                &lt;/select&gt;&lt;br&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nThere&#39;s also the ReST client access\r\n\r\n    package Controllers;\r\n    \r\n    import java.util.List;\r\n    import Model.Stationss;\r\n    import java.util.ArrayList;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.client.Invocation;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.GenericType;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.xml.bind.JAXBException;\r\n    \r\n    public class RestClient {\r\n    \r\n        public static List&lt;Stationss&gt; getStations() {\r\n            System.out.print(&quot;test&quot;);\r\n            String link = &quot;http://localhost:8080&quot;;\r\n            String path = &quot;/Service/webresources/pkg.service.stations&quot;;\r\n            Client client = ClientBuilder.newBuilder().build();\r\n            WebTarget target = client.target(link).path(path);\r\n            Invocation.Builder invocation = target.request(MediaType.APPLICATION_XML);\r\n            System.out.print(link);\r\n            System.out.print(path);\r\n            Response response = invocation.get(Response.class);\r\n            System.out.print(response);\r\n            List&lt;Stationss&gt; list = response.readEntity(new GenericType&lt;List&lt;Stationss&gt;&gt;() {\r\n            });\r\n            System.out.print(list);\r\n            return list;\r\n    \r\n        }\r\n    };\r\n\r\nand after I have the model\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n     */\r\n    package Model;\r\n    \r\n    import javax.persistence.Transient;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    @XmlRootElement\r\n    public class Stationss {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private int zone;\r\n        Gate gates = new Gate(zone);\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getZone() {\r\n            return zone;\r\n        }\r\n    \r\n        public void setZone(int zone) {\r\n            this.zone = zone;\r\n        }\r\n    \r\n        public Gate getGates() {\r\n            return gates;\r\n        }\r\n    \r\n        public void setGates(Gate gates) {\r\n            this.gates = gates;\r\n        }\r\n    \r\n        public Stationss() {\r\n        }\r\n    \r\n        public Stationss(int id, String name, int zone) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.zone = zone;\r\n        }\r\n    \r\n        @Transient\r\n        public CheckTicket enter(String xml) {\r\n            return gates.enter(xml);\r\n        }\r\n    \r\n        @Transient\r\n        public boolean exit(String xml) {\r\n            return gates.exit(xml);\r\n        }\r\n    }\r\n\r\nand at last, the huge error screen\r\n\r\n    HTTP Status 500  Internal Server Error\r\n    Type Exception Report\r\n    \r\n    Message An exception occurred processing [/newjsp.jsp] at line [23]\r\n    \r\n    Description The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n    \r\n    Exception\r\n    \r\n    org.apache.jasper.JasperException: An exception occurred processing [/newjsp.jsp] at line [23]\r\n    \r\n    20:             &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\r\n    21:             &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\r\n    22:                 &lt;%\r\n    23:                     List&lt;Stationss&gt; listS = RestClient.getStations();\r\n    24:                     for (int i = 0; i &lt; listS.size(); i++) {\r\n    25:                         out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\r\n    26:                     }\r\n    \r\n    \r\n    Stacktrace:\r\n    \torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    javax.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:359)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n     - with linked exception:\r\n    [java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n    \tjavax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\r\n    \tjavax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Root Cause\r\n    \r\n    java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\r\n    \tjavax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n    \tjavax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n    \tjavax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\r\n    \tjavax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n    \tjavax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\r\n    \torg.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\r\n    \torg.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\r\n    \torg.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \torg.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\r\n    \torg.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:316)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:298)\r\n    \torg.glassfish.jersey.internal.Errors.process(Errors.java:229)\r\n    \torg.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\r\n    \torg.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\r\n    \tControllers.RestClient.getStations(RestClient.java:36)\r\n    \torg.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n    \tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    Note The full stack trace of the root cause is available in the server logs.\r\n    \r\n    Apache Tomcat/10.0.16\r\n\r\nIt&#39;s my first time learning java and I&#39;m completely at loss on what I&#39;m doing wrong.\r\nI know the link the xml list is working fine.","title":"Error 500 while trying to load a xml file in java","body":"<p>I have this uni project going on, and I'm stuck on this error and can't find the solution.\nFirst there's the JSP file that loads a list</p>\n<pre><code>&lt;%@page import=&quot;Controllers.RestClient&quot;%&gt;\n&lt;%@page import=&quot;java.util.List&quot;%&gt;\n&lt;%@page import=&quot;Model.Stationss&quot;%&gt;\n&lt;%@page import=&quot;javax.xml.bind.JAXBException&quot;%&gt;\n\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n            &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\n            &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\n                &lt;%\n                    List&lt;Stationss&gt; listS = RestClient.getStations();\n                    for (int i = 0; i &lt; listS.size(); i++) {\n                        out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\n                    }\n                %&gt;\n            &lt;/select&gt;&lt;br&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>There's also the ReST client access</p>\n<pre><code>package Controllers;\n\nimport java.util.List;\nimport Model.Stationss;\nimport java.util.ArrayList;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Invocation;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.GenericType;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport javax.xml.bind.JAXBException;\n\npublic class RestClient {\n\n    public static List&lt;Stationss&gt; getStations() {\n        System.out.print(&quot;test&quot;);\n        String link = &quot;http://localhost:8080&quot;;\n        String path = &quot;/Service/webresources/pkg.service.stations&quot;;\n        Client client = ClientBuilder.newBuilder().build();\n        WebTarget target = client.target(link).path(path);\n        Invocation.Builder invocation = target.request(MediaType.APPLICATION_XML);\n        System.out.print(link);\n        System.out.print(path);\n        Response response = invocation.get(Response.class);\n        System.out.print(response);\n        List&lt;Stationss&gt; list = response.readEntity(new GenericType&lt;List&lt;Stationss&gt;&gt;() {\n        });\n        System.out.print(list);\n        return list;\n\n    }\n};\n</code></pre>\n<p>and after I have the model</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage Model;\n\nimport javax.persistence.Transient;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\npublic class Stationss {\n\n    private int id;\n    private String name;\n    private int zone;\n    Gate gates = new Gate(zone);\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getZone() {\n        return zone;\n    }\n\n    public void setZone(int zone) {\n        this.zone = zone;\n    }\n\n    public Gate getGates() {\n        return gates;\n    }\n\n    public void setGates(Gate gates) {\n        this.gates = gates;\n    }\n\n    public Stationss() {\n    }\n\n    public Stationss(int id, String name, int zone) {\n        this.id = id;\n        this.name = name;\n        this.zone = zone;\n    }\n\n    @Transient\n    public CheckTicket enter(String xml) {\n        return gates.enter(xml);\n    }\n\n    @Transient\n    public boolean exit(String xml) {\n        return gates.exit(xml);\n    }\n}\n</code></pre>\n<p>and at last, the huge error screen</p>\n<pre><code>HTTP Status 500  Internal Server Error\nType Exception Report\n\nMessage An exception occurred processing [/newjsp.jsp] at line [23]\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: An exception occurred processing [/newjsp.jsp] at line [23]\n\n20:             &lt;label for=&quot;Origin&quot;&gt;Embark Station:&lt;/label&gt;\n21:             &lt;select name =&quot;StartStation&quot; id=&quot;stations&quot;&gt;\n22:                 &lt;%\n23:                     List&lt;Stationss&gt; listS = RestClient.getStations();\n24:                     for (int i = 0; i &lt; listS.size(); i++) {\n25:                         out.print(&quot;&lt;option value = &quot; + i + &quot;&gt;&quot; + listS.get(i).getName() + &quot;&lt;/option&gt;&quot;);\n26:                     }\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njavax.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:359)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njavax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\n    javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nRoot Cause\n\njava.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1444)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1252)\n    javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:267)\n    javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getStoredJaxbContext(AbstractJaxbProvider.java:288)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getJAXBContext(AbstractJaxbProvider.java:273)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:189)\n    org.glassfish.jersey.jaxb.internal.AbstractJaxbProvider.getUnmarshaller(AbstractJaxbProvider.java:164)\n    org.glassfish.jersey.jaxb.internal.AbstractCollectionJaxbProvider.readFrom(AbstractCollectionJaxbProvider.java:289)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:257)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:236)\n    org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:156)\n    org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1091)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:834)\n    org.glassfish.jersey.client.ClientResponse.readEntity(ClientResponse.java:363)\n    org.glassfish.jersey.client.InboundJaxrsResponse$2.call(InboundJaxrsResponse.java:126)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:316)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:298)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:229)\n    org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:389)\n    org.glassfish.jersey.client.InboundJaxrsResponse.runInScopeIfPossible(InboundJaxrsResponse.java:264)\n    org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:123)\n    Controllers.RestClient.getStations(RestClient.java:36)\n    org.apache.jsp.newjsp_jsp._jspService(newjsp_jsp.java:143)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\n    jakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/10.0.16\n</code></pre>\n<p>It's my first time learning java and I'm completely at loss on what I'm doing wrong.\nI know the link the xml list is working fine.</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-mapper"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":1,"creation_date":1653942255,"post_id":72439235,"comment_id":127969478,"body_markdown":"Can you stop using the mapper and drop down to the document-oriented API?","body":"Can you stop using the mapper and drop down to the document-oriented API?"}],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780479,"creation_date":1654615493,"answer_id":72533838,"question_id":72439235,"body_markdown":"You have to\r\n\r\n - Create a new attribute with the new type, both in dynamo and in SectionRecord\r\n - Your code should be able to read and work with both\r\n - deploy it on production and wait for the old data to disappear (or create a custom migration logic)\r\n - Delete the old field, the logic can now rely only on the new field\r\n\r\nWelcome to dynamo where you don&#39;t have DB migrations :(\r\n\r\n","title":"How to ensure backwards compatibility when changing data type of attribute DynamoDB","body":"<p>You have to</p>\n<ul>\n<li>Create a new attribute with the new type, both in dynamo and in SectionRecord</li>\n<li>Your code should be able to read and work with both</li>\n<li>deploy it on production and wait for the old data to disappear (or create a custom migration logic)</li>\n<li>Delete the old field, the logic can now rely only on the new field</li>\n</ul>\n<p>Welcome to dynamo where you don't have DB migrations :(</p>\n"}],"owner":{"account_id":4047966,"reputation":183,"user_id":3328631,"accept_rate":40,"display_name":"naesmanak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666780479,"creation_date":1653939270,"question_id":72439235,"body_markdown":"I am attempting to change the data type of an attribute in one of my DDB tables, but because this data is read from and written to, altering the data type of the attribute causes subsequent read failures when reading old records, which look like this:\r\n```\r\ncould not unconvert attribute\r\nDynamoDBMappingException: expected M in value {N: 1000,}\r\n```\r\n\r\nMy question is about how I can change the data type of an attribute in my table, and architect the change such that I can still read the Double value that exists in previous records. Here is the class in question:\r\n\r\n    @DynamoDBTable(tableName = &quot;Sections&quot;)\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class SectionRecord {\r\n        @DynamoDBHashKey\r\n        private String id;\r\n        private Map&lt;String, Double&gt; sectionTarget; //previous definition: private Double sectionTarget;\r\n        \r\n        public void setSectionTarget(Double sectionTarget, String key) {\r\n           if (this.sectionTarget == null) {\r\n              this.sectionTarget = new HashMap&lt;Double, String&gt;();\r\n           }\r\n           this.sectionTarget.put(key, sectionTarget);\r\n        }\r\n        \r\n        public void getSectionTarget(String key) {\r\n           return this.sectionTarget.get(key);\r\n        }\r\n    \r\n    }\r\n\r\nAnd eventually, I try to read a record like this:\r\n```\r\nmapper.load(SectionRecord.class, id);\r\n```\r\n\r\nWhich is presumably where the issue comes from - I&#39;m trying to read a Double (which exists in the ddb currently) as a map (the changes I&#39;ve made to the attribute). \r\n\r\nI&#39;d love to hear some guidance on how best to architect such a change such that these backwards compatibility issues could be mitigated. \r\n","title":"How to ensure backwards compatibility when changing data type of attribute DynamoDB","body":"<p>I am attempting to change the data type of an attribute in one of my DDB tables, but because this data is read from and written to, altering the data type of the attribute causes subsequent read failures when reading old records, which look like this:</p>\n<pre><code>could not unconvert attribute\nDynamoDBMappingException: expected M in value {N: 1000,}\n</code></pre>\n<p>My question is about how I can change the data type of an attribute in my table, and architect the change such that I can still read the Double value that exists in previous records. Here is the class in question:</p>\n<pre><code>@DynamoDBTable(tableName = &quot;Sections&quot;)\n@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class SectionRecord {\n    @DynamoDBHashKey\n    private String id;\n    private Map&lt;String, Double&gt; sectionTarget; //previous definition: private Double sectionTarget;\n    \n    public void setSectionTarget(Double sectionTarget, String key) {\n       if (this.sectionTarget == null) {\n          this.sectionTarget = new HashMap&lt;Double, String&gt;();\n       }\n       this.sectionTarget.put(key, sectionTarget);\n    }\n    \n    public void getSectionTarget(String key) {\n       return this.sectionTarget.get(key);\n    }\n\n}\n</code></pre>\n<p>And eventually, I try to read a record like this:</p>\n<pre><code>mapper.load(SectionRecord.class, id);\n</code></pre>\n<p>Which is presumably where the issue comes from - I'm trying to read a Double (which exists in the ddb currently) as a map (the changes I've made to the attribute).</p>\n<p>I'd love to hear some guidance on how best to architect such a change such that these backwards compatibility issues could be mitigated.</p>\n"},{"tags":["java","oop","java-8","garbage-collection","reference-type"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1612691747,"post_id":66086544,"comment_id":116841021,"body_markdown":"99% of the time you use good old normal strong references and don&#39;t bother with the rest. They are really just used in some specialized use cases (such as memory-sensitive caches, which are also really hard to get right). Usually they are hidden inside dedicated libraries that use them.","body":"99% of the time you use good old normal strong references and don&#39;t bother with the rest. They are really just used in some specialized use cases (such as memory-sensitive caches, which are also really hard to get right). Usually they are hidden inside dedicated libraries that use them."},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1612692016,"post_id":66086544,"comment_id":116841078,"body_markdown":"Yeah. I understand. But what&#39;s the point of having 4 different reference types, when we end up using strong type references most of the time ?","body":"Yeah. I understand. But what&#39;s the point of having 4 different reference types, when we end up using strong type references most of the time ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1612692807,"post_id":66086544,"comment_id":116841257,"body_markdown":"Because, for the other 1%, we need other reference semantics.","body":"Because, for the other 1%, we need other reference semantics."},{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1612693102,"post_id":66086544,"comment_id":116841327,"body_markdown":"The reference jungle makes sense in an environment where resources are limited. For example Android Applications.","body":"The reference jungle makes sense in an environment where resources are limited. For example Android Applications."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1612723666,"post_id":66086544,"comment_id":116850079,"body_markdown":"Thats like asking why chefs have special knives, well you and me dont need those, but they absolutely do. Also notice that your understanding of those is incorrect, you might want to document yourself more","body":"Thats like asking why chefs have special knives, well you and me dont need those, but they absolutely do. Also notice that your understanding of those is incorrect, you might want to document yourself more"},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1612724079,"post_id":66086544,"comment_id":116850191,"body_markdown":"Thanks @Eugene. This contrast was kind of eye opener to me. Also, It would be really helpful if you could point out where I am going wrong, while trying to understanding the concept. This is new to me and I am unable to figure out.","body":"Thanks @Eugene. This contrast was kind of eye opener to me. Also, It would be really helpful if you could point out where I am going wrong, while trying to understanding the concept. This is new to me and I am unable to figure out."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612693441,"creation_date":1612692940,"answer_id":66086718,"question_id":66086544,"body_markdown":"The factual answer is pretty simple: because strong references alone aren&#39;t sufficient. You definitely need some concept of weak references in real world production code.\r\n\r\nOne could then argue that the other types are simply over engineering. The designers of the language assumed these to be helpful, but besides very obscure situations, they aren&#39;t. But note: the corresponding semantics can&#39;t be done with normal java code. So this is one of these cases &quot;let&#39;s add it to the language in case we ever need it&quot;.\r\n\r\nBut that 2nd paragraph could easily be seen as opinion, not fact.","title":"Why Java has 4 different types of references?","body":"<p>The factual answer is pretty simple: because strong references alone aren't sufficient. You definitely need some concept of weak references in real world production code.</p>\n<p>One could then argue that the other types are simply over engineering. The designers of the language assumed these to be helpful, but besides very obscure situations, they aren't. But note: the corresponding semantics can't be done with normal java code. So this is one of these cases &quot;let's add it to the language in case we ever need it&quot;.</p>\n<p>But that 2nd paragraph could easily be seen as opinion, not fact.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612751945,"creation_date":1612751379,"answer_id":66095205,"question_id":66086544,"body_markdown":"It&#39;s a complicated answer to provide, especially the &quot;real world&quot; portion. These special references are a (very) sharp tool to use, it should only be touched rarely and with a very good understanding. Your first misconception is that only `Phantom References` use a `queue` (called `ReferenceQueue`).  In fact, they _all_ use a `queue`. `PhantomReference` was a bit of a &quot;weirdo&quot; among these all, mainly because the specification around it has changed from `java-8` to `java-9`. You can read [this answer to get some details][1] (the reasons for keeping the instance alive in `java-8` is unknown to this time).\r\n\r\nThen the common misconception you get is that &quot;next run&quot;, for more details you can [take a look here][2]. The notion here of the &quot;second&quot;, or &quot;next&quot; is a bit tricky; but the point is that this is non-deterministic. \r\n\r\nProviding &quot;real world&quot; examples, comes a bit tricky too. That happens because you rarely use these references _directly_, they usually come pre-packaged in utilities. For one example, you can [take a look of how WeakHashMap][3] works (that directly uses the `WeakReference` and `ReferenceQueue` under the hood), or event [this answer][4]. `guava` with its `CacheBuilder` used to offer some functionality dealing with `SoftReferences`(but not anymore),  [caffeine still does though][5]. \r\n\r\n`PhantomReferences` are used internally for `Cleaner API` (since `java-9`). [here][6] is an example that shows its general usage. Without `PhantomReferences`, this would not really be possible (at least not that &quot;easy&quot;).\r\n\r\n---\r\n\r\nTo that extent, we use `WeakHashMap` in production (so do we use `Cleaner API`, but much less). If you really want to learn about them, you need to understand how a `garbage collector` works (like, _really_ works), then read their official documentation and try (and ask) multiple things. \r\n\r\n  [1]: https://stackoverflow.com/questions/56684150/why-since-java-9-phantomreference-java-doc-states-that-it-is-dedicated-to-the-po\r\n  [2]: https://stackoverflow.com/questions/53791900/how-finalizable-objects-takes-at-least-2-garbage-collection-cycles-before-it-can/60628663#60628663\r\n  [3]: https://stackoverflow.com/questions/52789834/is-weakhashmap-ever-growing-or-does-it-clear-out-the-garbage-keys/57876763#57876763\r\n  [4]: https://stackoverflow.com/a/52663606/1059372\r\n  [5]: https://github.com/ben-manes/caffeine/wiki/Eviction#reference-based\r\n  [6]: https://stackoverflow.com/questions/65766061/cleaning-up-weak-reference-caches-with-finalizers/65799297#65799297","title":"Why Java has 4 different types of references?","body":"<p>It's a complicated answer to provide, especially the &quot;real world&quot; portion. These special references are a (very) sharp tool to use, it should only be touched rarely and with a very good understanding. Your first misconception is that only <code>Phantom References</code> use a <code>queue</code> (called <code>ReferenceQueue</code>).  In fact, they <em>all</em> use a <code>queue</code>. <code>PhantomReference</code> was a bit of a &quot;weirdo&quot; among these all, mainly because the specification around it has changed from <code>java-8</code> to <code>java-9</code>. You can read <a href=\"https://stackoverflow.com/questions/56684150/why-since-java-9-phantomreference-java-doc-states-that-it-is-dedicated-to-the-po\">this answer to get some details</a> (the reasons for keeping the instance alive in <code>java-8</code> is unknown to this time).</p>\n<p>Then the common misconception you get is that &quot;next run&quot;, for more details you can <a href=\"https://stackoverflow.com/questions/53791900/how-finalizable-objects-takes-at-least-2-garbage-collection-cycles-before-it-can/60628663#60628663\">take a look here</a>. The notion here of the &quot;second&quot;, or &quot;next&quot; is a bit tricky; but the point is that this is non-deterministic.</p>\n<p>Providing &quot;real world&quot; examples, comes a bit tricky too. That happens because you rarely use these references <em>directly</em>, they usually come pre-packaged in utilities. For one example, you can <a href=\"https://stackoverflow.com/questions/52789834/is-weakhashmap-ever-growing-or-does-it-clear-out-the-garbage-keys/57876763#57876763\">take a look of how WeakHashMap</a> works (that directly uses the <code>WeakReference</code> and <code>ReferenceQueue</code> under the hood), or event <a href=\"https://stackoverflow.com/a/52663606/1059372\">this answer</a>. <code>guava</code> with its <code>CacheBuilder</code> used to offer some functionality dealing with <code>SoftReferences</code>(but not anymore),  <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#reference-based\" rel=\"nofollow noreferrer\">caffeine still does though</a>.</p>\n<p><code>PhantomReferences</code> are used internally for <code>Cleaner API</code> (since <code>java-9</code>). <a href=\"https://stackoverflow.com/questions/65766061/cleaning-up-weak-reference-caches-with-finalizers/65799297#65799297\">here</a> is an example that shows its general usage. Without <code>PhantomReferences</code>, this would not really be possible (at least not that &quot;easy&quot;).</p>\n<hr />\n<p>To that extent, we use <code>WeakHashMap</code> in production (so do we use <code>Cleaner API</code>, but much less). If you really want to learn about them, you need to understand how a <code>garbage collector</code> works (like, <em>really</em> works), then read their official documentation and try (and ask) multiple things.</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780440,"creation_date":1656315582,"answer_id":72768520,"question_id":66086544,"body_markdown":"There isn&#39;t much to add to the existing answers, other than a brief summary\r\n\r\n - **Weak references** are used (mostly internally) as a temporary cache that gets wiped on the next GC\r\n - **Soft references** are very similar to the weak ones, with the only difference being that the GC will collect them only when the memory is low. Soft references will never cause OOE\r\n - **Phantom references** are the &quot;new&quot; finalization mechanism and with them, you can execute some logic when the object is collected. Very similar to the (now deprecated) finalize method. PhantomReference.get always gives you null and you can&#39;t find the object with them\r\n\r\nI tried to gather more information in this [article][1], there are also some real-life example of code\r\n\r\n\r\n  [1]: https://medium.com/@b.stoilov/different-types-of-references-in-java-and-how-to-use-them-d074009fe596","title":"Why Java has 4 different types of references?","body":"<p>There isn't much to add to the existing answers, other than a brief summary</p>\n<ul>\n<li><strong>Weak references</strong> are used (mostly internally) as a temporary cache that gets wiped on the next GC</li>\n<li><strong>Soft references</strong> are very similar to the weak ones, with the only difference being that the GC will collect them only when the memory is low. Soft references will never cause OOE</li>\n<li><strong>Phantom references</strong> are the &quot;new&quot; finalization mechanism and with them, you can execute some logic when the object is collected. Very similar to the (now deprecated) finalize method. PhantomReference.get always gives you null and you can't find the object with them</li>\n</ul>\n<p>I tried to gather more information in this <a href=\"https://medium.com/@b.stoilov/different-types-of-references-in-java-and-how-to-use-them-d074009fe596\" rel=\"nofollow noreferrer\">article</a>, there are also some real-life example of code</p>\n"}],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":66095205,"answer_count":3,"score":5,"last_activity_date":1666780440,"creation_date":1612691575,"question_id":66086544,"body_markdown":"Until today, I wasn&#39;t aware of the fact that Java has four main types of references.\r\n\r\n1. *Strong Reference* : Default reference type that `Java` uses.\r\n2. *Weak Reference* : If an object has a weak reference then `GC` reclaims this objects memory in next run even though there is enough memory. \r\n3. *Soft Reference* : If an object has a soft reference, then `GC` reclaims this objects memory only when it needs some memory badly. \r\n4. *Phantom Reference* : If an object has a phantom reference, then it&#39;s eligible for garbage collection. But, before GC, JVM puts the objects which are supposed to be garbage collected in a queue called `reference queue`. \r\n\r\nI understood the basic concept and I wrote a small program to understand how each of the reference types work. \r\n\r\n    import java.lang.ref.PhantomReference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.lang.ref.SoftReference;\r\n    import java.lang.ref.WeakReference;\r\n    \r\n    class User \r\n    { \r\n    \tpublic User info() \r\n    \t{ \r\n    \t\tSystem.out.println(&quot;Info method invoked from User class&quot;);\r\n    \t\treturn null;\r\n    \t}   \r\n    } \r\n    \r\n    public class ReferencesExample \r\n    { \r\n    \tpublic static void main(String[] args) \r\n    \t{ \r\n    \t\t//Strong Reference\r\n    \t\tUser userRefObj = new User(); \r\n    \t\tSystem.out.println(&quot;1 :&quot; + userRefObj.info());\r\n    \r\n    \t\t// Weak Reference\r\n    \t\tWeakReference&lt;User&gt; weakref = new WeakReference&lt;User&gt;(userRefObj.info());  \r\n    \t\tSystem.out.println(&quot;2 : &quot; + weakref);\r\n    \r\n    \t\t// Soft Reference    \r\n    \t\tSoftReference&lt;User&gt; softref = new SoftReference&lt;User&gt;(userRefObj.info());  \r\n    \t\tSystem.out.println(&quot;3 : &quot; + softref);\r\n    \r\n    \t\t// Phantom Reference \r\n            ReferenceQueue&lt;User&gt; refQueueObj = new ReferenceQueue&lt;User&gt;(); \r\n            PhantomReference&lt;User&gt; phantomRef = new PhantomReference&lt;User&gt;(userRefObj.info(),refQueueObj); \r\n            System.out.println(&quot;4 : &quot; + phantomRef);     \r\n           \r\n    \t} \r\n    }\r\n\r\nOutput :\r\n\r\n    1 :null\r\n    Info method invoked from User class\r\n    Info method invoked from User class\r\n    2 : java.lang.ref.WeakReference@15db9742\r\n    Info method invoked from User class\r\n    3 : java.lang.ref.SoftReference@6d06d69c\r\n    Info method invoked from User class\r\n    4 : java.lang.ref.PhantomReference@7852e922\r\n\r\n**Doubt** : How do we decide which reference type to use and where exactly to use in a real world scenario ?\r\n \r\n\r\n","title":"Why Java has 4 different types of references?","body":"<p>Until today, I wasn't aware of the fact that Java has four main types of references.</p>\n<ol>\n<li><em>Strong Reference</em> : Default reference type that <code>Java</code> uses.</li>\n<li><em>Weak Reference</em> : If an object has a weak reference then <code>GC</code> reclaims this objects memory in next run even though there is enough memory.</li>\n<li><em>Soft Reference</em> : If an object has a soft reference, then <code>GC</code> reclaims this objects memory only when it needs some memory badly.</li>\n<li><em>Phantom Reference</em> : If an object has a phantom reference, then it's eligible for garbage collection. But, before GC, JVM puts the objects which are supposed to be garbage collected in a queue called <code>reference queue</code>.</li>\n</ol>\n<p>I understood the basic concept and I wrote a small program to understand how each of the reference types work.</p>\n<pre><code>import java.lang.ref.PhantomReference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.SoftReference;\nimport java.lang.ref.WeakReference;\n\nclass User \n{ \n    public User info() \n    { \n        System.out.println(&quot;Info method invoked from User class&quot;);\n        return null;\n    }   \n} \n\npublic class ReferencesExample \n{ \n    public static void main(String[] args) \n    { \n        //Strong Reference\n        User userRefObj = new User(); \n        System.out.println(&quot;1 :&quot; + userRefObj.info());\n\n        // Weak Reference\n        WeakReference&lt;User&gt; weakref = new WeakReference&lt;User&gt;(userRefObj.info());  \n        System.out.println(&quot;2 : &quot; + weakref);\n\n        // Soft Reference    \n        SoftReference&lt;User&gt; softref = new SoftReference&lt;User&gt;(userRefObj.info());  \n        System.out.println(&quot;3 : &quot; + softref);\n\n        // Phantom Reference \n        ReferenceQueue&lt;User&gt; refQueueObj = new ReferenceQueue&lt;User&gt;(); \n        PhantomReference&lt;User&gt; phantomRef = new PhantomReference&lt;User&gt;(userRefObj.info(),refQueueObj); \n        System.out.println(&quot;4 : &quot; + phantomRef);     \n       \n    } \n}\n</code></pre>\n<p>Output :</p>\n<pre><code>1 :null\nInfo method invoked from User class\nInfo method invoked from User class\n2 : java.lang.ref.WeakReference@15db9742\nInfo method invoked from User class\n3 : java.lang.ref.SoftReference@6d06d69c\nInfo method invoked from User class\n4 : java.lang.ref.PhantomReference@7852e922\n</code></pre>\n<p><strong>Doubt</strong> : How do we decide which reference type to use and where exactly to use in a real world scenario ?</p>\n"},{"tags":["java","string","oop","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1275670054,"creation_date":1275622255,"answer_id":2971323,"question_id":2971315,"body_markdown":"Do you mean, for concatenation?\r\n\r\n\r\nReal world example:  *You want to create a new string out of many others*. \r\n\r\nFor instance to send a message:\r\n\r\nString\r\n\r\n    String s = &quot;Dear &quot; + user.name + &quot;&lt;br&gt;&quot; + \r\n    &quot; I saw your profile and got interested in you.&lt;br&gt;&quot; +\r\n    &quot; I&#39;m  &quot; + user.age + &quot;yrs. old too&quot;\r\n    \r\nStringBuilder\r\n\r\n    String s = new StringBuilder().append.(&quot;Dear &quot;).append( user.name ).append( &quot;&lt;br&gt;&quot; ) \r\n              .append(&quot; I saw your profile and got interested in you.&lt;br&gt;&quot;) \r\n              .append(&quot; I&#39;m  &quot; ).append( user.age ).append( &quot;yrs. old too&quot;)\r\n              .toString()\r\n\r\n Or \r\n    \r\n\r\n    String s = new StringBuilder(100).appe..... etc. ...\r\n    // The difference is a size of 100 will be allocated upfront as  fuzzy lollipop points out.\r\n    \r\nStringBuffer ( the syntax is exactly as with StringBuilder, the effects differ )  \r\n\r\n\r\nAbout\r\n\r\n`StringBuffer` vs. `StringBuilder` \r\n\r\n\r\nThe former is synchonized and later is not. \r\n\r\nSo, if you invoke it several times in a single thread ( which is 90% of the cases ),  `StringBuilder` will run **much** faster because it won&#39;t stop to see if it owns the thread lock. \r\n\r\nSo, it is recommendable to use `StringBuilder` ( unless of course you have more than one thread accessing to it at the same time, which is rare  ) \r\n\r\n\r\n\r\n`String` concatenation ( *using the + operator* )  may be optimized by the compiler to use `StringBuilder` underneath, so, it not longer something to worry about, in the elder days of Java, this was something that everyone says should be avoided at all cost, because every concatenation created a new String object. Modern compilers don&#39;t do this anymore, but still it is a good practice to use `StringBuilder` instead just in case you use an &quot;old&quot; compiler.\r\n\r\n**edit**\r\n\r\nJust for who is curious, this is what the compiler does for this class:\r\n\r\n\r\n    class StringConcatenation {\r\n        int x;\r\n        String literal = &quot;Value is&quot; + x;\r\n        String builder = new StringBuilder().append(&quot;Value is&quot;).append(x).toString();\r\n    }\r\n\r\njavap -c StringConcatenation\r\n\r\n    Compiled from &quot;StringConcatenation.java&quot;\r\n    class StringConcatenation extends java.lang.Object{\r\n    int x;\r\n\r\n    java.lang.String literal;\r\n\r\n    java.lang.String builder;\r\n\r\n    StringConcatenation();\r\n      Code:\r\n       0:\taload_0\r\n       1:\tinvokespecial\t#1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:\taload_0\r\n       5:\tnew\t#2; //class java/lang/StringBuilder\r\n       8:\tdup\r\n       9:\tinvokespecial\t#3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       12:\tldc\t#4; //String Value is\r\n       14:\tinvokevirtual\t#5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       17:\taload_0\r\n       18:\tgetfield\t#6; //Field x:I\r\n       21:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n       24:\tinvokevirtual\t#8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       27:\tputfield\t#9; //Field literal:Ljava/lang/String;\r\n       30:\taload_0\r\n       31:\tnew\t#2; //class java/lang/StringBuilder\r\n       34:\tdup\r\n       35:\tinvokespecial\t#3; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       38:\tldc\t#4; //String Value is\r\n       40:\tinvokevirtual\t#5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       43:\taload_0\r\n       44:\tgetfield\t#6; //Field x:I\r\n       47:\tinvokevirtual\t#7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n       50:\tinvokevirtual\t#8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n       53:\tputfield\t#10; //Field builder:Ljava/lang/String;\r\n       56:\treturn\r\n\r\n    }\r\n\r\nLines numbered 5 - 27 are for the String named &quot;literal&quot;\r\n\r\nLines numbered 31-53 are for the String named &quot;builder&quot;\r\n\r\nTher&#39;s no difference, exactly the **same** code is executed for both strings.\r\n","title":"String, StringBuffer, and StringBuilder","body":"<p>Do you mean, for concatenation?</p>\n\n<p>Real world example:  <em>You want to create a new string out of many others</em>. </p>\n\n<p>For instance to send a message:</p>\n\n<p>String</p>\n\n<pre><code>String s = \"Dear \" + user.name + \"&lt;br&gt;\" + \n\" I saw your profile and got interested in you.&lt;br&gt;\" +\n\" I'm  \" + user.age + \"yrs. old too\"\n</code></pre>\n\n<p>StringBuilder</p>\n\n<pre><code>String s = new StringBuilder().append.(\"Dear \").append( user.name ).append( \"&lt;br&gt;\" ) \n          .append(\" I saw your profile and got interested in you.&lt;br&gt;\") \n          .append(\" I'm  \" ).append( user.age ).append( \"yrs. old too\")\n          .toString()\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>String s = new StringBuilder(100).appe..... etc. ...\n// The difference is a size of 100 will be allocated upfront as  fuzzy lollipop points out.\n</code></pre>\n\n<p>StringBuffer ( the syntax is exactly as with StringBuilder, the effects differ )  </p>\n\n<p>About</p>\n\n<p><code>StringBuffer</code> vs. <code>StringBuilder</code> </p>\n\n<p>The former is synchonized and later is not. </p>\n\n<p>So, if you invoke it several times in a single thread ( which is 90% of the cases ),  <code>StringBuilder</code> will run <strong>much</strong> faster because it won't stop to see if it owns the thread lock. </p>\n\n<p>So, it is recommendable to use <code>StringBuilder</code> ( unless of course you have more than one thread accessing to it at the same time, which is rare  ) </p>\n\n<p><code>String</code> concatenation ( <em>using the + operator</em> )  may be optimized by the compiler to use <code>StringBuilder</code> underneath, so, it not longer something to worry about, in the elder days of Java, this was something that everyone says should be avoided at all cost, because every concatenation created a new String object. Modern compilers don't do this anymore, but still it is a good practice to use <code>StringBuilder</code> instead just in case you use an \"old\" compiler.</p>\n\n<p><strong>edit</strong></p>\n\n<p>Just for who is curious, this is what the compiler does for this class:</p>\n\n<pre><code>class StringConcatenation {\n    int x;\n    String literal = \"Value is\" + x;\n    String builder = new StringBuilder().append(\"Value is\").append(x).toString();\n}\n</code></pre>\n\n<p>javap -c StringConcatenation</p>\n\n<pre><code>Compiled from \"StringConcatenation.java\"\nclass StringConcatenation extends java.lang.Object{\nint x;\n\njava.lang.String literal;\n\njava.lang.String builder;\n\nStringConcatenation();\n  Code:\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   aload_0\n   5:   new #2; //class java/lang/StringBuilder\n   8:   dup\n   9:   invokespecial   #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   12:  ldc #4; //String Value is\n   14:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   17:  aload_0\n   18:  getfield    #6; //Field x:I\n   21:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n   24:  invokevirtual   #8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   27:  putfield    #9; //Field literal:Ljava/lang/String;\n   30:  aload_0\n   31:  new #2; //class java/lang/StringBuilder\n   34:  dup\n   35:  invokespecial   #3; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   38:  ldc #4; //String Value is\n   40:  invokevirtual   #5; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   43:  aload_0\n   44:  getfield    #6; //Field x:I\n   47:  invokevirtual   #7; //Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n   50:  invokevirtual   #8; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   53:  putfield    #10; //Field builder:Ljava/lang/String;\n   56:  return\n\n}\n</code></pre>\n\n<p>Lines numbered 5 - 27 are for the String named \"literal\"</p>\n\n<p>Lines numbered 31-53 are for the String named \"builder\"</p>\n\n<p>Ther's no difference, exactly the <strong>same</strong> code is executed for both strings.</p>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275622362,"creation_date":1275622362,"answer_id":2971331,"question_id":2971315,"body_markdown":"Also, `StringBuffer` is thread-safe, which `StringBuilder` is not.\r\n\r\nSo in a real-time situation when different threads are accessing it, `StringBuilder` could have an undeterministic result.","title":"String, StringBuffer, and StringBuilder","body":"<p>Also, <code>StringBuffer</code> is thread-safe, which <code>StringBuilder</code> is not.</p>\n\n<p>So in a real-time situation when different threads are accessing it, <code>StringBuilder</code> could have an undeterministic result.</p>\n"},{"tags":[],"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1312381986,"creation_date":1275622384,"answer_id":2971332,"question_id":2971315,"body_markdown":"  * You use [`String`][1] when an immutable structure is appropriate; obtaining a new character sequence from a `String` may carry an unacceptable performance penalty, either in CPU time or memory (obtaining substrings is CPU efficient because the data is not copied, but this means a potentially much larger amount of data may remain allocated).\r\n  * You use [`StringBuilder`][2] when you need to create a mutable character sequence, usually to concatenate several character sequences together.\r\n  * You use [`StringBuffer`][3] in the same circumstances you would use `StringBuilder`, but when changes to the underlying string must be synchronized (because several threads are reading/modifyind the string buffer).\r\n\r\nSee an example [here][4].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html\r\n  [4]: http://java.sun.com/docs/books/tutorial/java/data/buffers.html","title":"String, StringBuffer, and StringBuilder","body":"<ul>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a> when an immutable structure is appropriate; obtaining a new character sequence from a <code>String</code> may carry an unacceptable performance penalty, either in CPU time or memory (obtaining substrings is CPU efficient because the data is not copied, but this means a potentially much larger amount of data may remain allocated).</li>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a> when you need to create a mutable character sequence, usually to concatenate several character sequences together.</li>\n<li>You use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a> in the same circumstances you would use <code>StringBuilder</code>, but when changes to the underlying string must be synchronized (because several threads are reading/modifyind the string buffer).</li>\n</ul>\n\n<p>See an example <a href=\"http://java.sun.com/docs/books/tutorial/java/data/buffers.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"down_vote_count":0,"up_vote_count":397,"is_accepted":true,"score":397,"last_activity_date":1363728384,"creation_date":1275622513,"answer_id":2971343,"question_id":2971315,"body_markdown":"**Mutability Difference:**\r\n\r\n`String` is **immutable**, if you try to alter their values, another object gets created, whereas `StringBuffer` and `StringBuilder` are **mutable** so they can change their values.\r\n\r\n**Thread-Safety Difference:**\r\n\r\nThe difference between `StringBuffer` and `StringBuilder` is that `StringBuffer` is thread-safe. So when the application needs to be run only in a single thread then it is better to use `StringBuilder`. `StringBuilder` is more efficient than `StringBuffer`.\r\n\r\n**Situations:**\r\n\r\n - If your string is not going to change use a String class because a `String` object is immutable.\r\n - If your string can change (example: lots of logic and operations in the construction of the string) and will only be accessed from a single thread, using a `StringBuilder` is good enough.\r\n - If your string can change, and will be accessed from multiple threads, use a `StringBuffer` because `StringBuffer` is synchronous so you have thread-safety.\r\n","title":"String, StringBuffer, and StringBuilder","body":"<p><strong>Mutability Difference:</strong></p>\n\n<p><code>String</code> is <strong>immutable</strong>, if you try to alter their values, another object gets created, whereas <code>StringBuffer</code> and <code>StringBuilder</code> are <strong>mutable</strong> so they can change their values.</p>\n\n<p><strong>Thread-Safety Difference:</strong></p>\n\n<p>The difference between <code>StringBuffer</code> and <code>StringBuilder</code> is that <code>StringBuffer</code> is thread-safe. So when the application needs to be run only in a single thread then it is better to use <code>StringBuilder</code>. <code>StringBuilder</code> is more efficient than <code>StringBuffer</code>.</p>\n\n<p><strong>Situations:</strong></p>\n\n<ul>\n<li>If your string is not going to change use a String class because a <code>String</code> object is immutable.</li>\n<li>If your string can change (example: lots of logic and operations in the construction of the string) and will only be accessed from a single thread, using a <code>StringBuilder</code> is good enough.</li>\n<li>If your string can change, and will be accessed from multiple threads, use a <code>StringBuffer</code> because <code>StringBuffer</code> is synchronous so you have thread-safety.</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1474130945,"creation_date":1275622677,"answer_id":2971355,"question_id":2971315,"body_markdown":"**The Basics:**\r\n\r\n`String` is an immutable class, it can&#39;t be changed.\r\n[`StringBuilder`][1] is a mutable class that can be appended to, characters replaced or removed and ultimately converted to a `String`\r\n`StringBuffer` is the original synchronized version of `StringBuilder`\r\n\r\nYou should prefer `StringBuilder` in all cases where you have only a single thread accessing your object.\r\n\r\n**The Details:**\r\n\r\nAlso note that `StringBuilder/Buffers` aren&#39;t magic, they just use an Array as a backing object and that Array has to be re-allocated when ever it gets full. Be sure and create your `StringBuilder/Buffer` objects large enough originally where they don&#39;t have to be constantly re-sized every time `.append()` gets called.\r\n\r\nThe re-sizing can get very degenerate. It basically re-sizes the backing Array to 2 times its current size every time it needs to be expanded. This can result in large amounts of RAM getting allocated and not used when `StringBuilder/Buffer` classes start to grow large.\r\n\r\nIn Java `String x = &quot;A&quot; + &quot;B&quot;;` uses a `StringBuilder` behind the scenes. So for simple cases there is no benefit of declaring your own. But if you are building `String` objects that are large, say less than 4k, then declaring `StringBuilder sb = StringBuilder(4096);` is much more efficient than concatenation or using the [default constructor][2] which is only 16 characters. If your `String` is going to be less than 10k then initialize it with the constructor to 10k to be safe. But if it is initialize to 10k then you write 1 character more than 10k, it will get re-allocated and copied to a 20k array. So initializing high is better than to low.\r\n\r\nIn the auto re-size case, at the 17th character the backing Array gets re-allocated and copied to 32 characters, at the 33th character this happens again and you get to re-allocated and copy the Array into 64 characters. You can see how this degenerates to __lots__ of re-allocations and copies which is what you really are trying to avoid using `StringBuilder/Buffer` in the first place.\r\n\r\nThis is from the JDK 6 Source code for AbstractStringBuilder\r\n\r\n       void expandCapacity(int minimumCapacity) {\r\n    \tint newCapacity = (value.length + 1) * 2;\r\n            if (newCapacity &lt; 0) {\r\n                newCapacity = Integer.MAX_VALUE;\r\n            } else if (minimumCapacity &gt; newCapacity) {\r\n    \t    newCapacity = minimumCapacity;\r\n    \t}\r\n            value = Arrays.copyOf(value, newCapacity);\r\n        }\r\n\r\nA best practice is to initialize the `StringBuilder/Buffer` a little bit larger than you think you are going to need if you don&#39;t know right off hand how big the `String` will be but you can guess. One allocation of slightly more memory than you need is going to be better than lots of re-allocations and copies.\r\n\r\nAlso beware of initializing a `StringBuilder/Buffer` with a `String` as that will only allocated the size of the String + 16 characters, which in most cases will just start the degenerate re-allocation and copy cycle that you are trying to avoid. The following is straight from the Java 6 source code.\r\n\r\n    public StringBuilder(String str) {\r\n    \tsuper(str.length() + 16);\r\n    \tappend(str);\r\n        }\r\n\r\nIf you by chance do end up with an instance of `StringBuilder/Buffer` that you didn&#39;t create and can&#39;t control the constructor that is called, there is a way to avoid the degenerate re-allocate and copy behavior. Call [`.ensureCapacity()`][3] with the size you want to ensure your resulting `String` will fit into.\r\n\r\n**The Alternatives:**\r\n\r\nJust as a note, if you are doing really __heavy__ `String` building and manipulation, there is a much more performance oriented alternative called [Ropes][4].\r\n\r\nAnother alternative, is to create a `StringList` implemenation by sub-classing `ArrayList&lt;String&gt;`, and adding counters to track the number of characters on every `.append()` and other mutation operations of the list, then override `.toString()` to create a `StringBuilder` of the exact size you need and loop through the list and build the output, you can even make that `StringBuilder` an instance variable and &#39;cache&#39; the results of `.toString()` and only have to re-generate it when something changes.\r\n\r\nAlso don&#39;t  forget about `String.format()` when building fixed formatted output, which can be optimized by the compiler as they make it better.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#StringBuilder--\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#ensureCapacity-int-\r\n  [4]: http://ahmadsoft.org/ropes/","title":"String, StringBuffer, and StringBuilder","body":"<p><strong>The Basics:</strong></p>\n\n<p><code>String</code> is an immutable class, it can't be changed.\n<a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a> is a mutable class that can be appended to, characters replaced or removed and ultimately converted to a <code>String</code>\n<code>StringBuffer</code> is the original synchronized version of <code>StringBuilder</code></p>\n\n<p>You should prefer <code>StringBuilder</code> in all cases where you have only a single thread accessing your object.</p>\n\n<p><strong>The Details:</strong></p>\n\n<p>Also note that <code>StringBuilder/Buffers</code> aren't magic, they just use an Array as a backing object and that Array has to be re-allocated when ever it gets full. Be sure and create your <code>StringBuilder/Buffer</code> objects large enough originally where they don't have to be constantly re-sized every time <code>.append()</code> gets called.</p>\n\n<p>The re-sizing can get very degenerate. It basically re-sizes the backing Array to 2 times its current size every time it needs to be expanded. This can result in large amounts of RAM getting allocated and not used when <code>StringBuilder/Buffer</code> classes start to grow large.</p>\n\n<p>In Java <code>String x = \"A\" + \"B\";</code> uses a <code>StringBuilder</code> behind the scenes. So for simple cases there is no benefit of declaring your own. But if you are building <code>String</code> objects that are large, say less than 4k, then declaring <code>StringBuilder sb = StringBuilder(4096);</code> is much more efficient than concatenation or using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#StringBuilder--\" rel=\"noreferrer\">default constructor</a> which is only 16 characters. If your <code>String</code> is going to be less than 10k then initialize it with the constructor to 10k to be safe. But if it is initialize to 10k then you write 1 character more than 10k, it will get re-allocated and copied to a 20k array. So initializing high is better than to low.</p>\n\n<p>In the auto re-size case, at the 17th character the backing Array gets re-allocated and copied to 32 characters, at the 33th character this happens again and you get to re-allocated and copy the Array into 64 characters. You can see how this degenerates to <strong>lots</strong> of re-allocations and copies which is what you really are trying to avoid using <code>StringBuilder/Buffer</code> in the first place.</p>\n\n<p>This is from the JDK 6 Source code for AbstractStringBuilder</p>\n\n<pre><code>   void expandCapacity(int minimumCapacity) {\n    int newCapacity = (value.length + 1) * 2;\n        if (newCapacity &lt; 0) {\n            newCapacity = Integer.MAX_VALUE;\n        } else if (minimumCapacity &gt; newCapacity) {\n        newCapacity = minimumCapacity;\n    }\n        value = Arrays.copyOf(value, newCapacity);\n    }\n</code></pre>\n\n<p>A best practice is to initialize the <code>StringBuilder/Buffer</code> a little bit larger than you think you are going to need if you don't know right off hand how big the <code>String</code> will be but you can guess. One allocation of slightly more memory than you need is going to be better than lots of re-allocations and copies.</p>\n\n<p>Also beware of initializing a <code>StringBuilder/Buffer</code> with a <code>String</code> as that will only allocated the size of the String + 16 characters, which in most cases will just start the degenerate re-allocation and copy cycle that you are trying to avoid. The following is straight from the Java 6 source code.</p>\n\n<pre><code>public StringBuilder(String str) {\n    super(str.length() + 16);\n    append(str);\n    }\n</code></pre>\n\n<p>If you by chance do end up with an instance of <code>StringBuilder/Buffer</code> that you didn't create and can't control the constructor that is called, there is a way to avoid the degenerate re-allocate and copy behavior. Call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#ensureCapacity-int-\" rel=\"noreferrer\"><code>.ensureCapacity()</code></a> with the size you want to ensure your resulting <code>String</code> will fit into.</p>\n\n<p><strong>The Alternatives:</strong></p>\n\n<p>Just as a note, if you are doing really <strong>heavy</strong> <code>String</code> building and manipulation, there is a much more performance oriented alternative called <a href=\"http://ahmadsoft.org/ropes/\" rel=\"noreferrer\">Ropes</a>.</p>\n\n<p>Another alternative, is to create a <code>StringList</code> implemenation by sub-classing <code>ArrayList&lt;String&gt;</code>, and adding counters to track the number of characters on every <code>.append()</code> and other mutation operations of the list, then override <code>.toString()</code> to create a <code>StringBuilder</code> of the exact size you need and loop through the list and build the output, you can even make that <code>StringBuilder</code> an instance variable and 'cache' the results of <code>.toString()</code> and only have to re-generate it when something changes.</p>\n\n<p>Also don't  forget about <code>String.format()</code> when building fixed formatted output, which can be optimized by the compiler as they make it better.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275639097,"creation_date":1275639097,"answer_id":2972441,"question_id":2971315,"body_markdown":"Note that if you are using Java 5 or newer, you should use `StringBuilder` instead of `StringBuffer`. From the API documentation:\r\n\r\n&gt; As of release JDK 5, this class has been supplemented with an equivalent class designed for use by a single thread, `StringBuilder`. The `StringBuilder` class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.\r\n\r\nIn practice, you will almost never use this from multiple threads at the same time, so the synchronization that `StringBuffer` does is almost always unnecessary overhead.","title":"String, StringBuffer, and StringBuilder","body":"<p>Note that if you are using Java 5 or newer, you should use <code>StringBuilder</code> instead of <code>StringBuffer</code>. From the API documentation:</p>\n\n<blockquote>\n  <p>As of release JDK 5, this class has been supplemented with an equivalent class designed for use by a single thread, <code>StringBuilder</code>. The <code>StringBuilder</code> class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.</p>\n</blockquote>\n\n<p>In practice, you will almost never use this from multiple threads at the same time, so the synchronization that <code>StringBuffer</code> does is almost always unnecessary overhead.</p>\n"},{"tags":[],"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1275817597,"creation_date":1275817597,"answer_id":2983748,"question_id":2971315,"body_markdown":"Personally, I don&#39;t think there is any real world use for `StringBuffer`. When would I ever want to communicate between multiple threads by manipulating a character sequence? That doesn&#39;t sound useful at all, but maybe I have yet to see the light :)","title":"String, StringBuffer, and StringBuilder","body":"<p>Personally, I don't think there is any real world use for <code>StringBuffer</code>. When would I ever want to communicate between multiple threads by manipulating a character sequence? That doesn't sound useful at all, but maybe I have yet to see the light :)</p>\n"},{"tags":[],"owner":{"account_id":2522151,"reputation":153,"user_id":2192303,"display_name":"rajat ghai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405111526,"creation_date":1405111526,"answer_id":24706276,"question_id":2971315,"body_markdown":"In java, **String** is immutable. Being immutable we mean that once a String is created, we can not change its value. \r\n**StringBuffer** is mutable. Once a StringBuffer object is created, we just append the content to the value of object instead of creating a new object.\r\n**StringBuilder** is similar to StringBuffer but it is not thread-safe. Methods of StingBuilder are not synchronized but in comparison to other Strings, the Stringbuilder runs fastest. \r\nYou can learn difference between [String, StringBuilder and StringBuffer][1] by implementing them.\r\n\r\n\r\n  [1]: https://kb4dev.com/tutorial/java/string,-stringbuffer-and-stringbuilder","title":"String, StringBuffer, and StringBuilder","body":"<p>In java, <strong>String</strong> is immutable. Being immutable we mean that once a String is created, we can not change its value. \n<strong>StringBuffer</strong> is mutable. Once a StringBuffer object is created, we just append the content to the value of object instead of creating a new object.\n<strong>StringBuilder</strong> is similar to StringBuffer but it is not thread-safe. Methods of StingBuilder are not synchronized but in comparison to other Strings, the Stringbuilder runs fastest. \nYou can learn difference between <a href=\"https://kb4dev.com/tutorial/java/string,-stringbuffer-and-stringbuilder\" rel=\"nofollow\">String, StringBuilder and StringBuffer</a> by implementing them.</p>\n"},{"tags":[],"owner":{"account_id":4961451,"reputation":1211,"user_id":3992420,"accept_rate":50,"display_name":"Hitesh Garg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409885114,"creation_date":1409885114,"answer_id":25677937,"question_id":2971315,"body_markdown":"Difference between String and the other two classes is that String is immutable and the other two are mutable classes.\r\n\r\n**But why we have two classes for same purpose?**\r\n\r\nReason is that `StringBuffer` is Thread safe and `StringBuilder` is not.\r\n`StringBuilder` is a new class on `StringBuffer Api` and it was introduced in `JDK5` and is always recommended if you are working in a Single threaded environment as it is much `Faster`\r\n\r\nFor complete Details you can read &lt;http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/&gt;","title":"String, StringBuffer, and StringBuilder","body":"<p>Difference between String and the other two classes is that String is immutable and the other two are mutable classes.</p>\n\n<p><strong>But why we have two classes for same purpose?</strong></p>\n\n<p>Reason is that <code>StringBuffer</code> is Thread safe and <code>StringBuilder</code> is not.\n<code>StringBuilder</code> is a new class on <code>StringBuffer Api</code> and it was introduced in <code>JDK5</code> and is always recommended if you are working in a Single threaded environment as it is much <code>Faster</code></p>\n\n<p>For complete Details you can read <a href=\"http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/\" rel=\"nofollow\">http://www.codingeek.com/java/stringbuilder-and-stringbuffer-a-way-to-create-mutable-strings-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":4969434,"reputation":467,"user_id":3997743,"display_name":"Abhijit Maity"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506433841,"creation_date":1506433841,"answer_id":46428351,"question_id":2971315,"body_markdown":"&lt;pre&gt;\r\n----------------------------------------------------------------------------------\r\n                  String                    StringBuffer         StringBuilder\r\n----------------------------------------------------------------------------------                 \r\nStorage Area | Constant String Pool         Heap                   Heap \r\nModifiable   |  No (immutable)              Yes( mutable )         Yes( mutable )\r\nThread Safe  |      Yes                     Yes                     No\r\n Performance |     Fast                 Very slow                  Fast\r\n----------------------------------------------------------------------------------\r\n&lt;/pre&gt;","title":"String, StringBuffer, and StringBuilder","body":"<pre>\n----------------------------------------------------------------------------------\n                  String                    StringBuffer         StringBuilder\n----------------------------------------------------------------------------------                 \nStorage Area | Constant String Pool         Heap                   Heap \nModifiable   |  No (immutable)              Yes( mutable )         Yes( mutable )\nThread Safe  |      Yes                     Yes                     No\n Performance |     Fast                 Very slow                  Fast\n----------------------------------------------------------------------------------\n</pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1511503176,"creation_date":1511435293,"answer_id":47454051,"question_id":2971315,"body_markdown":"[![String Family][1]][1]\r\n\r\n**String**\r\n \r\nThe [`String class`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) represents character strings. All string literals in Java program, such as `&quot;abc&quot;` are implemented as instances of this class.\r\n\t\r\nString objects are **immutable** once they are created we can&#39;t change. (*Strings are constants*)\r\n\r\n * If a String is created using constructor or method then those strings will be stored in ***Heap Memory*** as well as [***`SringConstantPool`***](https://stackoverflow.com/a/37785577/5081877). But before saving in pool it invokes **`intern()`** method to check object availability with same content in pool using equals method. _If String-copy is available in the Pool then returns the reference. Otherwise, String object is added to the pool and returns the reference._\r\n\r\n \t * _The Java language provides special support for the string concatenation operator (` + `), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method._\r\n\r\n\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tString heapSCP = new String(&quot;Yash&quot;);\r\n\t\theapSCP.concat(&quot;.&quot;);\r\n\t\theapSCP = heapSCP + &quot;M&quot;;\r\n\t\theapSCP = heapSCP + 777;\r\n\t\t\r\n\t\t// For Example: String Source Code \r\n\t\tpublic String concat(String str) {\r\n\t\t\tint otherLen = str.length();\r\n\t\t\tif (otherLen == 0) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tint len = value.length;\r\n\t\t\tchar buf[] = Arrays.copyOf(value, len + otherLen);\r\n\t\t\tstr.getChars(buf, len);\r\n\t\t\treturn new String(buf, true);\r\n\t\t}\r\n\r\n\t&lt;!-- language-all: lang-java --&gt;\r\n\r\n * String literals are stored in `StringConstantPool`.\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n    \r\n        String onlyPool = &quot;Yash&quot;;\r\n            \r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n----\r\n\r\n**[StringBuilder][2] and [StringBuffer][3]** are mutable sequence of characters. That means one can change the value of these object&#39;s. StringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.\r\n\r\n* StringBuffer and StringBuilder data can only be created using new operator. So, they get stored in Heap memory.\r\n\r\n* ***Instances of StringBuilder are not safe for use by multiple threads. If such synchronization is required then it is recommended that StringBuffer be used.***\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n\t\tStringBuffer threadSafe = new StringBuffer(&quot;Yash&quot;);\r\n\t\tthreadSafe.append(&quot;.M&quot;);\r\n\t\tthreadSafe.toString();\r\n\t\t\r\n\t\tStringBuilder nonSync = new StringBuilder(&quot;Yash&quot;);\r\n\t\tnonSync.append(&quot;.M&quot;);\r\n\t\tnonSync.toString();\r\n\r\n    &lt;!-- language-all: lang-java --&gt;\r\n\r\n\r\n* StringBuffer and StringBuilder are having a Special methods like.,\r\n`replace(int start, int end, String str)` and `reverse()`.\r\n\r\n   &gt; **NOTE**: StringBuffer and SringBuilder are mutable as they provides the implementation of `Appendable Interface`.\r\n\r\n-----\r\n\r\nWhen to use which one.\r\n\r\n * If a you are not going to change the value every time then its better to Use `String Class`. As part of Generics if you want to Sort [`Comparable&lt;T&gt;`](https://stackoverflow.com/a/31244596/5081877) or compare a values then go for `String Class`.\r\n\r\n    &lt;!-- language: lang-java --&gt;\r\n    \r\n\t\t//ClassCastException: java.lang.StringBuffer cannot be cast to java.lang.Comparable\r\n\t\tSet&lt;StringBuffer&gt; set = new TreeSet&lt;StringBuffer&gt;();\r\n\t\tset.add( threadSafe );\r\n\t\tSystem.out.println(&quot;Set : &quot;+ set);\r\n            \r\n    &lt;!-- language: lang-java --&gt;\r\n\r\n * If you are going to modify the value every time the go for StringBuilder which is faster than StringBuffer. If multiple threads are modifying the value the go for StringBuffer.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1S4Mz.png\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html","title":"String, StringBuffer, and StringBuilder","body":"<p><a href=\"https://i.stack.imgur.com/1S4Mz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1S4Mz.png\" alt=\"String Family\"></a></p>\n\n<p><strong>String</strong></p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String class</code></a> represents character strings. All string literals in Java program, such as <code>\"abc\"</code> are implemented as instances of this class.</p>\n\n<p>String objects are <strong>immutable</strong> once they are created we can't change. (<em>Strings are constants</em>)</p>\n\n<ul>\n<li><p>If a String is created using constructor or method then those strings will be stored in <strong><em>Heap Memory</em></strong> as well as <a href=\"https://stackoverflow.com/a/37785577/5081877\"><strong><em><code>SringConstantPool</code></em></strong></a>. But before saving in pool it invokes <strong><code>intern()</code></strong> method to check object availability with same content in pool using equals method. <em>If String-copy is available in the Pool then returns the reference. Otherwise, String object is added to the pool and returns the reference.</em></p>\n\n<ul>\n<li><em>The Java language provides special support for the string concatenation operator (<code>+</code>), and for conversion of other objects to strings. String concatenation is implemented through the StringBuilder(or StringBuffer) class and its append method.</em></li>\n</ul>\n\n<p></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String heapSCP = new String(\"Yash\");\nheapSCP.concat(\".\");\nheapSCP = heapSCP + \"M\";\nheapSCP = heapSCP + 777;\n\n// For Example: String Source Code \npublic String concat(String str) {\n    int otherLen = str.length();\n    if (otherLen == 0) {\n        return this;\n    }\n    int len = value.length;\n    char buf[] = Arrays.copyOf(value, len + otherLen);\n    str.getChars(buf, len);\n    return new String(buf, true);\n}\n</code></pre>\n\n</li>\n<li><p>String literals are stored in <code>StringConstantPool</code>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String onlyPool = \"Yash\";\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<p><strong><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\">StringBuilder</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\">StringBuffer</a></strong> are mutable sequence of characters. That means one can change the value of these object's. StringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.</p>\n\n<ul>\n<li><p>StringBuffer and StringBuilder data can only be created using new operator. So, they get stored in Heap memory.</p></li>\n<li><p><strong><em>Instances of StringBuilder are not safe for use by multiple threads. If such synchronization is required then it is recommended that StringBuffer be used.</em></strong></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>StringBuffer threadSafe = new StringBuffer(\"Yash\");\nthreadSafe.append(\".M\");\nthreadSafe.toString();\n\nStringBuilder nonSync = new StringBuilder(\"Yash\");\nnonSync.append(\".M\");\nnonSync.toString();\n</code></pre>\n\n</li>\n<li><p>StringBuffer and StringBuilder are having a Special methods like.,\n<code>replace(int start, int end, String str)</code> and <code>reverse()</code>.</p>\n\n<blockquote>\n  <p><strong>NOTE</strong>: StringBuffer and SringBuilder are mutable as they provides the implementation of <code>Appendable Interface</code>.</p>\n</blockquote></li>\n</ul>\n\n<hr>\n\n<p>When to use which one.</p>\n\n<ul>\n<li><p>If a you are not going to change the value every time then its better to Use <code>String Class</code>. As part of Generics if you want to Sort <a href=\"https://stackoverflow.com/a/31244596/5081877\"><code>Comparable&lt;T&gt;</code></a> or compare a values then go for <code>String Class</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//ClassCastException: java.lang.StringBuffer cannot be cast to java.lang.Comparable\nSet&lt;StringBuffer&gt; set = new TreeSet&lt;StringBuffer&gt;();\nset.add( threadSafe );\nSystem.out.println(\"Set : \"+ set);\n</code></pre>\n\n</li>\n<li><p>If you are going to modify the value every time the go for StringBuilder which is faster than StringBuffer. If multiple threads are modifying the value the go for StringBuffer.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780414,"creation_date":1657899659,"answer_id":72996490,"question_id":2971315,"body_markdown":"Here is a small code snippet illustrating how you can break StringBuilder in an async environment\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(50);\r\n        for (int i = 0; i &lt; 1000 * 1000; i++) {\r\n            executorService.submit(new AppendRunnable(builder));\r\n        }\r\n\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(1, TimeUnit.MINUTES);\r\n\r\n        Stream.of(builder.toString().split(System.lineSeparator()))\r\n            .filter(line -&gt; !line.equals(&quot;I just appended this!&quot;))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n    record AppendRunnable(StringBuilder stringBuilder) implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            stringBuilder.append(&quot;I just appended this!\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nEssentially we append strings to the builder and we expect that all of them are equal to &quot;I just appended this!&quot;. But they are not, some of them are prefixed with null chars because the internal char buffer of the builder is not synchronized and it gets wrongly resized. Using StringBuffer in this situation solves the problem. More detailed info [here][1]\r\n\r\n\r\n  [1]: https://medium.com/@b.stoilov/when-to-use-stringbuffer-in-java-d0a1f57e2477","title":"String, StringBuffer, and StringBuilder","body":"<p>Here is a small code snippet illustrating how you can break StringBuilder in an async environment</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    StringBuilder builder = new StringBuilder();\n\n    ExecutorService executorService = Executors.newFixedThreadPool(50);\n    for (int i = 0; i &lt; 1000 * 1000; i++) {\n        executorService.submit(new AppendRunnable(builder));\n    }\n\n    executorService.shutdown();\n    executorService.awaitTermination(1, TimeUnit.MINUTES);\n\n    Stream.of(builder.toString().split(System.lineSeparator()))\n        .filter(line -&gt; !line.equals(&quot;I just appended this!&quot;))\n        .forEach(System.out::println);\n}\n\nrecord AppendRunnable(StringBuilder stringBuilder) implements Runnable {\n\n    @Override\n    public void run() {\n        stringBuilder.append(&quot;I just appended this!\\n&quot;);\n    }\n}\n</code></pre>\n<p>Essentially we append strings to the builder and we expect that all of them are equal to &quot;I just appended this!&quot;. But they are not, some of them are prefixed with null chars because the internal char buffer of the builder is not synchronized and it gets wrongly resized. Using StringBuffer in this situation solves the problem. More detailed info <a href=\"https://medium.com/@b.stoilov/when-to-use-stringbuffer-in-java-d0a1f57e2477\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184369,"favorite_count":0,"down_vote_count":1,"up_vote_count":225,"accepted_answer_id":2971343,"answer_count":12,"score":224,"last_activity_date":1666780414,"creation_date":1275622135,"question_id":2971315,"body_markdown":"Please tell me a real time situation to compare `String`, `StringBuffer`, and `StringBuilder`?","title":"String, StringBuffer, and StringBuilder","body":"<p>Please tell me a real time situation to compare <code>String</code>, <code>StringBuffer</code>, and <code>StringBuilder</code>?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666793694,"post_id":74206310,"comment_id":131020326,"body_markdown":"Sounds like an interesting use-case. What isn&#39;t working about the code you shared though?","body":"Sounds like an interesting use-case. What isn&#39;t working about the code you shared though?"},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1666810182,"post_id":74206310,"comment_id":131026397,"body_markdown":"Hi Frank, Let&#39;s say I put a full link on the set of string example: &quot;www.stackoverflow.com&quot;, What happen is if a user only types www. on the EditText, no restrictions will be made. I would like my validation to work as even if a user only types www. or anything thats related to a URL, a restriction will be implemented preventing the user to post that discussion.","body":"Hi Frank, Let&#39;s say I put a full link on the set of string example: &quot;www.stackoverflow.com&quot;, What happen is if a user only types www. on the EditText, no restrictions will be made. I would like my validation to work as even if a user only types www. or anything thats related to a URL, a restriction will be implemented preventing the user to post that discussion."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666865357,"post_id":74206310,"comment_id":131038617,"body_markdown":"In that case, have you tried to add `www.` to the `items` array?","body":"In that case, have you tried to add <code>www.</code> to the <code>items</code> array?"},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1666931740,"post_id":74206310,"comment_id":131056143,"body_markdown":"Thank you Alex, I might as well do that then.","body":"Thank you Alex, I might as well do that then."}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666780361,"creation_date":1666780361,"question_id":74206310,"body_markdown":"Hi I&#39;m developing a forum app for my university, now, I want to restrict users to not put links/URL and profound words when posting a discussion on the app.\r\n\r\nI have a simple validation on my EditText that says something like &quot;Please refrain yourself from posting profound words / URL&quot; if the text contains one of the strings in the set.\r\n\r\n\r\nHowever, if I only put www or idjot on the EditText, no prompt will appear and it will then store the data to Firebase Database.\r\n\r\nWhat I wanted is to validate all the possible text one by one and if the text was on the set of strings the alert dialog will appear and stop the user from posting a discussion.\r\n\r\n\r\n\r\nI have a set of strings that contains a lot of profound words that can be a possible inputs by the users.\r\n\r\nhere are the string:\r\n\r\n\r\n```\r\nString[] items = { idiot, www.youtube.com, etc...};\r\n```\r\n\r\n\r\n\r\n\r\nhere&#39;s my code for the validation:\r\n\r\n```\r\ndiscussion= discussion_description.getText().toString();\r\n\r\n\r\nif (Arrays.asList(items).contains(discussion)){\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(AddingDiscussionActivity.this);\r\n    builder.setMessage(&quot;Please refrain yourself from posting profound words / URL&quot;)\r\n            .setPositiveButton(&quot;OKAY&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                }\r\n            })\r\n    AlertDialog alert = builder.create();\r\n    alert.show();\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Restricting users to not put URL and profound words in EditText","body":"<p>Hi I'm developing a forum app for my university, now, I want to restrict users to not put links/URL and profound words when posting a discussion on the app.</p>\n<p>I have a simple validation on my EditText that says something like &quot;Please refrain yourself from posting profound words / URL&quot; if the text contains one of the strings in the set.</p>\n<p>However, if I only put www or idjot on the EditText, no prompt will appear and it will then store the data to Firebase Database.</p>\n<p>What I wanted is to validate all the possible text one by one and if the text was on the set of strings the alert dialog will appear and stop the user from posting a discussion.</p>\n<p>I have a set of strings that contains a lot of profound words that can be a possible inputs by the users.</p>\n<p>here are the string:</p>\n<pre><code>String[] items = { idiot, www.youtube.com, etc...};\n</code></pre>\n<p>here's my code for the validation:</p>\n<pre><code>discussion= discussion_description.getText().toString();\n\n\nif (Arrays.asList(items).contains(discussion)){\n    AlertDialog.Builder builder = new AlertDialog.Builder(AddingDiscussionActivity.this);\n    builder.setMessage(&quot;Please refrain yourself from posting profound words / URL&quot;)\n            .setPositiveButton(&quot;OKAY&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                }\n            })\n    AlertDialog alert = builder.create();\n    alert.show();\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9061,"page":931,"page_size":100}
