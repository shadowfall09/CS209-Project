{"items":[{"tags":["java","unix"],"comments":[{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1666853366,"post_id":74217802,"comment_id":131034514,"body_markdown":"What OS? what FileSystem? On Linux (shared/virtual vm?), maybe you run our of inodes..?!","body":"What OS? what FileSystem? On Linux (shared/virtual vm?), maybe you run our of inodes..?!"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666853630,"post_id":74217802,"comment_id":131034577,"body_markdown":"After getting this exception, you can still create files manually?","body":"After getting this exception, you can still create files manually?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1666853905,"post_id":74217802,"comment_id":131034653,"body_markdown":"It could be that the java implementation is more constrained than your actual specific underlying file system. But wondering, why do you have so many files? ;-)","body":"It could be that the java implementation is more constrained than your actual specific underlying file system. But wondering, why do you have so many files? ;-)"},{"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"score":0,"creation_date":1666853969,"post_id":74217802,"comment_id":131034667,"body_markdown":"OS is Red Hat. The filesystem is a mounted cifs....","body":"OS is Red Hat. The filesystem is a mounted cifs...."}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1666853794,"post_id":74217868,"comment_id":131034627,"body_markdown":"It might be possible that the Java implementation has constraints such as &quot;ensure it works on *any* Unix system&quot;, so Java allows for less files, compared to you doing it manually via ssh.","body":"It might be possible that the Java implementation has constraints such as &quot;ensure it works on <i>any</i> Unix system&quot;, so Java allows for less files, compared to you doing it manually via ssh."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666853639,"creation_date":1666853639,"answer_id":74217868,"question_id":74217802,"body_markdown":"The various operating systems and their flavours have all different limits for the number of files per folder/directory, and also for the number of files per file system and/or drive.\r\n\r\nIn addition, some operating systems or extensions to an operating system allow to impose a user quota for the number of files, again per directory/folder and/or per file system.\r\n\r\nSo the answer to your question is a clear yes.\r\n\r\nFor some operating systems/flavours, these numbers are configurable within some limitations (for file systems, usually a reformatting is necessary).\r\n\r\nBut as said, this is a limitation of the underlying OS, and nothing special for Java.","title":"Java File Creation Filecount limit","body":"<p>The various operating systems and their flavours have all different limits for the number of files per folder/directory, and also for the number of files per file system and/or drive.</p>\n<p>In addition, some operating systems or extensions to an operating system allow to impose a user quota for the number of files, again per directory/folder and/or per file system.</p>\n<p>So the answer to your question is a clear yes.</p>\n<p>For some operating systems/flavours, these numbers are configurable within some limitations (for file systems, usually a reformatting is necessary).</p>\n<p>But as said, this is a limitation of the underlying OS, and nothing special for Java.</p>\n"}],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666853875,"creation_date":1666853139,"question_id":74217802,"body_markdown":"i want to ask if there is a limit for how many files can be in a directory?\r\n\r\nI write files with \r\n\r\n    File outputFile = new File(&quot;xy.txt&quot;);\r\n    outputFile.createNewFile();\r\n\r\nand i got following Exception:\r\n\r\n    java.io.IOException: Input/output error\r\n    \tat java.base/java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:na]\r\n    \tat java.base/java.io.File.createNewFile(File.java:1043) ~[na:na]\r\n        ...\r\n\r\nThe folder contains more than 1.7 million files, after clearing the folder the exception disapears.\r\n\r\nWhen i create files manually (ssh to the host) I have no problems creating files.\r\n","title":"Java File Creation Filecount limit","body":"<p>i want to ask if there is a limit for how many files can be in a directory?</p>\n<p>I write files with</p>\n<pre><code>File outputFile = new File(&quot;xy.txt&quot;);\noutputFile.createNewFile();\n</code></pre>\n<p>and i got following Exception:</p>\n<pre><code>java.io.IOException: Input/output error\n    at java.base/java.io.UnixFileSystem.createFileExclusively(Native Method) ~[na:na]\n    at java.base/java.io.File.createNewFile(File.java:1043) ~[na:na]\n    ...\n</code></pre>\n<p>The folder contains more than 1.7 million files, after clearing the folder the exception disapears.</p>\n<p>When i create files manually (ssh to the host) I have no problems creating files.</p>\n"},{"tags":["java","javafx","javafx-19"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1666863689,"post_id":74180705,"comment_id":131038026,"body_markdown":"that said: your custom cell looks fishy - why not use (or at least start from) ComboBoxTableCell? Some issues in no particular order: a) a cell must not change the data under the feet of the table b) a converter must not carry state (it&#39;s used across items) c) don&#39;t see you use the pos - and you shouldn&#39;t use it - it&#39;s never changing and technically the table isn&#39;t know at instantiation time (though here it is, better keep clean :)","body":"that said: your custom cell looks fishy - why not use (or at least start from) ComboBoxTableCell? Some issues in no particular order: a) a cell must not change the data under the feet of the table b) a converter must not carry state (it&#39;s used across items) c) don&#39;t see you use the pos - and you shouldn&#39;t use it - it&#39;s never changing and technically the table isn&#39;t know at instantiation time (though here it is, better keep clean :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1666864035,"post_id":74180705,"comment_id":131038163,"body_markdown":"as to your problems: cancel an edit by esc is default behavior, starting edits on any key should be possible from a event filter, navigation (not quite clear if while editing? that is first commit?) might be a bit tricky but should be doable also by key handlers/filters. In your shoes I would try to implement such with a TextFieldTableCell and only after succeeding going on to a Combo cell.","body":"as to your problems: cancel an edit by esc is default behavior, starting edits on any key should be possible from a event filter, navigation (not quite clear if while editing? that is first commit?) might be a bit tricky but should be doable also by key handlers/filters. In your shoes I would try to implement such with a TextFieldTableCell and only after succeeding going on to a Combo cell."},{"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"score":0,"creation_date":1666872349,"post_id":74180705,"comment_id":131040871,"body_markdown":"i have implemented with table cell. and also with combobox but not in the editing mode.","body":"i have implemented with table cell. and also with combobox but not in the editing mode."},{"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"score":0,"creation_date":1666872426,"post_id":74180705,"comment_id":131040899,"body_markdown":"you have seen the problem if you can provide me with a code which works.","body":"you have seen the problem if you can provide me with a code which works."},{"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"score":0,"creation_date":1666872519,"post_id":74180705,"comment_id":131040930,"body_markdown":"Example code https://gist.github.com/haisi/0a82e17daf586c9bab52","body":"Example code <a href=\"https://gist.github.com/haisi/0a82e17daf586c9bab52\" rel=\"nofollow noreferrer\">gist.github.com/haisi/0a82e17daf586c9bab52</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1666874515,"post_id":74180705,"comment_id":131041662,"body_markdown":"please read the referenced help page and act accordingly - this site not a code-writing service, please follow its rules if you want help ;)","body":"please read the referenced help page and act accordingly - this site not a code-writing service, please follow its rules if you want help ;)"},{"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"score":0,"creation_date":1667112495,"post_id":74180705,"comment_id":131090706,"body_markdown":"@kleopatra please come online with teamviewer or anydesk. i want to show how the program is not working.","body":"@kleopatra please come online with teamviewer or anydesk. i want to show how the program is not working."}],"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666853713,"creation_date":1666612313,"question_id":74180705,"body_markdown":"I&#39;d like to create a table with following features\r\n\r\n - Edit on Key press\r\n - Enter key = next Row\r\n - Tab Key = next Column\r\n - Escape key = Cancel Edit\r\n\r\nThe Window Looks As Follows\r\n[![enter image description here][1]][1]\r\n\r\nThe main problem that arises when we focus on combo box the focus moves out of the table. I want a solution that the focus remains in the table or to next cell in the table and commits the selected value of the combo box. The combo box is of the type Item.\r\n\r\n    ComboBox&lt;Item&gt; items = new ComboBox&lt;&gt;();\r\nThe Table is as follows\r\n        \r\n    public TableView&lt;Purchase&gt; _purchase_table;\r\n    public TableColumn&lt;Purchase, String&gt; _id;\r\n    public TableColumn&lt;Purchase, Item&gt; _name_of_item; //Of Type Purchase,Item\r\n    public TableColumn&lt;Purchase, String&gt; _quantity;\r\n    public TableColumn&lt;Purchase, String&gt; _rate;\r\n    public TableColumn&lt;Purchase, String&gt; _per;\r\n    public TableColumn&lt;Purchase, String&gt; _amount;\r\n\r\nThe Purchase class is as follows\r\n\r\n    public class Purchase {\r\n    private SimpleStringProperty serialNumber;\r\n    private SimpleObjectProperty&lt;Item&gt; itemName;\r\n    private SimpleStringProperty quantity;\r\n    private SimpleStringProperty rate;\r\n    private SimpleStringProperty per;\r\n    private SimpleStringProperty amount;\r\n\r\n    public Purchase() {\r\n        serialNumber = new SimpleStringProperty();\r\n        itemName = new SimpleObjectProperty&lt;&gt;();\r\n        quantity = new SimpleStringProperty();\r\n        rate = new SimpleStringProperty();\r\n        per = new SimpleStringProperty();\r\n        amount = new SimpleStringProperty();\r\n    }\r\n\r\n    public String getSerialNumber() {\r\n        return serialNumber.get();\r\n    }\r\n\r\n    public SimpleStringProperty serialNumberProperty() {\r\n        return serialNumber;\r\n    }\r\n\r\n    public void setSerialNumber(String serialNumber) {\r\n        this.serialNumber.set(serialNumber);\r\n    }\r\n\r\n    public Item getItemName() {\r\n        return itemName.get();\r\n    }\r\n\r\n    public SimpleObjectProperty&lt;Item&gt; itemNameProperty() {\r\n        return itemName;\r\n    }\r\n\r\n\r\n\r\n    public void setItemName(Item itemName) {\r\n        this.itemName.set(itemName);\r\n    }\r\n\r\n    public String getQuantity() {\r\n        return quantity.get();\r\n    }\r\n\r\n    public SimpleStringProperty quantityProperty() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(String quantity) {\r\n        this.quantity.set(quantity);\r\n    }\r\n\r\n    public String getRate() {\r\n        return rate.get();\r\n    }\r\n\r\n    public SimpleStringProperty rateProperty() {\r\n        return rate;\r\n    }\r\n\r\n    public void setRate(String rate) {\r\n        this.rate.set(rate);\r\n    }\r\n\r\n    public String getPer() {\r\n        return per.get();\r\n    }\r\n\r\n    public SimpleStringProperty perProperty() {\r\n        return per;\r\n    }\r\n\r\n    public void setPer(String per) {\r\n        this.per.set(per);\r\n    }\r\n\r\n    public String getAmount() {\r\n        return amount.get();\r\n    }\r\n\r\n    public SimpleStringProperty amountProperty() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(String amount) {\r\n        this.amount.set(amount);\r\n    }\r\n    }\r\n\r\n\r\nThe Item class is as follows\r\n\r\n    public class Item {\r\n    private SimpleStringProperty id;\r\n    private SimpleStringProperty itemName;\r\n    private SimpleStringProperty stockGroupID;\r\n    private SimpleStringProperty stockGroup;\r\n    private SimpleStringProperty unitID;\r\n    private SimpleStringProperty unitName;\r\n    private SimpleStringProperty taxabilityID;\r\n    private SimpleStringProperty taxability;\r\n    private SimpleStringProperty hsn;\r\n    private SimpleStringProperty itemDescription;\r\n    private SimpleStringProperty integratedTax;\r\n    private SimpleStringProperty centralTax;\r\n    private SimpleStringProperty stateTax;\r\n    private SimpleStringProperty cess;\r\n\r\n    public Item() {\r\n        id = new SimpleStringProperty();\r\n        itemName = new SimpleStringProperty();\r\n        stockGroupID = new SimpleStringProperty();\r\n        stockGroup = new SimpleStringProperty();\r\n        unitID = new SimpleStringProperty();\r\n        unitName = new SimpleStringProperty();\r\n        taxabilityID = new SimpleStringProperty();\r\n        taxability = new SimpleStringProperty();\r\n        hsn = new SimpleStringProperty();\r\n        itemDescription = new SimpleStringProperty();\r\n        integratedTax = new SimpleStringProperty();\r\n        centralTax = new SimpleStringProperty();\r\n        stateTax = new SimpleStringProperty();\r\n        cess = new SimpleStringProperty();\r\n    }\r\n    public Item(String id,String itemName,String stockGroupID,String stockGroup,String unitID,String unitName,String taxabilityID,\r\n                String taxability,String hsn,String itemDescription,String integratedTax,String centralTax,\r\n                String stateTax,String cess) {\r\n        this.id = new SimpleStringProperty(id);\r\n        this.itemName = new SimpleStringProperty(itemName);\r\n        this.stockGroupID = new SimpleStringProperty(stockGroupID);\r\n        this.stockGroup = new SimpleStringProperty(stockGroup);\r\n        this.unitID = new SimpleStringProperty(unitID);\r\n        this.unitName = new SimpleStringProperty(unitName);\r\n        this.taxabilityID = new SimpleStringProperty(taxabilityID);\r\n        this.taxability = new SimpleStringProperty(taxability);\r\n        this.hsn = new SimpleStringProperty(hsn);\r\n        this.itemDescription = new SimpleStringProperty(itemDescription);\r\n        this.integratedTax = new SimpleStringProperty(integratedTax);\r\n        this.centralTax = new SimpleStringProperty(centralTax);\r\n        this.stateTax = new SimpleStringProperty(stateTax);\r\n        this.cess = new SimpleStringProperty(cess);\r\n    }\r\n\r\n    public String getId() {\r\n        return id.get();\r\n    }\r\n\r\n    public SimpleStringProperty idProperty() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id.set(id);\r\n    }\r\n\r\n    public String getItemName() {\r\n        return itemName.get();\r\n    }\r\n\r\n    public SimpleStringProperty itemNameProperty() {\r\n        return itemName;\r\n    }\r\n\r\n    public void setItemName(String itemName) {\r\n        this.itemName.set(itemName);\r\n    }\r\n\r\n    public String getStockGroupID() {\r\n        return stockGroupID.get();\r\n    }\r\n\r\n    public SimpleStringProperty stockGroupIDProperty() {\r\n        return stockGroupID;\r\n    }\r\n\r\n    public void setStockGroupID(String stockGroupID) {\r\n        this.stockGroupID.set(stockGroupID);\r\n    }\r\n\r\n    public String getStockGroup() {\r\n        return stockGroup.get();\r\n    }\r\n\r\n    public SimpleStringProperty stockGroupProperty() {\r\n        return stockGroup;\r\n    }\r\n\r\n    public void setStockGroup(String stockGroup) {\r\n        this.stockGroup.set(stockGroup);\r\n    }\r\n\r\n    public String getUnitID() {\r\n        return unitID.get();\r\n    }\r\n\r\n    public SimpleStringProperty unitIDProperty() {\r\n        return unitID;\r\n    }\r\n\r\n    public void setUnitID(String unitID) {\r\n        this.unitID.set(unitID);\r\n    }\r\n\r\n    public String getUnitName() {\r\n        return unitName.get();\r\n    }\r\n\r\n    public SimpleStringProperty unitNameProperty() {\r\n        return unitName;\r\n    }\r\n\r\n    public void setUnitName(String unitName) {\r\n        this.unitName.set(unitName);\r\n    }\r\n\r\n    public String getTaxabilityID() {\r\n        return taxabilityID.get();\r\n    }\r\n\r\n    public SimpleStringProperty taxabilityIDProperty() {\r\n        return taxabilityID;\r\n    }\r\n\r\n    public void setTaxabilityID(String taxabilityID) {\r\n        this.taxabilityID.set(taxabilityID);\r\n    }\r\n\r\n    public String getTaxability() {\r\n        return taxability.get();\r\n    }\r\n\r\n    public SimpleStringProperty taxabilityProperty() {\r\n        return taxability;\r\n    }\r\n\r\n    public void setTaxability(String taxability) {\r\n        this.taxability.set(taxability);\r\n    }\r\n\r\n    public String getHsn() {\r\n        return hsn.get();\r\n    }\r\n\r\n    public SimpleStringProperty hsnProperty() {\r\n        return hsn;\r\n    }\r\n\r\n    public void setHsn(String hsn) {\r\n        this.hsn.set(hsn);\r\n    }\r\n\r\n    public String getItemDescription() {\r\n        return itemDescription.get();\r\n    }\r\n\r\n    public SimpleStringProperty itemDescriptionProperty() {\r\n        return itemDescription;\r\n    }\r\n\r\n    public void setItemDescription(String itemDescription) {\r\n        this.itemDescription.set(itemDescription);\r\n    }\r\n\r\n    public String getIntegratedTax() {\r\n        return integratedTax.get();\r\n    }\r\n\r\n    public SimpleStringProperty integratedTaxProperty() {\r\n        return integratedTax;\r\n    }\r\n\r\n    public void setIntegratedTax(String integratedTax) {\r\n        this.integratedTax.set(integratedTax);\r\n    }\r\n\r\n    public String getCentralTax() {\r\n        return centralTax.get();\r\n    }\r\n\r\n    public SimpleStringProperty centralTaxProperty() {\r\n        return centralTax;\r\n    }\r\n\r\n    public void setCentralTax(String centralTax) {\r\n        this.centralTax.set(centralTax);\r\n    }\r\n\r\n    public String getStateTax() {\r\n        return stateTax.get();\r\n    }\r\n\r\n    public SimpleStringProperty stateTaxProperty() {\r\n        return stateTax;\r\n    }\r\n\r\n    public void setStateTax(String stateTax) {\r\n        this.stateTax.set(stateTax);\r\n    }\r\n\r\n    public String getCess() {\r\n        return cess.get();\r\n    }\r\n\r\n    public SimpleStringProperty cessProperty() {\r\n        return cess;\r\n    }\r\n\r\n    public void setCess(String cess) {\r\n        this.cess.set(cess);\r\n    }\r\n    }\r\n\r\nThe purchase model class \r\n\r\n    public class PurchaseModel {\r\n    private ObservableList&lt;Purchase&gt; purchases;\r\n    private ObservableList&lt;Item&gt; items;\r\n    private int row,column;\r\n    public PurchaseModel() {\r\n        row = 0;\r\n        column = 0;\r\n        purchases = FXCollections.observableArrayList();\r\n        Purchase purchase = new Purchase();\r\n        purchase.setSerialNumber(&quot;1&quot;);\r\n        purchase.setItemName(getItem());\r\n        purchase.setQuantity(&quot;4&quot;);\r\n        purchase.setRate(&quot;20.00&quot;);\r\n        purchase.setPer(&quot;Pcs&quot;);\r\n        purchase.setAmount(&quot;80.00&quot;);\r\n        purchases.add(purchase);\r\n\r\n        items = FXCollections.observableArrayList();\r\n        Item item = new Item();\r\n        item.setId(&quot;1&quot;);\r\n        item.setItemName(&quot;Lux&quot;);\r\n        item.setStockGroupID(&quot;1&quot;);\r\n        item.setStockGroup(&quot;items @ 5%&quot;);\r\n        item.setUnitID(&quot;1&quot;);\r\n        item.setUnitName(&quot;Kg&quot;);\r\n        item.setTaxabilityID(&quot;1&quot;);\r\n        item.setTaxability(&quot;5%&quot;);\r\n        item.setHsn(&quot;344344&quot;);\r\n        item.setItemDescription(&quot;dkfmks skmd&quot;);\r\n        item.setIntegratedTax(&quot;5&quot;);\r\n        item.setCentralTax(&quot;2.5&quot;);\r\n        item.setStateTax(&quot;2.5&quot;);\r\n        item.setCess(&quot;0.0&quot;);\r\n        items.add(item);\r\n\r\n        item = new Item();\r\n        item.setId(&quot;2&quot;);\r\n        item.setItemName(&quot;Godrej&quot;);\r\n        item.setStockGroupID(&quot;1&quot;);\r\n        item.setStockGroup(&quot;items @ 5%&quot;);\r\n        item.setUnitID(&quot;1&quot;);\r\n        item.setUnitName(&quot;Kg&quot;);\r\n        item.setTaxabilityID(&quot;1&quot;);\r\n        item.setTaxability(&quot;5%&quot;);\r\n        item.setHsn(&quot;344344&quot;);\r\n        item.setItemDescription(&quot;dkfmks skmd&quot;);\r\n        item.setIntegratedTax(&quot;5&quot;);\r\n        item.setCentralTax(&quot;2.5&quot;);\r\n        item.setStateTax(&quot;2.5&quot;);\r\n        item.setCess(&quot;0.0&quot;);\r\n        items.add(item);\r\n\r\n        item = new Item();\r\n        item.setId(&quot;2&quot;);\r\n        item.setItemName(&quot;Pears&quot;);\r\n        item.setStockGroupID(&quot;1&quot;);\r\n        item.setStockGroup(&quot;items @ 5%&quot;);\r\n        item.setUnitID(&quot;1&quot;);\r\n        item.setUnitName(&quot;Kg&quot;);\r\n        item.setTaxabilityID(&quot;1&quot;);\r\n        item.setTaxability(&quot;5%&quot;);\r\n        item.setHsn(&quot;344344&quot;);\r\n        item.setItemDescription(&quot;dkfmks skmd&quot;);\r\n        item.setIntegratedTax(&quot;5&quot;);\r\n        item.setCentralTax(&quot;2.5&quot;);\r\n        item.setStateTax(&quot;2.5&quot;);\r\n        item.setCess(&quot;0.0&quot;);\r\n        items.add(item);\r\n    }\r\n\r\n    public ObservableList&lt;Purchase&gt; fillPurchaseTableViewWithData(){\r\n        return purchases;\r\n    }\r\n\r\n    public ObservableList&lt;Item&gt; fillItemListViewWithData(){\r\n        return items;\r\n    }\r\n\r\n    public Item getItem(){\r\n        return new Item(&quot;1&quot;,&quot;Porter and Gamble&quot;,&quot;1&quot;,&quot;Item @ 5%&quot;,&quot;1&quot;,&quot;Kg&quot;,\r\n                &quot;1&quot;,&quot;5%&quot;,&quot;23323&quot;,&quot;a very good toy&quot;,&quot;5&quot;,&quot;2.5&quot;,\r\n                &quot;2.5&quot;,&quot;0&quot;);\r\n    }\r\n\r\n    public int getRow() {\r\n        return row;\r\n    }\r\n\r\n    public void setRow(int row) {\r\n        this.row = row;\r\n    }\r\n\r\n    public int getColumn() {\r\n        return column;\r\n    }\r\n\r\n    public void setColumn(int column) {\r\n        this.column = column;\r\n    }\r\n    }\r\n\r\nThe Controller Class is as follows\r\n\r\n\r\n    public class PurchaseController implements Initializable {\r\n\r\n    public TableView&lt;Purchase&gt; _purchase_table;\r\n    public TableColumn&lt;Purchase, String&gt; _id;\r\n    public TableColumn&lt;Purchase, Item&gt; _name_of_item;\r\n    public TableColumn&lt;Purchase, String&gt; _quantity;\r\n    public TableColumn&lt;Purchase, String&gt; _rate;\r\n    public TableColumn&lt;Purchase, String&gt; _per;\r\n    public TableColumn&lt;Purchase, String&gt; _amount;\r\n\r\n    private PurchaseModel theModel;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n\r\n        theModel = new PurchaseModel();\r\n\r\n        _id.setCellValueFactory(new IDCellValueFactory());\r\n        _name_of_item.setCellValueFactory(new ItemCellValueFactory());\r\n        _quantity.setCellValueFactory(new QuantityCellValueFactory());\r\n        _rate.setCellValueFactory(new RateCellValueFactory());\r\n        _per.setCellValueFactory(new PerCellValueFactory());\r\n        _amount.setCellValueFactory(new AmountCellValueFactory());\r\n\r\n        _name_of_item.setCellFactory(new ItemComboBoxEditingCellFactory());\r\n        //_name_of_item.setOnEditCommit(new ItemCellOnEditCommit() );\r\n\r\n        _purchase_table.setItems(theModel.fillPurchaseTableViewWithData());\r\n        _purchase_table.setEditable(true);\r\n        _purchase_table.getSelectionModel().cellSelectionEnabledProperty().set(true);\r\n\r\n        _purchase_table.getFocusModel().focusedCellProperty().addListener(new PurchaseTableCellSelectionListener());\r\n\r\n    }\r\n\r\n    private class IDCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\r\n            return param.getValue().serialNumberProperty();\r\n        }\r\n    }\r\n\r\n    private class ItemCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, Item&gt;, ObservableValue&lt;Item&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;Item&gt; call(TableColumn.CellDataFeatures&lt;Purchase, Item&gt; param) {\r\n            return param.getValue().itemNameProperty();\r\n        }\r\n    }\r\n\r\n    private class QuantityCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\r\n            return param.getValue().quantityProperty();\r\n        }\r\n    }\r\n\r\n    private class RateCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\r\n            return param.getValue().rateProperty();\r\n        }\r\n    }\r\n\r\n    private class PerCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\r\n            return param.getValue().perProperty();\r\n        }\r\n    }\r\n\r\n    private class AmountCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\r\n            return param.getValue().amountProperty();\r\n        }\r\n    }\r\n\r\n    private class  ItemComboBoxEditingCellFactory implements Callback&lt;TableColumn&lt;Purchase, Item&gt;, TableCell&lt;Purchase, Item&gt;&gt; {\r\n        @Override\r\n        public TableCell&lt;Purchase, Item&gt; call(TableColumn&lt;Purchase, Item&gt; param) {\r\n            return new ItemComboBoxEditingCell();\r\n        }\r\n    }\r\n\r\n    private class ItemComboBoxEditingCell extends TableCell&lt;Purchase, Item&gt; {\r\n        private ComboBox&lt;Item&gt; comboBox;\r\n        private TablePosition&lt;Purchase,Item&gt; pos;\r\n\r\n        public ItemComboBoxEditingCell() {\r\n            pos = new TablePosition&lt;&gt;(getTableView(),0,null);\r\n        }\r\n\r\n        @Override\r\n        public void startEdit() {\r\n            if (!isEmpty()) {\r\n                super.startEdit();\r\n                createComboBox();\r\n                setText(null);\r\n                setGraphic(comboBox);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void commitEdit(Item newValue) {\r\n            super.commitEdit(newValue);\r\n            ((Purchase)getTableView().getItems()\r\n                    .get(getIndex()))\r\n                    .setItemName(newValue);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void cancelEdit() {\r\n            super.cancelEdit();\r\n            setText(getItemSelected().getItemName());\r\n            setGraphic(null);\r\n        }\r\n\r\n        @Override\r\n        protected void updateItem(Item item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n\r\n            if (empty){\r\n                setGraphic(null);\r\n                setText(null);\r\n\r\n            }else {\r\n                setText(getItemSelected().getItemName());\r\n                setGraphic(comboBox);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        private Item getItemSelected() {\r\n            return getItem() == null ? theModel.getItem() : getItem();\r\n        }\r\n\r\n        private void createComboBox() {\r\n            comboBox = new ComboBox&lt;&gt;();\r\n            comboBox.setItems(theModel.fillItemListViewWithData());\r\n            comboBox.setEditable(true);\r\n            comboBox.setCellFactory(new ItemComboBoxCellFactory());\r\n            //comboBox.setOnAction(new ItemComboBoxSelectionListener());\r\n            //comboBox.focusedProperty().addListener(new ItemComboBoxFocusListener());\r\n            //comboBox.showingProperty().addListener(new ItemComboBoxShowingListener());\r\n            comboBox.valueProperty().set(getItemSelected());\r\n            comboBox.setConverter(new ItemComboBoxStringConverter());\r\n            comboBox.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\r\n        }\r\n\r\n        private class ItemComboBoxCellFactory implements Callback&lt;ListView&lt;Item&gt;,ListCell&lt;Item&gt;&gt;{\r\n            @Override\r\n            public ListCell&lt;Item&gt; call(ListView&lt;Item&gt; param) {\r\n                return new ItemComboBoxCell();\r\n            }\r\n        }\r\n\r\n        private class ItemComboBoxCell extends ListCell&lt;Item&gt;{\r\n            @Override\r\n            protected void updateItem(Item item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                if (item == null || empty){\r\n                    setText(null);\r\n                }else {\r\n                    setText(item.getItemName());\r\n                }\r\n            }\r\n        }\r\n\r\n        private class ItemComboBoxStringConverter extends StringConverter&lt;Item&gt;{\r\n            private Item i;\r\n            @Override\r\n            public String toString(Item item) {\r\n                if (item == null)\r\n                    return null;\r\n                i = item;\r\n                return item.getItemName();\r\n            }\r\n\r\n            @Override\r\n            public Item fromString(String s) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private class PurchaseTableCellSelectionListener implements ChangeListener&lt;TablePosition&gt;{\r\n        @Override\r\n        public void changed(ObservableValue&lt;? extends TablePosition&gt; observableValue, TablePosition tablePosition, TablePosition t1) {\r\n            int row = t1.getRow();\r\n            int column = t1.getColumn();\r\n            theModel.setRow(row);\r\n            theModel.setColumn(column);\r\n        }\r\n    }\r\n\r\n\r\nPlease tell me a way to implement all the four points that i have mentioned above.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TvF0e.png","title":"How to work with JavaFx TableView with Custom Table Cell using editable Combobox cells","body":"<p>I'd like to create a table with following features</p>\n<ul>\n<li>Edit on Key press</li>\n<li>Enter key = next Row</li>\n<li>Tab Key = next Column</li>\n<li>Escape key = Cancel Edit</li>\n</ul>\n<p>The Window Looks As Follows\n<a href=\"https://i.stack.imgur.com/TvF0e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvF0e.png\" alt=\"enter image description here\" /></a></p>\n<p>The main problem that arises when we focus on combo box the focus moves out of the table. I want a solution that the focus remains in the table or to next cell in the table and commits the selected value of the combo box. The combo box is of the type Item.</p>\n<pre><code>ComboBox&lt;Item&gt; items = new ComboBox&lt;&gt;();\n</code></pre>\n<p>The Table is as follows</p>\n<pre><code>public TableView&lt;Purchase&gt; _purchase_table;\npublic TableColumn&lt;Purchase, String&gt; _id;\npublic TableColumn&lt;Purchase, Item&gt; _name_of_item; //Of Type Purchase,Item\npublic TableColumn&lt;Purchase, String&gt; _quantity;\npublic TableColumn&lt;Purchase, String&gt; _rate;\npublic TableColumn&lt;Purchase, String&gt; _per;\npublic TableColumn&lt;Purchase, String&gt; _amount;\n</code></pre>\n<p>The Purchase class is as follows</p>\n<pre><code>public class Purchase {\nprivate SimpleStringProperty serialNumber;\nprivate SimpleObjectProperty&lt;Item&gt; itemName;\nprivate SimpleStringProperty quantity;\nprivate SimpleStringProperty rate;\nprivate SimpleStringProperty per;\nprivate SimpleStringProperty amount;\n\npublic Purchase() {\n    serialNumber = new SimpleStringProperty();\n    itemName = new SimpleObjectProperty&lt;&gt;();\n    quantity = new SimpleStringProperty();\n    rate = new SimpleStringProperty();\n    per = new SimpleStringProperty();\n    amount = new SimpleStringProperty();\n}\n\npublic String getSerialNumber() {\n    return serialNumber.get();\n}\n\npublic SimpleStringProperty serialNumberProperty() {\n    return serialNumber;\n}\n\npublic void setSerialNumber(String serialNumber) {\n    this.serialNumber.set(serialNumber);\n}\n\npublic Item getItemName() {\n    return itemName.get();\n}\n\npublic SimpleObjectProperty&lt;Item&gt; itemNameProperty() {\n    return itemName;\n}\n\n\n\npublic void setItemName(Item itemName) {\n    this.itemName.set(itemName);\n}\n\npublic String getQuantity() {\n    return quantity.get();\n}\n\npublic SimpleStringProperty quantityProperty() {\n    return quantity;\n}\n\npublic void setQuantity(String quantity) {\n    this.quantity.set(quantity);\n}\n\npublic String getRate() {\n    return rate.get();\n}\n\npublic SimpleStringProperty rateProperty() {\n    return rate;\n}\n\npublic void setRate(String rate) {\n    this.rate.set(rate);\n}\n\npublic String getPer() {\n    return per.get();\n}\n\npublic SimpleStringProperty perProperty() {\n    return per;\n}\n\npublic void setPer(String per) {\n    this.per.set(per);\n}\n\npublic String getAmount() {\n    return amount.get();\n}\n\npublic SimpleStringProperty amountProperty() {\n    return amount;\n}\n\npublic void setAmount(String amount) {\n    this.amount.set(amount);\n}\n}\n</code></pre>\n<p>The Item class is as follows</p>\n<pre><code>public class Item {\nprivate SimpleStringProperty id;\nprivate SimpleStringProperty itemName;\nprivate SimpleStringProperty stockGroupID;\nprivate SimpleStringProperty stockGroup;\nprivate SimpleStringProperty unitID;\nprivate SimpleStringProperty unitName;\nprivate SimpleStringProperty taxabilityID;\nprivate SimpleStringProperty taxability;\nprivate SimpleStringProperty hsn;\nprivate SimpleStringProperty itemDescription;\nprivate SimpleStringProperty integratedTax;\nprivate SimpleStringProperty centralTax;\nprivate SimpleStringProperty stateTax;\nprivate SimpleStringProperty cess;\n\npublic Item() {\n    id = new SimpleStringProperty();\n    itemName = new SimpleStringProperty();\n    stockGroupID = new SimpleStringProperty();\n    stockGroup = new SimpleStringProperty();\n    unitID = new SimpleStringProperty();\n    unitName = new SimpleStringProperty();\n    taxabilityID = new SimpleStringProperty();\n    taxability = new SimpleStringProperty();\n    hsn = new SimpleStringProperty();\n    itemDescription = new SimpleStringProperty();\n    integratedTax = new SimpleStringProperty();\n    centralTax = new SimpleStringProperty();\n    stateTax = new SimpleStringProperty();\n    cess = new SimpleStringProperty();\n}\npublic Item(String id,String itemName,String stockGroupID,String stockGroup,String unitID,String unitName,String taxabilityID,\n            String taxability,String hsn,String itemDescription,String integratedTax,String centralTax,\n            String stateTax,String cess) {\n    this.id = new SimpleStringProperty(id);\n    this.itemName = new SimpleStringProperty(itemName);\n    this.stockGroupID = new SimpleStringProperty(stockGroupID);\n    this.stockGroup = new SimpleStringProperty(stockGroup);\n    this.unitID = new SimpleStringProperty(unitID);\n    this.unitName = new SimpleStringProperty(unitName);\n    this.taxabilityID = new SimpleStringProperty(taxabilityID);\n    this.taxability = new SimpleStringProperty(taxability);\n    this.hsn = new SimpleStringProperty(hsn);\n    this.itemDescription = new SimpleStringProperty(itemDescription);\n    this.integratedTax = new SimpleStringProperty(integratedTax);\n    this.centralTax = new SimpleStringProperty(centralTax);\n    this.stateTax = new SimpleStringProperty(stateTax);\n    this.cess = new SimpleStringProperty(cess);\n}\n\npublic String getId() {\n    return id.get();\n}\n\npublic SimpleStringProperty idProperty() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id.set(id);\n}\n\npublic String getItemName() {\n    return itemName.get();\n}\n\npublic SimpleStringProperty itemNameProperty() {\n    return itemName;\n}\n\npublic void setItemName(String itemName) {\n    this.itemName.set(itemName);\n}\n\npublic String getStockGroupID() {\n    return stockGroupID.get();\n}\n\npublic SimpleStringProperty stockGroupIDProperty() {\n    return stockGroupID;\n}\n\npublic void setStockGroupID(String stockGroupID) {\n    this.stockGroupID.set(stockGroupID);\n}\n\npublic String getStockGroup() {\n    return stockGroup.get();\n}\n\npublic SimpleStringProperty stockGroupProperty() {\n    return stockGroup;\n}\n\npublic void setStockGroup(String stockGroup) {\n    this.stockGroup.set(stockGroup);\n}\n\npublic String getUnitID() {\n    return unitID.get();\n}\n\npublic SimpleStringProperty unitIDProperty() {\n    return unitID;\n}\n\npublic void setUnitID(String unitID) {\n    this.unitID.set(unitID);\n}\n\npublic String getUnitName() {\n    return unitName.get();\n}\n\npublic SimpleStringProperty unitNameProperty() {\n    return unitName;\n}\n\npublic void setUnitName(String unitName) {\n    this.unitName.set(unitName);\n}\n\npublic String getTaxabilityID() {\n    return taxabilityID.get();\n}\n\npublic SimpleStringProperty taxabilityIDProperty() {\n    return taxabilityID;\n}\n\npublic void setTaxabilityID(String taxabilityID) {\n    this.taxabilityID.set(taxabilityID);\n}\n\npublic String getTaxability() {\n    return taxability.get();\n}\n\npublic SimpleStringProperty taxabilityProperty() {\n    return taxability;\n}\n\npublic void setTaxability(String taxability) {\n    this.taxability.set(taxability);\n}\n\npublic String getHsn() {\n    return hsn.get();\n}\n\npublic SimpleStringProperty hsnProperty() {\n    return hsn;\n}\n\npublic void setHsn(String hsn) {\n    this.hsn.set(hsn);\n}\n\npublic String getItemDescription() {\n    return itemDescription.get();\n}\n\npublic SimpleStringProperty itemDescriptionProperty() {\n    return itemDescription;\n}\n\npublic void setItemDescription(String itemDescription) {\n    this.itemDescription.set(itemDescription);\n}\n\npublic String getIntegratedTax() {\n    return integratedTax.get();\n}\n\npublic SimpleStringProperty integratedTaxProperty() {\n    return integratedTax;\n}\n\npublic void setIntegratedTax(String integratedTax) {\n    this.integratedTax.set(integratedTax);\n}\n\npublic String getCentralTax() {\n    return centralTax.get();\n}\n\npublic SimpleStringProperty centralTaxProperty() {\n    return centralTax;\n}\n\npublic void setCentralTax(String centralTax) {\n    this.centralTax.set(centralTax);\n}\n\npublic String getStateTax() {\n    return stateTax.get();\n}\n\npublic SimpleStringProperty stateTaxProperty() {\n    return stateTax;\n}\n\npublic void setStateTax(String stateTax) {\n    this.stateTax.set(stateTax);\n}\n\npublic String getCess() {\n    return cess.get();\n}\n\npublic SimpleStringProperty cessProperty() {\n    return cess;\n}\n\npublic void setCess(String cess) {\n    this.cess.set(cess);\n}\n}\n</code></pre>\n<p>The purchase model class</p>\n<pre><code>public class PurchaseModel {\nprivate ObservableList&lt;Purchase&gt; purchases;\nprivate ObservableList&lt;Item&gt; items;\nprivate int row,column;\npublic PurchaseModel() {\n    row = 0;\n    column = 0;\n    purchases = FXCollections.observableArrayList();\n    Purchase purchase = new Purchase();\n    purchase.setSerialNumber(&quot;1&quot;);\n    purchase.setItemName(getItem());\n    purchase.setQuantity(&quot;4&quot;);\n    purchase.setRate(&quot;20.00&quot;);\n    purchase.setPer(&quot;Pcs&quot;);\n    purchase.setAmount(&quot;80.00&quot;);\n    purchases.add(purchase);\n\n    items = FXCollections.observableArrayList();\n    Item item = new Item();\n    item.setId(&quot;1&quot;);\n    item.setItemName(&quot;Lux&quot;);\n    item.setStockGroupID(&quot;1&quot;);\n    item.setStockGroup(&quot;items @ 5%&quot;);\n    item.setUnitID(&quot;1&quot;);\n    item.setUnitName(&quot;Kg&quot;);\n    item.setTaxabilityID(&quot;1&quot;);\n    item.setTaxability(&quot;5%&quot;);\n    item.setHsn(&quot;344344&quot;);\n    item.setItemDescription(&quot;dkfmks skmd&quot;);\n    item.setIntegratedTax(&quot;5&quot;);\n    item.setCentralTax(&quot;2.5&quot;);\n    item.setStateTax(&quot;2.5&quot;);\n    item.setCess(&quot;0.0&quot;);\n    items.add(item);\n\n    item = new Item();\n    item.setId(&quot;2&quot;);\n    item.setItemName(&quot;Godrej&quot;);\n    item.setStockGroupID(&quot;1&quot;);\n    item.setStockGroup(&quot;items @ 5%&quot;);\n    item.setUnitID(&quot;1&quot;);\n    item.setUnitName(&quot;Kg&quot;);\n    item.setTaxabilityID(&quot;1&quot;);\n    item.setTaxability(&quot;5%&quot;);\n    item.setHsn(&quot;344344&quot;);\n    item.setItemDescription(&quot;dkfmks skmd&quot;);\n    item.setIntegratedTax(&quot;5&quot;);\n    item.setCentralTax(&quot;2.5&quot;);\n    item.setStateTax(&quot;2.5&quot;);\n    item.setCess(&quot;0.0&quot;);\n    items.add(item);\n\n    item = new Item();\n    item.setId(&quot;2&quot;);\n    item.setItemName(&quot;Pears&quot;);\n    item.setStockGroupID(&quot;1&quot;);\n    item.setStockGroup(&quot;items @ 5%&quot;);\n    item.setUnitID(&quot;1&quot;);\n    item.setUnitName(&quot;Kg&quot;);\n    item.setTaxabilityID(&quot;1&quot;);\n    item.setTaxability(&quot;5%&quot;);\n    item.setHsn(&quot;344344&quot;);\n    item.setItemDescription(&quot;dkfmks skmd&quot;);\n    item.setIntegratedTax(&quot;5&quot;);\n    item.setCentralTax(&quot;2.5&quot;);\n    item.setStateTax(&quot;2.5&quot;);\n    item.setCess(&quot;0.0&quot;);\n    items.add(item);\n}\n\npublic ObservableList&lt;Purchase&gt; fillPurchaseTableViewWithData(){\n    return purchases;\n}\n\npublic ObservableList&lt;Item&gt; fillItemListViewWithData(){\n    return items;\n}\n\npublic Item getItem(){\n    return new Item(&quot;1&quot;,&quot;Porter and Gamble&quot;,&quot;1&quot;,&quot;Item @ 5%&quot;,&quot;1&quot;,&quot;Kg&quot;,\n            &quot;1&quot;,&quot;5%&quot;,&quot;23323&quot;,&quot;a very good toy&quot;,&quot;5&quot;,&quot;2.5&quot;,\n            &quot;2.5&quot;,&quot;0&quot;);\n}\n\npublic int getRow() {\n    return row;\n}\n\npublic void setRow(int row) {\n    this.row = row;\n}\n\npublic int getColumn() {\n    return column;\n}\n\npublic void setColumn(int column) {\n    this.column = column;\n}\n}\n</code></pre>\n<p>The Controller Class is as follows</p>\n<pre><code>public class PurchaseController implements Initializable {\n\npublic TableView&lt;Purchase&gt; _purchase_table;\npublic TableColumn&lt;Purchase, String&gt; _id;\npublic TableColumn&lt;Purchase, Item&gt; _name_of_item;\npublic TableColumn&lt;Purchase, String&gt; _quantity;\npublic TableColumn&lt;Purchase, String&gt; _rate;\npublic TableColumn&lt;Purchase, String&gt; _per;\npublic TableColumn&lt;Purchase, String&gt; _amount;\n\nprivate PurchaseModel theModel;\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n\n    theModel = new PurchaseModel();\n\n    _id.setCellValueFactory(new IDCellValueFactory());\n    _name_of_item.setCellValueFactory(new ItemCellValueFactory());\n    _quantity.setCellValueFactory(new QuantityCellValueFactory());\n    _rate.setCellValueFactory(new RateCellValueFactory());\n    _per.setCellValueFactory(new PerCellValueFactory());\n    _amount.setCellValueFactory(new AmountCellValueFactory());\n\n    _name_of_item.setCellFactory(new ItemComboBoxEditingCellFactory());\n    //_name_of_item.setOnEditCommit(new ItemCellOnEditCommit() );\n\n    _purchase_table.setItems(theModel.fillPurchaseTableViewWithData());\n    _purchase_table.setEditable(true);\n    _purchase_table.getSelectionModel().cellSelectionEnabledProperty().set(true);\n\n    _purchase_table.getFocusModel().focusedCellProperty().addListener(new PurchaseTableCellSelectionListener());\n\n}\n\nprivate class IDCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\n        return param.getValue().serialNumberProperty();\n    }\n}\n\nprivate class ItemCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, Item&gt;, ObservableValue&lt;Item&gt;&gt; {\n    @Override\n    public ObservableValue&lt;Item&gt; call(TableColumn.CellDataFeatures&lt;Purchase, Item&gt; param) {\n        return param.getValue().itemNameProperty();\n    }\n}\n\nprivate class QuantityCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\n\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\n        return param.getValue().quantityProperty();\n    }\n}\n\nprivate class RateCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\n        return param.getValue().rateProperty();\n    }\n}\n\nprivate class PerCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\n        return param.getValue().perProperty();\n    }\n}\n\nprivate class AmountCellValueFactory implements Callback&lt;TableColumn.CellDataFeatures&lt;Purchase, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Purchase, String&gt; param) {\n        return param.getValue().amountProperty();\n    }\n}\n\nprivate class  ItemComboBoxEditingCellFactory implements Callback&lt;TableColumn&lt;Purchase, Item&gt;, TableCell&lt;Purchase, Item&gt;&gt; {\n    @Override\n    public TableCell&lt;Purchase, Item&gt; call(TableColumn&lt;Purchase, Item&gt; param) {\n        return new ItemComboBoxEditingCell();\n    }\n}\n\nprivate class ItemComboBoxEditingCell extends TableCell&lt;Purchase, Item&gt; {\n    private ComboBox&lt;Item&gt; comboBox;\n    private TablePosition&lt;Purchase,Item&gt; pos;\n\n    public ItemComboBoxEditingCell() {\n        pos = new TablePosition&lt;&gt;(getTableView(),0,null);\n    }\n\n    @Override\n    public void startEdit() {\n        if (!isEmpty()) {\n            super.startEdit();\n            createComboBox();\n            setText(null);\n            setGraphic(comboBox);\n        }\n    }\n\n    @Override\n    public void commitEdit(Item newValue) {\n        super.commitEdit(newValue);\n        ((Purchase)getTableView().getItems()\n                .get(getIndex()))\n                .setItemName(newValue);\n\n    }\n\n    @Override\n    public void cancelEdit() {\n        super.cancelEdit();\n        setText(getItemSelected().getItemName());\n        setGraphic(null);\n    }\n\n    @Override\n    protected void updateItem(Item item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty){\n            setGraphic(null);\n            setText(null);\n\n        }else {\n            setText(getItemSelected().getItemName());\n            setGraphic(comboBox);\n        }\n    }\n\n\n\n    private Item getItemSelected() {\n        return getItem() == null ? theModel.getItem() : getItem();\n    }\n\n    private void createComboBox() {\n        comboBox = new ComboBox&lt;&gt;();\n        comboBox.setItems(theModel.fillItemListViewWithData());\n        comboBox.setEditable(true);\n        comboBox.setCellFactory(new ItemComboBoxCellFactory());\n        //comboBox.setOnAction(new ItemComboBoxSelectionListener());\n        //comboBox.focusedProperty().addListener(new ItemComboBoxFocusListener());\n        //comboBox.showingProperty().addListener(new ItemComboBoxShowingListener());\n        comboBox.valueProperty().set(getItemSelected());\n        comboBox.setConverter(new ItemComboBoxStringConverter());\n        comboBox.setMinWidth(this.getWidth() - this.getGraphicTextGap() * 2);\n    }\n\n    private class ItemComboBoxCellFactory implements Callback&lt;ListView&lt;Item&gt;,ListCell&lt;Item&gt;&gt;{\n        @Override\n        public ListCell&lt;Item&gt; call(ListView&lt;Item&gt; param) {\n            return new ItemComboBoxCell();\n        }\n    }\n\n    private class ItemComboBoxCell extends ListCell&lt;Item&gt;{\n        @Override\n        protected void updateItem(Item item, boolean empty) {\n            super.updateItem(item, empty);\n            if (item == null || empty){\n                setText(null);\n            }else {\n                setText(item.getItemName());\n            }\n        }\n    }\n\n    private class ItemComboBoxStringConverter extends StringConverter&lt;Item&gt;{\n        private Item i;\n        @Override\n        public String toString(Item item) {\n            if (item == null)\n                return null;\n            i = item;\n            return item.getItemName();\n        }\n\n        @Override\n        public Item fromString(String s) {\n            return i;\n        }\n    }\n\n\n}\n\nprivate class PurchaseTableCellSelectionListener implements ChangeListener&lt;TablePosition&gt;{\n    @Override\n    public void changed(ObservableValue&lt;? extends TablePosition&gt; observableValue, TablePosition tablePosition, TablePosition t1) {\n        int row = t1.getRow();\n        int column = t1.getColumn();\n        theModel.setRow(row);\n        theModel.setColumn(column);\n    }\n}\n</code></pre>\n<p>Please tell me a way to implement all the four points that i have mentioned above.</p>\n"},{"tags":["java","android","callback","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":12311264,"reputation":52,"user_id":8982620,"display_name":"BullyBoo"},"score":0,"creation_date":1525816541,"post_id":50242755,"comment_id":87503267,"body_markdown":"Do you have permissions?","body":"Do you have permissions?"},{"owner":{"account_id":13530702,"reputation":191,"user_id":9761272,"display_name":"Josh P."},"score":0,"creation_date":1525817433,"post_id":50242755,"comment_id":87503562,"body_markdown":"I added BLUETOOTH, BLUETOOTH_ADMIN and ACCESS_COARSE_LOCATION permissions to the manifest.","body":"I added BLUETOOTH, BLUETOOTH_ADMIN and ACCESS_COARSE_LOCATION permissions to the manifest."}],"answers":[{"tags":[],"owner":{"account_id":13530702,"reputation":191,"user_id":9761272,"display_name":"Josh P."},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1525880712,"creation_date":1525880712,"answer_id":50257324,"question_id":50242755,"body_markdown":"Turns out that even though I added ACCESS_COURSE_LOCATION permissions from the manifest, this was not enough for API 23+. I think in lower api versions the request in the manifest is sufficient.\r\n\r\nI had to add:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 23) {\r\n            if (this.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setTitle(&quot;This app needs location access&quot;);\r\n                builder.setMessage(&quot;Please grant location access so this app can detect peripherals.&quot;);\r\n                builder.setPositiveButton(android.R.string.ok, null);\r\n                builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.M)\r\n                    @Override\r\n                    public void onDismiss(DialogInterface dialog) {\r\n                        requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_REQUEST_COARSE_LOCATION);\r\n                    }\r\n                });\r\n                builder.show();\r\n            }\r\n        }","title":"Why is BluetoothLEScanner not calling its ScanCallback","body":"<p>Turns out that even though I added ACCESS_COURSE_LOCATION permissions from the manifest, this was not enough for API 23+. I think in lower api versions the request in the manifest is sufficient.</p>\n\n<p>I had to add:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 23) {\n        if (this.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setTitle(\"This app needs location access\");\n            builder.setMessage(\"Please grant location access so this app can detect peripherals.\");\n            builder.setPositiveButton(android.R.string.ok, null);\n            builder.setOnDismissListener(new DialogInterface.OnDismissListener() {\n                @RequiresApi(api = Build.VERSION_CODES.M)\n                @Override\n                public void onDismiss(DialogInterface dialog) {\n                    requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_REQUEST_COARSE_LOCATION);\n                }\n            });\n            builder.show();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9060687,"reputation":93,"user_id":6747309,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666853675,"creation_date":1666853675,"answer_id":74217875,"question_id":50242755,"body_markdown":"If anyone has the same problem in the future, Android 12+ needs `Manifest.permission.ACCESS_FINE_LOCATION` and `Manifest.permission.BLUETOOTH_SCAN` to scan for other devices. `Manifest.permission.ACCESS_COARSE_LOCATION` is not sufficient anymore.","title":"Why is BluetoothLEScanner not calling its ScanCallback","body":"<p>If anyone has the same problem in the future, Android 12+ needs <code>Manifest.permission.ACCESS_FINE_LOCATION</code> and <code>Manifest.permission.BLUETOOTH_SCAN</code> to scan for other devices. <code>Manifest.permission.ACCESS_COARSE_LOCATION</code> is not sufficient anymore.</p>\n"}],"owner":{"account_id":13530702,"reputation":191,"user_id":9761272,"display_name":"Josh P."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4484,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50257324,"answer_count":2,"score":6,"last_activity_date":1666853675,"creation_date":1525816312,"question_id":50242755,"body_markdown":"I&#39;m trying to implement a BLE scanner right now in a bare bones android app.\r\nI have been following:\r\nhttps://stackoverflow.com/questions/30223071/startlescan-replacement-to-current-api\r\nand \r\nhttps://developer.android.com/guide/topics/connectivity/bluetooth-le\r\n\r\nUnfortunately, the callback functions from my BLEScanCallback class don&#39;t seem to be getting called. I&#39;ve just been trying Log.e to see if any of them are getting called.\r\n\r\nI debugged the app and the app gets to bluetoothLeScanner.stopScan(scanCallback); within the run() function.\r\n\r\nI have added BLUETOOTH, BLUETOOTH_ADMIN and ACCESS_COARSE_LOCATION to the manifest.\r\n\r\nI&#39;m not really sure what I&#39;ve done wrong here. Any help with this would be much appreciated.\r\n\r\nThanks\r\n\r\n\r\nRelevant code below: \r\n\r\n    public class DiscoverActivity extends AppCompatActivity {\r\n\r\n    private BluetoothAdapter bluetoothAdapter;\r\n    private boolean scanning;\r\n    private Handler handler;\r\n    static int REQUEST_ENABLE_BT = 1001;\r\n    private static final long SCAN_PERIOD = 10000;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_discover);\r\n        handler = new Handler();\r\n        scanning = false;\r\n\r\n        final BluetoothManager bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n        bluetoothAdapter = bluetoothManager.getAdapter();\r\n        // Ensures Bluetooth is available on the device and it is enabled. If not,\r\n        // displays a dialog requesting user permission to enable Bluetooth.\r\n        if (bluetoothAdapter == null || !bluetoothAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n        }\r\n    }\r\n\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        boolean ret;\r\n        int id = item.getItemId();\r\n\r\n        switch (id){\r\n            case R.id.scan:\r\n                Log.e(&quot;test&quot;, &quot;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&quot;);\r\n                scanBLEDevices(true);\r\n                ret = true;\r\n                break;\r\n            default:\r\n                ret = super.onOptionsItemSelected(item);\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    private void scanBLEDevices(final boolean enable){\r\n        final BluetoothLeScanner bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\r\n\r\n        final BLEScanCallback scanCallback = new BLEScanCallback();\r\n        if (enable){\r\n            // Stops scanning after a pre-defined scan period.\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    scanning = false;\r\n                    bluetoothLeScanner.stopScan(scanCallback);\r\n                }\r\n            }, SCAN_PERIOD);\r\n\r\n             scanning = true;\r\n             bluetoothLeScanner.startScan(scanCallback);\r\n        }else{\r\n            scanning = false;\r\n            bluetoothLeScanner.stopScan(scanCallback);\r\n        }\r\n    }\r\n\r\n    public class BLEScanCallback extends ScanCallback{\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            super.onScanResult(callbackType, result);\r\n            Log.e(&quot;Scan Success&quot;, &quot;Scan Success&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n            super.onBatchScanResults(results);\r\n            Log.e(&quot;Scan Success&quot;, &quot;Scan Success Batch&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onScanFailed(int errorCode) {\r\n            super.onScanFailed(errorCode);\r\n            Log.e(&quot;Scan Failed&quot;, &quot;Error Code: &quot; + errorCode);\r\n        }\r\n    }\r\n\r\n}\r\n","title":"Why is BluetoothLEScanner not calling its ScanCallback","body":"<p>I'm trying to implement a BLE scanner right now in a bare bones android app.\nI have been following:\n<a href=\"https://stackoverflow.com/questions/30223071/startlescan-replacement-to-current-api\">startLeScan replacement to current api</a>\nand \n<a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth-le\" rel=\"noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth-le</a></p>\n\n<p>Unfortunately, the callback functions from my BLEScanCallback class don't seem to be getting called. I've just been trying Log.e to see if any of them are getting called.</p>\n\n<p>I debugged the app and the app gets to bluetoothLeScanner.stopScan(scanCallback); within the run() function.</p>\n\n<p>I have added BLUETOOTH, BLUETOOTH_ADMIN and ACCESS_COARSE_LOCATION to the manifest.</p>\n\n<p>I'm not really sure what I've done wrong here. Any help with this would be much appreciated.</p>\n\n<p>Thanks</p>\n\n<p>Relevant code below: </p>\n\n<pre><code>public class DiscoverActivity extends AppCompatActivity {\n\nprivate BluetoothAdapter bluetoothAdapter;\nprivate boolean scanning;\nprivate Handler handler;\nstatic int REQUEST_ENABLE_BT = 1001;\nprivate static final long SCAN_PERIOD = 10000;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_discover);\n    handler = new Handler();\n    scanning = false;\n\n    final BluetoothManager bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n    bluetoothAdapter = bluetoothManager.getAdapter();\n    // Ensures Bluetooth is available on the device and it is enabled. If not,\n    // displays a dialog requesting user permission to enable Bluetooth.\n    if (bluetoothAdapter == null || !bluetoothAdapter.isEnabled()) {\n        Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n    }\n}\n\npublic boolean onOptionsItemSelected(MenuItem item) {\n    boolean ret;\n    int id = item.getItemId();\n\n    switch (id){\n        case R.id.scan:\n            Log.e(\"test\", \"&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;\");\n            scanBLEDevices(true);\n            ret = true;\n            break;\n        default:\n            ret = super.onOptionsItemSelected(item);\n    }\n\n    return ret;\n}\n\nprivate void scanBLEDevices(final boolean enable){\n    final BluetoothLeScanner bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\n\n    final BLEScanCallback scanCallback = new BLEScanCallback();\n    if (enable){\n        // Stops scanning after a pre-defined scan period.\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                scanning = false;\n                bluetoothLeScanner.stopScan(scanCallback);\n            }\n        }, SCAN_PERIOD);\n\n         scanning = true;\n         bluetoothLeScanner.startScan(scanCallback);\n    }else{\n        scanning = false;\n        bluetoothLeScanner.stopScan(scanCallback);\n    }\n}\n\npublic class BLEScanCallback extends ScanCallback{\n    @Override\n    public void onScanResult(int callbackType, ScanResult result) {\n        super.onScanResult(callbackType, result);\n        Log.e(\"Scan Success\", \"Scan Success\");\n    }\n\n    @Override\n    public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n        super.onBatchScanResults(results);\n        Log.e(\"Scan Success\", \"Scan Success Batch\");\n    }\n\n    @Override\n    public void onScanFailed(int errorCode) {\n        super.onScanFailed(errorCode);\n        Log.e(\"Scan Failed\", \"Error Code: \" + errorCode);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","liferay","velocity","liferay-velocity"],"answers":[{"comments":[{"owner":{"account_id":24912288,"reputation":1,"user_id":18781702,"display_name":"user18781702"},"score":0,"creation_date":1666780764,"post_id":74205762,"comment_id":131015573,"body_markdown":"Thanks Olaf for your reply but I am using liferay 5.* version and I am not see such configuration settings. Although I also wants to learn how to add customized page which provides some text and a single button that covers entire screen.","body":"Thanks Olaf for your reply but I am using liferay 5.* version and I am not see such configuration settings. Although I also wants to learn how to add customized page which provides some text and a single button that covers entire screen."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1666784363,"post_id":74205762,"comment_id":131016710,"body_markdown":"It&#39;s quite significant information that you&#39;re using software that is from 2008/2009. Back then, you still have a chance that this can be configured in portal-ext.properties. Open the portal.properties of your version and &quot;Ctrl+F term&quot;. But actually, the proper answer is: Upgrade. You&#39;re missing out on quite some security updates, new features and better technology.","body":"It&#39;s quite significant information that you&#39;re using software that is from 2008/2009. Back then, you still have a chance that this can be configured in portal-ext.properties. Open the portal.properties of your version and &quot;Ctrl+F term&quot;. But actually, the proper answer is: Upgrade. You&#39;re missing out on quite some security updates, new features and better technology."}],"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666853272,"creation_date":1666777869,"answer_id":74205762,"question_id":74205212,"body_markdown":"Terms of Use and their acceptance is a feature in Liferay that does not require any programmatic development.\r\n\r\nIn 7.4, go to Control Panel / Configuration / System Settings and type &quot;Terms&quot; in the search bar. You&#39;ll find &quot;Web Content&quot;, and in the &quot;Virtual Instance Scope&quot; Web Content section, at the bottom, you&#39;ll find two input fields to enter a `groupId` and an `articleId`. Those are the terms that you&#39;d like to show (referring to a Web Content Article (articleId) of a specific Site (groupId))\r\n\r\nAcceptance will be stored in the database, and access to the system is blocked if the terms are not accepted.\r\n\r\nTerms of use can be disabled through a portal.properties setting named `terms.of.use.required`, which defaults to `true`.\r\n\r\nIn older versions, all of this configurations was in portal.properties - to be overloaded in portal-ext.properties. I can&#39;t recall when the configuration moved from properties to system settings.","title":"How to create a disclaimer page as default landing page in liferay portal?","body":"<p>Terms of Use and their acceptance is a feature in Liferay that does not require any programmatic development.</p>\n<p>In 7.4, go to Control Panel / Configuration / System Settings and type &quot;Terms&quot; in the search bar. You'll find &quot;Web Content&quot;, and in the &quot;Virtual Instance Scope&quot; Web Content section, at the bottom, you'll find two input fields to enter a <code>groupId</code> and an <code>articleId</code>. Those are the terms that you'd like to show (referring to a Web Content Article (articleId) of a specific Site (groupId))</p>\n<p>Acceptance will be stored in the database, and access to the system is blocked if the terms are not accepted.</p>\n<p>Terms of use can be disabled through a portal.properties setting named <code>terms.of.use.required</code>, which defaults to <code>true</code>.</p>\n<p>In older versions, all of this configurations was in portal.properties - to be overloaded in portal-ext.properties. I can't recall when the configuration moved from properties to system settings.</p>\n"}],"owner":{"account_id":24912288,"reputation":1,"user_id":18781702,"display_name":"user18781702"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666853272,"creation_date":1666775315,"question_id":74205212,"body_markdown":"My requirement is that after successful login into the portal user should redirect to a page containing company&#39;s terms and conditions text with an &quot;Accept&quot; Button. User must click on the Accept button if he wants to access the application. Without clicking on the accept button user should not be able to access the application.\r\n\r\nSo what I want is that after clicking on the &quot;Accept&quot; Button a value must set in the session attribute (for eg. TERMS_ACCEPTED=true , something like that). The user cant avoid the Accept Button on refreshing the browser as well.\r\n\r\nIn portal_normal.vm I have set the below condition to get terms page on login with accept button.\r\n\r\n```\r\n#if (!$is_login_page)\r\n\t\t\t#if (!$is_signed_in)\r\n\t\t\t\t&lt;script&gt;\r\n\t\t\t\t\twindow.location= &#39;/c/portal/login&#39;;\r\n\t\t\t\t&lt;/script&gt;\r\n\t\t\t#else\r\n\t\t\t\t#if(!$is_accepted)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;p id=&quot;terms-para&quot; style=&quot;&quot;&gt; CLICK THE ACCEPT BUTTON TO PROCEED. &lt;/p&gt;\r\n\t\t\t\t\t\t&lt;button id=&quot;accept-button&quot;&gt;Accept&lt;/button&gt;\r\n\r\n\r\n\t\t\t\t\t\t&lt;div id =&quot;terms-footer&quot; &gt;&lt;/div&gt;\r\n\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;script&gt;\r\n\t\t\t\t\t\tvar acceptButton = document.getElementById(&quot;accept-button&quot;);\r\n\t\t\t\t\t\tacceptButton.addEventListener(&#39;click&#39;, ()=&gt;{\r\n\r\n\t\t\t\t\t\t\t\t#set ($is_accepted = $request.getSession().setAttribute(&quot;TERMS_ACCEPTED&quot;, true))\r\n\t\t\t\t\t\t\t\t\r\n       \t\t\t\t\t\t\t window.location.reload();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t&lt;/script&gt;\r\n```\r\nI tried this way but on refreshing the page the session attribute is set to true without user being clicked on accept button.\r\n\r\nThe approach works well with cookie. But cookie can be edited in the browser and I want to achieve it through session only.\r\n\r\nCan it be achieved through portal_normal.vm or I should make another .jsp page and set it as a default landing page. If later is the solution and don&#39;t know how to implement this. Please help","title":"How to create a disclaimer page as default landing page in liferay portal?","body":"<p>My requirement is that after successful login into the portal user should redirect to a page containing company's terms and conditions text with an &quot;Accept&quot; Button. User must click on the Accept button if he wants to access the application. Without clicking on the accept button user should not be able to access the application.</p>\n<p>So what I want is that after clicking on the &quot;Accept&quot; Button a value must set in the session attribute (for eg. TERMS_ACCEPTED=true , something like that). The user cant avoid the Accept Button on refreshing the browser as well.</p>\n<p>In portal_normal.vm I have set the below condition to get terms page on login with accept button.</p>\n<pre><code>#if (!$is_login_page)\n            #if (!$is_signed_in)\n                &lt;script&gt;\n                    window.location= '/c/portal/login';\n                &lt;/script&gt;\n            #else\n                #if(!$is_accepted)\n                    \n                        &lt;p id=&quot;terms-para&quot; style=&quot;&quot;&gt; CLICK THE ACCEPT BUTTON TO PROCEED. &lt;/p&gt;\n                        &lt;button id=&quot;accept-button&quot;&gt;Accept&lt;/button&gt;\n\n\n                        &lt;div id =&quot;terms-footer&quot; &gt;&lt;/div&gt;\n\n                    &lt;/div&gt;\n                    &lt;script&gt;\n                        var acceptButton = document.getElementById(&quot;accept-button&quot;);\n                        acceptButton.addEventListener('click', ()=&gt;{\n\n                                #set ($is_accepted = $request.getSession().setAttribute(&quot;TERMS_ACCEPTED&quot;, true))\n                                \n                                 window.location.reload();\n                        });\n                    &lt;/script&gt;\n</code></pre>\n<p>I tried this way but on refreshing the page the session attribute is set to true without user being clicked on accept button.</p>\n<p>The approach works well with cookie. But cookie can be edited in the browser and I want to achieve it through session only.</p>\n<p>Can it be achieved through portal_normal.vm or I should make another .jsp page and set it as a default landing page. If later is the solution and don't know how to implement this. Please help</p>\n"},{"tags":["java","docker","tomcat"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666866995,"post_id":74217700,"comment_id":131039180,"body_markdown":"The `readOnlyRootFilesystem: true` option means you can&#39;t write to any non-volume directory, regardless of Unix permissions.  I might arrange for the war file to be in the image itself, rather than downloading it repeatedly on every single startup.","body":"The <code>readOnlyRootFilesystem: true</code> option means you can&#39;t write to any non-volume directory, regardless of Unix permissions.  I might arrange for the war file to be in the image itself, rather than downloading it repeatedly on every single startup."},{"owner":{"account_id":12044141,"reputation":195,"user_id":8809867,"display_name":"mraz"},"score":0,"creation_date":1666888976,"post_id":74217700,"comment_id":131047286,"body_markdown":"I can&#39;t arrange the war file in the image itself because the name can change over time, is there a possibility to create another volume to be able to write there?","body":"I can&#39;t arrange the war file in the image itself because the name can change over time, is there a possibility to create another volume to be able to write there?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666892099,"post_id":74217700,"comment_id":131048283,"body_markdown":"When you `COPY` the file into the image, you can give it a fixed name in the image even if it has something like a version name on the host.","body":"When you <code>COPY</code> the file into the image, you can give it a fixed name in the image even if it has something like a version name on the host."}],"owner":{"account_id":12044141,"reputation":195,"user_id":8809867,"display_name":"mraz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666853137,"creation_date":1666852526,"question_id":74217700,"body_markdown":"I&#39;m trying to deploy a war file downloaded from an S3 Bucket to a Tomcat created docker container deployed in kubernetes but I&#39;m getting the following error:\r\n\r\n```download failed: s3://folder/myapp.war to ../../usr/local/tomcat/webapps/myapp.war [Errno 30] Read-only file system: &#39;/usr/local/tomcat/webapps/myapp.war.8bEd47FD&#39;```\r\n\r\n\r\nThis is my Dockerfile, AWS configuration comes directly from k8s configuration\r\n\r\n\r\n```\r\nFROM tomcat:9.0\r\n\r\nCOPY --from=0 /usr/local/bin/creds-helper  /usr/local/bin/creds-helper\r\n\r\nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends python3 python3-pip python3-setuptools\r\n\r\nRUN pip3 install awscli\r\n\r\nRUN mkdir -p /scripts\r\nCOPY k8s/launch.sh /scripts/\r\n\r\nRUN useradd -m -u 59417 -d /home/nonroot -s /bin/bash nonroot\r\nUSER 59417:59417\r\n\r\nCMD [&quot;/bin/bash&quot;]\r\n```\r\n\r\nThis is the content of launch.sh\r\n\r\n```\r\n#!/bin/bash\r\n\r\naws s3 cp s3://folder/myapp.war /usr/local/tomcat/webapps/myapp.war\r\n\r\ncatalina.sh run\r\n```\r\n\r\nThis is my k8s deployment:\r\n ```\r\n- command: [bash, -c, bash /scripts/launch.sh]\r\n          image: my_dockerfile\r\n          securityContext:\r\n            allowPrivilegeEscalation: false\r\n            readOnlyRootFilesystem: true\r\n            capabilities:\r\n              drop:\r\n                - ALL\r\n          imagePullPolicy: Always\r\n          name: pod_name\r\n          ports:\r\n            - {containerPort: 8888}\r\n          volumeMounts:\r\n            - {mountPath: /home/nonroot, name: nonroot}\r\n            - {mountPath: /secrets, name: secrets}\r\n\r\n ```\r\nI&#39;ve also tried in the Dockerfile\r\n\r\n ``` RUN chmod 777 /usr/local/tomcat/ ``` and ``` RUN chmod -R a+rwx /usr/local/tomcat/ ```\r\n\r\nBut nothing have worked to give me write access to de directory to transfer the file, ```ls -l``` command shows: \r\n```drwxrwxrwx 1 root root   6 Oct 13 18:07 webapps```\r\n\r\n\r\nAny hint or help will be greatly appreciated.\r\n","title":"docker tomcat:9.0 [Errno 30] Read-only file system: &#39;/usr/local/tomcat/webapps/","body":"<p>I'm trying to deploy a war file downloaded from an S3 Bucket to a Tomcat created docker container deployed in kubernetes but I'm getting the following error:</p>\n<p><code>download failed: s3://folder/myapp.war to ../../usr/local/tomcat/webapps/myapp.war [Errno 30] Read-only file system: '/usr/local/tomcat/webapps/myapp.war.8bEd47FD'</code></p>\n<p>This is my Dockerfile, AWS configuration comes directly from k8s configuration</p>\n<pre><code>FROM tomcat:9.0\n\nCOPY --from=0 /usr/local/bin/creds-helper  /usr/local/bin/creds-helper\n\nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends python3 python3-pip python3-setuptools\n\nRUN pip3 install awscli\n\nRUN mkdir -p /scripts\nCOPY k8s/launch.sh /scripts/\n\nRUN useradd -m -u 59417 -d /home/nonroot -s /bin/bash nonroot\nUSER 59417:59417\n\nCMD [&quot;/bin/bash&quot;]\n</code></pre>\n<p>This is the content of launch.sh</p>\n<pre><code>#!/bin/bash\n\naws s3 cp s3://folder/myapp.war /usr/local/tomcat/webapps/myapp.war\n\ncatalina.sh run\n</code></pre>\n<p>This is my k8s deployment:</p>\n<pre><code>- command: [bash, -c, bash /scripts/launch.sh]\n         image: my_dockerfile\n         securityContext:\n           allowPrivilegeEscalation: false\n           readOnlyRootFilesystem: true\n           capabilities:\n             drop:\n               - ALL\n         imagePullPolicy: Always\n         name: pod_name\n         ports:\n           - {containerPort: 8888}\n         volumeMounts:\n           - {mountPath: /home/nonroot, name: nonroot}\n           - {mountPath: /secrets, name: secrets}\n\n</code></pre>\n<p>I've also tried in the Dockerfile</p>\n<p><code>RUN chmod 777 /usr/local/tomcat/</code> and <code>RUN chmod -R a+rwx /usr/local/tomcat/</code></p>\n<p>But nothing have worked to give me write access to de directory to transfer the file, <code>ls -l</code> command shows:\n<code>drwxrwxrwx 1 root root   6 Oct 13 18:07 webapps</code></p>\n<p>Any hint or help will be greatly appreciated.</p>\n"},{"tags":["java","windows","windows-installer","processbuilder","apache-commons-exec"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1666780316,"post_id":74206007,"comment_id":131015428,"body_markdown":"I dont think your Java code will compile...","body":"I dont think your Java code will compile..."},{"owner":{"account_id":9183784,"reputation":184,"user_id":6826792,"accept_rate":11,"display_name":"Bala"},"score":0,"creation_date":1666780599,"post_id":74206007,"comment_id":131015508,"body_markdown":"I dont see any errors while converting to executable jar from eclipse. Then only i am running in remote windows with simple java -jar.","body":"I dont see any errors while converting to executable jar from eclipse. Then only i am running in remote windows with simple java -jar."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666798011,"post_id":74206007,"comment_id":131022134,"body_markdown":"The line `String command = msiexec ...` is not valid Java code.","body":"The line <code>String command = msiexec ...</code> is not valid Java code."},{"owner":{"account_id":9183784,"reputation":184,"user_id":6826792,"accept_rate":11,"display_name":"Bala"},"score":0,"creation_date":1666845390,"post_id":74206007,"comment_id":131033035,"body_markdown":"Missed escape chars in question, Corrected it now @MarkRotteveel, in the above code.","body":"Missed escape chars in question, Corrected it now @MarkRotteveel, in the above code."}],"owner":{"account_id":9183784,"reputation":184,"user_id":6826792,"accept_rate":11,"display_name":"Bala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666852950,"creation_date":1666779109,"question_id":74206007,"body_markdown":"I am trying to install a software with .msi file and it is working fine when I try in the Windows command prompt. But the same is not working in apache commons exec. When I run thru apache commons exec, it says exit code 1639 and the product is not getting installed.\r\n\r\nCommand prompt code:\r\n\r\n    msiexec /i &quot;C:\\Automation\\Products\\product_name.msi&quot; /passive INSTALLDIR=&quot;C:\\Program Files\\product_name&quot; PROCESSINGTEMPFOLDER=&quot;C:\\ProgramData\\Auto\\Temp&quot; SERVICEUSER=&quot;user1&quot; SERVICEDOMAIN=&quot;abc.groupcom.net&quot; SERVICEPASS=&quot;samplepwd&quot; /lv &quot;C:\\Automation\\Products\\Install.log&quot;\r\n\r\nApache Commons exec code:\r\n\r\n    log.info(&quot;Executing install command...&quot;);\r\n    String command = &quot;msiexec /i \\&quot;C:\\\\Automation\\\\Products\\\\product_name.msi\\&quot; /passive INSTALLDIR=\\&quot;C:\\\\Program Files\\\\product_name\\&quot; PROCESSINGTEMPFOLDER=\\&quot;C:\\\\ProgramData\\\\Auto\\\\Temp\\&quot; SERVICEUSER=\\&quot;user1\\&quot; SERVICEDOMAIN=\\&quot;abc.groupcom.net\\&quot; SERVICEPASS=\\&quot;samplepwd\\&quot; /lv \\&quot;C:\\\\Automation\\\\Products\\\\Install.log\\&quot;&quot;;\r\n\tCommandLine cmdLine = CommandLine.parse(&quot;cmd /c &quot;+command);\r\n\tDefaultExecutor executor = new DefaultExecutor();\r\n\texecutor.setExitValue(0);\r\n\tint exitValue = executor.execute(cmdLine);\r\n\tif(exitValue != 0) {\r\n\t\tthrow new Exception(&quot;Error while executing the command...&quot;+command+&quot;::::Exit Value: &quot;+exitValue);\r\n\t}\r\n\r\nI have used java ProcessBuilder and java Process as well, both are giving the same output. But it is working fine and the product gets installed via Command Prompt.\r\n\r\nIn order to avoid the UAC popup, I run my executable jar file thru Task Scheduler with Highest Priviledges.\r\n\r\nHere is a working .exe file command from apache commons exec which is an exe file, but the same is not working for .msi files.\r\n\r\n    &quot;C:\\Automation\\Products\\product_name.exe&quot; /i /ComponentArgs &quot;*&quot;:&quot;/qn /norestart&quot;\r\nKindly help me to go thru this error.\r\n\r\n**EDIT:** Below code also did not worked.\r\n\r\n    log.info(&quot;Executing install command...&quot;);\r\n    String command = &quot;msiexec&quot;;\r\n    String args = &quot;/i \\&quot;C:\\\\Automation\\\\Products\\\\product_name.msi\\&quot; /passive INSTALLDIR=\\&quot;C:\\\\Program Files\\\\product_name\\&quot; PROCESSINGTEMPFOLDER=\\&quot;C:\\\\ProgramData\\\\Auto\\\\Temp\\&quot; SERVICEUSER=\\&quot;user1\\&quot; SERVICEDOMAIN=\\&quot;abc.groupcom.net\\&quot; SERVICEPASS=\\&quot;samplepwd\\&quot; /lv \\&quot;C:\\\\Automation\\\\Products\\\\Install.log\\&quot;&quot;;\r\n\tCommandLine cmdLine = new CommandLine(command);\r\n    cmdLine.addArguments(args);\r\n\tDefaultExecutor executor = new DefaultExecutor();\r\n\texecutor.setExitValue(0);\r\n\tint exitValue = executor.execute(cmdLine);\r\n\tif(exitValue != 0) {\r\n\t\tthrow new Exception(&quot;Error while executing the command...&quot;+command+&quot;::::Exit Value: &quot;+exitValue);\r\n\t}\r\n\r\n ","title":"msi installer is not working with apache commons exec throws exit code 1639","body":"<p>I am trying to install a software with .msi file and it is working fine when I try in the Windows command prompt. But the same is not working in apache commons exec. When I run thru apache commons exec, it says exit code 1639 and the product is not getting installed.</p>\n<p>Command prompt code:</p>\n<pre><code>msiexec /i &quot;C:\\Automation\\Products\\product_name.msi&quot; /passive INSTALLDIR=&quot;C:\\Program Files\\product_name&quot; PROCESSINGTEMPFOLDER=&quot;C:\\ProgramData\\Auto\\Temp&quot; SERVICEUSER=&quot;user1&quot; SERVICEDOMAIN=&quot;abc.groupcom.net&quot; SERVICEPASS=&quot;samplepwd&quot; /lv &quot;C:\\Automation\\Products\\Install.log&quot;\n</code></pre>\n<p>Apache Commons exec code:</p>\n<pre><code>log.info(&quot;Executing install command...&quot;);\nString command = &quot;msiexec /i \\&quot;C:\\\\Automation\\\\Products\\\\product_name.msi\\&quot; /passive INSTALLDIR=\\&quot;C:\\\\Program Files\\\\product_name\\&quot; PROCESSINGTEMPFOLDER=\\&quot;C:\\\\ProgramData\\\\Auto\\\\Temp\\&quot; SERVICEUSER=\\&quot;user1\\&quot; SERVICEDOMAIN=\\&quot;abc.groupcom.net\\&quot; SERVICEPASS=\\&quot;samplepwd\\&quot; /lv \\&quot;C:\\\\Automation\\\\Products\\\\Install.log\\&quot;&quot;;\nCommandLine cmdLine = CommandLine.parse(&quot;cmd /c &quot;+command);\nDefaultExecutor executor = new DefaultExecutor();\nexecutor.setExitValue(0);\nint exitValue = executor.execute(cmdLine);\nif(exitValue != 0) {\n    throw new Exception(&quot;Error while executing the command...&quot;+command+&quot;::::Exit Value: &quot;+exitValue);\n}\n</code></pre>\n<p>I have used java ProcessBuilder and java Process as well, both are giving the same output. But it is working fine and the product gets installed via Command Prompt.</p>\n<p>In order to avoid the UAC popup, I run my executable jar file thru Task Scheduler with Highest Priviledges.</p>\n<p>Here is a working .exe file command from apache commons exec which is an exe file, but the same is not working for .msi files.</p>\n<pre><code>&quot;C:\\Automation\\Products\\product_name.exe&quot; /i /ComponentArgs &quot;*&quot;:&quot;/qn /norestart&quot;\n</code></pre>\n<p>Kindly help me to go thru this error.</p>\n<p><strong>EDIT:</strong> Below code also did not worked.</p>\n<pre><code>log.info(&quot;Executing install command...&quot;);\nString command = &quot;msiexec&quot;;\nString args = &quot;/i \\&quot;C:\\\\Automation\\\\Products\\\\product_name.msi\\&quot; /passive INSTALLDIR=\\&quot;C:\\\\Program Files\\\\product_name\\&quot; PROCESSINGTEMPFOLDER=\\&quot;C:\\\\ProgramData\\\\Auto\\\\Temp\\&quot; SERVICEUSER=\\&quot;user1\\&quot; SERVICEDOMAIN=\\&quot;abc.groupcom.net\\&quot; SERVICEPASS=\\&quot;samplepwd\\&quot; /lv \\&quot;C:\\\\Automation\\\\Products\\\\Install.log\\&quot;&quot;;\nCommandLine cmdLine = new CommandLine(command);\ncmdLine.addArguments(args);\nDefaultExecutor executor = new DefaultExecutor();\nexecutor.setExitValue(0);\nint exitValue = executor.execute(cmdLine);\nif(exitValue != 0) {\n    throw new Exception(&quot;Error while executing the command...&quot;+command+&quot;::::Exit Value: &quot;+exitValue);\n}\n</code></pre>\n"},{"tags":["java","hazelcast","vert.x"],"answers":[{"comments":[{"owner":{"account_id":25484493,"reputation":17,"user_id":19280246,"display_name":"V&#245; Khắc Bảo"},"score":0,"creation_date":1666845841,"post_id":74216795,"comment_id":131033114,"body_markdown":"Thank you very much. Can you tell me that final SharedData sd = vertx.sharedData(); is it safe for multiple concurrent HTTP requests when I want to read and write from it?","body":"Thank you very much. Can you tell me that final SharedData sd = vertx.sharedData(); is it safe for multiple concurrent HTTP requests when I want to read and write from it?"},{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1666877287,"post_id":74216795,"comment_id":131042758,"body_markdown":"yes it is. Btw, multiple http requests on the same verticle are on the same thread.  If you are trying to learn Vert.x  check out my course on udemy - https://www.udemy.com/course/backend-development-with-vertx/?referralCode=063C2D57CCB957C5088C -","body":"yes it is. Btw, multiple http requests on the same verticle are on the same thread.  If you are trying to learn Vert.x  check out my course on udemy - <a href=\"https://www.udemy.com/course/backend-development-with-vertx/?referralCode=063C2D57CCB957C5088C\" rel=\"nofollow noreferrer\">udemy.com/course/backend-development-with-vertx/&hellip;</a> -"}],"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666844677,"creation_date":1666844677,"answer_id":74216795,"question_id":74216774,"body_markdown":"There is a lot mixed up here.\r\n\r\n&gt; vertx.executeBlocking\r\n\r\nIs a way to off load blocking work onto a worker thread. If you are doing something that is not async on the event loop - this is a convenience method so that you can offload that work to a background thread to not block the event loop. It has nothing to do with &#39;syncing&#39; read/writes\r\n\r\n&gt; I am afraid that if I don&#39;t sync it\r\n\r\nHazelcast is already concurrency safe - so you should increment it and hazelcast will do the &#39;sync&#39;\r\n\r\nIf all you want is a counter then you should just have a simple AtomicLong that gets incremented instead of dealing with hazelcast","title":"Synchronous read and write to Hazelcast from concurrent HTTP requests in Vert.x","body":"<p>There is a lot mixed up here.</p>\n<blockquote>\n<p>vertx.executeBlocking</p>\n</blockquote>\n<p>Is a way to off load blocking work onto a worker thread. If you are doing something that is not async on the event loop - this is a convenience method so that you can offload that work to a background thread to not block the event loop. It has nothing to do with 'syncing' read/writes</p>\n<blockquote>\n<p>I am afraid that if I don't sync it</p>\n</blockquote>\n<p>Hazelcast is already concurrency safe - so you should increment it and hazelcast will do the 'sync'</p>\n<p>If all you want is a counter then you should just have a simple AtomicLong that gets incremented instead of dealing with hazelcast</p>\n"},{"tags":[],"owner":{"account_id":10907801,"reputation":113,"user_id":8018059,"display_name":"FranzF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666852611,"creation_date":1666852611,"answer_id":74217710,"question_id":74216774,"body_markdown":"You could use Counter class in Vert.x library https://vertx.io/docs/apidocs/io/vertx/core/shareddata/Counter.html. It is distributed counter. executeBlocking method won&#39;t work in multi instance environment.","title":"Synchronous read and write to Hazelcast from concurrent HTTP requests in Vert.x","body":"<p>You could use Counter class in Vert.x library <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/shareddata/Counter.html\" rel=\"nofollow noreferrer\">https://vertx.io/docs/apidocs/io/vertx/core/shareddata/Counter.html</a>. It is distributed counter. executeBlocking method won't work in multi instance environment.</p>\n"}],"owner":{"account_id":25484493,"reputation":17,"user_id":19280246,"display_name":"V&#245; Khắc Bảo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74216795,"answer_count":2,"score":1,"last_activity_date":1666852611,"creation_date":1666844402,"question_id":74216774,"body_markdown":"I&#39;m trying to solve a problem where multiple concurrent HTTP requests are coming in and the server will read and increment the value stored in Hazelcast by 1. For example there are 3 incoming requests, the previous number value from 0 will increase to 1, keep increasing to 2 when processing request 2 and increasing to 3 when processing request 3. I am afraid that if I don&#39;t sync it, HTTP requests may read and write the old value causing problem of data inconsistency. I researched and found the method using &quot;vertx.executeBlocking(future{});&quot;. \r\n\r\n    vertx.executeBlocking(future -&gt; {\r\n            }, res -&gt; {\r\n            });\r\n\r\nHowever, I don&#39;t know if using this method will synchronize the problem of reading and writing HTTP requests simultaneously or not? Or is there any solution for me to solve the above problem? I would be very grateful and appreciative of that. Thank","title":"Synchronous read and write to Hazelcast from concurrent HTTP requests in Vert.x","body":"<p>I'm trying to solve a problem where multiple concurrent HTTP requests are coming in and the server will read and increment the value stored in Hazelcast by 1. For example there are 3 incoming requests, the previous number value from 0 will increase to 1, keep increasing to 2 when processing request 2 and increasing to 3 when processing request 3. I am afraid that if I don't sync it, HTTP requests may read and write the old value causing problem of data inconsistency. I researched and found the method using &quot;vertx.executeBlocking(future{});&quot;.</p>\n<pre><code>vertx.executeBlocking(future -&gt; {\n        }, res -&gt; {\n        });\n</code></pre>\n<p>However, I don't know if using this method will synchronize the problem of reading and writing HTTP requests simultaneously or not? Or is there any solution for me to solve the above problem? I would be very grateful and appreciative of that. Thank</p>\n"},{"tags":["java","newrelic","nrql"],"owner":{"account_id":2663348,"reputation":277,"user_id":2302497,"accept_rate":61,"display_name":"Jocelyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666852437,"creation_date":1666796961,"question_id":74210062,"body_markdown":"From a Java app, I would like to send some custom parameters to our NewRelic agent (7.9.0), like this (seems that only booleans, integers and strings are accepted):\r\n\r\n    NewRelic.addCustomParameter(&quot;myList&quot;, &quot;comma,separated,list,as,a,string&quot;);\r\n\r\nAttribute myList is then in my NR transactions, as a string, readable.\r\n\r\nThen, how can I represent this &quot;list&quot; in a dashboard pie chart with NRQL? I would like to split this comma-separated list and use each element as a facet. If I do it with facet clauses (where...) only the first match is shown in the pie chart.\r\n\r\nIn other world, with thoses two calls:\r\n\r\n    NewRelic.addCustomParameter(&quot;myList&quot;, &quot;e1,e2,e3&quot;);\r\n    NewRelic.addCustomParameter(&quot;myList&quot;, &quot;e1,e2,e4&quot;);\r\n\r\nI would expect a pie chart showing:\r\n\r\n    e1 = 2,\r\n    e2 = 2,\r\n    e3 = 1,\r\n    e4 = 1\r\n\r\nBeginner with NR, I don&#39;t know how to transform this. And as the whole thing is transaction-based, I even don&#39;t known if I can get multiple facets for a same transaction.\r\n","title":"How to represent a comma-separated list in a NewRelic pie chart?","body":"<p>From a Java app, I would like to send some custom parameters to our NewRelic agent (7.9.0), like this (seems that only booleans, integers and strings are accepted):</p>\n<pre><code>NewRelic.addCustomParameter(&quot;myList&quot;, &quot;comma,separated,list,as,a,string&quot;);\n</code></pre>\n<p>Attribute myList is then in my NR transactions, as a string, readable.</p>\n<p>Then, how can I represent this &quot;list&quot; in a dashboard pie chart with NRQL? I would like to split this comma-separated list and use each element as a facet. If I do it with facet clauses (where...) only the first match is shown in the pie chart.</p>\n<p>In other world, with thoses two calls:</p>\n<pre><code>NewRelic.addCustomParameter(&quot;myList&quot;, &quot;e1,e2,e3&quot;);\nNewRelic.addCustomParameter(&quot;myList&quot;, &quot;e1,e2,e4&quot;);\n</code></pre>\n<p>I would expect a pie chart showing:</p>\n<pre><code>e1 = 2,\ne2 = 2,\ne3 = 1,\ne4 = 1\n</code></pre>\n<p>Beginner with NR, I don't know how to transform this. And as the whole thing is transaction-based, I even don't known if I can get multiple facets for a same transaction.</p>\n"},{"tags":["java","android","android-fragments","firebase-realtime-database"],"comments":[{"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"score":0,"creation_date":1666852724,"post_id":74217654,"comment_id":131034373,"body_markdown":"notify adapter inside onDataChange method.","body":"notify adapter inside onDataChange method."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666870185,"post_id":74217654,"comment_id":131040153,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1666989615,"post_id":74217654,"comment_id":131073231,"body_markdown":"Try looking at [Show Firebase Database Data into a RecyclerView ListView Tutorial](https://www.android-examples.com/show-firebase-database-data-into-recyclerview/?adlt=strict&amp;toWww=1&amp;redig=957268A9C63744F0A364AA21405F061A).","body":"Try looking at <a href=\"https://www.android-examples.com/show-firebase-database-data-into-recyclerview/?adlt=strict&amp;toWww=1&amp;redig=957268A9C63744F0A364AA21405F061A\" rel=\"nofollow noreferrer\">Show Firebase Database Data into a RecyclerView ListView Tutorial</a>."}],"owner":{"account_id":22486997,"reputation":51,"user_id":16685250,"display_name":"Priyantha Fernando"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666852143,"creation_date":1666852143,"question_id":74217654,"body_markdown":"How can I take data from Firebase into a recyclerview and show it inside a fragment?\r\n\r\nI followed [This](https://www.youtube.com/watch?v=UBgXVGgTaHk&amp;list=PPSV&amp;ab_channel=Foxandroid) video to create a recyclerview inside a fragment. But in it the data is static. (retrieved from the strings file)\r\n\r\nI then tried to incorporate [this][1] video to retrieve data from Firebase.\r\n\r\nBut it doesn&#39;t work. Maybe I have to call the functions in a different override??\r\n&lt;hr /&gt;&lt;br /&gt;\r\nMy Fragment Class (HomeFragemnt.java)\r\n\r\n```\r\npackage com.example.foodapp.deliverer;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.foodapp.R;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class HomeFragment extends Fragment {\r\n\r\n    private ArrayList&lt;OrderItem&gt; orderItemArrayList;\r\n    RecyclerView recyclerview;\r\n    DatabaseReference DB;\r\n    ItemRecyclerAdapter itemRecyclerAdapter;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view =  inflater.inflate(R.layout.delivery_fragment_home, container, false);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        recyclerview = view.findViewById(R.id.delivery_orders_recyclerView);\r\n        DB = FirebaseDatabase.getInstance().getReference(&quot;Delivery&quot;);\r\n        recyclerview.setHasFixedSize(true);\r\n        recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        orderItemArrayList = new ArrayList&lt;&gt;();\r\n        itemRecyclerAdapter = new ItemRecyclerAdapter(getContext(), orderItemArrayList);\r\n        recyclerview.setAdapter(itemRecyclerAdapter);\r\n\r\n        DB.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot dataSnapshot: snapshot.getChildren()){\r\n                    OrderItem item = dataSnapshot.child(&quot;Delivery&quot;).getValue(OrderItem.class);\r\n                    orderItemArrayList.add(item);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        itemRecyclerAdapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\n&lt;hr /&gt;\r\n&lt;br /&gt;\r\nMy Fragment Layout (delivery_fragment_home.xml)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/linearLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.deliverer.HomeFragment&quot; &gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/delivery_orders_recyclerView&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;729dp&quot;\r\n        android:background=&quot;#CDDC39&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@layout/delivery_orderitem&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n&lt;hr /&gt;&lt;br /&gt;\r\nItem into Recyclerview class (OrderItem.java) \r\n\r\n```\r\npackage com.example.foodapp.deliverer;\r\n\r\npublic class OrderItem {\r\n    private String orderID;\r\n    private String Address;\r\n\r\n    public OrderItem(String orderID, String Address) {\r\n        this.orderID = orderID;\r\n        this.Address = Address;\r\n    }\r\n\r\n    public String getOrderID() {\r\n        return orderID;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return Address;\r\n    }\r\n}\r\n\r\n```\r\n&lt;hr /&gt;&lt;br /&gt;\r\nItem into recyclerview layout (delivery_orderItem.xml)\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;@string/lbl_orderId&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:text=&quot;@string/lbl_address&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/lbl_orderId&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;12dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/textView2&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/lbl_address&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/lbl_orderId&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/lbl_orderId&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n&lt;hr /&gt;&lt;br /&gt;\r\nAdapter class (ItemRecyclerAdapter.java)\r\n\r\n```\r\npackage com.example.foodapp.deliverer;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.foodapp.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ItemRecyclerAdapter extends RecyclerView.Adapter&lt;ItemRecyclerAdapter.DriverItemViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;OrderItem&gt; itemArrayList;\r\n\r\n    public ItemRecyclerAdapter(Context context, ArrayList&lt;OrderItem&gt; itemList) {\r\n        this.context = context;\r\n        this.itemArrayList = itemList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DriverItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View v = LayoutInflater.from(context).inflate(R.layout.delivery_orderitem, parent, false);\r\n        return new DriverItemViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ItemRecyclerAdapter.DriverItemViewHolder holder, int position) {\r\n        OrderItem order = itemArrayList.get(position);\r\n        holder.orderID.setText(order.getOrderID());\r\n        holder.address.setText(order.getAddress());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return itemArrayList .size();\r\n    }\r\n\r\n\r\n    public static class DriverItemViewHolder extends RecyclerView.ViewHolder{\r\n        private TextView orderID;\r\n        private TextView address;\r\n\r\n\r\n        public DriverItemViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            this.orderID = itemView.findViewById(R.id.lbl_orderId);\r\n            this.address = itemView.findViewById(R.id.lbl_address);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n[1]: https://www.youtube.com/watch?v=M8sKwoVjqU0&amp;ab_channel=Foxandroid","title":"Show data from Firebase in a Recyclerview in a Fragment | Java","body":"<p>How can I take data from Firebase into a recyclerview and show it inside a fragment?</p>\n<p>I followed <a href=\"https://www.youtube.com/watch?v=UBgXVGgTaHk&amp;list=PPSV&amp;ab_channel=Foxandroid\" rel=\"nofollow noreferrer\">This</a> video to create a recyclerview inside a fragment. But in it the data is static. (retrieved from the strings file)</p>\n<p>I then tried to incorporate <a href=\"https://www.youtube.com/watch?v=M8sKwoVjqU0&amp;ab_channel=Foxandroid\" rel=\"nofollow noreferrer\">this</a> video to retrieve data from Firebase.</p>\n<p>But it doesn't work. Maybe I have to call the functions in a different override??</p>\n<hr /><br />\nMy Fragment Class (HomeFragemnt.java)\n<pre><code>package com.example.foodapp.deliverer;\n\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.example.foodapp.R;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class HomeFragment extends Fragment {\n\n    private ArrayList&lt;OrderItem&gt; orderItemArrayList;\n    RecyclerView recyclerview;\n    DatabaseReference DB;\n    ItemRecyclerAdapter itemRecyclerAdapter;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view =  inflater.inflate(R.layout.delivery_fragment_home, container, false);\n\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        recyclerview = view.findViewById(R.id.delivery_orders_recyclerView);\n        DB = FirebaseDatabase.getInstance().getReference(&quot;Delivery&quot;);\n        recyclerview.setHasFixedSize(true);\n        recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\n\n        orderItemArrayList = new ArrayList&lt;&gt;();\n        itemRecyclerAdapter = new ItemRecyclerAdapter(getContext(), orderItemArrayList);\n        recyclerview.setAdapter(itemRecyclerAdapter);\n\n        DB.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot: snapshot.getChildren()){\n                    OrderItem item = dataSnapshot.child(&quot;Delivery&quot;).getValue(OrderItem.class);\n                    orderItemArrayList.add(item);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        itemRecyclerAdapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<hr />\n<br />\nMy Fragment Layout (delivery_fragment_home.xml)\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.deliverer.HomeFragment&quot; &gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/delivery_orders_recyclerView&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;729dp&quot;\n        android:background=&quot;#CDDC39&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:listitem=&quot;@layout/delivery_orderitem&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<hr /><br />\nItem into Recyclerview class (OrderItem.java) \n<pre><code>package com.example.foodapp.deliverer;\n\npublic class OrderItem {\n    private String orderID;\n    private String Address;\n\n    public OrderItem(String orderID, String Address) {\n        this.orderID = orderID;\n        this.Address = Address;\n    }\n\n    public String getOrderID() {\n        return orderID;\n    }\n\n    public String getAddress() {\n        return Address;\n    }\n}\n\n</code></pre>\n<hr /><br />\nItem into recyclerview layout (delivery_orderItem.xml)\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;@string/lbl_orderId&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;15dp&quot;\n        android:text=&quot;@string/lbl_address&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/lbl_orderId&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;12dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/textView2&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/lbl_address&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;15dp&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/lbl_orderId&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/lbl_orderId&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<hr /><br />\nAdapter class (ItemRecyclerAdapter.java)\n<pre><code>package com.example.foodapp.deliverer;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.foodapp.R;\n\nimport java.util.ArrayList;\n\npublic class ItemRecyclerAdapter extends RecyclerView.Adapter&lt;ItemRecyclerAdapter.DriverItemViewHolder&gt; {\n    Context context;\n    ArrayList&lt;OrderItem&gt; itemArrayList;\n\n    public ItemRecyclerAdapter(Context context, ArrayList&lt;OrderItem&gt; itemList) {\n        this.context = context;\n        this.itemArrayList = itemList;\n    }\n\n    @NonNull\n    @Override\n    public DriverItemViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(context).inflate(R.layout.delivery_orderitem, parent, false);\n        return new DriverItemViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ItemRecyclerAdapter.DriverItemViewHolder holder, int position) {\n        OrderItem order = itemArrayList.get(position);\n        holder.orderID.setText(order.getOrderID());\n        holder.address.setText(order.getAddress());\n    }\n\n    @Override\n    public int getItemCount() {\n        return itemArrayList .size();\n    }\n\n\n    public static class DriverItemViewHolder extends RecyclerView.ViewHolder{\n        private TextView orderID;\n        private TextView address;\n\n\n        public DriverItemViewHolder(@NonNull View itemView) {\n            super(itemView);\n            this.orderID = itemView.findViewById(R.id.lbl_orderId);\n            this.address = itemView.findViewById(R.id.lbl_address);\n        }\n    }\n}\n\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21462813,"reputation":36,"user_id":15813237,"display_name":"Trista Pan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666851868,"creation_date":1666851868,"answer_id":74217626,"question_id":74173099,"body_markdown":"It looks interesting. Could I know why you want to extend this interface?\r\n\r\nFrom my understanding, ShardingSphere calls this interface for each column-value to encrypt and decrypt it as a unit, e.g, `tel` = `123`, since ShardingSphere will parse your SQL, split a `Where condition` into many such units which will be handled by this interface iteratively.\r\n\r\nSo, sorry I have no idea why you want to have a parameter `List&lt;String&gt; decryptList`. Thanks.","title":"How to customize batch encryption in ShardingSphere-JDBC Encryption","body":"<p>It looks interesting. Could I know why you want to extend this interface?</p>\n<p>From my understanding, ShardingSphere calls this interface for each column-value to encrypt and decrypt it as a unit, e.g, <code>tel</code> = <code>123</code>, since ShardingSphere will parse your SQL, split a <code>Where condition</code> into many such units which will be handled by this interface iteratively.</p>\n<p>So, sorry I have no idea why you want to have a parameter <code>List&lt;String&gt; decryptList</code>. Thanks.</p>\n"}],"owner":{"account_id":16631383,"reputation":21,"user_id":12019163,"display_name":"tian-xiaocai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666851868,"creation_date":1666544527,"question_id":74173099,"body_markdown":"In ShardingSphere ,how to customize the encryption algorithm to achieve batch encryption in ‘EncryptAlgorithm’ and ‘QueryAssistedEncryptAlgorithm’ class. Currently, both ‘EncryptAlgorithm’ and ‘QueryAssistedEncryptAlgorithm’ just supply methods such as below:\r\n```\r\npublic String encrypt(Object o)\r\n\r\npublic Object decrypt(String s) \r\n```\r\nnow, I want to refactor the interface to refactor bathch encrypt similar to ：\r\n```\r\npublic String encrypt(List&lt;String&gt; encryptList)\r\n\r\npublic Object decrypt(List&lt;String&gt; decryptList) \r\n```","title":"How to customize batch encryption in ShardingSphere-JDBC Encryption","body":"<p>In ShardingSphere ,how to customize the encryption algorithm to achieve batch encryption in ‘EncryptAlgorithm’ and ‘QueryAssistedEncryptAlgorithm’ class. Currently, both ‘EncryptAlgorithm’ and ‘QueryAssistedEncryptAlgorithm’ just supply methods such as below:</p>\n<pre><code>public String encrypt(Object o)\n\npublic Object decrypt(String s) \n</code></pre>\n<p>now, I want to refactor the interface to refactor bathch encrypt similar to ：</p>\n<pre><code>public String encrypt(List&lt;String&gt; encryptList)\n\npublic Object decrypt(List&lt;String&gt; decryptList) \n</code></pre>\n"},{"tags":["java","mongodb","spring-batch","itemwriter"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666851682,"creation_date":1666851682,"answer_id":74217602,"question_id":74209320,"body_markdown":"&gt; I don&#39;t find a solution to override the MongoItemWriter to write some List of object and not object.\r\n\r\nThe way you defined your custom item writer is correct:\r\n\r\n```\r\npublic class RapprochementMongoWriter&lt;T&gt; extends MongoItemWriter&lt;List&lt;T&gt;&gt; {\r\n\r\n   private MongoItemWriter&lt;T&gt; delegate;\r\n\r\n   //...\r\n\r\n}\r\n```\r\n\r\nHowever, you should not call the delegate for each list like this:\r\n\r\n\r\n```\r\n  @Override\r\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\r\n    for (final List&lt;T&gt; list : lists) {\r\n      delegate.write(list);\r\n    }\r\n  }\r\n```\r\n\r\n\r\nWhat you should do instead is &quot;flatten&quot; the items in a single list and call the delegate once, something like this:\r\n\r\n```\r\n  @Override\r\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\r\n    List&lt;T&gt; flatList = new ArrayList();\r\n    for (final List&lt;T&gt; list : lists) {\r\n       for (T item: list) {\r\n          flatList.add(item);\r\n       }\r\n    }\r\n    delegate.write(flatList);\r\n  }\r\n```\r\n\r\nPlease note that I did not compile that snippet, so I will let you adapt it if needed, but you got the idea.","title":"How to use MongoItemWriter to write a List&lt;T&gt;","body":"<blockquote>\n<p>I don't find a solution to override the MongoItemWriter to write some List of object and not object.</p>\n</blockquote>\n<p>The way you defined your custom item writer is correct:</p>\n<pre><code>public class RapprochementMongoWriter&lt;T&gt; extends MongoItemWriter&lt;List&lt;T&gt;&gt; {\n\n   private MongoItemWriter&lt;T&gt; delegate;\n\n   //...\n\n}\n</code></pre>\n<p>However, you should not call the delegate for each list like this:</p>\n<pre><code>  @Override\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\n    for (final List&lt;T&gt; list : lists) {\n      delegate.write(list);\n    }\n  }\n</code></pre>\n<p>What you should do instead is &quot;flatten&quot; the items in a single list and call the delegate once, something like this:</p>\n<pre><code>  @Override\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\n    List&lt;T&gt; flatList = new ArrayList();\n    for (final List&lt;T&gt; list : lists) {\n       for (T item: list) {\n          flatList.add(item);\n       }\n    }\n    delegate.write(flatList);\n  }\n</code></pre>\n<p>Please note that I did not compile that snippet, so I will let you adapt it if needed, but you got the idea.</p>\n"}],"owner":{"account_id":15890024,"reputation":165,"user_id":11465420,"display_name":"jenoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74217602,"answer_count":1,"score":0,"last_activity_date":1666851682,"creation_date":1666793887,"question_id":74209320,"body_markdown":"My processor return a List of Object but I don&#39;t find a solution to override the MongoItemWriter to write some List of object and not object.\r\n\r\nI tried this.\r\nMy processor :\r\n\r\n```\r\n @Override\r\n  public List&lt;PlaqueLueEntity&gt; process(PlaqueSousSurveillanceEntity item) {\r\n    log.trace(&quot;Traitement d&#39;une entr&#233;e PlaqueSousSurveillanceEntity: {}&quot;, item);\r\n\r\n    List&lt;PlaqueLue&gt; rapprochements = this.rapprochementUseCase.findRapprochementByPlaque(item.getPlaque());\r\n    if (rapprochements.isEmpty()) {\r\n      return null;\r\n    }\r\n    for (PlaqueLue rapprochement : rapprochements) {\r\n      rapprochement.setRapprochement(true);\r\n      rapprochement.setHorodatageRapprochement(LocalDateTime.now());\r\n    }\r\n    List&lt;PlaqueLueEntity&gt; plaqueLueEntities =\r\n        rapprochements.stream().map(this.plateDetectionMapper::plateDetectionToPlateDetectionEntity).toList();\r\n    return plaqueLueEntities;\r\n  }\r\n```\r\n\r\nMy writer \r\n```\r\npublic class RapprochementMongoWriter&lt;T&gt; extends MongoItemWriter&lt;List&lt;T&gt;&gt; {\r\n  private MongoOperations template;\r\n  private MongoItemWriter&lt;T&gt; delegate;\r\n\r\n  @Override\r\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\r\n    for (final List&lt;T&gt; list : lists) {\r\n      delegate.write(list);\r\n    }\r\n  }\r\n  @Bean\r\n  public MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; writer(MongoTemplate mongoTemplate,\r\n      BatchConfigurationProperties batchConfigurationProperties) {\r\n    MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; writer = new MongoItemWriter&lt;&gt;();\r\n    writer.setTemplate(mongoTemplate);\r\n    writer.setCollection(String.valueOf(CollectionEnum.COLLECTION.PLAQUE_LUE));\r\n    return writer;\r\n  }\r\n```\r\n\r\nAnd I defined in my BatchConfiguration:\r\n```\r\n  @Bean\r\n  public MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; rapprochementWriter() {\r\n    return new RapprochementMongoWriter().writer(mongoTemplate, batchConfigurationProperties);\r\n  }\r\n```\r\n\r\nBut before I can debug on my writer I got this error:\r\n\r\n`class org.bson.Document cannot be cast to class java.util.Collection (org.bson.Document is in unnamed module of loader &#39;app&#39;; java.util.Collection is in module java.base of loader &#39;bootstrap&#39;)`\r\n\r\nAnd :\r\n`Attempt to update step execution id=1 with wrong version (1), where current version is 2`\r\n","title":"How to use MongoItemWriter to write a List&lt;T&gt;","body":"<p>My processor return a List of Object but I don't find a solution to override the MongoItemWriter to write some List of object and not object.</p>\n<p>I tried this.\nMy processor :</p>\n<pre><code> @Override\n  public List&lt;PlaqueLueEntity&gt; process(PlaqueSousSurveillanceEntity item) {\n    log.trace(&quot;Traitement d'une entrée PlaqueSousSurveillanceEntity: {}&quot;, item);\n\n    List&lt;PlaqueLue&gt; rapprochements = this.rapprochementUseCase.findRapprochementByPlaque(item.getPlaque());\n    if (rapprochements.isEmpty()) {\n      return null;\n    }\n    for (PlaqueLue rapprochement : rapprochements) {\n      rapprochement.setRapprochement(true);\n      rapprochement.setHorodatageRapprochement(LocalDateTime.now());\n    }\n    List&lt;PlaqueLueEntity&gt; plaqueLueEntities =\n        rapprochements.stream().map(this.plateDetectionMapper::plateDetectionToPlateDetectionEntity).toList();\n    return plaqueLueEntities;\n  }\n</code></pre>\n<p>My writer</p>\n<pre><code>public class RapprochementMongoWriter&lt;T&gt; extends MongoItemWriter&lt;List&lt;T&gt;&gt; {\n  private MongoOperations template;\n  private MongoItemWriter&lt;T&gt; delegate;\n\n  @Override\n  public void write(final List&lt;? extends List&lt;T&gt;&gt; lists) throws Exception {\n    for (final List&lt;T&gt; list : lists) {\n      delegate.write(list);\n    }\n  }\n  @Bean\n  public MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; writer(MongoTemplate mongoTemplate,\n      BatchConfigurationProperties batchConfigurationProperties) {\n    MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; writer = new MongoItemWriter&lt;&gt;();\n    writer.setTemplate(mongoTemplate);\n    writer.setCollection(String.valueOf(CollectionEnum.COLLECTION.PLAQUE_LUE));\n    return writer;\n  }\n</code></pre>\n<p>And I defined in my BatchConfiguration:</p>\n<pre><code>  @Bean\n  public MongoItemWriter&lt;List&lt;PlaqueLueEntity&gt;&gt; rapprochementWriter() {\n    return new RapprochementMongoWriter().writer(mongoTemplate, batchConfigurationProperties);\n  }\n</code></pre>\n<p>But before I can debug on my writer I got this error:</p>\n<p><code>class org.bson.Document cannot be cast to class java.util.Collection (org.bson.Document is in unnamed module of loader 'app'; java.util.Collection is in module java.base of loader 'bootstrap')</code></p>\n<p>And :\n<code>Attempt to update step execution id=1 with wrong version (1), where current version is 2</code></p>\n"},{"tags":["java","caching","weak-references","weakhashmap"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1666850336,"post_id":74217355,"comment_id":131033841,"body_markdown":"one small optimization can be done here, you can add additional null check outside synchrnozied block so that you do not need to enter expensive critical section for null check.","body":"one small optimization can be done here, you can add additional null check outside synchrnozied block so that you do not need to enter expensive critical section for null check."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1666850852,"post_id":74217355,"comment_id":131033971,"body_markdown":"Oh I just noticed that my implementation is wrong. The key reference will never be dequeued. the value still has a strong reference for that.","body":"Oh I just noticed that my implementation is wrong. The key reference will never be dequeued. the value still has a strong reference for that."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666851590,"creation_date":1666851277,"answer_id":74217532,"question_id":74217355,"body_markdown":"The true answer depends on how you want your cache to behave. Typically you introduce a cache to prevent having to load the data from some expensive source repeatedly. And for the cache to not grow unlimited, you would add management functions setting the maximum size, time to live or removing the oldest entries when new ones are added.\r\n\r\nAs long as your cache keeps normal references to the cached objects, the garbage collector won&#39;t evict them from memory. But when memory becomes the limit, would you like your cache to shrink? Can the garbage collector decide to remove some of the objects?\r\n\r\nTo allow such behaviour, change the &#39;normal references&#39; into SoftReference, WeakReference or even PhantomReference. Which of them is best depends on your requirements. I&#39;d probably go for SoftReferences, as the documentation says:\r\n\r\n*Soft reference objects, which are cleared at the discretion of the garbage collector in response to memory demand. Soft references are most often used to implement memory-sensitive caches.* \r\n\r\nSee https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/package-summary.html\r\n\r\n**Followup answer:**\r\nLookup the documentation for [Reference.get()][1]:\r\n\r\n*Returns: The object to which this reference refers, or null if this reference object has been cleared*\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/Reference.html#get()","title":"How can I cache where a value has a strong reference to its key?","body":"<p>The true answer depends on how you want your cache to behave. Typically you introduce a cache to prevent having to load the data from some expensive source repeatedly. And for the cache to not grow unlimited, you would add management functions setting the maximum size, time to live or removing the oldest entries when new ones are added.</p>\n<p>As long as your cache keeps normal references to the cached objects, the garbage collector won't evict them from memory. But when memory becomes the limit, would you like your cache to shrink? Can the garbage collector decide to remove some of the objects?</p>\n<p>To allow such behaviour, change the 'normal references' into SoftReference, WeakReference or even PhantomReference. Which of them is best depends on your requirements. I'd probably go for SoftReferences, as the documentation says:</p>\n<p><em>Soft reference objects, which are cleared at the discretion of the garbage collector in response to memory demand. Soft references are most often used to implement memory-sensitive caches.</em></p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/package-summary.html</a></p>\n<p><strong>Followup answer:</strong>\nLookup the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/Reference.html#get()\" rel=\"nofollow noreferrer\">Reference.get()</a>:</p>\n<p><em>Returns: The object to which this reference refers, or null if this reference object has been cleared</em></p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74217532,"answer_count":1,"score":0,"last_activity_date":1666851590,"creation_date":1666849920,"question_id":74217355,"body_markdown":"I have class whose instances can create a self-wrapped copy of its own.\r\n\r\n```java\r\nclass Some {\r\n\r\n    static class Nullable extends Some {\r\n\r\n        Nullable(Some wrapped) { this.wrapped = wrapped; }\r\n\r\n        @Override public void doSome() {}\r\n\r\n        final Some wrapped;\r\n    }\r\n\r\n    Some nullable() {\r\n        new Nullable(this);\r\n    }\r\n\r\n    public void soSome() {}\r\n}\r\n```\r\n\r\nNow I need to implement some caching for a `Some` value and its `nullable()` value.\r\n\r\nI found I shouldn&#39;t use the `WeakHashMap&lt;Some, Some&gt;` cuz each has a strong reference to the key(`wrapped`), right?\r\n\r\nHow can I implement caching with/without changing the `Some` class, without any 3rd party library?\r\n\r\nI&#39;m trying to do like this. Is this the way?\r\n\r\n```java\r\n    private static final Map&lt;Some, Some&gt; MAP = new HashMap&lt;&gt;(); // TODO: synchronize!\r\n\r\n    private static final ReferenceQueue&lt;Some&gt; QUEUE = new ReferenceQueue&lt;&gt;();\r\n\r\n    private static volatile Thread thread = null;\r\n\r\n    @SuppressWarnings({&quot;unchecked&quot;})\r\n    static Some get(final Some some) {\r\n        synchronized (TheClass.class) {\r\n            if (thread == null) {\r\n                thread = new Thread(() -&gt; {\r\n                    while (true) {\r\n                        try {\r\n                            Reference&lt;? extends Some&gt; reference = QUEUE.remove();\r\n                            Some key = reference.get(); // can be null?\r\n                            Some value = MAP.remove(key);\r\n                        } catch (final InterruptedException ie) {\r\n                            Thread.currentThread().interrupt();\r\n                        }\r\n                    }\r\n                });\r\n                thread.setDaemon(true);\r\n                thread.start();\r\n            }\r\n        }\r\n        return (T) MAP.computeIfAbsent(some, k -&gt; {\r\n            final boolean enqueued = new WeakReference&lt;&gt;(k, QUEUE).enqueue();\r\n            assert enqueued;\r\n            return k.nullable();\r\n        });\r\n    }\r\n```\r\n\r\nFollow-up question. Can the `reference.get()` part really return `null`?","title":"How can I cache where a value has a strong reference to its key?","body":"<p>I have class whose instances can create a self-wrapped copy of its own.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Some {\n\n    static class Nullable extends Some {\n\n        Nullable(Some wrapped) { this.wrapped = wrapped; }\n\n        @Override public void doSome() {}\n\n        final Some wrapped;\n    }\n\n    Some nullable() {\n        new Nullable(this);\n    }\n\n    public void soSome() {}\n}\n</code></pre>\n<p>Now I need to implement some caching for a <code>Some</code> value and its <code>nullable()</code> value.</p>\n<p>I found I shouldn't use the <code>WeakHashMap&lt;Some, Some&gt;</code> cuz each has a strong reference to the key(<code>wrapped</code>), right?</p>\n<p>How can I implement caching with/without changing the <code>Some</code> class, without any 3rd party library?</p>\n<p>I'm trying to do like this. Is this the way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Map&lt;Some, Some&gt; MAP = new HashMap&lt;&gt;(); // TODO: synchronize!\n\n    private static final ReferenceQueue&lt;Some&gt; QUEUE = new ReferenceQueue&lt;&gt;();\n\n    private static volatile Thread thread = null;\n\n    @SuppressWarnings({&quot;unchecked&quot;})\n    static Some get(final Some some) {\n        synchronized (TheClass.class) {\n            if (thread == null) {\n                thread = new Thread(() -&gt; {\n                    while (true) {\n                        try {\n                            Reference&lt;? extends Some&gt; reference = QUEUE.remove();\n                            Some key = reference.get(); // can be null?\n                            Some value = MAP.remove(key);\n                        } catch (final InterruptedException ie) {\n                            Thread.currentThread().interrupt();\n                        }\n                    }\n                });\n                thread.setDaemon(true);\n                thread.start();\n            }\n        }\n        return (T) MAP.computeIfAbsent(some, k -&gt; {\n            final boolean enqueued = new WeakReference&lt;&gt;(k, QUEUE).enqueue();\n            assert enqueued;\n            return k.nullable();\n        });\n    }\n</code></pre>\n<p>Follow-up question. Can the <code>reference.get()</code> part really return <code>null</code>?</p>\n"},{"tags":["java","amazon-web-services","npm","aws-cdk"],"answers":[{"tags":[],"owner":{"account_id":26736188,"reputation":43,"user_id":20337732,"display_name":"joey visbeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666851400,"creation_date":1666783504,"answer_id":74206950,"question_id":74205165,"body_markdown":"I used NVM in order to install and set to the correct version:\r\n\r\nnvm install 18.12.0\r\n\r\nnvm use 18.12.0\r\n","title":"How can i change the Node.js version in CDK","body":"<p>I used NVM in order to install and set to the correct version:</p>\n<p>nvm install 18.12.0</p>\n<p>nvm use 18.12.0</p>\n"}],"owner":{"account_id":26736188,"reputation":43,"user_id":20337732,"display_name":"joey visbeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2072,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74206950,"answer_count":1,"score":0,"last_activity_date":1666851400,"creation_date":1666775082,"question_id":74205165,"body_markdown":"[![Warning error](https://i.stack.imgur.com/v2iZK.png)](https://i.stack.imgur.com/v2iZK.png)\r\nI keep getting this error/warning when running any CDK command. \r\n\r\nI tried changing the node version in NPM. But it didn&#39;t have any effect on CDK. ","title":"How can i change the Node.js version in CDK","body":"<p><a href=\"https://i.stack.imgur.com/v2iZK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2iZK.png\" alt=\"Warning error\" /></a>\nI keep getting this error/warning when running any CDK command.</p>\n<p>I tried changing the node version in NPM. But it didn't have any effect on CDK.</p>\n"},{"tags":["java","loops","file","while-loop"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666302460,"creation_date":1666302160,"answer_id":74146606,"question_id":74146425,"body_markdown":"You are not reading the file at all, but instead input (console).\r\nThat means your program is waiting for you to enter text.\r\nAlso your file gets deleted since you are trying to write to it.\r\n\r\nSwitch your while loop to read from `inputFile` instead of `input`.\r\n\r\nRemove the line, or come up with a different output file:\r\n\r\n    PrintWriter writer = new PrintWriter(file);","title":"write a program in it that reverses each line in a file","body":"<p>You are not reading the file at all, but instead input (console).\nThat means your program is waiting for you to enter text.\nAlso your file gets deleted since you are trying to write to it.</p>\n<p>Switch your while loop to read from <code>inputFile</code> instead of <code>input</code>.</p>\n<p>Remove the line, or come up with a different output file:</p>\n<pre><code>PrintWriter writer = new PrintWriter(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21251572,"reputation":129,"user_id":15633731,"display_name":"Yosef.Schwartz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666302425,"creation_date":1666302425,"answer_id":74146646,"question_id":74146425,"body_markdown":"You have an issue with the path of file.\r\nYou can extract the full path by - \r\n\r\n    System.out.println(&quot;filname: &quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        String filnamn = input.nextLine();\r\n        \r\n        // Add this\r\n        final String fullPath = &lt;YOUR_CLASS&gt;.class.getProtectionDomain().getCodeSource().getLocation().getPath();\r\n        \r\n        // Then correct the path\r\n        File file = new File(fullPath_filnamn);\r\n        Scanner inputFile = new Scanner(file);\r\n    \r\n        PrintWriter writer = new PrintWriter(file);\r\n    \r\n        while (input.hasNextLine()) {\r\n            String fil = input.next();\r\n            int reverse = 0;\r\n            for (int i = fil.length(); i &gt;= 0; i--) {\r\n                reverse = reverse + fil.charAt(i);\r\n                writer.print(reverse);\r\n            }\r\n    \r\n        }\r\n        inputFile.close();\r\n        writer.close();\r\n        input.close();\r\n\r\n","title":"write a program in it that reverses each line in a file","body":"<p>You have an issue with the path of file.\nYou can extract the full path by -</p>\n<pre><code>System.out.println(&quot;filname: &quot;);\n    Scanner input = new Scanner(System.in);\n    String filnamn = input.nextLine();\n    \n    // Add this\n    final String fullPath = &lt;YOUR_CLASS&gt;.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n    \n    // Then correct the path\n    File file = new File(fullPath_filnamn);\n    Scanner inputFile = new Scanner(file);\n\n    PrintWriter writer = new PrintWriter(file);\n\n    while (input.hasNextLine()) {\n        String fil = input.next();\n        int reverse = 0;\n        for (int i = fil.length(); i &gt;= 0; i--) {\n            reverse = reverse + fil.charAt(i);\n            writer.print(reverse);\n        }\n\n    }\n    inputFile.close();\n    writer.close();\n    input.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666851147,"creation_date":1666851147,"answer_id":74217514,"question_id":74146425,"body_markdown":"It&#39;s not quite clear if it is each entire line that is in the file that is to be revered or each word within each line is to be reversed, there is a major difference between the two. In any case the method provided below can do either. \r\n\r\nYou can not write to the file you are reading from, you will need to provide a different file name. What you can do however is when the new file is created and your code has closed both the reader and writer, you can delete the original file and then rename the new file with the name of the original file. As you will see, this is only a few small lines of code.\r\n\r\nYou&#39;re reading the User&#39;s input instead of the input file. This is why it&#39;s important to give clear, distinguishable, and meaningful names to your variables like **reader** instead of **inputFile** which is close to the Scanner Keyboard input name of **input**). It can be easy to make mistakes if the variable names are similar or non-descriptive. \r\n\r\nHere is the method:\r\n\r\n    /**\r\n     * Rewrites the supplied file into a new file where every word in that file\r\n     * has its characters reversed. The new file created (in the same directory)\r\n     * is named exactly the same except it will contain the file name extension \r\n     * of &quot;.temp&quot; unless, the `overwriteFile` option was passed boolean true in \r\n     * which case the original file is overwritten.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * This method will need to be wrapped within a try/catch block.&lt;br&gt; \r\n     * \r\n     * @param fileName (String) the full path and file name (including file name \r\n     * extension) to the file which is to be reversed.&lt;br&gt;\r\n     * \r\n     * @param options (optional - Boolean - Two of):&lt;pre&gt;\r\n     * \r\n     *     reverseEntireLine  - Default is false where each word in each file line \r\n     *                          will be separately reversed. If boolean true is \r\n     *                          optionally supplied then each entire line is \r\n     *                          reversed. If null is supplied then false is implied.\r\n     * \r\n     *                          Whitespacing (indents, etc) in the file is also\r\n     *                          taken into consideration and maintained.\r\n     * \r\n     *      overwriteFile     - Default is false where the original file being \r\n     *                          read is not overwriten with reversed text but \r\n     *                          instead a new file is created under the same name,\r\n     *                          within the same directory, containing a file name \r\n     *                          extension of &quot;.temp&quot;. If boolean true is supplied \r\n     *                          to this optional parameter then the original file \r\n     *                          will be overwriten. It should be noted that there \r\n     *                          is no actual overwrite. The original file is actually\r\n     *                          deleted and then the new file is renamed to the \r\n     *                          original file name. This will allow for extremely \r\n     *                          large files to be overwriten without the worry of\r\n     *                          memory exhaustion.&lt;pre&gt;\r\n     * \r\n     * @throws FileNotFoundException\r\n     * @throws IOException\r\n     */\r\n    public static void reverseFile(String fileName, Boolean... options)\r\n            throws FileNotFoundException, IOException {\r\n        // false = each word in line | true = entire line.\r\n        boolean reverseEntireLine = false;\r\n        // false = Not Overwrite File | true = Overwrite File.\r\n        boolean overwriteFile = false;\r\n        if (options.length &gt; 0) {\r\n            if (options.length &gt;= 1 &amp;&amp; options[0] != null) {\r\n                reverseEntireLine = options[0];\r\n            }\r\n            if (options.length &gt;= 2 &amp;&amp; options[1] != null) {\r\n                overwriteFile = options[1];\r\n            }\r\n        }\r\n\r\n        File fileToRead = new File(fileName);  // Create a File object.\r\n\r\n        /* Create a name for a temporary file to write in \r\n           within the same path of the file we are about \r\n           to read. This name will be the same but will \r\n           have the file name extension of &quot;.temp&quot;.   */\r\n        String fullPath = fileToRead.getAbsolutePath();\r\n        String tempFile = fullPath.substring(0, fullPath.lastIndexOf(&quot;.&quot;)) + &quot;.temp&quot;;\r\n\r\n        /* You can not write to the file you are reading from.\r\n           Provide a different (temporary) name.        */\r\n        /* &#39;Try With Resources&#39; is used here for both the reader and writer so \r\n            to auto-close() them when done and free resources.      */\r\n        try (BufferedReader reader = new BufferedReader(new java.io.InputStreamReader(\r\n                new java.io.FileInputStream(fullPath), &quot;UTF-8&quot;))) {\r\n            java.io.OutputStream os = new java.io.FileOutputStream(tempFile);\r\n            try (PrintWriter writer = new PrintWriter(new java.io.OutputStreamWriter(os, &quot;UTF-8&quot;))) {\r\n                // Iterate if the file has another line...\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    // If the line is blank then just print it and continue to next line\r\n                    if (line.trim().isEmpty()) {\r\n                        writer.println();\r\n                        continue;  // read next line....\r\n                    }\r\n                    \r\n                    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n                    if (reverseEntireLine) {\r\n                        // Reverse the entire line\r\n                        sb.append(line).reverse();\r\n                    }\r\n                    else {\r\n                        /* Reverse each word within the currently read line:\r\n                        Split the line into individual words based on whitespace but,\r\n                        keep any spacing in case there is indentation etc. We use a\r\n                        special Regular Expression for this because spacing needs to\r\n                        be in thier own elements within the created String[] Array\r\n                        even though we&#39;re using it as a split() delimiter.        */\r\n                        String splitExpression = &quot;((?&lt;= )|(?= ))&quot;;\r\n                        \r\n                        String[] lineParts = line.split(splitExpression);\r\n                        \r\n                        for (String word : lineParts) {\r\n                            if (word.matches(&quot;\\\\s+&quot;)) {\r\n                                sb.append(word);\r\n                            }\r\n                            else {\r\n                                word = new StringBuilder(word).reverse().toString();\r\n                                sb.append(word);\r\n                            }\r\n                        }\r\n                    }\r\n                    writer.println(sb.toString()); // Write to file.\r\n                    writer.flush();                // Write immediately.\r\n                }\r\n            }\r\n        }\r\n        if (overwriteFile) {\r\n            new File(fullPath).delete();\r\n            new File(tempFile).renameTo(new File(fullPath));\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nAnd here is how you might use it:\r\n\r\n```\r\n/* The Line Spearator used for the system the application \r\n   is running on. Not all Consoles or Terminals just use &quot;\\n&quot;. */\r\nString ls = System.lineSeparator();\r\n\r\n// Provide a distinguishable and meaningful variable name!\r\nScanner userInput = new Scanner(System.in);\r\n\r\n// File name to read prompt...\r\nString fileName = &quot;&quot;;\r\nwhile (fileName.isEmpty()) {\r\n    System.out.print(&quot;Please enter the file path and name of the file&quot; + ls\r\n                   + &quot;you want to reverse (q to quit): -&gt; &quot;);\r\n    fileName = userInput.nextLine().trim();\r\n\r\n    // If &#39;q&#39; for quit was entered.\r\n    if (fileName.equalsIgnoreCase(&quot;q&quot;)) {\r\n        return;\r\n    }\r\n\r\n    /* Validate input! \r\n       Does the supplied path and fileName exist?  */\r\n    if (!new File(fileName).exists()) {\r\n       // Nope! Inform User...\r\n       System.out.println(&quot;The file name (&quot; + fileName + &quot;) can not be found!&quot; + ls\r\n                        + &quot;Please, try again...&quot; + ls);\r\n       fileName = &quot;&quot;;  // Empty fileName so to re-loop and ask again!\r\n    }\r\n}\r\n// All is good, the path and or file name exists.\r\n\r\ntry {\r\n    reverseFile(fileName, true, true);      // &lt;----\r\n}\r\ncatch (FileNotFoundException ex) {\r\n    System.err.println(ex);\r\n}\r\ncatch (IOException ex) {\r\n    System.err.println(ex);\r\n}\r\n```\r\n  ","title":"write a program in it that reverses each line in a file","body":"<p>It's not quite clear if it is each entire line that is in the file that is to be revered or each word within each line is to be reversed, there is a major difference between the two. In any case the method provided below can do either.</p>\n<p>You can not write to the file you are reading from, you will need to provide a different file name. What you can do however is when the new file is created and your code has closed both the reader and writer, you can delete the original file and then rename the new file with the name of the original file. As you will see, this is only a few small lines of code.</p>\n<p>You're reading the User's input instead of the input file. This is why it's important to give clear, distinguishable, and meaningful names to your variables like <strong>reader</strong> instead of <strong>inputFile</strong> which is close to the Scanner Keyboard input name of <strong>input</strong>). It can be easy to make mistakes if the variable names are similar or non-descriptive.</p>\n<p>Here is the method:</p>\n<pre><code>/**\n * Rewrites the supplied file into a new file where every word in that file\n * has its characters reversed. The new file created (in the same directory)\n * is named exactly the same except it will contain the file name extension \n * of &quot;.temp&quot; unless, the `overwriteFile` option was passed boolean true in \n * which case the original file is overwritten.&lt;br&gt;&lt;br&gt;\n * \n * This method will need to be wrapped within a try/catch block.&lt;br&gt; \n * \n * @param fileName (String) the full path and file name (including file name \n * extension) to the file which is to be reversed.&lt;br&gt;\n * \n * @param options (optional - Boolean - Two of):&lt;pre&gt;\n * \n *     reverseEntireLine  - Default is false where each word in each file line \n *                          will be separately reversed. If boolean true is \n *                          optionally supplied then each entire line is \n *                          reversed. If null is supplied then false is implied.\n * \n *                          Whitespacing (indents, etc) in the file is also\n *                          taken into consideration and maintained.\n * \n *      overwriteFile     - Default is false where the original file being \n *                          read is not overwriten with reversed text but \n *                          instead a new file is created under the same name,\n *                          within the same directory, containing a file name \n *                          extension of &quot;.temp&quot;. If boolean true is supplied \n *                          to this optional parameter then the original file \n *                          will be overwriten. It should be noted that there \n *                          is no actual overwrite. The original file is actually\n *                          deleted and then the new file is renamed to the \n *                          original file name. This will allow for extremely \n *                          large files to be overwriten without the worry of\n *                          memory exhaustion.&lt;pre&gt;\n * \n * @throws FileNotFoundException\n * @throws IOException\n */\npublic static void reverseFile(String fileName, Boolean... options)\n        throws FileNotFoundException, IOException {\n    // false = each word in line | true = entire line.\n    boolean reverseEntireLine = false;\n    // false = Not Overwrite File | true = Overwrite File.\n    boolean overwriteFile = false;\n    if (options.length &gt; 0) {\n        if (options.length &gt;= 1 &amp;&amp; options[0] != null) {\n            reverseEntireLine = options[0];\n        }\n        if (options.length &gt;= 2 &amp;&amp; options[1] != null) {\n            overwriteFile = options[1];\n        }\n    }\n\n    File fileToRead = new File(fileName);  // Create a File object.\n\n    /* Create a name for a temporary file to write in \n       within the same path of the file we are about \n       to read. This name will be the same but will \n       have the file name extension of &quot;.temp&quot;.   */\n    String fullPath = fileToRead.getAbsolutePath();\n    String tempFile = fullPath.substring(0, fullPath.lastIndexOf(&quot;.&quot;)) + &quot;.temp&quot;;\n\n    /* You can not write to the file you are reading from.\n       Provide a different (temporary) name.        */\n    /* 'Try With Resources' is used here for both the reader and writer so \n        to auto-close() them when done and free resources.      */\n    try (BufferedReader reader = new BufferedReader(new java.io.InputStreamReader(\n            new java.io.FileInputStream(fullPath), &quot;UTF-8&quot;))) {\n        java.io.OutputStream os = new java.io.FileOutputStream(tempFile);\n        try (PrintWriter writer = new PrintWriter(new java.io.OutputStreamWriter(os, &quot;UTF-8&quot;))) {\n            // Iterate if the file has another line...\n            String line;\n            while ((line = reader.readLine()) != null) {\n                // If the line is blank then just print it and continue to next line\n                if (line.trim().isEmpty()) {\n                    writer.println();\n                    continue;  // read next line....\n                }\n                \n                StringBuilder sb = new StringBuilder(&quot;&quot;);\n                if (reverseEntireLine) {\n                    // Reverse the entire line\n                    sb.append(line).reverse();\n                }\n                else {\n                    /* Reverse each word within the currently read line:\n                    Split the line into individual words based on whitespace but,\n                    keep any spacing in case there is indentation etc. We use a\n                    special Regular Expression for this because spacing needs to\n                    be in thier own elements within the created String[] Array\n                    even though we're using it as a split() delimiter.        */\n                    String splitExpression = &quot;((?&lt;= )|(?= ))&quot;;\n                    \n                    String[] lineParts = line.split(splitExpression);\n                    \n                    for (String word : lineParts) {\n                        if (word.matches(&quot;\\\\s+&quot;)) {\n                            sb.append(word);\n                        }\n                        else {\n                            word = new StringBuilder(word).reverse().toString();\n                            sb.append(word);\n                        }\n                    }\n                }\n                writer.println(sb.toString()); // Write to file.\n                writer.flush();                // Write immediately.\n            }\n        }\n    }\n    if (overwriteFile) {\n        new File(fullPath).delete();\n        new File(tempFile).renameTo(new File(fullPath));\n    }\n}\n</code></pre>\n<hr />\n<p>And here is how you might use it:</p>\n<pre><code>/* The Line Spearator used for the system the application \n   is running on. Not all Consoles or Terminals just use &quot;\\n&quot;. */\nString ls = System.lineSeparator();\n\n// Provide a distinguishable and meaningful variable name!\nScanner userInput = new Scanner(System.in);\n\n// File name to read prompt...\nString fileName = &quot;&quot;;\nwhile (fileName.isEmpty()) {\n    System.out.print(&quot;Please enter the file path and name of the file&quot; + ls\n                   + &quot;you want to reverse (q to quit): -&gt; &quot;);\n    fileName = userInput.nextLine().trim();\n\n    // If 'q' for quit was entered.\n    if (fileName.equalsIgnoreCase(&quot;q&quot;)) {\n        return;\n    }\n\n    /* Validate input! \n       Does the supplied path and fileName exist?  */\n    if (!new File(fileName).exists()) {\n       // Nope! Inform User...\n       System.out.println(&quot;The file name (&quot; + fileName + &quot;) can not be found!&quot; + ls\n                        + &quot;Please, try again...&quot; + ls);\n       fileName = &quot;&quot;;  // Empty fileName so to re-loop and ask again!\n    }\n}\n// All is good, the path and or file name exists.\n\ntry {\n    reverseFile(fileName, true, true);      // &lt;----\n}\ncatch (FileNotFoundException ex) {\n    System.err.println(ex);\n}\ncatch (IOException ex) {\n    System.err.println(ex);\n}\n</code></pre>\n"}],"owner":{"account_id":26686448,"reputation":1,"user_id":20295698,"display_name":"Bedder Jamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666851147,"creation_date":1666300795,"question_id":74146425,"body_markdown":"Trying to reverse a file line by line \r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\r\n\t\tSystem.out.println(&quot;filname: &quot;);\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tString filnamn = input.nextLine();\r\n\t\tFile file = new File(filnamn);\r\n\t\tScanner inputFile = new Scanner(file);\r\n\r\n\t\tPrintWriter writer = new PrintWriter(file);\r\n\r\n\t\twhile (input.hasNextLine()) {\r\n\t\t\tString fil = input.next();\r\n\t\t\tint reverse = 0;\r\n\t\t\tfor (int i = fil.length(); i &gt;= 0; i--) {\r\n\t\t\t\treverse = reverse + fil.charAt(i);\r\n\t\t\t\twriter.print(reverse);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tinputFile.close();\r\n\t\twriter.close();\r\n\t\tinput.close();\r\n    }\r\n\r\nWhen trying to reverse my file it just get erased instead of it being backwards","title":"write a program in it that reverses each line in a file","body":"<p>Trying to reverse a file line by line</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n\n    System.out.println(&quot;filname: &quot;);\n    Scanner input = new Scanner(System.in);\n    String filnamn = input.nextLine();\n    File file = new File(filnamn);\n    Scanner inputFile = new Scanner(file);\n\n    PrintWriter writer = new PrintWriter(file);\n\n    while (input.hasNextLine()) {\n        String fil = input.next();\n        int reverse = 0;\n        for (int i = fil.length(); i &gt;= 0; i--) {\n            reverse = reverse + fil.charAt(i);\n            writer.print(reverse);\n        }\n\n    }\n    inputFile.close();\n    writer.close();\n    input.close();\n}\n</code></pre>\n<p>When trying to reverse my file it just get erased instead of it being backwards</p>\n"},{"tags":["java","if-statement","while-loop","scope"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666843565,"post_id":74216695,"comment_id":131032783,"body_markdown":"Declare it outside the loop, but read new values inside the loop, i.e. split the declaration and assignment.","body":"Declare it outside the loop, but read new values inside the loop, i.e. split the declaration and assignment."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666847745,"post_id":74216695,"comment_id":131033407,"body_markdown":"@tgdavies I disagree. A better coding practice is to minimize the scope of variables. Declaring the the variable outside of the loop, increases its scope. And since the variable is never used outside of the loop, there is no legitimate reason for that. And even when declaring a variable inside a particular block, they should be declared as close to the point where they are needed as possible.","body":"@tgdavies I disagree. A better coding practice is to minimize the scope of variables. Declaring the the variable outside of the loop, increases its scope. And since the variable is never used outside of the loop, there is no legitimate reason for that. And even when declaring a variable inside a particular block, they should be declared as close to the point where they are needed as possible."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666848010,"post_id":74216695,"comment_id":131033451,"body_markdown":"True, my assumption was that `numOfDice` was to be used later.","body":"True, my assumption was that <code>numOfDice</code> was to be used later."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666848164,"post_id":74216695,"comment_id":131033472,"body_markdown":"Aden, you should always strive to minimize the scope of variables as much as possible AND declare them as close to the point of usage as possible.  Here is an article that supports this position from a reputable Computer Science program: https://wiki.sei.cmu.edu/confluence/display/c/DCL19-C.+Minimize+the+scope+of+variables+and+functions","body":"Aden, you should always strive to minimize the scope of variables as much as possible AND declare them as close to the point of usage as possible.  Here is an article that supports this position from a reputable Computer Science program: <a href=\"https://wiki.sei.cmu.edu/confluence/display/c/DCL19-C.+Minimize+the+scope+of+variables+and+functions\" rel=\"nofollow noreferrer\">wiki.sei.cmu.edu/confluence/display/c/&hellip;</a>"},{"owner":{"account_id":26744889,"reputation":1,"user_id":20345087,"display_name":"Aden Krueger"},"score":0,"creation_date":1666970348,"post_id":74216695,"comment_id":131067421,"body_markdown":"@tgdavies your assumption was correct. numOfDice will be used later to define an array index size.","body":"@tgdavies your assumption was correct. numOfDice will be used later to define an array index size."}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666847394,"post_id":74216993,"comment_id":131033353,"body_markdown":"You don&#39;t need to declare the variable outside of the loop, as I showed in my answer.","body":"You don&#39;t need to declare the variable outside of the loop, as I showed in my answer."},{"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"score":0,"creation_date":1666847991,"post_id":74216993,"comment_id":131033446,"body_markdown":"@hfontanez Your answer is interesting. But it keeps iterating even when the user input a positive integer. Hence, it needs to be updated like this. `if (numOfDice &lt;=0) {\n                    System.err.println(&quot;Please enter a positive integer and try again&quot;);\n                } else{\n                    System.out.println(&quot;Goodbye!&quot;);\n                    break;\n                }`","body":"@hfontanez Your answer is interesting. But it keeps iterating even when the user input a positive integer. Hence, it needs to be updated like this. <code>if (numOfDice &lt;=0) {                     System.err.println(&quot;Please enter a positive integer and try again&quot;);                 } else{                     System.out.println(&quot;Goodbye!&quot;);                     break;                 }</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666851020,"post_id":74216993,"comment_id":131034008,"body_markdown":"I just saw this, but I posted an update you may want to check.","body":"I just saw this, but I posted an update you may want to check."},{"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"score":0,"creation_date":1666855703,"post_id":74216993,"comment_id":131035192,"body_markdown":"@hfontanez yes, I went through it. Great Explanation&#128522; Thank you!","body":"@hfontanez yes, I went through it. Great Explanation😊 Thank you!"}],"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666846759,"creation_date":1666846759,"answer_id":74216993,"question_id":74216695,"body_markdown":"This is very simple.\r\nFirst you have to declare your variable outside the loop.\r\n\r\n    int numOfDice = -1; \r\n\r\n Then you need to think of a way to update the state of your variable `numOfDice` inside the loop. Hence,\r\n\r\n    numOfDice = sc.nextInt();\r\n\r\nShould be inside your loop. Now, the state of your variable `numOfDice` is updated. After that we can check if the value is a negative or not, and reiterate the loop accordingly. \r\n\r\nHence, the overall code will look like this.\r\n\r\n            int numOfDice = -1;     //Declaration - value is negative because the while loop has to be executed at least once.\r\n        Scanner sc = new Scanner(System.in);\r\n        while(numOfDice&lt;=0){    // checks if the variable is negative or positive, loop continues if the value is negative\r\n            System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n            numOfDice = sc.nextInt();   //updates the state of the variable\r\n            if (numOfDice&lt;=0) {     \r\n                // this line will be printed only if the value is negative.\r\n                System.out.println(&quot;Please enter a positive integer and try again&quot;);\r\n            }\r\n        }\r\n\r\nHope this answer is helpful.\r\nRefer [this article][1] to understand more about while loops in java.\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-while-loop","title":"How to use while loop user input established variable out of scope (if possible)","body":"<p>This is very simple.\nFirst you have to declare your variable outside the loop.</p>\n<pre><code>int numOfDice = -1; \n</code></pre>\n<p>Then you need to think of a way to update the state of your variable <code>numOfDice</code> inside the loop. Hence,</p>\n<pre><code>numOfDice = sc.nextInt();\n</code></pre>\n<p>Should be inside your loop. Now, the state of your variable <code>numOfDice</code> is updated. After that we can check if the value is a negative or not, and reiterate the loop accordingly.</p>\n<p>Hence, the overall code will look like this.</p>\n<pre><code>        int numOfDice = -1;     //Declaration - value is negative because the while loop has to be executed at least once.\n    Scanner sc = new Scanner(System.in);\n    while(numOfDice&lt;=0){    // checks if the variable is negative or positive, loop continues if the value is negative\n        System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n        numOfDice = sc.nextInt();   //updates the state of the variable\n        if (numOfDice&lt;=0) {     \n            // this line will be printed only if the value is negative.\n            System.out.println(&quot;Please enter a positive integer and try again&quot;);\n        }\n    }\n</code></pre>\n<p>Hope this answer is helpful.\nRefer <a href=\"https://www.javatpoint.com/java-while-loop\" rel=\"nofollow noreferrer\">this article</a> to understand more about while loops in java.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666850443,"creation_date":1666847356,"answer_id":74217045,"question_id":74216695,"body_markdown":"Let me start by showing my solution first...\r\n```\r\npublic static void main(String[] args) {\r\n\tScanner scan = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Let&#39;s start rolling some dice&quot;);\r\n\twhile (true) {\r\n\t\tSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n\t\tint numOfDice = scan.nextInt();\r\n\t\tif (numOfDice &lt; 0) {\r\n\t\t\tSystem.err.println(&quot;Please enter a positive integer and try again&quot;);\r\n\t\t} else if (numOfDice == 0) {\r\n\t\t\tSystem.out.println(&quot;Goodbye!&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tscan.close();\r\n}\r\n```\r\nAs you can see, it is not much of a variation, but it has clear boundaries. For example, you can&#39;t have a negative number of dice rolled. So checking for the number of dice to be less than zero (negative) is an error and an appropriate message is shown when that condition is reached.\r\n\r\nThe second thing you see is a clear case for ending the &quot;forever&quot; loop. And that is when zero is passed through the `Scanner` object. Not much of an explanation required. Pass zero and simply break out of the loop.\r\n\r\nThe rest, if a positive integer is passed, keep rolling the dice!\r\n\r\n\r\n----------\r\nOutput sample\r\n```\r\nLet&#39;s start rolling some dice\r\nHello! How many dice would you like to roll\r\n2\r\nHello! How many dice would you like to roll\r\n3\r\nHello! How many dice would you like to roll\r\n9\r\nHello! How many dice would you like to roll\r\n-3\r\nPlease enter a positive integer and try again\r\nHello! How many dice would you like to roll\r\n-2\r\nPlease enter a positive integer and try again\r\nHello! How many dice would you like to roll\r\n1\r\nHello! How many dice would you like to roll\r\n3\r\nHello! How many dice would you like to roll\r\n0\r\nGoodbye!\r\n```\r\n## *...to return a positive integer* ##\r\nSorry for the dramatic heading, but I miss this from the OPs question the first time I read it. The code above keeps rolling until the user enters zero. Let&#39;s modify this so that it returns a *positive integer*.\r\n```\r\npublic static void main(String[] args) {\r\n\tScanner scan = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Let&#39;s start rolling some dice&quot;);\r\n\twhile (true) {\r\n\t\tSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n\t\tint numOfDice = scan.nextInt();\r\n\t\tif (numOfDice &lt; 0) {\r\n\t\t\tSystem.err.println(&quot;Please enter a positive integer and try again&quot;);\r\n\t\t} else if (numOfDice == 0) {\r\n\t\t\tSystem.out.println(&quot;Goodbye!&quot;);\r\n\t\t\tbreak;\r\n\t\t} else {\r\n            // Add some code here (i.e. a Random generation of dice values 1-6)\r\n            System.out.println(&quot;You rolled a &quot; + diceRollValue);\r\n            break;\r\n        }\r\n\t}\r\n\tscan.close();\r\n}\r\n```\r\n\r\n## Variable Scope ##\r\nSince the OP seems to struggle with issues related to scope, I will expand on this answer to focus on scope. Good coding practices call for minimizing the scope of variables. This means (in theory):\r\n\r\n 1. No global variables, period!\r\n 2. Local variables should be declared at the lowest possible block.\r\n 3. Variables shall be declared as close to the point of usage as possible.\r\n\r\nOf course, in practice, global variables are often necessary. But what no developer should do is declare global variables by default. Instead, all variables shall be declared at the lowest levels of the code, and then &quot;bubbled up&quot; as needed and stop &quot;bubbling&quot; them up when the desired accessibility is reached. Let&#39;s look at an example from this code.\r\n\r\nThe variable `numOfDice` is declared inside the *while* loop. This is the lowest level where this variable can be declared. Since the variable is used at the top of the loop, it is OK to declare it and assign a value in the same line. The question is, should this variable be declared outside the loop? The answer is yes, for a very specific reason.\r\n\r\nCreating a &quot;forever&quot; loop `while(true){...}` may not be a good idea. IN FACT, it can be argued that putting the break condition there might be a better coding practice than to include the break condition inside the loop. So, for this reason (and improving readability of the code as well), we might be better off setting the the variable outside the loop to a value, and then prompt the user to enter the number of rolls inside the loop like this:\r\n```\r\nSystem.out.println(&quot;Let&#39;s start rolling some dice&quot;);\r\nint numOfDice = -1;\r\nwhile (numOfDice != 0) {\r\n\tSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n\tint numOfDice = scan.nextInt();\r\n    ...\r\n}\r\n```\r\nSetting the value to -1 allows the instruction pointer to enter the loop because the evaluation of `numOfDice` returns true. Once inside the loop, it will continue to iterate until the evaluation returns false; and this is when the user enters 0. In the original code, negative values prompt an error message. Negative and positive values continue the &quot;game&quot;. This is perfectly fine. As to the improved readability, when you see `while (numOfDice != 0)` the intent is clear; much better than to &quot;hide&quot; the break condition inside the loop. If the loop contain a lot of lines of code, the break condition is harder to find. So, in the end, this is a better solution.\r\n\r\nAn alternative is to use a *do...while* loop. This is the preferred structure when the intent is for the loop to run at least once. This is possible because the break condition is evaluated at the end of the loop rather than at the beginning in a conventional *while* loop. The equivalent *do...while* loop is as follows:\r\n```\r\nSystem.out.println(&quot;Let&#39;s start rolling some dice&quot;);\r\nint numOfDice = 0; // initialize to the break condition value (just in case)\r\ndo {\r\n\tSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n\tint numOfDice = scan.nextInt();\r\n    ...\r\n} while (numOfDice != 0);\r\n```\r\nThe last thing with regards to scope. I mentioned before that variables should be declared as close to the point of usage as possible. This means that instead of this\r\n```\r\npublic void myMethod() {\r\n    int myVariable = 0\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    myVariable = someCodeThatSetsValue();\r\n    .\r\n    .\r\n}\r\n```\r\nYou should do this instead to follow best practices\r\n```\r\npublic void myMethod() {\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    int myVariable = someCodeThatSetsValue();\r\n    .\r\n    .\r\n}\r\n```\r\n","title":"How to use while loop user input established variable out of scope (if possible)","body":"<p>Let me start by showing my solution first...</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Let's start rolling some dice&quot;);\n    while (true) {\n        System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n        int numOfDice = scan.nextInt();\n        if (numOfDice &lt; 0) {\n            System.err.println(&quot;Please enter a positive integer and try again&quot;);\n        } else if (numOfDice == 0) {\n            System.out.println(&quot;Goodbye!&quot;);\n            break;\n        }\n    }\n    scan.close();\n}\n</code></pre>\n<p>As you can see, it is not much of a variation, but it has clear boundaries. For example, you can't have a negative number of dice rolled. So checking for the number of dice to be less than zero (negative) is an error and an appropriate message is shown when that condition is reached.</p>\n<p>The second thing you see is a clear case for ending the &quot;forever&quot; loop. And that is when zero is passed through the <code>Scanner</code> object. Not much of an explanation required. Pass zero and simply break out of the loop.</p>\n<p>The rest, if a positive integer is passed, keep rolling the dice!</p>\n<hr />\n<p>Output sample</p>\n<pre><code>Let's start rolling some dice\nHello! How many dice would you like to roll\n2\nHello! How many dice would you like to roll\n3\nHello! How many dice would you like to roll\n9\nHello! How many dice would you like to roll\n-3\nPlease enter a positive integer and try again\nHello! How many dice would you like to roll\n-2\nPlease enter a positive integer and try again\nHello! How many dice would you like to roll\n1\nHello! How many dice would you like to roll\n3\nHello! How many dice would you like to roll\n0\nGoodbye!\n</code></pre>\n<h2><em>...to return a positive integer</em></h2>\n<p>Sorry for the dramatic heading, but I miss this from the OPs question the first time I read it. The code above keeps rolling until the user enters zero. Let's modify this so that it returns a <em>positive integer</em>.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Let's start rolling some dice&quot;);\n    while (true) {\n        System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n        int numOfDice = scan.nextInt();\n        if (numOfDice &lt; 0) {\n            System.err.println(&quot;Please enter a positive integer and try again&quot;);\n        } else if (numOfDice == 0) {\n            System.out.println(&quot;Goodbye!&quot;);\n            break;\n        } else {\n            // Add some code here (i.e. a Random generation of dice values 1-6)\n            System.out.println(&quot;You rolled a &quot; + diceRollValue);\n            break;\n        }\n    }\n    scan.close();\n}\n</code></pre>\n<h2>Variable Scope</h2>\n<p>Since the OP seems to struggle with issues related to scope, I will expand on this answer to focus on scope. Good coding practices call for minimizing the scope of variables. This means (in theory):</p>\n<ol>\n<li>No global variables, period!</li>\n<li>Local variables should be declared at the lowest possible block.</li>\n<li>Variables shall be declared as close to the point of usage as possible.</li>\n</ol>\n<p>Of course, in practice, global variables are often necessary. But what no developer should do is declare global variables by default. Instead, all variables shall be declared at the lowest levels of the code, and then &quot;bubbled up&quot; as needed and stop &quot;bubbling&quot; them up when the desired accessibility is reached. Let's look at an example from this code.</p>\n<p>The variable <code>numOfDice</code> is declared inside the <em>while</em> loop. This is the lowest level where this variable can be declared. Since the variable is used at the top of the loop, it is OK to declare it and assign a value in the same line. The question is, should this variable be declared outside the loop? The answer is yes, for a very specific reason.</p>\n<p>Creating a &quot;forever&quot; loop <code>while(true){...}</code> may not be a good idea. IN FACT, it can be argued that putting the break condition there might be a better coding practice than to include the break condition inside the loop. So, for this reason (and improving readability of the code as well), we might be better off setting the the variable outside the loop to a value, and then prompt the user to enter the number of rolls inside the loop like this:</p>\n<pre><code>System.out.println(&quot;Let's start rolling some dice&quot;);\nint numOfDice = -1;\nwhile (numOfDice != 0) {\n    System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n    int numOfDice = scan.nextInt();\n    ...\n}\n</code></pre>\n<p>Setting the value to -1 allows the instruction pointer to enter the loop because the evaluation of <code>numOfDice</code> returns true. Once inside the loop, it will continue to iterate until the evaluation returns false; and this is when the user enters 0. In the original code, negative values prompt an error message. Negative and positive values continue the &quot;game&quot;. This is perfectly fine. As to the improved readability, when you see <code>while (numOfDice != 0)</code> the intent is clear; much better than to &quot;hide&quot; the break condition inside the loop. If the loop contain a lot of lines of code, the break condition is harder to find. So, in the end, this is a better solution.</p>\n<p>An alternative is to use a <em>do...while</em> loop. This is the preferred structure when the intent is for the loop to run at least once. This is possible because the break condition is evaluated at the end of the loop rather than at the beginning in a conventional <em>while</em> loop. The equivalent <em>do...while</em> loop is as follows:</p>\n<pre><code>System.out.println(&quot;Let's start rolling some dice&quot;);\nint numOfDice = 0; // initialize to the break condition value (just in case)\ndo {\n    System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n    int numOfDice = scan.nextInt();\n    ...\n} while (numOfDice != 0);\n</code></pre>\n<p>The last thing with regards to scope. I mentioned before that variables should be declared as close to the point of usage as possible. This means that instead of this</p>\n<pre><code>public void myMethod() {\n    int myVariable = 0\n    .\n    .\n    .\n    .\n    .\n    myVariable = someCodeThatSetsValue();\n    .\n    .\n}\n</code></pre>\n<p>You should do this instead to follow best practices</p>\n<pre><code>public void myMethod() {\n    .\n    .\n    .\n    .\n    .\n    .\n    int myVariable = someCodeThatSetsValue();\n    .\n    .\n}\n</code></pre>\n"}],"owner":{"account_id":26744889,"reputation":1,"user_id":20345087,"display_name":"Aden Krueger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666850443,"creation_date":1666843382,"question_id":74216695,"body_markdown":"I need to ask the user for a number of dice to roll, (at least 1) and then loop if necessary to return a positive integer. Simple question, but I&#39;m new to Java and don&#39;t understand how to do this using a while loop and bringing my variable back into scope. \r\n\r\nHere&#39;s what I have so far, as anyone can see my variable &#39;numOfDice&#39; is never pulled back into scope, as I need it later in my program to establish a variable array length. \r\n\r\n```\r\nwhile (true) {\r\n    System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n    int numOfDice = scan.nextInt();\r\n    if (numOfDice&lt;=0) {\r\n        System.out.println(&quot;Please enter a positive integer and try again&quot;);\r\n    }else {\r\n        break;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo as you can see my variable is never pulled back into scope, and I&#39;ve tried initializing it before the while loop, with no luck. I&#39;ve also tried\r\n\r\n```\r\n\r\nSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\nint numOfDice = scan.nextInt();\r\nwhile (true) {\r\n    if (numOfDice&lt;=0) {\r\n        System.out.println(&quot;Please enter a positive integer and try again&quot;);\r\n    }else {\r\n        break;\r\n    }\r\n\r\n}\r\n\r\n```\r\nBut this results in an infinite loop if a negative number is an input, as my if will repeat forever.\r\nAnyways, I&#39;m very new to Java (my 6th week learning) and any veteran help would be much appreciated. I&#39;m willing to learn new ways to create these loops or tricks to pull variables back into scope (if possible).\r\n\r\nSolved. Thanks to tgdavies telling me to split the declaration and assignment I was able to finish this problem. Here&#39;s the solution for anyone who stumbles upon this. \r\n\r\n```\r\n  System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\r\n        int numOfDice;\r\n        numOfDice = scan.nextInt();\r\n\r\n        while (true) {\r\n            if (numOfDice &lt;= 0) {\r\n                System.out.println(&quot;Please enter a positive integer and try again&quot;);\r\n                numOfDice = scan.nextInt();\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n```","title":"How to use while loop user input established variable out of scope (if possible)","body":"<p>I need to ask the user for a number of dice to roll, (at least 1) and then loop if necessary to return a positive integer. Simple question, but I'm new to Java and don't understand how to do this using a while loop and bringing my variable back into scope.</p>\n<p>Here's what I have so far, as anyone can see my variable 'numOfDice' is never pulled back into scope, as I need it later in my program to establish a variable array length.</p>\n<pre><code>while (true) {\n    System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n    int numOfDice = scan.nextInt();\n    if (numOfDice&lt;=0) {\n        System.out.println(&quot;Please enter a positive integer and try again&quot;);\n    }else {\n        break;\n    }\n\n}\n</code></pre>\n<p>So as you can see my variable is never pulled back into scope, and I've tried initializing it before the while loop, with no luck. I've also tried</p>\n<pre><code>\nSystem.out.println(&quot;Hello! How many dice would you like to roll&quot;);\nint numOfDice = scan.nextInt();\nwhile (true) {\n    if (numOfDice&lt;=0) {\n        System.out.println(&quot;Please enter a positive integer and try again&quot;);\n    }else {\n        break;\n    }\n\n}\n\n</code></pre>\n<p>But this results in an infinite loop if a negative number is an input, as my if will repeat forever.\nAnyways, I'm very new to Java (my 6th week learning) and any veteran help would be much appreciated. I'm willing to learn new ways to create these loops or tricks to pull variables back into scope (if possible).</p>\n<p>Solved. Thanks to tgdavies telling me to split the declaration and assignment I was able to finish this problem. Here's the solution for anyone who stumbles upon this.</p>\n<pre><code>  System.out.println(&quot;Hello! How many dice would you like to roll&quot;);\n        int numOfDice;\n        numOfDice = scan.nextInt();\n\n        while (true) {\n            if (numOfDice &lt;= 0) {\n                System.out.println(&quot;Please enter a positive integer and try again&quot;);\n                numOfDice = scan.nextInt();\n            } else {\n                break;\n            }\n        }\n</code></pre>\n"},{"tags":["java","arrays","dictionary"],"answers":[{"comments":[{"owner":{"account_id":20690420,"reputation":1,"user_id":17015188,"display_name":"Kostov"},"score":0,"creation_date":1666885958,"post_id":74217384,"comment_id":131046244,"body_markdown":"that&#39;s my next idea, i will remove the for loops and create x,y, grid and simplify things a little bit","body":"that&#39;s my next idea, i will remove the for loops and create x,y, grid and simplify things a little bit"}],"tags":[],"owner":{"account_id":26717303,"reputation":1,"user_id":20321721,"display_name":"Ismael223"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666850167,"creation_date":1666850167,"answer_id":74217384,"question_id":74198795,"body_markdown":"Ts 2 D array the best solution for this? Can you try implementation with switch case? ","title":"2D Array Map switching neighbor elements - JAVA","body":"<p>Ts 2 D array the best solution for this? Can you try implementation with switch case?</p>\n"}],"owner":{"account_id":20690420,"reputation":1,"user_id":17015188,"display_name":"Kostov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666850167,"creation_date":1666723541,"question_id":74198795,"body_markdown":"i am struggling with a project.\r\nI am trying a 2D Array Map task, where there is a single value - e.g. &quot;1&quot;, that conquers all the neighbor &quot;0&quot; values. - horizontal and vertical.\r\n\r\nThis is my code so far: \r\n`\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class TakingOver {\r\n    public static void main(String[] args) {\r\n\r\n        int[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\r\n        int conquer= 1;\r\n\r\n\r\n        \r\n        \r\n        int horizontal_direction = Math.random() &gt; 0.5 ? -1 : 1; // random move left or right\r\n       \r\n        int vertical_direction = Math.random() &gt; 0.5 ? -1 : 1; // random move up or down\r\n\r\n        for (int i = 0; i &lt; map.length; i++) {\r\n            for (int j = 0; j &lt; map[i].length; j++) {\r\n\r\n                if (map[i][j] == conquer) {\r\n                    map[i][j] = 2; // place a &quot;2&quot; of the previous location of conqueror\r\n\r\n                    // if the newRow exceeds the boundaries, don&#39;t move in that direction\r\n                    int newRow = i + horizontal_direction;\r\n                    if (newRow &lt; 0 || newRow == map.length)\r\n                        newRow = i;\r\n\r\n                    // if the newCol exceeds the boundaries, don&#39;t move in that direction\r\n                    int newCol = j + vertical_direction;\r\n                    if (newCol &lt; 0 || newCol == map[i].length)\r\n                        newCol = j;\r\n\r\n                    map[newRow][newCol] = conquer; // move conqueror to the new position\r\n                    System.out.println();\r\n                   // System.out.println(newRow + &quot;     &quot; + newCol);\r\n                    break;\r\n\r\n\r\n                }\r\n\r\n            }\r\n            for (int[] x : map) {\r\n                for (int y : x) {\r\n                    System.out.print(y + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n`\r\n\r\nMy input should be 2D array like this: \r\n\r\n\r\n```\r\nint[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\r\nint conqueror= 1;\r\n```\r\n\r\nand output like this:\r\n```\r\n0 0 0 0 0 \r\n0 0 1 0 0 \r\n0 0 0 0 0 \r\n0 0 0 0 0 \r\n0 0 0 0 0 \r\n\r\n0 0 0 0 0 \r\n0 0 2 0 0 \r\n0 0 0 1 0 \r\n0 0 0 0 0 \r\n0 0 0 0 0 \r\n\r\n0 0 0 0 0 \r\n0 0 2 0 0 \r\n0 0 0 2 0 \r\n0 0 0 0 1 \r\n0 0 0 0 0 \r\n\r\n0 0 0 0 0 \r\n0 0 2 0 0 \r\n0 0 0 2 0 \r\n0 0 0 0 2 \r\n0 0 0 0 1 \r\n.......\r\n2 2 2 2 2 \r\n2 2 2 2 2 \r\n2 2 2 2 2 \r\n2 2 2 2 2 \r\n2 2 2 2 1    until all the values are &quot;conquered&quot;\r\n```\r\n\r\nbut i get half the result -\r\n```\r\n0 0 0 0 0 \r\n0 0 2 0 0 \r\n0 0 0 2 0 \r\n0 0 0 0 2 \r\n0 0 0 0 1 \r\n```\r\n\r\n\r\nMy input should be 2D array like this:\r\n\r\nint[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\r\nint conqueror= 1;\r\n\r\nbut i get half the result -\r\n\r\n0 0 0 0 0 \r\n0 0 2 0 0 \r\n0 0 0 2 0 \r\n0 0 0 0 2 \r\n0 0 0 0 1 ","title":"2D Array Map switching neighbor elements - JAVA","body":"<p>i am struggling with a project.\nI am trying a 2D Array Map task, where there is a single value - e.g. &quot;1&quot;, that conquers all the neighbor &quot;0&quot; values. - horizontal and vertical.</p>\n<p>This is my code so far:\n`</p>\n<pre><code>import java.util.Arrays;\n\npublic class TakingOver {\n    public static void main(String[] args) {\n\n        int[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\n        int conquer= 1;\n\n\n        \n        \n        int horizontal_direction = Math.random() &gt; 0.5 ? -1 : 1; // random move left or right\n       \n        int vertical_direction = Math.random() &gt; 0.5 ? -1 : 1; // random move up or down\n\n        for (int i = 0; i &lt; map.length; i++) {\n            for (int j = 0; j &lt; map[i].length; j++) {\n\n                if (map[i][j] == conquer) {\n                    map[i][j] = 2; // place a &quot;2&quot; of the previous location of conqueror\n\n                    // if the newRow exceeds the boundaries, don't move in that direction\n                    int newRow = i + horizontal_direction;\n                    if (newRow &lt; 0 || newRow == map.length)\n                        newRow = i;\n\n                    // if the newCol exceeds the boundaries, don't move in that direction\n                    int newCol = j + vertical_direction;\n                    if (newCol &lt; 0 || newCol == map[i].length)\n                        newCol = j;\n\n                    map[newRow][newCol] = conquer; // move conqueror to the new position\n                    System.out.println();\n                   // System.out.println(newRow + &quot;     &quot; + newCol);\n                    break;\n\n\n                }\n\n            }\n            for (int[] x : map) {\n                for (int y : x) {\n                    System.out.print(y + &quot; &quot;);\n                }\n                System.out.println();\n\n            }\n        }\n    }\n\n}\n\n\n</code></pre>\n<p>`</p>\n<p>My input should be 2D array like this:</p>\n<pre><code>int[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\nint conqueror= 1;\n</code></pre>\n<p>and output like this:</p>\n<pre><code>0 0 0 0 0 \n0 0 1 0 0 \n0 0 0 0 0 \n0 0 0 0 0 \n0 0 0 0 0 \n\n0 0 0 0 0 \n0 0 2 0 0 \n0 0 0 1 0 \n0 0 0 0 0 \n0 0 0 0 0 \n\n0 0 0 0 0 \n0 0 2 0 0 \n0 0 0 2 0 \n0 0 0 0 1 \n0 0 0 0 0 \n\n0 0 0 0 0 \n0 0 2 0 0 \n0 0 0 2 0 \n0 0 0 0 2 \n0 0 0 0 1 \n.......\n2 2 2 2 2 \n2 2 2 2 2 \n2 2 2 2 2 \n2 2 2 2 2 \n2 2 2 2 1    until all the values are &quot;conquered&quot;\n</code></pre>\n<p>but i get half the result -</p>\n<pre><code>0 0 0 0 0 \n0 0 2 0 0 \n0 0 0 2 0 \n0 0 0 0 2 \n0 0 0 0 1 \n</code></pre>\n<p>My input should be 2D array like this:</p>\n<p>int[][] map = {{0, 0, 0, 0, 0}, {0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 0, 0}};\nint conqueror= 1;</p>\n<p>but i get half the result -</p>\n<p>0 0 0 0 0\n0 0 2 0 0\n0 0 0 2 0\n0 0 0 0 2\n0 0 0 0 1</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":2787997,"reputation":14139,"user_id":2398886,"accept_rate":86,"display_name":"Tarsem Singh"},"score":9,"creation_date":1378882248,"post_id":18734452,"comment_id":27609244,"body_markdown":"Try `SimpleDateFormat formatDate = new SimpleDateFormat(&quot;hh:mm a&quot;);`","body":"Try <code>SimpleDateFormat formatDate = new SimpleDateFormat(&quot;hh:mm a&quot;);</code>"}],"answers":[{"comments":[{"owner":{"account_id":218733,"reputation":3167,"user_id":475217,"display_name":"Ben Jakuben"},"score":75,"creation_date":1417547969,"post_id":18734471,"comment_id":42988009,"body_markdown":"Note that using two h&#39;s (&quot;hh&quot;) gives you a leading zero (i.e. 01:23 AM). One &quot;h&quot; gives you the hour without the leading zero (1:23 AM).","body":"Note that using two h&#39;s (&quot;hh&quot;) gives you a leading zero (i.e. 01:23 AM). One &quot;h&quot; gives you the hour without the leading zero (1:23 AM)."},{"owner":{"account_id":12060699,"reputation":258,"user_id":8819837,"display_name":"akash bs"},"score":12,"creation_date":1518513034,"post_id":18734471,"comment_id":84526515,"body_markdown":"How to get AM&amp;PM instead of &#39;a.m&#39; &amp; &#39;p.m&#39;","body":"How to get AM&amp;PM instead of &#39;a.m&#39; &amp; &#39;p.m&#39;"},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1577718764,"post_id":18734471,"comment_id":105235467,"body_markdown":"@akashbs I think there&#39;s no easy way around but you can try something like: in your full date string, call substring from (length - 4) to (length -1) and save it in a variable_original\nthen create a new variable_modified that will use the first created variable_original and replaces &quot;.m&quot; with &quot;m&quot;, then call the method toUpperCase\nafter that return to your full date string and call replace(variable_original, variable_modified) this will achieve what you&#39;re looking for","body":"@akashbs I think there&#39;s no easy way around but you can try something like: in your full date string, call substring from (length - 4) to (length -1) and save it in a variable_original then create a new variable_modified that will use the first created variable_original and replaces &quot;.m&quot; with &quot;m&quot;, then call the method toUpperCase after that return to your full date string and call replace(variable_original, variable_modified) this will achieve what you&#39;re looking for"},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1577718854,"post_id":18734471,"comment_id":105235512,"body_markdown":"@akashbs But you can use locals, each local uses different date formats, I believe using the US local can achieve what you&#39;re looking for too","body":"@akashbs But you can use locals, each local uses different date formats, I believe using the US local can achieve what you&#39;re looking for too"},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1577718875,"post_id":18734471,"comment_id":105235529,"body_markdown":"@akashbs For more info check these docs: https://developer.android.com/reference/java/text/SimpleDateFormat","body":"@akashbs For more info check these docs: <a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/text/SimpleDateFormat</a>"},{"owner":{"account_id":9532532,"reputation":1758,"user_id":7083671,"display_name":"Muhammad Asyraf"},"score":0,"creation_date":1580467357,"post_id":18734471,"comment_id":106115386,"body_markdown":"im having problem where 12:03pm became 00:03 pm","body":"im having problem where 12:03pm became 00:03 pm"},{"owner":{"account_id":12019614,"reputation":98,"user_id":8793517,"display_name":"Shyamaly Lakhadive"},"score":0,"creation_date":1613383852,"post_id":18734471,"comment_id":117048984,"body_markdown":"For AM/PM I am using &quot;a&quot; but as result, it is in small letters like am/pm. Why?","body":"For AM/PM I am using &quot;a&quot; but as result, it is in small letters like am/pm. Why?"}],"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":7,"down_vote_count":1,"up_vote_count":547,"is_accepted":true,"score":546,"last_activity_date":1393927196,"creation_date":1378882197,"answer_id":18734471,"question_id":18734452,"body_markdown":"Easiest way to get it by using date pattern - `h:mm a`, where \r\n\r\n - h - Hour in am/pm (1-12)\r\n - m - Minute in hour\r\n - a - Am/pm marker\r\n\r\nCode snippet :\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;hh:mm a&quot;);\r\n\r\n[Read more on documentation - SimpleDateFormat java 7 ][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"Display current time in 12 hour format with AM/PM","body":"<p>Easiest way to get it by using date pattern - <code>h:mm a</code>, where </p>\n\n<ul>\n<li>h - Hour in am/pm (1-12)</li>\n<li>m - Minute in hour</li>\n<li>a - Am/pm marker</li>\n</ul>\n\n<p>Code snippet :</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"hh:mm a\");\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\">Read more on documentation - SimpleDateFormat java 7 </a></p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1567475122,"post_id":18734531,"comment_id":101963994,"body_markdown":"Outmoded now. These formatting codes are now supplanted by the formatting codes of the [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html) class, per JSR 310.","body":"Outmoded now. These formatting codes are now supplanted by the formatting codes of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class, per JSR 310."}],"tags":[],"owner":{"account_id":2787997,"reputation":14139,"user_id":2398886,"accept_rate":86,"display_name":"Tarsem Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1378883071,"creation_date":1378882422,"answer_id":18734531,"question_id":18734452,"body_markdown":"Use this `SimpleDateFormat formatDate = new SimpleDateFormat(&quot;hh:mm a&quot;);`\r\n\r\n![enter image description here][1]\r\n\r\n  \r\n\r\n[Java docs for SimpleDateFormat](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5K434.png","title":"Display current time in 12 hour format with AM/PM","body":"<p>Use this <code>SimpleDateFormat formatDate = new SimpleDateFormat(\"hh:mm a\");</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/5K434.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\">Java docs for SimpleDateFormat</a></p>\n"},{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1407295607,"post_id":18734539,"comment_id":39154881,"body_markdown":"Thanks @RuchiraGayanRanaweei... i just wondering to capture the 24 format and convert it into the AM/PM format...","body":"Thanks @RuchiraGayanRanaweei... i just wondering to capture the 24 format and convert it into the AM/PM format..."},{"owner":{"account_id":6706386,"reputation":787,"user_id":5171182,"display_name":"Kekzpanda"},"score":0,"creation_date":1535101542,"post_id":18734539,"comment_id":90951066,"body_markdown":"This is important. I just had a case where &quot;Nov 18 2016 5:28PM&quot;  was converted to &quot;2016-11-18T05:28:00&quot; instead of &quot;2016-11-18T17:28:00&quot; because I used the wrong hour placeholder. Thanks!","body":"This is important. I just had a case where &quot;Nov 18 2016 5:28PM&quot;  was converted to &quot;2016-11-18T05:28:00&quot; instead of &quot;2016-11-18T17:28:00&quot; because I used the wrong hour placeholder. Thanks!"},{"owner":{"account_id":10993587,"reputation":94,"user_id":8076598,"display_name":"Nakshtra"},"score":0,"creation_date":1661705993,"post_id":18734539,"comment_id":129830412,"body_markdown":"this saved me, I was wondering why I was getting dates like 08/25/2022 13:52 pm\n\nnow I know,","body":"this saved me, I was wondering why I was getting dates like 08/25/2022 13:52 pm  now I know,"}],"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"comment_count":3,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1378882458,"creation_date":1378882458,"answer_id":18734539,"question_id":18734452,"body_markdown":"use `&quot;hh:mm a&quot;` instead of `&quot;HH:mm a&quot;`. Here `hh` for 12 hour format and `HH` for 24 hour format.\r\n\r\nLive [Demo][1]\r\n\r\n\r\n  [1]: http://ideone.com/ACldIF","title":"Display current time in 12 hour format with AM/PM","body":"<p>use <code>\"hh:mm a\"</code> instead of <code>\"HH:mm a\"</code>. Here <code>hh</code> for 12 hour format and <code>HH</code> for 24 hour format.</p>\n\n<p>Live <a href=\"http://ideone.com/ACldIF\">Demo</a></p>\n"},{"tags":[],"owner":{"account_id":2887765,"reputation":913,"user_id":2477203,"accept_rate":17,"display_name":"MansoorShaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1378882559,"creation_date":1378882559,"answer_id":18734574,"question_id":18734452,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-yy hh.mm.ss.S aa&quot;);\r\n    String formattedDate = dateFormat.format(new Date()).toString();\r\n    System.out.println(formattedDate);\r\n\r\nOutput:\r\n    11-Sep-13 12.25.15.375 PM","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MMM-yy hh.mm.ss.S aa\");\nString formattedDate = dateFormat.format(new Date()).toString();\nSystem.out.println(formattedDate);\n</code></pre>\n\n<p>Output:\n    11-Sep-13 12.25.15.375 PM</p>\n"},{"tags":[],"owner":{"account_id":2892880,"reputation":309,"user_id":2481237,"display_name":"user2481237"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1378905384,"creation_date":1378889814,"answer_id":18736764,"question_id":18734452,"body_markdown":"Just replace below statement and it will work. \r\n\r\n    SimpleDateFormat formatDate = new SimpleDateFormat(&quot;hh:mm a&quot;);","title":"Display current time in 12 hour format with AM/PM","body":"<p>Just replace below statement and it will work. </p>\n\n<pre><code>SimpleDateFormat formatDate = new SimpleDateFormat(\"hh:mm a\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6192339,"reputation":29,"user_id":4824721,"display_name":"gopal"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1429799776,"creation_date":1429799672,"answer_id":29826633,"question_id":18734452,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm a&quot;);\r\n\r\nThis will display the date and time \r\n ","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd hh:mm a\");\n</code></pre>\n\n<p>This will display the date and time </p>\n"},{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1567476133,"post_id":29893028,"comment_id":101964145,"body_markdown":"Way too convoluted and unintuitive. If you must use the deprecated SimpleDateFormat, at least put everything in one call. Also please explain why you use 12 instead of the actual hour from midnight to 1. Also, nobody asked about file names.","body":"Way too convoluted and unintuitive. If you must use the deprecated SimpleDateFormat, at least put everything in one call. Also please explain why you use 12 instead of the actual hour from midnight to 1. Also, nobody asked about file names."}],"tags":[],"owner":{"account_id":6123551,"reputation":29,"user_id":4776294,"display_name":"alaguvel c"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1430130485,"creation_date":1430130002,"answer_id":29893028,"question_id":18734452,"body_markdown":"        //To get Filename + date and time\r\n    \r\n    \r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;MMM&quot;);\r\n        SimpleDateFormat f1 = new SimpleDateFormat(&quot;dd&quot;);\r\n        SimpleDateFormat f2 = new SimpleDateFormat(&quot;a&quot;);\r\n        \r\n        int h;\r\n             if(Calendar.getInstance().get(Calendar.HOUR)==0)\r\n                h=12;\r\n        \t else\r\n        \t\th=Calendar.getInstance().get(Calendar.HOUR)\r\n    \r\n        String filename=&quot;TestReport&quot;+f1.format(new Date())+f.format(new Date())+h+f2.format(new Date())+&quot;.txt&quot;;\r\n    \r\n    \r\n    The Output Like:TestReport27Apr3PM.txt","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>    //To get Filename + date and time\n\n\n    SimpleDateFormat f = new SimpleDateFormat(\"MMM\");\n    SimpleDateFormat f1 = new SimpleDateFormat(\"dd\");\n    SimpleDateFormat f2 = new SimpleDateFormat(\"a\");\n\n    int h;\n         if(Calendar.getInstance().get(Calendar.HOUR)==0)\n            h=12;\n         else\n            h=Calendar.getInstance().get(Calendar.HOUR)\n\n    String filename=\"TestReport\"+f1.format(new Date())+f.format(new Date())+h+f2.format(new Date())+\".txt\";\n\n\nThe Output Like:TestReport27Apr3PM.txt\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3188716,"reputation":1382,"user_id":2693611,"display_name":"Nima Derakhshanjan"},"score":1,"creation_date":1449393153,"post_id":34115656,"comment_id":55980798,"body_markdown":"It&#39;s more useful if you explain a little about your answer.","body":"It&#39;s more useful if you explain a little about your answer."},{"owner":{"account_id":5875274,"reputation":155,"user_id":4626279,"display_name":"Raju Ahmed"},"score":0,"creation_date":1449483454,"post_id":34115656,"comment_id":56010145,"body_markdown":"(&quot;hh:mm:ss a&quot;) &gt;&gt;&gt; Here if wedont use a then 24hours will be appeared. so if we want to AM/PM in your time just add this format. if any confusion please let me know.","body":"(&quot;hh:mm:ss a&quot;) &gt;&gt;&gt; Here if wedont use a then 24hours will be appeared. so if we want to AM/PM in your time just add this format. if any confusion please let me know."}],"tags":[],"owner":{"account_id":5875274,"reputation":155,"user_id":4626279,"display_name":"Raju Ahmed"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1666850110,"creation_date":1449391940,"answer_id":34115656,"question_id":18734452,"body_markdown":"    SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\r\n\r\n(&quot;hh:mm:ss a&quot;) &gt;&gt;&gt; Here if we don&#39;t use &#39;a&#39; then 24hours will be appeared. so if we want to AM/PM in your time just add this format. if any confusion please let me know.","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\n</code></pre>\n<p>(&quot;hh:mm:ss a&quot;) &gt;&gt;&gt; Here if we don't use 'a' then 24hours will be appeared. so if we want to AM/PM in your time just add this format. if any confusion please let me know.</p>\n"},{"tags":[],"owner":{"account_id":7544691,"reputation":379,"user_id":5728185,"display_name":"Johnny K"},"comment_count":0,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1451416435,"creation_date":1451416435,"answer_id":34517532,"question_id":18734452,"body_markdown":"    SimpleDateFormat formatDate = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\r\n\r\n- h is used for AM/PM times (1-12).\r\n\r\n- H is used for 24 hour times (1-24).\r\n\r\n- a is the AM/PM marker \r\n\r\n- m is minute in hour\r\n\r\n\r\n*Note: Two h&#39;s will print a leading zero: 01:13 PM.  One h will print without the leading zero: 1:13 PM.*\r\n\r\nLooks like basically everyone beat me to it already, but I digress","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>SimpleDateFormat formatDate = new SimpleDateFormat(\"hh:mm:ss a\");\n</code></pre>\n\n<ul>\n<li><p>h is used for AM/PM times (1-12).</p></li>\n<li><p>H is used for 24 hour times (1-24).</p></li>\n<li><p>a is the AM/PM marker </p></li>\n<li><p>m is minute in hour</p></li>\n</ul>\n\n<p><em>Note: Two h's will print a leading zero: 01:13 PM.  One h will print without the leading zero: 1:13 PM.</em></p>\n\n<p>Looks like basically everyone beat me to it already, but I digress</p>\n"},{"comments":[{"owner":{"account_id":11362608,"reputation":315,"user_id":8330380,"display_name":"Martin Volek"},"score":1,"creation_date":1564663009,"post_id":46288403,"comment_id":101110748,"body_markdown":"well, this is the best answer that  I found here, thanks","body":"well, this is the best answer that  I found here, thanks"},{"owner":{"account_id":10577425,"reputation":1286,"user_id":7792357,"display_name":"Shrirang"},"score":1,"creation_date":1650464801,"post_id":46288403,"comment_id":127123376,"body_markdown":"this is what I want","body":"this is what I want"}],"tags":[],"owner":{"account_id":9871266,"reputation":363,"user_id":7310820,"display_name":"Panduka"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1511604519,"creation_date":1505769654,"answer_id":46288403,"question_id":18734452,"body_markdown":"    // hh:mm will print hours in 12hrs clock and mins (e.g. 02:30)\r\n    System.out.println(DateTimeFormatter.ofPattern(&quot;hh:mm&quot;).format(LocalTime.now()));\r\n\r\n    // HH:mm will print hours in 24hrs clock and mins (e.g. 14:30)\r\n    System.out.println(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;).format(LocalTime.now())); \r\n\r\n    // hh:mm a will print hours in 12hrs clock, mins and AM/PM (e.g. 02:30 PM)\r\n    System.out.println(DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;).format(LocalTime.now())); \r\n\r\n","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>// hh:mm will print hours in 12hrs clock and mins (e.g. 02:30)\nSystem.out.println(DateTimeFormatter.ofPattern(\"hh:mm\").format(LocalTime.now()));\n\n// HH:mm will print hours in 24hrs clock and mins (e.g. 14:30)\nSystem.out.println(DateTimeFormatter.ofPattern(\"HH:mm\").format(LocalTime.now())); \n\n// hh:mm a will print hours in 12hrs clock, mins and AM/PM (e.g. 02:30 PM)\nSystem.out.println(DateTimeFormatter.ofPattern(\"hh:mm a\").format(LocalTime.now())); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1567473763,"post_id":46486064,"comment_id":101963795,"body_markdown":"Specify a `Locale` by calling `withLocale` on that formatter object, to determine the human language and cultural norms to use in generating the `AM`/`PM` text.","body":"Specify a <code>Locale</code> by calling <code>withLocale</code> on that formatter object, to determine the human language and cultural norms to use in generating the <code>AM</code>/<code>PM</code> text."}],"tags":[],"owner":{"account_id":11598306,"reputation":391,"user_id":8496330,"display_name":"Bala"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521771944,"creation_date":1506677944,"answer_id":46486064,"question_id":18734452,"body_markdown":"**Using Java 8:**\r\n \r\n\r\n    LocalTime localTime = LocalTime.now();\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\r\n    System.out.println(localTime.format(dateTimeFormatter));\r\n\r\nThe output is in `AM/PM` Format.\r\n\r\n    Sample output:  3:00 PM","title":"Display current time in 12 hour format with AM/PM","body":"<p><strong>Using Java 8:</strong></p>\n\n<pre><code>LocalTime localTime = LocalTime.now();\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"hh:mm a\");\nSystem.out.println(localTime.format(dateTimeFormatter));\n</code></pre>\n\n<p>The output is in <code>AM/PM</code> Format.</p>\n\n<pre><code>Sample output:  3:00 PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11207520,"reputation":23,"user_id":8222660,"display_name":"abhishek jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518198755,"creation_date":1518197204,"answer_id":48711122,"question_id":18734452,"body_markdown":"To put your current mobile date and time format in \r\n\r\n&gt; Feb 9, 2018 10:36:59 PM\r\n\r\n  \r\n\r\n    Date date = new Date();\r\n     String stringDate = DateFormat.getDateTimeInstance().format(date);\r\n\r\n\r\nyou can show it to your `Activity`, `Fragment`, `CardView`, `ListView` anywhere by using `TextView`\r\n\r\n    ` TextView mDateTime;\r\n\r\n      mDateTime=findViewById(R.id.Your_TextViewId_Of_XML);\r\n      \r\n      Date date = new Date();\r\n      String mStringDate = DateFormat.getDateTimeInstance().format(date);\r\n      mDateTime.setText(&quot;My Device Current Date and Time is:&quot;+date);\r\n\r\n      `\r\n\r\n                         ","title":"Display current time in 12 hour format with AM/PM","body":"<p>To put your current mobile date and time format in </p>\n\n<blockquote>\n  <p>Feb 9, 2018 10:36:59 PM</p>\n</blockquote>\n\n<pre><code>Date date = new Date();\n String stringDate = DateFormat.getDateTimeInstance().format(date);\n</code></pre>\n\n<p>you can show it to your <code>Activity</code>, <code>Fragment</code>, <code>CardView</code>, <code>ListView</code> anywhere by using <code>TextView</code></p>\n\n<pre><code>` TextView mDateTime;\n\n  mDateTime=findViewById(R.id.Your_TextViewId_Of_XML);\n\n  Date date = new Date();\n  String mStringDate = DateFormat.getDateTimeInstance().format(date);\n  mDateTime.setText(\"My Device Current Date and Time is:\"+date);\n\n  `\n</code></pre>\n"},{"comments":[{"owner":{"account_id":429324,"reputation":8238,"user_id":812149,"accept_rate":100,"display_name":"S.L. Barth is on codidact.com"},"score":5,"creation_date":1548155623,"post_id":54306980,"comment_id":95433808,"body_markdown":"You&#39;re eating an exception. The Exception handler should at least provide a warning.","body":"You&#39;re eating an exception. The Exception handler should at least provide a warning."}],"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650263783,"creation_date":1548155389,"answer_id":54306980,"question_id":18734452,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.text.DateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n       public static void main(String [] args){\r\n           try {\r\n                DateFormat parseFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm a&quot;);\r\n                String sDate = &quot;22-01-2019 13:35 PM&quot;;\r\n                Date date = parseFormat.parse(sDate);\r\n                SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm a&quot;);\r\n                sDate = displayFormat.format(date);\r\n                System.out.println(&quot;The required format : &quot; + sDate);\r\n            } catch (Exception e) {}\r\n       }\r\n    }\r\n\r\n **- Using java 8**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            String pattern = &quot;hh:mm:ss a&quot;;\r\n            \r\n            //1. LocalTime\r\n            LocalTime now = LocalTime.now();\r\n            System.out.println(now.format(DateTimeFormatter.ofPattern(pattern)));\r\n    \r\n            //2. LocalDateTime\r\n            LocalDateTime nowTime = LocalDateTime.now();\r\n            System.out.println(nowTime.format(DateTimeFormatter.ofPattern(pattern)));\r\n        }\r\n    }","title":"Display current time in 12 hour format with AM/PM","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.text.DateFormat;\nimport java.util.Date;\n\npublic class Main {\n   public static void main(String [] args){\n       try {\n            DateFormat parseFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm a&quot;);\n            String sDate = &quot;22-01-2019 13:35 PM&quot;;\n            Date date = parseFormat.parse(sDate);\n            SimpleDateFormat displayFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm a&quot;);\n            sDate = displayFormat.format(date);\n            System.out.println(&quot;The required format : &quot; + sDate);\n        } catch (Exception e) {}\n   }\n}\n</code></pre>\n<p><strong>- Using java 8</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        String pattern = &quot;hh:mm:ss a&quot;;\n        \n        //1. LocalTime\n        LocalTime now = LocalTime.now();\n        System.out.println(now.format(DateTimeFormatter.ofPattern(pattern)));\n\n        //2. LocalDateTime\n        LocalDateTime nowTime = LocalDateTime.now();\n        System.out.println(nowTime.format(DateTimeFormatter.ofPattern(pattern)));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":6,"creation_date":1548865444,"post_id":54433865,"comment_id":95699329,"body_markdown":"In 2019 please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. Today we have so much better in [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"In 2019 please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a> and its <code>DateTimeFormatter</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1548914322,"post_id":54433865,"comment_id":95716589,"body_markdown":"Thanks. The modern answer can be used on low API levels too if you add [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), the backport of java.time, to your Android project. See [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project) (for a simple task like this one, the value may be debatable, but for just slightly more date and time work I recommend it).","body":"Thanks. The modern answer can be used on low API levels too if you add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, the backport of java.time, to your Android project. See <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a> (for a simple task like this one, the value may be debatable, but for just slightly more date and time work I recommend it)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1548914563,"post_id":54433865,"comment_id":95716682,"body_markdown":"Since AM and PM are hardly used in other languages than English, I’d probably use `DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH)` (or another English-speaking locale).","body":"Since AM and PM are hardly used in other languages than English, I’d probably use <code>DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH)</code> (or another English-speaking locale)."},{"owner":{"account_id":5198830,"reputation":574,"user_id":4159043,"accept_rate":44,"display_name":"Bhavik Mehta"},"score":0,"creation_date":1660288653,"post_id":54433865,"comment_id":129501769,"body_markdown":"@OleV.V. : Nothing is better than using a code that is compatible with all generations. SimpleDateFormat is legacy and will stay forever","body":"@OleV.V. : Nothing is better than using a code that is compatible with all generations. SimpleDateFormat is legacy and will stay forever"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1660289168,"post_id":54433865,"comment_id":129501920,"body_markdown":"I probably could not disagree more, @BhavikMehta. I do not expect `SimpleDateFormat` to stay in all future Java versions, at least not without deprecation. The value of keeping code compatible with Java 1.4 is non-existing. And keeping hard-to-maintain code -- certainly is not the best thing in the world.","body":"I probably could not disagree more, @BhavikMehta. I do not expect <code>SimpleDateFormat</code> to stay in all future Java versions, at least not without deprecation. The value of keeping code compatible with Java 1.4 is non-existing. And keeping hard-to-maintain code -- certainly is not the best thing in the world."}],"tags":[],"owner":{"account_id":12444641,"reputation":2168,"user_id":9061224,"display_name":"MarGin"},"comment_count":5,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1553358723,"creation_date":1548826329,"answer_id":54433865,"question_id":18734452,"body_markdown":"If you want current time with AM, PM in **Android** use\r\n\r\n   \r\n    String time = new SimpleDateFormat(&quot;hh : mm a&quot;, Locale.getDefault()).format(Calendar.getInstance().getTime());\r\n\r\nIf you want current time with am, pm \r\n\r\n           \r\n\r\n \r\n\r\n    String time = new SimpleDateFormat(&quot;hh : mm a&quot;, Locale.getDefault()).format(Calendar.getInstance().getTime()).toLowerCase();\r\n\r\n\r\n\r\nOR\r\n\r\n**From API level 26**\r\n   \r\n\r\n    LocalTime localTime = LocalTime.now();\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\r\n    String time = localTime.format(dateTimeFormatter);\r\n\r\n","title":"Display current time in 12 hour format with AM/PM","body":"<p>If you want current time with AM, PM in <strong>Android</strong> use</p>\n\n<pre><code>String time = new SimpleDateFormat(\"hh : mm a\", Locale.getDefault()).format(Calendar.getInstance().getTime());\n</code></pre>\n\n<p>If you want current time with am, pm </p>\n\n<pre><code>String time = new SimpleDateFormat(\"hh : mm a\", Locale.getDefault()).format(Calendar.getInstance().getTime()).toLowerCase();\n</code></pre>\n\n<p>OR</p>\n\n<p><strong>From API level 26</strong></p>\n\n<pre><code>LocalTime localTime = LocalTime.now();\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"hh:mm a\");\nString time = localTime.format(dateTimeFormatter);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":217831,"reputation":779,"user_id":473829,"accept_rate":88,"display_name":"Will Vanderhoef"},"score":0,"creation_date":1650651209,"post_id":57764096,"comment_id":127178156,"body_markdown":"The 310 Android Back Port library also supports this API if you can&#39;t or haven&#39;t moved to java.time.","body":"The 310 Android Back Port library also supports this API if you can&#39;t or haven&#39;t moved to java.time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1650654381,"post_id":57764096,"comment_id":127179062,"body_markdown":"@WillVanderhoef Actually, Android 26+ comes with an implementation of *java.time*. For earlier Android, the latest tooling brings much of the *java.time* functionality via &quot;API desugaring&quot;.","body":"@WillVanderhoef Actually, Android 26+ comes with an implementation of <i>java.time</i>. For earlier Android, the latest tooling brings much of the <i>java.time</i> functionality via &quot;API desugaring&quot;."},{"owner":{"account_id":217831,"reputation":779,"user_id":473829,"accept_rate":88,"display_name":"Will Vanderhoef"},"score":0,"creation_date":1652996503,"post_id":57764096,"comment_id":127749877,"body_markdown":"While that&#39;s true, it doesn&#39;t change the fact that projects that cannot use java.time and some people might benefit from knowing that a (near?) identical API exists in 310ABP.  I know of a project that is stuck in this state until a dependency is updated to use java.time.","body":"While that&#39;s true, it doesn&#39;t change the fact that projects that cannot use java.time and some people might benefit from knowing that a (near?) identical API exists in 310ABP.  I know of a project that is stuck in this state until a dependency is updated to use java.time."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1567474954,"creation_date":1567474954,"answer_id":57764096,"question_id":18734452,"body_markdown":"# tl;dr\r\n\r\nLet the modern *java.time* classes of JSR 310 automatically generate localized text, rather than hard-coding 12-hour clock and AM/PM.\r\n\r\n    LocalTime                                     // Represent a time-of-day, without date, without time zone or offset-from-UTC.\r\n    .now(                                         // Capture the current time-of-day as seen in a particular time zone.\r\n        ZoneId.of( &quot;Africa/Casablanca&quot; )          \r\n    )                                             // Returns a `LocalTime` object.\r\n    .format(                                      // Generate text representing the value in our `LocalTime` object.\r\n        DateTimeFormatter                         // Class responsible for generating text representing the value of a java.time object.\r\n        .ofLocalizedTime(                         // Automatically localize the text being generated.\r\n            FormatStyle.SHORT                     // Specify how long or abbreviated the generated text should be.\r\n        )                                         // Returns a `DateTimeFormatter` object.\r\n        .withLocale( Locale.US )                  // Specifies a particular locale for the `DateTimeFormatter` rather than rely on the JVM’s current default locale. Returns another separate `DateTimeFormatter` object rather than altering the first, per immutable objects pattern.\r\n    )                                             // Returns a `String` object.\r\n\r\n&gt;10:31 AM\r\n\r\n\r\n# Automatically localize\r\n\r\nRather than insisting on 12-hour clock with AM/PM, you may want to let *java.time* automatically localize for you. Call [`DateTimeFormatter.ofLocalizedTime`][1].\r\n\r\nTo localize, specify:\r\n\r\n - [`FormatStyle`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/FormatStyle.html) to determine how long or abbreviated should the string be.\r\n - [`Locale`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html) to determine:\r\n  - The *human language* for translation of name of day, name of month, and such.\r\n  - The *cultural norms* deciding issues of abbreviation, capitalization, punctuation, separators, and such.\r\n\r\nHere we get the current time-of-day as seen in a particular time zone. Then we generate text to represent that time. We localize to French language in Canada culture, then English language in US culture.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    LocalTime localTime = LocalTime.now( z ) ;\r\n    \r\n    // Qu&#233;bec\r\n    Locale locale_fr_CA = Locale.CANADA_FRENCH ;  // Or `Locale.US`, and so on.\r\n    DateTimeFormatter formatterQu&#233;bec = DateTimeFormatter.ofLocalizedTime( FormatStyle.SHORT ).withLocale( locale_fr_CA ) ;\r\n    String outputQu&#233;bec = localTime.format( formatterQu&#233;bec ) ;\r\n    \r\n    System.out.println( outputQu&#233;bec ) ;\r\n    \r\n    // US\r\n    Locale locale_en_US = Locale.US ;  \r\n    DateTimeFormatter formatterUS = DateTimeFormatter.ofLocalizedTime( FormatStyle.SHORT ).withLocale( locale_en_US ) ;\r\n    String outputUS = localTime.format( formatterUS ) ;\r\n    \r\n    System.out.println( outputUS ) ;\r\n\r\nSee this [code run live at IdeOne.com][2]. \r\n\r\n&gt;10 h 31\r\n\r\n&gt;10:31 AM\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedTime(java.time.format.FormatStyle)\r\n  [2]: https://ideone.com/ZGZJkp","title":"Display current time in 12 hour format with AM/PM","body":"<h1>tl;dr</h1>\n\n<p>Let the modern <em>java.time</em> classes of JSR 310 automatically generate localized text, rather than hard-coding 12-hour clock and AM/PM.</p>\n\n<pre><code>LocalTime                                     // Represent a time-of-day, without date, without time zone or offset-from-UTC.\n.now(                                         // Capture the current time-of-day as seen in a particular time zone.\n    ZoneId.of( \"Africa/Casablanca\" )          \n)                                             // Returns a `LocalTime` object.\n.format(                                      // Generate text representing the value in our `LocalTime` object.\n    DateTimeFormatter                         // Class responsible for generating text representing the value of a java.time object.\n    .ofLocalizedTime(                         // Automatically localize the text being generated.\n        FormatStyle.SHORT                     // Specify how long or abbreviated the generated text should be.\n    )                                         // Returns a `DateTimeFormatter` object.\n    .withLocale( Locale.US )                  // Specifies a particular locale for the `DateTimeFormatter` rather than rely on the JVM’s current default locale. Returns another separate `DateTimeFormatter` object rather than altering the first, per immutable objects pattern.\n)                                             // Returns a `String` object.\n</code></pre>\n\n<blockquote>\n  <p>10:31 AM</p>\n</blockquote>\n\n<h1>Automatically localize</h1>\n\n<p>Rather than insisting on 12-hour clock with AM/PM, you may want to let <em>java.time</em> automatically localize for you. Call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html#ofLocalizedTime(java.time.format.FormatStyle)\" rel=\"noreferrer\"><code>DateTimeFormatter.ofLocalizedTime</code></a>.</p>\n\n<p>To localize, specify:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/FormatStyle.html\" rel=\"noreferrer\"><code>FormatStyle</code></a> to determine how long or abbreviated should the string be.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a> to determine:\n\n<ul>\n<li>The <em>human language</em> for translation of name of day, name of month, and such.</li>\n<li>The <em>cultural norms</em> deciding issues of abbreviation, capitalization, punctuation, separators, and such.</li>\n</ul></li>\n</ul>\n\n<p>Here we get the current time-of-day as seen in a particular time zone. Then we generate text to represent that time. We localize to French language in Canada culture, then English language in US culture.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Asia/Tokyo\" ) ;\nLocalTime localTime = LocalTime.now( z ) ;\n\n// Québec\nLocale locale_fr_CA = Locale.CANADA_FRENCH ;  // Or `Locale.US`, and so on.\nDateTimeFormatter formatterQuébec = DateTimeFormatter.ofLocalizedTime( FormatStyle.SHORT ).withLocale( locale_fr_CA ) ;\nString outputQuébec = localTime.format( formatterQuébec ) ;\n\nSystem.out.println( outputQuébec ) ;\n\n// US\nLocale locale_en_US = Locale.US ;  \nDateTimeFormatter formatterUS = DateTimeFormatter.ofLocalizedTime( FormatStyle.SHORT ).withLocale( locale_en_US ) ;\nString outputUS = localTime.format( formatterUS ) ;\n\nSystem.out.println( outputUS ) ;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/ZGZJkp\" rel=\"noreferrer\">code run live at IdeOne.com</a>. </p>\n\n<blockquote>\n  <p>10 h 31</p>\n  \n  <p>10:31 AM</p>\n</blockquote>\n"}],"owner":{"account_id":25177,"reputation":4512,"user_id":64540,"accept_rate":92,"display_name":"ronan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575941,"favorite_count":0,"down_vote_count":2,"up_vote_count":243,"accepted_answer_id":18734471,"answer_count":15,"score":241,"last_activity_date":1666850110,"creation_date":1378882104,"question_id":18734452,"body_markdown":"Currently the time displayed as **13:35 PM** \r\nHowever **I want to display as 12 hour format with AM/PM, i.e 1:35 PM instead of 13:35 PM**\r\n\r\nThe current code is as below \r\n\r\n    private static final int FOR_HOURS = 3600000;\r\n    private static final int FOR_MIN = 60000;\r\n    public String getTime(final Model model) {\r\n        SimpleDateFormat formatDate = new SimpleDateFormat(&quot;HH:mm a&quot;);\r\n        formatDate.setTimeZone(userContext.getUser().getTimeZone());\r\n        model.addAttribute(&quot;userCurrentTime&quot;, formatDate.format(new Date()));\r\n        final String offsetHours = String.format(&quot;%+03d:%02d&quot;, userContext.getUser().getTimeZone().getRawOffset()\r\n        / FOR_HOURS, Math.abs(userContext.getUser().getTimeZone().getRawOffset() % FOR_HOURS / FOR_MIN));\r\n        model.addAttribute(&quot;offsetHours&quot;,\r\n                    offsetHours + &quot; &quot; + userContext.getUser().getTimeZone().getDisplayName(Locale.ROOT));\r\n        return &quot;systemclock&quot;;\r\n    }","title":"Display current time in 12 hour format with AM/PM","body":"<p>Currently the time displayed as <strong>13:35 PM</strong> \nHowever <strong>I want to display as 12 hour format with AM/PM, i.e 1:35 PM instead of 13:35 PM</strong></p>\n\n<p>The current code is as below </p>\n\n<pre><code>private static final int FOR_HOURS = 3600000;\nprivate static final int FOR_MIN = 60000;\npublic String getTime(final Model model) {\n    SimpleDateFormat formatDate = new SimpleDateFormat(\"HH:mm a\");\n    formatDate.setTimeZone(userContext.getUser().getTimeZone());\n    model.addAttribute(\"userCurrentTime\", formatDate.format(new Date()));\n    final String offsetHours = String.format(\"%+03d:%02d\", userContext.getUser().getTimeZone().getRawOffset()\n    / FOR_HOURS, Math.abs(userContext.getUser().getTimeZone().getRawOffset() % FOR_HOURS / FOR_MIN));\n    model.addAttribute(\"offsetHours\",\n                offsetHours + \" \" + userContext.getUser().getTimeZone().getDisplayName(Locale.ROOT));\n    return \"systemclock\";\n}\n</code></pre>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1667110649,"post_id":74217206,"comment_id":131090502,"body_markdown":"If it&#39;s GitHub, can&#39;t you just do an HTTP GET of the raw.githubusercontent.com url of a file / files at whichever commitish you want? Can you clarify whether you want to avoid fetching the entire working tree content of whichever commit you want? Ie. Do you want only fetch files that you need and nothing else? Please [edit].","body":"If it&#39;s GitHub, can&#39;t you just do an HTTP GET of the raw.githubusercontent.com url of a file / files at whichever commitish you want? Can you clarify whether you want to avoid fetching the entire working tree content of whichever commit you want? Ie. Do you want only fetch files that you need and nothing else? Please <a href=\"https://stackoverflow.com/posts/74217206/edit\">edit</a>."},{"owner":{"account_id":26745195,"reputation":21,"user_id":20345362,"display_name":"Sarah Lau"},"score":0,"creation_date":1667257383,"post_id":74217206,"comment_id":131122872,"body_markdown":"It&#39;s from a private organisation repo so a normal HTTP get can&#39;t access the url.","body":"It&#39;s from a private organisation repo so a normal HTTP get can&#39;t access the url."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666849829,"creation_date":1666849829,"answer_id":74217341,"question_id":74217206,"body_markdown":"That would need to be managed by a separate program of yours, in charge of:\r\n\r\n- going to a local clone of repoB and refreshing its content (`git pull`)\r\n- reading the certificates you need, and checking them with repoA function\r\n- copy the data you want over to repoA\r\n- add and commit in repoA\r\n\r\nYou can trigger that program:\r\n\r\n- periodically.\r\n- on push events on repoB, provided you setup a [webhook][1] listener.\r\n- from GitHub, in a [GitHub Action workflow][2].\r\n\r\n\r\n  [1]: https://docs.github.com/en/developers/webhooks-and-events/webhooks/about-webhooks\r\n  [2]: https://docs.github.com/en/actions/using-workflows","title":"Accessing a file from a different GitHub repository","body":"<p>That would need to be managed by a separate program of yours, in charge of:</p>\n<ul>\n<li>going to a local clone of repoB and refreshing its content (<code>git pull</code>)</li>\n<li>reading the certificates you need, and checking them with repoA function</li>\n<li>copy the data you want over to repoA</li>\n<li>add and commit in repoA</li>\n</ul>\n<p>You can trigger that program:</p>\n<ul>\n<li>periodically.</li>\n<li>on push events on repoB, provided you setup a <a href=\"https://docs.github.com/en/developers/webhooks-and-events/webhooks/about-webhooks\" rel=\"nofollow noreferrer\">webhook</a> listener.</li>\n<li>from GitHub, in a <a href=\"https://docs.github.com/en/actions/using-workflows\" rel=\"nofollow noreferrer\">GitHub Action workflow</a>.</li>\n</ul>\n"}],"owner":{"account_id":26745195,"reputation":21,"user_id":20345362,"display_name":"Sarah Lau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666849829,"creation_date":1666848722,"question_id":74217206,"body_markdown":"Is there a way to import data from different repos? \r\nI have a lambda function in repo A (in a private organsation) that needs to read data from a different repo B in the organisation&#39;s GitHub. \r\nI&#39;m periodically checking certificate expiries of various URLs which are stored in repo B. No changes should be made to the repo B, just files read. \r\n\r\nThe file cannot be just copied over as any new certs added to the file in repo B needs to be checked by the function in repo A when it runs.\r\n\r\nThe code is using Java.\r\n\r\nThese repos have other functions and thus I don&#39;t think I can use things like subtree or submodule.\r\n","title":"Accessing a file from a different GitHub repository","body":"<p>Is there a way to import data from different repos?\nI have a lambda function in repo A (in a private organsation) that needs to read data from a different repo B in the organisation's GitHub.\nI'm periodically checking certificate expiries of various URLs which are stored in repo B. No changes should be made to the repo B, just files read.</p>\n<p>The file cannot be just copied over as any new certs added to the file in repo B needs to be checked by the function in repo A when it runs.</p>\n<p>The code is using Java.</p>\n<p>These repos have other functions and thus I don't think I can use things like subtree or submodule.</p>\n"},{"tags":["java","maven","mvn-repo"],"answers":[{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666849745,"post_id":74217315,"comment_id":131033735,"body_markdown":"thanks, on https://github.com/google/ExoPlayer I can not find the 2.6.1, I do not need the last version, only the 2.6.1. how to look at the build.gradle? I don&#39;t even know what is it :(","body":"thanks, on <a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\">github.com/google/ExoPlayer</a> I can not find the 2.6.1, I do not need the last version, only the 2.6.1. how to look at the build.gradle? I don&#39;t even know what is it :("}],"tags":[],"owner":{"account_id":7540549,"reputation":387,"user_id":5725291,"display_name":"hideous"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666849755,"creation_date":1666849620,"answer_id":74217315,"question_id":74217260,"body_markdown":"For this you can usually look into the repository.\r\n\r\nHere is the one at Github: https://github.com/google/ExoPlayer\r\n\r\nBut this is a gradle project, so you&#39;ll rather need to look at the `build.gradle`.\r\n\r\nYou can also find the `pom.xml` in the maven repository for the latest release: https://mvnrepository.com/artifact/com.google.android.exoplayer/exoplayer-ui/2.18.1\r\n\r\nOn the releases page there is just the code bundled as a zip, so in this case you&#39;d need to clone the repository and build it by yourself.","title":"How from mvnrepository.com can I get the jar and the pom of one library?","body":"<p>For this you can usually look into the repository.</p>\n<p>Here is the one at Github: <a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer</a></p>\n<p>But this is a gradle project, so you'll rather need to look at the <code>build.gradle</code>.</p>\n<p>You can also find the <code>pom.xml</code> in the maven repository for the latest release: <a href=\"https://mvnrepository.com/artifact/com.google.android.exoplayer/exoplayer-ui/2.18.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.android.exoplayer/exoplayer-ui/2.18.1</a></p>\n<p>On the releases page there is just the code bundled as a zip, so in this case you'd need to clone the repository and build it by yourself.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666849755,"creation_date":1666849168,"question_id":74217260,"body_markdown":"How can I retrieve from mvnrepository.com the jar and the pom that correspond to \r\n\r\n    // https://mvnrepository.com/artifact/com.google.android.exoplayer/exoplayer-ui\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.6.1&#39;\r\n\r\nElse if not possible from mvnrepository.com from where else I can retrieve this jar ?\r\n","title":"How from mvnrepository.com can I get the jar and the pom of one library?","body":"<p>How can I retrieve from mvnrepository.com the jar and the pom that correspond to</p>\n<pre><code>// https://mvnrepository.com/artifact/com.google.android.exoplayer/exoplayer-ui\nimplementation 'com.google.android.exoplayer:exoplayer-ui:2.6.1'\n</code></pre>\n<p>Else if not possible from mvnrepository.com from where else I can retrieve this jar ?</p>\n"},{"tags":["java","libgdx","spine"],"answers":[{"comments":[{"owner":{"account_id":8709736,"reputation":338,"user_id":6516324,"accept_rate":86,"display_name":"Lucas B"},"score":1,"creation_date":1501684432,"post_id":45454890,"comment_id":77888190,"body_markdown":"Thanks! I think this is the second time you&#39;ve answered one of my questions with a good answer! You&#39;re awesome!","body":"Thanks! I think this is the second time you&#39;ve answered one of my questions with a good answer! You&#39;re awesome!"},{"owner":{"account_id":8687722,"reputation":124,"user_id":6501584,"display_name":"Caolem"},"score":1,"creation_date":1522639927,"post_id":45454890,"comment_id":86216914,"body_markdown":"I had the same problem the line that solve the problem for me is\n&quot;skeleton.updateWorldTransform();&quot;","body":"I had the same problem the line that solve the problem for me is &quot;skeleton.updateWorldTransform();&quot;"}],"tags":[],"owner":{"account_id":4206565,"reputation":20016,"user_id":3445320,"display_name":"AAryan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1501660814,"creation_date":1501660814,"answer_id":45454890,"question_id":45450173,"body_markdown":"Try this Test Class :\r\n\r\n    public class SimpleTest1 extends ApplicationAdapter {\r\n    \t\r\n    \tOrthographicCamera camera;\r\n    \tSpriteBatch batch;\r\n    \tSkeletonRenderer renderer;\r\n    \tSkeletonRendererDebug debugRenderer;\r\n    \r\n    \tTextureAtlas atlas;\r\n    \tSkeleton skeleton;\r\n    \tAnimationState state;\r\n    \r\n    \tpublic void create () {\r\n    \t\t\r\n    \t\tcamera = new OrthographicCamera();\r\n    \t\tbatch = new SpriteBatch();\r\n    \t\trenderer = new SkeletonRenderer();\r\n    \t\trenderer.setPremultipliedAlpha(true); // PMA results in correct blending without outlines.\r\n    \t\tdebugRenderer = new SkeletonRendererDebug();\r\n    \t\tdebugRenderer.setBoundingBoxes(false);\r\n    \t\tdebugRenderer.setRegionAttachments(false);\r\n    \r\n    \t\tatlas = new TextureAtlas(Gdx.files.internal(&quot;spineboy/spineboy.atlas&quot;));\r\n    \t\tSkeletonJson json = new SkeletonJson(atlas); // This loads skeleton JSON data, which is stateless.\r\n    \t\tjson.setScale(0.6f); // Load the skeleton at 60% the size it was in Spine.\r\n    \t\tSkeletonData skeletonData = json.readSkeletonData(Gdx.files.internal(&quot;spineboy/spineboy.json&quot;));\r\n    \r\n    \t\tskeleton = new Skeleton(skeletonData); // Skeleton holds skeleton state (bone positions, slot attachments, etc).\r\n    \t\tskeleton.setPosition(250, 20);\r\n    \r\n    \t\tAnimationStateData stateData = new AnimationStateData(skeletonData); // Defines mixing (crossfading) between animations.\r\n    \t\tstateData.setMix(&quot;run&quot;, &quot;jump&quot;, 0.2f);\r\n    \t\tstateData.setMix(&quot;jump&quot;, &quot;run&quot;, 0.2f);\r\n    \r\n    \t\tstate = new AnimationState(stateData); // Holds the animation state for a skeleton (current animation, time, etc).\r\n    \t\tstate.setTimeScale(0.5f); // Slow all animations down to 50% speed.\r\n    \r\n    \t\t// Queue animations on track 0.\r\n    \t\tstate.setAnimation(0, &quot;run&quot;, true);\r\n    \t\tstate.addAnimation(0, &quot;jump&quot;, false, 2); // Jump after 2 seconds.\r\n    \t\tstate.addAnimation(0, &quot;run&quot;, true, 0); // Run after the jump.\r\n    \t}\r\n    \r\n    \tpublic void render () {\r\n    \t\tstate.update(Gdx.graphics.getDeltaTime()); // Update the animation time.\r\n    \r\n    \t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n    \r\n    \t\tstate.apply(skeleton); // Poses skeleton using current animations. This sets the bones&#39; local SRT.\r\n    \t\tskeleton.updateWorldTransform(); // Uses the bones&#39; local SRT to compute their world SRT.\r\n    \r\n    \t\t// Configure the camera, SpriteBatch, and SkeletonRendererDebug.\r\n    \t\tcamera.update();\r\n    \t\tbatch.getProjectionMatrix().set(camera.combined);\r\n    \t\tdebugRenderer.getShapeRenderer().setProjectionMatrix(camera.combined);\r\n    \r\n    \t\tbatch.begin();\r\n    \t\trenderer.draw(batch, skeleton); // Draw the skeleton images.\r\n    \t\tbatch.end();\r\n    \r\n    \t\tdebugRenderer.draw(skeleton); // Draw debug lines.\r\n    \t}\r\n    \r\n    \tpublic void resize (int width, int height) {\r\n    \t\tcamera.setToOrtho(false); // Update camera with new size.\r\n    \t}\r\n    \r\n    \tpublic void dispose () {\r\n    \t\tatlas.dispose();\r\n    \t}\r\n    }\r\n\r\n","title":"Libgdx spine2d skeleton animation","body":"<p>Try this Test Class :</p>\n\n<pre><code>public class SimpleTest1 extends ApplicationAdapter {\n\n    OrthographicCamera camera;\n    SpriteBatch batch;\n    SkeletonRenderer renderer;\n    SkeletonRendererDebug debugRenderer;\n\n    TextureAtlas atlas;\n    Skeleton skeleton;\n    AnimationState state;\n\n    public void create () {\n\n        camera = new OrthographicCamera();\n        batch = new SpriteBatch();\n        renderer = new SkeletonRenderer();\n        renderer.setPremultipliedAlpha(true); // PMA results in correct blending without outlines.\n        debugRenderer = new SkeletonRendererDebug();\n        debugRenderer.setBoundingBoxes(false);\n        debugRenderer.setRegionAttachments(false);\n\n        atlas = new TextureAtlas(Gdx.files.internal(\"spineboy/spineboy.atlas\"));\n        SkeletonJson json = new SkeletonJson(atlas); // This loads skeleton JSON data, which is stateless.\n        json.setScale(0.6f); // Load the skeleton at 60% the size it was in Spine.\n        SkeletonData skeletonData = json.readSkeletonData(Gdx.files.internal(\"spineboy/spineboy.json\"));\n\n        skeleton = new Skeleton(skeletonData); // Skeleton holds skeleton state (bone positions, slot attachments, etc).\n        skeleton.setPosition(250, 20);\n\n        AnimationStateData stateData = new AnimationStateData(skeletonData); // Defines mixing (crossfading) between animations.\n        stateData.setMix(\"run\", \"jump\", 0.2f);\n        stateData.setMix(\"jump\", \"run\", 0.2f);\n\n        state = new AnimationState(stateData); // Holds the animation state for a skeleton (current animation, time, etc).\n        state.setTimeScale(0.5f); // Slow all animations down to 50% speed.\n\n        // Queue animations on track 0.\n        state.setAnimation(0, \"run\", true);\n        state.addAnimation(0, \"jump\", false, 2); // Jump after 2 seconds.\n        state.addAnimation(0, \"run\", true, 0); // Run after the jump.\n    }\n\n    public void render () {\n        state.update(Gdx.graphics.getDeltaTime()); // Update the animation time.\n\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n        state.apply(skeleton); // Poses skeleton using current animations. This sets the bones' local SRT.\n        skeleton.updateWorldTransform(); // Uses the bones' local SRT to compute their world SRT.\n\n        // Configure the camera, SpriteBatch, and SkeletonRendererDebug.\n        camera.update();\n        batch.getProjectionMatrix().set(camera.combined);\n        debugRenderer.getShapeRenderer().setProjectionMatrix(camera.combined);\n\n        batch.begin();\n        renderer.draw(batch, skeleton); // Draw the skeleton images.\n        batch.end();\n\n        debugRenderer.draw(skeleton); // Draw debug lines.\n    }\n\n    public void resize (int width, int height) {\n        camera.setToOrtho(false); // Update camera with new size.\n    }\n\n    public void dispose () {\n        atlas.dispose();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23816193,"reputation":1,"user_id":17824429,"display_name":"Olehandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666849749,"creation_date":1666518094,"answer_id":74170088,"question_id":45450173,"body_markdown":"I can&#39;t add comments, but there is a some additional info for Abhishek Aryan&#39;s post. \r\n\r\nNow (oct, 22)you should use:\r\n\r\n    PolygonSpriteBatch batch;\r\n    ..\r\n    batch = new PolygonSpriteBatch ();\r\n\r\nto make his code work.","title":"Libgdx spine2d skeleton animation","body":"<p>I can't add comments, but there is a some additional info for Abhishek Aryan's post.</p>\n<p>Now (oct, 22)you should use:</p>\n<pre><code>PolygonSpriteBatch batch;\n..\nbatch = new PolygonSpriteBatch ();\n</code></pre>\n<p>to make his code work.</p>\n"}],"owner":{"account_id":8709736,"reputation":338,"user_id":6516324,"accept_rate":86,"display_name":"Lucas B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45454890,"answer_count":2,"score":1,"last_activity_date":1666849749,"creation_date":1501638395,"question_id":45450173,"body_markdown":"This is my code:\r\n\r\ngame init:\r\n\r\n    \tplayerAtlas = new TextureAtlas(Gdx.files.internal(&quot;spineboy.atlas&quot;));\r\n\t\tjson = new SkeletonJson(playerAtlas);\r\n\r\n\t\tplayerSkeletonData = json.readSkeletonData(Gdx.files.internal(&quot;spineboy.json&quot;));\r\n\t\tplayerAnimationData = new AnimationStateData(playerSkeletonData);\r\n\r\n\t\tbatch = new SpriteBatch();\r\n\t\tskeletonRenderer = new SkeletonRenderer();\r\n\r\n\t\tskeleton = new Skeleton(playerSkeletonData);\r\n\t\tanimationState = new AnimationState(playerAnimationData);\r\n\r\n\r\n\t\tanimationState.setAnimation(0, &quot;walk&quot;, true); // trackIndex, name, loop\r\n\r\nrender:\r\n\r\n    \t\tanimationState.update(Gdx.graphics.getDeltaTime());\r\n\t\tanimationState.apply(skeleton);\r\n\r\n\t\tbatch.begin();\r\n\t\tskeletonRenderer.draw(batch, skeleton);\r\n\t\tbatch.end();\r\n\r\n\t\tGdx.app.log(&quot;rendering&quot;, &quot;x&quot; +skeleton.getX());\r\n\t\tGdx.app.log(&quot;rendering&quot;, &quot;y&quot;+skeleton.getY());\r\n\r\n\t\tskeleton.setPosition(300, 300);\r\n\r\nAnd for some reason, I can&#39;t get my animation to show up.\r\n\r\nI got this code from here and copied it:\r\nhttps://gamedev.stackexchange.com/questions/98890/implementing-spine-animations-in-libgdx\r\n\r\nI cant figure out why the animation isn&#39;t rendering!!\r\n\r\nCan anyone please help?\r\n","title":"Libgdx spine2d skeleton animation","body":"<p>This is my code:</p>\n\n<p>game init:</p>\n\n<pre><code>    playerAtlas = new TextureAtlas(Gdx.files.internal(\"spineboy.atlas\"));\n    json = new SkeletonJson(playerAtlas);\n\n    playerSkeletonData = json.readSkeletonData(Gdx.files.internal(\"spineboy.json\"));\n    playerAnimationData = new AnimationStateData(playerSkeletonData);\n\n    batch = new SpriteBatch();\n    skeletonRenderer = new SkeletonRenderer();\n\n    skeleton = new Skeleton(playerSkeletonData);\n    animationState = new AnimationState(playerAnimationData);\n\n\n    animationState.setAnimation(0, \"walk\", true); // trackIndex, name, loop\n</code></pre>\n\n<p>render:</p>\n\n<pre><code>        animationState.update(Gdx.graphics.getDeltaTime());\n    animationState.apply(skeleton);\n\n    batch.begin();\n    skeletonRenderer.draw(batch, skeleton);\n    batch.end();\n\n    Gdx.app.log(\"rendering\", \"x\" +skeleton.getX());\n    Gdx.app.log(\"rendering\", \"y\"+skeleton.getY());\n\n    skeleton.setPosition(300, 300);\n</code></pre>\n\n<p>And for some reason, I can't get my animation to show up.</p>\n\n<p>I got this code from here and copied it:\n<a href=\"https://gamedev.stackexchange.com/questions/98890/implementing-spine-animations-in-libgdx\">https://gamedev.stackexchange.com/questions/98890/implementing-spine-animations-in-libgdx</a></p>\n\n<p>I cant figure out why the animation isn't rendering!!</p>\n\n<p>Can anyone please help?</p>\n"},{"tags":["java","user-interface","graphical-programming"],"answers":[{"tags":[],"owner":{"account_id":17859681,"reputation":16,"user_id":18376772,"display_name":"Muneeb Anwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666849555,"creation_date":1666849555,"answer_id":74217309,"question_id":74030144,"body_markdown":"yes with the following code \r\n\r\n\r\n    `import javax.swing.*;\r\n     import java.awt.event.ActionEvent;\r\n     import java.awt.event.ActionListener;\r\n     import java.util.Arrays;\r\n\r\n\r\n     public class ArrayInGUI {\r\n\r\n         static int[] array;\r\n         public static void main(String[] args) {\r\n\r\n             JFrame frame=new JFrame(&quot;Arrays&quot;);\r\n             frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n             JLabel label=new JLabel(&quot;Enter indexes&quot;);\r\n             JLabel label1=new JLabel(&quot;  Enter array with , sep&quot;);\r\n             JLabel label2=new JLabel();\r\n\r\n             JTextField field=new JTextField(16);\r\n             JTextField field1=new JTextField(16);\r\n\r\n             JButton button=new JButton(&quot;OK&quot;);\r\n             JButton button1=new JButton(&quot;Ok print&quot;);\r\n\r\n             JPanel panel=new JPanel();\r\n             panel.add(label);\r\n             panel.add(field);\r\n             panel.add(button);\r\n             panel.add(label1);\r\n             panel.add(field1);\r\n             panel.add(button1);\r\n             panel.add(label2);\r\n\r\n\r\n             button.addActionListener(new ActionListener() {\r\n                 @Override\r\n                 public void actionPerformed(ActionEvent e) {\r\n                     array=new int[Integer.parseInt(field.getText())];\r\n                 }\r\n             });\r\n             button1.addActionListener(new ActionListener() {\r\n                 @Override\r\n                 public void actionPerformed(ActionEvent e) {\r\n\r\n                     String s = field1.getText();\r\n\r\n                     String[] copy = s.split(&quot;,&quot;);\r\n\r\n                     if (copy.length == array.length) {\r\n                         for (int i = 0; i &lt; copy.length; i++) {\r\n                             array[i] = Integer.parseInt(copy[i]);\r\n                         }\r\n\r\n                         label2.setText(&quot;   &quot; + Arrays.toString(array));\r\n                     } else {\r\n                         label2.setText(&quot;Error please enter&quot; + array.length + &quot;   element&quot;);\r\n                     }\r\n                 }\r\n             });\r\n\r\n             frame.add(panel);\r\n             frame.setSize(200,300);\r\n             frame.show();\r\n\r\n         }\r\n\r\n     }`\r\n\r\n","title":"Can we declared ,defined or initilization or take user input of an array elements in a GUI java?","body":"<p>yes with the following code</p>\n<pre><code>`import javax.swing.*;\n import java.awt.event.ActionEvent;\n import java.awt.event.ActionListener;\n import java.util.Arrays;\n\n\n public class ArrayInGUI {\n\n     static int[] array;\n     public static void main(String[] args) {\n\n         JFrame frame=new JFrame(&quot;Arrays&quot;);\n         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n         JLabel label=new JLabel(&quot;Enter indexes&quot;);\n         JLabel label1=new JLabel(&quot;  Enter array with , sep&quot;);\n         JLabel label2=new JLabel();\n\n         JTextField field=new JTextField(16);\n         JTextField field1=new JTextField(16);\n\n         JButton button=new JButton(&quot;OK&quot;);\n         JButton button1=new JButton(&quot;Ok print&quot;);\n\n         JPanel panel=new JPanel();\n         panel.add(label);\n         panel.add(field);\n         panel.add(button);\n         panel.add(label1);\n         panel.add(field1);\n         panel.add(button1);\n         panel.add(label2);\n\n\n         button.addActionListener(new ActionListener() {\n             @Override\n             public void actionPerformed(ActionEvent e) {\n                 array=new int[Integer.parseInt(field.getText())];\n             }\n         });\n         button1.addActionListener(new ActionListener() {\n             @Override\n             public void actionPerformed(ActionEvent e) {\n\n                 String s = field1.getText();\n\n                 String[] copy = s.split(&quot;,&quot;);\n\n                 if (copy.length == array.length) {\n                     for (int i = 0; i &lt; copy.length; i++) {\n                         array[i] = Integer.parseInt(copy[i]);\n                     }\n\n                     label2.setText(&quot;   &quot; + Arrays.toString(array));\n                 } else {\n                     label2.setText(&quot;Error please enter&quot; + array.length + &quot;   element&quot;);\n                 }\n             }\n         });\n\n         frame.add(panel);\n         frame.setSize(200,300);\n         frame.show();\n\n     }\n\n }`\n</code></pre>\n"}],"owner":{"account_id":26591610,"reputation":3,"user_id":20214744,"display_name":"Muhammad Usman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74217309,"answer_count":1,"score":0,"last_activity_date":1666849555,"creation_date":1665499951,"question_id":74030144,"body_markdown":" Can we declare or initialize or take user input values of arrays in GUI Java only in one frame ??\r\nIf yes then how? and no then reason?\r\n","title":"Can we declared ,defined or initilization or take user input of an array elements in a GUI java?","body":"<p>Can we declare or initialize or take user input values of arrays in GUI Java only in one frame ??\nIf yes then how? and no then reason?</p>\n"},{"tags":["java","android","arrays","android-bluetooth","file-sharing"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1612444336,"post_id":66046053,"comment_id":116772304,"body_markdown":"How does one put a hashmap in a byte array?","body":"How does one put a hashmap in a byte array?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1612444436,"post_id":66046053,"comment_id":116772346,"body_markdown":"If you share a file you do not need a big byte array which you would then send in chuncks. There are better approaches.","body":"If you share a file you do not need a big byte array which you would then send in chuncks. There are better approaches."},{"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"score":0,"creation_date":1612445121,"post_id":66046053,"comment_id":116772711,"body_markdown":"@blackapps can you please describe better approaches as compared to mentioned above, Thanks!","body":"@blackapps can you please describe better approaches as compared to mentioned above, Thanks!"},{"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"score":0,"creation_date":1612445262,"post_id":66046053,"comment_id":116772772,"body_markdown":"convert whole hashmap into bytearray.  ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ObjectOutputStream out = null;\n        mapDatabyte = null;\n        try {\n            out = new ObjectOutputStream(bos);\n            out.writeObject(mapVideoData);\n            out.flush();\n            mapDatabyte = bos.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                bos.close();\n            } catch (IOException ex) {\n              \n            }\n        }","body":"convert whole hashmap into bytearray.  ByteArrayOutputStream bos = new ByteArrayOutputStream();         ObjectOutputStream out = null;         mapDatabyte = null;         try {             out = new ObjectOutputStream(bos);             out.writeObject(mapVideoData);             out.flush();             mapDatabyte = bos.toByteArray();         } catch (IOException e) {             e.printStackTrace();         } finally {             try {                 bos.close();             } catch (IOException ex) {                            }         }"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1612456698,"post_id":66046053,"comment_id":116778643,"body_markdown":"Put your code in your post to make it readable. Remove that comment.","body":"Put your code in your post to make it readable. Remove that comment."}],"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666849492,"creation_date":1612443233,"question_id":66046053,"body_markdown":"How to split a ByteArray into chunks of byteArray in java, each chunk has a size of 1024 byte or less, then a method to collect each chunk into Bytearray.\r\nI&#39;m working with offline File sharing via BlueTooth. The main goal is to share a large size Hashmap to another device via I/O streams using Bluetooth Sockets.\r\nIt would be a great favor if anyone responds with an example java code for both methods.\r\n\r\n``` java\r\nByteArrayOutputStream bos = new ByteArrayOutputStream();\r\nObjectOutputStream out = null;\r\nmapDatabyte = null;\r\ntry {\r\n\tout = new ObjectOutputStream(bos);\r\n\tout.writeObject(mapVideoData);\r\n\tout.flush();\r\n\tmapDatabyte = bos.toByteArray();\r\n\r\n} catch (IOException e) {\r\n\te.printStackTrace();\r\n\r\n} finally {\r\n\ttry {\r\n\t\tbos.close();\r\n\t} catch (IOException ex) {\r\n\t\t//...\r\n\t} \r\n}\r\n```","title":"Split ByteArray into chunks of size 1024bytes(each chunk should be byteArray) , merge all Chunks into ByteArray again in Java","body":"<p>How to split a ByteArray into chunks of byteArray in java, each chunk has a size of 1024 byte or less, then a method to collect each chunk into Bytearray.\nI'm working with offline File sharing via BlueTooth. The main goal is to share a large size Hashmap to another device via I/O streams using Bluetooth Sockets.\nIt would be a great favor if anyone responds with an example java code for both methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\nObjectOutputStream out = null;\nmapDatabyte = null;\ntry {\n    out = new ObjectOutputStream(bos);\n    out.writeObject(mapVideoData);\n    out.flush();\n    mapDatabyte = bos.toByteArray();\n\n} catch (IOException e) {\n    e.printStackTrace();\n\n} finally {\n    try {\n        bos.close();\n    } catch (IOException ex) {\n        //...\n    } \n}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","quarkus"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666851933,"post_id":74217293,"comment_id":131034216,"body_markdown":"No this is not contained in Spring Boot 3","body":"No this is not contained in Spring Boot 3"}],"owner":{"account_id":1936496,"reputation":32813,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666849427,"creation_date":1666849427,"question_id":74217293,"body_markdown":"&gt; Quarkus supports continuous testing, where tests run immediately after\r\n&gt; code changes have been saved. This allows you to get instant feedback\r\n&gt; on your code changes. Quarkus detects which tests cover which code,\r\n&gt; and uses this information to only run the relevant tests when code is\r\n&gt; changed.\r\n\r\nDoes the Spring Boot 3(RC1) also provide continuous testing? \r\n**HINT:** I am using Intellj as IDE.","title":"Spring Boot continuous testing","body":"<blockquote>\n<p>Quarkus supports continuous testing, where tests run immediately after\ncode changes have been saved. This allows you to get instant feedback\non your code changes. Quarkus detects which tests cover which code,\nand uses this information to only run the relevant tests when code is\nchanged.</p>\n</blockquote>\n<p>Does the Spring Boot 3(RC1) also provide continuous testing?\n<strong>HINT:</strong> I am using Intellj as IDE.</p>\n"},{"tags":["java","android","runtime-error","bluetoothadapter"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666835076,"post_id":74212629,"comment_id":131031633,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1666848197,"post_id":74212629,"comment_id":131033478,"body_markdown":"Please don&#39;t paste the same text multiple times. If the site asks you to enter more text, that&#39;s not the solution.","body":"Please don&#39;t paste the same text multiple times. If the site asks you to enter more text, that&#39;s not the solution."}],"owner":{"account_id":25337561,"reputation":1,"user_id":19156461,"display_name":" Ashiqul Haque "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666848173,"creation_date":1666809093,"question_id":74212629,"body_markdown":"We all know how to show the paired device list but my question is how we can switch to our preferable bluetooth headset from the list. I only want this option for mobile to headset. Can anybody kindly give me some solution in this problem? I have used the normal code from &quot; Android Developer &quot; site.\r\n\r\nThe Language is Java.\r\n","title":"How to switch between the Available/Paired bluetooth device in Android Studio","body":"<p>We all know how to show the paired device list but my question is how we can switch to our preferable bluetooth headset from the list. I only want this option for mobile to headset. Can anybody kindly give me some solution in this problem? I have used the normal code from &quot; Android Developer &quot; site.</p>\n<p>The Language is Java.</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"answers":[{"comments":[{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1666854102,"post_id":74217091,"comment_id":131034708,"body_markdown":"I did that but it didn&#39;t work","body":"I did that but it didn&#39;t work"}],"tags":[],"owner":{"account_id":23136355,"reputation":1,"user_id":17240536,"display_name":"Subash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666847716,"creation_date":1666847716,"answer_id":74217091,"question_id":74213729,"body_markdown":"Add below line into your application.properties file\r\n\r\nmanagement.endpoints.web.exposure.include=*\r\n\r\nwith this we can get all the actuators\r\n\r\n","title":"Spring Boot Actuator does not start","body":"<p>Add below line into your application.properties file</p>\n<p>management.endpoints.web.exposure.include=*</p>\n<p>with this we can get all the actuators</p>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666847716,"creation_date":1666815239,"question_id":74213729,"body_markdown":"I added the spring boot actuator dependency to pom file but when I go to /actuator it displays whitelable page.I also visited [this][1] page but it did not help . What should do?\r\n\r\nBecause the stackoverflow was stuck, I removed some dependency from the pom.\r\nPom:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/24862086/spring-boot-actuator-not-working\r\n\r\n","title":"Spring Boot Actuator does not start","body":"<p>I added the spring boot actuator dependency to pom file but when I go to /actuator it displays whitelable page.I also visited <a href=\"https://stackoverflow.com/questions/24862086/spring-boot-actuator-not-working\">this</a> page but it did not help . What should do?</p>\n<p>Because the stackoverflow was stuck, I removed some dependency from the pom.\nPom:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","android","events","onclick"],"comments":[{"owner":{"account_id":9563099,"reputation":744,"user_id":7103200,"accept_rate":75,"display_name":"Ritu Suman Mohanty"},"score":1,"creation_date":1666711095,"post_id":74196010,"comment_id":130998869,"body_markdown":"1st does the onclick overridden method call when you click 2nd time2nd thing i didnt saw in the code that i value change to something else.everytime the value of i is 0 so that is the other way its not working.","body":"1st does the onclick overridden method call when you click 2nd time2nd thing i didnt saw in the code that i value change to something else.everytime the value of i is 0 so that is the other way its not working."},{"owner":{"account_id":12927307,"reputation":189,"user_id":10859978,"display_name":"Emma.bk"},"score":0,"creation_date":1666714571,"post_id":74196010,"comment_id":131000160,"body_markdown":"@RituSumanMohanty Hi! Yeah I tried to add an else if with another value, like that :    if(i==0){\n                  srt.setImageResource(R.drawable.imagetwo;\n             }else if (i==1){\n                 openthis();\n                }                                                                                                                But it still doesn&#39;t work","body":"@RituSumanMohanty Hi! Yeah I tried to add an else if with another value, like that :    if(i==0){                   srt.setImageResource(R.drawable.imagetwo;              }else if (i==1){                  openthis();                 }                                                                                                                But it still doesn&#39;t work"},{"owner":{"account_id":9563099,"reputation":744,"user_id":7103200,"accept_rate":75,"display_name":"Ritu Suman Mohanty"},"score":0,"creation_date":1666715930,"post_id":74196010,"comment_id":131000574,"body_markdown":"where you change the value of i to 1","body":"where you change the value of i to 1"}],"answers":[{"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666846356,"creation_date":1666846356,"answer_id":74216962,"question_id":74196010,"body_markdown":"I think Ritu Suman Mohanty in the comments is correct.  You need to increment your value with `i++`;  Right now, `i == 0` is always true.  Good luck!","title":"OnClick generate different Events when you click multiple times","body":"<p>I think Ritu Suman Mohanty in the comments is correct.  You need to increment your value with <code>i++</code>;  Right now, <code>i == 0</code> is always true.  Good luck!</p>\n"}],"owner":{"account_id":12927307,"reputation":189,"user_id":10859978,"display_name":"Emma.bk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74216962,"answer_count":1,"score":0,"last_activity_date":1666847316,"creation_date":1666709450,"question_id":74196010,"body_markdown":"I&#39;m trying to get my OnClick to generate differente events when I click once or twice.\r\nOn the first click the ImageView changes, on the second it pass to a different Activity.\r\n\r\nHere&#39;s my code for now\r\n\r\n    public static int i=0;\r\n\r\n    final ImageView srt = findViewById(R.id.imageone);\r\n    Button apply = findViewById(R.id.apply);\r\n           apply.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    vibrator.vibrate(VibrationEffect.createOneShot(50, VibrationEffect.DEFAULT_AMPLITUDE));\r\n                  if(i==0){\r\n                      srt.setImageResource(R.drawable.imagetwo);\r\n                 }else{\r\n                      Intent intent = new Intent(MainActivity.this, SecondActivity.class);\r\n                      startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\nRight now if I click once the ImageView change, but the second click does not work and doesn&#39;t change the Activity.","title":"OnClick generate different Events when you click multiple times","body":"<p>I'm trying to get my OnClick to generate differente events when I click once or twice.\nOn the first click the ImageView changes, on the second it pass to a different Activity.</p>\n<p>Here's my code for now</p>\n<pre><code>public static int i=0;\n\nfinal ImageView srt = findViewById(R.id.imageone);\nButton apply = findViewById(R.id.apply);\n       apply.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                vibrator.vibrate(VibrationEffect.createOneShot(50, VibrationEffect.DEFAULT_AMPLITUDE));\n              if(i==0){\n                  srt.setImageResource(R.drawable.imagetwo);\n             }else{\n                  Intent intent = new Intent(MainActivity.this, SecondActivity.class);\n                  startActivity(intent);\n                }\n            }\n        });\n    }\n</code></pre>\n<p>Right now if I click once the ImageView change, but the second click does not work and doesn't change the Activity.</p>\n"},{"tags":["java","spring","jpanel"],"answers":[{"comments":[{"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"score":0,"creation_date":1666846971,"post_id":74216972,"comment_id":131033297,"body_markdown":"Unfortunately, that did not seem to solve the problem. In the console I am still getting this error: `Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.awt.HeadlessException] with root cause`","body":"Unfortunately, that did not seem to solve the problem. In the console I am still getting this error: <code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.awt.HeadlessException] with root cause</code>"},{"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"score":0,"creation_date":1666847374,"post_id":74216972,"comment_id":131033347,"body_markdown":"remove your `JFrame` and don&#39;t make it visible, only use canvas and panel for few custom purpose alone, you are not suppose to create JFrame and make it visible","body":"remove your <code>JFrame</code> and don&#39;t make it visible, only use canvas and panel for few custom purpose alone, you are not suppose to create JFrame and make it visible"},{"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"score":0,"creation_date":1666847406,"post_id":74216972,"comment_id":131033356,"body_markdown":"I looked a little more into enabling headless mode and it looks like there seems to be a specific process and or location where I need to enable this feature. So, my initial approach of just adding the above recommended line in my method might be incorrect.","body":"I looked a little more into enabling headless mode and it looks like there seems to be a specific process and or location where I need to enable this feature. So, my initial approach of just adding the above recommended line in my method might be incorrect."},{"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"score":0,"creation_date":1666847499,"post_id":74216972,"comment_id":131033369,"body_markdown":"the feature you are assuming does not exists, you can only create panel and canvas without making it visible, if you tell me what are you trying to achieve in swing, I can help","body":"the feature you are assuming does not exists, you can only create panel and canvas without making it visible, if you tell me what are you trying to achieve in swing, I can help"},{"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"score":0,"creation_date":1666847643,"post_id":74216972,"comment_id":131033389,"body_markdown":"No problem! I can add more code if that helps too! The big picture is that I am trying to allow a user to submit some java code via a html form. That code is then processed, and any logging information is to be printed in a separate console that will pop up in the form of a JPanel.","body":"No problem! I can add more code if that helps too! The big picture is that I am trying to allow a user to submit some java code via a html form. That code is then processed, and any logging information is to be printed in a separate console that will pop up in the form of a JPanel."},{"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"score":0,"creation_date":1666847819,"post_id":74216972,"comment_id":131033427,"body_markdown":"Ideally, I would add the logging information (which I would be moving from my embedded terminal in my ide to the spring application) but there was far more documentation on moving the logs from the local terminal onto a separate JPanel which is why I went for that approach.","body":"Ideally, I would add the logging information (which I would be moving from my embedded terminal in my ide to the spring application) but there was far more documentation on moving the logs from the local terminal onto a separate JPanel which is why I went for that approach."},{"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"score":0,"creation_date":1666848164,"post_id":74216972,"comment_id":131033471,"body_markdown":"I would understand that you are trying to visualize the server logs in GUI, you can do this using Log4J and ChainSaw https://logging.apache.org/chainsaw/2.x/, sacrifice your current code and start investing time in this topic","body":"I would understand that you are trying to visualize the server logs in GUI, you can do this using Log4J and ChainSaw <a href=\"https://logging.apache.org/chainsaw/2.x/\" rel=\"nofollow noreferrer\">logging.apache.org/chainsaw/2.x</a>, sacrifice your current code and start investing time in this topic"},{"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"score":0,"creation_date":1666848887,"post_id":74216972,"comment_id":131033584,"body_markdown":"I wanted to make sure that the solution given 100% did not work before I went on to create a new application and I am glad I did because I managed to make it work. The key is making sure that the code is the first thing to be ran in the main method. Thank you so much for your help!!!","body":"I wanted to make sure that the solution given 100% did not work before I went on to create a new application and I am glad I did because I managed to make it work. The key is making sure that the code is the first thing to be ran in the main method. Thank you so much for your help!!!"}],"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666847292,"creation_date":1666846527,"answer_id":74216972,"question_id":74216910,"body_markdown":"As per documentation from [Oracle][1] \r\nyou can only do this\r\n&gt; Create lightweight components such as Canvas, Panel, and Swing components, except the top levels\r\n\r\nyou can enable headless mode using \r\n\r\n```\r\nSystem.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);\r\n```\r\nor\r\n```\r\njava -Djava.awt.headless=true\r\n```\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/javase/headless.html","title":"Launching a Java JPanel from a Spring application","body":"<p>As per documentation from <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\">Oracle</a>\nyou can only do this</p>\n<blockquote>\n<p>Create lightweight components such as Canvas, Panel, and Swing components, except the top levels</p>\n</blockquote>\n<p>you can enable headless mode using</p>\n<pre><code>System.setProperty(&quot;java.awt.headless&quot;, &quot;true&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>java -Djava.awt.headless=true\n</code></pre>\n"}],"owner":{"account_id":16255018,"reputation":25,"user_id":11737856,"display_name":"Wargame Elliot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74216972,"answer_count":1,"score":0,"last_activity_date":1666847292,"creation_date":1666845847,"question_id":74216910,"body_markdown":"I am a not very experienced when it comes to Java Spring but what I was hoping to achieve was to launch a JPanel after a specific controller method is invoked after a user submits a form. Unfortunately, I am getting an error when I try to launch my JPanel in the Spring application. I&#39;ve tried to find examples of people using JPanel in combination with Spring and I could not find anything, so I am inclined to believe that the use of JPanel in combination with Spring is not possible. \r\n\r\nThe expected behavior is that when the form is submitted, some relevant information relating to the submitted form pops up in a newly Created JPanel.\r\n\r\nAlso, note that I tried to run the GUI generating code in a separate class and it worked perfectly fine. It was only when I tried running the code inside of the Spring application when problems arrived.\r\n\r\nMy Spring controller Class (Relevant method is createForm())\r\n\r\n    package com.datavisulizer.datavisulizer;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n    import javax.script.SimpleBindings;\r\n    import javax.swing.*;\r\n    import java.awt.BorderLayout;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    import java.lang.*;\r\n    import org.objectweb.asm.*;\r\n    \r\n    @Controller\r\n    public class indexController {\r\n    \r\n    \r\n        @GetMapping(&quot;/create&quot;)\r\n        public String createPage(Model model) {\r\n            model.addAttribute(&quot;codeForm&quot;, new codeForm());\r\n            return &quot;create&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public String createForm(codeForm cf) throws Exception{\r\n            System.out.println(cf.getCodeText());\r\n            ArrayList&lt;String[]&gt; CL = codeParser(cf.getCodeText());\r\n            String name = classFinder(CL);\r\n            ScriptEngineManager manager = new ScriptEngineManager();\r\n            ScriptEngine engine = manager.getEngineByName(&quot;java&quot;);\r\n            //GUI Code START\r\n            JFrame frame = new JFrame();\r\n            frame.add( new JLabel(&quot; Outout&quot; ), BorderLayout.NORTH );\r\n    \r\n            JTextArea ta = new JTextArea();\r\n            TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\r\n            PrintStream ps = new PrintStream( taos );\r\n            System.setOut( ps );\r\n            System.setErr( ps );\r\n    \r\n    \r\n            frame.add( new JScrollPane( ta )  );\r\n    \r\n            frame.pack();\r\n            frame.setVisible( true );\r\n            frame.setSize(800,600);\r\n            //GUI CODE END\r\n\r\n            if (engine == null) {\r\n                System.err.println(&quot;Engine error (unknown engine)!&quot;);\r\n            } else {\r\n                try{\r\n                    engine.put(ScriptEngine.FILENAME, name);\r\n                    engine.eval(cf.getCodeText());\r\n                    cf.setCodeTextOutput(&quot;Java code Succefully compiled...&quot;);\r\n                }\r\n                catch(Exception ex){\r\n                    cf.setCodeTextOutput(&quot;Java code has an error&quot;);\r\n    \r\n                }\r\n                \r\n            }\r\n            return &quot;create&quot;;\r\n        }\r\n    \r\n        private String classFinder(ArrayList&lt;String[]&gt; CL){\r\n            String name = &quot;_No_Name&quot;;\r\n            if(CL.size()&lt;1 || CL.get(0).length&lt;2) return name;\r\n            return CL.get(0)[CL.get(0).length-1] + &quot;.java&quot;;\r\n        }\r\n    \r\n        private ArrayList codeParser(String code){\r\n            ArrayList&lt;String&gt; lineList = new ArrayList&lt;String&gt;();\r\n            String line = &quot;&quot;;\r\n            for(int c = 0; c&lt;code.length()-1; c++){\r\n                if(code.substring(c, c+1).compareTo(&quot;{&quot;)==0 || code.substring(c, c+1).compareTo(&quot;}&quot;)==0){\r\n                    lineList.add(line);\r\n                    line = &quot;&quot;;\r\n                }\r\n                else{\r\n                    line+=code.substring(c, c+1);\r\n                }\r\n            }\r\n            ArrayList&lt;String[]&gt; codeList = new ArrayList&lt;String[]&gt;();\r\n            for(String s : lineList){codeList.add(s.split(&quot; &quot;));}\r\n            System.out.println(&quot;Testing code array list&quot;);\r\n            for(String[] s : codeList){for(String c : s){System.out.println(c);}}\r\n            return codeList;\r\n        }\r\n    \r\n    }\r\n\r\nConsole Logs\r\n\r\n     Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.awt.HeadlessException] with root cause\r\n    \r\n    java.awt.HeadlessException: null\r\n            at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166) ~[na:na]\r\n            at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553) ~[na:na]\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428) ~[na:na]\r\n            at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393) ~[na:na]\r\n            at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180) ~[na:na]\r\n            at com.datavisulizer.datavisulizer.indexController.createForm(indexController.java:34) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23] \r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]       \r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]","title":"Launching a Java JPanel from a Spring application","body":"<p>I am a not very experienced when it comes to Java Spring but what I was hoping to achieve was to launch a JPanel after a specific controller method is invoked after a user submits a form. Unfortunately, I am getting an error when I try to launch my JPanel in the Spring application. I've tried to find examples of people using JPanel in combination with Spring and I could not find anything, so I am inclined to believe that the use of JPanel in combination with Spring is not possible.</p>\n<p>The expected behavior is that when the form is submitted, some relevant information relating to the submitted form pops up in a newly Created JPanel.</p>\n<p>Also, note that I tried to run the GUI generating code in a separate class and it worked perfectly fine. It was only when I tried running the code inside of the Spring application when problems arrived.</p>\n<p>My Spring controller Class (Relevant method is createForm())</p>\n<pre><code>package com.datavisulizer.datavisulizer;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.ModelAndView;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\nimport javax.script.SimpleBindings;\nimport javax.swing.*;\nimport java.awt.BorderLayout;\nimport java.util.*;\nimport java.io.*;\nimport java.lang.*;\nimport org.objectweb.asm.*;\n\n@Controller\npublic class indexController {\n\n\n    @GetMapping(&quot;/create&quot;)\n    public String createPage(Model model) {\n        model.addAttribute(&quot;codeForm&quot;, new codeForm());\n        return &quot;create&quot;;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public String createForm(codeForm cf) throws Exception{\n        System.out.println(cf.getCodeText());\n        ArrayList&lt;String[]&gt; CL = codeParser(cf.getCodeText());\n        String name = classFinder(CL);\n        ScriptEngineManager manager = new ScriptEngineManager();\n        ScriptEngine engine = manager.getEngineByName(&quot;java&quot;);\n        //GUI Code START\n        JFrame frame = new JFrame();\n        frame.add( new JLabel(&quot; Outout&quot; ), BorderLayout.NORTH );\n\n        JTextArea ta = new JTextArea();\n        TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\n        PrintStream ps = new PrintStream( taos );\n        System.setOut( ps );\n        System.setErr( ps );\n\n\n        frame.add( new JScrollPane( ta )  );\n\n        frame.pack();\n        frame.setVisible( true );\n        frame.setSize(800,600);\n        //GUI CODE END\n\n        if (engine == null) {\n            System.err.println(&quot;Engine error (unknown engine)!&quot;);\n        } else {\n            try{\n                engine.put(ScriptEngine.FILENAME, name);\n                engine.eval(cf.getCodeText());\n                cf.setCodeTextOutput(&quot;Java code Succefully compiled...&quot;);\n            }\n            catch(Exception ex){\n                cf.setCodeTextOutput(&quot;Java code has an error&quot;);\n\n            }\n            \n        }\n        return &quot;create&quot;;\n    }\n\n    private String classFinder(ArrayList&lt;String[]&gt; CL){\n        String name = &quot;_No_Name&quot;;\n        if(CL.size()&lt;1 || CL.get(0).length&lt;2) return name;\n        return CL.get(0)[CL.get(0).length-1] + &quot;.java&quot;;\n    }\n\n    private ArrayList codeParser(String code){\n        ArrayList&lt;String&gt; lineList = new ArrayList&lt;String&gt;();\n        String line = &quot;&quot;;\n        for(int c = 0; c&lt;code.length()-1; c++){\n            if(code.substring(c, c+1).compareTo(&quot;{&quot;)==0 || code.substring(c, c+1).compareTo(&quot;}&quot;)==0){\n                lineList.add(line);\n                line = &quot;&quot;;\n            }\n            else{\n                line+=code.substring(c, c+1);\n            }\n        }\n        ArrayList&lt;String[]&gt; codeList = new ArrayList&lt;String[]&gt;();\n        for(String s : lineList){codeList.add(s.split(&quot; &quot;));}\n        System.out.println(&quot;Testing code array list&quot;);\n        for(String[] s : codeList){for(String c : s){System.out.println(c);}}\n        return codeList;\n    }\n\n}\n</code></pre>\n<p>Console Logs</p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.awt.HeadlessException] with root cause\n\njava.awt.HeadlessException: null\n        at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166) ~[na:na]\n        at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553) ~[na:na]\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428) ~[na:na]\n        at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393) ~[na:na]\n        at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180) ~[na:na]\n        at com.datavisulizer.datavisulizer.indexController.createForm(indexController.java:34) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23] \n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]       \n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]        \n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666849475,"post_id":74216976,"comment_id":131033688,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666870127,"post_id":74216976,"comment_id":131040134,"body_markdown":"There is no way you can return the `ingredient1` object as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can return the <code>ingredient1</code> object as a result of a method. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":26745271,"reputation":1,"user_id":20345425,"display_name":"Saheel Sarker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666870089,"answer_count":0,"score":0,"last_activity_date":1666846566,"creation_date":1666846566,"question_id":74216976,"body_markdown":"So I&#39;m using firestore to store data about ingredients and I&#39;ve been able to add, delete, and get all the items in the database but I can&#39;t figure out search and get a single document snapshot. I feel like the code should work so I&#39;m lost. \r\n\r\nThis is what I tried\r\n\r\n\r\n```\r\npublic Ingredient searchForIngredient(String ingredient) {\r\n    Log.d(TAG,ingredient);\r\n    ArrayList&lt;Ingredient&gt; retrieved = new ArrayList&lt;Ingredient&gt;();\r\n    ingredientsDB.document(ingredient).addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\r\n        @Override\r\n        public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n            Log.d(TAG, &quot;on event&quot;);\r\n            Ingredient ingredient =  createIngredient(value);\r\n            retrieved.add(ingredient);\r\n        }\r\n    });\r\n    \r\n    Ingredient ingredient1 = retrieved.get(0);\r\n    return ingredient1;\r\n}\r\n```\r\n\r\nAnd what I was expecting is for the &quot;on even&quot; to show up in logcat but it doesn&#39;t","title":"Can&#39;t find document in firestore in android studio","body":"<p>So I'm using firestore to store data about ingredients and I've been able to add, delete, and get all the items in the database but I can't figure out search and get a single document snapshot. I feel like the code should work so I'm lost.</p>\n<p>This is what I tried</p>\n<pre><code>public Ingredient searchForIngredient(String ingredient) {\n    Log.d(TAG,ingredient);\n    ArrayList&lt;Ingredient&gt; retrieved = new ArrayList&lt;Ingredient&gt;();\n    ingredientsDB.document(ingredient).addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\n            Log.d(TAG, &quot;on event&quot;);\n            Ingredient ingredient =  createIngredient(value);\n            retrieved.add(ingredient);\n        }\n    });\n    \n    Ingredient ingredient1 = retrieved.get(0);\n    return ingredient1;\n}\n</code></pre>\n<p>And what I was expecting is for the &quot;on even&quot; to show up in logcat but it doesn't</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","encryption"],"answers":[{"comments":[{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1419684109,"post_id":27667274,"comment_id":43749394,"body_markdown":"Wherever you want to encrypt your string. I think it should be in `Encryption` class.","body":"Wherever you want to encrypt your string. I think it should be in <code>Encryption</code> class."},{"owner":{"display_name":"user4143467"},"score":0,"creation_date":1419684252,"post_id":27667274,"comment_id":43749432,"body_markdown":"i mean how can i encrypt my password to my database using that encryption class... i dont have any problem inserting my values to my database but im having a problem on how to encrypt it","body":"i mean how can i encrypt my password to my database using that encryption class... i dont have any problem inserting my values to my database but im having a problem on how to encrypt it"},{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1419684296,"post_id":27667274,"comment_id":43749445,"body_markdown":"Check out `test` variable in my code, replace it with your password variable.","body":"Check out <code>test</code> variable in my code, replace it with your password variable."}],"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419683721,"creation_date":1419683721,"answer_id":27667274,"question_id":27667034,"body_markdown":"You can use **MessageDigest**.   \r\nTry following:\r\n\r\n    MessageDigest digest=MessageDigest.getInstance(&quot;MD5&quot;);\r\n    String test=&quot;test&quot;;\r\n    digest.update(test.getBytes());\r\n    byte hash[]=digest.digest();","title":"how to encrypt password using spring hibernate in java","body":"<p>You can use <strong>MessageDigest</strong>.<br>\nTry following:</p>\n\n<pre><code>MessageDigest digest=MessageDigest.getInstance(\"MD5\");\nString test=\"test\";\ndigest.update(test.getBytes());\nbyte hash[]=digest.digest();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1802049,"reputation":370,"user_id":1640122,"display_name":"Haochen Xie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419686174,"creation_date":1419686174,"answer_id":27667591,"question_id":27667034,"body_markdown":"Here&#39;s an example: https://gist.github.com/haochenx/28283eb950c8dc6bbaf7\r\n\r\nThe core lines are:\r\n\r\n    public static String encryptPassphrase(String passphrase) {\r\n    \ttry {\r\n\t    \tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t    \t\r\n\t    \tbyte[] salt = new byte[18];\r\n\t    \tRNG.nextBytes(salt);\r\n\t    \t\r\n\t    \tmd.update(salt);\r\n\t    \tmd.update(passphrase.getBytes(StandardCharsets.UTF_8));\r\n\t    \t\r\n\t    \tbyte[] passEnc = md.digest();\r\n\t    \treturn String.format(&quot;%s$%s&quot;,\r\n\t    \t\t\tnew String(Base64.encode(salt)),\r\n\t    \t\t\tnew String(Base64.encode(passEnc)));\r\n    \t} catch (NoSuchAlgorithmException ex) {\r\n    \t\tthrow new RuntimeException(ex);\t\t// this should never happen though\r\n    \t}\r\n    }\r\n    \r\n    public static boolean verifyPassphrase(String passphrase, String encryptedPassphrase) {\r\n    \tString[] splited = encryptedPassphrase.split(&quot;\\\\$&quot;);\r\n    \tbyte[] salt = Base64.decode(splited[0].getBytes());\r\n    \tbyte[] passEncDb = Base64.decode(splited[1].getBytes());\r\n    \t\r\n    \ttry {\r\n\t    \tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t    \t\r\n\t    \tmd.update(salt);\r\n\t    \tmd.update(passphrase.getBytes(StandardCharsets.UTF_8));\r\n\t    \tbyte[] passEnc = md.digest();\r\n    \t\t\r\n\t    \treturn Arrays.equals(passEncDb, passEnc);\r\n    \t} catch (NoSuchAlgorithmException ex) {\r\n    \t\tthrow new RuntimeException(ex);\t\t// this should never happen though\r\n    \t}\r\n    }\r\n\r\nPlease note that [@Darshan&#39;s approach](https://stackoverflow.com/a/27667274/1640122) has a couple of security problems. Firstly, hashing password without salt will defer the security. Secondly, MD5 is not considered secure any more, so usage in new application is not recommended. Lastly, not a security problem actually, but when getting byte[] from a String, you should always specify a charset unless you are sure there&#39;s only ASCII characters (not even true exactly, but practically, yes) or you will run into problem when you deploy the application into different servers.\r\n\r\nI have only included a very basic test in the main method, and the class is only for your reference. I also haven&#39;t done argument checking, which should be added in production.","title":"how to encrypt password using spring hibernate in java","body":"<p>Here's an example: <a href=\"https://gist.github.com/haochenx/28283eb950c8dc6bbaf7\" rel=\"nofollow noreferrer\">https://gist.github.com/haochenx/28283eb950c8dc6bbaf7</a></p>\n\n<p>The core lines are:</p>\n\n<pre><code>public static String encryptPassphrase(String passphrase) {\n    try {\n        MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n\n        byte[] salt = new byte[18];\n        RNG.nextBytes(salt);\n\n        md.update(salt);\n        md.update(passphrase.getBytes(StandardCharsets.UTF_8));\n\n        byte[] passEnc = md.digest();\n        return String.format(\"%s$%s\",\n                new String(Base64.encode(salt)),\n                new String(Base64.encode(passEnc)));\n    } catch (NoSuchAlgorithmException ex) {\n        throw new RuntimeException(ex);     // this should never happen though\n    }\n}\n\npublic static boolean verifyPassphrase(String passphrase, String encryptedPassphrase) {\n    String[] splited = encryptedPassphrase.split(\"\\\\$\");\n    byte[] salt = Base64.decode(splited[0].getBytes());\n    byte[] passEncDb = Base64.decode(splited[1].getBytes());\n\n    try {\n        MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n\n        md.update(salt);\n        md.update(passphrase.getBytes(StandardCharsets.UTF_8));\n        byte[] passEnc = md.digest();\n\n        return Arrays.equals(passEncDb, passEnc);\n    } catch (NoSuchAlgorithmException ex) {\n        throw new RuntimeException(ex);     // this should never happen though\n    }\n}\n</code></pre>\n\n<p>Please note that <a href=\"https://stackoverflow.com/a/27667274/1640122\">@Darshan's approach</a> has a couple of security problems. Firstly, hashing password without salt will defer the security. Secondly, MD5 is not considered secure any more, so usage in new application is not recommended. Lastly, not a security problem actually, but when getting byte[] from a String, you should always specify a charset unless you are sure there's only ASCII characters (not even true exactly, but practically, yes) or you will run into problem when you deploy the application into different servers.</p>\n\n<p>I have only included a very basic test in the main method, and the class is only for your reference. I also haven't done argument checking, which should be added in production.</p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454616553,"creation_date":1454616553,"answer_id":35210635,"question_id":27667034,"body_markdown":"The recommended way for Spring Security is to use the BCryptPasswordEncoder. See http://www.baeldung.com/spring-security-registration-password-encoding-bcrypt for more details. \r\n\r\nBasically, you use an instance of [BCryptPasswordEncoder](http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html) to encrypt the password before you store it in the database.","title":"how to encrypt password using spring hibernate in java","body":"<p>The recommended way for Spring Security is to use the BCryptPasswordEncoder. See <a href=\"http://www.baeldung.com/spring-security-registration-password-encoding-bcrypt\" rel=\"nofollow\">http://www.baeldung.com/spring-security-registration-password-encoding-bcrypt</a> for more details. </p>\n\n<p>Basically, you use an instance of <a href=\"http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/crypto/bcrypt/BCryptPasswordEncoder.html\" rel=\"nofollow\">BCryptPasswordEncoder</a> to encrypt the password before you store it in the database.</p>\n"}],"owner":{"display_name":"user4143467"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666843700,"creation_date":1419681764,"question_id":27667034,"body_markdown":"So my problem is this, I have a jsp that has a register button on every navigation page,And i want to encrypt my password using spring and hibernate,but unfortunately i don&#39;t know how.. even using spring and hibernate i don&#39;t actually get how it works. and also i have a Encryption class i am thinking about encrypting it inside my Users class but i know when logging in it will cause a problem... here is my code by the way\r\n\r\ncode in controller\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/ecomplain&quot;)\r\n    public class ComplainController \r\n    {\r\n      @Autowired\r\n      private UserService userService;\r\n      @Autowired\r\n      private ComplainService complainService;\r\n\r\n      @RequestMapping(value = &quot;/Homepage&quot;)\r\n      public String showHomepage(Map&lt;String, Object&gt; map) \r\n     {\r\n       map.put(&quot;users&quot;, new Users());\r\n       return &quot;/ecomplain/Homepage&quot;;\r\n     }\r\n\r\n     @RequestMapping(value = &quot;/ComplaintForm&quot;)\r\n     public String showComplainForm(Map&lt;String, Object&gt; map) \r\n     {\r\n       map.put(&quot;users&quot;, new Users());\r\n       map.put(&quot;complains&quot;, new Complains());\r\n       return &quot;/ecomplain/ComplaintForm&quot;;\r\n     }\r\n\r\n     @RequestMapping(value = &quot;/CrimeForum&quot;)\r\n     public String showCrimeForum(Map&lt;String, Object&gt; map) \r\n     {\r\n        map.put(&quot;users&quot;, new Users());\r\n        map.put(&quot;complains&quot;, new Complains());\r\n        map.put(&quot;complainList&quot;, complainService.listComplains());\r\n        return &quot;/ecomplain/CrimeForum&quot;;\r\n     }\r\n\r\n     @RequestMapping(value = &quot;/About&quot;)\r\n     public String showAbout(Map&lt;String, Object&gt; map) \r\n     {\r\n        map.put(&quot;users&quot;, new Users());\r\n        return &quot;/ecomplain/About&quot;;\r\n     }\r\n\r\n     @RequestMapping(&quot;/get/{userId}&quot;)\r\n     public String getUsers(@PathVariable Long userId, Map&lt;String, Object&gt; map) \r\n     {\r\n       Users users = userService.getUsers(userId);\r\n       map.put(&quot;users&quot;, users);\r\n\r\n       return &quot;/ecomplain/CreateUserForm&quot;;\r\n     }\r\n\r\n     @RequestMapping(&quot;/getComplain/{complainId}&quot;)\r\n     public String getComplains(@PathVariable Long complainId, Map&lt;String, Object&gt; map) \r\n     {\r\n       Complains complains = complainService.getComplains(complainId);\r\n       map.put(&quot;complains&quot;, complains);\r\n   \r\n       return &quot;/ecomplain/ComplainDetails&quot;;\r\n     }\r\n\r\n     @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n     public String saveUsers(@ModelAttribute(&quot;users&quot;) Users users, BindingResult result)\r\n     {\r\n       userService.saveUsers(users);\r\n       return &quot;redirect:listBooks&quot;;\r\n     }\r\n\r\n     @RequestMapping(value = &quot;/savecomplain&quot;, method = RequestMethod.POST)\r\n     public String saveComplains(@ModelAttribute(&quot;complains&quot;) Complains complains, BindingResult result) \r\n     {\r\n       complainService.saveComplains(complains);\r\n       return &quot;redirect:ComplaintForm&quot;;\r\n     }\r\n\r\n     @RequestMapping(&quot;/delete/{userId}&quot;)\r\n     public String deleteUsers(@PathVariable(&quot;userId&quot;) Long userId) \r\n     {\r\n       userService.deleteUsers(userId);\r\n       return &quot;redirect:/ecomplain/Homepage&quot;;\r\n     }\r\n\r\n     @RequestMapping(&quot;/delete/{complainId}&quot;)\r\n     public String deleteComplains(@PathVariable(&quot;complainId&quot;) Long complainId) \r\n     {\r\n       complainService.deleteComplains(complainId);\r\n       return &quot;redirect:/ecomplain/Homepage&quot;;\r\n     }\r\n    }\r\n\r\nUsers class\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class Users\r\n    {\r\n      private Long userId;\r\n      private String email;\r\n      private String username;\r\n      private String password;\r\n      private String location;\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      public Long getUserId() \r\n     {\r\n        return userId;\r\n     }\r\n\r\n     @Column(nullable = false)\r\n     public String getEmail() \r\n     {\r\n        return email;\r\n     }\r\n\r\n     @Column(nullable = false, unique = true)\r\n     public String getUsername() \r\n     {\r\n        return username;\r\n     }\r\n\r\n     @Column(nullable = false)\r\n     public String getPassword() \r\n     {\r\n        return password;\r\n     } \r\n\r\n     @Column(nullable = false)\r\n     public String getLocation() \r\n     {\r\n        return location;\r\n     }\r\n\r\n     public void setUserId(Long userId) \r\n     {\r\n        this.userId = userId;\r\n     }\r\n\r\n     public void setEmail(String email) \r\n     {\r\n        this.email = email;\r\n     }\r\n\r\n     public void setUsername(String username) \r\n     {\r\n        this.username = username;\r\n     }\r\n\r\n     public void setPassword(String password)\r\n     {\r\n        this.password = password;\r\n     }\r\n\r\n     public void setLocation(String location)\r\n     {\r\n        this.location = location;\r\n     }\r\n    }\r\n\r\nUsersDao\r\n\r\n    public interface UsersDao \r\n    {\r\n      public void saveUsers(Users users);\r\n      public List&lt;Users&gt; listUsers();\r\n      public Users getUsers(Long userId);\r\n      public void deleteUsers(Long userId);\r\n    }\r\n\r\nUsersDaoImpl\r\n\r\n    @Repository\r\n    public class UsersDaoImpl implements UsersDao \r\n    {\r\n      @Autowired\r\n      private SessionFactory sessionFactory;\r\n\r\n      public void saveUsers(Users users) \r\n      {\r\n         getSession().merge(users);\r\n      }\r\n\r\n      public List&lt;Users&gt; listUsers() \r\n      {\r\n        return getSession().createCriteria(Users.class).list();\r\n      }\r\n\r\n      public Users getUsers(Long userId) \r\n      {\r\n         return (Users) getSession().get(Users.class, userId);\r\n      }\r\n\r\n      public void deleteUsers(Long userId) \r\n      {\r\n        Users users = getUsers(userId);\r\n\r\n        if (null != users) \r\n        {\r\n           getSession().delete(users);\r\n        }\r\n      }\r\n\r\n      private Session getSession() \r\n      {\r\n         Session sess = getSessionFactory().getCurrentSession();\r\n         if (sess == null) \r\n         {\r\n           sess = getSessionFactory().openSession();\r\n         }\r\n         return sess;\r\n      }\r\n\r\n      private SessionFactory getSessionFactory() \r\n     {\r\n        return sessionFactory;\r\n     }\r\n    }\r\n\r\nand here is my Encryption class that i want to use\r\n\r\n    public class Encryption \r\n    {\r\n       public static final String PBKDF2_ALGORITHM = &quot;PBKDF2WithHmacSHA1&quot;;\r\n    \r\n       public static final int SALT_BYTE_SIZE = 24;\r\n       public static final int HASH_BYTE_SIZE = 24;\r\n       public static final int PBKDF2_ITERATIONS = 1000;\r\n\r\n       public static final int ITERATION_INDEX = 0;\r\n       public static final int SALT_INDEX = 1;\r\n       public static final int PBKDF2_INDEX = 2;\r\n\r\n       public static String createHash(String password) throws NoSuchAlgorithmException,      InvalidKeySpecException\r\n       {\r\n         return createHash(password.toCharArray());\r\n       }\r\n\r\n      public static String createHash(char[] password) throws NoSuchAlgorithmException, InvalidKeySpecException\r\n      {\r\n       \r\n         SecureRandom random = new SecureRandom();\r\n         byte[] salt = new byte[SALT_BYTE_SIZE];\r\n         random.nextBytes(salt);\r\n         byte[] hash = pbkdf2(password, salt, PBKDF2_ITERATIONS, HASH_BYTE_SIZE);\r\n         return PBKDF2_ITERATIONS + &quot;:&quot; + toHex(salt) + &quot;:&quot; +  toHex(hash);\r\n      }\r\n\r\n\r\n      public static boolean validatePassword(String password, String correctHash) throws  NoSuchAlgorithmException, InvalidKeySpecException\r\n      {\r\n         return validatePassword(password.toCharArray(), correctHash);\r\n      }\r\n\r\n      public static boolean validatePassword(char[] password, String correctHash) throws NoSuchAlgorithmException, InvalidKeySpecException\r\n      {\r\n         String[] params = correctHash.split(&quot;:&quot;);\r\n         int iterations = Integer.parseInt(params[ITERATION_INDEX]);\r\n         byte[] salt = fromHex(params[SALT_INDEX]);\r\n         byte[] hash = fromHex(params[PBKDF2_INDEX]);   \r\n         byte[] testHash = pbkdf2(password, salt, iterations, hash.length);\r\n         return slowEquals(hash, testHash);\r\n      }\r\n\r\n      private static boolean slowEquals(byte[] a, byte[] b)\r\n      {\r\n         int diff = a.length ^ b.length;\r\n         for(int i = 0; i &lt; a.length &amp;&amp; i &lt; b.length; i++)\r\n            diff |= a[i] ^ b[i];\r\n         return diff == 0;\r\n      }\r\n\r\n      private static byte[] pbkdf2(char[] password, byte[] salt, int iterations, int bytes) throws NoSuchAlgorithmException, InvalidKeySpecException\r\n      {\r\n         PBEKeySpec spec = new PBEKeySpec(password, salt, iterations, bytes * 8);\r\n         SecretKeyFactory skf = SecretKeyFactory.getInstance(PBKDF2_ALGORITHM);\r\n         return skf.generateSecret(spec).getEncoded();\r\n      }\r\n\r\n      private static byte[] fromHex(String hex)\r\n      {\r\n         byte[] binary = new byte[hex.length() / 2];\r\n         for(int i = 0; i &lt; binary.length; i++)\r\n         {\r\n            binary[i] = (byte)Integer.parseInt(hex.substring(2*i, 2*i+2), 16);\r\n         }\r\n         return binary;\r\n      }\r\n\r\n      private static String toHex(byte[] array)\r\n      {\r\n        BigInteger bi = new BigInteger(1, array);\r\n        String hex = bi.toString(16);\r\n        int paddingLength = (array.length * 2) - hex.length();\r\n        if(paddingLength &gt; 0) \r\n           return String.format(&quot;%0&quot; + paddingLength + &quot;d&quot;, 0) + hex;\r\n        else\r\n           return hex;\r\n      }\r\n\r\n      public String saltedPass(String password) \r\n      {\r\n         String hash = &quot;&quot;;\r\n          try \r\n          {\r\n             hash = createHash(password);\r\n          } \r\n\r\n          catch (NoSuchAlgorithmException e) \r\n          {\r\n             e.printStackTrace();\r\n          } \r\n\r\n          catch (InvalidKeySpecException e) \r\n          {\r\n             e.printStackTrace();\r\n          }\r\n          return hash;\r\n      }\r\n\r\n      public boolean validation(String password, String hash) \r\n      {\r\n          try \r\n          {\r\n              if (validatePassword(password, hash)) \r\n              {\r\n                System.out.println(&quot;CORRECT PASSWORD!&quot;);\r\n                return true;\r\n              }\r\n          }  \r\n\r\n          catch (Exception ex) \r\n          {\r\n              System.out.println(&quot;ERROR: &quot; + ex);\r\n          }\r\n          return false;\r\n      }\r\n    }\r\n\r\n\r\ni hope someone can help me.. even a small idea can help me","title":"how to encrypt password using spring hibernate in java","body":"<p>So my problem is this, I have a jsp that has a register button on every navigation page,And i want to encrypt my password using spring and hibernate,but unfortunately i don't know how.. even using spring and hibernate i don't actually get how it works. and also i have a Encryption class i am thinking about encrypting it inside my Users class but i know when logging in it will cause a problem... here is my code by the way</p>\n\n<p>code in controller</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/ecomplain\")\npublic class ComplainController \n{\n  @Autowired\n  private UserService userService;\n  @Autowired\n  private ComplainService complainService;\n\n  @RequestMapping(value = \"/Homepage\")\n  public String showHomepage(Map&lt;String, Object&gt; map) \n {\n   map.put(\"users\", new Users());\n   return \"/ecomplain/Homepage\";\n }\n\n @RequestMapping(value = \"/ComplaintForm\")\n public String showComplainForm(Map&lt;String, Object&gt; map) \n {\n   map.put(\"users\", new Users());\n   map.put(\"complains\", new Complains());\n   return \"/ecomplain/ComplaintForm\";\n }\n\n @RequestMapping(value = \"/CrimeForum\")\n public String showCrimeForum(Map&lt;String, Object&gt; map) \n {\n    map.put(\"users\", new Users());\n    map.put(\"complains\", new Complains());\n    map.put(\"complainList\", complainService.listComplains());\n    return \"/ecomplain/CrimeForum\";\n }\n\n @RequestMapping(value = \"/About\")\n public String showAbout(Map&lt;String, Object&gt; map) \n {\n    map.put(\"users\", new Users());\n    return \"/ecomplain/About\";\n }\n\n @RequestMapping(\"/get/{userId}\")\n public String getUsers(@PathVariable Long userId, Map&lt;String, Object&gt; map) \n {\n   Users users = userService.getUsers(userId);\n   map.put(\"users\", users);\n\n   return \"/ecomplain/CreateUserForm\";\n }\n\n @RequestMapping(\"/getComplain/{complainId}\")\n public String getComplains(@PathVariable Long complainId, Map&lt;String, Object&gt; map) \n {\n   Complains complains = complainService.getComplains(complainId);\n   map.put(\"complains\", complains);\n\n   return \"/ecomplain/ComplainDetails\";\n }\n\n @RequestMapping(value = \"/save\", method = RequestMethod.POST)\n public String saveUsers(@ModelAttribute(\"users\") Users users, BindingResult result)\n {\n   userService.saveUsers(users);\n   return \"redirect:listBooks\";\n }\n\n @RequestMapping(value = \"/savecomplain\", method = RequestMethod.POST)\n public String saveComplains(@ModelAttribute(\"complains\") Complains complains, BindingResult result) \n {\n   complainService.saveComplains(complains);\n   return \"redirect:ComplaintForm\";\n }\n\n @RequestMapping(\"/delete/{userId}\")\n public String deleteUsers(@PathVariable(\"userId\") Long userId) \n {\n   userService.deleteUsers(userId);\n   return \"redirect:/ecomplain/Homepage\";\n }\n\n @RequestMapping(\"/delete/{complainId}\")\n public String deleteComplains(@PathVariable(\"complainId\") Long complainId) \n {\n   complainService.deleteComplains(complainId);\n   return \"redirect:/ecomplain/Homepage\";\n }\n}\n</code></pre>\n\n<p>Users class</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\npublic class Users\n{\n  private Long userId;\n  private String email;\n  private String username;\n  private String password;\n  private String location;\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  public Long getUserId() \n {\n    return userId;\n }\n\n @Column(nullable = false)\n public String getEmail() \n {\n    return email;\n }\n\n @Column(nullable = false, unique = true)\n public String getUsername() \n {\n    return username;\n }\n\n @Column(nullable = false)\n public String getPassword() \n {\n    return password;\n } \n\n @Column(nullable = false)\n public String getLocation() \n {\n    return location;\n }\n\n public void setUserId(Long userId) \n {\n    this.userId = userId;\n }\n\n public void setEmail(String email) \n {\n    this.email = email;\n }\n\n public void setUsername(String username) \n {\n    this.username = username;\n }\n\n public void setPassword(String password)\n {\n    this.password = password;\n }\n\n public void setLocation(String location)\n {\n    this.location = location;\n }\n}\n</code></pre>\n\n<p>UsersDao</p>\n\n<pre><code>public interface UsersDao \n{\n  public void saveUsers(Users users);\n  public List&lt;Users&gt; listUsers();\n  public Users getUsers(Long userId);\n  public void deleteUsers(Long userId);\n}\n</code></pre>\n\n<p>UsersDaoImpl</p>\n\n<pre><code>@Repository\npublic class UsersDaoImpl implements UsersDao \n{\n  @Autowired\n  private SessionFactory sessionFactory;\n\n  public void saveUsers(Users users) \n  {\n     getSession().merge(users);\n  }\n\n  public List&lt;Users&gt; listUsers() \n  {\n    return getSession().createCriteria(Users.class).list();\n  }\n\n  public Users getUsers(Long userId) \n  {\n     return (Users) getSession().get(Users.class, userId);\n  }\n\n  public void deleteUsers(Long userId) \n  {\n    Users users = getUsers(userId);\n\n    if (null != users) \n    {\n       getSession().delete(users);\n    }\n  }\n\n  private Session getSession() \n  {\n     Session sess = getSessionFactory().getCurrentSession();\n     if (sess == null) \n     {\n       sess = getSessionFactory().openSession();\n     }\n     return sess;\n  }\n\n  private SessionFactory getSessionFactory() \n {\n    return sessionFactory;\n }\n}\n</code></pre>\n\n<p>and here is my Encryption class that i want to use</p>\n\n<pre><code>public class Encryption \n{\n   public static final String PBKDF2_ALGORITHM = \"PBKDF2WithHmacSHA1\";\n\n   public static final int SALT_BYTE_SIZE = 24;\n   public static final int HASH_BYTE_SIZE = 24;\n   public static final int PBKDF2_ITERATIONS = 1000;\n\n   public static final int ITERATION_INDEX = 0;\n   public static final int SALT_INDEX = 1;\n   public static final int PBKDF2_INDEX = 2;\n\n   public static String createHash(String password) throws NoSuchAlgorithmException,      InvalidKeySpecException\n   {\n     return createHash(password.toCharArray());\n   }\n\n  public static String createHash(char[] password) throws NoSuchAlgorithmException, InvalidKeySpecException\n  {\n\n     SecureRandom random = new SecureRandom();\n     byte[] salt = new byte[SALT_BYTE_SIZE];\n     random.nextBytes(salt);\n     byte[] hash = pbkdf2(password, salt, PBKDF2_ITERATIONS, HASH_BYTE_SIZE);\n     return PBKDF2_ITERATIONS + \":\" + toHex(salt) + \":\" +  toHex(hash);\n  }\n\n\n  public static boolean validatePassword(String password, String correctHash) throws  NoSuchAlgorithmException, InvalidKeySpecException\n  {\n     return validatePassword(password.toCharArray(), correctHash);\n  }\n\n  public static boolean validatePassword(char[] password, String correctHash) throws NoSuchAlgorithmException, InvalidKeySpecException\n  {\n     String[] params = correctHash.split(\":\");\n     int iterations = Integer.parseInt(params[ITERATION_INDEX]);\n     byte[] salt = fromHex(params[SALT_INDEX]);\n     byte[] hash = fromHex(params[PBKDF2_INDEX]);   \n     byte[] testHash = pbkdf2(password, salt, iterations, hash.length);\n     return slowEquals(hash, testHash);\n  }\n\n  private static boolean slowEquals(byte[] a, byte[] b)\n  {\n     int diff = a.length ^ b.length;\n     for(int i = 0; i &lt; a.length &amp;&amp; i &lt; b.length; i++)\n        diff |= a[i] ^ b[i];\n     return diff == 0;\n  }\n\n  private static byte[] pbkdf2(char[] password, byte[] salt, int iterations, int bytes) throws NoSuchAlgorithmException, InvalidKeySpecException\n  {\n     PBEKeySpec spec = new PBEKeySpec(password, salt, iterations, bytes * 8);\n     SecretKeyFactory skf = SecretKeyFactory.getInstance(PBKDF2_ALGORITHM);\n     return skf.generateSecret(spec).getEncoded();\n  }\n\n  private static byte[] fromHex(String hex)\n  {\n     byte[] binary = new byte[hex.length() / 2];\n     for(int i = 0; i &lt; binary.length; i++)\n     {\n        binary[i] = (byte)Integer.parseInt(hex.substring(2*i, 2*i+2), 16);\n     }\n     return binary;\n  }\n\n  private static String toHex(byte[] array)\n  {\n    BigInteger bi = new BigInteger(1, array);\n    String hex = bi.toString(16);\n    int paddingLength = (array.length * 2) - hex.length();\n    if(paddingLength &gt; 0) \n       return String.format(\"%0\" + paddingLength + \"d\", 0) + hex;\n    else\n       return hex;\n  }\n\n  public String saltedPass(String password) \n  {\n     String hash = \"\";\n      try \n      {\n         hash = createHash(password);\n      } \n\n      catch (NoSuchAlgorithmException e) \n      {\n         e.printStackTrace();\n      } \n\n      catch (InvalidKeySpecException e) \n      {\n         e.printStackTrace();\n      }\n      return hash;\n  }\n\n  public boolean validation(String password, String hash) \n  {\n      try \n      {\n          if (validatePassword(password, hash)) \n          {\n            System.out.println(\"CORRECT PASSWORD!\");\n            return true;\n          }\n      }  \n\n      catch (Exception ex) \n      {\n          System.out.println(\"ERROR: \" + ex);\n      }\n      return false;\n  }\n}\n</code></pre>\n\n<p>i hope someone can help me.. even a small idea can help me</p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":5,"creation_date":1666839604,"post_id":74216283,"comment_id":131032256,"body_markdown":"Short answer: nope.  Longer answer: if you make a class with a private field, you can use getters and setters to implement something like this.  Maybe look at the observer pattern.","body":"Short answer: nope.  Longer answer: if you make a class with a private field, you can use getters and setters to implement something like this.  Maybe look at the observer pattern."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1666864488,"post_id":74216283,"comment_id":131038316,"body_markdown":"Maybe a XY problem. What is the real problem you want to solve with such a construct?","body":"Maybe a XY problem. What is the real problem you want to solve with such a construct?"},{"owner":{"account_id":14457688,"reputation":21,"user_id":10964044,"display_name":"Benjiboy50Fonz"},"score":0,"creation_date":1666899062,"post_id":74216283,"comment_id":131050430,"body_markdown":"@vanje the problem behind this is extensive. The goal here is to write an autonomous script for a robot in Java that uses all vanilla Java, and the functions called on that robot are then recognized and interpreted into Python, as this is the language that the library for the robot is written in. I am currently running the two programs (Java and Python) in parallel, but this is proving to be slow. I&#39;d like to run Java and then Python sequentially, but this requires a lot of complex data linkage and interpreting. Any suggestions would be appreciated.","body":"@vanje the problem behind this is extensive. The goal here is to write an autonomous script for a robot in Java that uses all vanilla Java, and the functions called on that robot are then recognized and interpreted into Python, as this is the language that the library for the robot is written in. I am currently running the two programs (Java and Python) in parallel, but this is proving to be slow. I&#39;d like to run Java and then Python sequentially, but this requires a lot of complex data linkage and interpreting. Any suggestions would be appreciated."}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666842566,"creation_date":1666842566,"answer_id":74216601,"question_id":74216283,"body_markdown":"I don&#39;t think any kind of function happens when we assign values. However when we assign a value to a primitive type(int, double...) variable the value is stored in the stack memory. If the data is reference type (String...), then it is stored in the heap memory. Only the reference address will be stored in the stack. Whenever you decide to change the state of that particular variable (field value) the new value will be stored in the stack overriding the previous value. So, you don&#39;t have to worry about methods to override using a method. \r\n\r\nIf you want to deny access to a variable outside the class, but still change the state of that variable, then you can use encapsulation concept of OOP in java. \r\n\r\nFor further clarification refer [this article about stack vs. heap][1]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/stack-vs-heap-java","title":"Do something when a variable is (re)assigned Java","body":"<p>I don't think any kind of function happens when we assign values. However when we assign a value to a primitive type(int, double...) variable the value is stored in the stack memory. If the data is reference type (String...), then it is stored in the heap memory. Only the reference address will be stored in the stack. Whenever you decide to change the state of that particular variable (field value) the new value will be stored in the stack overriding the previous value. So, you don't have to worry about methods to override using a method.</p>\n<p>If you want to deny access to a variable outside the class, but still change the state of that variable, then you can use encapsulation concept of OOP in java.</p>\n<p>For further clarification refer <a href=\"https://www.javatpoint.com/stack-vs-heap-java\" rel=\"nofollow noreferrer\">this article about stack vs. heap</a></p>\n"}],"owner":{"account_id":14457688,"reputation":21,"user_id":10964044,"display_name":"Benjiboy50Fonz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666842566,"creation_date":1666839377,"question_id":74216283,"body_markdown":"This is a far-fetched question and I am not sure how to approach this problem, so I am open to other workarounds or proposals. As far as I am aware, what I am trying to do is impossible, but I&#39;d like a second input.\r\n\r\nAssume we have the following Java code:\r\n```\r\nint val = 4;\r\n```\r\nI am curious as to if some sort of function is called when this statement is executed. An overridable function that assigns a given memory location to this value, or something of that nature. \r\n\r\nMy objective would be to override that function and store this data here and in a file elsewhere as well. \r\n\r\nThis would need to work for all data types and for reassignments such as that shown below.\r\n```\r\nval = getNumber(); // Returns 6; \r\n```\r\n\r\nI would have some sort of direction if I was working with Python, but unfortunately, that is not the case.\r\n\r\nMy best idea for a solution is to call a function that simply returns a provided argument. Due to the application of this, I&#39;d like to avoid this and keep the usage of this framework as conventional as possible.\r\n\r\nThanks!\r\n\r\n","title":"Do something when a variable is (re)assigned Java","body":"<p>This is a far-fetched question and I am not sure how to approach this problem, so I am open to other workarounds or proposals. As far as I am aware, what I am trying to do is impossible, but I'd like a second input.</p>\n<p>Assume we have the following Java code:</p>\n<pre><code>int val = 4;\n</code></pre>\n<p>I am curious as to if some sort of function is called when this statement is executed. An overridable function that assigns a given memory location to this value, or something of that nature.</p>\n<p>My objective would be to override that function and store this data here and in a file elsewhere as well.</p>\n<p>This would need to work for all data types and for reassignments such as that shown below.</p>\n<pre><code>val = getNumber(); // Returns 6; \n</code></pre>\n<p>I would have some sort of direction if I was working with Python, but unfortunately, that is not the case.</p>\n<p>My best idea for a solution is to call a function that simply returns a provided argument. Due to the application of this, I'd like to avoid this and keep the usage of this framework as conventional as possible.</p>\n<p>Thanks!</p>\n"},{"tags":["java","loops","generics","count","iterator"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1666799969,"post_id":74210503,"comment_id":131022930,"body_markdown":"I&#39;m missing several things: what does &quot;set the count of item&quot; exactly mean for you? You wrote in your first sentence &quot;the number of times the element occurs in the array&quot;, but do you mean you want to add that many elements into the array, or count how often the element appears there? The word &quot;histogram&quot; in the class name would lead me more to the &quot;count how many&quot; version, also the code does nothing to modify the contents of the array. Also why do you implement your own iterator and also the `Iterable` interface?","body":"I&#39;m missing several things: what does &quot;set the count of item&quot; exactly mean for you? You wrote in your first sentence &quot;the number of times the element occurs in the array&quot;, but do you mean you want to add that many elements into the array, or count how often the element appears there? The word &quot;histogram&quot; in the class name would lead me more to the &quot;count how many&quot; version, also the code does nothing to modify the contents of the array. Also why do you implement your own iterator and also the <code>Iterable</code> interface?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666800125,"post_id":74210503,"comment_id":131022986,"body_markdown":"I would expect the constructor to compute the histogram and store the results in a `Map&lt;DT, Integer&gt;`. Then `setCount()` would override the initial count for a given element. Are you confident all of the other stuff you have is required? I believe you are complicating the problem way more than needed.","body":"I would expect the constructor to compute the histogram and store the results in a <code>Map&lt;DT, Integer&gt;</code>. Then <code>setCount()</code> would override the initial count for a given element. Are you confident all of the other stuff you have is required? I believe you are complicating the problem way more than needed."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666800737,"post_id":74210503,"comment_id":131023197,"body_markdown":"@cyberbrain the &quot;iterable&quot; interface is used but in a different portion of the code which I&#39;m already done with. and setting the count of the items mean take the current count of the item and modify it to the input count given in the function. If that means adding more items then sure","body":"@cyberbrain the &quot;iterable&quot; interface is used but in a different portion of the code which I&#39;m already done with. and setting the count of the items mean take the current count of the item and modify it to the input count given in the function. If that means adding more items then sure"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666800834,"post_id":74210503,"comment_id":131023231,"body_markdown":"@erickson can you show me an easier way to do this?","body":"@erickson can you show me an easier way to do this?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666802053,"post_id":74210503,"comment_id":131023697,"body_markdown":"@Droid the easier way is what erickson already described in their first comment.","body":"@Droid the easier way is what erickson already described in their first comment."}],"answers":[{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1666800276,"post_id":74210833,"comment_id":131023033,"body_markdown":"I&#39;m not sure what you mean by &quot;`equals()` is also same.&quot; By default, yes, it tests identity, but the whole point is that it may be overridden by different types to do different things. As it stands, it&#39;s not clear that doing an identity comparison will cause any problems in this case. In other words, this is not an answer to this question.","body":"I&#39;m not sure what you mean by &quot;<code>equals()</code> is also same.&quot; By default, yes, it tests identity, but the whole point is that it may be overridden by different types to do different things. As it stands, it&#39;s not clear that doing an identity comparison will cause any problems in this case. In other words, this is not an answer to this question."}],"tags":[],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666800030,"creation_date":1666800030,"answer_id":74210833,"question_id":74210503,"body_markdown":"`==` compares the reference of an object in Java. `equals()` is also same.\r\n\r\nIf you want to compare two objects(dt and item) wit the same value, you need to override `hashCode()` and `equals()`. \r\n\r\nAfter that, you use `equals()` rather than `==`.\r\n\r\nHere is reference link.\r\n\r\nhttps://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator","title":"How can I set the count of an item in a list&lt;T&gt; to a specific amount","body":"<p><code>==</code> compares the reference of an object in Java. <code>equals()</code> is also same.</p>\n<p>If you want to compare two objects(dt and item) wit the same value, you need to override <code>hashCode()</code> and <code>equals()</code>.</p>\n<p>After that, you use <code>equals()</code> rather than <code>==</code>.</p>\n<p>Here is reference link.</p>\n<p><a href=\"https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator\">Compare two objects with .equals() and == operator</a></p>\n"},{"comments":[{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666803162,"post_id":74211377,"comment_id":131024077,"body_markdown":"is it possible to not use all of that collections stuff? Like it would be really helpful for me to just build on my existing code, or make as minimal changes as possible while implementing it, so that I can understand what&#39;s happening too","body":"is it possible to not use all of that collections stuff? Like it would be really helpful for me to just build on my existing code, or make as minimal changes as possible while implementing it, so that I can understand what&#39;s happening too"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666805314,"post_id":74211377,"comment_id":131024744,"body_markdown":"also using hashmap is really helpful, so if you could please use hashmap without all those collections stuff, it would be extremely useful for me","body":"also using hashmap is really helpful, so if you could please use hashmap without all those collections stuff, it would be extremely useful for me"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666809039,"post_id":74211377,"comment_id":131026030,"body_markdown":"@Droid by &quot;collections stuff&quot;, do you mean `Stream` stuff? Your own code was using `Iterator` and `Iterable` which is a core part of the Collections library.","body":"@Droid by &quot;collections stuff&quot;, do you mean <code>Stream</code> stuff? Your own code was using <code>Iterator</code> and <code>Iterable</code> which is a core part of the Collections library."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666841329,"post_id":74211377,"comment_id":131032520,"body_markdown":"yes I meant stream stuff. sorry for the misunderstanding, the Iterator is fine","body":"yes I meant stream stuff. sorry for the misunderstanding, the Iterator is fine"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666841961,"post_id":74211377,"comment_id":131032589,"body_markdown":"@Droid Okay I replaced stream with a for-loop.","body":"@Droid Okay I replaced stream with a for-loop."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666842480,"post_id":74211377,"comment_id":131032645,"body_markdown":"thank you, also one more thing, for setCount, if there the item does exist in the the array, and lets say the count of the item is 4, while the input int count is 6, does your setCount() method return 10, which is 4+6?","body":"thank you, also one more thing, for setCount, if there the item does exist in the the array, and lets say the count of the item is 4, while the input int count is 6, does your setCount() method return 10, which is 4+6?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666850131,"post_id":74211377,"comment_id":131033808,"body_markdown":"Also one more thing, your constructor doesn&#39;t work for my test cases, specifically, this one SimpleHistogram() { this(List.of()); }.","body":"Also one more thing, your constructor doesn&#39;t work for my test cases, specifically, this one SimpleHistogram() { this(List.of()); }."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1666850781,"post_id":74211377,"comment_id":131033949,"body_markdown":"my test cases are provided at the end of the question","body":"my test cases are provided at the end of the question"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1666894057,"post_id":74211377,"comment_id":131048969,"body_markdown":"@Droid Yes, my example is meant to point you in the right direction, not to deprive you completely of your learning experience. If you have difficulty completing the small changes required, you can update your question or ask a new one, depending on how different the question is. But, in either case, you&#39;ll need to show what you&#39;ve done and explain specifically where you are having difficulty.","body":"@Droid Yes, my example is meant to point you in the right direction, not to deprive you completely of your learning experience. If you have difficulty completing the small changes required, you can update your question or ask a new one, depending on how different the question is. But, in either case, you&#39;ll need to show what you&#39;ve done and explain specifically where you are having difficulty."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666841939,"creation_date":1666802567,"answer_id":74211377,"question_id":74210503,"body_markdown":"Would something like this satisfy the requirements? It&#39;s essentially a wrapper around a map, where the elements are the keys, and each value is a count of that element. Presumably, the `Histogram` interface has additional operations like `getCount(T)`; here, you&#39;d just get the count from the encapsulated map.\r\n\r\n```java\r\nclass SimpleHistogram&lt;T&gt; implements Histogram&lt;T&gt;, Iterable&lt;T&gt; {\r\n\r\n    private final Map&lt;T, Integer&gt; bins = new HashMap&lt;&gt;();\r\n\r\n    SimpleHistogram() {\r\n        this(List.of());\r\n    }\r\n    \r\n    SimpleHistogram(List&lt;? extends T&gt; items) {\r\n        for (T item : items) {\r\n            Integer count = bins.getOrDefault(item, 0);\r\n            bins.put(item, count + 1);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setCount(T item, int count) {\r\n        bins.put(item, count);\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return bins.keySet().iterator();\r\n    }\r\n\r\n}\r\n```","title":"How can I set the count of an item in a list&lt;T&gt; to a specific amount","body":"<p>Would something like this satisfy the requirements? It's essentially a wrapper around a map, where the elements are the keys, and each value is a count of that element. Presumably, the <code>Histogram</code> interface has additional operations like <code>getCount(T)</code>; here, you'd just get the count from the encapsulated map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SimpleHistogram&lt;T&gt; implements Histogram&lt;T&gt;, Iterable&lt;T&gt; {\n\n    private final Map&lt;T, Integer&gt; bins = new HashMap&lt;&gt;();\n\n    SimpleHistogram() {\n        this(List.of());\n    }\n    \n    SimpleHistogram(List&lt;? extends T&gt; items) {\n        for (T item : items) {\n            Integer count = bins.getOrDefault(item, 0);\n            bins.put(item, count + 1);\n        }\n    }\n\n    @Override\n    public void setCount(T item, int count) {\n        bins.put(item, count);\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return bins.keySet().iterator();\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1666841939,"creation_date":1666798638,"question_id":74210503,"body_markdown":"I have a class `SimpleHistogram&lt;DT&gt;` that takes in a generic array `DT[]` and I&#39;m supposed to set the count, the number of times the element occurs in the array, of a specific `item` in the array to int `count`. \r\n\r\nHere is what I have so far:\r\n\r\n    public class SimpleHistogram&lt;DT&gt; implements Histogram&lt;DT&gt;, Iterable&lt;DT&gt; {\r\n        DT[] items;\r\n        int size;\r\n    \r\n        public SimpleHistogram() {\r\n        }\r\n    \r\n        public SimpleHistogram(DT[] items) {\r\n    \r\n            this.items = items;\r\n        }\r\n        @Override\r\n        public void setCount(DT item, int count) {\r\n            int n = 0;\r\n            Iterator&lt;DT&gt; L = this.iterator();\r\n            while (L.hasNext()) {\r\n                DT dt = L.next();\r\n                if (dt == item) {  // if dt equals to item, meaning item IS present, then\r\n                    n+=count;      // set the count of the item to count\r\n    \r\n                } else\r\n                {this.add(dt, count)} // if its not equal, meaning its not there, then add the item and the count of the item\r\n            }\r\n    \r\n    \r\n        }\r\n        private class Iterate implements Iterator&lt;DT&gt; {\r\n            int index = 0;\r\n            boolean lastRemoved = false;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return (index &lt; items.length-1);\r\n            }\r\n    \r\n            @Override\r\n            public DT next() {\r\n                if (index &lt; (items.length) -1)\r\n                    throw new NoSuchElementException(&quot;No element at index&quot;);\r\n                DT object = items[index];\r\n                index++;\r\n                lastRemoved = false;\r\n                return object;\r\n            }\r\n        }\r\n\r\nI&#39;m struggling to implement the function `setCount( DT item, int count)` which is supposed to set the count of `item` to `count`.\r\n\r\nAditionally, if `item` does not exist already in the list, then we are supposed to add the item in and then set the count of the item to `count`.\r\n\r\nI have provided explanations for what I intended to do but due to the fact that I am new to this, I haven&#39;t found sources that can properly clear this doubt, so any help would be greatly appreciated\r\n\r\n**Edit** Here is the full code in case you may want to derive something from it. Test cases also presented below.\r\n\r\n    package histogram;\r\n    \r\n    import java.lang.reflect.Type;\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    // TODO: Uncomment this and make sure to implement all the methods\r\n    \r\n        public class SimpleHistogram&lt;DT&gt; implements Histogram&lt;DT&gt;, Iterable&lt;DT&gt; {\r\n            DT[] items;\r\n            int size;\r\n        \r\n            public SimpleHistogram() {\r\n            }\r\n        \r\n        public SimpleHistogram(DT[] items) {\r\n    \r\n            this.items = items;\r\n        }\r\n        @Override\r\n        public void setCount(DT item, int count) {\r\n            int n = 0;\r\n            Iterator&lt;DT&gt; L = this.iterator();\r\n            while (L.hasNext()) {\r\n                DT dt = L.next();\r\n                if (dt == item) {  // if dt equals to item, meaning item IS present, then\r\n                    n+=count;      // set the count of the item to count\r\n    \r\n                } else\r\n                {this.add(dt, count)} // if its not equal, meaning its not there, then add the item and the count of the item\r\n            }\r\n    \r\n    \r\n        }\r\n        private class Iterate implements Iterator&lt;DT&gt; {\r\n            int index = 0;\r\n            boolean lastRemoved = false;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                return (index &lt; items.length-1);\r\n            }\r\n    \r\n            @Override\r\n            public DT next() {\r\n                if (index &lt; (items.length) -1)\r\n                    throw new NoSuchElementException(&quot;No element at index&quot;);\r\n                DT object = items[index];\r\n                index++;\r\n                lastRemoved = false;\r\n                return object;\r\n            }\r\n        }\r\n    \r\n        public int getCount(DT item) {\r\n            int n = 0;\r\n            Iterator&lt;DT&gt; L = this.iterator();\r\n            while (L.hasNext()) {\r\n                DT dt = L.next();\r\n                if (dt == item) {\r\n                    n++;\r\n                }\r\n    \r\n            }\r\n            return n;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public Iterator&lt;DT&gt; iterator() {\r\n    \r\n            return new Iterate();\r\n        }\r\n    \r\n        @Override\r\n        public int getTotalCount() {\r\n            return items.length;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\nTest cases:\r\n\r\n    public class SimpleHistogramTest {\r\n    \r\n        @Test\r\n        public void testHistogram() {\r\n            Character[] target = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;a&#39;};\r\n            Histogram&lt;Character&gt; h = new SimpleHistogram&lt;&gt;(target);\r\n            Iterator&lt;Character&gt; iter = h.iterator();\r\n            int elemCount = 0;\r\n            while(iter.hasNext()) {\r\n                iter.next();\r\n                elemCount++;\r\n            }\r\n    \r\n            assertEquals(3, elemCount);\r\n            assertEquals(2, h.getCount(&#39;a&#39;));\r\n            assertEquals(1, h.getCount(&#39;b&#39;));\r\n            assertEquals(1, h.getCount(&#39;c&#39;));\r\n            assertEquals(4, h.getTotalCount());\r\n        }\r\n    }\r\n\r\n","title":"How can I set the count of an item in a list&lt;T&gt; to a specific amount","body":"<p>I have a class <code>SimpleHistogram&lt;DT&gt;</code> that takes in a generic array <code>DT[]</code> and I'm supposed to set the count, the number of times the element occurs in the array, of a specific <code>item</code> in the array to int <code>count</code>.</p>\n<p>Here is what I have so far:</p>\n<pre><code>public class SimpleHistogram&lt;DT&gt; implements Histogram&lt;DT&gt;, Iterable&lt;DT&gt; {\n    DT[] items;\n    int size;\n\n    public SimpleHistogram() {\n    }\n\n    public SimpleHistogram(DT[] items) {\n\n        this.items = items;\n    }\n    @Override\n    public void setCount(DT item, int count) {\n        int n = 0;\n        Iterator&lt;DT&gt; L = this.iterator();\n        while (L.hasNext()) {\n            DT dt = L.next();\n            if (dt == item) {  // if dt equals to item, meaning item IS present, then\n                n+=count;      // set the count of the item to count\n\n            } else\n            {this.add(dt, count)} // if its not equal, meaning its not there, then add the item and the count of the item\n        }\n\n\n    }\n    private class Iterate implements Iterator&lt;DT&gt; {\n        int index = 0;\n        boolean lastRemoved = false;\n\n        @Override\n        public boolean hasNext() {\n            return (index &lt; items.length-1);\n        }\n\n        @Override\n        public DT next() {\n            if (index &lt; (items.length) -1)\n                throw new NoSuchElementException(&quot;No element at index&quot;);\n            DT object = items[index];\n            index++;\n            lastRemoved = false;\n            return object;\n        }\n    }\n</code></pre>\n<p>I'm struggling to implement the function <code>setCount( DT item, int count)</code> which is supposed to set the count of <code>item</code> to <code>count</code>.</p>\n<p>Aditionally, if <code>item</code> does not exist already in the list, then we are supposed to add the item in and then set the count of the item to <code>count</code>.</p>\n<p>I have provided explanations for what I intended to do but due to the fact that I am new to this, I haven't found sources that can properly clear this doubt, so any help would be greatly appreciated</p>\n<p><strong>Edit</strong> Here is the full code in case you may want to derive something from it. Test cases also presented below.</p>\n<pre><code>package histogram;\n\nimport java.lang.reflect.Type;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.NoSuchElementException;\n\n// TODO: Uncomment this and make sure to implement all the methods\n\n    public class SimpleHistogram&lt;DT&gt; implements Histogram&lt;DT&gt;, Iterable&lt;DT&gt; {\n        DT[] items;\n        int size;\n    \n        public SimpleHistogram() {\n        }\n    \n    public SimpleHistogram(DT[] items) {\n\n        this.items = items;\n    }\n    @Override\n    public void setCount(DT item, int count) {\n        int n = 0;\n        Iterator&lt;DT&gt; L = this.iterator();\n        while (L.hasNext()) {\n            DT dt = L.next();\n            if (dt == item) {  // if dt equals to item, meaning item IS present, then\n                n+=count;      // set the count of the item to count\n\n            } else\n            {this.add(dt, count)} // if its not equal, meaning its not there, then add the item and the count of the item\n        }\n\n\n    }\n    private class Iterate implements Iterator&lt;DT&gt; {\n        int index = 0;\n        boolean lastRemoved = false;\n\n        @Override\n        public boolean hasNext() {\n            return (index &lt; items.length-1);\n        }\n\n        @Override\n        public DT next() {\n            if (index &lt; (items.length) -1)\n                throw new NoSuchElementException(&quot;No element at index&quot;);\n            DT object = items[index];\n            index++;\n            lastRemoved = false;\n            return object;\n        }\n    }\n\n    public int getCount(DT item) {\n        int n = 0;\n        Iterator&lt;DT&gt; L = this.iterator();\n        while (L.hasNext()) {\n            DT dt = L.next();\n            if (dt == item) {\n                n++;\n            }\n\n        }\n        return n;\n    }\n\n\n\n    @Override\n    public Iterator&lt;DT&gt; iterator() {\n\n        return new Iterate();\n    }\n\n    @Override\n    public int getTotalCount() {\n        return items.length;\n    }\n\n\n\n\n}\n</code></pre>\n<p>Test cases:</p>\n<pre><code>public class SimpleHistogramTest {\n\n    @Test\n    public void testHistogram() {\n        Character[] target = {'a','b','c','a'};\n        Histogram&lt;Character&gt; h = new SimpleHistogram&lt;&gt;(target);\n        Iterator&lt;Character&gt; iter = h.iterator();\n        int elemCount = 0;\n        while(iter.hasNext()) {\n            iter.next();\n            elemCount++;\n        }\n\n        assertEquals(3, elemCount);\n        assertEquals(2, h.getCount('a'));\n        assertEquals(1, h.getCount('b'));\n        assertEquals(1, h.getCount('c'));\n        assertEquals(4, h.getTotalCount());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-layout"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666806527,"post_id":74211734,"comment_id":131025174,"body_markdown":"This is a huge task and I think you&#39;re unlikely to get a complete answer here. If you&#39;re against using a library, you can at least look at the source code of one to see how it&#39;s done.","body":"This is a huge task and I think you&#39;re unlikely to get a complete answer here. If you&#39;re against using a library, you can at least look at the source code of one to see how it&#39;s done."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666806684,"post_id":74211734,"comment_id":131025232,"body_markdown":"You might also consider using the Internet to find existing articles on this subject. For example, for Jetpack Compose, [this article](https://medium.com/bumble-tech/modelling-dating-cards-navigation-with-appyx-ab68313d27f6) showed up last week.","body":"You might also consider using the Internet to find existing articles on this subject. For example, for Jetpack Compose, <a href=\"https://medium.com/bumble-tech/modelling-dating-cards-navigation-with-appyx-ab68313d27f6\" rel=\"nofollow noreferrer\">this article</a> showed up last week."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666850028,"post_id":74211734,"comment_id":131033793,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":17469542,"reputation":173,"user_id":12665616,"display_name":"Th&#224;nh Thỏ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666840773,"creation_date":1666840773,"answer_id":74216415,"question_id":74211734,"body_markdown":"You can use MotionLayout. The concept is\r\n - You have 3 cards: top card, middle card and bottom card\r\n - You can use onSwipe to animate them, when the progress of motionLayout is 100% you set it to start state to keep user can swipe it infinite\r\n\r\nThere are several instruction on the web, you can check some here:\\\r\nhttps://medium.com/bumble-tech/swipe-right-on-motion-layout-641c1452d6a5\r\nhttps://rodrigomartind.medium.com/tinder-motionlayout-1cb6a7233f9f","title":"how to create custom tinder like swipe left or right card with animation in recyclerview without 3rd party library in android","body":"<p>You can use MotionLayout. The concept is</p>\n<ul>\n<li>You have 3 cards: top card, middle card and bottom card</li>\n<li>You can use onSwipe to animate them, when the progress of motionLayout is 100% you set it to start state to keep user can swipe it infinite</li>\n</ul>\n<p>There are several instruction on the web, you can check some here:<br />\n<a href=\"https://medium.com/bumble-tech/swipe-right-on-motion-layout-641c1452d6a5\" rel=\"nofollow noreferrer\">https://medium.com/bumble-tech/swipe-right-on-motion-layout-641c1452d6a5</a>\n<a href=\"https://rodrigomartind.medium.com/tinder-motionlayout-1cb6a7233f9f\" rel=\"nofollow noreferrer\">https://rodrigomartind.medium.com/tinder-motionlayout-1cb6a7233f9f</a></p>\n"}],"owner":{"account_id":20806098,"reputation":9,"user_id":15280972,"display_name":"Hassan Raza "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666840773,"creation_date":1666804507,"question_id":74211734,"body_markdown":"[![card swipe left or right ](https://i.stack.imgur.com/ZcbSX.png)](https://i.stack.imgur.com/ZcbSX.png)\r\n\r\n\r\n\r\nOn card appeard must be return exact position of on appeard card and disappeard card in two functions.On swipe must be return direction left or right of appeard card.ON card swiped card remove automatically","title":"how to create custom tinder like swipe left or right card with animation in recyclerview without 3rd party library in android","body":"<p><a href=\"https://i.stack.imgur.com/ZcbSX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZcbSX.png\" alt=\"card swipe left or right \" /></a></p>\n<p>On card appeard must be return exact position of on appeard card and disappeard card in two functions.On swipe must be return direction left or right of appeard card.ON card swiped card remove automatically</p>\n"},{"tags":["java","rest","jackson","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666840163,"creation_date":1666840163,"answer_id":74216358,"question_id":74206663,"body_markdown":"1. Setting POJO\r\n\r\n```\r\n@Data\r\npublic class MfConfig {\r\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    public List&lt;Multiplications&gt; multiplications;\r\n}\r\n\r\n@Data\r\npublic class Multiplications {\r\n    public int id;\r\n}\r\n```\r\n\r\n2. Deserialization\r\n\r\n```\r\nMfConfig mfConfig = given(requestSpecification)\r\n    .baseUri(endpoint)\r\n    .when()\r\n    .get()\r\n    .then()\r\n    .extract()\r\n    .as(MfConfig.class)\r\n```\r\n3. Result\r\n\r\n```\r\nMfConfig(multiplications=[])\r\n\r\nMfConfig(multiplications=[Multiplications(id=133389)])\r\n```","title":"Field-key have different value in response from api","body":"<ol>\n<li>Setting POJO</li>\n</ol>\n<pre><code>@Data\npublic class MfConfig {\n    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\n    public List&lt;Multiplications&gt; multiplications;\n}\n\n@Data\npublic class Multiplications {\n    public int id;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Deserialization</li>\n</ol>\n<pre><code>MfConfig mfConfig = given(requestSpecification)\n    .baseUri(endpoint)\n    .when()\n    .get()\n    .then()\n    .extract()\n    .as(MfConfig.class)\n</code></pre>\n<ol start=\"3\">\n<li>Result</li>\n</ol>\n<pre><code>MfConfig(multiplications=[])\n\nMfConfig(multiplications=[Multiplications(id=133389)])\n</code></pre>\n"}],"owner":{"account_id":16352283,"reputation":17,"user_id":11810453,"display_name":"Patryk Patryk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74216358,"answer_count":1,"score":0,"last_activity_date":1666840163,"creation_date":1666781974,"question_id":74206663,"body_markdown":"I have a problem with returned value from API response. I have model:\r\n\r\n    public class MfConfig {\r\n\r\n    public List&lt;Multiplications&gt; multiplications;}\r\n\r\nI run test via REST ASSURED with Jackson. Test return response, In response I have many objects. In these objects I have one field (key) returned few times. And when returned value for field is empty, field is an array, but when field has value, field is an object:\r\n\r\n      &quot;multiplications&quot;: [\r\n            \r\n      ]\r\n\r\n      &quot;multiplications&quot;: {\r\n        &quot;id&quot;: 133389\r\n      }\r\n\r\nWhen I have model like above, I got:\r\n\r\n    org.json.JSONException: JSONObject[&quot;multiplications&quot;] is not a JSONObject.\r\n\r\nWhen I change model to:\r\n\r\n    public class MfConfig {\r\n\r\n    public Multiplications multiplications;}\r\n\r\nI got: \r\n\r\n```java\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type &#39;test.Multiplications` from Array value (token `JsonToken.START_ARRAY`)\r\n```\r\n\r\nIn test I use:\r\n\r\n```java\r\ngiven(requestSpecification)\r\n.baseUri(endpoint)\r\n.when()\r\n.get()\r\n.then()\r\n.extract()\r\n.as((Multiplication.class)\r\n```\r\n\r\nI can change i to:\r\n\r\n\r\n```java\r\ngiven(requestSpecification)\r\n.baseUri(endpoint)\r\n.when()\r\n.get()\r\n.then()\r\n.extract()\r\n.as((Multiplication[].class)\r\n```\r\n\r\nBut I got error for response with Object. And vice versa. In model I ve tried something like:\r\n\r\n        @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    public Multiplications multiplications;\r\n\r\nor\r\n\r\n        @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n    public List&lt;Multiplications&gt; multiplications;\r\n\r\nBut it doesn&#39;t work. Maybe someone have idea for response, where one field has different type like object and array?\r\n","title":"Field-key have different value in response from api","body":"<p>I have a problem with returned value from API response. I have model:</p>\n<pre><code>public class MfConfig {\n\npublic List&lt;Multiplications&gt; multiplications;}\n</code></pre>\n<p>I run test via REST ASSURED with Jackson. Test return response, In response I have many objects. In these objects I have one field (key) returned few times. And when returned value for field is empty, field is an array, but when field has value, field is an object:</p>\n<pre><code>  &quot;multiplications&quot;: [\n        \n  ]\n\n  &quot;multiplications&quot;: {\n    &quot;id&quot;: 133389\n  }\n</code></pre>\n<p>When I have model like above, I got:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;multiplications&quot;] is not a JSONObject.\n</code></pre>\n<p>When I change model to:</p>\n<pre><code>public class MfConfig {\n\npublic Multiplications multiplications;}\n</code></pre>\n<p>I got:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type 'test.Multiplications` from Array value (token `JsonToken.START_ARRAY`)\n</code></pre>\n<p>In test I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>given(requestSpecification)\n.baseUri(endpoint)\n.when()\n.get()\n.then()\n.extract()\n.as((Multiplication.class)\n</code></pre>\n<p>I can change i to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>given(requestSpecification)\n.baseUri(endpoint)\n.when()\n.get()\n.then()\n.extract()\n.as((Multiplication[].class)\n</code></pre>\n<p>But I got error for response with Object. And vice versa. In model I ve tried something like:</p>\n<pre><code>    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\npublic Multiplications multiplications;\n</code></pre>\n<p>or</p>\n<pre><code>    @JsonFormat(with = JsonFormat.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY)\npublic List&lt;Multiplications&gt; multiplications;\n</code></pre>\n<p>But it doesn't work. Maybe someone have idea for response, where one field has different type like object and array?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1666842874,"post_id":74216311,"comment_id":131032690,"body_markdown":"bootstrap is not deprecated, just not the default anymore. I&#39;ll see if I can replicate the issue","body":"bootstrap is not deprecated, just not the default anymore. I&#39;ll see if I can replicate the issue"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1666843025,"post_id":74216311,"comment_id":131032708,"body_markdown":"Have you tried just `optional:configserver:`?","body":"Have you tried just <code>optional:configserver:</code>?"},{"owner":{"account_id":7864671,"reputation":452,"user_id":5943840,"display_name":"Raphael"},"score":0,"creation_date":1666896512,"post_id":74216311,"comment_id":131049715,"body_markdown":"Thanks @spencergibb for the help! Bootstrap context is indeed deprecated. Here is a quote from the documentation: &quot;bootstrap context initialization of property sources was deprecated&quot; ([source](https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:~:text=with%20spring%20cloud%20vault%203.0%20and%20spring%20boot%202.4%2C%20the%20bootstrap%20context%20initialization)).\n\nWhen I use `optional:configserver:`, the discovery still fails, followed by a failure to find a config server at `http://localhost:8888` (the default config server address) instead of at `placeholder`.","body":"Thanks @spencergibb for the help! Bootstrap context is indeed deprecated. Here is a quote from the documentation: &quot;bootstrap context initialization of property sources was deprecated&quot; (<a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:~:text=with%20spring%20cloud%20vault%203.0%20and%20spring%20boot%202.4%2C%20the%20bootstrap%20context%20initialization\" rel=\"nofollow noreferrer\">source</a>).  When I use <code>optional:configserver:</code>, the discovery still fails, followed by a failure to find a config server at <code>http:&#47;&#47;localhost:8888</code> (the default config server address) instead of at <code>placeholder</code>."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1666897862,"post_id":74216311,"comment_id":131050090,"body_markdown":"I&#39;m the lead of the spring cloud core team. That documentation is wrong and needs to be fixed. Thanks for pointing it out","body":"I&#39;m the lead of the spring cloud core team. That documentation is wrong and needs to be fixed. Thanks for pointing it out"},{"owner":{"account_id":7864671,"reputation":452,"user_id":5943840,"display_name":"Raphael"},"score":0,"creation_date":1666900856,"post_id":74216311,"comment_id":131050934,"body_markdown":"Oh!! Wow. Well! Thank you! The whole reason I wanted to move away from the bootstrap context was because I didn&#39;t want to use deprecated behavior. Is there any reason at this point not to just add the bootstrap dependency since I&#39;m having so much trouble?","body":"Oh!! Wow. Well! Thank you! The whole reason I wanted to move away from the bootstrap context was because I didn&#39;t want to use deprecated behavior. Is there any reason at this point not to just add the bootstrap dependency since I&#39;m having so much trouble?"}],"owner":{"account_id":7864671,"reputation":452,"user_id":5943840,"display_name":"Raphael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666839762,"creation_date":1666839762,"question_id":74216311,"body_markdown":"## Versions\r\n\r\nSpring Parent: 2.7.4, Spring Cloud Version: 2021.0.4, Java Version: 11\r\n\r\n\r\n## Issue\r\nMy Spring service has been using Eureka to connect to the config server for a long time, but I want to upgrade to Spring 2.7.4. I understand that as of Spring 2.4, the bootstrap context has been deprecated ([source](https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:~:text=with%20spring%20cloud%20vault%203.0%20and%20spring%20boot%202.4%2C%20the%20bootstrap%20context%20initialization%20(bootstrap.yml%2C%20bootstrap.properties)%20of%20property%20sources%20was%20deprecated)) and I need to make some adjustments to the old bootstrap properties and move them over to `application.properties`.\r\n\r\nThe documentation for Spring Cloud specifies that in order for me to continue to use discovery-first config lookup, I need to define a `spring.config.import` property with an optional configserver entry ([source](https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#:~:text=you%20will%20need%20to%20have%20a%20spring.config.import%20property%20in%20your%20configuration%20properties%20with%20an%20optional%3A%20prefix.%20for%20example%2C%20spring.config.import%3Doptional%3Aconfigserver%3A.)). Since I&#39;m also using Vault, I define the property as follows:\r\n```lang-none\r\nspring.config.import = optional:configserver:placeholder,vault://&lt;my-generic-backend&gt;/dev\r\n``` \r\n\r\nNext, I need to define the following properties ([source](https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#:~:text=If-,you%20prefer%20to%20use,setting%20spring.application.name)). These properties were already defined in my old `bootstrap.properties`, so all I need to do is copy and paste.\r\n```lang-none\r\nspring.cloud.config.discovery.enabled = true\r\nspring.cloud.config.discovery.serviceId = config-server\r\neureka.client.serviceUrl.defaultZone = &lt;my-eureka-url&gt;\r\n```\r\n\r\nUnless I&#39;m missing something, these are all the steps I need to take in order to upgrade to 2.7.4. However, when I run the Spring service, it complains that it can&#39;t find the config server (via Eureka, or via URL), then it registers successfully with Eureka, and then continues trying and failing to find the config server.\r\n\r\nHere is some of the output of the program:\r\n```lang-none\r\n&gt; Running with Spring Boot v2.7.4, Spring v5.3.23\r\n&gt; Could not locate configserver via discovery: No instances found of configserver (config-server)\r\n&gt; Could not locate PropertySource ([ConfigServerConfigDataResource@2aa6311a uris = array&lt;String&gt;[&#39;placeholder&#39;], optional = true, profiles = list[&#39;local&#39;]]): Invalid URL: placeholder\r\n...\r\n&gt; DiscoveryClient_&lt;my-project-name&gt;/local - registration status: 204\r\n```\r\n\r\nI understand why it&#39;s failing to find a config server at URL: `placeholder` since that&#39;s not a valid URL, but I don&#39;t understand how the service can successfully register with Eureka yet not be able to find the config server. I know the service is registered because the output of the program says it registered correctly (and I can see it in the registry), and I know that the config server has the correct entity ID (config-server) because it was copied and pasted from the old bootstrap (and I can see config-server in the registry).\r\n\r\n## Workaround with Hardcoded URL\r\n\r\nWhen I hardcode the config server URL like this (and set `spring.cloud.config.discovery.enabled` to false), the config is loaded properly from the server:\r\n```lang-none\r\nspring.config.import=configserver:https://&lt;my-hardcoded-config-url&gt;.com,vault://&lt;my-generic-backend&gt;/dev\r\n```\r\n\r\n\r\n## Workaround with Bootstrap\r\n\r\nIt&#39;s possible to return to using the bootstrap context and still use Spring 2.7.4 with discovery-first config lookup by adding the &quot;spring-cloud-starter-bootstrap&quot; dependency. So I added the dependency to my POM and moved these properties back to `bootstrap.properties` from `application.properties`.\r\n```lang-none\r\nspring.cloud.config.discovery.enabled=true\r\nspring.cloud.config.discovery.service-id=config-server\r\n```\r\nI moved the Vault and Eureka properties back into `bootstrap.properties` as well. The new `application.properties` now contains no values relating to Eureka, Vault, and Cloud Config.\r\n\r\nWhen I run the service, it does indeed find the address for the config server through Eureka, as expected (although it fails to connect because it&#39;s the internal address and I&#39;m running locally).\r\n\r\n\r\n## Conclusion\r\n\r\nWhile these are valid workarounds, it&#39;s frustrating to not be able to have a dynamic URL for the config server (as is the entire point of using Eureka). Right now, it looks like my choices are either to use a hard-coded URL and risk having to change every property file, or use a deprecated behavior that Spring documentation specifically disfavors ([source](https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:~:text=spring%20cloud%20vault%20favors%20spring%20boot%E2%80%99s%20config%20data%20api)).\r\n\r\nI would appreciate any guidance you have on the issue, and I thank you in advance.\r\n\r\n","title":"Can&#39;t Discovery-Locate Config Upon Transition to Spring 2.4","body":"<h2>Versions</h2>\n<p>Spring Parent: 2.7.4, Spring Cloud Version: 2021.0.4, Java Version: 11</p>\n<h2>Issue</h2>\n<p>My Spring service has been using Eureka to connect to the config server for a long time, but I want to upgrade to Spring 2.7.4. I understand that as of Spring 2.4, the bootstrap context has been deprecated (<a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:%7E:text=with%20spring%20cloud%20vault%203.0%20and%20spring%20boot%202.4%2C%20the%20bootstrap%20context%20initialization%20(bootstrap.yml%2C%20bootstrap.properties)%20of%20property%20sources%20was%20deprecated\" rel=\"nofollow noreferrer\">source</a>) and I need to make some adjustments to the old bootstrap properties and move them over to <code>application.properties</code>.</p>\n<p>The documentation for Spring Cloud specifies that in order for me to continue to use discovery-first config lookup, I need to define a <code>spring.config.import</code> property with an optional configserver entry (<a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#:%7E:text=you%20will%20need%20to%20have%20a%20spring.config.import%20property%20in%20your%20configuration%20properties%20with%20an%20optional%3A%20prefix.%20for%20example%2C%20spring.config.import%3Doptional%3Aconfigserver%3A.\" rel=\"nofollow noreferrer\">source</a>). Since I'm also using Vault, I define the property as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.config.import = optional:configserver:placeholder,vault://&lt;my-generic-backend&gt;/dev\n</code></pre>\n<p>Next, I need to define the following properties (<a href=\"https://docs.spring.io/spring-cloud-config/docs/current/reference/html/#:%7E:text=If-,you%20prefer%20to%20use,setting%20spring.application.name\" rel=\"nofollow noreferrer\">source</a>). These properties were already defined in my old <code>bootstrap.properties</code>, so all I need to do is copy and paste.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.cloud.config.discovery.enabled = true\nspring.cloud.config.discovery.serviceId = config-server\neureka.client.serviceUrl.defaultZone = &lt;my-eureka-url&gt;\n</code></pre>\n<p>Unless I'm missing something, these are all the steps I need to take in order to upgrade to 2.7.4. However, when I run the Spring service, it complains that it can't find the config server (via Eureka, or via URL), then it registers successfully with Eureka, and then continues trying and failing to find the config server.</p>\n<p>Here is some of the output of the program:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Running with Spring Boot v2.7.4, Spring v5.3.23\n&gt; Could not locate configserver via discovery: No instances found of configserver (config-server)\n&gt; Could not locate PropertySource ([ConfigServerConfigDataResource@2aa6311a uris = array&lt;String&gt;['placeholder'], optional = true, profiles = list['local']]): Invalid URL: placeholder\n...\n&gt; DiscoveryClient_&lt;my-project-name&gt;/local - registration status: 204\n</code></pre>\n<p>I understand why it's failing to find a config server at URL: <code>placeholder</code> since that's not a valid URL, but I don't understand how the service can successfully register with Eureka yet not be able to find the config server. I know the service is registered because the output of the program says it registered correctly (and I can see it in the registry), and I know that the config server has the correct entity ID (config-server) because it was copied and pasted from the old bootstrap (and I can see config-server in the registry).</p>\n<h2>Workaround with Hardcoded URL</h2>\n<p>When I hardcode the config server URL like this (and set <code>spring.cloud.config.discovery.enabled</code> to false), the config is loaded properly from the server:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.config.import=configserver:https://&lt;my-hardcoded-config-url&gt;.com,vault://&lt;my-generic-backend&gt;/dev\n</code></pre>\n<h2>Workaround with Bootstrap</h2>\n<p>It's possible to return to using the bootstrap context and still use Spring 2.7.4 with discovery-first config lookup by adding the &quot;spring-cloud-starter-bootstrap&quot; dependency. So I added the dependency to my POM and moved these properties back to <code>bootstrap.properties</code> from <code>application.properties</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.cloud.config.discovery.enabled=true\nspring.cloud.config.discovery.service-id=config-server\n</code></pre>\n<p>I moved the Vault and Eureka properties back into <code>bootstrap.properties</code> as well. The new <code>application.properties</code> now contains no values relating to Eureka, Vault, and Cloud Config.</p>\n<p>When I run the service, it does indeed find the address for the config server through Eureka, as expected (although it fails to connect because it's the internal address and I'm running locally).</p>\n<h2>Conclusion</h2>\n<p>While these are valid workarounds, it's frustrating to not be able to have a dynamic URL for the config server (as is the entire point of using Eureka). Right now, it looks like my choices are either to use a hard-coded URL and risk having to change every property file, or use a deprecated behavior that Spring documentation specifically disfavors (<a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#:%7E:text=spring%20cloud%20vault%20favors%20spring%20boot%E2%80%99s%20config%20data%20api\" rel=\"nofollow noreferrer\">source</a>).</p>\n<p>I would appreciate any guidance you have on the issue, and I thank you in advance.</p>\n"},{"tags":["java","android","android-studio","maven","appium"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1664971514,"post_id":73959650,"comment_id":130589435,"body_markdown":"The stacktrace shows the error, NPE, take a look where it&#39;s happening","body":"The stacktrace shows the error, NPE, take a look where it&#39;s happening"}],"answers":[{"tags":[],"owner":{"account_id":9894542,"reputation":26,"user_id":7326511,"display_name":"Rakesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666837731,"creation_date":1666837731,"answer_id":74216125,"question_id":73959650,"body_markdown":"Problem could be with emulators itself. Try changing OS or Emulator Device Model.","title":"Appium opens app but crashes when executing test","body":"<p>Problem could be with emulators itself. Try changing OS or Emulator Device Model.</p>\n"}],"owner":{"account_id":25241659,"reputation":55,"user_id":19075454,"display_name":"Roberto Teresa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74216125,"answer_count":1,"score":0,"last_activity_date":1666837731,"creation_date":1664969000,"question_id":73959650,"body_markdown":"Im using the next project to create a demo of appium using Windows Appium GUI and Android Studio:\r\n\r\nhttps://github.com/RobertoTeresa/POCAppium\r\n\r\nBut when I try to execute the test with appium the app opens in the emulator but it doesn&#39;t continue with the tests and exits with an error but sometimes it works fine when I restart Appium and the emulator\r\n\r\nError log\r\n\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running TestSuite\r\n    [INFO ] 2022-10-05 13:18:44.243 ServerManager:46 - starting appium server\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    [Appium] Welcome to Appium v1.22.3\r\n    [Appium] Non-default server args:\r\n    [Appium]   port: 47492\r\n    [Appium]   sessionOverride: true\r\n    [Appium]   logFile: C:\\AppiumPOC\\Android_Pixel 4 API 3O\\Server.log\r\n    [Appium] Appium REST http interface listener started on 0.0.0.0:47492\r\n    [HTTP] --&gt; GET /wd/hub/status\r\n    [HTTP] {}\r\n    [debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\r\n    [debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\r\n    [HTTP] &lt;-- GET /wd/hub/status 200 10 ms - 68\r\n    [HTTP]\r\n    [HTTP] --&gt; GET /wd/hub/status\r\n    [HTTP] {}\r\n    [debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\r\n    [debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\r\n    [INFO ] 2022-10-05 13:18:51.233 ServerManager:62 - Appium server started\r\n    [INFO ] 2022-10-05 13:18:51.290 DriverManager:42 - initializing Appium driver\r\n    [INFO ] 2022-10-05 13:18:51.323 PropertyManager:31 - loading config properties\r\n    [INFO ] 2022-10-05 13:18:51.325 CapabilitiesManager:33 - getting capabilities\r\n    [INFO ] 2022-10-05 13:18:51.330 CapabilitiesManager:58 - appUrl is C:\\AppiumPOC\\src\\test\\resources\\app\\AS.apk\r\n    [Utils] [ERROR] [Error] java.lang.NullPointerException\r\n            at com.appium.runners.RunnerBase.scenarios(RunnerBase.java:87)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n            at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:77)\r\n            at org.testng.internal.MethodInvocationHelper.invokeMethodNoCheckedException(MethodInvocationHelper.java:46)\r\n            at org.testng.internal.MethodInvocationHelper.invokeDataProvider(MethodInvocationHelper.java:146)\r\n            at org.testng.internal.Parameters.handleParameters(Parameters.java:798)\r\n            at org.testng.internal.Parameters.handleParameters(Parameters.java:740)\r\n            at org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:59)\r\n            at org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:38)\r\n            at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:791)\r\n            at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n            at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n            at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n            at java.util.ArrayList.forEach(ArrayList.java:1259)\r\n            at org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n            at org.testng.TestRunner.run(TestRunner.java:596)\r\n            at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n            at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n            at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n            at org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n            at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n            at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n            at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n            at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n            at org.testng.TestNG.runSuites(TestNG.java:1063)\r\n            at org.testng.TestNG.run(TestNG.java:1031)\r\n            at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\r\n            at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\r\n            at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n            at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n    \r\n    [ERROR] Tests run: 3, Failures: 2, Errors: 0, Skipped: 1, Time elapsed: 45.537 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n    [ERROR] com.appium.runners.TestNGRunner_Pixel3.setUpClass[Android, emulator-5554, Pixel 4 API 3O, 10000, 11000, iOS, iOS](0)  Time elapsed: 45.308 s  &lt;&lt;\r\n    &lt; FAILURE!\r\n    org.openqa.selenium.SessionNotCreatedException:\r\n    Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while process\r\n    ing the command. Original error: Cannot start the &#39;es.mmip.prisacom.as&#39; application. Visit https://github.com/appium/appium/blob/master/docs/en/writing-\r\n    running-appium/android/activity-startup.md for troubleshooting. Original error: &#39;es.sdos.splash.ui.SplashActivity&#39; or &#39;es.mmip.prisacom.as.es.sdos.splas\r\n    h.ui.SplashActivity&#39; never started. Visit https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for tr\r\n    oubleshooting\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;HL-013080&#39;, ip: &#39;192.168.2.64&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_301&#39;\r\n    Driver info: driver.version: AndroidDriver\r\n    remote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Cannot start the &#39;es.mmip.prisacom.\r\n    as&#39; application. Visit https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for troubleshooting. Orig\r\n    inal error: &#39;es.sdos.splash.ui.SplashActivity&#39; or &#39;es.mmip.prisacom.as.es.sdos.splash.ui.SplashActivity&#39; never started. Visit https://github.com/appium/\r\n    appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for troubleshooting\r\n        at getResponseForW3CError (C:\\Users\\rteresa\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\r\n        at asyncHandler (C:\\Users\\rteresa\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\r\n\r\n","title":"Appium opens app but crashes when executing test","body":"<p>Im using the next project to create a demo of appium using Windows Appium GUI and Android Studio:</p>\n<p><a href=\"https://github.com/RobertoTeresa/POCAppium\" rel=\"nofollow noreferrer\">https://github.com/RobertoTeresa/POCAppium</a></p>\n<p>But when I try to execute the test with appium the app opens in the emulator but it doesn't continue with the tests and exits with an error but sometimes it works fine when I restart Appium and the emulator</p>\n<p>Error log</p>\n<pre><code>[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running TestSuite\n[INFO ] 2022-10-05 13:18:44.243 ServerManager:46 - starting appium server\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[Appium] Welcome to Appium v1.22.3\n[Appium] Non-default server args:\n[Appium]   port: 47492\n[Appium]   sessionOverride: true\n[Appium]   logFile: C:\\AppiumPOC\\Android_Pixel 4 API 3O\\Server.log\n[Appium] Appium REST http interface listener started on 0.0.0.0:47492\n[HTTP] --&gt; GET /wd/hub/status\n[HTTP] {}\n[debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\n[debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\n[HTTP] &lt;-- GET /wd/hub/status 200 10 ms - 68\n[HTTP]\n[HTTP] --&gt; GET /wd/hub/status\n[HTTP] {}\n[debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\n[debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\n[INFO ] 2022-10-05 13:18:51.233 ServerManager:62 - Appium server started\n[INFO ] 2022-10-05 13:18:51.290 DriverManager:42 - initializing Appium driver\n[INFO ] 2022-10-05 13:18:51.323 PropertyManager:31 - loading config properties\n[INFO ] 2022-10-05 13:18:51.325 CapabilitiesManager:33 - getting capabilities\n[INFO ] 2022-10-05 13:18:51.330 CapabilitiesManager:58 - appUrl is C:\\AppiumPOC\\src\\test\\resources\\app\\AS.apk\n[Utils] [ERROR] [Error] java.lang.NullPointerException\n        at com.appium.runners.RunnerBase.scenarios(RunnerBase.java:87)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:77)\n        at org.testng.internal.MethodInvocationHelper.invokeMethodNoCheckedException(MethodInvocationHelper.java:46)\n        at org.testng.internal.MethodInvocationHelper.invokeDataProvider(MethodInvocationHelper.java:146)\n        at org.testng.internal.Parameters.handleParameters(Parameters.java:798)\n        at org.testng.internal.Parameters.handleParameters(Parameters.java:740)\n        at org.testng.internal.ParameterHandler.handleParameters(ParameterHandler.java:59)\n        at org.testng.internal.ParameterHandler.createParameters(ParameterHandler.java:38)\n        at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:791)\n        at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\n        at org.testng.TestRunner.privateRun(TestRunner.java:794)\n        at org.testng.TestRunner.run(TestRunner.java:596)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n        at org.testng.TestNG.runSuites(TestNG.java:1063)\n        at org.testng.TestNG.run(TestNG.java:1031)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\n\n[ERROR] Tests run: 3, Failures: 2, Errors: 0, Skipped: 1, Time elapsed: 45.537 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] com.appium.runners.TestNGRunner_Pixel3.setUpClass[Android, emulator-5554, Pixel 4 API 3O, 10000, 11000, iOS, iOS](0)  Time elapsed: 45.308 s  &lt;&lt;\n&lt; FAILURE!\norg.openqa.selenium.SessionNotCreatedException:\nUnable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while process\ning the command. Original error: Cannot start the 'es.mmip.prisacom.as' application. Visit https://github.com/appium/appium/blob/master/docs/en/writing-\nrunning-appium/android/activity-startup.md for troubleshooting. Original error: 'es.sdos.splash.ui.SplashActivity' or 'es.mmip.prisacom.as.es.sdos.splas\nh.ui.SplashActivity' never started. Visit https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for tr\noubleshooting\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'HL-013080', ip: '192.168.2.64', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_301'\nDriver info: driver.version: AndroidDriver\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Cannot start the 'es.mmip.prisacom.\nas' application. Visit https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for troubleshooting. Orig\ninal error: 'es.sdos.splash.ui.SplashActivity' or 'es.mmip.prisacom.as.es.sdos.splash.ui.SplashActivity' never started. Visit https://github.com/appium/\nappium/blob/master/docs/en/writing-running-appium/android/activity-startup.md for troubleshooting\n    at getResponseForW3CError (C:\\Users\\rteresa\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\n    at asyncHandler (C:\\Users\\rteresa\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\n</code></pre>\n"},{"tags":["java","tomcat","thread-local"],"answers":[{"comments":[{"owner":{"account_id":108533,"reputation":1391,"user_id":288019,"accept_rate":59,"display_name":"Ricardo"},"score":1,"creation_date":1286338627,"post_id":3869236,"comment_id":4116170,"body_markdown":"thanks for the reply. The problem is that i can only remove the threadlocal once im done with the request. and i have no easy way to know when im done with the request. the way im doing is i have an interceptor at the start of the request that sets the threadlocal (its a static). so i reset it at the start of each request...","body":"thanks for the reply. The problem is that i can only remove the threadlocal once im done with the request. and i have no easy way to know when im done with the request. the way im doing is i have an interceptor at the start of the request that sets the threadlocal (its a static). so i reset it at the start of each request..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1309922153,"post_id":3869236,"comment_id":7775444,"body_markdown":"If the threadlocal object is a static, leak is more manageable issue; i.e. you only leak (up to) one instance (one thread local value) per thread in the thread pool.  Depending on what the thread local values are, this leak could be not worth bothering about.","body":"If the threadlocal object is a static, leak is more manageable issue; i.e. you only leak (up to) one instance (one thread local value) per thread in the thread pool.  Depending on what the thread local values are, this leak could be not worth bothering about."},{"owner":{"account_id":2199682,"reputation":569,"user_id":1944408,"accept_rate":67,"display_name":"user1944408"},"score":1,"creation_date":1469462262,"post_id":3869236,"comment_id":64533944,"body_markdown":"Even if you use static ThreadLocal you can have a class loader leak when you redeploy your webapp if your value refer to some class loaded by the same class loader. It can happen if you use double brace initialization because that would create an anonymous class. I created a fix for that: https://github.com/codesinthedark/ImprovedThreadLocal","body":"Even if you use static ThreadLocal you can have a class loader leak when you redeploy your webapp if your value refer to some class loaded by the same class loader. It can happen if you use double brace initialization because that would create an anonymous class. I created a fix for that: <a href=\"https://github.com/codesinthedark/ImprovedThreadLocal\" rel=\"nofollow noreferrer\">github.com/codesinthedark/ImprovedThreadLocal</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1407321540,"creation_date":1286334135,"answer_id":3869236,"question_id":3869026,"body_markdown":"The javadoc says this:\r\n\r\n&gt; &quot;Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).\r\n\r\nIf your application or (if you are talking about request threads) container uses a thread pool that means that threads don&#39;t die.  If necessary, you would need to deal with the thread locals yourself.  The only clean way to do this is to call the `ThreadLocal.remove()` method.\r\n\r\nThere are two reasons you might want to clean up thread locals for threads in a thread pool:\r\n\r\n  - to prevent memory (or hypothetically resource) leaks, or \r\n  - to prevent accidental leakage of information from one request to another via thread locals.\r\n\r\nThread local memory leaks should not normally be a major issue with bounded thread pools since any thread locals are likely to get overwritten eventually; i.e. when the thread is reused.  However, if you make the mistake of creating a new `ThreadLocal` instances over and over again (instead of using a `static` variable to hold a singleton instance), the thread local values won&#39;t get overwritten, and will accumulate in each thread&#39;s `threadlocals` map.  This could result in a serious leak.\r\n\r\n-------------\r\n\r\nAssuming that you are talking about thread locals that are created / used during a webapp&#39;s processing of an HTTP request, then one way to avoid the thread local leaks  is to register a `ServletRequestListener` with your webapp&#39;s `ServletContext` and implement the listener&#39;s `requestDestroyed` method to cleanup the thread locals for the current thread.\r\n\r\nNote that in this context you also need to consider the possibility of *information* leaking from one request to another.","title":"How to clean up ThreadLocals","body":"<p>The javadoc says this:</p>\n\n<blockquote>\n  <p>\"Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).</p>\n</blockquote>\n\n<p>If your application or (if you are talking about request threads) container uses a thread pool that means that threads don't die.  If necessary, you would need to deal with the thread locals yourself.  The only clean way to do this is to call the <code>ThreadLocal.remove()</code> method.</p>\n\n<p>There are two reasons you might want to clean up thread locals for threads in a thread pool:</p>\n\n<ul>\n<li>to prevent memory (or hypothetically resource) leaks, or </li>\n<li>to prevent accidental leakage of information from one request to another via thread locals.</li>\n</ul>\n\n<p>Thread local memory leaks should not normally be a major issue with bounded thread pools since any thread locals are likely to get overwritten eventually; i.e. when the thread is reused.  However, if you make the mistake of creating a new <code>ThreadLocal</code> instances over and over again (instead of using a <code>static</code> variable to hold a singleton instance), the thread local values won't get overwritten, and will accumulate in each thread's <code>threadlocals</code> map.  This could result in a serious leak.</p>\n\n<hr>\n\n<p>Assuming that you are talking about thread locals that are created / used during a webapp's processing of an HTTP request, then one way to avoid the thread local leaks  is to register a <code>ServletRequestListener</code> with your webapp's <code>ServletContext</code> and implement the listener's <code>requestDestroyed</code> method to cleanup the thread locals for the current thread.</p>\n\n<p>Note that in this context you also need to consider the possibility of <em>information</em> leaking from one request to another.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1441965054,"creation_date":1327504050,"answer_id":9004927,"question_id":3869026,"body_markdown":"There is no way to cleanup `ThreadLocal` values except from within *the thread that put them in there in the first place* (or when the thread is garbage collected - not the case with worker threads). This means you should take care to clean up your ThreadLocal&#39;s when a servlet request is finished (or before transferring AsyncContext to another thread in Servlet 3), because after that point you may never get a chance to enter that specific worker thread, and hence, will leak memory in situations when your web app is undeployed while the server is not restarted.\r\n\r\nA good place to do such cleanup is [ServletRequestListener.requestDestroyed()][1].\r\n\r\nIf you use Spring, all the necessary wiring is already in place, you can simply put stuff in your request scope without worrying about cleaning them up (that happens automatically):\r\n\r\n    RequestContextHolder.getRequestAttributes().setAttribute(&quot;myAttr&quot;, myAttr, RequestAttributes.SCOPE_REQUEST);\r\n    . . .\r\n    RequestContextHolder.getRequestAttributes().getAttribute(&quot;myAttr&quot;, RequestAttributes.SCOPE_REQUEST);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html","title":"How to clean up ThreadLocals","body":"<p>There is no way to cleanup <code>ThreadLocal</code> values except from within <em>the thread that put them in there in the first place</em> (or when the thread is garbage collected - not the case with worker threads). This means you should take care to clean up your ThreadLocal's when a servlet request is finished (or before transferring AsyncContext to another thread in Servlet 3), because after that point you may never get a chance to enter that specific worker thread, and hence, will leak memory in situations when your web app is undeployed while the server is not restarted.</p>\n\n<p>A good place to do such cleanup is <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html\" rel=\"noreferrer\">ServletRequestListener.requestDestroyed()</a>.</p>\n\n<p>If you use Spring, all the necessary wiring is already in place, you can simply put stuff in your request scope without worrying about cleaning them up (that happens automatically):</p>\n\n<pre><code>RequestContextHolder.getRequestAttributes().setAttribute(\"myAttr\", myAttr, RequestAttributes.SCOPE_REQUEST);\n. . .\nRequestContextHolder.getRequestAttributes().getAttribute(\"myAttr\", RequestAttributes.SCOPE_REQUEST);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":5,"creation_date":1508945875,"post_id":16644476,"comment_id":80820356,"body_markdown":"This deletes everyone&#39;s global variables for the thread, which bit me in Java 6. `java.util.concurrent.locks.ReentrantReadWriteLock` would occasionally throw an `IllegalMonitorStateException` because we had deleted its cachedHoldCounter, so it tried to decrement it below 0. This particular issue doesn&#39;t happen in Java 8, but who knows how other ThreadLocals react to this, like Spring connections or log4j MDC.","body":"This deletes everyone&#39;s global variables for the thread, which bit me in Java 6. <code>java.util.concurrent.locks.ReentrantReadWriteLock</code> would occasionally throw an <code>IllegalMonitorStateException</code> because we had deleted its cachedHoldCounter, so it tried to decrement it below 0. This particular issue doesn&#39;t happen in Java 8, but who knows how other ThreadLocals react to this, like Spring connections or log4j MDC."},{"owner":{"account_id":949732,"reputation":1711,"user_id":976115,"accept_rate":43,"display_name":"hurelhuyag"},"score":0,"creation_date":1519094454,"post_id":16644476,"comment_id":84758188,"body_markdown":"Do we need to check threadLocal value is loaded by this webapp&#39;s classloader?\n\nthreadLocal.get().getClass().getClassLoader() == Thread.currentThread().getContextClassLoader()","body":"Do we need to check threadLocal value is loaded by this webapp&#39;s classloader?  threadLocal.get().getClass().getClassLoader() == Thread.currentThread().getContextClassLoader()"}],"tags":[],"owner":{"account_id":239747,"reputation":1427,"user_id":509566,"accept_rate":18,"display_name":"lyaffe"},"comment_count":2,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1369034268,"creation_date":1369034268,"answer_id":16644476,"question_id":3869026,"body_markdown":"Here is some code to clean all thread local variables from the current thread when you do not have a reference to the actual thread local variable. You can also generalize it to cleanup thread local variables for other threads:\r\n    \r\n\r\n        private void cleanThreadLocals() {\r\n            try {\r\n                // Get a reference to the thread locals table of the current thread\r\n                Thread thread = Thread.currentThread();\r\n                Field threadLocalsField = Thread.class.getDeclaredField(&quot;threadLocals&quot;);\r\n                threadLocalsField.setAccessible(true);\r\n                Object threadLocalTable = threadLocalsField.get(thread);\r\n    \r\n                // Get a reference to the array holding the thread local variables inside the\r\n                // ThreadLocalMap of the current thread\r\n                Class threadLocalMapClass = Class.forName(&quot;java.lang.ThreadLocal$ThreadLocalMap&quot;);\r\n                Field tableField = threadLocalMapClass.getDeclaredField(&quot;table&quot;);\r\n                tableField.setAccessible(true);\r\n                Object table = tableField.get(threadLocalTable);\r\n    \r\n                // The key to the ThreadLocalMap is a WeakReference object. The referent field of this object\r\n                // is a reference to the actual ThreadLocal variable\r\n                Field referentField = Reference.class.getDeclaredField(&quot;referent&quot;);\r\n                referentField.setAccessible(true);\r\n    \r\n                for (int i=0; i &lt; Array.getLength(table); i++) {\r\n                    // Each entry in the table array of ThreadLocalMap is an Entry object\r\n                    // representing the thread local reference and its value\r\n                    Object entry = Array.get(table, i);\r\n                    if (entry != null) {\r\n                        // Get a reference to the thread local object and remove it from the table\r\n                        ThreadLocal threadLocal = (ThreadLocal)referentField.get(entry);\r\n                        threadLocal.remove();\r\n                    }\r\n                }\r\n            } catch(Exception e) {\r\n                // We will tolerate an exception here and just log it\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n\r\n","title":"How to clean up ThreadLocals","body":"<p>Here is some code to clean all thread local variables from the current thread when you do not have a reference to the actual thread local variable. You can also generalize it to cleanup thread local variables for other threads:</p>\n\n<pre><code>    private void cleanThreadLocals() {\n        try {\n            // Get a reference to the thread locals table of the current thread\n            Thread thread = Thread.currentThread();\n            Field threadLocalsField = Thread.class.getDeclaredField(\"threadLocals\");\n            threadLocalsField.setAccessible(true);\n            Object threadLocalTable = threadLocalsField.get(thread);\n\n            // Get a reference to the array holding the thread local variables inside the\n            // ThreadLocalMap of the current thread\n            Class threadLocalMapClass = Class.forName(\"java.lang.ThreadLocal$ThreadLocalMap\");\n            Field tableField = threadLocalMapClass.getDeclaredField(\"table\");\n            tableField.setAccessible(true);\n            Object table = tableField.get(threadLocalTable);\n\n            // The key to the ThreadLocalMap is a WeakReference object. The referent field of this object\n            // is a reference to the actual ThreadLocal variable\n            Field referentField = Reference.class.getDeclaredField(\"referent\");\n            referentField.setAccessible(true);\n\n            for (int i=0; i &lt; Array.getLength(table); i++) {\n                // Each entry in the table array of ThreadLocalMap is an Entry object\n                // representing the thread local reference and its value\n                Object entry = Array.get(table, i);\n                if (entry != null) {\n                    // Get a reference to the thread local object and remove it from the table\n                    ThreadLocal threadLocal = (ThreadLocal)referentField.get(entry);\n                    threadLocal.remove();\n                }\n            }\n        } catch(Exception e) {\n            // We will tolerate an exception here and just log it\n            throw new IllegalStateException(e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1788122,"reputation":754,"user_id":1629104,"accept_rate":0,"display_name":"mainas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370414716,"creation_date":1370414716,"answer_id":16933253,"question_id":3869026,"body_markdown":"I would like to contribute my answer to this question even though it&#39;s old. I had been plagued by the same problem (gson threadlocal not getting removed from the request thread), and had even gotten comfortable restarting the server anytime it ran out of memory (which sucks big time!!). \r\n\r\nIn the context of a java web app that is set to dev mode (in that the server is set to bounce every time it senses a change in the code, and possibly also running in debug mode), I quickly learned that threadlocals can be awesome and sometime be a pain. I was using a threadlocal Invocation for every request. Inside the Invocation. I&#39;d sometimes also use gson to generate my response. I would wrap the Invocation inside a &#39;try&#39; block in the filter, and destroy it inside a &#39;finally&#39; block.\r\n\r\nWhat I observed (I have not metrics to back this up for now) is that if I made changes to several files and the server was constantly bouncing in between my changes, I&#39;d get impatient and restart the server (tomcat to be precise) from the IDE. Most likely than not, I&#39;d end up with an &#39;Out of memory&#39; exception.\r\n\r\nHow I got around this was to include a ServletRequestListener implementation in my app, and my problem vanished. I think what was happening is that in the middle of a request, if the server would bounce several times, my threadlocals were not getting cleared up (gson included) so I&#39;d get this warning about the threadlocals and two or three warning later, the server would crash. With the ServletResponseListener explicitly closing my threadlocals, the gson problem vanished.\r\n\r\nI hope this makes sense and gives you an idea of how to overcome threadlocal issues. Always close them around their point of usage. In the ServletRequestListener, test each threadlocal wrapper, and if it still has a valid reference to some object, destroy it at that point.\r\n\r\nI should also point out that make it a habit to wrap a threadlocal as a static variable inside a class. That way you can be guaranteed that by destroying it in the ServeltRequestListener, you won&#39;t have to worry about other instances of the same class hanging around.","title":"How to clean up ThreadLocals","body":"<p>I would like to contribute my answer to this question even though it's old. I had been plagued by the same problem (gson threadlocal not getting removed from the request thread), and had even gotten comfortable restarting the server anytime it ran out of memory (which sucks big time!!). </p>\n\n<p>In the context of a java web app that is set to dev mode (in that the server is set to bounce every time it senses a change in the code, and possibly also running in debug mode), I quickly learned that threadlocals can be awesome and sometime be a pain. I was using a threadlocal Invocation for every request. Inside the Invocation. I'd sometimes also use gson to generate my response. I would wrap the Invocation inside a 'try' block in the filter, and destroy it inside a 'finally' block.</p>\n\n<p>What I observed (I have not metrics to back this up for now) is that if I made changes to several files and the server was constantly bouncing in between my changes, I'd get impatient and restart the server (tomcat to be precise) from the IDE. Most likely than not, I'd end up with an 'Out of memory' exception.</p>\n\n<p>How I got around this was to include a ServletRequestListener implementation in my app, and my problem vanished. I think what was happening is that in the middle of a request, if the server would bounce several times, my threadlocals were not getting cleared up (gson included) so I'd get this warning about the threadlocals and two or three warning later, the server would crash. With the ServletResponseListener explicitly closing my threadlocals, the gson problem vanished.</p>\n\n<p>I hope this makes sense and gives you an idea of how to overcome threadlocal issues. Always close them around their point of usage. In the ServletRequestListener, test each threadlocal wrapper, and if it still has a valid reference to some object, destroy it at that point.</p>\n\n<p>I should also point out that make it a habit to wrap a threadlocal as a static variable inside a class. That way you can be guaranteed that by destroying it in the ServeltRequestListener, you won't have to worry about other instances of the same class hanging around.</p>\n"},{"tags":[],"owner":{"account_id":1557703,"reputation":192,"user_id":1448296,"accept_rate":80,"display_name":"Parasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461249541,"creation_date":1397101882,"answer_id":22978321,"question_id":3869026,"body_markdown":"The JVM would automatically clean-up all the reference-less objects that are within the ThreadLocal object.\r\n\r\nAnother way to clean up those objects (say for example, these objects could be all the thread unsafe objects that exist around) is to put them inside some Object Holder class, which basically holds it and you can override the finalize method to clean the object that reside within it. Again it depends on the Garbage Collector and its policies, when it would invoke the &lt;code&gt;finalize&lt;/code&gt; method.\r\n\r\nHere is a code sample:\r\n\r\n    public class MyObjectHolder {\r\n    \r\n        private MyObject myObject;\r\n        \r\n        public MyObjectHolder(MyObject myObj) {\r\n            myObject = myObj;\r\n        }\r\n    \r\n        public MyObject getMyObject() {\r\n            return myObject;\r\n        }\r\n    \r\n        protected void finalize() throws Throwable {\r\n            myObject.cleanItUp();\r\n        }\r\n    }\r\n    \r\n    public class SomeOtherClass {\r\n        static ThreadLocal&lt;MyObjectHolder&gt; threadLocal = new ThreadLocal&lt;MyObjectHolder&gt;();\r\n        .\r\n        .\r\n        .\r\n    }","title":"How to clean up ThreadLocals","body":"<p>The JVM would automatically clean-up all the reference-less objects that are within the ThreadLocal object.</p>\n\n<p>Another way to clean up those objects (say for example, these objects could be all the thread unsafe objects that exist around) is to put them inside some Object Holder class, which basically holds it and you can override the finalize method to clean the object that reside within it. Again it depends on the Garbage Collector and its policies, when it would invoke the <code>finalize</code> method.</p>\n\n<p>Here is a code sample:</p>\n\n<pre><code>public class MyObjectHolder {\n\n    private MyObject myObject;\n\n    public MyObjectHolder(MyObject myObj) {\n        myObject = myObj;\n    }\n\n    public MyObject getMyObject() {\n        return myObject;\n    }\n\n    protected void finalize() throws Throwable {\n        myObject.cleanItUp();\n    }\n}\n\npublic class SomeOtherClass {\n    static ThreadLocal&lt;MyObjectHolder&gt; threadLocal = new ThreadLocal&lt;MyObjectHolder&gt;();\n    .\n    .\n    .\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"score":0,"creation_date":1627941577,"post_id":41415864,"comment_id":121285566,"body_markdown":"And the actual link reference to the link:\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html#:~:text=Each%20thread%20holds%20an%20implicit,references%20to%20these%20copies%20exist).\n\nIn general you have few container request handling threads each with one thread local holding one `computationally expensive to create item` (can be updated per request) and referenced/used only within that request/thread.","body":"And the actual link reference to the link: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html#:~:text=Each%20thread%20holds%20an%20implicit,references%20to%20these%20copies%20exist\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>).  In general you have few container request handling threads each with one thread local holding one <code>computationally expensive to create item</code> (can be updated per request) and referenced/used only within that request/thread."}],"tags":[],"owner":{"account_id":9949096,"reputation":21,"user_id":7362525,"display_name":"Philippe P."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483277881,"creation_date":1483277881,"answer_id":41415864,"question_id":3869026,"body_markdown":"Reading again the Javadoc documentation carefully:\r\n\r\n&#39;Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).\r\n&#39;\r\n\r\nThere is no need to clean anything, there is an &#39;AND&#39; condition for the leak to survive. So even in a web container where thread survive to the application,\r\nas long as the webapp class is unloaded ( only beeing reference in a static class loaded in the parent class loader would prevent this and this has nothing to do with ThreadLocal but general issues with shared jars with static data ) then the second leg of the AND condition is not met anymore so the thread local copy is eligible for garbage collection.\r\n\r\nThread local can&#39;t be the cause of memory leaks, as far the implementation meets the documentation.","title":"How to clean up ThreadLocals","body":"<p>Reading again the Javadoc documentation carefully:</p>\n\n<p>'Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).\n'</p>\n\n<p>There is no need to clean anything, there is an 'AND' condition for the leak to survive. So even in a web container where thread survive to the application,\nas long as the webapp class is unloaded ( only beeing reference in a static class loaded in the parent class loader would prevent this and this has nothing to do with ThreadLocal but general issues with shared jars with static data ) then the second leg of the AND condition is not met anymore so the thread local copy is eligible for garbage collection.</p>\n\n<p>Thread local can't be the cause of memory leaks, as far the implementation meets the documentation.</p>\n"},{"comments":[{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1559826259,"post_id":53265132,"comment_id":99546687,"body_markdown":"MethodHandle is fast but it is not zero overhead. In some cases its [even slower than reflection](https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html). It&#39;s also not [even supported by Graal VM static-image](https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md) where as reflection is so long as the class and method name can be statically determined (ie constants).... so yeah at the present state of method handle @lyaffe&#39;s answer is probably better.","body":"MethodHandle is fast but it is not zero overhead. In some cases its <a href=\"https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html\" rel=\"nofollow noreferrer\">even slower than reflection</a>. It&#39;s also not <a href=\"https://github.com/oracle/graal/blob/master/substratevm/LIMITATIONS.md\" rel=\"nofollow noreferrer\">even supported by Graal VM static-image</a> where as reflection is so long as the class and method name can be statically determined (ie constants).... so yeah at the present state of method handle @lyaffe&#39;s answer is probably better."},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1559916967,"post_id":53265132,"comment_id":99580973,"body_markdown":"`MethodHandle`s used in the first way in &quot;even slower than reflection&quot; web page is definitely slow.  However, if you put the `MethodHandle` in a `static final` field (the second way in the web page and the way in my answer), then JIT eliminates the overhead.  The article says this is useless; however, I have used `static final MethodHandle`s in many places in my code.  I find it useful.  I guess the usefulness depends on the usecase.","body":"<code>MethodHandle</code>s used in the first way in &quot;even slower than reflection&quot; web page is definitely slow.  However, if you put the <code>MethodHandle</code> in a <code>static final</code> field (the second way in the web page and the way in my answer), then JIT eliminates the overhead.  The article says this is useless; however, I have used <code>static final MethodHandle</code>s in many places in my code.  I find it useful.  I guess the usefulness depends on the usecase."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1561039045,"post_id":53265132,"comment_id":99940630,"body_markdown":"Well the bigger issue for me/us is we hope to eventually target Graal VM for our microservices. We don&#39;t need the above particular code for these services but Graal VM not supporting MethodHandle does give me pause. Since you work for Oracle (yes I clicked on your profile :) ) maybe you know if they ever plan on supporting them (methodhandles)?","body":"Well the bigger issue for me/us is we hope to eventually target Graal VM for our microservices. We don&#39;t need the above particular code for these services but Graal VM not supporting MethodHandle does give me pause. Since you work for Oracle (yes I clicked on your profile :) ) maybe you know if they ever plan on supporting them (methodhandles)?"},{"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"score":0,"creation_date":1561131897,"post_id":53265132,"comment_id":99976564,"body_markdown":"Unfortunately, I cannot answer if Graal VM will or will not support `MethodHandle`.  I do not even know who is on the Graal VM team.","body":"Unfortunately, I cannot answer if Graal VM will or will not support <code>MethodHandle</code>.  I do not even know who is on the Graal VM team."}],"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542035951,"creation_date":1542035951,"answer_id":53265132,"question_id":3869026,"body_markdown":"@lyaffe&#39;s answer is the best possible for Java 6.  There are a few issues that this answer resolves using what is available in Java 8.\r\n\r\n@lyaffe&#39;s answer was written for Java 6 before `MethodHandle` became available.  It suffers from performance penalties due to reflection.  If used as below, `MethodHandle` provides *zero overhead* access to fields and methods.\r\n\r\n@lyaffe&#39;s answer also goes through the `ThreadLocalMap.table` explicitly and is prone to bugs.  There is a method `ThreadLocalMap.expungeStaleEntries()` now available that does the same thing.\r\n\r\nThe code below has 3 initialization methods to minimize the cost of invoking `expungeStaleEntries()`.\r\n\r\n    private static final MethodHandle        s_getThreadLocals     = initThreadLocals();\r\n    private static final MethodHandle        s_expungeStaleEntries = initExpungeStaleEntries();\r\n    private static final ThreadLocal&lt;Object&gt; s_threadLocals        = ThreadLocal.withInitial(() -&gt; getThreadLocals());\r\n\r\n    public static void expungeThreadLocalMap()\r\n    {\r\n       Object threadLocals;\r\n\r\n       threadLocals = s_threadLocals.get();\r\n\r\n       try\r\n       {\r\n          s_expungeStaleEntries.invoke(threadLocals);\r\n       }\r\n       catch (Throwable e)\r\n       {\r\n          throw new IllegalStateException(e);\r\n       }\r\n    }\r\n\r\n    private static Object getThreadLocals()\r\n    {\r\n       ThreadLocal&lt;Object&gt; local;\r\n       Object result;\r\n       Thread thread;\r\n\r\n       local = new ThreadLocal&lt;&gt;();\r\n\r\n       local.set(local);   // Force ThreadLocal to initialize Thread.threadLocals\r\n\r\n       thread = Thread.currentThread();\r\n\r\n       try\r\n       {\r\n          result = s_getThreadLocals.invoke(thread);\r\n       }\r\n       catch (Throwable e)\r\n       {\r\n          throw new IllegalStateException(e);\r\n       }\r\n\r\n       return(result);\r\n    }\r\n\r\n    private static MethodHandle initThreadLocals()\r\n    {\r\n       MethodHandle result;\r\n       Field field;\r\n\r\n       try\r\n       {\r\n          field = Thread.class.getDeclaredField(&quot;threadLocals&quot;);\r\n\r\n          field.setAccessible(true);\r\n\r\n          result = MethodHandles.\r\n             lookup().\r\n             unreflectGetter(field);\r\n\r\n          result = Preconditions.verifyNotNull(result, &quot;result is null&quot;);\r\n       }\r\n       catch (NoSuchFieldException | SecurityException | IllegalAccessException e)\r\n       {\r\n          throw new ExceptionInInitializerError(e);\r\n       }\r\n\r\n       return(result);\r\n    }\r\n\r\n    private static MethodHandle initExpungeStaleEntries()\r\n    {\r\n       MethodHandle result;\r\n       Class&lt;?&gt; clazz;\r\n       Method method;\r\n       Object threadLocals;\r\n\r\n       threadLocals = getThreadLocals();\r\n       clazz        = threadLocals.getClass();\r\n\r\n       try\r\n       {\r\n          method = clazz.getDeclaredMethod(&quot;expungeStaleEntries&quot;);\r\n\r\n          method.setAccessible(true);\r\n\r\n          result = MethodHandles.\r\n             lookup().\r\n             unreflect(method);\r\n       }\r\n       catch (NoSuchMethodException | SecurityException | IllegalAccessException e)\r\n       {\r\n          throw new ExceptionInInitializerError(e);\r\n       }\r\n\r\n       return(result);\r\n    }\r\n","title":"How to clean up ThreadLocals","body":"<p>@lyaffe's answer is the best possible for Java 6.  There are a few issues that this answer resolves using what is available in Java 8.</p>\n\n<p>@lyaffe's answer was written for Java 6 before <code>MethodHandle</code> became available.  It suffers from performance penalties due to reflection.  If used as below, <code>MethodHandle</code> provides <em>zero overhead</em> access to fields and methods.</p>\n\n<p>@lyaffe's answer also goes through the <code>ThreadLocalMap.table</code> explicitly and is prone to bugs.  There is a method <code>ThreadLocalMap.expungeStaleEntries()</code> now available that does the same thing.</p>\n\n<p>The code below has 3 initialization methods to minimize the cost of invoking <code>expungeStaleEntries()</code>.</p>\n\n<pre><code>private static final MethodHandle        s_getThreadLocals     = initThreadLocals();\nprivate static final MethodHandle        s_expungeStaleEntries = initExpungeStaleEntries();\nprivate static final ThreadLocal&lt;Object&gt; s_threadLocals        = ThreadLocal.withInitial(() -&gt; getThreadLocals());\n\npublic static void expungeThreadLocalMap()\n{\n   Object threadLocals;\n\n   threadLocals = s_threadLocals.get();\n\n   try\n   {\n      s_expungeStaleEntries.invoke(threadLocals);\n   }\n   catch (Throwable e)\n   {\n      throw new IllegalStateException(e);\n   }\n}\n\nprivate static Object getThreadLocals()\n{\n   ThreadLocal&lt;Object&gt; local;\n   Object result;\n   Thread thread;\n\n   local = new ThreadLocal&lt;&gt;();\n\n   local.set(local);   // Force ThreadLocal to initialize Thread.threadLocals\n\n   thread = Thread.currentThread();\n\n   try\n   {\n      result = s_getThreadLocals.invoke(thread);\n   }\n   catch (Throwable e)\n   {\n      throw new IllegalStateException(e);\n   }\n\n   return(result);\n}\n\nprivate static MethodHandle initThreadLocals()\n{\n   MethodHandle result;\n   Field field;\n\n   try\n   {\n      field = Thread.class.getDeclaredField(\"threadLocals\");\n\n      field.setAccessible(true);\n\n      result = MethodHandles.\n         lookup().\n         unreflectGetter(field);\n\n      result = Preconditions.verifyNotNull(result, \"result is null\");\n   }\n   catch (NoSuchFieldException | SecurityException | IllegalAccessException e)\n   {\n      throw new ExceptionInInitializerError(e);\n   }\n\n   return(result);\n}\n\nprivate static MethodHandle initExpungeStaleEntries()\n{\n   MethodHandle result;\n   Class&lt;?&gt; clazz;\n   Method method;\n   Object threadLocals;\n\n   threadLocals = getThreadLocals();\n   clazz        = threadLocals.getClass();\n\n   try\n   {\n      method = clazz.getDeclaredMethod(\"expungeStaleEntries\");\n\n      method.setAccessible(true);\n\n      result = MethodHandles.\n         lookup().\n         unreflect(method);\n   }\n   catch (NoSuchMethodException | SecurityException | IllegalAccessException e)\n   {\n      throw new ExceptionInInitializerError(e);\n   }\n\n   return(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3103640,"reputation":326,"user_id":5005171,"display_name":"trydofor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666837046,"creation_date":1666837046,"answer_id":74216054,"question_id":3869026,"body_markdown":"```java\r\nfinal ThreadLocal&lt;T&gt; old = backend;\r\n\r\n// try to clean by reflect\r\ntry {\r\n    // BGN copy from apache ThreadUtils#getAllThreads\r\n    ThreadGroup systemGroup = Thread.currentThread().getThreadGroup();\r\n    while (systemGroup.getParent() != null) {\r\n        systemGroup = systemGroup.getParent();\r\n    }\r\n    int count = systemGroup.activeCount();\r\n    Thread[] threads;\r\n    do {\r\n        threads = new Thread[count + (count / 2) + 1]; //slightly grow the array size\r\n        count = systemGroup.enumerate(threads, true);\r\n        //return value of enumerate() must be strictly less than the array size according to javadoc\r\n    } while (count &gt;= threads.length);\r\n    // END\r\n\r\n    // remove by reflect\r\n    final Field threadLocalsField = Thread.class.getDeclaredField(&quot;threadLocals&quot;);\r\n    threadLocalsField.setAccessible(true);\r\n\r\n    Class&lt;?&gt; threadLocalMapClass = Class.forName(&quot;java.lang.ThreadLocal$ThreadLocalMap&quot;);\r\n    Method removeMethod = threadLocalMapClass.getDeclaredMethod(&quot;remove&quot;, ThreadLocal.class);\r\n    removeMethod.setAccessible(true);\r\n\r\n    for (int i = 0; i &lt; count; i++) {\r\n        final Object threadLocalMap = threadLocalsField.get(threads[i]);\r\n        if (threadLocalMap != null) {\r\n            removeMethod.invoke(threadLocalMap, old);\r\n        }\r\n    }\r\n\r\n}\r\ncatch (Exception e) {\r\n    throw new ThreadLocalAttention(e);\r\n}\r\n```","title":"How to clean up ThreadLocals","body":"<pre class=\"lang-java prettyprint-override\"><code>final ThreadLocal&lt;T&gt; old = backend;\n\n// try to clean by reflect\ntry {\n    // BGN copy from apache ThreadUtils#getAllThreads\n    ThreadGroup systemGroup = Thread.currentThread().getThreadGroup();\n    while (systemGroup.getParent() != null) {\n        systemGroup = systemGroup.getParent();\n    }\n    int count = systemGroup.activeCount();\n    Thread[] threads;\n    do {\n        threads = new Thread[count + (count / 2) + 1]; //slightly grow the array size\n        count = systemGroup.enumerate(threads, true);\n        //return value of enumerate() must be strictly less than the array size according to javadoc\n    } while (count &gt;= threads.length);\n    // END\n\n    // remove by reflect\n    final Field threadLocalsField = Thread.class.getDeclaredField(&quot;threadLocals&quot;);\n    threadLocalsField.setAccessible(true);\n\n    Class&lt;?&gt; threadLocalMapClass = Class.forName(&quot;java.lang.ThreadLocal$ThreadLocalMap&quot;);\n    Method removeMethod = threadLocalMapClass.getDeclaredMethod(&quot;remove&quot;, ThreadLocal.class);\n    removeMethod.setAccessible(true);\n\n    for (int i = 0; i &lt; count; i++) {\n        final Object threadLocalMap = threadLocalsField.get(threads[i]);\n        if (threadLocalMap != null) {\n            removeMethod.invoke(threadLocalMap, old);\n        }\n    }\n\n}\ncatch (Exception e) {\n    throw new ThreadLocalAttention(e);\n}\n</code></pre>\n"}],"owner":{"account_id":108533,"reputation":1391,"user_id":288019,"accept_rate":59,"display_name":"Ricardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91747,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":3869236,"answer_count":8,"score":74,"last_activity_date":1666837046,"creation_date":1286330249,"question_id":3869026,"body_markdown":"Does any one have an example how to do this?  Are they handled by the garbage collector?  I&#39;m using Tomcat 6.","title":"How to clean up ThreadLocals","body":"<p>Does any one have an example how to do this?  Are they handled by the garbage collector?  I'm using Tomcat 6.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1662453798,"post_id":73618805,"comment_id":130002870,"body_markdown":"Please check that `*.pom` is added under `Settings/Preferences | Editor | File Types | Recognized File Types | XML` Also try to delete the `disabled_plugins.txt` file from the configuration directory: https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory while the IDE is closed.","body":"Please check that <code>*.pom</code> is added under <code>Settings&#47;Preferences | Editor | File Types | Recognized File Types | XML</code> Also try to delete the <code>disabled_plugins.txt</code> file from the configuration directory: <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> while the IDE is closed."},{"owner":{"account_id":19466936,"reputation":57,"user_id":14240047,"display_name":"Abner"},"score":0,"creation_date":1662454958,"post_id":73618805,"comment_id":130003312,"body_markdown":"*.pom is right there. Disabled_plufins.txt is empty.","body":"*.pom is right there. Disabled_plufins.txt is empty."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1662969728,"post_id":73618805,"comment_id":130120291,"body_markdown":"Please contact IntelliJ support team at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide the IDE logs. (Help | Collect Logs and Diagnostic Data)","body":"Please contact IntelliJ support team at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide the IDE logs. (Help | Collect Logs and Diagnostic Data)"}],"answers":[{"comments":[{"owner":{"account_id":19466936,"reputation":57,"user_id":14240047,"display_name":"Abner"},"score":0,"creation_date":1662454822,"post_id":73618846,"comment_id":130003262,"body_markdown":"I added a new module and its default pom.xml was recognized correctly.So?","body":"I added a new module and its default pom.xml was recognized correctly.So?"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1662540121,"post_id":73618846,"comment_id":130026585,"body_markdown":"Try File -&gt; Invalidate Caches -&gt; cross out &quot;Clear file system cache and Local history and then &quot;Invalidate Restart&quot;","body":"Try File -&gt; Invalidate Caches -&gt; cross out &quot;Clear file system cache and Local history and then &quot;Invalidate Restart&quot;"},{"owner":{"account_id":19466936,"reputation":57,"user_id":14240047,"display_name":"Abner"},"score":0,"creation_date":1662596491,"post_id":73618846,"comment_id":130044831,"body_markdown":"i did as you said.it didn&#39;t work","body":"i did as you said.it didn&#39;t work"}],"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662452383,"creation_date":1662452383,"answer_id":73618846,"question_id":73618805,"body_markdown":"Try this it &quot;In the Project tool window, right-click the project folder and select New | Module. Alternatively, from the main menu, select File| New | Module to open the New Module wizard.&quot; https://www.jetbrains.com/help/idea/maven-support.html#maven_add_module","title":"Why pom.xml was not recognized successfully","body":"<p>Try this it &quot;In the Project tool window, right-click the project folder and select New | Module. Alternatively, from the main menu, select File| New | Module to open the New Module wizard.&quot; <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_add_module\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/maven-support.html#maven_add_module</a></p>\n"},{"tags":[],"owner":{"account_id":19466936,"reputation":57,"user_id":14240047,"display_name":"Abner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666836568,"creation_date":1666836568,"answer_id":74216019,"question_id":73618805,"body_markdown":"I had tried all the suggestions others told me before,it still didn&#39;t work. Today I cut the pom.xml to other directory and then I cut it back. The pom.xml was recognized correctly.I cant believe it ！I think it is IDEA bug! ","title":"Why pom.xml was not recognized successfully","body":"<p>I had tried all the suggestions others told me before,it still didn't work. Today I cut the pom.xml to other directory and then I cut it back. The pom.xml was recognized correctly.I cant believe it ！I think it is IDEA bug!</p>\n"}],"owner":{"account_id":19466936,"reputation":57,"user_id":14240047,"display_name":"Abner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74216019,"answer_count":2,"score":-1,"last_activity_date":1666836568,"creation_date":1662452183,"question_id":73618805,"body_markdown":"The color of words in the pom.xml are all white and when i click the element of xml,it says &quot;Cannot find declaration to go to&quot;.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/74Mxb.png\r\n","title":"Why pom.xml was not recognized successfully","body":"<p>The color of words in the pom.xml are all white and when i click the element of xml,it says &quot;Cannot find declaration to go to&quot;.\n<a href=\"https://i.stack.imgur.com/74Mxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74Mxb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","syntax","solr","lucene","solrj"],"answers":[{"tags":[],"owner":{"account_id":92157,"reputation":7814,"user_id":252687,"accept_rate":80,"display_name":"Eser Ayg&#252;n"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1564389676,"creation_date":1325244924,"answer_id":8679035,"question_id":8678867,"body_markdown":"I don&#39;t think the query parser supports `&lt;` operator. You have to define a [RangeQuery][1] explicitly. You can then attach a name query to that using a [BooleanQuery][2].\r\n\r\nUpdate: Apparently, I was wrong. In fact, Solr&#39;s query parser is smarter than Lucene&#39;s. Here is your answer: https://lucene.apache.org/solr/guide/8_0/the-standard-query-parser.html#differences-between-lucene-s-classic-query-parser-and-solr-s-standard-query-parser\r\n\r\n&gt; field:[* TO 100] finds all field values less than or equal to 100\r\n\r\n  [1]: http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/search/RangeQuery.html\r\n  [2]: http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/search/BooleanQuery.html","title":"How to write a solr query for retrieving all records with numeric field value less then specified?","body":"<p>I don't think the query parser supports <code>&lt;</code> operator. You have to define a <a href=\"http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/search/RangeQuery.html\" rel=\"noreferrer\">RangeQuery</a> explicitly. You can then attach a name query to that using a <a href=\"http://lucene.apache.org/java/2_9_0/api/all/org/apache/lucene/search/BooleanQuery.html\" rel=\"noreferrer\">BooleanQuery</a>.</p>\n\n<p>Update: Apparently, I was wrong. In fact, Solr's query parser is smarter than Lucene's. Here is your answer: <a href=\"https://lucene.apache.org/solr/guide/8_0/the-standard-query-parser.html#differences-between-lucene-s-classic-query-parser-and-solr-s-standard-query-parser\" rel=\"noreferrer\">https://lucene.apache.org/solr/guide/8_0/the-standard-query-parser.html#differences-between-lucene-s-classic-query-parser-and-solr-s-standard-query-parser</a></p>\n\n<blockquote>\n  <p>field:[* TO 100] finds all field values less than or equal to 100</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":80038,"reputation":2453,"user_id":226568,"accept_rate":75,"display_name":"Bob Yoplait"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1325455559,"creation_date":1325455559,"answer_id":8695872,"question_id":8678867,"body_markdown":"also note that performancewise you should use a filter query for this:\r\n\r\n    &amp;q=name:ipod&amp;fq=price:[* TO 100]","title":"How to write a solr query for retrieving all records with numeric field value less then specified?","body":"<p>also note that performancewise you should use a filter query for this:</p>\n\n<pre><code>&amp;q=name:ipod&amp;fq=price:[* TO 100]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784013,"reputation":101,"user_id":3888727,"display_name":"Casey Ferguson"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666836200,"creation_date":1493299639,"answer_id":43659277,"question_id":8678867,"body_markdown":"From my knowledge, I do not believe that Solr/Lucene supports greater/less than. It can be done programmatically for things like integers and dates (and in your case, money values, since there are only two decimal places to worry about).\r\n\r\nFor example, natively, Lucene and Solr query parsers support less than or equal to (&lt;=):\r\n    \r\n    ?q=name:ipod AND price:[* to 99.99]\r\n\r\nThis would give you the less than 100 dollars that you&#39;re looking for, provided the data doesn&#39;t involve fractions of a cent.\r\n\r\nFor things like dates and integers, or other things that have notably finite differences, you can decrement (or in the case of greater than, increment) the value you&#39;re going for.\r\n\r\nEDIT: Check the documentation for version 6.5 of Solr. It DOES contain exclusive range support.\r\n\r\nEssentially, use curly braces to denote less than.\r\n\r\n    ?q=name:ipod AND price:{* TO 100}","title":"How to write a solr query for retrieving all records with numeric field value less then specified?","body":"<p>From my knowledge, I do not believe that Solr/Lucene supports greater/less than. It can be done programmatically for things like integers and dates (and in your case, money values, since there are only two decimal places to worry about).</p>\n<p>For example, natively, Lucene and Solr query parsers support less than or equal to (&lt;=):</p>\n<pre><code>?q=name:ipod AND price:[* to 99.99]\n</code></pre>\n<p>This would give you the less than 100 dollars that you're looking for, provided the data doesn't involve fractions of a cent.</p>\n<p>For things like dates and integers, or other things that have notably finite differences, you can decrement (or in the case of greater than, increment) the value you're going for.</p>\n<p>EDIT: Check the documentation for version 6.5 of Solr. It DOES contain exclusive range support.</p>\n<p>Essentially, use curly braces to denote less than.</p>\n<pre><code>?q=name:ipod AND price:{* TO 100}\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31351,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":8679035,"answer_count":3,"score":24,"last_activity_date":1666836200,"creation_date":1325243738,"question_id":8678867,"body_markdown":"Let&#39;s assume we have a set of mp3-players with names and prices.\r\n\r\nHow to write a correct solr query for finding all goods with a certain name and with price less then 100$?\r\n\r\n`q = &quot;(name:(ipod) AND price ???? 100.0)&quot;`\r\n","title":"How to write a solr query for retrieving all records with numeric field value less then specified?","body":"<p>Let's assume we have a set of mp3-players with names and prices.</p>\n\n<p>How to write a correct solr query for finding all goods with a certain name and with price less then 100$?</p>\n\n<p><code>q = \"(name:(ipod) AND price ???? 100.0)\"</code></p>\n"},{"tags":["java","spring-boot","graph","gremlin","amazon-neptune"],"comments":[{"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"score":0,"creation_date":1666624170,"post_id":74182468,"comment_id":130975592,"body_markdown":"are you using this sigv4 library: https://github.com/aws/amazon-neptune-gremlin-java-sigv4 ?","body":"are you using this sigv4 library: <a href=\"https://github.com/aws/amazon-neptune-gremlin-java-sigv4\" rel=\"nofollow noreferrer\">github.com/aws/amazon-neptune-gremlin-java-sigv4</a> ?"},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1666639329,"post_id":74182468,"comment_id":130980524,"body_markdown":"@stephenmallette I did. I tried using both amazon-neptune-sigv4-signer and amazon-neptune-gremlin-java-sigv4 as per documentation but to no avail.","body":"@stephenmallette I did. I tried using both amazon-neptune-sigv4-signer and amazon-neptune-gremlin-java-sigv4 as per documentation but to no avail."},{"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"score":0,"creation_date":1666714662,"post_id":74182468,"comment_id":131000185,"body_markdown":"could you please update your question to include the code you are using to setup the driver after your upgrade?","body":"could you please update your question to include the code you are using to setup the driver after your upgrade?"},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1666749652,"post_id":74182468,"comment_id":131008260,"body_markdown":"@stephenmallette Added the code snippet for the builder. I have tried the approaches using the Sig4 both for the channelizer and the interceptor approach but none worked","body":"@stephenmallette Added the code snippet for the builder. I have tried the approaches using the Sig4 both for the channelizer and the interceptor approach but none worked"},{"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"score":0,"creation_date":1666782930,"post_id":74182468,"comment_id":131016267,"body_markdown":"if you are going to 3.5.x then you should not be using the `WebSocketChannelizer` and should probably wholly remove any dependency on `amazon-neptune-gremlin-java-sigv4`. Could you please share the code you are using for the interceptor approach?","body":"if you are going to 3.5.x then you should not be using the <code>WebSocketChannelizer</code> and should probably wholly remove any dependency on <code>amazon-neptune-gremlin-java-sigv4</code>. Could you please share the code you are using for the interceptor approach?"},{"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"score":0,"creation_date":1666801654,"post_id":74182468,"comment_id":131023547,"body_markdown":"@stephenmallette I used the one in here https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-gremlin-java.html","body":"@stephenmallette I used the one in here <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-gremlin-java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/neptune/latest/userguide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666835480,"creation_date":1666835480,"answer_id":74215926,"question_id":74182468,"body_markdown":"Since the code that handles the gremlin connection and queries is located in a dependency jar project, the netty.version declared in the main project using that jars overrides the netty.io version that is used in the said jar project. I just have to declare a netty.version property in the main project pom so that it matches the netty version used in the dependency.","title":"Gremlin-Driver update causes NoSuchMethodError","body":"<p>Since the code that handles the gremlin connection and queries is located in a dependency jar project, the netty.version declared in the main project using that jars overrides the netty.io version that is used in the said jar project. I just have to declare a netty.version property in the main project pom so that it matches the netty version used in the dependency.</p>\n"}],"owner":{"account_id":7219568,"reputation":185,"user_id":5510661,"display_name":"ReiSchneider"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74215926,"answer_count":1,"score":0,"last_activity_date":1666835480,"creation_date":1666620915,"question_id":74182468,"body_markdown":"I have a Java Spring Boot application that connects to an Amazon Neptune graph database running on engine version ```1.1.1.0```. \r\n\r\nAfter upgrading the gremlin-driver and TinkerPop dependencies to ```3.5.2``` from ```3.4.6``` (working on this version), the application can no longer make a connection to the graph database on AWS and it throws this exception\r\n\r\n```\r\nio.netty.channel.ChannelInitializer : Failed to initialize a channel. Closing: [id: 0xf213a752]ecs/XYZ\r\n   \r\n\r\njava.lang.NoSuchMethodError: io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker13.&lt;init&gt;(Ljava/net/URI;Lio/netty/handler/codec/http/websocketx/WebSocketVersion;Ljava/lang/String;ZLio/netty/handler/codec/http/HttpHeaders;IZZJ)V\r\n```\r\n\r\nI haven&#39;t made any changes with the builder besides the code-breaking change with one of the imports and the method name change. Did I miss something in this update?\r\n\r\nThis is the builder configuration that I am using from ```3.4.6```\r\n\r\n```java\r\n        Cluster.Builder builder = Cluster.build();\r\n        builder.addContactPoints(gremlinProperties.getContactPoints());\r\n        builder.port(gremlinProperties.getPort());\r\n        builder.nioPoolSize(gremlinProperties.getNioPoolSize());\r\n        builder.workerPoolSize(gremlinProperties.getWorkerPoolSize());\r\n        builder.minConnectionPoolSize(gremlinProperties.getMinConnectionPoolSize());\r\n        builder.maxConnectionPoolSize(gremlinProperties.getMaxConnectionPoolSize());\r\n        builder.minSimultaneousUsagePerConnection(gremlinProperties.getMinSimultaneousUsagePerConnection());\r\n        builder.maxSimultaneousUsagePerConnection(gremlinProperties.getMaxSimultaneousUsagePerConnection());\r\n        builder.maxInProcessPerConnection(gremlinProperties.getMaxInProcessPerConnection());\r\n        builder.minInProcessPerConnection(gremlinProperties.getMinInProcessPerConnection());\r\n        builder.maxWaitForConnection(gremlinProperties.getMaxWaitForConnection());\r\n        builder.maxWaitForClose(gremlinProperties.getMaxWaitForSessionClose());\r\n        builder.maxContentLength(gremlinProperties.getMaxContentLength());\r\n        builder.reconnectInterval(gremlinProperties.getReconnectInterval());\r\n        builder.resultIterationBatchSize(gremlinProperties.getResultIterationBatchSize());\r\n                builder.keepAliveInterval(gremlinProperties.getKeepAliveInterval());\r\n        builder.channelizer(Channelizer.WebSocketChannelizer.class);\r\n        builder.enableSsl(gremlinProperties.isEnableSsl());\r\n\r\n        return builder.create();\r\n```\r\n\r\nThe values are extracted from a property file","title":"Gremlin-Driver update causes NoSuchMethodError","body":"<p>I have a Java Spring Boot application that connects to an Amazon Neptune graph database running on engine version <code>1.1.1.0</code>.</p>\n<p>After upgrading the gremlin-driver and TinkerPop dependencies to <code>3.5.2</code> from <code>3.4.6</code> (working on this version), the application can no longer make a connection to the graph database on AWS and it throws this exception</p>\n<pre><code>io.netty.channel.ChannelInitializer : Failed to initialize a channel. Closing: [id: 0xf213a752]ecs/XYZ\n   \n\njava.lang.NoSuchMethodError: io.netty.handler.codec.http.websocketx.WebSocketClientHandshaker13.&lt;init&gt;(Ljava/net/URI;Lio/netty/handler/codec/http/websocketx/WebSocketVersion;Ljava/lang/String;ZLio/netty/handler/codec/http/HttpHeaders;IZZJ)V\n</code></pre>\n<p>I haven't made any changes with the builder besides the code-breaking change with one of the imports and the method name change. Did I miss something in this update?</p>\n<p>This is the builder configuration that I am using from <code>3.4.6</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>        Cluster.Builder builder = Cluster.build();\n        builder.addContactPoints(gremlinProperties.getContactPoints());\n        builder.port(gremlinProperties.getPort());\n        builder.nioPoolSize(gremlinProperties.getNioPoolSize());\n        builder.workerPoolSize(gremlinProperties.getWorkerPoolSize());\n        builder.minConnectionPoolSize(gremlinProperties.getMinConnectionPoolSize());\n        builder.maxConnectionPoolSize(gremlinProperties.getMaxConnectionPoolSize());\n        builder.minSimultaneousUsagePerConnection(gremlinProperties.getMinSimultaneousUsagePerConnection());\n        builder.maxSimultaneousUsagePerConnection(gremlinProperties.getMaxSimultaneousUsagePerConnection());\n        builder.maxInProcessPerConnection(gremlinProperties.getMaxInProcessPerConnection());\n        builder.minInProcessPerConnection(gremlinProperties.getMinInProcessPerConnection());\n        builder.maxWaitForConnection(gremlinProperties.getMaxWaitForConnection());\n        builder.maxWaitForClose(gremlinProperties.getMaxWaitForSessionClose());\n        builder.maxContentLength(gremlinProperties.getMaxContentLength());\n        builder.reconnectInterval(gremlinProperties.getReconnectInterval());\n        builder.resultIterationBatchSize(gremlinProperties.getResultIterationBatchSize());\n                builder.keepAliveInterval(gremlinProperties.getKeepAliveInterval());\n        builder.channelizer(Channelizer.WebSocketChannelizer.class);\n        builder.enableSsl(gremlinProperties.isEnableSsl());\n\n        return builder.create();\n</code></pre>\n<p>The values are extracted from a property file</p>\n"},{"tags":["java","android","ssl","okhttp"],"comments":[{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":3,"creation_date":1467799165,"post_id":31917988,"comment_id":63864790,"body_markdown":"Please check that your certificate contains actual host name and not IP address(IP addresses are supposed to be in `Subject Alternative Name` field of certificate). As for `HostnameVerifier` which returns true - it will make SSL useless and insecure(most upvoted answer). On contemporary Androids you can install your self signed certificate without problems via Security settings.","body":"Please check that your certificate contains actual host name and not IP address(IP addresses are supposed to be in <code>Subject Alternative Name</code> field of certificate). As for <code>HostnameVerifier</code> which returns true - it will make SSL useless and insecure(most upvoted answer). On contemporary Androids you can install your self signed certificate without problems via Security settings."}],"answers":[{"comments":[{"owner":{"account_id":5691859,"reputation":1406,"user_id":4499697,"accept_rate":57,"display_name":"iSrinivasan27"},"score":0,"creation_date":1473665637,"post_id":32013366,"comment_id":66212585,"body_markdown":"what is the file(client) in raw?","body":"what is the file(client) in raw?"},{"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"score":0,"creation_date":1473675584,"post_id":32013366,"comment_id":66217693,"body_markdown":"that is the `client.crt`file generated on the openssl line.","body":"that is the <code>client.crt</code>file generated on the openssl line."},{"owner":{"account_id":328458,"reputation":4086,"user_id":651422,"accept_rate":74,"display_name":"Chrishan"},"score":0,"creation_date":1490147736,"post_id":32013366,"comment_id":72979396,"body_markdown":"What is the client.pem file you have used here? That script generate few .pem file. Is it chain.pem file in client directory?","body":"What is the client.pem file you have used here? That script generate few .pem file. Is it chain.pem file in client directory?"},{"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"score":0,"creation_date":1490168218,"post_id":32013366,"comment_id":72986611,"body_markdown":"You have to create it as part of the ssl certificate you want to use for your connection: https://security.stackexchange.com/questions/32768/converting-keys-between-openssl-and-openssh","body":"You have to create it as part of the ssl certificate you want to use for your connection: <a href=\"https://security.stackexchange.com/questions/32768/converting-keys-between-openssl-and-openssh\" title=\"converting keys between openssl and openssh\">security.stackexchange.com/questions/32768/&hellip;</a>"},{"owner":{"account_id":2012351,"reputation":2704,"user_id":1800515,"accept_rate":72,"display_name":"PrashanD"},"score":0,"creation_date":1576471522,"post_id":32013366,"comment_id":104897004,"body_markdown":"Is is safe to have the .crt file as a raw resource in your apk?","body":"Is is safe to have the .crt file as a raw resource in your apk?"},{"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"score":0,"creation_date":1613036189,"post_id":32013366,"comment_id":116953669,"body_markdown":"I have a spring-boot app (version 2.3.7) that uses okhtt3 and I&#39;m trying to call an api in https://test.server.com:8888/api . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this `java SSLPoke test.server.com 8888` I m getting Successfully Connected. But when the request is made from my app I m getting the `javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:` error. \nSince the cacerts is updated do I need to write extra code to verify the hostname ?","body":"I have a spring-boot app (version 2.3.7) that uses okhtt3 and I&#39;m trying to call an api in <a href=\"https://test.server.com:8888/api\" rel=\"nofollow noreferrer\">test.server.com:8888/api</a> . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this <code>java SSLPoke test.server.com 8888</code> I m getting Successfully Connected. But when the request is made from my app I m getting the <code>javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:</code> error.  Since the cacerts is updated do I need to write extra code to verify the hostname ?"}],"tags":[],"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1439565376,"creation_date":1439565376,"answer_id":32013366,"question_id":31917988,"body_markdown":"I finally got this working with a mix of multiple answers. \r\n\r\nFirst, the certificates was made wrongly, not sure how. But by creating them using the script in [this answer][1] made them work. What was needed was a server certificate and a key. Then the client needed another certificate. \r\n\r\nTo use the certificate in android I converted the .pem file to a .crt file like this:\r\n\r\n    openssl x509 -outform der -in client.pem  -out client.crt\r\n\r\nIn android I added the certificate to my OkHttp client like the following:\r\n\r\n    public ApiService() {\r\n        mClient = new OkHttpClient();\r\n        mClient.setConnectTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\r\n        mClient.setReadTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\r\n        mClient.setCache(getCache());\r\n        mClient.setSslSocketFactory(getSSL());\r\n    }\r\n\r\n    protected SSLSocketFactory getSSL() {\r\n        try {\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            InputStream cert = getAppContext().getResources().openRawResource(R.raw.client);\r\n            Certificate ca = cf.generateCertificate(cert);\r\n            cert.close();\r\n\r\n            // creating a KeyStore containing our trusted CAs\r\n            String keyStoreType = KeyStore.getDefaultType();\r\n            KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n            keyStore.load(null, null);\r\n            keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n\r\n            return new AdditionalKeyStore(keyStore);\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nThe last part with `new AdditionalKeyStore()` is taken from [this very well written answer][2]. Which adds a fallback keystore. \r\n\r\nI hope this might help anyone else! This is the simplest way to get HTTPS working with a self-signed certificate that I have found. Other ways include having a BouncyCastle keystore which seems excessive to me. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24749608/964887\r\n  [2]: https://stackoverflow.com/a/6378872/964887","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>I finally got this working with a mix of multiple answers. </p>\n\n<p>First, the certificates was made wrongly, not sure how. But by creating them using the script in <a href=\"https://stackoverflow.com/a/24749608/964887\">this answer</a> made them work. What was needed was a server certificate and a key. Then the client needed another certificate. </p>\n\n<p>To use the certificate in android I converted the .pem file to a .crt file like this:</p>\n\n<pre><code>openssl x509 -outform der -in client.pem  -out client.crt\n</code></pre>\n\n<p>In android I added the certificate to my OkHttp client like the following:</p>\n\n<pre><code>public ApiService() {\n    mClient = new OkHttpClient();\n    mClient.setConnectTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\n    mClient.setReadTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\n    mClient.setCache(getCache());\n    mClient.setSslSocketFactory(getSSL());\n}\n\nprotected SSLSocketFactory getSSL() {\n    try {\n        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n        InputStream cert = getAppContext().getResources().openRawResource(R.raw.client);\n        Certificate ca = cf.generateCertificate(cert);\n        cert.close();\n\n        // creating a KeyStore containing our trusted CAs\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(\"ca\", ca);\n\n        return new AdditionalKeyStore(keyStore);\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>The last part with <code>new AdditionalKeyStore()</code> is taken from <a href=\"https://stackoverflow.com/a/6378872/964887\">this very well written answer</a>. Which adds a fallback keystore. </p>\n\n<p>I hope this might help anyone else! This is the simplest way to get HTTPS working with a self-signed certificate that I have found. Other ways include having a BouncyCastle keystore which seems excessive to me. </p>\n"},{"comments":[{"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"score":26,"creation_date":1473675684,"post_id":32402190,"comment_id":66217744,"body_markdown":"This is not safe! I know I didn&#39;t specify that in my question. I know it works, I have used it earlier. But I&#39;m all grown up now and want the full safety of https. :)","body":"This is not safe! I know I didn&#39;t specify that in my question. I know it works, I have used it earlier. But I&#39;m all grown up now and want the full safety of https. :)"},{"owner":{"account_id":162947,"reputation":2003,"user_id":384752,"display_name":"Jake Hall"},"score":5,"creation_date":1473802093,"post_id":32402190,"comment_id":66277675,"body_markdown":"of course this isn&#39;t safe -- this explicitly bypasses https certificate verification.  This should only be used on pre-prod environments where you want to avoid ssl verification, never on a production build.","body":"of course this isn&#39;t safe -- this explicitly bypasses https certificate verification.  This should only be used on pre-prod environments where you want to avoid ssl verification, never on a production build."},{"owner":{"account_id":2360360,"reputation":6050,"user_id":2168230,"accept_rate":66,"display_name":"Lavekush Agrawal"},"score":2,"creation_date":1499335240,"post_id":32402190,"comment_id":76866538,"body_markdown":"`setHostnameVerifier` not compiling","body":"<code>setHostnameVerifier</code> not compiling"},{"owner":{"account_id":1717626,"reputation":1506,"user_id":1574374,"display_name":"Mike Harris"},"score":1,"creation_date":1551891123,"post_id":32402190,"comment_id":96809136,"body_markdown":"`setHostnameVerifier()` is not a method of [OkHttpClient](https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.html). I think you&#39;re confusing it with `javax.net.ssl.HttpsURLConnection`","body":"<code>setHostnameVerifier()</code> is not a method of <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.html\" rel=\"nofollow noreferrer\">OkHttpClient</a>. I think you&#39;re confusing it with <code>javax.net.ssl.HttpsURLConnection</code>"},{"owner":{"account_id":11081940,"reputation":855,"user_id":8136868,"display_name":"Reza"},"score":1,"creation_date":1597859338,"post_id":32402190,"comment_id":112273444,"body_markdown":"thanks. helped me to get rid of error and do my tests on debug","body":"thanks. helped me to get rid of error and do my tests on debug"},{"owner":{"account_id":3360934,"reputation":794,"user_id":2822745,"display_name":"JanPl"},"score":0,"creation_date":1670857901,"post_id":32402190,"comment_id":131964214,"body_markdown":"This is never the way to go, don&#39;t pretend a secure connection when it is not, add a big warning!","body":"This is never the way to go, don&#39;t pretend a secure connection when it is not, add a big warning!"}],"tags":[],"owner":{"account_id":162947,"reputation":2003,"user_id":384752,"display_name":"Jake Hall"},"comment_count":6,"down_vote_count":10,"up_vote_count":42,"is_accepted":false,"score":32,"last_activity_date":1441382425,"creation_date":1441382425,"answer_id":32402190,"question_id":31917988,"body_markdown":"I had the same problem, however I needed my application to work on several staging environments, all of which had self signed certs.  To make matters worse, they could change those certs on the fly.\r\n\r\nTo fix this, when connecting to staging only, I added a SSLSocketFactory which trusted all certs.  This fixed the java error, however it left me with the okhttp exception noted in this ticket. \r\n\r\nTo avoid this error, I needed to add one more customization to my okHttpClient.  This fixed the error for me.\r\n\r\n    okHttpClient.setHostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>I had the same problem, however I needed my application to work on several staging environments, all of which had self signed certs.  To make matters worse, they could change those certs on the fly.</p>\n\n<p>To fix this, when connecting to staging only, I added a SSLSocketFactory which trusted all certs.  This fixed the java error, however it left me with the okhttp exception noted in this ticket. </p>\n\n<p>To avoid this error, I needed to add one more customization to my okHttpClient.  This fixed the error for me.</p>\n\n<pre><code>okHttpClient.setHostnameVerifier(new HostnameVerifier() {\n            @Override\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"score":2,"creation_date":1473748867,"post_id":39458411,"comment_id":66247786,"body_markdown":"How safe is this? If it returns true aren&#39;t all certificates accepted? If so that should be avoided!","body":"How safe is this? If it returns true aren&#39;t all certificates accepted? If so that should be avoided!"},{"owner":{"account_id":4006626,"reputation":2374,"user_id":3301138,"accept_rate":62,"display_name":"Otziii"},"score":1,"creation_date":1502277243,"post_id":39458411,"comment_id":78136863,"body_markdown":"I agree @just_user. This works, but is not a good solution. Right...?","body":"I agree @just_user. This works, but is not a good solution. Right...?"},{"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"score":3,"creation_date":1503302820,"post_id":39458411,"comment_id":78541839,"body_markdown":"@Otziii Yes, this isn&#39;t safe. I don&#39;t know why people keep suggesting this &quot;solution&quot;. Check my answer above, this provides a safer option.","body":"@Otziii Yes, this isn&#39;t safe. I don&#39;t know why people keep suggesting this &quot;solution&quot;. Check my answer above, this provides a safer option."},{"owner":{"account_id":4393061,"reputation":625,"user_id":3580911,"accept_rate":75,"display_name":"JavadKhan"},"score":0,"creation_date":1503557589,"post_id":39458411,"comment_id":78667316,"body_markdown":"It helped me so much. Thanks!","body":"It helped me so much. Thanks!"},{"owner":{"account_id":3360934,"reputation":794,"user_id":2822745,"display_name":"JanPl"},"score":0,"creation_date":1670857630,"post_id":39458411,"comment_id":131964115,"body_markdown":"security nightmare, it destroys the security the PKI tries to establish","body":"security nightmare, it destroys the security the PKI tries to establish"}],"tags":[],"owner":{"account_id":9179736,"reputation":139,"user_id":6824057,"display_name":"KayKay"},"comment_count":5,"down_vote_count":6,"up_vote_count":15,"is_accepted":false,"score":9,"last_activity_date":1473723991,"creation_date":1473712517,"answer_id":39458411,"question_id":31917988,"body_markdown":"This issue is solved by setting `setHostNameVerifier` to `okHttpBuilder`. Make sure verify method should return true.\r\n\r\nSample:\r\n\r\n    okHttpClient.setHostnameVerifier(new HostnameVerifier() {\r\n        @Override\r\n        public boolean verify(String hostname, SSLSession session) {\r\n            return true;\r\n        }\r\n    });\r\n\r\n    OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n        builder.hostnameVerifier(new HostnameVerifier() {\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                return true;\r\n            }\r\n        });\r\n    OkHttpClient client = builder.build();","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>This issue is solved by setting <code>setHostNameVerifier</code> to <code>okHttpBuilder</code>. Make sure verify method should return true.</p>\n\n<p>Sample:</p>\n\n<pre><code>okHttpClient.setHostnameVerifier(new HostnameVerifier() {\n    @Override\n    public boolean verify(String hostname, SSLSession session) {\n        return true;\n    }\n});\n\nOkHttpClient.Builder builder = new OkHttpClient.Builder();\n    builder.hostnameVerifier(new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    });\nOkHttpClient client = builder.build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1435805,"reputation":123,"user_id":1357218,"display_name":"Bas"},"score":1,"creation_date":1547904818,"post_id":47762381,"comment_id":95358344,"body_markdown":"Thank you so much, in particular the Subject alternative name _must_ be set if it is an IP address instead of a hostname: \n\n&quot;In some cases, the URI is specified as an IP address rather than a\n   hostname. In this case, the iPAddress subjectAltName must be present\n   in the certificate and must exactly match the IP in the URI.&quot; https://tools.ietf.org/html/rfc2818#section-3.1","body":"Thank you so much, in particular the Subject alternative name <i>must</i> be set if it is an IP address instead of a hostname:   &quot;In some cases, the URI is specified as an IP address rather than a    hostname. In this case, the iPAddress subjectAltName must be present    in the certificate and must exactly match the IP in the URI.&quot; <a href=\"https://tools.ietf.org/html/rfc2818#section-3.1\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc2818#section-3.1</a>"}],"tags":[],"owner":{"account_id":9852801,"reputation":61,"user_id":7298326,"display_name":"Rahul Goel"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513030747,"creation_date":1513030747,"answer_id":47762381,"question_id":31917988,"body_markdown":"Please check if CN name on the client cert is added to the Subject alternative name. I had the same issue ","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>Please check if CN name on the client cert is added to the Subject alternative name. I had the same issue </p>\n"},{"tags":[],"owner":{"account_id":6355638,"reputation":2061,"user_id":4933053,"accept_rate":94,"display_name":"droid192"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589501390,"creation_date":1589501390,"answer_id":61809513,"question_id":31917988,"body_markdown":"During cert generation the `subjectAltName` must be set if the uri is an ip to not fall through validation.\r\n\r\n&gt;  &quot;In some cases, the URI is specified as an IP address rather than a hostname. In this case, the iPAddress subjectAltName must be present in the certificate and must exactly match the IP in the URI.&quot; [RFC][1]  (mentioned by Bas in comment)\r\n\r\nInstead of fiddeling client side with `HostnameVerifier` or else, reiusse the self-signed cert (which we have control over) via:\r\n\r\n```\r\nopenssl req \\\r\n-newkey rsa:2048 \\\r\n-nodes \\\r\n-x509 \\\r\n-days 36500 -nodes \\\r\n-addext &quot;subjectAltName = IP.1:1.2.3.4&quot; \\\r\n-keyout /etc/ssl/private/nginx-selfsigned2.key \\\r\n-out /etc/ssl/certs/nginx-selfsigned2.crt\r\n```\r\n\r\nAddon, if on android one also needs to trust the cert:\r\n\r\n\r\n```\r\nthe crt is pem format and can be imported into android via\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;\r\n        &lt;trust-anchors&gt;\r\n            &lt;certificates src=&quot;@raw/nginx_selfsigned2&quot; /&gt;\r\n            &lt;certificates src=&quot;system&quot; /&gt;\r\n        &lt;/trust-anchors&gt;\r\n    &lt;/base-config&gt;\r\n&lt;/network-security-config&gt;\r\n```\r\n\r\nThus we verify the cert is from a trusted source And previously by hostname verification (via SAN) ensured the server we talk to presents the right cert for his ip.\r\n\r\nmore here: https://developer.android.com/training/articles/security-config\r\nhttps://developer.android.com/training/articles/security-ssl.html#SelfSigned\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2818#section-3.1","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>During cert generation the <code>subjectAltName</code> must be set if the uri is an ip to not fall through validation.</p>\n<blockquote>\n<p>&quot;In some cases, the URI is specified as an IP address rather than a hostname. In this case, the iPAddress subjectAltName must be present in the certificate and must exactly match the IP in the URI.&quot; <a href=\"https://www.rfc-editor.org/rfc/rfc2818#section-3.1\" rel=\"nofollow noreferrer\">RFC</a>  (mentioned by Bas in comment)</p>\n</blockquote>\n<p>Instead of fiddeling client side with <code>HostnameVerifier</code> or else, reiusse the self-signed cert (which we have control over) via:</p>\n<pre><code>openssl req \\\n-newkey rsa:2048 \\\n-nodes \\\n-x509 \\\n-days 36500 -nodes \\\n-addext &quot;subjectAltName = IP.1:1.2.3.4&quot; \\\n-keyout /etc/ssl/private/nginx-selfsigned2.key \\\n-out /etc/ssl/certs/nginx-selfsigned2.crt\n</code></pre>\n<p>Addon, if on android one also needs to trust the cert:</p>\n<pre><code>the crt is pem format and can be imported into android via\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;false&quot;&gt;\n        &lt;trust-anchors&gt;\n            &lt;certificates src=&quot;@raw/nginx_selfsigned2&quot; /&gt;\n            &lt;certificates src=&quot;system&quot; /&gt;\n        &lt;/trust-anchors&gt;\n    &lt;/base-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n<p>Thus we verify the cert is from a trusted source And previously by hostname verification (via SAN) ensured the server we talk to presents the right cert for his ip.</p>\n<p>more here: <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-config</a>\n<a href=\"https://developer.android.com/training/articles/security-ssl.html#SelfSigned\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-ssl.html#SelfSigned</a></p>\n"},{"tags":[],"owner":{"account_id":12921100,"reputation":366,"user_id":9343558,"display_name":"Pooya Chavoshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619012538,"creation_date":1619012538,"answer_id":67197122,"question_id":31917988,"body_markdown":"If you are used `network_security_config` in `res/xml` for solve` Cleartext HTTP traffic not permitted` and you changed domain/IP address remember that you should change `includeSubdomains` value to the new address.\r\nThis worked for me.\r\n\r\n\r\n      &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n          &lt;domain includeSubdomains=&quot;true&quot;&gt;yourDomain.com&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n      &lt;/network-security-config&gt;","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>If you are used <code>network_security_config</code> in <code>res/xml</code> for solve<code> Cleartext HTTP traffic not permitted</code> and you changed domain/IP address remember that you should change <code>includeSubdomains</code> value to the new address.\nThis worked for me.</p>\n<pre><code>  &lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n      &lt;domain includeSubdomains=&quot;true&quot;&gt;yourDomain.com&lt;/domain&gt;\n    &lt;/domain-config&gt;\n  &lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20971946,"reputation":874,"user_id":15408905,"display_name":"adwardwo1f"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666834792,"creation_date":1666834792,"answer_id":74215871,"question_id":31917988,"body_markdown":"Using HTTPS instead of HTTP also causes this error. \r\n\r\nWhen changing your URL to HTTP don&#39;t forget to add `android:usesCleartextTraffic=&quot;true&quot;` on `AndroidManifest` file inside `application` tag.","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>Using HTTPS instead of HTTP also causes this error.</p>\n<p>When changing your URL to HTTP don't forget to add <code>android:usesCleartextTraffic=&quot;true&quot;</code> on <code>AndroidManifest</code> file inside <code>application</code> tag.</p>\n"}],"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60007,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":32013366,"answer_count":7,"score":35,"last_activity_date":1666834792,"creation_date":1439204945,"question_id":31917988,"body_markdown":"I&#39;ve been trying for days to get this working. I&#39;m trying to connect to my server over **https** with a self signed certificate. I don&#39;t think there is any pages or examples that I haven&#39;t read by now. \r\n\r\nWhat I have done:\r\n\r\n1. Created bks keystore by following this tutorial: http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html\r\n\r\nIt uses `openssl s_client -connect domain.com:443` to get the certificate from the server. Then creates a bks keystore using bouncy castle. \r\n\r\n2. Reading created keystore from raw folder adding it to sslfactory and and then to OkHttpClient. Like this:\r\n\r\n        public ApiService() {\r\n            mClient = new OkHttpClient();\r\n            mClient.setConnectTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\r\n            mClient.setReadTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\r\n            mClient.setCache(getCache());\r\n            mClient.setCertificatePinner(getPinnedCerts());\r\n            mClient.setSslSocketFactory(getSSL());\r\n        }\r\n    \r\n        protected SSLSocketFactory getSSL() {\r\n            try {\r\n                KeyStore trusted = KeyStore.getInstance(&quot;BKS&quot;);\r\n                InputStream in = Beadict.getAppContext().getResources().openRawResource(R.raw.mytruststore);\r\n                trusted.load(in, &quot;pwd&quot;.toCharArray());\r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                trustManagerFactory.init(trusted);\r\n                sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n                return sslContext.getSocketFactory();\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public CertificatePinner getPinnedCerts() {\r\n            return new CertificatePinner.Builder()\r\n                    .add(&quot;domain.com&quot;, &quot;sha1/theSha=&quot;)\r\n                    .build();\r\n        }\r\n\r\n3. This for some reason this always generates a `SSLPeerUnverifiedException` with or without the keystore. And with or without the `CertificatePinner`. \r\n\r\n        javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified: 0         \r\n         W/System.err﹕ certificate: sha1/theSha=\r\n         W/System.err﹕ DN: 1.2.840.113549.1.9.1=#1610696e666f40626561646963742e636f6d,CN=http://domain.com,OU=development,O=domain,L=Valencia,ST=Valencia,C=ES\r\n         W/System.err﹕ subjectAltNames: []\r\n         W/System.err﹕ at com.squareup.okhttp.internal.http.SocketConnector.connectTls(SocketConnector.java:124)\r\n         W/System.err﹕ at com.squareup.okhttp.Connection.connect(Connection.java:143)\r\n         W/System.err﹕ at com.squareup.okhttp.Connection.connectAndSetOwner(Connection.java:185)\r\n         W/System.err﹕ at com.squareup.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:128)\r\n         W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.nextConnection(HttpEngine.java:341)\r\n         W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:330)\r\n         W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:248)\r\n         W/System.err﹕ at com.squareup.okhttp.Call.getResponse(Call.java:273)\r\n         W/System.err﹕ at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:230)\r\n         W/System.err﹕ at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:201)\r\n         W/System.err﹕ at com.squareup.okhttp.Call.execute(Call.java:81)\r\n         ...\r\n\r\nWhat am I doing wrong?","title":"OkHttp javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified","body":"<p>I've been trying for days to get this working. I'm trying to connect to my server over <strong>https</strong> with a self signed certificate. I don't think there is any pages or examples that I haven't read by now. </p>\n\n<p>What I have done:</p>\n\n<ol>\n<li>Created bks keystore by following this tutorial: <a href=\"http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html\">http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html</a></li>\n</ol>\n\n<p>It uses <code>openssl s_client -connect domain.com:443</code> to get the certificate from the server. Then creates a bks keystore using bouncy castle. </p>\n\n<ol start=\"2\">\n<li><p>Reading created keystore from raw folder adding it to sslfactory and and then to OkHttpClient. Like this:</p>\n\n<pre><code>public ApiService() {\n    mClient = new OkHttpClient();\n    mClient.setConnectTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\n    mClient.setReadTimeout(TIMEOUT_SECONDS, TimeUnit.SECONDS);\n    mClient.setCache(getCache());\n    mClient.setCertificatePinner(getPinnedCerts());\n    mClient.setSslSocketFactory(getSSL());\n}\n\nprotected SSLSocketFactory getSSL() {\n    try {\n        KeyStore trusted = KeyStore.getInstance(\"BKS\");\n        InputStream in = Beadict.getAppContext().getResources().openRawResource(R.raw.mytruststore);\n        trusted.load(in, \"pwd\".toCharArray());\n        SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trusted);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n        return sslContext.getSocketFactory();\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic CertificatePinner getPinnedCerts() {\n    return new CertificatePinner.Builder()\n            .add(\"domain.com\", \"sha1/theSha=\")\n            .build();\n}\n</code></pre></li>\n<li><p>This for some reason this always generates a <code>SSLPeerUnverifiedException</code> with or without the keystore. And with or without the <code>CertificatePinner</code>. </p>\n\n<pre><code>javax.net.ssl.SSLPeerUnverifiedException: Hostname domain.com not verified: 0         \n W/System.err﹕ certificate: sha1/theSha=\n W/System.err﹕ DN: 1.2.840.113549.1.9.1=#1610696e666f40626561646963742e636f6d,CN=http://domain.com,OU=development,O=domain,L=Valencia,ST=Valencia,C=ES\n W/System.err﹕ subjectAltNames: []\n W/System.err﹕ at com.squareup.okhttp.internal.http.SocketConnector.connectTls(SocketConnector.java:124)\n W/System.err﹕ at com.squareup.okhttp.Connection.connect(Connection.java:143)\n W/System.err﹕ at com.squareup.okhttp.Connection.connectAndSetOwner(Connection.java:185)\n W/System.err﹕ at com.squareup.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:128)\n W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.nextConnection(HttpEngine.java:341)\n W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:330)\n W/System.err﹕ at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:248)\n W/System.err﹕ at com.squareup.okhttp.Call.getResponse(Call.java:273)\n W/System.err﹕ at com.squareup.okhttp.Call$ApplicationInterceptorChain.proceed(Call.java:230)\n W/System.err﹕ at com.squareup.okhttp.Call.getResponseWithInterceptorChain(Call.java:201)\n W/System.err﹕ at com.squareup.okhttp.Call.execute(Call.java:81)\n ...\n</code></pre></li>\n</ol>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666778223,"post_id":74205553,"comment_id":131014745,"body_markdown":"Hi&amp; Welcome! Why not/tried:  `CurrentPrice currentPrice = restTemplate.getForObject(&quot;...&quot;, CurrentPrice.class);`? (Without &quot;string crutch&quot;)","body":"Hi&amp; Welcome! Why not/tried:  <code>CurrentPrice currentPrice = restTemplate.getForObject(&quot;...&quot;, CurrentPrice.class);</code>? (Without &quot;string crutch&quot;)"},{"owner":{"account_id":3076358,"reputation":512,"user_id":2605566,"display_name":"Godwin"},"score":0,"creation_date":1666781534,"post_id":74205553,"comment_id":131015837,"body_markdown":"Have you tried adding @JsonUnwrapped to private CurrentInfo USD; This is because this is a nested part under the parent class. example : https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm","body":"Have you tried adding @JsonUnwrapped to private CurrentInfo USD; This is because this is a nested part under the parent class. example : <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/jackson_annotations/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666803185,"post_id":74205553,"comment_id":131024088,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26736261,"reputation":1,"user_id":20337795,"display_name":"YYC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666834736,"creation_date":1666776820,"question_id":74205553,"body_markdown":"```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\nString result = restTemplate.getForObject(&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;, String.class);\r\n\r\nCurrentPrice currentPrice = objectMapper.readValue(result, CurrentPrice.class);\r\n\r\nSystem.out.println(currentPrice.toString());\r\n```\r\n\r\nCurrentPrice.class\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class CurrentPrice {\r\n\r\n    private String disclaimer;\r\n\r\n    private String chartName;\r\n\r\n    private Time time;\r\n\r\n    private CurrentDetail bpi;\r\n\r\n}\r\n```\r\n\r\nTime.class\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Time {\r\n\r\n    private String updated;\r\n\r\n    private String updatedISO;\r\n\r\n    private String updateduk;\r\n\r\n}\r\n```\r\n\r\nCurrentDetali.class\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class CurrentDetail {\r\n\r\n    private CurrentInfo USD;\r\n\r\n    private CurrentInfo GBP;\r\n\r\n    private CurrentInfo EUR;\r\n\r\n}\r\n```\r\n\r\nCurrentInfo.class\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class CurrentInfo {\r\n\r\n    private String code;\r\n\r\n    private String symbol;\r\n\r\n    private String rate;\r\n\r\n    private String description;\r\n\r\n    private BigDecimal rate_float;\r\n\r\n}\r\n```\r\n\r\nCurrentPrice(Current result is not my expect)\r\n```lang-text\r\nCurrentPrice(disclaimer=This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org, chartName=Bitcoin, time=Time(updated=Oct 26, 2022 09:15:00 UTC, updatedISO=2022-10-26T09:15:00+00:00, updateduk=Oct 26, 2022 at 10:15 BST), bpi=CurrentDetail(USD=null, GBP=null, EUR=null))\r\n```\r\n\r\nI want API Data converter to CurrentPrice is\r\nCurrentPrice(disclaimer=This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org, chartName=Bitcoin, time=Time(updated=Oct 26, 2022 09:15:00 UTC, updatedISO=2022-10-26T09:15:00+00:00, updateduk=Oct 26, 2022 at 10:15 BST), bpi=CurrentDetail(USD=CurrentInfo(code=USD,symbol=$,rate=20,229.4096,description=United States Dollar,rate_float=20229.4096), CurrentDetail(USD=CurrentInfo(code=GBP,symbol=$,rate=20,229.4096,description=British Pound Sterling,rate_float=20229.4096), CurrentInfo(code=GBP,symbol=$,rate=20,229.4096,description=British Pound Sterling,rate_float=20229.4096)))\r\n\r\n","title":"Response Json data convert to customize model object","body":"<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString result = restTemplate.getForObject(&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;, String.class);\n\nCurrentPrice currentPrice = objectMapper.readValue(result, CurrentPrice.class);\n\nSystem.out.println(currentPrice.toString());\n</code></pre>\n<p>CurrentPrice.class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CurrentPrice {\n\n    private String disclaimer;\n\n    private String chartName;\n\n    private Time time;\n\n    private CurrentDetail bpi;\n\n}\n</code></pre>\n<p>Time.class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Time {\n\n    private String updated;\n\n    private String updatedISO;\n\n    private String updateduk;\n\n}\n</code></pre>\n<p>CurrentDetali.class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CurrentDetail {\n\n    private CurrentInfo USD;\n\n    private CurrentInfo GBP;\n\n    private CurrentInfo EUR;\n\n}\n</code></pre>\n<p>CurrentInfo.class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CurrentInfo {\n\n    private String code;\n\n    private String symbol;\n\n    private String rate;\n\n    private String description;\n\n    private BigDecimal rate_float;\n\n}\n</code></pre>\n<p>CurrentPrice(Current result is not my expect)</p>\n<pre class=\"lang-text prettyprint-override\"><code>CurrentPrice(disclaimer=This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org, chartName=Bitcoin, time=Time(updated=Oct 26, 2022 09:15:00 UTC, updatedISO=2022-10-26T09:15:00+00:00, updateduk=Oct 26, 2022 at 10:15 BST), bpi=CurrentDetail(USD=null, GBP=null, EUR=null))\n</code></pre>\n<p>I want API Data converter to CurrentPrice is\nCurrentPrice(disclaimer=This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org, chartName=Bitcoin, time=Time(updated=Oct 26, 2022 09:15:00 UTC, updatedISO=2022-10-26T09:15:00+00:00, updateduk=Oct 26, 2022 at 10:15 BST), bpi=CurrentDetail(USD=CurrentInfo(code=USD,symbol=$,rate=20,229.4096,description=United States Dollar,rate_float=20229.4096), CurrentDetail(USD=CurrentInfo(code=GBP,symbol=$,rate=20,229.4096,description=British Pound Sterling,rate_float=20229.4096), CurrentInfo(code=GBP,symbol=$,rate=20,229.4096,description=British Pound Sterling,rate_float=20229.4096)))</p>\n"},{"tags":["java","equals","contains"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1666830297,"post_id":74215495,"comment_id":131030999,"body_markdown":"Which implementation of `List&lt;...&gt;`?","body":"Which implementation of <code>List&lt;...&gt;</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666833229,"post_id":74215495,"comment_id":131031427,"body_markdown":"Did you obey every bulleted rule in [the Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) for `Object#equals`?","body":"Did you obey every bulleted rule in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">the Javadoc</a> for <code>Object#equals</code>?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1666833091,"post_id":74215578,"comment_id":131031405,"body_markdown":"In other words, seems you are saying that the implementation of `Item`, having failed to override `Object#equals`, has broken the second rule stated in the `equals` contract defined in the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)): &#170;It is *symmetric*: for any non-null reference values `x` and `y`, `x.equals(y)` should return `true` if and only if `y.equals(x)` returns `true`.”","body":"In other words, seems you are saying that the implementation of <code>Item</code>, having failed to override <code>Object#equals</code>, has broken the second rule stated in the <code>equals</code> contract defined in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadoc</a>: &#170;It is <i>symmetric</i>: for any non-null reference values <code>x</code> and <code>y</code>, <code>x.equals(y)</code> should return <code>true</code> if and only if <code>y.equals(x)</code> returns <code>true</code>.”"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1666837807,"post_id":74215578,"comment_id":131032034,"body_markdown":"@BasilBourque Yes, that&#39;s an excellent way of putting it :-)","body":"@BasilBourque Yes, that&#39;s an excellent way of putting it :-)"},{"owner":{"account_id":228217,"reputation":1065,"user_id":490383,"accept_rate":38,"display_name":"arlen"},"score":0,"creation_date":1666889631,"post_id":74215578,"comment_id":131047493,"body_markdown":"My question is why `equals` works but `contains` does not?","body":"My question is why <code>equals</code> works but <code>contains</code> does not?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1666891643,"post_id":74215578,"comment_id":131048133,"body_markdown":"Because when `contains()` does the comparison, it ends up using the `equals()` method from `Item`, which does not override the `Object#equals()` method and does not do what you seem to expect.","body":"Because when <code>contains()</code> does the comparison, it ends up using the <code>equals()</code> method from <code>Item</code>, which does not override the <code>Object#equals()</code> method and does not do what you seem to expect."},{"owner":{"account_id":228217,"reputation":1065,"user_id":490383,"accept_rate":38,"display_name":"arlen"},"score":0,"creation_date":1666901553,"post_id":74215578,"comment_id":131051139,"body_markdown":"I see, relocationDisabledProduct.equals(item) uses `equals` in `RelocationDisabledProduct` and getRelocationDisabledProducts().contains(item) uses `equals` in `Item`.","body":"I see, relocationDisabledProduct.equals(item) uses <code>equals</code> in <code>RelocationDisabledProduct</code> and getRelocationDisabledProducts().contains(item) uses <code>equals</code> in <code>Item</code>."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1666905186,"post_id":74215578,"comment_id":131052140,"body_markdown":"Yes. As @BasilBourque noted, if you&#39;re going to write an `equals()` method that accepts a different type of object, it needs to be symmetric -- i.e. return the same result regardless of the order in which the arguments are presented.  That means writing an equivalent `equals()` method for `Item`.  But that way lies madness and eternal curses from those who have to maintain your code. You should refactor things so you don&#39;t need to do that.","body":"Yes. As @BasilBourque noted, if you&#39;re going to write an <code>equals()</code> method that accepts a different type of object, it needs to be symmetric -- i.e. return the same result regardless of the order in which the arguments are presented.  That means writing an equivalent <code>equals()</code> method for <code>Item</code>.  But that way lies madness and eternal curses from those who have to maintain your code. You should refactor things so you don&#39;t need to do that."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666831093,"creation_date":1666831093,"answer_id":74215578,"question_id":74215495,"body_markdown":"I believe this is due to the definition of `AbstractCollection&lt;E&gt; contains(Object o)`.  The Javadoc says\r\n\r\n&gt;public boolean contains​(Object o)\r\n&gt;\r\n&gt;Returns true if this collection contains the specified element. More formally, returns true if and only if this collection contains at least one element e such that Objects.equals(o, e).\r\n\r\nNote the order of arguments to `contains()`.  It is using the `equals()` method from `Item`, not the one from `RelocationDisabledProduct`, which you would have probably seen if you stepped into the code in the debugger.\r\n\r\nBoth `Item` and `RelocationDisabledProduct` need to share a common `equals()` implementation, maybe a default method of a superinterface... you&#39;ll have to work out what makes sense in your case.","title":"List contains method not work on two different classes with the same attributes","body":"<p>I believe this is due to the definition of <code>AbstractCollection&lt;E&gt; contains(Object o)</code>.  The Javadoc says</p>\n<blockquote>\n<p>public boolean contains​(Object o)</p>\n<p>Returns true if this collection contains the specified element. More formally, returns true if and only if this collection contains at least one element e such that Objects.equals(o, e).</p>\n</blockquote>\n<p>Note the order of arguments to <code>contains()</code>.  It is using the <code>equals()</code> method from <code>Item</code>, not the one from <code>RelocationDisabledProduct</code>, which you would have probably seen if you stepped into the code in the debugger.</p>\n<p>Both <code>Item</code> and <code>RelocationDisabledProduct</code> need to share a common <code>equals()</code> implementation, maybe a default method of a superinterface... you'll have to work out what makes sense in your case.</p>\n"}],"owner":{"account_id":228217,"reputation":1065,"user_id":490383,"accept_rate":38,"display_name":"arlen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74215578,"answer_count":1,"score":2,"last_activity_date":1666831093,"creation_date":1666829948,"question_id":74215495,"body_markdown":"I have these two java classes as below:\r\n\r\n**RelocationDisabledProduct**\r\n\r\n```\r\npublic class RelocationDisabledProduct {\r\n    @JsonProperty(&quot;productIdentifierType&quot;)\r\n    private ProductIdentifierType productIdentifierType;\r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n\r\n    @Override\r\n    public boolean equals(final Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null) {\r\n            return false;\r\n        }\r\n        final Item that = (Item)o;\r\n        return Objects.equals(id, that.getId()) &amp;&amp;\r\n            Objects.equals(productIdentifierType, that.getProductIdentifierType());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, productIdentifierType);\r\n    }\r\n}\r\n```\r\n\r\n**Item**\r\n\r\n```\r\npublic class Item {\r\n    private String id;\r\n    private ProductIdentifierType productIdentifierType;\r\n}\r\n```\r\nequals works fine \r\n```\r\nrelocationDisabledProduct.equals(item) // true\r\n```\r\nbut contains does not\r\n\r\n```\r\nList&lt;RelocationDisabledProduct&gt; relocationDisabledProducts;\r\n...\r\ngetRelocationDisabledProducts().contains(item) // false\r\n```\r\n\r\nSince **contains** uses the **equals** method, not sure why my above syntax returns false?","title":"List contains method not work on two different classes with the same attributes","body":"<p>I have these two java classes as below:</p>\n<p><strong>RelocationDisabledProduct</strong></p>\n<pre><code>public class RelocationDisabledProduct {\n    @JsonProperty(&quot;productIdentifierType&quot;)\n    private ProductIdentifierType productIdentifierType;\n\n    @JsonProperty(&quot;id&quot;)\n    private String id;\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null) {\n            return false;\n        }\n        final Item that = (Item)o;\n        return Objects.equals(id, that.getId()) &amp;&amp;\n            Objects.equals(productIdentifierType, that.getProductIdentifierType());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, productIdentifierType);\n    }\n}\n</code></pre>\n<p><strong>Item</strong></p>\n<pre><code>public class Item {\n    private String id;\n    private ProductIdentifierType productIdentifierType;\n}\n</code></pre>\n<p>equals works fine</p>\n<pre><code>relocationDisabledProduct.equals(item) // true\n</code></pre>\n<p>but contains does not</p>\n<pre><code>List&lt;RelocationDisabledProduct&gt; relocationDisabledProducts;\n...\ngetRelocationDisabledProducts().contains(item) // false\n</code></pre>\n<p>Since <strong>contains</strong> uses the <strong>equals</strong> method, not sure why my above syntax returns false?</p>\n"},{"tags":["java","spring-boot","maven","swagger","swagger-codegen"],"answers":[{"comments":[{"owner":{"account_id":8385755,"reputation":1348,"user_id":6296219,"display_name":"Gurunath Sripad"},"score":0,"creation_date":1602768066,"post_id":64372234,"comment_id":113829003,"body_markdown":"You have explained how to configure Swagger UI for the project. M looking at how to use swagger code gen,","body":"You have explained how to configure Swagger UI for the project. M looking at how to use swagger code gen,"}],"tags":[],"owner":{"account_id":19509307,"reputation":97,"user_id":14273578,"display_name":"Muthukumaran G"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602767171,"creation_date":1602767171,"answer_id":64372234,"question_id":64372072,"body_markdown":"For swagger UI you need to give the dependency and need to do some basic configurations and also in REST API you need to include couple of changes\r\n\r\nhttps://blog-api-rest.herokuapp.com/swagger-ui.html#/ \r\n\r\nYou can refer this API created using Swagger\r\n\r\nIn Spring boot main application file include the following code\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableSwagger2\r\n    public class BlogappApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(BlogappApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Docket api() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n    \t\t\t\t.apis(RequestHandlerSelectors\r\n    \t\t\t\t\t\t.basePackage(&quot;com.example.blogapp.controller&quot;))\r\n    \t\t\t\t.paths(PathSelectors.regex(&quot;/.*&quot;))\r\n    \t\t\t\t.build().apiInfo(apiEndPointsInfo());\r\n    \t}\r\n    \r\n    \tprivate ApiInfo apiEndPointsInfo() {\r\n    \t\treturn new ApiInfoBuilder().title(&quot;Spring Boot REST API&quot;)\r\n    \t\t\t\t.description(&quot;Blog Application REST API&quot;)\r\n    \t\t\t\t.contact(new Contact(&quot;name&quot;, &quot;url&quot;, &quot;email id&quot;))\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }\r\n\r\nAnd modify each and every controllers like the below code\r\n\r\n    @ApiOperation(value = &quot;Deleting a comment&quot;, response = String.class)\r\n        @ApiParam(value = &quot;Comment ID&quot;, required = true)\r\n        @ApiImplicitParam(name = &quot;Authorization&quot;, value = &quot;Access Token&quot;, required = true, allowEmptyValue = false, paramType = &quot;header&quot;, dataTypeClass = String.class, example = &quot;Bearer access_token&quot;)\r\n        @DeleteMapping\r\n        public String delete(@RequestParam String id){\r\n            return commentService.delete(id);\r\n        }\r\n\r\nBefore using the codes go through the heroku swagger link I have given\r\n\r\n","title":"How to include swagger generated classes in project directory","body":"<p>For swagger UI you need to give the dependency and need to do some basic configurations and also in REST API you need to include couple of changes</p>\n<p><a href=\"https://blog-api-rest.herokuapp.com/swagger-ui.html#/\" rel=\"nofollow noreferrer\">https://blog-api-rest.herokuapp.com/swagger-ui.html#/</a></p>\n<p>You can refer this API created using Swagger</p>\n<p>In Spring boot main application file include the following code</p>\n<pre><code>@SpringBootApplication\n@EnableSwagger2\npublic class BlogappApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BlogappApplication.class, args);\n    }\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors\n                        .basePackage(&quot;com.example.blogapp.controller&quot;))\n                .paths(PathSelectors.regex(&quot;/.*&quot;))\n                .build().apiInfo(apiEndPointsInfo());\n    }\n\n    private ApiInfo apiEndPointsInfo() {\n        return new ApiInfoBuilder().title(&quot;Spring Boot REST API&quot;)\n                .description(&quot;Blog Application REST API&quot;)\n                .contact(new Contact(&quot;name&quot;, &quot;url&quot;, &quot;email id&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>And modify each and every controllers like the below code</p>\n<pre><code>@ApiOperation(value = &quot;Deleting a comment&quot;, response = String.class)\n    @ApiParam(value = &quot;Comment ID&quot;, required = true)\n    @ApiImplicitParam(name = &quot;Authorization&quot;, value = &quot;Access Token&quot;, required = true, allowEmptyValue = false, paramType = &quot;header&quot;, dataTypeClass = String.class, example = &quot;Bearer access_token&quot;)\n    @DeleteMapping\n    public String delete(@RequestParam String id){\n        return commentService.delete(id);\n    }\n</code></pre>\n<p>Before using the codes go through the heroku swagger link I have given</p>\n"},{"tags":[],"owner":{"account_id":11025680,"reputation":184,"user_id":8098669,"display_name":"neshant sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666830574,"creation_date":1666830574,"answer_id":74215536,"question_id":64372072,"body_markdown":"I also wanted to achieve what you were trying and although I fumbled initially I figured it out eventually, I did not have to do anything special. One caveat is that I used `swagger-codegen-maven-plugin` instead of the `openapi-generator-maven-plugin`. \r\n\r\nHere is how my configuration look like on the day of latest version \r\n`swagger-codegen-maven-plugin` version `3.0.35`. When I ran `mvn compile` all my classes were generated in the target folder and src main java was marked as sources folder. I was directly able to implement my own controller directly in the project by referencing the generated code API. Tbh the documentation of `swagger-codegen-maven-plugin` is not the best , I had to look at several places to make sense. Adding some references \r\n\r\n**General Configuration parameters:** \r\nhttps://github.com/swagger-api/swagger-codegen/tree/master/modules/swagger-codegen-maven-plugin\r\n\r\n**Config Options:** \r\nhttps://github.com/swagger-api/swagger-codegen/issues/7795\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.35&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;inputSpec&gt;${project.basedir}/api-docs/swagger.yaml&lt;/inputSpec&gt;\r\n\r\n                  &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n                  &lt;generateModels&gt;true&lt;/generateModels&gt;\r\n                  &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n                  &lt;language&gt;spring&lt;/language&gt;\r\n\r\n                  &lt;configOptions&gt;\r\n\r\n                    &lt;basePackage&gt;com.company.project&lt;/basePackage&gt;\r\n                    &lt;apiPackage&gt;com.company.project.api&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;com.company.project.model&lt;/modelPackage&gt;\r\n\r\n                    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                    &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                    &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n                    &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\r\n                    &lt;ignoreUnknownJacksonAnnotation&gt;true&lt;/ignoreUnknownJacksonAnnotation&gt;\r\n                    &lt;notNullJacksonAnnotation&gt;true&lt;/notNullJacksonAnnotation&gt;\r\n                    &lt;dateLibrary&gt;false&lt;/dateLibrary&gt;\r\n                    &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n\r\n                  &lt;/configOptions&gt;\r\n\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;","title":"How to include swagger generated classes in project directory","body":"<p>I also wanted to achieve what you were trying and although I fumbled initially I figured it out eventually, I did not have to do anything special. One caveat is that I used <code>swagger-codegen-maven-plugin</code> instead of the <code>openapi-generator-maven-plugin</code>.</p>\n<p>Here is how my configuration look like on the day of latest version\n<code>swagger-codegen-maven-plugin</code> version <code>3.0.35</code>. When I ran <code>mvn compile</code> all my classes were generated in the target folder and src main java was marked as sources folder. I was directly able to implement my own controller directly in the project by referencing the generated code API. Tbh the documentation of <code>swagger-codegen-maven-plugin</code> is not the best , I had to look at several places to make sense. Adding some references</p>\n<p><strong>General Configuration parameters:</strong>\n<a href=\"https://github.com/swagger-api/swagger-codegen/tree/master/modules/swagger-codegen-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/tree/master/modules/swagger-codegen-maven-plugin</a></p>\n<p><strong>Config Options:</strong>\n<a href=\"https://github.com/swagger-api/swagger-codegen/issues/7795\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/issues/7795</a></p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.35&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;inputSpec&gt;${project.basedir}/api-docs/swagger.yaml&lt;/inputSpec&gt;\n\n              &lt;generateApis&gt;true&lt;/generateApis&gt;\n              &lt;generateModels&gt;true&lt;/generateModels&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n              &lt;language&gt;spring&lt;/language&gt;\n\n              &lt;configOptions&gt;\n\n                &lt;basePackage&gt;com.company.project&lt;/basePackage&gt;\n                &lt;apiPackage&gt;com.company.project.api&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;com.company.project.model&lt;/modelPackage&gt;\n\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                &lt;dateLibrary&gt;java11&lt;/dateLibrary&gt;\n                &lt;ignoreUnknownJacksonAnnotation&gt;true&lt;/ignoreUnknownJacksonAnnotation&gt;\n                &lt;notNullJacksonAnnotation&gt;true&lt;/notNullJacksonAnnotation&gt;\n                &lt;dateLibrary&gt;false&lt;/dateLibrary&gt;\n                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n\n              &lt;/configOptions&gt;\n\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8385755,"reputation":1348,"user_id":6296219,"display_name":"Gurunath Sripad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74215536,"answer_count":2,"score":3,"last_activity_date":1666830574,"creation_date":1602766509,"question_id":64372072,"body_markdown":"I am trying to use Swagger Codegen to generate model classes for my spring boot project. I found some references online and included the following plugin in my pom.xml:\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;\r\n\t\t\t\t\t\t\t\t${project.basedir}/src/main/resources/Contract-v1.yml\r\n\t\t\t\t\t\t\t&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;${project.groupId}.swagger.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;${project.groupId}.swagger.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;supportingFilesToGenerate&gt;\r\n\t\t\t\t\t\t\t\tApiUtil.java\r\n\t\t\t\t\t\t\t&lt;/supportingFilesToGenerate&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java/&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI run ```mvn install``` and the classes are generated in the directory ```/target/generated-sources/openapi```. But I am unable to import these generated classes in my REST controller class. \r\n\r\nMy understanding is that the ```&lt;modelPackage&gt;``` field is used to identify the package in which the generated classes have to be placed. Am I right about this? \r\n\r\nEven though these generated classes are in the right package, since they are not in the ```src/main/java```, i am probably not able to import them in other classes.\r\n\r\n\r\nIs there way to get these generated classes under the ```src/main/java``` directory or am I missing something in the maven config due to which these files are unavailable to other classes ?","title":"How to include swagger generated classes in project directory","body":"<p>I am trying to use Swagger Codegen to generate model classes for my spring boot project. I found some references online and included the following plugin in my pom.xml:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;inputSpec&gt;\n                            ${project.basedir}/src/main/resources/Contract-v1.yml\n                        &lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;apiPackage&gt;${project.groupId}.swagger.api&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;${project.groupId}.swagger.model&lt;/modelPackage&gt;\n                        &lt;supportingFilesToGenerate&gt;\n                            ApiUtil.java\n                        &lt;/supportingFilesToGenerate&gt;\n                        &lt;configOptions&gt;\n                            &lt;sourceFolder&gt;src/main/java/&lt;/sourceFolder&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I run <code>mvn install</code> and the classes are generated in the directory <code>/target/generated-sources/openapi</code>. But I am unable to import these generated classes in my REST controller class.</p>\n<p>My understanding is that the <code>&lt;modelPackage&gt;</code> field is used to identify the package in which the generated classes have to be placed. Am I right about this?</p>\n<p>Even though these generated classes are in the right package, since they are not in the <code>src/main/java</code>, i am probably not able to import them in other classes.</p>\n<p>Is there way to get these generated classes under the <code>src/main/java</code> directory or am I missing something in the maven config due to which these files are unavailable to other classes ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1404881872,"post_id":24645577,"comment_id":38201853,"body_markdown":"Can you clarify what you mean by &quot;positive number&quot;?  Is `2.5` a positive number?  What about `π`?","body":"Can you clarify what you mean by &quot;positive number&quot;?  Is <code>2.5</code> a positive number?  What about <code>π</code>?"},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404882135,"post_id":24645577,"comment_id":38201953,"body_markdown":"updated--&gt; positive natural number","body":"updated--&gt; positive natural number"}],"answers":[{"comments":[{"owner":{"account_id":2906812,"reputation":21459,"user_id":2491900,"display_name":"shree.pat18"},"score":0,"creation_date":1404881632,"post_id":24645601,"comment_id":38201793,"body_markdown":"@AlexandreSantos This regex rejects &quot;0&quot; so it works.","body":"@AlexandreSantos This regex rejects &quot;0&quot; so it works."},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404881769,"post_id":24645601,"comment_id":38201824,"body_markdown":"it does work for 0, great simple solution, thax u very muxh Dimo","body":"it does work for 0, great simple solution, thax u very muxh Dimo"},{"owner":{"account_id":2331977,"reputation":1709,"user_id":2045169,"accept_rate":91,"display_name":"jr."},"score":0,"creation_date":1404881948,"post_id":24645601,"comment_id":38201883,"body_markdown":"This matches &quot;092383&quot;. Should that be allowed? If that&#39;s allowed, shouldn&#39;t &quot;+92383&quot; be allowed as well? How about `\\+?\\d*[1-9]\\d*`?","body":"This matches &quot;092383&quot;. Should that be allowed? If that&#39;s allowed, shouldn&#39;t &quot;+92383&quot; be allowed as well? How about <code>\\+?\\d*[1-9]\\d*</code>?"},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404882072,"post_id":24645601,"comment_id":38201926,"body_markdown":"I don&#39;t want + in the string","body":"I don&#39;t want + in the string"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1404882088,"post_id":24645601,"comment_id":38201932,"body_markdown":"Admittedly the question&#39;s requirements are vague (which is why I really suggest using `BigInteger`), but I infer from &quot;*if a String contain[s] all &#39;0&#39; char then return false*&quot; that a string like `092383` should match.  We can expand the pattern if OP clarifies the requirements.","body":"Admittedly the question&#39;s requirements are vague (which is why I really suggest using <code>BigInteger</code>), but I infer from &quot;<i>if a String contain[s] all &#39;0&#39; char then return false</i>&quot; that a string like <code>092383</code> should match.  We can expand the pattern if OP clarifies the requirements."},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404882181,"post_id":24645601,"comment_id":38201964,"body_markdown":"It&#39;s &quot;Positive natural number&quot;","body":"It&#39;s &quot;Positive natural number&quot;"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1404882261,"post_id":24645601,"comment_id":38201986,"body_markdown":"To be fair, `092383` is not normally consider a valid representation of a natural number.","body":"To be fair, <code>092383</code> is not normally consider a valid representation of a natural number."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1404882372,"post_id":24645601,"comment_id":38202023,"body_markdown":"@dimo414, 092383 is absolutely a natural number.  It&#39;s just not written in the standard way.","body":"@dimo414, 092383 is absolutely a natural number.  It&#39;s just not written in the standard way."},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404882463,"post_id":24645601,"comment_id":38202057,"body_markdown":"Hi Dino, I just updated my question, is it clear enough for you? does ur solution meet my requirement?","body":"Hi Dino, I just updated my question, is it clear enough for you? does ur solution meet my requirement?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1404882553,"post_id":24645601,"comment_id":38202084,"body_markdown":"@DavidWallace fair enough, clarified my comment.","body":"@DavidWallace fair enough, clarified my comment."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1404882686,"post_id":24645601,"comment_id":38202121,"body_markdown":"@Tum yes, either of the patterns I posted will match the strings you&#39;re describing, depending on how restrictive you&#39;re trying to be.","body":"@Tum yes, either of the patterns I posted will match the strings you&#39;re describing, depending on how restrictive you&#39;re trying to be."},{"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"score":0,"creation_date":1404884235,"post_id":24645601,"comment_id":38202603,"body_markdown":"thax u very much for ur solution","body":"thax u very much for ur solution"},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1666584097,"post_id":24645601,"comment_id":130963759,"body_markdown":"@dimo414 If you only want (positive) natural numbers and without dost, comma or anything then `^[1-9]+$` is a better way to do it.","body":"@dimo414 If you only want (positive) natural numbers and without dost, comma or anything then <code>^[1-9]+$</code> is a better way to do it."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1666584237,"post_id":24645601,"comment_id":130963781,"body_markdown":"@RemziCavdar that doesn&#39;t match `10`....","body":"@RemziCavdar that doesn&#39;t match <code>10</code>...."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1666584738,"post_id":24645601,"comment_id":130963828,"body_markdown":"@dimo414 Oops, you&#39;re right. Could you help me with this one?","body":"@dimo414 Oops, you&#39;re right. Could you help me with this one?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1666585053,"post_id":24645601,"comment_id":130963865,"body_markdown":"Use `[1-9]\\d*`, like I suggested in my answer.","body":"Use <code>[1-9]\\d*</code>, like I suggested in my answer."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1666585160,"post_id":24645601,"comment_id":130963875,"body_markdown":"@dimo414 Doesn&#39;t work for me and I have tested it on https://regex101.com","body":"@dimo414 Doesn&#39;t work for me and I have tested it on <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a>"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1666585414,"post_id":24645601,"comment_id":130963905,"body_markdown":"I&#39;d suggest posting a new question; saying &quot;doesn&#39;t work for me&quot; with no other details on an eight year old question is not a good way to get help.","body":"I&#39;d suggest posting a new question; saying &quot;doesn&#39;t work for me&quot; with no other details on an eight year old question is not a good way to get help."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1666585435,"post_id":24645601,"comment_id":130963906,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249005/discussion-between-remzi-cavdar-and-dimo414).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249005/discussion-between-remzi-cavdar-and-dimo414\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":19,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1404944693,"creation_date":1404881326,"answer_id":24645601,"question_id":24645577,"body_markdown":"You&#39;d be better off using [`BigInteger`][1] if you&#39;re trying to work with an arbitrarily large integer, however the following pattern should match a series of digits containing at least one non-zero character.\r\n\r\n    \\d*[1-9]\\d*\t\r\n\r\n![Regular expression visualization](https://www.debuggex.com/i/rg9jF3AETqaCMAj8.png)\r\n\r\n[Debuggex Demo](https://www.debuggex.com/r/rg9jF3AETqaCMAj8)\r\n\r\nDebugex&#39;s unit tests seem a little buggy, but you can play with the pattern there.  It&#39;s simple enough that it should be reasonably cross-language compatible, but in Java you&#39;d need to escape it.\r\n\r\n    Pattern positiveNumber = Pattern.compile(&quot;\\\\d*[1-9]\\\\d*&quot;);\r\n\r\n----\r\n\r\nNote the above (intentionally) matches strings we wouldn&#39;t normally consider &quot;positive natural numbers&quot;, as a valid string can start with one or more `0`s, e.g. `000123`.  If you don&#39;t want to match such strings, you can simplify the pattern further.\r\n\r\n    [1-9]\\d*\t\r\n\r\n![Regular expression visualization](https://www.debuggex.com/i/ZEmlyzwjNlq1mnX-.png)\r\n\r\n[Debuggex Demo](https://www.debuggex.com/r/ZEmlyzwjNlq1mnX-)\r\n\r\n    Pattern exactPositiveNumber = Pattern.compile(&quot;[1-9]\\\\d*&quot;);\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","title":"Regular expression to check if a String is a positive natural number","body":"<p>You'd be better off using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow\"><code>BigInteger</code></a> if you're trying to work with an arbitrarily large integer, however the following pattern should match a series of digits containing at least one non-zero character.</p>\n\n<pre><code>\\d*[1-9]\\d* \n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/rg9jF3AETqaCMAj8.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://www.debuggex.com/r/rg9jF3AETqaCMAj8\" rel=\"nofollow\">Debuggex Demo</a></p>\n\n<p>Debugex's unit tests seem a little buggy, but you can play with the pattern there.  It's simple enough that it should be reasonably cross-language compatible, but in Java you'd need to escape it.</p>\n\n<pre><code>Pattern positiveNumber = Pattern.compile(\"\\\\d*[1-9]\\\\d*\");\n</code></pre>\n\n<hr>\n\n<p>Note the above (intentionally) matches strings we wouldn't normally consider \"positive natural numbers\", as a valid string can start with one or more <code>0</code>s, e.g. <code>000123</code>.  If you don't want to match such strings, you can simplify the pattern further.</p>\n\n<pre><code>[1-9]\\d*    \n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/ZEmlyzwjNlq1mnX-.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://www.debuggex.com/r/ZEmlyzwjNlq1mnX-\" rel=\"nofollow\">Debuggex Demo</a></p>\n\n<pre><code>Pattern exactPositiveNumber = Pattern.compile(\"[1-9]\\\\d*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404882314,"creation_date":1404882314,"answer_id":24645744,"question_id":24645577,"body_markdown":"If you want to match positive natural numbers, written in the standard way, without a leading zero, the regular expression you want is\r\n\r\n    [1-9]\\d*\r\n\r\nwhich matches any string of characters consisting only of digits, where the first digit is not zero.  Don&#39;t forget to double the backslash (`&quot;[1-9]\\\\d*&quot;`) if you write it as a Java String literal.","title":"Regular expression to check if a String is a positive natural number","body":"<p>If you want to match positive natural numbers, written in the standard way, without a leading zero, the regular expression you want is</p>\n\n<pre><code>[1-9]\\d*\n</code></pre>\n\n<p>which matches any string of characters consisting only of digits, where the first digit is not zero.  Don't forget to double the backslash (<code>\"[1-9]\\\\d*\"</code>) if you write it as a Java String literal.</p>\n"},{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666828725,"creation_date":1666828725,"answer_id":74215388,"question_id":24645577,"body_markdown":"I made the following regex for only positive natural numbers:\r\n\r\n    ^[1-9]\\d*$\r\n\r\nThis will will check if a number starts with 1 to 9 (so there can&#39;t be any zero&#39;s in the beginning) and there rest of the numbers need to be numbers from 0 to 9. You can test it at https://regex101.com","title":"Regular expression to check if a String is a positive natural number","body":"<p>I made the following regex for only positive natural numbers:</p>\n<pre><code>^[1-9]\\d*$\n</code></pre>\n<p>This will will check if a number starts with 1 to 9 (so there can't be any zero's in the beginning) and there rest of the numbers need to be numbers from 0 to 9. You can test it at <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a></p>\n"}],"owner":{"account_id":2706545,"reputation":3614,"user_id":2336037,"accept_rate":69,"display_name":"Tum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24645601,"answer_count":3,"score":1,"last_activity_date":1666828725,"creation_date":1404881194,"question_id":24645577,"body_markdown":"I want to check if a string is a positive natural number but I don&#39;t want to use `Integer.parseInt()` because the user may enter a number larger than an int.  Instead I would prefer to use a regex to return false if a numeric String contains all &quot;0&quot; characters.\r\n\r\n    if(val.matches(&quot;[0-9]+&quot;)){\r\n        // We know that it will be a number, but what if it is &quot;000&quot;?\r\n        // what should I change to make sure \r\n        // &quot;At Least 1 character in the String is from 1-9&quot;\r\n    }\r\n\r\nNote: the string must contain only `0`-`9` and it must not contain all `0`s; in other words it must have at least 1 character in `[1-9]`.","title":"Regular expression to check if a String is a positive natural number","body":"<p>I want to check if a string is a positive natural number but I don't want to use <code>Integer.parseInt()</code> because the user may enter a number larger than an int.  Instead I would prefer to use a regex to return false if a numeric String contains all \"0\" characters.</p>\n\n<pre><code>if(val.matches(\"[0-9]+\")){\n    // We know that it will be a number, but what if it is \"000\"?\n    // what should I change to make sure \n    // \"At Least 1 character in the String is from 1-9\"\n}\n</code></pre>\n\n<p>Note: the string must contain only <code>0</code>-<code>9</code> and it must not contain all <code>0</code>s; in other words it must have at least 1 character in <code>[1-9]</code>.</p>\n"},{"tags":["java","io","lexer","reader"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1666830184,"post_id":74215387,"comment_id":131030982,"body_markdown":"So I did a really quick test which just used `br.readLine` in a `while-loop` which basically echoed what I wrote.  What I noticed was, `readLine` was not returning the new line character.  So, I had a quick look at the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html) and it states *&quot;A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached without reading any characters&quot;* which matches what I was seeing.  Obviously, this is guess work","body":"So I did a really quick test which just used <code>br.readLine</code> in a <code>while-loop</code> which basically echoed what I wrote.  What I noticed was, <code>readLine</code> was not returning the new line character.  So, I had a quick look at the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">JavaDocs</a> and it states <i>&quot;A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached without reading any characters&quot;</i> which matches what I was seeing.  Obviously, this is guess work"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1666830402,"post_id":74215387,"comment_id":131031011,"body_markdown":"So, I did another test using `read` and what I found was, for me at least, the new line character `\\n` was (int) `10` - again, lots of &quot;assumptions&quot; and &quot;guess work&quot;, as we don&#39;t know how your `Lexer` actually works","body":"So, I did another test using <code>read</code> and what I found was, for me at least, the new line character <code>\\n</code> was (int) <code>10</code> - again, lots of &quot;assumptions&quot; and &quot;guess work&quot;, as we don&#39;t know how your <code>Lexer</code> actually works"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666830840,"post_id":74215387,"comment_id":131031083,"body_markdown":"@MadProgrammer This is interesting. So, do you think that CR (ASCII 13) is being ignored as well? It can&#39;t be. Otherwise, how it is returning back to character column 0?","body":"@MadProgrammer This is interesting. So, do you think that CR (ASCII 13) is being ignored as well? It can&#39;t be. Otherwise, how it is returning back to character column 0?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666831015,"post_id":74215387,"comment_id":131031114,"body_markdown":"I don&#39;t think `CR/13` is been ignored, I don&#39;t think the console is generating it.  Dump each character you read from the `Reader` and see what you&#39;re getting.  You might find using a `Scanner` might be more pratical over all","body":"I don&#39;t think <code>CR&#47;13</code> is been ignored, I don&#39;t think the console is generating it.  Dump each character you read from the <code>Reader</code> and see what you&#39;re getting.  You might find using a <code>Scanner</code> might be more pratical over all"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666833245,"post_id":74215387,"comment_id":131031429,"body_markdown":"@MadProgrammer `&#39;\\n&#39; == (char) 10`. In most (all) programming languages.","body":"@MadProgrammer <code>&#39;\\n&#39; == (char) 10</code>. In most (all) programming languages."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666834984,"post_id":74215387,"comment_id":131031624,"body_markdown":"@JohannesKuhn Thank you I&#39;m (vaguely) aware, but the OP needs to be made more aware.  I don&#39;t tend to do this kind of &quot;low level&quot; reading of console input (use a `Scanner` because I&#39;m lazy) or just something like `BufferedReader#readLine` which solves more the issues","body":"@JohannesKuhn Thank you I&#39;m (vaguely) aware, but the OP needs to be made more aware.  I don&#39;t tend to do this kind of &quot;low level&quot; reading of console input (use a <code>Scanner</code> because I&#39;m lazy) or just something like <code>BufferedReader#readLine</code> which solves more the issues"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666841675,"post_id":74215387,"comment_id":131032558,"body_markdown":"I have a hunch that `&quot;1 + 2\\n + 3&quot;` could be tokenized. So how should the toknenizer know that you want a new line to mean &quot;end of input&quot;?","body":"I have a hunch that <code>&quot;1 + 2\\n + 3&quot;</code> could be tokenized. So how should the toknenizer know that you want a new line to mean &quot;end of input&quot;?"}],"owner":{"account_id":19075659,"reputation":55,"user_id":13928993,"display_name":"4nnihil4tor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666828685,"creation_date":1666828685,"question_id":74215387,"body_markdown":"I have a lexer that accepts Reader object. Initially it is intended to parse files, but\r\nI want to run lexer with stdin to make a repl\r\n\r\nso, here is my code\r\n```java\r\nprivate static void launchRepl() {\r\n        final var reader = new BufferedReader(new InputStreamReader(System.in));\r\n        while (true) {\r\n            System.out.print(&quot;&gt; &quot;);\r\n            var lexer = new Lexer(reader);\r\n            while (true) {\r\n                var token = lexer.readToken();\r\n                var ttype = token.tokenType();\r\n                if (ttype == TokenType.Eof || ttype == TokenType.StatementEnd) {\r\n                    break;\r\n                }\r\n                System.out.println(token);\r\n            }\r\n        }\r\n    }\r\n```\r\nIn the language i tokenize, new line is of TokenType.StatementEnd. But when I write new input to the console and hit enter, my lexer does not see this new line character and blocks, until i press enter one more time. So it works like:\r\n\r\n&gt; \\&gt; 1 + 2 \\\r\n&gt; Number 1 \\\r\n&gt; Operator + \\\r\n&gt; Number 2 \\\r\n&gt; (waiting for another enter) *\\*hits enter\\** \\\r\n&gt; \\&gt;\r\n\r\nI want to fix so it sees \\n at the end of the prompt","title":"Java Reading from stdin","body":"<p>I have a lexer that accepts Reader object. Initially it is intended to parse files, but\nI want to run lexer with stdin to make a repl</p>\n<p>so, here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void launchRepl() {\n        final var reader = new BufferedReader(new InputStreamReader(System.in));\n        while (true) {\n            System.out.print(&quot;&gt; &quot;);\n            var lexer = new Lexer(reader);\n            while (true) {\n                var token = lexer.readToken();\n                var ttype = token.tokenType();\n                if (ttype == TokenType.Eof || ttype == TokenType.StatementEnd) {\n                    break;\n                }\n                System.out.println(token);\n            }\n        }\n    }\n</code></pre>\n<p>In the language i tokenize, new line is of TokenType.StatementEnd. But when I write new input to the console and hit enter, my lexer does not see this new line character and blocks, until i press enter one more time. So it works like:</p>\n<blockquote>\n<p>&gt; 1 + 2 <br />\nNumber 1 <br />\nOperator + <br />\nNumber 2 <br />\n(waiting for another enter) <em>*hits enter*</em> <br />\n&gt;</p>\n</blockquote>\n<p>I want to fix so it sees \\n at the end of the prompt</p>\n"},{"tags":["java","android","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":1199943,"reputation":185,"user_id":1170806,"display_name":"Quantum_VC"},"score":0,"creation_date":1651736930,"post_id":72123087,"comment_id":127435254,"body_markdown":"Does setting rendermode helps?\n`splashAnim.setRenderMode(RenderMode.HARDWARE)`","body":"Does setting rendermode helps? <code>splashAnim.setRenderMode(RenderMode.HARDWARE)</code>"},{"owner":{"account_id":22390077,"reputation":3,"user_id":18218061,"display_name":"Luis Herrera"},"score":0,"creation_date":1651798982,"post_id":72123087,"comment_id":127455113,"body_markdown":"@Quantum_VC Thanks for your answer. I solved increasing the json resolution.","body":"@Quantum_VC Thanks for your answer. I solved increasing the json resolution."},{"owner":{"account_id":16117223,"reputation":141,"user_id":11634007,"display_name":"SamiunNafis"},"score":0,"creation_date":1682528552,"post_id":72123087,"comment_id":134231946,"body_markdown":"What attributes did you modify in order to increase the resolution of the animation?","body":"What attributes did you modify in order to increase the resolution of the animation?"}],"owner":{"account_id":22390077,"reputation":3,"user_id":18218061,"display_name":"Luis Herrera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666828569,"creation_date":1651733838,"question_id":72123087,"body_markdown":"I&#39;m using Lottie 5.0.3 on Android Studio, i want to add some animations to my layouts, the problem is: When I build the project and install on my phone, i get a very poor quality animation, and I don&#39;t understand why, I&#39;m using a json that i was downloaded from Lottie Files, here is my xml is:\r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n        android:id=&quot;@+id/splash_anim&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:lottie_fileName=&quot;hearth_splash.json&quot;\r\n        app:lottie_autoPlay=&quot;true&quot;\r\n        /&gt;\r\n\r\nAnd I play it on Kotlin on this way:\r\n\r\n    Handler(Looper.getMainLooper()).postDelayed({\r\n            var intent:Intent = Intent(this,MainActivity::class.java)\r\n            startActivity(intent)\r\n        },2000)\r\n\r\nI get a very poor quality render, I don&#39;t know if can I set the render quality or I&#39;m doing something bad, please help.","title":"Lottie is rendering in low quality my animation, how can I increase the render quality?","body":"<p>I'm using Lottie 5.0.3 on Android Studio, i want to add some animations to my layouts, the problem is: When I build the project and install on my phone, i get a very poor quality animation, and I don't understand why, I'm using a json that i was downloaded from Lottie Files, here is my xml is:</p>\n<pre><code>&lt;com.airbnb.lottie.LottieAnimationView\n    android:id=&quot;@+id/splash_anim&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;500dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:lottie_fileName=&quot;hearth_splash.json&quot;\n    app:lottie_autoPlay=&quot;true&quot;\n    /&gt;\n</code></pre>\n<p>And I play it on Kotlin on this way:</p>\n<pre><code>Handler(Looper.getMainLooper()).postDelayed({\n        var intent:Intent = Intent(this,MainActivity::class.java)\n        startActivity(intent)\n    },2000)\n</code></pre>\n<p>I get a very poor quality render, I don't know if can I set the render quality or I'm doing something bad, please help.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"score":0,"creation_date":1582642392,"post_id":57213905,"comment_id":106842831,"body_markdown":"where is method messageSource() implemented","body":"where is method messageSource() implemented"}],"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564121537,"creation_date":1564120552,"answer_id":57213905,"question_id":57205687,"body_markdown":"First check that your view resolver is configured correctly.In your code i could not find a view resolver being configured which might be causing the issue. In your application.properties you have disabled thymeleaf view resolver so spring won&#39;t autoconfigure it for you :\r\n\r\n    spring.thymeleaf.enabled=false\r\n\r\n&gt; If you use Thymeleaf, you also have a ThymeleafViewResolver named\r\n&gt; ‘thymeleafViewResolver’. It looks for resources by surrounding the\r\n&gt; view name with a prefix and suffix. The prefix is\r\n&gt; spring.thymeleaf.prefix, and the suffix is spring.thymeleaf.suffix.\r\n&gt; The values of the prefix and suffix default to ‘classpath:/templates/’\r\n&gt; and ‘.html’, respectively. You can override ThymeleafViewResolver by\r\n&gt; providing a bean of the same name.\r\n\r\nAlso ensure that you have the spring-boot thymeleaf dependency added in your pom :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you are using thymeleaf as the view resolver and want to configure it manually , add the following configurations or through application.properties will enable default autoconfiguration:\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n        @Bean\r\n        public ClassLoaderTemplateResolver templateResolver() {\r\n    \r\n            var templateResolver = new ClassLoaderTemplateResolver();\r\n    \r\n            templateResolver.setPrefix(&quot;templates/&quot;);\r\n            templateResolver.setCacheable(false);\r\n            templateResolver.setSuffix(&quot;.html&quot;);\r\n            templateResolver.setTemplateMode(&quot;HTML5&quot;);\r\n            templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \r\n            return templateResolver;\r\n        }\r\n    \r\n       @Bean\r\n       public SpringTemplateEngine templateEngine() {\r\n           SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n           templateEngine.setTemplateResolver(templateResolver());\r\n           templateEngine.setTemplateEngineMessageSource(messageSource());\r\n           return templateEngine;\r\n       }\r\n    \r\n       @Bean\r\n       public ViewResolver viewResolver() {\r\n           var viewResolver = new ThymeleafViewResolver();   \r\n           viewResolver.setTemplateEngine(templateEngine());\r\n           viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n           return viewResolver;\r\n        }\r\n    }\r\n\r\n\r\nIf in your case you are using **jsp** as a view resolver , you could configure that using the default configurations through the `appplication.yml` or `application.properties`.But jsp only works properly with **WAR**  and take care to add the dependencies necessary.\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/view/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n\r\n**If we do not register any ViewResolver explicitly, an instance of `InternalResourceViewResolver` will be used by default whose &#39;prefix&#39; and &#39;suffix&#39; properties set to empty strings. That means, we have to use full view paths in our application.If you do not do that you will get the circular view path exception because of the way the view path is constructed.**\r\n\r\nAbout your circular dependency here is a related post: https://stackoverflow.com/questions/18813615/how-to-avoid-the-circular-view-path-exception-with-spring-mvc-test","title":"View Resolver setup problem in SPRING BOOT","body":"<p>First check that your view resolver is configured correctly.In your code i could not find a view resolver being configured which might be causing the issue. In your application.properties you have disabled thymeleaf view resolver so spring won't autoconfigure it for you :</p>\n\n<pre><code>spring.thymeleaf.enabled=false\n</code></pre>\n\n<blockquote>\n  <p>If you use Thymeleaf, you also have a ThymeleafViewResolver named\n  ‘thymeleafViewResolver’. It looks for resources by surrounding the\n  view name with a prefix and suffix. The prefix is\n  spring.thymeleaf.prefix, and the suffix is spring.thymeleaf.suffix.\n  The values of the prefix and suffix default to ‘classpath:/templates/’\n  and ‘.html’, respectively. You can override ThymeleafViewResolver by\n  providing a bean of the same name.</p>\n</blockquote>\n\n<p>Also ensure that you have the spring-boot thymeleaf dependency added in your pom :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you are using thymeleaf as the view resolver and want to configure it manually , add the following configurations or through application.properties will enable default autoconfiguration:</p>\n\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Bean\n    public ClassLoaderTemplateResolver templateResolver() {\n\n        var templateResolver = new ClassLoaderTemplateResolver();\n\n        templateResolver.setPrefix(\"templates/\");\n        templateResolver.setCacheable(false);\n        templateResolver.setSuffix(\".html\");\n        templateResolver.setTemplateMode(\"HTML5\");\n        templateResolver.setCharacterEncoding(\"UTF-8\");\n\n        return templateResolver;\n    }\n\n   @Bean\n   public SpringTemplateEngine templateEngine() {\n       SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n       templateEngine.setTemplateResolver(templateResolver());\n       templateEngine.setTemplateEngineMessageSource(messageSource());\n       return templateEngine;\n   }\n\n   @Bean\n   public ViewResolver viewResolver() {\n       var viewResolver = new ThymeleafViewResolver();   \n       viewResolver.setTemplateEngine(templateEngine());\n       viewResolver.setCharacterEncoding(\"UTF-8\");\n       return viewResolver;\n    }\n}\n</code></pre>\n\n<p>If in your case you are using <strong>jsp</strong> as a view resolver , you could configure that using the default configurations through the <code>appplication.yml</code> or <code>application.properties</code>.But jsp only works properly with <strong>WAR</strong>  and take care to add the dependencies necessary.</p>\n\n<pre><code>spring.mvc.view.prefix=/WEB-INF/view/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n\n<p><strong>If we do not register any ViewResolver explicitly, an instance of <code>InternalResourceViewResolver</code> will be used by default whose 'prefix' and 'suffix' properties set to empty strings. That means, we have to use full view paths in our application.If you do not do that you will get the circular view path exception because of the way the view path is constructed.</strong></p>\n\n<p>About your circular dependency here is a related post: <a href=\"https://stackoverflow.com/questions/18813615/how-to-avoid-the-circular-view-path-exception-with-spring-mvc-test\">How to avoid the &quot;Circular view path&quot; exception with Spring MVC test</a></p>\n"},{"tags":[],"owner":{"account_id":3245722,"reputation":150,"user_id":2737382,"display_name":"Joe Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592457011,"creation_date":1592457011,"answer_id":62442775,"question_id":57205687,"body_markdown":"Changing `@Controller` to `@RestController` fixed this error for me.","title":"View Resolver setup problem in SPRING BOOT","body":"<p>Changing <code>@Controller</code> to <code>@RestController</code> fixed this error for me.</p>\n"}],"owner":{"account_id":7235256,"reputation":444,"user_id":5520762,"display_name":"Md. Mokammal Hossen Farnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666827223,"creation_date":1564068950,"question_id":57205687,"body_markdown":"Error showing in the console:\n\n&gt;  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n&gt;\n&gt; [Circular view path [login]: would dispatch\n&gt; back to the current handler URL [/login] again.\n&gt;\n&gt; Check your\n&gt; ViewResolver setup! (Hint: This may be the result of an unspecified\n&gt; view, due to default view name generation.)] with root cause\n\n\n**AND**\n\n&gt; Circular view path [login]: would dispatch back to the current handler\n&gt; URL [/login] again. Check your ViewResolver setup! (Hint: This may be\n&gt; the result of an unspecified view, due to default view name\n&gt; generation.)\n\nConfiguration File:\n\n**WebMvcConfig.java**\n\n    package com.BasicWebMVC;\n    \n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n    \n    @Configuration\n    public class WebMvcConfig implements WebMvcConfigurer{\n        @Bean\n        public BCryptPasswordEncoder passwordEncoder() {\n            BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n            return bCryptPasswordEncoder;\n        }\n        \n        \n    }\n\n**SecurityConfiguration.java**\n\n    package com.BasicWebMVC;\n    \n    import javax.sql.DataSource;\n    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n    \n    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n        @Autowired\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\n        \n    \n    \n        @Autowired\n        private DataSource dataSource;\n    \n        @Value(&quot;${spring.queries.users-query}&quot;)\n        private String usersQuery;\n    \n        @Value(&quot;${spring.queries.roles-query}&quot;)\n        private String rolesQuery;\n    \n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.jdbcAuthentication().usersByUsernameQuery(usersQuery).authoritiesByUsernameQuery(rolesQuery)\n                    .dataSource(dataSource).passwordEncoder(bCryptPasswordEncoder);\n        }\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n    \n            http.authorizeRequests()\n                    // URLs matching for access rights\n                    .antMatchers(&quot;/&quot;).permitAll()\n                    .antMatchers(&quot;/login&quot;).permitAll()\n                    .antMatchers(&quot;/register&quot;).permitAll()\n                    .antMatchers(&quot;/home/**&quot;).hasAnyAuthority(&quot;SUPER_USER&quot;, &quot;ADMIN_USER&quot;, &quot;SITE_USER&quot;)\n                    .anyRequest().authenticated()\n                    .and()\n                    // form login\n                    .csrf().disable().formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .failureUrl(&quot;/login?error=true&quot;)\n                    .defaultSuccessUrl(&quot;/home&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .passwordParameter(&quot;password&quot;)\n                    .and()\n                    // logout\n                    .logout()\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                    .logoutSuccessUrl(&quot;/&quot;).and()\n                    .exceptionHandling()\n                    .accessDeniedPage(&quot;/access-denied&quot;);\n        }\n    \n        @Override\n        public void configure(WebSecurity web) throws Exception {\n            web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\n        }\n    \n    }\n\nController :\n\n**AuthenticationController.java**\n\n    package com.BasicWebMVC.controller;\n    \n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n    import org.springframework.web.servlet.ModelAndView;\n    \n    import com.BasicWebMVC.model.User;\n    \n    @Controller\n    public class AuthenticationController {\n    \n        @RequestMapping(value = { &quot;/login&quot; }, method = RequestMethod.GET)\n        public ModelAndView login() {\n            ModelAndView modelAndView = new ModelAndView();\n            modelAndView.setViewName(&quot;login&quot;); // resources/template/login.html\n            return modelAndView;\n        }\n    \n        @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.GET)\n        public ModelAndView register() {\n            ModelAndView modelAndView = new ModelAndView();\n            // User user = new User();\n            // modelAndView.addObject(&quot;user&quot;, user); \n            modelAndView.setViewName(&quot;register&quot;); // resources/template/register.html\n            return modelAndView;\n        }\n        \n        @RequestMapping(value = &quot;/home&quot;, method = RequestMethod.GET)\n        public ModelAndView home() {\n            ModelAndView modelAndView = new ModelAndView();\n            modelAndView.setViewName(&quot;home&quot;); // resources/template/home.html\n            return modelAndView;\n        }\n    }\n\n**Application.Properties**\n\n    # Database Details\n    spring.datasource.url=jdbc:mysql://localhost/demo\n    spring.datasource.username=root\n    spring.datasource.password=admin\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n    \n    #Spring Security login queries\n    #problem in this line\n    #security.basic.enabled=false  \n    spring.thymeleaf.enabled=false\n    spring.queries.users-query=select email, password, &#39;1&#39; as enabled from auth_user where email=? and status=&#39;VERIFIED&#39;\n    spring.queries.roles-query=select u.email, r.role_name from auth_user u inner join auth_user_role ur on(u.auth_user_id=ur.auth_user_id) inner join auth_role r on(ur.auth_role_id=r.auth_role_id) where u.email=?\n\n**Model :**\n\n**User.java**\n\n    package com.BasicWebMVC.model;\n    \n    import java.util.Set;\n    \n    import javax.persistence.CascadeType;\n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    import javax.persistence.JoinColumn;\n    import javax.persistence.JoinTable;\n    import javax.persistence.ManyToMany;\n    import javax.persistence.Table;\n    \n    @Entity\n    @Table(name = &quot;auth_user&quot;)\n    public class User {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = &quot;auth_user_id&quot;)\n        private int id;\n    \n        @Column(name = &quot;first_name&quot;)\n        private String name;\n    \n        @Column(name = &quot;last_name&quot;)\n        private String lastName;\n    \n        @Column(name = &quot;email&quot;)\n        private String email;\n    \n        @Column(name = &quot;password&quot;)\n        private String password;\n    \n        @Column(name = &quot;mobile&quot;)\n        private String mobile;\n    \n        @Column(name = &quot;status&quot;)\n        private String status;\n    \n        @ManyToMany(cascade = CascadeType.ALL)\n        @JoinTable(name = &quot;auth_user_role&quot;, joinColumns = @JoinColumn(name = &quot;auth_user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;auth_role_id&quot;))\n        private Set&lt;Role&gt; roles;\n    \n        public int getId() {\n            return id;\n        }\n    \n        public void setId(int id) {\n            this.id = id;\n        }\n    \n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        public String getLastName() {\n            return lastName;\n        }\n    \n        public void setLastName(String lastName) {\n            this.lastName = lastName;\n        }\n    \n        public String getEmail() {\n            return email;\n        }\n    \n        public void setEmail(String email) {\n            this.email = email;\n        }\n    \n        public String getPassword() {\n            return password;\n        }\n    \n        public void setPassword(String password) {\n            this.password = password;\n        }\n    \n        public String getMobile() {\n            return mobile;\n        }\n    \n        public void setMobile(String mobile) {\n            this.mobile = mobile;\n        }\n    \n        public String getStatus() {\n            return status;\n        }\n    \n        public void setStatus(String status) {\n            this.status = status;\n        }\n    \n        public Set&lt;Role&gt; getRoles() {\n            return roles;\n        }\n    \n        public void setRoles(Set&lt;Role&gt; roles) {\n            this.roles = roles;\n        }\n        \n    \n    }\n\n**role.java**\n\n    package com.BasicWebMVC.model;\n    \n    import javax.persistence.Column;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    import javax.persistence.Table;\n    \n    @Entity\n    @Table(name = &quot;auth_role&quot;)\n    public class Role {\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = &quot;auth_role_id&quot;)\n        private int id;\n    \n        @Column(name = &quot;role_name&quot;)\n        private String role;\n    \n        @Column(name = &quot;role_desc&quot;)\n        private String desc;\n    \n        public int getId() {\n            return id;\n        }\n    \n        public void setId(int id) {\n            this.id = id;\n        }\n    \n        public String getRole() {\n            return role;\n        }\n    \n        public void setRole(String role) {\n            this.role = role;\n        }\n    \n        public String getDesc() {\n            return desc;\n        }\n    \n        public void setDesc(String desc) {\n            this.desc = desc;\n        }\n        \n        \n    }\n\nHow to solve that issue?. \nThanks in advance. \n","title":"View Resolver setup problem in SPRING BOOT","body":"<p>Error showing in the console:</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception</p>\n<p>[Circular view path [login]: would dispatch\nback to the current handler URL [/login] again.</p>\n<p>Check your\nViewResolver setup! (Hint: This may be the result of an unspecified\nview, due to default view name generation.)] with root cause</p>\n</blockquote>\n<p><strong>AND</strong></p>\n<blockquote>\n<p>Circular view path [login]: would dispatch back to the current handler\nURL [/login] again. Check your ViewResolver setup! (Hint: This may be\nthe result of an unspecified view, due to default view name\ngeneration.)</p>\n</blockquote>\n<p>Configuration File:</p>\n<p><strong>WebMvcConfig.java</strong></p>\n<pre><code>package com.BasicWebMVC;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer{\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        return bCryptPasswordEncoder;\n    }\n    \n    \n}\n</code></pre>\n<p><strong>SecurityConfiguration.java</strong></p>\n<pre><code>package com.BasicWebMVC;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n    \n\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Value(&quot;${spring.queries.users-query}&quot;)\n    private String usersQuery;\n\n    @Value(&quot;${spring.queries.roles-query}&quot;)\n    private String rolesQuery;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication().usersByUsernameQuery(usersQuery).authoritiesByUsernameQuery(rolesQuery)\n                .dataSource(dataSource).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests()\n                // URLs matching for access rights\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .antMatchers(&quot;/home/**&quot;).hasAnyAuthority(&quot;SUPER_USER&quot;, &quot;ADMIN_USER&quot;, &quot;SITE_USER&quot;)\n                .anyRequest().authenticated()\n                .and()\n                // form login\n                .csrf().disable().formLogin()\n                .loginPage(&quot;/login&quot;)\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/home&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n                // logout\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;).and()\n                .exceptionHandling()\n                .accessDeniedPage(&quot;/access-denied&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\n    }\n\n}\n</code></pre>\n<p>Controller :</p>\n<p><strong>AuthenticationController.java</strong></p>\n<pre><code>package com.BasicWebMVC.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport com.BasicWebMVC.model.User;\n\n@Controller\npublic class AuthenticationController {\n\n    @RequestMapping(value = { &quot;/login&quot; }, method = RequestMethod.GET)\n    public ModelAndView login() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login&quot;); // resources/template/login.html\n        return modelAndView;\n    }\n\n    @RequestMapping(value = &quot;/register&quot;, method = RequestMethod.GET)\n    public ModelAndView register() {\n        ModelAndView modelAndView = new ModelAndView();\n        // User user = new User();\n        // modelAndView.addObject(&quot;user&quot;, user); \n        modelAndView.setViewName(&quot;register&quot;); // resources/template/register.html\n        return modelAndView;\n    }\n    \n    @RequestMapping(value = &quot;/home&quot;, method = RequestMethod.GET)\n    public ModelAndView home() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;home&quot;); // resources/template/home.html\n        return modelAndView;\n    }\n}\n</code></pre>\n<p><strong>Application.Properties</strong></p>\n<pre><code># Database Details\nspring.datasource.url=jdbc:mysql://localhost/demo\nspring.datasource.username=root\nspring.datasource.password=admin\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n#Spring Security login queries\n#problem in this line\n#security.basic.enabled=false  \nspring.thymeleaf.enabled=false\nspring.queries.users-query=select email, password, '1' as enabled from auth_user where email=? and status='VERIFIED'\nspring.queries.roles-query=select u.email, r.role_name from auth_user u inner join auth_user_role ur on(u.auth_user_id=ur.auth_user_id) inner join auth_role r on(ur.auth_role_id=r.auth_role_id) where u.email=?\n</code></pre>\n<p><strong>Model :</strong></p>\n<p><strong>User.java</strong></p>\n<pre><code>package com.BasicWebMVC.model;\n\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;auth_user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;auth_user_id&quot;)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String name;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;mobile&quot;)\n    private String mobile;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;auth_user_role&quot;, joinColumns = @JoinColumn(name = &quot;auth_user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;auth_role_id&quot;))\n    private Set&lt;Role&gt; roles;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n    \n\n}\n</code></pre>\n<p><strong>role.java</strong></p>\n<pre><code>package com.BasicWebMVC.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;auth_role&quot;)\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;auth_role_id&quot;)\n    private int id;\n\n    @Column(name = &quot;role_name&quot;)\n    private String role;\n\n    @Column(name = &quot;role_desc&quot;)\n    private String desc;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n    \n    \n}\n</code></pre>\n<p>How to solve that issue?.\nThanks in advance.</p>\n"},{"tags":["java","arrays","methods","max","min"],"answers":[{"comments":[{"owner":{"account_id":26604445,"reputation":13,"user_id":20225559,"display_name":"Sherry Faith"},"score":0,"creation_date":1666828619,"post_id":74215205,"comment_id":131030770,"body_markdown":"thank you so much. Yeah, I had a lot of corrections to make. Sadly my teacher wasn&#39;t much help, I couldn&#39;t understand what I was doing wrong.","body":"thank you so much. Yeah, I had a lot of corrections to make. Sadly my teacher wasn&#39;t much help, I couldn&#39;t understand what I was doing wrong."}],"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666826503,"creation_date":1666826503,"answer_id":74215205,"question_id":74214998,"body_markdown":"base on my understanding to your problem you want to get from the user some float numbers and then find the min and the max number of them.\r\nso in this case you have a lot of mistakes.\r\nthe code should be:\r\n\r\n    package stackoverflow;\r\n    import java.util.Scanner;\r\n\r\n    public class main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t//number of inputs:\r\n\t\tint numberOfInput = 4;\r\n        System.out.println(&quot;Enter &quot; + numberOfInput + &quot; values&quot;);\r\n        float numbers [] = new float [numberOfInput];\r\n        for (int i = 0; i &lt; numberOfInput; i++) {\r\n            numbers[i] = input.nextFloat();\r\n\t\t}\r\n        System.out.println(&quot;The big number is: &quot;+bigNumber(numbers));\r\n        System.out.println(&quot;The little Number is: &quot;+littleNumber(numbers));\r\n    }   \r\n\tpublic static float bigNumber(float [] numbers) {\r\n    \tfloat max1 = numbers[0];\r\n    \tfor (int i = 0; i &lt; numbers.length; i++) {\r\n    \t\tif(numbers[i] &gt; max1) max1 = numbers[i];\r\n\t\t}\r\n    \treturn max1;\r\n\t}\r\n    \r\n\tpublic static float littleNumber (float [] numbers) {\r\n\t\tfloat min = numbers[0];\r\n\t\tfor (int i = 0; i &lt; numbers.length; i++) {\r\n    \t\tif(numbers[i] &lt; min) min = numbers[i];\r\n\t\t}\r\n\t\treturn min;\r\n\t}\r\n\r\n\r\n    }\r\n\r\n&gt; \r\n&gt; \r\n&gt; sorry about my English\r\n&gt; \r\n&gt; ","title":"im trying to do this question: define two separate methods with array parameter to find the maximum and minimum number the user inputs","body":"<p>base on my understanding to your problem you want to get from the user some float numbers and then find the min and the max number of them.\nso in this case you have a lot of mistakes.\nthe code should be:</p>\n<pre><code>package stackoverflow;\nimport java.util.Scanner;\n\npublic class main {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner input = new Scanner(System.in);\n    //number of inputs:\n    int numberOfInput = 4;\n    System.out.println(&quot;Enter &quot; + numberOfInput + &quot; values&quot;);\n    float numbers [] = new float [numberOfInput];\n    for (int i = 0; i &lt; numberOfInput; i++) {\n        numbers[i] = input.nextFloat();\n    }\n    System.out.println(&quot;The big number is: &quot;+bigNumber(numbers));\n    System.out.println(&quot;The little Number is: &quot;+littleNumber(numbers));\n}   \npublic static float bigNumber(float [] numbers) {\n    float max1 = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        if(numbers[i] &gt; max1) max1 = numbers[i];\n    }\n    return max1;\n}\n\npublic static float littleNumber (float [] numbers) {\n    float min = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        if(numbers[i] &lt; min) min = numbers[i];\n    }\n    return min;\n}\n\n\n}\n</code></pre>\n<blockquote>\n<p>sorry about my English</p>\n</blockquote>\n"}],"owner":{"account_id":26604445,"reputation":13,"user_id":20225559,"display_name":"Sherry Faith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74215205,"answer_count":1,"score":-1,"last_activity_date":1666826503,"creation_date":1666824235,"question_id":74214998,"body_markdown":"I believe i have the basics of what I want to do down. I&#39;m just having trouble working oy the kinks of the problem.I cant figure out what to do or where to even start attempting to figure it out. I dont know how to get &quot;bigNumber&quot; and &quot;littleNumber&quot; resolved to a variable and I&#39;m also getting i can&#39;t convert float to int but thats not even my intention. I&#39;m just having trouble understanding what I&#39;m doing wrong.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Maxmin {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter &quot; + number.length + &quot; values&quot;);\r\n        float number = input.nextFloat();\r\n\t\tdouble max = number;\r\n\t}\t\r\n\t\tpublic static float bigNumber (float max) {\r\n\tdouble max1 = bigNumber[0];\r\n\tfor (float f = 1; f &lt; bigNumber; f++) {\r\n\t\tif(bigNumber[f] &gt; max1) max1 = bigNumber[f];\t}\r\n\t\t}\r\n\t\t \r\n\t\t\t\r\n\tpublic static float littleNumber (float min) {\r\n\t\tdouble max = littleNumber[0];\r\n\t\tfloat indexOfMax = 0;\r\n\t\tfor (float i = 1; i &lt; littleNumber; i++) {\r\n\t\t\tif(littleNumber[f] &gt; max) {\r\n\t\t\t\tmax = littleNumber[f];\r\n\t\t\t\tindexOfMax = i;\r\n\t\t\t}\r\n        }\r\n  } \r\n }\r\n```\r\nthis is what I have. I tried to to fix as many bugs as I can, but i&#39;m just lost.","title":"im trying to do this question: define two separate methods with array parameter to find the maximum and minimum number the user inputs","body":"<p>I believe i have the basics of what I want to do down. I'm just having trouble working oy the kinks of the problem.I cant figure out what to do or where to even start attempting to figure it out. I dont know how to get &quot;bigNumber&quot; and &quot;littleNumber&quot; resolved to a variable and I'm also getting i can't convert float to int but thats not even my intention. I'm just having trouble understanding what I'm doing wrong.</p>\n<pre><code>import java.util.Scanner;\npublic class Maxmin {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter &quot; + number.length + &quot; values&quot;);\n        float number = input.nextFloat();\n        double max = number;\n    }   \n        public static float bigNumber (float max) {\n    double max1 = bigNumber[0];\n    for (float f = 1; f &lt; bigNumber; f++) {\n        if(bigNumber[f] &gt; max1) max1 = bigNumber[f];    }\n        }\n         \n            \n    public static float littleNumber (float min) {\n        double max = littleNumber[0];\n        float indexOfMax = 0;\n        for (float i = 1; i &lt; littleNumber; i++) {\n            if(littleNumber[f] &gt; max) {\n                max = littleNumber[f];\n                indexOfMax = i;\n            }\n        }\n  } \n }\n</code></pre>\n<p>this is what I have. I tried to to fix as many bugs as I can, but i'm just lost.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":10276056,"reputation":293,"user_id":7582941,"display_name":"roflcopter1101"},"score":0,"creation_date":1666825696,"post_id":74214986,"comment_id":131030308,"body_markdown":"Could you add some info of what you tried, what libraries you&#39;re using, maybe any errors you get? There isn&#39;t really enough context here to answer the question.","body":"Could you add some info of what you tried, what libraries you&#39;re using, maybe any errors you get? There isn&#39;t really enough context here to answer the question."},{"owner":{"account_id":3619003,"reputation":663,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1667477489,"post_id":74214986,"comment_id":131178549,"body_markdown":"Are you sure this is what happens? I&#39;m reading the @Size interface documentation and it says `null elements are considered valid.`","body":"Are you sure this is what happens? I&#39;m reading the @Size interface documentation and it says <code>null elements are considered valid.</code>"}],"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666825817,"creation_date":1666824147,"question_id":74214986,"body_markdown":"I have a requirement to skip validation when my list is empty and consider validation if list have values\r\n\r\n  \r\n\r\n    @Size(min = 2, max = 99, groups = RequiresValidation.class)\r\n      private List&lt;@Valid MyInfo&gt; myInf;\r\n\r\nI don&#39;t want this size validation to be executed when my list is null. any help is appreciated.\r\n\r\nI&#39;m using javax.validation.constraints.Size library to check the validations, \r\n\r\n ","title":"How to Ignore RequiresValidation when null","body":"<p>I have a requirement to skip validation when my list is empty and consider validation if list have values</p>\n<pre><code>@Size(min = 2, max = 99, groups = RequiresValidation.class)\n  private List&lt;@Valid MyInfo&gt; myInf;\n</code></pre>\n<p>I don't want this size validation to be executed when my list is null. any help is appreciated.</p>\n<p>I'm using javax.validation.constraints.Size library to check the validations,</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1366453274,"post_id":16119154,"comment_id":23022111,"body_markdown":"Why isn&#39;t second line considered working?","body":"Why isn&#39;t second line considered working?"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1366453524,"post_id":16119154,"comment_id":23022173,"body_markdown":"But -34.34.34 is an invalid real number , perhaps!","body":"But -34.34.34 is an invalid real number , perhaps!"},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":1,"creation_date":1366453677,"post_id":16119154,"comment_id":23022214,"body_markdown":"-34.34 is the correct output for a regex looking for a real number in -34.34.34. Because -34.34.34 is not a real number. The same applies to your last example.","body":"-34.34 is the correct output for a regex looking for a real number in -34.34.34. Because -34.34.34 is not a real number. The same applies to your last example."},{"owner":{"account_id":2662495,"reputation":65,"user_id":2301840,"display_name":"Vanya"},"score":0,"creation_date":1366454033,"post_id":16119154,"comment_id":23022301,"body_markdown":"But in second test NumberFormatException: multiple points! I&#39;m not convert to -34.34 .","body":"But in second test NumberFormatException: multiple points! I&#39;m not convert to -34.34 ."},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366454172,"post_id":16119154,"comment_id":23022342,"body_markdown":"Right, so they are your EXPECTED results, not your actual ones. You didn&#39;t explain that. See my answer.","body":"Right, so they are your EXPECTED results, not your actual ones. You didn&#39;t explain that. See my answer."},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366454797,"post_id":16119154,"comment_id":23022485,"body_markdown":"@Anirudh Presumably because 0 = 0.0 when represented as a float?","body":"@Anirudh Presumably because 0 = 0.0 when represented as a float?"},{"owner":{"account_id":11972125,"reputation":2741,"user_id":10953006,"display_name":"Robert"},"score":0,"creation_date":1640249522,"post_id":16119154,"comment_id":124551520,"body_markdown":"What about `1e+100`?","body":"What about <code>1e+100</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1366454388,"post_id":16119244,"comment_id":23022394,"body_markdown":"`it&#39;s not clear whether it should be &quot;34&quot; or &quot;.34&quot; that is matched` The problem is with your regex. Your regex does not match the latter, so it will skip ahead and match `34`.","body":"<code>it&#39;s not clear whether it should be &quot;34&quot; or &quot;.34&quot; that is matched</code> The problem is with your regex. Your regex does not match the latter, so it will skip ahead and match <code>34</code>."},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1366455117,"post_id":16119244,"comment_id":23022562,"body_markdown":"You should also mention why this works better: The `+`-opertator matches 1-n repetitions, while the `*`-operator matches 0-n, so it also matches no numbers at all.","body":"You should also mention why this works better: The <code>+</code>-opertator matches 1-n repetitions, while the <code>*</code>-operator matches 0-n, so it also matches no numbers at all."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1366455418,"post_id":16119244,"comment_id":23022640,"body_markdown":"@AntP: Your regex accepts `+.55.55`, which is likely to be rejected by the OP.","body":"@AntP: Your regex accepts <code>+.55.55</code>, which is likely to be rejected by the OP."},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366456489,"post_id":16119244,"comment_id":23022911,"body_markdown":"Modified once again. Probably unnecessarily convoluted now, mind.","body":"Modified once again. Probably unnecessarily convoluted now, mind."},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1366458772,"post_id":16119244,"comment_id":23023462,"body_markdown":"Your RE doesn&#39;t match `1e9`…","body":"Your RE doesn&#39;t match <code>1e9</code>…"},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366458888,"post_id":16119244,"comment_id":23023494,"body_markdown":"@DonalFellows It matches the &quot;1&quot; - there was no implication of a requirement to match that kind of exponential notation.","body":"@DonalFellows It matches the &quot;1&quot; - there was no implication of a requirement to match that kind of exponential notation."},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366459725,"post_id":16119244,"comment_id":23023710,"body_markdown":"(note that he asks for &quot;real numbers&quot; not &quot;valid floating point values&quot;)","body":"(note that he asks for &quot;real numbers&quot; not &quot;valid floating point values&quot;)"},{"owner":{"account_id":2662495,"reputation":65,"user_id":2301840,"display_name":"Vanya"},"score":0,"creation_date":1366460703,"post_id":16119244,"comment_id":23023948,"body_markdown":"Expression `((\\+|-)?([0-9]+)(\\.[0-9]+)?)|((\\+|-)?\\.?[0-9]+)` does not work for &#39;qwe-34.34.34abcd&#39;.","body":"Expression <code>((\\+|-)?([0-9]+)(\\.[0-9]+)?)|((\\+|-)?\\.?[0-9]+)</code> does not work for &#39;qwe-34.34.34abcd&#39;."},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":0,"creation_date":1366463076,"post_id":16119244,"comment_id":23024538,"body_markdown":"@Vanya - It matches -34.34, which is the first valid real number in the string...","body":"@Vanya - It matches -34.34, which is the first valid real number in the string..."}],"tags":[],"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"comment_count":9,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366456482,"creation_date":1366453469,"answer_id":16119244,"question_id":16119154,"body_markdown":"Try the following:\r\n\r\n    ((\\+|-)?([0-9]+)(\\.[0-9]+)?)|((\\+|-)?\\.?[0-9]+)\r\n\r\nThis will match real numbers, including integers, with or without a sign (and with or without a number before the decimal point).","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<p>Try the following:</p>\n\n<pre><code>((\\+|-)?([0-9]+)(\\.[0-9]+)?)|((\\+|-)?\\.?[0-9]+)\n</code></pre>\n\n<p>This will match real numbers, including integers, with or without a sign (and with or without a number before the decimal point).</p>\n"},{"tags":[],"owner":{"account_id":1021083,"reputation":39862,"user_id":1031417,"accept_rate":85,"display_name":"0x90"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366455758,"creation_date":1366455758,"answer_id":16119565,"question_id":16119154,"body_markdown":"    ^[+-]?(?:\\d+\\.?\\d*|\\d*\\.\\d+)$\r\n\r\n - `? `  is for making `+` or `-` optionals\r\n - `?:`  is for non capturing group\r\n - `\\ `  is an escape char\r\n\r\n\r\n","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<pre><code>^[+-]?(?:\\d+\\.?\\d*|\\d*\\.\\d+)$\n</code></pre>\n\n<ul>\n<li><code>?</code>  is for making <code>+</code> or <code>-</code> optionals</li>\n<li><code>?:</code>  is for non capturing group</li>\n<li><code>\\</code>  is an escape char</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366456186,"creation_date":1366456186,"answer_id":16119634,"question_id":16119154,"body_markdown":"How about the next one:\r\n\r\n    ^-?(([1-9][0-9]*)|(0))(?:\\.[0-9]+)?$\r\n\r\nor the next one if you want to allow the &quot;+&quot; sign:\r\n\r\n    ^(-|\\+)?(([1-9][0-9]*)|(0))(?:\\.[0-9]+)?$\r\n\r\nBTW, [here&#39;s][1] a nice website for testing and sharing regexp.\r\n\r\n    \r\n\r\n\r\n  [1]: http://gskinner.com/RegExr/","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<p>How about the next one:</p>\n\n<pre><code>^-?(([1-9][0-9]*)|(0))(?:\\.[0-9]+)?$\n</code></pre>\n\n<p>or the next one if you want to allow the \"+\" sign:</p>\n\n<pre><code>^(-|\\+)?(([1-9][0-9]*)|(0))(?:\\.[0-9]+)?$\n</code></pre>\n\n<p>BTW, <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow\">here's</a> a nice website for testing and sharing regexp.</p>\n"},{"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1366456576,"creation_date":1366456576,"answer_id":16119691,"question_id":16119154,"body_markdown":"The regular expression must satisfy these requirements:\r\n\r\n1. There may be an optional sign.  Try `[+-]?`.\r\n1. There may be 0 or more optional digits. Try `[0-9]*`.\r\n1. There may be a decimal point. Try `[.]` to avoid backslashitis.\r\n1. There may be 0 or more digits after the decimal point. Try `[0-9]*`.\r\n1. At least one of #2 and #4 has a digit.  This would use `[0-9]+`, and it can use alternation.\r\n\r\nDoes this pattern work: `[+-]?([0-9]*[.]?[0-9]+|[0-9]+[.]?[0-9]*)`?  I&#39;m worried about catastrophic backtracking, however.\r\n\r\n","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<p>The regular expression must satisfy these requirements:</p>\n\n<ol>\n<li>There may be an optional sign.  Try <code>[+-]?</code>.</li>\n<li>There may be 0 or more optional digits. Try <code>[0-9]*</code>.</li>\n<li>There may be a decimal point. Try <code>[.]</code> to avoid backslashitis.</li>\n<li>There may be 0 or more digits after the decimal point. Try <code>[0-9]*</code>.</li>\n<li>At least one of #2 and #4 has a digit.  This would use <code>[0-9]+</code>, and it can use alternation.</li>\n</ol>\n\n<p>Does this pattern work: <code>[+-]?([0-9]*[.]?[0-9]+|[0-9]+[.]?[0-9]*)</code>?  I'm worried about catastrophic backtracking, however.</p>\n"},{"tags":[],"owner":{"account_id":4030150,"reputation":163,"user_id":3316598,"display_name":"user3316598"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666825385,"creation_date":1666825071,"answer_id":74215077,"question_id":16119154,"body_markdown":"Or this one: `[0-9]+\\.[0-9]*([eE][\\+\\-]?[0-9]+)?`","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<p>Or this one: <code>[0-9]+\\.[0-9]*([eE][\\+\\-]?[0-9]+)?</code></p>\n"}],"owner":{"account_id":2662495,"reputation":65,"user_id":2301840,"display_name":"Vanya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15588,"favorite_count":0,"down_vote_count":3,"up_vote_count":7,"answer_count":5,"score":4,"last_activity_date":1666825385,"creation_date":1366452943,"question_id":16119154,"body_markdown":"What&#39;s a good regular expression for real numbers in Java?\r\n\r\nI created the regex `([-]?[\\\\d]*\\\\.[\\\\d]*)` and tested it against the following expected outputs:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    in                  out        works?\r\n    --------------------------------------\r\n    qwerty34.34abcd     34.34       yes\r\n    qwe-34.34.34abcd    -34.34      no\r\n    +17.-9abc           17.0        yes\r\n    -.abc0              0.0         no\r\nI have to get out exactly what the column(out).\r\nPlease provide a regex that passes all of these tests.","title":"What&#39;s a good regular expression for real numbers in Java?","body":"<p>What's a good regular expression for real numbers in Java?</p>\n\n<p>I created the regex <code>([-]?[\\\\d]*\\\\.[\\\\d]*)</code> and tested it against the following expected outputs:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>in                  out        works?\n--------------------------------------\nqwerty34.34abcd     34.34       yes\nqwe-34.34.34abcd    -34.34      no\n+17.-9abc           17.0        yes\n-.abc0              0.0         no\n</code></pre>\n\n<p>I have to get out exactly what the column(out).\nPlease provide a regex that passes all of these tests.</p>\n"},{"tags":["java","arrays","error-handling","error-correction"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666764788,"post_id":74202688,"comment_id":131010671,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666824480,"creation_date":1666824480,"answer_id":74215024,"question_id":74202688,"body_markdown":"Let your Functionsp1 class methods deal with the Array for example:\r\n\r\n    //initialize array\r\n    java.util.Random randomNumbers = new java.util.Random();\r\n    final int length = 30;\r\n    int[] array1 = new int[length];\r\n    for (int counter = 0; counter &lt; array1.length; counter++) {\r\n        array1[counter] = randomNumbers.nextInt(100) + 1;\r\n    }\r\n    //array tested and produces correct output\r\n        \r\n    Functionsp1 fnctn = new Functionsp1();\r\n    int min = fnctn.min(array1);\r\n    int max = fnctn.max(array1);\r\n    int avg = fnctn.avg(array1);\r\n    System.out.printf(&quot;The minimum value in array1 is: %d%n&quot;, min);\r\n    System.out.printf(&quot;The maximum value in array1 is: %d\\n&quot;, max);\r\n    System.out.printf(&quot;The average value in array1 is: %d\\n&quot;, avg);\r\n    System.out.println(&quot;Horizontal Graph For Numerical Range: &quot; + min + &quot; To &quot; + max);\r\n    fnctn.bar(array1);\r\n\r\n    public class Functionsp1 {\r\n\r\n        public int min(int[] array) {\r\n            int min = Integer.MAX_VALUE;\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] &lt; min) {\r\n                    min = array[i];\r\n                }\r\n            }\r\n            return min;\r\n        }\r\n\r\n        public int max(int[] array) {\r\n            int max = Integer.MIN_VALUE;\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] &gt; max) {\r\n                    max = array[i];\r\n                }\r\n            }\r\n            return max;\r\n        }\r\n\r\n        public int avg(int[] array) {\r\n            int avg = 0;\r\n            int sum = 0;\r\n            for (int i : array) {\r\n                sum += i;\r\n            }\r\n            avg = sum / array.length;\r\n            return avg;\r\n        }\r\n\r\n        public void bar(int[] array) {\r\n            System.out.println();\r\n            System.out.println(&quot;Grade Distribution:&quot;);\r\n            System.out.println(&quot;0 0         10        20        30        40        50&quot;\r\n                    + &quot;        60        70        80        90        100&quot;);\r\n\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                int counter = 0;\r\n                for (int j = 0; j &lt; array[i]; j++) {\r\n                    if ((counter + 1) % 10 == 0) {\r\n                        sb.append(&quot;+&quot;);\r\n                    }\r\n                    else {\r\n                        sb.append(&quot;|&quot;);\r\n                    }\r\n                    counter++;\r\n                }\r\n                System.out.printf(&quot;%-3s%-103s(%-3s)%n&quot;, (i+1), sb.toString(), array[i]);\r\n                sb.setLength(0);\r\n                //System.out.printf(&quot;%-3s%-100s%n&quot;, (i + 1), String.join(&quot;&quot;, java.util.Collections.nCopies(array[i], &quot;|&quot;)));\r\n            }\r\n            System.out.println();\r\n\r\n        }\r\n\r\n        public void freq(int stars) {\r\n            for (int counter = 0; counter &lt; stars; counter++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI still can&#39;t figure out what the `freq()` method is suppose to accomplish.\r\n\r\nAs the code above stands right now, if run will produce something like the following in the Console Window:\r\n\r\n```\r\nThe minimum value in array1 is: 1\r\nThe maximum value in array1 is: 99\r\nThe average value in array1 is: 55\r\nHorizontal Graph For Numerical Range: 1 To 99\r\n\r\nGrade Distribution:\r\n0 0         10        20        30        40        50        60        70        80        90        100\r\n1  |||||||||+||||                                                                                         (14 )\r\n2  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||                                                (55 )\r\n3  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+             (90 )\r\n4  |||||                                                                                                  (5  )\r\n5  |||||||||+                                                                                             (10 )\r\n6  |||||||||+|||||||||+||||||||                                                                           (28 )\r\n7  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||         (94 )\r\n8  |||||||||+|||||||||+|||||||                                                                            (27 )\r\n9  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|            (91 )\r\n10 |||||||||+|||||||||+|||||||||                                                                          (29 )\r\n11 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||                                                      (49 )\r\n12 |||||||||+|||||||||+|||||||||+|||||||||+||                                                             (42 )\r\n13 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||      (97 )\r\n14 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||         (94 )\r\n15 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||    (99 )\r\n16 |                                                                                                      (1  )\r\n17 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||                        (79 )\r\n18 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||        (95 )\r\n19 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+                                           (60 )\r\n20 |||||||||+|||||||||+|||||||||+|||||||||+|                                                              (41 )\r\n21 |||||||||+|||                                                                                          (13 )\r\n22 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||                               (72 )\r\n23 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||                              (73 )\r\n24 |||||||||+|||||||||+|||||||                                                                            (27 )\r\n25 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+                       (80 )\r\n26 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||                     (82 )\r\n27 |||||||||+|||||||||+|||||||||+||||                                                                     (34 )\r\n28 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||||||     (98 )\r\n29 |||||||||+|||||||||+|||||||||+                                                                         (30 )\r\n30 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||                                                 (54 )\r\n```\r\n","title":"Troubleshooting java script maximum / minimium / average / barchart code 2 classes 4 function methods","body":"<p>Let your Functionsp1 class methods deal with the Array for example:</p>\n<pre><code>//initialize array\njava.util.Random randomNumbers = new java.util.Random();\nfinal int length = 30;\nint[] array1 = new int[length];\nfor (int counter = 0; counter &lt; array1.length; counter++) {\n    array1[counter] = randomNumbers.nextInt(100) + 1;\n}\n//array tested and produces correct output\n    \nFunctionsp1 fnctn = new Functionsp1();\nint min = fnctn.min(array1);\nint max = fnctn.max(array1);\nint avg = fnctn.avg(array1);\nSystem.out.printf(&quot;The minimum value in array1 is: %d%n&quot;, min);\nSystem.out.printf(&quot;The maximum value in array1 is: %d\\n&quot;, max);\nSystem.out.printf(&quot;The average value in array1 is: %d\\n&quot;, avg);\nSystem.out.println(&quot;Horizontal Graph For Numerical Range: &quot; + min + &quot; To &quot; + max);\nfnctn.bar(array1);\n\npublic class Functionsp1 {\n\n    public int min(int[] array) {\n        int min = Integer.MAX_VALUE;\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] &lt; min) {\n                min = array[i];\n            }\n        }\n        return min;\n    }\n\n    public int max(int[] array) {\n        int max = Integer.MIN_VALUE;\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] &gt; max) {\n                max = array[i];\n            }\n        }\n        return max;\n    }\n\n    public int avg(int[] array) {\n        int avg = 0;\n        int sum = 0;\n        for (int i : array) {\n            sum += i;\n        }\n        avg = sum / array.length;\n        return avg;\n    }\n\n    public void bar(int[] array) {\n        System.out.println();\n        System.out.println(&quot;Grade Distribution:&quot;);\n        System.out.println(&quot;0 0         10        20        30        40        50&quot;\n                + &quot;        60        70        80        90        100&quot;);\n\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        for (int i = 0; i &lt; array.length; i++) {\n            int counter = 0;\n            for (int j = 0; j &lt; array[i]; j++) {\n                if ((counter + 1) % 10 == 0) {\n                    sb.append(&quot;+&quot;);\n                }\n                else {\n                    sb.append(&quot;|&quot;);\n                }\n                counter++;\n            }\n            System.out.printf(&quot;%-3s%-103s(%-3s)%n&quot;, (i+1), sb.toString(), array[i]);\n            sb.setLength(0);\n            //System.out.printf(&quot;%-3s%-100s%n&quot;, (i + 1), String.join(&quot;&quot;, java.util.Collections.nCopies(array[i], &quot;|&quot;)));\n        }\n        System.out.println();\n\n    }\n\n    public void freq(int stars) {\n        for (int counter = 0; counter &lt; stars; counter++) {\n            System.out.print(&quot;*&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I still can't figure out what the <code>freq()</code> method is suppose to accomplish.</p>\n<p>As the code above stands right now, if run will produce something like the following in the Console Window:</p>\n<pre><code>The minimum value in array1 is: 1\nThe maximum value in array1 is: 99\nThe average value in array1 is: 55\nHorizontal Graph For Numerical Range: 1 To 99\n\nGrade Distribution:\n0 0         10        20        30        40        50        60        70        80        90        100\n1  |||||||||+||||                                                                                         (14 )\n2  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||                                                (55 )\n3  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+             (90 )\n4  |||||                                                                                                  (5  )\n5  |||||||||+                                                                                             (10 )\n6  |||||||||+|||||||||+||||||||                                                                           (28 )\n7  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||         (94 )\n8  |||||||||+|||||||||+|||||||                                                                            (27 )\n9  |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|            (91 )\n10 |||||||||+|||||||||+|||||||||                                                                          (29 )\n11 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||                                                      (49 )\n12 |||||||||+|||||||||+|||||||||+|||||||||+||                                                             (42 )\n13 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||      (97 )\n14 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||         (94 )\n15 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||    (99 )\n16 |                                                                                                      (1  )\n17 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||                        (79 )\n18 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||        (95 )\n19 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+                                           (60 )\n20 |||||||||+|||||||||+|||||||||+|||||||||+|                                                              (41 )\n21 |||||||||+|||                                                                                          (13 )\n22 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||                               (72 )\n23 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||                              (73 )\n24 |||||||||+|||||||||+|||||||                                                                            (27 )\n25 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+                       (80 )\n26 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||                     (82 )\n27 |||||||||+|||||||||+|||||||||+||||                                                                     (34 )\n28 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||||||     (98 )\n29 |||||||||+|||||||||+|||||||||+                                                                         (30 )\n30 |||||||||+|||||||||+|||||||||+|||||||||+|||||||||+||||                                                 (54 )\n</code></pre>\n"}],"owner":{"account_id":26425657,"reputation":11,"user_id":20072671,"display_name":"Brazos Wheeler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666824480,"creation_date":1666758279,"question_id":74202688,"body_markdown":"My goal is to have it output the min max avg and a barchart.\r\n\r\n`\r\n```\r\npackage arraystuff1;\r\n    import java.util.Random;\r\n    public class problem1 \r\n    {\r\n    public static void main(String[] args) \r\n    {\r\n        int min=0;\r\n        int max=0;\r\n        int avg=0;\r\n        //initialize array\r\n        Random randomNumbers = new Random();\r\n        final int Length = 30;\r\n        int[] array1 = new int[Length];\r\n        for ( int counter = 0; counter &lt; array1.length; counter++ )\r\n        {\r\n        array1[ counter ] = 1+randomNumbers.nextInt( 100 );\r\n        }\r\n        //array tested and produces correct output\r\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//minimum\r\n        {\r\n                 min = functionsp1.min(array1[counter],min);\r\n                 if(counter == Length-1)\r\n                     System.out.printf(&quot;The minimum value is: %d\\n&quot;,min);\r\n         \r\n        }\r\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//maximum\r\n        {\r\n                 max = functionsp1.max(array1[counter],max);\r\n                 if(counter == Length-1)\r\n                     System.out.printf(&quot;The maximum value is: %d\\n&quot;,max);\r\n         \r\n        }\r\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//average\r\n        {\r\n                 avg = functionsp1.avg(array1[counter],Length);\r\n                 if(counter == Length-1)\r\n                     System.out.printf(&quot;The average value is: %d\\n&quot;,avg);\r\n         \r\n        }\r\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//average\r\n        {\r\n                functionsp1.bar(array1[counter],Length);//print a line showing range of the bar graph  use switch case to build frequencies for each 10th unit\r\n                functionsp1.freq(array1[counter],Length);//print stars representing number of random numbers that fit in this category\r\n                     \r\n         \r\n        }\r\n        \r\n        \r\n            \r\n    }\r\n}\r\n```\r\n`\r\n/////////////////////////////////////////////////////////////////////////////////////////////\r\n/////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n        \r\n    \r\n    \r\n `\r\n```\r\npackage arraystuff1;\r\npublic class functionsp1 \r\n{\r\n    public static int min(int counter,int min)//input array index and length\r\n    {\r\n        if (counter &lt; min)\r\n        {\r\n            counter = min;\r\n        }\r\n        return counter;\r\n    }\r\n    public static int max(int counter,int max)\r\n    {\r\n        if (counter &gt; max)\r\n        {\r\n            counter = max;\r\n        }\r\n        return counter;\r\n    }\r\n    public static int avg(int current,int total)//input array length for total and index for current\r\n    {\r\n        int sum;\r\n        int fintotal;\r\n        for (int counter = 0; counter &lt; total; counter++ )\r\n            {\r\n            sum = current + sum; // random number 0-99 add 1 to make it 1-100\r\n            if (counter == total)\r\n                fintotal = sum/total;\r\n            return fintotal;\r\n            }\r\n            System.out.printf(&quot;The average of the array is: %2d&quot;,fintotal);\r\n            //System.out.printf( &quot;%s%8s\\n&quot;, &quot;Index&quot;, &quot;Value&quot; ); // column headings\r\n    return fintotal;\r\n    }\r\n    public static void bar(int index,int limit)//length and array variable\r\n    {\r\n        System.out.println(&quot;Grade Distribution:  &quot;);\r\n        for(int counter = 0; counter &lt; limit;counter++)\r\n        {\r\n            if (counter ==10)\r\n                System.out.printf(&quot;%5d: &quot;, 100);\r\n            else\r\n                System.out.printf(&quot;%02d-%02d: &quot;,counter*10,counter*10+9);\r\n        }   \r\n    }   \r\n    public static void freq( int stars )\r\n   {\r\n      for(int counter=0;counter&lt;stars ; counter ++)\r\n               System.out.print(&quot;*&quot;);\r\n   } // end main\r\n}\r\n```\r\n`   \r\n\r\n\r\n\r\n\r\n\r\nI have verified the array initialized with 30 random numbers in the range of 1-100. My goal is to get the bar chart and the other functions to work but this is the first time I have played with an array any suggestions?","title":"Troubleshooting java script maximum / minimium / average / barchart code 2 classes 4 function methods","body":"<p>My goal is to have it output the min max avg and a barchart.</p>\n<p>`</p>\n<pre><code>package arraystuff1;\n    import java.util.Random;\n    public class problem1 \n    {\n    public static void main(String[] args) \n    {\n        int min=0;\n        int max=0;\n        int avg=0;\n        //initialize array\n        Random randomNumbers = new Random();\n        final int Length = 30;\n        int[] array1 = new int[Length];\n        for ( int counter = 0; counter &lt; array1.length; counter++ )\n        {\n        array1[ counter ] = 1+randomNumbers.nextInt( 100 );\n        }\n        //array tested and produces correct output\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//minimum\n        {\n                 min = functionsp1.min(array1[counter],min);\n                 if(counter == Length-1)\n                     System.out.printf(&quot;The minimum value is: %d\\n&quot;,min);\n         \n        }\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//maximum\n        {\n                 max = functionsp1.max(array1[counter],max);\n                 if(counter == Length-1)\n                     System.out.printf(&quot;The maximum value is: %d\\n&quot;,max);\n         \n        }\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//average\n        {\n                 avg = functionsp1.avg(array1[counter],Length);\n                 if(counter == Length-1)\n                     System.out.printf(&quot;The average value is: %d\\n&quot;,avg);\n         \n        }\n        for ( int counter = 0; counter &lt; array1.length; counter++ )//average\n        {\n                functionsp1.bar(array1[counter],Length);//print a line showing range of the bar graph  use switch case to build frequencies for each 10th unit\n                functionsp1.freq(array1[counter],Length);//print stars representing number of random numbers that fit in this category\n                     \n         \n        }\n        \n        \n            \n    }\n}\n</code></pre>\n<p>`\n/////////////////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////////////////</p>\n<p>`</p>\n<pre><code>package arraystuff1;\npublic class functionsp1 \n{\n    public static int min(int counter,int min)//input array index and length\n    {\n        if (counter &lt; min)\n        {\n            counter = min;\n        }\n        return counter;\n    }\n    public static int max(int counter,int max)\n    {\n        if (counter &gt; max)\n        {\n            counter = max;\n        }\n        return counter;\n    }\n    public static int avg(int current,int total)//input array length for total and index for current\n    {\n        int sum;\n        int fintotal;\n        for (int counter = 0; counter &lt; total; counter++ )\n            {\n            sum = current + sum; // random number 0-99 add 1 to make it 1-100\n            if (counter == total)\n                fintotal = sum/total;\n            return fintotal;\n            }\n            System.out.printf(&quot;The average of the array is: %2d&quot;,fintotal);\n            //System.out.printf( &quot;%s%8s\\n&quot;, &quot;Index&quot;, &quot;Value&quot; ); // column headings\n    return fintotal;\n    }\n    public static void bar(int index,int limit)//length and array variable\n    {\n        System.out.println(&quot;Grade Distribution:  &quot;);\n        for(int counter = 0; counter &lt; limit;counter++)\n        {\n            if (counter ==10)\n                System.out.printf(&quot;%5d: &quot;, 100);\n            else\n                System.out.printf(&quot;%02d-%02d: &quot;,counter*10,counter*10+9);\n        }   \n    }   \n    public static void freq( int stars )\n   {\n      for(int counter=0;counter&lt;stars ; counter ++)\n               System.out.print(&quot;*&quot;);\n   } // end main\n}\n</code></pre>\n<p>`</p>\n<p>I have verified the array initialized with 30 random numbers in the range of 1-100. My goal is to get the bar chart and the other functions to work but this is the first time I have played with an array any suggestions?</p>\n"},{"tags":["java","scala","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665492005,"creation_date":1665492005,"answer_id":74028316,"question_id":74027869,"body_markdown":"&gt; I wanted to run an old test suite written in Scala so I installed Scala using the Homebrew command:\r\n\r\nWhy would you do that? You don&#39;t need to &quot;install Scala&quot;, scala is just library that maven will pull.\r\n\r\n&gt; brew install coursier/formulas/coursier &amp;&amp; cs setup\r\n\r\nThis is installing coursier, unrelated.\r\n\r\n&gt; io.gatling:gatling-maven-plugin:4.1.5\r\n\r\nYour issue is here: you&#39;re using old `gatling-maven-plugin` `4.1.5`. Upgrade to latest version (`4.2.7` atm).","title":"Unrecognized VM option &#39;UseBiasedLocking&#39; Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit","body":"<blockquote>\n<p>I wanted to run an old test suite written in Scala so I installed Scala using the Homebrew command:</p>\n</blockquote>\n<p>Why would you do that? You don't need to &quot;install Scala&quot;, scala is just library that maven will pull.</p>\n<blockquote>\n<p>brew install coursier/formulas/coursier &amp;&amp; cs setup</p>\n</blockquote>\n<p>This is installing coursier, unrelated.</p>\n<blockquote>\n<p>io.gatling:gatling-maven-plugin:4.1.5</p>\n</blockquote>\n<p>Your issue is here: you're using old <code>gatling-maven-plugin</code> <code>4.1.5</code>. Upgrade to latest version (<code>4.2.7</code> atm).</p>\n"},{"tags":[],"owner":{"account_id":8553651,"reputation":91,"user_id":6409900,"display_name":"Roman Romaniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666824476,"creation_date":1666820034,"answer_id":74214470,"question_id":74027869,"body_markdown":"I have seen a similar case.\r\nUsually, it happens with &quot;old&quot; apps which were written under Java7 or Java8\r\n and a user tries to run them in Java 11+ environment.\r\nThere are a lot of JVM options that have been decommissioned.\r\n`UseBiasedLocking` was decommissioned in Java 15.\r\n \r\n It can be fixed in several ways:\r\n 1. Search for the command line which starts your app and adds additional parameters to JVM and remove this flag (if you are really sure that it can be removed).\r\n2. You can add to this command line a flag `-XX:+IgnoreUnrecognizedVMOptions`. In this case, JVM will ignore all unrecognized flags.","title":"Unrecognized VM option &#39;UseBiasedLocking&#39; Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit","body":"<p>I have seen a similar case.\nUsually, it happens with &quot;old&quot; apps which were written under Java7 or Java8\nand a user tries to run them in Java 11+ environment.\nThere are a lot of JVM options that have been decommissioned.\n<code>UseBiasedLocking</code> was decommissioned in Java 15.</p>\n<p>It can be fixed in several ways:</p>\n<ol>\n<li>Search for the command line which starts your app and adds additional parameters to JVM and remove this flag (if you are really sure that it can be removed).</li>\n<li>You can add to this command line a flag <code>-XX:+IgnoreUnrecognizedVMOptions</code>. In this case, JVM will ignore all unrecognized flags.</li>\n</ol>\n"}],"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74028316,"answer_count":2,"score":0,"last_activity_date":1666824476,"creation_date":1665489923,"question_id":74027869,"body_markdown":"I was previously using Java 17 for creating and running tests in Gatling.\r\n\r\nI wanted to run an old test suite written in Scala so I installed Scala using the Homebrew command:\r\n\r\n```brew install coursier/formulas/coursier &amp;&amp; cs setup```\r\n\r\nNow when I attempt to run my Java suite it is giving these errors:\r\n\r\n```\r\nUnrecognized VM option &#39;UseBiasedLocking\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.854 s\r\n[INFO] Finished at: 2022-10-11T12:54:17+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.gatling:gatling-maven-plugin:4.1.5:test (default-cli) on project performance-test-assignment-api: Gatling failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n```\r\n\r\n\r\n**&quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot;**\r\n\r\nNot sure why it is not compiling now since the current Java version is still 17\r\n\r\n\r\n","title":"Unrecognized VM option &#39;UseBiasedLocking&#39; Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit","body":"<p>I was previously using Java 17 for creating and running tests in Gatling.</p>\n<p>I wanted to run an old test suite written in Scala so I installed Scala using the Homebrew command:</p>\n<p><code>brew install coursier/formulas/coursier &amp;&amp; cs setup</code></p>\n<p>Now when I attempt to run my Java suite it is giving these errors:</p>\n<pre><code>Unrecognized VM option 'UseBiasedLocking\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.854 s\n[INFO] Finished at: 2022-10-11T12:54:17+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.gatling:gatling-maven-plugin:4.1.5:test (default-cli) on project performance-test-assignment-api: Gatling failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n</code></pre>\n<p><strong>&quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot;</strong></p>\n<p>Not sure why it is not compiling now since the current Java version is still 17</p>\n"},{"tags":["java","postgresql","spring-boot","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":26186098,"reputation":55,"user_id":19868616,"display_name":"Goro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666824240,"creation_date":1666824240,"answer_id":74215000,"question_id":74214705,"body_markdown":"    @Query(&quot;SELECT * FROM device where user_id = $1 and ($2 is null or show = $2)&quot;)","title":"How to correctly compose a query with r2dbc @Query for three value options: true, false, null ? (postgresql)","body":"<pre><code>@Query(&quot;SELECT * FROM device where user_id = $1 and ($2 is null or show = $2)&quot;)\n</code></pre>\n"}],"owner":{"account_id":26186098,"reputation":55,"user_id":19868616,"display_name":"Goro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74215000,"answer_count":1,"score":0,"last_activity_date":1666824240,"creation_date":1666821763,"question_id":74214705,"body_markdown":"I&#39;m trying to make a request to get data from the database\r\n\r\nThe boolean value of three options comes into the parameters:\r\n1. false - show entities with false\r\n1. true - show entity with true\r\n1. null - any option corresponding to user_id\r\n\r\nBut I can&#39;t figure out what to do with null\r\n\r\n\r\n\r\n\r\n    @Repository\r\n    public interface Repo extends ReactiveCrudRepository&lt;Device,Long&gt; {\r\n    \r\n        @Query(&quot;SELECT * FROM device where user_id = $1 and show = $2&quot;)\r\n        Flux&lt;Device&gt; findByUserIdAndShow(String userId, Boolean show);\r\n    \r\n    }\r\n\r\n","title":"How to correctly compose a query with r2dbc @Query for three value options: true, false, null ? (postgresql)","body":"<p>I'm trying to make a request to get data from the database</p>\n<p>The boolean value of three options comes into the parameters:</p>\n<ol>\n<li>false - show entities with false</li>\n<li>true - show entity with true</li>\n<li>null - any option corresponding to user_id</li>\n</ol>\n<p>But I can't figure out what to do with null</p>\n<pre><code>@Repository\npublic interface Repo extends ReactiveCrudRepository&lt;Device,Long&gt; {\n\n    @Query(&quot;SELECT * FROM device where user_id = $1 and show = $2&quot;)\n    Flux&lt;Device&gt; findByUserIdAndShow(String userId, Boolean show);\n\n}\n</code></pre>\n"},{"tags":["java","json","data-structures"],"comments":[{"owner":{"account_id":26141489,"reputation":55,"user_id":19830802,"display_name":"hackpoetic"},"score":2,"creation_date":1666721789,"post_id":74198497,"comment_id":131002332,"body_markdown":"In Value, there&#39;s a space between [ and ], but no such space in what you&#39;ve tried.","body":"In Value, there&#39;s a space between [ and ], but no such space in what you&#39;ve tried."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666721965,"post_id":74198497,"comment_id":131002390,"body_markdown":"Also replaceAll takes a regex. `[` and`]` are special characters in regex and must be escaped by backslash. so `value.replaceAll(&quot;\\\\\\[\\s+\\\\\\]&quot;)` should do the job","body":"Also replaceAll takes a regex. <code>[</code> and<code>]</code> are special characters in regex and must be escaped by backslash. so <code>value.replaceAll(&quot;\\\\\\[\\s+\\\\\\]&quot;)</code> should do the job"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1666722250,"post_id":74198497,"comment_id":131002478,"body_markdown":"You got confused between forward slashes (/) (which have no special meaning) and backward slashes (\\\\) which do. Anyway, instead of using `replaceAll`, which uses regex, just use `replace` - it also replaces *all*.","body":"You got confused between forward slashes (/) (which have no special meaning) and backward slashes (\\&#41; which do. Anyway, instead of using <code>replaceAll</code>, which uses regex, just use <code>replace</code> - it also replaces <i>all</i>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1666722383,"post_id":74198497,"comment_id":131002515,"body_markdown":"What RealSkeptic said.  Stop using replaceAll;  it just makes the task more complicated than it needs to be.  Just use `value = value.replace(&quot;[ ]&quot;, &quot;X&quot;);`.  Avoid regular expression usage.","body":"What RealSkeptic said.  Stop using replaceAll;  it just makes the task more complicated than it needs to be.  Just use <code>value = value.replace(&quot;[ ]&quot;, &quot;X&quot;);</code>.  Avoid regular expression usage."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666823587,"creation_date":1666723079,"answer_id":74198716,"question_id":74198497,"body_markdown":"There are 3 replace methods:\r\n\r\n* `haystack.replace(needle, foo)`, which __replaces all__ occurrences of `needle` with `foo` in the `haystack` string.\r\n* `haystack.replaceAll(needle, foo)`, which __replaces all__ occurrences of `needle` with `foo` in the `haystack` string just like `replace` does, except `needle` is treated as a [Regular Expression](https://en.wikipedia.org/wiki/Regular_expression). Note that `[]` has special meaning in this which is why what you&#39;re trying isn&#39;t working.\r\n* `haystack.replaceFirst(needle, foo)`, which replaces only the first occurrence of `needle`, and also treats `needle` as a regular expression.\r\n\r\nIn addition, strings in java are immutable. You cannot change them. These methods don&#39;t change the string - they make you a new one with the changes applied. You have to do something with the result of this call.\r\n\r\nClearly then you want `replace` here:\r\n\r\n```\r\nString value = &quot;You are my star [ ] dear&quot;;\r\nString result = value.replace(&quot;[ ]&quot;, &quot;X&quot;);\r\nSystem.out.println(result);\r\n```\r\n\r\nThat would print `You are my star X dear`.\r\n\r\nStuff that won&#39;t work:\r\n\r\n```\r\nString value = &quot;You are my star [ ] dear&quot;;\r\nvalue.replace(&quot;[ ]&quot;, &quot;X&quot;); // this doesn&#39;t work\r\nSystem.out.println(value);\r\n// still prints &#39;You are my star [ ] dear&quot;.\r\n```\r\n\r\nThe above does not work because you have to assign the result of `replace` to something.\r\n\r\n```\r\nString value = &quot;You are my star [ ] dear&quot;;\r\nString value2 = value.replaceAll(&quot;[ ]&quot;, &quot;X&quot;); // this doesn&#39;t work\r\nSystem.out.println(value2);\r\n// prints &#39;YouXareXmyXstarX[X]Xdear&quot;.\r\n```\r\n\r\nThis time it doesn&#39;t work because `[ ]` is regular expression-ese for &#39;a space&#39;, and thus, all spaces are replaced, which you didn&#39;t want.\r\n\r\n```\r\nString value = &quot;You are my star [ ] dear&quot;;\r\nString value2 = value.replaceAll(&quot;\\\\[ \\\\]&quot;, &quot;X&quot;); // okay...\r\nSystem.out.println(value2);\r\n```\r\n\r\nThis _does_ work as that is the right regular expression for literally `[ ]`, but why complicate matters like this? Just use `replace`.\r\n","title":"How to replace substring [ ] with a value X","body":"<p>There are 3 replace methods:</p>\n<ul>\n<li><code>haystack.replace(needle, foo)</code>, which <strong>replaces all</strong> occurrences of <code>needle</code> with <code>foo</code> in the <code>haystack</code> string.</li>\n<li><code>haystack.replaceAll(needle, foo)</code>, which <strong>replaces all</strong> occurrences of <code>needle</code> with <code>foo</code> in the <code>haystack</code> string just like <code>replace</code> does, except <code>needle</code> is treated as a <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Regular Expression</a>. Note that <code>[]</code> has special meaning in this which is why what you're trying isn't working.</li>\n<li><code>haystack.replaceFirst(needle, foo)</code>, which replaces only the first occurrence of <code>needle</code>, and also treats <code>needle</code> as a regular expression.</li>\n</ul>\n<p>In addition, strings in java are immutable. You cannot change them. These methods don't change the string - they make you a new one with the changes applied. You have to do something with the result of this call.</p>\n<p>Clearly then you want <code>replace</code> here:</p>\n<pre><code>String value = &quot;You are my star [ ] dear&quot;;\nString result = value.replace(&quot;[ ]&quot;, &quot;X&quot;);\nSystem.out.println(result);\n</code></pre>\n<p>That would print <code>You are my star X dear</code>.</p>\n<p>Stuff that won't work:</p>\n<pre><code>String value = &quot;You are my star [ ] dear&quot;;\nvalue.replace(&quot;[ ]&quot;, &quot;X&quot;); // this doesn't work\nSystem.out.println(value);\n// still prints 'You are my star [ ] dear&quot;.\n</code></pre>\n<p>The above does not work because you have to assign the result of <code>replace</code> to something.</p>\n<pre><code>String value = &quot;You are my star [ ] dear&quot;;\nString value2 = value.replaceAll(&quot;[ ]&quot;, &quot;X&quot;); // this doesn't work\nSystem.out.println(value2);\n// prints 'YouXareXmyXstarX[X]Xdear&quot;.\n</code></pre>\n<p>This time it doesn't work because <code>[ ]</code> is regular expression-ese for 'a space', and thus, all spaces are replaced, which you didn't want.</p>\n<pre><code>String value = &quot;You are my star [ ] dear&quot;;\nString value2 = value.replaceAll(&quot;\\\\[ \\\\]&quot;, &quot;X&quot;); // okay...\nSystem.out.println(value2);\n</code></pre>\n<p>This <em>does</em> work as that is the right regular expression for literally <code>[ ]</code>, but why complicate matters like this? Just use <code>replace</code>.</p>\n"}],"owner":{"account_id":26730587,"reputation":1,"user_id":20333000,"display_name":"Alan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666823587,"creation_date":1666721683,"question_id":74198497,"body_markdown":"I have string as below in Java.\r\n\r\n```\r\nString Value = &quot;You are my star [ ] dear&quot;;\r\n```\r\n\r\nI want just to remplace `[ ]` with value `X`.\r\n\r\nTried below. Nothing worked.\r\n\r\n```\r\nReplaceAll(&quot;[]&quot;,&quot;X&quot;);\r\nReplaceAll(&quot;//[//]&quot;,&quot;X&quot;)\r\nReplaceAll(&quot;/[/]&quot;,&quot;X&quot;)\r\n```\r\n","title":"How to replace substring [ ] with a value X","body":"<p>I have string as below in Java.</p>\n<pre><code>String Value = &quot;You are my star [ ] dear&quot;;\n</code></pre>\n<p>I want just to remplace <code>[ ]</code> with value <code>X</code>.</p>\n<p>Tried below. Nothing worked.</p>\n<pre><code>ReplaceAll(&quot;[]&quot;,&quot;X&quot;);\nReplaceAll(&quot;//[//]&quot;,&quot;X&quot;)\nReplaceAll(&quot;/[/]&quot;,&quot;X&quot;)\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"tags":[],"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666823577,"creation_date":1666822941,"answer_id":74214845,"question_id":74214769,"body_markdown":"Array indexes start at 0, so for an array of length 6 the indexes range from 0-5. The problem in your code is that `elementSearch` has a max value of `elements.length - 1`, while `data.length - 1` can be lower than this (and obviously is, otherwise you wouldn&#39;t get the error).","title":"Why am I getting an Array Index Out of Bounds Exception for this method?","body":"<p>Array indexes start at 0, so for an array of length 6 the indexes range from 0-5. The problem in your code is that <code>elementSearch</code> has a max value of <code>elements.length - 1</code>, while <code>data.length - 1</code> can be lower than this (and obviously is, otherwise you wouldn't get the error).</p>\n"}],"owner":{"account_id":26295345,"reputation":3,"user_id":19961693,"display_name":"Cameron Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666824821,"answer_count":1,"score":-1,"last_activity_date":1666823577,"creation_date":1666822260,"question_id":74214769,"body_markdown":"I&#39;m attempting to write a method that will take in a String array of elements, a 2D double array of sample values, and an element to search. It will search for and return the sample number that contains the highest amount of that element. It&#39;s throwing me an Array Index Out of Bounds Exception (Index 6 out of bounds for length 6), and I can&#39;t figure out the reason. Below is the code I have so far.\r\n\r\n```\r\npublic static int searchHighestSample(double[][] samples, String[] elements, String element){\r\n    int elementSearch = 0;\r\n    for(String elm : elements){\r\n        if(elm.toLowerCase().compareTo(element.toLowerCase()) == 0){\r\n            break;\r\n        }\r\n        elementSearch++;\r\n    }\r\n    int sampIndex = 0;\r\n    double highest = 0;\r\n    int i = 1;\r\n    for(double[] data : samples){\r\n        if(data[elementSearch] &gt; highest){\r\n            highest = data[elementSearch];\r\n            sampIndex = i;\r\n        }\r\n        i++;\r\n    }\r\n    return sampIndex;\r\n}\r\n```","title":"Why am I getting an Array Index Out of Bounds Exception for this method?","body":"<p>I'm attempting to write a method that will take in a String array of elements, a 2D double array of sample values, and an element to search. It will search for and return the sample number that contains the highest amount of that element. It's throwing me an Array Index Out of Bounds Exception (Index 6 out of bounds for length 6), and I can't figure out the reason. Below is the code I have so far.</p>\n<pre><code>public static int searchHighestSample(double[][] samples, String[] elements, String element){\n    int elementSearch = 0;\n    for(String elm : elements){\n        if(elm.toLowerCase().compareTo(element.toLowerCase()) == 0){\n            break;\n        }\n        elementSearch++;\n    }\n    int sampIndex = 0;\n    double highest = 0;\n    int i = 1;\n    for(double[] data : samples){\n        if(data[elementSearch] &gt; highest){\n            highest = data[elementSearch];\n            sampIndex = i;\n        }\n        i++;\n    }\n    return sampIndex;\n}\n</code></pre>\n"},{"tags":["java","serialization","google-cloud-dataflow","beam"],"comments":[{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":2,"creation_date":1666308060,"post_id":74133147,"comment_id":130912478,"body_markdown":"Is that an inner class? Can you make it static? There are a few scenarios in which the instance of the &quot;parent&quot; class is serialized with the underlying DoFn instance, and it seems that it contains PipelineOptions member -- which is not a Serializable class.","body":"Is that an inner class? Can you make it static? There are a few scenarios in which the instance of the &quot;parent&quot; class is serialized with the underlying DoFn instance, and it seems that it contains PipelineOptions member -- which is not a Serializable class."},{"owner":{"account_id":18687163,"reputation":21,"user_id":13622394,"display_name":"Priyab"},"score":0,"creation_date":1666827793,"post_id":74133147,"comment_id":131030628,"body_markdown":"Yes converting the inner class to static has fixed my issue.","body":"Yes converting the inner class to static has fixed my issue."}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666823099,"creation_date":1666823099,"answer_id":74214857,"question_id":74133147,"body_markdown":"The error you have pasted comes from some part of your code outside what you pasted. The error message does indicate what to do, and the answer by @bruno-volpato is most likely the issue.","title":"Apache Beam: Unable to serialize DoFnWithExecutionInformation because of PipelineOptions not serializable","body":"<p>The error you have pasted comes from some part of your code outside what you pasted. The error message does indicate what to do, and the answer by @bruno-volpato is most likely the issue.</p>\n"}],"owner":{"account_id":18687163,"reputation":21,"user_id":13622394,"display_name":"Priyab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666823099,"creation_date":1666224689,"question_id":74133147,"body_markdown":"Getting the following error when running my Beam pipeline:\r\n\r\n&gt;    java.lang.IllegalArgumentException: unable to serialize DoFnWithExecutionInformation{doFn=WriteWithAppendToGoFile$CreateTrailerDoFn@57b711b6, mainOutputTag=Tag&lt;output&gt;, sideInputMapping={}, schemaInformation=DoFnSchemaInformation{elementConverters=[], fieldAccessDescriptor=*}}\r\n&gt;\r\n&gt;    Cause: java.io.NotSerializableException: PipelineOptions objects are not serializable and should not be embedded into transforms (did you capture a PipelineOptions object in a field or in an anonymous class?). Instead, if you&#39;re using a DoFn, access PipelineOptions at runtime via ProcessContext/StartBundleContext/FinishBundleContext.getPipelineOptions(), or pre-extract necessary fields from PipelineOptions at pipeline construction time.\r\n\r\nCode\r\n\r\n    private class CreateTrailerDoFn&lt;T extends Extract&gt; extends DoFn &lt;T,String&gt; {\r\n        @ProcessElement\r\n        public void processElement(ProcessContext context) {\r\n            final int[] count = {0};\r\n            String timeStamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new java.util.Date());\r\n            T data = context.element();\r\n            data.getContent().forEach(row -&gt; {\r\n                LOG.info(String.format(&quot;data : %s&quot;, row));\r\n                count[0]++;\r\n            });\r\n            String trailerRow = String.format(&quot;%s,%s&quot;, count[0], timeStamp);\r\n            LOG.info(trailerRow);\r\n            context.output(trailerRow);\r\n        }\r\n    }\r\n\r\n","title":"Apache Beam: Unable to serialize DoFnWithExecutionInformation because of PipelineOptions not serializable","body":"<p>Getting the following error when running my Beam pipeline:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: unable to serialize DoFnWithExecutionInformation{doFn=WriteWithAppendToGoFile$CreateTrailerDoFn@57b711b6, mainOutputTag=Tag, sideInputMapping={}, schemaInformation=DoFnSchemaInformation{elementConverters=[], fieldAccessDescriptor=*}}</p>\n<p>Cause: java.io.NotSerializableException: PipelineOptions objects are not serializable and should not be embedded into transforms (did you capture a PipelineOptions object in a field or in an anonymous class?). Instead, if you're using a DoFn, access PipelineOptions at runtime via ProcessContext/StartBundleContext/FinishBundleContext.getPipelineOptions(), or pre-extract necessary fields from PipelineOptions at pipeline construction time.</p>\n</blockquote>\n<p>Code</p>\n<pre><code>private class CreateTrailerDoFn&lt;T extends Extract&gt; extends DoFn &lt;T,String&gt; {\n    @ProcessElement\n    public void processElement(ProcessContext context) {\n        final int[] count = {0};\n        String timeStamp = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;).format(new java.util.Date());\n        T data = context.element();\n        data.getContent().forEach(row -&gt; {\n            LOG.info(String.format(&quot;data : %s&quot;, row));\n            count[0]++;\n        });\n        String trailerRow = String.format(&quot;%s,%s&quot;, count[0], timeStamp);\n        LOG.info(trailerRow);\n        context.output(trailerRow);\n    }\n}\n</code></pre>\n"},{"tags":["java","math","methods","replaceall"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1666823091,"post_id":74214749,"comment_id":131029816,"body_markdown":"Forgot to escape the `+` on that line. You escaped it on the other lines, just not that one.","body":"Forgot to escape the <code>+</code> on that line. You escaped it on the other lines, just not that one."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666823484,"post_id":74214749,"comment_id":131029893,"body_markdown":"Use `replace`, not `replaceAll` (`replace` replaces _all_, `replaceAll` replaces all _and_ interprets the needle as regular expression which you don&#39;t want - see linked question&#39;s answer for more detail).","body":"Use <code>replace</code>, not <code>replaceAll</code> (<code>replace</code> replaces <i>all</i>, <code>replaceAll</code> replaces all <i>and</i> interprets the needle as regular expression which you don&#39;t want - see linked question&#39;s answer for more detail)."}],"owner":{"account_id":21492498,"reputation":1,"user_id":15837985,"display_name":"UnremarkableLegend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666823445,"answer_count":0,"score":0,"last_activity_date":1666822796,"creation_date":1666822092,"question_id":74214749,"body_markdown":"I&#39;m making a program in java which will add or subtract any amount of numbers regardless of how the expression is formatted by the user. The program is as follows: \r\n\r\n```\r\n\r\npackage addemup;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class AddEmUp {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter something like 8 + 33 + 1,345 +137 : &quot;);\r\n        String s = kb.nextLine();\r\n\r\n        s = s.replaceAll(&quot;,&quot;, &quot;&quot;);\r\n        s = s.replaceAll(&quot; &quot;, &quot;&quot;);\r\n        s = s.replaceAll(&quot;--&quot;, &quot;+&quot;);\r\n        s = s.replaceAll(&quot;-+&quot;, &quot;-&quot;);\r\n        s = s.replaceAll(&quot;-&quot;, &quot;+-&quot;);\r\n        s = s.replaceAll(&quot;\\\\++&quot;, &quot;+&quot;);\r\n\r\n        Scanner sc = new Scanner(s);\r\n        sc.useDelimiter(&quot;\\\\s*\\\\+\\\\s*&quot;);\r\n\r\n        // System.out.println(s);\r\n        int runningTotal = 0;\r\n        while (sc.hasNextInt()) {\r\n            runningTotal = runningTotal + sc.nextInt();\r\n        }\r\n        System.out.println(runningTotal);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nFirst, the program prompts the user to input an expression consisting of integers, adding, and subtracting operations. Then, the program alters the string that is inputted as to format it into something that can be processed. It is then processed using a Scanner object and the result is printed.\r\n\r\nThe problem lies with the replacing of an operation. When &quot;-+&quot; is replaced with &quot;-&quot;, it does not replace it in the string as I saw in the debug menu. Logically, this should not be an issue as subtracting a positive number is the same as adding a negative number, where the program later replaces the &quot;-&quot; with a &quot;+-&quot;. All of the other replaces work fine. It&#39;s just in that one replace with &quot;-+&quot; that does not seem to want to work. \r\n\r\nSo how come only this replaceAll method does not want to work when all the others work just fine? \r\n\r\n\r\nThe program completes 10 - 10 just fine, resulting in 0. However, I would like to account for the case that the user does something like 10 - +10, which is really the same thing. Instead, that results in 10 instead of 0.\r\n\r\nI went through the debug menu and found that the replaceAll &quot;-+&quot; method does not seem to do anything. This is really strange as all the other replaceAll methods work just fine.","title":"Replacing &quot;-+&quot; in a string with &quot;-&quot; using the replaceAll() method does not do anything, yet all other replaceAll() methods do?","body":"<p>I'm making a program in java which will add or subtract any amount of numbers regardless of how the expression is formatted by the user. The program is as follows:</p>\n<pre><code>\npackage addemup;\n\nimport java.util.Scanner;\n\npublic class AddEmUp {\n\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n\n        System.out.println(&quot;Enter something like 8 + 33 + 1,345 +137 : &quot;);\n        String s = kb.nextLine();\n\n        s = s.replaceAll(&quot;,&quot;, &quot;&quot;);\n        s = s.replaceAll(&quot; &quot;, &quot;&quot;);\n        s = s.replaceAll(&quot;--&quot;, &quot;+&quot;);\n        s = s.replaceAll(&quot;-+&quot;, &quot;-&quot;);\n        s = s.replaceAll(&quot;-&quot;, &quot;+-&quot;);\n        s = s.replaceAll(&quot;\\\\++&quot;, &quot;+&quot;);\n\n        Scanner sc = new Scanner(s);\n        sc.useDelimiter(&quot;\\\\s*\\\\+\\\\s*&quot;);\n\n        // System.out.println(s);\n        int runningTotal = 0;\n        while (sc.hasNextInt()) {\n            runningTotal = runningTotal + sc.nextInt();\n        }\n        System.out.println(runningTotal);\n    }\n\n\n}\n\n</code></pre>\n<p>First, the program prompts the user to input an expression consisting of integers, adding, and subtracting operations. Then, the program alters the string that is inputted as to format it into something that can be processed. It is then processed using a Scanner object and the result is printed.</p>\n<p>The problem lies with the replacing of an operation. When &quot;-+&quot; is replaced with &quot;-&quot;, it does not replace it in the string as I saw in the debug menu. Logically, this should not be an issue as subtracting a positive number is the same as adding a negative number, where the program later replaces the &quot;-&quot; with a &quot;+-&quot;. All of the other replaces work fine. It's just in that one replace with &quot;-+&quot; that does not seem to want to work.</p>\n<p>So how come only this replaceAll method does not want to work when all the others work just fine?</p>\n<p>The program completes 10 - 10 just fine, resulting in 0. However, I would like to account for the case that the user does something like 10 - +10, which is really the same thing. Instead, that results in 10 instead of 0.</p>\n<p>I went through the debug menu and found that the replaceAll &quot;-+&quot; method does not seem to do anything. This is really strange as all the other replaceAll methods work just fine.</p>\n"},{"tags":["java","json","jackson","deserialization","option-type"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666816393,"post_id":74213739,"comment_id":131028227,"body_markdown":"Reminder: The Javadoc says: “Optional is primarily intended for use as a method return type…”.","body":"Reminder: The Javadoc says: “Optional is primarily intended for use as a method return type…”."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666822740,"creation_date":1666817029,"answer_id":74214022,"question_id":74213739,"body_markdown":"# Don&#39;t use Optional as a field\r\n\r\nI would advise getting rid of the Optional.\r\n\r\nFirstly, `Optional` **doesn&#39;t** implement `Serializable` hence your class is **broken** (because for an object to be serializable, the whole object graph should be serializable).\r\n\r\nSecondly, using `Optional` as a field is an antipattern, getters returning an optional are inconvenient, because instead of exposing the actual value they&#39;re forcing the caller to dial with an Optional.\r\n\r\nA possible solution is to change the type of `carMeters` to `double`:\r\n\r\n    public final class TestDims implements JsonTyped, Serializable {\r\n        public static final double DEFAULT_METERS = 2.2;\r\n        \r\n        private final double carMeters;\r\n        \r\n        @JsonCreator\r\n        public TestDims(@JsonProperty(&quot;carMeters&quot;) double carMeters) {\r\n            this.carMeters = carMeters == 0 ? DEFAULT_METERS : carMeters;\r\n        }\r\n        \r\n        @JsonProperty(&quot;carMeters&quot;)\r\n        public double getCarMeters() {\r\n            return carMeters;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json1 = &quot;&quot;&quot;\r\n            {\r\n                &quot;carMeters&quot;: 2.406\r\n            }&quot;&quot;&quot;;\r\n    \r\n        String json2 = &quot;&quot;&quot;\r\n            {\r\n                &quot;carMeters&quot;: null\r\n            }&quot;&quot;&quot;;\r\n    \r\n        String json3 = &quot;&quot;&quot;\r\n            {   }\r\n            &quot;&quot;&quot;;\r\n        \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        \r\n        System.out.println(mapper.readValue(json1, TestDims.class));\r\n        System.out.println(mapper.readValue(json2, TestDims.class));\r\n        System.out.println(mapper.readValue(json3, TestDims.class));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nTestDims{carMeters=2.406} // a regular value\r\nTestDims{carMeters=2.2}   // provided value is null\r\nTestDims{carMeters=2.2}   // the property is not present\r\n```\r\n\r\n# If you still want to use Optional\r\n\r\nIf you want to use Optional as a field at all costs, then your class would not be serializable. There&#39;s no workaround.\r\n\r\nTo let the Jackson know how to deal with Optional, you would need to add a dependency for [Jackson Datatype: JDK8 module](https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jdk8), and register it.\r\n\r\nIf you&#39;re not using any framework, then you would need to register the module manually using `ObjectMapper.registerModule()` before deserializing JSON.\r\n\r\nWith Spring Boot, it would be sufficient to add this module to the Spring&#39;s Context by using a method annotated with `@Bean`.\r\n\r\n    @Bean\r\n    public Jdk8Module jdk8Module() {\r\n        return new Jdk8Module();\r\n    }\r\n\r\nAnd it would be registered automatically while configuring `ObjectMapper`.\r\n\r\nAlso **note**, that it doen&#39;t make sense to use `Optional&lt;Double&gt;` since there&#39;s a type `OptionalDouble` wrapping a primitive.\r\n\r\n    public final static class TestDimsss implements JsonTyped {\r\n        public static final OptionalDouble DEFAULT_METERS = OptionalDouble.of(2.2D);\r\n        private final OptionalDouble carMeters;\r\n        \r\n        @JsonCreator\r\n        public TestDimsss(@JsonProperty(&quot;carMeters&quot;) OptionalDouble carMeters){\r\n            this.carMeters = carMeters;\r\n        }\r\n        \r\n        @JsonProperty(&quot;carMeters&quot;)\r\n        public OptionalDouble getCarMeters() {\r\n            return carMeters.isPresent() ? carMeters : DEFAULT_METERS;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;TestDimsss{&quot; +\r\n                &quot;carMeters=&quot; + carMeters +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json1 = &quot;&quot;&quot;\r\n            {\r\n                &quot;carMeters&quot;: 2.406\r\n            }&quot;&quot;&quot;;\r\n    \r\n        String json2 = &quot;&quot;&quot;\r\n            {\r\n                &quot;carMeters&quot;: null\r\n            }&quot;&quot;&quot;;\r\n    \r\n        String json3 = &quot;&quot;&quot;\r\n            {   }\r\n            &quot;&quot;&quot;;\r\n        \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new Jdk8Module());\r\n        \r\n        System.out.println(mapper.readValue(json1, TestDims.class));\r\n        System.out.println(mapper.readValue(json2, TestDims.class));\r\n        System.out.println(mapper.readValue(json3, TestDims.class));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nTestDimsss{carMeters=OptionalDouble[2.406]}  // a regular value\r\nTestDimsss{carMeters=OptionalDouble.empty}   // provided value is null\r\nTestDimsss{carMeters=OptionalDouble.empty}   // the property is not present\r\n```","title":"Jackson - Deserializing JSON into an Object having an Optional field","body":"<h1>Don't use Optional as a field</h1>\n<p>I would advise getting rid of the Optional.</p>\n<p>Firstly, <code>Optional</code> <strong>doesn't</strong> implement <code>Serializable</code> hence your class is <strong>broken</strong> (because for an object to be serializable, the whole object graph should be serializable).</p>\n<p>Secondly, using <code>Optional</code> as a field is an antipattern, getters returning an optional are inconvenient, because instead of exposing the actual value they're forcing the caller to dial with an Optional.</p>\n<p>A possible solution is to change the type of <code>carMeters</code> to <code>double</code>:</p>\n<pre><code>public final class TestDims implements JsonTyped, Serializable {\n    public static final double DEFAULT_METERS = 2.2;\n    \n    private final double carMeters;\n    \n    @JsonCreator\n    public TestDims(@JsonProperty(&quot;carMeters&quot;) double carMeters) {\n        this.carMeters = carMeters == 0 ? DEFAULT_METERS : carMeters;\n    }\n    \n    @JsonProperty(&quot;carMeters&quot;)\n    public double getCarMeters() {\n        return carMeters;\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String json1 = &quot;&quot;&quot;\n        {\n            &quot;carMeters&quot;: 2.406\n        }&quot;&quot;&quot;;\n\n    String json2 = &quot;&quot;&quot;\n        {\n            &quot;carMeters&quot;: null\n        }&quot;&quot;&quot;;\n\n    String json3 = &quot;&quot;&quot;\n        {   }\n        &quot;&quot;&quot;;\n    \n    ObjectMapper mapper = new ObjectMapper();\n    \n    System.out.println(mapper.readValue(json1, TestDims.class));\n    System.out.println(mapper.readValue(json2, TestDims.class));\n    System.out.println(mapper.readValue(json3, TestDims.class));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>TestDims{carMeters=2.406} // a regular value\nTestDims{carMeters=2.2}   // provided value is null\nTestDims{carMeters=2.2}   // the property is not present\n</code></pre>\n<h1>If you still want to use Optional</h1>\n<p>If you want to use Optional as a field at all costs, then your class would not be serializable. There's no workaround.</p>\n<p>To let the Jackson know how to deal with Optional, you would need to add a dependency for <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jdk8\" rel=\"nofollow noreferrer\">Jackson Datatype: JDK8 module</a>, and register it.</p>\n<p>If you're not using any framework, then you would need to register the module manually using <code>ObjectMapper.registerModule()</code> before deserializing JSON.</p>\n<p>With Spring Boot, it would be sufficient to add this module to the Spring's Context by using a method annotated with <code>@Bean</code>.</p>\n<pre><code>@Bean\npublic Jdk8Module jdk8Module() {\n    return new Jdk8Module();\n}\n</code></pre>\n<p>And it would be registered automatically while configuring <code>ObjectMapper</code>.</p>\n<p>Also <strong>note</strong>, that it doen't make sense to use <code>Optional&lt;Double&gt;</code> since there's a type <code>OptionalDouble</code> wrapping a primitive.</p>\n<pre><code>public final static class TestDimsss implements JsonTyped {\n    public static final OptionalDouble DEFAULT_METERS = OptionalDouble.of(2.2D);\n    private final OptionalDouble carMeters;\n    \n    @JsonCreator\n    public TestDimsss(@JsonProperty(&quot;carMeters&quot;) OptionalDouble carMeters){\n        this.carMeters = carMeters;\n    }\n    \n    @JsonProperty(&quot;carMeters&quot;)\n    public OptionalDouble getCarMeters() {\n        return carMeters.isPresent() ? carMeters : DEFAULT_METERS;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;TestDimsss{&quot; +\n            &quot;carMeters=&quot; + carMeters +\n            '}';\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String json1 = &quot;&quot;&quot;\n        {\n            &quot;carMeters&quot;: 2.406\n        }&quot;&quot;&quot;;\n\n    String json2 = &quot;&quot;&quot;\n        {\n            &quot;carMeters&quot;: null\n        }&quot;&quot;&quot;;\n\n    String json3 = &quot;&quot;&quot;\n        {   }\n        &quot;&quot;&quot;;\n    \n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new Jdk8Module());\n    \n    System.out.println(mapper.readValue(json1, TestDims.class));\n    System.out.println(mapper.readValue(json2, TestDims.class));\n    System.out.println(mapper.readValue(json3, TestDims.class));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>TestDimsss{carMeters=OptionalDouble[2.406]}  // a regular value\nTestDimsss{carMeters=OptionalDouble.empty}   // provided value is null\nTestDimsss{carMeters=OptionalDouble.empty}   // the property is not present\n</code></pre>\n"}],"owner":{"account_id":26182902,"reputation":3,"user_id":19865956,"display_name":"SDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74214022,"answer_count":1,"score":0,"last_activity_date":1666822740,"creation_date":1666815282,"question_id":74213739,"body_markdown":"I have an `Optional&lt;Double&gt;` field which I am trying to deserialize from a JSON, but getting the following Exception: \r\n```\r\nCannot construct instance of `java.util.Optional`\r\n(although at least one Creator exists):\r\nno BigDecimal/double/Double-argument constructor/factory method\r\nto deserialize from Number value (2.406)\r\n```\r\n\r\n*My class:*\r\n\r\n    public final class TestDims implements JsonTyped, Serializable {\r\n        private final Optional&lt;Double&gt; carMeters;\r\n        \r\n        @JsonCreator\r\n        public TestDims(@JsonProperty(&quot;carMeters&quot;) Optional&lt;Double&gt; carMeters) {\r\n            this.carMeters = carMeters;\r\n        }\r\n        \r\n        @JsonProperty(&quot;carMeters&quot;)\r\n        public Optional&lt;Double&gt; getCarMeters() {\r\n            return Optional.of(carMeters.orElse(2.2d));\r\n        }\r\n    }\r\n\r\n*Sample JSON:*\r\n\r\n```\r\n{\r\n    &quot;carMeters&quot;: 2.406\r\n}\r\n```","title":"Jackson - Deserializing JSON into an Object having an Optional field","body":"<p>I have an <code>Optional&lt;Double&gt;</code> field which I am trying to deserialize from a JSON, but getting the following Exception:</p>\n<pre><code>Cannot construct instance of `java.util.Optional`\n(although at least one Creator exists):\nno BigDecimal/double/Double-argument constructor/factory method\nto deserialize from Number value (2.406)\n</code></pre>\n<p><em>My class:</em></p>\n<pre><code>public final class TestDims implements JsonTyped, Serializable {\n    private final Optional&lt;Double&gt; carMeters;\n    \n    @JsonCreator\n    public TestDims(@JsonProperty(&quot;carMeters&quot;) Optional&lt;Double&gt; carMeters) {\n        this.carMeters = carMeters;\n    }\n    \n    @JsonProperty(&quot;carMeters&quot;)\n    public Optional&lt;Double&gt; getCarMeters() {\n        return Optional.of(carMeters.orElse(2.2d));\n    }\n}\n</code></pre>\n<p><em>Sample JSON:</em></p>\n<pre><code>{\n    &quot;carMeters&quot;: 2.406\n}\n</code></pre>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1458680335,"post_id":36165035,"comment_id":59967297,"body_markdown":"Could you give a little information about &quot;paths&quot;? Are you looking for all permutation of an `in-order` traversal?","body":"Could you give a little information about &quot;paths&quot;? Are you looking for all permutation of an <code>in-order</code> traversal?"},{"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"score":0,"creation_date":1458687012,"post_id":36165035,"comment_id":59970601,"body_markdown":"I believe the OP means paths from all leaves to root.","body":"I believe the OP means paths from all leaves to root."},{"owner":{"account_id":7555408,"reputation":2223,"user_id":5735244,"accept_rate":61,"display_name":"Zeus"},"score":0,"creation_date":1458692012,"post_id":36165035,"comment_id":59972420,"body_markdown":"A path means a path from root to any leaf node.","body":"A path means a path from root to any leaf node."}],"answers":[{"tags":[],"owner":{"account_id":7555408,"reputation":2223,"user_id":5735244,"accept_rate":61,"display_name":"Zeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458695225,"creation_date":1458695225,"answer_id":36168048,"question_id":36165035,"body_markdown":"Managed to fix my code finally. Posting for the sake of completeness.\r\n\r\n    public void printPath(Node root){\r\n            Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\r\n            printPath(root, stack);\r\n            \r\n        }\r\n    \r\n        public void printPath(Node root, Deque&lt;Node&gt; stack){\r\n    \r\n            if(root == null) return;\r\n    \r\n            stack.offerFirst(root);\r\n            printPath(root.left, stack);\r\n            printPath(root.right, stack);\r\n            if(root.left == null &amp;&amp; root.right == null){\r\n                Iterator itr = stack.descendingIterator();\r\n                while(itr.hasNext()){\r\n                    Node p = (Node) itr.next();\r\n                    System.out.print(p.data + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            stack.poll();\r\n    \r\n    \r\n        }\r\n","title":"Print all paths in a BST in java","body":"<p>Managed to fix my code finally. Posting for the sake of completeness.</p>\n\n<pre><code>public void printPath(Node root){\n        Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\n        printPath(root, stack);\n\n    }\n\n    public void printPath(Node root, Deque&lt;Node&gt; stack){\n\n        if(root == null) return;\n\n        stack.offerFirst(root);\n        printPath(root.left, stack);\n        printPath(root.right, stack);\n        if(root.left == null &amp;&amp; root.right == null){\n            Iterator itr = stack.descendingIterator();\n            while(itr.hasNext()){\n                Node p = (Node) itr.next();\n                System.out.print(p.data + \" \");\n            }\n            System.out.println();\n        }\n        stack.poll();\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1828982,"reputation":452,"user_id":1660964,"display_name":"ankit249"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459613644,"creation_date":1458696346,"answer_id":36168233,"question_id":36165035,"body_markdown":"// I am using recursion here , it works with Binary Trees which are not BSTs as well\r\n-----------------------------\r\n\r\n// No need for iterators, just use the Java ArrayList\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    class TreeNode {\r\n\tint data;\r\n\tTreeNode left;\r\n\tTreeNode right;\r\n\r\n\tpublic TreeNode(int data) {\r\n\t\tthis.data = data;\r\n\t\tthis.left = null;\r\n\t\tthis.right = null;\r\n\t}\r\n}\r\n\r\n\r\n        /*\r\n                 30\r\n             20      50\r\n           15  25   40  60\r\n                          70\r\n                            80\r\n\r\n        // This would print\r\n\r\n        30 20 15 \r\n        30 20 25 \r\n        30 50 40 \r\n        30 50 60 70 80 \r\n\r\n        */\r\n\r\n\r\n\r\npublic class AllPathsToLeafArrayList {\r\n\r\n\tprivate static void findPaths(TreeNode root) {\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tfindPaths(root, list);\r\n\t}\r\n\r\n\tprivate static void findPaths(TreeNode root, List&lt;Integer&gt; list) {\r\n\t\tif (root == null)\r\n\t\t\treturn;\r\n\r\n\t\tlist.add(root.data);\r\n\r\n\t\tif (root.left == null &amp;&amp; root.right == null) {\r\n\t\t\tprintPaths(list);\r\n\t\t} else {\r\n\t\t\tfindPaths(root.left, list);\r\n\t\t\tfindPaths(root.right, list);\r\n\t\t}\r\n\r\n\t\tlist.remove(list.size() - 1);\r\n\t}\r\n\r\n\tprivate static void printPaths(List&lt;Integer&gt; list) {\r\n\t\tfor (Integer l : list) {\r\n\t\t\tSystem.out.print(l + &quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t\tTreeNode root = new TreeNode(30);\r\n\r\n\t\troot.left = new TreeNode(10);\r\n\t\troot.right = new TreeNode(50);\r\n\t\troot.left.left = new TreeNode(15);\r\n\t\troot.left.right = new TreeNode(25);\r\n\t\troot.right.left = new TreeNode(40);\r\n        root.right.right = new TreeNode(60);\r\n        root.right.right.right = new TreeNode(70);\r\n        root.right.right.right.right = new TreeNode(80);\r\n\r\n\t\tfindPaths(root);\r\n        \r\n\t}\r\n}\r\n\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n                                             \r\n            ","title":"Print all paths in a BST in java","body":"<h2>// I am using recursion here , it works with Binary Trees which are not BSTs as well</h2>\n\n<p>// No need for iterators, just use the Java ArrayList</p>\n\n<pre><code>\n\n    class TreeNode {\n    int data;\n    TreeNode left;\n    TreeNode right;\n\n    public TreeNode(int data) {\n        this.data = data;\n        this.left = null;\n        this.right = null;\n    }\n}\n\n\n        /*\n                 30\n             20      50\n           15  25   40  60\n                          70\n                            80\n\n        // This would print\n\n        30 20 15 \n        30 20 25 \n        30 50 40 \n        30 50 60 70 80 \n\n        */\n\n\n\npublic class AllPathsToLeafArrayList {\n\n    private static void findPaths(TreeNode root) {\n        ArrayList list = new ArrayList();\n        findPaths(root, list);\n    }\n\n    private static void findPaths(TreeNode root, List list) {\n        if (root == null)\n            return;\n\n        list.add(root.data);\n\n        if (root.left == null && root.right == null) {\n            printPaths(list);\n        } else {\n            findPaths(root.left, list);\n            findPaths(root.right, list);\n        }\n\n        list.remove(list.size() - 1);\n    }\n\n    private static void printPaths(List list) {\n        for (Integer l : list) {\n            System.out.print(l + \" \");\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n\n\n        TreeNode root = new TreeNode(30);\n\n        root.left = new TreeNode(10);\n        root.right = new TreeNode(50);\n        root.left.left = new TreeNode(15);\n        root.left.right = new TreeNode(25);\n        root.right.left = new TreeNode(40);\n        root.right.right = new TreeNode(60);\n        root.right.right.right = new TreeNode(70);\n        root.right.right.right.right = new TreeNode(80);\n\n        findPaths(root);\n\n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458698319,"creation_date":1458698319,"answer_id":36168517,"question_id":36165035,"body_markdown":"A slightly more self-documenting solution based on preorder traversal. This should work with a binary tree (no BST is needed):\r\n\r\n    public class BTPaths {\r\n        private static final class BST&lt;T&gt; {\r\n            final T key;\r\n            BST&lt;T&gt; left;\r\n            BST&lt;T&gt; right;\r\n    \r\n            BST(T key) {\r\n                this.key = key;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            BST&lt;Integer&gt; t = new BST&lt;&gt;(100);\r\n            t.left = new BST&lt;&gt;(50);\r\n            t.right = new BST&lt;&gt;(150);\r\n            t.left.right = new BST&lt;&gt;(75);\r\n            t.left.right.left = new BST&lt;&gt;(63);\r\n            t.right.left = new BST&lt;&gt;(125);\r\n            t.right.right = new BST&lt;&gt;(200);\r\n            preOrderPrintPaths(t, new ArrayDeque&lt;&gt;(10));\r\n        }\r\n    \r\n        static &lt;T&gt; void preOrderPrintPaths(BST&lt;T&gt; node, Deque&lt;BST&lt;T&gt;&gt; q) {\r\n            if (node == null)\r\n                return;\r\n            if (node.left != null) {\r\n                q.addLast(node);\r\n                preOrderPrintPaths(node.left, q);\r\n            }\r\n            if (node.right != null) {\r\n                q.addLast(node);\r\n                preOrderPrintPaths(node.right, q);\r\n            }\r\n            if (node.left == null &amp;&amp; node.right == null) {\r\n                System.out.println(q.stream().map(n -&gt; n.key.toString()).collect(Collectors.joining\r\n                        (&quot;-&gt;&quot;)) + &quot;-&gt;&quot; + node.key );\r\n            }\r\n            if (!q.isEmpty())\r\n                q.removeLast();\r\n        }\r\n    }","title":"Print all paths in a BST in java","body":"<p>A slightly more self-documenting solution based on preorder traversal. This should work with a binary tree (no BST is needed):</p>\n\n<pre><code>public class BTPaths {\n    private static final class BST&lt;T&gt; {\n        final T key;\n        BST&lt;T&gt; left;\n        BST&lt;T&gt; right;\n\n        BST(T key) {\n            this.key = key;\n        }\n    }\n\n    public static void main(String[] args) {\n        BST&lt;Integer&gt; t = new BST&lt;&gt;(100);\n        t.left = new BST&lt;&gt;(50);\n        t.right = new BST&lt;&gt;(150);\n        t.left.right = new BST&lt;&gt;(75);\n        t.left.right.left = new BST&lt;&gt;(63);\n        t.right.left = new BST&lt;&gt;(125);\n        t.right.right = new BST&lt;&gt;(200);\n        preOrderPrintPaths(t, new ArrayDeque&lt;&gt;(10));\n    }\n\n    static &lt;T&gt; void preOrderPrintPaths(BST&lt;T&gt; node, Deque&lt;BST&lt;T&gt;&gt; q) {\n        if (node == null)\n            return;\n        if (node.left != null) {\n            q.addLast(node);\n            preOrderPrintPaths(node.left, q);\n        }\n        if (node.right != null) {\n            q.addLast(node);\n            preOrderPrintPaths(node.right, q);\n        }\n        if (node.left == null &amp;&amp; node.right == null) {\n            System.out.println(q.stream().map(n -&gt; n.key.toString()).collect(Collectors.joining\n                    (\"-&gt;\")) + \"-&gt;\" + node.key );\n        }\n        if (!q.isEmpty())\n            q.removeLast();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666822520,"creation_date":1666822520,"answer_id":74214796,"question_id":36165035,"body_markdown":"Not sure why you are using queue for this purpose. Instead you should use stack and its push and pop operations. Then the code is quite simple.\r\n```java\r\n    import com.algo2prepare.util.Tree;\r\n    import java.util.Stack;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Node root = Tree.generate(Node.class, 4);\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\r\n        Tree.print(root);\r\n//                  71\r\n//           ┌───────┴───────┐               \r\n//          20              59\r\n//       ┌───┴───┐       ┌───┴───┐       \r\n//      64      89      67      89\r\n//     ┌─┘     ┌─┴─┐           ┌─┘     \r\n//    27      63  11          83    \r\n\r\n        pathPrint(root, stack);\r\n//  [71, 20, 64, 27]\r\n//  [71, 20, 64, 89, 63]\r\n//  [71, 20, 64, 89, 63, 11]\r\n//  [71, 20, 64, 89, 59, 67]\r\n//  [71, 20, 64, 89, 59, 67, 89, 83]\r\n    \r\n    }\r\n    \r\n    public static void pathPrint(Node node, Stack&lt;Integer&gt; stack) {\r\n        if (node == null) { return; }\r\n\r\n        stack.push(node.val);\r\n        if (node.left == null &amp;&amp; node.right == null) {\r\n            System.out.println(stack);\r\n            return;\r\n        }\r\n\r\n        pathPrint(node.left,stack);\r\n        pathPrint(node.right,stack);\r\n        stack.pop();\r\n    }\r\n\r\n    class Node {\r\n        int val;\r\n        Node left;\r\n        Node right;\r\n    }\r\n```\r\n\r\nNote that it is only important that you have binary tree. Binary search tree is just a special case, but the point is that this code would work also with BST. ","title":"Print all paths in a BST in java","body":"<p>Not sure why you are using queue for this purpose. Instead you should use stack and its push and pop operations. Then the code is quite simple.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.algo2prepare.util.Tree;\n    import java.util.Stack;\n\n    public static void main(String[] args) {\n\n        Node root = Tree.generate(Node.class, 4);\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\n        Tree.print(root);\n//                  71\n//           ┌───────┴───────┐               \n//          20              59\n//       ┌───┴───┐       ┌───┴───┐       \n//      64      89      67      89\n//     ┌─┘     ┌─┴─┐           ┌─┘     \n//    27      63  11          83    \n\n        pathPrint(root, stack);\n//  [71, 20, 64, 27]\n//  [71, 20, 64, 89, 63]\n//  [71, 20, 64, 89, 63, 11]\n//  [71, 20, 64, 89, 59, 67]\n//  [71, 20, 64, 89, 59, 67, 89, 83]\n    \n    }\n    \n    public static void pathPrint(Node node, Stack&lt;Integer&gt; stack) {\n        if (node == null) { return; }\n\n        stack.push(node.val);\n        if (node.left == null &amp;&amp; node.right == null) {\n            System.out.println(stack);\n            return;\n        }\n\n        pathPrint(node.left,stack);\n        pathPrint(node.right,stack);\n        stack.pop();\n    }\n\n    class Node {\n        int val;\n        Node left;\n        Node right;\n    }\n</code></pre>\n<p>Note that it is only important that you have binary tree. Binary search tree is just a special case, but the point is that this code would work also with BST.</p>\n"}],"owner":{"account_id":7555408,"reputation":2223,"user_id":5735244,"accept_rate":61,"display_name":"Zeus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1666822520,"creation_date":1458680143,"question_id":36165035,"body_markdown":"A path in a BST is one traversal from root to a leaf node. Thus if we have a binary tree of the form,\r\n   \r\n\r\n       7\r\n     3   9\r\n    1 5 8 13\r\n\r\nThe paths would be, \r\n\r\n    7 3 1 \r\n    7 3 5 \r\n    7 9 8 \r\n    7 9 13 \r\n\r\nThis is my code, which isn&#39;t working correctly.\r\n\r\n    public void printPath(Node root){\r\n            Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\r\n            printPath(root, stack);\r\n    \r\n    \r\n        }\r\n    \r\n        public void printPath(Node root, Deque&lt;Node&gt; stack){\r\n    \r\n            if(root == null){\r\n                Iterator itr = stack.descendingIterator();\r\n                while(itr.hasNext()){\r\n                    Node p = (Node) itr.next();\r\n                    System.out.print(p.data + &quot; &quot;);\r\n                }\r\n                stack.poll();\r\n                System.out.println();\r\n                return;\r\n            }\r\n            stack.offerFirst(root);\r\n            printPath(root.left, stack);\r\n            printPath(root.right, stack);\r\n    \r\n        }\r\n\r\nThis code is not printing all the paths right. Any help appreciated.","title":"Print all paths in a BST in java","body":"<p>A path in a BST is one traversal from root to a leaf node. Thus if we have a binary tree of the form,</p>\n\n<pre><code>   7\n 3   9\n1 5 8 13\n</code></pre>\n\n<p>The paths would be, </p>\n\n<pre><code>7 3 1 \n7 3 5 \n7 9 8 \n7 9 13 \n</code></pre>\n\n<p>This is my code, which isn't working correctly.</p>\n\n<pre><code>public void printPath(Node root){\n        Deque&lt;Node&gt; stack = new ArrayDeque&lt;&gt;();\n        printPath(root, stack);\n\n\n    }\n\n    public void printPath(Node root, Deque&lt;Node&gt; stack){\n\n        if(root == null){\n            Iterator itr = stack.descendingIterator();\n            while(itr.hasNext()){\n                Node p = (Node) itr.next();\n                System.out.print(p.data + \" \");\n            }\n            stack.poll();\n            System.out.println();\n            return;\n        }\n        stack.offerFirst(root);\n        printPath(root.left, stack);\n        printPath(root.right, stack);\n\n    }\n</code></pre>\n\n<p>This code is not printing all the paths right. Any help appreciated.</p>\n"},{"tags":["java","node.js","javafx","socket.io","javafx-webview"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666820947,"post_id":74210940,"comment_id":131029356,"body_markdown":"*&quot;I read online that WebView used to use the Nashorn API&quot;* -&gt; I don&#39;t think so, [I think WebView has always used JavaScriptCore](https://stackoverflow.com/questions/30104124/what-javascript-engine-used-inside-javafx).","body":"<i>&quot;I read online that WebView used to use the Nashorn API&quot;</i> -&gt; I don&#39;t think so, <a href=\"https://stackoverflow.com/questions/30104124/what-javascript-engine-used-inside-javafx\">I think WebView has always used JavaScriptCore</a>."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666821163,"post_id":74210940,"comment_id":131029407,"body_markdown":"@jewelsea It was answered here that it was removed https://bugs.openjdk.org/browse/JDK-8091505","body":"@jewelsea It was answered here that it was removed <a href=\"https://bugs.openjdk.org/browse/JDK-8091505\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8091505</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666821282,"post_id":74210940,"comment_id":131029424,"body_markdown":"*&quot;which allowed plugin libraries to convert their data to a Java-friendly type (serializing complex objects to JSON) and apparently avoided errors&quot;* -&gt; The JavaScript implementation in WebView should have nothing to do with the communications protocol (e.g. socket.io/http/websockets), so may have nothing to do with your problem.  There are numerous issues that could cause your page not to load, I don&#39;t know what the actual cause is.","body":"<i>&quot;which allowed plugin libraries to convert their data to a Java-friendly type (serializing complex objects to JSON) and apparently avoided errors&quot;</i> -&gt; The JavaScript implementation in WebView should have nothing to do with the communications protocol (e.g. socket.io/http/websockets), so may have nothing to do with your problem.  There are numerous issues that could cause your page not to load, I don&#39;t know what the actual cause is."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666821394,"post_id":74210940,"comment_id":131029447,"body_markdown":"No, that JDK-8091505 was a request to add Nashorn as an alternate JavaScript implementation in WebView, which was denied.  Nashorn was never provided as an alternate JavaScript implementation in WebView, so Nashorn&#39;s [later removal from the JDK (not JavaFX or WebView)](https://openjdk.org/jeps/372) was irrelevant to both JavaFX and WebView.","body":"No, that JDK-8091505 was a request to add Nashorn as an alternate JavaScript implementation in WebView, which was denied.  Nashorn was never provided as an alternate JavaScript implementation in WebView, so Nashorn&#39;s <a href=\"https://openjdk.org/jeps/372\" rel=\"nofollow noreferrer\">later removal from the JDK (not JavaFX or WebView)</a> was irrelevant to both JavaFX and WebView."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666821518,"post_id":74210940,"comment_id":131029471,"body_markdown":"@jewelsea The page stops opening just after connecting socket.io. I found https://github.com/socketio/socket.io-client-java, maybe using it explicitly can help if socket.io is the problem? I don&#39;t see what the problem could be either. Other browsers (Chrome, jxBrowser, JCEF) don&#39;t have the issues that happen in WebView","body":"@jewelsea The page stops opening just after connecting socket.io. I found <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">github.com/socketio/socket.io-client-java</a>, maybe using it explicitly can help if socket.io is the problem? I don&#39;t see what the problem could be either. Other browsers (Chrome, jxBrowser, JCEF) don&#39;t have the issues that happen in WebView"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666821533,"post_id":74210940,"comment_id":131029474,"body_markdown":"&quot;*I found https://github.com/socketio/socket.io-client-java*&quot; -&gt; That library is also irrelevant if you are using WebView.  That is a Java library, and WebView runs using its own processing engine and JavaScript implementation.  You can use the Java socket-io client library if you call it from Java directly (not via WebView), but that isn&#39;t what you indicate that you want to achieve.","body":"&quot;<i>I found <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">github.com/socketio/socket.io-client-java</a></i>&quot; -&gt; That library is also irrelevant if you are using WebView.  That is a Java library, and WebView runs using its own processing engine and JavaScript implementation.  You can use the Java socket-io client library if you call it from Java directly (not via WebView), but that isn&#39;t what you indicate that you want to achieve."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666821692,"post_id":74210940,"comment_id":131029512,"body_markdown":"@jewelsea Perhaps the mechanism for processing and implementing JavaScript in WebView does not cope with these frameworks? Can it be expanded or updated in some way?","body":"@jewelsea Perhaps the mechanism for processing and implementing JavaScript in WebView does not cope with these frameworks? Can it be expanded or updated in some way?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666821836,"post_id":74210940,"comment_id":131029539,"body_markdown":"[socket-io](https://socket.io) provides a web socket implementation with a fallback to HTTP long polling.  WebView handles [websockets](https://stackoverflow.com/questions/46708924/websocket-support-for-javafx-webview) and can also handle HTTP, so I don&#39;t know what the issue is.","body":"<a href=\"https://socket.io\" rel=\"nofollow noreferrer\">socket-io</a> provides a web socket implementation with a fallback to HTTP long polling.  WebView handles <a href=\"https://stackoverflow.com/questions/46708924/websocket-support-for-javafx-webview\">websockets</a> and can also handle HTTP, so I don&#39;t know what the issue is."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666821977,"post_id":74210940,"comment_id":131029568,"body_markdown":"*Perhaps the mechanism for processing and implementing JavaScript in WebView does not cope with these frameworks?* -&gt; That is unlikely, JavaScriptCore is the same JavaScript implementation found in other major browsers and is compliant with recent JavaScript standards.  Likely it is some other issue.  And no, the JavaScript implementation in WebView is not expandable or updateable.","body":"<i>Perhaps the mechanism for processing and implementing JavaScript in WebView does not cope with these frameworks?</i> -&gt; That is unlikely, JavaScriptCore is the same JavaScript implementation found in other major browsers and is compliant with recent JavaScript standards.  Likely it is some other issue.  And no, the JavaScript implementation in WebView is not expandable or updateable."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666822082,"post_id":74210940,"comment_id":131029595,"body_markdown":"I advise trying to track down the actual cause of your error (I don&#39;t have advice on how to do that, and it might be very difficult to do so).  Then you could try to look for potential solutions.  Otherwise, you are unlikely to solve this issue, unless you adopt an entirely different approach (e.g. use jxBrowser/JCEF, etc instead).","body":"I advise trying to track down the actual cause of your error (I don&#39;t have advice on how to do that, and it might be very difficult to do so).  Then you could try to look for potential solutions.  Otherwise, you are unlikely to solve this issue, unless you adopt an entirely different approach (e.g. use jxBrowser/JCEF, etc instead)."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666822273,"post_id":74210940,"comment_id":131029639,"body_markdown":"@jewelsea I just remembered that I manage to launch the page if I add the following code before webEngine.loadUrl(url): URI uri = URI.create(url);\n        System.setProperty(&#39;http.proxyHost&#39;, uri.getHost());\n        System.setProperty(&#39;http.proxyPort&#39;, String.valueOf(uri.getPort()));\nAfter that, the page opens, but web sockets do not work. There are also issues with page redirects. Maybe an error occurs because it does not pass the security check? Certificates or something like that...","body":"@jewelsea I just remembered that I manage to launch the page if I add the following code before webEngine.loadUrl(url): URI uri = URI.create(url);         System.setProperty(&#39;http.proxyHost&#39;, uri.getHost());         System.setProperty(&#39;http.proxyPort&#39;, String.valueOf(uri.getPort())); After that, the page opens, but web sockets do not work. There are also issues with page redirects. Maybe an error occurs because it does not pass the security check? Certificates or something like that..."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666822508,"post_id":74210940,"comment_id":131029687,"body_markdown":"Proxy-based issues [can occur with WebSockets](https://stackoverflow.com/questions/38974731/websockets-not-connected-behind-proxy).  The socket.io library says that it can gracefully fallback to long-poll HTTP if the websocket connection fails, but I guess there is some issue there (I don&#39;t know what).","body":"Proxy-based issues <a href=\"https://stackoverflow.com/questions/38974731/websockets-not-connected-behind-proxy\">can occur with WebSockets</a>.  The socket.io library says that it can gracefully fallback to long-poll HTTP if the websocket connection fails, but I guess there is some issue there (I don&#39;t know what)."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666822565,"post_id":74210940,"comment_id":131029707,"body_markdown":"@jewelsea I would use JCEF, but unfortunately I have problems with it too. Since I have a javafx application, I understand that JCEF works together with Swing, it will be problematic to rewrite the application, but I&#39;m ready for this ... The main problem for me is that I can&#39;t make JCEF transparent and place it in container JLayeredPane so I can add JCEF over VLCJ","body":"@jewelsea I would use JCEF, but unfortunately I have problems with it too. Since I have a javafx application, I understand that JCEF works together with Swing, it will be problematic to rewrite the application, but I&#39;m ready for this ... The main problem for me is that I can&#39;t make JCEF transparent and place it in container JLayeredPane so I can add JCEF over VLCJ"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666822605,"post_id":74210940,"comment_id":131029718,"body_markdown":"*&quot;Maybe an error occurs because it does not pass the security check? Certificates or something like that&quot;* -&gt; In your previous question you mentioned that you are using HTTP, not HTTPS or WSS, so TLS and certificates are not involved (unless you added them).","body":"<i>&quot;Maybe an error occurs because it does not pass the security check? Certificates or something like that&quot;</i> -&gt; In your previous question you mentioned that you are using HTTP, not HTTPS or WSS, so TLS and certificates are not involved (unless you added them)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666822663,"post_id":74210940,"comment_id":131029726,"body_markdown":"*&quot;There are also issues with page redirects.&quot;* -&gt; this can be caused by a low-quality proxy implementation, but I don&#39;t the actual cause in your case.","body":"<i>&quot;There are also issues with page redirects.&quot;</i> -&gt; this can be caused by a low-quality proxy implementation, but I don&#39;t the actual cause in your case."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666822947,"post_id":74210940,"comment_id":131029786,"body_markdown":"@jewelsea Here https://stackoverflow.com/questions/38974731/websockets-not-connected-behind-proxy , as I understand it, it works fine if the client does not use a proxy. My page won&#39;t even open without a proxy. If I use a proxy, then yes, the same problem as in this question and apparently switching to https can help in this case...","body":"@jewelsea Here <a href=\"https://stackoverflow.com/questions/38974731/websockets-not-connected-behind-proxy\" title=\"websockets not connected behind proxy\">stackoverflow.com/questions/38974731/&hellip;</a> , as I understand it, it works fine if the client does not use a proxy. My page won&#39;t even open without a proxy. If I use a proxy, then yes, the same problem as in this question and apparently switching to https can help in this case..."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666926725,"post_id":74210940,"comment_id":131055508,"body_markdown":"@jewelsea So far, I&#39;ve managed to find out that before version 14-ea+2, my site opens fine. The site is the simplest with nodeJs and socket.io. If the version is higher, then throws an unknown error and other problems occur. It would be possible to use version 14-ea+2, but I need transparency, which was added in version 18... :(","body":"@jewelsea So far, I&#39;ve managed to find out that before version 14-ea+2, my site opens fine. The site is the simplest with nodeJs and socket.io. If the version is higher, then throws an unknown error and other problems occur. It would be possible to use version 14-ea+2, but I need transparency, which was added in version 18... :("},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666956377,"post_id":74210940,"comment_id":131062644,"body_markdown":"@jewelsea I found an example that is easy to try on your own to see the problem.\n[socketio-chat](https://socketio-chat-h9jt.herokuapp.com/) - if you open this chat in javafx.WebView, then everything works and there is no unknown error. But if you install chat ([github.com/socketio](https://github.com/socketio/socket.io/tree/master/examples/chat)) locally on PC  and open localhost:3000 then it throws an unknown error...","body":"@jewelsea I found an example that is easy to try on your own to see the problem. <a href=\"https://socketio-chat-h9jt.herokuapp.com/\" rel=\"nofollow noreferrer\">socketio-chat</a> - if you open this chat in javafx.WebView, then everything works and there is no unknown error. But if you install chat (<a href=\"https://github.com/socketio/socket.io/tree/master/examples/chat\" rel=\"nofollow noreferrer\">github.com/socketio</a>) locally on PC  and open localhost:3000 then it throws an unknown error..."}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666822125,"creation_date":1666800513,"question_id":74210940,"body_markdown":"I have a &#39;nodeJs&#39; server using &#39;expressJs&#39; and &#39;socket.io&#39;. The page opens fine unless I use &#39;socket.io. If you use &#39;socket.io&#39;, then it throws an &#39;Unknown error&#39; error:\r\n\r\n    const app = require(&#39;express&#39;);\r\n    const server = require(&#39;http&#39;).Server(app);\r\n    const io = require(&#39;socket.io&#39;)(server, {}); // this line causes &#39;Unknown error&#39; on page load\r\n\r\nIt doesn&#39;t matter what parameters to use in {}. If you just create a variable `const io = require(&#39;socket.io&#39;)`, then the page will open successfully.\r\n \r\nDoes anyone know what could be causing this and how to resolve it?\r\nMaybe because the browser does not understand some types and therefore gives an error? I read online that WebView used to use the Nashorn API, which allowed plugin libraries to convert their data to a Java-friendly type (serializing complex objects to JSON) and apparently avoided errors, but it has been removed.\r\n\r\nUpdate: I found https://github.com/socketio/socket.io-client-java, maybe this is the right direction in solving the question, but I don&#39;t understand how to use it with webview...","title":"javafx.WebView not load page with socket.io","body":"<p>I have a 'nodeJs' server using 'expressJs' and 'socket.io'. The page opens fine unless I use 'socket.io. If you use 'socket.io', then it throws an 'Unknown error' error:</p>\n<pre><code>const app = require('express');\nconst server = require('http').Server(app);\nconst io = require('socket.io')(server, {}); // this line causes 'Unknown error' on page load\n</code></pre>\n<p>It doesn't matter what parameters to use in {}. If you just create a variable <code>const io = require('socket.io')</code>, then the page will open successfully.</p>\n<p>Does anyone know what could be causing this and how to resolve it?\nMaybe because the browser does not understand some types and therefore gives an error? I read online that WebView used to use the Nashorn API, which allowed plugin libraries to convert their data to a Java-friendly type (serializing complex objects to JSON) and apparently avoided errors, but it has been removed.</p>\n<p>Update: I found <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-java</a>, maybe this is the right direction in solving the question, but I don't understand how to use it with webview...</p>\n"},{"tags":["java","google-bigquery","streaming","google-cloud-dataflow","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":24813891,"reputation":13,"user_id":18694961,"display_name":"Praful Janardhanan"},"score":0,"creation_date":1666108114,"post_id":74103318,"comment_id":130855106,"body_markdown":"@chamikara- Thankyou for the response. As you mentioned I will have to proceed with wither Storage_write_api or File_Load api. Could you provide some insight on both options, considering a streaming dataflow pipeline and having records of size more than 10 mb.","body":"@chamikara- Thankyou for the response. As you mentioned I will have to proceed with wither Storage_write_api or File_Load api. Could you provide some insight on both options, considering a streaming dataflow pipeline and having records of size more than 10 mb."},{"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"score":0,"creation_date":1666114257,"post_id":74103318,"comment_id":130857214,"body_markdown":"Either option should work for your case. If you are using File_load API, you will have to set a triggering frequency (subjected to daily load job quota). Storage Write API should provide a better latency guarantee and possibly a more smoother BQ dataset for any downstream consumers.","body":"Either option should work for your case. If you are using File_load API, you will have to set a triggering frequency (subjected to daily load job quota). Storage Write API should provide a better latency guarantee and possibly a more smoother BQ dataset for any downstream consumers."},{"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"score":0,"creation_date":1666822108,"post_id":74103318,"comment_id":131029604,"body_markdown":"I was made aware that the Storage Write API based write mode has the same limitation, so updated the answer to reflect that.","body":"I was made aware that the Storage Write API based write mode has the same limitation, so updated the answer to reflect that."}],"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666822081,"creation_date":1666041337,"answer_id":74103318,"question_id":74054690,"body_markdown":"Your BQ write operation is running into a known limitation of the BQ streaming inserts API. Basically, each batch of data written from Dataflow to BQ using streaming inserts has to be less than 10MB in size.\r\n\r\nDataflow tries to keep batches under this limit. But if a single row is larger than 10MB, then Dataflow cannot stay under this limit and hence may run into this issue. Can that be the case ?\r\n\r\nAnother option might be to use the [BQ File Loads-based write method](https://github.com/apache/beam/blob/a6e25ae421ccd9c85e4fbc69c6ddcd686e22495b/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.java#L1954) instead of streaming inserts.\r\n\r\nStorage Write API based write mode unfortunately has the same limitation currently.","title":"Request size error while inserting record to BigQuery using Streaming_insert beam api in dataflow","body":"<p>Your BQ write operation is running into a known limitation of the BQ streaming inserts API. Basically, each batch of data written from Dataflow to BQ using streaming inserts has to be less than 10MB in size.</p>\n<p>Dataflow tries to keep batches under this limit. But if a single row is larger than 10MB, then Dataflow cannot stay under this limit and hence may run into this issue. Can that be the case ?</p>\n<p>Another option might be to use the <a href=\"https://github.com/apache/beam/blob/a6e25ae421ccd9c85e4fbc69c6ddcd686e22495b/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.java#L1954\" rel=\"nofollow noreferrer\">BQ File Loads-based write method</a> instead of streaming inserts.</p>\n<p>Storage Write API based write mode unfortunately has the same limitation currently.</p>\n"}],"owner":{"account_id":24813891,"reputation":13,"user_id":18694961,"display_name":"Praful Janardhanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103318,"answer_count":1,"score":0,"last_activity_date":1666822081,"creation_date":1665658921,"question_id":74054690,"body_markdown":"I have created a google dataflow streaming job to read from PubSub and insert into BigQuery. I am using STREAMING_INSERT api to insert JSON data to BiqQuery table. I am facing insertion issue stating request size is more than the permissible limit of 10 Mb. The dataflow error is as shown below. The size per record is 1-2Mb and based on my understanding dataflow jobs inserts streaming data as micro batch which is causing this error.\r\n\r\nCould you please provide some resolution for this.\r\n\r\n&gt; Error message from worker: java.lang.RuntimeException: We have\r\n&gt; observed a row that is 24625273 bytes in size. BigQuery supports\r\n&gt; request sizes up to 10MB, and this row is too large. You may change\r\n&gt; your retry strategy to unblock this pipeline, and the row will be\r\n&gt; output as a failed insert.\r\n&gt; org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.insertAll(BigQueryServicesImpl.java:1088)\r\n&gt; org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.insertAll(BigQueryServicesImpl.java:1242)\r\n&gt; org.apache.beam.sdk.io.gcp.bigquery.BatchedStreamingWrite.flushRows(BatchedStreamingWrite.java:403)\r\n&gt; org.apache.beam.sdk.io.gcp.bigquery.BatchedStreamingWrite.access$900(BatchedStreamingWrite.java:67)\r\n\r\nCode snippet for BigQuery insert is as follows\r\n\r\n    .apply(\r\n            &quot;WriteSuccessfulRecords&quot;,\r\n            BigQueryIO.writeTableRows().withAutoSharding()\r\n                    .withoutValidation()\r\n                    .withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n                    .withWriteDisposition(WriteDisposition.WRITE_APPEND)\r\n                    .withExtendedErrorInfo()\r\n                    .withMethod(BigQueryIO.Write.Method.STREAMING_INSERTS)\r\n                    .withFailedInsertRetryPolicy(InsertRetryPolicy.retryTransientErrors())\r\n                    .to(options.getOutputTableSpec()));\r\n\r\n","title":"Request size error while inserting record to BigQuery using Streaming_insert beam api in dataflow","body":"<p>I have created a google dataflow streaming job to read from PubSub and insert into BigQuery. I am using STREAMING_INSERT api to insert JSON data to BiqQuery table. I am facing insertion issue stating request size is more than the permissible limit of 10 Mb. The dataflow error is as shown below. The size per record is 1-2Mb and based on my understanding dataflow jobs inserts streaming data as micro batch which is causing this error.</p>\n<p>Could you please provide some resolution for this.</p>\n<blockquote>\n<p>Error message from worker: java.lang.RuntimeException: We have\nobserved a row that is 24625273 bytes in size. BigQuery supports\nrequest sizes up to 10MB, and this row is too large. You may change\nyour retry strategy to unblock this pipeline, and the row will be\noutput as a failed insert.\norg.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.insertAll(BigQueryServicesImpl.java:1088)\norg.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.insertAll(BigQueryServicesImpl.java:1242)\norg.apache.beam.sdk.io.gcp.bigquery.BatchedStreamingWrite.flushRows(BatchedStreamingWrite.java:403)\norg.apache.beam.sdk.io.gcp.bigquery.BatchedStreamingWrite.access$900(BatchedStreamingWrite.java:67)</p>\n</blockquote>\n<p>Code snippet for BigQuery insert is as follows</p>\n<pre><code>.apply(\n        &quot;WriteSuccessfulRecords&quot;,\n        BigQueryIO.writeTableRows().withAutoSharding()\n                .withoutValidation()\n                .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                .withWriteDisposition(WriteDisposition.WRITE_APPEND)\n                .withExtendedErrorInfo()\n                .withMethod(BigQueryIO.Write.Method.STREAMING_INSERTS)\n                .withFailedInsertRetryPolicy(InsertRetryPolicy.retryTransientErrors())\n                .to(options.getOutputTableSpec()));\n</code></pre>\n"},{"tags":["java","node.js","javafx","webview","javafx-webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666816621,"post_id":74207437,"comment_id":131028299,"body_markdown":"Can you open the url in a standard browser?  Could be a firewall rule blocking a non-standard port, but I do not know the cause.","body":"Can you open the url in a standard browser?  Could be a firewall rule blocking a non-standard port, but I do not know the cause."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666816810,"post_id":74207437,"comment_id":131028352,"body_markdown":"I am not sure why sometimes you reference localhost and other times 192.168.54.1.","body":"I am not sure why sometimes you reference localhost and other times 192.168.54.1."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666819183,"post_id":74207437,"comment_id":131028916,"body_markdown":"@jewelsea Yes, I tried opening in Chrome, jxBrowser, JCEF - it works fine there. But such problems occur on WebView, I would like to set up the correct work on this particular browser, since I want to use javafx. I tried to replace &#39;localhost&#39; with ipv4 (192.168.54.1), which means the same thing, because I read on the Internet that it helped someone in solving their problem in opening a local page, but my problem is precisely that the browser does not know how to work with socket.io (and possibly other frameworks due to serializing complex objects to JSON)","body":"@jewelsea Yes, I tried opening in Chrome, jxBrowser, JCEF - it works fine there. But such problems occur on WebView, I would like to set up the correct work on this particular browser, since I want to use javafx. I tried to replace &#39;localhost&#39; with ipv4 (192.168.54.1), which means the same thing, because I read on the Internet that it helped someone in solving their problem in opening a local page, but my problem is precisely that the browser does not know how to work with socket.io (and possibly other frameworks due to serializing complex objects to JSON)"},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1666819738,"post_id":74207437,"comment_id":131029065,"body_markdown":"@jewelsea I already solved this problem by changing the line res.writeHead(200) &gt; res.writeHead(&#39;200&#39;, {&#39;Content-Type&#39;: &#39;text/html&#39;});\nAfter that, the page opened, but unfortunately this does not solve my main problem, where the page does not start when &#39;socket.io&#39; is connected (https://stackoverflow.com/questions/74210940/javafx-webview-not-load-page-with -socket-io)\nPlease see the question and share your knowledge if you can.","body":"@jewelsea I already solved this problem by changing the line res.writeHead(200) &gt; res.writeHead(&#39;200&#39;, {&#39;Content-Type&#39;: &#39;text/html&#39;}); After that, the page opened, but unfortunately this does not solve my main problem, where the page does not start when &#39;socket.io&#39; is connected (<a href=\"https://stackoverflow.com/questions/74210940/javafx-webview-not-load-page-with\" title=\"javafx webview not load page with\">stackoverflow.com/questions/74210940/&hellip;</a> -socket-io) Please see the question and share your knowledge if you can."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666820710,"post_id":74207437,"comment_id":131029300,"body_markdown":"I suggest you [self-answer this question](https://stackoverflow.com/help/self-answer) with the solution you provided in the comment.  I know you have another problem related to `socket.io` use, but that appears to be a different problem from specifying the correct return code and content type to the HTTP response.","body":"I suggest you <a href=\"https://stackoverflow.com/help/self-answer\">self-answer this question</a> with the solution you provided in the comment.  I know you have another problem related to <code>socket.io</code> use, but that appears to be a different problem from specifying the correct return code and content type to the HTTP response."}],"answers":[{"tags":[],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666821344,"creation_date":1666821344,"answer_id":74214660,"question_id":74207437,"body_markdown":"Changing this line of code solved the problem and the page opened successfully:\r\n\r\n    res.writeHead(200) -&gt; res.writeHead(&#39;200&#39;, {&#39;Content-Type&#39;: &#39;&#39;});","title":"Javafx.webView not opening local page in NodeJS server","body":"<p>Changing this line of code solved the problem and the page opened successfully:</p>\n<pre><code>res.writeHead(200) -&gt; res.writeHead('200', {'Content-Type': ''});\n</code></pre>\n"}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666821344,"creation_date":1666785838,"question_id":74207437,"body_markdown":"I have a minimal javafx webview and a nodeJs server code. But webview doesn&#39;t open its local page *(http://localhost:8000/)*, after loading the page, the status is CANCELLED. Full sequence of statuses: READY &gt; SCHEDULED &gt; RUNNING &gt; CANCELLED.\r\n\r\nIf you run the page &#39;http://192.168.54.1:8000&#39; (localhost &gt; ipv4) then it throws the error &#39;Connection refused by server&#39;.\r\n\r\nPlease tell me what could be the problem?\r\n\r\nWebView code:\r\n\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.web.WebEngine;\r\n    \r\n    public class Web {\r\n        private JSBridge jsBridge;\r\n        private WebEngine webEngine;\r\n        private javafx.scene.web.WebView webView;\r\n        private Worker&lt;?&gt; engineWorker;\r\n        Web(){\r\n            webView = new javafx.scene.web.WebView();\r\n            webView.setPageFill(Color.TRANSPARENT);\r\n            webEngine = webView.getEngine();\r\n    \r\n            engineWorker = webEngine.getLoadWorker();\r\n            engineWorker.stateProperty().addListener(this::engineWorkerListener);\r\n            webEngine.load(&quot;http://localhost:8000/&quot;);\r\n        }\r\n    \r\n        private void engineWorkerListener(ObservableValue&lt;? extends Worker.State&gt; ov, Worker.State oldState, Worker.State newState){\r\n            System.out.println(&quot;WebView status: &quot; + ov.getValue());\r\n            if (newState == Worker.State.FAILED) System.out.println(&quot;WebView exception: &quot; + webEngine.getLoadWorker().getException().toString());\r\n            if (newState == Worker.State.SUCCEEDED) System.out.println(&quot;WebView loading SUCCEEDED!&quot;);\r\n        }\r\n    }\r\n\r\nNodeJS server code:\r\n\r\n    const http = require(&quot;http&quot;);\r\n    const host = &#39;localhost&#39;;\r\n    const port = 8000;\r\n    \r\n    const requestListener = function (req, res) {\r\n        res.writeHead(200);\r\n        res.end(&quot;My first server!&quot;);\r\n    };\r\n    \r\n    const server = http.createServer(requestListener);\r\n    server.listen(port, host, () =&gt; {\r\n        console.log(`Server is running on http://${host}:${port}`);\r\n    });","title":"Javafx.webView not opening local page in NodeJS server","body":"<p>I have a minimal javafx webview and a nodeJs server code. But webview doesn't open its local page <em>(http://localhost:8000/)</em>, after loading the page, the status is CANCELLED. Full sequence of statuses: READY &gt; SCHEDULED &gt; RUNNING &gt; CANCELLED.</p>\n<p>If you run the page 'http://192.168.54.1:8000' (localhost &gt; ipv4) then it throws the error 'Connection refused by server'.</p>\n<p>Please tell me what could be the problem?</p>\n<p>WebView code:</p>\n<pre><code>import javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.scene.paint.Color;\nimport javafx.scene.web.WebEngine;\n\npublic class Web {\n    private JSBridge jsBridge;\n    private WebEngine webEngine;\n    private javafx.scene.web.WebView webView;\n    private Worker&lt;?&gt; engineWorker;\n    Web(){\n        webView = new javafx.scene.web.WebView();\n        webView.setPageFill(Color.TRANSPARENT);\n        webEngine = webView.getEngine();\n\n        engineWorker = webEngine.getLoadWorker();\n        engineWorker.stateProperty().addListener(this::engineWorkerListener);\n        webEngine.load(&quot;http://localhost:8000/&quot;);\n    }\n\n    private void engineWorkerListener(ObservableValue&lt;? extends Worker.State&gt; ov, Worker.State oldState, Worker.State newState){\n        System.out.println(&quot;WebView status: &quot; + ov.getValue());\n        if (newState == Worker.State.FAILED) System.out.println(&quot;WebView exception: &quot; + webEngine.getLoadWorker().getException().toString());\n        if (newState == Worker.State.SUCCEEDED) System.out.println(&quot;WebView loading SUCCEEDED!&quot;);\n    }\n}\n</code></pre>\n<p>NodeJS server code:</p>\n<pre><code>const http = require(&quot;http&quot;);\nconst host = 'localhost';\nconst port = 8000;\n\nconst requestListener = function (req, res) {\n    res.writeHead(200);\n    res.end(&quot;My first server!&quot;);\n};\n\nconst server = http.createServer(requestListener);\nserver.listen(port, host, () =&gt; {\n    console.log(`Server is running on http://${host}:${port}`);\n});\n</code></pre>\n"},{"tags":["java","android","arrays","image"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1666826679,"post_id":74214635,"comment_id":131030453,"body_markdown":"No.  `audi` is a name of a variable, it&#39;s not even &#39;in&#39; the array.  The array merely contains references that refer to the same things that some variable also refers to.","body":"No.  <code>audi</code> is a name of a variable, it&#39;s not even &#39;in&#39; the array.  The array merely contains references that refer to the same things that some variable also refers to."},{"owner":{"account_id":26743012,"reputation":1,"user_id":20343495,"display_name":"Jay"},"score":0,"creation_date":1666862976,"post_id":74214635,"comment_id":131037779,"body_markdown":"Thanks for the reply. From what you have said my solution won&#39;t work, so I will need to think of another way of approaching this.","body":"Thanks for the reply. From what you have said my solution won&#39;t work, so I will need to think of another way of approaching this."}],"owner":{"account_id":26743012,"reputation":1,"user_id":20343495,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666821182,"creation_date":1666821182,"question_id":74214635,"body_markdown":"I&#39;m new to android studio and I&#39;m trying to make guessing game where a random image is selected from an array of images stored in drawables.\r\nThe user then guesses the brand of car in the image from a spinner menu.\r\nI don&#39;t understand how to get the name of the image from the array to compare it to the selection from the spinner  \r\n\r\nMy array is structured as\r\nInteger[] carImages = {R.drawable.audi1, R.drawable.audi2} etc\r\nIs there a way to return the &quot;audi1&quot; etc?","title":"Getting the name of an element from a ln array","body":"<p>I'm new to android studio and I'm trying to make guessing game where a random image is selected from an array of images stored in drawables.\nThe user then guesses the brand of car in the image from a spinner menu.\nI don't understand how to get the name of the image from the array to compare it to the selection from the spinner</p>\n<p>My array is structured as\nInteger[] carImages = {R.drawable.audi1, R.drawable.audi2} etc\nIs there a way to return the &quot;audi1&quot; etc?</p>\n"},{"tags":["java","spring-boot","docusignapi"],"answers":[{"comments":[{"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"score":0,"creation_date":1666881107,"post_id":74214634,"comment_id":131044331,"body_markdown":"Thanks for replying Inbar. I would really love to contribute. \n\nHowever, for time being what would you recommend - using the current version of SDK (using pieces which anyway have to be migrated soon) or rather not using the SDK and writing custom code directly interacting with the underlying HTTP endpoints?","body":"Thanks for replying Inbar. I would really love to contribute.   However, for time being what would you recommend - using the current version of SDK (using pieces which anyway have to be migrated soon) or rather not using the SDK and writing custom code directly interacting with the underlying HTTP endpoints?"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1666885187,"post_id":74214634,"comment_id":131045953,"body_markdown":"I would just do that for learning/investigating purposes. So that you know all the things you want to do with the DocuSign APIs, and make sure that you can do them. Later, you can update the code, all that changes is the authentication and the libraries. You don&#39;t have to use the code you download now, just &quot;play&quot; with it and throw it later.","body":"I would just do that for learning/investigating purposes. So that you know all the things you want to do with the DocuSign APIs, and make sure that you can do them. Later, you can update the code, all that changes is the authentication and the libraries. You don&#39;t have to use the code you download now, just &quot;play&quot; with it and throw it later."}],"tags":[],"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666821178,"creation_date":1666821178,"answer_id":74214634,"question_id":74214612,"body_markdown":"Thank you Raj for pointing it out. We&#39;re working on it. Hope to have an update soon. \r\nYou can also fork the repo https://github.com/docusign/code-examples-java and make the change and even submit a PR if you want to help (this is open source repo).","title":"The sample DocuSign OAuth2 client (Java SpringBoot) web app is full of deprecated SpringSecurity classes, is DocuSign going to update these?","body":"<p>Thank you Raj for pointing it out. We're working on it. Hope to have an update soon.\nYou can also fork the repo <a href=\"https://github.com/docusign/code-examples-java\" rel=\"nofollow noreferrer\">https://github.com/docusign/code-examples-java</a> and make the change and even submit a PR if you want to help (this is open source repo).</p>\n"}],"owner":{"account_id":15241085,"reputation":29,"user_id":10997345,"display_name":"Vyassa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666821178,"creation_date":1666820985,"question_id":74214612,"body_markdown":"I used the [quickstart][1] tool of DocuSign to generate a sample Java Spring-Boot project with authorization code grant flow, on exploring the code I am seeing a lot of classes that are deprecated by the Spring Security team. \r\n\r\nFor example, classes/interfaces used in `WebSecurityConfig` which is extending `WebSecurityConfigurerAdapter` class, viz. `OAuth2ClientContext`, `OAuth2ClientAuthenticationProcessingFilter` and more.\r\n\r\nIs the DocuSign team going to update this tool for a more current version of the starter code soon? Furthermore, it would be really nice if a Readme file can be added explaining the sample project a bit.\r\n\r\n  [1]: https://developers.docusign.com/docs/esign-rest-api/quickstart/","title":"The sample DocuSign OAuth2 client (Java SpringBoot) web app is full of deprecated SpringSecurity classes, is DocuSign going to update these?","body":"<p>I used the <a href=\"https://developers.docusign.com/docs/esign-rest-api/quickstart/\" rel=\"nofollow noreferrer\">quickstart</a> tool of DocuSign to generate a sample Java Spring-Boot project with authorization code grant flow, on exploring the code I am seeing a lot of classes that are deprecated by the Spring Security team.</p>\n<p>For example, classes/interfaces used in <code>WebSecurityConfig</code> which is extending <code>WebSecurityConfigurerAdapter</code> class, viz. <code>OAuth2ClientContext</code>, <code>OAuth2ClientAuthenticationProcessingFilter</code> and more.</p>\n<p>Is the DocuSign team going to update this tool for a more current version of the starter code soon? Furthermore, it would be really nice if a Readme file can be added explaining the sample project a bit.</p>\n"},{"tags":["java","variables","hashmap"],"comments":[{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1458102625,"post_id":36026761,"comment_id":59704176,"body_markdown":"see this http://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-treemap","body":"see this <a href=\"http://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-treemap\" title=\"difference between hashmap linkedhashmap and treemap\">stackoverflow.com/questions/2889777/&hellip;</a>"},{"owner":{"account_id":2351678,"reputation":632,"user_id":2060322,"accept_rate":60,"display_name":"Ashu Phaugat"},"score":0,"creation_date":1458103402,"post_id":36026761,"comment_id":59704381,"body_markdown":"Yes, result are in order. I also wondering. I can say, its not true that HashMap has not inheriting order, we should say, HashMap may give insertion order in result but not always.","body":"Yes, result are in order. I also wondering. I can say, its not true that HashMap has not inheriting order, we should say, HashMap may give insertion order in result but not always."}],"answers":[{"tags":[],"owner":{"account_id":2915477,"reputation":15624,"user_id":2498782,"accept_rate":65,"display_name":"Eric Guan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1458102399,"creation_date":1458102399,"answer_id":36026785,"question_id":36026761,"body_markdown":"HashMap has no inherent ordering. If you&#39;re looking for insertion order, use a [LinkedHashMap][1]. If you&#39;re looking for natural order (A-Z, 0-9), use a [TreeMap][2]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html","title":"Hashmap put(), is it always ordering?","body":"<p>HashMap has no inherent ordering. If you're looking for insertion order, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">LinkedHashMap</a>. If you're looking for natural order (A-Z, 0-9), use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"noreferrer\">TreeMap</a>. </p>\n"},{"comments":[{"owner":{"account_id":2351678,"reputation":632,"user_id":2060322,"accept_rate":60,"display_name":"Ashu Phaugat"},"score":1,"creation_date":1458105206,"post_id":36026813,"comment_id":59704935,"body_markdown":"I am not 100% true, but I can say &quot;Sometime HashMap gives the result in insertion order&quot;. Instead of saying &#39;Hashmap doesn&#39;t have an order&#39;, we should say, &#39;Hashmap sometime have an order but not always&quot;. Because if you run the above program it will give you result in order, so we can&#39;t avoid this.","body":"I am not 100% true, but I can say &quot;Sometime HashMap gives the result in insertion order&quot;. Instead of saying &#39;Hashmap doesn&#39;t have an order&#39;, we should say, &#39;Hashmap sometime have an order but not always&quot;. Because if you run the above program it will give you result in order, so we can&#39;t avoid this."},{"owner":{"account_id":5013897,"reputation":486,"user_id":4029250,"display_name":"klog"},"score":1,"creation_date":1458105836,"post_id":36026813,"comment_id":59705139,"body_markdown":"I believe that if the order of insertion in the example was reversed, i.e., 5 4 3 2 1, you would still see an ascending order when printing. For a HashMap the order of the data is strictly tied to the hashed value of the key.","body":"I believe that if the order of insertion in the example was reversed, i.e., 5 4 3 2 1, you would still see an ascending order when printing. For a HashMap the order of the data is strictly tied to the hashed value of the key."}],"tags":[],"owner":{"account_id":5013897,"reputation":486,"user_id":4029250,"display_name":"klog"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1458102538,"creation_date":1458102538,"answer_id":36026813,"question_id":36026761,"body_markdown":"The simple answer is no, a hash map doesn&#39;t have an &quot;order&quot;. It is all determined based on how the object is hashed. For a number you could see some ordering, but that is purely based on the hashCode() method of the object that is the key for the put(). \n\nIf you can get your hands on the source of the `Integer` class or similar number classes and look at the `hashCode()` method you&#39;ll probably see why your numbers in the HashMap come back in order. If you switch to a string key you will most likely immediately see that it is no longer sorted. ","title":"Hashmap put(), is it always ordering?","body":"<p>The simple answer is no, a hash map doesn't have an \"order\". It is all determined based on how the object is hashed. For a number you could see some ordering, but that is purely based on the hashCode() method of the object that is the key for the put(). </p>\n\n<p>If you can get your hands on the source of the <code>Integer</code> class or similar number classes and look at the <code>hashCode()</code> method you'll probably see why your numbers in the HashMap come back in order. If you switch to a string key you will most likely immediately see that it is no longer sorted. </p>\n"},{"tags":[],"owner":{"account_id":4765394,"reputation":389,"user_id":4348410,"accept_rate":60,"display_name":"Anand Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458103119,"creation_date":1458102644,"answer_id":36026825,"question_id":36026761,"body_markdown":"Use TreeMap for Ascending order. \r\n\r\n**Syntax:**\r\n\r\n    TreeMap&lt;Integer, Integer&gt; ctrArMap= new TreeMap&lt;Integer, Integer&gt;();\r\n    \r\n        ctrArMap.put( 1, 11);\r\n        ctrArMap.put( 3, 12);\r\n        ctrArMap.put( 2, 13);\r\n        ctrArMap.put( 5, 14);\r\n        ctrArMap.put( 4, 15);\r\n        System.out.println(ctrArMap);","title":"Hashmap put(), is it always ordering?","body":"<p>Use TreeMap for Ascending order. </p>\n\n<p><strong>Syntax:</strong></p>\n\n<pre><code>TreeMap&lt;Integer, Integer&gt; ctrArMap= new TreeMap&lt;Integer, Integer&gt;();\n\n    ctrArMap.put( 1, 11);\n    ctrArMap.put( 3, 12);\n    ctrArMap.put( 2, 13);\n    ctrArMap.put( 5, 14);\n    ctrArMap.put( 4, 15);\n    System.out.println(ctrArMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1458103706,"creation_date":1458103706,"answer_id":36027011,"question_id":36026761,"body_markdown":" 1. **HashMap** :- `HashMap` never preserves your Insertion Order. It Internally Use a hashing Concept by which it generate a `HashCode` to the Corresponding `key` and add it to the `HashMap`.\r\n\r\n 2. **LinkedHashMap** :- `LinkedHashMap` It preserves your Insertion Order. and `keys` will be found as same order you Insert into this `LinkedHashMap`.\r\n\r\n 3. **TreeMap** :- The `TreeMap` class implements the `Map` **interface** by using a **Tree**. A `TreeMap` provides an efficient means of storing **key/value** pairs in sorted order, and allows rapid retrieval.\r\n\r\nYou should note that, unlike a `HashMap`, a tree map guarantees that its elements will be sorted in ascending key order","title":"Hashmap put(), is it always ordering?","body":"<ol>\n<li><p><strong>HashMap</strong> :- <code>HashMap</code> never preserves your Insertion Order. It Internally Use a hashing Concept by which it generate a <code>HashCode</code> to the Corresponding <code>key</code> and add it to the <code>HashMap</code>.</p></li>\n<li><p><strong>LinkedHashMap</strong> :- <code>LinkedHashMap</code> It preserves your Insertion Order. and <code>keys</code> will be found as same order you Insert into this <code>LinkedHashMap</code>.</p></li>\n<li><p><strong>TreeMap</strong> :- The <code>TreeMap</code> class implements the <code>Map</code> <strong>interface</strong> by using a <strong>Tree</strong>. A <code>TreeMap</code> provides an efficient means of storing <strong>key/value</strong> pairs in sorted order, and allows rapid retrieval.</p></li>\n</ol>\n\n<p>You should note that, unlike a <code>HashMap</code>, a tree map guarantees that its elements will be sorted in ascending key order</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1458113980,"creation_date":1458113980,"answer_id":36029421,"question_id":36026761,"body_markdown":"HashMap doesn&#39;t preserve the order of insertion.  However if you use the values 0 to 10 in order, these happen to be hashed to the buckets 0 to 10 internally and placed in an array in that order. When you iterate of the HashMap you are looking at these buckets in order. Note: this implementation could change in the future and this might not happen.\r\n\r\nThe default size of a HashMap is 16 and with a load factor of 0.7 you can add 11 values without it resizing.  This means when you view these values, the current implementation happens to place 0 to 10 in sorted order.\r\n\r\nIf you only need the values 0 to 10 be in order, I suggest using an array, instead of a HashMap.","title":"Hashmap put(), is it always ordering?","body":"<p>HashMap doesn't preserve the order of insertion.  However if you use the values 0 to 10 in order, these happen to be hashed to the buckets 0 to 10 internally and placed in an array in that order. When you iterate of the HashMap you are looking at these buckets in order. Note: this implementation could change in the future and this might not happen.</p>\n\n<p>The default size of a HashMap is 16 and with a load factor of 0.7 you can add 11 values without it resizing.  This means when you view these values, the current implementation happens to place 0 to 10 in sorted order.</p>\n\n<p>If you only need the values 0 to 10 be in order, I suggest using an array, instead of a HashMap.</p>\n"},{"tags":[],"owner":{"account_id":26742670,"reputation":1,"user_id":20343212,"display_name":"Samanite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666820570,"creation_date":1666820570,"answer_id":74214544,"question_id":36026761,"body_markdown":"There is another option from those listed here. map.entrySet().stream().reduce((one, two) -&gt; two).get(); \r\n\r\nNotice that &quot;HashMap&quot; is replaced with &quot;LinkedHashMap&quot;. HashMap re-orders your entries automatically, it&#39;s useful for example if your keys are integers and you want them in order. To preserve the insertion order (if that&#39;s what you want) you need a linked map. Experiment by changing from LinkedHashMap to HashMap and watch the order change. \r\n\r\n```\r\nfinal Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\r\n            map.put(&quot;test&quot;, 2);\r\n            map.put(&quot;Not-Specified&quot;, 1);\r\n            map.put(&quot;testtest&quot;, 3);\r\n            map.put(&quot;another&quot;, 0);\r\n            map.put(&quot;last&quot;, 5);\r\n\r\n\r\n        Map.Entry&lt;String,Integer&gt; lastEntry = map.entrySet().stream().reduce((one, two) -&gt; two).get();\r\n\r\n        System.out.println(&quot;All entries : &quot;);\r\n        map.entrySet().stream().forEach(System.out::println);\r\n        System.out.println(&quot;Last entry: &quot; + lastEntry);\r\n\r\n```","title":"Hashmap put(), is it always ordering?","body":"<p>There is another option from those listed here. map.entrySet().stream().reduce((one, two) -&gt; two).get();</p>\n<p>Notice that &quot;HashMap&quot; is replaced with &quot;LinkedHashMap&quot;. HashMap re-orders your entries automatically, it's useful for example if your keys are integers and you want them in order. To preserve the insertion order (if that's what you want) you need a linked map. Experiment by changing from LinkedHashMap to HashMap and watch the order change.</p>\n<pre><code>final Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;();\n            map.put(&quot;test&quot;, 2);\n            map.put(&quot;Not-Specified&quot;, 1);\n            map.put(&quot;testtest&quot;, 3);\n            map.put(&quot;another&quot;, 0);\n            map.put(&quot;last&quot;, 5);\n\n\n        Map.Entry&lt;String,Integer&gt; lastEntry = map.entrySet().stream().reduce((one, two) -&gt; two).get();\n\n        System.out.println(&quot;All entries : &quot;);\n        map.entrySet().stream().forEach(System.out::println);\n        System.out.println(&quot;Last entry: &quot; + lastEntry);\n\n</code></pre>\n"}],"owner":{"account_id":2520815,"reputation":101,"user_id":2191232,"accept_rate":40,"display_name":"Pally"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12685,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36029421,"answer_count":6,"score":6,"last_activity_date":1666820570,"creation_date":1458102258,"question_id":36026761,"body_markdown":"When we add values to `hashmap&lt;Key, Value&gt;` variable using `put()`, are they always ordering?\r\n\r\nBecause when I tried with simple codes they are ordering.\r\n\r\nExample:\r\n\r\n    Map&lt;Integer, Integer&gt; ctrArMap = new HashMap&lt;Integer, Integer&gt;();\r\n        ctrArMap.put( 1, 11);\r\n        ctrArMap.put( 2, 12);\r\n        ctrArMap.put( 3, 13);\r\n        ctrArMap.put( 4, 14);\r\n        ctrArMap.put( 5, 15);\r\n        System.out.println(ctrArMap);\r\n\r\nBut in my case they aren&#39;t ordering.","title":"Hashmap put(), is it always ordering?","body":"<p>When we add values to <code>hashmap&lt;Key, Value&gt;</code> variable using <code>put()</code>, are they always ordering?</p>\n\n<p>Because when I tried with simple codes they are ordering.</p>\n\n<p>Example:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; ctrArMap = new HashMap&lt;Integer, Integer&gt;();\n    ctrArMap.put( 1, 11);\n    ctrArMap.put( 2, 12);\n    ctrArMap.put( 3, 13);\n    ctrArMap.put( 4, 14);\n    ctrArMap.put( 5, 15);\n    System.out.println(ctrArMap);\n</code></pre>\n\n<p>But in my case they aren't ordering.</p>\n"},{"tags":["java","gradle","intellij-idea","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666859005,"post_id":74214528,"comment_id":131036352,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1666866465,"post_id":74214528,"comment_id":131038998,"body_markdown":"It sounds like you need to set up [a Composite Build](https://docs.gradle.org/current/userguide/composite_builds.html).","body":"It sounds like you need to set up <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">a Composite Build</a>."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1667213041,"post_id":74214528,"comment_id":131109152,"body_markdown":"Set up each Gradle proect to be an independent Gradle build with its own settings.gradle file.","body":"Set up each Gradle proect to be an independent Gradle build with its own settings.gradle file."}],"owner":{"account_id":25155134,"reputation":1,"user_id":19000059,"display_name":"RemainingToast"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666820448,"creation_date":1666820448,"question_id":74214528,"body_markdown":"I have a project with several sub projects and I have issue where one of the sub projects requires gradle 4.9 when the other projects with the latest.\r\n\r\nIs there anyway to set the gradle wrapper version for this module?\r\n\r\n\r\nI tried adding the all the gradle build files to the sub project root with the correct gradle version, but it still detects and uses parent project gradle version.","title":"Different gradle wrapper version for Module","body":"<p>I have a project with several sub projects and I have issue where one of the sub projects requires gradle 4.9 when the other projects with the latest.</p>\n<p>Is there anyway to set the gradle wrapper version for this module?</p>\n<p>I tried adding the all the gradle build files to the sub project root with the correct gradle version, but it still detects and uses parent project gradle version.</p>\n"},{"tags":["java","spring","spring-boot","logging"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666819227,"creation_date":1666818887,"answer_id":74214294,"question_id":74211462,"body_markdown":"1. Different logging implementations require different configurations. Log4j uses XML and Java-Util-Log (JUL) uses properties. Also the xml sematics differs. \r\nSo you do not like to configure all logging implementations individually. You like to configure **one** logging configuration to rule them all, one source-of-truth for logging-config. This have nothing to do with the main intend of the software you are running. Later logging-frameworks generalize older logging-frameworks, so you need the latest logging-framework to rule them all.\r\n2. Let me rephrase first: Why do we differ between debug and trace? Debug (or de-bug) is a special condition that let you inspect a bug for debugging purposes. Debug may show clients real-world firstname and family-name, in order to output those informations you need code under debugging-circumstances only. To log them may cause legal problems because you are processing/storing personal informations without permission in log-files. In order to de-bug a software you need the debug-log in 90% of all cases. Only in rare cases you need the trace-log. That meens they differ.\r\n3. Thats a good one. Fatal for me meens the server has hardware problems (burning hard-drive, loose of power supply). This is indicated by errors. Seriously? I have no idea. I may argue that everything that is fatal-worthit should be an error.","title":"three questions logging in spring","body":"<ol>\n<li>Different logging implementations require different configurations. Log4j uses XML and Java-Util-Log (JUL) uses properties. Also the xml sematics differs.\nSo you do not like to configure all logging implementations individually. You like to configure <strong>one</strong> logging configuration to rule them all, one source-of-truth for logging-config. This have nothing to do with the main intend of the software you are running. Later logging-frameworks generalize older logging-frameworks, so you need the latest logging-framework to rule them all.</li>\n<li>Let me rephrase first: Why do we differ between debug and trace? Debug (or de-bug) is a special condition that let you inspect a bug for debugging purposes. Debug may show clients real-world firstname and family-name, in order to output those informations you need code under debugging-circumstances only. To log them may cause legal problems because you are processing/storing personal informations without permission in log-files. In order to de-bug a software you need the debug-log in 90% of all cases. Only in rare cases you need the trace-log. That meens they differ.</li>\n<li>Thats a good one. Fatal for me meens the server has hardware problems (burning hard-drive, loose of power supply). This is indicated by errors. Seriously? I have no idea. I may argue that everything that is fatal-worthit should be an error.</li>\n</ol>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666819227,"creation_date":1666803011,"question_id":74211462,"body_markdown":"I have 3 question about logging inside srping\r\n\r\n**First**:\r\n\r\nspring documentation:\r\n\r\n&gt; By default, If you use the ‘Starter POMs’, Logback will be used for\r\n&gt; logging. Appropriate Logback routing is also included to ensure that\r\n&gt; dependent libraries that use Java Util Logging, Commons Logging, Log4J\r\n&gt; or SLF4J will all work correctly.\r\n\r\nI don&#39;t understand that if a third-party library uses a different logger, what problem will be created in the program? If that library uses another logger, that logger is located as a dependency in its jar file, and when the library is added that logger is also added and there is no problem.\r\n\r\n**second**:\r\n\r\nI saw in a tutorial that it says that trace and debug are disabled by default in spring because it causes performance problems. I understand why trace is a problem because it must report everything that happens in the program. But why does debug cause performance problems? When I did: debug=true, it didn&#39;t take me that much time. So what&#39;s the problem?\r\n\r\n**Third**: \r\n\r\nIn this tutorial, it says that logback does not have a FATAL level. Why not? Is it possible that the spring boot program does not have some of the required settings, but it can still start without the need for FATAL?","title":"three questions logging in spring","body":"<p>I have 3 question about logging inside srping</p>\n<p><strong>First</strong>:</p>\n<p>spring documentation:</p>\n<blockquote>\n<p>By default, If you use the ‘Starter POMs’, Logback will be used for\nlogging. Appropriate Logback routing is also included to ensure that\ndependent libraries that use Java Util Logging, Commons Logging, Log4J\nor SLF4J will all work correctly.</p>\n</blockquote>\n<p>I don't understand that if a third-party library uses a different logger, what problem will be created in the program? If that library uses another logger, that logger is located as a dependency in its jar file, and when the library is added that logger is also added and there is no problem.</p>\n<p><strong>second</strong>:</p>\n<p>I saw in a tutorial that it says that trace and debug are disabled by default in spring because it causes performance problems. I understand why trace is a problem because it must report everything that happens in the program. But why does debug cause performance problems? When I did: debug=true, it didn't take me that much time. So what's the problem?</p>\n<p><strong>Third</strong>:</p>\n<p>In this tutorial, it says that logback does not have a FATAL level. Why not? Is it possible that the spring boot program does not have some of the required settings, but it can still start without the need for FATAL?</p>\n"},{"tags":["java","spring-boot","datetime","spring-data-jpa"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666816676,"post_id":74211446,"comment_id":131028314,"body_markdown":"You should specify exactly what &quot;free sql database&quot; means.","body":"You should specify exactly what &quot;free sql database&quot; means."},{"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"score":0,"creation_date":1666840111,"post_id":74211446,"comment_id":131032363,"body_markdown":"Oh, i am sorry. Its a free platform for upload my database to the cloud. So i can access it using internet, not just at my local computer. Same like azure etc... @BasilBourque","body":"Oh, i am sorry. Its a free platform for upload my database to the cloud. So i can access it using internet, not just at my local computer. Same like azure etc... @BasilBourque"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666926666,"post_id":74211446,"comment_id":131055500,"body_markdown":"Kiritimati in the Christmas Islands uses offset +14 hours from UTC, so it’s real enough. The correct name of the time zone is `Pacific/Kiritimati` (not `GMT+14`).","body":"Kiritimati in the Christmas Islands uses offset +14 hours from UTC, so it’s real enough. The correct name of the time zone is <code>Pacific&#47;Kiritimati</code> (not <code>GMT+14</code>)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666926872,"post_id":74211446,"comment_id":131055528,"body_markdown":"Do not use `java.sql.Timestamp`. It’s outdated and badly designed. Assuming that your JDBC driver is JDBC 4.2 compliant, depending on the data type in SQL use either `transaction.setObject(zdt.toOffsetDateTime());` or `transaction.setObject(ldt);`.","body":"Do not use <code>java.sql.Timestamp</code>. It’s outdated and badly designed. Assuming that your JDBC driver is JDBC 4.2 compliant, depending on the data type in SQL use either <code>transaction.setObject(zdt.toOffsetDateTime());</code> or <code>transaction.setObject(ldt);</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666926967,"post_id":74211446,"comment_id":131055538,"body_markdown":"What is your data type in SQL? When reporting your observed output, is that from a SQL query?","body":"What is your data type in SQL? When reporting your observed output, is that from a SQL query?"}],"answers":[{"comments":[{"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"score":0,"creation_date":1666840328,"post_id":74214195,"comment_id":131032397,"body_markdown":"Ah, i see... Thanks for the explanation. So i know what i did wrong there","body":"Ah, i see... Thanks for the explanation. So i know what i did wrong there"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666819214,"creation_date":1666818191,"answer_id":74214195,"question_id":74211446,"body_markdown":"&gt;LocalDateTime.now()\r\n\r\nI cannot imagine a scenario where calling `LocalDateTime.now` is the right thing to do.\r\n\r\n&gt;`ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());`\r\n\r\nSkip the [`LocalDateTime`][1] variable `ldt`. Just ask [`ZonedDateTime`][2] to capture the current moment as seen in your desired time zone.\r\n\r\n    ZoneId z = ZonedId.systemDefault() ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\n&gt;`ZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+8&quot;));`\r\n\r\nFor an offset, use the subclass [`ZoneOffset`][3] rather than [`ZoneID`][4]. \r\n\r\n    ZoneOffset offset = ZoneOffset.of( 8 ) ;\r\n\r\nAnd, this code does not make sense in couple ways. Firstly, if you want to represent a moment as seen through an offset, use `OffsetDateTime`. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( offset ) ;\r\n\r\nSecondly, you should generally &#128073; **prefer a time zone to a mere offset**. When adding or subtracting to move through time, using a mere offset means you will fail to account for changes to the offset used by the people in a particular time zone. For example, you will fail to account for [Daylight Saving Time (DST)][5] cut-overs. DST is only one example; politicians frequently change the offset of the time zones under their jurisdiction for various reasons including diplomatic, martial, practical, and fashionable.\r\n\r\nA reminder of definitions:\r\n\r\n - An offset is merely a number of hours, minutes, and seconds ahead of, or behind, UTC.\r\n - A time zone is much more. A time zone is a named history of the past, present, and future **changes to the offset** used by the people of a particular region as decided by their politicians. \r\n\r\nFor example, the time zone `Australia/Perth` currently uses an offset of +08:00. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Australia/Perth&quot; ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\nBy the way, stick with standard [ISO 8601][6] formats for date-time values. So use `+08:00` rather than `&quot;GMT+8&quot;`. And I recommend always (a) including both hours and minutes, and (b) using padding zero for single-digit numbers. I have seen more than one library that expects only such values. \r\n\r\n# Tripping through time zones\r\n\r\nYou say your own time zone is in Indonesia. I will presume you mean `Asia/Jakarta`. \r\n\r\nCapture the current moment as seen there.\r\n\r\n    ZoneId zJakarta = ZoneId.of( &quot;Asia/Jakarta&quot; ) ;\r\n    ZonedDateTime zdtJakarta = ZonedDateTime.now( zJakarta ) ;\r\n\r\nAdjust to UTC, meaning an offset from UTC of zero hours-minutes-seconds. Simply extract a `Instant`. An `Instant` is always in UTC, by definition. \r\n\r\n    Instant instant = zdt.toInstant() ;\r\n\r\nAdjust from UTC to another time zone.\r\n\r\n    ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdtEdmonton = instant.atZone( zEdmonton ) ;\r\n\r\nOr skip the `Instant` class. Move from Indonesia time to Canada time.\r\n\r\n    ZonedDateTime zdtEdmonton = zdtJakarta.withZoneSameInstant( zEdmonton ) ;\r\n\r\n&#128073; Note that all of these moment objects (zdtJakarta, instant, zdtEdmonton) refer to the *very same simultaneous moment*. All three represent the same point on the time line, just different wall-clock/wall-calendar time.\r\n\r\n# Avoid legacy classes\r\n\r\nYour code:\r\n\r\n&gt;`Timestamp timestamp = Timestamp.valueOf(gmt.toLocalDateTime());`\r\n&gt;\r\n&gt;`transaction.setDate(timestamp);`\r\n\r\n&#128073; Never use the terribly flawed `java.sql.Timestamp`. This is one of the bloody awful date-time classes that are now legacy, years ago supplanted by the modern *java.time* classes.\r\n\r\nDo not bother trying to study the behavior of these classes. Unless you want a masterclass in how to *not* design an object-oriented time-tracking framework.\r\n\r\nSun, Oracle, and the JCP community all gave up on the legacy classes with the adoption of JSR 310. I suggest you do the same.\r\n\r\n# Database\r\n\r\nTo write a moment to a database, &#128073; use `OffsetDateTime`. Standard SQL lacks the concept of a `ZonedDateTime`.\r\n\r\nTo store a moment, a point on the time line, be sure your database table column is of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE` rather than `WITHOUT`. \r\n\r\n    ZonedDateTime zdt = … ;\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;  // Discard time zone, keeping only the offset. \r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieve.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    ZonedDateTime zdt = odt.withOffsetSameInstant( myZoneId ) ;\r\n\r\nYou said:\r\n\r\n&gt; So are this happened because where my database are located\r\n\r\nDo not write code that depends on the current default time zone of your database session, the server OS, or your JVM. If you write database code as I showed here, you are in control of the time zone adjustments. \r\n\r\n\r\n# Not a moment\r\n\r\nNotice that nowhere did I use the `LocalDateTime` class. That is because your Question is asking about moments, specific points on the time line.\r\n\r\nA `LocalDateTime` contains only a date and a time-of-day. The class purposely lacks the concept of a time zone or offset. Therefore, the values in `LocalDateTime` objects are inherently ambiguous. If you say &quot;noon on the 23rd of January 2023&quot;, I have no idea if you mean noon in Tokyo, noon in Toulouse, or noon in Toledo — three different moments several hours apart.  \r\n\r\n&#128073; **`LocalDateTime` cannot represent a moment.** \r\n\r\nThe equivalent type in standard SQL is `TIMESTAMP WITHOUT TIME ZONE`. \r\n\r\n\r\n----------\r\n\r\nAll this and more has been covered many many times already on Stack Overflow. Search to learn more.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneOffset.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\r\n  [5]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601","title":"Spring Boot Java Time zone Bangkok (GMT+8) or another time zone with GMT+8 with ZonedDateTime using java.sql.Timestamp","body":"<blockquote>\n<p>LocalDateTime.now()</p>\n</blockquote>\n<p>I cannot imagine a scenario where calling <code>LocalDateTime.now</code> is the right thing to do.</p>\n<blockquote>\n<p><code>ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());</code></p>\n</blockquote>\n<p>Skip the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> variable <code>ldt</code>. Just ask <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to capture the current moment as seen in your desired time zone.</p>\n<pre><code>ZoneId z = ZonedId.systemDefault() ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n<blockquote>\n<p><code>ZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+8&quot;));</code></p>\n</blockquote>\n<p>For an offset, use the subclass <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneOffset</code></a> rather than <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneID</code></a>.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.of( 8 ) ;\n</code></pre>\n<p>And, this code does not make sense in couple ways. Firstly, if you want to represent a moment as seen through an offset, use <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( offset ) ;\n</code></pre>\n<p>Secondly, you should generally 👉 <strong>prefer a time zone to a mere offset</strong>. When adding or subtracting to move through time, using a mere offset means you will fail to account for changes to the offset used by the people in a particular time zone. For example, you will fail to account for <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a> cut-overs. DST is only one example; politicians frequently change the offset of the time zones under their jurisdiction for various reasons including diplomatic, martial, practical, and fashionable.</p>\n<p>A reminder of definitions:</p>\n<ul>\n<li>An offset is merely a number of hours, minutes, and seconds ahead of, or behind, UTC.</li>\n<li>A time zone is much more. A time zone is a named history of the past, present, and future <strong>changes to the offset</strong> used by the people of a particular region as decided by their politicians.</li>\n</ul>\n<p>For example, the time zone <code>Australia/Perth</code> currently uses an offset of +08:00.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Australia/Perth&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>By the way, stick with standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for date-time values. So use <code>+08:00</code> rather than <code>&quot;GMT+8&quot;</code>. And I recommend always (a) including both hours and minutes, and (b) using padding zero for single-digit numbers. I have seen more than one library that expects only such values.</p>\n<h1>Tripping through time zones</h1>\n<p>You say your own time zone is in Indonesia. I will presume you mean <code>Asia/Jakarta</code>.</p>\n<p>Capture the current moment as seen there.</p>\n<pre><code>ZoneId zJakarta = ZoneId.of( &quot;Asia/Jakarta&quot; ) ;\nZonedDateTime zdtJakarta = ZonedDateTime.now( zJakarta ) ;\n</code></pre>\n<p>Adjust to UTC, meaning an offset from UTC of zero hours-minutes-seconds. Simply extract a <code>Instant</code>. An <code>Instant</code> is always in UTC, by definition.</p>\n<pre><code>Instant instant = zdt.toInstant() ;\n</code></pre>\n<p>Adjust from UTC to another time zone.</p>\n<pre><code>ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdtEdmonton = instant.atZone( zEdmonton ) ;\n</code></pre>\n<p>Or skip the <code>Instant</code> class. Move from Indonesia time to Canada time.</p>\n<pre><code>ZonedDateTime zdtEdmonton = zdtJakarta.withZoneSameInstant( zEdmonton ) ;\n</code></pre>\n<p>👉 Note that all of these moment objects (zdtJakarta, instant, zdtEdmonton) refer to the <em>very same simultaneous moment</em>. All three represent the same point on the time line, just different wall-clock/wall-calendar time.</p>\n<h1>Avoid legacy classes</h1>\n<p>Your code:</p>\n<blockquote>\n<p><code>Timestamp timestamp = Timestamp.valueOf(gmt.toLocalDateTime());</code></p>\n<p><code>transaction.setDate(timestamp);</code></p>\n</blockquote>\n<p>👉 Never use the terribly flawed <code>java.sql.Timestamp</code>. This is one of the bloody awful date-time classes that are now legacy, years ago supplanted by the modern <em>java.time</em> classes.</p>\n<p>Do not bother trying to study the behavior of these classes. Unless you want a masterclass in how to <em>not</em> design an object-oriented time-tracking framework.</p>\n<p>Sun, Oracle, and the JCP community all gave up on the legacy classes with the adoption of JSR 310. I suggest you do the same.</p>\n<h1>Database</h1>\n<p>To write a moment to a database, 👉 use <code>OffsetDateTime</code>. Standard SQL lacks the concept of a <code>ZonedDateTime</code>.</p>\n<p>To store a moment, a point on the time line, be sure your database table column is of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> rather than <code>WITHOUT</code>.</p>\n<pre><code>ZonedDateTime zdt = … ;\nOffsetDateTime odt = zdt.toOffsetDateTime() ;  // Discard time zone, keeping only the offset. \nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieve.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nZonedDateTime zdt = odt.withOffsetSameInstant( myZoneId ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>So are this happened because where my database are located</p>\n</blockquote>\n<p>Do not write code that depends on the current default time zone of your database session, the server OS, or your JVM. If you write database code as I showed here, you are in control of the time zone adjustments.</p>\n<h1>Not a moment</h1>\n<p>Notice that nowhere did I use the <code>LocalDateTime</code> class. That is because your Question is asking about moments, specific points on the time line.</p>\n<p>A <code>LocalDateTime</code> contains only a date and a time-of-day. The class purposely lacks the concept of a time zone or offset. Therefore, the values in <code>LocalDateTime</code> objects are inherently ambiguous. If you say &quot;noon on the 23rd of January 2023&quot;, I have no idea if you mean noon in Tokyo, noon in Toulouse, or noon in Toledo — three different moments several hours apart.</p>\n<p>👉 <strong><code>LocalDateTime</code> cannot represent a moment.</strong></p>\n<p>The equivalent type in standard SQL is <code>TIMESTAMP WITHOUT TIME ZONE</code>.</p>\n<hr />\n<p>All this and more has been covered many many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74214195,"answer_count":1,"score":0,"last_activity_date":1666819214,"creation_date":1666802953,"question_id":74211446,"body_markdown":"Good day, it&#39;s not some errors. But can someone explain to me what happened here? \r\n\r\nI&#39;am using free sql database with Spring framework so basically my sql database was on the cloud. Then I&#39;m inserted date time value to my database using my local time zone (Indonesia (GMT+8)). But the time zone is not correct with my time zone even I&#39;m already used `localdatetime.now()`\r\n\r\nThis was the case : \r\n\r\n**Set up my localdatetime zone**\r\n\r\n`LocalDateTime ldt = LocalDateTime.now();`\r\n\r\n**Using my system default time zone**\r\n\r\n`ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());`\r\n\r\n*This is the output (My time zone showing at 22:47)*\r\n**&#39;2022-10-26 16:05:52&#39;**\r\n\r\n**Using (GMT+8)**\r\n\r\n`ZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+8&quot;));`\r\n\r\n*This is the output (My time zone showing at 23:10)*\r\n**&#39;&#39;2022-10-26 17:10:30&#39;&#39;**\r\n\r\n**Using (GMT+12)**\r\n\r\n*This is the output (My time zone showing at 23:15)*\r\n**&#39;&#39;2022-10-26 21:15:47&#39;&#39;**\r\n\r\n**Using (GMT+14)** *I&#39;m even dont know anymore are this time zone literally correct*\r\n\r\n*This is the output (My time zone showing at 23:20)*\r\n**&#39;&#39;2022-10-26 23:20:47&#39;&#39;** *This was my time zone (basically, this is the right one)*\r\n\r\nUsing GMT+14 was right according to my own clock, but my time zone (Indonesia, GMT+8). Then I&#39;m checked to my server where my database are located at the cloud, then I found it at **Asia Pacific**.\r\n\r\n**This is my lines of code :**\r\n```\r\nLocalDateTime ldt = LocalDateTime.now();\r\nZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\r\nZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+14&quot;));\r\nTimestamp timestamp = Timestamp.valueOf(gmt.toLocalDateTime());\r\ntransaction.setDate(timestamp);\r\ntransactionServices.saveTransaction(transaction);\r\n```\r\n\r\nSo are this happened because where my database are located or because something else? Can someone explain so I can improve my code. \r\n\r\nI&#39;am expecting using **GMT+8** not **GMT+14**, I&#39;m affraid this can be a problem when this application is produced.\r\n\r\n","title":"Spring Boot Java Time zone Bangkok (GMT+8) or another time zone with GMT+8 with ZonedDateTime using java.sql.Timestamp","body":"<p>Good day, it's not some errors. But can someone explain to me what happened here?</p>\n<p>I'am using free sql database with Spring framework so basically my sql database was on the cloud. Then I'm inserted date time value to my database using my local time zone (Indonesia (GMT+8)). But the time zone is not correct with my time zone even I'm already used <code>localdatetime.now()</code></p>\n<p>This was the case :</p>\n<p><strong>Set up my localdatetime zone</strong></p>\n<p><code>LocalDateTime ldt = LocalDateTime.now();</code></p>\n<p><strong>Using my system default time zone</strong></p>\n<p><code>ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());</code></p>\n<p><em>This is the output (My time zone showing at 22:47)</em>\n<strong>'2022-10-26 16:05:52'</strong></p>\n<p><strong>Using (GMT+8)</strong></p>\n<p><code>ZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+8&quot;));</code></p>\n<p><em>This is the output (My time zone showing at 23:10)</em>\n<strong>''2022-10-26 17:10:30''</strong></p>\n<p><strong>Using (GMT+12)</strong></p>\n<p><em>This is the output (My time zone showing at 23:15)</em>\n<strong>''2022-10-26 21:15:47''</strong></p>\n<p><strong>Using (GMT+14)</strong> <em>I'm even dont know anymore are this time zone literally correct</em></p>\n<p><em>This is the output (My time zone showing at 23:20)</em>\n<strong>''2022-10-26 23:20:47''</strong> <em>This was my time zone (basically, this is the right one)</em></p>\n<p>Using GMT+14 was right according to my own clock, but my time zone (Indonesia, GMT+8). Then I'm checked to my server where my database are located at the cloud, then I found it at <strong>Asia Pacific</strong>.</p>\n<p><strong>This is my lines of code :</strong></p>\n<pre><code>LocalDateTime ldt = LocalDateTime.now();\nZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\nZonedDateTime gmt = zdt.withZoneSameInstant(ZoneId.of(&quot;GMT+14&quot;));\nTimestamp timestamp = Timestamp.valueOf(gmt.toLocalDateTime());\ntransaction.setDate(timestamp);\ntransactionServices.saveTransaction(transaction);\n</code></pre>\n<p>So are this happened because where my database are located or because something else? Can someone explain so I can improve my code.</p>\n<p>I'am expecting using <strong>GMT+8</strong> not <strong>GMT+14</strong>, I'm affraid this can be a problem when this application is produced.</p>\n"},{"tags":["java","visual-studio","while-loop","break"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666734101,"post_id":74200426,"comment_id":131005735,"body_markdown":"You can do `Boolean solutionPossible = null; do { ... } while (solutionPossible == null)`. Or you can move the whole thing to a separate method and `return false;` or `return true;` from within the loop.","body":"You can do <code>Boolean solutionPossible = null; do { ... } while (solutionPossible == null)</code>. Or you can move the whole thing to a separate method and <code>return false;</code> or <code>return true;</code> from within the loop."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666734105,"post_id":74200426,"comment_id":131005737,"body_markdown":"I see no `continue` and only 2 `break`.  So, you only have to eliminate one.","body":"I see no <code>continue</code> and only 2 <code>break</code>.  So, you only have to eliminate one."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666734203,"post_id":74200426,"comment_id":131005763,"body_markdown":"Noticing that you have `while (true)`, one way to reduce number of `break` is to use a loop control variable:  `boolean decided = false; while ( ! decided) { if (queue.peek() &gt;= minSweetness) {   solutionPossible = true; decided = true; } else { ` ...","body":"Noticing that you have <code>while (true)</code>, one way to reduce number of <code>break</code> is to use a loop control variable:  <code>boolean decided = false; while ( ! decided) { if (queue.peek() &gt;= minSweetness) {   solutionPossible = true; decided = true; } else { </code> ..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1666734243,"post_id":74200426,"comment_id":131005773,"body_markdown":"Note that you don&#39;t need an `else` after `break;`.","body":"Note that you don&#39;t need an <code>else</code> after <code>break;</code>."},{"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"score":0,"creation_date":1666734571,"post_id":74200426,"comment_id":131005850,"body_markdown":"I am sorry, can you write the code down so I get exactly what you, Kinda confused though...","body":"I am sorry, can you write the code down so I get exactly what you, Kinda confused though..."}],"answers":[{"comments":[{"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"score":0,"creation_date":1666734936,"post_id":74200557,"comment_id":131005924,"body_markdown":"Oh, that work, I couldn&#39;t do it any other way since I have to follow every rules given to us though...&#129300; #collegelifesuck","body":"Oh, that work, I couldn&#39;t do it any other way since I have to follow every rules given to us though...🤔 #collegelifesuck"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666735379,"post_id":74200557,"comment_id":131006034,"body_markdown":"Well, &quot;Reduce the total number of break and continue statements in this loop to use at most one&quot; is advice, not a requirement. You are free to ignore the advice, especially if ignoring it pleases your professor.","body":"Well, &quot;Reduce the total number of break and continue statements in this loop to use at most one&quot; is advice, not a requirement. You are free to ignore the advice, especially if ignoring it pleases your professor."},{"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"score":0,"creation_date":1666735408,"post_id":74200557,"comment_id":131006042,"body_markdown":"You are sure right, thanks though...&#128588;","body":"You are sure right, thanks though...🙌"}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666734983,"creation_date":1666734603,"answer_id":74200557,"question_id":74200426,"body_markdown":"Instead of coding the `while` as an infinite loop, and `break`ing out of it, use a variable to control loop continuation or exit. In this case, I chose a `boolean`: \r\n\r\n    boolean decided = false;\r\n    while ( ! decided ) {\r\n                // if a minimum element in the queue is \r\n                // greater than the required sweetness\r\n                // then we are done\r\n                if (queue.peek() &gt;= minSweetness) {\r\n                    solutionPossible = true;\r\n                    decided = true;\r\n                } else {\r\n                    // if there are more than or equal to 2 elements,\r\n                    // then only solution is possible\r\n                    // because we have already checked \r\n                    // queue.peek() for the single element\r\n                    // present, and that is less than minSweetness\r\n                    if (queue.size() &gt;= 2) {\r\n                        // remove minimum and 2nd minimum values\r\n                        int a1 = queue.poll();\r\n                        int a2 = queue.poll();\r\n    \r\n                        // again push the value to the queue\r\n                        // after calculating the combined sweetness\r\n                        queue.offer(a1 + 2 * a2);\r\n                    } else {\r\n                        // for a single element that is \r\n                        // less than the required sweetness\r\n                        // no solution is possible\r\n                        solutionPossible = false;\r\n                        decided = true;                       \r\n                    }\r\n                    // increase the total number of operations\r\n                    operations++;\r\n                }\r\n            }\r\n\r\nBy the way, I like retaining the first `break`. It&#39;s a style  preference:  \r\n\r\n    boolean decided = false;\r\n    while ( ! decided ) {\r\n                // if a minimum element in the queue is \r\n                // greater than the required sweetness\r\n                // then we are done\r\n                if (queue.peek() &gt;= minSweetness) {\r\n                    solutionPossible = true;\r\n                    decided = true;\r\n                    break;\r\n\r\n                \r\n                    // if there are more than or equal to 2 elements,\r\n                    // then only solution is possible\r\n                    // because we have already checked \r\n                    // queue.peek() for the single element\r\n                    // present, and that is less than minSweetness\r\n                    if (queue.size() &gt;= 2) {\r\n                    ...\r\n\r\nRetaining the first `break` allows elimination of the first `else`, reducing the nesting level by one for the code that follows. ","title":"Java 8, While Loop: Reduce the total number of break and continue statements in this loop to use at most one","body":"<p>Instead of coding the <code>while</code> as an infinite loop, and <code>break</code>ing out of it, use a variable to control loop continuation or exit. In this case, I chose a <code>boolean</code>:</p>\n<pre><code>boolean decided = false;\nwhile ( ! decided ) {\n            // if a minimum element in the queue is \n            // greater than the required sweetness\n            // then we are done\n            if (queue.peek() &gt;= minSweetness) {\n                solutionPossible = true;\n                decided = true;\n            } else {\n                // if there are more than or equal to 2 elements,\n                // then only solution is possible\n                // because we have already checked \n                // queue.peek() for the single element\n                // present, and that is less than minSweetness\n                if (queue.size() &gt;= 2) {\n                    // remove minimum and 2nd minimum values\n                    int a1 = queue.poll();\n                    int a2 = queue.poll();\n\n                    // again push the value to the queue\n                    // after calculating the combined sweetness\n                    queue.offer(a1 + 2 * a2);\n                } else {\n                    // for a single element that is \n                    // less than the required sweetness\n                    // no solution is possible\n                    solutionPossible = false;\n                    decided = true;                       \n                }\n                // increase the total number of operations\n                operations++;\n            }\n        }\n</code></pre>\n<p>By the way, I like retaining the first <code>break</code>. It's a style  preference:</p>\n<pre><code>boolean decided = false;\nwhile ( ! decided ) {\n            // if a minimum element in the queue is \n            // greater than the required sweetness\n            // then we are done\n            if (queue.peek() &gt;= minSweetness) {\n                solutionPossible = true;\n                decided = true;\n                break;\n\n            \n                // if there are more than or equal to 2 elements,\n                // then only solution is possible\n                // because we have already checked \n                // queue.peek() for the single element\n                // present, and that is less than minSweetness\n                if (queue.size() &gt;= 2) {\n                ...\n</code></pre>\n<p>Retaining the first <code>break</code> allows elimination of the first <code>else</code>, reducing the nesting level by one for the code that follows.</p>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666740139,"creation_date":1666739454,"answer_id":74201058,"question_id":74200426,"body_markdown":"Assuming you need to preserve the original structure of the loop (i.e. `while (true)` ) then this is one method of complexity reduction (comments removed):\r\n\r\n    while (true)\r\n    {\r\n        if (queue.peek() &gt;= minSweetness || queue.size() &lt; 2) {\r\n            solutionPossible = (queue.peek() &gt;= minSweetness);\r\n            break;\r\n        }\r\n        int a1 = queue.poll();\r\n        int a2 = queue.poll();\r\n\r\n        queue.offer(a1 + 2 * a2);\r\n        operations++;\r\n    }\r\n\r\nThe two loop &quot;breaks&quot; are condensed into one.  The difference in their processing is the setting of the `solutionPossible` which can be set based on the first condition.\r\n\r\nThe `else` is removed as unnecessary.\r\n\r\nIf `peek` were a costly operation (which it likely is not) then assigning the result to variable first would be an optimization since it is used twice.","title":"Java 8, While Loop: Reduce the total number of break and continue statements in this loop to use at most one","body":"<p>Assuming you need to preserve the original structure of the loop (i.e. <code>while (true)</code> ) then this is one method of complexity reduction (comments removed):</p>\n<pre><code>while (true)\n{\n    if (queue.peek() &gt;= minSweetness || queue.size() &lt; 2) {\n        solutionPossible = (queue.peek() &gt;= minSweetness);\n        break;\n    }\n    int a1 = queue.poll();\n    int a2 = queue.poll();\n\n    queue.offer(a1 + 2 * a2);\n    operations++;\n}\n</code></pre>\n<p>The two loop &quot;breaks&quot; are condensed into one.  The difference in their processing is the setting of the <code>solutionPossible</code> which can be set based on the first condition.</p>\n<p>The <code>else</code> is removed as unnecessary.</p>\n<p>If <code>peek</code> were a costly operation (which it likely is not) then assigning the result to variable first would be an optimization since it is used twice.</p>\n"}],"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200557,"answer_count":2,"score":0,"last_activity_date":1666818561,"creation_date":1666733553,"question_id":74200426,"body_markdown":"I&#39;ve got a class which contains the following:\r\n\r\n\r\n```\r\nwhile (true) {\r\n            // if minimum element in the queue is greater than required sweetness\r\n            // then we are done\r\n            if (queue.peek() &gt;= minSweetness) {\r\n                solutionPossible = true;\r\n                break;\r\n            } else {\r\n                // if there are more than or equal to 2 elements,\r\n                // then only solution is possible\r\n                // because we have already checked queue.peek() for the single element\r\n                // present, and that is less than minSweetness\r\n                if (queue.size() &gt;= 2) {\r\n                    // remove minimum and 2nd minimum values\r\n                    int a1 = queue.poll();\r\n                    int a2 = queue.poll();\r\n\r\n                    // again push the value to the queue\r\n                    // after calculating the combined sweetness\r\n                    queue.offer(a1 + 2 * a2);\r\n                } else {\r\n                    // for single element that is less than required sweetness\r\n                    // no solution is possible\r\n                    solutionPossible = false;\r\n                    break;\r\n                }\r\n                // increase total number of operations\r\n                operations++;\r\n            }\r\n        }\r\n```\r\n\r\n&gt; \r\nHere is a screenshot: \r\n[![enter image description here](https://i.stack.imgur.com/8XXXe.png)](https://i.stack.imgur.com/8XXXe.png)\r\n\r\nVScode tells me to reduce the total number of break and continue statements in this loop to use at most one, \r\nso I am not as experienced as to what other method I can think of, I tried to used quick fix and It didn&#39;t work,\r\nanybody has any idea how to write this class differently...?\r\n\r\n\r\nI tried to use quick fix and it didn&#39;t show other options though...","title":"Java 8, While Loop: Reduce the total number of break and continue statements in this loop to use at most one","body":"<p>I've got a class which contains the following:</p>\n<pre><code>while (true) {\n            // if minimum element in the queue is greater than required sweetness\n            // then we are done\n            if (queue.peek() &gt;= minSweetness) {\n                solutionPossible = true;\n                break;\n            } else {\n                // if there are more than or equal to 2 elements,\n                // then only solution is possible\n                // because we have already checked queue.peek() for the single element\n                // present, and that is less than minSweetness\n                if (queue.size() &gt;= 2) {\n                    // remove minimum and 2nd minimum values\n                    int a1 = queue.poll();\n                    int a2 = queue.poll();\n\n                    // again push the value to the queue\n                    // after calculating the combined sweetness\n                    queue.offer(a1 + 2 * a2);\n                } else {\n                    // for single element that is less than required sweetness\n                    // no solution is possible\n                    solutionPossible = false;\n                    break;\n                }\n                // increase total number of operations\n                operations++;\n            }\n        }\n</code></pre>\n<blockquote>\n</blockquote>\n<p>Here is a screenshot:\n<a href=\"https://i.stack.imgur.com/8XXXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8XXXe.png\" alt=\"enter image description here\" /></a></p>\n<p>VScode tells me to reduce the total number of break and continue statements in this loop to use at most one,\nso I am not as experienced as to what other method I can think of, I tried to used quick fix and It didn't work,\nanybody has any idea how to write this class differently...?</p>\n<p>I tried to use quick fix and it didn't show other options though...</p>\n"},{"tags":["java","json","twitter"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1491895675,"post_id":43339333,"comment_id":73741861,"body_markdown":"I&#39;m pretty sure that if the file doesn&#39;t contain the tweet objects in an array that&#39;s not valid json and thus the mapper can&#39;t parse it - and it can&#39;t parse _two_ tweets into _one_ pojo. You probably want to either split your file (e.g. by line) or refactor it to contain a top level array and then parse it into a `Tweets[]`.","body":"I&#39;m pretty sure that if the file doesn&#39;t contain the tweet objects in an array that&#39;s not valid json and thus the mapper can&#39;t parse it - and it can&#39;t parse <i>two</i> tweets into <i>one</i> pojo. You probably want to either split your file (e.g. by line) or refactor it to contain a top level array and then parse it into a <code>Tweets[]</code>."},{"owner":{"account_id":10427327,"reputation":85,"user_id":7688166,"accept_rate":67,"display_name":"Kutam"},"score":0,"creation_date":1491895977,"post_id":43339333,"comment_id":73742048,"body_markdown":"what do you mean by this &quot;I&#39;m pretty sure that if the file doesn&#39;t contain the tweet objects in an array that&#39;s not valid json and thus the mapper can&#39;t parse it&quot; and yeah, I want to read it line by line, so how do i do that?","body":"what do you mean by this &quot;I&#39;m pretty sure that if the file doesn&#39;t contain the tweet objects in an array that&#39;s not valid json and thus the mapper can&#39;t parse it&quot; and yeah, I want to read it line by line, so how do i do that?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1491896053,"post_id":43339333,"comment_id":73742094,"body_markdown":"What I mean is that `{...} {...}` isn&#39;t valid json, it should be `[{..}, {...}]` instead. But if you want to read the file line by line it should be ok since you then only have one json object per line. You should look for how to read files line by line though. I&#39;ll give you a hint: `BufferedReader`.","body":"What I mean is that <code>{...} {...}</code> isn&#39;t valid json, it should be <code>[{..}, {...}]</code> instead. But if you want to read the file line by line it should be ok since you then only have one json object per line. You should look for how to read files line by line though. I&#39;ll give you a hint: <code>BufferedReader</code>."}],"answers":[{"comments":[{"owner":{"account_id":10427327,"reputation":85,"user_id":7688166,"accept_rate":67,"display_name":"Kutam"},"score":0,"creation_date":1491902250,"post_id":43340530,"comment_id":73746440,"body_markdown":"So I want to parse the json line-by-line. So each tweet is a POJO object. So how would you do coordinates? and Im assuming that the for &quot;ID&quot; it is within an object of &quot;user&quot; which have two keys that are &quot;ID&quot; and &quot;name&quot; so how to tackle this?","body":"So I want to parse the json line-by-line. So each tweet is a POJO object. So how would you do coordinates? and Im assuming that the for &quot;ID&quot; it is within an object of &quot;user&quot; which have two keys that are &quot;ID&quot; and &quot;name&quot; so how to tackle this?"},{"owner":{"account_id":8480091,"reputation":168,"user_id":6360040,"display_name":"flavio"},"score":0,"creation_date":1491990680,"post_id":43340530,"comment_id":73793896,"body_markdown":"For user, I would create another Jackson obect User whose properties are id and name (both String). Same for the coordinates, which will have properties coordinates (array of double) and type (String).","body":"For user, I would create another Jackson obect User whose properties are id and name (both String). Same for the coordinates, which will have properties coordinates (array of double) and type (String)."}],"tags":[],"owner":{"account_id":8480091,"reputation":168,"user_id":6360040,"display_name":"flavio"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491899135,"creation_date":1491899135,"answer_id":43340530,"question_id":43339333,"body_markdown":"Coordinates should be defined differently (it is not an int but a composed object of an array of double and a string). \r\nIf you want to parse multiple JSON objects defined in a file, you have to do it line by line since it is not a JSON array but a series of lines containing a JSON object per line. I would rename the class to Tweet and add the line-by-line parsed tweets in a list of Tweet.\r\nIf there aren&#39;t coordinates it is not a problem, they will be set to null if don&#39;t exist. If you don&#39;t eventually want to output them you can use the annotation @JsonInclude(JsonInclude.Include.NON_NULL) at the top of the class","title":"Parsing a json file to POJO using Jackson","body":"<p>Coordinates should be defined differently (it is not an int but a composed object of an array of double and a string). \nIf you want to parse multiple JSON objects defined in a file, you have to do it line by line since it is not a JSON array but a series of lines containing a JSON object per line. I would rename the class to Tweet and add the line-by-line parsed tweets in a list of Tweet.\nIf there aren't coordinates it is not a problem, they will be set to null if don't exist. If you don't eventually want to output them you can use the annotation @JsonInclude(JsonInclude.Include.NON_NULL) at the top of the class</p>\n"}],"owner":{"account_id":10427327,"reputation":85,"user_id":7688166,"accept_rate":67,"display_name":"Kutam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666817400,"creation_date":1491895523,"question_id":43339333,"body_markdown":"I have a JSON file filled with twitter tweets such as the following:\r\n\r\n    {&quot;text&quot;: &quot;RT @7NewsSydney: Fire rips through party island Ibiza. #7News&quot;, &quot;lang&quot;: &quot;en&quot;, &quot;coordinates&quot;: { &quot;coordinates&quot;: [150.595679, -34.187708] , &quot;type&quot;:&quot;Point&quot;}, &quot;created_at&quot;: &quot;Mon Mar 06 22:47:10 +0000 2017&quot;}\r\n    \r\n    {&quot;text&quot;: &quot;Fire rips through party island Ibiza. #7News &quot;, &quot;user&quot;: {&quot;id&quot;: &quot;156464691&quot;, &quot;name&quot;: &quot;7 News Sydney&quot;}, &quot;lang&quot;: &quot;en&quot;,&quot;created_at&quot;: &quot;Mon Mar 06 22:43:11 +0000 2017&quot;}\r\n\r\nI want to convert them into POJOs. The problem that I have is that the tweet is not the same. For example, the first tweet has a coordinate key-value where the second one doesn&#39;t.\r\n\r\nI have defined the class Tweets as follows:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    import com.fasterxml.jackson.databind.*;\r\n\r\n    public class Tweets {\r\n        private int id;\r\n        private String username;\r\n        private String text;\r\n        private int coordinates;\r\n        private String timestamp;\r\n    }\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Tweets tweets = mapper.readValue(new File(tweets.json), Tweets.class);\r\n\r\nIs this parsing technique correct? Can someone help please.","title":"Parsing a json file to POJO using Jackson","body":"<p>I have a JSON file filled with twitter tweets such as the following:</p>\n<pre><code>{&quot;text&quot;: &quot;RT @7NewsSydney: Fire rips through party island Ibiza. #7News&quot;, &quot;lang&quot;: &quot;en&quot;, &quot;coordinates&quot;: { &quot;coordinates&quot;: [150.595679, -34.187708] , &quot;type&quot;:&quot;Point&quot;}, &quot;created_at&quot;: &quot;Mon Mar 06 22:47:10 +0000 2017&quot;}\n\n{&quot;text&quot;: &quot;Fire rips through party island Ibiza. #7News &quot;, &quot;user&quot;: {&quot;id&quot;: &quot;156464691&quot;, &quot;name&quot;: &quot;7 News Sydney&quot;}, &quot;lang&quot;: &quot;en&quot;,&quot;created_at&quot;: &quot;Mon Mar 06 22:43:11 +0000 2017&quot;}\n</code></pre>\n<p>I want to convert them into POJOs. The problem that I have is that the tweet is not the same. For example, the first tweet has a coordinate key-value where the second one doesn't.</p>\n<p>I have defined the class Tweets as follows:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\nimport com.fasterxml.jackson.databind.*;\n\npublic class Tweets {\n    private int id;\n    private String username;\n    private String text;\n    private int coordinates;\n    private String timestamp;\n}\n\nObjectMapper mapper = new ObjectMapper();\nTweets tweets = mapper.readValue(new File(tweets.json), Tweets.class);\n</code></pre>\n<p>Is this parsing technique correct? Can someone help please.</p>\n"},{"tags":["java","mysql","spring","iterator","concurrentmodification"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666817102,"creation_date":1666816719,"answer_id":74213965,"question_id":74211186,"body_markdown":"According to your exception\r\n\r\n    java.util.ConcurrentModificationException: null\r\n        at java.base/java.util.HashMap$HashIterator.remove(HashMap.java:1611) [na:na]\r\n\r\nSo you have used a `HashMap` and you have received a `ConcurrentModificationException`.\r\n\r\nBut wait you don&#39;t have any `HashMap` in your code near the error correct?\r\n\r\nYou have `cartItemList.iterator()` and `cartItemList` is declared as `Set&lt;CartProduct&gt;`. Also the implementation which you have provided would be a `HashSet`.\r\n\r\nBut **`HashSet` is implemented behind the scenes from `java` using a `HashMap`**. Therefore the error that you have mentions a `HashMap`.\r\n\r\nFrom [documentation][1]\r\n\r\n&gt; public class **ConcurrentModificationException** extends RuntimeException\r\n&gt;\r\n&gt; This exception may be thrown by methods that have detected concurrent\r\n&gt; modification of an object when such modification is not permissible.\r\n&gt; For example, it is not generally permissible for one thread to modify\r\n&gt; a Collection while another thread is iterating over it. In general,\r\n&gt; the results of the iteration are undefined under these circumstances.\r\n&gt; Some Iterator implementations (including those of all the general\r\n&gt; purpose collection implementations provided by the JRE) may choose to\r\n&gt; throw this exception if this behavior is detected. Iterators that do\r\n&gt; this are known as fail-fast iterators, as they fail quickly and\r\n&gt; cleanly, rather that risking arbitrary, non-deterministic behavior at\r\n&gt; an undetermined time in the future.\r\n&gt; \r\n&gt; **Note that this exception does not always indicate that an object has\r\n&gt; been concurrently modified by a different thread**. If a single thread\r\n&gt; issues a sequence of method invocations that violates the contract of\r\n&gt; an object, the object may throw this exception. **For example, if a\r\n&gt; thread modifies a collection directly while it is iterating over the\r\n&gt; collection with a fail-fast iterator, the iterator will throw this\r\n&gt; exception**.\r\n\r\n\r\n`HashMap` and also `HashSet` provide a **fail-fast iterator**, meaning you are not allowed to modify the collection during iteration.\r\n\r\nTo solve your issue you **should avoid modifying the collection during** iteration.\r\n\r\nSo the following block of code\r\n\r\n    for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\r\n                    CartProduct cartItem = iterator.next();\r\n                    if (cartItem != null) {\r\n                        // Remove the current element from the iterator and the list.\r\n                        cartItem.dismissParent();\r\n                        logedInUser.dismissChild(cartItem);\r\n                        iterator.remove();\r\n                        userService.saveNewUser(logedInUser);\r\n    \r\n                    }\r\n                }\r\n\r\nCould be rewritten as \r\n\r\n    List&lt;CartProduct&gt; toBeRemoved = new ArrayList(); &lt;-----------\r\n    for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\r\n                    CartProduct cartItem = iterator.next();\r\n                    if (cartItem != null) {\r\n                        // Remove the current element from the iterator and the list.\r\n                        cartItem.dismissParent();\r\n                        logedInUser.dismissChild(cartItem);\r\n                        toBeRemoved.add(cartItem);  &lt;---------------\r\n                        userService.saveNewUser(logedInUser);\r\n    \r\n                    }\r\n                }\r\n    cartItemList.removeAll(toBeRemoved); &lt;--------\r\n\r\nSo you just gather all the elements during iteration that you need to remove and you invoke the removal only after iteration.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html","title":"java.util.ConcurrentModificationException when using Iterator","body":"<p>According to your exception</p>\n<pre><code>java.util.ConcurrentModificationException: null\n    at java.base/java.util.HashMap$HashIterator.remove(HashMap.java:1611) [na:na]\n</code></pre>\n<p>So you have used a <code>HashMap</code> and you have received a <code>ConcurrentModificationException</code>.</p>\n<p>But wait you don't have any <code>HashMap</code> in your code near the error correct?</p>\n<p>You have <code>cartItemList.iterator()</code> and <code>cartItemList</code> is declared as <code>Set&lt;CartProduct&gt;</code>. Also the implementation which you have provided would be a <code>HashSet</code>.</p>\n<p>But <strong><code>HashSet</code> is implemented behind the scenes from <code>java</code> using a <code>HashMap</code></strong>. Therefore the error that you have mentions a <code>HashMap</code>.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>public class <strong>ConcurrentModificationException</strong> extends RuntimeException</p>\n<p>This exception may be thrown by methods that have detected concurrent\nmodification of an object when such modification is not permissible.\nFor example, it is not generally permissible for one thread to modify\na Collection while another thread is iterating over it. In general,\nthe results of the iteration are undefined under these circumstances.\nSome Iterator implementations (including those of all the general\npurpose collection implementations provided by the JRE) may choose to\nthrow this exception if this behavior is detected. Iterators that do\nthis are known as fail-fast iterators, as they fail quickly and\ncleanly, rather that risking arbitrary, non-deterministic behavior at\nan undetermined time in the future.</p>\n<p><strong>Note that this exception does not always indicate that an object has\nbeen concurrently modified by a different thread</strong>. If a single thread\nissues a sequence of method invocations that violates the contract of\nan object, the object may throw this exception. <strong>For example, if a\nthread modifies a collection directly while it is iterating over the\ncollection with a fail-fast iterator, the iterator will throw this\nexception</strong>.</p>\n</blockquote>\n<p><code>HashMap</code> and also <code>HashSet</code> provide a <strong>fail-fast iterator</strong>, meaning you are not allowed to modify the collection during iteration.</p>\n<p>To solve your issue you <strong>should avoid modifying the collection during</strong> iteration.</p>\n<p>So the following block of code</p>\n<pre><code>for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\n                CartProduct cartItem = iterator.next();\n                if (cartItem != null) {\n                    // Remove the current element from the iterator and the list.\n                    cartItem.dismissParent();\n                    logedInUser.dismissChild(cartItem);\n                    iterator.remove();\n                    userService.saveNewUser(logedInUser);\n\n                }\n            }\n</code></pre>\n<p>Could be rewritten as</p>\n<pre><code>List&lt;CartProduct&gt; toBeRemoved = new ArrayList(); &lt;-----------\nfor (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\n                CartProduct cartItem = iterator.next();\n                if (cartItem != null) {\n                    // Remove the current element from the iterator and the list.\n                    cartItem.dismissParent();\n                    logedInUser.dismissChild(cartItem);\n                    toBeRemoved.add(cartItem);  &lt;---------------\n                    userService.saveNewUser(logedInUser);\n\n                }\n            }\ncartItemList.removeAll(toBeRemoved); &lt;--------\n</code></pre>\n<p>So you just gather all the elements during iteration that you need to remove and you invoke the removal only after iteration.</p>\n"}],"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74213965,"answer_count":1,"score":1,"last_activity_date":1666817102,"creation_date":1666801651,"question_id":74211186,"body_markdown":"I am having a problem with this iterator on the set. This is a small project that I created with spring Initializer. \r\n\r\nI use spring boot with tomcat. Previously I used a for loop and then I saw this answer over here https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re and tried to adapt the first answer to my case. \r\n\r\nOnly thing is is that I have to decouple the 2 entities Parent and Child from the bidirectional one-to-many, many-to-one relationship before deleting. I am still getting this error even if I use the iterator.\r\n\r\n```\r\n@PostMapping(&quot;/savecart&quot;)\r\n    public ResponseEntity&lt;String&gt; saveCartToDb(@RequestBody Set&lt;CartProduct&gt; cartProductList, Principal principal) {\r\n        User logedInUser = userService.findUserByUsername(principal.getName()).get();\r\n\r\n        Set&lt;CartProduct&gt; cartItemList = logedInUser.getCartProduct();\r\n\r\n        for (CartProduct cartProduct : cartProductList) {\r\n            cartProduct.setUser(logedInUser);\r\n        }\r\n        userService.saveNewUser(logedInUser);\r\n        log.info(&quot;In saveCartToDb()&quot;);\r\n        if (cartItemList.isEmpty()) {\r\n            logedInUser.setCartProduct(cartProductList);\r\n            userService.saveNewUser(logedInUser);\r\n        } else {\r\n            for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\r\n                CartProduct cartItem = iterator.next();\r\n                if (cartItem != null) {\r\n                    // Remove the current element from the iterator and the list.\r\n                    cartItem.dismissParent();\r\n                    logedInUser.dismissChild(cartItem);\r\n                    iterator.remove();\r\n                    userService.saveNewUser(logedInUser);\r\n\r\n                }\r\n            }\r\n//            for(CartProduct cartItem : cartItemList){\r\n//                cartItem.dismissParent();\r\n//                logedInUser.dismissChild(cartItem);\r\n//                userService.saveNewUser(logedInUser);\r\n//            }\r\n            cartProductService.deleteAllProductIds();\r\n            for (CartProduct cartProduct : cartProductList) {\r\n                cartProduct.setUser(logedInUser);\r\n            }\r\n            logedInUser.setCartProduct(cartProductList);\r\n            userService.saveNewUser(logedInUser);\r\n        }\r\n        return ResponseEntity.ok().body(cartProductList.toString());\r\n    }\r\n```\r\n\r\nThe methods that I use to decouple \r\n\r\n```\r\n public void dismissChild(CartProduct child) {\r\n        this.cartProduct.remove(child);\r\n    }\r\n\r\npublic void dismissParent() {\r\n        this.user.dismissChild(this);\r\n        this.user = null;\r\n    }\r\n```\r\n```\r\njava.util.ConcurrentModificationException: null\r\n\tat java.base/java.util.HashMap$HashIterator.remove(HashMap.java:1611) ~[na:na]\r\n```\r\n\r\nIs there a way I can modify the iterator no not receive this error anymore? Or is there a better solution that with the iterator?\r\n","title":"java.util.ConcurrentModificationException when using Iterator","body":"<p>I am having a problem with this iterator on the set. This is a small project that I created with spring Initializer.</p>\n<p>I use spring boot with tomcat. Previously I used a for loop and then I saw this answer over here <a href=\"https://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re\">Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop</a> and tried to adapt the first answer to my case.</p>\n<p>Only thing is is that I have to decouple the 2 entities Parent and Child from the bidirectional one-to-many, many-to-one relationship before deleting. I am still getting this error even if I use the iterator.</p>\n<pre><code>@PostMapping(&quot;/savecart&quot;)\n    public ResponseEntity&lt;String&gt; saveCartToDb(@RequestBody Set&lt;CartProduct&gt; cartProductList, Principal principal) {\n        User logedInUser = userService.findUserByUsername(principal.getName()).get();\n\n        Set&lt;CartProduct&gt; cartItemList = logedInUser.getCartProduct();\n\n        for (CartProduct cartProduct : cartProductList) {\n            cartProduct.setUser(logedInUser);\n        }\n        userService.saveNewUser(logedInUser);\n        log.info(&quot;In saveCartToDb()&quot;);\n        if (cartItemList.isEmpty()) {\n            logedInUser.setCartProduct(cartProductList);\n            userService.saveNewUser(logedInUser);\n        } else {\n            for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\n                CartProduct cartItem = iterator.next();\n                if (cartItem != null) {\n                    // Remove the current element from the iterator and the list.\n                    cartItem.dismissParent();\n                    logedInUser.dismissChild(cartItem);\n                    iterator.remove();\n                    userService.saveNewUser(logedInUser);\n\n                }\n            }\n//            for(CartProduct cartItem : cartItemList){\n//                cartItem.dismissParent();\n//                logedInUser.dismissChild(cartItem);\n//                userService.saveNewUser(logedInUser);\n//            }\n            cartProductService.deleteAllProductIds();\n            for (CartProduct cartProduct : cartProductList) {\n                cartProduct.setUser(logedInUser);\n            }\n            logedInUser.setCartProduct(cartProductList);\n            userService.saveNewUser(logedInUser);\n        }\n        return ResponseEntity.ok().body(cartProductList.toString());\n    }\n</code></pre>\n<p>The methods that I use to decouple</p>\n<pre><code> public void dismissChild(CartProduct child) {\n        this.cartProduct.remove(child);\n    }\n\npublic void dismissParent() {\n        this.user.dismissChild(this);\n        this.user = null;\n    }\n</code></pre>\n<pre><code>java.util.ConcurrentModificationException: null\n    at java.base/java.util.HashMap$HashIterator.remove(HashMap.java:1611) ~[na:na]\n</code></pre>\n<p>Is there a way I can modify the iterator no not receive this error anymore? Or is there a better solution that with the iterator?</p>\n"},{"tags":["java","pentaho","kettle","pdi","spoon"],"answers":[{"tags":[],"owner":{"account_id":23505892,"reputation":53,"user_id":17555174,"display_name":"Marcelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666816580,"creation_date":1664963415,"answer_id":73958658,"question_id":73914032,"body_markdown":"After days of investigation, I finally found a ~solution~\r\n\r\nI added a new Source Folder containing the &#39;kettle-password-encoder-plugins.xml&#39; file.\r\n\r\n**UPDATE**: You can easily drop the file on resources, so its included in the classpath\r\n\r\nWhich is:\r\n```\r\n&lt;password-encoder-plugins&gt;\r\n  &lt;password-encoder-plugin id=&quot;Kettle&quot;&gt;\r\n    &lt;description&gt;Kettle Password Encoder&lt;/description&gt;\r\n    &lt;classname&gt;org.pentaho.support.encryption.KettleTwoWayPasswordEncoder&lt;/classname&gt;\r\n  &lt;/password-encoder-plugin&gt;\r\n&lt;/password-encoder-plugins&gt;\r\n```\r\nAnd it seems to work fine.\r\n\r\nCreate a folder for this file inside your project and then, inside your IDE (in my case, Eclipse) you should see the folder you created in the Package Explorer. Then Right Click -&gt; Build Path -&gt; Use as Source Folder","title":"Unable to find ID Kettle","body":"<p>After days of investigation, I finally found a ~solution~</p>\n<p>I added a new Source Folder containing the 'kettle-password-encoder-plugins.xml' file.</p>\n<p><strong>UPDATE</strong>: You can easily drop the file on resources, so its included in the classpath</p>\n<p>Which is:</p>\n<pre><code>&lt;password-encoder-plugins&gt;\n  &lt;password-encoder-plugin id=&quot;Kettle&quot;&gt;\n    &lt;description&gt;Kettle Password Encoder&lt;/description&gt;\n    &lt;classname&gt;org.pentaho.support.encryption.KettleTwoWayPasswordEncoder&lt;/classname&gt;\n  &lt;/password-encoder-plugin&gt;\n&lt;/password-encoder-plugins&gt;\n</code></pre>\n<p>And it seems to work fine.</p>\n<p>Create a folder for this file inside your project and then, inside your IDE (in my case, Eclipse) you should see the folder you created in the Package Explorer. Then Right Click -&gt; Build Path -&gt; Use as Source Folder</p>\n"}],"owner":{"account_id":23505892,"reputation":53,"user_id":17555174,"display_name":"Marcelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73958658,"answer_count":1,"score":2,"last_activity_date":1666816580,"creation_date":1664572657,"question_id":73914032,"body_markdown":"I&#39;m trying to integrate Kettle in Java and execute a Transformation. The packages are downloaded correctly. However, when I try to run the transformation as a Java Application i receive the following exception:\r\n\r\n\r\n``` Exception in thread &quot;main&quot; org.pentaho.di.core.exception.KettleException: \r\nUnable to find plugin with ID &#39;Kettle&#39;.  If this is a test, make sure kettle-core tests jar is a dependency.  If this is live make sure a kettle-password-encoder-plugins.xml exits in the classpath\r\n\r\n\tat org.pentaho.di.core.encryption.Encr.init(Encr.java:61)\r\n\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:124)\r\n\tat org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:80)\r\n\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:134)\r\n\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:101)\r\n\tat org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:82)\r\n\tat com.marc.TFG.test.pentaho.EjecutarTransformaciones.main(EjecutarTransformaciones.java:13)\r\n``` \r\nFiles:\r\n***EjecutarTransformaciones.java***\r\n```\r\npackage com.marc.TFG.test.pentaho;\r\n\r\nimport org.pentaho.di.core.KettleEnvironment;\r\nimport org.pentaho.di.core.exception.KettleException;\r\nimport org.pentaho.di.core.logging.LogLevel;\r\nimport org.pentaho.di.trans.Trans;\r\nimport org.pentaho.di.trans.TransMeta;\r\n\r\npublic class EjecutarTransformaciones {\r\n\r\n    public static void main(String[] args) throws KettleException {\r\n\r\n        KettleEnvironment.init();\r\n        TransMeta transMeta = new TransMeta(&quot;D:\\\\PROYECTO_TFG\\\\KJB\\\\Prueba.ktr&quot;);\r\n        Trans trans = new Trans(transMeta);\r\n        trans.setLogLevel(LogLevel.BASIC);\r\n        trans.execute(null);\r\n        trans.waitUntilFinished();\r\n\r\n        if(trans.getErrors() &gt; 0){\r\n            System.out.println(&quot;Han habido errores&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n***pom.xml***\r\n\r\n```\r\n       &lt;repositories&gt;\r\n          &lt;repository&gt;\r\n              &lt;id&gt;pentaho-releases&lt;/id&gt;\r\n              &lt;url&gt;https://nexus.pentaho.org/content/groups/omni&lt;/url&gt;\r\n          &lt;/repository&gt;\r\n       &lt;/repositories&gt;\r\n        &lt;!-- PENTAHO KETTLE DEPENDENCIES --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;kettle-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.1.0.0-324&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;kettle-engine&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.1.0.0-324&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;kettle-ui-swt&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;9.1.0.0-324&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n         &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;pentaho-library&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;libformula&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;7.0.0.6-95&lt;/version&gt;\r\n\t\t    &lt;exclusions&gt;\r\n\t            &lt;exclusion&gt;\r\n\t                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t                &lt;artifactId&gt;commons-logging-api&lt;/artifactId&gt;\r\n\t            &lt;/exclusion&gt;\r\n        \t&lt;/exclusions&gt;\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;kettle5-log4j-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;7.1.0.31-241&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI`m running Java 8, hope there is an easy solution","title":"Unable to find ID Kettle","body":"<p>I'm trying to integrate Kettle in Java and execute a Transformation. The packages are downloaded correctly. However, when I try to run the transformation as a Java Application i receive the following exception:</p>\n<pre><code>Unable to find plugin with ID 'Kettle'.  If this is a test, make sure kettle-core tests jar is a dependency.  If this is live make sure a kettle-password-encoder-plugins.xml exits in the classpath\n\n    at org.pentaho.di.core.encryption.Encr.init(Encr.java:61)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:124)\n    at org.pentaho.di.core.KettleClientEnvironment.init(KettleClientEnvironment.java:80)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:134)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:101)\n    at org.pentaho.di.core.KettleEnvironment.init(KettleEnvironment.java:82)\n    at com.marc.TFG.test.pentaho.EjecutarTransformaciones.main(EjecutarTransformaciones.java:13)\n</code></pre>\n<p>Files:\n<em><strong>EjecutarTransformaciones.java</strong></em></p>\n<pre><code>package com.marc.TFG.test.pentaho;\n\nimport org.pentaho.di.core.KettleEnvironment;\nimport org.pentaho.di.core.exception.KettleException;\nimport org.pentaho.di.core.logging.LogLevel;\nimport org.pentaho.di.trans.Trans;\nimport org.pentaho.di.trans.TransMeta;\n\npublic class EjecutarTransformaciones {\n\n    public static void main(String[] args) throws KettleException {\n\n        KettleEnvironment.init();\n        TransMeta transMeta = new TransMeta(&quot;D:\\\\PROYECTO_TFG\\\\KJB\\\\Prueba.ktr&quot;);\n        Trans trans = new Trans(transMeta);\n        trans.setLogLevel(LogLevel.BASIC);\n        trans.execute(null);\n        trans.waitUntilFinished();\n\n        if(trans.getErrors() &gt; 0){\n            System.out.println(&quot;Han habido errores&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p><em><strong>pom.xml</strong></em></p>\n<pre><code>       &lt;repositories&gt;\n          &lt;repository&gt;\n              &lt;id&gt;pentaho-releases&lt;/id&gt;\n              &lt;url&gt;https://nexus.pentaho.org/content/groups/omni&lt;/url&gt;\n          &lt;/repository&gt;\n       &lt;/repositories&gt;\n        &lt;!-- PENTAHO KETTLE DEPENDENCIES --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\n            &lt;artifactId&gt;kettle-core&lt;/artifactId&gt;\n            &lt;version&gt;9.1.0.0-324&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\n            &lt;artifactId&gt;kettle-engine&lt;/artifactId&gt;\n            &lt;version&gt;9.1.0.0-324&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\n            &lt;artifactId&gt;kettle-ui-swt&lt;/artifactId&gt;\n            &lt;version&gt;9.1.0.0-324&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n         &lt;dependency&gt;\n            &lt;groupId&gt;pentaho-library&lt;/groupId&gt;\n            &lt;artifactId&gt;libformula&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0.6-95&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;   \n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;pentaho-kettle&lt;/groupId&gt;\n            &lt;artifactId&gt;kettle5-log4j-plugin&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0.31-241&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I`m running Java 8, hope there is an easy solution</p>\n"},{"tags":["java","string","loops","camelcasing"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1666815655,"post_id":74213789,"comment_id":131028022,"body_markdown":"Share code as text not as image please","body":"Share code as text not as image please"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1666815685,"post_id":74213789,"comment_id":131028033,"body_markdown":"images are hard to debug, please share your code in a [mre] that illustrates the issue you are having","body":"images are hard to debug, please share your code in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that illustrates the issue you are having"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1666815708,"post_id":74213789,"comment_id":131028040,"body_markdown":"Would you agree to regular expression to do a replacement ? That would be very easy","body":"Would you agree to regular expression to do a replacement ? That would be very easy"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666816166,"post_id":74213789,"comment_id":131028155,"body_markdown":"@azro regular expression makes the job of the code easy, but it is not without a penalty. The penalty is that, in general, regex solutions are harder to maintain. Maintainability is a more costly attribute in relation to initial development cost. So, most likely, in the real world a regex solution will be impractical.","body":"@azro regular expression makes the job of the code easy, but it is not without a penalty. The penalty is that, in general, regex solutions are harder to maintain. Maintainability is a more costly attribute in relation to initial development cost. So, most likely, in the real world a regex solution will be impractical."}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666816968,"post_id":74213894,"comment_id":131028399,"body_markdown":"This is the best solution! The trick here is use the capabilities of `StringBuilder` to do String manipulation. It is much easier than using the native `String` methods. I was going to post a similar answer. No need for that now. One minor suggestion, convert the character at index 0 to lower case in case the character is upper case. In the code I was going to post, I had that test case in it.","body":"This is the best solution! The trick here is use the capabilities of <code>StringBuilder</code> to do String manipulation. It is much easier than using the native <code>String</code> methods. I was going to post a similar answer. No need for that now. One minor suggestion, convert the character at index 0 to lower case in case the character is upper case. In the code I was going to post, I had that test case in it."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666816262,"creation_date":1666816262,"answer_id":74213894,"question_id":74213789,"body_markdown":"I would do the following: make the method `static`, it does not use any class state. Then instantiate a `StringBuilder` with the passed in value, because that is *mutable*. Then iterate the `StringBuilder`. If the current character is underscore, delete the current character, then replace the now current character with its upper case equivalent. Like,\r\n\r\n\tpublic static String underscoreToCamel(String s) {\r\n\t\tStringBuilder sb = new StringBuilder(s);\r\n\t\tfor (int i = 0; i &lt; sb.length(); i++) {\r\n\t\t\tif (sb.charAt(i) == &#39;_&#39;) {\r\n\t\t\t\tsb.deleteCharAt(i);\r\n\t\t\t\tchar ch = Character.toUpperCase(sb.charAt(i));\r\n\t\t\t\tsb.setCharAt(i, ch);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nI tested like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(underscoreToCamel(&quot;dog_cat_dog&quot;));\r\n\t}\r\n\r\nWhich outputs (as requested)\r\n\r\n    dogCatDog\r\n","title":"I need help converting strings into camelCase with multiple &quot;_&quot; using loop","body":"<p>I would do the following: make the method <code>static</code>, it does not use any class state. Then instantiate a <code>StringBuilder</code> with the passed in value, because that is <em>mutable</em>. Then iterate the <code>StringBuilder</code>. If the current character is underscore, delete the current character, then replace the now current character with its upper case equivalent. Like,</p>\n<pre><code>public static String underscoreToCamel(String s) {\n    StringBuilder sb = new StringBuilder(s);\n    for (int i = 0; i &lt; sb.length(); i++) {\n        if (sb.charAt(i) == '_') {\n            sb.deleteCharAt(i);\n            char ch = Character.toUpperCase(sb.charAt(i));\n            sb.setCharAt(i, ch);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>I tested like</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(underscoreToCamel(&quot;dog_cat_dog&quot;));\n}\n</code></pre>\n<p>Which outputs (as requested)</p>\n<pre><code>dogCatDog\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666816457,"creation_date":1666816457,"answer_id":74213921,"question_id":74213789,"body_markdown":"You can `split` on &#39;_&#39; then rebuild.\r\n```\r\npublic static String underscoreToCamel(String textToConvert) {\r\n    String [] words = textToConvert.split(&quot;_&quot;);\r\n    StringBuilder sb = new StringBuilder(words[0]);\r\n    for (int i = 1; i &lt; words.length; i++) {\r\n        sb.append(Character.toUpperCase(words[i].charAt(0)));\r\n        sb.append(words[i].substring(1));\r\n    }\r\n    return sb.toString();\r\n}\r\n```","title":"I need help converting strings into camelCase with multiple &quot;_&quot; using loop","body":"<p>You can <code>split</code> on '_' then rebuild.</p>\n<pre><code>public static String underscoreToCamel(String textToConvert) {\n    String [] words = textToConvert.split(&quot;_&quot;);\n    StringBuilder sb = new StringBuilder(words[0]);\n    for (int i = 1; i &lt; words.length; i++) {\n        sb.append(Character.toUpperCase(words[i].charAt(0)));\n        sb.append(words[i].substring(1));\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666816470,"creation_date":1666816470,"answer_id":74213924,"question_id":74213789,"body_markdown":"I think an easy way to solve this is to first consider the base cases, then tackle the other cases\r\n\r\n    public static String underscoreToCamel(String textToConvert){\r\n\r\n        //Initialize the return value\r\n\t    String toReturn = &quot;&quot;;\r\n\r\n\t    if (textToConvert == null){\r\n            //Base Case 1: null value, so just return an empty string\r\n\t        return &quot;&quot;;\r\n\t    } else if (textToConvert.indexOf(&quot;_&quot;) == -1) {\r\n            //Base Case 2: string without underscore, so just return that string\r\n\t        return textToConvert;\r\n\t    } else {\r\n            //Primary Case:\r\n\r\n            //Find index of underscore\r\n\t        int underscore = textToConvert.indexOf(&quot;_&quot;);\r\n\r\n            //Append everything before the underscore to the return string\r\n\t        toReturn += textToConvert.substring(0, underscore);\r\n\r\n            //Append the uppercase of the first letter after the underscore\r\n\t        toReturn += textToConvert.substring(underscore+1, underscore+2).toUpperCase();\r\n\r\n            //Append the rest of the textToConvert, passing it recursively to this function\r\n\t        toReturn += underscoreToCamel(textToConvert.substring(underscore+2));\r\n\t    }\r\n\r\n        //Final return value\r\n\t    return toReturn;\r\n\t}","title":"I need help converting strings into camelCase with multiple &quot;_&quot; using loop","body":"<p>I think an easy way to solve this is to first consider the base cases, then tackle the other cases</p>\n<pre><code>public static String underscoreToCamel(String textToConvert){\n\n    //Initialize the return value\n    String toReturn = &quot;&quot;;\n\n    if (textToConvert == null){\n        //Base Case 1: null value, so just return an empty string\n        return &quot;&quot;;\n    } else if (textToConvert.indexOf(&quot;_&quot;) == -1) {\n        //Base Case 2: string without underscore, so just return that string\n        return textToConvert;\n    } else {\n        //Primary Case:\n\n        //Find index of underscore\n        int underscore = textToConvert.indexOf(&quot;_&quot;);\n\n        //Append everything before the underscore to the return string\n        toReturn += textToConvert.substring(0, underscore);\n\n        //Append the uppercase of the first letter after the underscore\n        toReturn += textToConvert.substring(underscore+1, underscore+2).toUpperCase();\n\n        //Append the rest of the textToConvert, passing it recursively to this function\n        toReturn += underscoreToCamel(textToConvert.substring(underscore+2));\n    }\n\n    //Final return value\n    return toReturn;\n}\n</code></pre>\n"}],"owner":{"account_id":26742428,"reputation":9,"user_id":20342992,"display_name":"poop monkey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1666816470,"creation_date":1666815540,"question_id":74213789,"body_markdown":"My code doesnt convert ex. dog_cat_dog into dogCatDog. The out put of my code is dogCat_dog. Trying to make a loop that doesn&#39;t stop at the first &quot;_&quot;:\r\n\r\n\r\n    public String underscoreToCamel(String textToConvert) {\r\n       int index_= textToConvert.indexOf(&quot;_&quot;,0);\r\n       String camelCase=&quot;&quot;;\r\n       String upperCase = &quot;&quot;;\r\n       String lowerCase=&quot;&quot;;\r\n       for (int i=0; i &lt; textToConvert.length(); i++){\r\n         if(i==index_){\r\n           upperCase= (textToConvert.charAt(index_+1)+upperCase).toUpperCase();\r\n           upperCase= upperCase+ textToConvert.substring(index_+2);\r\n           \r\n         }\r\n         else{\r\n           lowerCase=textToConvert.substring(0,index_);\r\n         }\r\n         camelCase=lowerCase+upperCase;\r\n         \r\n    \r\n       }\r\n         \r\n    \t\treturn camelCase;\r\n       }","title":"I need help converting strings into camelCase with multiple &quot;_&quot; using loop","body":"<p>My code doesnt convert ex. dog_cat_dog into dogCatDog. The out put of my code is dogCat_dog. Trying to make a loop that doesn't stop at the first &quot;_&quot;:</p>\n<pre><code>public String underscoreToCamel(String textToConvert) {\n   int index_= textToConvert.indexOf(&quot;_&quot;,0);\n   String camelCase=&quot;&quot;;\n   String upperCase = &quot;&quot;;\n   String lowerCase=&quot;&quot;;\n   for (int i=0; i &lt; textToConvert.length(); i++){\n     if(i==index_){\n       upperCase= (textToConvert.charAt(index_+1)+upperCase).toUpperCase();\n       upperCase= upperCase+ textToConvert.substring(index_+2);\n       \n     }\n     else{\n       lowerCase=textToConvert.substring(0,index_);\n     }\n     camelCase=lowerCase+upperCase;\n     \n\n   }\n     \n        return camelCase;\n   }\n</code></pre>\n"},{"tags":["java","file","logging"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666809845,"post_id":74212724,"comment_id":131026274,"body_markdown":"How can anyone help without including your `check_username_and_password` method? The code you&#39;ve posted here is surely not where the problem is. Include your exception as well, ideally pointing out the line that the error occured on.","body":"How can anyone help without including your <code>check_username_and_password</code> method? The code you&#39;ve posted here is surely not where the problem is. Include your exception as well, ideally pointing out the line that the error occured on."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666810260,"post_id":74212724,"comment_id":131026421,"body_markdown":"I can guess at the issue: did you create more than one `Scanner`? If so, don&#39;t do that (create a single one for `System.in`, and re-use it). Otherwise, would need to see the `#main` method under your `Employee` nested class.","body":"I can guess at the issue: did you create more than one <code>Scanner</code>? If so, don&#39;t do that (create a single one for <code>System.in</code>, and re-use it). Otherwise, would need to see the <code>#main</code> method under your <code>Employee</code> nested class."},{"owner":{"account_id":21339590,"reputation":7,"user_id":15710272,"display_name":"mosh hamedani"},"score":0,"creation_date":1666811224,"post_id":74212724,"comment_id":131026740,"body_markdown":"@Rogue how can i use the same scanner twice and i am using one in the main and one outside it?","body":"@Rogue how can i use the same scanner twice and i am using one in the main and one outside it?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666873890,"post_id":74212724,"comment_id":131041434,"body_markdown":"You&#39;re using quite a bit of static currently (which I think may have a better way), but for `Scanner`, it is one of the few times I actually recommend a static field: `static final Scanner STDIN = new Scanner(System.in);`, which can then be used by other functions wanting to read stdin. This should usually be managed by a single thread, but I don&#39;t believe that&#39;s at issue here.","body":"You&#39;re using quite a bit of static currently (which I think may have a better way), but for <code>Scanner</code>, it is one of the few times I actually recommend a static field: <code>static final Scanner STDIN = new Scanner(System.in);</code>, which can then be used by other functions wanting to read stdin. This should usually be managed by a single thread, but I don&#39;t believe that&#39;s at issue here."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666815968,"creation_date":1666815968,"answer_id":74213851,"question_id":74212724,"body_markdown":"You&#39;ve closed `System.in`, probably by closing the scanner. Do not do that.\r\n\r\n_But, my IDE is yelling at me, something about &#39;unclosed resources&#39; or whatnot!_\r\n\r\nYour IDE is wrong; known &#39;bug&#39; in IDEs, they don&#39;t understand the notion that filterstreams around resources you aren&#39;t responsible for closing, should never be closed. It doesn&#39;t come up much, _except_ `new Scanner(System.in)`.\r\n\r\nA few general hints:\r\n\r\n## Perhaps use console\r\n\r\nThe console object has the ability to ask for passwords and echoes nothing, or stars. `System.getConsole()` is how you get it, and [here is the Console API](https://docs.oracle.com/javase/7/docs/api/java/io/Console.html).\r\n\r\nNote that in general the &#39;mini console&#39; in IDEs that is used when you run a java app inside it, doesn&#39;t work with console, only System.in, which is kinda silly but as far as I can tell not (yet) up for getting fixed in upcoming java versions. IDEs perhaps need to step up and fix this.\r\n\r\n## If not... pass Scanner around\r\n\r\nJava methods can take arguments. So, take the scanner as argument:\r\n\r\n```\r\npublic static void EmpLogin(Scanner scanner) throws IOException\r\n{\r\n    System.out.println(&quot;Enter Password: &quot;);\r\n    String password = scanner.nextLine();\r\n    if (check_username_and_password(&quot;C:/Users/moham/OneDrive/Desktop/ss&quot;, password))\r\n    {\r\n        System.out.println(&quot;logged in&quot;); \r\n    }\r\n    \r\n    else\r\n    {   \r\n        System.out.println(&quot;invalid!&quot;); \r\n    }\r\n```\r\n\r\n## `== true` is silly, remove it\r\n\r\n`x == true` is valid java only if `x` is itself a boolean expression. Meaning, `x` is true or false. This boils down to `if true is true, then..` which is silly. `== true` can always just be lopped off, in java.\r\n\r\n## But `new FileReader` IS a resource\r\n\r\n&gt; `FileReader fr = new FileReader (fileName);`\r\n\r\nThis is buggy java code; you&#39;re opening a resource without closing it. Your app will crash soon after if you repeatedly do this. The only way to safely open resources is as follows:\r\n\r\n```\r\ntry (FileReader fr = new FileReader(fileName) {\r\n  .. code that uses fr here ..\r\n}\r\n```\r\n\r\nThis ensures `fr` is closed, no matter how code exits that block (by running to the end, or `return`, or an exception - no matter).\r\n\r\n","title":"java.util.NoSuchElementException: No line found, exception error","body":"<p>You've closed <code>System.in</code>, probably by closing the scanner. Do not do that.</p>\n<p><em>But, my IDE is yelling at me, something about 'unclosed resources' or whatnot!</em></p>\n<p>Your IDE is wrong; known 'bug' in IDEs, they don't understand the notion that filterstreams around resources you aren't responsible for closing, should never be closed. It doesn't come up much, <em>except</em> <code>new Scanner(System.in)</code>.</p>\n<p>A few general hints:</p>\n<h2>Perhaps use console</h2>\n<p>The console object has the ability to ask for passwords and echoes nothing, or stars. <code>System.getConsole()</code> is how you get it, and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">here is the Console API</a>.</p>\n<p>Note that in general the 'mini console' in IDEs that is used when you run a java app inside it, doesn't work with console, only System.in, which is kinda silly but as far as I can tell not (yet) up for getting fixed in upcoming java versions. IDEs perhaps need to step up and fix this.</p>\n<h2>If not... pass Scanner around</h2>\n<p>Java methods can take arguments. So, take the scanner as argument:</p>\n<pre><code>public static void EmpLogin(Scanner scanner) throws IOException\n{\n    System.out.println(&quot;Enter Password: &quot;);\n    String password = scanner.nextLine();\n    if (check_username_and_password(&quot;C:/Users/moham/OneDrive/Desktop/ss&quot;, password))\n    {\n        System.out.println(&quot;logged in&quot;); \n    }\n    \n    else\n    {   \n        System.out.println(&quot;invalid!&quot;); \n    }\n</code></pre>\n<h2><code>== true</code> is silly, remove it</h2>\n<p><code>x == true</code> is valid java only if <code>x</code> is itself a boolean expression. Meaning, <code>x</code> is true or false. This boils down to <code>if true is true, then..</code> which is silly. <code>== true</code> can always just be lopped off, in java.</p>\n<h2>But <code>new FileReader</code> IS a resource</h2>\n<blockquote>\n<p><code>FileReader fr = new FileReader (fileName);</code></p>\n</blockquote>\n<p>This is buggy java code; you're opening a resource without closing it. Your app will crash soon after if you repeatedly do this. The only way to safely open resources is as follows:</p>\n<pre><code>try (FileReader fr = new FileReader(fileName) {\n  .. code that uses fr here ..\n}\n</code></pre>\n<p>This ensures <code>fr</code> is closed, no matter how code exits that block (by running to the end, or <code>return</code>, or an exception - no matter).</p>\n"}],"owner":{"account_id":21339590,"reputation":7,"user_id":15710272,"display_name":"mosh hamedani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666815968,"creation_date":1666809656,"question_id":74212724,"body_markdown":"i want to search in a file for a given password given from user input and and i get a runtime exception when i run the project here is my code:\r\n\r\n```\r\npublic static Boolean check_username_and_password(String fileName, String password) throws IOException\r\n{\r\n\tString[] words = null;\r\n\tFileReader fr = new FileReader (fileName);\r\nBufferedReader br = new BufferedReader(fr);\r\nString s;\r\nString input = password;\r\nint count = 0;\r\nwhile((s=br.readLine()) != null)\r\n{\r\n\twords = s.split(&quot; &quot;);\r\n\tfor(String word : words) {\r\n\t\tif(word.equals(input))\r\n\t\t{\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n}\r\nif (count != 0) {\r\n\treturn true;\r\n}\r\n\r\nelse \r\n{\r\n\treturn false;\r\n}\r\n}\r\n\r\npublic static void EmpLogin() throws IOException\r\n{\r\n\tScanner y = new Scanner (System.in);\r\n\tSystem.out.println(&quot;Enter Password: &quot;);\r\n\tString password = y.nextLine();\r\n\tif (check_username_and_password(&quot;C:/Users/moham/OneDrive/Desktop/ss&quot;, password) == true)\r\n\t{\r\n\t\tSystem.out.println(&quot;logged in&quot;); \r\n\t}\r\n\t\r\n\telse\r\n\t{\t\r\n\t\tSystem.out.println(&quot;invalid!&quot;); \r\n\t}\r\n}\r\n\r\n```\r\n\r\ni am trying to make a code to login for bank employees, and here is the error message:\r\n\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n```\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n\tat Hello/Hello.EmployeeDetails.EmpLogin(Main_class.java:113)\r\n\tat Hello/Hello.EmployeeDetails$Employee.main(Main_class.java:181)\r\n```","title":"java.util.NoSuchElementException: No line found, exception error","body":"<p>i want to search in a file for a given password given from user input and and i get a runtime exception when i run the project here is my code:</p>\n<pre><code>public static Boolean check_username_and_password(String fileName, String password) throws IOException\n{\n    String[] words = null;\n    FileReader fr = new FileReader (fileName);\nBufferedReader br = new BufferedReader(fr);\nString s;\nString input = password;\nint count = 0;\nwhile((s=br.readLine()) != null)\n{\n    words = s.split(&quot; &quot;);\n    for(String word : words) {\n        if(word.equals(input))\n        {\n            count++;\n        }\n    }\n}\nif (count != 0) {\n    return true;\n}\n\nelse \n{\n    return false;\n}\n}\n\npublic static void EmpLogin() throws IOException\n{\n    Scanner y = new Scanner (System.in);\n    System.out.println(&quot;Enter Password: &quot;);\n    String password = y.nextLine();\n    if (check_username_and_password(&quot;C:/Users/moham/OneDrive/Desktop/ss&quot;, password) == true)\n    {\n        System.out.println(&quot;logged in&quot;); \n    }\n    \n    else\n    {   \n        System.out.println(&quot;invalid!&quot;); \n    }\n}\n\n</code></pre>\n<p>i am trying to make a code to login for bank employees, and here is the error message:</p>\n<p>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found</p>\n<pre><code>    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at Hello/Hello.EmployeeDetails.EmpLogin(Main_class.java:113)\n    at Hello/Hello.EmployeeDetails$Employee.main(Main_class.java:181)\n</code></pre>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1666814650,"post_id":74213589,"comment_id":131027731,"body_markdown":"Testing controllers is a standard task in each Spring Boot testing tutorial. Show us what you’ve already tried. Then someone might be able to help you out.","body":"Testing controllers is a standard task in each Spring Boot testing tutorial. Show us what you’ve already tried. Then someone might be able to help you out."},{"owner":{"account_id":11397952,"reputation":483,"user_id":8355696,"display_name":"Pranjal Kaler"},"score":0,"creation_date":1666815676,"post_id":74213589,"comment_id":131028030,"body_markdown":"Hi @johanneslink \nAdded the UT above. Please have a look.","body":"Hi @johanneslink  Added the UT above. Please have a look."},{"owner":{"account_id":11397952,"reputation":483,"user_id":8355696,"display_name":"Pranjal Kaler"},"score":0,"creation_date":1666815703,"post_id":74213589,"comment_id":131028036,"body_markdown":"I&#39;m probably missing something very naive.","body":"I&#39;m probably missing something very naive."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1666815813,"post_id":74213589,"comment_id":131028063,"body_markdown":"Oh, you&#39;ve newed your bean.  That&#39;s a big no-no.  You can&#39;t be doing that if you&#39;re trying to go through Spring.  You don&#39;t *have* to use the Spring context if you just new your instance up with mock objects instead, and I&#39;ve found that to be easier to test in the past.","body":"Oh, you&#39;ve newed your bean.  That&#39;s a big no-no.  You can&#39;t be doing that if you&#39;re trying to go through Spring.  You don&#39;t <i>have</i> to use the Spring context if you just new your instance up with mock objects instead, and I&#39;ve found that to be easier to test in the past."}],"answers":[{"comments":[{"owner":{"account_id":11397952,"reputation":483,"user_id":8355696,"display_name":"Pranjal Kaler"},"score":0,"creation_date":1666815763,"post_id":74213639,"comment_id":131028049,"body_markdown":"But following this approach, I&#39;m not able to construct the Controller in UT. Please check the UT I have added now in the post above.","body":"But following this approach, I&#39;m not able to construct the Controller in UT. Please check the UT I have added now in the post above."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1666815852,"post_id":74213639,"comment_id":131028077,"body_markdown":"I see what you did.  I can revise my answer.  It is trivial to accommodate this approach in a unit test.","body":"I see what you did.  I can revise my answer.  It is trivial to accommodate this approach in a unit test."},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":0,"creation_date":1666816984,"post_id":74213639,"comment_id":131028404,"body_markdown":"You should be able to use mockbeans in @Bean method as parameter and then pass them to constructor.","body":"You should be able to use mockbeans in @Bean method as parameter and then pass them to constructor."}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666815965,"creation_date":1666814732,"answer_id":74213639,"question_id":74213589,"body_markdown":"Convert your `@Autowired` parameters to be constructor based and not field-based.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class MyCustomController {\r\n\r\n    private MagicWriter magicWriter;\r\n    private MagicUpdater magicUpdater;    \r\n\r\n    @Autowired\r\n    public MyCustomController(MagicWriter magicWriter, MagicUpdater magicUpdater) {\r\n        this.magicWriter = magicWriter;\r\n        this.magicUpdater = magicUpdater;\r\n    }\r\n    // ... rest of your code\r\n}\r\n```\r\n\r\nThen in your test, you just `new` an instance of this class with your mocks passed in.  You&#39;re already resigned to using mock beans, so you don&#39;t need to whole Spring Context to come along.\r\n\r\n```\r\n// Unit test code example\r\n\r\n    MyCustomController testObject;\r\n    MagicWriter magicWriterMock;\r\n    magicUpdater magicUpdaterMock;\r\n\r\n    @BeforeEach\r\n    void setUp() throws Exception {\r\n        magicWriterMock = mock(MagicWriter.class);\r\n        magicUpdaterMock = mock(MagicUpdater.class);\r\n       \r\n        testObject = new MyCustomController(magicWriterMock, magicUpdaterMock);\r\n    }","title":"How to pass @MockBean to an internal function call from a JUnit?","body":"<p>Convert your <code>@Autowired</code> parameters to be constructor based and not field-based.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class MyCustomController {\n\n    private MagicWriter magicWriter;\n    private MagicUpdater magicUpdater;    \n\n    @Autowired\n    public MyCustomController(MagicWriter magicWriter, MagicUpdater magicUpdater) {\n        this.magicWriter = magicWriter;\n        this.magicUpdater = magicUpdater;\n    }\n    // ... rest of your code\n}\n</code></pre>\n<p>Then in your test, you just <code>new</code> an instance of this class with your mocks passed in.  You're already resigned to using mock beans, so you don't need to whole Spring Context to come along.</p>\n<pre><code>// Unit test code example\n\n    MyCustomController testObject;\n    MagicWriter magicWriterMock;\n    magicUpdater magicUpdaterMock;\n\n    @BeforeEach\n    void setUp() throws Exception {\n        magicWriterMock = mock(MagicWriter.class);\n        magicUpdaterMock = mock(MagicUpdater.class);\n       \n        testObject = new MyCustomController(magicWriterMock, magicUpdaterMock);\n    }\n</code></pre>\n"}],"owner":{"account_id":11397952,"reputation":483,"user_id":8355696,"display_name":"Pranjal Kaler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666815965,"creation_date":1666814286,"question_id":74213589,"body_markdown":"I need to write unit tests for a Spring Controller class.\r\n\r\nThe setup is like this:\r\n\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class MyCustomController {    \r\n        @Autowired\r\n        private MagicWriter magicWriter;\r\n\r\n        @Autowired\r\n        private MagicUpdater magicUpdater;\r\n\r\n        @RequestMapping(path = &quot;/&quot;, method = RequestMethod.POST)\r\n        public String postMagicMethod(@RequestParam(name = &quot;SomeParam&quot;) String param1) {\r\n            var magicHandler = new MagicHandler(magicWriter, magicUpdater);\r\n\r\n            return magicHandler.doSomeMagic();\r\n        }\r\n    }\r\n\r\n\r\nFrom my JUnit test, I need to use @MockBean for magicWriter and magicUpdater class.\r\nSo far I could not find anything constructive.\r\n\r\n\r\n\r\nHere is my Unit test\r\n\r\n    \r\n    @SpringJUnitConfig\r\n    @WebMvcTest(value= MyCustomController.class)\r\n    public class MyCustomControllerTest {\r\n\r\n\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n\r\n        @MockBean\r\n        private MagicWriter magicWriter;\r\n\r\n        @MockBean\r\n        private MagicUpdater magicUpdater;\r\n\r\n        @Autowired\r\n        private WebApplicationContext webApplicationContext;\r\n\r\n        @Configuration\r\n        static class Config {\r\n            @Bean\r\n            MyCustomController dispatchController() {\r\n                return new MyCustomController();\r\n            }\r\n        }\r\n        @Test\r\n        void basicTest() throws Exception {\r\n            mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            // Added some http headers\r\n\r\n            String uri = &quot;/&quot;;\r\n\r\n            RequestBuilder request = MockMvcRequestBuilders.request(HttpMethod.POST, uri, headers);\r\n            MvcResult result =  mockMvc.perform(request).andReturn();\r\n            assertThat(result.getResponse().getContentAsString()).isEqualTo(expected);\r\n        }\r\n    }","title":"How to pass @MockBean to an internal function call from a JUnit?","body":"<p>I need to write unit tests for a Spring Controller class.</p>\n<p>The setup is like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class MyCustomController {    \n    @Autowired\n    private MagicWriter magicWriter;\n\n    @Autowired\n    private MagicUpdater magicUpdater;\n\n    @RequestMapping(path = &quot;/&quot;, method = RequestMethod.POST)\n    public String postMagicMethod(@RequestParam(name = &quot;SomeParam&quot;) String param1) {\n        var magicHandler = new MagicHandler(magicWriter, magicUpdater);\n\n        return magicHandler.doSomeMagic();\n    }\n}\n</code></pre>\n<p>From my JUnit test, I need to use @MockBean for magicWriter and magicUpdater class.\nSo far I could not find anything constructive.</p>\n<p>Here is my Unit test</p>\n<pre><code>@SpringJUnitConfig\n@WebMvcTest(value= MyCustomController.class)\npublic class MyCustomControllerTest {\n\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private MagicWriter magicWriter;\n\n    @MockBean\n    private MagicUpdater magicUpdater;\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @Configuration\n    static class Config {\n        @Bean\n        MyCustomController dispatchController() {\n            return new MyCustomController();\n        }\n    }\n    @Test\n    void basicTest() throws Exception {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n\n        HttpHeaders headers = new HttpHeaders();\n        // Added some http headers\n\n        String uri = &quot;/&quot;;\n\n        RequestBuilder request = MockMvcRequestBuilders.request(HttpMethod.POST, uri, headers);\n        MvcResult result =  mockMvc.perform(request).andReturn();\n        assertThat(result.getResponse().getContentAsString()).isEqualTo(expected);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","spring-mvc","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":10084876,"reputation":3,"user_id":7453865,"display_name":"xX Ultimejta Xx"},"score":0,"creation_date":1666849757,"post_id":74213765,"comment_id":131033739,"body_markdown":"This worked, I don&#39;t know how I didn&#39;t found it, thank you","body":"This worked, I don&#39;t know how I didn&#39;t found it, thank you"}],"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666815420,"creation_date":1666815420,"answer_id":74213765,"question_id":74213266,"body_markdown":"[From the Web MVC reference documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-methods):\r\n\r\n&gt; You must declare an `Errors`, or `BindingResult` argument immediately after the validated method argument.\r\n\r\nYou put your `Model` argument between the validated form and the `Errors`.","title":"Problem with form validation with Thymeleaf in Spring","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-methods\" rel=\"nofollow noreferrer\">From the Web MVC reference documentation</a>:</p>\n<blockquote>\n<p>You must declare an <code>Errors</code>, or <code>BindingResult</code> argument immediately after the validated method argument.</p>\n</blockquote>\n<p>You put your <code>Model</code> argument between the validated form and the <code>Errors</code>.</p>\n"}],"owner":{"account_id":10084876,"reputation":3,"user_id":7453865,"display_name":"xX Ultimejta Xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74213765,"answer_count":1,"score":0,"last_activity_date":1666815477,"creation_date":1666812455,"question_id":74213266,"body_markdown":"I&#39;m making a spring web calculator, that receives input in template named &quot;calculator&quot; , post-s it to the back-end, validates it, and if the input matches the pattern it calculates the result and shows it in another template named &quot;result&quot;\r\nThe problem is, if my input does not match the pattern, it must return a error message. For this purpose i used &quot;th:if&quot;. But instead, it throws 400 bad request error.\r\nThis is my code:\r\n**Controller**\r\n`\r\n```\r\n@Controller\r\npublic class CalculationController implements WebMvcConfigurer {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String showForm(CalculatorForm calculatorForm) {\r\n\r\n        //model.addAttribute(&quot;calculatorForm&quot;, new CalculatorForm());\r\n        return &quot;calculator&quot;;\r\n    }\r\n    @PostMapping(&quot;/&quot;)\r\n    public String checkCalcValue(@Valid CalculatorForm calculatorForm, Model model, Errors errors) {\r\n        if(errors.hasErrors()){\r\n            return &quot;calculator&quot;;\r\n        }\r\n            CalculationService service = new CalculationService();\r\n            calculatorForm.setCalculationResult(service.calculate(calculatorForm.getCalculationValue()));\r\n            System.out.println(calculatorForm.getCalculationValue());\r\n            model.addAttribute(&quot;calculatorForm&quot;, calculatorForm);\r\n            return &quot;result&quot;;\r\n\r\n    }\r\n}\r\n```\r\n`\r\n**Service**\r\n`\r\n```\r\npublic class CalculationService {\r\n    public double calculate(String toCalculate) {\r\n        ExpressionParser parser = new SpelExpressionParser();\r\n        Expression exp = parser.parseExpression(toCalculate);\r\n        Double result = exp.getValue(Double.class);\r\n        return result;\r\n    }\r\n}\r\n```\r\n`\r\n**Model**\r\n`\r\n```\r\npublic class CalculatorForm {\r\n\r\n    @NotEmpty\r\n    @Pattern(regexp=&quot;([0-9]|[\\\\-+*/])+&quot;,message=&quot;only math expressions&quot;)\r\n    private String calculationValue;\r\n    private Double calculationResult;\r\n\r\n    public String getCalculationValue() {\r\n        return calculationValue;\r\n    }\r\n    public void setCalculationValue(String newCalculationValue){\r\n        calculationValue = newCalculationValue;\r\n    }\r\n    public void setCalculationResult(Double newCalculationResult){\r\n        calculationResult = newCalculationResult;\r\n    }\r\n    public Double getCalculationResult(){\r\n        return calculationResult;\r\n    }\r\n\r\n}\r\n```\r\n`\r\n**Calculator template**\r\n`\r\n```\r\n\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Your first Spring application&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;p&gt;&lt;a href=&quot;/calculator&quot;&gt;Calculator&lt;/a&gt;&lt;/p&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${calculatorForm}&quot; method=&quot;post&quot;&gt;\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Calculator:&lt;/td&gt;\r\n            &lt;td&gt;&lt;input value=&quot;&quot; type=&quot;text&quot; th:field=&quot;*{calculationValue}&quot; name=&quot;calculationValue&quot; id=&quot;calculationValue&quot;/&gt;&lt;/td&gt;\r\n            &lt;td th:if=&quot;${#fields.hasErrors(&#39;calculationValue&#39;)}&quot; th:errors=&quot;*{calculationValue}&quot;&gt;Calculation Error&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonOne&quot; value=&quot;1&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonTwo&quot; value=&quot;2&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonThree&quot; value=&quot;3&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFour&quot; value=&quot;4&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFive&quot; value=&quot;5&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSix&quot; value=&quot;6&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSeven&quot; value=&quot;7&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonEight&quot; value=&quot;8&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonNine&quot; value=&quot;9&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonZero&quot; value=&quot;0&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonPlus&quot; value=&quot;+&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMinus&quot; value=&quot;-&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMultiply&quot; value=&quot;*&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonDivide&quot; value=&quot;/&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;remove();&quot; id=&quot;remove&quot; value=&quot;&lt;-&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;input type=&quot;button&quot; onclick=&quot;delAll();&quot; id=&quot;delete&quot; value=&quot;DEL&quot;&gt;&lt;/input&gt;\r\n    &lt;/table&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;script&gt;\r\n    function input(button){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value += button.value;\r\n    }\r\n    function remove(){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value = calculationValue.value.substring(0, calculationValue.value.length - 1);\r\n    }\r\n    function delAll(){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value = &quot;&quot;;\r\n    }\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n`\r\n**Result template**\r\n`\r\n```\r\n\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Your first Spring application&lt;/title&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;p&gt;&lt;a href=&quot;/calculator&quot;&gt;Calculator&lt;/a&gt;&lt;/p&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${calculatorForm}&quot; method=&quot;post&quot;&gt;\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Calculator:&lt;/td&gt;\r\n            &lt;td&gt;&lt;input value=&quot;&quot; type=&quot;text&quot; th:field=&quot;*{calculationValue}&quot; name=&quot;calculationValue&quot; id=&quot;calculationValue&quot;/&gt;&lt;/td&gt;\r\n            &lt;td th:if=&quot;${#fields.hasErrors(&#39;calculationValue&#39;)}&quot; th:errors=&quot;*{calculationValue}&quot;&gt;Calculation Error&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonOne&quot; value=&quot;1&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonTwo&quot; value=&quot;2&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonThree&quot; value=&quot;3&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFour&quot; value=&quot;4&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFive&quot; value=&quot;5&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSix&quot; value=&quot;6&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSeven&quot; value=&quot;7&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonEight&quot; value=&quot;8&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonNine&quot; value=&quot;9&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonZero&quot; value=&quot;0&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonPlus&quot; value=&quot;+&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMinus&quot; value=&quot;-&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMultiply&quot; value=&quot;*&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonDivide&quot; value=&quot;/&quot;&gt;&lt;/input&gt;\r\n            &lt;input type=&quot;button&quot; onclick=&quot;remove();&quot; id=&quot;remove&quot; value=&quot;&lt;-&quot;&gt;&lt;/input&gt;\r\n            &lt;br/&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;input type=&quot;button&quot; onclick=&quot;delAll();&quot; id=&quot;delete&quot; value=&quot;DEL&quot;&gt;&lt;/input&gt;\r\n    &lt;/table&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;script&gt;\r\n    function input(button){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value += button.value;\r\n    }\r\n    function remove(){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value = calculationValue.value.substring(0, calculationValue.value.length - 1);\r\n    }\r\n    function delAll(){\r\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\r\n        calculationValue.value = &quot;&quot;;\r\n    }\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n`\r\n\r\n\r\nI tried debugging with a breakpoint in the Controller, the &quot;if(errors.hasErrors())&quot; line. If the input matches the pattern, it returns zero errors and the compilation continues, but the interesting thing is if the input does not match the pattern, it doesn&#39;t reach the breakpoint - which has post mapping annotation, that means that something stops the compilation and throws 400 error before it reaches the part of the code where it must return a error message.","title":"Problem with form validation with Thymeleaf in Spring","body":"<p>I'm making a spring web calculator, that receives input in template named &quot;calculator&quot; , post-s it to the back-end, validates it, and if the input matches the pattern it calculates the result and shows it in another template named &quot;result&quot;\nThe problem is, if my input does not match the pattern, it must return a error message. For this purpose i used &quot;th:if&quot;. But instead, it throws 400 bad request error.\nThis is my code:\n<strong>Controller</strong>\n`</p>\n<pre><code>@Controller\npublic class CalculationController implements WebMvcConfigurer {\n    @GetMapping(&quot;/&quot;)\n    public String showForm(CalculatorForm calculatorForm) {\n\n        //model.addAttribute(&quot;calculatorForm&quot;, new CalculatorForm());\n        return &quot;calculator&quot;;\n    }\n    @PostMapping(&quot;/&quot;)\n    public String checkCalcValue(@Valid CalculatorForm calculatorForm, Model model, Errors errors) {\n        if(errors.hasErrors()){\n            return &quot;calculator&quot;;\n        }\n            CalculationService service = new CalculationService();\n            calculatorForm.setCalculationResult(service.calculate(calculatorForm.getCalculationValue()));\n            System.out.println(calculatorForm.getCalculationValue());\n            model.addAttribute(&quot;calculatorForm&quot;, calculatorForm);\n            return &quot;result&quot;;\n\n    }\n}\n</code></pre>\n<p><code>**Service**</code></p>\n<pre><code>public class CalculationService {\n    public double calculate(String toCalculate) {\n        ExpressionParser parser = new SpelExpressionParser();\n        Expression exp = parser.parseExpression(toCalculate);\n        Double result = exp.getValue(Double.class);\n        return result;\n    }\n}\n</code></pre>\n<p><code>**Model**</code></p>\n<pre><code>public class CalculatorForm {\n\n    @NotEmpty\n    @Pattern(regexp=&quot;([0-9]|[\\\\-+*/])+&quot;,message=&quot;only math expressions&quot;)\n    private String calculationValue;\n    private Double calculationResult;\n\n    public String getCalculationValue() {\n        return calculationValue;\n    }\n    public void setCalculationValue(String newCalculationValue){\n        calculationValue = newCalculationValue;\n    }\n    public void setCalculationResult(Double newCalculationResult){\n        calculationResult = newCalculationResult;\n    }\n    public Double getCalculationResult(){\n        return calculationResult;\n    }\n\n}\n</code></pre>\n<p><code>**Calculator template**</code></p>\n<pre><code>\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Your first Spring application&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;&lt;a href=&quot;/calculator&quot;&gt;Calculator&lt;/a&gt;&lt;/p&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${calculatorForm}&quot; method=&quot;post&quot;&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Calculator:&lt;/td&gt;\n            &lt;td&gt;&lt;input value=&quot;&quot; type=&quot;text&quot; th:field=&quot;*{calculationValue}&quot; name=&quot;calculationValue&quot; id=&quot;calculationValue&quot;/&gt;&lt;/td&gt;\n            &lt;td th:if=&quot;${#fields.hasErrors('calculationValue')}&quot; th:errors=&quot;*{calculationValue}&quot;&gt;Calculation Error&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonOne&quot; value=&quot;1&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonTwo&quot; value=&quot;2&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonThree&quot; value=&quot;3&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFour&quot; value=&quot;4&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFive&quot; value=&quot;5&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSix&quot; value=&quot;6&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSeven&quot; value=&quot;7&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonEight&quot; value=&quot;8&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonNine&quot; value=&quot;9&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonZero&quot; value=&quot;0&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonPlus&quot; value=&quot;+&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMinus&quot; value=&quot;-&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMultiply&quot; value=&quot;*&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonDivide&quot; value=&quot;/&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;remove();&quot; id=&quot;remove&quot; value=&quot;&lt;-&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;input type=&quot;button&quot; onclick=&quot;delAll();&quot; id=&quot;delete&quot; value=&quot;DEL&quot;&gt;&lt;/input&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n    function input(button){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value += button.value;\n    }\n    function remove(){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value = calculationValue.value.substring(0, calculationValue.value.length - 1);\n    }\n    function delAll(){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value = &quot;&quot;;\n    }\n\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><code>**Result template**</code></p>\n<pre><code>\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Your first Spring application&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;&lt;a href=&quot;/calculator&quot;&gt;Calculator&lt;/a&gt;&lt;/p&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot; th:object=&quot;${calculatorForm}&quot; method=&quot;post&quot;&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Calculator:&lt;/td&gt;\n            &lt;td&gt;&lt;input value=&quot;&quot; type=&quot;text&quot; th:field=&quot;*{calculationValue}&quot; name=&quot;calculationValue&quot; id=&quot;calculationValue&quot;/&gt;&lt;/td&gt;\n            &lt;td th:if=&quot;${#fields.hasErrors('calculationValue')}&quot; th:errors=&quot;*{calculationValue}&quot;&gt;Calculation Error&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonOne&quot; value=&quot;1&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonTwo&quot; value=&quot;2&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonThree&quot; value=&quot;3&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFour&quot; value=&quot;4&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonFive&quot; value=&quot;5&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSix&quot; value=&quot;6&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonSeven&quot; value=&quot;7&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonEight&quot; value=&quot;8&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonNine&quot; value=&quot;9&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonZero&quot; value=&quot;0&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonPlus&quot; value=&quot;+&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMinus&quot; value=&quot;-&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonMultiply&quot; value=&quot;*&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;input(this);&quot; id=&quot;buttonDivide&quot; value=&quot;/&quot;&gt;&lt;/input&gt;\n            &lt;input type=&quot;button&quot; onclick=&quot;remove();&quot; id=&quot;remove&quot; value=&quot;&lt;-&quot;&gt;&lt;/input&gt;\n            &lt;br/&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;input type=&quot;button&quot; onclick=&quot;delAll();&quot; id=&quot;delete&quot; value=&quot;DEL&quot;&gt;&lt;/input&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n    function input(button){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value += button.value;\n    }\n    function remove(){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value = calculationValue.value.substring(0, calculationValue.value.length - 1);\n    }\n    function delAll(){\n        let calculationValue = document.getElementById(&quot;calculationValue&quot;);\n        calculationValue.value = &quot;&quot;;\n    }\n\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>`</p>\n<p>I tried debugging with a breakpoint in the Controller, the &quot;if(errors.hasErrors())&quot; line. If the input matches the pattern, it returns zero errors and the compilation continues, but the interesting thing is if the input does not match the pattern, it doesn't reach the breakpoint - which has post mapping annotation, that means that something stops the compilation and throws 400 error before it reaches the part of the code where it must return a error message.</p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":2752172,"reputation":1235,"user_id":2371309,"display_name":"CodeIsLife"},"score":1,"creation_date":1548612887,"post_id":54391113,"comment_id":95594458,"body_markdown":"Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\nseems to be missing in your classpath,  try mvn clean install","body":"Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext seems to be missing in your classpath,  try mvn clean install"},{"owner":{"account_id":2752172,"reputation":1235,"user_id":2371309,"display_name":"CodeIsLife"},"score":0,"creation_date":1548613895,"post_id":54391113,"comment_id":95594785,"body_markdown":"i&#39;ve posted the anwser below","body":"i&#39;ve posted the anwser below"}],"answers":[{"comments":[{"owner":{"account_id":15059166,"reputation":13,"user_id":10868531,"display_name":"Svidic"},"score":0,"creation_date":1548614927,"post_id":54391383,"comment_id":95595146,"body_markdown":"Yes, I&#39;m using tomcat-9. Not sure what do you mean by &quot;you should excluded it from spring-boot-starter-web&quot;.  What should I exclude from here:  `&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;`","body":"Yes, I&#39;m using tomcat-9. Not sure what do you mean by &quot;you should excluded it from spring-boot-starter-web&quot;.  What should I exclude from here:  <code>&lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;&#47;artifactId&gt;         &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":15059166,"reputation":13,"user_id":10868531,"display_name":"Svidic"},"score":0,"creation_date":1548618626,"post_id":54391383,"comment_id":95596269,"body_markdown":"Does not work. As I have mentioned everything worked well before I changed `spring.datasource.username` and  `spring.datasource.password` in application.properties. I did not change the code or pom.xml. So I gues issue is somewhere in  application.properties.","body":"Does not work. As I have mentioned everything worked well before I changed <code>spring.datasource.username</code> and  <code>spring.datasource.password</code> in application.properties. I did not change the code or pom.xml. So I gues issue is somewhere in  application.properties."},{"owner":{"account_id":2752172,"reputation":1235,"user_id":2371309,"display_name":"CodeIsLife"},"score":0,"creation_date":1548620187,"post_id":54391383,"comment_id":95596676,"body_markdown":"the stack trace is not related to a configuration issue but rather a build issue, check your source control or local history to identify the changes","body":"the stack trace is not related to a configuration issue but rather a build issue, check your source control or local history to identify the changes"},{"owner":{"account_id":15059166,"reputation":13,"user_id":10868531,"display_name":"Svidic"},"score":0,"creation_date":1548623051,"post_id":54391383,"comment_id":95597411,"body_markdown":"The only changes after last successfull build (that was made today) are the values of top 2 lines in application.properties. After that something went wrong.","body":"The only changes after last successfull build (that was made today) are the values of top 2 lines in application.properties. After that something went wrong."},{"owner":{"account_id":15059166,"reputation":13,"user_id":10868531,"display_name":"Svidic"},"score":0,"creation_date":1548623977,"post_id":54391383,"comment_id":95597652,"body_markdown":"After backing up entire project from the local history it works again! @CodeIsLife thanks for your help!","body":"After backing up entire project from the local history it works again! @CodeIsLife thanks for your help!"}],"tags":[],"owner":{"account_id":2752172,"reputation":1235,"user_id":2371309,"display_name":"CodeIsLife"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548616473,"creation_date":1548613038,"answer_id":54391383,"question_id":54391113,"body_markdown":"the issue is that you have a provided dependency \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                ***&lt;scope&gt;provided&lt;/scope&gt;*** &lt;!--to be removed--&gt;\r\n            &lt;/dependency&gt;\r\n\r\nit&#39;s coming with             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\nno need to provided it unless you are using tomcat and in this case you should excluded it from    spring-boot-starter-web\r\n\r\n\r\n-- update \r\nif you are using tomcat so in this case you need to exclude the tomcat dependency packaged in spring-boot-starter-web as below \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;!--add this exclusion to your pom --&gt;\r\n        &lt;exclusions&gt;\r\n            **&lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;**\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n     &lt;/dependency&gt;","title":"Maven can not build spring boot app after properties file has been changed (Failed to parse configuration class)","body":"<p>the issue is that you have a provided dependency </p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            ***&lt;scope&gt;provided&lt;/scope&gt;*** &lt;!--to be removed--&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>it's coming with             spring-boot-starter-web\nno need to provided it unless you are using tomcat and in this case you should excluded it from    spring-boot-starter-web</p>\n\n<p>-- update \nif you are using tomcat so in this case you need to exclude the tomcat dependency packaged in spring-boot-starter-web as below </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;!--add this exclusion to your pom --&gt;\n    &lt;exclusions&gt;\n        **&lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;**\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15059166,"reputation":13,"user_id":10868531,"display_name":"Svidic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666814959,"creation_date":1548611463,"question_id":54391113,"body_markdown":"I&#39;m building a small web application using Spring Boot. And I get an error, after try running the application. \r\nIt worked well, but then I changed some values in properties file and now Maven fails to build the app. It fails running it with IntelliJ IDEA and with command line as well. I have searched a lot here, but couldn&#39;t find anything useful for my case... \r\n\r\nHere is the stack trace:\r\n\r\n    2019-01-27 18:10:57.773  INFO 2144 --- [           main] c.f.FriendlyFireChessApplication         : Starting FriendlyFireChessApplication on DESKTOP-PC4K83Q with PID 2144 (C:\\Users\\Svidic\\IdeaProjects\\friendly-fire-chess\\target\\classes started by Svidic in C:\\Users\\Svidic\\IdeaProjects\\friendly-fire-chess)\r\n    2019-01-27 18:10:57.781  INFO 2144 --- [           main] c.f.FriendlyFireChessApplication         : No active profile set, falling back to default profiles: default\r\n    2019-01-27 18:10:57.922  INFO 2144 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@21507a04: startup date [Sun Jan 27 18:10:57 EET 2019]; root of context hierarchy\r\n    2019-01-27 18:10:58.515  WARN 2144 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ffirechess.FriendlyFireChessApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\r\n    2019-01-27 18:10:58.536 ERROR 2144 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ffirechess.FriendlyFireChessApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:316) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:233) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:271) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:91) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat com.ffirechess.FriendlyFireChessApplication.main(FriendlyFireChessApplication.java:22) [classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\r\n    \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:169) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:393) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:318) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \t... 12 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_144]\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_144]\r\n    \tat java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_144]\r\n    \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:158) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_144]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_144]\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335) ~[na:1.8.0_144]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_144]\r\n    \t... 21 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.ffc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;friendly-fire-chess&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;friendly-fire-chess&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nproperty file, which has been changed: \r\n\r\n    spring.datasource.username=&#39;username&#39;\r\n    spring.datasource.password=&#39;Password,111&#39;\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/users\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    tokenSecret=1515sthsrtjmku\r\n    server.servlet.context-path=/friendly-fire-chess\r\n\r\n\r\n\r\nUPDATE: \r\nBacking up entire project from the local history to the last correct state solved the issue. But I still don&#39;t know what caused the failure of building the app.\r\n\r\nUPDATE 2:\r\nOk, I figured it out. It failed because there was no user in my local MySQL instance which would correspond to the values I&#39;ve provided in   application.properties. Once I created such user everything works fine.\r\n\r\nUPDATE 3:\r\nThe real reason was not in MySQL. The code and dependencies were right as well. The issue was in my run configuration. I have fixed it by adding &quot;spring-boot:run&quot; to Command line parameter of run configuration.\r\nHope it helps someone.","title":"Maven can not build spring boot app after properties file has been changed (Failed to parse configuration class)","body":"<p>I'm building a small web application using Spring Boot. And I get an error, after try running the application.\nIt worked well, but then I changed some values in properties file and now Maven fails to build the app. It fails running it with IntelliJ IDEA and with command line as well. I have searched a lot here, but couldn't find anything useful for my case...</p>\n<p>Here is the stack trace:</p>\n<pre><code>2019-01-27 18:10:57.773  INFO 2144 --- [           main] c.f.FriendlyFireChessApplication         : Starting FriendlyFireChessApplication on DESKTOP-PC4K83Q with PID 2144 (C:\\Users\\Svidic\\IdeaProjects\\friendly-fire-chess\\target\\classes started by Svidic in C:\\Users\\Svidic\\IdeaProjects\\friendly-fire-chess)\n2019-01-27 18:10:57.781  INFO 2144 --- [           main] c.f.FriendlyFireChessApplication         : No active profile set, falling back to default profiles: default\n2019-01-27 18:10:57.922  INFO 2144 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@21507a04: startup date [Sun Jan 27 18:10:57 EET 2019]; root of context hierarchy\n2019-01-27 18:10:58.515  WARN 2144 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ffirechess.FriendlyFireChessApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\n2019-01-27 18:10:58.536 ERROR 2144 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ffirechess.FriendlyFireChessApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:316) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:233) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:271) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:91) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:694) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at com.ffirechess.FriendlyFireChessApplication.main(FriendlyFireChessApplication.java:22) [classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.springframework.boot.web.servlet.support.SpringBootServletInitializer\n    at org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:169) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:393) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:318) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    ... 12 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at java.lang.Class.getDeclaredMethods0(Native Method) ~[na:1.8.0_144]\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701) ~[na:1.8.0_144]\n    at java.lang.Class.getDeclaredMethods(Class.java:1975) ~[na:1.8.0_144]\n    at org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:158) ~[spring-core-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    ... 17 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_144]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_144]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335) ~[na:1.8.0_144]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_144]\n    ... 21 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ffc&lt;/groupId&gt;\n    &lt;artifactId&gt;friendly-fire-chess&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;friendly-fire-chess&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>property file, which has been changed:</p>\n<pre><code>spring.datasource.username='username'\nspring.datasource.password='Password,111'\nspring.datasource.url=jdbc:mysql://localhost:3306/users\nspring.jpa.hibernate.ddl-auto=update\ntokenSecret=1515sthsrtjmku\nserver.servlet.context-path=/friendly-fire-chess\n</code></pre>\n<p>UPDATE:\nBacking up entire project from the local history to the last correct state solved the issue. But I still don't know what caused the failure of building the app.</p>\n<p>UPDATE 2:\nOk, I figured it out. It failed because there was no user in my local MySQL instance which would correspond to the values I've provided in   application.properties. Once I created such user everything works fine.</p>\n<p>UPDATE 3:\nThe real reason was not in MySQL. The code and dependencies were right as well. The issue was in my run configuration. I have fixed it by adding &quot;spring-boot:run&quot; to Command line parameter of run configuration.\nHope it helps someone.</p>\n"},{"tags":["java","while-loop","do-while"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1666813810,"post_id":74213471,"comment_id":131027498,"body_markdown":"You fogot to ask a question. Please [edit] the post and add a specific question.","body":"You fogot to ask a question. Please <a href=\"https://stackoverflow.com/posts/74213471/edit\">edit</a> the post and add a specific question."}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666814419,"creation_date":1666814419,"answer_id":74213611,"question_id":74213471,"body_markdown":"In your first `do-while` loop (where you print values `0` to `number`, you are decrementing the value of `number` until it hits `0`\r\n\r\nSo, your second `do-while` loop assumes the `number` in question is `0`\r\n\r\nPersonally, I would recommend keeping `number` untouched and using a second variable for your loops.\r\n\r\nRight after `int number = Scanner.nextInt();` just put a `int index = number;`\r\n\r\nIn your loops, use `index` instead of `number`. Right before the second loop, you should set `index = -number`\r\n\r\nThe `while` of that second loop should be `while(index &lt;= number)` and instead of printing `-number` just print `index`\r\n\r\n        Scanner myScanner=new Scanner(System.in);\r\n        int number=myScanner.nextInt();\r\n        int index = number;\r\n\r\n        if(index &lt;=0)\r\n        {\r\n            System.out.println();\r\n        }\r\n        else\r\n        {\r\n            do\r\n            {\r\n                System.out.print(index + &quot; &quot;);\r\n                index--;\r\n            }\r\n            while(index &gt;=1);\r\n            System.out.println();\r\n            \r\n        }\r\n\r\n        index = -number;\r\n\r\n        do\r\n        {\r\n            System.out.print(index + &quot; &quot;);\r\n            index++;\r\n        }\r\n        while(index &lt;= number);","title":"using a java while loop to make a line of numbers negative","body":"<p>In your first <code>do-while</code> loop (where you print values <code>0</code> to <code>number</code>, you are decrementing the value of <code>number</code> until it hits <code>0</code></p>\n<p>So, your second <code>do-while</code> loop assumes the <code>number</code> in question is <code>0</code></p>\n<p>Personally, I would recommend keeping <code>number</code> untouched and using a second variable for your loops.</p>\n<p>Right after <code>int number = Scanner.nextInt();</code> just put a <code>int index = number;</code></p>\n<p>In your loops, use <code>index</code> instead of <code>number</code>. Right before the second loop, you should set <code>index = -number</code></p>\n<p>The <code>while</code> of that second loop should be <code>while(index &lt;= number)</code> and instead of printing <code>-number</code> just print <code>index</code></p>\n<pre><code>    Scanner myScanner=new Scanner(System.in);\n    int number=myScanner.nextInt();\n    int index = number;\n\n    if(index &lt;=0)\n    {\n        System.out.println();\n    }\n    else\n    {\n        do\n        {\n            System.out.print(index + &quot; &quot;);\n            index--;\n        }\n        while(index &gt;=1);\n        System.out.println();\n        \n    }\n\n    index = -number;\n\n    do\n    {\n        System.out.print(index + &quot; &quot;);\n        index++;\n    }\n    while(index &lt;= number);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6296900,"reputation":13,"user_id":4892803,"display_name":"Allan Almeida"},"score":0,"creation_date":1666814943,"post_id":74213637,"comment_id":131027817,"body_markdown":"Also as @mmartinez said, use this second variable I called `aux` to keep the `number` untouched","body":"Also as @mmartinez said, use this second variable I called <code>aux</code> to keep the <code>number</code> untouched"}],"tags":[],"owner":{"account_id":6296900,"reputation":13,"user_id":4892803,"display_name":"Allan Almeida"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666814678,"creation_date":1666814678,"answer_id":74213637,"question_id":74213471,"body_markdown":"Problem is on the last line of your code.\r\n\r\n    while(-number&gt;=0)\r\n\r\nIf `number` is positive, `-number` is negative, so it will only run your loop once.\r\n\r\nTry this:\r\n\r\n    int aux = number;\r\n    do\r\n       {\r\n                System.out.print(-aux + &quot; &quot;);\r\n                aux++;\r\n            }\r\n            while(aux&lt;number);","title":"using a java while loop to make a line of numbers negative","body":"<p>Problem is on the last line of your code.</p>\n<pre><code>while(-number&gt;=0)\n</code></pre>\n<p>If <code>number</code> is positive, <code>-number</code> is negative, so it will only run your loop once.</p>\n<p>Try this:</p>\n<pre><code>int aux = number;\ndo\n   {\n            System.out.print(-aux + &quot; &quot;);\n            aux++;\n        }\n        while(aux&lt;number);\n</code></pre>\n"}],"owner":{"account_id":26613302,"reputation":1,"user_id":20233170,"display_name":"Mason Madaus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666814678,"creation_date":1666813633,"question_id":74213471,"body_markdown":"I have a school assignment that goes like this: Read the int variable number. Assume that number ≥ 0. Output the numbers from number to 1 in one line (or an empty line if no positive number to print). In the next line, output the numbers -number to number on one line. Use space in both lines to separate the numbers.\r\n\r\nI am not allowed to use any for loops and I am encouraged to use while loops. The output should be like this: [Output](https://i.stack.imgur.com/rMt3g.png](https://www.stackoverflow.com/))\r\n\r\n\r\nI have been really struggling with this for hours. Please help. Here is the code I have so far. The main thing I am struggling with is the 2nd line and it not reaching back up to the higher numbers.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Exercise \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner myScanner=new Scanner(System.in);\r\n        int number=myScanner.nextInt();\r\n        \r\n        if(number&lt;=0)\r\n        {\r\n            System.out.println();\r\n        }\r\n        else\r\n        {\r\n            do\r\n            {\r\n                System.out.print(number + &quot; &quot;);\r\n                number--;\r\n            }\r\n            while(number&gt;=1);\r\n            System.out.println();\r\n            \r\n        }\r\n        do\r\n        {\r\n            System.out.print(-number + &quot; &quot;);\r\n            number++;\r\n        }\r\n        while(-number&gt;=0);\r\n        \r\n    }\r\n}\r\n```\r\n\r\nThanks","title":"using a java while loop to make a line of numbers negative","body":"<p>I have a school assignment that goes like this: Read the int variable number. Assume that number ≥ 0. Output the numbers from number to 1 in one line (or an empty line if no positive number to print). In the next line, output the numbers -number to number on one line. Use space in both lines to separate the numbers.</p>\n<p>I am not allowed to use any for loops and I am encouraged to use while loops. The output should be like this: <a href=\"https://i.stack.imgur.com/rMt3g.png%5D(https://www.stackoverflow.com/)\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>I have been really struggling with this for hours. Please help. Here is the code I have so far. The main thing I am struggling with is the 2nd line and it not reaching back up to the higher numbers.</p>\n<pre><code>import java.util.Scanner;\npublic class Exercise \n{\n    public static void main(String[] args) \n    {\n        Scanner myScanner=new Scanner(System.in);\n        int number=myScanner.nextInt();\n        \n        if(number&lt;=0)\n        {\n            System.out.println();\n        }\n        else\n        {\n            do\n            {\n                System.out.print(number + &quot; &quot;);\n                number--;\n            }\n            while(number&gt;=1);\n            System.out.println();\n            \n        }\n        do\n        {\n            System.out.print(-number + &quot; &quot;);\n            number++;\n        }\n        while(-number&gt;=0);\n        \n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","exception","nullpointerexception"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1666808258,"post_id":74212295,"comment_id":131025755,"body_markdown":"Try `e.getSupressed()` on the off chance that underlying code is using try-with-resources.","body":"Try <code>e.getSupressed()</code> on the off chance that underlying code is using try-with-resources."}],"owner":{"account_id":2681065,"reputation":55,"user_id":2316454,"accept_rate":0,"display_name":"mstabosz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666825471,"answer_count":0,"score":1,"last_activity_date":1666813922,"creation_date":1666807439,"question_id":74212295,"body_markdown":"So I have this code.\r\n\r\n    try{\r\n\t    //83 lines of stuff\r\n    } catch(Exception e){\r\n\t    logger.writeLogError(&quot;*********FAILURE BEGIN*********\\n&quot;);\r\n\t     // Need to catch top level Exception here.  If an exception is thrown but not caught,\r\n\t// the notification will not write to the database or be sent to the user.\r\n\t// This would be extremely difficult to troubleshoot.\r\n\t    e.printStackTrace();\r\n\t    logger.writeLogError(&quot;*********FAILURE END*********\\n&quot;);\r\n    }\r\n\r\nwhich seems to be sometimes outputting this for some reason:\r\n\r\n    ERROR [com.place.obfuscation.Class] (WorkerThread#39[192.168.136.172:55767]) *********FAILURE BEGIN*********\r\n    ERROR [STDERR] (WorkerThread#39[192.168.136.172:55767]) java.lang.NullPointerException\r\n    ERROR com.place.obfuscation.Class] (WorkerThread#39[192.168.136.172:55767]) *********FAILURE END*********\r\n\r\nWhy is the stack trace buried?  Shouldn&#39;t there be more to it than that?","title":"Java stack trace swallowed up by something","body":"<p>So I have this code.</p>\n<pre><code>try{\n    //83 lines of stuff\n} catch(Exception e){\n    logger.writeLogError(&quot;*********FAILURE BEGIN*********\\n&quot;);\n     // Need to catch top level Exception here.  If an exception is thrown but not caught,\n// the notification will not write to the database or be sent to the user.\n// This would be extremely difficult to troubleshoot.\n    e.printStackTrace();\n    logger.writeLogError(&quot;*********FAILURE END*********\\n&quot;);\n}\n</code></pre>\n<p>which seems to be sometimes outputting this for some reason:</p>\n<pre><code>ERROR [com.place.obfuscation.Class] (WorkerThread#39[192.168.136.172:55767]) *********FAILURE BEGIN*********\nERROR [STDERR] (WorkerThread#39[192.168.136.172:55767]) java.lang.NullPointerException\nERROR com.place.obfuscation.Class] (WorkerThread#39[192.168.136.172:55767]) *********FAILURE END*********\n</code></pre>\n<p>Why is the stack trace buried?  Shouldn't there be more to it than that?</p>\n"},{"tags":["java","json","tree","jolt"],"answers":[{"comments":[{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1666868085,"post_id":74213488,"comment_id":131039518,"body_markdown":"thanks a lot! if I want to get an array only with the list of one property from the each item? for example: in the case above list with the foo item from all the levels, what should I add?","body":"thanks a lot! if I want to get an array only with the list of one property from the each item? for example: in the case above list with the foo item from all the levels, what should I add?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1666890894,"post_id":74213488,"comment_id":131047895,"body_markdown":"you&#39;re welcome @Michal excuse me but I couldn&#39;t understand what you want to get in this last case. Can you convert it to a question with an expected output ..?","body":"you&#39;re welcome @Michal excuse me but I couldn&#39;t understand what you want to get in this last case. Can you convert it to a question with an expected output ..?"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":1,"creation_date":1667074280,"post_id":74213488,"comment_id":131086276,"body_markdown":"Sure, I open a new Q because the jsons are so long: https://stackoverflow.com/questions/74248481/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing. Thanks ahead!","body":"Sure, I open a new Q because the jsons are so long: <a href=\"https://stackoverflow.com/questions/74248481/jolt-shift-transformation-collect-the-items-from-all-the-levels-without-knowing\" title=\"jolt shift transformation collect the items from all the levels without knowing\">stackoverflow.com/questions/74248481/&hellip;</a>. Thanks ahead!"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666813737,"creation_date":1666813737,"answer_id":74213488,"question_id":74207632,"body_markdown":"Apparently grouping by id values at each node needed such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;@(1,id).&amp;&quot;,\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: &quot;@(1,id).&amp;&quot;,\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;*&quot;: &quot;@(1,id).&amp;&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n   // get rid of object labels\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"JOLT shift transformation: collect all the items from all the levels without knowing how many levels when there are multiple properties","body":"<p>Apparently grouping by id values at each node needed such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;@(1,id).&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;*&quot;: &quot;@(1,id).&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;*&quot;: &quot;@(1,id).&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n   // get rid of object labels\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&quot;\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74213488,"answer_count":1,"score":1,"last_activity_date":1666813737,"creation_date":1666786628,"question_id":74207632,"body_markdown":"I am trying to transform a JSON using Jolt transformation looking for some input here.\r\nI am trying to get all the items from all the levels into an one array.\r\n**My goal is to get an array that contains all the items without knowing how many levels I have in the json.**\r\n\r\nHere is my input and expected output:\r\n\r\n*Input*:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;item&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1_1&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_1_2&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ff&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;1_2&quot;,\r\n      &quot;item&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1_2_1&quot;,\r\n          &quot;foo&quot;: [\r\n            {\r\n              &quot;nn&quot;: &quot;cc&quot;,\r\n              &quot;vvv&quot;: &quot;ww&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ss&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;ii&quot;,\r\n              &quot;vvv&quot;: &quot;rr&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;uu&quot;,\r\n              &quot;vvv&quot;: &quot;kk&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;aaa&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n              &quot;vvv&quot;: &quot;tt&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            },\r\n            {\r\n              &quot;nn&quot;: &quot;pp&quot;,\r\n              &quot;vvv&quot;: &quot;yy&quot;,\r\n              &quot;mmm&quot;: &quot;oo&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;foo&quot;: [\r\n        {\r\n          &quot;nn&quot;: &quot;cc&quot;,\r\n          &quot;vvv&quot;: &quot;ww&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ss&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;ii&quot;,\r\n          &quot;vvv&quot;: &quot;rr&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;uu&quot;,\r\n          &quot;vvv&quot;: &quot;kk&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;aaa&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;bb&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;d&quot;,\r\n          &quot;vvv&quot;: &quot;tt&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        },\r\n        {\r\n          &quot;nn&quot;: &quot;pp&quot;,\r\n          &quot;vvv&quot;: &quot;yy&quot;,\r\n          &quot;mmm&quot;: &quot;oo&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n*Expected output*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;1_1&quot;,\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;1_1_2&quot;,\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ff&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;1_2&quot;,\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;d&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;1_2_1&quot;,\r\n    &quot;foo&quot;: [\r\n      {\r\n        &quot;nn&quot;: &quot;cc&quot;,\r\n        &quot;vvv&quot;: &quot;ww&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ss&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;ii&quot;,\r\n        &quot;vvv&quot;: &quot;rr&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;uu&quot;,\r\n        &quot;vvv&quot;: &quot;kk&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;aaa&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n        &quot;vvv&quot;: &quot;tt&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      },\r\n      {\r\n        &quot;nn&quot;: &quot;pp&quot;,\r\n        &quot;vvv&quot;: &quot;yy&quot;,\r\n        &quot;mmm&quot;: &quot;oo&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\n*My jolt spec*:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;item&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;&amp;&quot;,\r\n          &quot;item&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;*&quot;: &quot;&amp;&quot;,\r\n              &quot;item&quot;: {\r\n                &quot;*&quot;: {\r\n                  &quot;*&quot;: &quot;&amp;&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n*Results*:\r\n\r\n```json\r\n[ {\r\n  &quot;id&quot; : &quot;1_1&quot;,\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;cc&quot;,\r\n    &quot;vvv&quot; : &quot;2022-08-30T06:44:24.943Z&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;id&quot; : &quot;1_1_2&quot;,\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;ss&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;id&quot; : &quot;1_2&quot;,\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;ii&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;id&quot; : &quot;1_2_1&quot;,\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;uu&quot;,\r\n    &quot;vvv&quot; : &quot;kk&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;aaa&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;bb&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;ff&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;ff&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;yy&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }\r\n}, {\r\n  &quot;foo&quot; : [ {\r\n    &quot;nn&quot; : &quot;cc&quot;,\r\n    &quot;vvv&quot; : &quot;ww&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ss&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ii&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;uu&quot;,\r\n    &quot;vvv&quot; : &quot;kk&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;aaa&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;bb&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;d&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;yy&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  } ]\r\n}, {\r\n  &quot;foo&quot; : [ {\r\n    &quot;nn&quot; : &quot;cc&quot;,\r\n    &quot;vvv&quot; : &quot;ww&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ss&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ii&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;uu&quot;,\r\n    &quot;vvv&quot; : &quot;kk&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;aaa&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;bb&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;yy&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  } ]\r\n}, {\r\n  &quot;foo&quot; : [ {\r\n    &quot;nn&quot; : &quot;cc&quot;,\r\n    &quot;vvv&quot; : &quot;ww&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ss&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;ii&quot;,\r\n    &quot;vvv&quot; : &quot;rr&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;uu&quot;,\r\n    &quot;vvv&quot; : &quot;kk&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;aaa&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;bb&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;d&quot;,\r\n    &quot;vvv&quot; : &quot;tt&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  }, {\r\n    &quot;nn&quot; : &quot;pp&quot;,\r\n    &quot;vvv&quot; : &quot;yy&quot;,\r\n    &quot;mmm&quot; : &quot;oo&quot;\r\n  } ]\r\n} ]\r\n\r\n```\r\n[![only the 4 first items contains id and foo but not all their foo value only one][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LO5Q0.png\r\n\r\nOnly the 4 first items contains id and foo, but not all their foo value only one.\r\n\r\nCan you please told me how to do it right?","title":"JOLT shift transformation: collect all the items from all the levels without knowing how many levels when there are multiple properties","body":"<p>I am trying to transform a JSON using Jolt transformation looking for some input here.\nI am trying to get all the items from all the levels into an one array.\n<strong>My goal is to get an array that contains all the items without knowing how many levels I have in the json.</strong></p>\n<p>Here is my input and expected output:</p>\n<p><em>Input</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 1,\n  &quot;item&quot;: [\n    {\n      &quot;id&quot;: &quot;1_1&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_1_2&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ff&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    },\n    {\n      &quot;id&quot;: &quot;1_2&quot;,\n      &quot;item&quot;: [\n        {\n          &quot;id&quot;: &quot;1_2_1&quot;,\n          &quot;foo&quot;: [\n            {\n              &quot;nn&quot;: &quot;cc&quot;,\n              &quot;vvv&quot;: &quot;ww&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ss&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;ii&quot;,\n              &quot;vvv&quot;: &quot;rr&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;uu&quot;,\n              &quot;vvv&quot;: &quot;kk&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;aaa&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n              &quot;vvv&quot;: &quot;tt&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            },\n            {\n              &quot;nn&quot;: &quot;pp&quot;,\n              &quot;vvv&quot;: &quot;yy&quot;,\n              &quot;mmm&quot;: &quot;oo&quot;\n            }\n          ]\n        }\n      ],\n      &quot;foo&quot;: [\n        {\n          &quot;nn&quot;: &quot;cc&quot;,\n          &quot;vvv&quot;: &quot;ww&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ss&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;ii&quot;,\n          &quot;vvv&quot;: &quot;rr&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;uu&quot;,\n          &quot;vvv&quot;: &quot;kk&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;aaa&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;bb&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;d&quot;,\n          &quot;vvv&quot;: &quot;tt&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        },\n        {\n          &quot;nn&quot;: &quot;pp&quot;,\n          &quot;vvv&quot;: &quot;yy&quot;,\n          &quot;mmm&quot;: &quot;oo&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><em>Expected output</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;1_1&quot;,\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: &quot;1_1_2&quot;,\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;2022-08-30T06:44:24.943Z&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ff&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: &quot;1_2&quot;,\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;d&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: &quot;1_2_1&quot;,\n    &quot;foo&quot;: [\n      {\n        &quot;nn&quot;: &quot;cc&quot;,\n        &quot;vvv&quot;: &quot;ww&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ss&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;ii&quot;,\n        &quot;vvv&quot;: &quot;rr&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;uu&quot;,\n        &quot;vvv&quot;: &quot;kk&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;aaa&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n        &quot;vvv&quot;: &quot;tt&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      },\n      {\n        &quot;nn&quot;: &quot;pp&quot;,\n        &quot;vvv&quot;: &quot;yy&quot;,\n        &quot;mmm&quot;: &quot;oo&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p><em>My jolt spec</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;item&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;&amp;&quot;,\n          &quot;item&quot;: {\n            &quot;*&quot;: {\n              &quot;*&quot;: &quot;&amp;&quot;,\n              &quot;item&quot;: {\n                &quot;*&quot;: {\n                  &quot;*&quot;: &quot;&amp;&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;[#1].&amp;1&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p><em>Results</em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[ {\n  &quot;id&quot; : &quot;1_1&quot;,\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;cc&quot;,\n    &quot;vvv&quot; : &quot;2022-08-30T06:44:24.943Z&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;1_1_2&quot;,\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;ss&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;1_2&quot;,\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;ii&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;id&quot; : &quot;1_2_1&quot;,\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;uu&quot;,\n    &quot;vvv&quot; : &quot;kk&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;aaa&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;bb&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;ff&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;ff&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;yy&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }\n}, {\n  &quot;foo&quot; : [ {\n    &quot;nn&quot; : &quot;cc&quot;,\n    &quot;vvv&quot; : &quot;ww&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ss&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ii&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;uu&quot;,\n    &quot;vvv&quot; : &quot;kk&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;aaa&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;bb&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;d&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;yy&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  } ]\n}, {\n  &quot;foo&quot; : [ {\n    &quot;nn&quot; : &quot;cc&quot;,\n    &quot;vvv&quot; : &quot;ww&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ss&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ii&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;uu&quot;,\n    &quot;vvv&quot; : &quot;kk&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;aaa&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;bb&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;bb_ee4d6bf4-1081-468a-b7b1-5445333dfab2&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;yy&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  } ]\n}, {\n  &quot;foo&quot; : [ {\n    &quot;nn&quot; : &quot;cc&quot;,\n    &quot;vvv&quot; : &quot;ww&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ss&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;ii&quot;,\n    &quot;vvv&quot; : &quot;rr&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;uu&quot;,\n    &quot;vvv&quot; : &quot;kk&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;aaa&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;bb&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;d&quot;,\n    &quot;vvv&quot; : &quot;tt&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  }, {\n    &quot;nn&quot; : &quot;pp&quot;,\n    &quot;vvv&quot; : &quot;yy&quot;,\n    &quot;mmm&quot; : &quot;oo&quot;\n  } ]\n} ]\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LO5Q0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LO5Q0.png\" alt=\"only the 4 first items contains id and foo but not all their foo value only one\" /></a></p>\n<p>Only the 4 first items contains id and foo, but not all their foo value only one.</p>\n<p>Can you please told me how to do it right?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666511051,"post_id":74169432,"comment_id":130951014,"body_markdown":"Please don&#39;t post images of code.","body":"Please don&#39;t post images of code."},{"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"score":0,"creation_date":1666511209,"post_id":74169432,"comment_id":130951033,"body_markdown":"@tgdavies I am doing such a well informed post and put so much effort into detailing everything , and you pick on my screenshots , why ? they look better than using ``` for adding the code.","body":"@tgdavies I am doing such a well informed post and put so much effort into detailing everything , and you pick on my screenshots , why ? they look better than using ``` for adding the code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666511359,"post_id":74169432,"comment_id":130951051,"body_markdown":"See https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"score":0,"creation_date":1666511543,"post_id":74169432,"comment_id":130951074,"body_markdown":"@tgdavies well ok, I will replace the image with the actual code, in the case of the controller. But for mysql i can&#39;t do that. If you gave me -1 for that please reverse it after I modify the post","body":"@tgdavies well ok, I will replace the image with the actual code, in the case of the controller. But for mysql i can&#39;t do that. If you gave me -1 for that please reverse it after I modify the post"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":3,"creation_date":1666540164,"post_id":74169432,"comment_id":130956326,"body_markdown":"@helloApp, to update an existing object  (rather than insert a new record) you always have to fetch it from your database. This means that e.g. whatever data you&#39;re getting from the front end (e.g product id etc), use that information only to fetch the matching database records and do whatever changes you want on those records. The save method can then be used to update the records in question","body":"@helloApp, to update an existing object  (rather than insert a new record) you always have to fetch it from your database. This means that e.g. whatever data you&#39;re getting from the front end (e.g product id etc), use that information only to fetch the matching database records and do whatever changes you want on those records. The save method can then be used to update the records in question"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1666620047,"post_id":74169432,"comment_id":130973842,"body_markdown":"What is in the cartItemList exactly for CartItem? Does the &#39;duplicate&#39; have its ID already set, or are you passing in the same blank without the ID set that you might have passed in before, passing it through userService.saveNewUser? Make sure that if you are going to reuse instances, they are the managed instances - &#39;save&#39; in spring returns the managed instance which should have all IDs set. Otherwise, if it doesn&#39;t have an ID, it must be assumed to be new and inserted. Why it doesn&#39;t replace the existing one.. more info would be needed; show what is in the saved entity&#39;s list after each pass","body":"What is in the cartItemList exactly for CartItem? Does the &#39;duplicate&#39; have its ID already set, or are you passing in the same blank without the ID set that you might have passed in before, passing it through userService.saveNewUser? Make sure that if you are going to reuse instances, they are the managed instances - &#39;save&#39; in spring returns the managed instance which should have all IDs set. Otherwise, if it doesn&#39;t have an ID, it must be assumed to be new and inserted. Why it doesn&#39;t replace the existing one.. more info would be needed; show what is in the saved entity&#39;s list after each pass"},{"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"score":0,"creation_date":1666733164,"post_id":74169432,"comment_id":131005523,"body_markdown":"@Chris yes , before saving i pass the id of the parent to each object. I managed to make it work. It was a bidirectional relationship issue. I will pots my solution.","body":"@Chris yes , before saving i pass the id of the parent to each object. I managed to make it work. It was a bidirectional relationship issue. I will pots my solution."}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1666734447,"post_id":74200438,"comment_id":131005830,"body_markdown":"There were no actual duplicates being added which is what confused me in your problem description; you are just replacing a list and expecting the now non-referenced elements from the list to be somehow handled. This answer though is only half of the solution, isn&#39;t it? You have to actually call these remove methods for the de-referenced cartItem (child) elements of the list - you can&#39;t just replace it with a new one.","body":"There were no actual duplicates being added which is what confused me in your problem description; you are just replacing a list and expecting the now non-referenced elements from the list to be somehow handled. This answer though is only half of the solution, isn&#39;t it? You have to actually call these remove methods for the de-referenced cartItem (child) elements of the list - you can&#39;t just replace it with a new one."},{"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"score":0,"creation_date":1666736695,"post_id":74200438,"comment_id":131006282,"body_markdown":"@Chris yes there where not duplicates, instead it was inserting new data containing the new elements over the old data. so that is why when I was adding lets say 1 to the cart it was inserting 1 in the DB, but then besides 1 I would also add another product with id 2, so now the set from the frontend was containing 1 and 2, so it was adding 1 and 2 over the first 1 in the database, and so on. Yes this is half the solution methods have to be called aswell. I have added my whole solution to the post now with method calling included.","body":"@Chris yes there where not duplicates, instead it was inserting new data containing the new elements over the old data. so that is why when I was adding lets say 1 to the cart it was inserting 1 in the DB, but then besides 1 I would also add another product with id 2, so now the set from the frontend was containing 1 and 2, so it was adding 1 and 2 over the first 1 in the database, and so on. Yes this is half the solution methods have to be called aswell. I have added my whole solution to the post now with method calling included."}],"tags":[],"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666813657,"creation_date":1666733631,"answer_id":74200438,"question_id":74169432,"body_markdown":"I managed to make it work. The solution is the following.\r\n\r\nThis is a bidirectional one-to-many / many-to-one issue. In order to be able to remove child elements from the parent, we need to decouple(detach) them from the parent. Since parent and child are bound together by a foreign key the detachment has to be done on both ends. If one has a reference to the other this will not work so BOTH REFERENCES have to be removed. 2 methods are needed and both need to be called when doing decoupling. This is what I used.\r\n\r\n```\r\nprivate Set&lt;CartProduct&gt; cartProduct;\r\n```\r\n\r\nThis one to be added in the parent class (User).\r\n\r\n\r\n```\r\n public void removeChild(CartProduct child) {\r\n        this.cartProduct.remove(child);\r\n    }\r\n```\r\nThis one to be added in the Child class\r\n```\r\n  public void removeParent() {\r\n        this.user.removeChild(this);\r\n        this.user = null;\r\n    }\r\n```\r\nMethods also have to be called like this \r\n```\r\n   for(CartProduct cartItem : cartItemList){\r\n                cartItem.removeParent();\r\n                logedInUser.removeChild(cartItem);\r\n            }\r\n```\r\n\r\nL.E\r\n\r\nIt may be that with the above implementation you will get a \r\n```\r\njava.util.ConcurrentModificationException: null\r\n```\r\nit happen to me in one of the cases too. In order to fix this I used an Iterator like below.\r\n```\r\nfor (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\r\n                CartProduct cartItem = iterator.next();\r\n                if (cartItem != null) {  \r\n                    iterator.remove();\r\n                }\r\n            }\r\n```","title":"Bidirectional Entities - Overwriting an object in database and hibernate is doing insert instead of update","body":"<p>I managed to make it work. The solution is the following.</p>\n<p>This is a bidirectional one-to-many / many-to-one issue. In order to be able to remove child elements from the parent, we need to decouple(detach) them from the parent. Since parent and child are bound together by a foreign key the detachment has to be done on both ends. If one has a reference to the other this will not work so BOTH REFERENCES have to be removed. 2 methods are needed and both need to be called when doing decoupling. This is what I used.</p>\n<pre><code>private Set&lt;CartProduct&gt; cartProduct;\n</code></pre>\n<p>This one to be added in the parent class (User).</p>\n<pre><code> public void removeChild(CartProduct child) {\n        this.cartProduct.remove(child);\n    }\n</code></pre>\n<p>This one to be added in the Child class</p>\n<pre><code>  public void removeParent() {\n        this.user.removeChild(this);\n        this.user = null;\n    }\n</code></pre>\n<p>Methods also have to be called like this</p>\n<pre><code>   for(CartProduct cartItem : cartItemList){\n                cartItem.removeParent();\n                logedInUser.removeChild(cartItem);\n            }\n</code></pre>\n<p>L.E</p>\n<p>It may be that with the above implementation you will get a</p>\n<pre><code>java.util.ConcurrentModificationException: null\n</code></pre>\n<p>it happen to me in one of the cases too. In order to fix this I used an Iterator like below.</p>\n<pre><code>for (Iterator&lt;CartProduct&gt; iterator = cartItemList.iterator(); iterator.hasNext();) {\n                CartProduct cartItem = iterator.next();\n                if (cartItem != null) {  \n                    iterator.remove();\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":16894991,"reputation":449,"user_id":12217736,"display_name":"helloApp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74200438,"answer_count":1,"score":0,"last_activity_date":1666813657,"creation_date":1666511014,"question_id":74169432,"body_markdown":"I have an issue when trying to update the contents of a cart with new values added one by one. I am using Spring boot with Hibernate, JPA Repositories, MySQL Database and a front-end built with vanilla JS.I will describe my issue in the following lines.\r\n\r\nI am having an user entity that looks like this:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n\r\n\r\n    @Column(name = &quot;cartprod_id&quot;)\r\n    @OneToMany(cascade = {CascadeType.ALL})\r\n    private List&lt;CartItem&gt; cartProduct;\r\n```\r\n\r\nThis entity has a `List&lt;CartItem&gt;` field that looks like this:\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class CartItem {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name = &quot;product_id&quot;)\r\n    private int productId;\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    private User user;\r\n}\r\n```\r\nAnd the relationship between them in the Database looks like in this image:\r\n[![enter image description here][1]][1]\r\n\r\nThe idea of the above code is to have a way to keep the state of the products Cart of an user.\r\n\r\n**The flow is as follows** :\r\n\r\nI am doing a request from the front-end each time a user adds a product in the cart, when this happens, I am saving the contents of the cart(that consist of only the products ID&#39;s) in the database using the CartItem entity.\r\n\r\n**The problem**\r\n\r\nWith this approach, instead of saving only the last product added to the cart(or replace the cart completely with the new values similar to an update), it is inserting the same object over and over again but with all the new appended values instead of overwriting the old object(table) in the database. An example of this would be in this first image . As you can see I have added a product to the cart with id 327 first.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNext I am adding a product with id 328 but it also adds 327 a second time, this goes on and on, the more products I add. This last code snippet contains my controller code .\r\n\r\n```\r\n @PostMapping(&quot;/savecart&quot;)\r\n    public ResponseEntity&lt;String&gt; saveCartToDb(@RequestBody List&lt;CartItem&gt; cartItemList, Principal principal){\r\n        System.out.println(cartItemList);\r\n        User logedInUser = userService.findUserByUsername(principal.getName()).get();\r\n\r\n        List&lt;CartItem&gt; cartItem = logedInUser.getCartProduct();\r\n        if(cartItem.isEmpty()){\r\n            logedInUser.setCartProduct(cartItemList);\r\n            userService.saveNewUser(logedInUser);\r\n        }else {\r\n            cartItem = cartItemList;\r\n            logedInUser.setCartProduct(cartItem);\r\n            userService.saveNewUser(logedInUser);\r\n        }\r\n//        userService.saveNewUser(logedInUser);\r\n        return ResponseEntity.ok().body(&quot;ASD&quot;);\r\n    }\r\n```\r\n\r\n\r\nHow can I overwrite the contents of the `List&lt;CartItems&gt;` for the user so that I will not append new and old values again and again ? Would a SET help as it won&#39;t allow duplicates ?\r\n\r\nI have also tried this https://stackoverflow.com/questions/11881479/how-do-i-update-an-entity-using-spring-data-jpa but I a not sure that I need to create a @Query for this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2K2Kz.png\r\n  [2]: https://i.stack.imgur.com/xKK6O.png","title":"Bidirectional Entities - Overwriting an object in database and hibernate is doing insert instead of update","body":"<p>I have an issue when trying to update the contents of a cart with new values added one by one. I am using Spring boot with Hibernate, JPA Repositories, MySQL Database and a front-end built with vanilla JS.I will describe my issue in the following lines.</p>\n<p>I am having an user entity that looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Getter\n@Setter\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String username;\n\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n\n\n    @Column(name = &quot;cartprod_id&quot;)\n    @OneToMany(cascade = {CascadeType.ALL})\n    private List&lt;CartItem&gt; cartProduct;\n</code></pre>\n<p>This entity has a <code>List&lt;CartItem&gt;</code> field that looks like this:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class CartItem {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n    @JsonIgnore\n    @ManyToOne\n    private User user;\n}\n</code></pre>\n<p>And the relationship between them in the Database looks like in this image:\n<a href=\"https://i.stack.imgur.com/2K2Kz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2K2Kz.png\" alt=\"enter image description here\" /></a></p>\n<p>The idea of the above code is to have a way to keep the state of the products Cart of an user.</p>\n<p><strong>The flow is as follows</strong> :</p>\n<p>I am doing a request from the front-end each time a user adds a product in the cart, when this happens, I am saving the contents of the cart(that consist of only the products ID's) in the database using the CartItem entity.</p>\n<p><strong>The problem</strong></p>\n<p>With this approach, instead of saving only the last product added to the cart(or replace the cart completely with the new values similar to an update), it is inserting the same object over and over again but with all the new appended values instead of overwriting the old object(table) in the database. An example of this would be in this first image . As you can see I have added a product to the cart with id 327 first.</p>\n<p><a href=\"https://i.stack.imgur.com/xKK6O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKK6O.png\" alt=\"enter image description here\" /></a></p>\n<p>Next I am adding a product with id 328 but it also adds 327 a second time, this goes on and on, the more products I add. This last code snippet contains my controller code .</p>\n<pre><code> @PostMapping(&quot;/savecart&quot;)\n    public ResponseEntity&lt;String&gt; saveCartToDb(@RequestBody List&lt;CartItem&gt; cartItemList, Principal principal){\n        System.out.println(cartItemList);\n        User logedInUser = userService.findUserByUsername(principal.getName()).get();\n\n        List&lt;CartItem&gt; cartItem = logedInUser.getCartProduct();\n        if(cartItem.isEmpty()){\n            logedInUser.setCartProduct(cartItemList);\n            userService.saveNewUser(logedInUser);\n        }else {\n            cartItem = cartItemList;\n            logedInUser.setCartProduct(cartItem);\n            userService.saveNewUser(logedInUser);\n        }\n//        userService.saveNewUser(logedInUser);\n        return ResponseEntity.ok().body(&quot;ASD&quot;);\n    }\n</code></pre>\n<p>How can I overwrite the contents of the <code>List&lt;CartItems&gt;</code> for the user so that I will not append new and old values again and again ? Would a SET help as it won't allow duplicates ?</p>\n<p>I have also tried this <a href=\"https://stackoverflow.com/questions/11881479/how-do-i-update-an-entity-using-spring-data-jpa\">How do I update an entity using spring-data-jpa?</a> but I a not sure that I need to create a @Query for this issue.</p>\n"},{"tags":["java","arrays","parallel-processing","java-8","java-stream"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":4,"creation_date":1480685527,"post_id":40933362,"comment_id":69077728,"body_markdown":"`Arrays.stream(array).parallel()`? I suppose you could have `StreamSupport.stream(Arrays.spliterator(array), true)` as well, but why make it complicated?","body":"<code>Arrays.stream(array).parallel()</code>? I suppose you could have <code>StreamSupport.stream(Arrays.spliterator(array), true)</code> as well, but why make it complicated?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1480685551,"post_id":40933362,"comment_id":69077742,"body_markdown":"Each stream can be converted to parallel via `parallel()` method. So you could simply use `Stream.of(elements).parallel()`.","body":"Each stream can be converted to parallel via <code>parallel()</code> method. So you could simply use <code>Stream.of(elements).parallel()</code>."}],"answers":[{"comments":[{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":1,"creation_date":1608839429,"post_id":40933409,"comment_id":115699840,"body_markdown":"Interestingly, I added this to one of my programs and it brought the runtime from 13ms to 90ms. This was on leetcode, I&#39;m guessing a lot of their test cases are of a smaller size where parallelization brings in more overhead than actually speeding anything up - https://i.imgur.com/sHc8lLG.png","body":"Interestingly, I added this to one of my programs and it brought the runtime from 13ms to 90ms. This was on leetcode, I&#39;m guessing a lot of their test cases are of a smaller size where parallelization brings in more overhead than actually speeding anything up - <a href=\"https://i.imgur.com/sHc8lLG.png\" rel=\"nofollow noreferrer\">i.imgur.com/sHc8lLG.png</a>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1608841782,"post_id":40933409,"comment_id":115700349,"body_markdown":"@Siddhartha parallel does not imply faster, yes.","body":"@Siddhartha parallel does not imply faster, yes."},{"owner":{"account_id":13507104,"reputation":53,"user_id":11625453,"display_name":"Akash Dubey"},"score":0,"creation_date":1672649963,"post_id":40933409,"comment_id":132318503,"body_markdown":"leetcode adds runtime for every concurrent thread so it will always be slower even if the program finished faster than single thread.","body":"leetcode adds runtime for every concurrent thread so it will always be slower even if the program finished faster than single thread."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":3,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1666811903,"creation_date":1480685525,"answer_id":40933409,"question_id":40933362,"body_markdown":"```java\r\nStream.of(array).parallel() \r\n```\r\n\r\nor\r\n\r\n```java\r\nArrays.stream(array).parallel()\r\n```","title":"How can I create a parallel stream from an array?","body":"<pre class=\"lang-java prettyprint-override\"><code>Stream.of(array).parallel() \n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.stream(array).parallel()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570132103,"creation_date":1570132103,"answer_id":58225980,"question_id":40933362,"body_markdown":"**TLDR;**\r\n\r\nAny sequential `Stream` can be converted into a parallel one by calling `.parallel()` on it. So all you need is:\r\n\r\n1. Create a stream\r\n2. Invoke method `parallel()` on it.\r\n\r\n**Long answer**\r\n\r\nThe question is pretty old, but I believe some additional explanation will make the things much clearer.\r\n\r\nAll implementations of Java streams implement interface `BaseStream`. Which as per JavaDoc is:\r\n\r\n&gt; Base interface for streams, which are sequences of elements supporting sequential and parallel aggregate operations.\r\n\r\nFrom API&#39;s point of view there is no difference between sequential and parallel streams. They share the same aggregate operations. \r\n\r\nIn order do distinguish between sequential and parallel streams the aggregate methods call `BaseStream::isParallel` method. \r\n\r\nLet&#39;s explore the implementation of `isParallel` method in `AbstractPipeline`:\r\n\r\n    @Override\r\n    public final boolean isParallel() {\r\n        return sourceStage.parallel;\r\n    }\r\n\r\nAs you see, the only thing `isParallel` does is checking the boolean flag in source stage:\r\n\r\n    /**\r\n     * True if pipeline is parallel, otherwise the pipeline is sequential; only\r\n     * valid for the source stage.\r\n     */\r\n    private boolean parallel; \r\n\r\nSo what does the `parallel()` method do then? How does it turn a *sequential* stream into a *parallel* one?\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public final S parallel() {\r\n        sourceStage.parallel = true;\r\n        return (S) this;\r\n    }\r\n\r\nWell it only sets the `parallel` flag to `true`. That&#39;s all it does.\r\n\r\nAs you can see, in current implementation of Java Stream API it doesn&#39;t matter how you create a stream (or receive it as a method parameter). You can always turn a stream into a parallel one with zero cost.","title":"How can I create a parallel stream from an array?","body":"<p><strong>TLDR;</strong></p>\n\n<p>Any sequential <code>Stream</code> can be converted into a parallel one by calling <code>.parallel()</code> on it. So all you need is:</p>\n\n<ol>\n<li>Create a stream</li>\n<li>Invoke method <code>parallel()</code> on it.</li>\n</ol>\n\n<p><strong>Long answer</strong></p>\n\n<p>The question is pretty old, but I believe some additional explanation will make the things much clearer.</p>\n\n<p>All implementations of Java streams implement interface <code>BaseStream</code>. Which as per JavaDoc is:</p>\n\n<blockquote>\n  <p>Base interface for streams, which are sequences of elements supporting sequential and parallel aggregate operations.</p>\n</blockquote>\n\n<p>From API's point of view there is no difference between sequential and parallel streams. They share the same aggregate operations. </p>\n\n<p>In order do distinguish between sequential and parallel streams the aggregate methods call <code>BaseStream::isParallel</code> method. </p>\n\n<p>Let's explore the implementation of <code>isParallel</code> method in <code>AbstractPipeline</code>:</p>\n\n<pre><code>@Override\npublic final boolean isParallel() {\n    return sourceStage.parallel;\n}\n</code></pre>\n\n<p>As you see, the only thing <code>isParallel</code> does is checking the boolean flag in source stage:</p>\n\n<pre><code>/**\n * True if pipeline is parallel, otherwise the pipeline is sequential; only\n * valid for the source stage.\n */\nprivate boolean parallel; \n</code></pre>\n\n<p>So what does the <code>parallel()</code> method do then? How does it turn a <em>sequential</em> stream into a <em>parallel</em> one?</p>\n\n<pre><code>@Override\n@SuppressWarnings(\"unchecked\")\npublic final S parallel() {\n    sourceStage.parallel = true;\n    return (S) this;\n}\n</code></pre>\n\n<p>Well it only sets the <code>parallel</code> flag to <code>true</code>. That's all it does.</p>\n\n<p>As you can see, in current implementation of Java Stream API it doesn't matter how you create a stream (or receive it as a method parameter). You can always turn a stream into a parallel one with zero cost.</p>\n"}],"owner":{"account_id":3550863,"reputation":473,"user_id":2965781,"display_name":"Soban Soundararajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13291,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"answer_count":2,"score":34,"last_activity_date":1666811903,"creation_date":1480685377,"question_id":40933362,"body_markdown":"I can create a Stream from an array using `Arrays.stream(array)` or `Stream.of(values)`. Similarly, is it possible to create a ParallelStream directly from an array, *without creating an intermediate collection* as in `Arrays.asList(array).parallelStream()`?","title":"How can I create a parallel stream from an array?","body":"<p>I can create a Stream from an array using <code>Arrays.stream(array)</code> or <code>Stream.of(values)</code>. Similarly, is it possible to create a ParallelStream directly from an array, <em>without creating an intermediate collection</em> as in <code>Arrays.asList(array).parallelStream()</code>?</p>\n"},{"tags":["java","maven","jwt","javalin"],"answers":[{"tags":[],"owner":{"account_id":26022239,"reputation":23,"user_id":19729750,"display_name":"nm980"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666811801,"creation_date":1666811801,"answer_id":74213143,"question_id":74138539,"body_markdown":"There are examples on the github repo https://github.com/auth0/java-jwt/blob/master/EXAMPLES.md\r\n\r\nTo get information from a token created with claims\r\n\r\n    String token = JWT.create()\r\n        .withClaim(&quot;username-claim&quot;, &quot;username&quot;)\r\n        .sign(algorithm);\r\n\r\nYou can verify and get a claim by doing the following\r\n\r\n    DecodedJWT jwt = JWT.require(algorithm)\r\n        .build()\r\n        .verify(token);\r\n\r\n    String usernameClaim = jwt.getClaim(&quot;username-claim&quot;).asString();\r\n","title":"JWT token with Auth0 Java using Javalin","body":"<p>There are examples on the github repo <a href=\"https://github.com/auth0/java-jwt/blob/master/EXAMPLES.md\" rel=\"nofollow noreferrer\">https://github.com/auth0/java-jwt/blob/master/EXAMPLES.md</a></p>\n<p>To get information from a token created with claims</p>\n<pre><code>String token = JWT.create()\n    .withClaim(&quot;username-claim&quot;, &quot;username&quot;)\n    .sign(algorithm);\n</code></pre>\n<p>You can verify and get a claim by doing the following</p>\n<pre><code>DecodedJWT jwt = JWT.require(algorithm)\n    .build()\n    .verify(token);\n\nString usernameClaim = jwt.getClaim(&quot;username-claim&quot;).asString();\n</code></pre>\n"}],"owner":{"account_id":25915807,"reputation":1,"user_id":19639214,"display_name":"Karen Poghosyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666811801,"creation_date":1666262600,"question_id":74138539,"body_markdown":"I&#39;m using Javalin and want to build authentication flow, with Auth0 I can make token and send it with header in request, But how I can get my User data from that token? How I can check which user is authenticated at that moment","title":"JWT token with Auth0 Java using Javalin","body":"<p>I'm using Javalin and want to build authentication flow, with Auth0 I can make token and send it with header in request, But how I can get my User data from that token? How I can check which user is authenticated at that moment</p>\n"},{"tags":["java","web-applications","spring-mvc","character-encoding"],"answers":[{"comments":[{"owner":{"account_id":36721,"reputation":4645,"user_id":104856,"accept_rate":88,"display_name":"Hurda"},"score":1,"creation_date":1283335747,"post_id":3616597,"comment_id":3798765,"body_markdown":"This just filters character in request, not in response - I&#39;m allready using this one","body":"This just filters character in request, not in response - I&#39;m allready using this one"},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1283341451,"post_id":3616597,"comment_id":3799542,"body_markdown":"@Hurda: With `forceEncoding=true` it filters the response too, but it wouldn&#39;t help in this case.","body":"@Hurda: With <code>forceEncoding=true</code> it filters the response too, but it wouldn&#39;t help in this case."},{"owner":{"account_id":361565,"reputation":512,"user_id":704246,"accept_rate":50,"display_name":"Saad Benbouzid"},"score":0,"creation_date":1477411129,"post_id":3616597,"comment_id":67751290,"body_markdown":"Best and quicker answer so far. I also was already declaring and using this filter, but with ```forceEncoding=false```. I just set it to ```false``` and &quot;charset=UTF-8&quot; is successfully added to ```Content-Type``` header.","body":"Best and quicker answer so far. I also was already declaring and using this filter, but with <code>forceEncoding=false</code>. I just set it to <code>false</code> and &quot;charset=UTF-8&quot; is successfully added to <code>Content-Type</code> header."}],"tags":[],"owner":{"account_id":116909,"reputation":609,"user_id":306406,"accept_rate":83,"display_name":"Theresia Sofia Snow"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1283333106,"creation_date":1283333106,"answer_id":3616597,"question_id":3616359,"body_markdown":"I&#39;m using the CharacterEncodingFilter, configured in web.xml. Maybe that helps.\r\n\r\n        &lt;filter&gt;\r\n        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>I'm using the CharacterEncodingFilter, configured in web.xml. Maybe that helps.</p>\n\n<pre><code>    &lt;filter&gt;\n    &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;encoding&lt;/param-name&gt;\n        &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":163827,"reputation":1798,"user_id":386213,"accept_rate":100,"display_name":"digz6666"},"score":10,"creation_date":1299808530,"post_id":3617594,"comment_id":5934711,"body_markdown":"It seem like a dirty hack. I don&#39;t like it but to use. Spring framework developers should work on this case!","body":"It seem like a dirty hack. I don&#39;t like it but to use. Spring framework developers should work on this case!"},{"owner":{"account_id":88939,"reputation":2728,"user_id":245719,"accept_rate":78,"display_name":"zod"},"score":0,"creation_date":1301485828,"post_id":3617594,"comment_id":6222138,"body_markdown":"Where does the line &lt;bean class = &quot;EncodingPostProcessor &quot; /&gt; go?","body":"Where does the line &lt;bean class = &quot;EncodingPostProcessor &quot; /&gt; go?"},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":1,"creation_date":1301486224,"post_id":3617594,"comment_id":6222220,"body_markdown":"@zod: In `DispatcherServlet`&#39;s config (`...-servlet.xml`)","body":"@zod: In <code>DispatcherServlet</code>&#39;s config (<code>...-servlet.xml</code>)"},{"owner":{"account_id":88939,"reputation":2728,"user_id":245719,"accept_rate":78,"display_name":"zod"},"score":0,"creation_date":1301488342,"post_id":3617594,"comment_id":6222733,"body_markdown":"Thanks.  It appears to be ignored.  We are using mvc (I think) and we have a class with a @Controller attribute, that appears to be the entry point.  The class is not mentioned anywhere else (it has an interface with a similar name) yet it is instantiated and called correctly.  Paths are mapped with a @RequestMapping attribute.  We are unable to control the content type of the response (we need xml).  As you can probably tell, I have no idea what I am doing, and the developer who created this has left my company.  Thanks.","body":"Thanks.  It appears to be ignored.  We are using mvc (I think) and we have a class with a @Controller attribute, that appears to be the entry point.  The class is not mentioned anywhere else (it has an interface with a similar name) yet it is instantiated and called correctly.  Paths are mapped with a @RequestMapping attribute.  We are unable to control the content type of the response (we need xml).  As you can probably tell, I have no idea what I am doing, and the developer who created this has left my company.  Thanks."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":3,"creation_date":1303156743,"post_id":3617594,"comment_id":6524682,"body_markdown":"As @digz6666 says this is a dirty hack. Spring should see how JAX-RS does it.","body":"As @digz6666 says this is a dirty hack. Spring should see how JAX-RS does it."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1494019126,"post_id":3617594,"comment_id":74667180,"body_markdown":"Creators of Spring MVC don&#39;t know which encoding is the most popular?!","body":"Creators of Spring MVC don&#39;t know which encoding is the most popular?!"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":6,"down_vote_count":2,"up_vote_count":61,"is_accepted":true,"score":59,"last_activity_date":1299002772,"creation_date":1283341183,"answer_id":3617594,"question_id":3616359,"body_markdown":"Simple declaration of the `StringHttpMessageConverter` bean is not enough, you need to inject it into `AnnotationMethodHandlerAdapter`:\r\n\r\n    &lt;bean class = &quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;array&gt;\r\n                &lt;bean class = &quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n                    &lt;property name=&quot;supportedMediaTypes&quot; value = &quot;text/plain;charset=UTF-8&quot; /&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/array&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nHowever, using this method you have to redefine all `HttpMessageConverter`s, and also it doesn&#39;t work with `&lt;mvc:annotation-driven /&gt;`.\r\n\r\nSo, perhaps the most convenient but ugly method is to intercept instantiation of the `AnnotationMethodHandlerAdapter` with `BeanPostProcessor`:\r\n\r\n    public class EncodingPostProcessor implements BeanPostProcessor {\r\n        public Object postProcessBeforeInitialization(Object bean, String name)\r\n                throws BeansException {\r\n            if (bean instanceof AnnotationMethodHandlerAdapter) {\r\n                HttpMessageConverter&lt;?&gt;[] convs = ((AnnotationMethodHandlerAdapter) bean).getMessageConverters();\r\n                for (HttpMessageConverter&lt;?&gt; conv: convs) {\r\n                    if (conv instanceof StringHttpMessageConverter) {\r\n                        ((StringHttpMessageConverter) conv).setSupportedMediaTypes(\r\n                            Arrays.asList(new MediaType(&quot;text&quot;, &quot;html&quot;, \r\n                                Charset.forName(&quot;UTF-8&quot;))));\r\n                    }\r\n                }\r\n            }\r\n            return bean;\r\n        }\r\n    \r\n        public Object postProcessAfterInitialization(Object bean, String name)\r\n                throws BeansException {\r\n            return bean;\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    &lt;bean class = &quot;EncodingPostProcessor &quot; /&gt;","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>Simple declaration of the <code>StringHttpMessageConverter</code> bean is not enough, you need to inject it into <code>AnnotationMethodHandlerAdapter</code>:</p>\n\n<pre><code>&lt;bean class = \"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;array&gt;\n            &lt;bean class = \"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;property name=\"supportedMediaTypes\" value = \"text/plain;charset=UTF-8\" /&gt;\n            &lt;/bean&gt;\n        &lt;/array&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>However, using this method you have to redefine all <code>HttpMessageConverter</code>s, and also it doesn't work with <code>&lt;mvc:annotation-driven /&gt;</code>.</p>\n\n<p>So, perhaps the most convenient but ugly method is to intercept instantiation of the <code>AnnotationMethodHandlerAdapter</code> with <code>BeanPostProcessor</code>:</p>\n\n<pre><code>public class EncodingPostProcessor implements BeanPostProcessor {\n    public Object postProcessBeforeInitialization(Object bean, String name)\n            throws BeansException {\n        if (bean instanceof AnnotationMethodHandlerAdapter) {\n            HttpMessageConverter&lt;?&gt;[] convs = ((AnnotationMethodHandlerAdapter) bean).getMessageConverters();\n            for (HttpMessageConverter&lt;?&gt; conv: convs) {\n                if (conv instanceof StringHttpMessageConverter) {\n                    ((StringHttpMessageConverter) conv).setSupportedMediaTypes(\n                        Arrays.asList(new MediaType(\"text\", \"html\", \n                            Charset.forName(\"UTF-8\"))));\n                }\n            }\n        }\n        return bean;\n    }\n\n    public Object postProcessAfterInitialization(Object bean, String name)\n            throws BeansException {\n        return bean;\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>&lt;bean class = \"EncodingPostProcessor \" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2464110,"reputation":302,"user_id":2147606,"accept_rate":60,"display_name":"Arun Christopher"},"score":0,"creation_date":1441403093,"post_id":5268157,"comment_id":52682129,"body_markdown":"This is also the solution if you get the error `the manifest may not be valid or the file could not be opened.` in IE 11. Thanks digz!","body":"This is also the solution if you get the error <code>the manifest may not be valid or the file could not be opened.</code> in IE 11. Thanks digz!"}],"tags":[],"owner":{"account_id":163827,"reputation":1798,"user_id":386213,"accept_rate":100,"display_name":"digz6666"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1300064323,"creation_date":1299808792,"answer_id":5268157,"question_id":3616359,"body_markdown":"Just in case you can also set encoding by the following way:\r\n\r\n    @RequestMapping(value = &quot;ajax/gethelp&quot;)\r\n    public ResponseEntity&lt;String&gt; handleGetHelp(Locale loc, String code, HttpServletResponse response) {\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.add(&quot;Content-Type&quot;, &quot;text/html; charset=utf-8&quot;);\r\n\r\n        log.debug(&quot;Getting help for code: &quot; + code);\r\n        String help = messageSource.getMessage(code, null, loc);\r\n        log.debug(&quot;Help is: &quot; + help);\r\n\r\n        return new ResponseEntity&lt;String&gt;(&quot;returning: &quot; + help, responseHeaders, HttpStatus.CREATED);\r\n    }\r\n\r\nI think using StringHttpMessageConverter is better than this.","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>Just in case you can also set encoding by the following way:</p>\n\n<pre><code>@RequestMapping(value = \"ajax/gethelp\")\npublic ResponseEntity&lt;String&gt; handleGetHelp(Locale loc, String code, HttpServletResponse response) {\n    HttpHeaders responseHeaders = new HttpHeaders();\n    responseHeaders.add(\"Content-Type\", \"text/html; charset=utf-8\");\n\n    log.debug(\"Getting help for code: \" + code);\n    String help = messageSource.getMessage(code, null, loc);\n    log.debug(\"Help is: \" + help);\n\n    return new ResponseEntity&lt;String&gt;(\"returning: \" + help, responseHeaders, HttpStatus.CREATED);\n}\n</code></pre>\n\n<p>I think using StringHttpMessageConverter is better than this.</p>\n"},{"tags":[],"owner":{"account_id":144722,"reputation":12485,"user_id":353985,"accept_rate":59,"display_name":"redochka"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299936744,"creation_date":1299936744,"answer_id":5282788,"question_id":3616359,"body_markdown":"Thanks digz6666, your solution works for me with a slight changes because I&#39;m using json:\r\n&lt;pre&gt;\r\nresponseHeaders.add(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n&lt;/pre&gt;\r\n\r\nThe answer given by axtavt (whch you&#39;ve recommended) wont work for me. Even if I&#39;ve added the correct media type:\r\n&lt;pre&gt;\r\nif (conv instanceof StringHttpMessageConverter) {                \t\r\n                    ((StringHttpMessageConverter) conv).setSupportedMediaTypes(\r\n                        Arrays.asList(\r\n                        \t\tnew MediaType(&quot;text&quot;, &quot;html&quot;, Charset.forName(&quot;UTF-8&quot;)),\r\n                        \t\tnew MediaType(&quot;application&quot;, &quot;json&quot;, Charset.forName(&quot;UTF-8&quot;)) ));\r\n                }\r\n&lt;/pre&gt;","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>Thanks digz6666, your solution works for me with a slight changes because I'm using json:</p>\n\n<pre>\nresponseHeaders.add(\"Content-Type\", \"application/json; charset=utf-8\");\n</pre>\n\n<p>The answer given by axtavt (whch you've recommended) wont work for me. Even if I've added the correct media type:</p>\n\n<pre>\nif (conv instanceof StringHttpMessageConverter) {                   \n                    ((StringHttpMessageConverter) conv).setSupportedMediaTypes(\n                        Arrays.asList(\n                                new MediaType(\"text\", \"html\", Charset.forName(\"UTF-8\")),\n                                new MediaType(\"application\", \"json\", Charset.forName(\"UTF-8\")) ));\n                }\n</pre>\n"},{"tags":[],"owner":{"account_id":803354,"reputation":21,"user_id":694793,"display_name":"Marius"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302092009,"creation_date":1302092009,"answer_id":5566140,"question_id":3616359,"body_markdown":"if none of the above worked for you try to make ajax requests on &quot;POST&quot; not &quot;GET&quot; , that worked for me nicely ... none of the above did. I also have the characterEncodingFilter. ","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>if none of the above worked for you try to make ajax requests on \"POST\" not \"GET\" , that worked for me nicely ... none of the above did. I also have the characterEncodingFilter. </p>\n"},{"tags":[],"owner":{"account_id":458685,"reputation":21,"user_id":858733,"display_name":"Szilard Jakab"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311372346,"creation_date":1311372346,"answer_id":6796605,"question_id":3616359,"body_markdown":"    package com.your.package.spring.fix;\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URLDecoder;\r\n    import java.net.URLEncoder;\r\n\r\n    /**\r\n     * @author Szilard_Jakab (JaKi)\r\n     * Workaround for Spring 3 @ResponseBody issue - get incorrectly \r\n       encoded parameters     from the URL (in example @ JSON response)\r\n     * Tested @ Spring 3.0.4\r\n     */\r\n    public class RepairWrongUrlParamEncoding {\r\n        private static String restoredParamToOriginal;\r\n    \r\n        /**\r\n        * @param wrongUrlParam\r\n        * @return Repaired url param (UTF-8 encoded)\r\n        * @throws UnsupportedEncodingException\r\n        */\r\n        public static String repair(String wrongUrlParam) throws \r\n                                                UnsupportedEncodingException {\r\n        /* First step: encode the incorrectly converted UTF-8 strings back to \r\n                      the original URL format\r\n        */\r\n        restoredParamToOriginal = URLEncoder.encode(wrongUrlParam, &quot;ISO-8859-1&quot;);\r\n        \r\n        /* Second step: decode to UTF-8 again from the original one\r\n        */\r\n        return URLDecoder.decode(restoredParamToOriginal, &quot;UTF-8&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAfter I have tried lot of workaround for this issue.. I thought this out and it works fine.","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<pre><code>package com.your.package.spring.fix;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLDecoder;\nimport java.net.URLEncoder;\n\n/**\n * @author Szilard_Jakab (JaKi)\n * Workaround for Spring 3 @ResponseBody issue - get incorrectly \n   encoded parameters     from the URL (in example @ JSON response)\n * Tested @ Spring 3.0.4\n */\npublic class RepairWrongUrlParamEncoding {\n    private static String restoredParamToOriginal;\n\n    /**\n    * @param wrongUrlParam\n    * @return Repaired url param (UTF-8 encoded)\n    * @throws UnsupportedEncodingException\n    */\n    public static String repair(String wrongUrlParam) throws \n                                            UnsupportedEncodingException {\n    /* First step: encode the incorrectly converted UTF-8 strings back to \n                  the original URL format\n    */\n    restoredParamToOriginal = URLEncoder.encode(wrongUrlParam, \"ISO-8859-1\");\n\n    /* Second step: decode to UTF-8 again from the original one\n    */\n    return URLDecoder.decode(restoredParamToOriginal, \"UTF-8\");\n    }\n}\n</code></pre>\n\n<p>After I have tried lot of workaround for this issue.. I thought this out and it works fine.</p>\n"},{"comments":[{"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"score":0,"creation_date":1424978365,"post_id":7772620,"comment_id":45783746,"body_markdown":"Sort of works, except that 1) it pollutes the response with an `Accept-Charset` header that probably lists every known character encoding, and 2) [when the request has an `Accept` header the `supportedMediaTypes` property of the converter is not used](http://forum.spring.io/forum/spring-projects/web/108536-responsebody-reports-utf-8-charset-in-http-response-but-uses-actually-iso-8859-1-ha), so for example when I make the request typing directly the URL in a browser the response has a `Content-Type: text/html` header instead.","body":"Sort of works, except that 1) it pollutes the response with an <code>Accept-Charset</code> header that probably lists every known character encoding, and 2) <a href=\"http://forum.spring.io/forum/spring-projects/web/108536-responsebody-reports-utf-8-charset-in-http-response-but-uses-actually-iso-8859-1-ha\" rel=\"nofollow noreferrer\">when the request has an <code>Accept</code> header the <code>supportedMediaTypes</code> property of the converter is not used</a>, so for example when I make the request typing directly the URL in a browser the response has a <code>Content-Type: text&#47;html</code> header instead."},{"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"score":3,"creation_date":1430502763,"post_id":7772620,"comment_id":48103846,"body_markdown":"You can simplify as &quot;text/plain&quot; is default anyway: \n`&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;&lt;constructor-arg value=&quot;UTF-8&quot; /&gt;&lt;/bean&gt;`","body":"You can simplify as &quot;text/plain&quot; is default anyway:  <code>&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageC&zwnj;&#8203;onverter&quot;&gt;&lt;construct&zwnj;&#8203;or-arg value=&quot;UTF-8&quot; &#47;&gt;&lt;&#47;bean&gt;</code>"},{"owner":{"account_id":1316628,"reputation":1244,"user_id":1263312,"accept_rate":25,"display_name":"PickBoy"},"score":0,"creation_date":1458722054,"post_id":7772620,"comment_id":59982317,"body_markdown":"This answer should be accepted as the right answer. Also, @IgorMukhin &#39;s way to define StringHttpMessageConverter bean works. This answer is used to set response content-types for all servlets. If you just need to set reponse content type for a particular controller method, use Warrior &#39;s answer instead( use produces argument in @RequestMapping)","body":"This answer should be accepted as the right answer. Also, @IgorMukhin &#39;s way to define StringHttpMessageConverter bean works. This answer is used to set response content-types for all servlets. If you just need to set reponse content type for a particular controller method, use Warrior &#39;s answer instead( use produces argument in @RequestMapping)"},{"owner":{"account_id":1316628,"reputation":1244,"user_id":1263312,"accept_rate":25,"display_name":"PickBoy"},"score":3,"creation_date":1458732790,"post_id":7772620,"comment_id":59989237,"body_markdown":"@GiulioPiancastelli your first question can be solved by add &lt;property name=&quot;writeAcceptCharset&quot; value=&quot;false&quot; /&gt; to the bean","body":"@GiulioPiancastelli your first question can be solved by add &lt;property name=&quot;writeAcceptCharset&quot; value=&quot;false&quot; /&gt; to the bean"}],"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"comment_count":4,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1349714907,"creation_date":1318620570,"answer_id":7772620,"question_id":3616359,"body_markdown":"Note that in Spring MVC 3.1 you can use the MVC namespace to configure message converters:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n      &lt;mvc:message-converters register-defaults=&quot;true&quot;&gt;\r\n        &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n          &lt;property name=&quot;supportedMediaTypes&quot; value = &quot;text/plain;charset=UTF-8&quot; /&gt;\r\n        &lt;/bean&gt;\r\n      &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\nOr code-based configuration:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n      private static final Charset UTF8 = Charset.forName(&quot;UTF-8&quot;);\r\n    \r\n      @Override\r\n      public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        StringHttpMessageConverter stringConverter = new StringHttpMessageConverter();\r\n        stringConverter.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;text&quot;, &quot;plain&quot;, UTF8)));\r\n        converters.add(stringConverter);\r\n        \r\n        // Add other converters ...\r\n      }\r\n    }\r\n\r\n","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>Note that in Spring MVC 3.1 you can use the MVC namespace to configure message converters:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n  &lt;mvc:message-converters register-defaults=\"true\"&gt;\n    &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n      &lt;property name=\"supportedMediaTypes\" value = \"text/plain;charset=UTF-8\" /&gt;\n    &lt;/bean&gt;\n  &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>Or code-based configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n  private static final Charset UTF8 = Charset.forName(\"UTF-8\");\n\n  @Override\n  public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    StringHttpMessageConverter stringConverter = new StringHttpMessageConverter();\n    stringConverter.setSupportedMediaTypes(Arrays.asList(new MediaType(\"text\", \"plain\", UTF8)));\n    converters.add(stringConverter);\n\n    // Add other converters ...\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069797,"reputation":41,"user_id":1069357,"display_name":"Reto-san"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343987227,"creation_date":1322484964,"answer_id":8296112,"question_id":3616359,"body_markdown":"I set the content-type in the MarshallingView in the [ContentNegotiatingViewResolver][1] bean. It works easily, clean and smoothly:\r\n\r\n    &lt;property name=&quot;defaultViews&quot;&gt;\r\n      &lt;list&gt;\r\n        &lt;bean class=&quot;org.springframework.web.servlet.view.xml.MarshallingView&quot;&gt;\r\n          &lt;constructor-arg&gt;\r\n            &lt;bean class=&quot;org.springframework.oxm.xstream.XStreamMarshaller&quot; /&gt;     \r\n          &lt;/constructor-arg&gt;\r\n          &lt;property name=&quot;contentType&quot; value=&quot;application/xml;charset=UTF-8&quot; /&gt;\r\n        &lt;/bean&gt;\r\n      &lt;/list&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/ContentNegotiatingViewResolver.html","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>I set the content-type in the MarshallingView in the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/servlet/view/ContentNegotiatingViewResolver.html\" rel=\"nofollow\">ContentNegotiatingViewResolver</a> bean. It works easily, clean and smoothly:</p>\n\n<pre><code>&lt;property name=\"defaultViews\"&gt;\n  &lt;list&gt;\n    &lt;bean class=\"org.springframework.web.servlet.view.xml.MarshallingView\"&gt;\n      &lt;constructor-arg&gt;\n        &lt;bean class=\"org.springframework.oxm.xstream.XStreamMarshaller\" /&gt;     \n      &lt;/constructor-arg&gt;\n      &lt;property name=\"contentType\" value=\"application/xml;charset=UTF-8\" /&gt;\n    &lt;/bean&gt;\n  &lt;/list&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":504136,"reputation":261,"user_id":1426372,"display_name":"young.fu.panda"},"score":0,"creation_date":1342475804,"post_id":11349642,"comment_id":15214467,"body_markdown":"Worth porting to Spring 3.1 for!","body":"Worth porting to Spring 3.1 for!"},{"owner":{"account_id":56752,"reputation":5665,"user_id":170013,"accept_rate":81,"display_name":"Ittai"},"score":5,"creation_date":1342958201,"post_id":11349642,"comment_id":15354109,"body_markdown":"@dbyoung That doesn&#39;t seem right, the javadoc for the `produces` says: &quot;...request only mapped if the Content-Type matches one of these media types.&quot; which means AFAIK that the `produces` is relevant to whether the method matches a request and not how which content-type the response should have.","body":"@dbyoung That doesn&#39;t seem right, the javadoc for the <code>produces</code> says: &quot;...request only mapped if the Content-Type matches one of these media types.&quot; which means AFAIK that the <code>produces</code> is relevant to whether the method matches a request and not how which content-type the response should have."},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":0,"creation_date":1373649037,"post_id":11349642,"comment_id":25650435,"body_markdown":"@Ittai correct! &quot;produces&quot; determines if the method matches the request, but NOT what content type is in the response. something else must be looking at &quot;produces&quot; when determining what content type to set","body":"@Ittai correct! &quot;produces&quot; determines if the method matches the request, but NOT what content type is in the response. something else must be looking at &quot;produces&quot; when determining what content type to set"}],"tags":[],"owner":{"account_id":1438031,"reputation":276,"user_id":1358994,"display_name":"dbyoung"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1342851702,"creation_date":1341510100,"answer_id":11349642,"question_id":3616359,"body_markdown":"I was fighting this issue recently and found a much better answer available in Spring 3.1:\r\n\r\n    @RequestMapping(value = &quot;ajax/gethelp&quot;, produces = &quot;text/plain&quot;)\r\n\r\nSo, as easy as JAX-RS just like all the comments indicated it could/should be.","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>I was fighting this issue recently and found a much better answer available in Spring 3.1:</p>\n\n<pre><code>@RequestMapping(value = \"ajax/gethelp\", produces = \"text/plain\")\n</code></pre>\n\n<p>So, as easy as JAX-RS just like all the comments indicated it could/should be.</p>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":7,"creation_date":1366110426,"post_id":11866822,"comment_id":22876454,"body_markdown":"+1. This solved it for me too, but only after I switched to using `&lt;mvc:annotation-driven/&gt;` in applicationContext. (Instead of `&lt;bean class=&quot; [...] DefaultAnnotationHandlerMapping&quot;/&gt;`, which is deprecated in Spring 3.2 anyway...)","body":"+1. This solved it for me too, but only after I switched to using <code>&lt;mvc:annotation-driven&#47;&gt;</code> in applicationContext. (Instead of <code>&lt;bean class=&quot; [...] DefaultAnnotationHandlerMapping&quot;&#47;&gt;</code>, which is deprecated in Spring 3.2 anyway...)"},{"owner":{"account_id":36721,"reputation":4645,"user_id":104856,"accept_rate":88,"display_name":"Hurda"},"score":0,"creation_date":1369668529,"post_id":11866822,"comment_id":24171984,"body_markdown":"ca this produce application/xml if annotated this way?","body":"ca this produce application/xml if annotated this way?"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":2,"creation_date":1369731518,"post_id":11866822,"comment_id":24191352,"body_markdown":"@Hurda: Obviously you can specify any content type that you wish by changing the value of the `produces` attribute.","body":"@Hurda: Obviously you can specify any content type that you wish by changing the value of the <code>produces</code> attribute."},{"owner":{"account_id":29648,"reputation":2949,"user_id":80286,"accept_rate":97,"display_name":"dev"},"score":1,"creation_date":1402523132,"post_id":11866822,"comment_id":37311580,"body_markdown":"There is a MediaType.APPLICATION_JSON_VALUE, for &quot;application/json&quot; as well.","body":"There is a MediaType.APPLICATION_JSON_VALUE, for &quot;application/json&quot; as well."},{"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"score":0,"creation_date":1424977558,"post_id":11866822,"comment_id":45783282,"body_markdown":"+1 because it works, but a more general solution allowing you to specify the encoding in one place only instead of replicating it on every controller could be better.","body":"+1 because it works, but a more general solution allowing you to specify the encoding in one place only instead of replicating it on every controller could be better."},{"owner":{"account_id":2042575,"reputation":3160,"user_id":1823389,"accept_rate":50,"display_name":"Moazzam Khan"},"score":0,"creation_date":1426077278,"post_id":11866822,"comment_id":46221913,"body_markdown":"What happens if you pass an array of content types  - `produces = {&quot;some type&quot;, &quot;another type&quot;}`","body":"What happens if you pass an array of content types  - <code>produces = {&quot;some type&quot;, &quot;another type&quot;}</code>"},{"owner":{"account_id":5054136,"reputation":3220,"user_id":4057865,"accept_rate":100,"display_name":"Green Lei"},"score":0,"creation_date":1441701265,"post_id":11866822,"comment_id":52768355,"body_markdown":"It works after adding `&lt;mvc:annotation-driven/&gt;` in applicationContext.xml.","body":"It works after adding <code>&lt;mvc:annotation-driven&#47;&gt;</code> in applicationContext.xml."},{"owner":{"account_id":31312,"reputation":3774,"user_id":85882,"accept_rate":100,"display_name":"calvinf"},"score":2,"creation_date":1467847216,"post_id":11866822,"comment_id":63892207,"body_markdown":"For UTF-8, see `MediaType.APPLICATION_JSON_UTF8_VALUE`.","body":"For UTF-8, see <code>MediaType.APPLICATION_JSON_UTF8_VALUE</code>."}],"tags":[],"owner":{"account_id":1731518,"reputation":1799,"user_id":1585032,"display_name":"Warrior"},"comment_count":8,"down_vote_count":1,"up_vote_count":180,"is_accepted":false,"score":179,"last_activity_date":1344436395,"creation_date":1344436395,"answer_id":11866822,"question_id":3616359,"body_markdown":"I found solution for Spring 3.1. with using @ResponseBody annotation.\r\nHere is example of controller  using Json output:\r\n\r\n\r\n    @RequestMapping(value = &quot;/getDealers&quot;, method = RequestMethod.GET, \r\n    produces = &quot;application/json; charset=utf-8&quot;)\r\n    @ResponseBody\r\n    public String sendMobileData() {\r\n\r\n    }","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>I found solution for Spring 3.1. with using @ResponseBody annotation.\nHere is example of controller  using Json output:</p>\n\n<pre><code>@RequestMapping(value = \"/getDealers\", method = RequestMethod.GET, \nproduces = \"application/json; charset=utf-8\")\n@ResponseBody\npublic String sendMobileData() {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1062565,"reputation":1464,"user_id":1063882,"accept_rate":60,"display_name":"Oleksandr_DJ"},"score":3,"creation_date":1372411137,"post_id":12023805,"comment_id":25194517,"body_markdown":"It is a incorrect answer. As per spring docs:\n\nThe producible media types of the mapped request, narrowing the primary mapping.\n\nThe format is a sequence of media types (&quot;text/plain&quot;, &quot;application/*), with a request only mapped if the Accept matches one of these media types. Expressions can be negated by using the &quot;!&quot; operator, as in &quot;!text/plain&quot;, which matches all requests with a Accept other than &quot;text/plain&quot;.","body":"It is a incorrect answer. As per spring docs:  The producible media types of the mapped request, narrowing the primary mapping.  The format is a sequence of media types (&quot;text/plain&quot;, &quot;application/*), with a request only mapped if the Accept matches one of these media types. Expressions can be negated by using the &quot;!&quot; operator, as in &quot;!text/plain&quot;, which matches all requests with a Accept other than &quot;text/plain&quot;."}],"tags":[],"owner":{"account_id":544074,"reputation":7687,"user_id":913394,"accept_rate":57,"display_name":"Charlie Wu"},"comment_count":1,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1666811665,"creation_date":1345344138,"answer_id":12023805,"question_id":3616359,"body_markdown":"you can add produces = &quot;text/plain;charset=UTF-8&quot; to RequestMapping\r\n\r\n\t@RequestMapping(value = &quot;/rest/create/document&quot;, produces = &quot;text/plain;charset=UTF-8&quot;)\r\n\t@ResponseBody\r\n\tpublic String create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\r\n\t\t\r\n\t\tDocument newDocument = DocumentService.create(Document);\r\n\t\t\r\n\t\treturn jsonSerializer.serialize(newDocument);\r\n\t}","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>you can add produces = &quot;text/plain;charset=UTF-8&quot; to RequestMapping</p>\n<pre><code>@RequestMapping(value = &quot;/rest/create/document&quot;, produces = &quot;text/plain;charset=UTF-8&quot;)\n@ResponseBody\npublic String create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\n    \n    Document newDocument = DocumentService.create(Document);\n    \n    return jsonSerializer.serialize(newDocument);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1134103,"reputation":79,"user_id":1119537,"display_name":"Igor Kostomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345625658,"creation_date":1345625658,"answer_id":12069505,"question_id":3616359,"body_markdown":"    public final class ConfigurableStringHttpMessageConverter extends AbstractHttpMessageConverter&lt;String&gt; {\r\n    \r\n        private Charset defaultCharset;\r\n    \r\n        public Charset getDefaultCharset() {\r\n            return defaultCharset;\r\n        }\r\n    \r\n    \tprivate final List&lt;Charset&gt; availableCharsets;\r\n    \r\n    \tprivate boolean writeAcceptCharset = true;\r\n    \r\n    \tpublic ConfigurableStringHttpMessageConverter() {\r\n    \t\tsuper(new MediaType(&quot;text&quot;, &quot;plain&quot;, StringHttpMessageConverter.DEFAULT_CHARSET), MediaType.ALL);\r\n            defaultCharset = StringHttpMessageConverter.DEFAULT_CHARSET;\r\n    \t\tthis.availableCharsets = new ArrayList&lt;Charset&gt;(Charset.availableCharsets().values());\r\n    \t}\r\n    \r\n        public ConfigurableStringHttpMessageConverter(String charsetName) {\r\n            super(new MediaType(&quot;text&quot;, &quot;plain&quot;, Charset.forName(charsetName)), MediaType.ALL);\r\n            defaultCharset = Charset.forName(charsetName);\r\n    \t\tthis.availableCharsets = new ArrayList&lt;Charset&gt;(Charset.availableCharsets().values());\r\n        }\r\n    \r\n    \t/**\r\n    \t * Indicates whether the {@code Accept-Charset} should be written to any outgoing request.\r\n    \t * &lt;p&gt;Default is {@code true}.\r\n    \t */\r\n    \tpublic void setWriteAcceptCharset(boolean writeAcceptCharset) {\r\n    \t\tthis.writeAcceptCharset = writeAcceptCharset;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; clazz) {\r\n    \t\treturn String.class.equals(clazz);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String readInternal(Class clazz, HttpInputMessage inputMessage) throws IOException {\r\n    \t\tCharset charset = getContentTypeCharset(inputMessage.getHeaders().getContentType());\r\n    \t\treturn FileCopyUtils.copyToString(new InputStreamReader(inputMessage.getBody(), charset));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Long getContentLength(String s, MediaType contentType) {\r\n    \t\tCharset charset = getContentTypeCharset(contentType);\r\n    \t\ttry {\r\n    \t\t\treturn (long) s.getBytes(charset.name()).length;\r\n    \t\t}\r\n    \t\tcatch (UnsupportedEncodingException ex) {\r\n    \t\t\t// should not occur\r\n    \t\t\tthrow new InternalError(ex.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void writeInternal(String s, HttpOutputMessage outputMessage) throws IOException {\r\n    \t\tif (writeAcceptCharset) {\r\n    \t\t\toutputMessage.getHeaders().setAcceptCharset(getAcceptedCharsets());\r\n    \t\t}\r\n    \t\tCharset charset = getContentTypeCharset(outputMessage.getHeaders().getContentType());\r\n    \t\tFileCopyUtils.copy(s, new OutputStreamWriter(outputMessage.getBody(), charset));\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Return the list of supported {@link Charset}.\r\n    \t *\r\n    \t * &lt;p&gt;By default, returns {@link Charset#availableCharsets()}. Can be overridden in subclasses.\r\n    \t *\r\n    \t * @return the list of accepted charsets\r\n    \t */\r\n    \tprotected List&lt;Charset&gt; getAcceptedCharsets() {\r\n    \t\treturn this.availableCharsets;\r\n    \t}\r\n    \r\n    \tprivate Charset getContentTypeCharset(MediaType contentType) {\r\n    \t\tif (contentType != null &amp;&amp; contentType.getCharSet() != null) {\r\n    \t\t\treturn contentType.getCharSet();\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn defaultCharset;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSample configuration :\r\n\r\n        &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n            &lt;property name=&quot;messageConverters&quot;&gt;\r\n                &lt;util:list&gt;\r\n                    &lt;bean class=&quot;ru.dz.mvk.util.ConfigurableStringHttpMessageConverter&quot;&gt;\r\n                        &lt;constructor-arg index=&quot;0&quot; value=&quot;UTF-8&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/util:list&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<pre><code>public final class ConfigurableStringHttpMessageConverter extends AbstractHttpMessageConverter&lt;String&gt; {\n\n    private Charset defaultCharset;\n\n    public Charset getDefaultCharset() {\n        return defaultCharset;\n    }\n\n    private final List&lt;Charset&gt; availableCharsets;\n\n    private boolean writeAcceptCharset = true;\n\n    public ConfigurableStringHttpMessageConverter() {\n        super(new MediaType(\"text\", \"plain\", StringHttpMessageConverter.DEFAULT_CHARSET), MediaType.ALL);\n        defaultCharset = StringHttpMessageConverter.DEFAULT_CHARSET;\n        this.availableCharsets = new ArrayList&lt;Charset&gt;(Charset.availableCharsets().values());\n    }\n\n    public ConfigurableStringHttpMessageConverter(String charsetName) {\n        super(new MediaType(\"text\", \"plain\", Charset.forName(charsetName)), MediaType.ALL);\n        defaultCharset = Charset.forName(charsetName);\n        this.availableCharsets = new ArrayList&lt;Charset&gt;(Charset.availableCharsets().values());\n    }\n\n    /**\n     * Indicates whether the {@code Accept-Charset} should be written to any outgoing request.\n     * &lt;p&gt;Default is {@code true}.\n     */\n    public void setWriteAcceptCharset(boolean writeAcceptCharset) {\n        this.writeAcceptCharset = writeAcceptCharset;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return String.class.equals(clazz);\n    }\n\n    @Override\n    protected String readInternal(Class clazz, HttpInputMessage inputMessage) throws IOException {\n        Charset charset = getContentTypeCharset(inputMessage.getHeaders().getContentType());\n        return FileCopyUtils.copyToString(new InputStreamReader(inputMessage.getBody(), charset));\n    }\n\n    @Override\n    protected Long getContentLength(String s, MediaType contentType) {\n        Charset charset = getContentTypeCharset(contentType);\n        try {\n            return (long) s.getBytes(charset.name()).length;\n        }\n        catch (UnsupportedEncodingException ex) {\n            // should not occur\n            throw new InternalError(ex.getMessage());\n        }\n    }\n\n    @Override\n    protected void writeInternal(String s, HttpOutputMessage outputMessage) throws IOException {\n        if (writeAcceptCharset) {\n            outputMessage.getHeaders().setAcceptCharset(getAcceptedCharsets());\n        }\n        Charset charset = getContentTypeCharset(outputMessage.getHeaders().getContentType());\n        FileCopyUtils.copy(s, new OutputStreamWriter(outputMessage.getBody(), charset));\n    }\n\n    /**\n     * Return the list of supported {@link Charset}.\n     *\n     * &lt;p&gt;By default, returns {@link Charset#availableCharsets()}. Can be overridden in subclasses.\n     *\n     * @return the list of accepted charsets\n     */\n    protected List&lt;Charset&gt; getAcceptedCharsets() {\n        return this.availableCharsets;\n    }\n\n    private Charset getContentTypeCharset(MediaType contentType) {\n        if (contentType != null &amp;&amp; contentType.getCharSet() != null) {\n            return contentType.getCharSet();\n        }\n        else {\n            return defaultCharset;\n        }\n    }\n}\n</code></pre>\n\n<p>Sample configuration :</p>\n\n<pre><code>    &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n        &lt;property name=\"messageConverters\"&gt;\n            &lt;util:list&gt;\n                &lt;bean class=\"ru.dz.mvk.util.ConfigurableStringHttpMessageConverter\"&gt;\n                    &lt;constructor-arg index=\"0\" value=\"UTF-8\"/&gt;\n                &lt;/bean&gt;\n            &lt;/util:list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1414245,"reputation":335,"user_id":1340209,"display_name":"Balasubramanian Jayaraman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1369650897,"creation_date":1369650897,"answer_id":16771261,"question_id":3616359,"body_markdown":"You can use produces to indicate the type of the response you are sending from the controller. This &quot;produces&quot; keyword will be most useful in ajax request and was very helpful in my project\r\n\r\n    @RequestMapping(value = &quot;/aURLMapping.htm&quot;, method = RequestMethod.GET, produces = &quot;text/html; charset=utf-8&quot;) \r\n     \r\n    public @ResponseBody String getMobileData() {\r\n\r\n    }","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>You can use produces to indicate the type of the response you are sending from the controller. This \"produces\" keyword will be most useful in ajax request and was very helpful in my project</p>\n\n<pre><code>@RequestMapping(value = \"/aURLMapping.htm\", method = RequestMethod.GET, produces = \"text/html; charset=utf-8\") \n\npublic @ResponseBody String getMobileData() {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1717214,"reputation":166,"user_id":1574028,"display_name":"AdaroMu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381473755,"creation_date":1381357200,"answer_id":19283835,"question_id":3616359,"body_markdown":"The simple way to solve this problem in Spring 3.1.1 is that: add following configuration codes in `servlet-context.xml`\r\n \r\n        &lt;annotation-driven&gt;\r\n        &lt;message-converters register-defaults=&quot;true&quot;&gt;\r\n        &lt;beans:bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n        &lt;beans:property\tname=&quot;supportedMediaTypes&quot;&gt;    \r\n        &lt;beans:value&gt;text/plain;charset=UTF-8&lt;/beans:value&gt;\r\n        &lt;/beans:property&gt;\r\n        &lt;/beans:bean&gt;\r\n        &lt;/message-converters&gt;\r\n        &lt;/annotation-driven&gt;\r\n\r\n\r\nDon&#39;t need to override or implement anything.","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>The simple way to solve this problem in Spring 3.1.1 is that: add following configuration codes in <code>servlet-context.xml</code></p>\n\n<pre><code>    &lt;annotation-driven&gt;\n    &lt;message-converters register-defaults=\"true\"&gt;\n    &lt;beans:bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n    &lt;beans:property name=\"supportedMediaTypes\"&gt;    \n    &lt;beans:value&gt;text/plain;charset=UTF-8&lt;/beans:value&gt;\n    &lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n    &lt;/message-converters&gt;\n    &lt;/annotation-driven&gt;\n</code></pre>\n\n<p>Don't need to override or implement anything.</p>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438668274,"creation_date":1438668274,"answer_id":31801782,"question_id":3616359,"body_markdown":"According to the [link](http://wiki.apache.org/tomcat/FAQ/CharacterEncoding) &quot; If a character encoding is not specified, the Servlet specification requires that an encoding of ISO-8859-1 is used &quot;.If you are using spring 3.1 or later use the fallowing configuration to set charset=UTF-8 to response body  \r\n***@RequestMapping(value = &quot;your mapping  url&quot;, produces = &quot;text/plain;charset=UTF-8&quot;)*** ","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>According to the <a href=\"http://wiki.apache.org/tomcat/FAQ/CharacterEncoding\" rel=\"nofollow\">link</a> \" If a character encoding is not specified, the Servlet specification requires that an encoding of ISO-8859-1 is used \".If you are using spring 3.1 or later use the fallowing configuration to set charset=UTF-8 to response body<br>\n<strong><em>@RequestMapping(value = \"your mapping  url\", produces = \"text/plain;charset=UTF-8\")</em></strong> </p>\n"},{"tags":[],"owner":{"account_id":10237619,"reputation":21,"user_id":7555997,"display_name":"Lich"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489629401,"creation_date":1489629401,"answer_id":42823981,"question_id":3616359,"body_markdown":"if you decide to fix this problem through the following configuration:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n      &lt;mvc:message-converters register-defaults=&quot;true&quot;&gt;\r\n        &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n          &lt;property name=&quot;supportedMediaTypes&quot; value = &quot;text/plain;charset=UTF-8&quot; /&gt;\r\n        &lt;/bean&gt;\r\n      &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\nyou should confirm that there should only one mvc:annotation-driven tag in all your *.xml file.\r\notherwise, the configuration may not be effective.","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>if you decide to fix this problem through the following configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n  &lt;mvc:message-converters register-defaults=\"true\"&gt;\n    &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n      &lt;property name=\"supportedMediaTypes\" value = \"text/plain;charset=UTF-8\" /&gt;\n    &lt;/bean&gt;\n  &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>you should confirm that there should only one mvc:annotation-driven tag in all your *.xml file.\notherwise, the configuration may not be effective.</p>\n"}],"owner":{"account_id":36721,"reputation":4645,"user_id":104856,"accept_rate":88,"display_name":"Hurda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292479,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":3617594,"answer_count":16,"score":138,"last_activity_date":1666811665,"creation_date":1283330955,"question_id":3616359,"body_markdown":"I&#39;m having in my Annotation driven Spring MVC Java web application runned on jetty web server (currently in maven jetty plugin).\r\n\r\nI&#39;m trying to do some AJAX support with one controller method returning just String help text. Resources are in UTF-8 encoding and so is the string, but my response from server comes with \r\n\r\n    content-encoding: text/plain;charset=ISO-8859-1 \r\n\r\neven when my browser sends \r\n\r\n    Accept-Charset\twindows-1250,utf-8;q=0.7,*;q=0.7\r\n\r\nI&#39;m using somehow default configuration of spring\r\n\r\nI have found a hint to add this bean to the configuration, but I think it&#39;s just not used, because it says it does not support the encoding and a default one is used instead.\r\n\r\n\r\n\t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t&lt;property name=&quot;supportedMediaTypes&quot; value=&quot;text/plain;charset=UTF-8&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nMy controller code is (note that this change of response type is not working for me):\r\n\r\n\t@RequestMapping(value = &quot;ajax/gethelp&quot;)\r\n\tpublic @ResponseBody String handleGetHelp(Locale loc, String code, HttpServletResponse response) {\r\n\t\tlog.debug(&quot;Getting help for code: &quot; + code);\r\n\t\tresponse.setContentType(&quot;text/plain;charset=UTF-8&quot;);\r\n\t\tString help = messageSource.getMessage(code, null, loc);\r\n\t\tlog.debug(&quot;Help is: &quot; + help);\r\n\t\treturn help;\r\n\t}","title":"Who sets response content-type in Spring MVC (@ResponseBody)","body":"<p>I'm having in my Annotation driven Spring MVC Java web application runned on jetty web server (currently in maven jetty plugin).</p>\n\n<p>I'm trying to do some AJAX support with one controller method returning just String help text. Resources are in UTF-8 encoding and so is the string, but my response from server comes with </p>\n\n<pre><code>content-encoding: text/plain;charset=ISO-8859-1 \n</code></pre>\n\n<p>even when my browser sends </p>\n\n<pre><code>Accept-Charset  windows-1250,utf-8;q=0.7,*;q=0.7\n</code></pre>\n\n<p>I'm using somehow default configuration of spring</p>\n\n<p>I have found a hint to add this bean to the configuration, but I think it's just not used, because it says it does not support the encoding and a default one is used instead.</p>\n\n<pre><code>&lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n    &lt;property name=\"supportedMediaTypes\" value=\"text/plain;charset=UTF-8\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>My controller code is (note that this change of response type is not working for me):</p>\n\n<pre><code>@RequestMapping(value = \"ajax/gethelp\")\npublic @ResponseBody String handleGetHelp(Locale loc, String code, HttpServletResponse response) {\n    log.debug(\"Getting help for code: \" + code);\n    response.setContentType(\"text/plain;charset=UTF-8\");\n    String help = messageSource.getMessage(code, null, loc);\n    log.debug(\"Help is: \" + help);\n    return help;\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","spring-data-elasticsearch","elasticsearch-aggregation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666817202,"post_id":74213060,"comment_id":131028469,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1666853537,"post_id":74213060,"comment_id":131034552,"body_markdown":"When processing the `result` you have to parse what is returned in the `AggregationContainer` The type that is contained there comes from the Elasticsearch client library, so you need to check what properties it has. Spring Data Elasticsearch doe not do any parsing of aggregation results.","body":"When processing the <code>result</code> you have to parse what is returned in the <code>AggregationContainer</code> The type that is contained there comes from the Elasticsearch client library, so you need to check what properties it has. Spring Data Elasticsearch doe not do any parsing of aggregation results."}],"owner":{"account_id":10555776,"reputation":1,"user_id":7777014,"display_name":"Abimanyu Chandrababu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666811365,"creation_date":1666811365,"question_id":74213060,"body_markdown":"I&#39;m trying the Elasticsearch aggregations in spring webflux. \r\n\r\nI what to know how to get the buckets values (inside buckets count) from  Flux\\&lt;AggregationContainer\\&lt;?\\&gt;\\&gt; in Java API and total records in elasticsearch. \r\n\r\n```\r\nRequest:\r\norder/_search\r\n{\r\n  &quot;size&quot;: 0, \r\n          &quot;aggs&quot;: {  &quot;status&quot;:\r\n { &quot;terms&quot;: \r\n { &quot;field&quot;:&quot;order_status&quot; , &quot;size&quot;: 100}}}}\r\n\r\nResponse:\r\n{\r\n  &quot;took&quot; : 1,\r\n  &quot;timed_out&quot; : false,\r\n  &quot;_shards&quot; : {\r\n    &quot;total&quot; : 1,\r\n    &quot;successful&quot; : 1,\r\n    &quot;skipped&quot; : 0,\r\n    &quot;failed&quot; : 0\r\n  },\r\n  &quot;hits&quot; : {\r\n    .....\r\n  },\r\n  &quot;aggregations&quot; : {\r\n    &quot;status&quot; : {\r\n    \r\n      &quot;buckets&quot; : [\r\n        {\r\n          &quot;key&quot; : &quot;CREATED&quot;,\r\n          &quot;doc_count&quot; : 34\r\n        },\r\n        .....\r\n        {\r\n          &quot;key&quot; : &quot;CANCELLED&quot;,\r\n          &quot;doc_count&quot; : 2\r\n        },\r\n        {\r\n          &quot;key&quot; : &quot;COMPLETED&quot;,\r\n          &quot;doc_count&quot; : 1\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n\r\nJava imp:\r\n  @Autowired\r\n    private ReactiveElasticsearchOperations operations;\r\nFlux&lt;AggregationContainer&lt;?&gt;&gt; result = operations.aggregate(searchQuery, Count.class, &quot;indexs&quot;);\r\n```","title":"how to get aggs count/buctuks from Flux&lt;AggregationContainer&gt;","body":"<p>I'm trying the Elasticsearch aggregations in spring webflux.</p>\n<p>I what to know how to get the buckets values (inside buckets count) from  Flux&lt;AggregationContainer&lt;?&gt;&gt; in Java API and total records in elasticsearch.</p>\n<pre><code>Request:\norder/_search\n{\n  &quot;size&quot;: 0, \n          &quot;aggs&quot;: {  &quot;status&quot;:\n { &quot;terms&quot;: \n { &quot;field&quot;:&quot;order_status&quot; , &quot;size&quot;: 100}}}}\n\nResponse:\n{\n  &quot;took&quot; : 1,\n  &quot;timed_out&quot; : false,\n  &quot;_shards&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;skipped&quot; : 0,\n    &quot;failed&quot; : 0\n  },\n  &quot;hits&quot; : {\n    .....\n  },\n  &quot;aggregations&quot; : {\n    &quot;status&quot; : {\n    \n      &quot;buckets&quot; : [\n        {\n          &quot;key&quot; : &quot;CREATED&quot;,\n          &quot;doc_count&quot; : 34\n        },\n        .....\n        {\n          &quot;key&quot; : &quot;CANCELLED&quot;,\n          &quot;doc_count&quot; : 2\n        },\n        {\n          &quot;key&quot; : &quot;COMPLETED&quot;,\n          &quot;doc_count&quot; : 1\n        }\n      ]\n    }\n  }\n}\n\nJava imp:\n  @Autowired\n    private ReactiveElasticsearchOperations operations;\nFlux&lt;AggregationContainer&lt;?&gt;&gt; result = operations.aggregate(searchQuery, Count.class, &quot;indexs&quot;);\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666814962,"post_id":74213026,"comment_id":131027824,"body_markdown":"Do you mean that your implementation would use normal `@Query` but before &quot;moving down&quot; to `JpaRepository` it would add said `WHERE` clause, correct?","body":"Do you mean that your implementation would use normal <code>@Query</code> but before &quot;moving down&quot; to <code>JpaRepository</code> it would add said <code>WHERE</code> clause, correct?"},{"owner":{"account_id":26741641,"reputation":11,"user_id":20342341,"display_name":"flyingpandas99"},"score":0,"creation_date":1666816969,"post_id":74213026,"comment_id":131028400,"body_markdown":"Yes the application this library would be attached to would still be using the @Query and a later layer down the `WHERE` clause would be appended.","body":"Yes the application this library would be attached to would still be using the @Query and a later layer down the <code>WHERE</code> clause would be appended."}],"owner":{"account_id":26741641,"reputation":11,"user_id":20342341,"display_name":"flyingpandas99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666811158,"creation_date":1666811158,"question_id":74213026,"body_markdown":"Context: I am trying to create a small library that I can add to existing applications that have complex queries implemented already. I am hoping to be as non-invasive as possible, so a developer on these existing applications would only have to import the library itself, extend my custom repository, and add the tag that is supposed to be filtered upon into their applications. \r\nQuestion: Is it possible to create a custom repository that extends everything JpaRepository gives and add a where on top of everything before execution. With the JPQL queries and named queries being included?\r\n\r\nNo code has been written, just looking at source code from [Spring Jpa](https://github.com/spring-projects/spring-data-jpa/tree/main/spring-data-jpa/src/test/java/org/springframework/data/jpa).\r\nLooking at [JpaSpecifications and QueryDsl](https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/), but would these be able to handle named queries?","title":"Spring JPA: build a library that can implement a &#39;where&#39; clause under the hood","body":"<p>Context: I am trying to create a small library that I can add to existing applications that have complex queries implemented already. I am hoping to be as non-invasive as possible, so a developer on these existing applications would only have to import the library itself, extend my custom repository, and add the tag that is supposed to be filtered upon into their applications.\nQuestion: Is it possible to create a custom repository that extends everything JpaRepository gives and add a where on top of everything before execution. With the JPQL queries and named queries being included?</p>\n<p>No code has been written, just looking at source code from <a href=\"https://github.com/spring-projects/spring-data-jpa/tree/main/spring-data-jpa/src/test/java/org/springframework/data/jpa\" rel=\"nofollow noreferrer\">Spring Jpa</a>.\nLooking at <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">JpaSpecifications and QueryDsl</a>, but would these be able to handle named queries?</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666811008,"creation_date":1666811008,"answer_id":74212998,"question_id":74211375,"body_markdown":"I&#39;m afraid `@Query` doesn&#39;t allow dynamic query in any reasonable way.","title":"Dynamic query Spring Data Jpa","body":"<p>I'm afraid <code>@Query</code> doesn't allow dynamic query in any reasonable way.</p>\n"}],"owner":{"account_id":23651590,"reputation":23,"user_id":17683553,"display_name":"Charismatic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74212998,"answer_count":1,"score":0,"last_activity_date":1666811008,"creation_date":1666802563,"question_id":74211375,"body_markdown":"So I have next situation: \r\n\r\n    @Query(value = &quot;SELECT t FROM Ticket t WHERE ?2 like %?1%&quot;)\r\n    Page&lt;Ticket&gt; searchBy(String keyword,String property,Pageable pageable);\r\n\r\nIt&#39;s don&#39;t search for anything. \r\nBut like this: \r\n\r\n    @Query(value = &quot;SELECT t FROM Ticket t WHERE t.name LIKE %?1%&quot;)\r\n    Page&lt;Ticket&gt; searchBy(String keyword, String property, Pageable pageable);\r\n\r\nwork.\r\n\r\nIt should work like this: the client sends me a keyword and a field to search for, but the field cannot be dynamically used, then it does not search for anything. Can I insert a property dynamically?","title":"Dynamic query Spring Data Jpa","body":"<p>So I have next situation:</p>\n<pre><code>@Query(value = &quot;SELECT t FROM Ticket t WHERE ?2 like %?1%&quot;)\nPage&lt;Ticket&gt; searchBy(String keyword,String property,Pageable pageable);\n</code></pre>\n<p>It's don't search for anything.\nBut like this:</p>\n<pre><code>@Query(value = &quot;SELECT t FROM Ticket t WHERE t.name LIKE %?1%&quot;)\nPage&lt;Ticket&gt; searchBy(String keyword, String property, Pageable pageable);\n</code></pre>\n<p>work.</p>\n<p>It should work like this: the client sends me a keyword and a field to search for, but the field cannot be dynamically used, then it does not search for anything. Can I insert a property dynamically?</p>\n"},{"tags":["java","c#","android","kotlin","signalr"],"answers":[{"comments":[{"owner":{"account_id":3724466,"reputation":257,"user_id":3098657,"display_name":"BrendanDodd"},"score":0,"creation_date":1666990986,"post_id":74212955,"comment_id":131073529,"body_markdown":"AH so simple, thanks I&#39;m not sure why I didn&#39;t see that.","body":"AH so simple, thanks I&#39;m not sure why I didn&#39;t see that."}],"tags":[],"owner":{"account_id":12618914,"reputation":1864,"user_id":9175226,"display_name":"Brennan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666810775,"creation_date":1666810775,"answer_id":74212955,"question_id":74204869,"body_markdown":"Change your hub method to return the value instead of sending a message back to the client.\r\n\r\ne.g.\r\n```\r\npublic string GetActiveAlarms()\r\n{\r\n    Console.WriteLine(&quot;GetActiveAlarms Called&quot;);\r\n    return Program.activeAlarms;\r\n}\r\n```","title":"SignalR Client for Java/Android - Invoke callback never called","body":"<p>Change your hub method to return the value instead of sending a message back to the client.</p>\n<p>e.g.</p>\n<pre><code>public string GetActiveAlarms()\n{\n    Console.WriteLine(&quot;GetActiveAlarms Called&quot;);\n    return Program.activeAlarms;\n}\n</code></pre>\n"}],"owner":{"account_id":3724466,"reputation":257,"user_id":3098657,"display_name":"BrendanDodd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74212955,"answer_count":1,"score":1,"last_activity_date":1666810775,"creation_date":1666773630,"question_id":74204869,"body_markdown":"I&#39;ve been experimenting with SignalR client in an Android app connecting to a C# server hub.\r\n\r\nWhen the Main Activity launches I want to invoke a call to grab the current List data from the server and call back when it&#39;s received so the RecyclerView can be loaded\r\n\r\nHowever I can&#39;t seem to get the HubConnection.Invoke method to return a value, I&#39;ve confirmed the hub is certainly receiving the request and is returning a value with the below;\r\n\r\n\r\n```\r\n        public async Task GetActiveAlarms()\r\n        {\r\n            Console.WriteLine(&quot;GetActiveAlarms Called&quot;);\r\n            await Clients.Caller.SendAsync(&quot;GetActiveAlarms&quot;, Program.activeAlarms);\r\n        }\r\n```\r\n\r\n\r\nIn the client I am calling using the below and using the doOnComplete callback\r\n\r\n\r\n\r\n```\r\nhubConnection.invoke(&quot;GetActiveAlarms&quot;).doOnComplete {\r\n    //is never called\r\n}.blockingAwait()\r\n```\r\n\r\nHowever the .on listener for &quot;GetActiveAlarms&quot; is called, which indicates the hub is receiving the request and responding.\r\n\r\nUnfortunately I can&#39;t find a huge amount of information on the SignalR library for Java so I may be doing it all wrong.\r\n\r\n\r\nThanks!\r\n\r\n\r\n\r\n","title":"SignalR Client for Java/Android - Invoke callback never called","body":"<p>I've been experimenting with SignalR client in an Android app connecting to a C# server hub.</p>\n<p>When the Main Activity launches I want to invoke a call to grab the current List data from the server and call back when it's received so the RecyclerView can be loaded</p>\n<p>However I can't seem to get the HubConnection.Invoke method to return a value, I've confirmed the hub is certainly receiving the request and is returning a value with the below;</p>\n<pre><code>        public async Task GetActiveAlarms()\n        {\n            Console.WriteLine(&quot;GetActiveAlarms Called&quot;);\n            await Clients.Caller.SendAsync(&quot;GetActiveAlarms&quot;, Program.activeAlarms);\n        }\n</code></pre>\n<p>In the client I am calling using the below and using the doOnComplete callback</p>\n<pre><code>hubConnection.invoke(&quot;GetActiveAlarms&quot;).doOnComplete {\n    //is never called\n}.blockingAwait()\n</code></pre>\n<p>However the .on listener for &quot;GetActiveAlarms&quot; is called, which indicates the hub is receiving the request and responding.</p>\n<p>Unfortunately I can't find a huge amount of information on the SignalR library for Java so I may be doing it all wrong.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666810434,"creation_date":1666810434,"answer_id":74212893,"question_id":74168910,"body_markdown":"Don&#39;t know regarding MongoRepository, but we got the same problem, and the solution was:\r\n\r\n    import org.springframework.data.mongodb.core.query.*;\r\n\r\n    Criteria criteria = Criteria.where(&quot;firstName&quot;).is(firstName);\r\n    Collation collation = Collation.of(Locale.ENGLISH).strength(Collation.ComparisonLevel.secondary());\r\n    Query query = new Query(criteria).collation(collation);\r\n    return mongoTemplate.findOne(query, Patient.class);","title":"spring boot mongodb repository : custom method not working when capital data in database why? but small case it work","body":"<p>Don't know regarding MongoRepository, but we got the same problem, and the solution was:</p>\n<pre><code>import org.springframework.data.mongodb.core.query.*;\n\nCriteria criteria = Criteria.where(&quot;firstName&quot;).is(firstName);\nCollation collation = Collation.of(Locale.ENGLISH).strength(Collation.ComparisonLevel.secondary());\nQuery query = new Query(criteria).collation(collation);\nreturn mongoTemplate.findOne(query, Patient.class);\n</code></pre>\n"}],"owner":{"account_id":20143141,"reputation":41,"user_id":14772343,"display_name":"Subham Kr Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666810434,"creation_date":1666503634,"question_id":74168910,"body_markdown":"    @Repository\r\n    public interface Repository extends MongoRepository&lt;Patient, String&gt; {\r\n    \r\n    //\tSearch Methods\r\n    \r\n    \tList&lt;Patient&gt; findByFirstname(String firstName);\r\n    \t\r\n    \tList&lt;Patient&gt; findByLastname(String lastName);\r\n    \t\r\n    \tList&lt;Patient&gt; findByEmail(String email);\r\n    \t\r\n    \tList&lt;Patient&gt; findByPincode(String pincode);\r\n    \t\r\n    \tList&lt;Patient&gt; findByContactnumber(String contactDetails);\r\n    \t\r\n    \tList&lt;Patient&gt; findByCity(String city);\r\n    \r\n    }\r\n\r\nI have created a custom find method, but this method not working when the FirstName is like -&gt; Subham or SUBHAM but it works when the FirstName is subham. Can you please help to solve this problem?\r\n\r\nthe lowercase works every time but the uppercase does not work.\r\n\r\n","title":"spring boot mongodb repository : custom method not working when capital data in database why? but small case it work","body":"<pre><code>@Repository\npublic interface Repository extends MongoRepository&lt;Patient, String&gt; {\n\n//  Search Methods\n\n    List&lt;Patient&gt; findByFirstname(String firstName);\n    \n    List&lt;Patient&gt; findByLastname(String lastName);\n    \n    List&lt;Patient&gt; findByEmail(String email);\n    \n    List&lt;Patient&gt; findByPincode(String pincode);\n    \n    List&lt;Patient&gt; findByContactnumber(String contactDetails);\n    \n    List&lt;Patient&gt; findByCity(String city);\n\n}\n</code></pre>\n<p>I have created a custom find method, but this method not working when the FirstName is like -&gt; Subham or SUBHAM but it works when the FirstName is subham. Can you please help to solve this problem?</p>\n<p>the lowercase works every time but the uppercase does not work.</p>\n"},{"tags":["java","spring","design-patterns"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1666812349,"post_id":74212892,"comment_id":131027094,"body_markdown":"Maybe `@Conditional` is what could help you: https://www.baeldung.com/spring-conditional-annotations","body":"Maybe <code>@Conditional</code> is what could help you: <a href=\"https://www.baeldung.com/spring-conditional-annotations\" rel=\"nofollow noreferrer\">baeldung.com/spring-conditional-annotations</a>"},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":0,"creation_date":1666817732,"post_id":74212892,"comment_id":131028581,"body_markdown":"You would need a factory, that factory will have all kind of services injected and based  on Validator in X you can return the service. You can also call the factory as a wrapper service.","body":"You would need a factory, that factory will have all kind of services injected and based  on Validator in X you can return the service. You can also call the factory as a wrapper service."}],"owner":{"account_id":26741827,"reputation":3,"user_id":20342501,"display_name":"Kusangai2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666810428,"creation_date":1666810428,"question_id":74212892,"body_markdown":"I have a class X with field `validator`\r\n```\r\nclass X {\r\n  private Validator validator = Validators.A;\r\n\r\n}\r\n```\r\nNow, in other component, I have a method:\r\n```\r\nprivate MyService myService;\r\n\r\n[...]\r\n\r\npublic void foo(X x) {\r\n  myService.validate(x);\r\n\r\n}\r\n```\r\n\r\nI want to force Spring to use specific MyService implementation depending on which Validator has class X? Is there any Spring mechanism or pattern?\r\n\r\nHope, you understand. Thanks for any help.\r\n\r\nSo far I wrote a lot of if statements. It works, but I hope I could write it better.","title":"Use specific service depending on class field","body":"<p>I have a class X with field <code>validator</code></p>\n<pre><code>class X {\n  private Validator validator = Validators.A;\n\n}\n</code></pre>\n<p>Now, in other component, I have a method:</p>\n<pre><code>private MyService myService;\n\n[...]\n\npublic void foo(X x) {\n  myService.validate(x);\n\n}\n</code></pre>\n<p>I want to force Spring to use specific MyService implementation depending on which Validator has class X? Is there any Spring mechanism or pattern?</p>\n<p>Hope, you understand. Thanks for any help.</p>\n<p>So far I wrote a lot of if statements. It works, but I hope I could write it better.</p>\n"},{"tags":["java","recursion","difference"],"comments":[{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":4,"creation_date":1390987515,"post_id":21426688,"comment_id":32325982,"body_markdown":"&quot;Head recursion&quot; isn&#39;t something I&#39;ve ever heard of before. It doesn&#39;t sound like a useful concept; it&#39;s extremely rare for a recursive call to be the very first thing a function does. That precludes any sort of conditional to determine whether to execute the call and any arguments that would need to be evaluated before the function call. In some languages, it&#39;s even impossible, as the function must evaluate an expression at runtime to determine the function to recursively call.","body":"&quot;Head recursion&quot; isn&#39;t something I&#39;ve ever heard of before. It doesn&#39;t sound like a useful concept; it&#39;s extremely rare for a recursive call to be the very first thing a function does. That precludes any sort of conditional to determine whether to execute the call and any arguments that would need to be evaluated before the function call. In some languages, it&#39;s even impossible, as the function must evaluate an expression at runtime to determine the function to recursively call."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1390988263,"post_id":21426688,"comment_id":32326440,"body_markdown":"Googled it. Looks like the sources that use the term have a very loose definition of &quot;head&quot;, roughly meaning before the &quot;real work&quot;. I&#39;m not sure why they define &quot;head recursion&quot; at all; they don&#39;t seem to go anywhere with the concept. It definitely isn&#39;t as useful as tail recursion.","body":"Googled it. Looks like the sources that use the term have a very loose definition of &quot;head&quot;, roughly meaning before the &quot;real work&quot;. I&#39;m not sure why they define &quot;head recursion&quot; at all; they don&#39;t seem to go anywhere with the concept. It definitely isn&#39;t as useful as tail recursion."},{"owner":{"account_id":1706785,"reputation":48162,"user_id":1565698,"accept_rate":38,"display_name":"Sylwester"},"score":1,"creation_date":1390995854,"post_id":21426688,"comment_id":32331572,"body_markdown":"To differ between head recursion and everything that isn&#39;t tail recursion seems redundant.","body":"To differ between head recursion and everything that isn&#39;t tail recursion seems redundant."},{"owner":{"account_id":5869055,"reputation":205,"user_id":4674841,"display_name":"John Smith"},"score":0,"creation_date":1532468355,"post_id":21426688,"comment_id":89984879,"body_markdown":"@user2357112: pardon the late reply, but the difference between head recursion and tail recursion is important in that it can have memory implications. Anything calculated before the recursive call has to be stored in a stack until the entire subsequent recursive function is calculated. Certain systems require a more memory, and hence can&#39;t recurse as deeply and may error out, for tail recursion. Head recursion simply passes the function&#39;s result forward into the next iteration of calculations, so only 1 value ever needs to be stored at a time.","body":"@user2357112: pardon the late reply, but the difference between head recursion and tail recursion is important in that it can have memory implications. Anything calculated before the recursive call has to be stored in a stack until the entire subsequent recursive function is calculated. Certain systems require a more memory, and hence can&#39;t recurse as deeply and may error out, for tail recursion. Head recursion simply passes the function&#39;s result forward into the next iteration of calculations, so only 1 value ever needs to be stored at a time."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1532471269,"post_id":21426688,"comment_id":89985763,"body_markdown":"@MichaelKupietz: You&#39;ve got that backwards. Tail recursion can be optimized to eliminate indefinite call stack growth, and some functional programming languages make this mandatory. &quot;Head recursion&quot; needs to maintain call stack information, preventing such optimization.","body":"@MichaelKupietz: You&#39;ve got that backwards. Tail recursion can be optimized to eliminate indefinite call stack growth, and some functional programming languages make this mandatory. &quot;Head recursion&quot; needs to maintain call stack information, preventing such optimization."},{"owner":{"account_id":5869055,"reputation":205,"user_id":4674841,"display_name":"John Smith"},"score":0,"creation_date":1539329012,"post_id":21426688,"comment_id":92470509,"body_markdown":"@user2357112 Oops, don&#39;t know how I got them wrong. I must&#39;ve had my head stuck up my tail.","body":"@user2357112 Oops, don&#39;t know how I got them wrong. I must&#39;ve had my head stuck up my tail."},{"owner":{"account_id":9681798,"reputation":1384,"user_id":7183221,"accept_rate":100,"display_name":"csguy"},"score":0,"creation_date":1578460880,"post_id":21426688,"comment_id":105441425,"body_markdown":"what&#39;s the point of head recursion anyways? why&#39;s it even a thing","body":"what&#39;s the point of head recursion anyways? why&#39;s it even a thing"}],"answers":[{"comments":[{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":3,"creation_date":1390987306,"post_id":21426731,"comment_id":32325850,"body_markdown":"Umm... Tail Recursion is a seperate thing. Tail Call Optimisation is an optiisation that can be applied to tail recursion. They are not the same as implied in your first paragraph.","body":"Umm... Tail Recursion is a seperate thing. Tail Call Optimisation is an optiisation that can be applied to tail recursion. They are not the same as implied in your first paragraph."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1390987700,"post_id":21426731,"comment_id":32326102,"body_markdown":"Aren&#39;t these basically just the definitions the OP stated themselves?","body":"Aren&#39;t these basically just the definitions the OP stated themselves?"},{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":2,"creation_date":1390987845,"post_id":21426731,"comment_id":32326180,"body_markdown":"Can one put an example for head recursion ? Because in my mind, having the first line of a method immediatly calling the recursion makes an infinite loop, no ? like &lt;code&gt;int recurCall(int number) { int res = recurCall(number -1); ...process...; return res; }&lt;/code&gt;.","body":"Can one put an example for head recursion ? Because in my mind, having the first line of a method immediatly calling the recursion makes an infinite loop, no ? like &lt;code&gt;int recurCall(int number) { int res = recurCall(number -1); ...process...; return res; }&lt;/code&gt;."},{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious ღ"},"score":0,"creation_date":1390989279,"post_id":21426731,"comment_id":32327061,"body_markdown":"@Sara -  I have given the difference in theory as well as with example. Look the paragraphs after the example it shows what you want.","body":"@Sara -  I have given the difference in theory as well as with example. Look the paragraphs after the example it shows what you want."},{"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious ღ"},"score":0,"creation_date":1390990251,"post_id":21426731,"comment_id":32327733,"body_markdown":"My Pleasure to help, Keep Smiling..","body":"My Pleasure to help, Keep Smiling.."},{"owner":{"display_name":"user4288844"},"score":0,"creation_date":1436104778,"post_id":21426731,"comment_id":50460936,"body_markdown":"So is tail the same as post, and head the same as pre, recursion?","body":"So is tail the same as post, and head the same as pre, recursion?"}],"tags":[],"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious ღ"},"comment_count":6,"down_vote_count":3,"up_vote_count":71,"is_accepted":true,"score":68,"last_activity_date":1666810387,"creation_date":1390987188,"answer_id":21426731,"question_id":21426688,"body_markdown":"In head recursion, the recursive call, when it happens, comes before other processing in the function (think of it happening at the top, or head, of the function). \r\n\r\nIn tail recursion, it’s the opposite—the processing occurs before the recursive call. Choosing between the two recursive styles may seem arbitrary, but the choice can make all the difference. \r\n\r\nA function with a path with a single recursive call at the beginning of the path uses what is called head recursion. The factorial function of a previous exhibit uses head recursion. The first thing it does once it determines that recursion is needed is to call itself with the decremented parameter.\r\nA function with a single recursive call at the end of a path is using tail recursion.\r\n[Refer this article][1]\r\n\r\nExample Recursion :\r\n\r\n    public void tail(int n)         |     public void head(int n)\r\n    {                               |     {\r\n        if(n == 1)                  |         if(n == 0)\r\n            return;                 |             return;\r\n        else                        |         else\r\n            System.out.println(n);  |             head(n-1);\r\n                                    |\r\n        tail(n-1);                  |         System.out.println(n);\r\n    }                               |     }\r\n\r\nIf the recursive call occurs at the end of a method, it is called a tail recursion. The tail recursion is *similar to a loop*. The method executes all the statements before jumping into the next recursive call.\r\n\r\nIf the recursive call occurs at the *beginning of a method*, it is called a head recursion. The method saves the state before jumping into the next recursive call.\r\n\r\n  [1]: http://wiki.answers.com/Q/What_is_difference_between_recursion_and_tail_recursion\r\n","title":"The difference between head &amp; tail recursion","body":"<p>In head recursion, the recursive call, when it happens, comes before other processing in the function (think of it happening at the top, or head, of the function).</p>\n<p>In tail recursion, it’s the opposite—the processing occurs before the recursive call. Choosing between the two recursive styles may seem arbitrary, but the choice can make all the difference.</p>\n<p>A function with a path with a single recursive call at the beginning of the path uses what is called head recursion. The factorial function of a previous exhibit uses head recursion. The first thing it does once it determines that recursion is needed is to call itself with the decremented parameter.\nA function with a single recursive call at the end of a path is using tail recursion.\n<a href=\"http://wiki.answers.com/Q/What_is_difference_between_recursion_and_tail_recursion\" rel=\"nofollow noreferrer\">Refer this article</a></p>\n<p>Example Recursion :</p>\n<pre><code>public void tail(int n)         |     public void head(int n)\n{                               |     {\n    if(n == 1)                  |         if(n == 0)\n        return;                 |             return;\n    else                        |         else\n        System.out.println(n);  |             head(n-1);\n                                |\n    tail(n-1);                  |         System.out.println(n);\n}                               |     }\n</code></pre>\n<p>If the recursive call occurs at the end of a method, it is called a tail recursion. The tail recursion is <em>similar to a loop</em>. The method executes all the statements before jumping into the next recursive call.</p>\n<p>If the recursive call occurs at the <em>beginning of a method</em>, it is called a head recursion. The method saves the state before jumping into the next recursive call.</p>\n"}],"owner":{"account_id":3399122,"reputation":950,"user_id":2851858,"accept_rate":68,"display_name":"Scarl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67581,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"closed_date":1390995883,"accepted_answer_id":21426731,"answer_count":1,"score":45,"last_activity_date":1666810387,"creation_date":1390987039,"question_id":21426688,"body_markdown":"I&#39;m trying to get the difference between these 2 recursive strategies.\r\n\r\nThe definition I was told is the following:\r\n\r\n**Tail Recursion:** A call is tail-recursive if nothing has to be done after the call returns i.e. when the call returns, the returned value is immediately returned from the calling function\r\n\r\n**Head Recursion:** A call is head-recursive when the first statement of the function is the recursive call.\r\n","title":"The difference between head &amp; tail recursion","body":"<p>I'm trying to get the difference between these 2 recursive strategies.</p>\n\n<p>The definition I was told is the following:</p>\n\n<p><strong>Tail Recursion:</strong> A call is tail-recursive if nothing has to be done after the call returns i.e. when the call returns, the returned value is immediately returned from the calling function</p>\n\n<p><strong>Head Recursion:</strong> A call is head-recursive when the first statement of the function is the recursive call.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666807417,"post_id":74207166,"comment_id":131025478,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1666822209,"post_id":74207166,"comment_id":131029619,"body_markdown":"[async-profiler](https://github.com/jvm-profiling-tools/async-profiler/) has a special mode for profiling time-to-safepoint phases: `--ttsp`. See also [this answer](https://stackoverflow.com/a/67237599/3448419) for possible reasons.","body":"<a href=\"https://github.com/jvm-profiling-tools/async-profiler/\" rel=\"nofollow noreferrer\">async-profiler</a> has a special mode for profiling time-to-safepoint phases: <code>--ttsp</code>. See also <a href=\"https://stackoverflow.com/a/67237599/3448419\">this answer</a> for possible reasons."}],"answers":[{"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1666823081,"post_id":74210727,"comment_id":131029815,"body_markdown":"183ms is enough to copy 1GB array. But more importantly, the logs say there are 290 threads in total, and none of them were running at the time of safepoint sync. So none of the mentioned reasons seem relevant here. Most often, such delays are caused by OS-level freezes due to paging, direct reclaim, etc.","body":"183ms is enough to copy 1GB array. But more importantly, the logs say there are 290 threads in total, and none of them were running at the time of safepoint sync. So none of the mentioned reasons seem relevant here. Most often, such delays are caused by OS-level freezes due to paging, direct reclaim, etc."}],"tags":[],"owner":{"account_id":10837897,"reputation":667,"user_id":7970245,"display_name":"Turac"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666810180,"creation_date":1666799523,"answer_id":74210727,"question_id":74207166,"body_markdown":"Your log not enough for find solution but it shows problem source. VM want reach to safepoint and all threads should stop on known points. For reach to safepoint **all threads** must stopped. Some threads can reach to safepoint and stop but some threads continue working operation because not observed it yet. Stopped threads are waiting to running threads.This time, represent as **sync** keyword. That means, sync is total time of between send safepoint request and block all java threads. So your applicationis waiting to stop all java threads. It can be many reason but The main reasons I know are:\r\n\r\n 1. Long loops\r\n 2. Too many threads on running state\r\n 3. Large data copy. e.g. `System.arraycopy()`\r\n\r\n[This pdf][1](page 199) explain TTSP(time to safe point) very well.(It is explaining with shenandoah GC but it is enough for understand)\r\n\r\n\r\n  [1]: https://shipilev.net/talks/jugbb-Sep2019-shenandoah.pdf","title":"My java application cost long time to reach safepoint during the stage of &#39;sync&#39;","body":"<p>Your log not enough for find solution but it shows problem source. VM want reach to safepoint and all threads should stop on known points. For reach to safepoint <strong>all threads</strong> must stopped. Some threads can reach to safepoint and stop but some threads continue working operation because not observed it yet. Stopped threads are waiting to running threads.This time, represent as <strong>sync</strong> keyword. That means, sync is total time of between send safepoint request and block all java threads. So your applicationis waiting to stop all java threads. It can be many reason but The main reasons I know are:</p>\n<ol>\n<li>Long loops</li>\n<li>Too many threads on running state</li>\n<li>Large data copy. e.g. <code>System.arraycopy()</code></li>\n</ol>\n<p><a href=\"https://shipilev.net/talks/jugbb-Sep2019-shenandoah.pdf\" rel=\"nofollow noreferrer\">This pdf</a>(page 199) explain TTSP(time to safe point) very well.(It is explaining with shenandoah GC but it is enough for understand)</p>\n"}],"owner":{"account_id":26736797,"reputation":1,"user_id":20338258,"display_name":"胡骏飞"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666810180,"creation_date":1666784477,"question_id":74207166,"body_markdown":"My java application stopped almost 190ms during whole gc process include the cost of waiting threads reach to the safepoint at the time of &#39;2022-10-26 16:08:37.285&#39;. The gc log shows that the time of STW is just 30+ ms, so I download the vm log to check if the long stopped time is caused by the stage of waiting threads reach to safepoint and block threads. The vm log shows that it cost 183 ms during the stage of &#39;sync.I wander what result in so long time stopped during the stage of &#39;sync&#39;.\r\n\r\ngc log:\r\n\r\n\r\n```\r\n2022-10-26T16:08:36.239+0800: 7081.719: [GC concurrent-root-region-scan-start]\r\n2022-10-26T16:08:36.239+0800: 7081.719: Total time for which application threads were stopped: 0.0424589 seconds, Stopping threads took: 0.0001501 seconds\r\n2022-10-26T16:08:36.279+0800: 7081.759: [GC concurrent-root-region-scan-end, 0.0402316 secs]\r\n2022-10-26T16:08:36.279+0800: 7081.759: [GC concurrent-mark-start]\r\n2022-10-26T16:08:37.246+0800: 7082.726: Application time: 1.0071790 seconds\r\n2022-10-26T16:08:37.248+0800: 7082.727: [GC pause (G1 Evacuation Pause) (young) 7082.727: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 8541, predicted base time: 7.41 ms, remaining time: 27.59 ms, target pause time: 35.00 ms]\r\n 7082.727: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 85 regions, survivors: 17 regions, predicted young region time: 24.66 ms]\r\n 7082.727: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 85 regions, survivors: 17 regions, old: 0 regions, predicted pause time: 32.08 ms, target pause time: 35.00 ms]\r\n, 0.0355926 secs]\r\n   [Parallel Time: 32.8 ms, GC Workers: 10]\r\n      [GC Worker Start (ms): Min: 7082727.6, Avg: 7082727.6, Max: 7082727.6, Diff: 0.1]\r\n      [Ext Root Scanning (ms): Min: 0.3, Avg: 0.9, Max: 2.2, Diff: 1.9, Sum: 9.0]\r\n      [Update RS (ms): Min: 1.9, Avg: 3.1, Max: 3.4, Diff: 1.5, Sum: 30.8]\r\n         [Processed Buffers: Min: 9, Avg: 15.4, Max: 23, Diff: 14, Sum: 154]\r\n      [Scan RS (ms): Min: 3.2, Avg: 3.9, Max: 4.1, Diff: 0.8, Sum: 39.2]\r\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n      [Object Copy (ms): Min: 24.6, Avg: 24.7, Max: 25.2, Diff: 0.6, Sum: 247.2]\r\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n         [Termination Attempts: Min: 1, Avg: 25.9, Max: 40, Diff: 39, Sum: 259]\r\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.2]\r\n      [GC Worker Total (ms): Min: 32.7, Avg: 32.7, Max: 32.7, Diff: 0.1, Sum: 327.1]\r\n      [GC Worker End (ms): Min: 7082760.3, Avg: 7082760.3, Max: 7082760.3, Diff: 0.0]\r\n   [Code Root Fixup: 0.0 ms]\r\n   [Code Root Purge: 0.0 ms]\r\n   [Clear CT: 0.8 ms]\r\n   [Other: 1.9 ms]\r\n      [Choose CSet: 0.0 ms]\r\n      [Ref Proc: 0.3 ms]\r\n      [Ref Enq: 0.0 ms]\r\n      [Redirty Cards: 0.2 ms]\r\n      [Humongous Register: 0.2 ms]\r\n      [Humongous Reclaim: 0.0 ms]\r\n      [Free CSet: 0.3 ms]\r\n   [Eden: 680.0M(680.0M)-&gt;0.0B(3192.0M) Survivors: 136.0M-&gt;80.0M Heap: 9831.7M(16.0G)-&gt;9154.2M(16.0G)]\r\n [Times: user=0.32 sys=0.01, real=0.04 secs] \r\n2022-10-26T16:08:37.283+0800: 7082.763: Total time for which application threads were stopped: 0.0368899 seconds, Stopping threads took: 0.0001211 seconds\r\n2022-10-26T16:08:39.807+0800: 7085.287: [GC concurrent-mark-end, 3.5278637 secs]\r\n2022-10-26T16:08:39.807+0800: 7085.287: Application time: 2.5240566 seconds\r\n2022-10-26T16:08:39.808+0800: 7085.288: [GC remark 2022-10-26T16:08:39.808+0800: 7085.288: [Finalize Marking, 0.0004663 secs] 2022-10-26T16:08:39.809+0800: 7085.289: [GC ref-proc, 0.0004983 secs] 2022-10-26T16:08:39.809+0800: 7085.289: [Unloading, 0.0123397 secs], 0.0222890 secs]\r\n [Times: user=0.17 sys=0.04, real=0.03 secs] \r\n2022-10-26T16:08:39.831+0800: 7085.310: Total time for which application threads were stopped: 0.0233879 seconds, Stopping threads took: 0.0001474 seconds\r\n2022-10-26T16:08:39.831+0800: 7085.310: Application time: 0.0000378 seconds\r\n2022-10-26T16:08:39.832+0800: 7085.311: [GC cleanup 10G-&gt;10G(16G), 0.0194897 secs]\r\n [Times: user=0.16 sys=0.03, real=0.02 secs] \r\n2022-10-26T16:08:39.851+0800: 7085.331: Total time for which application threads were stopped: 0.0204211 seconds, Stopping threads took: 0.0001703 seconds\r\n2022-10-26T16:08:41.088+0800: 7086.568: Application time: 1.2366444 seconds\r\n2022-10-26T16:08:41.089+0800: 7086.569: Total time for which application threads were stopped: 0.0011031 seconds, Stopping threads took: 0.0002013 seconds\r\n2022-10-26T16:08:41.089+0800: 7086.569: Application time: 0.0000264 seconds\r\n2022-10-26T16:08:41.090+0800: 7086.569: Total time for which application threads were stopped: 0.0006572 seconds, Stopping threads took: 0.0000450 seconds\r\n2022-10-26T16:08:42.038+0800: 7087.518: Application time: 0.9482548 seconds\r\n```\r\n\r\n\r\nvm log:\r\n\r\n\r\n```\r\n7069.947: G1IncCollectionPause             [     290          0              0    ]      [     0     0     0     0    33    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7074.822: G1IncCollectionPause             [     290          1              1    ]      [     0     0     0     0    33    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7076.947: G1IncCollectionPause             [     290          1              3    ]      [     0     0     0     0    33    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7081.676: G1IncCollectionPause             [     290          1              4    ]      [     0     0     0     0    41    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7082.543: G1IncCollectionPause             [     290          0              0    ]      [     0     0   183     0    35    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7085.287: CGC_Operation                    [     290          0              2    ]      [     0     0     0     0    22    ]  0   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7085.311: CGC_Operation                    [     290          2              2    ]      [     0     0     0     0    19    ]  2   \r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n7086.567: FindDeadlocks                    [     290          2              6    ]      [     0     0     0     0     0    ]  0   \r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI wander what may cause so long time stopped during the stage of &#39;sync&#39; and how to resolve the issue","title":"My java application cost long time to reach safepoint during the stage of &#39;sync&#39;","body":"<p>My java application stopped almost 190ms during whole gc process include the cost of waiting threads reach to the safepoint at the time of '2022-10-26 16:08:37.285'. The gc log shows that the time of STW is just 30+ ms, so I download the vm log to check if the long stopped time is caused by the stage of waiting threads reach to safepoint and block threads. The vm log shows that it cost 183 ms during the stage of 'sync.I wander what result in so long time stopped during the stage of 'sync'.</p>\n<p>gc log:</p>\n<pre><code>2022-10-26T16:08:36.239+0800: 7081.719: [GC concurrent-root-region-scan-start]\n2022-10-26T16:08:36.239+0800: 7081.719: Total time for which application threads were stopped: 0.0424589 seconds, Stopping threads took: 0.0001501 seconds\n2022-10-26T16:08:36.279+0800: 7081.759: [GC concurrent-root-region-scan-end, 0.0402316 secs]\n2022-10-26T16:08:36.279+0800: 7081.759: [GC concurrent-mark-start]\n2022-10-26T16:08:37.246+0800: 7082.726: Application time: 1.0071790 seconds\n2022-10-26T16:08:37.248+0800: 7082.727: [GC pause (G1 Evacuation Pause) (young) 7082.727: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 8541, predicted base time: 7.41 ms, remaining time: 27.59 ms, target pause time: 35.00 ms]\n 7082.727: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 85 regions, survivors: 17 regions, predicted young region time: 24.66 ms]\n 7082.727: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 85 regions, survivors: 17 regions, old: 0 regions, predicted pause time: 32.08 ms, target pause time: 35.00 ms]\n, 0.0355926 secs]\n   [Parallel Time: 32.8 ms, GC Workers: 10]\n      [GC Worker Start (ms): Min: 7082727.6, Avg: 7082727.6, Max: 7082727.6, Diff: 0.1]\n      [Ext Root Scanning (ms): Min: 0.3, Avg: 0.9, Max: 2.2, Diff: 1.9, Sum: 9.0]\n      [Update RS (ms): Min: 1.9, Avg: 3.1, Max: 3.4, Diff: 1.5, Sum: 30.8]\n         [Processed Buffers: Min: 9, Avg: 15.4, Max: 23, Diff: 14, Sum: 154]\n      [Scan RS (ms): Min: 3.2, Avg: 3.9, Max: 4.1, Diff: 0.8, Sum: 39.2]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Object Copy (ms): Min: 24.6, Avg: 24.7, Max: 25.2, Diff: 0.6, Sum: 247.2]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n         [Termination Attempts: Min: 1, Avg: 25.9, Max: 40, Diff: 39, Sum: 259]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.2]\n      [GC Worker Total (ms): Min: 32.7, Avg: 32.7, Max: 32.7, Diff: 0.1, Sum: 327.1]\n      [GC Worker End (ms): Min: 7082760.3, Avg: 7082760.3, Max: 7082760.3, Diff: 0.0]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.8 ms]\n   [Other: 1.9 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.3 ms]\n      [Ref Enq: 0.0 ms]\n      [Redirty Cards: 0.2 ms]\n      [Humongous Register: 0.2 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.3 ms]\n   [Eden: 680.0M(680.0M)-&gt;0.0B(3192.0M) Survivors: 136.0M-&gt;80.0M Heap: 9831.7M(16.0G)-&gt;9154.2M(16.0G)]\n [Times: user=0.32 sys=0.01, real=0.04 secs] \n2022-10-26T16:08:37.283+0800: 7082.763: Total time for which application threads were stopped: 0.0368899 seconds, Stopping threads took: 0.0001211 seconds\n2022-10-26T16:08:39.807+0800: 7085.287: [GC concurrent-mark-end, 3.5278637 secs]\n2022-10-26T16:08:39.807+0800: 7085.287: Application time: 2.5240566 seconds\n2022-10-26T16:08:39.808+0800: 7085.288: [GC remark 2022-10-26T16:08:39.808+0800: 7085.288: [Finalize Marking, 0.0004663 secs] 2022-10-26T16:08:39.809+0800: 7085.289: [GC ref-proc, 0.0004983 secs] 2022-10-26T16:08:39.809+0800: 7085.289: [Unloading, 0.0123397 secs], 0.0222890 secs]\n [Times: user=0.17 sys=0.04, real=0.03 secs] \n2022-10-26T16:08:39.831+0800: 7085.310: Total time for which application threads were stopped: 0.0233879 seconds, Stopping threads took: 0.0001474 seconds\n2022-10-26T16:08:39.831+0800: 7085.310: Application time: 0.0000378 seconds\n2022-10-26T16:08:39.832+0800: 7085.311: [GC cleanup 10G-&gt;10G(16G), 0.0194897 secs]\n [Times: user=0.16 sys=0.03, real=0.02 secs] \n2022-10-26T16:08:39.851+0800: 7085.331: Total time for which application threads were stopped: 0.0204211 seconds, Stopping threads took: 0.0001703 seconds\n2022-10-26T16:08:41.088+0800: 7086.568: Application time: 1.2366444 seconds\n2022-10-26T16:08:41.089+0800: 7086.569: Total time for which application threads were stopped: 0.0011031 seconds, Stopping threads took: 0.0002013 seconds\n2022-10-26T16:08:41.089+0800: 7086.569: Application time: 0.0000264 seconds\n2022-10-26T16:08:41.090+0800: 7086.569: Total time for which application threads were stopped: 0.0006572 seconds, Stopping threads took: 0.0000450 seconds\n2022-10-26T16:08:42.038+0800: 7087.518: Application time: 0.9482548 seconds\n</code></pre>\n<p>vm log:</p>\n<pre><code>7069.947: G1IncCollectionPause             [     290          0              0    ]      [     0     0     0     0    33    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7074.822: G1IncCollectionPause             [     290          1              1    ]      [     0     0     0     0    33    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7076.947: G1IncCollectionPause             [     290          1              3    ]      [     0     0     0     0    33    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7081.676: G1IncCollectionPause             [     290          1              4    ]      [     0     0     0     0    41    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7082.543: G1IncCollectionPause             [     290          0              0    ]      [     0     0   183     0    35    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7085.287: CGC_Operation                    [     290          0              2    ]      [     0     0     0     0    22    ]  0   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7085.311: CGC_Operation                    [     290          2              2    ]      [     0     0     0     0    19    ]  2   \n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\n7086.567: FindDeadlocks                    [     290          2              6    ]      [     0     0     0     0     0    ]  0   \n</code></pre>\n<p>I wander what may cause so long time stopped during the stage of 'sync' and how to resolve the issue</p>\n"},{"tags":["java","geolocation","geospatial","spatial","geo"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1666808649,"post_id":73121732,"comment_id":131025889,"body_markdown":"Did you ever figure out an answer to this quesiton?","body":"Did you ever figure out an answer to this quesiton?"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1666809987,"post_id":73121732,"comment_id":131026321,"body_markdown":"I believe I have figured it out. The answer is below.","body":"I believe I have figured it out. The answer is below."}],"answers":[{"comments":[{"owner":{"account_id":1048512,"reputation":1671,"user_id":1052979,"accept_rate":43,"display_name":"StFS"},"score":1,"creation_date":1666810244,"post_id":74212750,"comment_id":131026413,"body_markdown":"Well there you go! Thanks for the reply. It would be quite nice if this was documented in the API :)","body":"Well there you go! Thanks for the reply. It would be quite nice if this was documented in the API :)"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1666810757,"post_id":74212750,"comment_id":131026582,"body_markdown":"Yeah it really wouldn&#39;t hurt for the java doc to specify the units. I wasted the better part of an hour trying work what was going on.","body":"Yeah it really wouldn&#39;t hurt for the java doc to specify the units. I wasted the better part of an hour trying work what was going on."}],"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666810119,"creation_date":1666809760,"answer_id":74212750,"question_id":73121732,"body_markdown":"The result of `SpatialContext.calcDistance(Point p, Point p2)` is in degrees. To convert those degrees to km you need to multiply it by the constant `DistanceUtils.DEG_TO_KM`\r\n\r\n    SpatialContext ctx = SpatialContext.GEO;\r\n    var startPoint = ctx.getShapeFactory().pointLatLon(40.688939, -74.04455);\r\n    var endPoint = ctx.getShapeFactory().pointLatLon(40.746853, -73.985633);\r\n    double distanceInDegrees = ctx.calcDistance(startPoint, endPoint);\r\n    double distanceInKm = distanceInDegrees * DistanceUtils.DEG_TO_KM;\r\n    System.out.println(&quot;GEO spatial context:         &quot; + distanceInKm);\r\n\r\nThis gives you the output:\r\n\r\n    GEO spatial context:         8.131774297975046\r\n\r\nWhich is very close to your example from \r\n\r\n    Tutorials Point (haversine): 8.131763102409689\r\n\r\nThe difference is because Spatial4j is using the value `6371.0087714` for the radius of the earth in km, where as in your example you are using `6371`.","title":"A question about distance calculations in Spatial4J","body":"<p>The result of <code>SpatialContext.calcDistance(Point p, Point p2)</code> is in degrees. To convert those degrees to km you need to multiply it by the constant <code>DistanceUtils.DEG_TO_KM</code></p>\n<pre><code>SpatialContext ctx = SpatialContext.GEO;\nvar startPoint = ctx.getShapeFactory().pointLatLon(40.688939, -74.04455);\nvar endPoint = ctx.getShapeFactory().pointLatLon(40.746853, -73.985633);\ndouble distanceInDegrees = ctx.calcDistance(startPoint, endPoint);\ndouble distanceInKm = distanceInDegrees * DistanceUtils.DEG_TO_KM;\nSystem.out.println(&quot;GEO spatial context:         &quot; + distanceInKm);\n</code></pre>\n<p>This gives you the output:</p>\n<pre><code>GEO spatial context:         8.131774297975046\n</code></pre>\n<p>Which is very close to your example from</p>\n<pre><code>Tutorials Point (haversine): 8.131763102409689\n</code></pre>\n<p>The difference is because Spatial4j is using the value <code>6371.0087714</code> for the radius of the earth in km, where as in your example you are using <code>6371</code>.</p>\n"}],"owner":{"account_id":1048512,"reputation":1671,"user_id":1052979,"accept_rate":43,"display_name":"StFS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74212750,"answer_count":1,"score":3,"last_activity_date":1666810119,"creation_date":1658831233,"question_id":73121732,"body_markdown":"I&#39;m quite confused about distance calculations.\r\n\r\nI&#39;m using this website as a reference:\r\nhttps://www.omnicalculator.com/other/latitude-longitude-distance\r\n\r\nThen I got an implementation of a distance calculation (haversine) from here:\r\nhttps://tutorialspoint.dev/algorithm/geometric-algorithms/program-distance-two-points-earth\r\n\r\nAnd I want to compare this with various different implementations from Spatial4J.\r\n\r\nI&#39;m using these coordinates to test with:\r\n\r\n    Point 1: 40.688939, -74.04455\r\n    Point 2: 40.746853, -73.985633\r\n\r\nAnd I&#39;m getting pretty big differences between different ways of calculating the distance between these two points.\r\n\r\nFirst, what mainly concerns me is that the website (omnicalculator) and the implementation from tutorialspoint agree completely on the distance: `8.132 km`\r\n\r\nBut none of my Spatial4J calculations agree with that number. The one that comes closest to it is the `CartesianDistCalc` implementation at `8.262 km`. The tutorialspoint demo code claims to be using haversine but the output of Spatial4J haversine DistCalc implementation is quite a ways off at `7.313 km`.\r\n\r\nBut can somebody explain to me where these differences are coming from and what the &quot;correct&quot; one is?\r\n\r\nBelow is my experimental code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.locationtech.spatial4j.context.SpatialContext;\r\n    import org.locationtech.spatial4j.distance.CartesianDistCalc;\r\n    import org.locationtech.spatial4j.distance.GeodesicSphereDistCalc;\r\n    \r\n    class GeodesicCalculationTest {\r\n        @Test\r\n        void testGeodesicCalculations(){\r\n            SpatialContext ctx = SpatialContext.GEO;\r\n    \r\n            var startPoint = ctx.getShapeFactory().pointLatLon(40.688939, -74.04455);\r\n            var endPoint = ctx.getShapeFactory().pointLatLon(40.746853, -73.985633);\r\n    \r\n            System.out.println(&quot;GEO spatial context:         &quot; + ctx.calcDistance(startPoint, endPoint) * 100);\r\n            System.out.println(&quot;Haversine:                   &quot; + new GeodesicSphereDistCalc.Haversine().distance(startPoint, endPoint) * 100);\r\n            System.out.println(&quot;Law of cosine:               &quot; + new GeodesicSphereDistCalc.LawOfCosines().distance(startPoint, endPoint) * 100);\r\n            System.out.println(&quot;Vincenty:                    &quot; + new GeodesicSphereDistCalc.Vincenty().distance(startPoint, endPoint) * 100);\r\n            System.out.println(&quot;Cartesian:                   &quot; + new CartesianDistCalc().distance(startPoint, endPoint) * 100);\r\n            System.out.println(&quot;Tutorials Point (haversine): &quot; + distance(startPoint.getLat(), endPoint.getLat(), startPoint.getLon(), endPoint.getLon()));\r\n        }\r\n    \r\n        public static double distance(double lat1, double lat2, double lon1, double lon2) {\r\n            // The math module contains a function\r\n            // named toRadians which converts from\r\n            // degrees to radians.\r\n            lon1 = Math.toRadians(lon1);\r\n            lon2 = Math.toRadians(lon2);\r\n            lat1 = Math.toRadians(lat1);\r\n            lat2 = Math.toRadians(lat2);\r\n    \r\n            // Haversine formula\r\n            double dlon = lon2 - lon1;\r\n            double dlat = lat2 - lat1;\r\n            double a = Math.pow(Math.sin(dlat / 2), 2)\r\n                    + Math.cos(lat1) * Math.cos(lat2)\r\n                    * Math.pow(Math.sin(dlon / 2),2);\r\n    \r\n            double c = 2 * Math.asin(Math.sqrt(a));\r\n    \r\n            // Radius of earth in kilometers. Use 3956\r\n            // for miles\r\n            double r = 6371;\r\n    \r\n            // calculate the result\r\n            return(c * r);\r\n        }\r\n    }\r\n\r\nAnd the output of running it:\r\n\r\n    GEO spatial context:         7.31307025220976\r\n    Haversine:                   7.31307025220976\r\n    Law of cosine:               7.313070251733588\r\n    Vincenty:                    7.3130702522095286\r\n    Cartesian:                   8.261503667613857\r\n    Tutorials Point (haversine): 8.131763102409689\r\n\r\nI&#39;m multiplying the Spatial4J calculations by 100 which is also confusing to me... it doesn&#39;t really make sense that Spatial4J is giving me answers as 1/100th of a kilometer???\r\n\r\nI realise I must be doing something wrong or completely misunderstanding some premises here. I would really appreciate some help in understanding what that is.\r\n","title":"A question about distance calculations in Spatial4J","body":"<p>I'm quite confused about distance calculations.</p>\n<p>I'm using this website as a reference:\n<a href=\"https://www.omnicalculator.com/other/latitude-longitude-distance\" rel=\"nofollow noreferrer\">https://www.omnicalculator.com/other/latitude-longitude-distance</a></p>\n<p>Then I got an implementation of a distance calculation (haversine) from here:\n<a href=\"https://tutorialspoint.dev/algorithm/geometric-algorithms/program-distance-two-points-earth\" rel=\"nofollow noreferrer\">https://tutorialspoint.dev/algorithm/geometric-algorithms/program-distance-two-points-earth</a></p>\n<p>And I want to compare this with various different implementations from Spatial4J.</p>\n<p>I'm using these coordinates to test with:</p>\n<pre><code>Point 1: 40.688939, -74.04455\nPoint 2: 40.746853, -73.985633\n</code></pre>\n<p>And I'm getting pretty big differences between different ways of calculating the distance between these two points.</p>\n<p>First, what mainly concerns me is that the website (omnicalculator) and the implementation from tutorialspoint agree completely on the distance: <code>8.132 km</code></p>\n<p>But none of my Spatial4J calculations agree with that number. The one that comes closest to it is the <code>CartesianDistCalc</code> implementation at <code>8.262 km</code>. The tutorialspoint demo code claims to be using haversine but the output of Spatial4J haversine DistCalc implementation is quite a ways off at <code>7.313 km</code>.</p>\n<p>But can somebody explain to me where these differences are coming from and what the &quot;correct&quot; one is?</p>\n<p>Below is my experimental code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.locationtech.spatial4j.context.SpatialContext;\nimport org.locationtech.spatial4j.distance.CartesianDistCalc;\nimport org.locationtech.spatial4j.distance.GeodesicSphereDistCalc;\n\nclass GeodesicCalculationTest {\n    @Test\n    void testGeodesicCalculations(){\n        SpatialContext ctx = SpatialContext.GEO;\n\n        var startPoint = ctx.getShapeFactory().pointLatLon(40.688939, -74.04455);\n        var endPoint = ctx.getShapeFactory().pointLatLon(40.746853, -73.985633);\n\n        System.out.println(&quot;GEO spatial context:         &quot; + ctx.calcDistance(startPoint, endPoint) * 100);\n        System.out.println(&quot;Haversine:                   &quot; + new GeodesicSphereDistCalc.Haversine().distance(startPoint, endPoint) * 100);\n        System.out.println(&quot;Law of cosine:               &quot; + new GeodesicSphereDistCalc.LawOfCosines().distance(startPoint, endPoint) * 100);\n        System.out.println(&quot;Vincenty:                    &quot; + new GeodesicSphereDistCalc.Vincenty().distance(startPoint, endPoint) * 100);\n        System.out.println(&quot;Cartesian:                   &quot; + new CartesianDistCalc().distance(startPoint, endPoint) * 100);\n        System.out.println(&quot;Tutorials Point (haversine): &quot; + distance(startPoint.getLat(), endPoint.getLat(), startPoint.getLon(), endPoint.getLon()));\n    }\n\n    public static double distance(double lat1, double lat2, double lon1, double lon2) {\n        // The math module contains a function\n        // named toRadians which converts from\n        // degrees to radians.\n        lon1 = Math.toRadians(lon1);\n        lon2 = Math.toRadians(lon2);\n        lat1 = Math.toRadians(lat1);\n        lat2 = Math.toRadians(lat2);\n\n        // Haversine formula\n        double dlon = lon2 - lon1;\n        double dlat = lat2 - lat1;\n        double a = Math.pow(Math.sin(dlat / 2), 2)\n                + Math.cos(lat1) * Math.cos(lat2)\n                * Math.pow(Math.sin(dlon / 2),2);\n\n        double c = 2 * Math.asin(Math.sqrt(a));\n\n        // Radius of earth in kilometers. Use 3956\n        // for miles\n        double r = 6371;\n\n        // calculate the result\n        return(c * r);\n    }\n}\n</code></pre>\n<p>And the output of running it:</p>\n<pre><code>GEO spatial context:         7.31307025220976\nHaversine:                   7.31307025220976\nLaw of cosine:               7.313070251733588\nVincenty:                    7.3130702522095286\nCartesian:                   8.261503667613857\nTutorials Point (haversine): 8.131763102409689\n</code></pre>\n<p>I'm multiplying the Spatial4J calculations by 100 which is also confusing to me... it doesn't really make sense that Spatial4J is giving me answers as 1/100th of a kilometer???</p>\n<p>I realise I must be doing something wrong or completely misunderstanding some premises here. I would really appreciate some help in understanding what that is.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666809750,"creation_date":1666798548,"question_id":74210476,"body_markdown":"So I have a spark application that reads DB records (lets say 1000 records), processes them, and writes a CSV file (with 1000 lines) out to the cloud Object storage. So three questions here:\r\n1. Is DB read request sent to executors? If so in case of 1000 DB records, would each executor read partial DB data (example 500 records each) and send the records back to driver? Or does it write to a central cache and driver would read it from there? \r\n2. Next step processing the DB records (fold job), is sent to 2 executors. Lets say each executor gets 500 records or so. Once the executor finishes processing its partition does it send all 500 processed (formatted) rows back to driver? Or does it write some central cache and driver gets it back? How is the data exchange happening between driver and executor happen?\r\n3. Last step is the .save csvfile call in my main() function. In this code I am doing a reparition(1) with the idea that I will only save this file from one executor. If so, how is the data collected into this one executor. Remember earlier we had two executors process 500 records each. How is a total of 1000 records sent to one executor and gets saved into the object storage by one executor? how is the data collected from all executors shared into that one executor executing the .save?  \r\n\r\n    dataset.repartition(1)\r\n            \t\t\t.write()\r\n            \t\t\t.format(&quot;csv&quot;)\r\n            \t\t\t.option(&quot;header&quot;, &quot;true&quot;)\r\n            \t\t\t.save(filepath); \r\n\r\nIf I dont do repartition(1), will the save happen from multiple executors and would it overwrite each other? I dont think there is a way we can specify the filename to be unique using spark. Do I have to save the file in temp and rename later and all that?\r\n\r\nAre there any articles, youtube videos that will explain how data is distributed and collected or shared across executors? I can understand how .count() works. but how does .save work or how is large data results like millions of DB records or rows shared across executors? I have been looking for resources to read can&#39;t seem to find one that answers my questions. I am very new to spark, like 3 weeks new.","title":"How does the Spark executor and driver share data back and forth? Not the result of the task, but the data itself","body":"<p>So I have a spark application that reads DB records (lets say 1000 records), processes them, and writes a CSV file (with 1000 lines) out to the cloud Object storage. So three questions here:</p>\n<ol>\n<li><p>Is DB read request sent to executors? If so in case of 1000 DB records, would each executor read partial DB data (example 500 records each) and send the records back to driver? Or does it write to a central cache and driver would read it from there?</p>\n</li>\n<li><p>Next step processing the DB records (fold job), is sent to 2 executors. Lets say each executor gets 500 records or so. Once the executor finishes processing its partition does it send all 500 processed (formatted) rows back to driver? Or does it write some central cache and driver gets it back? How is the data exchange happening between driver and executor happen?</p>\n</li>\n<li><p>Last step is the .save csvfile call in my main() function. In this code I am doing a reparition(1) with the idea that I will only save this file from one executor. If so, how is the data collected into this one executor. Remember earlier we had two executors process 500 records each. How is a total of 1000 records sent to one executor and gets saved into the object storage by one executor? how is the data collected from all executors shared into that one executor executing the .save?</p>\n<p>dataset.repartition(1)\n.write()\n.format(&quot;csv&quot;)\n.option(&quot;header&quot;, &quot;true&quot;)\n.save(filepath);</p>\n</li>\n</ol>\n<p>If I dont do repartition(1), will the save happen from multiple executors and would it overwrite each other? I dont think there is a way we can specify the filename to be unique using spark. Do I have to save the file in temp and rename later and all that?</p>\n<p>Are there any articles, youtube videos that will explain how data is distributed and collected or shared across executors? I can understand how .count() works. but how does .save work or how is large data results like millions of DB records or rows shared across executors? I have been looking for resources to read can't seem to find one that answers my questions. I am very new to spark, like 3 weeks new.</p>\n"},{"tags":["java","arrays","list","arraylist"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":2,"creation_date":1666809083,"post_id":74212554,"comment_id":131026049,"body_markdown":"Your question is unclear, wdym `&quot;print the object&quot;` , + is `{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}` a string? because I can&#39;t see a list of strings here: `[{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}]\n`","body":"Your question is unclear, wdym <code>&quot;print the object&quot;</code> , + is <code>{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}</code> a string? because I can&#39;t see a list of strings here: <code>[{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}] </code>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666809311,"post_id":74212554,"comment_id":131026104,"body_markdown":"You don&#39;t have objects with a `col_c` field.  You have strings.  You will need to parse the strings into actual objects -- probably with a JSON parser, looking at your data.","body":"You don&#39;t have objects with a <code>col_c</code> field.  You have strings.  You will need to parse the strings into actual objects -- probably with a JSON parser, looking at your data."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666809494,"post_id":74212554,"comment_id":131026167,"body_markdown":"Can you tell me how you create your `[{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}]`? This is not a `List&lt;String&gt;`.","body":"Can you tell me how you create your <code>[{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}]</code>? This is not a <code>List&lt;String&gt;</code>."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1666810023,"post_id":74212554,"comment_id":131026331,"body_markdown":"Are you sure you shouldn&#39;t be using a json parser?  Those &quot;Strings&quot; look like json to me.","body":"Are you sure you shouldn&#39;t be using a json parser?  Those &quot;Strings&quot; look like json to me."},{"owner":{"account_id":3993795,"reputation":144,"user_id":3291897,"display_name":"RDK"},"score":0,"creation_date":1666818058,"post_id":74212554,"comment_id":131028670,"body_markdown":"You would need to parse those strings into a Map or dedicated Pojo. Then you can do map.get(&quot;col_c&quot;). Check gson or fasterxml for parsing.","body":"You would need to parse those strings into a Map or dedicated Pojo. Then you can do map.get(&quot;col_c&quot;). Check gson or fasterxml for parsing."}],"answers":[{"comments":[{"owner":{"account_id":7677244,"reputation":630,"user_id":5817706,"display_name":"Mohammed Fadhl"},"score":0,"creation_date":1667111774,"post_id":74212712,"comment_id":131090628,"body_markdown":"The example that the question has is not correct since there is no object that will save col_c= &quot;test&quot; the &quot;=&quot; part should only be inside a string and not like the question have.\n\ntherefor, you need to comment on the question instead of putting an answer that will benifit no one.\n\nkeep up the participation.\nRegards,","body":"The example that the question has is not correct since there is no object that will save col_c= &quot;test&quot; the &quot;=&quot; part should only be inside a string and not like the question have.  therefor, you need to comment on the question instead of putting an answer that will benifit no one.  keep up the participation. Regards,"}],"tags":[],"owner":{"account_id":21664957,"reputation":1,"user_id":15983516,"display_name":"Fayaz Rafin"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666809605,"creation_date":1666809605,"answer_id":74212712,"question_id":74212554,"body_markdown":"You can try using `data.get(col_c)`and then returning it inside the for loop and see if it works.\r\n\r\nYou can also take a look at the Oracle Documentation if you need help on ArrayLists:  [ArrayList -  Java Platform SE 6][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#get(int)","title":"Java - how to get a specific parameter from a ArrayList","body":"<p>You can try using <code>data.get(col_c)</code>and then returning it inside the for loop and see if it works.</p>\n<p>You can also take a look at the Oracle Documentation if you need help on ArrayLists:  <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\">ArrayList -  Java Platform SE 6</a></p>\n"}],"owner":{"account_id":7905381,"reputation":1014,"user_id":6534180,"accept_rate":82,"display_name":"Pedro Alves"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666809605,"creation_date":1666808674,"question_id":74212554,"body_markdown":"I&#39;ve the following array list:\r\n\r\n    private List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\nAnd If I print the object I will get the following values:\r\n\r\n    [{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}]\r\n\r\nI&#39;m trying to make a loop to print a specific value from my array list. Basically, I want to print the col_c in each iteration. \r\nFor that I am trying with this:\r\n\r\n    for (String i : data){\r\n        System.out.println(i.col_c);\r\n    }\r\n\r\nBut I cannot get the col_c because i is a String.\r\n\r\nHow can I do that? My final output it will be:\r\n\r\n    test\r\n    test1\r\n\r\nThanks!","title":"Java - how to get a specific parameter from a ArrayList","body":"<p>I've the following array list:</p>\n<pre><code>private List&lt;String&gt; data = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And If I print the object I will get the following values:</p>\n<pre><code>[{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test&quot;},{col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_a = {&quot;a&quot;:1,&quot;b&quot;:2}, col_c = &quot;test1&quot;}]\n</code></pre>\n<p>I'm trying to make a loop to print a specific value from my array list. Basically, I want to print the col_c in each iteration.\nFor that I am trying with this:</p>\n<pre><code>for (String i : data){\n    System.out.println(i.col_c);\n}\n</code></pre>\n<p>But I cannot get the col_c because i is a String.</p>\n<p>How can I do that? My final output it will be:</p>\n<pre><code>test\ntest1\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1666806376,"post_id":74211996,"comment_id":131025110,"body_markdown":"Neither of your examples use concurrency. Your Stream is sequential.","body":"Neither of your examples use concurrency. Your Stream is sequential."},{"owner":{"account_id":25211297,"reputation":271,"user_id":19048941,"display_name":"Wilderness Ranger"},"score":1,"creation_date":1666806384,"post_id":74211996,"comment_id":131025111,"body_markdown":"`Arrays.stream()` does not provide parallel streams and streams have more overhead thus not very efficient for simple work.","body":"<code>Arrays.stream()</code> does not provide parallel streams and streams have more overhead thus not very efficient for simple work."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666806408,"post_id":74211996,"comment_id":131025124,"body_markdown":"`Arrays.stream(arr).sum()` is single-threaded. You can try `Arrays.stream(arr).parallel().sum()` (no guarantees).","body":"<code>Arrays.stream(arr).sum()</code> is single-threaded. You can try <code>Arrays.stream(arr).parallel().sum()</code> (no guarantees)."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666806910,"post_id":74211996,"comment_id":131025302,"body_markdown":"btw, `Arrays.stream(arr);` in your initialisation loop does nothing and should be deleted.","body":"btw, <code>Arrays.stream(arr);</code> in your initialisation loop does nothing and should be deleted."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1666807092,"post_id":74211996,"comment_id":131025365,"body_markdown":"As you are interested in performance, [this related question](https://stackoverflow.com/q/54580839/2513200) may also be worth reading.","body":"As you are interested in performance, <a href=\"https://stackoverflow.com/q/54580839/2513200\">this related question</a> may also be worth reading."},{"owner":{"account_id":25211297,"reputation":271,"user_id":19048941,"display_name":"Wilderness Ranger"},"score":0,"creation_date":1666807365,"post_id":74211996,"comment_id":131025459,"body_markdown":"You can refer to [the document](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-): Streams returned by `Arrays.stream(arr)` is *sequential*. BTW you can also consider using a `List` and try `list.parallelStream()`.","body":"You can refer to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"nofollow noreferrer\">the document</a>: Streams returned by <code>Arrays.stream(arr)</code> is <i>sequential</i>. BTW you can also consider using a <code>List</code> and try <code>list.parallelStream()</code>."},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1666808947,"post_id":74211996,"comment_id":131026004,"body_markdown":"I took out my previous code for parallel and used:                                                     sum = Arrays.stream(arr).parallel().sum(); but the timing problem still seems to be evident. I timed both methods separately and verified I still have some type of logic error with my code.","body":"I took out my previous code for parallel and used:                                                     sum = Arrays.stream(arr).parallel().sum(); but the timing problem still seems to be evident. I timed both methods separately and verified I still have some type of logic error with my code."},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1666809330,"post_id":74211996,"comment_id":131026113,"body_markdown":"I just changed the code in my original post to reflect updates given.","body":"I just changed the code in my original post to reflect updates given."},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1666809384,"post_id":74211996,"comment_id":131026133,"body_markdown":"I will attempt to look into the list solution now. Thank you!","body":"I will attempt to look into the list solution now. Thank you!"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666809473,"post_id":74211996,"comment_id":131026157,"body_markdown":"I very strongly recommend reading all of [this answer](https://stackoverflow.com/q/23170832/869736) and the answers to [this question](https://stackoverflow.com/q/20375176/869736).","body":"I very strongly recommend reading all of <a href=\"https://stackoverflow.com/q/23170832/869736\">this answer</a> and the answers to <a href=\"https://stackoverflow.com/q/20375176/869736\">this question</a>."},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1666809737,"post_id":74211996,"comment_id":131026240,"body_markdown":"I thought at one point it may be an issue with my Macbook M1 pc and the available processors while using Eclipse but I have attempted this solution documented here: https://eddmann.com/posts/parallel-summation-in-java/ and the timing is perfect. I want to implement this new method while using parallel array stream solution.","body":"I thought at one point it may be an issue with my Macbook M1 pc and the available processors while using Eclipse but I have attempted this solution documented here: <a href=\"https://eddmann.com/posts/parallel-summation-in-java/\" rel=\"nofollow noreferrer\">eddmann.com/posts/parallel-summation-in-java</a> and the timing is perfect. I want to implement this new method while using parallel array stream solution."}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666807164,"answer_count":0,"score":0,"last_activity_date":1666809300,"creation_date":1666805941,"question_id":74211996,"body_markdown":"I have big working on a different problem now with JAVA. I am making a array with 100 million random numbers between 1 and 10. Then I am Computing the sum in parallel using multiple threads. Then computing the sum with only one thread. Since JAVA 8 I have noticed the Array.stream() method has a built in thread utilization process. I am trying to utilize it based on the documentation however the timing is way off with the parallel array stream answer compared to the sequencing answer. I am just curious at this point what you may think I am missing in my logic. My code is posted below:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class MultithreadThing {\r\n\t\r\n\tpublic static int findSum(int[] arr) {\r\n\t    int sum = 0;\r\n\t    for (int value : arr) {\r\n\t        sum += value;\r\n\t    }\r\n\t    return sum;\r\n\t}\r\n \r\n    // Driver method\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tRandom rand = new Random();\r\n    \t\r\n    \tint arr[] = new int[100000000];\r\n    \t\r\n\t\tfor(int i=0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = rand.nextInt(10) + 1;\r\n\t\t\r\n\t\t}\t\r\n\t\t\r\n\t\tint sum = 0;\r\n\t\tlong startTime2 = System.nanoTime();\r\n\t\t\r\n\t\tsum = Arrays.stream(arr).parallel().sum();\r\n\t\tSystem.out.println(&quot;Parallel: &quot; + (System.nanoTime() - startTime2));\r\n\t\t\t\t\r\n\t\tlong startTime = System.nanoTime();\r\n\t\tMultithreadThing.findSum(arr);\r\n\t\tSystem.out.println(&quot;Single: &quot; + (System.nanoTime() - startTime));\r\n \t\t\t\t\r\n    }\r\n    }\r\n\r\n","title":"JAVA 8 Array Stream Results Timing Longer Than Sequencing","body":"<p>I have big working on a different problem now with JAVA. I am making a array with 100 million random numbers between 1 and 10. Then I am Computing the sum in parallel using multiple threads. Then computing the sum with only one thread. Since JAVA 8 I have noticed the Array.stream() method has a built in thread utilization process. I am trying to utilize it based on the documentation however the timing is way off with the parallel array stream answer compared to the sequencing answer. I am just curious at this point what you may think I am missing in my logic. My code is posted below:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class MultithreadThing {\n\npublic static int findSum(int[] arr) {\n    int sum = 0;\n    for (int value : arr) {\n        sum += value;\n    }\n    return sum;\n}\n\n// Driver method\npublic static void main(String[] args) {\n    \n    Random rand = new Random();\n    \n    int arr[] = new int[100000000];\n    \n    for(int i=0; i &lt; arr.length; i++) {\n        arr[i] = rand.nextInt(10) + 1;\n    \n    }   \n    \n    int sum = 0;\n    long startTime2 = System.nanoTime();\n    \n    sum = Arrays.stream(arr).parallel().sum();\n    System.out.println(&quot;Parallel: &quot; + (System.nanoTime() - startTime2));\n            \n    long startTime = System.nanoTime();\n    MultithreadThing.findSum(arr);\n    System.out.println(&quot;Single: &quot; + (System.nanoTime() - startTime));\n            \n}\n}\n</code></pre>\n"},{"tags":["java","parsing","javac","long-integer"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666809278,"post_id":74212550,"comment_id":131026094,"body_markdown":"Yes, you definitely shouldn&#39;t have to do that `import`","body":"Yes, you definitely shouldn&#39;t have to do that <code>import</code>"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666809656,"post_id":74212550,"comment_id":131026215,"body_markdown":"It smells as if there&#39;s some other Long class (not java.lang.Long) in scope.","body":"It smells as if there&#39;s some other Long class (not java.lang.Long) in scope."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666809958,"post_id":74212550,"comment_id":131026307,"body_markdown":"Possibly .Did you make your own class called `Long`?","body":"Possibly .Did you make your own class called <code>Long</code>?"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666810233,"post_id":74212550,"comment_id":131026410,"body_markdown":"Please, can you post the code which does not compile and also the command you use to run it?","body":"Please, can you post the code which does not compile and also the command you use to run it?"},{"owner":{"account_id":19030219,"reputation":957,"user_id":13892487,"display_name":"Midhun Raj"},"score":0,"creation_date":1666811470,"post_id":74212550,"comment_id":131026817,"body_markdown":"@ChristophS. The same code with a difference in the line public  void main() as public  static void main(String args[]) showed the compilation error when i compiled in ubuntu from terminal using javac","body":"@ChristophS. The same code with a difference in the line public  void main() as public  static void main(String args[]) showed the compilation error when i compiled in ubuntu from terminal using javac"},{"owner":{"account_id":19030219,"reputation":957,"user_id":13892487,"display_name":"Midhun Raj"},"score":0,"creation_date":1666811602,"post_id":74212550,"comment_id":131026861,"body_markdown":"@accessviolation ...you where absolutely correct ..when i made a new directory and when i ran this program in that directory it worked fine...Thanks man ...you rock","body":"@accessviolation ...you where absolutely correct ..when i made a new directory and when i ran this program in that directory it worked fine...Thanks man ...you rock"},{"owner":{"account_id":19030219,"reputation":957,"user_id":13892487,"display_name":"Midhun Raj"},"score":0,"creation_date":1666811747,"post_id":74212550,"comment_id":131026903,"body_markdown":"@accessviolation i was having another java program Long.java in the same folder,.,that was causing the trouble..thanks a lot man","body":"@accessviolation i was having another java program Long.java in the same folder,.,that was causing the trouble..thanks a lot man"}],"owner":{"account_id":19030219,"reputation":957,"user_id":13892487,"display_name":"Midhun Raj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666808639,"creation_date":1666808639,"question_id":74212550,"body_markdown":"This is a program which demonstrate the working of parseLong\r\nWhen i run this in bluej it gave me output as as given below\r\n\r\n\r\n\r\nBut when i ran this in console in ubuntu terminal by compiling  using the command javac\r\nit gave me compilation error as given below\r\n\r\n\r\nOnly change i made to compile in javac was  changing the line `public void main()`  to `public static void main(String args[])`\r\n\r\nwhen i ran in ubuntu terminal\r\n\r\n\r\n\r\nit gave me error as\r\n\r\n\r\n    LongDemo.java:8: error: cannot find symbol\r\n          long a = Long.parseLong(&quot;1452&quot;);\r\n                       ^\r\n      symbol:   method parseLong(String)\r\n      location: class Long\r\n    LongDemo.java:9: error: cannot find symbol\r\n          long b = Long.parseLong(&quot;26&quot;);\r\n                       ^\r\n      symbol:   method parseLong(String)\r\n      location: class Long\r\n    LongDemo.java:10: error: cannot find symbol\r\n          long c = Long.parseLong(&quot;54&quot;);\r\n                       ^\r\n      symbol:   method parseLong(String)\r\n      location: class Long\r\n    3 errors\r\n\r\n\r\nBut when i ran ran using the prefix java.lang.Long.parseLong in ubuntu terminal\r\n\r\nit worked fine\r\n\r\n**Why is it behaving like this in different scenarios**\r\n\r\nHere is the program\r\n\r\n    import java.lang.*;\r\n    \r\n    public class LongDemo {\r\n    \r\n       public  void main() {\r\n    \r\n          // parses the string argument\r\n          long a = Long.parseLong(&quot;1452&quot;);\r\n          long b = Long.parseLong(&quot;26&quot;);\r\n          long c = Long.parseLong(&quot;54&quot;);\r\n    \r\n          long m = a * b * c;\r\n          System.out.print(&quot;Value after multiplying = &quot; + m);\r\n       }\r\n    }\r\n\r\n\r\nMy java version\r\n\r\n    midhun@midhun-Vostro-15-3568:~$ java -version\r\n    openjdk version &quot;11.0.16&quot; 2022-07-19\r\n    OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\r\n\r\n\r\nOutput\r\nValue after multiplying = 2038608\r\n","title":"error: cannot find symbol while running javac to compile in ubuntu terminal for Long.parseLong(&quot;string&quot;)","body":"<p>This is a program which demonstrate the working of parseLong\nWhen i run this in bluej it gave me output as as given below</p>\n<p>But when i ran this in console in ubuntu terminal by compiling  using the command javac\nit gave me compilation error as given below</p>\n<p>Only change i made to compile in javac was  changing the line <code>public void main()</code>  to <code>public static void main(String args[])</code></p>\n<p>when i ran in ubuntu terminal</p>\n<p>it gave me error as</p>\n<pre><code>LongDemo.java:8: error: cannot find symbol\n      long a = Long.parseLong(&quot;1452&quot;);\n                   ^\n  symbol:   method parseLong(String)\n  location: class Long\nLongDemo.java:9: error: cannot find symbol\n      long b = Long.parseLong(&quot;26&quot;);\n                   ^\n  symbol:   method parseLong(String)\n  location: class Long\nLongDemo.java:10: error: cannot find symbol\n      long c = Long.parseLong(&quot;54&quot;);\n                   ^\n  symbol:   method parseLong(String)\n  location: class Long\n3 errors\n</code></pre>\n<p>But when i ran ran using the prefix java.lang.Long.parseLong in ubuntu terminal</p>\n<p>it worked fine</p>\n<p><strong>Why is it behaving like this in different scenarios</strong></p>\n<p>Here is the program</p>\n<pre><code>import java.lang.*;\n\npublic class LongDemo {\n\n   public  void main() {\n\n      // parses the string argument\n      long a = Long.parseLong(&quot;1452&quot;);\n      long b = Long.parseLong(&quot;26&quot;);\n      long c = Long.parseLong(&quot;54&quot;);\n\n      long m = a * b * c;\n      System.out.print(&quot;Value after multiplying = &quot; + m);\n   }\n}\n</code></pre>\n<p>My java version</p>\n<pre><code>midhun@midhun-Vostro-15-3568:~$ java -version\nopenjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>Output\nValue after multiplying = 2038608</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1666809379,"post_id":74212540,"comment_id":131026131,"body_markdown":"*So one of my students* -- if you teach programming, you surely need to understand what floating-point arithmetic is.","body":"<i>So one of my students</i> -- if you teach programming, you surely need to understand what floating-point arithmetic is."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666811565,"post_id":74212540,"comment_id":131026853,"body_markdown":"That is not a bug. That&#39;s because the computer uses binary system internally and only accepts and prints in decimal system. In binary system, 4.3 is 100.0100110011... and 6.26 is 110.010000101... The result is not weird, but totally correct. If you need exact result, you can use `BigDecimal` instead","body":"That is not a bug. That&#39;s because the computer uses binary system internally and only accepts and prints in decimal system. In binary system, 4.3 is 100.0100110011... and 6.26 is 110.010000101... The result is not weird, but totally correct. If you need exact result, you can use <code>BigDecimal</code> instead"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1666814066,"post_id":74212540,"comment_id":131027591,"body_markdown":"If you are teaching programming, you ***MUST*** read and understand the following: [What Every Computer Scientist Should Know About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","body":"If you are teaching programming, you <b><i>MUST</i></b> read and understand the following: <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>"}],"owner":{"account_id":26741400,"reputation":11,"user_id":20342137,"display_name":"Justin Burch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666808797,"answer_count":0,"score":0,"last_activity_date":1666808598,"creation_date":1666808598,"question_id":74212540,"body_markdown":"So one of my students were working on basic equations in computer science and one of them had a weird bug when they wrote the following code.\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class randomnum{\r\n\r\n\r\npublic static void main(String[] args){\r\n\r\n   double incorrectnum = 4.3+6.26;\r\n   System.out.println(incorrectnum);\r\n   double correctnum = 4.2+6.36;\r\n   System.out.println(correctnum);\r\n}\r\n```\r\n\r\nhere, the two print statements should be identical, 10.56. However, the first double prints 10.559999999999 and the other one prints 10.56. For the life of me, I can&#39;t fathom why. they&#39;re logically identical and both carry any numbers the same way (in this case carrying over 0 numbers), so I don&#39;t see where the discrepancy occurs. Any insight would be great!\r\n\r\nI tried multiple different double equations and almost all of them worked as intended besides this one.","title":"Why is these two decimal numbers not adding up correctly?","body":"<p>So one of my students were working on basic equations in computer science and one of them had a weird bug when they wrote the following code.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class randomnum{\n\n\npublic static void main(String[] args){\n\n   double incorrectnum = 4.3+6.26;\n   System.out.println(incorrectnum);\n   double correctnum = 4.2+6.36;\n   System.out.println(correctnum);\n}\n</code></pre>\n<p>here, the two print statements should be identical, 10.56. However, the first double prints 10.559999999999 and the other one prints 10.56. For the life of me, I can't fathom why. they're logically identical and both carry any numbers the same way (in this case carrying over 0 numbers), so I don't see where the discrepancy occurs. Any insight would be great!</p>\n<p>I tried multiple different double equations and almost all of them worked as intended besides this one.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka","boot"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666809004,"post_id":74212498,"comment_id":131026021,"body_markdown":"Are you sure you really want to do that? It will create thousands of topics (unless you use a single topic for all retries with a fixed delay). In any case, why can&#39;t you just set the property to `Integer.MAX_VALUE` on the annotation?","body":"Are you sure you really want to do that? It will create thousands of topics (unless you use a single topic for all retries with a fixed delay). In any case, why can&#39;t you just set the property to <code>Integer.MAX_VALUE</code> on the annotation?"},{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1666809696,"post_id":74212498,"comment_id":131026229,"body_markdown":"I have this requirement for multiple consumers so thought to do at center place. Yes i can set Integer.Max_Value with in annotation also but i also want to know from knowledge point of view  like if i get req to override default behaviour of annotation then how can i register extendable class as default processor ?","body":"I have this requirement for multiple consumers so thought to do at center place. Yes i can set Integer.Max_Value with in annotation also but i also want to know from knowledge point of view  like if i get req to override default behaviour of annotation then how can i register extendable class as default processor ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666809853,"post_id":74212498,"comment_id":131026276,"body_markdown":"Can&#39;t you just make that `@RetryableTopic` as a meta-annotation for your custom one and sent that `attempts` to the `&quot;2147483647&quot;` value?","body":"Can&#39;t you just make that <code>@RetryableTopic</code> as a meta-annotation for your custom one and sent that <code>attempts</code> to the <code>&quot;2147483647&quot;</code> value?"},{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1666810597,"post_id":74212498,"comment_id":131026534,"body_markdown":"`@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@RetryableTopic\npublic @interface customRetry {\n\n    String attempts() default Integer,MAX_VALUE;\n}`   I tried doing same but getting compile error &quot;@RetryableTopic is not applicable to annotation Type&quot;.","body":"<code>@Target(ElementType.METHOD) @Retention(RetentionPolicy.RUNTIME) @RetryableTopic public @interface customRetry {      String attempts() default Integer,MAX_VALUE; }</code>   I tried doing same but getting compile error &quot;@RetryableTopic is not applicable to annotation Type&quot;."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666828517,"post_id":74212498,"comment_id":131030749,"body_markdown":"Meta annotation support is coming in 3.0 https://github.com/spring-projects/spring-kafka/pull/2440 however, full support with aliases will need this too https://github.com/spring-projects/spring-kafka/issues/2441 I pinged the originator earlier today. https://github.com/spring-projects/spring-kafka/pull/2440#issuecomment-1292125299","body":"Meta annotation support is coming in 3.0 <a href=\"https://github.com/spring-projects/spring-kafka/pull/2440\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/pull/2440</a> however, full support with aliases will need this too <a href=\"https://github.com/spring-projects/spring-kafka/issues/2441\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/issues/2441</a> I pinged the originator earlier today. <a href=\"https://github.com/spring-projects/spring-kafka/pull/2440#issuecomment-1292125299\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/pull/&hellip;</a>"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1666831414,"post_id":74212498,"comment_id":131031164,"body_markdown":"The `RetryableTopicAnnotationProcessor` is not currently overridable. It is tightly bound to the `RetryTopicConfigurationProvider` which in turn is tightly bound to the `KafkaListenerAnnotationBeanPostProcessor`.","body":"The <code>RetryableTopicAnnotationProcessor</code> is not currently overridable. It is tightly bound to the <code>RetryTopicConfigurationProvider</code> which in turn is tightly bound to the <code>KafkaListenerAnnotationBeanPostProcessor</code>."}],"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666808313,"creation_date":1666808313,"question_id":74212498,"body_markdown":"I have a requirement where i want to retry infinite times(why infinite times because i am calling 3rd party API from a consumer and that API can give the status as pending and as per 3rd party they hold the transaction for 2 days and if still transaction is pending they fail the transaction after 2 days). I want to retry until i get failure i.e infinite times for me. \r\n\r\ni thought to override default value of attempts field of annotation RetryableTopic so that if i don&#39;t mention attempts then infinite attempts will be triggered.\r\n\r\nI am looking extending RetryableTopicAnnotationProcessor and override method processAnnotation to set max attempts as Interger.Max_Value when we get default value 3.\r\n\r\nMy question is if i extend RetryableTopicAnnotationProcessor then how do i register that extended class as a default processor for  RetryableTopic annotation ?","title":"how to override default value 3 of annotation RetryableTopic in spring kafka","body":"<p>I have a requirement where i want to retry infinite times(why infinite times because i am calling 3rd party API from a consumer and that API can give the status as pending and as per 3rd party they hold the transaction for 2 days and if still transaction is pending they fail the transaction after 2 days). I want to retry until i get failure i.e infinite times for me.</p>\n<p>i thought to override default value of attempts field of annotation RetryableTopic so that if i don't mention attempts then infinite attempts will be triggered.</p>\n<p>I am looking extending RetryableTopicAnnotationProcessor and override method processAnnotation to set max attempts as Interger.Max_Value when we get default value 3.</p>\n<p>My question is if i extend RetryableTopicAnnotationProcessor then how do i register that extended class as a default processor for  RetryableTopic annotation ?</p>\n"},{"tags":["java","android","flutter","flutter-method-channel"],"answers":[{"comments":[{"owner":{"account_id":21241715,"reputation":67,"user_id":15625077,"display_name":"un_cafeinoman"},"score":0,"creation_date":1666856999,"post_id":74212493,"comment_id":131035598,"body_markdown":"I try your solution but it didn&#39;t work but I don&#39;t have the same error now. I wrote this code to return the ssid  and passphrase :\n`var hotSpotSuccess = localOnlyHotspotReservation.getSoftApConfiguration().getWifiSsid().toString() + &quot;|&quot; + localOnlyHotspotReservation.getSoftApConfiguration().getPassphrase()\n                            result.success(hotSpotSuccess)`\nbut i got this error : \n`java.lang.NoSuchMethodError: No virtual method getSoftApConfiguration()Landroid/net/wifi/SoftApConfiguration;`","body":"I try your solution but it didn&#39;t work but I don&#39;t have the same error now. I wrote this code to return the ssid  and passphrase : <code>var hotSpotSuccess = localOnlyHotspotReservation.getSoftApConfiguration().getWifi&zwnj;&#8203;Ssid().toString() + &quot;|&quot; + localOnlyHotspotReservation.getSoftApConfiguration().getPass&zwnj;&#8203;phrase()                             result.success(hotSpotSuccess)</code> but i got this error :  <code>java.lang.NoSuchMethodError: No virtual method getSoftApConfiguration()Landroid&#47;net&#47;wifi&#47;SoftApConfiguratio&zwnj;&#8203;n;</code>"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1666881376,"post_id":74212493,"comment_id":131044424,"body_markdown":"Probably means your phone isn&#39;t on API 30 - try using `getWifiConfiguration` instead. That&#39;s an Android issue, rather than a Flutter method channel issue. Now that you know how to return values from Flutter native method calls, you could return a fixed string for now for testing and ask an Android only question about how to handle the API 30 issue.","body":"Probably means your phone isn&#39;t on API 30 - try using <code>getWifiConfiguration</code> instead. That&#39;s an Android issue, rather than a Flutter method channel issue. Now that you know how to return values from Flutter native method calls, you could return a fixed string for now for testing and ask an Android only question about how to handle the API 30 issue."},{"owner":{"account_id":21241715,"reputation":67,"user_id":15625077,"display_name":"un_cafeinoman"},"score":0,"creation_date":1666947435,"post_id":74212493,"comment_id":131059763,"body_markdown":"I will try to do that though. your help have been huge thanks a lot !","body":"I will try to do that though. your help have been huge thanks a lot !"},{"owner":{"account_id":21241715,"reputation":67,"user_id":15625077,"display_name":"un_cafeinoman"},"score":0,"creation_date":1666950969,"post_id":74212493,"comment_id":131060964,"body_markdown":"You were right it surly was an issue with the api lvl, the method `getWifiConfiguration` work perfectly fine","body":"You were right it surly was an issue with the api lvl, the method <code>getWifiConfiguration</code> work perfectly fine"}],"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666808294,"creation_date":1666808294,"answer_id":74212493,"question_id":74210759,"body_markdown":"The problem is in this line:\r\n\r\n      result.success(localOnlyHotspotReservation)\r\n\r\nYou cannot return a Java object (in this case `WifiManager$LocalOnlyHotspotReservation`) from a method call - just supported values (integers, strings, lists, maps, etc).\r\n\r\nIf you&#39;d like to return some particular value from there, like the SSID, you&#39;d need to extract it in the native code and return that (supported) type. For example:\r\n\r\n      result.success(localOnlyHotspotReservation.getSoftApConfiguration().getWifiSsid().toString())","title":"Error when try to start local Hotspot on android part of a flutter app","body":"<p>The problem is in this line:</p>\n<pre><code>  result.success(localOnlyHotspotReservation)\n</code></pre>\n<p>You cannot return a Java object (in this case <code>WifiManager$LocalOnlyHotspotReservation</code>) from a method call - just supported values (integers, strings, lists, maps, etc).</p>\n<p>If you'd like to return some particular value from there, like the SSID, you'd need to extract it in the native code and return that (supported) type. For example:</p>\n<pre><code>  result.success(localOnlyHotspotReservation.getSoftApConfiguration().getWifiSsid().toString())\n</code></pre>\n"}],"owner":{"account_id":21241715,"reputation":67,"user_id":15625077,"display_name":"un_cafeinoman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74212493,"answer_count":1,"score":1,"last_activity_date":1666808294,"creation_date":1666799655,"question_id":74210759,"body_markdown":"I&#39;ve got a flutter app in which I want to start the hotspot of the device. So I have to write some platform specific code on android to use hotspot. \r\n\r\nI got this that compiles without a problem:\r\n\r\n    try {\r\n                if (call.method == &quot;startLocalOnlyHotspot&quot;)  {\r\n                    var wifiManager: WifiManager = applicationContext.getSystemService(Context.WIFI_SERVICE) as WifiManager\r\n                    \r\n                    wifiManager.startLocalOnlyHotspot(object : WifiManager.LocalOnlyHotspotCallback() {\r\n                        override fun onStarted(localOnlyHotspotReservation: WifiManager.LocalOnlyHotspotReservation) {\r\n                            super.onStarted(localOnlyHotspotReservation)\r\n                            result.success(localOnlyHotspotReservation)\r\n                        }\r\n\r\n                        override fun onStopped() {\r\n                            super.onStopped()\r\n                            result.success(null)\r\n                        }\r\n\r\n                        override fun onFailed(reason: Int) {\r\n                            super.onFailed(reason)\r\n                            result.success(null)\r\n                        }\r\n                    }, Handler())\r\n                    // log the results\r\n                    Log.d(&quot;Hotspot&quot;, &quot;Hotspot started&quot;)\r\n                    // result.success(ApManager.configApState(this)) \r\n                } else {\r\n                    result.notImplemented()\r\n                }\r\n            } catch (e: Exception) {\r\n                result.error(&quot;ERROR&quot;, e.message, null)\r\n            }\r\n\r\nBut when I call this code from flutter with this:\r\n\r\n    await platform.invokeMethod(&#39;startLocalOnlyHotspot&#39;);\r\n\r\nthe app crashes with I think this main error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Unsupported value:\r\n&gt; &#39;android.net.wifi.WifiManager$LocalOnlyHotspotReservation@f603f75&#39; of\r\n&gt; type &#39;class android.net.wifi.WifiManager$LocalOnlyHotspotReservation&#39;\r\n\r\nBut if it&#39;s not that, I put the full error stack here :\r\n\r\n&gt; W/WifiManager(28567): com.kwikwink.kw_delivery attempted call to\r\n&gt; setWifiApEnabled: enabled = false D/Hotspot (28567): Hotspot started\r\n&gt; D/WifiManager(28567): LocalOnlyHotspotCallbackProxy: handle message\r\n&gt; what: 0 msg: { when=0 what=0 obj=* ID: -2 SSID: AndroidShare_2246\r\n&gt; PROVIDER-NAME: null BSSID: null FQDN: null PRIO: 0 HIDDEN: false PMF:\r\n&gt; false D/WifiManager(28567):  NetworkSelectionStatus\r\n&gt; NETWORK_SELECTION_ENABLED D/WifiManager(28567):  hasEverConnected:\r\n&gt; false D/WifiManager(28567):  KeyMgmt: WPA2_PSK Protocols:\r\n&gt; D/WifiManager(28567):  AuthAlgorithms: D/WifiManager(28567): \r\n&gt; PairwiseCiphers: D/WifiManager(28567):  GroupCiphers:\r\n&gt; D/WifiManager(28567):  PSK: * D/WifiManager(28567): Enterprise config:\r\n&gt; D/WifiManager(28567): eap NULL D/WifiManager(28567): phase2\r\n&gt; &quot;auth=NULL&quot; D/WifiManager(28567): IP config: D/WifiManager(28567): IP\r\n&gt; assignment: UNASSIGNED D/WifiManager(28567): Proxy settings:\r\n&gt; UNASSIGNED D/WifiManager(28567):  cuid=-1 luid=-1 lcuid=0\r\n&gt; userApproved=USER_UNSPECIFIED noInternetAccessExpected=false\r\n&gt; D/WifiManager(28567): recentFailure: Association Rejection code: 0\r\n&gt; D/WifiManager(28567): D/WifiManager(28567): samsungSpecificFlags:\r\n&gt; D/WifiManager(28567): semAutoWifiScore: 0 D/WifiManager(28567):\r\n&gt; isVendorAp : false D/WifiManager(28567): recoverableRSSI: -200\r\n&gt; D/WifiManager(28567): inRecoverArea: false D/WifiManager(28567):\r\n&gt; disabledTime: 0 D/WifiManager(28567): notInRangeTime: 0\r\n&gt; D/WifiManager(28567): isUsableInternet: false D/WifiManager(28567):\r\n&gt; skipInternetCheck: -1 D/WifiManager(28567): notAskAgainCheck: false\r\n&gt; D/WifiManager(28567): nextTargetRssi: 0 D/WifiManager(28567):\r\n&gt; isCaptivePortal: false D/WifiManager(28567): isAuthenticated: false\r\n&gt; D/WifiManager(28567): loginUrl: null D/WifiManager(28567):\r\n&gt; autoReconnect: 1 D/WifiManager(28567): isRecommended: false\r\n&gt; D/WifiManager(28567): isHomeProviderNetwork: false\r\n&gt; D/WifiManager(28567):  WapiCertIndex: 0 D/WifiManager(28567): \r\n&gt; WapiPskType: 0 D/WifiManager(28567): isWeChatAp : false\r\n&gt; D/WifiManager(28567): entryRssi24GHz : -78 D/WifiManager(28567):\r\n&gt; entryRssi5GHz : -75\r\n&gt; target=android.net.wifi.WifiManager$LocalOnlyHotspotCallbackProxy$1 }\r\n&gt; D/AndroidRuntime(28567): Shutting down VM E/AndroidRuntime(28567):\r\n&gt; FATAL EXCEPTION: main E/AndroidRuntime(28567): Process:\r\n&gt; com.kwikwink.kw_delivery, PID: 28567 E/AndroidRuntime(28567):\r\n&gt; java.lang.IllegalArgumentException: Unsupported value:\r\n&gt; &#39;android.net.wifi.WifiManager$LocalOnlyHotspotReservation@f603f75&#39; of\r\n&gt; type &#39;class android.net.wifi.WifiManager$LocalOnlyHotspotReservation&#39;\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; io.flutter.plugin.common.StandardMessageCodec.writeValue(StandardMessageCodec.java:297)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; io.flutter.plugin.common.StandardMethodCodec.encodeSuccessEnvelope(StandardMethodCodec.java:63)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler$1.success(MethodChannel.java:267)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; com.kwikwink.kw_delivery.MainActivity$configureFlutterEngine$1$1.onStarted(MainActivity.kt:33)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; android.net.wifi.WifiManager$LocalOnlyHotspotCallbackProxy$1.handleMessage(WifiManager.java:3755)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:106)\r\n&gt; E/AndroidRuntime(28567): \tat android.os.Looper.loop(Looper.java:214)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7050)\r\n&gt; E/AndroidRuntime(28567): \tat java.lang.reflect.Method.invoke(Native\r\n&gt; Method) E/AndroidRuntime(28567): \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n&gt; E/AndroidRuntime(28567): \tat\r\n&gt; com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965) I/Process\r\n&gt; (28567): Sending signal. PID: 28567 SIG: 9 Lost connection to device.\r\n\r\nIf anyone can help me with this it could be lovely. Thanks anyway!","title":"Error when try to start local Hotspot on android part of a flutter app","body":"<p>I've got a flutter app in which I want to start the hotspot of the device. So I have to write some platform specific code on android to use hotspot.</p>\n<p>I got this that compiles without a problem:</p>\n<pre><code>try {\n            if (call.method == &quot;startLocalOnlyHotspot&quot;)  {\n                var wifiManager: WifiManager = applicationContext.getSystemService(Context.WIFI_SERVICE) as WifiManager\n                \n                wifiManager.startLocalOnlyHotspot(object : WifiManager.LocalOnlyHotspotCallback() {\n                    override fun onStarted(localOnlyHotspotReservation: WifiManager.LocalOnlyHotspotReservation) {\n                        super.onStarted(localOnlyHotspotReservation)\n                        result.success(localOnlyHotspotReservation)\n                    }\n\n                    override fun onStopped() {\n                        super.onStopped()\n                        result.success(null)\n                    }\n\n                    override fun onFailed(reason: Int) {\n                        super.onFailed(reason)\n                        result.success(null)\n                    }\n                }, Handler())\n                // log the results\n                Log.d(&quot;Hotspot&quot;, &quot;Hotspot started&quot;)\n                // result.success(ApManager.configApState(this)) \n            } else {\n                result.notImplemented()\n            }\n        } catch (e: Exception) {\n            result.error(&quot;ERROR&quot;, e.message, null)\n        }\n</code></pre>\n<p>But when I call this code from flutter with this:</p>\n<pre><code>await platform.invokeMethod('startLocalOnlyHotspot');\n</code></pre>\n<p>the app crashes with I think this main error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Unsupported value:\n'android.net.wifi.WifiManager$LocalOnlyHotspotReservation@f603f75' of\ntype 'class android.net.wifi.WifiManager$LocalOnlyHotspotReservation'</p>\n</blockquote>\n<p>But if it's not that, I put the full error stack here :</p>\n<blockquote>\n<p>W/WifiManager(28567): com.kwikwink.kw_delivery attempted call to\nsetWifiApEnabled: enabled = false D/Hotspot (28567): Hotspot started\nD/WifiManager(28567): LocalOnlyHotspotCallbackProxy: handle message\nwhat: 0 msg: { when=0 what=0 obj=* ID: -2 SSID: AndroidShare_2246\nPROVIDER-NAME: null BSSID: null FQDN: null PRIO: 0 HIDDEN: false PMF:\nfalse D/WifiManager(28567):  NetworkSelectionStatus\nNETWORK_SELECTION_ENABLED D/WifiManager(28567):  hasEverConnected:\nfalse D/WifiManager(28567):  KeyMgmt: WPA2_PSK Protocols:\nD/WifiManager(28567):  AuthAlgorithms: D/WifiManager(28567):\nPairwiseCiphers: D/WifiManager(28567):  GroupCiphers:\nD/WifiManager(28567):  PSK: * D/WifiManager(28567): Enterprise config:\nD/WifiManager(28567): eap NULL D/WifiManager(28567): phase2\n&quot;auth=NULL&quot; D/WifiManager(28567): IP config: D/WifiManager(28567): IP\nassignment: UNASSIGNED D/WifiManager(28567): Proxy settings:\nUNASSIGNED D/WifiManager(28567):  cuid=-1 luid=-1 lcuid=0\nuserApproved=USER_UNSPECIFIED noInternetAccessExpected=false\nD/WifiManager(28567): recentFailure: Association Rejection code: 0\nD/WifiManager(28567): D/WifiManager(28567): samsungSpecificFlags:\nD/WifiManager(28567): semAutoWifiScore: 0 D/WifiManager(28567):\nisVendorAp : false D/WifiManager(28567): recoverableRSSI: -200\nD/WifiManager(28567): inRecoverArea: false D/WifiManager(28567):\ndisabledTime: 0 D/WifiManager(28567): notInRangeTime: 0\nD/WifiManager(28567): isUsableInternet: false D/WifiManager(28567):\nskipInternetCheck: -1 D/WifiManager(28567): notAskAgainCheck: false\nD/WifiManager(28567): nextTargetRssi: 0 D/WifiManager(28567):\nisCaptivePortal: false D/WifiManager(28567): isAuthenticated: false\nD/WifiManager(28567): loginUrl: null D/WifiManager(28567):\nautoReconnect: 1 D/WifiManager(28567): isRecommended: false\nD/WifiManager(28567): isHomeProviderNetwork: false\nD/WifiManager(28567):  WapiCertIndex: 0 D/WifiManager(28567):\nWapiPskType: 0 D/WifiManager(28567): isWeChatAp : false\nD/WifiManager(28567): entryRssi24GHz : -78 D/WifiManager(28567):\nentryRssi5GHz : -75\ntarget=android.net.wifi.WifiManager$LocalOnlyHotspotCallbackProxy$1 }\nD/AndroidRuntime(28567): Shutting down VM E/AndroidRuntime(28567):\nFATAL EXCEPTION: main E/AndroidRuntime(28567): Process:\ncom.kwikwink.kw_delivery, PID: 28567 E/AndroidRuntime(28567):\njava.lang.IllegalArgumentException: Unsupported value:\n'android.net.wifi.WifiManager$LocalOnlyHotspotReservation@f603f75' of\ntype 'class android.net.wifi.WifiManager$LocalOnlyHotspotReservation'\nE/AndroidRuntime(28567):  at\nio.flutter.plugin.common.StandardMessageCodec.writeValue(StandardMessageCodec.java:297)\nE/AndroidRuntime(28567):  at\nio.flutter.plugin.common.StandardMethodCodec.encodeSuccessEnvelope(StandardMethodCodec.java:63)\nE/AndroidRuntime(28567):  at\nio.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler$1.success(MethodChannel.java:267)\nE/AndroidRuntime(28567):  at\ncom.kwikwink.kw_delivery.MainActivity$configureFlutterEngine$1$1.onStarted(MainActivity.kt:33)\nE/AndroidRuntime(28567):  at\nandroid.net.wifi.WifiManager$LocalOnlyHotspotCallbackProxy$1.handleMessage(WifiManager.java:3755)\nE/AndroidRuntime(28567):  at\nandroid.os.Handler.dispatchMessage(Handler.java:106)\nE/AndroidRuntime(28567):  at android.os.Looper.loop(Looper.java:214)\nE/AndroidRuntime(28567):  at\nandroid.app.ActivityThread.main(ActivityThread.java:7050)\nE/AndroidRuntime(28567):  at java.lang.reflect.Method.invoke(Native\nMethod) E/AndroidRuntime(28567):  at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\nE/AndroidRuntime(28567):  at\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:965) I/Process\n(28567): Sending signal. PID: 28567 SIG: 9 Lost connection to device.</p>\n</blockquote>\n<p>If anyone can help me with this it could be lovely. Thanks anyway!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9292,"page":931,"page_size":100}
