{"items":[{"tags":["java","encryption","bouncycastle","openpgp"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1589642119,"creation_date":1589573757,"answer_id":61827650,"question_id":61826843,"body_markdown":"The following full example is taken from the source code of the book &quot;Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves&quot;.\r\nThe complete source code with all examples is available here: https://www.bouncycastle.org/java-crypto-tools-src.zip\r\n\r\nThe examples are showing a private-/public key creation with El Gamal or Elliptic Curves and encryption with AES-256.\r\nIn the ecExample-method I added two lines to save the encrypted string to the file &quot;pgp-encrypted-string.dat&quot; and then\r\nreload the data to decypt the file and show the decrypted string.\r\n\r\n    import org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.*;\r\n    import org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\r\n    import org.bouncycastle.openpgp.operator.PublicKeyDataDecryptorFactory;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcaPGPKeyPair;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\r\n    import org.bouncycastle.util.Strings;\r\n    import org.bouncycastle.util.io.Streams;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.ECGenParameterSpec;\r\n    import java.util.Date;\r\n    \r\n    public class PGPEncryptionExampleForSO\r\n    {\r\n         /**\r\n         * Create an encrypted data blob using an AES-256 session key and the\r\n         * passed in public key.\r\n         *\r\n         * @param encryptionKey the public key to use.\r\n         * @param data the data to be encrypted.\r\n         * @return a PGP binary encoded version of the encrypted data.\r\n         */\r\n        public static byte[] createEncryptedData(\r\n            PGPPublicKey encryptionKey,\r\n            byte[] data)\r\n            throws PGPException, IOException\r\n        {\r\n            PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\r\n                new JcePGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.AES_256)\r\n                    .setWithIntegrityPacket(true)\r\n                    .setSecureRandom(new SecureRandom()).setProvider(&quot;BC&quot;));\r\n            encGen.addMethod(\r\n                new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey)\r\n                    .setProvider(&quot;BC&quot;));\r\n            ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n            // create an indefinite length encrypted stream\r\n            OutputStream cOut = encGen.open(encOut, new byte[4096]);\r\n            // write out the literal data\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n            OutputStream pOut = lData.open(\r\n                cOut, PGPLiteralData.BINARY,\r\n                PGPLiteralData.CONSOLE, data.length, new Date());\r\n            pOut.write(data);\r\n            pOut.close();\r\n            // finish the encryption\r\n            cOut.close();\r\n            return encOut.toByteArray();\r\n        }\r\n    \r\n        /**\r\n         * Extract the plain text data from the passed in encoding of PGP\r\n         * encrypted data. The routine assumes the passed in private key\r\n         * is the one that matches the first encrypted data object in the\r\n         * encoding.\r\n         *\r\n         * @param privateKey the private key to decrypt the session key with.\r\n         * @param pgpEncryptedData the encoding of the PGP encrypted data.\r\n         * @return a byte array containing the decrypted data.\r\n         */\r\n        public static byte[] extractPlainTextData(\r\n            PGPPrivateKey privateKey,\r\n            byte[] pgpEncryptedData)\r\n            throws PGPException, IOException\r\n        {\r\n            PGPObjectFactory pgpFact = new JcaPGPObjectFactory(pgpEncryptedData);\r\n            PGPEncryptedDataList encList = (PGPEncryptedDataList)pgpFact.nextObject();\r\n            // find the matching public key encrypted data packet.\r\n            PGPPublicKeyEncryptedData encData = null;\r\n            for (PGPEncryptedData pgpEnc: encList)\r\n            {\r\n                PGPPublicKeyEncryptedData pkEnc\r\n                    = (PGPPublicKeyEncryptedData)pgpEnc;\r\n                if (pkEnc.getKeyID() == privateKey.getKeyID())\r\n                {\r\n                    encData = pkEnc;\r\n                    break;\r\n                }\r\n            }\r\n            if (encData == null)\r\n            {\r\n                throw new IllegalStateException(&quot;matching encrypted data not found&quot;);\r\n            }\r\n            // build decryptor factory\r\n            PublicKeyDataDecryptorFactory dataDecryptorFactory =\r\n                new JcePublicKeyDataDecryptorFactoryBuilder()\r\n                    .setProvider(&quot;BC&quot;)\r\n                    .build(privateKey);\r\n            InputStream clear = encData.getDataStream(dataDecryptorFactory);\r\n            byte[] literalData = Streams.readAll(clear);\r\n            clear.close();\r\n            // check data decrypts okay\r\n            if (encData.verify())\r\n            {\r\n                // parse out literal data\r\n                PGPObjectFactory litFact = new JcaPGPObjectFactory(literalData);\r\n                PGPLiteralData litData = (PGPLiteralData)litFact.nextObject();\r\n                byte[] data = Streams.readAll(litData.getInputStream());\r\n                return data;\r\n            }\r\n            throw new IllegalStateException(&quot;modification check failed&quot;);\r\n        }\r\n    \r\n        private static void elgamalExample()\r\n            throws Exception\r\n        {\r\n            byte[] msg = Strings.toByteArray(&quot;Hello, world!&quot;);\r\n            KeyPairGenerator kpGen = KeyPairGenerator.getInstance(&quot;DH&quot;, &quot;BC&quot;);\r\n            kpGen.initialize(2048);\r\n            KeyPair kp = kpGen.generateKeyPair();\r\n            PGPKeyPair elgKp = new JcaPGPKeyPair(\r\n                PGPPublicKey.ELGAMAL_ENCRYPT, kp, new Date());\r\n            byte[] encData = createEncryptedData(elgKp.getPublicKey(), msg);\r\n            byte[] decData = extractPlainTextData(elgKp.getPrivateKey(), encData);\r\n            System.out.println(&quot;elgamal encryption msg length: &quot; + msg.length + &quot; enc.length: &quot; + encData.length + &quot; dec.length: &quot; + decData.length);\r\n            System.out.println(Strings.fromByteArray(decData));\r\n        }\r\n    \r\n        private static void ecExample()\r\n            throws Exception\r\n        {\r\n            byte[] msg = Strings.toByteArray(&quot;Hello, world!&quot;);\r\n            KeyPairGenerator kpGen = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;BC&quot;);\r\n            kpGen.initialize(new ECGenParameterSpec(&quot;P-256&quot;));\r\n            KeyPair kp = kpGen.generateKeyPair();\r\n            PGPKeyPair ecdhKp = new JcaPGPKeyPair(PGPPublicKey.ECDH, kp, new Date());\r\n            byte[] encData = createEncryptedData(ecdhKp.getPublicKey(), msg);\r\n            // save encrypted string\r\n            Files.write(Paths.get(&quot;pgp-encrypted-string.dat&quot;), encData);\r\n            // load encrypted string\r\n            byte[] encDataLoad = Files.readAllBytes(Paths.get(&quot;pgp-encrypted-string.dat&quot;));\r\n            byte[] decData = extractPlainTextData(ecdhKp.getPrivateKey(), encDataLoad);\r\n            System.out.println(&quot;ec encryption msg length: &quot; + msg.length + &quot; enc.length: &quot; + encData.length + &quot; dec.length: &quot; + decData.length);\r\n            System.out.println(Strings.fromByteArray(decData));\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n            throws Exception\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n            // you need the two files bcpg-jdk15on-165.jar and bcprov-jdk15to18-165.jar to run the example\r\n            System.out.println(&quot;Example from Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves&quot;);\r\n            System.out.println(&quot;get source files: https://www.bouncycastle.org/java-crypto-tools-src.zip&quot;);\r\n            elgamalExample();\r\n            ecExample();\r\n        }\r\n    }\r\n\r\nThis is the short output:\r\n\r\n    Example from Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves\r\n    get source files: https://www.bouncycastle.org/java-crypto-tools-src.zip\r\n    elgamal encryption msg length: 13 enc.length: 601 dec.length: 13\r\n    Hello, world!\r\n    ec encryption msg length: 13 enc.length: 200 dec.length: 13\r\n    Hello, world!\r\n\r\n**Added:** As I now understand you&#39;re having a String like \r\n\r\n    This string needs an encryption\r\n\r\nand you want to encrypt it with a rsa pgp public key:\r\n\r\n    -----BEGIN PGP PUBLIC KEY BLOCK-----\r\n    Version: BCPG v1.65\r\n    \r\n    mI0EXr/nDgEEAKhB6ufAB954aBIlNjPCsryzUVLu0qkC/1RtnFHf+J6IVegV8Wi7\r\n    28V074inQcw6o6FTLtFTaLRP4+3eXNATdjGSjrvcP7k+nu50vydugHv43fPuCiZ7\r\n    6gbbMTE9gPiLPA2pS+SmQJnr9hOrD5rzwYP1yNNIsRJ9qmU5NeZyu+szABEBAAG0\r\n    DHRlc3RpZGVudGl0eYicBBABAgAGBQJev+cOAAoJEPBDuyqTbz/gY0YD/R+gDkfe\r\n    qPgNuk6iI2wLSGEeZRXr6Ru1cyG73CRvz7BjCpwWx039AdQzP9gkeo6MEj8Z0c73\r\n    obqEP8NtvvOcwC7+/QiGLTR2mgCsNhk54+iCGsvNbkpkr/rRoYZGyvb+rxui0A61\r\n    DCB1w5hdnyMg2OglFNrkaPfpNjMsTebfF5eS\r\n    =h1+m\r\n    -----END PGP PUBLIC KEY BLOCK-----\r\n\r\nand get the encrypted string\r\n\r\n    -----BEGIN PGP MESSAGE-----\r\n    Version: BCPG v1.65\r\n    \r\n    hIwD8EO7KpNvP+ABA/9JkOE9PDyS/kr/lZ1Uz+NCSe1JiNcKCXjbsUbvP8CT7Tf1\r\n    cKlgzIz1mQjdpkBtVpVhEnEjmUzFy2UCRKr4b4Wx7/1UL+370CICW5HgMoi5TgTg\r\n    MYRy5I9Uba/+JxcusjWB1JJHP4ofULziXRKLWAoSPLlglZDzSmV88hNo19rl39JZ\r\n    AbMhIS2edM9hHICefL/Yaiq90hGjKMRReVopu2tPUjNLGYP7QABAvWb3WQJMZoYT\r\n    HEsyjHxeyYQylAdYB7pWQA0++Z803iclvM3skN8FBt64ebDkqfxgbhs=\r\n    =je0r\r\n    -----END PGP MESSAGE-----\r\n\r\nNow you&#39;d like to decrypt this message with Kleoptatra, online (e.g. https://sela.io/pgp-en/) or in Java with the RSA pgp private key and the password 123456:\r\n\r\n    -----BEGIN PGP PRIVATE KEY BLOCK-----\r\n    Version: BCPG v1.65\r\n    \r\n    lQH+BF6/5w4BBACoQernwAfeeGgSJTYzwrK8s1FS7tKpAv9UbZxR3/ieiFXoFfFo\r\n    u9vFdO+Ip0HMOqOhUy7RU2i0T+Pt3lzQE3Yxko673D+5Pp7udL8nboB7+N3z7gom\r\n    e+oG2zExPYD4izwNqUvkpkCZ6/YTqw+a88GD9cjTSLESfaplOTXmcrvrMwARAQAB\r\n    /gMDAhhcE1oF/u8YYExKGLgriK5JpUUSsMFU0AOHP9/zZQr09437V0f/F4J87+9s\r\n    G30lDRikGwynEGRnAvIVwqq2F+iarKGGHCZCRgbyufXS7VK6wE/43lR0kSwA2VIM\r\n    ll/KbQKP1cSZv0rqtJ1tGL7cDHFEwq10gM4Bn75HOKyBzE9oERRKz37noAECsAZn\r\n    xuXGlEB5noqTT00RxsHjBA5Os04CtEz9N+OMrg47IR7AzSQUe90lG2F6W71dhJ6V\r\n    jQaf7D6JFU3dOWPW1eBb5FQhgYF92CFRizJ42lDCiTfl2FQU49MlwLd2ofNneuPo\r\n    aVuPoYUNKwbasyx4fo2vh6rrMyxmncCizMExvh6GIVgYd7EK9s6Gxq/duuOvly4O\r\n    ZAyIY2MOon0bDXxAYR2q/wdQLamnP7rAR4uMu24m/iOuBj6wwTR8v8hhsFFTp/4u\r\n    tebwWzLnPyyBYStnTF5IZ9ZJeVl5S3zdzNcrP9g8yXtItAx0ZXN0aWRlbnRpdHmI\r\n    nAQQAQIABgUCXr/nDgAKCRDwQ7sqk28/4GNGA/0foA5H3qj4DbpOoiNsC0hhHmUV\r\n    6+kbtXMhu9wkb8+wYwqcFsdN/QHUMz/YJHqOjBI/GdHO96G6hD/Dbb7znMAu/v0I\r\n    hi00dpoArDYZOePoghrLzW5KZK/60aGGRsr2/q8botAOtQwgdcOYXZ8jINjoJRTa\r\n    5Gj36TYzLE3m3xeXkg==\r\n    =y/tQ\r\n    -----END PGP PRIVATE KEY BLOCK-----\r\n\r\nand get the decrypted string:\r\n\r\n    This string needs an encryption\r\n\r\nTo encrypt/decrypt in Java fortunately there are sample files available in the BouncyCastle Github-Repo: https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/. You may need to create a new PGP-keypair using RSA (RSAKeyPairGenerator.java) or ElGamal\r\n(DSAElGamalKeyRingGenerator.java). With the generated keys you can encrypt or decrypt using KeyBasedFileProcessor.java and neccessary PGPExampleUtil.java.\r\n\r\nI created the RSA key files with &quot;-a testidentity 123456&quot; as arguments, the encryption is done with &quot;-e -ai plaintext.txt rsa_pub.asc&quot; and the decryption goes with &quot;-d plaintext.txt.asc rsa_secret.asc 123456&quot;. ","title":"Java: PGP Encryption using Bouncy Castle","body":"<p>The following full example is taken from the source code of the book \"Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves\".\nThe complete source code with all examples is available here: <a href=\"https://www.bouncycastle.org/java-crypto-tools-src.zip\" rel=\"noreferrer\">https://www.bouncycastle.org/java-crypto-tools-src.zip</a></p>\n\n<p>The examples are showing a private-/public key creation with El Gamal or Elliptic Curves and encryption with AES-256.\nIn the ecExample-method I added two lines to save the encrypted string to the file \"pgp-encrypted-string.dat\" and then\nreload the data to decypt the file and show the decrypted string.</p>\n\n<pre><code>import org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.*;\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\nimport org.bouncycastle.openpgp.operator.PublicKeyDataDecryptorFactory;\nimport org.bouncycastle.openpgp.operator.jcajce.JcaPGPKeyPair;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\nimport org.bouncycastle.util.Strings;\nimport org.bouncycastle.util.io.Streams;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.ECGenParameterSpec;\nimport java.util.Date;\n\npublic class PGPEncryptionExampleForSO\n{\n     /**\n     * Create an encrypted data blob using an AES-256 session key and the\n     * passed in public key.\n     *\n     * @param encryptionKey the public key to use.\n     * @param data the data to be encrypted.\n     * @return a PGP binary encoded version of the encrypted data.\n     */\n    public static byte[] createEncryptedData(\n        PGPPublicKey encryptionKey,\n        byte[] data)\n        throws PGPException, IOException\n    {\n        PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\n            new JcePGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.AES_256)\n                .setWithIntegrityPacket(true)\n                .setSecureRandom(new SecureRandom()).setProvider(\"BC\"));\n        encGen.addMethod(\n            new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey)\n                .setProvider(\"BC\"));\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n        // create an indefinite length encrypted stream\n        OutputStream cOut = encGen.open(encOut, new byte[4096]);\n        // write out the literal data\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(\n            cOut, PGPLiteralData.BINARY,\n            PGPLiteralData.CONSOLE, data.length, new Date());\n        pOut.write(data);\n        pOut.close();\n        // finish the encryption\n        cOut.close();\n        return encOut.toByteArray();\n    }\n\n    /**\n     * Extract the plain text data from the passed in encoding of PGP\n     * encrypted data. The routine assumes the passed in private key\n     * is the one that matches the first encrypted data object in the\n     * encoding.\n     *\n     * @param privateKey the private key to decrypt the session key with.\n     * @param pgpEncryptedData the encoding of the PGP encrypted data.\n     * @return a byte array containing the decrypted data.\n     */\n    public static byte[] extractPlainTextData(\n        PGPPrivateKey privateKey,\n        byte[] pgpEncryptedData)\n        throws PGPException, IOException\n    {\n        PGPObjectFactory pgpFact = new JcaPGPObjectFactory(pgpEncryptedData);\n        PGPEncryptedDataList encList = (PGPEncryptedDataList)pgpFact.nextObject();\n        // find the matching public key encrypted data packet.\n        PGPPublicKeyEncryptedData encData = null;\n        for (PGPEncryptedData pgpEnc: encList)\n        {\n            PGPPublicKeyEncryptedData pkEnc\n                = (PGPPublicKeyEncryptedData)pgpEnc;\n            if (pkEnc.getKeyID() == privateKey.getKeyID())\n            {\n                encData = pkEnc;\n                break;\n            }\n        }\n        if (encData == null)\n        {\n            throw new IllegalStateException(\"matching encrypted data not found\");\n        }\n        // build decryptor factory\n        PublicKeyDataDecryptorFactory dataDecryptorFactory =\n            new JcePublicKeyDataDecryptorFactoryBuilder()\n                .setProvider(\"BC\")\n                .build(privateKey);\n        InputStream clear = encData.getDataStream(dataDecryptorFactory);\n        byte[] literalData = Streams.readAll(clear);\n        clear.close();\n        // check data decrypts okay\n        if (encData.verify())\n        {\n            // parse out literal data\n            PGPObjectFactory litFact = new JcaPGPObjectFactory(literalData);\n            PGPLiteralData litData = (PGPLiteralData)litFact.nextObject();\n            byte[] data = Streams.readAll(litData.getInputStream());\n            return data;\n        }\n        throw new IllegalStateException(\"modification check failed\");\n    }\n\n    private static void elgamalExample()\n        throws Exception\n    {\n        byte[] msg = Strings.toByteArray(\"Hello, world!\");\n        KeyPairGenerator kpGen = KeyPairGenerator.getInstance(\"DH\", \"BC\");\n        kpGen.initialize(2048);\n        KeyPair kp = kpGen.generateKeyPair();\n        PGPKeyPair elgKp = new JcaPGPKeyPair(\n            PGPPublicKey.ELGAMAL_ENCRYPT, kp, new Date());\n        byte[] encData = createEncryptedData(elgKp.getPublicKey(), msg);\n        byte[] decData = extractPlainTextData(elgKp.getPrivateKey(), encData);\n        System.out.println(\"elgamal encryption msg length: \" + msg.length + \" enc.length: \" + encData.length + \" dec.length: \" + decData.length);\n        System.out.println(Strings.fromByteArray(decData));\n    }\n\n    private static void ecExample()\n        throws Exception\n    {\n        byte[] msg = Strings.toByteArray(\"Hello, world!\");\n        KeyPairGenerator kpGen = KeyPairGenerator.getInstance(\"EC\", \"BC\");\n        kpGen.initialize(new ECGenParameterSpec(\"P-256\"));\n        KeyPair kp = kpGen.generateKeyPair();\n        PGPKeyPair ecdhKp = new JcaPGPKeyPair(PGPPublicKey.ECDH, kp, new Date());\n        byte[] encData = createEncryptedData(ecdhKp.getPublicKey(), msg);\n        // save encrypted string\n        Files.write(Paths.get(\"pgp-encrypted-string.dat\"), encData);\n        // load encrypted string\n        byte[] encDataLoad = Files.readAllBytes(Paths.get(\"pgp-encrypted-string.dat\"));\n        byte[] decData = extractPlainTextData(ecdhKp.getPrivateKey(), encDataLoad);\n        System.out.println(\"ec encryption msg length: \" + msg.length + \" enc.length: \" + encData.length + \" dec.length: \" + decData.length);\n        System.out.println(Strings.fromByteArray(decData));\n    }\n\n    public static void main(String[] args)\n        throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n        // you need the two files bcpg-jdk15on-165.jar and bcprov-jdk15to18-165.jar to run the example\n        System.out.println(\"Example from Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves\");\n        System.out.println(\"get source files: https://www.bouncycastle.org/java-crypto-tools-src.zip\");\n        elgamalExample();\n        ecExample();\n    }\n}\n</code></pre>\n\n<p>This is the short output:</p>\n\n<pre><code>Example from Java Cryptography: Tools and Techniques by David Hook &amp; Jon Eaves\nget source files: https://www.bouncycastle.org/java-crypto-tools-src.zip\nelgamal encryption msg length: 13 enc.length: 601 dec.length: 13\nHello, world!\nec encryption msg length: 13 enc.length: 200 dec.length: 13\nHello, world!\n</code></pre>\n\n<p><strong>Added:</strong> As I now understand you're having a String like </p>\n\n<pre><code>This string needs an encryption\n</code></pre>\n\n<p>and you want to encrypt it with a rsa pgp public key:</p>\n\n<pre><code>-----BEGIN PGP PUBLIC KEY BLOCK-----\nVersion: BCPG v1.65\n\nmI0EXr/nDgEEAKhB6ufAB954aBIlNjPCsryzUVLu0qkC/1RtnFHf+J6IVegV8Wi7\n28V074inQcw6o6FTLtFTaLRP4+3eXNATdjGSjrvcP7k+nu50vydugHv43fPuCiZ7\n6gbbMTE9gPiLPA2pS+SmQJnr9hOrD5rzwYP1yNNIsRJ9qmU5NeZyu+szABEBAAG0\nDHRlc3RpZGVudGl0eYicBBABAgAGBQJev+cOAAoJEPBDuyqTbz/gY0YD/R+gDkfe\nqPgNuk6iI2wLSGEeZRXr6Ru1cyG73CRvz7BjCpwWx039AdQzP9gkeo6MEj8Z0c73\nobqEP8NtvvOcwC7+/QiGLTR2mgCsNhk54+iCGsvNbkpkr/rRoYZGyvb+rxui0A61\nDCB1w5hdnyMg2OglFNrkaPfpNjMsTebfF5eS\n=h1+m\n-----END PGP PUBLIC KEY BLOCK-----\n</code></pre>\n\n<p>and get the encrypted string</p>\n\n<pre><code>-----BEGIN PGP MESSAGE-----\nVersion: BCPG v1.65\n\nhIwD8EO7KpNvP+ABA/9JkOE9PDyS/kr/lZ1Uz+NCSe1JiNcKCXjbsUbvP8CT7Tf1\ncKlgzIz1mQjdpkBtVpVhEnEjmUzFy2UCRKr4b4Wx7/1UL+370CICW5HgMoi5TgTg\nMYRy5I9Uba/+JxcusjWB1JJHP4ofULziXRKLWAoSPLlglZDzSmV88hNo19rl39JZ\nAbMhIS2edM9hHICefL/Yaiq90hGjKMRReVopu2tPUjNLGYP7QABAvWb3WQJMZoYT\nHEsyjHxeyYQylAdYB7pWQA0++Z803iclvM3skN8FBt64ebDkqfxgbhs=\n=je0r\n-----END PGP MESSAGE-----\n</code></pre>\n\n<p>Now you'd like to decrypt this message with Kleoptatra, online (e.g. <a href=\"https://sela.io/pgp-en/\" rel=\"noreferrer\">https://sela.io/pgp-en/</a>) or in Java with the RSA pgp private key and the password 123456:</p>\n\n<pre><code>-----BEGIN PGP PRIVATE KEY BLOCK-----\nVersion: BCPG v1.65\n\nlQH+BF6/5w4BBACoQernwAfeeGgSJTYzwrK8s1FS7tKpAv9UbZxR3/ieiFXoFfFo\nu9vFdO+Ip0HMOqOhUy7RU2i0T+Pt3lzQE3Yxko673D+5Pp7udL8nboB7+N3z7gom\ne+oG2zExPYD4izwNqUvkpkCZ6/YTqw+a88GD9cjTSLESfaplOTXmcrvrMwARAQAB\n/gMDAhhcE1oF/u8YYExKGLgriK5JpUUSsMFU0AOHP9/zZQr09437V0f/F4J87+9s\nG30lDRikGwynEGRnAvIVwqq2F+iarKGGHCZCRgbyufXS7VK6wE/43lR0kSwA2VIM\nll/KbQKP1cSZv0rqtJ1tGL7cDHFEwq10gM4Bn75HOKyBzE9oERRKz37noAECsAZn\nxuXGlEB5noqTT00RxsHjBA5Os04CtEz9N+OMrg47IR7AzSQUe90lG2F6W71dhJ6V\njQaf7D6JFU3dOWPW1eBb5FQhgYF92CFRizJ42lDCiTfl2FQU49MlwLd2ofNneuPo\naVuPoYUNKwbasyx4fo2vh6rrMyxmncCizMExvh6GIVgYd7EK9s6Gxq/duuOvly4O\nZAyIY2MOon0bDXxAYR2q/wdQLamnP7rAR4uMu24m/iOuBj6wwTR8v8hhsFFTp/4u\ntebwWzLnPyyBYStnTF5IZ9ZJeVl5S3zdzNcrP9g8yXtItAx0ZXN0aWRlbnRpdHmI\nnAQQAQIABgUCXr/nDgAKCRDwQ7sqk28/4GNGA/0foA5H3qj4DbpOoiNsC0hhHmUV\n6+kbtXMhu9wkb8+wYwqcFsdN/QHUMz/YJHqOjBI/GdHO96G6hD/Dbb7znMAu/v0I\nhi00dpoArDYZOePoghrLzW5KZK/60aGGRsr2/q8botAOtQwgdcOYXZ8jINjoJRTa\n5Gj36TYzLE3m3xeXkg==\n=y/tQ\n-----END PGP PRIVATE KEY BLOCK-----\n</code></pre>\n\n<p>and get the decrypted string:</p>\n\n<pre><code>This string needs an encryption\n</code></pre>\n\n<p>To encrypt/decrypt in Java fortunately there are sample files available in the BouncyCastle Github-Repo: <a href=\"https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/\" rel=\"noreferrer\">https://github.com/bcgit/bc-java/blob/master/pg/src/main/java/org/bouncycastle/openpgp/examples/</a>. You may need to create a new PGP-keypair using RSA (RSAKeyPairGenerator.java) or ElGamal\n(DSAElGamalKeyRingGenerator.java). With the generated keys you can encrypt or decrypt using KeyBasedFileProcessor.java and neccessary PGPExampleUtil.java.</p>\n\n<p>I created the RSA key files with \"-a testidentity 123456\" as arguments, the encryption is done with \"-e -ai plaintext.txt rsa_pub.asc\" and the decryption goes with \"-d plaintext.txt.asc rsa_secret.asc 123456\". </p>\n"}],"owner":{"account_id":6092561,"reputation":181,"user_id":4754385,"accept_rate":87,"display_name":"Unnamed user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22482,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61827650,"answer_count":1,"score":5,"last_activity_date":1679034830,"creation_date":1589570595,"question_id":61826843,"body_markdown":"I am trying to achieve encryption using PGP and my encrypt method successfully encrypts the input string but when I try to decrypt it to verify if the encryption is properly done, the string doesn&#39;t get decrypted.\r\n\r\nI tried 2 approaches:\r\n\r\n1st approach uses **FileOutputStream** to write encrypted string &amp; 2nd approach uses **ByteArrayOutputStream**.\r\n**FileOutputStream** creates a file and I am able to decrypt it using Kleopatra. However my requirement is to just get an encrypted string (not written in a file). So when I try to decrypt the encrypted string (received after using **ByteArrayOutputStream**) its not working. I tried copying the string and decrypting it through tools&gt;&gt;clipboard in Kleopatra, but the decrypt/verify option is disabled. I tried writing the string on a file manually &amp; through FileWriter class, but decryption fails with the error that **File contains certificate &amp; cannot be decrypted or verified.**\r\n\r\nI assume only files created directly by OutputStream gets decrypted successfully.\r\nBut I have to really check the encrypted string.\r\n\r\nAny help would be highly appreciated.","title":"Java: PGP Encryption using Bouncy Castle","body":"<p>I am trying to achieve encryption using PGP and my encrypt method successfully encrypts the input string but when I try to decrypt it to verify if the encryption is properly done, the string doesn't get decrypted.</p>\n\n<p>I tried 2 approaches:</p>\n\n<p>1st approach uses <strong>FileOutputStream</strong> to write encrypted string &amp; 2nd approach uses <strong>ByteArrayOutputStream</strong>.\n<strong>FileOutputStream</strong> creates a file and I am able to decrypt it using Kleopatra. However my requirement is to just get an encrypted string (not written in a file). So when I try to decrypt the encrypted string (received after using <strong>ByteArrayOutputStream</strong>) its not working. I tried copying the string and decrypting it through tools>>clipboard in Kleopatra, but the decrypt/verify option is disabled. I tried writing the string on a file manually &amp; through FileWriter class, but decryption fails with the error that <strong>File contains certificate &amp; cannot be decrypted or verified.</strong></p>\n\n<p>I assume only files created directly by OutputStream gets decrypted successfully.\nBut I have to really check the encrypted string.</p>\n\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":392950,"reputation":126,"user_id":754529,"display_name":"BillToWin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348793929,"creation_date":1348793929,"answer_id":12632191,"question_id":12630849,"body_markdown":"To hide the toolbar, you can go here: http://code.google.com/p/eclipse-hide-toolbar/\r\nfor a plugin which hides the toolbar every time you start eclipse.\r\n\r\nI don&#39;t think there is a way to have your cursor jump to the input like you described but it&#39;s a minor issue when you consider that an average user clicks and moves the mouse thousands of times a day, never mind an active programmer. \r\n\r\nBut I might be wrong.","title":"Is it possible to make Eclipse jump to the console upon run, especially when there&#39;s input? Also, can I hide the toolbar?","body":"<p>To hide the toolbar, you can go here: <a href=\"http://code.google.com/p/eclipse-hide-toolbar/\" rel=\"nofollow\">http://code.google.com/p/eclipse-hide-toolbar/</a>\nfor a plugin which hides the toolbar every time you start eclipse.</p>\n\n<p>I don't think there is a way to have your cursor jump to the input like you described but it's a minor issue when you consider that an average user clicks and moves the mouse thousands of times a day, never mind an active programmer. </p>\n\n<p>But I might be wrong.</p>\n"},{"tags":[],"owner":{"account_id":21292600,"reputation":1,"user_id":15669528,"display_name":"Katshashank45"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679034571,"creation_date":1679034571,"answer_id":75764391,"question_id":12630849,"body_markdown":"Press ctrl+tab thrice and u will be there at Console.......","title":"Is it possible to make Eclipse jump to the console upon run, especially when there&#39;s input? Also, can I hide the toolbar?","body":"<p>Press ctrl+tab thrice and u will be there at Console.......</p>\n"}],"owner":{"account_id":977491,"reputation":29776,"user_id":998117,"accept_rate":70,"display_name":"Doug Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12632191,"answer_count":2,"score":1,"last_activity_date":1679034571,"creation_date":1348784275,"question_id":12630849,"body_markdown":"In my old IDE, if I&#39;d run a Java file and the console requested input, it would jump my text cursor to it so I could type without moving my mouse. Eclipse doesn&#39;t seem to do this. Can I make it?\r\n\r\nAlso, how do you hide the toolbar? I prefer keyboard shortcuts so it&#39;s just cluttering up my view.","title":"Is it possible to make Eclipse jump to the console upon run, especially when there&#39;s input? Also, can I hide the toolbar?","body":"<p>In my old IDE, if I'd run a Java file and the console requested input, it would jump my text cursor to it so I could type without moving my mouse. Eclipse doesn't seem to do this. Can I make it?</p>\n\n<p>Also, how do you hide the toolbar? I prefer keyboard shortcuts so it's just cluttering up my view.</p>\n"},{"tags":["java","list","kotlin"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":2,"creation_date":1577887208,"post_id":59553126,"comment_id":105274774,"body_markdown":"See https://stackoverflow.com/questions/12099721/how-to-use-sublist","body":"See <a href=\"https://stackoverflow.com/questions/12099721/how-to-use-sublist\">stackoverflow.com/questions/12099721/how-to-use-sublist</a>"}],"answers":[{"tags":[],"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577887500,"creation_date":1577887209,"answer_id":59553147,"question_id":59553126,"body_markdown":"Arraylist is implemented over array. so you can not be able to get sublist than the real amount.\r\n\r\n    arrayListOf(1, 2, 3, 4)\r\n\r\nit means, You can only get the range between 0 - 4\r\n\r\n\r\n----------\r\n\r\n\r\nYou can try this to avoid IndexOutOfBoundsException\r\n\r\n    int maxRange = yourGivenMaxRange;\r\n\r\n        if(maxRange &gt; list.size()){\r\n            maxRange = list.size();\r\n        }\r\n\r\n    list.subList(0, maxRange) // -&gt; [1, 2, 3]\r\n    list.subList(0, maxRange) // -&gt; [1, 2, 3, 4]\r\n    list.subList(0, maxRange) // -&gt; [1, 2, 3, 4]\r\n    list.clear()\r\n    list.subList(0, maxRange) // -&gt; []\r\n\r\n","title":"Java or Kotlin - create as much of sublist as possible","body":"<p>Arraylist is implemented over array. so you can not be able to get sublist than the real amount.</p>\n\n<pre><code>arrayListOf(1, 2, 3, 4)\n</code></pre>\n\n<p>it means, You can only get the range between 0 - 4</p>\n\n<hr>\n\n<p>You can try this to avoid IndexOutOfBoundsException</p>\n\n<pre><code>int maxRange = yourGivenMaxRange;\n\n    if(maxRange &gt; list.size()){\n        maxRange = list.size();\n    }\n\nlist.subList(0, maxRange) // -&gt; [1, 2, 3]\nlist.subList(0, maxRange) // -&gt; [1, 2, 3, 4]\nlist.subList(0, maxRange) // -&gt; [1, 2, 3, 4]\nlist.clear()\nlist.subList(0, maxRange) // -&gt; []\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1577888093,"creation_date":1577887339,"answer_id":59553166,"question_id":59553126,"body_markdown":"You could write an extension on `List&lt;T&gt;` to do this logic for you:\r\n\r\n    fun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; =\r\n        this.subList(fromIndex, toIndex.coerceAtMost(this.size))\r\n\r\nThis uses `coerceAtMost` to limit the highest value. \r\n\r\nAnd to call it:\r\n\r\n    val list = arrayListOf(1, 2, 3, 4)\r\n    println(list.safeSubList(0, 200)) // -&gt; [1, 2, 3, 4]\r\n\r\nOr as @gidds suggests, we could make this even safer:\r\n\r\n    fun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; = \r\n        this.subList(fromIndex.coerceAtLeast(0), toIndex.coerceAtMost(this.size))\r\n\r\nThis version guards against specifying numbers out of range on both ends. If you pass in numbers such that from &gt; to, it will throw an `IllegalArgumentException` from `subList`.\r\n\r\n","title":"Java or Kotlin - create as much of sublist as possible","body":"<p>You could write an extension on <code>List&lt;T&gt;</code> to do this logic for you:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; =\n    this.subList(fromIndex, toIndex.coerceAtMost(this.size))\n</code></pre>\n\n<p>This uses <code>coerceAtMost</code> to limit the highest value. </p>\n\n<p>And to call it:</p>\n\n<pre><code>val list = arrayListOf(1, 2, 3, 4)\nprintln(list.safeSubList(0, 200)) // -&gt; [1, 2, 3, 4]\n</code></pre>\n\n<p>Or as @gidds suggests, we could make this even safer:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; = \n    this.subList(fromIndex.coerceAtLeast(0), toIndex.coerceAtMost(this.size))\n</code></pre>\n\n<p>This version guards against specifying numbers out of range on both ends. If you pass in numbers such that from > to, it will throw an <code>IllegalArgumentException</code> from <code>subList</code>.</p>\n"},{"tags":[],"owner":{"account_id":373984,"reputation":2024,"user_id":723939,"display_name":"Felipe Conde"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1612364717,"creation_date":1612364717,"answer_id":66030203,"question_id":59553126,"body_markdown":"In Kotlin you can do\r\n\r\n```kotlin\r\nval list = mutableListOf(1, 2, 3, 4)\r\nlist.take(3) // -&gt; [1, 2, 3]\r\nlist.take(5) // -&gt; [1, 2, 3, 4]\r\nlist.take(200) // -&gt; [1, 2, 3, 4]\r\nlist.clear()\r\nlist.take(3) // -&gt; []\r\n```\r\nYou can check the implementation of `take` if you&#39;d like.","title":"Java or Kotlin - create as much of sublist as possible","body":"<p>In Kotlin you can do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val list = mutableListOf(1, 2, 3, 4)\nlist.take(3) // -&gt; [1, 2, 3]\nlist.take(5) // -&gt; [1, 2, 3, 4]\nlist.take(200) // -&gt; [1, 2, 3, 4]\nlist.clear()\nlist.take(3) // -&gt; []\n</code></pre>\n<p>You can check the implementation of <code>take</code> if you'd like.</p>\n"},{"tags":[],"owner":{"account_id":18084679,"reputation":11,"user_id":13145898,"display_name":"HYUNSANG HAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679034451,"creation_date":1679033952,"answer_id":75764312,"question_id":59553126,"body_markdown":"It would be work.\r\n\r\n```kotlin\r\nimport kotlin.math.max\r\nimport kotlin.math.min\r\n\r\nfun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; {\r\n    if (fromIndex &gt; toIndex) return emptyList()\r\n    return subList(max(min(fromIndex.coerceAtLeast(0), size), 0), max(min(toIndex.coerceAtMost(size), size), 0))\r\n}\r\n```\r\n\r\nexample)\r\n```kotlin\r\nval a = (1..10).toList()\r\nprintln(a.safeSubList(9, 10))\r\nprintln(a.safeSubList(-1, -2))\r\nprintln(a.safeSubList(1, 0))\r\nprintln(a.safeSubList(-9, 4))\r\nprintln(a.safeSubList(4, 5))\r\nprintln(a.safeSubList(9, 15))\r\n```\r\n\r\nresult)\r\n```\r\n[10]\r\n[]\r\n[]\r\n[1, 2, 3, 4]\r\n[5]\r\n[10]\r\n```","title":"Java or Kotlin - create as much of sublist as possible","body":"<p>It would be work.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.math.max\nimport kotlin.math.min\n\nfun &lt;T&gt; List&lt;T&gt;.safeSubList(fromIndex: Int, toIndex: Int): List&lt;T&gt; {\n    if (fromIndex &gt; toIndex) return emptyList()\n    return subList(max(min(fromIndex.coerceAtLeast(0), size), 0), max(min(toIndex.coerceAtMost(size), size), 0))\n}\n</code></pre>\n<p>example)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val a = (1..10).toList()\nprintln(a.safeSubList(9, 10))\nprintln(a.safeSubList(-1, -2))\nprintln(a.safeSubList(1, 0))\nprintln(a.safeSubList(-9, 4))\nprintln(a.safeSubList(4, 5))\nprintln(a.safeSubList(9, 15))\n</code></pre>\n<p>result)</p>\n<pre><code>[10]\n[]\n[]\n[1, 2, 3, 4]\n[5]\n[10]\n</code></pre>\n"}],"owner":{"account_id":1675780,"reputation":5629,"user_id":1541397,"accept_rate":81,"display_name":"David Callanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2910,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":59553166,"answer_count":4,"score":8,"last_activity_date":1679034451,"creation_date":1577886990,"question_id":59553126,"body_markdown":"In Java or Kotlin, how can I create as much of a sublist as possible? If the range is greater than the size of the list, it should just ignore parts of the range that are out of bounds.\r\n\r\nI currently have (Kotlin):\r\n\r\n```kotlin\r\nval list: List = arrayListOf(1, 2, 3, 4)\r\nlist.subList(0, 3) // -&gt; [1, 2, 3]\r\nlist.subList(0, 5) // -&gt; IndexOutOfBoundsException\r\nlist.subList(0, 200) // -&gt; IndexOutOfBoundsException\r\nlist.clear()\r\nlist.subList(0, 3) // -&gt; IndexOutOfBoundsException\r\n```\r\n\r\nI would like (Kotlin):\r\n\r\n```kotlin\r\nval list: List = arrayListOf(1, 2, 3, 4)\r\nlist.subList(0, 3) // -&gt; [1, 2, 3]\r\nlist.subList(0, 5) // -&gt; [1, 2, 3, 4]\r\nlist.subList(0, 200) // -&gt; [1, 2, 3, 4]\r\nlist.clear()\r\nlist.subList(0, 3) // -&gt; []\r\n```\r\n","title":"Java or Kotlin - create as much of sublist as possible","body":"<p>In Java or Kotlin, how can I create as much of a sublist as possible? If the range is greater than the size of the list, it should just ignore parts of the range that are out of bounds.</p>\n\n<p>I currently have (Kotlin):</p>\n\n<pre><code>val list: List = arrayListOf(1, 2, 3, 4)\nlist.subList(0, 3) // -&gt; [1, 2, 3]\nlist.subList(0, 5) // -&gt; IndexOutOfBoundsException\nlist.subList(0, 200) // -&gt; IndexOutOfBoundsException\nlist.clear()\nlist.subList(0, 3) // -&gt; IndexOutOfBoundsException\n</code></pre>\n\n<p>I would like (Kotlin):</p>\n\n<pre><code>val list: List = arrayListOf(1, 2, 3, 4)\nlist.subList(0, 3) // -&gt; [1, 2, 3]\nlist.subList(0, 5) // -&gt; [1, 2, 3, 4]\nlist.subList(0, 200) // -&gt; [1, 2, 3, 4]\nlist.clear()\nlist.subList(0, 3) // -&gt; []\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2","slf4j"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679024046,"post_id":75763522,"comment_id":133650477,"body_markdown":"you can use log4j2&#39;s routing appender and marker to do this. Based on the configuration of the routing appender, you can then pass a marker so that it would create either new files/new directory depending on the marker","body":"you can use log4j2&#39;s routing appender and marker to do this. Based on the configuration of the routing appender, you can then pass a marker so that it would create either new files/new directory depending on the marker"},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1679024262,"post_id":75763522,"comment_id":133650508,"body_markdown":"I am new to logging would you share some ref on how to use routing appender and marker? - @experimentunit1998X","body":"I am new to logging would you share some ref on how to use routing appender and marker? - @experimentunit1998X"}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679034258,"creation_date":1679024728,"answer_id":75763588,"question_id":75763522,"body_markdown":"This is a recent example I was working with. The log4j2.xml I used is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n    \r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;CONSOLE_PATTERN&quot;&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Property&gt;\r\n            &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d %-5p method: [%t] %C{2} (%F:%L) - %m%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;Routing name=&quot;RoutingAppender&quot;&gt;\r\n                &lt;Routes pattern=&quot;$${marker:}&quot;&gt;\r\n                    &lt;Route&gt;\r\n                        &lt;RollingFile name=&quot;RollingFile-${marker:}&quot;\r\n                                     fileName=&quot;./logs/application/${marker:}/app.log&quot;\r\n                                     filePattern=&quot;./logs/application/${marker:}/app-%d{MM-dd-yyyy}.log.gz&quot;\r\n                                     ignoreExceptions=&quot;false&quot;&gt;\r\n                            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n                            &lt;TimeBasedTriggeringPolicy/&gt;\r\n                        &lt;/RollingFile&gt;\r\n                    &lt;/Route&gt;\r\n                &lt;/Routes&gt;\r\n            &lt;/Routing&gt;\r\n    \r\n            &lt;Console name=&quot;StdOut&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${CONSOLE_PATTERN}&quot;/&gt;\r\n            &lt;/Console&gt;\r\n    \r\n            &lt;Routing name=&quot;SequenceRoutingAppender&quot;&gt;\r\n                &lt;Routes pattern=&quot;$${marker:}&quot;&gt;\r\n                    &lt;Route&gt;\r\n                        &lt;RollingFile name=&quot;Sequencing-${marker:}&quot;\r\n                                     fileName=&quot;./logs/service/${marker:}/seq_gap.log&quot;\r\n                                     filePattern=&quot;./logs/service/${marker:}/seq_gap-%d{MM-dd-yyyy}.log.gz&quot;\r\n                                     ignoreExceptions=&quot;false&quot;&gt;\r\n                            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n                            &lt;TimeBasedTriggeringPolicy/&gt;\r\n                        &lt;/RollingFile&gt;\r\n                    &lt;/Route&gt;\r\n                &lt;/Routes&gt;\r\n            &lt;/Routing&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;RoutingAppender&quot;/&gt;\r\n            &lt;/Root&gt;\r\n            &lt;logger name=&quot;SequencingLogger&quot; additivity=&quot;false&quot; level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;SequenceRoutingAppender&quot;/&gt;\r\n            &lt;/logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThere are two RoutingAppenders I used, but its basically the same for both, I just want to log different things for the same Markers. It would take the marker values and insert it where the placeholders are ${marker:}. Inside my code, I have instantiated Markers as follows:\r\n\r\n        Marker mainMarker = MarkerManager.getMarker(&quot;MAIN&quot;);\r\n        Marker applicationMarker = MarkerManager.getMarker(&quot;APPLICATION&quot;);\r\n        Marker sequenceMarker = MarkerManager.getMarker(&quot;SEQUENCE&quot;);\r\n\r\nYou can pass the name of your files and their file types as params to getMarker(). Then, when you log you pass the marker to the logger as well as whatever statement you want to log as follows:\r\n\r\n    LOGGER.warn(mainMarker, &quot;unable to find config in working directory. Fall back to jar config&quot;);\r\n\r\nI know that the answer I provide is quite brief and to the point without much explanation why, but here is an [informative site](https://roytuts.com/how-to-create-separate-log-file-for-each-module-using-routingappender-and-mdc-mapped-diagnostic-context-in-log4j2-slf4j/) that explains what is going on, and why some of the things are done the way they are. I used it quite frequently while trying to understand how RoutingAppender works since the sample provided by Apache, and other examples on SO were quite brief.\r\n\r\nand quoting from the link\r\n\r\n&gt; The Routing is kept under Appender and it’s a RoutingAppender.\r\n&gt; \r\n&gt; The Routes element accepts a single attribute named “pattern”. The\r\n&gt; pattern is evaluated against all the registered Lookups and the result\r\n&gt; is used to select a Route. Each Route may be configured with a key. If\r\n&gt; the key matches the result of evaluating the pattern then that Route\r\n&gt; will be selected. If no key is specified on a Route then that Route is\r\n&gt; the default. Only one Route can be configured as the default.\r\n&gt; \r\n&gt; The Routes element may contain a Script child element. If specified,\r\n&gt; the Script is run for each log event and returns the String Route key\r\n&gt; to use.\r\n&gt; \r\n&gt; You must specify either the pattern attribute or the Script element,\r\n&gt; but not both.\r\n&gt; \r\n&gt; Each Route must reference an Appender. If the Route contains a ref\r\n&gt; attribute then the Route will reference an Appender that was defined\r\n&gt; in the configuration. If the Route contains an Appender definition\r\n&gt; then an Appender will be created within the context of the\r\n&gt; RoutingAppender and will be reused each time a matching Appender name\r\n&gt; is referenced through a Route.\r\n&gt; \r\n&gt; In our example the Routes pattern is $${ctx:module}. This pattern\r\n&gt; matches with a key called module in the context.\r\n\r\nbut in my case the Routes pattern in $${marker:}","title":"How to Dynamically log when iterating in a filepath and reading the contents of file How to create separate log file for each file?","body":"<p>This is a recent example I was working with. The log4j2.xml I used is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n\n    &lt;Properties&gt;\n        &lt;Property name=&quot;CONSOLE_PATTERN&quot;&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Property&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d %-5p method: [%t] %C{2} (%F:%L) - %m%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Routing name=&quot;RoutingAppender&quot;&gt;\n            &lt;Routes pattern=&quot;$${marker:}&quot;&gt;\n                &lt;Route&gt;\n                    &lt;RollingFile name=&quot;RollingFile-${marker:}&quot;\n                                 fileName=&quot;./logs/application/${marker:}/app.log&quot;\n                                 filePattern=&quot;./logs/application/${marker:}/app-%d{MM-dd-yyyy}.log.gz&quot;\n                                 ignoreExceptions=&quot;false&quot;&gt;\n                        &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n                        &lt;TimeBasedTriggeringPolicy/&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n\n        &lt;Console name=&quot;StdOut&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${CONSOLE_PATTERN}&quot;/&gt;\n        &lt;/Console&gt;\n\n        &lt;Routing name=&quot;SequenceRoutingAppender&quot;&gt;\n            &lt;Routes pattern=&quot;$${marker:}&quot;&gt;\n                &lt;Route&gt;\n                    &lt;RollingFile name=&quot;Sequencing-${marker:}&quot;\n                                 fileName=&quot;./logs/service/${marker:}/seq_gap.log&quot;\n                                 filePattern=&quot;./logs/service/${marker:}/seq_gap-%d{MM-dd-yyyy}.log.gz&quot;\n                                 ignoreExceptions=&quot;false&quot;&gt;\n                        &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n                        &lt;TimeBasedTriggeringPolicy/&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;RoutingAppender&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;logger name=&quot;SequencingLogger&quot; additivity=&quot;false&quot; level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;SequenceRoutingAppender&quot;/&gt;\n        &lt;/logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>There are two RoutingAppenders I used, but its basically the same for both, I just want to log different things for the same Markers. It would take the marker values and insert it where the placeholders are ${marker:}. Inside my code, I have instantiated Markers as follows:</p>\n<pre><code>    Marker mainMarker = MarkerManager.getMarker(&quot;MAIN&quot;);\n    Marker applicationMarker = MarkerManager.getMarker(&quot;APPLICATION&quot;);\n    Marker sequenceMarker = MarkerManager.getMarker(&quot;SEQUENCE&quot;);\n</code></pre>\n<p>You can pass the name of your files and their file types as params to getMarker(). Then, when you log you pass the marker to the logger as well as whatever statement you want to log as follows:</p>\n<pre><code>LOGGER.warn(mainMarker, &quot;unable to find config in working directory. Fall back to jar config&quot;);\n</code></pre>\n<p>I know that the answer I provide is quite brief and to the point without much explanation why, but here is an <a href=\"https://roytuts.com/how-to-create-separate-log-file-for-each-module-using-routingappender-and-mdc-mapped-diagnostic-context-in-log4j2-slf4j/\" rel=\"nofollow noreferrer\">informative site</a> that explains what is going on, and why some of the things are done the way they are. I used it quite frequently while trying to understand how RoutingAppender works since the sample provided by Apache, and other examples on SO were quite brief.</p>\n<p>and quoting from the link</p>\n<blockquote>\n<p>The Routing is kept under Appender and it’s a RoutingAppender.</p>\n<p>The Routes element accepts a single attribute named “pattern”. The\npattern is evaluated against all the registered Lookups and the result\nis used to select a Route. Each Route may be configured with a key. If\nthe key matches the result of evaluating the pattern then that Route\nwill be selected. If no key is specified on a Route then that Route is\nthe default. Only one Route can be configured as the default.</p>\n<p>The Routes element may contain a Script child element. If specified,\nthe Script is run for each log event and returns the String Route key\nto use.</p>\n<p>You must specify either the pattern attribute or the Script element,\nbut not both.</p>\n<p>Each Route must reference an Appender. If the Route contains a ref\nattribute then the Route will reference an Appender that was defined\nin the configuration. If the Route contains an Appender definition\nthen an Appender will be created within the context of the\nRoutingAppender and will be reused each time a matching Appender name\nis referenced through a Route.</p>\n<p>In our example the Routes pattern is $${ctx:module}. This pattern\nmatches with a key called module in the context.</p>\n</blockquote>\n<p>but in my case the Routes pattern in $${marker:}</p>\n"}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75763588,"answer_count":1,"score":2,"last_activity_date":1679034258,"creation_date":1679023878,"question_id":75763522,"body_markdown":"I have Created a maven java project, if given a folderpath, the code will iterate over the folder and pick file one by one and read all the contents of file (file type supported-txt,pdf,word,excel,csv,xml,logs) How to create separate log file for each file with same name as &quot;filename_filetype.log&quot; using log4j2 or any other lib will also work.","title":"How to Dynamically log when iterating in a filepath and reading the contents of file How to create separate log file for each file?","body":"<p>I have Created a maven java project, if given a folderpath, the code will iterate over the folder and pick file one by one and read all the contents of file (file type supported-txt,pdf,word,excel,csv,xml,logs) How to create separate log file for each file with same name as &quot;filename_filetype.log&quot; using log4j2 or any other lib will also work.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1678978329,"post_id":75757742,"comment_id":133640913,"body_markdown":"&quot;the app simply crushes&quot; - If your app crashes, post the error and stacktrace so we can see _why_ and _where_ it crashes.","body":"&quot;the app simply crushes&quot; - If your app crashes, post the error and stacktrace so we can see <i>why</i> and <i>where</i> it crashes."}],"owner":{"account_id":28032477,"reputation":11,"user_id":21411440,"display_name":"haile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679033263,"creation_date":1678977386,"question_id":75757742,"body_markdown":"currently I am trying to build a photo album app normally I could display all my 250 jpg images in the recyclerview, but I need to display each image clicked in a new activity imageview in their full image size.\r\n\r\nI have tried to pass the data from `recyclerview` to new activity `imageview` by Intent but it does not work. (when each images are clicked the app simply crashes)\r\n\r\n\r\n\r\n**my adapter**\r\n\r\n```\r\npublic class myAdapter extends RecyclerView.Adapter &lt;myAdapter.myViewHolder&gt;  {\r\n\r\n    Context context;\r\n    ArrayList&lt;tdfImageItem&gt;tdfImageItems;\r\n\r\n\r\n    public myAdapter(Context context, ArrayList&lt;tdfImageItem&gt; tdfImageItems) {\r\n        this.context = context;\r\n        this.tdfImageItems = tdfImageItems;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myAdapter.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new myViewHolder(LayoutInflater.from(context).inflate(R.layout.tdf_image_item_layout,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull myAdapter.myViewHolder holder, int position) {\r\n       holder.imageView.setImageResource(tdfImageItems.get(position).getTdfImageItem());\r\n   /* all my photos are successfully uploaded in to recyclerview. */\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n       int data = tdfImageItems.get(position).getTdfImageItem();\r\n\r\n   Intent intent = new Intent(context,MainActivity2.class);\r\n                intent.putExtra(&quot;haile&quot;,data);\r\n                context.startActivity(intent);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tdfImageItems.size();\r\n    }\r\n\r\n    public class myViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView imageView;\r\n\r\n\r\n        public ImageView getImageView() {\r\n            return imageView;\r\n        }\r\n\r\n        public void setImageView(ImageView imageView) {\r\n            this.imageView = imageView;\r\n        }\r\n\r\n\r\n        public myViewHolder(@NonNull View itemView, ImageView imageView) {\r\n            super(itemView);\r\n            this.imageView = imageView;\r\n\r\n        }\r\n\r\n        public myViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView=itemView.findViewById(R.id.image_view);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n`MainActivity`\r\npublic class MainActivity extends AppCompatActivity {\r\n    RecyclerView recyclerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView = findViewById(R.id.recycler_view);\r\n\r\n       List&lt;tdfImageItem&gt; tdfImageItems = new ArrayList&lt;&gt;();\r\n\r\n        tdfImageItems.add(new tdfImageItem(R.drawable.tdf1));\r\n           /*.all 250 R.drawable.tdf photos */\r\n         tdfImageItems.add(new tdfImageItem(R.drawable.tdf250));\r\n\r\n\r\n\r\n        recyclerView.setLayoutManager(new GridLayoutManager(this,2));\r\n        recyclerView.setAdapter(new myAdaper(getApplicationContext(), (ArrayList&lt;tdfImageItem&gt;)      tdfImageItems));\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    ImageView imageView2;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        imageView2 = findViewById(R.id.image_view2);\r\n\r\n        int values = getIntent().getIntExtra(&quot;haile&quot;,0);\r\n        imageView2.setImageResource(values);\r\n    }\r\n}\r\n\r\n\r\n\r\n`MainActivity2.xml`\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:src=&quot;@drawable/tdf&quot;\r\n        android:contentDescription=&quot;@string/image_description&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.463&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"how can i pass image data from recyclerview to new activity image view","body":"<p>currently I am trying to build a photo album app normally I could display all my 250 jpg images in the recyclerview, but I need to display each image clicked in a new activity imageview in their full image size.</p>\n<p>I have tried to pass the data from <code>recyclerview</code> to new activity <code>imageview</code> by Intent but it does not work. (when each images are clicked the app simply crashes)</p>\n<p><strong>my adapter</strong></p>\n<pre><code>public class myAdapter extends RecyclerView.Adapter &lt;myAdapter.myViewHolder&gt;  {\n\n    Context context;\n    ArrayList&lt;tdfImageItem&gt;tdfImageItems;\n\n\n    public myAdapter(Context context, ArrayList&lt;tdfImageItem&gt; tdfImageItems) {\n        this.context = context;\n        this.tdfImageItems = tdfImageItems;\n    }\n\n    @NonNull\n    @Override\n    public myAdapter.myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new myViewHolder(LayoutInflater.from(context).inflate(R.layout.tdf_image_item_layout,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull myAdapter.myViewHolder holder, int position) {\n       holder.imageView.setImageResource(tdfImageItems.get(position).getTdfImageItem());\n   /* all my photos are successfully uploaded in to recyclerview. */\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n       int data = tdfImageItems.get(position).getTdfImageItem();\n\n   Intent intent = new Intent(context,MainActivity2.class);\n                intent.putExtra(&quot;haile&quot;,data);\n                context.startActivity(intent);\n\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return tdfImageItems.size();\n    }\n\n    public class myViewHolder extends RecyclerView.ViewHolder {\n        ImageView imageView;\n\n\n        public ImageView getImageView() {\n            return imageView;\n        }\n\n        public void setImageView(ImageView imageView) {\n            this.imageView = imageView;\n        }\n\n\n        public myViewHolder(@NonNull View itemView, ImageView imageView) {\n            super(itemView);\n            this.imageView = imageView;\n\n        }\n\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView=itemView.findViewById(R.id.image_view);\n\n        }\n    }\n}\n\n`MainActivity`\npublic class MainActivity extends AppCompatActivity {\n    RecyclerView recyclerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recyclerView = findViewById(R.id.recycler_view);\n\n       List&lt;tdfImageItem&gt; tdfImageItems = new ArrayList&lt;&gt;();\n\n        tdfImageItems.add(new tdfImageItem(R.drawable.tdf1));\n           /*.all 250 R.drawable.tdf photos */\n         tdfImageItems.add(new tdfImageItem(R.drawable.tdf250));\n\n\n\n        recyclerView.setLayoutManager(new GridLayoutManager(this,2));\n        recyclerView.setAdapter(new myAdaper(getApplicationContext(), (ArrayList&lt;tdfImageItem&gt;)      tdfImageItems));\n\n    }\n}\n\n\n\npublic class MainActivity2 extends AppCompatActivity {\n    ImageView imageView2;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        imageView2 = findViewById(R.id.image_view2);\n\n        int values = getIntent().getIntExtra(&quot;haile&quot;,0);\n        imageView2.setImageResource(values);\n    }\n}\n\n\n\n`MainActivity2.xml`\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image_view2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:src=&quot;@drawable/tdf&quot;\n        android:contentDescription=&quot;@string/image_description&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.463&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679033059,"creation_date":1679033059,"answer_id":75764222,"question_id":75764059,"body_markdown":"ViewPager2 does not &#39;detach&#39; fragments at all. However, it **does** ensure that only the current screen is `RESUMED` - other fragments are capped at the `STARTED` state (this is how individual fragments can tell if they are the currently selected screen). This mirrors the same behavior of ViewPager1 in its [`BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT`][1]. You can verify this if you are using ViewPager2 1.1 releases as it [`onFragmentMaxLifecyclePreUpdated`][2] callback is called whenever this behavior kicks in.\r\n\r\nThere&#39;s no way to turn this off or change this behavior as this is the expected behavior of ViewPager2.\r\n\r\nYou should absolutely **not ever** override `onDetachedFromRecyclerView` and not call `super.onDetachedFromRecyclerView` as all that does is cause a memory leak within `FragmentStateAdapter` as it is not able to unregister its own listeners tied to the RecyclerView.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/fragment/app/FragmentStatePagerAdapter#BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT()\r\n  [2]: https://developer.android.com/reference/androidx/viewpager2/adapter/FragmentStateAdapter.FragmentTransactionCallback#onFragmentMaxLifecyclePreUpdated(androidx.fragment.app.Fragment,androidx.lifecycle.Lifecycle.State)","title":"FragmentStateAdapter detaching and pausing fragments","body":"<p>ViewPager2 does not 'detach' fragments at all. However, it <strong>does</strong> ensure that only the current screen is <code>RESUMED</code> - other fragments are capped at the <code>STARTED</code> state (this is how individual fragments can tell if they are the currently selected screen). This mirrors the same behavior of ViewPager1 in its <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentStatePagerAdapter#BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT()\" rel=\"nofollow noreferrer\"><code>BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT</code></a>. You can verify this if you are using ViewPager2 1.1 releases as it <a href=\"https://developer.android.com/reference/androidx/viewpager2/adapter/FragmentStateAdapter.FragmentTransactionCallback#onFragmentMaxLifecyclePreUpdated(androidx.fragment.app.Fragment,androidx.lifecycle.Lifecycle.State)\" rel=\"nofollow noreferrer\"><code>onFragmentMaxLifecyclePreUpdated</code></a> callback is called whenever this behavior kicks in.</p>\n<p>There's no way to turn this off or change this behavior as this is the expected behavior of ViewPager2.</p>\n<p>You should absolutely <strong>not ever</strong> override <code>onDetachedFromRecyclerView</code> and not call <code>super.onDetachedFromRecyclerView</code> as all that does is cause a memory leak within <code>FragmentStateAdapter</code> as it is not able to unregister its own listeners tied to the RecyclerView.</p>\n"}],"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679033059,"creation_date":1679031020,"question_id":75764059,"body_markdown":"I&#39;m using a FragmentStateAdapter with a ViewPager2 in my Android app, and I&#39;ve noticed that the adapter is detaching and pausing my fragments when I swipe to a different item, even though I&#39;ve overridden the adapter&#39;s onDetachedFromRecyclerView() method to do nothing.\r\n\r\nHere&#39;s the relevant code from my adapter:\r\n\r\n    public class MyFragmentStateAdapter extends FragmentStateAdapter {\r\n    \r\n        // constructor and other methods...\r\n    \r\n        @Override\r\n        public void onDetachedFromRecyclerView(@NonNull RecyclerView recyclerView) {\r\n            // Do nothing to keep fragment&#39;s view hierarchy intact\r\n        }\r\n    }\r\n\r\nDespite this code, I&#39;m still seeing onPause() being called on my fragments when I swipe to a different item. I&#39;ve checked for other lifecycle events that might be causing the fragments to pause, and I&#39;ve also made sure that offscreenPageLimit is set to other values like 2 because I have 2 fragments. I&#39;m not sure what else could be causing the issue.\r\n\r\nAny ideas on what might be going on, or how I can prevent my fragments from being paused? Thank you!","title":"FragmentStateAdapter detaching and pausing fragments","body":"<p>I'm using a FragmentStateAdapter with a ViewPager2 in my Android app, and I've noticed that the adapter is detaching and pausing my fragments when I swipe to a different item, even though I've overridden the adapter's onDetachedFromRecyclerView() method to do nothing.</p>\n<p>Here's the relevant code from my adapter:</p>\n<pre><code>public class MyFragmentStateAdapter extends FragmentStateAdapter {\n\n    // constructor and other methods...\n\n    @Override\n    public void onDetachedFromRecyclerView(@NonNull RecyclerView recyclerView) {\n        // Do nothing to keep fragment's view hierarchy intact\n    }\n}\n</code></pre>\n<p>Despite this code, I'm still seeing onPause() being called on my fragments when I swipe to a different item. I've checked for other lifecycle events that might be causing the fragments to pause, and I've also made sure that offscreenPageLimit is set to other values like 2 because I have 2 fragments. I'm not sure what else could be causing the issue.</p>\n<p>Any ideas on what might be going on, or how I can prevent my fragments from being paused? Thank you!</p>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679032993,"post_id":75763731,"comment_id":133651493,"body_markdown":"wondering what you want to achieve with the snippet?","body":"wondering what you want to achieve with the snippet?"}],"answers":[{"tags":[],"owner":{"account_id":13443115,"reputation":144,"user_id":9699791,"display_name":"CambridgeCro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679026879,"creation_date":1679026879,"answer_id":75763752,"question_id":75763731,"body_markdown":"You are close!\r\n\r\nTake your line:\r\n\r\n    firstGreat = candies[0];\r\n\r\nand place it before the for loop. Otherwise you keep resetting firstGreat to the first element every time the loop iterates.\r\n","title":"how to change value inside condition in for loops - Java","body":"<p>You are close!</p>\n<p>Take your line:</p>\n<pre><code>firstGreat = candies[0];\n</code></pre>\n<p>and place it before the for loop. Otherwise you keep resetting firstGreat to the first element every time the loop iterates.</p>\n"},{"tags":[],"owner":{"account_id":26485723,"reputation":11,"user_id":20124326,"display_name":"Divyanshi Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679032869,"creation_date":1679032869,"answer_id":75764207,"question_id":75763731,"body_markdown":"So, to change value inside condition for loops. Firstly, place `firstGreat = candies[0];` outside the for loop as we are assuming that first element of the candies array is the largest element.\r\nThen, what we need to do is we have to iterate the entire candies array and we will compare `firstGreat` with every element of the candies array and if we find out that the `candies[i]` is greater than firstGreat than we will put value of candies[i] in firstGreat and this way we will get the greatest element.\r\n\r\n    import java.util.*;\r\n    class HelloWorld {\r\n    public static void main(String[] args) {\r\n    int[] candies = {1, 7, 1, 8, 4, 2, 1, 1};\r\n    //List&lt;Boolean&gt; newArr = new ArrayList&lt;Boolean&gt;();\r\n    int firstGreat = candies[0];\r\n    for (int i = 0; i &lt; candies.length; i++) {\r\n        if (candies[i] &gt; firstGreat) {\r\n            //newArr.add(true);\r\n            firstGreat = candies[i];\r\n        } \r\n        //else {\r\n            //newArr.add(false);\r\n        }\r\n    }\r\n    System.out.println(firstGreat);\r\n    }}\r\n\r\nThankyou!!","title":"how to change value inside condition in for loops - Java","body":"<p>So, to change value inside condition for loops. Firstly, place <code>firstGreat = candies[0];</code> outside the for loop as we are assuming that first element of the candies array is the largest element.\nThen, what we need to do is we have to iterate the entire candies array and we will compare <code>firstGreat</code> with every element of the candies array and if we find out that the <code>candies[i]</code> is greater than firstGreat than we will put value of candies[i] in firstGreat and this way we will get the greatest element.</p>\n<pre><code>import java.util.*;\nclass HelloWorld {\npublic static void main(String[] args) {\nint[] candies = {1, 7, 1, 8, 4, 2, 1, 1};\n//List&lt;Boolean&gt; newArr = new ArrayList&lt;Boolean&gt;();\nint firstGreat = candies[0];\nfor (int i = 0; i &lt; candies.length; i++) {\n    if (candies[i] &gt; firstGreat) {\n        //newArr.add(true);\n        firstGreat = candies[i];\n    } \n    //else {\n        //newArr.add(false);\n    }\n}\nSystem.out.println(firstGreat);\n}}\n</code></pre>\n<p>Thankyou!!</p>\n"}],"owner":{"account_id":16022631,"reputation":11,"user_id":19466775,"display_name":"danny kerr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679060369,"accepted_answer_id":75763752,"answer_count":2,"score":-2,"last_activity_date":1679032869,"creation_date":1679026634,"question_id":75763731,"body_markdown":"im new here. i just learn java, and i still confuse, how to change the variable inside for loop when the condition are true? here&#39;s the example:\r\n\r\n     public static void main(String[] args) {\r\n            int[] candies = {1, 7, 1, 8, 4, 2, 1, 1};\r\n            List&lt;Boolean&gt; newArr = new ArrayList&lt;Boolean&gt;();\r\n            int firstGreat = 0;\r\n            for (int i = 0; i &lt; candies.length; i++) {\r\n                firstGreat = candies[0];\r\n                if (candies[i] &gt; firstGreat) {\r\n                    newArr.add(true);\r\n                    firstGreat = candies[i];\r\n                } else {\r\n                    newArr.add(false);\r\n                }\r\n            }\r\n       System.out.println(firstGreat);\r\n        }\r\n    }\r\n\r\nso i want change the firstGreat when condition are true.\r\n","title":"how to change value inside condition in for loops - Java","body":"<p>im new here. i just learn java, and i still confuse, how to change the variable inside for loop when the condition are true? here's the example:</p>\n<pre><code> public static void main(String[] args) {\n        int[] candies = {1, 7, 1, 8, 4, 2, 1, 1};\n        List&lt;Boolean&gt; newArr = new ArrayList&lt;Boolean&gt;();\n        int firstGreat = 0;\n        for (int i = 0; i &lt; candies.length; i++) {\n            firstGreat = candies[0];\n            if (candies[i] &gt; firstGreat) {\n                newArr.add(true);\n                firstGreat = candies[i];\n            } else {\n                newArr.add(false);\n            }\n        }\n   System.out.println(firstGreat);\n    }\n}\n</code></pre>\n<p>so i want change the firstGreat when condition are true.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":352656,"reputation":11806,"user_id":689853,"accept_rate":84,"display_name":"Harinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679032086,"creation_date":1679032086,"answer_id":75764139,"question_id":75764118,"body_markdown":"Java supports running a Java source file directly using the java command without compiling it explicitly using javac. This feature was introduced in JDK 11 as part of the &quot;Launch Single-File Source-Code Programs&quot;.","title":"Java Unexpected Command","body":"<p>Java supports running a Java source file directly using the java command without compiling it explicitly using javac. This feature was introduced in JDK 11 as part of the &quot;Launch Single-File Source-Code Programs&quot;.</p>\n"}],"owner":{"account_id":27044553,"reputation":31,"user_id":20598925,"display_name":"Techie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679032098,"answer_count":1,"score":0,"last_activity_date":1679032086,"creation_date":1679031878,"question_id":75764118,"body_markdown":"As we know that for running a Java Program we have to first compile it using **javac Main.java** Command and then we run it using **java Main** command but when I try **java Main.java** is also working without compiling the java file. How is it possible?[![enter image description here](https://i.stack.imgur.com/70ZyZ.png)](https://i.stack.imgur.com/70ZyZ.png)\r\n\r\n\r\n\r\nI expected the **java Main.java** command to give error but it is not giving any error and it is running the progam without any problem. \r\n(Use java Main.java command before compiling the file it would work)","title":"Java Unexpected Command","body":"<p>As we know that for running a Java Program we have to first compile it using <strong>javac Main.java</strong> Command and then we run it using <strong>java Main</strong> command but when I try <strong>java Main.java</strong> is also working without compiling the java file. How is it possible?<a href=\"https://i.stack.imgur.com/70ZyZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70ZyZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I expected the <strong>java Main.java</strong> command to give error but it is not giving any error and it is running the progam without any problem.\n(Use java Main.java command before compiling the file it would work)</p>\n"},{"tags":["java","exception","encryption","cryptography","javax.crypto"],"answers":[{"tags":[],"owner":{"account_id":977569,"reputation":533,"user_id":998171,"display_name":"fpacifici"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1320876008,"creation_date":1320753441,"answer_id":8049995,"question_id":8049872,"body_markdown":"depending on the cryptography algorithm you are using, you may have to add some padding bytes at the end before encrypting a byte array so that the length of the byte array is multiple of the block size:\r\n\r\nSpecifically in your case the padding schema you chose is PKCS5 which is described here:\r\n[http://www.rsa.com/products/bsafe/documentation/cryptoj35html/doc/dev_guide/group__CJ__SYM__PAD.html][1]\r\n\r\n\r\n(I assume you have the issue when you try to encrypt)\r\n\r\nYou can choose your padding schema when you instantiate the Cipher object. Supported values depend on the security provider you are using. \r\n\r\nBy the way are you sure you want to use a symmetric encryption mechanism to encrypt passwords? Wouldn&#39;t be a one way hash better? If you really need to be able to decrypt passwords, DES is quite a weak solution, you may be interested in using something stronger like AES if you need to stay with a symmetric algorithm.\r\n\r\n\r\n  [1]: http://www.rsa.com/products/bsafe/documentation/cryptoj35html/doc/dev_guide/group__CJ__SYM__PAD.html","title":"Given final block not properly padded","body":"<p>depending on the cryptography algorithm you are using, you may have to add some padding bytes at the end before encrypting a byte array so that the length of the byte array is multiple of the block size:</p>\n\n<p>Specifically in your case the padding schema you chose is PKCS5 which is described here:\n<a href=\"http://www.rsa.com/products/bsafe/documentation/cryptoj35html/doc/dev_guide/group__CJ__SYM__PAD.html\" rel=\"nofollow\">http://www.rsa.com/products/bsafe/documentation/cryptoj35html/doc/dev_guide/group_<em>CJ</em>_SYM__PAD.html</a></p>\n\n<p>(I assume you have the issue when you try to encrypt)</p>\n\n<p>You can choose your padding schema when you instantiate the Cipher object. Supported values depend on the security provider you are using. </p>\n\n<p>By the way are you sure you want to use a symmetric encryption mechanism to encrypt passwords? Wouldn't be a one way hash better? If you really need to be able to decrypt passwords, DES is quite a weak solution, you may be interested in using something stronger like AES if you need to stay with a symmetric algorithm.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":234,"is_accepted":true,"score":234,"last_activity_date":1644691462,"creation_date":1320768533,"answer_id":8053459,"question_id":8049872,"body_markdown":"If you try to decrypt PKCS5-padded data with the wrong key, and then unpad it (which is done by the Cipher class automatically), you most likely will get the BadPaddingException (with probably of slightly less than 255/256, around 99.61%), because the padding has a special structure which is validated during unpad and very few keys would produce a valid padding.\r\n\r\n**So, if you get this exception, catch it and treat it as &quot;wrong key&quot;.**\r\n\r\nThis also can happen when you provide a wrong password, which then is used to get the key from a keystore, or which is converted into a key using a key generation function.\r\n\r\nOf course, bad padding can also happen if your data is corrupted in transport.\r\n\r\nThat said, there are some security remarks about your scheme:\r\n\r\n* For password-based encryption, you should use a SecretKeyFactory and PBEKeySpec instead of using a SecureRandom with KeyGenerator. The reason is that the SecureRandom could be a different algorithm on each Java implementation, giving you a different key. The SecretKeyFactory does the key derivation in a defined manner (and a manner which is deemed secure, if you select the right algorithm).\r\n\r\n* Don&#39;t use ECB-mode. It encrypts each block independently, which means that identical plain text blocks also give always identical ciphertext blocks.\r\n\r\n  Preferably use a secure [mode of operation][1], like CBC (Cipher block chaining) or CTR (Counter). Alternatively, use a mode which also includes authentication, like GCM (Galois-Counter mode) or CCM (Counter with CBC-MAC), see next point.\r\n\r\n* You normally don&#39;t want only confidentiality, but also authentication, which makes sure the message is not tampered with. (This also prevents chosen-ciphertext attacks on your cipher, i.e. helps for confidentiality.) So, add a MAC (message authentication code) to your message, or use a cipher mode which includes authentication (see previous point).\r\n\r\n* DES has an effective key size of only 56 bits. This key space is quite small, it can be brute-forced in some hours by a dedicated attacker. If you generate your key by a password, this will get even faster.\r\n  Also, DES has a block size of only 64 bits, which adds some more weaknesses in chaining modes.\r\n  Use a modern algorithm like AES instead, which has a block size of 128 bits, and a key size of 128 bits (for the most common variant, variants for 196 and 256 also exist).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation","title":"Given final block not properly padded","body":"<p>If you try to decrypt PKCS5-padded data with the wrong key, and then unpad it (which is done by the Cipher class automatically), you most likely will get the BadPaddingException (with probably of slightly less than 255/256, around 99.61%), because the padding has a special structure which is validated during unpad and very few keys would produce a valid padding.</p>\n<p><strong>So, if you get this exception, catch it and treat it as &quot;wrong key&quot;.</strong></p>\n<p>This also can happen when you provide a wrong password, which then is used to get the key from a keystore, or which is converted into a key using a key generation function.</p>\n<p>Of course, bad padding can also happen if your data is corrupted in transport.</p>\n<p>That said, there are some security remarks about your scheme:</p>\n<ul>\n<li><p>For password-based encryption, you should use a SecretKeyFactory and PBEKeySpec instead of using a SecureRandom with KeyGenerator. The reason is that the SecureRandom could be a different algorithm on each Java implementation, giving you a different key. The SecretKeyFactory does the key derivation in a defined manner (and a manner which is deemed secure, if you select the right algorithm).</p>\n</li>\n<li><p>Don't use ECB-mode. It encrypts each block independently, which means that identical plain text blocks also give always identical ciphertext blocks.</p>\n<p>Preferably use a secure <a href=\"http://en.wikipedia.org/wiki/Block_cipher_modes_of_operation\" rel=\"noreferrer\">mode of operation</a>, like CBC (Cipher block chaining) or CTR (Counter). Alternatively, use a mode which also includes authentication, like GCM (Galois-Counter mode) or CCM (Counter with CBC-MAC), see next point.</p>\n</li>\n<li><p>You normally don't want only confidentiality, but also authentication, which makes sure the message is not tampered with. (This also prevents chosen-ciphertext attacks on your cipher, i.e. helps for confidentiality.) So, add a MAC (message authentication code) to your message, or use a cipher mode which includes authentication (see previous point).</p>\n</li>\n<li><p>DES has an effective key size of only 56 bits. This key space is quite small, it can be brute-forced in some hours by a dedicated attacker. If you generate your key by a password, this will get even faster.\nAlso, DES has a block size of only 64 bits, which adds some more weaknesses in chaining modes.\nUse a modern algorithm like AES instead, which has a block size of 128 bits, and a key size of 128 bits (for the most common variant, variants for 196 and 256 also exist).</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577629556,"creation_date":1544411655,"answer_id":53699025,"question_id":8049872,"body_markdown":"I met this issue due to operation system, simple to different platform about JRE implementation. \r\n\r\n    new SecureRandom(key.getBytes())\r\n\r\nwill get the same value in Windows, while it&#39;s different in Linux. So in Linux need to be changed to\r\n\r\n\tSecureRandom secureRandom = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n\tsecureRandom.setSeed(key.getBytes());\r\n\tkgen.init(128, secureRandom);\r\n\r\n&quot;SHA1PRNG&quot; is the algorithm used, you can refer [here][1] for more info about algorithms.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SecureRandom","title":"Given final block not properly padded","body":"<p>I met this issue due to operation system, simple to different platform about JRE implementation. </p>\n\n<pre><code>new SecureRandom(key.getBytes())\n</code></pre>\n\n<p>will get the same value in Windows, while it's different in Linux. So in Linux need to be changed to</p>\n\n<pre><code>SecureRandom secureRandom = SecureRandom.getInstance(\"SHA1PRNG\");\nsecureRandom.setSeed(key.getBytes());\nkgen.init(128, secureRandom);\n</code></pre>\n\n<p>\"SHA1PRNG\" is the algorithm used, you can refer <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SecureRandom\" rel=\"nofollow noreferrer\">here</a> for more info about algorithms.</p>\n"},{"tags":[],"owner":{"account_id":12120229,"reputation":330,"user_id":8852057,"display_name":"Sween Wolf"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1578223573,"creation_date":1578223573,"answer_id":59599380,"question_id":8049872,"body_markdown":"This can also be a issue when you enter wrong password for your sign key.","title":"Given final block not properly padded","body":"<p>This can also be a issue when you enter wrong password for your sign key.</p>\n"},{"tags":[],"owner":{"account_id":14323983,"reputation":117,"user_id":10346583,"display_name":"Chethana Udatiyawalage"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1630222385,"creation_date":1630222385,"answer_id":68970796,"question_id":8049872,"body_markdown":"javax.crypto.BadPaddingException:\r\n **Given final block not properly padded.**\r\n==========================================\r\n Such issues can arise if a bad key is used during decryption.\r\n\r\nFor myself this happens when I used wrong key for decrypting.\r\nIt is always case sensitive.So make sure you have used the same key when you used when encrypting.... :) \r\n\r\n","title":"Given final block not properly padded","body":"<h1>javax.crypto.BadPaddingException:\n<strong>Given final block not properly padded.</strong></h1>\n<p>Such issues can arise if a bad key is used during decryption.</p>\n<p>For myself this happens when I used wrong key for decrypting.\nIt is always case sensitive.So make sure you have used the same key when you used when encrypting.... :)</p>\n"},{"tags":[],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654603922,"creation_date":1654603922,"answer_id":72531029,"question_id":8049872,"body_markdown":"If you sure all configurations are right, so that may you get this exception due to sending a null value as a ciphered to decript or a plane text to encript.","title":"Given final block not properly padded","body":"<p>If you sure all configurations are right, so that may you get this exception due to sending a null value as a ciphered to decript or a plane text to encript.</p>\n"},{"tags":[],"owner":{"account_id":85429,"reputation":9406,"user_id":238190,"accept_rate":71,"display_name":"emeraldhieu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679031776,"creation_date":1679031204,"answer_id":75764074,"question_id":8049872,"body_markdown":"If you get this warning when generating a keystore\r\n\r\n```\r\nWarning:  Different store and key passwords not supported for PKCS12 KeyStores. Ignoring user-specified -keypass value.\r\nGenerating 3,072 bit RSA key pair and self-signed certificate (SHA384withRSA) with a validity of 90 days\r\n```\r\n\r\nyou may need to remove the property `secret` in your application properties file.\r\n\r\nJust these properties are enough\r\n\r\n```\r\nencrypt:\r\n  keyStore:\r\n    location: &lt;yourFileLocation&gt;\r\n    password: &lt;yourPassword&gt;\r\n    alias: &lt;yourAlias&gt;\r\n```\r\n\r\nIt works for me.","title":"Given final block not properly padded","body":"<p>If you get this warning when generating a keystore</p>\n<pre><code>Warning:  Different store and key passwords not supported for PKCS12 KeyStores. Ignoring user-specified -keypass value.\nGenerating 3,072 bit RSA key pair and self-signed certificate (SHA384withRSA) with a validity of 90 days\n</code></pre>\n<p>you may need to remove the property <code>secret</code> in your application properties file.</p>\n<p>Just these properties are enough</p>\n<pre><code>encrypt:\n  keyStore:\n    location: &lt;yourFileLocation&gt;\n    password: &lt;yourPassword&gt;\n    alias: &lt;yourAlias&gt;\n</code></pre>\n<p>It works for me.</p>\n"}],"owner":{"account_id":333509,"reputation":6596,"user_id":659417,"display_name":"Altrim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464502,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":8053459,"answer_count":7,"score":150,"last_activity_date":1679031776,"creation_date":1320752738,"question_id":8049872,"body_markdown":"I am trying to implement password based encryption algorithm, but I get this exception:\r\n\r\n&gt; javax.crypto.BadPaddingException: Given final block not properly padded\r\n\r\nWhat might be the problem?\r\n\r\nHere is my code:\r\n\r\n    public class PasswordCrypter {\r\n    \r\n    \tprivate Key key;\r\n\r\n    \tpublic PasswordCrypter(String password)  {\r\n\t\t\ttry{\r\n\t\t\t    KeyGenerator generator;\r\n\t\t\t\tgenerator = KeyGenerator.getInstance(&quot;DES&quot;);\r\n\t\t\t\tSecureRandom sec = new SecureRandom(password.getBytes());\r\n\t\t\t\tgenerator.init(sec);\r\n\t\t\t\tkey = generator.generateKey();\r\n\t\t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic byte[] encrypt(byte[] array) throws CrypterException {\r\n    \t\ttry{\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, key);\r\n    \t\t\t \r\n\t\t\t    return cipher.doFinal(array);\r\n    \t\t} catch (Exception e) {\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic byte[] decrypt(byte[] array) throws CrypterException{\r\n        \ttry{\r\n        \t\tCipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\r\n        \t    cipher.init(Cipher.DECRYPT_MODE, key);\r\n        \t    \r\n        \t    return cipher.doFinal(array);\r\n        \t} catch(Exception e ){\r\n        \t\te.printStackTrace();\r\n        \t}\r\n            return null;\r\n    \t}\r\n    }\r\n    \r\n    \r\n(The JUnit Test)\r\n     \r\n    public class PasswordCrypterTest {\r\n\r\n    \tprivate static final byte[] MESSAGE = &quot;Alpacas are awesome!&quot;.getBytes();\r\n    \tprivate PasswordCrypter[] passwordCrypters;\r\n    \tprivate byte[][] encryptedMessages;\r\n    \r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tpasswordCrypters = new PasswordCrypter[] {\r\n    \t\t\tnew PasswordCrypter(&quot;passwd&quot;),\r\n    \t\t\tnew PasswordCrypter(&quot;passwd&quot;),\r\n    \t\t\tnew PasswordCrypter(&quot;otherPasswd&quot;)\r\n    \t\t};\r\n    \r\n    \t\tencryptedMessages = new byte[passwordCrypters.length][];\r\n    \t\tfor (int i = 0; i &lt; passwordCrypters.length; i++) {\r\n    \t\t\tencryptedMessages[i] = passwordCrypters[i].encrypt(MESSAGE);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testEncrypt() {\r\n    \t\tfor (byte[] encryptedMessage : encryptedMessages) {\r\n    \t\t\tassertFalse(Arrays.equals(MESSAGE, encryptedMessage));\r\n    \t\t}\r\n    \r\n    \t\tassertFalse(Arrays.equals(encryptedMessages[0], encryptedMessages[2]));\r\n    \t\tassertFalse(Arrays.equals(encryptedMessages[1], encryptedMessages[2]));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testDecrypt() {\r\n    \t\tfor (int i = 0; i &lt; passwordCrypters.length; i++) {\r\n    \t\t\tassertArrayEquals(MESSAGE, passwordCrypters[i].decrypt(encryptedMessages[i]));\r\n    \t\t}\r\n    \r\n    \t\tassertArrayEquals(MESSAGE, passwordCrypters[0].decrypt(encryptedMessages[1]));\r\n    \t\tassertArrayEquals(MESSAGE, passwordCrypters[1].decrypt(encryptedMessages[0]));\r\n    \r\n    \t\ttry {\r\n    \t\t\tassertFalse(Arrays.equals(MESSAGE, passwordCrypters[0].decrypt(encryptedMessages[2])));\r\n    \t\t} catch (CrypterException e) {\r\n    \t\t\t// Anything goes as long as the above statement is not true.\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tassertFalse(Arrays.equals(MESSAGE, passwordCrypters[2].decrypt(encryptedMessages[1])));\r\n    \t\t} catch (CrypterException e) {\r\n    \t\t\t// Anything goes as long as the above statement is not true.\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Given final block not properly padded","body":"<p>I am trying to implement password based encryption algorithm, but I get this exception:</p>\n\n<blockquote>\n  <p>javax.crypto.BadPaddingException: Given final block not properly padded</p>\n</blockquote>\n\n<p>What might be the problem?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class PasswordCrypter {\n\n    private Key key;\n\n    public PasswordCrypter(String password)  {\n        try{\n            KeyGenerator generator;\n            generator = KeyGenerator.getInstance(\"DES\");\n            SecureRandom sec = new SecureRandom(password.getBytes());\n            generator.init(sec);\n            key = generator.generateKey();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public byte[] encrypt(byte[] array) throws CrypterException {\n        try{\n            Cipher cipher = Cipher.getInstance(\"DES/ECB/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n\n            return cipher.doFinal(array);\n        } catch (Exception e) { \n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public byte[] decrypt(byte[] array) throws CrypterException{\n        try{\n            Cipher cipher = Cipher.getInstance(\"DES/ECB/PKCS5Padding\");\n            cipher.init(Cipher.DECRYPT_MODE, key);\n\n            return cipher.doFinal(array);\n        } catch(Exception e ){\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>(The JUnit Test)</p>\n\n<pre><code>public class PasswordCrypterTest {\n\n    private static final byte[] MESSAGE = \"Alpacas are awesome!\".getBytes();\n    private PasswordCrypter[] passwordCrypters;\n    private byte[][] encryptedMessages;\n\n    @Before\n    public void setUp() {\n        passwordCrypters = new PasswordCrypter[] {\n            new PasswordCrypter(\"passwd\"),\n            new PasswordCrypter(\"passwd\"),\n            new PasswordCrypter(\"otherPasswd\")\n        };\n\n        encryptedMessages = new byte[passwordCrypters.length][];\n        for (int i = 0; i &lt; passwordCrypters.length; i++) {\n            encryptedMessages[i] = passwordCrypters[i].encrypt(MESSAGE);\n        }\n    }\n\n    @Test\n    public void testEncrypt() {\n        for (byte[] encryptedMessage : encryptedMessages) {\n            assertFalse(Arrays.equals(MESSAGE, encryptedMessage));\n        }\n\n        assertFalse(Arrays.equals(encryptedMessages[0], encryptedMessages[2]));\n        assertFalse(Arrays.equals(encryptedMessages[1], encryptedMessages[2]));\n    }\n\n    @Test\n    public void testDecrypt() {\n        for (int i = 0; i &lt; passwordCrypters.length; i++) {\n            assertArrayEquals(MESSAGE, passwordCrypters[i].decrypt(encryptedMessages[i]));\n        }\n\n        assertArrayEquals(MESSAGE, passwordCrypters[0].decrypt(encryptedMessages[1]));\n        assertArrayEquals(MESSAGE, passwordCrypters[1].decrypt(encryptedMessages[0]));\n\n        try {\n            assertFalse(Arrays.equals(MESSAGE, passwordCrypters[0].decrypt(encryptedMessages[2])));\n        } catch (CrypterException e) {\n            // Anything goes as long as the above statement is not true.\n        }\n\n        try {\n            assertFalse(Arrays.equals(MESSAGE, passwordCrypters[2].decrypt(encryptedMessages[1])));\n        } catch (CrypterException e) {\n            // Anything goes as long as the above statement is not true.\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","arraylist","implementation"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1679030749,"post_id":75763990,"comment_id":133651210,"body_markdown":"1.you are correct;\n2.for compatibility with previous code, rawtypes are allowed","body":"1.you are correct; 2.for compatibility with previous code, rawtypes are allowed"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679030841,"post_id":75763990,"comment_id":133651218,"body_markdown":"Your assumption is mostly correct. As for *why* they did not implement something, [you should clarify what you mean by &quot;why&quot;](https://meta.stackoverflow.com/q/293815/5133585).","body":"Your assumption is mostly correct. As for <i>why</i> they did not implement something, <a href=\"https://meta.stackoverflow.com/q/293815/5133585\">you should clarify what you mean by &quot;why&quot;</a>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679064665,"post_id":75763990,"comment_id":133659089,"body_markdown":"Add this line to the code: `char foo = Names.get(1).charAt (2);`. You should get a `ClassCastException`.  When generics were added to Java (version 5, year 2004), how generics were implemented conflicted with how arrays were implemented. The result was, if an array was allowed to be generic, there would be a loophole that would allow an element of a different type to be put into the array. Accessing the element where the incorrect type was would result in a `ClassCastException`. To prevent this, it was forbidden to create a generic array. So, why is this loophole still allowed?","body":"Add this line to the code: <code>char foo = Names.get(1).charAt (2);</code>. You should get a <code>ClassCastException</code>.  When generics were added to Java (version 5, year 2004), how generics were implemented conflicted with how arrays were implemented. The result was, if an array was allowed to be generic, there would be a loophole that would allow an element of a different type to be put into the array. Accessing the element where the incorrect type was would result in a <code>ClassCastException</code>. To prevent this, it was forbidden to create a generic array. So, why is this loophole still allowed?"}],"answers":[{"tags":[],"owner":{"account_id":352656,"reputation":11806,"user_id":689853,"accept_rate":84,"display_name":"Harinder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679030831,"creation_date":1679030831,"answer_id":75764038,"question_id":75763990,"body_markdown":"Java allows adding an `int` to a `List&lt;String&gt;` due to the way generics are implemented in the language. Generics in Java are implemented through type erasure, which means that the type information is erased at runtime and not available for runtime checks.\r\n\r\nIn other words, at runtime, a `List&lt;String&gt;` and a `List&lt;Integer&gt;` are both just List objects. This allows for greater compatibility between different versions of Java that might have different types of List objects. However, it also means that the compiler can&#39;t always catch type errors at compile-time.\r\n\r\nTo address this issue, Java provides some level of type checking at compile-time through the use of bounded type parameters and wildcards. By specifying a type parameter with an upper bound, such as `List&lt;? extends Number&gt;`, you can restrict the types that can be added to the list. This helps catch errors at compile-time and prevents type errors at runtime.\r\n\r\nHowever, it&#39;s worth noting that even with these restrictions, it&#39;s still possible to cast objects to different types in Java, which can lead to runtime errors. This is why it&#39;s important to always use generics and type checking whenever possible to avoid errors and ensure code correctness.","title":"Why java allowed adding an int to a List&lt;String&gt;? Why generics are not implemented strictly at compile time and runtime both?","body":"<p>Java allows adding an <code>int</code> to a <code>List&lt;String&gt;</code> due to the way generics are implemented in the language. Generics in Java are implemented through type erasure, which means that the type information is erased at runtime and not available for runtime checks.</p>\n<p>In other words, at runtime, a <code>List&lt;String&gt;</code> and a <code>List&lt;Integer&gt;</code> are both just List objects. This allows for greater compatibility between different versions of Java that might have different types of List objects. However, it also means that the compiler can't always catch type errors at compile-time.</p>\n<p>To address this issue, Java provides some level of type checking at compile-time through the use of bounded type parameters and wildcards. By specifying a type parameter with an upper bound, such as <code>List&lt;? extends Number&gt;</code>, you can restrict the types that can be added to the list. This helps catch errors at compile-time and prevents type errors at runtime.</p>\n<p>However, it's worth noting that even with these restrictions, it's still possible to cast objects to different types in Java, which can lead to runtime errors. This is why it's important to always use generics and type checking whenever possible to avoid errors and ensure code correctness.</p>\n"}],"owner":{"account_id":19610713,"reputation":25,"user_id":17801533,"display_name":"Prakarsh Pathak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1679030846,"accepted_answer_id":75764038,"answer_count":1,"score":2,"last_activity_date":1679030831,"creation_date":1679030332,"question_id":75763990,"body_markdown":"I am new to generics, and I came across this experiment. \r\n\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\npublic class Main {\r\n    private static void addIntegerToNames(List listOfNames, Integer i) {\r\n        listOfNames.add(i);\r\n    }\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; Names = new ArrayList&lt;String&gt;();\r\n        Names.add(&quot;stackOverFlow&quot;);\r\n        addIntegerToNames(Names, 100);\r\n        System.out.println(Names);\r\n    }\r\n}\r\n\r\nOutput : [stackOverFlow, 100]\r\n```\r\nThe compiler does not throw an error while adding an integer to listOfNames because it sees that listOfNames is a list of objects. When this goes at runtime, it still doesn&#39;t throw an error, My assumption is that at runtime, &quot;Names&quot; is a List of Objects, because generics are only implemented at compile time. \r\n\r\n\r\n\r\nI have two follow up questions. \r\n1. Is my assumption correct? \r\n2. Why did java not implemented generics strictly both at compile time and runtime ? Does the current implementation of generics not make Java more error-prone? Was it a tradeoff between performance and safety?","title":"Why java allowed adding an int to a List&lt;String&gt;? Why generics are not implemented strictly at compile time and runtime both?","body":"<p>I am new to generics, and I came across this experiment.</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\npublic class Main {\n    private static void addIntegerToNames(List listOfNames, Integer i) {\n        listOfNames.add(i);\n    }\n    public static void main(String[] args) {\n        List&lt;String&gt; Names = new ArrayList&lt;String&gt;();\n        Names.add(&quot;stackOverFlow&quot;);\n        addIntegerToNames(Names, 100);\n        System.out.println(Names);\n    }\n}\n\nOutput : [stackOverFlow, 100]\n</code></pre>\n<p>The compiler does not throw an error while adding an integer to listOfNames because it sees that listOfNames is a list of objects. When this goes at runtime, it still doesn't throw an error, My assumption is that at runtime, &quot;Names&quot; is a List of Objects, because generics are only implemented at compile time.</p>\n<p>I have two follow up questions.</p>\n<ol>\n<li>Is my assumption correct?</li>\n<li>Why did java not implemented generics strictly both at compile time and runtime ? Does the current implementation of generics not make Java more error-prone? Was it a tradeoff between performance and safety?</li>\n</ol>\n"},{"tags":["java","spring-boot","opencv","rtsp"],"comments":[{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1679038535,"post_id":75764020,"comment_id":133652461,"body_markdown":"Did you check both answers to this question: https://stackoverflow.com/q/44901028/18667225 ?","body":"Did you check both answers to this question: <a href=\"https://stackoverflow.com/q/44901028/18667225\">stackoverflow.com/q/44901028/18667225</a> ?"}],"owner":{"account_id":28039012,"reputation":1,"user_id":21416866,"display_name":"Mohan raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679030677,"creation_date":1679030677,"question_id":75764020,"body_markdown":"Below the code i&#39;m trying to use to stream live video.Mp4 video is opening but live stream is not opening receiving content is false.please guide me\r\n\r\n// My code\r\n\r\n```\r\nimport org.opencv.videoio.VideoCapture;\r\npublic class TestDemo {\r\npublic static void main(String s[]) {\r\nnu.pattern.OpenCV.loadLocally();\r\nVideoCapture capture = new VideoCapture();\r\nboolean flag = capture.open(&quot;rtsp://admin:admin:xxxxxxx&quot;);//here i&#39;m using cctv url\r\nSystem.out.println(flag);\r\n}\r\n}\r\n\r\nmaven dependency\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n&lt;version&gt;3.4.2-0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;nu.pattern&lt;/groupId&gt;\r\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n&lt;version&gt;2.4.9-4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Read a video using RTSP","body":"<p>Below the code i'm trying to use to stream live video.Mp4 video is opening but live stream is not opening receiving content is false.please guide me</p>\n<p>// My code</p>\n<pre><code>import org.opencv.videoio.VideoCapture;\npublic class TestDemo {\npublic static void main(String s[]) {\nnu.pattern.OpenCV.loadLocally();\nVideoCapture capture = new VideoCapture();\nboolean flag = capture.open(&quot;rtsp://admin:admin:xxxxxxx&quot;);//here i'm using cctv url\nSystem.out.println(flag);\n}\n}\n\nmaven dependency\n&lt;dependency&gt;\n&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\n&lt;version&gt;3.4.2-0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;nu.pattern&lt;/groupId&gt;\n&lt;artifactId&gt;opencv&lt;/artifactId&gt;\n&lt;version&gt;2.4.9-4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface","layout","null-layout-manager"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1663784541,"post_id":73805137,"comment_id":130323235,"body_markdown":"You extend a JFrame and create a separate, different JFrame in the main method.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"You extend a JFrame and create a separate, different JFrame in the main method.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1663785049,"post_id":73805137,"comment_id":130323404,"body_markdown":"**Don&#39;t use a null layout** and `setBounds(...)`. Swing was designed to be used with layout managers. All the examples from the above links in the Swing tutorial will demonstrate how to use layout managers. Class names should start with a capital letter. Learn and follow Java naming conventions to avoid confusion.","body":"<b>Don&#39;t use a null layout</b> and <code>setBounds(...)</code>. Swing was designed to be used with layout managers. All the examples from the above links in the Swing tutorial will demonstrate how to use layout managers. Class names should start with a capital letter. Learn and follow Java naming conventions to avoid confusion."}],"answers":[{"tags":[],"owner":{"account_id":19487517,"reputation":34,"user_id":14314448,"display_name":"Bala Yokesh"},"down_vote_count":3,"up_vote_count":1,"is_accepted":true,"score":-2,"last_activity_date":1679029193,"creation_date":1663784947,"answer_id":73805405,"question_id":73805137,"body_markdown":"I have edited your code like below to make it display the button\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Test {\r\n\r\n    public Test() {   \r\n        JFrame f = new JFrame(); \r\n        JButton b1 = new JButton(&quot;b1&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setLayout(null);\r\n        f.setSize(925, 500);\r\n        f.setVisible(true);\r\n        b1.setBounds(0, 0, 125,100); \r\n        f.add(b1); \r\n    }\r\n\r\n    public static void main(String[] args) {    \r\n        new Test();\r\n    }\r\n\r\n}\r\n```\r\n ","title":"Can&#39;t display button","body":"<p>I have edited your code like below to make it display the button</p>\n<pre><code>import javax.swing.*;\n\npublic class Test {\n\n    public Test() {   \n        JFrame f = new JFrame(); \n        JButton b1 = new JButton(&quot;b1&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLayout(null);\n        f.setSize(925, 500);\n        f.setVisible(true);\n        b1.setBounds(0, 0, 125,100); \n        f.add(b1); \n    }\n\n    public static void main(String[] args) {    \n        new Test();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663795462,"creation_date":1663795462,"answer_id":73807077,"question_id":73805137,"body_markdown":"Your code has several problems, including:\r\n* Your class extends JFrame: There&#39;s no reason to extend a class if you&#39;re not changing the innate behavior of that class, in other words, if you&#39;re not overriding methods of the class. \r\n* Also, extending JFrame forces your code to create JFrames, and that limits the flexibility of the code, since sometimes you will want to use the same GUI code in other ways, such as nested within another JFrame or JPanel or in a dialog window such as a JDialog or JOptionPane.\r\n* Even though you extend JFrame in your &quot;test&quot; class, you *never* create an instance of this class, your main method has no call to `new test()`, and so that JFrame class, while defined, is never utilized.\r\n* You are using `setBounds(...)` to artificially place a component in your Swing GUI. For this to work, you would need to change the container&#39;s layout (here the &quot;test&quot; JFrame) to null, something that you don&#39;t do.\r\n* Also, while null layouts and `setBounds()` might seem to Swing newbies like the easiest and best way to create complex GUI&#39;s, the more Swing GUI&#39;S you create the more serious difficulties you will run into when using them. They won&#39;t resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.\r\n* You are calling `setSize(...)` on the JFrame that you do create, artificially constraining your top-level window (the JFrame) to some size, a size that may not be optimal for that GUI on all platforms.\r\n\r\nInstead, I suggest that you:\r\n* Don&#39;t extend JFrame, don&#39;t extend anything unless needed, and in that situation, you would usually extend a JPanel and not a JFrame. You would usually do this when you desire to override one of the JPanel&#39;s methods such as its `paintComponent(Graphics g)` method to allow it to paint an image or drawing on it.\r\n* Nest JPanels each using its own layout manager. This will require that you first learn about how to use the Swing layout managers: [Layout Manager Tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n* If you do need to create a larger GUI, then override the `public Dimension getPreferredSize()` method in a smart way. \r\n* Create your JFrame, just as you are doing, in the main method\r\n* But do so in a Swing thread-safe way, on the Swing event thread, using `SwingUtilities.invokeLater(...)`.\r\n* Study and learn from the Swing tutorials. You can find links to the Swing tutorials and to other Swing resources here: [Swing Info](https://stackoverflow.com/tags/swing/info).\r\n* Ignore Bala Yokesh Mani&#39;s suggestions and code. While he may mean well, he is offering bad examples, I&#39;m afraid.\r\n* Avoid over-use of static fields and methods (as incorrectly shown in Bala Yokesh Mani&#39;s code) and instead do most work in the instance (non-static) domain. \r\n* Learn and use [Java naming conventions](http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java). Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.\r\n\r\nFor example, your code could look something like:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\n// not really needed to extend JPanel here, but doing it\r\n// for simplicity&#39;s sake\r\npublic class TestPanel1 extends JPanel {\r\n    public static final int PREF_W = 640;\r\n    public static final int PREF_H = 480;\r\n    private JButton button1 = new JButton(&quot;B1&quot;);\r\n    \r\n    public TestPanel1() {\r\n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.LEADING));\r\n        topPanel.add(button1);\r\n        \r\n        // this is not the cleanest way to do this, but it is simple:\r\n        setPreferredSize(new Dimension(PREF_W, PREF_H));\r\n        \r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        // use SwingUtilities to start the GUI on the event thread\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            // create instance of our class\r\n            TestPanel1 mainPanel = new TestPanel1();\r\n\r\n            // create JFrame\r\n            JFrame frame = new JFrame(&quot;Test 1&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            // add our instance to the JFrame\r\n            frame.add(mainPanel);\r\n            \r\n            // pack the JFrame to activate layouts and to \r\n            // set sizes of all components and containers\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen later if you wanted to add a background image, you could do so easily: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class TestPanel2 extends JPanel {\r\n    public static final String IMG_PATH = &quot;https://upload.wikimedia.org/&quot;\r\n            + &quot;wikipedia/commons/thumb/e/ef/&quot;\r\n            + &quot;Mesurupetala%2C_dragonfly%2C_Late_Late_Jurassic%2C_Tithonian_Age&quot;\r\n            + &quot;%2C_Solnhofen_Lithographic_Limestone%2C_Solnhofen%2C_Bavaria&quot;\r\n            + &quot;%2C_Germany_-_Houston_Museum_of_Natural_Science_-_DSC01817.JPG/&quot;\r\n            + &quot;640px-thumbnail.jpg&quot;;\r\n    private JButton button1 = new JButton(&quot;B1&quot;);\r\n    private BufferedImage backgroundImg = null;\r\n    \r\n    public TestPanel2(BufferedImage bkgImg) {\r\n        this.backgroundImg = bkgImg;\r\n        \r\n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.LEADING));\r\n        topPanel.setOpaque(false);\r\n        topPanel.add(button1);\r\n        \r\n        setLayout(new BorderLayout());\r\n        add(topPanel, BorderLayout.PAGE_START);        \r\n    }\r\n    \r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        Dimension originalSize = super.getPreferredSize();\r\n        \r\n        if (backgroundImg != null) {\r\n            int w = Math.max(backgroundImg.getWidth(), originalSize.width);\r\n            int h = Math.max(backgroundImg.getHeight(), originalSize.height);\r\n            return new Dimension(w, h);\r\n        } else {\r\n            return super.getPreferredSize();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (backgroundImg != null) {\r\n            g.drawImage(backgroundImg, 0, 0, null);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            BufferedImage img = null;\r\n            try {\r\n                URL imgUrl = new URL(IMG_PATH);\r\n                img = ImageIO.read(imgUrl);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                System.exit(-1);\r\n            }\r\n            \r\n            TestPanel2 mainPanel = new TestPanel2(img);\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlJmP.jpg","title":"Can&#39;t display button","body":"<p>Your code has several problems, including:</p>\n<ul>\n<li>Your class extends JFrame: There's no reason to extend a class if you're not changing the innate behavior of that class, in other words, if you're not overriding methods of the class.</li>\n<li>Also, extending JFrame forces your code to create JFrames, and that limits the flexibility of the code, since sometimes you will want to use the same GUI code in other ways, such as nested within another JFrame or JPanel or in a dialog window such as a JDialog or JOptionPane.</li>\n<li>Even though you extend JFrame in your &quot;test&quot; class, you <em>never</em> create an instance of this class, your main method has no call to <code>new test()</code>, and so that JFrame class, while defined, is never utilized.</li>\n<li>You are using <code>setBounds(...)</code> to artificially place a component in your Swing GUI. For this to work, you would need to change the container's layout (here the &quot;test&quot; JFrame) to null, something that you don't do.</li>\n<li>Also, while null layouts and <code>setBounds()</code> might seem to Swing newbies like the easiest and best way to create complex GUI's, the more Swing GUI'S you create the more serious difficulties you will run into when using them. They won't resize your components when the GUI resizes, they are a royal witch to enhance or maintain, they fail completely when placed in scrollpanes, they look gawd-awful when viewed on all platforms or screen resolutions that are different from the original one.</li>\n<li>You are calling <code>setSize(...)</code> on the JFrame that you do create, artificially constraining your top-level window (the JFrame) to some size, a size that may not be optimal for that GUI on all platforms.</li>\n</ul>\n<p>Instead, I suggest that you:</p>\n<ul>\n<li>Don't extend JFrame, don't extend anything unless needed, and in that situation, you would usually extend a JPanel and not a JFrame. You would usually do this when you desire to override one of the JPanel's methods such as its <code>paintComponent(Graphics g)</code> method to allow it to paint an image or drawing on it.</li>\n<li>Nest JPanels each using its own layout manager. This will require that you first learn about how to use the Swing layout managers: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Layout Manager Tutorial</a></li>\n<li>If you do need to create a larger GUI, then override the <code>public Dimension getPreferredSize()</code> method in a smart way.</li>\n<li>Create your JFrame, just as you are doing, in the main method</li>\n<li>But do so in a Swing thread-safe way, on the Swing event thread, using <code>SwingUtilities.invokeLater(...)</code>.</li>\n<li>Study and learn from the Swing tutorials. You can find links to the Swing tutorials and to other Swing resources here: <a href=\"https://stackoverflow.com/tags/swing/info\">Swing Info</a>.</li>\n<li>Ignore Bala Yokesh Mani's suggestions and code. While he may mean well, he is offering bad examples, I'm afraid.</li>\n<li>Avoid over-use of static fields and methods (as incorrectly shown in Bala Yokesh Mani's code) and instead do most work in the instance (non-static) domain.</li>\n<li>Learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others.</li>\n</ul>\n<p>For example, your code could look something like:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\n// not really needed to extend JPanel here, but doing it\n// for simplicity's sake\npublic class TestPanel1 extends JPanel {\n    public static final int PREF_W = 640;\n    public static final int PREF_H = 480;\n    private JButton button1 = new JButton(&quot;B1&quot;);\n    \n    public TestPanel1() {\n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.LEADING));\n        topPanel.add(button1);\n        \n        // this is not the cleanest way to do this, but it is simple:\n        setPreferredSize(new Dimension(PREF_W, PREF_H));\n        \n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);        \n    }\n    \n    public static void main(String[] args) {\n        // use SwingUtilities to start the GUI on the event thread\n        SwingUtilities.invokeLater(() -&gt; {\n            // create instance of our class\n            TestPanel1 mainPanel = new TestPanel1();\n\n            // create JFrame\n            JFrame frame = new JFrame(&quot;Test 1&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n            // add our instance to the JFrame\n            frame.add(mainPanel);\n            \n            // pack the JFrame to activate layouts and to \n            // set sizes of all components and containers\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<p>Then later if you wanted to add a background image, you could do so easily:</p>\n<p><a href=\"https://i.stack.imgur.com/ZlJmP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZlJmP.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class TestPanel2 extends JPanel {\n    public static final String IMG_PATH = &quot;https://upload.wikimedia.org/&quot;\n            + &quot;wikipedia/commons/thumb/e/ef/&quot;\n            + &quot;Mesurupetala%2C_dragonfly%2C_Late_Late_Jurassic%2C_Tithonian_Age&quot;\n            + &quot;%2C_Solnhofen_Lithographic_Limestone%2C_Solnhofen%2C_Bavaria&quot;\n            + &quot;%2C_Germany_-_Houston_Museum_of_Natural_Science_-_DSC01817.JPG/&quot;\n            + &quot;640px-thumbnail.jpg&quot;;\n    private JButton button1 = new JButton(&quot;B1&quot;);\n    private BufferedImage backgroundImg = null;\n    \n    public TestPanel2(BufferedImage bkgImg) {\n        this.backgroundImg = bkgImg;\n        \n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.LEADING));\n        topPanel.setOpaque(false);\n        topPanel.add(button1);\n        \n        setLayout(new BorderLayout());\n        add(topPanel, BorderLayout.PAGE_START);        \n    }\n    \n    @Override\n    public Dimension getPreferredSize() {\n        Dimension originalSize = super.getPreferredSize();\n        \n        if (backgroundImg != null) {\n            int w = Math.max(backgroundImg.getWidth(), originalSize.width);\n            int h = Math.max(backgroundImg.getHeight(), originalSize.height);\n            return new Dimension(w, h);\n        } else {\n            return super.getPreferredSize();\n        }\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (backgroundImg != null) {\n            g.drawImage(backgroundImg, 0, 0, null);\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            BufferedImage img = null;\n            try {\n                URL imgUrl = new URL(IMG_PATH);\n                img = ImageIO.read(imgUrl);\n            } catch (IOException e) {\n                e.printStackTrace();\n                System.exit(-1);\n            }\n            \n            TestPanel2 mainPanel = new TestPanel2(img);\n\n            JFrame frame = new JFrame(&quot;Test&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26404927,"reputation":1,"user_id":20054856,"display_name":"Naofumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73805405,"answer_count":2,"score":-2,"last_activity_date":1679029193,"creation_date":1663783255,"question_id":73805137,"body_markdown":"I can&#39;t display button and i don&#39;t know why\r\nIs there any way to fix it\r\n\r\nI want it to appear at the top in the far left\r\n\r\n```\r\nimport java.awt.event.*;\r\nimport java.awt.*;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class test extends JFrame{\r\n\r\n\tJButton b1 = new JButton(&quot;b1&quot;);\r\n\t\r\n\tpublic test() {\r\n\t\t\r\n\t\tb1.setBounds(0, 0, 125,100);\r\n\t\t\r\n\t\tadd(b1);\r\n\t\t\r\n\t}\r\n\r\n    public static void main(String[] args) {\r\n            \r\n        JFrame f = new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.setLayout(null);\r\n        f.setSize(925, 500);\r\n        f.setVisible(true);\r\n\r\n    }\r\n\r\n}\r\n```\r\n","title":"Can&#39;t display button","body":"<p>I can't display button and i don't know why\nIs there any way to fix it</p>\n<p>I want it to appear at the top in the far left</p>\n<pre><code>import java.awt.event.*;\nimport java.awt.*;\n\nimport javax.swing.*;\n\npublic class test extends JFrame{\n\n    JButton b1 = new JButton(&quot;b1&quot;);\n    \n    public test() {\n        \n        b1.setBounds(0, 0, 125,100);\n        \n        add(b1);\n        \n    }\n\n    public static void main(String[] args) {\n            \n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLayout(null);\n        f.setSize(925, 500);\n        f.setVisible(true);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","docker","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1430244064,"creation_date":1430244064,"answer_id":29926693,"question_id":29923531,"body_markdown":"It all depends how your Java application is packaged and how it&#39;s configuration files are exposed using Docker.\r\n\r\nFor example the [official tomcat image][1] states that the configuration file is available in the default location: /usr/local/tomcat/conf/\r\n\r\nSo easy to override entire directory or just one configuration file:\r\n\r\n    docker run -it --rm -p 8080:8080 -v $PWD/catalina.properties:/usr/local/tomcat/conf/catalina.properties tomcat:8.0\r\n\r\n  [1]: https://registry.hub.docker.com/_/tomcat/\r\n","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>It all depends how your Java application is packaged and how it's configuration files are exposed using Docker.</p>\n\n<p>For example the <a href=\"https://registry.hub.docker.com/_/tomcat/\" rel=\"noreferrer\">official tomcat image</a> states that the configuration file is available in the default location: /usr/local/tomcat/conf/</p>\n\n<p>So easy to override entire directory or just one configuration file:</p>\n\n<pre><code>docker run -it --rm -p 8080:8080 -v $PWD/catalina.properties:/usr/local/tomcat/conf/catalina.properties tomcat:8.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1481729336,"creation_date":1430244876,"answer_id":29926938,"question_id":29923531,"body_markdown":"I agree that it depends on what container you&#39;re using. If you are using the official [Tomcat image][1], it looks like it&#39;s simple enough, you will need to pass the `JAVA_OPTS` environment variable with your heap settings:\r\n\r\n    docker run --rm -e JAVA_OPTS=&#39;-Xmx1g&#39; tomcat\r\n\r\nSee [How to set JVM parameters?][2]\r\n\r\n  [1]: https://registry.hub.docker.com/_/tomcat/\r\n  [2]: https://github.com/docker-library/tomcat/issues/8","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>I agree that it depends on what container you're using. If you are using the official <a href=\"https://registry.hub.docker.com/_/tomcat/\" rel=\"noreferrer\">Tomcat image</a>, it looks like it's simple enough, you will need to pass the <code>JAVA_OPTS</code> environment variable with your heap settings:</p>\n\n<pre><code>docker run --rm -e JAVA_OPTS='-Xmx1g' tomcat\n</code></pre>\n\n<p>See <a href=\"https://github.com/docker-library/tomcat/issues/8\" rel=\"noreferrer\">How to set JVM parameters?</a></p>\n"},{"tags":[],"owner":{"account_id":485203,"reputation":5363,"user_id":901376,"accept_rate":84,"display_name":"occasl"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1458586284,"creation_date":1458586284,"answer_id":36139281,"question_id":29923531,"body_markdown":"You can also just place those settings in your image so something like the following would exist in your Dockerfile:\r\n\r\n    ENV JAVA_OPTS=&quot;-XX:PermSize=1024m -XX:MaxPermSize=512m&quot;","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>You can also just place those settings in your image so something like the following would exist in your Dockerfile:</p>\n\n<pre><code>ENV JAVA_OPTS=\"-XX:PermSize=1024m -XX:MaxPermSize=512m\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8529,"reputation":35006,"user_id":15441,"accept_rate":92,"display_name":"hawkeye"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1472102752,"creation_date":1472102752,"answer_id":39137276,"question_id":29923531,"body_markdown":"Note that in a `docker-compose.yml` file - you&#39;ll need to leave out the double-quotes:\r\n\r\n      environment:\r\n      - JVM_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=1024m\r\n\r\nor\r\n\r\n      environment:\r\n      - CATALINA_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=1024m","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>Note that in a <code>docker-compose.yml</code> file - you'll need to leave out the double-quotes:</p>\n\n<pre><code>  environment:\n  - JVM_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=1024m\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  environment:\n  - CATALINA_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=1024m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11961472,"reputation":149,"user_id":8752403,"display_name":"Riswan chatholi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580736635,"creation_date":1580736635,"answer_id":60040271,"question_id":29923531,"body_markdown":"you can do it by specifying java options environment in docker compose file \r\n\r\n    env: \r\n      - name: _JAVA_OPTIONS\r\n        value: &quot;-Xmx1g&quot;\r\n\r\nit will change the heap size.","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>you can do it by specifying java options environment in docker compose file </p>\n\n<pre><code>env: \n  - name: _JAVA_OPTIONS\n    value: \"-Xmx1g\"\n</code></pre>\n\n<p>it will change the heap size.</p>\n"},{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1608137984,"creation_date":1608137984,"answer_id":65327769,"question_id":29923531,"body_markdown":"**Update:** Regarding this discussion, Java has upped there game regarding container support. Nowadays (or since JVM version 10 to be more exact), **the JVM is smart enough to figure out whether it is running in a container, and if yes, how much memory it is limited to.**\r\n\r\nSo, rather than setting fixed limits when starting your JVM, which you then have to change in line with changes to your container limits (resource limits in the K8s world), simply **do nothing and let the JVM work out limits for itself**. \r\n\r\nWithout any extra configuration, the JVM will set the maximum heap size to **25% of the allocated memory**. Since this is frugal, you might want to ramp that up a bit by setting the `-XX:MaxRAMPercentage` attribute. Also, there is `-XX:InitialRAMPercentage` for initial heap size and `-XX:MinRAMPercentage` for containers with less than 96MB RAM.\r\n\r\n**For more information** on the topic, [here][1] is an excellent overview.\r\n\r\n\r\n  [1]: https://merikan.com/2019/04/jvm-in-a-container/#java-10","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p><strong>Update:</strong> Regarding this discussion, Java has upped there game regarding container support. Nowadays (or since JVM version 10 to be more exact), <strong>the JVM is smart enough to figure out whether it is running in a container, and if yes, how much memory it is limited to.</strong></p>\n<p>So, rather than setting fixed limits when starting your JVM, which you then have to change in line with changes to your container limits (resource limits in the K8s world), simply <strong>do nothing and let the JVM work out limits for itself</strong>.</p>\n<p>Without any extra configuration, the JVM will set the maximum heap size to <strong>25% of the allocated memory</strong>. Since this is frugal, you might want to ramp that up a bit by setting the <code>-XX:MaxRAMPercentage</code> attribute. Also, there is <code>-XX:InitialRAMPercentage</code> for initial heap size and <code>-XX:MinRAMPercentage</code> for containers with less than 96MB RAM.</p>\n<p><strong>For more information</strong> on the topic, <a href=\"https://merikan.com/2019/04/jvm-in-a-container/#java-10\" rel=\"noreferrer\">here</a> is an excellent overview.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3596,"user_id":1155514,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679029084,"creation_date":1679029084,"answer_id":75763905,"question_id":29923531,"body_markdown":"You can set the `Xms` and `Xmx` values in the **dockerfile** using the following way as well.\r\n\r\n```\r\nENTRYPOINT [&quot;java&quot;, &quot;-Xms128M &quot;, &quot;-Xmx256M&quot;, &quot;-jar&quot;, &quot;your-precious-service-1.0.0.jar&quot;]\r\n```\r\n\r\nYou can also *ignore* the `Xms` value and just set the `Xmx` value.\r\n\r\n```\r\nENTRYPOINT [&quot;java&quot;, &quot;-Xmx256M&quot;, &quot;-jar&quot;, &quot;your-precious-service-1.0.0.jar&quot;] \r\n```\r\n\r\nFor more info please read : https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>You can set the <code>Xms</code> and <code>Xmx</code> values in the <strong>dockerfile</strong> using the following way as well.</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;-Xms128M &quot;, &quot;-Xmx256M&quot;, &quot;-jar&quot;, &quot;your-precious-service-1.0.0.jar&quot;]\n</code></pre>\n<p>You can also <em>ignore</em> the <code>Xms</code> value and just set the <code>Xmx</code> value.</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;-Xmx256M&quot;, &quot;-jar&quot;, &quot;your-precious-service-1.0.0.jar&quot;] \n</code></pre>\n<p>For more info please read : <a href=\"https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications\" rel=\"nofollow noreferrer\">https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications</a></p>\n"}],"owner":{"account_id":1496613,"reputation":1884,"user_id":1402390,"accept_rate":100,"display_name":"Tung Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131054,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":29926938,"answer_count":7,"score":58,"last_activity_date":1679029084,"creation_date":1430234752,"question_id":29923531,"body_markdown":"As of raising this question, Docker looks to be new enough to not have answers to this question on the net. The only place I found is [this article][1] in which the author is saying it is hard, and that&#39;s it.\r\n\r\n\r\n  [1]: http://blog.takipi.com/ignore-the-hype-5-docker-misconceptions-java-developers-should-consider/","title":"How to set Java heap size (Xms/Xmx) inside Docker container?","body":"<p>As of raising this question, Docker looks to be new enough to not have answers to this question on the net. The only place I found is <a href=\"http://blog.takipi.com/ignore-the-hype-5-docker-misconceptions-java-developers-should-consider/\">this article</a> in which the author is saying it is hard, and that's it.</p>\n"},{"tags":["java","android","android-fragments","navigation-drawer"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1678791043,"post_id":75732116,"comment_id":133597973,"body_markdown":"I fixed the formatting in your post. Please don&#39;t use blockquotes for code. Indent your code by four spaces instead, so that it&#39;s displayed properly. See [here](https://stackoverflow.com/editing-help) for more info on formatting. Also, next time please indent your code appropriately so it&#39;s more readable. And finally, you&#39;re not supposed to dump your entire code in the question. You should post a [example], instead.","body":"I fixed the formatting in your post. Please don&#39;t use blockquotes for code. Indent your code by four spaces instead, so that it&#39;s displayed properly. See <a href=\"https://stackoverflow.com/editing-help\">here</a> for more info on formatting. Also, next time please indent your code appropriately so it&#39;s more readable. And finally, you&#39;re not supposed to dump your entire code in the question. You should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, instead."},{"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":"Θεοφανης Γιαννακοπουλος"},"score":0,"creation_date":1678801469,"post_id":75732116,"comment_id":133600916,"body_markdown":"Ty very much sorry i am new to this","body":"Ty very much sorry i am new to this"}],"answers":[{"tags":[],"owner":{"account_id":25651444,"reputation":1,"user_id":19418613,"display_name":"Maruf Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679027867,"creation_date":1679027649,"answer_id":75763797,"question_id":75732116,"body_markdown":"if (id == R.id.nav_home) {\r\n                setFragement(new \r\n                CategoryFragment());      \r\n  drawer.closeDrawer(GravityCompat.START);\r\n\r\n                return true;\r\n            }","title":"Drawer doesn&#39;t close after i pick an option","body":"<p>if (id == R.id.nav_home) {\nsetFragement(new\nCategoryFragment());<br />\ndrawer.closeDrawer(GravityCompat.START);</p>\n<pre><code>            return true;\n        }\n</code></pre>\n"}],"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":"Θεοφανης Γιαννακοπουλος"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679027867,"creation_date":1678790620,"question_id":75732116,"body_markdown":"The Drawer open and fuction correctly. When i pick an option its change to the correct fragemnt but the drawer stays open. How cani fix it?\r\n\r\nMy MainActivity\r\n\r\n    package com.example.duolingo;\r\n    \r\n    import static com.example.duolingo.R.id.nav_host_fragment_content_main;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.MenuItem;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.view.GravityCompat;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.fragment.app.FragmentTransaction;\r\n    import androidx.navigation.NavController;\r\n    import androidx.navigation.Navigation;\r\n    import androidx.navigation.ui.AppBarConfiguration;\r\n    import androidx.navigation.ui.NavigationUI;\r\n    \r\n    import com.example.duolingo.databinding.ActivityMainBinding;\r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.android.material.navigation.NavigationView;\r\n    \r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener  {\r\n    \r\n    \tprivate AppBarConfiguration mAppBarConfiguration;\r\n    \tprivate ActivityMainBinding binding;\r\n    \tprivate FrameLayout main_frame;\r\n    \tprivate TextView drawerProfileName, drawerProfileText;\r\n    \r\n    \tprivate BottomNavigationView bottomNavigationView;\r\n    \tprivate BottomNavigationView.OnNavigationItemSelectedListener onNavigationItemSelectedListener=\r\n    \t\tnew BottomNavigationView.OnNavigationItemSelectedListener() {\r\n    \t\t\t@Override\r\n    \t\t\t\tpublic boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n    \r\n    \t\t\t\t\tswitch (menuItem.getItemId())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tcase R.id.nav_home:\r\n    \t\t\t\t\t\t\tsetFragement(new CategoryFragment());\r\n    \t\t\t\t\t\t\treturn true;\r\n    \r\n    \t\t\t\t\t\tcase R.id.nav_leaderboard:\r\n    \t\t\t\t\t\t\tsetFragement(new LeaderBoardFragment());\r\n    \t\t\t\t\t\t\treturn true;\r\n    \r\n    \t\t\t\t\t\tcase R.id.nav_account:\r\n    \t\t\t\t\t\t\tsetFragement(new AccountFragment());\r\n    \t\t\t\t\t\t\treturn true;\r\n    \r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t};\r\n    \r\n    \t@Override\r\n    \t\tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\t\tsuper.onCreate(savedInstanceState);\r\n    \r\n    \r\n    \r\n    \t\t\tbinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    \t\t\tsetContentView(binding.getRoot());\r\n    \r\n    \t\t\tsetSupportActionBar(binding.appBarMain.toolbar);\r\n    \r\n    \t\t\tbottomNavigationView=findViewById(R.id.bottom_nav_bar);\r\n    \t\t\tmain_frame= findViewById(R.id.main_frame);\r\n    \r\n    \t\t\tbottomNavigationView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener);\r\n    \r\n    \r\n    \t\t\tDrawerLayout drawer = binding.drawerLayout;\r\n    \t\t\tNavigationView navigationView = binding.navView;\r\n    \t\t\tPassing each menu ID as a set of Ids because each\r\n    \t\t\t\tmenu should be considered as top level destinations.\r\n    \t\t\t\tmAppBarConfiguration = new AppBarConfiguration.Builder(\r\n    \t\t\t\t\t\tR.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\r\n    \t\t\t\tstack overflow\r\n    \t\t\t\t.setDrawerLayout(drawer)\r\n    \t\t\t\t.build();\r\n    \r\n    \r\n    \t\t\tdrawerProfileName = navigationView.getHeaderView(0).findViewById(R.id.nav_drawer_name);\r\n    \t\t\tdrawerProfileText = navigationView.getHeaderView(0).findViewById(R.id.nav_drawer_text_img);\r\n    \r\n    \t\t\tString name = DbQuery.myProfile.getName();\r\n    \t\t\tdrawerProfileName.setText(name);\r\n    \r\n    \t\t\tdrawerProfileText.setText(name.toUpperCase(Locale.ROOT).substring(0,1));\r\n    \r\n    \t\t\tsetFragement(new CategoryFragment());\r\n    \r\n    \t\t\tNavController navController = Navigation.findNavController(this, nav_host_fragment_content_main);\r\n    \t\t\tNavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n    \t\t\tNavigationUI.setupWithNavController(navigationView, navController);\r\n    \r\n    \t\t\tnavigationView.setNavigationItemSelectedListener(this);\r\n    \r\n    \t\t}\r\n    \r\n    \tprivate void setFragement(Fragment fragement)\r\n    \t{\r\n    \t\tFragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n    \t\ttransaction.replace(main_frame.getId(),fragement);\r\n    \t\ttransaction.commit();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \t\tpublic boolean onSupportNavigateUp() {\r\n    \t\t\tNavController navController = Navigation.findNavController(this, nav_host_fragment_content_main);\r\n    \t\t\treturn NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n    \t\t\t\tsuper.onSupportNavigateUp();\r\n    \t\t}\r\n    \r\n    \r\n    \t@Override\r\n    \t\tpublic boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n    \r\n    \t\t\tLog.d(&quot;edo&quot;,&quot;mphka1&quot;);\r\n    \t\t\tint id = menuItem.getItemId();\r\n    \t\t\tif (id == R.id.nav_home) {\r\n    \t\t\t\tsetFragement(new CategoryFragment());\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\telse if (id == R.id.nav_leaderboard) {\r\n    \t\t\t\tHandle the gallery action\r\n    \t\t\t\t\tsetFragement(new LeaderBoardFragment());\r\n    \t\t\t\treturn true;\r\n    \r\n    \t\t\t}\r\n    \t\t\telse if (id == R.id.nav_account) {\r\n    \t\t\t\tHandle the slideshow action\r\n    \t\t\t\t\tsetFragement(new AccountFragment());\r\n    \t\t\t\treturn true;\r\n    \r\n    \t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\tDrawerLayout drawer = binding.drawerLayout;\r\n    \t\t\tdrawer.closeDrawer(GravityCompat.START);\r\n    \r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t@Override\r\n    \t\tpublic void onPointerCaptureChanged(boolean hasCapture) {\r\n    \t\t\tsuper.onPointerCaptureChanged(hasCapture);\r\n    \t\t}\r\n    }\r\n\r\nThe content_main\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:background=&quot;@drawable/main_background&quot;\r\n     app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n     tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\r\n     \r\n     \r\n         &lt;fragment\r\n     android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n     android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     app:defaultNavHost=&quot;true&quot;\r\n     app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n     app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n     app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n     app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n     \r\n         &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n     android:id=&quot;@+id/bottom_nav_bar&quot;\r\n     android:layout_width=&quot;0dp&quot;\r\n     android:layout_height=&quot;wrap_content&quot;\r\n     android:background=&quot;?android:attr/windowBackground&quot;\r\n     app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n     app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n     app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n     app:menu=&quot;@menu/bottom_menu&quot;&gt;\r\n     \r\n         &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n     \r\n         &lt;FrameLayout\r\n     android:id=&quot;@+id/main_frame&quot;\r\n     android:layout_width=&quot;0dp&quot;\r\n     android:layout_height=&quot;0dp&quot;\r\n     app:layout_constraintBottom_toTopOf=&quot;@+id/bottom_nav_bar&quot;\r\n     app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n     app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n     app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n     \r\n         &lt;/FrameLayout&gt;\r\n     \r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nIf i click the home page the drawer closes. In my opinion is because of the fragment in the content_main.\r\n\r\nAre those two lines correct?\r\n\r\n    DrawerLayout drawer = binding.drawerLayout;\r\n    drawer.closeDrawer(GravityCompat.START);\r\n\r\n","title":"Drawer doesn&#39;t close after i pick an option","body":"<p>The Drawer open and fuction correctly. When i pick an option its change to the correct fragemnt but the drawer stays open. How cani fix it?</p>\n<p>My MainActivity</p>\n<pre><code>package com.example.duolingo;\n\nimport static com.example.duolingo.R.id.nav_host_fragment_content_main;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.widget.FrameLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.duolingo.databinding.ActivityMainBinding;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationView;\n\nimport java.util.Locale;\n\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener  {\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n    private FrameLayout main_frame;\n    private TextView drawerProfileName, drawerProfileText;\n\n    private BottomNavigationView bottomNavigationView;\n    private BottomNavigationView.OnNavigationItemSelectedListener onNavigationItemSelectedListener=\n        new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n                public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n\n                    switch (menuItem.getItemId())\n                    {\n                        case R.id.nav_home:\n                            setFragement(new CategoryFragment());\n                            return true;\n\n                        case R.id.nav_leaderboard:\n                            setFragement(new LeaderBoardFragment());\n                            return true;\n\n                        case R.id.nav_account:\n                            setFragement(new AccountFragment());\n                            return true;\n\n\n                    }\n                    return false;\n                }\n        };\n\n    @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n\n\n\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\n            setContentView(binding.getRoot());\n\n            setSupportActionBar(binding.appBarMain.toolbar);\n\n            bottomNavigationView=findViewById(R.id.bottom_nav_bar);\n            main_frame= findViewById(R.id.main_frame);\n\n            bottomNavigationView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener);\n\n\n            DrawerLayout drawer = binding.drawerLayout;\n            NavigationView navigationView = binding.navView;\n            Passing each menu ID as a set of Ids because each\n                menu should be considered as top level destinations.\n                mAppBarConfiguration = new AppBarConfiguration.Builder(\n                        R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\n                stack overflow\n                .setDrawerLayout(drawer)\n                .build();\n\n\n            drawerProfileName = navigationView.getHeaderView(0).findViewById(R.id.nav_drawer_name);\n            drawerProfileText = navigationView.getHeaderView(0).findViewById(R.id.nav_drawer_text_img);\n\n            String name = DbQuery.myProfile.getName();\n            drawerProfileName.setText(name);\n\n            drawerProfileText.setText(name.toUpperCase(Locale.ROOT).substring(0,1));\n\n            setFragement(new CategoryFragment());\n\n            NavController navController = Navigation.findNavController(this, nav_host_fragment_content_main);\n            NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n            NavigationUI.setupWithNavController(navigationView, navController);\n\n            navigationView.setNavigationItemSelectedListener(this);\n\n        }\n\n    private void setFragement(Fragment fragement)\n    {\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(main_frame.getId(),fragement);\n        transaction.commit();\n\n    }\n\n    @Override\n        public boolean onSupportNavigateUp() {\n            NavController navController = Navigation.findNavController(this, nav_host_fragment_content_main);\n            return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                super.onSupportNavigateUp();\n        }\n\n\n    @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n\n            Log.d(&quot;edo&quot;,&quot;mphka1&quot;);\n            int id = menuItem.getItemId();\n            if (id == R.id.nav_home) {\n                setFragement(new CategoryFragment());\n                return true;\n            }\n            else if (id == R.id.nav_leaderboard) {\n                Handle the gallery action\n                    setFragement(new LeaderBoardFragment());\n                return true;\n\n            }\n            else if (id == R.id.nav_account) {\n                Handle the slideshow action\n                    setFragement(new AccountFragment());\n                return true;\n\n            }\n\n\n\n            DrawerLayout drawer = binding.drawerLayout;\n            drawer.closeDrawer(GravityCompat.START);\n\n            return true;\n        }\n\n    @Override\n        public void onPointerCaptureChanged(boolean hasCapture) {\n            super.onPointerCaptureChanged(hasCapture);\n        }\n}\n</code></pre>\n<p>The content_main</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;match_parent&quot;\n android:background=&quot;@drawable/main_background&quot;\n app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n tools:showIn=&quot;@layout/app_bar_main&quot;&gt;\n \n \n     &lt;fragment\n android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;match_parent&quot;\n app:defaultNavHost=&quot;true&quot;\n app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n app:layout_constraintRight_toRightOf=&quot;parent&quot;\n app:layout_constraintTop_toTopOf=&quot;parent&quot;\n app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n \n     &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n android:id=&quot;@+id/bottom_nav_bar&quot;\n android:layout_width=&quot;0dp&quot;\n android:layout_height=&quot;wrap_content&quot;\n android:background=&quot;?android:attr/windowBackground&quot;\n app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n app:layout_constraintStart_toStartOf=&quot;parent&quot;\n app:menu=&quot;@menu/bottom_menu&quot;&gt;\n \n     &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n \n     &lt;FrameLayout\n android:id=&quot;@+id/main_frame&quot;\n android:layout_width=&quot;0dp&quot;\n android:layout_height=&quot;0dp&quot;\n app:layout_constraintBottom_toTopOf=&quot;@+id/bottom_nav_bar&quot;\n app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n app:layout_constraintStart_toStartOf=&quot;parent&quot;\n app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n \n     &lt;/FrameLayout&gt;\n \n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>If i click the home page the drawer closes. In my opinion is because of the fragment in the content_main.</p>\n<p>Are those two lines correct?</p>\n<pre><code>DrawerLayout drawer = binding.drawerLayout;\ndrawer.closeDrawer(GravityCompat.START);\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":20519214,"reputation":69,"user_id":15059204,"display_name":"Eduardo Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679025279,"creation_date":1679025279,"answer_id":75763625,"question_id":75763591,"body_markdown":"I found that I was writing the host URL wrong\r\n\r\nit should be &quot;jdbc:postgresql://&quot; instead of &quot;jdbc:postgres://&quot;","title":"Error to connect my Postgres database to Spring boot app","body":"<p>I found that I was writing the host URL wrong</p>\n<p>it should be &quot;jdbc:postgresql://&quot; instead of &quot;jdbc:postgres://&quot;</p>\n"}],"owner":{"account_id":20519214,"reputation":69,"user_id":15059204,"display_name":"Eduardo Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679027416,"creation_date":1679024743,"question_id":75763591,"body_markdown":"I&#39;m developing a simple app using Spring boot and decided to use PostgreSQL to store my data.\r\nI opted to use elephantSQL to host my DB but I&#39;m having this error when trying to connect with my Spring app\r\n[![enter image description here][1]][1]\r\n\r\nI already connected using the pgadmin4 and everything worked fine.\r\n\r\nHere&#39;s my ElephantSQL data\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere&#39;s my application.properties\r\n[![enter image description here][3]][3]\r\n\r\n\r\nHere&#39;s my pom.xml\r\n[![enter image description here][4]][4]\r\n\r\nPlease, any help would be awesome!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QGjlV.png\r\n  [2]: https://i.stack.imgur.com/x9Tby.png\r\n  [3]: https://i.stack.imgur.com/mjtFl.png\r\n  [4]: https://i.stack.imgur.com/vjkYN.png","title":"Error to connect my Postgres database to Spring boot app","body":"<p>I'm developing a simple app using Spring boot and decided to use PostgreSQL to store my data.\nI opted to use elephantSQL to host my DB but I'm having this error when trying to connect with my Spring app\n<a href=\"https://i.stack.imgur.com/QGjlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QGjlV.png\" alt=\"enter image description here\" /></a></p>\n<p>I already connected using the pgadmin4 and everything worked fine.</p>\n<p>Here's my ElephantSQL data\n<a href=\"https://i.stack.imgur.com/x9Tby.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x9Tby.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my application.properties\n<a href=\"https://i.stack.imgur.com/mjtFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mjtFl.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my pom.xml\n<a href=\"https://i.stack.imgur.com/vjkYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjkYN.png\" alt=\"enter image description here\" /></a></p>\n<p>Please, any help would be awesome!</p>\n"},{"tags":["java","json","gson","comparator","large-data"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1678994211,"post_id":75760698,"comment_id":133645693,"body_markdown":"That&#39;s very little context for a very big question.","body":"That&#39;s very little context for a very big question."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1678996298,"post_id":75760698,"comment_id":133646204,"body_markdown":"Iterate through the files and the arrays in both directories and compare them.","body":"Iterate through the files and the arrays in both directories and compare them."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1678996493,"post_id":75760698,"comment_id":133646248,"body_markdown":"Do you really have to diff the JSON data? It would probably be way easier to simply diff the JSON string content of the files. Also, adding to what @shmosel wrote, there are multiple open questions, such as (1) should the order of property names be considered (e.g. first `name` or first `uniqueId`), (2) should the order in the array be considered, e.g. if an entry is moved from index 0 to 5, is it then _removed_ + _added_ (or some combinations of _updated_), or should the array be considered identical?","body":"Do you really have to diff the JSON data? It would probably be way easier to simply diff the JSON string content of the files. Also, adding to what @shmosel wrote, there are multiple open questions, such as (1) should the order of property names be considered (e.g. first <code>name</code> or first <code>uniqueId</code>), (2) should the order in the array be considered, e.g. if an entry is moved from index 0 to 5, is it then <i>removed</i> + <i>added</i> (or some combinations of <i>updated</i>), or should the array be considered identical?"}],"owner":{"account_id":10333420,"reputation":3,"user_id":7622433,"display_name":"vik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679027241,"creation_date":1678993859,"question_id":75760698,"body_markdown":"I have two directories &quot;A&quot; and &quot;B&quot;, each directory contains textfiles containing jsonarray of jsonobjects.\r\nNeed to compare jsonobjects in directory a with b and figure out which object is added,updated,deleted.\r\nI cant load all jsonobjects since it will consume all the memory allocated hence i need to execute in batchwise.\r\n\r\nkindly suggest a efficient method to achive this . \r\nThanks in advance\r\nsample json array in each textfile. Each object has a unique key\r\n```\r\n[\r\n   {\r\n      name:x,\r\n      uniqueId:1\r\n   },\r\n   {\r\n     name:y,\r\n     uniqueId:2\r\n   }\r\n]\r\n```\r\n\r\nI tried the brute force method. ","title":"Compare Two Large JSON array","body":"<p>I have two directories &quot;A&quot; and &quot;B&quot;, each directory contains textfiles containing jsonarray of jsonobjects.\nNeed to compare jsonobjects in directory a with b and figure out which object is added,updated,deleted.\nI cant load all jsonobjects since it will consume all the memory allocated hence i need to execute in batchwise.</p>\n<p>kindly suggest a efficient method to achive this .\nThanks in advance\nsample json array in each textfile. Each object has a unique key</p>\n<pre><code>[\n   {\n      name:x,\n      uniqueId:1\n   },\n   {\n     name:y,\n     uniqueId:2\n   }\n]\n</code></pre>\n<p>I tried the brute force method.</p>\n"},{"tags":["java","generics","type-erasure"],"answers":[{"tags":[],"owner":{"account_id":60322,"reputation":958,"user_id":180244,"display_name":"vdr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254733110,"creation_date":1254528371,"answer_id":1512360,"question_id":1509896,"body_markdown":"Even after erasure has done its job, it is still possible to retrieve generic information from: Field, Method ( including method parameters ) and Class using reflection.\r\n\r\nFor example, it is possible to retrieve the SystemErrorReportCommand from SystemErrorReportController using \r\n\r\n    ((ParameterizedType) SystemErrorReportController.class.getGenericSuperType()).getActualTypeArguments[0];\r\n\r\nStill, that&#39;s only the beginning. You need to start making use of that information using reflection api, so it is likely that your design will suffer if you were not expecting something like this.\r\n\r\nHere is a little example of what you can extract at runtime:\r\n\r\n    public abstract class Test&lt;T extends Number&gt; extends ArrayList&lt;Long&gt; implements Comparable&lt;String&gt;, List&lt;Long&gt;{\r\n        public List&lt;String&gt; field;\r\n        public abstract &lt;M&gt; M method(List&lt;T&gt; arg);\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            TypeVariable&lt;Class&lt;Test&gt;&gt; t = Test.class.getTypeParameters()[0];\r\n            Class&lt;?&gt; upperBound = (Class&lt;?&gt;) t.getBounds()[0];\r\n    \r\n    \r\n            System.out.println(&quot;Test&lt;&quot; + t + &quot; extends &quot; + upperBound.getName() + &quot;&gt;&quot;);\r\n            System.out.println(&quot;extends &quot; + Test.class.getGenericSuperclass());\r\n            System.out.println(&quot;implements &quot; + Arrays.toString(Test.class.getGenericInterfaces()));\r\n            System.out.println(&quot;{&quot;);\r\n            System.out.println(Test.class.getMethods()[1].toGenericString());\r\n            System.out.println(Test.class.getFields()[0].toGenericString());\r\n            System.out.println(&quot;}&quot;);\r\n        }\r\n    }\r\n\r\nThat will output:\r\n\r\n    Test&lt;T extends java.lang.Number&gt;\r\n    extends java.util.ArrayList&lt;java.lang.Long&gt;\r\n    implements [java.lang.Comparable&lt;java.lang.String&gt;, java.util.List&lt;java.lang.Long&gt;]\r\n    {\r\n    public abstract &lt;M&gt; M Test.method(java.util.List&lt;T&gt;)\r\n    public java.util.List&lt;java.lang.String&gt; Test.field\r\n    }\r\n\r\nI&#39;m using `toGenericString()` method. However this is just a pretty printing method ! There is no need to parse that String: reflection api provides all the necessary information, eg: `Field.getGenericType()`, `Method.getArgumentTypes`, ...\r\n","title":"Getting around Type Erasure in Java","body":"<p>Even after erasure has done its job, it is still possible to retrieve generic information from: Field, Method ( including method parameters ) and Class using reflection.</p>\n\n<p>For example, it is possible to retrieve the SystemErrorReportCommand from SystemErrorReportController using </p>\n\n<pre><code>((ParameterizedType) SystemErrorReportController.class.getGenericSuperType()).getActualTypeArguments[0];\n</code></pre>\n\n<p>Still, that's only the beginning. You need to start making use of that information using reflection api, so it is likely that your design will suffer if you were not expecting something like this.</p>\n\n<p>Here is a little example of what you can extract at runtime:</p>\n\n<pre><code>public abstract class Test&lt;T extends Number&gt; extends ArrayList&lt;Long&gt; implements Comparable&lt;String&gt;, List&lt;Long&gt;{\n    public List&lt;String&gt; field;\n    public abstract &lt;M&gt; M method(List&lt;T&gt; arg);\n\n    public static void main(String... args) throws Exception {\n        TypeVariable&lt;Class&lt;Test&gt;&gt; t = Test.class.getTypeParameters()[0];\n        Class&lt;?&gt; upperBound = (Class&lt;?&gt;) t.getBounds()[0];\n\n\n        System.out.println(\"Test&lt;\" + t + \" extends \" + upperBound.getName() + \"&gt;\");\n        System.out.println(\"extends \" + Test.class.getGenericSuperclass());\n        System.out.println(\"implements \" + Arrays.toString(Test.class.getGenericInterfaces()));\n        System.out.println(\"{\");\n        System.out.println(Test.class.getMethods()[1].toGenericString());\n        System.out.println(Test.class.getFields()[0].toGenericString());\n        System.out.println(\"}\");\n    }\n}\n</code></pre>\n\n<p>That will output:</p>\n\n<pre><code>Test&lt;T extends java.lang.Number&gt;\nextends java.util.ArrayList&lt;java.lang.Long&gt;\nimplements [java.lang.Comparable&lt;java.lang.String&gt;, java.util.List&lt;java.lang.Long&gt;]\n{\npublic abstract &lt;M&gt; M Test.method(java.util.List&lt;T&gt;)\npublic java.util.List&lt;java.lang.String&gt; Test.field\n}\n</code></pre>\n\n<p>I'm using <code>toGenericString()</code> method. However this is just a pretty printing method ! There is no need to parse that String: reflection api provides all the necessary information, eg: <code>Field.getGenericType()</code>, <code>Method.getArgumentTypes</code>, ...</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1254843073,"creation_date":1254843073,"answer_id":1526364,"question_id":1509896,"body_markdown":"Maybe you could use something like [Javassist][1] to do some meta-programming.\r\n\r\nIt&#39;s used in Tapestry for that purpose, see [this][2] article.\r\n\r\n\r\n  [1]: http://www.jboss.org/javassist/\r\n  [2]: http://tapestryjava.blogspot.com/2009/08/article-meta-programming-java.html","title":"Getting around Type Erasure in Java","body":"<p>Maybe you could use something like <a href=\"http://www.jboss.org/javassist/\" rel=\"nofollow noreferrer\">Javassist</a> to do some meta-programming.</p>\n\n<p>It's used in Tapestry for that purpose, see <a href=\"http://tapestryjava.blogspot.com/2009/08/article-meta-programming-java.html\" rel=\"nofollow noreferrer\">this</a> article.</p>\n"},{"tags":[],"owner":{"account_id":24437,"reputation":5745,"user_id":62131,"accept_rate":82,"display_name":"Richard Gomes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679027148,"creation_date":1294086048,"answer_id":4588015,"question_id":1509896,"body_markdown":"Contrary to what is widely accepted and rarely known type erasure can be avoided, which means that the callee do have the ability to know which generic parameters were employed during the call.","title":"Getting around Type Erasure in Java","body":"<p>Contrary to what is widely accepted and rarely known type erasure can be avoided, which means that the callee do have the ability to know which generic parameters were employed during the call.</p>\n"}],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1526364,"answer_count":3,"score":3,"last_activity_date":1679027148,"creation_date":1254494059,"question_id":1509896,"body_markdown":"So, the group I work with has reduced the amount of code we have to type for certain things.  In this case, a Spring web page that displays a list using the DisplayTag libraries.  The way it&#39;s done is with a class using generics extending the `Controller` object, and then a subclass of that for each page it should work on.\r\n\r\nThis controller displays the `SystemErrorReport`, and defines the type to be the `SystemErrorReportCommand`.\r\n\r\n    public class SystemErrorReportController extends\r\n        GenericSearchAndSelectController&lt;SystemErrorReportCommand&gt; {\r\n\r\nThe problem is that `SystemErrorReportCommand`, being passed as a type, needs to have a manual declaration of itself in its constructor, like so:\r\n\r\n    public SystemErrorReportCommand()\r\n    {\r\n        super(SystemErrorReport.class);\r\n    }\r\n\r\nThe command object is later passed to something that needs to know its explicit type.  Without specifying it manually somewhere, it comes back as `GenericCommand`, another class of ours, because the `SystemErrorReportCommand` bit is lost after compile time.\r\n\r\nI&#39;m not thrilled with that, because it seems like something we can farther automate to reduce developer error.  Is there a more elegant way to do this, or am I stuck with this because of type erasure?","title":"Getting around Type Erasure in Java","body":"<p>So, the group I work with has reduced the amount of code we have to type for certain things.  In this case, a Spring web page that displays a list using the DisplayTag libraries.  The way it's done is with a class using generics extending the <code>Controller</code> object, and then a subclass of that for each page it should work on.</p>\n\n<p>This controller displays the <code>SystemErrorReport</code>, and defines the type to be the <code>SystemErrorReportCommand</code>.</p>\n\n<pre><code>public class SystemErrorReportController extends\n    GenericSearchAndSelectController&lt;SystemErrorReportCommand&gt; {\n</code></pre>\n\n<p>The problem is that <code>SystemErrorReportCommand</code>, being passed as a type, needs to have a manual declaration of itself in its constructor, like so:</p>\n\n<pre><code>public SystemErrorReportCommand()\n{\n    super(SystemErrorReport.class);\n}\n</code></pre>\n\n<p>The command object is later passed to something that needs to know its explicit type.  Without specifying it manually somewhere, it comes back as <code>GenericCommand</code>, another class of ours, because the <code>SystemErrorReportCommand</code> bit is lost after compile time.</p>\n\n<p>I'm not thrilled with that, because it seems like something we can farther automate to reduce developer error.  Is there a more elegant way to do this, or am I stuck with this because of type erasure?</p>\n"},{"tags":["java","android","grpc","illegalstateexception","clarifai"],"answers":[{"tags":[],"owner":{"account_id":10680689,"reputation":316,"user_id":7862874,"display_name":"Jeremy Faret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678886288,"creation_date":1678886288,"answer_id":75745269,"question_id":75741862,"body_markdown":"you can try installing [conscrypt][1] to provide TLS support.\r\n\r\nThen, you can try updating your ClarifaiTask with:\r\n\r\n    static {\r\n        Security.insertProviderAt(Conscrypt.newProvider(), 1);\r\n    }\r\nBefore you&#39;re calling the stub.\r\n\r\n  [1]: https://github.com/google/conscrypt\r\n","title":"ClarifaiChannel.INSTANCE.getGrpcChannel() throwing IllegalStateException: Could not find TLS ALPN provider","body":"<p>you can try installing <a href=\"https://github.com/google/conscrypt\" rel=\"nofollow noreferrer\">conscrypt</a> to provide TLS support.</p>\n<p>Then, you can try updating your ClarifaiTask with:</p>\n<pre><code>static {\n    Security.insertProviderAt(Conscrypt.newProvider(), 1);\n}\n</code></pre>\n<p>Before you're calling the stub.</p>\n"}],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75745269,"answer_count":1,"score":1,"last_activity_date":1679026294,"creation_date":1678866894,"question_id":75741862,"body_markdown":"I am trying to use Clarifai to predict images in an Android app. I am using the Clarifai gRPC Java client. However, I am getting an IllegalStateException saying &#39;Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available&#39;. I am using Java 11, Clarifai gRPC 8.0.0.\r\n\r\nBelow is my code:\r\n\r\n```\r\npublic class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\r\n\r\n    protected Boolean doInBackground(File... images) {\r\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\r\n\r\n\r\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\r\n\r\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\r\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\r\n        }\r\n\r\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\r\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\r\n        }\r\n\r\n        return true;\r\n    }\r\n    \r\n    protected void onPostExecute(Boolean result) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.package.name, PID: 25874\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n     Caused by: java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\r\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:246)\r\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:146)\r\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.forClient(GrpcSslContexts.java:95)\r\n        at com.clarifai.channel.ClarifaiChannel.getGrpcChannel(ClarifaiChannel.java:37)\r\n        at com.clarifai.channel.ClarifaiChannel.getGrpcChannel(ClarifaiChannel.java:28)\r\n        at com.dinuxsoft.somethingg.ClarifaiTask.doInBackground(ClarifaiTask.java:41)\r\n        at com.dinuxsoft.somethingg.ClarifaiTask.doInBackground(ClarifaiTask.java:34)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)&#160;\r\n        at java.lang.Thread.run(Thread.java:1012)&#160;\r\n```\r\nAny help is appreciated.\r\n","title":"ClarifaiChannel.INSTANCE.getGrpcChannel() throwing IllegalStateException: Could not find TLS ALPN provider","body":"<p>I am trying to use Clarifai to predict images in an Android app. I am using the Clarifai gRPC Java client. However, I am getting an IllegalStateException saying 'Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available'. I am using Java 11, Clarifai gRPC 8.0.0.</p>\n<p>Below is my code:</p>\n<pre><code>public class ClarifaiTask extends AsyncTask&lt;File, Integer, Boolean&gt; {\n\n    protected Boolean doInBackground(File... images) {\n        V2Grpc.V2BlockingStub stub = V2Grpc.newBlockingStub(ClarifaiChannel.INSTANCE.getGrpcChannel()).withCallCredentials(new ClarifaiCallCredentials(API_KEY));\n\n\n        MultiOutputResponse response = stub.postModelOutputs(PostModelOutputsRequest.newBuilder().setModelId(MODEL_ID).addInputs(Input.newBuilder().setData(Data.newBuilder().setImage(Image.newBuilder().setUrl(IMG_URL)))).build());\n\n        if (response.getStatus().getCode() != StatusCode.SUCCESS) {\n            throw new RuntimeException(&quot;Request failed, status: &quot; + response.getStatus());\n        }\n\n        for (Concept c : response.getOutputs(0).getData().getConceptsList()) {\n            System.out.println(String.format(&quot;%12s: %,.2f&quot;, c.getName(), c.getValue()));\n        }\n\n        return true;\n    }\n    \n    protected void onPostExecute(Boolean result) {\n\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.package.name, PID: 25874\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:250)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:269)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n        at java.lang.Thread.run(Thread.java:1012)\n     Caused by: java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:246)\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:146)\n        at io.grpc.netty.shaded.io.grpc.netty.GrpcSslContexts.forClient(GrpcSslContexts.java:95)\n        at com.clarifai.channel.ClarifaiChannel.getGrpcChannel(ClarifaiChannel.java:37)\n        at com.clarifai.channel.ClarifaiChannel.getGrpcChannel(ClarifaiChannel.java:28)\n        at com.dinuxsoft.somethingg.ClarifaiTask.doInBackground(ClarifaiTask.java:41)\n        at com.dinuxsoft.somethingg.ClarifaiTask.doInBackground(ClarifaiTask.java:34)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637) \n        at java.lang.Thread.run(Thread.java:1012) \n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","angular","spring-boot","spring-websocket","stompjs"],"answers":[{"tags":[],"owner":{"account_id":18149245,"reputation":48,"user_id":13202207,"display_name":"Giang Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679025965,"creation_date":1679025965,"answer_id":75763678,"question_id":75763423,"body_markdown":"As the error said so I think you have to set configuration.setAllowCredentials(true);","title":"CORS issue when working with spring sercurity and websocket with stompjs and sockjs-client","body":"<p>As the error said so I think you have to set configuration.setAllowCredentials(true);</p>\n"}],"owner":{"account_id":28038303,"reputation":11,"user_id":21416282,"display_name":"Tuan Le Anh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75763678,"answer_count":1,"score":0,"last_activity_date":1679025965,"creation_date":1679022339,"question_id":75763423,"body_markdown":"It is an error when I want to add websocket into my web.\r\n\r\nThis is my WebSocketConfig\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/socket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/message&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is my Spring SercurityConfig\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\r\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\r\n        \r\n        http.csrf().disable().cors().configurationSource(request -&gt; {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n            configuration.addAllowedHeader(&quot;*&quot;);\r\n            return configuration;\r\n        }).and()\r\n        // .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n        // .authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;, &quot;/api/user/save/**&quot;,&quot;/socket/**&quot;, &quot;/socket/**&quot;).permitAll().and()\r\n        //         .authorizeHttpRequests().antMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;).and()\r\n        //         .authorizeHttpRequests().antMatchers(HttpMethod.GET, &quot;/api/posts/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;).and()\r\n        // .authorizeHttpRequests().anyRequest().authenticated().and()\r\n        .authorizeRequests().anyRequest().permitAll().and()\r\n        .addFilter(customAuthenticationFilter)\r\n        .addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nThis is my CustomAuthorizationFilter\r\n```\r\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n        } else {\r\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n\r\n                    String username = decodedJWT.getSubject();\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    \r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                    Arrays.stream(roles).forEach(role -&gt; {\r\n                        authorities.add(new SimpleGrantedAuthority(role));\r\n                    });\r\n\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                            username, null, authorities);\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n\r\n                    filterChain.doFilter(request, response);\r\n                } catch (Exception exception) {\r\n                    log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\r\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\r\n                    response.setStatus(FORBIDDEN.value());\r\n\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error_message&quot;, exception.getMessage());\r\n                    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                }\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd interceptor token and service I use to connect socket socket in angular\r\n```\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n\r\n\tconstructor(private auth: AuthService, private router: Router) { }\r\n\r\n\tintercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; | any {\r\n\t\tconst myToken = this.auth.getToken();\r\n\r\n\t\tif (myToken) {\r\n\t\t\trequest = request.clone({\r\n\t\t\t\tsetHeaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${myToken}`\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn next.handle(request).pipe(\r\n\t\t\tcatchError((err: any) =&gt; {\r\n\t\t\t\tif (err instanceof HttpErrorResponse) {\r\n\t\t\t\t\tif (err.status === 401) {\r\n\t\t\t\t\t\treturn this.handleUnAuthorizedError(request, next)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn throwError(() =&gt; new Error(&quot;Some other error occured&quot;))\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\thandleUnAuthorizedError(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\r\n\t\tlet tokenApiModel = new TokenApiModel();\r\n\t\ttokenApiModel.access_token = this.auth.getToken()!;\r\n\t\ttokenApiModel.refresh_token = this.auth.getRefreshToken()!;\r\n\t\treturn this.auth.renewToken(tokenApiModel)\r\n\t\t\t.pipe(\r\n\t\t\t\tswitchMap((data: TokenApiModel) =&gt; {\r\n\t\t\t\t\tthis.auth.storeRefreshToken(data.refresh_token)\r\n\t\t\t\t\tthis.auth.storeToken(data.access_token)\r\n\t\t\t\t\treq = req.clone({\r\n\t\t\t\t\t\tsetHeaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${data.access_token}`\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\twithCredentials: false\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn next.handle(req)\r\n\t\t\t\t}),\r\n\t\t\t\tcatchError((err) =&gt; {\r\n\t\t\t\t\treturn throwError(() =&gt; {\r\n\t\t\t\t\t\talert(&quot;Token is expired, login again&quot;)\r\n\t\t\t\t\t\tthis.router.navigate([&quot;login&quot;])\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class SocketService {\r\n  public stompClient: any;\r\n  public msg: Array&lt;any&gt; = [];\r\n\r\n  constructor() {\r\n    const serverUrl = &#39;http://localhost:8080/socket&#39;;\r\n    const ws = new SockJS(serverUrl);\r\n    this.stompClient = Stomp.over(ws);\r\n  }\r\n\r\n  initializeWebSocketConnection() {\r\n    const that = this;\r\n    console.log(this.stompClient); // It work until here \r\n\r\n    this.stompClient.connect({}, function (frame: any) {\r\n      that.stompClient.subscribe(&#39;/message&#39;, (message: any) =&gt; {\r\n        console.log(message);\r\n        if (message.body) {\r\n\r\n          that.msg.push(message.body);\r\n        }\r\n      });\r\n      that.stompClient.subscribe(&#39;/messages&#39;, (message: any) =&gt; {\r\n        console.log(message);\r\n        if (message.body) {\r\n\r\n          that.msg.push(message.body);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  sendMessage(message: any) {\r\n    this.stompClient.send(&#39;/app/send/message&#39;, {}, message);\r\n  }\r\n}\r\n```\r\n\r\nThis is logger error\r\n[error](https://i.stack.imgur.com/BHJOK.png)\r\n\r\n\r\nI think that it is maybe a conflict of spring security and websocket config","title":"CORS issue when working with spring sercurity and websocket with stompjs and sockjs-client","body":"<p>It is an error when I want to add websocket into my web.</p>\n<p>This is my WebSocketConfig</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/socket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/message&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n}\n</code></pre>\n<p>This is my Spring SercurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/login&quot;);\n        \n        http.csrf().disable().cors().configurationSource(request -&gt; {\n            CorsConfiguration configuration = new CorsConfiguration();\n            configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n            configuration.addAllowedHeader(&quot;*&quot;);\n            return configuration;\n        }).and()\n        // .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n        // .authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;, &quot;/api/user/save/**&quot;,&quot;/socket/**&quot;, &quot;/socket/**&quot;).permitAll().and()\n        //         .authorizeHttpRequests().antMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;).and()\n        //         .authorizeHttpRequests().antMatchers(HttpMethod.GET, &quot;/api/posts/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;).and()\n        // .authorizeHttpRequests().anyRequest().authenticated().and()\n        .authorizeRequests().anyRequest().permitAll().and()\n        .addFilter(customAuthenticationFilter)\n        .addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>This is my CustomAuthorizationFilter</p>\n<pre><code>public class CustomAuthorizationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh&quot;)) {\n            filterChain.doFilter(request, response);\n        } else {\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    \n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    Arrays.stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(role));\n                    });\n\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                            username, null, authorities);\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n\n                    filterChain.doFilter(request, response);\n                } catch (Exception exception) {\n                    log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\n                    response.setStatus(FORBIDDEN.value());\n\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, exception.getMessage());\n                    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n            } else {\n                filterChain.doFilter(request, response);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>And interceptor token and service I use to connect socket socket in angular</p>\n<pre><code>@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n    constructor(private auth: AuthService, private router: Router) { }\n\n    intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; | any {\n        const myToken = this.auth.getToken();\n\n        if (myToken) {\n            request = request.clone({\n                setHeaders: {\n                    Authorization: `Bearer ${myToken}`\n                },\n            });\n        }\n\n        return next.handle(request).pipe(\n            catchError((err: any) =&gt; {\n                if (err instanceof HttpErrorResponse) {\n                    if (err.status === 401) {\n                        return this.handleUnAuthorizedError(request, next)\n                    }\n                }\n                return throwError(() =&gt; new Error(&quot;Some other error occured&quot;))\n            })\n        );\n    }\n\n    handleUnAuthorizedError(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n        let tokenApiModel = new TokenApiModel();\n        tokenApiModel.access_token = this.auth.getToken()!;\n        tokenApiModel.refresh_token = this.auth.getRefreshToken()!;\n        return this.auth.renewToken(tokenApiModel)\n            .pipe(\n                switchMap((data: TokenApiModel) =&gt; {\n                    this.auth.storeRefreshToken(data.refresh_token)\n                    this.auth.storeToken(data.access_token)\n                    req = req.clone({\n                        setHeaders: {\n                            Authorization: `Bearer ${data.access_token}`\n                        },\n                        withCredentials: false\n                    });\n                    return next.handle(req)\n                }),\n                catchError((err) =&gt; {\n                    return throwError(() =&gt; {\n                        alert(&quot;Token is expired, login again&quot;)\n                        this.router.navigate([&quot;login&quot;])\n                    })\n                })\n            )\n    }\n}\n</code></pre>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  public stompClient: any;\n  public msg: Array&lt;any&gt; = [];\n\n  constructor() {\n    const serverUrl = 'http://localhost:8080/socket';\n    const ws = new SockJS(serverUrl);\n    this.stompClient = Stomp.over(ws);\n  }\n\n  initializeWebSocketConnection() {\n    const that = this;\n    console.log(this.stompClient); // It work until here \n\n    this.stompClient.connect({}, function (frame: any) {\n      that.stompClient.subscribe('/message', (message: any) =&gt; {\n        console.log(message);\n        if (message.body) {\n\n          that.msg.push(message.body);\n        }\n      });\n      that.stompClient.subscribe('/messages', (message: any) =&gt; {\n        console.log(message);\n        if (message.body) {\n\n          that.msg.push(message.body);\n        }\n      });\n    });\n  }\n\n  sendMessage(message: any) {\n    this.stompClient.send('/app/send/message', {}, message);\n  }\n}\n</code></pre>\n<p>This is logger error\n<a href=\"https://i.stack.imgur.com/BHJOK.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>I think that it is maybe a conflict of spring security and websocket config</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","rdbms","querydsl"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679013456,"post_id":75762615,"comment_id":133649278,"body_markdown":"Have you checked to see if any of the results are duplicated or is it returning B objects that aren’t related to A?","body":"Have you checked to see if any of the results are duplicated or is it returning B objects that aren’t related to A?"},{"owner":{"account_id":22414587,"reputation":9,"user_id":16622828,"display_name":"Kangchan Song"},"score":0,"creation_date":1679016740,"post_id":75762615,"comment_id":133649664,"body_markdown":"@CalvinP. all the B&#39;s id(pk) are unique each other. and all Bs have fk related to A.","body":"@CalvinP. all the B&#39;s id(pk) are unique each other. and all Bs have fk related to A."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1679027073,"post_id":75762615,"comment_id":133650794,"body_markdown":"And what is the result of direct SQL query on database","body":"And what is the result of direct SQL query on database"}],"owner":{"account_id":22414587,"reputation":9,"user_id":16622828,"display_name":"Kangchan Song"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679025934,"creation_date":1679010664,"question_id":75762615,"body_markdown":"I have 2 Entities in a Spring Boot Project with Spring Data JPA.\r\nMost of the annotations are skipped for easy understanding.\r\n\r\nEntity A\r\n```\r\nclass A {\r\n  @OneToMany\r\n  private List&lt;B&gt; bs;\r\n}\r\n```\r\n\r\nEntity B\r\n```\r\nclass B {\r\n  //...\r\n}\r\n```\r\n\r\nand when I run sql with QueryDSL, like this\r\n```\r\nfrom(a).leftJoin(b).fetchJoin().fetchOne()\r\n```\r\n\r\nthe result of the real sql query ran on DB \r\nand the real Entity are different.\r\nLike the sql returns 10 of Bs but the A Entity has only 4 Bs.\r\nI don&#39;t have any application code filtering Bs.\r\nIs there anything I&#39;m missing?","title":"Spring Data JPA SQL results and Entity results are different","body":"<p>I have 2 Entities in a Spring Boot Project with Spring Data JPA.\nMost of the annotations are skipped for easy understanding.</p>\n<p>Entity A</p>\n<pre><code>class A {\n  @OneToMany\n  private List&lt;B&gt; bs;\n}\n</code></pre>\n<p>Entity B</p>\n<pre><code>class B {\n  //...\n}\n</code></pre>\n<p>and when I run sql with QueryDSL, like this</p>\n<pre><code>from(a).leftJoin(b).fetchJoin().fetchOne()\n</code></pre>\n<p>the result of the real sql query ran on DB\nand the real Entity are different.\nLike the sql returns 10 of Bs but the A Entity has only 4 Bs.\nI don't have any application code filtering Bs.\nIs there anything I'm missing?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17258889,"reputation":53,"user_id":12497350,"display_name":"trk"},"score":0,"creation_date":1679008097,"post_id":75762351,"comment_id":133648582,"body_markdown":"I found a possible answer on other [question](https://stackoverflow.com/a/45335127/12497350).","body":"I found a possible answer on other <a href=\"https://stackoverflow.com/a/45335127/12497350\">question</a>."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1679008149,"post_id":75762351,"comment_id":133648589,"body_markdown":"You don&#39;t know where you installed a program?","body":"You don&#39;t know where you installed a program?"}],"answers":[{"tags":[],"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679019076,"creation_date":1679018487,"answer_id":75763155,"question_id":75762351,"body_markdown":"If you don&#39;t recall installing a standalone JDK when you installed JetBrains IDEA, it&#39;s probably because you didn&#39;t actually do so.\r\n\r\nFrom the JetBrains [installation guide](https://www.jetbrains.com/help/idea/installation-guide.html#requirements):\r\n\r\n&gt; You do not need to install Java to run IntelliJ IDEA because JetBrains\r\n&gt; Runtime is bundled with the IDE (based on JRE 17). However, to develop\r\n&gt; Java applications, a standalone JDK is required.\r\n\r\nYou should double check by examining your PATH environment variable as advised in one of the comments to your question.\r\n\r\n-   Open the System Control Panel\r\n-   Click the Advanced Settings link\r\n-   Click Environment Variables\r\n-   Look for a listing for JDK or OpenJDK in the PATH variable\r\n\r\nYou can install OpenJDK anywhere, but usually you&#39;re going to find it someplace like `c:\\Program Files\\OpenJDK\\&lt;version&gt;\\` where `&lt;version&gt;` refers to whatever version of JDK you chose to install. Again, because OpenJDK is typically distributed as a ZIP archive, you can literally install it anywhere on your machine, as long as you supply the location of the `bin` directory to your PATH.\r\n\r\nWindows also includes the `where` utility which you can invoke from the command line to search for files, just in case you did install a JDK at some point and just can&#39;t remember where you put it.\r\n\r\nIf you choose not to use the JetBrains runtime, you can always [substitute](https://www.jetbrains.com/help/idea/switching-boot-jdk.html) a separately downloaded and installed version of JDK, or in your case, follow the instructions to point back to the JetBrains runtime.","title":"Location of OpenJDK in Windows 10","body":"<p>If you don't recall installing a standalone JDK when you installed JetBrains IDEA, it's probably because you didn't actually do so.</p>\n<p>From the JetBrains <a href=\"https://www.jetbrains.com/help/idea/installation-guide.html#requirements\" rel=\"nofollow noreferrer\">installation guide</a>:</p>\n<blockquote>\n<p>You do not need to install Java to run IntelliJ IDEA because JetBrains\nRuntime is bundled with the IDE (based on JRE 17). However, to develop\nJava applications, a standalone JDK is required.</p>\n</blockquote>\n<p>You should double check by examining your PATH environment variable as advised in one of the comments to your question.</p>\n<ul>\n<li>Open the System Control Panel</li>\n<li>Click the Advanced Settings link</li>\n<li>Click Environment Variables</li>\n<li>Look for a listing for JDK or OpenJDK in the PATH variable</li>\n</ul>\n<p>You can install OpenJDK anywhere, but usually you're going to find it someplace like <code>c:\\Program Files\\OpenJDK\\&lt;version&gt;\\</code> where <code>&lt;version&gt;</code> refers to whatever version of JDK you chose to install. Again, because OpenJDK is typically distributed as a ZIP archive, you can literally install it anywhere on your machine, as long as you supply the location of the <code>bin</code> directory to your PATH.</p>\n<p>Windows also includes the <code>where</code> utility which you can invoke from the command line to search for files, just in case you did install a JDK at some point and just can't remember where you put it.</p>\n<p>If you choose not to use the JetBrains runtime, you can always <a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"nofollow noreferrer\">substitute</a> a separately downloaded and installed version of JDK, or in your case, follow the instructions to point back to the JetBrains runtime.</p>\n"},{"tags":[],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679019619,"creation_date":1679019085,"answer_id":75763193,"question_id":75762351,"body_markdown":"First of all, would you mind looking at **Run&gt;Edit Configuration**. You should able to locate installed jdk over there. For my case...\r\n[![enter image description here][1]][1]\r\n\r\nIf you are using msi or exe to install your jdk, you should able to find it in **Control Panel\\Programs\\Programs and Features**. Find the version of it and install the installer again from openjdk and if it exist in your computer, it should have the option to remove or repair.\r\n\r\nExtra: I don&#39;t know which company openjdk you installed. For example, if you use redhat, the default location is **C:\\Program Files\\RedHat\\xxx**. Also by re-downloading any version of openjdk from the source, you should able to get hints what is the default location of the openjdk.\r\n\r\nTo make sure you installed your openjdk and configured JAVA_HOME, you can go cmd and type &quot;java --version&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g2Tk2.png\r\n  [2]: https://i.stack.imgur.com/CRtjJ.png","title":"Location of OpenJDK in Windows 10","body":"<p>First of all, would you mind looking at <strong>Run&gt;Edit Configuration</strong>. You should able to locate installed jdk over there. For my case...\n<a href=\"https://i.stack.imgur.com/g2Tk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g2Tk2.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are using msi or exe to install your jdk, you should able to find it in <strong>Control Panel\\Programs\\Programs and Features</strong>. Find the version of it and install the installer again from openjdk and if it exist in your computer, it should have the option to remove or repair.</p>\n<p>Extra: I don't know which company openjdk you installed. For example, if you use redhat, the default location is <strong>C:\\Program Files\\RedHat\\xxx</strong>. Also by re-downloading any version of openjdk from the source, you should able to get hints what is the default location of the openjdk.</p>\n<p>To make sure you installed your openjdk and configured JAVA_HOME, you can go cmd and type &quot;java --version&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/CRtjJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRtjJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20347862,"reputation":1,"user_id":21414877,"display_name":"Nataly Mota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1679025722,"creation_date":1679007390,"question_id":75762351,"body_markdown":"I just upgraded IntelliJ IDEA Community edition; but now it cannot find the location of my OpenJDK in order to use it to compile; and it&#39;s asking me to point it (the Integrated Development Environment) to it by showing it exactly what folder it is installed on. Yet, I cannot find that folder. I don&#39;t know which one it is. Can anyone help me with that, please?\r\n\r\nI tried browsing the folders &quot;Program Files,&quot; &quot;Program Files (x86),&quot; &quot;Windows&quot; and &quot;Users&quot; for it as well as searching file explorer for it; although nothing came up. Yet, I know it is installed an VS Code uses it to compile Java. I was expecting to find a folder called either &quot;OpenJDK&quot; or &quot;JDK,&quot; but did not find either.\r\n\r\nI would really appreciate it!\r\n\r\nSincerely,\r\n\r\n\r\nNataly","title":"Location of OpenJDK in Windows 10","body":"<p>I just upgraded IntelliJ IDEA Community edition; but now it cannot find the location of my OpenJDK in order to use it to compile; and it's asking me to point it (the Integrated Development Environment) to it by showing it exactly what folder it is installed on. Yet, I cannot find that folder. I don't know which one it is. Can anyone help me with that, please?</p>\n<p>I tried browsing the folders &quot;Program Files,&quot; &quot;Program Files (x86),&quot; &quot;Windows&quot; and &quot;Users&quot; for it as well as searching file explorer for it; although nothing came up. Yet, I know it is installed an VS Code uses it to compile Java. I was expecting to find a folder called either &quot;OpenJDK&quot; or &quot;JDK,&quot; but did not find either.</p>\n<p>I would really appreciate it!</p>\n<p>Sincerely,</p>\n<p>Nataly</p>\n"},{"tags":["java","spring","spring-mvc","weblogic"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1591690877,"post_id":62277044,"comment_id":110143609,"body_markdown":"Does this answer your question? [javax.servlet.jsp.JspTagException: No message found under code &#39;errors.contact.sysadmin.msg&#39; for locale &#39;en\\_US&#39;.\\]](https://stackoverflow.com/questions/29081844/javax-servlet-jsp-jsptagexception-no-message-found-under-code-errors-contact-s)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29081844/javax-servlet-jsp-jsptagexception-no-message-found-under-code-errors-contact-s\">javax.servlet.jsp.JspTagException: No message found under code &#39;errors.contact.sysadmin.msg&#39; for locale &#39;en_US&#39;.&#93;</a>"},{"owner":{"account_id":3895538,"reputation":517,"user_id":3224680,"accept_rate":50,"display_name":"r-developer"},"score":1,"creation_date":1591694518,"post_id":62277044,"comment_id":110145526,"body_markdown":"@AnishB. I already checked this but this didnt help. but I have one doubt, i saw in out application there is no messageSource bean is defined. this might cause this issue ?\nbut this is working fine in Spring 4","body":"@AnishB. I already checked this but this didnt help. but I have one doubt, i saw in out application there is no messageSource bean is defined. this might cause this issue ? but this is working fine in Spring 4"}],"answers":[{"tags":[],"owner":{"account_id":26654459,"reputation":3,"user_id":20268210,"display_name":"Cold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679025686,"creation_date":1679025596,"answer_id":75763649,"question_id":62277044,"body_markdown":"I had the same issue. \r\nThat is how I resolved it:\r\n\r\nI had the following tag: &lt;spring:message var=&quot;variable&quot;/&gt;\r\n\r\nchecking the source code of MessageTag here: \r\n\r\n &lt;http://www.java2s.com/example/java-src/pkg/org/springframework/web/servlet/tags/messagetag-d6db3.html&gt;\r\n\r\nI was able to see what was triggering the exception, I had no code, text or message set up: \r\n\r\n[Method of the MessageTag class that was triggering the exception][1]\r\n\r\nSo I changed my tag to:\r\n\r\n&lt;spring:message text=&quot;${variable}&quot;/&gt;\r\n\r\nAnd it worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KXKEZ.png","title":"JspTagException: No resolvable message -- Weblogic 12.2 and Spring 5","body":"<p>I had the same issue.\nThat is how I resolved it:</p>\n<p>I had the following tag: &lt;spring:message var=&quot;variable&quot;/&gt;</p>\n<p>checking the source code of MessageTag here:</p>\n<p><a href=\"http://www.java2s.com/example/java-src/pkg/org/springframework/web/servlet/tags/messagetag-d6db3.html\" rel=\"nofollow noreferrer\">http://www.java2s.com/example/java-src/pkg/org/springframework/web/servlet/tags/messagetag-d6db3.html</a></p>\n<p>I was able to see what was triggering the exception, I had no code, text or message set up:</p>\n<p><a href=\"https://i.stack.imgur.com/KXKEZ.png\" rel=\"nofollow noreferrer\">Method of the MessageTag class that was triggering the exception</a></p>\n<p>So I changed my tag to:</p>\n<p>&lt;spring:message text=&quot;${variable}&quot;/&gt;</p>\n<p>And it worked.</p>\n"}],"owner":{"account_id":3895538,"reputation":517,"user_id":3224680,"accept_rate":50,"display_name":"r-developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679025686,"creation_date":1591686919,"question_id":62277044,"body_markdown":"We are trying to upgrade our application from Spring 4 to Spring 5 (5.2.6).\r\n\r\nAs part of this change we have replaced all the jars build the application and deployed in WebLogic Server.\r\n\r\nBut while access a specific jsp page I am getting the below exception but I am not getting why and how to resolve it.\r\n\r\n    &lt;ERROR&gt; &lt;HTTP&gt; &lt;BEA-101017&gt; &lt;ServletContext@234560000[app:ticketapp module:/ path:null spec-version:3.1]] Root cause of ServletException&gt;\r\n    javax.servlet.jsp.JspTagException: No resolvable message\r\n    at org.spingframework.web.servlet.tags.MessageTag.resolveMessage(MessageTag.java:338)\r\n    at org.spingframework.web.servlet.tags.MessageTag.doEndTag(MessageTag.java:274)\r\n    at jsp_servlet._ticketprocessing.__ticketdetails._jsp_tag0(_ticketdetails.java:544)\r\n    at jsp_servlet._ticketprocessing.__ticketdetails._jspService(_ticketdetails.java:330)\r\n    at weblogic.servlet.jsp.JspBase.serviceInternal(JspBase.java:35)\r\n\r\nHow to fix this issue ?","title":"JspTagException: No resolvable message -- Weblogic 12.2 and Spring 5","body":"<p>We are trying to upgrade our application from Spring 4 to Spring 5 (5.2.6).</p>\n\n<p>As part of this change we have replaced all the jars build the application and deployed in WebLogic Server.</p>\n\n<p>But while access a specific jsp page I am getting the below exception but I am not getting why and how to resolve it.</p>\n\n<pre><code>&lt;ERROR&gt; &lt;HTTP&gt; &lt;BEA-101017&gt; &lt;ServletContext@234560000[app:ticketapp module:/ path:null spec-version:3.1]] Root cause of ServletException&gt;\njavax.servlet.jsp.JspTagException: No resolvable message\nat org.spingframework.web.servlet.tags.MessageTag.resolveMessage(MessageTag.java:338)\nat org.spingframework.web.servlet.tags.MessageTag.doEndTag(MessageTag.java:274)\nat jsp_servlet._ticketprocessing.__ticketdetails._jsp_tag0(_ticketdetails.java:544)\nat jsp_servlet._ticketprocessing.__ticketdetails._jspService(_ticketdetails.java:330)\nat weblogic.servlet.jsp.JspBase.serviceInternal(JspBase.java:35)\n</code></pre>\n\n<p>How to fix this issue ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679016435,"post_id":75762942,"comment_id":133649627,"body_markdown":"Looks like a bug in the java compiler. It should either produce a compiler error or produce a valid class file, and never produce an invalid class file like it did here. I&#39;d suggest making a [mcve] first - something that I can copy and paste into my IDE and reproduce the problem.","body":"Looks like a bug in the java compiler. It should either produce a compiler error or produce a valid class file, and never produce an invalid class file like it did here. I&#39;d suggest making a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> first - something that I can copy and paste into my IDE and reproduce the problem."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679016602,"post_id":75762942,"comment_id":133649652,"body_markdown":"From the looks of it, it seems like it might be getting stuck on the giant switch statement you wrote. Perhaps changing it to the old style (C-like) switch statement might help.","body":"From the looks of it, it seems like it might be getting stuck on the giant switch statement you wrote. Perhaps changing it to the old style (C-like) switch statement might help."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679016854,"post_id":75762942,"comment_id":133649673,"body_markdown":"Also, include which compiler you are using in the question. If you are using the eclipse compiler, try compiling it with javac, and vice versa.","body":"Also, include which compiler you are using in the question. If you are using the eclipse compiler, try compiling it with javac, and vice versa."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679017238,"post_id":75762942,"comment_id":133649716,"body_markdown":"Found [this](https://stackoverflow.com/q/69197046/5133585) which seems similar. If you are using Eclipse, please update.","body":"Found <a href=\"https://stackoverflow.com/q/69197046/5133585\">this</a> which seems similar. If you are using Eclipse, please update."},{"owner":{"account_id":28037678,"reputation":1,"user_id":21415765,"display_name":"andykasen13"},"score":0,"creation_date":1679667691,"post_id":75762942,"comment_id":133767135,"body_markdown":"I&#39;m using VS Code. This works in IntelliJ IDEA, but I find VS Code to be much cleaner. I&#39;ve tried moving this code to a different computer running a different JDK and ran into the same issue.","body":"I&#39;m using VS Code. This works in IntelliJ IDEA, but I find VS Code to be much cleaner. I&#39;ve tried moving this code to a different computer running a different JDK and ran into the same issue."},{"owner":{"account_id":28037678,"reputation":1,"user_id":21415765,"display_name":"andykasen13"},"score":0,"creation_date":1679669302,"post_id":75762942,"comment_id":133767651,"body_markdown":"I turned it into an old-style switch statement and nothing changed:\nhttps://drive.google.com/file/d/1OYw9T2AHfxoEyRR6BahjAqEA__L0UcFX/view?usp=sharing","body":"I turned it into an old-style switch statement and nothing changed: <a href=\"https://drive.google.com/file/d/1OYw9T2AHfxoEyRR6BahjAqEA__L0UcFX/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1OYw9T2AHfxoEyRR6BahjAqEA__L0UcFX/&hellip;</a>"}],"owner":{"account_id":28037678,"reputation":1,"user_id":21415765,"display_name":"andykasen13"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679025577,"creation_date":1679015309,"question_id":75762942,"body_markdown":"I&#39;m trying to write some code for my Programming Languages class and I keep getting this &#39;Bad type on operand stack&#39; java.lang.VerifyError error. This is happening in my Lexer class.\r\n\r\nI honestly have no idea what this error means. Do I need a new JDK? I&#39;m using JavaSE-17. \r\n\r\nHere is my output:\r\n\r\n```\r\nRunning /Users/user/OneDrive/Documents/ALLOFMYCODE/Programming-Languages-main/My Language/testInput/comments.mariokart...\r\nException in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    MarioKart/LexicalAnalysis/Lexer.getNextLexeme()LMarioKart/LexicalAnalysis/Lexeme; @620: invokespecial\r\n  Reason:\r\n    Type &#39;java/lang/Object&#39; (current frame, stack[3]) is not assignable to &#39;MarioKart/LexicalAnalysis/Type&#39;\r\n  Current Frame:\r\n    bci: @620\r\n    flags: { }\r\n    locals: { &#39;MarioKart/LexicalAnalysis/Lexer&#39;, integer }\r\n    stack: { uninitialized 594, uninitialized 594, integer, &#39;java/lang/Object&#39; }\r\n  Bytecode:\r\n    0000000: 2ab6 015e 3c1b ab00 0000 02c4 0000 0018\r\n    0000010: 0000 0009 0000 00ca 0000 000a 0000 00ca\r\n    0000020: 0000 000d 0000 00ca 0000 0020 0000 00ca\r\n    0000030: 0000 0021 0000 0153 0000 0022 0000 0162\r\n    0000040: 0000 0026 0000 0167 0000 0028 0000 00ea\r\n    0000050: 0000 0029 0000 00f9 0000 002a 0000 02a6\r\n    0000060: 0000 002b 0000 0197 0000 002c 0000 0144\r\n    0000070: 0000 002d 0000 01d6 0000 002e 0000 0135\r\n    0000080: 0000 002f 0000 0215 0000 003b 0000 0126\r\n    0000090: 0000 003c 0000 026a 0000 003d 0000 0288\r\n    00000a0: 0000 003e 0000 024c 0000 005b 0000 00cc\r\n    00000b0: 0000 005d 0000 00db 0000 007b 0000 0108\r\n    00000c0: 0000 007c 0000 017f 0000 007d 0000 0117\r\n    00000d0: 01b0 bb01 5459 2ab4 0119 b201 60b7 0159\r\n    00000e0: b0bb 0154 592a b401 19b2 0163 b701 59b0\r\n    00000f0: bb01 5459 2ab4 0119 b201 66b7 0159 b0bb\r\n    0000100: 0154 592a b401 19b2 0169 b701 59b0 bb01\r\n    0000110: 5459 2ab4 0119 b201 6cb7 0159 b0bb 0154\r\n    0000120: 592a b401 19b2 016f b701 59b0 bb01 5459\r\n    0000130: 2ab4 0119 b201 72b7 0159 b0bb 0154 592a\r\n    0000140: b401 19b2 0175 b701 59b0 bb01 5459 2ab4\r\n    0000150: 0119 b201 78b7 0159 b0bb 0154 592a b401\r\n    0000160: 19b2 00c5 b701 59b0 2ab6 017b b02a 1026\r\n    0000170: b601 7e99 0174 bb01 5459 2ab4 0119 b200\r\n    0000180: e8b7 0159 b02a 107c b601 7e99 015c bb01\r\n    0000190: 5459 2ab4 0119 b200 edb7 0159 b02a 102b\r\n    00001a0: b601 7e99 0012 bb01 5459 2ab4 0119 b200\r\n    00001b0: bbb7 0159 b02a 103d b601 7e99 0012 bb01\r\n    00001c0: 5459 2ab4 0119 b200 a7b7 0159 b0bb 0154\r\n    00001d0: 592a b401 19b2 0093 b701 59b0 2a10 2db6\r\n    00001e0: 017e 9900 12bb 0154 592a b401 19b2 00c0\r\n    00001f0: b701 59b0 2a10 3db6 017e 9900 12bb 0154\r\n    0000200: 592a b401 19b2 00a7 b701 59b0 bb01 5459\r\n    0000210: 2ab4 0119 b200 98b7 0159 b02a 102f b601\r\n    0000220: 7e99 000a 2ab6 0180 a700 bf2a 103d b601\r\n    0000230: 7e99 0012 bb01 5459 2ab4 0119 b200 b6b7\r\n    0000240: 0159 b0bb 0154 592a b401 19b2 00a2 b701\r\n    0000250: 59b0 bb01 5459 2ab4 0119 2a10 3db6 017e\r\n    0000260: 9900 09b2 00d9 a700 06b2 00d4 b701 59b0\r\n    0000270: bb01 5459 2ab4 0119 2a10 3db6 017e 9900\r\n    0000280: 09b2 00e3 a700 06b2 00de b701 59b0 bb01\r\n    0000290: 5459 2ab4 0119 2a10 3db6 017e 9900 09b2\r\n    00002a0: 00ca a700 06b2 008e b701 59b0 bb01 5459\r\n    00002b0: 2ab4 0119 2a10 3db6 017e 9900 09b2 00b1\r\n    00002c0: a700 06b2 009d b701 59b0 2abb 0183 5913\r\n    00002d0: 0185 b701 871b b601 8913 018d b601 8fb6\r\n    00002e0: 0192 b601 9601 b001 b0\r\n  Stackmap Table:\r\n    append_frame(@208,Integer)\r\n    same_frame(@210)\r\n    same_frame(@225)\r\n    same_frame(@240)\r\n    same_frame(@255)\r\n    same_frame(@270)\r\n    same_frame(@285)\r\n    same_frame(@300)\r\n    same_frame(@315)\r\n    same_frame(@330)\r\n    same_frame(@345)\r\n    same_frame(@360)\r\n    same_frame(@365)\r\n    same_frame(@389)\r\n    same_frame(@413)\r\n    same_frame(@437)\r\n    same_frame(@461)\r\n    same_frame(@476)\r\n    same_frame(@500)\r\n    same_frame(@524)\r\n    same_frame(@539)\r\n    same_frame(@555)\r\n    same_frame(@579)\r\n    same_frame(@594)\r\n    full_frame(@617,{Object[#1],Integer},{Uninitialized[#594],Uninitialized[#594],Integer})\r\n    full_frame(@620,{Object[#1],Integer},{Uninitialized[#594],Uninitialized[#594],Integer,Object[#3]})\r\n    same_frame(@624)\r\n    full_frame(@647,{Object[#1],Integer},{Uninitialized[#624],Uninitialized[#624],Integer})\r\n    full_frame(@650,{Object[#1],Integer},{Uninitialized[#624],Uninitialized[#624],Integer,Object[#3]})\r\n    same_frame(@654)\r\n    full_frame(@677,{Object[#1],Integer},{Uninitialized[#654],Uninitialized[#654],Integer})\r\n    full_frame(@680,{Object[#1],Integer},{Uninitialized[#654],Uninitialized[#654],Integer,Object[#3]})\r\n    same_frame(@684)\r\n    full_frame(@707,{Object[#1],Integer},{Uninitialized[#684],Uninitialized[#684],Integer})\r\n    full_frame(@710,{Object[#1],Integer},{Uninitialized[#684],Uninitialized[#684],Integer,Object[#3]})\r\n    same_frame(@714)\r\n    same_frame(@743)\r\n\r\n        at MarioKart.MarioKart.runFile(MarioKart.java:36)\r\n        at MarioKart.MarioKart.main(MarioKart.java:15)\r\n```\r\n\r\nAnd here is my code:\r\n\r\n```\r\npackage MarioKart.LexicalAnalysis;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nimport MarioKart.MarioKart;\r\nimport static MarioKart.LexicalAnalysis.Type.*;\r\n\r\npublic class Lexer {\r\n    //--------------------- Instance Variables ----------------------\r\n    private final String source;\r\n    private final ArrayList&lt;Lexeme&gt; lexemes = new ArrayList&lt;&gt;();\r\n    \r\n    private int currentPosition = 0;\r\n    private int startOfCurrentLexeme = 0;\r\n    private int lineNumber = 1;\r\n    private final HashMap&lt;String, Type&gt; keywords;\r\n\r\n\r\n    //--------------------- getKeywords() ---------------------------\r\n    private HashMap&lt;String, Type&gt; getKeywords() {\r\n        HashMap&lt;String, Type&gt; keywords = new HashMap&lt;&gt;();\r\n\r\n        keywords.put(&quot;requires&quot;, REQUIRES);\r\n        keywords.put(&quot;summon&quot;, SUMMON);\r\n        keywords.put(&quot;using&quot;, USING);\r\n        keywords.put(&quot;garage&quot;, GARAGE);\r\n        keywords.put(&quot;from&quot;, FROM);\r\n        keywords.put(&quot;to&quot;, TO);\r\n        keywords.put(&quot;return&quot;, RETURN);\r\n        keywords.put(&quot;timeTrial&quot;, TIMETRIAL);\r\n\r\n        keywords.put(&quot;first&quot;, FIRST);\r\n        keywords.put(&quot;second&quot;, SECOND);\r\n        keywords.put(&quot;third&quot;, THIRD);\r\n        keywords.put(&quot;fourth&quot;, FOURTH);\r\n        keywords.put(&quot;fifth&quot;, FIFTH);\r\n        keywords.put(&quot;sixth&quot;, SIXTH);\r\n        keywords.put(&quot;seventh&quot;, SEVENTH);\r\n        keywords.put(&quot;eighth&quot;, EIGHTH);\r\n        keywords.put(&quot;ninth&quot;, NINTH);\r\n        keywords.put(&quot;tenth&quot;, TENTH);\r\n        keywords.put(&quot;eleventh&quot;, ELEVENTH);\r\n        keywords.put(&quot;twelfth&quot;, TWELFTH);\r\n        keywords.put(&quot;last&quot;, LAST);\r\n\r\n        keywords.put(&quot;tiesWith&quot;, EQUALS);\r\n        keywords.put(&quot;boost&quot;, PLUS);\r\n        keywords.put(&quot;slip&quot;, MINUS);\r\n        keywords.put(&quot;superStar&quot;, TIMES);\r\n        keywords.put(&quot;blueShell&quot;, DIVIDED_BY);\r\n        keywords.put(&quot;multiMushroom&quot;, PLUS_EQUALS);\r\n        keywords.put(&quot;redShell&quot;, MINUS_EQUALS);\r\n        keywords.put(&quot;goldenMushroom&quot;, TIMES_EQUALS);\r\n        keywords.put(&quot;fallOffTheMap&quot;, DIVIDED_EQUALS);\r\n        keywords.put(&quot;overtake&quot;, PLUS_PLUS);\r\n        keywords.put(&quot;getPassed&quot;, MINUS_MINUS);\r\n        keywords.put(&quot;not&quot;, NOT);\r\n        keywords.put(&quot;isTiedWith&quot;, EQUALS_EQUALS);\r\n        keywords.put(&quot;isNotTiedWith&quot;, NOT_EQUALS);\r\n        keywords.put(&quot;isFurtherThan&quot;, GREATER_THAN);\r\n        keywords.put(&quot;isBetterThan&quot;, GREATER_THAN_OR_EQUAL_TO);\r\n        keywords.put(&quot;isBehind&quot;, LESS_THAN);\r\n        keywords.put(&quot;isWorseThan&quot;, LESS_THAN_OR_EQUAL_TO);\r\n        keywords.put(&quot;and&quot;, AND);\r\n        keywords.put(&quot;or&quot;, OR);\r\n\r\n        keywords.put(&quot;int&quot;, INT);\r\n        keywords.put(&quot;real&quot;, REAL);\r\n        keywords.put(&quot;boolean&quot;, BOOLEAN);\r\n        keywords.put(&quot;string&quot;, STRING);\r\n        keywords.put(&quot;array&quot;, ARRAY);\r\n\r\n        return keywords;\r\n    }\r\n\r\n    //---------- Constructor --------\r\n    public Lexer(String source) {\r\n        this.source = source;\r\n        this.keywords = getKeywords();\r\n        this.currentPosition = 0;\r\n        this.startOfCurrentLexeme = 0;\r\n        this.lineNumber = 1;\r\n    }\r\n\r\n    //---------------------- Helper Methods -----------------------\r\n    private boolean isAtEnd() {\r\n        return currentPosition &gt;= source.length();\r\n    }\r\n\r\n    private char peek() {\r\n        if (isAtEnd()) return &#39;\\0&#39;;\r\n        return source.charAt(currentPosition);\r\n    } \r\n    private char peekNext() {\r\n        if(currentPosition + 1 &gt;= source.length()) return &#39;\\0&#39;;\r\n        return source.charAt(currentPosition + 1);\r\n    }\r\n    \r\n    private boolean match(char expected) {\r\n        if(isAtEnd() || source.charAt(currentPosition) != expected ) return false;\r\n        currentPosition++;\r\n        return true;\r\n    } \r\n\r\n    private char advance() {\r\n        char currentChar = source.charAt(currentPosition);\r\n        if(currentChar == &#39;\\n&#39; || currentChar == &#39;\\r&#39;) lineNumber++;\r\n        currentPosition++;\r\n        return currentChar;\r\n    }\r\n\r\n    // -------------------- Supplemental Helper Methods --------------------\r\n    private boolean isDigit(char c) {\r\n        return c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;;\r\n    }\r\n\r\n    private boolean isAlpha(char c) {\r\n        return (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) ||\r\n               (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39;) ||\r\n               (c == &#39;_&#39;);\r\n    }\r\n\r\n    private boolean isAlphaNumeric(char c) {\r\n        return isAlpha(c) || isDigit(c);\r\n    }\r\n\r\n    // --------------------- Error Reporting -----------------------\r\n    private void error(String message) {\r\n        MarioKart.syntaxError(message, lineNumber);\r\n    }\r\n\r\n    //----------------------- lex() function ----------------------------\r\n    public ArrayList&lt;Lexeme&gt; lex() {\r\n        while(!isAtEnd()) {\r\n            startOfCurrentLexeme = currentPosition;\r\n            Lexeme nextLexeme = getNextLexeme();\r\n            if(nextLexeme != null) lexemes.add(nextLexeme);\r\n        }\r\n        \r\n        lexemes.add(new Lexeme(lineNumber, END_OF_FILE));\r\n        return lexemes;\r\n    }\r\n\r\n    // --------------------- lex Helper Functions ---------------------------\r\n    private Lexeme getNextLexeme() {\r\n        char c = advance();\r\n        switch(c) {\r\n            //Ignore whitespace\r\n            case &#39; &#39;, &#39;\\t&#39;, &#39;\\n&#39;, &#39;\\r&#39; -&gt; {\r\n                return null;\r\n            }\r\n            \r\n            //one digit\r\n            case &#39;[&#39; -&gt; { return new Lexeme(lineNumber, OPEN_BRACKET); }\r\n            case &#39;]&#39; -&gt; { return new Lexeme(lineNumber, CLOSED_BRACKET); }\r\n            case &#39;(&#39; -&gt; { return new Lexeme(lineNumber, OPEN_PARENTHESIS); }\r\n            case &#39;)&#39; -&gt; { return new Lexeme(lineNumber, CLOSED_PARENTHESIS); }\r\n            case &#39;{&#39; -&gt; { return new Lexeme(lineNumber, OPEN_CURLY); }\r\n            case &#39;}&#39; -&gt; { return new Lexeme(lineNumber, CLOSED_CURLY); }\r\n            case &#39;;&#39; -&gt; { return new Lexeme(lineNumber, SEMICOLON); }\r\n            case &#39;.&#39; -&gt; { return new Lexeme(lineNumber, DOT); }\r\n            case &#39;,&#39; -&gt; { return new Lexeme(lineNumber, COMMA); }\r\n            case &#39;!&#39; -&gt; { return new Lexeme(lineNumber, NOT); }\r\n            case &#39;%&#39; -&gt; { return new Lexeme(lineNumber, MOD); }\r\n            case &#39;&quot;&#39; -&gt; { return lexString(); }\r\n            case &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39; -&gt; { return lexNumber(); }\r\n\r\n            //two digits\r\n            case &#39;&amp;&#39; -&gt; { if(match(&#39;&amp;&#39;)) return new Lexeme(lineNumber, AND); }\r\n            case &#39;|&#39; -&gt; { if(match(&#39;|&#39;)) return new Lexeme(lineNumber, OR); }\r\n\r\n            //one OR two digits :(\r\n            case &#39;+&#39; -&gt; {\r\n                if(match(&#39;+&#39;)) return new Lexeme(lineNumber, PLUS_PLUS);\r\n                else if(match(&#39;=&#39;)) return new Lexeme(lineNumber, PLUS_EQUALS);\r\n                else return new Lexeme(lineNumber, PLUS);\r\n            }\r\n            case &#39;-&#39; -&gt; {\r\n                if(match(&#39;-&#39;)) return new Lexeme(lineNumber, MINUS_MINUS);\r\n                else if(match(&#39;=&#39;)) return new Lexeme(lineNumber, PLUS_EQUALS);\r\n                else return new Lexeme(lineNumber, MINUS);\r\n            }\r\n            case &#39;/&#39; -&gt; {\r\n                if(match(&#39;/&#39;)) lexComments();\r\n                else if(match(&#39;=&#39;)) return new Lexeme(lineNumber, DIVIDED_EQUALS);\r\n                else return new Lexeme(lineNumber, DIVIDED_BY);\r\n            }\r\n\r\n            //only two options\r\n            case &#39;&gt;&#39; -&gt; { return new Lexeme(lineNumber, match(&#39;=&#39;) ? GREATER_THAN_OR_EQUAL_TO : GREATER_THAN); }\r\n            case &#39;&lt;&#39; -&gt; { return new Lexeme(lineNumber, match(&#39;=&#39;) ? LESS_THAN_OR_EQUAL_TO : LESS_THAN); }\r\n            case &#39;=&#39; -&gt; { return new Lexeme(lineNumber, match(&#39;=&#39;) ? EQUALS_EQUALS : EQUALS); }\r\n            case &#39;*&#39; -&gt; { return new Lexeme(lineNumber, match(&#39;=&#39;) ? TIMES_EQUALS : TIMES); }\r\n\r\n            //put NOTHING beneath these cases pls\r\n            default -&gt; {\r\n                if(isDigit(c)) return lexNumber();\r\n                else if(isAlpha(c)) return lexIdentifierOrKeyword();\r\n                else {\r\n                    error(&quot;bro what is &#39;&quot; + c + &quot;&#39;. i do not recognize it. but then again i dont recognize half of what goes on in my calc class sooooooo&quot;);\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Lexeme lexString() {\r\n        while( !(isAtEnd() || peek() == &#39;&quot;&#39;)) advance();\r\n\r\n        String str = source.substring(startOfCurrentLexeme + 1, currentPosition);\r\n\r\n        if(isAtEnd()) error(&quot;you didn&#39;t close your string :(. String: &#39;&quot; + str + &quot;&#39;&quot;);\r\n        else advance();\r\n\r\n        return new Lexeme(lineNumber, str, STRING);\r\n    }\r\n\r\n    private void lexComments() {\r\n        while( !(isAtEnd() || peek() == &#39;\\n&#39;)) advance();\r\n\r\n    }\r\n\r\n    private Lexeme lexNumber() {\r\n        boolean isInteger = true;\r\n        while(isDigit(peek())) advance();\r\n\r\n        //checking if int or real\r\n        if (peek() == &#39;.&#39;) {\r\n            isInteger = false;\r\n            if(!isDigit(peekNext())) {\r\n                String malformedReal = source.substring(startOfCurrentLexeme, currentPosition + 2);\r\n                error(&quot;that isn&#39;t a number!!! silly goose. your failure: &#39;&quot; + malformedReal + &quot;&#39;&quot;);\r\n            }\r\n            advance();\r\n            while(isDigit(peek())) advance();\r\n        }\r\n\r\n        String numberString = source.substring(startOfCurrentLexeme, currentPosition);\r\n        if(isInteger) { \r\n            int intValue = Integer.parseInt(numberString);\r\n            return new Lexeme(lineNumber, intValue, INT);\r\n        } else {\r\n            double realValue = Double.parseDouble(numberString);\r\n            return new Lexeme(lineNumber, realValue, REAL);\r\n        }\r\n\r\n    }\r\n\r\n    private Lexeme lexIdentifierOrKeyword() {\r\n        while(isAlphaNumeric(peek())) advance();\r\n\r\n        String text = source.substring(startOfCurrentLexeme, currentPosition);\r\n        Type type = keywords.get(text);\r\n\r\n        if (type == null) return new Lexeme(lineNumber, text, IDENTIFIER);\r\n\r\n        else if(type == TRUE) return new Lexeme(lineNumber, true, TRUE);\r\n        else if(type == FALSE) return new Lexeme(lineNumber, false, FALSE);\r\n\r\n        return new Lexeme(lineNumber, type);\r\n    }\r\n}\r\n```","title":"Bad type on operand stack: Creating a Language in Java and trying to use Lexer","body":"<p>I'm trying to write some code for my Programming Languages class and I keep getting this 'Bad type on operand stack' java.lang.VerifyError error. This is happening in my Lexer class.</p>\n<p>I honestly have no idea what this error means. Do I need a new JDK? I'm using JavaSE-17.</p>\n<p>Here is my output:</p>\n<pre><code>Running /Users/user/OneDrive/Documents/ALLOFMYCODE/Programming-Languages-main/My Language/testInput/comments.mariokart...\nException in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    MarioKart/LexicalAnalysis/Lexer.getNextLexeme()LMarioKart/LexicalAnalysis/Lexeme; @620: invokespecial\n  Reason:\n    Type 'java/lang/Object' (current frame, stack[3]) is not assignable to 'MarioKart/LexicalAnalysis/Type'\n  Current Frame:\n    bci: @620\n    flags: { }\n    locals: { 'MarioKart/LexicalAnalysis/Lexer', integer }\n    stack: { uninitialized 594, uninitialized 594, integer, 'java/lang/Object' }\n  Bytecode:\n    0000000: 2ab6 015e 3c1b ab00 0000 02c4 0000 0018\n    0000010: 0000 0009 0000 00ca 0000 000a 0000 00ca\n    0000020: 0000 000d 0000 00ca 0000 0020 0000 00ca\n    0000030: 0000 0021 0000 0153 0000 0022 0000 0162\n    0000040: 0000 0026 0000 0167 0000 0028 0000 00ea\n    0000050: 0000 0029 0000 00f9 0000 002a 0000 02a6\n    0000060: 0000 002b 0000 0197 0000 002c 0000 0144\n    0000070: 0000 002d 0000 01d6 0000 002e 0000 0135\n    0000080: 0000 002f 0000 0215 0000 003b 0000 0126\n    0000090: 0000 003c 0000 026a 0000 003d 0000 0288\n    00000a0: 0000 003e 0000 024c 0000 005b 0000 00cc\n    00000b0: 0000 005d 0000 00db 0000 007b 0000 0108\n    00000c0: 0000 007c 0000 017f 0000 007d 0000 0117\n    00000d0: 01b0 bb01 5459 2ab4 0119 b201 60b7 0159\n    00000e0: b0bb 0154 592a b401 19b2 0163 b701 59b0\n    00000f0: bb01 5459 2ab4 0119 b201 66b7 0159 b0bb\n    0000100: 0154 592a b401 19b2 0169 b701 59b0 bb01\n    0000110: 5459 2ab4 0119 b201 6cb7 0159 b0bb 0154\n    0000120: 592a b401 19b2 016f b701 59b0 bb01 5459\n    0000130: 2ab4 0119 b201 72b7 0159 b0bb 0154 592a\n    0000140: b401 19b2 0175 b701 59b0 bb01 5459 2ab4\n    0000150: 0119 b201 78b7 0159 b0bb 0154 592a b401\n    0000160: 19b2 00c5 b701 59b0 2ab6 017b b02a 1026\n    0000170: b601 7e99 0174 bb01 5459 2ab4 0119 b200\n    0000180: e8b7 0159 b02a 107c b601 7e99 015c bb01\n    0000190: 5459 2ab4 0119 b200 edb7 0159 b02a 102b\n    00001a0: b601 7e99 0012 bb01 5459 2ab4 0119 b200\n    00001b0: bbb7 0159 b02a 103d b601 7e99 0012 bb01\n    00001c0: 5459 2ab4 0119 b200 a7b7 0159 b0bb 0154\n    00001d0: 592a b401 19b2 0093 b701 59b0 2a10 2db6\n    00001e0: 017e 9900 12bb 0154 592a b401 19b2 00c0\n    00001f0: b701 59b0 2a10 3db6 017e 9900 12bb 0154\n    0000200: 592a b401 19b2 00a7 b701 59b0 bb01 5459\n    0000210: 2ab4 0119 b200 98b7 0159 b02a 102f b601\n    0000220: 7e99 000a 2ab6 0180 a700 bf2a 103d b601\n    0000230: 7e99 0012 bb01 5459 2ab4 0119 b200 b6b7\n    0000240: 0159 b0bb 0154 592a b401 19b2 00a2 b701\n    0000250: 59b0 bb01 5459 2ab4 0119 2a10 3db6 017e\n    0000260: 9900 09b2 00d9 a700 06b2 00d4 b701 59b0\n    0000270: bb01 5459 2ab4 0119 2a10 3db6 017e 9900\n    0000280: 09b2 00e3 a700 06b2 00de b701 59b0 bb01\n    0000290: 5459 2ab4 0119 2a10 3db6 017e 9900 09b2\n    00002a0: 00ca a700 06b2 008e b701 59b0 bb01 5459\n    00002b0: 2ab4 0119 2a10 3db6 017e 9900 09b2 00b1\n    00002c0: a700 06b2 009d b701 59b0 2abb 0183 5913\n    00002d0: 0185 b701 871b b601 8913 018d b601 8fb6\n    00002e0: 0192 b601 9601 b001 b0\n  Stackmap Table:\n    append_frame(@208,Integer)\n    same_frame(@210)\n    same_frame(@225)\n    same_frame(@240)\n    same_frame(@255)\n    same_frame(@270)\n    same_frame(@285)\n    same_frame(@300)\n    same_frame(@315)\n    same_frame(@330)\n    same_frame(@345)\n    same_frame(@360)\n    same_frame(@365)\n    same_frame(@389)\n    same_frame(@413)\n    same_frame(@437)\n    same_frame(@461)\n    same_frame(@476)\n    same_frame(@500)\n    same_frame(@524)\n    same_frame(@539)\n    same_frame(@555)\n    same_frame(@579)\n    same_frame(@594)\n    full_frame(@617,{Object[#1],Integer},{Uninitialized[#594],Uninitialized[#594],Integer})\n    full_frame(@620,{Object[#1],Integer},{Uninitialized[#594],Uninitialized[#594],Integer,Object[#3]})\n    same_frame(@624)\n    full_frame(@647,{Object[#1],Integer},{Uninitialized[#624],Uninitialized[#624],Integer})\n    full_frame(@650,{Object[#1],Integer},{Uninitialized[#624],Uninitialized[#624],Integer,Object[#3]})\n    same_frame(@654)\n    full_frame(@677,{Object[#1],Integer},{Uninitialized[#654],Uninitialized[#654],Integer})\n    full_frame(@680,{Object[#1],Integer},{Uninitialized[#654],Uninitialized[#654],Integer,Object[#3]})\n    same_frame(@684)\n    full_frame(@707,{Object[#1],Integer},{Uninitialized[#684],Uninitialized[#684],Integer})\n    full_frame(@710,{Object[#1],Integer},{Uninitialized[#684],Uninitialized[#684],Integer,Object[#3]})\n    same_frame(@714)\n    same_frame(@743)\n\n        at MarioKart.MarioKart.runFile(MarioKart.java:36)\n        at MarioKart.MarioKart.main(MarioKart.java:15)\n</code></pre>\n<p>And here is my code:</p>\n<pre><code>package MarioKart.LexicalAnalysis;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport MarioKart.MarioKart;\nimport static MarioKart.LexicalAnalysis.Type.*;\n\npublic class Lexer {\n    //--------------------- Instance Variables ----------------------\n    private final String source;\n    private final ArrayList&lt;Lexeme&gt; lexemes = new ArrayList&lt;&gt;();\n    \n    private int currentPosition = 0;\n    private int startOfCurrentLexeme = 0;\n    private int lineNumber = 1;\n    private final HashMap&lt;String, Type&gt; keywords;\n\n\n    //--------------------- getKeywords() ---------------------------\n    private HashMap&lt;String, Type&gt; getKeywords() {\n        HashMap&lt;String, Type&gt; keywords = new HashMap&lt;&gt;();\n\n        keywords.put(&quot;requires&quot;, REQUIRES);\n        keywords.put(&quot;summon&quot;, SUMMON);\n        keywords.put(&quot;using&quot;, USING);\n        keywords.put(&quot;garage&quot;, GARAGE);\n        keywords.put(&quot;from&quot;, FROM);\n        keywords.put(&quot;to&quot;, TO);\n        keywords.put(&quot;return&quot;, RETURN);\n        keywords.put(&quot;timeTrial&quot;, TIMETRIAL);\n\n        keywords.put(&quot;first&quot;, FIRST);\n        keywords.put(&quot;second&quot;, SECOND);\n        keywords.put(&quot;third&quot;, THIRD);\n        keywords.put(&quot;fourth&quot;, FOURTH);\n        keywords.put(&quot;fifth&quot;, FIFTH);\n        keywords.put(&quot;sixth&quot;, SIXTH);\n        keywords.put(&quot;seventh&quot;, SEVENTH);\n        keywords.put(&quot;eighth&quot;, EIGHTH);\n        keywords.put(&quot;ninth&quot;, NINTH);\n        keywords.put(&quot;tenth&quot;, TENTH);\n        keywords.put(&quot;eleventh&quot;, ELEVENTH);\n        keywords.put(&quot;twelfth&quot;, TWELFTH);\n        keywords.put(&quot;last&quot;, LAST);\n\n        keywords.put(&quot;tiesWith&quot;, EQUALS);\n        keywords.put(&quot;boost&quot;, PLUS);\n        keywords.put(&quot;slip&quot;, MINUS);\n        keywords.put(&quot;superStar&quot;, TIMES);\n        keywords.put(&quot;blueShell&quot;, DIVIDED_BY);\n        keywords.put(&quot;multiMushroom&quot;, PLUS_EQUALS);\n        keywords.put(&quot;redShell&quot;, MINUS_EQUALS);\n        keywords.put(&quot;goldenMushroom&quot;, TIMES_EQUALS);\n        keywords.put(&quot;fallOffTheMap&quot;, DIVIDED_EQUALS);\n        keywords.put(&quot;overtake&quot;, PLUS_PLUS);\n        keywords.put(&quot;getPassed&quot;, MINUS_MINUS);\n        keywords.put(&quot;not&quot;, NOT);\n        keywords.put(&quot;isTiedWith&quot;, EQUALS_EQUALS);\n        keywords.put(&quot;isNotTiedWith&quot;, NOT_EQUALS);\n        keywords.put(&quot;isFurtherThan&quot;, GREATER_THAN);\n        keywords.put(&quot;isBetterThan&quot;, GREATER_THAN_OR_EQUAL_TO);\n        keywords.put(&quot;isBehind&quot;, LESS_THAN);\n        keywords.put(&quot;isWorseThan&quot;, LESS_THAN_OR_EQUAL_TO);\n        keywords.put(&quot;and&quot;, AND);\n        keywords.put(&quot;or&quot;, OR);\n\n        keywords.put(&quot;int&quot;, INT);\n        keywords.put(&quot;real&quot;, REAL);\n        keywords.put(&quot;boolean&quot;, BOOLEAN);\n        keywords.put(&quot;string&quot;, STRING);\n        keywords.put(&quot;array&quot;, ARRAY);\n\n        return keywords;\n    }\n\n    //---------- Constructor --------\n    public Lexer(String source) {\n        this.source = source;\n        this.keywords = getKeywords();\n        this.currentPosition = 0;\n        this.startOfCurrentLexeme = 0;\n        this.lineNumber = 1;\n    }\n\n    //---------------------- Helper Methods -----------------------\n    private boolean isAtEnd() {\n        return currentPosition &gt;= source.length();\n    }\n\n    private char peek() {\n        if (isAtEnd()) return '\\0';\n        return source.charAt(currentPosition);\n    } \n    private char peekNext() {\n        if(currentPosition + 1 &gt;= source.length()) return '\\0';\n        return source.charAt(currentPosition + 1);\n    }\n    \n    private boolean match(char expected) {\n        if(isAtEnd() || source.charAt(currentPosition) != expected ) return false;\n        currentPosition++;\n        return true;\n    } \n\n    private char advance() {\n        char currentChar = source.charAt(currentPosition);\n        if(currentChar == '\\n' || currentChar == '\\r') lineNumber++;\n        currentPosition++;\n        return currentChar;\n    }\n\n    // -------------------- Supplemental Helper Methods --------------------\n    private boolean isDigit(char c) {\n        return c &gt;= '0' &amp;&amp; c &lt;= '9';\n    }\n\n    private boolean isAlpha(char c) {\n        return (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') ||\n               (c &gt;= 'a' &amp;&amp; c &lt;= 'z') ||\n               (c == '_');\n    }\n\n    private boolean isAlphaNumeric(char c) {\n        return isAlpha(c) || isDigit(c);\n    }\n\n    // --------------------- Error Reporting -----------------------\n    private void error(String message) {\n        MarioKart.syntaxError(message, lineNumber);\n    }\n\n    //----------------------- lex() function ----------------------------\n    public ArrayList&lt;Lexeme&gt; lex() {\n        while(!isAtEnd()) {\n            startOfCurrentLexeme = currentPosition;\n            Lexeme nextLexeme = getNextLexeme();\n            if(nextLexeme != null) lexemes.add(nextLexeme);\n        }\n        \n        lexemes.add(new Lexeme(lineNumber, END_OF_FILE));\n        return lexemes;\n    }\n\n    // --------------------- lex Helper Functions ---------------------------\n    private Lexeme getNextLexeme() {\n        char c = advance();\n        switch(c) {\n            //Ignore whitespace\n            case ' ', '\\t', '\\n', '\\r' -&gt; {\n                return null;\n            }\n            \n            //one digit\n            case '[' -&gt; { return new Lexeme(lineNumber, OPEN_BRACKET); }\n            case ']' -&gt; { return new Lexeme(lineNumber, CLOSED_BRACKET); }\n            case '(' -&gt; { return new Lexeme(lineNumber, OPEN_PARENTHESIS); }\n            case ')' -&gt; { return new Lexeme(lineNumber, CLOSED_PARENTHESIS); }\n            case '{' -&gt; { return new Lexeme(lineNumber, OPEN_CURLY); }\n            case '}' -&gt; { return new Lexeme(lineNumber, CLOSED_CURLY); }\n            case ';' -&gt; { return new Lexeme(lineNumber, SEMICOLON); }\n            case '.' -&gt; { return new Lexeme(lineNumber, DOT); }\n            case ',' -&gt; { return new Lexeme(lineNumber, COMMA); }\n            case '!' -&gt; { return new Lexeme(lineNumber, NOT); }\n            case '%' -&gt; { return new Lexeme(lineNumber, MOD); }\n            case '&quot;' -&gt; { return lexString(); }\n            case '1', '2', '3', '4', '5', '6', '7', '8', '9', '0' -&gt; { return lexNumber(); }\n\n            //two digits\n            case '&amp;' -&gt; { if(match('&amp;')) return new Lexeme(lineNumber, AND); }\n            case '|' -&gt; { if(match('|')) return new Lexeme(lineNumber, OR); }\n\n            //one OR two digits :(\n            case '+' -&gt; {\n                if(match('+')) return new Lexeme(lineNumber, PLUS_PLUS);\n                else if(match('=')) return new Lexeme(lineNumber, PLUS_EQUALS);\n                else return new Lexeme(lineNumber, PLUS);\n            }\n            case '-' -&gt; {\n                if(match('-')) return new Lexeme(lineNumber, MINUS_MINUS);\n                else if(match('=')) return new Lexeme(lineNumber, PLUS_EQUALS);\n                else return new Lexeme(lineNumber, MINUS);\n            }\n            case '/' -&gt; {\n                if(match('/')) lexComments();\n                else if(match('=')) return new Lexeme(lineNumber, DIVIDED_EQUALS);\n                else return new Lexeme(lineNumber, DIVIDED_BY);\n            }\n\n            //only two options\n            case '&gt;' -&gt; { return new Lexeme(lineNumber, match('=') ? GREATER_THAN_OR_EQUAL_TO : GREATER_THAN); }\n            case '&lt;' -&gt; { return new Lexeme(lineNumber, match('=') ? LESS_THAN_OR_EQUAL_TO : LESS_THAN); }\n            case '=' -&gt; { return new Lexeme(lineNumber, match('=') ? EQUALS_EQUALS : EQUALS); }\n            case '*' -&gt; { return new Lexeme(lineNumber, match('=') ? TIMES_EQUALS : TIMES); }\n\n            //put NOTHING beneath these cases pls\n            default -&gt; {\n                if(isDigit(c)) return lexNumber();\n                else if(isAlpha(c)) return lexIdentifierOrKeyword();\n                else {\n                    error(&quot;bro what is '&quot; + c + &quot;'. i do not recognize it. but then again i dont recognize half of what goes on in my calc class sooooooo&quot;);\n                    return null;\n                }\n            }\n        }\n        return null;\n    }\n\n    private Lexeme lexString() {\n        while( !(isAtEnd() || peek() == '&quot;')) advance();\n\n        String str = source.substring(startOfCurrentLexeme + 1, currentPosition);\n\n        if(isAtEnd()) error(&quot;you didn't close your string :(. String: '&quot; + str + &quot;'&quot;);\n        else advance();\n\n        return new Lexeme(lineNumber, str, STRING);\n    }\n\n    private void lexComments() {\n        while( !(isAtEnd() || peek() == '\\n')) advance();\n\n    }\n\n    private Lexeme lexNumber() {\n        boolean isInteger = true;\n        while(isDigit(peek())) advance();\n\n        //checking if int or real\n        if (peek() == '.') {\n            isInteger = false;\n            if(!isDigit(peekNext())) {\n                String malformedReal = source.substring(startOfCurrentLexeme, currentPosition + 2);\n                error(&quot;that isn't a number!!! silly goose. your failure: '&quot; + malformedReal + &quot;'&quot;);\n            }\n            advance();\n            while(isDigit(peek())) advance();\n        }\n\n        String numberString = source.substring(startOfCurrentLexeme, currentPosition);\n        if(isInteger) { \n            int intValue = Integer.parseInt(numberString);\n            return new Lexeme(lineNumber, intValue, INT);\n        } else {\n            double realValue = Double.parseDouble(numberString);\n            return new Lexeme(lineNumber, realValue, REAL);\n        }\n\n    }\n\n    private Lexeme lexIdentifierOrKeyword() {\n        while(isAlphaNumeric(peek())) advance();\n\n        String text = source.substring(startOfCurrentLexeme, currentPosition);\n        Type type = keywords.get(text);\n\n        if (type == null) return new Lexeme(lineNumber, text, IDENTIFIER);\n\n        else if(type == TRUE) return new Lexeme(lineNumber, true, TRUE);\n        else if(type == FALSE) return new Lexeme(lineNumber, false, FALSE);\n\n        return new Lexeme(lineNumber, type);\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","jquery","spring","jetty"],"comments":[{"owner":{"account_id":6775100,"reputation":17978,"user_id":5217142,"display_name":"traktor"},"score":1,"creation_date":1678957272,"post_id":75753424,"comment_id":133634377,"body_markdown":"Hi Hiranga,  posting images of error messages and code is seriously unacceptable on Stack Overflow as a  matter of course.  Please update your question with inline content as soon as possible. At the moment you risk having your question closed for procedural reasons.","body":"Hi Hiranga,  posting images of error messages and code is seriously unacceptable on Stack Overflow as a  matter of course.  Please update your question with inline content as soon as possible. At the moment you risk having your question closed for procedural reasons."}],"owner":{"account_id":4760023,"reputation":15,"user_id":3847623,"display_name":"Hiranga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679025549,"creation_date":1678953488,"question_id":75753424,"body_markdown":"I&#39;m using jQuery ajax to pass same data to front end , but when I try to call a get method from my UI \r\n\r\nI&#39;m getting this error:\r\n\r\nhas been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nand this error has thrown by jQuery.min.js. \r\n  r.send(i.hasContent &amp;&amp; i.data || null)\r\nI had to hide few methods names due to security reasons. Any help would be really appreciated. Thanks\r\n\r\nAdditional info  : \r\nI&#39;m using jetty as my server.\r\n\r\n\r\n\r\n","title":"JQuery ajax call connection refuse error : how to fix","body":"<p>I'm using jQuery ajax to pass same data to front end , but when I try to call a get method from my UI</p>\n<p>I'm getting this error:</p>\n<p>has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>and this error has thrown by jQuery.min.js.\nr.send(i.hasContent &amp;&amp; i.data || null)\nI had to hide few methods names due to security reasons. Any help would be really appreciated. Thanks</p>\n<p>Additional info  :\nI'm using jetty as my server.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1679018251,"post_id":75763108,"comment_id":133649859,"body_markdown":"`it will cause the dependency loop.` Are you sure?  Did you try it? I don&#39;t think dependency loops are a thing in Java.  Try it, please tell us the full error message you get.","body":"<code>it will cause the dependency loop.</code> Are you sure?  Did you try it? I don&#39;t think dependency loops are a thing in Java.  Try it, please tell us the full error message you get."},{"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"score":0,"creation_date":1679021592,"post_id":75763108,"comment_id":133650223,"body_markdown":"Hi, please refer to the changes that I made","body":"Hi, please refer to the changes that I made"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679023547,"creation_date":1679023547,"answer_id":75763497,"question_id":75763108,"body_markdown":"I can&#39;t reproduce the problem.  Can you post code that reproduces the problem?\r\n\r\nWorking:\r\n\r\n    package stackoverflow.pakA;\r\n    import stackoverflow.pakB.ClassB;\r\n\r\n    public class MainA {\r\n       \r\n       public static void main( String[] args ) {\r\n          ClassB.methodB();\r\n       }\r\n       \r\n       public static void methodA() {\r\n          System.out.println( &quot;Hellow from method A&quot; );\r\n       }\r\n    }\r\n    \r\n    package stackoverflow.pakB;\r\n    import stackoverflow.pakA.MainA;\r\n    \r\n    public class ClassB {\r\n       \r\n       public static void methodB() {\r\n          System.out.println( &quot;Hello from method B&quot; );\r\n          MainA.methodA();\r\n       }\r\n       \r\n    }\r\n\r\nOutput:\r\n\r\n    run:\r\n    Hello from method B\r\n    Hellow from method A\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n","title":"How to create a class from another inaccessible package","body":"<p>I can't reproduce the problem.  Can you post code that reproduces the problem?</p>\n<p>Working:</p>\n<pre><code>package stackoverflow.pakA;\nimport stackoverflow.pakB.ClassB;\n\npublic class MainA {\n   \n   public static void main( String[] args ) {\n      ClassB.methodB();\n   }\n   \n   public static void methodA() {\n      System.out.println( &quot;Hellow from method A&quot; );\n   }\n}\n\npackage stackoverflow.pakB;\nimport stackoverflow.pakA.MainA;\n\npublic class ClassB {\n   \n   public static void methodB() {\n      System.out.println( &quot;Hello from method B&quot; );\n      MainA.methodA();\n   }\n   \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>run:\nHello from method B\nHellow from method A\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"}],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679025473,"creation_date":1679017862,"question_id":75763108,"body_markdown":"I have this class in Package A:\r\n\r\n    public class PortletClickHandler implements CustomClickHandler {\r\n    \r\n    \t\tprivate int portletId;\r\n    \r\n    \t\tpublic int getPortletId() {\r\n    \t\t\treturn portletId;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setPortletId(int portletId) {\r\n    \t\t\tthis.portletId = portletId;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onClick(ClickEvent clickEvent) {\r\n    \t\t\tlogger.info(&quot;Entering here&quot;);\r\n    \t\t\tlogger.info(String.valueOf(portletId));\r\n    \r\n    \t\t\tsetContextArea(portletId);\r\n    \t\t\tlogger.info(&quot;Class is &quot;);\r\n    \t\t\tlogger.info(&quot;Does it work?&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nI also have the below code \r\n\r\n    Content = new HomePage(new PortletClickHandler());\r\n\r\nwhere I will be using it at another package B via interface:\r\n\r\n    public interface CustomClickHandler extends ClickHandler {\r\n    \t\tvoid setPortletId(int portletId);\r\n    \t}\r\n\r\n    \r\n\r\nMy issue right now is as Package A will have the import from Package B(Where HomePage is) such that: \r\n\r\n    import package B.HomePage\r\nBut I cant do the another way around where Package B imports the Package A as it will cause the circular dependency.\r\n\r\nBelow is the error message:\r\n\r\n    Adding dependency on module &#39;A&#39; will introduce circular dependency between modules &#39;B&#39; and &#39;C&#39;. Add dependency anyway?\r\n\r\nTherefore, when I would like to create a new instance of PortletClickHandler class at Package B, I am unable to do so. \r\n\r\nEg: `PortletClickHandler handler = new PortletClickHandler();`. When I do this in the package B, it will ask me to import the this PortletClickHandler, but when I selects to import this, it will then cause the circular depedency message.\r\n\r\nHow can I solve this?","title":"How to create a class from another inaccessible package","body":"<p>I have this class in Package A:</p>\n<pre><code>public class PortletClickHandler implements CustomClickHandler {\n\n        private int portletId;\n\n        public int getPortletId() {\n            return portletId;\n        }\n\n        public void setPortletId(int portletId) {\n            this.portletId = portletId;\n        }\n\n        @Override\n        public void onClick(ClickEvent clickEvent) {\n            logger.info(&quot;Entering here&quot;);\n            logger.info(String.valueOf(portletId));\n\n            setContextArea(portletId);\n            logger.info(&quot;Class is &quot;);\n            logger.info(&quot;Does it work?&quot;);\n\n        }\n\n    }\n</code></pre>\n<p>I also have the below code</p>\n<pre><code>Content = new HomePage(new PortletClickHandler());\n</code></pre>\n<p>where I will be using it at another package B via interface:</p>\n<pre><code>public interface CustomClickHandler extends ClickHandler {\n        void setPortletId(int portletId);\n    }\n</code></pre>\n<p>My issue right now is as Package A will have the import from Package B(Where HomePage is) such that:</p>\n<pre><code>import package B.HomePage\n</code></pre>\n<p>But I cant do the another way around where Package B imports the Package A as it will cause the circular dependency.</p>\n<p>Below is the error message:</p>\n<pre><code>Adding dependency on module 'A' will introduce circular dependency between modules 'B' and 'C'. Add dependency anyway?\n</code></pre>\n<p>Therefore, when I would like to create a new instance of PortletClickHandler class at Package B, I am unable to do so.</p>\n<p>Eg: <code>PortletClickHandler handler = new PortletClickHandler();</code>. When I do this in the package B, it will ask me to import the this PortletClickHandler, but when I selects to import this, it will then cause the circular depedency message.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","snakeyaml"],"owner":{"account_id":21544472,"reputation":11,"user_id":15881569,"display_name":"ThePiGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679024445,"creation_date":1679024445,"question_id":75763563,"body_markdown":"I want SnakeYAML to, by default, output strings that contain special characters (such as a colon) that are wrapped in **double quotes** instead of single quotes. I&#39;ve been pulling my hair out for hours on how to accomplish this with the SnakeYAML API, but I have found no leads. Example:\r\n\r\nSay I have a **value**: &quot;Yes: No&quot;. I want SnakeYAML to output this value like this:\r\n```\r\nkey: &quot;Yes: No&quot;\r\n```\r\nwith double quotes instead of single quotes. I have tried using multiple default scalar options with the ```DumperOptions``` class to no avail. I have to store all the values in my YAML file without any quotes (for reasons), except of course for values that contain special characters.\r\n\r\nHere is the code I&#39;m using to write to a YAML file for context:\r\n\r\n```\r\npublic void writeMeta(String key, String value) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tYaml yaml = new Yaml();\r\n\t\t\tFileReader reader = new FileReader(this.metaYAML);\r\n\t\t\tMap&lt;String, String&gt; meta = yaml.load(reader);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (meta == null) {\r\n\t\t\t\tmeta = new HashMap&lt;&gt;();\r\n\t\t\t}\r\n\t\t\tif (value.equals(&quot;&quot;)) {\r\n\t\t\t\tvalue = null;\r\n\t\t\t}\r\n\t\t\tmeta.put(key, value);\r\n\t\t\t\r\n\r\n\t\t\tFileWriter writer = new FileWriter(this.metaYAML);\r\n\t\t\t\r\n\t\t\tDumperOptions options = new DumperOptions();\r\n\t        options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n\t        options.setDefaultScalarStyle(DumperOptions.ScalarStyle.PLAIN);\r\n\t        \r\n\t\t\tnew Yaml(options).dump(meta, writer);\r\n\r\n\t\t\twriter.close();\r\n\t\t\treader.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\tnew ErrorDialog(new IOException(&quot;Could not parse/write to the meta.yaml file.&quot;, e));\r\n\t\t}\r\n\t\t\r\n\t}\r\n    ```","title":"Configure SnakeYAML to escape strings with double quotes instead of single quotes [java]","body":"<p>I want SnakeYAML to, by default, output strings that contain special characters (such as a colon) that are wrapped in <strong>double quotes</strong> instead of single quotes. I've been pulling my hair out for hours on how to accomplish this with the SnakeYAML API, but I have found no leads. Example:</p>\n<p>Say I have a <strong>value</strong>: &quot;Yes: No&quot;. I want SnakeYAML to output this value like this:</p>\n<pre><code>key: &quot;Yes: No&quot;\n</code></pre>\n<p>with double quotes instead of single quotes. I have tried using multiple default scalar options with the <code>DumperOptions</code> class to no avail. I have to store all the values in my YAML file without any quotes (for reasons), except of course for values that contain special characters.</p>\n<p>Here is the code I'm using to write to a YAML file for context:</p>\n<pre><code>public void writeMeta(String key, String value) {\n        \n        try {\n            \n            Yaml yaml = new Yaml();\n            FileReader reader = new FileReader(this.metaYAML);\n            Map&lt;String, String&gt; meta = yaml.load(reader);\n            \n            \n            if (meta == null) {\n                meta = new HashMap&lt;&gt;();\n            }\n            if (value.equals(&quot;&quot;)) {\n                value = null;\n            }\n            meta.put(key, value);\n            \n\n            FileWriter writer = new FileWriter(this.metaYAML);\n            \n            DumperOptions options = new DumperOptions();\n            options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n            options.setDefaultScalarStyle(DumperOptions.ScalarStyle.PLAIN);\n            \n            new Yaml(options).dump(meta, writer);\n\n            writer.close();\n            reader.close();\n            \n            \n        } catch (IOException e) {\n            new ErrorDialog(new IOException(&quot;Could not parse/write to the meta.yaml file.&quot;, e));\n        }\n        \n    }\n    ```\n</code></pre>\n"},{"tags":["java","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679024251,"creation_date":1679024251,"answer_id":75763550,"question_id":75762924,"body_markdown":"You can&#39;t mock `RestTemplate` when you create it like that.\r\n\r\nInstead create a factory which you can inject, and mock the factory to return a mock `RestTemplate`:\r\n```\r\n@Component\r\nclass RestTemplateFactory {\r\n  public RestTemplate create() {\r\n    return new RestTemplate(new HttpComponentsClientHttpRequestFactory());\r\n  }\r\n}\r\n```\r\nThen in `TestServiceImpl`:\r\n```\r\npublic class TestServiceImpl implements TestService {\r\n  private final RestTemplateFactory restTemplateFactory;\r\n\r\n  @Autowired\r\n  public TestServiceImpl(RestTemplateFactory restTemplateFactory) {\r\n    this.restTemplateFactory = restTemplateFactory;\r\n  }\r\n  ...\r\n```\r\nand finally in your test:\r\n```\r\n...\r\nRestTemplateFactory factory = mock(RestTemplateFactory.class);\r\nRestTemplate template = mock(RestTemplate.class);\r\nTestServiceImpl service = new TestServiceImpl(factory);\r\nwhen(factory.create()).thenReturn(template);\r\nwhen(template.exchange(...)).thenReturn(...)\r\n\r\nassertEquals(TestData.getMockResponseEntity().getBody(),service.get(...));\r\n...\r\n```","title":"Getting &quot;0 matchers expected, 1 recorded:&quot; when I writing my Junit test case for below class","body":"<p>You can't mock <code>RestTemplate</code> when you create it like that.</p>\n<p>Instead create a factory which you can inject, and mock the factory to return a mock <code>RestTemplate</code>:</p>\n<pre><code>@Component\nclass RestTemplateFactory {\n  public RestTemplate create() {\n    return new RestTemplate(new HttpComponentsClientHttpRequestFactory());\n  }\n}\n</code></pre>\n<p>Then in <code>TestServiceImpl</code>:</p>\n<pre><code>public class TestServiceImpl implements TestService {\n  private final RestTemplateFactory restTemplateFactory;\n\n  @Autowired\n  public TestServiceImpl(RestTemplateFactory restTemplateFactory) {\n    this.restTemplateFactory = restTemplateFactory;\n  }\n  ...\n</code></pre>\n<p>and finally in your test:</p>\n<pre><code>...\nRestTemplateFactory factory = mock(RestTemplateFactory.class);\nRestTemplate template = mock(RestTemplate.class);\nTestServiceImpl service = new TestServiceImpl(factory);\nwhen(factory.create()).thenReturn(template);\nwhen(template.exchange(...)).thenReturn(...)\n\nassertEquals(TestData.getMockResponseEntity().getBody(),service.get(...));\n...\n</code></pre>\n"}],"owner":{"account_id":19178711,"reputation":3,"user_id":14010907,"display_name":"Arvind Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75763550,"answer_count":1,"score":0,"last_activity_date":1679024251,"creation_date":1679015079,"question_id":75762924,"body_markdown":"here is my class which has two methods get and exchange, I am not sure how to write test case for below two methods, since we are using **&quot;new RestTemplate(new HttpComponentsClientHttpRequestFactory()).exchange&quot;** I dont know how to mock this.\r\n\r\nand how to write a test case for another method in same class\r\n\r\n    @Service\r\n           public class TestServiceImpl implements TestService{\r\n\r\n\t\r\n          @Override\r\n              public Object get(String endpoint, ParameterizedTypeReference reference, boolean useToken) {\r\n              ResponseEntity response = exchange(HttpMethod.GET, endpoint, null, reference, useToken);\r\n               return response.getBody();\r\n              }\r\n\r\n\r\n \t      public ResponseEntity&lt;Object&gt; exchange(HttpMethod httpMethod, String endpoint, @Nullable                Object body, ParameterizedTypeReference&lt;Object&gt; reference, boolean useToken,String userId) {\r\n     \r\n               try {\r\n                response = new RestTemplate(new HttpComponentsClientHttpRequestFactory()).exchange(endpoint, httpMethod, new HttpEntity&lt;&gt;(body, headers), reference);\r\n                return response;\r\n                } catch (Exception e) {\r\n               e.printStackTrance\r\n                }\r\n             }\r\n          }\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n        @Test\r\n         public void getTest(){\r\n        IdmService idmService1 = Mockito.spy(idmService);\r\n               Mockito.doReturn(TestData.getMockResponseEntity()).when(idmService1).exchange(any(),anyString(),any(),any(),anyBoolean());\r\n          assertEquals(TestData.getMockResponseEntity().getBody(),idmService.get(endPoint,any(),true));\r\n       }\r\n     @Test\r\n    public void exchangeTest(){\r\n      when(restTemplate.exchange(anyString(), ArgumentMatchers.any(HttpMethod.class),ArgumentMatchers.any(HttpEntity.class),\r\n                ArgumentMatchers.any(HttpHeaders.class))).thenReturn(TestData.getMockResponseEntity())\r\n        assertEquals(TestData.getMockResponseEntity().getBody(),idmService.get(endPoint,any(),true));\r\n\r\n    }","title":"Getting &quot;0 matchers expected, 1 recorded:&quot; when I writing my Junit test case for below class","body":"<p>here is my class which has two methods get and exchange, I am not sure how to write test case for below two methods, since we are using <strong>&quot;new RestTemplate(new HttpComponentsClientHttpRequestFactory()).exchange&quot;</strong> I dont know how to mock this.</p>\n<p>and how to write a test case for another method in same class</p>\n<pre><code>@Service\n       public class TestServiceImpl implements TestService{\n\n\n      @Override\n          public Object get(String endpoint, ParameterizedTypeReference reference, boolean useToken) {\n          ResponseEntity response = exchange(HttpMethod.GET, endpoint, null, reference, useToken);\n           return response.getBody();\n          }\n\n\n      public ResponseEntity&lt;Object&gt; exchange(HttpMethod httpMethod, String endpoint, @Nullable                Object body, ParameterizedTypeReference&lt;Object&gt; reference, boolean useToken,String userId) {\n \n           try {\n            response = new RestTemplate(new HttpComponentsClientHttpRequestFactory()).exchange(endpoint, httpMethod, new HttpEntity&lt;&gt;(body, headers), reference);\n            return response;\n            } catch (Exception e) {\n           e.printStackTrance\n            }\n         }\n      }\n      }\n\n\n\n\n\n    @Test\n     public void getTest(){\n    IdmService idmService1 = Mockito.spy(idmService);\n           Mockito.doReturn(TestData.getMockResponseEntity()).when(idmService1).exchange(any(),anyString(),any(),any(),anyBoolean());\n      assertEquals(TestData.getMockResponseEntity().getBody(),idmService.get(endPoint,any(),true));\n   }\n @Test\npublic void exchangeTest(){\n  when(restTemplate.exchange(anyString(), ArgumentMatchers.any(HttpMethod.class),ArgumentMatchers.any(HttpEntity.class),\n            ArgumentMatchers.any(HttpHeaders.class))).thenReturn(TestData.getMockResponseEntity())\n    assertEquals(TestData.getMockResponseEntity().getBody(),idmService.get(endPoint,any(),true));\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception","soap","exceptionhandler"],"comments":[{"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"score":1,"creation_date":1679028211,"post_id":75763544,"comment_id":133650919,"body_markdown":"For this you can create a SOAP fault response transformer using the `EndpointInterceptor ` interface. this will allow you to intercept and modify SOAP request and responses which are pass via the application.","body":"For this you can create a SOAP fault response transformer using the <code>EndpointInterceptor </code> interface. this will allow you to intercept and modify SOAP request and responses which are pass via the application."},{"owner":{"account_id":28038508,"reputation":1,"user_id":21416441,"display_name":"Rohan "},"score":0,"creation_date":1679186650,"post_id":75763544,"comment_id":133676520,"body_markdown":"Thanks for the reply! I did try the mentioned approach. However, I am not able to set elements to the SOAP envelop. I am only able to set string attributes. As mentioned in the question, I am required to send a custom response without a soap fault element. Do you have any resource or code I can refer to? @vinothraj","body":"Thanks for the reply! I did try the mentioned approach. However, I am not able to set elements to the SOAP envelop. I am only able to set string attributes. As mentioned in the question, I am required to send a custom response without a soap fault element. Do you have any resource or code I can refer to? @vinothraj"}],"owner":{"account_id":28038508,"reputation":1,"user_id":21416441,"display_name":"Rohan "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679024129,"creation_date":1679024129,"question_id":75763544,"body_markdown":"I am working upon a project and need to send a custom soap response (without SOAP fault). I’m using @Endpoint to consume SOAP requests in my spring boot application. However, I cannot use @ControllerAdvice or @ExceptionHandler to send a custom response since @Endpoint is not same as @Controller. What would be the best approach to do exception handling for mentioned situation? The exceptions can occur in any layer of the application(service , DAO etc). \r\n\r\nTried to use @ControllerAdvice but couldn’t get the desired result ","title":"Exception handling in SOAP spring boot application","body":"<p>I am working upon a project and need to send a custom soap response (without SOAP fault). I’m using @Endpoint to consume SOAP requests in my spring boot application. However, I cannot use @ControllerAdvice or @ExceptionHandler to send a custom response since @Endpoint is not same as @Controller. What would be the best approach to do exception handling for mentioned situation? The exceptions can occur in any layer of the application(service , DAO etc).</p>\n<p>Tried to use @ControllerAdvice but couldn’t get the desired result</p>\n"},{"tags":["java","spring-boot","mongodb-query","where-clause","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9577952,"reputation":81,"user_id":7113374,"display_name":"Vijayr32"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1588772928,"creation_date":1588772928,"answer_id":61636872,"question_id":61635522,"body_markdown":"It can be implemented in two ways one is using MongoTemplate and criteria query in spring boot application\r\n\r\n```\r\nQuery query = new Query();\r\nquery.addCriteria(Criteria.where(&quot;action_status&quot;).eq(false));\r\nList&lt;User&gt; users = mongoTemplate.find(query,MyCollectionClassName.class);\r\n```\r\n\r\nAnother way is using mongo repository\r\n```\r\n@Query(&quot;SELECT mc FROM my_collection mc WHERE mc.status = false&quot;)\r\nMyCollectionClassName findMyCollectionClassNameByStatus(Integer status);\r\n```\r\n\r\nReferences : \r\n```\r\nhttps://www.baeldung.com/queries-in-spring-data-mongodb\r\nhttps://www.baeldung.com/spring-data-jpa-query\r\n```","title":"How can I use $where in spring data MongoDB?","body":"<p>It can be implemented in two ways one is using MongoTemplate and criteria query in spring boot application</p>\n\n<pre><code>Query query = new Query();\nquery.addCriteria(Criteria.where(\"action_status\").eq(false));\nList&lt;User&gt; users = mongoTemplate.find(query,MyCollectionClassName.class);\n</code></pre>\n\n<p>Another way is using mongo repository</p>\n\n<pre><code>@Query(\"SELECT mc FROM my_collection mc WHERE mc.status = false\")\nMyCollectionClassName findMyCollectionClassNameByStatus(Integer status);\n</code></pre>\n\n<p>References : </p>\n\n<pre><code>https://www.baeldung.com/queries-in-spring-data-mongodb\nhttps://www.baeldung.com/spring-data-jpa-query\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599994414,"creation_date":1599992279,"answer_id":63869616,"question_id":61635522,"body_markdown":"1: You can create a repository that extends MongoRepository and have a JSON Query method as follows:\r\n\r\n    @Query(&quot;{&#39;action_status&#39;:{$eq:?0}}&quot;)\r\n    public List&lt;YourObj&gt; findByActionStatus(boolean status);\r\n\r\n2: You can use Query By Object Attribute in MongoRepository. Supposedly you have a field called &quot;isActionStatus&quot; in your object, just declare this method in your repository:\r\n\r\n    public List&lt;YourObj&gt; findByIsActionStatus(boolean actionStatus);\r\n\r\nSpring Data will break the method name like &quot;select * from ... where isActionStatus = actionStatus \r\n\r\nIf you need a more complex query you can find the supported keywords here: https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html","title":"How can I use $where in spring data MongoDB?","body":"<p>1: You can create a repository that extends MongoRepository and have a JSON Query method as follows:</p>\n<pre><code>@Query(&quot;{'action_status':{$eq:?0}}&quot;)\npublic List&lt;YourObj&gt; findByActionStatus(boolean status);\n</code></pre>\n<p>2: You can use Query By Object Attribute in MongoRepository. Supposedly you have a field called &quot;isActionStatus&quot; in your object, just declare this method in your repository:</p>\n<pre><code>public List&lt;YourObj&gt; findByIsActionStatus(boolean actionStatus);\n</code></pre>\n<p>Spring Data will break the method name like &quot;select * from ... where isActionStatus = actionStatus</p>\n<p>If you need a more complex query you can find the supported keywords here: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mongo.repositories.html</a></p>\n"},{"tags":[],"owner":{"account_id":3132103,"reputation":3987,"user_id":2649570,"accept_rate":83,"display_name":"ced-b"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679024104,"creation_date":1679024104,"answer_id":75763542,"question_id":61635522,"body_markdown":"The following worked for me:\r\n\r\n```java\r\nmongoTemplate.find(\r\n   query(\r\n      where(&quot;$where&quot;).is(&quot;this.xyz + this.abc = 123&quot;)\r\n   )\r\n);\r\n```\r\n\r\nWhereby, the `is` part can be a String which inludes a JavaScript expression. And you can use `this` to refer to the current item.","title":"How can I use $where in spring data MongoDB?","body":"<p>The following worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mongoTemplate.find(\n   query(\n      where(&quot;$where&quot;).is(&quot;this.xyz + this.abc = 123&quot;)\n   )\n);\n</code></pre>\n<p>Whereby, the <code>is</code> part can be a String which inludes a JavaScript expression. And you can use <code>this</code> to refer to the current item.</p>\n"}],"owner":{"account_id":17190715,"reputation":563,"user_id":12444527,"display_name":"Trushit Shekhda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1679024104,"creation_date":1588768895,"question_id":61635522,"body_markdown":"I am not able to use `$where` in `SpringDataMongoDb`.\r\n\r\nIs there any way to achieve this in `SpringBoot`?\r\n\r\n    db.getCollection(&#39;my_collection&#39;).find({ $where : function(){\r\n        for (var key in this.action_status){\r\n            return this.action_status[key] == false;\r\n        }\r\n    }})\r\n\r\nThank You.","title":"How can I use $where in spring data MongoDB?","body":"<p>I am not able to use <code>$where</code> in <code>SpringDataMongoDb</code>.</p>\n\n<p>Is there any way to achieve this in <code>SpringBoot</code>?</p>\n\n<pre><code>db.getCollection('my_collection').find({ $where : function(){\n    for (var key in this.action_status){\n        return this.action_status[key] == false;\n    }\n}})\n</code></pre>\n\n<p>Thank You.</p>\n"},{"tags":["java","jpa","datasource"],"owner":{"account_id":28038322,"reputation":1,"user_id":21416299,"display_name":"xuchu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679022762,"creation_date":1679022762,"question_id":75763449,"body_markdown":"the main start warning logs:\r\n```\r\n[breadroll-mall] 2023-03-17 10:47:00.885 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-9999&quot;]\r\n[breadroll-mall] 2023-03-17 10:47:00.934 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path &#39;&#39;\r\n[breadroll-mall] 2023-03-17 10:47:01.018 [main] INFO  com.qiu.BreadRollMallServer - Started BreadRollMallServer in 30.777 seconds (JVM running for 45.258)\r\n[breadroll-mall] 2023-03-17 10:47:01.034 [main] INFO  com.qiu.BreadRollMallServerRunner - Executing command line runner...\r\n[breadroll-mall] 2023-03-17 10:47:03.957 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[breadroll-mall] 2023-03-17 10:47:03.975 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed\r\n```\r\n**my pom**:\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.qiu&lt;/groupId&gt;\r\n    &lt;artifactId&gt;breadroll-mall&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;breadroll-mall&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.7.RELEASE &lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!--mysql--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.47&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.github.ulisesbocchio/jasypt-spring-boot-starter --&gt;\r\n        &lt;!--&lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;!--druid--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;druid&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- fastjson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.62&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--lombok--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sa-token-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.29.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sa-token-dao-redis-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.29.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--thymeleaf--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-settings&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.shalousun&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common-util&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alipay.sdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;alipay-sdk-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.192.ALL&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;finalName&gt;breadroll-mall&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!--&lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n==my application-jdbc.yml\r\n```\r\nspring:\r\n  datasource:\r\n    type: com.alibaba.druid.pool.DruidDataSource\r\n    driver-class-name: com.mysql.jdbc.Driver\r\n    url: jdbc:mysql://47.113.223.103:3306/roll?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8\r\n    username: root\r\n    password: ********\r\n\r\nmybatis:\r\n  mapper-locations: classpath:mapper/*.xml\r\n  type-aliases-package: com.\r\n  configuration:\r\n    mapUnderscoreToCamelCase: true\r\n```\r\n\r\nwhen I start or debug main, It turns off It turns off automatically?\r\nI Googled some solutions, but they dont work for me. I have not add tomcat plugin in my pom, and I have add spring-boot-starter-web.\r\n\r\nPlease advise how resolve this issue.","title":"Executing command line runner... Closing JPA EntityManagerFactory for persistence unit &#39;default&#39; {dataSource-1} closed","body":"<p>the main start warning logs:</p>\n<pre><code>[breadroll-mall] 2023-03-17 10:47:00.885 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-9999&quot;]\n[breadroll-mall] 2023-03-17 10:47:00.934 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path ''\n[breadroll-mall] 2023-03-17 10:47:01.018 [main] INFO  com.qiu.BreadRollMallServer - Started BreadRollMallServer in 30.777 seconds (JVM running for 45.258)\n[breadroll-mall] 2023-03-17 10:47:01.034 [main] INFO  com.qiu.BreadRollMallServerRunner - Executing command line runner...\n[breadroll-mall] 2023-03-17 10:47:03.957 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'\n[breadroll-mall] 2023-03-17 10:47:03.975 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed\n</code></pre>\n<p><strong>my pom</strong>:</p>\n\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.qiu&lt;/groupId&gt;\n&lt;artifactId&gt;breadroll-mall&lt;/artifactId&gt;\n&lt;version&gt;2.0-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;breadroll-mall&lt;/name&gt;\n&lt;!-- FIXME change it to the project's website --&gt;\n&lt;url&gt;http://www.example.com&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.7.RELEASE &lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;!--mysql--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.47&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.github.ulisesbocchio/jasypt-spring-boot-starter --&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;!--druid--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n        &lt;artifactId&gt;druid&lt;/artifactId&gt;\n        &lt;version&gt;1.1.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n        &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n        &lt;version&gt;2.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n        &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;\n        &lt;version&gt;4.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aliyun&lt;/groupId&gt;\n        &lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- fastjson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n        &lt;version&gt;1.2.62&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--lombok--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\n        &lt;artifactId&gt;sa-token-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;1.29.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\n        &lt;artifactId&gt;sa-token-dao-redis-jackson&lt;/artifactId&gt;\n        &lt;version&gt;1.29.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--thymeleaf--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-settings&lt;/artifactId&gt;\n        &lt;version&gt;3.3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.shalousun&lt;/groupId&gt;\n        &lt;artifactId&gt;common-util&lt;/artifactId&gt;\n        &lt;version&gt;1.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alipay.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;alipay-sdk-java&lt;/artifactId&gt;\n        &lt;version&gt;4.10.192.ALL&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;breadroll-mall&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;!--&lt;plugin&gt;\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n            &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;target&gt;8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>==my application-jdbc.yml</p>\n<pre><code>spring:\n  datasource:\n    type: com.alibaba.druid.pool.DruidDataSource\n    driver-class-name: com.mysql.jdbc.Driver\n    url: jdbc:mysql://47.113.223.103:3306/roll?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf8\n    username: root\n    password: ********\n\nmybatis:\n  mapper-locations: classpath:mapper/*.xml\n  type-aliases-package: com.\n  configuration:\n    mapUnderscoreToCamelCase: true\n</code></pre>\n<p>when I start or debug main, It turns off It turns off automatically?\nI Googled some solutions, but they dont work for me. I have not add tomcat plugin in my pom, and I have add spring-boot-starter-web.</p>\n<p>Please advise how resolve this issue.</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679020652,"creation_date":1679020652,"answer_id":75763316,"question_id":75762479,"body_markdown":"Jackson ObjectMapper provides hooks that you can use to customize the serialization and deserialization of JSON. You can custom a class by extending JsonSerializer\r\n\r\ni guess something like this but i might be wrong hope this help\r\n\r\n    public class MaskJsonSerializer extends JsonSerializer&lt;Object&gt; {\r\n        \r\n        private Map&lt;String, MyMaskStrategy&gt; ms;\r\n        \r\n        public MaskJsonSerializer(Map&lt;String, MyMaskStrategy&gt; ms) {\r\n            this.ms=ms;\r\n        }\r\n        \r\n        @Override\r\n        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            gen.writeStartObject();\r\n            BeanDescription beanDesc = serializers.getConfig().introspect(serializers.constructType(value.getClass()));\r\n            for (BeanPropertyDefinition prop : beanDesc.findProperties()) {\r\n                String propName = prop.getName();\r\n                Object propValue = prop.getAccessor().getValue(value);\r\n                MyMaskStrategy strategy = ms.get(propName);\r\n                if (strategy != null) {\r\n                    propValue = strategy.mask(propValue);\r\n                }\r\n                gen.writeObjectField(propName, propValue);\r\n            }\r\n            gen.writeEndObject();\r\n        }\r\n    }\r\n\r\nthen register this class to the ObjectMapper bean and use it\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addSerializer(new MaskingJsonSerializer(myMaskingObject));\r\n    mapper.registerModule(module);","title":"Jackson ObjectMapper Universal Masking without Annotations","body":"<p>Jackson ObjectMapper provides hooks that you can use to customize the serialization and deserialization of JSON. You can custom a class by extending JsonSerializer</p>\n<p>i guess something like this but i might be wrong hope this help</p>\n<pre><code>public class MaskJsonSerializer extends JsonSerializer&lt;Object&gt; {\n    \n    private Map&lt;String, MyMaskStrategy&gt; ms;\n    \n    public MaskJsonSerializer(Map&lt;String, MyMaskStrategy&gt; ms) {\n        this.ms=ms;\n    }\n    \n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeStartObject();\n        BeanDescription beanDesc = serializers.getConfig().introspect(serializers.constructType(value.getClass()));\n        for (BeanPropertyDefinition prop : beanDesc.findProperties()) {\n            String propName = prop.getName();\n            Object propValue = prop.getAccessor().getValue(value);\n            MyMaskStrategy strategy = ms.get(propName);\n            if (strategy != null) {\n                propValue = strategy.mask(propValue);\n            }\n            gen.writeObjectField(propName, propValue);\n        }\n        gen.writeEndObject();\n    }\n}\n</code></pre>\n<p>then register this class to the ObjectMapper bean and use it</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addSerializer(new MaskingJsonSerializer(myMaskingObject));\nmapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":389722,"reputation":102,"user_id":749337,"display_name":"matthenry87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679020652,"creation_date":1679008895,"question_id":75762479,"body_markdown":"Today I have a masking implementation in place in which I&#39;ll map an already serialized JSON string to a Map&lt;String, Object&gt; using ObjectMapper and then do a breadth-first-traversal. As I traverse I check against a map of fields that are to be masked and mask according to their masking strategy. Then once masked, I use ObjectMapper to convert it back to JSON.\r\n\r\nI&#39;ve been rethinking this, and I would like to re-implement so that if/when I want to produce masked JSON, I simply swap in a customized ObjectMapper and let the masking happen when it&#39;s originally converted to JSON.\r\n\r\nI don&#39;t want to make developers annotate fields - as this masking is applied at the framework level in most cases (applied automatically via Spring Boot Starter). I want to have an opportunity to check the name of the field and mask it&#39;s value if needed. Does the Jackson ObjectMapper have something I can hook into to achieve this?\r\n\r\nThanks in advance!","title":"Jackson ObjectMapper Universal Masking without Annotations","body":"<p>Today I have a masking implementation in place in which I'll map an already serialized JSON string to a Map&lt;String, Object&gt; using ObjectMapper and then do a breadth-first-traversal. As I traverse I check against a map of fields that are to be masked and mask according to their masking strategy. Then once masked, I use ObjectMapper to convert it back to JSON.</p>\n<p>I've been rethinking this, and I would like to re-implement so that if/when I want to produce masked JSON, I simply swap in a customized ObjectMapper and let the masking happen when it's originally converted to JSON.</p>\n<p>I don't want to make developers annotate fields - as this masking is applied at the framework level in most cases (applied automatically via Spring Boot Starter). I want to have an opportunity to check the name of the field and mask it's value if needed. Does the Jackson ObjectMapper have something I can hook into to achieve this?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","xml","xsd","schema","xerces"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1678981079,"post_id":75757864,"comment_id":133641847,"body_markdown":"Please remove the `vc:` prefix from all `minOccurs` and `maxOccurs` attributes and report back the results.","body":"Please remove the <code>vc:</code> prefix from all <code>minOccurs</code> and <code>maxOccurs</code> attributes and report back the results."},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":1,"creation_date":1679010428,"post_id":75757864,"comment_id":133648916,"body_markdown":"Well, that solved the issue. I added this because my eclipse xml editor reports an error when `maxOccurs=&quot;unbounded&quot;` is added: `cos-all-limited.2: The {max occurs} of an element in an &#39;all&#39; model group must be 0 or 1. The value &#39;unbounded&#39; for \n element &#39;child1&#39; is invalid`. After adding `vc` namespace prefix the error disappeared. So, I thought it is required. However, after removing the `vc` namespace prefix, now it is working fine. Thank you so much for pointing that out. Appreciate it !","body":"Well, that solved the issue. I added this because my eclipse xml editor reports an error when <code>maxOccurs=&quot;unbounded&quot;</code> is added: <code>cos-all-limited.2: The {max occurs} of an element in an &#39;all&#39; model group must be 0 or 1. The value &#39;unbounded&#39; for   element &#39;child1&#39; is invalid</code>. After adding <code>vc</code> namespace prefix the error disappeared. So, I thought it is required. However, after removing the <code>vc</code> namespace prefix, now it is working fine. Thank you so much for pointing that out. Appreciate it !"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678983501,"creation_date":1678982127,"answer_id":75758631,"question_id":75757864,"body_markdown":"The `minOccurs` and `maxOccurs` attribute should not be in the `vc` namespace.\r\n\r\nBy placing `minOccurs` and `maxOccurs` in the `&quot;http://www.w3.org/2007/XMLSchema-versioning&quot;` namespace, the real `minOccurs` and `maxOccurs` are absent.  Thus, the default values of `1` come into play, explaining the observed validation error message.","title":"XSD - How to allow elements in any order while some with occurance [0-1] whereas others with [0-unbounded]","body":"<p>The <code>minOccurs</code> and <code>maxOccurs</code> attribute should not be in the <code>vc</code> namespace.</p>\n<p>By placing <code>minOccurs</code> and <code>maxOccurs</code> in the <code>&quot;http://www.w3.org/2007/XMLSchema-versioning&quot;</code> namespace, the real <code>minOccurs</code> and <code>maxOccurs</code> are absent.  Thus, the default values of <code>1</code> come into play, explaining the observed validation error message.</p>\n"}],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75758631,"answer_count":1,"score":1,"last_activity_date":1679020598,"creation_date":1678977998,"question_id":75757864,"body_markdown":"I have to validate an xml file against an xsd grammer. What follows is a simple simulation of my original requirement.\r\n\r\nThere&#39;s a root element named `&lt;foo&gt;`\r\nIt has four child elements, let&#39;s denote them as child1, child2, child3 and child4 for the sake of simplicity.\r\n\r\n - Element child1 child2 can appear any number of times (0 to unbounded)\r\n - Elements to be in any order\r\n - Elements child3 and child4 should appear at most once. (0 to 1)\r\n - All the child elements are optional, thus making `&lt;foo /&gt;` a valid xml.\r\n\r\nAfter going through some existing answers, I figured out that the more verbose answer given in [1] \r\nis not a practical solution to my problem since there are more than 10 child elements \r\nwould yield to a combinatorial explosion. Then, in the latter part of the answer states that xsd 1.1 \r\nrelaxes some of the constraints, so that the use of `&lt;xs:all&gt;` along with `maxOccurs=&quot;unbounded&quot;` is allowed.\r\n\r\nThen I used xerces library, and tried using xsd 1.1 features with java. What follows is my sample code. However,\r\nwhen multiple elements are presented in the xml, I am getting the following error.\r\n**cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;child1&#39;. One of &#39;{child2, child3, child4}&#39; is expected.**\r\n\r\n\r\n**xsd schema with xsd 1.1 extensions.**\r\n\r\n    &lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    \txmlns:vc=&quot;http://www.w3.org/2007/XMLSchema-versioning&quot;\r\n    \telementFormDefault=&quot;qualified&quot; vc:minVersion=&quot;1.1&quot;&gt;\r\n    \t&lt;xs:element name=&quot;foo&quot;&gt;\r\n    \t\t&lt;xs:complexType&gt;\r\n    \t\t\t&lt;xs:all&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;child1&quot; vc:minOccurs=&quot;0&quot;\r\n    \t\t\t\t\tvc:maxOccurs=&quot;unbounded&quot; /&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;child2&quot; vc:minOccurs=&quot;0&quot;\r\n    \t\t\t\t\tvc:maxOccurs=&quot;unbounded&quot; /&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;child3&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t\t\t&lt;xs:element name=&quot;child4&quot; type=&quot;xs:string&quot; /&gt;\r\n    \t\t\t&lt;/xs:all&gt;\r\n    \t\t&lt;/xs:complexType&gt;\r\n    \t&lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n**xml payload**\r\n\r\n    &lt;foo&gt;\r\n    \t&lt;child1&gt; a &lt;/child1&gt;\r\n    \t&lt;child1&gt; b &lt;/child1&gt;\r\n    \t&lt;child3&gt; c &lt;/child3&gt;\r\n    \t&lt;child2&gt; d &lt;/child2&gt;\r\n    \t&lt;child4&gt; e &lt;/child4&gt;\r\n    \t&lt;child2&gt; g &lt;/child2&gt;\r\n    \t&lt;child1&gt; f &lt;/child1&gt;\r\n    &lt;/foo&gt;\r\n\r\n**maven dependency**\r\n\r\n                        &lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.opengis.cite.xerces&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;xercesImpl-xsd11&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.12-beta-r1667115&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t\t\t&lt;/exclusions&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.exist-db.thirdparty.org.eclipse.wst.xml&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;xpath2&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;edu.princeton.cup&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;java-cup&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;10k&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\nor\r\n\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.ibissource&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;ibis-xerces&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.12.2-xml-schema-1.1&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n**sample java code:**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.StringJoiner;\r\n    \r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    import javax.xml.validation.Schema;\r\n    import javax.xml.validation.SchemaFactory;\r\n    import javax.xml.validation.Validator;\r\n    \r\n    import org.xml.sax.ErrorHandler;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.SAXParseException;\r\n    \r\n    public class CrtDataValidatorImpl {\r\n    \r\n    \tpublic void validate(String xsdFilePath, String data) {\r\n    \t\tfinal XmlErrorHandler errorHandler = new XmlErrorHandler();\r\n    \t\ttry {\r\n    \t\t\tfinal File schemaFile = new File(xsdFilePath);\r\n    \t\t\tfinal SchemaFactory schemaFactory = SchemaFactory.newInstance(&quot;http://www.w3.org/XML/XMLSchema/v1.1&quot;);\r\n    \t\t\tfinal Schema schema = schemaFactory.newSchema(schemaFile);\r\n    \t\t\tfinal Validator validator = schema.newValidator();\r\n    \t\t\tvalidator.setErrorHandler(errorHandler);\r\n    \t\t\tfinal Source xmlSource = new StreamSource(new StringReader(data));\r\n    \t\t\tvalidator.validate(xmlSource);\r\n    \t\t} catch (SAXException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t} catch (IOException e) {\r\n    \t\t}\r\n    \t\tSystem.out.println(String.format(&quot;Number of errors: %s&quot;, errorHandler.getExceptions().size()));\r\n    \t\tfor (Exception ex : errorHandler.getExceptions())\r\n    \t\t\tSystem.out.println(ex.getMessage());\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\ttry (BufferedReader br = new BufferedReader(new FileReader(&quot;./src/main/resources/simple-payload.xml&quot;))) {\r\n    \t\t\tfinal StringJoiner sj = new StringJoiner(&quot;\\n&quot;);\r\n    \t\t\tString line = br.readLine();\r\n    \r\n    \t\t\twhile (line != null) {\r\n    \t\t\t\tsj.add(line);\r\n    \t\t\t\tline = br.readLine();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(sj.toString());\r\n    \t\t\tnew CrtDataValidatorImpl().validate(&quot;./src/main/resources/sample.xsd&quot;, sj.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class XmlErrorHandler implements ErrorHandler {\r\n    \r\n    \t\tprivate Collection&lt;SAXParseException&gt; exceptions;\r\n    \r\n    \t\tpublic XmlErrorHandler() {\r\n    \t\t\tthis.exceptions = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\tpublic Collection&lt;SAXParseException&gt; getExceptions() {\r\n    \t\t\treturn exceptions;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void warning(SAXParseException exception) {\r\n    \t\t\texceptions.add(exception);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void error(SAXParseException exception) {\r\n    \t\t\texceptions.add(exception);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void fatalError(SAXParseException exception) {\r\n    \t\t\texceptions.add(exception);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nI tried debugging the issue, unfortunately it didn&#39;t shed any light in figuring out the cause. What is missing here? Any help would be appreciated. Thanks.\r\n\r\n[1] https://stackoverflow.com/questions/2290360/xsd-how-to-allow-elements-in-any-order-any-number-of-times","title":"XSD - How to allow elements in any order while some with occurance [0-1] whereas others with [0-unbounded]","body":"<p>I have to validate an xml file against an xsd grammer. What follows is a simple simulation of my original requirement.</p>\n<p>There's a root element named <code>&lt;foo&gt;</code>\nIt has four child elements, let's denote them as child1, child2, child3 and child4 for the sake of simplicity.</p>\n<ul>\n<li>Element child1 child2 can appear any number of times (0 to unbounded)</li>\n<li>Elements to be in any order</li>\n<li>Elements child3 and child4 should appear at most once. (0 to 1)</li>\n<li>All the child elements are optional, thus making <code>&lt;foo /&gt;</code> a valid xml.</li>\n</ul>\n<p>After going through some existing answers, I figured out that the more verbose answer given in [1]\nis not a practical solution to my problem since there are more than 10 child elements\nwould yield to a combinatorial explosion. Then, in the latter part of the answer states that xsd 1.1\nrelaxes some of the constraints, so that the use of <code>&lt;xs:all&gt;</code> along with <code>maxOccurs=&quot;unbounded&quot;</code> is allowed.</p>\n<p>Then I used xerces library, and tried using xsd 1.1 features with java. What follows is my sample code. However,\nwhen multiple elements are presented in the xml, I am getting the following error.\n<strong>cvc-complex-type.2.4.a: Invalid content was found starting with element 'child1'. One of '{child2, child3, child4}' is expected.</strong></p>\n<p><strong>xsd schema with xsd 1.1 extensions.</strong></p>\n<pre><code>&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:vc=&quot;http://www.w3.org/2007/XMLSchema-versioning&quot;\n    elementFormDefault=&quot;qualified&quot; vc:minVersion=&quot;1.1&quot;&gt;\n    &lt;xs:element name=&quot;foo&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:all&gt;\n                &lt;xs:element name=&quot;child1&quot; vc:minOccurs=&quot;0&quot;\n                    vc:maxOccurs=&quot;unbounded&quot; /&gt;\n                &lt;xs:element name=&quot;child2&quot; vc:minOccurs=&quot;0&quot;\n                    vc:maxOccurs=&quot;unbounded&quot; /&gt;\n                &lt;xs:element name=&quot;child3&quot; type=&quot;xs:string&quot; /&gt;\n                &lt;xs:element name=&quot;child4&quot; type=&quot;xs:string&quot; /&gt;\n            &lt;/xs:all&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p><strong>xml payload</strong></p>\n<pre><code>&lt;foo&gt;\n    &lt;child1&gt; a &lt;/child1&gt;\n    &lt;child1&gt; b &lt;/child1&gt;\n    &lt;child3&gt; c &lt;/child3&gt;\n    &lt;child2&gt; d &lt;/child2&gt;\n    &lt;child4&gt; e &lt;/child4&gt;\n    &lt;child2&gt; g &lt;/child2&gt;\n    &lt;child1&gt; f &lt;/child1&gt;\n&lt;/foo&gt;\n</code></pre>\n<p><strong>maven dependency</strong></p>\n<pre><code>                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.opengis.cite.xerces&lt;/groupId&gt;\n                        &lt;artifactId&gt;xercesImpl-xsd11&lt;/artifactId&gt;\n                        &lt;version&gt;2.12-beta-r1667115&lt;/version&gt;\n                        &lt;exclusions&gt;\n                            &lt;exclusion&gt;\n                                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                            &lt;/exclusion&gt;\n                        &lt;/exclusions&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.exist-db.thirdparty.org.eclipse.wst.xml&lt;/groupId&gt;\n                        &lt;artifactId&gt;xpath2&lt;/artifactId&gt;\n                        &lt;version&gt;1.2.0&lt;/version&gt;\n                        &lt;scope&gt;runtime&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;edu.princeton.cup&lt;/groupId&gt;\n                        &lt;artifactId&gt;java-cup&lt;/artifactId&gt;\n                        &lt;version&gt;10k&lt;/version&gt;\n                        &lt;scope&gt;runtime&lt;/scope&gt;\n                    &lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.ibissource&lt;/groupId&gt;\n                &lt;artifactId&gt;ibis-xerces&lt;/artifactId&gt;\n                &lt;version&gt;2.12.2-xml-schema-1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p><strong>sample java code:</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.StringJoiner;\n\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\n\nimport org.xml.sax.ErrorHandler;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.SAXParseException;\n\npublic class CrtDataValidatorImpl {\n\n    public void validate(String xsdFilePath, String data) {\n        final XmlErrorHandler errorHandler = new XmlErrorHandler();\n        try {\n            final File schemaFile = new File(xsdFilePath);\n            final SchemaFactory schemaFactory = SchemaFactory.newInstance(&quot;http://www.w3.org/XML/XMLSchema/v1.1&quot;);\n            final Schema schema = schemaFactory.newSchema(schemaFile);\n            final Validator validator = schema.newValidator();\n            validator.setErrorHandler(errorHandler);\n            final Source xmlSource = new StreamSource(new StringReader(data));\n            validator.validate(xmlSource);\n        } catch (SAXException e) {\n            System.out.println(e.getMessage());\n        } catch (IOException e) {\n        }\n        System.out.println(String.format(&quot;Number of errors: %s&quot;, errorHandler.getExceptions().size()));\n        for (Exception ex : errorHandler.getExceptions())\n            System.out.println(ex.getMessage());\n    }\n\n    public static void main(String[] args) throws IOException {\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;./src/main/resources/simple-payload.xml&quot;))) {\n            final StringJoiner sj = new StringJoiner(&quot;\\n&quot;);\n            String line = br.readLine();\n\n            while (line != null) {\n                sj.add(line);\n                line = br.readLine();\n            }\n            System.out.println(sj.toString());\n            new CrtDataValidatorImpl().validate(&quot;./src/main/resources/sample.xsd&quot;, sj.toString());\n        }\n    }\n\n    static class XmlErrorHandler implements ErrorHandler {\n\n        private Collection&lt;SAXParseException&gt; exceptions;\n\n        public XmlErrorHandler() {\n            this.exceptions = new ArrayList&lt;&gt;();\n        }\n\n        public Collection&lt;SAXParseException&gt; getExceptions() {\n            return exceptions;\n        }\n\n        @Override\n        public void warning(SAXParseException exception) {\n            exceptions.add(exception);\n        }\n\n        @Override\n        public void error(SAXParseException exception) {\n            exceptions.add(exception);\n        }\n\n        @Override\n        public void fatalError(SAXParseException exception) {\n            exceptions.add(exception);\n        }\n    }\n}\n</code></pre>\n<p>I tried debugging the issue, unfortunately it didn't shed any light in figuring out the cause. What is missing here? Any help would be appreciated. Thanks.</p>\n<p>[1] <a href=\"https://stackoverflow.com/questions/2290360/xsd-how-to-allow-elements-in-any-order-any-number-of-times\">XSD - how to allow elements in any order any number of times?</a></p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679020343,"creation_date":1679020343,"question_id":75763295,"body_markdown":"The phone has an inertial measurement system with 3axis gyro, accel, and magnetometer. \r\n\r\nI would like to have a state vector of the phone at any given time, and I am sure there are APIs already built to integrate and interpolate all of the measurements from those components, ignore missing components, and maybe add other components like GPS if available. To be used in indoor spaces\r\n\r\nWhat are some example APIs I can use to do this in Android studio, \r\nDoes OpenCV have such functions built in? ","title":"Android Attitude tracking with OpenCV or other APIs","body":"<p>The phone has an inertial measurement system with 3axis gyro, accel, and magnetometer.</p>\n<p>I would like to have a state vector of the phone at any given time, and I am sure there are APIs already built to integrate and interpolate all of the measurements from those components, ignore missing components, and maybe add other components like GPS if available. To be used in indoor spaces</p>\n<p>What are some example APIs I can use to do this in Android studio,\nDoes OpenCV have such functions built in?</p>\n"},{"tags":["java","android","robolectric","android-keystore"],"answers":[{"tags":[],"owner":{"account_id":1109512,"reputation":5031,"user_id":1100249,"accept_rate":82,"display_name":"marius bardan"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1471962404,"creation_date":1471962404,"answer_id":39103948,"question_id":38213748,"body_markdown":"There is already a discussion on this at https://github.com/robolectric/robolectric/issues/1518 .\r\n\r\nIn short:\r\n\r\n&gt; From java.security.Security javadoc:\r\n&gt; &gt; The default values of security properties are read from an\r\n&gt; &gt; implementation-specific location, which is typically the properties\r\n&gt; &gt; file lib/security/java.security in the Java installation directory. \r\n\r\n&gt; … which we probably don&#39;t want to encourage people to monkey with.\r\n\r\n&gt; Looks like this will need to be a method intercept rule...\r\n\r\nThe same happens when trying PowerMockito.","title":"Using the Android KeyStore in Robolectric tests","body":"<p>There is already a discussion on this at <a href=\"https://github.com/robolectric/robolectric/issues/1518\" rel=\"noreferrer\">https://github.com/robolectric/robolectric/issues/1518</a> .</p>\n\n<p>In short:</p>\n\n<blockquote>\n  <p>From java.security.Security javadoc:</p>\n  \n  <blockquote>\n    <p>The default values of security properties are read from an\n    implementation-specific location, which is typically the properties\n    file lib/security/java.security in the Java installation directory. </p>\n  </blockquote>\n  \n  <p>… which we probably don't want to encourage people to monkey with.</p>\n  \n  <p>Looks like this will need to be a method intercept rule...</p>\n</blockquote>\n\n<p>The same happens when trying PowerMockito.</p>\n"},{"tags":[],"owner":{"account_id":1715992,"reputation":3373,"user_id":1573036,"accept_rate":92,"display_name":"Victor Oliveira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679019695,"creation_date":1679019695,"answer_id":75763240,"question_id":38213748,"body_markdown":"Matthew Dolan came up with an outstanding solution in his [article](https://proandroiddev.com/testing-jetpack-security-with-robolectric-9f9cf2aa4f61).\r\n\r\nHere is the code to create a `FakeAndroidKeyStore`\r\n\r\n```\r\nimport java.io.InputStream\r\nimport java.io.OutputStream\r\nimport java.security.Key\r\nimport java.security.KeyStore\r\nimport java.security.KeyStoreSpi\r\nimport java.security.Provider\r\nimport java.security.SecureRandom\r\nimport java.security.Security\r\nimport java.security.cert.Certificate\r\nimport java.security.spec.AlgorithmParameterSpec\r\nimport java.util.Date\r\nimport java.util.Enumeration\r\nimport javax.crypto.KeyGenerator\r\nimport javax.crypto.KeyGeneratorSpi\r\nimport javax.crypto.SecretKey\r\n\r\nobject FakeAndroidKeyStore {\r\n\r\n    val setup by lazy {\r\n        Security.addProvider(object : Provider(&quot;AndroidKeyStore&quot;, 1.0, &quot;&quot;) {\r\n            init {\r\n                put(&quot;KeyStore.AndroidKeyStore&quot;, FakeKeyStore::class.java.name)\r\n                put(&quot;KeyGenerator.AES&quot;, FakeAesKeyGenerator::class.java.name)\r\n            }\r\n        })\r\n    }\r\n\r\n    @Suppress(&quot;unused&quot;)\r\n    class FakeKeyStore : KeyStoreSpi() {\r\n        private val wrapped = KeyStore.getInstance(KeyStore.getDefaultType())\r\n\r\n        override fun engineIsKeyEntry(alias: String?): Boolean = wrapped.isKeyEntry(alias)\r\n        override fun engineIsCertificateEntry(alias: String?): Boolean = wrapped.isCertificateEntry(alias)\r\n        override fun engineGetCertificate(alias: String?): Certificate = wrapped.getCertificate(alias)\r\n        override fun engineGetCreationDate(alias: String?): Date = wrapped.getCreationDate(alias)\r\n        override fun engineDeleteEntry(alias: String?) = wrapped.deleteEntry(alias)\r\n        override fun engineSetKeyEntry(alias: String?, key: Key?, password: CharArray?, chain: Array&lt;out Certificate&gt;?) =\r\n            wrapped.setKeyEntry(alias, key, password, chain)\r\n\r\n        override fun engineSetKeyEntry(alias: String?, key: ByteArray?, chain: Array&lt;out Certificate&gt;?) = wrapped.setKeyEntry(alias, key, chain)\r\n        override fun engineStore(stream: OutputStream?, password: CharArray?) = wrapped.store(stream, password)\r\n        override fun engineSize(): Int = wrapped.size()\r\n        override fun engineAliases(): Enumeration&lt;String&gt; = wrapped.aliases()\r\n        override fun engineContainsAlias(alias: String?): Boolean = wrapped.containsAlias(alias)\r\n        override fun engineLoad(stream: InputStream?, password: CharArray?) = wrapped.load(stream, password)\r\n        override fun engineGetCertificateChain(alias: String?): Array&lt;Certificate&gt; = wrapped.getCertificateChain(alias)\r\n        override fun engineSetCertificateEntry(alias: String?, cert: Certificate?) = wrapped.setCertificateEntry(alias, cert)\r\n        override fun engineGetCertificateAlias(cert: Certificate?): String = wrapped.getCertificateAlias(cert)\r\n        override fun engineGetKey(alias: String?, password: CharArray?): Key = wrapped.getKey(alias, password)\r\n    }\r\n\r\n    @Suppress(&quot;unused&quot;)\r\n    class FakeAesKeyGenerator : KeyGeneratorSpi() {\r\n        private val wrapped = KeyGenerator.getInstance(&quot;AES&quot;)\r\n\r\n        override fun engineInit(random: SecureRandom?) = Unit\r\n        override fun engineInit(params: AlgorithmParameterSpec?, random: SecureRandom?) = Unit\r\n        override fun engineInit(keysize: Int, random: SecureRandom?) = Unit\r\n        override fun engineGenerateKey(): SecretKey = wrapped.generateKey()\r\n    }\r\n}\r\n```\r\n\r\nUse just before where the `java.security.KeyStore` gets called.\r\n\r\nIn example:\r\n\r\n```\r\n@Before\r\nfun setup() {\r\n  FakeAndroidKeyStore.setup\r\n  KeyStore.getInstance(...)\r\n  ...\r\n}\r\n```","title":"Using the Android KeyStore in Robolectric tests","body":"<p>Matthew Dolan came up with an outstanding solution in his <a href=\"https://proandroiddev.com/testing-jetpack-security-with-robolectric-9f9cf2aa4f61\" rel=\"nofollow noreferrer\">article</a>.</p>\n<p>Here is the code to create a <code>FakeAndroidKeyStore</code></p>\n<pre><code>import java.io.InputStream\nimport java.io.OutputStream\nimport java.security.Key\nimport java.security.KeyStore\nimport java.security.KeyStoreSpi\nimport java.security.Provider\nimport java.security.SecureRandom\nimport java.security.Security\nimport java.security.cert.Certificate\nimport java.security.spec.AlgorithmParameterSpec\nimport java.util.Date\nimport java.util.Enumeration\nimport javax.crypto.KeyGenerator\nimport javax.crypto.KeyGeneratorSpi\nimport javax.crypto.SecretKey\n\nobject FakeAndroidKeyStore {\n\n    val setup by lazy {\n        Security.addProvider(object : Provider(&quot;AndroidKeyStore&quot;, 1.0, &quot;&quot;) {\n            init {\n                put(&quot;KeyStore.AndroidKeyStore&quot;, FakeKeyStore::class.java.name)\n                put(&quot;KeyGenerator.AES&quot;, FakeAesKeyGenerator::class.java.name)\n            }\n        })\n    }\n\n    @Suppress(&quot;unused&quot;)\n    class FakeKeyStore : KeyStoreSpi() {\n        private val wrapped = KeyStore.getInstance(KeyStore.getDefaultType())\n\n        override fun engineIsKeyEntry(alias: String?): Boolean = wrapped.isKeyEntry(alias)\n        override fun engineIsCertificateEntry(alias: String?): Boolean = wrapped.isCertificateEntry(alias)\n        override fun engineGetCertificate(alias: String?): Certificate = wrapped.getCertificate(alias)\n        override fun engineGetCreationDate(alias: String?): Date = wrapped.getCreationDate(alias)\n        override fun engineDeleteEntry(alias: String?) = wrapped.deleteEntry(alias)\n        override fun engineSetKeyEntry(alias: String?, key: Key?, password: CharArray?, chain: Array&lt;out Certificate&gt;?) =\n            wrapped.setKeyEntry(alias, key, password, chain)\n\n        override fun engineSetKeyEntry(alias: String?, key: ByteArray?, chain: Array&lt;out Certificate&gt;?) = wrapped.setKeyEntry(alias, key, chain)\n        override fun engineStore(stream: OutputStream?, password: CharArray?) = wrapped.store(stream, password)\n        override fun engineSize(): Int = wrapped.size()\n        override fun engineAliases(): Enumeration&lt;String&gt; = wrapped.aliases()\n        override fun engineContainsAlias(alias: String?): Boolean = wrapped.containsAlias(alias)\n        override fun engineLoad(stream: InputStream?, password: CharArray?) = wrapped.load(stream, password)\n        override fun engineGetCertificateChain(alias: String?): Array&lt;Certificate&gt; = wrapped.getCertificateChain(alias)\n        override fun engineSetCertificateEntry(alias: String?, cert: Certificate?) = wrapped.setCertificateEntry(alias, cert)\n        override fun engineGetCertificateAlias(cert: Certificate?): String = wrapped.getCertificateAlias(cert)\n        override fun engineGetKey(alias: String?, password: CharArray?): Key = wrapped.getKey(alias, password)\n    }\n\n    @Suppress(&quot;unused&quot;)\n    class FakeAesKeyGenerator : KeyGeneratorSpi() {\n        private val wrapped = KeyGenerator.getInstance(&quot;AES&quot;)\n\n        override fun engineInit(random: SecureRandom?) = Unit\n        override fun engineInit(params: AlgorithmParameterSpec?, random: SecureRandom?) = Unit\n        override fun engineInit(keysize: Int, random: SecureRandom?) = Unit\n        override fun engineGenerateKey(): SecretKey = wrapped.generateKey()\n    }\n}\n</code></pre>\n<p>Use just before where the <code>java.security.KeyStore</code> gets called.</p>\n<p>In example:</p>\n<pre><code>@Before\nfun setup() {\n  FakeAndroidKeyStore.setup\n  KeyStore.getInstance(...)\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":297201,"reputation":468,"user_id":602588,"accept_rate":100,"display_name":"jackyalcine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6581,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":39103948,"answer_count":2,"score":7,"last_activity_date":1679019695,"creation_date":1467757108,"question_id":38213748,"body_markdown":"I&#39;m attempting to write a few testcases that work against the [Android Keystore][1]. However, when I write the following test case:\r\n\r\n    @RunWith(RobolectricGradleTestRunner.class)\r\n    @Config(constants = BuildConfig.class, sdk = 21)\r\n    public class FancyPantsUnitTest {\r\n       @Test\r\n       public void buildKey() {\r\n            keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;AndroidKeyStore&quot;);\r\n            keyPairGenerator.initialize(4096);\r\n            final KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n       }\r\n    }\r\n\r\nThis fails with the following exception:\r\n\r\n    org.junit.ComparisonFailure: expected:&lt;null&gt; but was:&lt;java.security.KeyStoreException: AndroidKeyStore not found&gt;\r\n\r\nI&#39;m targeting API Level **23** if that helps.\r\n\r\n[1]: https://developer.android.com/training/articles/keystore.html","title":"Using the Android KeyStore in Robolectric tests","body":"<p>I'm attempting to write a few testcases that work against the <a href=\"https://developer.android.com/training/articles/keystore.html\" rel=\"noreferrer\">Android Keystore</a>. However, when I write the following test case:</p>\n\n<pre><code>@RunWith(RobolectricGradleTestRunner.class)\n@Config(constants = BuildConfig.class, sdk = 21)\npublic class FancyPantsUnitTest {\n   @Test\n   public void buildKey() {\n        keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\", \"AndroidKeyStore\");\n        keyPairGenerator.initialize(4096);\n        final KeyPair keyPair = keyPairGenerator.generateKeyPair();\n   }\n}\n</code></pre>\n\n<p>This fails with the following exception:</p>\n\n<pre><code>org.junit.ComparisonFailure: expected:&lt;null&gt; but was:&lt;java.security.KeyStoreException: AndroidKeyStore not found&gt;\n</code></pre>\n\n<p>I'm targeting API Level <strong>23</strong> if that helps.</p>\n"},{"tags":["java","android","android-studio","bluetooth","bluetooth-profile"],"owner":{"account_id":18557751,"reputation":43,"user_id":13522405,"display_name":"김덕래"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679019596,"creation_date":1595297254,"question_id":63006331,"body_markdown":"I&#39;m making a speech recognize App. \r\nBut there is problem.\r\n\r\nApp have to listen user&#39;s voice, So Bluetooth profile change to sco. \r\nBut I want to change Bluetooth profile to A2dp when I listen the music.\r\n\r\nThe Service can close by AudioManager.isMusicActive() but it can&#39;t change back A2dp.\r\n\r\nIs there answer for it? I know that 2 profile can&#39;t be incompatible.\r\n\r\nSo, When i use for speech recognize , Bluetooth profile -&gt; Sco\r\n    When i listen to music, Bluetooth profile -&gt; A2dp\r\n\r\nHow can i handle it?","title":"Hi, I have a question about Bluetooth profile","body":"<p>I'm making a speech recognize App.\nBut there is problem.</p>\n<p>App have to listen user's voice, So Bluetooth profile change to sco.\nBut I want to change Bluetooth profile to A2dp when I listen the music.</p>\n<p>The Service can close by AudioManager.isMusicActive() but it can't change back A2dp.</p>\n<p>Is there answer for it? I know that 2 profile can't be incompatible.</p>\n<p>So, When i use for speech recognize , Bluetooth profile -&gt; Sco\nWhen i listen to music, Bluetooth profile -&gt; A2dp</p>\n<p>How can i handle it?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":14438632,"reputation":71,"user_id":10429970,"display_name":"Bimpfi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538146014,"creation_date":1538146014,"answer_id":52557784,"question_id":52532347,"body_markdown":"According to the [VSCode Java Debugging Doc][1] you have to use a terminal as console like the integrated Terminal instead of the internal console.\r\n\r\n&gt; The default Debug Console in VS Code doesn&#39;t support inputs. If your program need inputs from a terminal , you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it.\r\n\r\nYou also can set the *console* property in your *launch.json* to *integratedTerminal* or *externalTerminal*, so you will use it every debug session.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-debugging#_debug-session-inputs","title":"Unrecognized request: { _request: evaluate } in visual studio code","body":"<p>According to the <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_debug-session-inputs\" rel=\"noreferrer\">VSCode Java Debugging Doc</a> you have to use a terminal as console like the integrated Terminal instead of the internal console.</p>\n\n<blockquote>\n  <p>The default Debug Console in VS Code doesn't support inputs. If your program need inputs from a terminal , you can use the Integrated Terminal (Ctrl+`) within VS Code or an external terminal to launch it.</p>\n</blockquote>\n\n<p>You also can set the <em>console</em> property in your <em>launch.json</em> to <em>integratedTerminal</em> or <em>externalTerminal</em>, so you will use it every debug session.</p>\n"},{"tags":[],"owner":{"account_id":28038120,"reputation":1,"user_id":21416128,"display_name":"user21416128"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679019404,"creation_date":1679019404,"answer_id":75763216,"question_id":52532347,"body_markdown":"enter in &quot;configurations&quot; in Java Debugger. \r\n\r\nchange in the field java &gt; debug &gt; Settings:Console, and select IntegratedTerminal.","title":"Unrecognized request: { _request: evaluate } in visual studio code","body":"<p>enter in &quot;configurations&quot; in Java Debugger.</p>\n<p>change in the field java &gt; debug &gt; Settings:Console, and select IntegratedTerminal.</p>\n"}],"owner":{"account_id":14429011,"reputation":21,"user_id":10422886,"display_name":"Mcnamara_John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11962,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679019404,"creation_date":1538035780,"question_id":52532347,"body_markdown":"This is my java code on visual studio code when I try to run it on visual studio code and enter a number it says: Unrecognized request: { _request: evaluate } ...\r\nWhat should I do to disappear this message when I use visual studio code?\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Test{\r\n        public static void main(String[] args){\r\n            System.out.println(&quot;Hello&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;input number : &quot;);\r\n            int number = sc.nextInt();\r\n            System.out.println(number);\r\n    \r\n            int result = (number &gt;= 0) ? number : -number ;\r\n            System.out.println(result);\r\n    \r\n            sc.close();\r\n    \r\n        }\r\n    }","title":"Unrecognized request: { _request: evaluate } in visual studio code","body":"<p>This is my java code on visual studio code when I try to run it on visual studio code and enter a number it says: Unrecognized request: { _request: evaluate } ...\nWhat should I do to disappear this message when I use visual studio code?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Test{\n    public static void main(String[] args){\n        System.out.println(\"Hello\");\n        Scanner sc = new Scanner(System.in);\n        System.out.print(\"input number : \");\n        int number = sc.nextInt();\n        System.out.println(number);\n\n        int result = (number &gt;= 0) ? number : -number ;\n        System.out.println(result);\n\n        sc.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","robolectric","robolectric-shadows"],"owner":{"account_id":7974758,"reputation":1046,"user_id":6018313,"accept_rate":82,"display_name":"Kevin Etore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1679065667,"answer_count":0,"score":4,"last_activity_date":1679019366,"creation_date":1645811094,"question_id":71269780,"body_markdown":"I have a few unit tests where the underlying code makes use of EncryptedSharedPreferences. Because of said code, I&#39;m receiving Exceptions where Robolectric is unable both handle and shadow the native KeyStore implementation. There&#39;s currently an open issue on Robolectric&#39;s Github, which can be found [here](https://github.com/robolectric/robolectric/issues/1518). But it does not seem to have any fix on Android &gt;= 11. Any ideas or perhaps you&#39;ve encountered the same issue?\r\n\r\n**KeyStoreException is being thrown**\r\n\r\n```\r\nAndroidKeyStore not found\r\njava.security.KeyStoreException: AndroidKeyStore not found\r\n\tat java.base/java.security.KeyStore.getInstance(KeyStore.java:878)\r\n\tat androidx.security.crypto.MasterKeys.keyExists(MasterKeys.java:135)\r\n\tat androidx.security.crypto.MasterKeys.getOrCreate(MasterKeys.java:87)\r\n\tat ...auth.EncryptedAuthState.sharedPreferences(EncryptedAuthState.kt:88)\r\n\tat ...auth.EncryptedAuthState.readState(EncryptedAuthState.kt:57)\r\n\tat ...auth.EncryptedAuthState.getCurrent(EncryptedAuthState.kt:40)\r\n\tat ...auth.EncryptedAuthState.updateAfterTokenResponse(EncryptedAuthState.kt:74)\r\n\tat ...EncryptedAuthStateTest.updateIdTokenOnTokenResponse(EncryptedAuthStateTest.kt:126)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:591)\r\n\tat org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$0(SandboxTestRunner.java:274)\r\n\tat org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:88)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.security.NoSuchAlgorithmException: AndroidKeyStore KeyStore not available\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.base/java.security.Security.getImpl(Security.java:700)\r\n\tat java.base/java.security.KeyStore.getInstance(KeyStore.java:875)\r\n```\r\n\r\n**When running a test such as**\r\n\r\n```kotlin\r\n@ExperimentalFoundationApi\r\n@ExperimentalStdlibApi\r\n@RunWith(RobolectricTestRunner::class)\r\n@Config(shadows = [KeyStoreShadow::class])\r\nclass EncryptedAuthStateTest {\r\n    @Test\r\n    fun initialAuthState() {\r\n        val state =\r\n            EncryptedAuthState(InstrumentationRegistry.getInstrumentation().targetContext)\r\n                .getCurrent()\r\n\r\n        Assert.assertFalse(state.isAuthorized)\r\n        Assert.assertNull(state.accessToken)\r\n        Assert.assertNull(state.accessTokenExpirationTime)\r\n        Assert.assertNull(state.idToken)\r\n        Assert.assertNull(state.refreshToken)\r\n        Assert.assertNull(state.lastAuthorizationResponse)\r\n        Assert.assertNull(state.lastTokenResponse)\r\n        Assert.assertNull(state.lastRegistrationResponse)\r\n        Assert.assertNull(state.scope)\r\n        Assert.assertNull(state.scopeSet)\r\n    }\r\n}\r\n```\r\n\r\n**EncryptedAuthState**\r\n\r\n```kotlin\r\nprivate fun sharedPreferences(): SharedPreferences {\r\n        val masterKey: MasterKey = MasterKey.Builder(context, MasterKey.DEFAULT_MASTER_KEY_ALIAS)\r\n            .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\r\n            .build()\r\n\r\n        return EncryptedSharedPreferences.create(\r\n            context,\r\n            &quot;AuthState&quot;,\r\n            masterKey,\r\n            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\r\n            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\r\n        )\r\n    }\r\n```\r\n\r\nI&#39;ve tried to create a Shadow class, but this is not being triggered:\r\n\r\n```java\r\nimport org.robolectric.annotation.Implementation;\r\nimport org.robolectric.annotation.Implements;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.cert.CertificateException;\r\n\r\n@Implements(KeyStore.class)\r\npublic class KeyStoreShadow {\r\n    @Implementation\r\n    public static KeyStore getInstance(String type)\r\n            throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException {\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(new FileInputStream(\r\n                System.getProperty(&quot;java.home&quot;) + &quot;/lib/security/cacerts&quot;), null);\r\n        return keyStore;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Resources**\r\n\r\n - [Issue at robolectric repo, doesn&#39;t seem to have fix on Android &gt;=\r\n   11](https://github.com/robolectric/robolectric/issues/1518)\r\n - [Solution here resulted into `JCE cannot authenticate the provider AndroidKeyStore`. Most likely due to Android &gt;= 11 where key stores having to be signed](https://proandroiddev.com/testing-jetpack-security-with-robolectric-9f9cf2aa4f61)\r\n\r\n","title":"Robolectric AndroidKeyStore not found, KeyStore.getInstance","body":"<p>I have a few unit tests where the underlying code makes use of EncryptedSharedPreferences. Because of said code, I'm receiving Exceptions where Robolectric is unable both handle and shadow the native KeyStore implementation. There's currently an open issue on Robolectric's Github, which can be found <a href=\"https://github.com/robolectric/robolectric/issues/1518\" rel=\"nofollow noreferrer\">here</a>. But it does not seem to have any fix on Android &gt;= 11. Any ideas or perhaps you've encountered the same issue?</p>\n<p><strong>KeyStoreException is being thrown</strong></p>\n<pre><code>AndroidKeyStore not found\njava.security.KeyStoreException: AndroidKeyStore not found\n    at java.base/java.security.KeyStore.getInstance(KeyStore.java:878)\n    at androidx.security.crypto.MasterKeys.keyExists(MasterKeys.java:135)\n    at androidx.security.crypto.MasterKeys.getOrCreate(MasterKeys.java:87)\n    at ...auth.EncryptedAuthState.sharedPreferences(EncryptedAuthState.kt:88)\n    at ...auth.EncryptedAuthState.readState(EncryptedAuthState.kt:57)\n    at ...auth.EncryptedAuthState.getCurrent(EncryptedAuthState.kt:40)\n    at ...auth.EncryptedAuthState.updateAfterTokenResponse(EncryptedAuthState.kt:74)\n    at ...EncryptedAuthStateTest.updateIdTokenOnTokenResponse(EncryptedAuthStateTest.kt:126)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:591)\n    at org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$0(SandboxTestRunner.java:274)\n    at org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:88)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.security.NoSuchAlgorithmException: AndroidKeyStore KeyStore not available\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.base/java.security.Security.getImpl(Security.java:700)\n    at java.base/java.security.KeyStore.getInstance(KeyStore.java:875)\n</code></pre>\n<p><strong>When running a test such as</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ExperimentalFoundationApi\n@ExperimentalStdlibApi\n@RunWith(RobolectricTestRunner::class)\n@Config(shadows = [KeyStoreShadow::class])\nclass EncryptedAuthStateTest {\n    @Test\n    fun initialAuthState() {\n        val state =\n            EncryptedAuthState(InstrumentationRegistry.getInstrumentation().targetContext)\n                .getCurrent()\n\n        Assert.assertFalse(state.isAuthorized)\n        Assert.assertNull(state.accessToken)\n        Assert.assertNull(state.accessTokenExpirationTime)\n        Assert.assertNull(state.idToken)\n        Assert.assertNull(state.refreshToken)\n        Assert.assertNull(state.lastAuthorizationResponse)\n        Assert.assertNull(state.lastTokenResponse)\n        Assert.assertNull(state.lastRegistrationResponse)\n        Assert.assertNull(state.scope)\n        Assert.assertNull(state.scopeSet)\n    }\n}\n</code></pre>\n<p><strong>EncryptedAuthState</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun sharedPreferences(): SharedPreferences {\n        val masterKey: MasterKey = MasterKey.Builder(context, MasterKey.DEFAULT_MASTER_KEY_ALIAS)\n            .setKeyScheme(MasterKey.KeyScheme.AES256_GCM)\n            .build()\n\n        return EncryptedSharedPreferences.create(\n            context,\n            &quot;AuthState&quot;,\n            masterKey,\n            EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV,\n            EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM\n        )\n    }\n</code></pre>\n<p>I've tried to create a Shadow class, but this is not being triggered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.robolectric.annotation.Implementation;\nimport org.robolectric.annotation.Implements;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateException;\n\n@Implements(KeyStore.class)\npublic class KeyStoreShadow {\n    @Implementation\n    public static KeyStore getInstance(String type)\n            throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException {\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(new FileInputStream(\n                System.getProperty(&quot;java.home&quot;) + &quot;/lib/security/cacerts&quot;), null);\n        return keyStore;\n    }\n}\n\n</code></pre>\n<p><strong>Resources</strong></p>\n<ul>\n<li><a href=\"https://github.com/robolectric/robolectric/issues/1518\" rel=\"nofollow noreferrer\">Issue at robolectric repo, doesn't seem to have fix on Android &gt;=\n11</a></li>\n<li><a href=\"https://proandroiddev.com/testing-jetpack-security-with-robolectric-9f9cf2aa4f61\" rel=\"nofollow noreferrer\">Solution here resulted into <code>JCE cannot authenticate the provider AndroidKeyStore</code>. Most likely due to Android &gt;= 11 where key stores having to be signed</a></li>\n</ul>\n"},{"tags":["java","spring","thymeleaf"],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679018833,"creation_date":1679018833,"question_id":75763170,"body_markdown":"I have a @GetMapping and @PostMapping for a guessing game.  I have a method that generates a new pokemon image in my @GetMapping method but I don&#39;t know how to reference the object in my @PostMapping to compare the input textfield to the objects name.\r\n\r\n    @Controller\r\n    public class pokemonGameController {\r\n\r\n    Pokemon p = new Pokemon();  // Create an instance to reference for .getPokemon() method\r\n    InputData data = new InputData();\r\n\r\n    @GetMapping(&quot;/play&quot;)\r\n    public String play(Model model) throws JsonProcessingException {\r\n        Pokemon pokemon = p.getPokemon();\r\n\r\n        System.out.println(pokemon.getName() + &quot;  &quot; + pokemon.getImage());  // Check if returned \r\n                                                                            //name and image are correct\r\n\r\n        model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage()); //Displays Pokemon Image\r\n        model.addAttribute(&quot;data&quot;, data);  //Maps the textfield to &quot;InputData&quot; class\r\n        return &quot;displayPokemon&quot;;  //Displays Pokemon Image and textfield for input/guess\r\n        }\r\n    \r\n    @PostMapping(&quot;/play&quot;)\r\n    public String checkPokemonSubmit(@ModelAttribute InputData data,\r\n                                     @ModelAttribute Pokemon pokemon, Model model) {\r\n       \r\n      System.out.println(data.getAnswer());\r\n      System.out.println(pokemon.getName());  //Returns null \r\n        \r\n\r\n      model.addAttribute(&quot;pokemon&quot;, pokemon.getName()); //Always returns null\r\n      model.addAttribute(&quot;data&quot;, data.getAnswer());  //Returns the text from the inputfield\r\n      return &quot;simpleResult&quot;;\r\n    }\r\n\r\nI&#39;m pretty sure it has to do with the &quot;@ModelAttribute Pokemon pokemon&quot;.  It always returns null so it isn&#39;t referencing the &quot;Pokemon pokemon = p.getPokemon()&quot; object from the GET method.  How would I get to that object&#39;s properties?\r\n\r\nThis is a simple HTML page to display the input from the user against the pokemon&#39;s name from the \r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Result&lt;/h1&gt;\r\n    &lt;p th:text=&quot;&#39;You guessed: &#39; + ${data}&quot; /&gt;\r\n    &lt;p th:text=&quot;&#39;Correct Name: &#39; + ${pokemon}&quot; /&gt;\r\n    &lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How do I reference an object created in my GET request for my POST request in Spring?","body":"<p>I have a @GetMapping and @PostMapping for a guessing game.  I have a method that generates a new pokemon image in my @GetMapping method but I don't know how to reference the object in my @PostMapping to compare the input textfield to the objects name.</p>\n<pre><code>@Controller\npublic class pokemonGameController {\n\nPokemon p = new Pokemon();  // Create an instance to reference for .getPokemon() method\nInputData data = new InputData();\n\n@GetMapping(&quot;/play&quot;)\npublic String play(Model model) throws JsonProcessingException {\n    Pokemon pokemon = p.getPokemon();\n\n    System.out.println(pokemon.getName() + &quot;  &quot; + pokemon.getImage());  // Check if returned \n                                                                        //name and image are correct\n\n    model.addAttribute(&quot;pokemonImage&quot;, pokemon.getImage()); //Displays Pokemon Image\n    model.addAttribute(&quot;data&quot;, data);  //Maps the textfield to &quot;InputData&quot; class\n    return &quot;displayPokemon&quot;;  //Displays Pokemon Image and textfield for input/guess\n    }\n\n@PostMapping(&quot;/play&quot;)\npublic String checkPokemonSubmit(@ModelAttribute InputData data,\n                                 @ModelAttribute Pokemon pokemon, Model model) {\n   \n  System.out.println(data.getAnswer());\n  System.out.println(pokemon.getName());  //Returns null \n    \n\n  model.addAttribute(&quot;pokemon&quot;, pokemon.getName()); //Always returns null\n  model.addAttribute(&quot;data&quot;, data.getAnswer());  //Returns the text from the inputfield\n  return &quot;simpleResult&quot;;\n}\n</code></pre>\n<p>I'm pretty sure it has to do with the &quot;@ModelAttribute Pokemon pokemon&quot;.  It always returns null so it isn't referencing the &quot;Pokemon pokemon = p.getPokemon()&quot; object from the GET method.  How would I get to that object's properties?</p>\n<p>This is a simple HTML page to display the input from the user against the pokemon's name from the</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Guess that Pokemon - Result&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Result&lt;/h1&gt;\n&lt;p th:text=&quot;'You guessed: ' + ${data}&quot; /&gt;\n&lt;p th:text=&quot;'Correct Name: ' + ${pokemon}&quot; /&gt;\n&lt;a href=&quot;/play&quot;&gt;Guess Another Pokemon&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1679009102,"post_id":75762435,"comment_id":133648716,"body_markdown":"i think it is better to search and replace, as to reprogram hibernate","body":"i think it is better to search and replace, as to reprogram hibernate"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679013994,"post_id":75762435,"comment_id":133649352,"body_markdown":"Possibly related: [How can Hibernate map the SQL data-type nvarchar(max)?](https://stackoverflow.com/q/1099413/12567365) - can you use `columnDefinition = &quot;nvarchar&quot;` or `@Nationalized` here? There are other approaches suggested also.","body":"Possibly related: <a href=\"https://stackoverflow.com/q/1099413/12567365\">How can Hibernate map the SQL data-type nvarchar(max)?</a> - can you use <code>columnDefinition = &quot;nvarchar&quot;</code> or <code>@Nationalized</code> here? There are other approaches suggested also."},{"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"score":0,"creation_date":1679017394,"post_id":75762435,"comment_id":133649736,"body_markdown":"Yes, I could use `columnDefinition = &quot;nvarchar&quot;`, but as I pointed out, then I&#39;d have to find and replace 5000 fields, with different field names, column names and schema properties.","body":"Yes, I could use <code>columnDefinition = &quot;nvarchar&quot;</code>, but as I pointed out, then I&#39;d have to find and replace 5000 fields, with different field names, column names and schema properties."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679017629,"post_id":75762435,"comment_id":133649758,"body_markdown":"Right - apologies, I did not read carefully. (FWIW, I agree with nbk, even tho you mention it&#39;s not feasible - I take your word for it.)","body":"Right - apologies, I did not read carefully. (FWIW, I agree with nbk, even tho you mention it&#39;s not feasible - I take your word for it.)"},{"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"score":0,"creation_date":1679017730,"post_id":75762435,"comment_id":133649778,"body_markdown":"No worries :) I managed to rewrite all fields, using IntelliJ&#39;s `Search structurally...` feature","body":"No worries :) I managed to rewrite all fields, using IntelliJ&#39;s <code>Search structurally...</code> feature"}],"answers":[{"tags":[],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679017614,"creation_date":1679017614,"answer_id":75763094,"question_id":75762435,"body_markdown":"I ended up solving this using IntelliJ&#39;s `Search structurally...` feature to rewrite all 5000+ fields.","title":"Change Hibernate&#39;s default SQL type for String","body":"<p>I ended up solving this using IntelliJ's <code>Search structurally...</code> feature to rewrite all 5000+ fields.</p>\n"}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679017614,"creation_date":1679008470,"question_id":75762435,"body_markdown":"I want to enable schema validation against an existing database on startup using the ```spring.jpa.hibernate.ddl-auto=validate``` property.\r\n\r\nHowever, pretty much all of the String column definitions are failing that validation:\r\n\r\n```\r\nSchema-validation: wrong column type encountered in column [displayName] in table [MY_TABLE];\r\nfound [nvarchar (Types#NVARCHAR)], but expecting [varchar(255) (Types#VARCHAR)]\r\n```\r\n\r\n\r\n\r\nExample field definition:\r\n\r\n```\r\n@Column(name = &quot;display_name&quot;)\r\nprivate String displayName;\r\n```\r\n\r\nThe target schema has over 100 tables with up to 50 columns each, changing the `columnDefinition` to `nvarchar` for every String field is not feasible.\r\n\r\nCan the default SQL type for `String` be changed from `varchar(255)` to `nvarchar`?","title":"Change Hibernate&#39;s default SQL type for String","body":"<p>I want to enable schema validation against an existing database on startup using the <code>spring.jpa.hibernate.ddl-auto=validate</code> property.</p>\n<p>However, pretty much all of the String column definitions are failing that validation:</p>\n<pre><code>Schema-validation: wrong column type encountered in column [displayName] in table [MY_TABLE];\nfound [nvarchar (Types#NVARCHAR)], but expecting [varchar(255) (Types#VARCHAR)]\n</code></pre>\n<p>Example field definition:</p>\n<pre><code>@Column(name = &quot;display_name&quot;)\nprivate String displayName;\n</code></pre>\n<p>The target schema has over 100 tables with up to 50 columns each, changing the <code>columnDefinition</code> to <code>nvarchar</code> for every String field is not feasible.</p>\n<p>Can the default SQL type for <code>String</code> be changed from <code>varchar(255)</code> to <code>nvarchar</code>?</p>\n"},{"tags":["java","spring-boot","log4j","log4j2","springfox"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1679014085,"post_id":75762662,"comment_id":133649361,"body_markdown":"What is our problem? Spring boot? Log4J? Both? Your expectations? You not following migration documentation between changes?\n\nSo not really a &quot;java&quot; or even a &quot;spring-boot&quot; problem bit more of a &quot;log4j&quot; issue?","body":"What is our problem? Spring boot? Log4J? Both? Your expectations? You not following migration documentation between changes?  So not really a &quot;java&quot; or even a &quot;spring-boot&quot; problem bit more of a &quot;log4j&quot; issue?"},{"owner":{"account_id":28036938,"reputation":11,"user_id":21415158,"display_name":"Pradeep Reddy"},"score":0,"creation_date":1679017442,"post_id":75762662,"comment_id":133649742,"body_markdown":"Hello @BillMair, I followed the Spring migration document for the migration. After going through the spring documentation, I understood that using the VM argument `-Dlog4j.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml` will not work in my case. I should instead use `-Dlogging.config=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml` to let Spring logging know the location of my log4j configuration.","body":"Hello @BillMair, I followed the Spring migration document for the migration. After going through the spring documentation, I understood that using the VM argument <code>-Dlog4j.configurationFile=&#47;&lt;YOUR_CONFIG_FOLDERPATH&gt;&#47;log4j2.x&zwnj;&#8203;ml</code> will not work in my case. I should instead use <code>-Dlogging.config=&#47;&lt;YOUR_CONFIG_FOLDERPATH&gt;&#47;log4j2.xml</code> to let Spring logging know the location of my log4j configuration."},{"owner":{"account_id":28036938,"reputation":11,"user_id":21415158,"display_name":"Pradeep Reddy"},"score":0,"creation_date":1679017651,"post_id":75762662,"comment_id":133649760,"body_markdown":"(`-Dlog4j.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml` ) I wonder how this was working fine before the migration.","body":"(<code>-Dlog4j.configurationFile=&#47;&lt;YOUR_CONFIG_FOLDERPATH&gt;&#47;log4j2.&zwnj;&#8203;xml</code> ) I wonder how this was working fine before the migration."},{"owner":{"account_id":28036938,"reputation":11,"user_id":21415158,"display_name":"Pradeep Reddy"},"score":0,"creation_date":1679017840,"post_id":75762662,"comment_id":133649792,"body_markdown":"This error `ERROR StatusLogger Recursive call to appender Console` that is thrown by log4j is completely irrelevant. I see that there is already an open [issue](https://issues.apache.org/jira/browse/LOG4J2-2738) with log4j about this error.","body":"This error <code>ERROR StatusLogger Recursive call to appender Console</code> that is thrown by log4j is completely irrelevant. I see that there is already an open <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2738\" rel=\"nofollow noreferrer\">issue</a> with log4j about this error."}],"answers":[{"tags":[],"owner":{"account_id":28036938,"reputation":11,"user_id":21415158,"display_name":"Pradeep Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679016981,"creation_date":1679016981,"answer_id":75763058,"question_id":75762662,"body_markdown":"Finally, After going through spring documentation [here][1] and [here][2]. I understood that if we do not place the log4j or logback configuration file on the classpath, We can let springboot know the location of the configuration file either by placing `logging.config` property in application.properties/application.yml or by using the JVM argument `-Dlogging.config=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml`. This is only applicable to Springboot applications.\r\n\r\nFor applications that do not use Springboot (Ex: Spark Java Application), We can still use VM arguments `-Dlog4j.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml` (for log4j/log4j2) and `-Dlogback.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/logback.xml` (for logback)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.logging","title":"Log4j loads defined configuration, later stops and uses spring boot&#39;s log4j.xml","body":"<p>Finally, After going through spring documentation <a href=\"https://docs.spring.io/spring-boot/docs/1.1.2.RELEASE/api/org/springframework/boot/logging/LoggingApplicationListener.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.logging\" rel=\"nofollow noreferrer\">here</a>. I understood that if we do not place the log4j or logback configuration file on the classpath, We can let springboot know the location of the configuration file either by placing <code>logging.config</code> property in application.properties/application.yml or by using the JVM argument <code>-Dlogging.config=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml</code>. This is only applicable to Springboot applications.</p>\n<p>For applications that do not use Springboot (Ex: Spark Java Application), We can still use VM arguments <code>-Dlog4j.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/log4j2.xml</code> (for log4j/log4j2) and <code>-Dlogback.configurationFile=/&lt;YOUR_CONFIG_FOLDERPATH&gt;/logback.xml</code> (for logback)</p>\n"}],"owner":{"account_id":28036938,"reputation":11,"user_id":21415158,"display_name":"Pradeep Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679016981,"creation_date":1679011311,"question_id":75762662,"body_markdown":"I recently migrated a legacy spring boot project from Spring boot version 1.5.9.RELEASE to 2.7.7\r\n\r\nAfter the migration, I see everything working fine except the log4j initialization. I am using the latest log4j version (2.20.0) in the project.\r\n\r\nDuring the application startup, I see that my log4j configuration is loaded, later stopped and it uses the spring boot jar&#39;s log4j2.xml\r\n\r\n```\r\nDEBUG StatusLogger Reconfiguration complete for context[name=18b4aac2] at URI /home/vboxuser/Desktop/cande2/cande2-config/log4j2.xml (org.apache.logging.log4j.core.LoggerContext@7ff2a664) with optional ClassLoader: null\r\nDEBUG StatusLogger Shutdown hook enabled. Registering a new one.\r\nDEBUG StatusLogger LoggerContext[name=18b4aac2, org.apache.logging.log4j.core.LoggerContext@7ff2a664] started OK.\r\nDEBUG StatusLogger uri does not represent a local file: jar:file:/home/vboxuser/.m2/repository/org/springframework/boot/spring-boot/2.7.7/spring-boot-2.7.7.jar!/org/springframework/boot/logging/log4j2/log4j2.xml\r\nDEBUG StatusLogger Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@57175e74\r\nDEBUG StatusLogger PluginManager &#39;Lookup&#39; found 16 plugins\r\nDEBUG StatusLogger Closing JarURLInputStream sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@16afbd92\r\nDEBUG StatusLogger Loaded configuration from jar:file:/home/vboxuser/.m2/repository/org/springframework/boot/spring-boot/2.7.7/spring-boot-2.7.7.jar!/org/springframework/boot/logging/log4j2/log4j2.xml\r\n\r\n```\r\n\r\nand that stops me from using my own log4j configuration. It also throws below error in the logs after log4j intialization.\r\n\r\n```\r\n2023-03-16 19:57:21.802  INFO 11942 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1243 ms\r\nERROR StatusLogger Recursive call to appender Console\r\nERROR StatusLogger Recursive call to appender Console\r\nERROR StatusLogger Recursive call to appender Console\r\n```\r\n\r\nLet me know your thoughts about this issue.\r\n\r\n\r\nI checked and confirmed that there are no transitive log4j dependencies coming in. ","title":"Log4j loads defined configuration, later stops and uses spring boot&#39;s log4j.xml","body":"<p>I recently migrated a legacy spring boot project from Spring boot version 1.5.9.RELEASE to 2.7.7</p>\n<p>After the migration, I see everything working fine except the log4j initialization. I am using the latest log4j version (2.20.0) in the project.</p>\n<p>During the application startup, I see that my log4j configuration is loaded, later stopped and it uses the spring boot jar's log4j2.xml</p>\n<pre><code>DEBUG StatusLogger Reconfiguration complete for context[name=18b4aac2] at URI /home/vboxuser/Desktop/cande2/cande2-config/log4j2.xml (org.apache.logging.log4j.core.LoggerContext@7ff2a664) with optional ClassLoader: null\nDEBUG StatusLogger Shutdown hook enabled. Registering a new one.\nDEBUG StatusLogger LoggerContext[name=18b4aac2, org.apache.logging.log4j.core.LoggerContext@7ff2a664] started OK.\nDEBUG StatusLogger uri does not represent a local file: jar:file:/home/vboxuser/.m2/repository/org/springframework/boot/spring-boot/2.7.7/spring-boot-2.7.7.jar!/org/springframework/boot/logging/log4j2/log4j2.xml\nDEBUG StatusLogger Using configurationFactory org.apache.logging.log4j.core.config.ConfigurationFactory$Factory@57175e74\nDEBUG StatusLogger PluginManager 'Lookup' found 16 plugins\nDEBUG StatusLogger Closing JarURLInputStream sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@16afbd92\nDEBUG StatusLogger Loaded configuration from jar:file:/home/vboxuser/.m2/repository/org/springframework/boot/spring-boot/2.7.7/spring-boot-2.7.7.jar!/org/springframework/boot/logging/log4j2/log4j2.xml\n\n</code></pre>\n<p>and that stops me from using my own log4j configuration. It also throws below error in the logs after log4j intialization.</p>\n<pre><code>2023-03-16 19:57:21.802  INFO 11942 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1243 ms\nERROR StatusLogger Recursive call to appender Console\nERROR StatusLogger Recursive call to appender Console\nERROR StatusLogger Recursive call to appender Console\n</code></pre>\n<p>Let me know your thoughts about this issue.</p>\n<p>I checked and confirmed that there are no transitive log4j dependencies coming in.</p>\n"},{"tags":["java","eclipse","search"],"comments":[{"owner":{"account_id":601,"reputation":2352,"user_id":782,"display_name":"Sam Merrell"},"score":0,"creation_date":1218297682,"post_id":6816,"comment_id":16023169,"body_markdown":"Perhaps there is an issue with the classpath? Does your project reference any other projects or have an external classes or jars you are depending on?","body":"Perhaps there is an issue with the classpath? Does your project reference any other projects or have an external classes or jars you are depending on?"}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1218299492,"creation_date":1218299492,"answer_id":6840,"question_id":6816,"body_markdown":"Two more general-purpose mechanisms for fixing some of Eclipse&#39;s idiosyncrasies:\r\n\r\n   - Close and open the project\r\n   - Delete the project (but not from disk!) and reimport it as an existing project\r\n\r\nFailing that, [bugs.eclipse.org][1] might provide the answer.\r\n\r\nIf the workspace is caching something broken, you may be able to delete it by poking around in **workspace/.metadata/.plugins**. Most of that stuff is fairly transient (though backup and watch for deleted preferences).\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/buglist.cgi?query_format=specific&amp;order=relevance+desc&amp;bug_status=__all__&amp;product=JDT&amp;content=Class+file+name+must+end+with+.class","title":"Class file name must end with .class exception in Java search","body":"<p>Two more general-purpose mechanisms for fixing some of Eclipse's idiosyncrasies:</p>\n\n<ul>\n<li>Close and open the project</li>\n<li>Delete the project (but not from disk!) and reimport it as an existing project</li>\n</ul>\n\n<p>Failing that, <a href=\"https://bugs.eclipse.org/bugs/buglist.cgi?query_format=specific&amp;order=relevance+desc&amp;bug_status=__all__&amp;product=JDT&amp;content=Class+file+name+must+end+with+.class\" rel=\"noreferrer\">bugs.eclipse.org</a> might provide the answer.</p>\n\n<p>If the workspace is caching something broken, you may be able to delete it by poking around in <strong>workspace/.metadata/.plugins</strong>. Most of that stuff is fairly transient (though backup and watch for deleted preferences).</p>\n"},{"tags":[],"owner":{"display_name":"sauron"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1227185899,"creation_date":1227185899,"answer_id":305214,"question_id":6816,"body_markdown":"Got this error to the other day. Tried deleting the all .class-files and resources from my output folder manually. Didn&#39;t work. Restarted my computer (WinXP). Didn&#39;t work. Closed my project in Eclipse and opened it again. **Worked!!!** Hopes this solves someones problem out there. The search facilities and truly essential to Eclipse.","title":"Class file name must end with .class exception in Java search","body":"<p>Got this error to the other day. Tried deleting the all .class-files and resources from my output folder manually. Didn't work. Restarted my computer (WinXP). Didn't work. Closed my project in Eclipse and opened it again. <strong>Worked!!!</strong> Hopes this solves someones problem out there. The search facilities and truly essential to Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":34968,"reputation":1502,"user_id":98903,"display_name":"Olivier Dagenais"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1247159956,"creation_date":1241121894,"answer_id":808782,"question_id":6816,"body_markdown":"Comment [#9 to bug 269820][1] explains how to delete the search index, which appears to be the solution to a corrupt index whose symptoms are the dreaded\r\n\r\n&gt; An internal error occurred during: &quot;Items filtering&quot;.&lt;br /&gt;\r\n&gt; Class file name must end with .class\r\n\r\nmessage box.\r\n\r\nHow to delete the search index:\r\n\r\n 1. Close Eclipse\r\n 2. Delete &lt;tt&gt;&amp;lt;workspace&amp;gt;/.metadata/.plugins/org.eclipse.jdt.core/*.index&lt;/tt&gt;\r\n 3. Delete &lt;tt&gt;&amp;lt;workspace&amp;gt;/.metadata/.plugins/org.eclipse.jdt.core/savedIndexNames.txt&lt;/tt&gt;\r\n 4. Start Eclipse again\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=269820#c9\r\n","title":"Class file name must end with .class exception in Java search","body":"<p>Comment <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=269820#c9\" rel=\"noreferrer\">#9 to bug 269820</a> explains how to delete the search index, which appears to be the solution to a corrupt index whose symptoms are the dreaded</p>\n\n<blockquote>\n  <p>An internal error occurred during: \"Items filtering\".<br />\n  Class file name must end with .class</p>\n</blockquote>\n\n<p>message box.</p>\n\n<p>How to delete the search index:</p>\n\n<ol>\n<li>Close Eclipse</li>\n<li>Delete &lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/*.index</li>\n<li>Delete &lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/savedIndexNames.txt</li>\n<li>Start Eclipse again</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"gichchi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1249275515,"creation_date":1249275285,"answer_id":1220707,"question_id":6816,"body_markdown":"I also encountered this issue recently, the below scenario worked for me.\r\n\r\n1. Close Eclipse\r\n2. Delete `&lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/*.index` \r\n3. Delete `&lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/savedIndexNames.txt` \r\n4. Start Eclipse again ","title":"Class file name must end with .class exception in Java search","body":"<p>I also encountered this issue recently, the below scenario worked for me.</p>\n\n<ol>\n<li>Close Eclipse</li>\n<li>Delete <code>&lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/*.index</code> </li>\n<li>Delete <code>&lt;workspace&gt;/.metadata/.plugins/org.eclipse.jdt.core/savedIndexNames.txt</code> </li>\n<li>Start Eclipse again </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":44066,"reputation":3830,"user_id":129104,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345224199,"creation_date":1260820632,"answer_id":1903106,"question_id":6816,"body_markdown":"Closing the projects didn&#39;t do the trick for me. I started eclipse with the -clean flag and that worked for some reason.","title":"Class file name must end with .class exception in Java search","body":"<p>Closing the projects didn't do the trick for me. I started eclipse with the -clean flag and that worked for some reason.</p>\n"},{"tags":[],"owner":{"account_id":341912,"reputation":1589,"user_id":672780,"accept_rate":100,"display_name":"LoganMzz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1300875096,"creation_date":1300875096,"answer_id":5403613,"question_id":6816,"body_markdown":"Just\r\n\r\n - Close project\r\n - Clear manually output folder(s)\r\n - Open project\r\n\r\n(Eclipse 3.5 SR2, Build id: 20100218-1602)","title":"Class file name must end with .class exception in Java search","body":"<p>Just</p>\n\n<ul>\n<li>Close project</li>\n<li>Clear manually output folder(s)</li>\n<li>Open project</li>\n</ul>\n\n<p>(Eclipse 3.5 SR2, Build id: 20100218-1602)</p>\n"}],"owner":{"account_id":610,"reputation":116913,"user_id":797,"accept_rate":66,"display_name":"Matt Sheppard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26385,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":6840,"answer_count":6,"score":67,"last_activity_date":1679016857,"creation_date":1218296430,"question_id":6816,"body_markdown":"I have a problem using the Java search function in Eclipse on a particular project.\r\n\r\nWhen using the Java search on one particular project, I get an error message saying `Class file name must end with .class` (see stack trace below). This does not seem to be happening on all projects, just one particular one, so perhaps there&#39;s something I should try to get rebuilt?\r\n\r\nI have already tried `Project -&gt; Clean`... and Closing Eclipse, deleting all the built class files and restarting Eclipse to no avail.\r\n\r\nThe only reference I&#39;ve been able to find on Google for the problem is at [http://www.crazysquirrel.com/computing/java/eclipse/error-during-java-search.jspx][1], but unfortunately his solution (closing, deleting class files, restarting) did not work for me.\r\n\r\nIf anyone can suggest something to try, or there&#39;s any more info I can gather which might help track it&#39;s down, I&#39;d greatly appreciate the pointers.\r\n\r\n    Version: 3.4.0\r\n    Build id: I20080617-2000\r\n\r\nAlso just found this thread - [http://www.myeclipseide.com/PNphpBB2-viewtopic-t-20067.html][2] - which indicates the same problem may occur when the project name contains a period. Unfortunately, that&#39;s not the case in my setup, so I&#39;m still stuck.\r\n\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Class file name must end with .class\r\n    at org.eclipse.jdt.internal.core.PackageFragment.getClassFile(PackageFragment.java:182)\r\n    at org.eclipse.jdt.internal.core.util.HandleFactory.createOpenable(HandleFactory.java:109)\r\n    at org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1177)\r\n    at org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\r\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:223)\r\n    at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:506)\r\n    at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:551)\r\n    at org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.internalSearch(RefactoringSearchEngine.java:142)\r\n    at org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.search(RefactoringSearchEngine.java:129)\r\n    at org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.initializeReferences(RenameTypeProcessor.java:594)\r\n    at org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.doCheckFinalConditions(RenameTypeProcessor.java:522)\r\n    at org.eclipse.jdt.internal.corext.refactoring.rename.JavaRenameProcessor.checkFinalConditions(JavaRenameProcessor.java:45)\r\n    at org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:225)\r\n    at org.eclipse.ltk.core.refactoring.Refactoring.checkAllConditions(Refactoring.java:160)\r\n    at org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper$Operation.run(RefactoringExecutionHelper.java:77)\r\n    at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39)\r\n    at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:709)\r\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800)\r\n    at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4650)\r\n    at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:92)\r\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\r\n\r\nUpdate\r\n---\r\n\r\nThanks [McDowell][3], closing and opening the project seems to have fixed it (at least for now).\r\n\r\n  [1]: http://www.crazysquirrel.com/computing/java/eclipse/error-during-java-search.jspx\r\n  [2]: http://www.myeclipseide.com/PNphpBB2-viewtopic-t-20067.html\r\n  [3]: #6840","title":"Class file name must end with .class exception in Java search","body":"<p>I have a problem using the Java search function in Eclipse on a particular project.</p>\n<p>When using the Java search on one particular project, I get an error message saying <code>Class file name must end with .class</code> (see stack trace below). This does not seem to be happening on all projects, just one particular one, so perhaps there's something I should try to get rebuilt?</p>\n<p>I have already tried <code>Project -&gt; Clean</code>... and Closing Eclipse, deleting all the built class files and restarting Eclipse to no avail.</p>\n<p>The only reference I've been able to find on Google for the problem is at <a href=\"http://www.crazysquirrel.com/computing/java/eclipse/error-during-java-search.jspx\" rel=\"nofollow noreferrer\">http://www.crazysquirrel.com/computing/java/eclipse/error-during-java-search.jspx</a>, but unfortunately his solution (closing, deleting class files, restarting) did not work for me.</p>\n<p>If anyone can suggest something to try, or there's any more info I can gather which might help track it's down, I'd greatly appreciate the pointers.</p>\n<pre><code>Version: 3.4.0\nBuild id: I20080617-2000\n</code></pre>\n<p>Also just found this thread - <a href=\"http://www.myeclipseide.com/PNphpBB2-viewtopic-t-20067.html\" rel=\"nofollow noreferrer\">http://www.myeclipseide.com/PNphpBB2-viewtopic-t-20067.html</a> - which indicates the same problem may occur when the project name contains a period. Unfortunately, that's not the case in my setup, so I'm still stuck.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Class file name must end with .class\nat org.eclipse.jdt.internal.core.PackageFragment.getClassFile(PackageFragment.java:182)\nat org.eclipse.jdt.internal.core.util.HandleFactory.createOpenable(HandleFactory.java:109)\nat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1177)\nat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\nat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:223)\nat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:506)\nat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:551)\nat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.internalSearch(RefactoringSearchEngine.java:142)\nat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.search(RefactoringSearchEngine.java:129)\nat org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.initializeReferences(RenameTypeProcessor.java:594)\nat org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.doCheckFinalConditions(RenameTypeProcessor.java:522)\nat org.eclipse.jdt.internal.corext.refactoring.rename.JavaRenameProcessor.checkFinalConditions(JavaRenameProcessor.java:45)\nat org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:225)\nat org.eclipse.ltk.core.refactoring.Refactoring.checkAllConditions(Refactoring.java:160)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringExecutionHelper$Operation.run(RefactoringExecutionHelper.java:77)\nat org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39)\nat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:709)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800)\nat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4650)\nat org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:92)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\n</code></pre>\n<h2>Update</h2>\n<p>Thanks McDowell, closing and opening the project seems to have fixed it (at least for now).</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-dynamodb"],"comments":[{"owner":{"account_id":15793685,"reputation":933,"user_id":11396224,"display_name":"nirvana124"},"score":1,"creation_date":1616139653,"post_id":66703771,"comment_id":117914037,"body_markdown":"You can see the example in aws documents.\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/batch-operation-document-api-java.html","body":"You can see the example in aws documents. <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/batch-operation-document-api-java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/developerguide/&hellip;</a>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1616170530,"post_id":66703771,"comment_id":117927510,"body_markdown":"Refer to the AWS Java V2 Dev Guide as i specified below for the latest code examples.","body":"Refer to the AWS Java V2 Dev Guide as i specified below for the latest code examples."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1679015392,"creation_date":1616170456,"answer_id":66711807,"question_id":66703771,"body_markdown":"When you want to perform AWS tasks with Java, check the Java Developer V2 Dev Guide located here. \r\n\r\n[Developer guide - AWS SDK for Java 2.x][1]\r\n\r\nThe Amazon Java SDK team recommends moving to V2. \r\n\r\n**Amazon recommends using AWS SDK for Java 2.x, which is a major rewrite of the 1.11.x code base built on top of Java 8+. Java SDK 2.x has improved consistency, ease of use, and strongly enforced immutability. It also has support for non-blocking I/O and the ability to plug in a different HTTP implementation at run time.**\r\n\r\nNow to perform the task that you want, use the DynamoDB API V2 and the Enhanced Client. You can [find information here][2]. \r\n\r\nSee this example that demonstrates how to insert many items into an Amazon DynamoDB table by using the enhanced client.\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/enhanced/EnhancedBatchWriteItems.java\r\n\r\n\r\nYou can use the Java Lambda runtime API and the DynamoDB API to create a Lambda function to meet your requirements. \r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-enhanced.html\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/EnhancedBatchWriteItems.java","title":"Perform batch write in DynamoDB in Java","body":"<p>When you want to perform AWS tasks with Java, check the Java Developer V2 Dev Guide located here.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Developer guide - AWS SDK for Java 2.x</a></p>\n<p>The Amazon Java SDK team recommends moving to V2.</p>\n<p><strong>Amazon recommends using AWS SDK for Java 2.x, which is a major rewrite of the 1.11.x code base built on top of Java 8+. Java SDK 2.x has improved consistency, ease of use, and strongly enforced immutability. It also has support for non-blocking I/O and the ability to plug in a different HTTP implementation at run time.</strong></p>\n<p>Now to perform the task that you want, use the DynamoDB API V2 and the Enhanced Client. You can <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-enhanced.html\" rel=\"nofollow noreferrer\">find information here</a>.</p>\n<p>See this example that demonstrates how to insert many items into an Amazon DynamoDB table by using the enhanced client.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/enhanced/EnhancedBatchWriteItems.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/enhanced/EnhancedBatchWriteItems.java</a></p>\n<p>You can use the Java Lambda runtime API and the DynamoDB API to create a Lambda function to meet your requirements.</p>\n"}],"owner":{"account_id":11118364,"reputation":678,"user_id":8162018,"display_name":"mightyMouse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66711807,"answer_count":1,"score":2,"last_activity_date":1679015392,"creation_date":1616137129,"question_id":66703771,"body_markdown":"I want to write items to DynamoDB using AWS Lambda written in Java. I use the following code to write to DynamoDB one record at a time:\r\n\r\n    public void writeToDynamoDB() {\r\n       AmazonDynamoDB client = AmazonDyanmoDBClientBuilder.defaultClient();\r\n       Map&lt;String, AttributeValue&gt; itemValues = new HashMap&lt;&gt;();\r\n       itemValues.put(&quot;partitionKey&quot;, new AttributeValue(&quot;123&quot;));\r\n       client.putItem(&quot;DynamoDBTable&quot;, itemValues);    \r\n    }\r\n\r\n\r\nBut it turns out that I need to write the records in batches. How can I do it. Is there any modification I can make to this code?\r\n","title":"Perform batch write in DynamoDB in Java","body":"<p>I want to write items to DynamoDB using AWS Lambda written in Java. I use the following code to write to DynamoDB one record at a time:</p>\n<pre><code>public void writeToDynamoDB() {\n   AmazonDynamoDB client = AmazonDyanmoDBClientBuilder.defaultClient();\n   Map&lt;String, AttributeValue&gt; itemValues = new HashMap&lt;&gt;();\n   itemValues.put(&quot;partitionKey&quot;, new AttributeValue(&quot;123&quot;));\n   client.putItem(&quot;DynamoDBTable&quot;, itemValues);    \n}\n</code></pre>\n<p>But it turns out that I need to write the records in batches. How can I do it. Is there any modification I can make to this code?</p>\n"},{"tags":["java","hashmap","concurrenthashmap"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1678948057,"post_id":75752615,"comment_id":133632357,"body_markdown":"&quot;Comparator is to .compareTo what X is to .equals+.hashcode - why doesn&#39;t Java have X&quot;. Is that your question?","body":"&quot;Comparator is to .compareTo what X is to .equals+.hashcode - why doesn&#39;t Java have X&quot;. Is that your question?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679014557,"creation_date":1678948206,"answer_id":75752782,"question_id":75752615,"body_markdown":"This was requested as an RFE for Java 1.2.2 and so on, but never implemented and eventually closed.  https://bugs.openjdk.org/browse/JDK-4269596\r\n\r\nJoshua Bloch&#39;s analysis in 1999 was:\r\n\r\n&gt; When the Collections Framework was designed, we thought hard about whether to include support for custom equals/hashCode methods. In the end, we rejected it on the grounds of increased complexity, and inconsistency with other design decisions. In particular, the decision that List, Set and Map objects can be compared independent of their representation is inconsistent with support for custom equals methods.\r\n&gt;\r\n&gt; Moreover, full support for custom equals methods is probably overkill. 99% of the time, when a developer wants a collection with a custom equals method, the desired equals method is element identity. This suggests an alternate solution, which is to provide one or two special-purpose implementations that are based on identity rather than equality. Of course these implementations would not be &quot;good citizens of the realm&quot;, in that they could not be properly compared to other collections. (Which equals method would you use?) This is not without precedent, however. It is possible to make a SortedMap/Set that violates the Map/Set contract, by specifiying a Comparator that is not &quot;consistent with equals.&quot;\r\n&gt;\r\n&gt; I am leaving this RFE open to track support for special-purpose, identity-based Set and Map implementations.\r\n\r\nThe final comment (in 2011) notes that identity-based use-cases *have been* addressed via `IdentityHashMap` etc.\r\n\r\nThere a number of linked issues if you want to trawl through them.\r\n\r\n--------------------\r\n\r\nHaving said that, if you want a Java hash table implementation that allows you use a different `hashCode` and `equals` to those implemented by the key type, there are 3rd party libraries that support this.  For example, Apache Commons Collections `AbstractHashedMap` ([javadoc][1]).  There are other possibilities listed in this Q&amp;A: https://stackoverflow.com/questions/15184637.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/map/AbstractHashedMap.html","title":"Is there a good reason Java&#39;s hash maps don&#39;t allow custom equals/hashCode?","body":"<p>This was requested as an RFE for Java 1.2.2 and so on, but never implemented and eventually closed.  <a href=\"https://bugs.openjdk.org/browse/JDK-4269596\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-4269596</a></p>\n<p>Joshua Bloch's analysis in 1999 was:</p>\n<blockquote>\n<p>When the Collections Framework was designed, we thought hard about whether to include support for custom equals/hashCode methods. In the end, we rejected it on the grounds of increased complexity, and inconsistency with other design decisions. In particular, the decision that List, Set and Map objects can be compared independent of their representation is inconsistent with support for custom equals methods.</p>\n<p>Moreover, full support for custom equals methods is probably overkill. 99% of the time, when a developer wants a collection with a custom equals method, the desired equals method is element identity. This suggests an alternate solution, which is to provide one or two special-purpose implementations that are based on identity rather than equality. Of course these implementations would not be &quot;good citizens of the realm&quot;, in that they could not be properly compared to other collections. (Which equals method would you use?) This is not without precedent, however. It is possible to make a SortedMap/Set that violates the Map/Set contract, by specifiying a Comparator that is not &quot;consistent with equals.&quot;</p>\n<p>I am leaving this RFE open to track support for special-purpose, identity-based Set and Map implementations.</p>\n</blockquote>\n<p>The final comment (in 2011) notes that identity-based use-cases <em>have been</em> addressed via <code>IdentityHashMap</code> etc.</p>\n<p>There a number of linked issues if you want to trawl through them.</p>\n<hr />\n<p>Having said that, if you want a Java hash table implementation that allows you use a different <code>hashCode</code> and <code>equals</code> to those implemented by the key type, there are 3rd party libraries that support this.  For example, Apache Commons Collections <code>AbstractHashedMap</code> (<a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/map/AbstractHashedMap.html\" rel=\"nofollow noreferrer\">javadoc</a>).  There are other possibilities listed in this Q&amp;A: <a href=\"https://stackoverflow.com/questions/15184637\">Custom hashcode/equals operation for HashMap</a>.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75752782,"answer_count":1,"score":3,"last_activity_date":1679014557,"creation_date":1678946400,"question_id":75752615,"body_markdown":"`ConcurrentHashMap` and `HashMap` are using `equals()`/`hashCode()` of the key instances.\r\n\r\nOver the decades, on quite a few occasions, I have missed the possibility to provide different equals/hashCode implementations. Not being able to do this means you either have to use a sorted map, which allows you to set a `Comparator`, at the cost of SortedMap&#39;s worse performance characteristics, or you have to use different objects as your keys, i.e. by creating key wrapper instances that provide their own equals/hashCode implementations.\r\n\r\nIn the latter case, the need to create another object for every key has obvious memory and performance implications. (In the current case I&#39;m looking at, it would mean the creation of hundreds of thousands of additional object instances per second at peak times - which is where performance matters most.)\r\n\r\nThis seems like such a trivial and safe change to do, with huge performance benefits in the cases where it is needed.\r\n\r\n.Net has been offering this for its `Dictionary` since [at least version 1.1](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.-ctor?view=net-7.0&amp;viewFallbackFrom=netframework-1.1#system-collections-generic-dictionary-2-ctor(system-collections-generic-iequalitycomparer((-0)))). So are there any good, technical reasons why Java does not?\r\n","title":"Is there a good reason Java&#39;s hash maps don&#39;t allow custom equals/hashCode?","body":"<p><code>ConcurrentHashMap</code> and <code>HashMap</code> are using <code>equals()</code>/<code>hashCode()</code> of the key instances.</p>\n<p>Over the decades, on quite a few occasions, I have missed the possibility to provide different equals/hashCode implementations. Not being able to do this means you either have to use a sorted map, which allows you to set a <code>Comparator</code>, at the cost of SortedMap's worse performance characteristics, or you have to use different objects as your keys, i.e. by creating key wrapper instances that provide their own equals/hashCode implementations.</p>\n<p>In the latter case, the need to create another object for every key has obvious memory and performance implications. (In the current case I'm looking at, it would mean the creation of hundreds of thousands of additional object instances per second at peak times - which is where performance matters most.)</p>\n<p>This seems like such a trivial and safe change to do, with huge performance benefits in the cases where it is needed.</p>\n<p>.Net has been offering this for its <code>Dictionary</code> since <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.-ctor?view=net-7.0&amp;viewFallbackFrom=netframework-1.1#system-collections-generic-dictionary-2-ctor(system-collections-generic-iequalitycomparer((-0)))\" rel=\"nofollow noreferrer\">at least version 1.1</a>. So are there any good, technical reasons why Java does not?</p>\n"},{"tags":["java","mongodb","bson"],"answers":[{"tags":[],"owner":{"account_id":12854975,"reputation":26,"user_id":9298602,"display_name":"Bourne Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679014441,"creation_date":1678967119,"answer_id":75755818,"question_id":75754782,"body_markdown":"You can upgrade your mongo-driver version. I use following version works fine.\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd also you can use following code to get Document list easier.\r\n```\r\nCollectionType collectionType = objectMapper.getTypeFactory().constructCollectionType(ArrayList.class, Document.class);\r\nList&lt;Document&gt; docList = objectMapper.readValue(docListStr, collectionType);\r\n```\r\n\r\n**EDIT**: After add `$`, you can use `Document.parse` instead of `objectMapper.readValue`, like this.\r\n```\r\npackage com.example;\r\n\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.type.CollectionType;\r\nimport com.fasterxml.jackson.databind.type.TypeFactory;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.bson.Document;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.ArrayList;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.List;\r\n\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n        MongoCollection&lt;Document&gt; collection;\r\n        ObjectMapper objectMapper;\r\n\r\n\r\n        //Get the collection from the command line input and drop\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://co:co@cluster0.tx0sb.mongodb.net/?retryWrites=true&amp;w=majority&quot;);\r\n        collection = mongoClient.getDatabase(&quot;a&quot;).getCollection(&quot;Example&quot;);\r\n        String docListStr;\r\n        try {\r\n            String resourceFilePath = &quot;C:\\\\sampledata\\\\example.json&quot;;\r\n            File sourceFile = new File(resourceFilePath);\r\n\r\n            if (!sourceFile.exists()) {\r\n                throw new IllegalArgumentException(String.format(&quot;The source file &#39;%s&#39; does not exist.&quot;, resourceFilePath));\r\n            }\r\n            docListStr = FileUtils.readFileToString(sourceFile, StandardCharsets.UTF_8);\r\n\r\n            objectMapper = new ObjectMapper();\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            TypeFactory typeFactory = objectMapper.getTypeFactory();\r\n            CollectionType collectionType = typeFactory.constructCollectionType(ArrayList.class, typeFactory.constructMapType(LinkedHashMap.class, String.class, Object.class));\r\n            List&lt;LinkedHashMap&lt;String, Object&gt;&gt; mapList = objectMapper.readValue(docListStr, collectionType);\r\n\r\n            List&lt;Document&gt; docList = new ArrayList&lt;&gt;(mapList.size());\r\n            for (LinkedHashMap&lt;String, Object&gt; map : mapList) {\r\n                String docStr = objectMapper.writeValueAsString(map);\r\n                Document document = Document.parse(docStr);\r\n                docList.add(document);\r\n            }\r\n            collection.insertMany(docList);\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Invalid BSON field name $oid when loading into Mongo collection from file","body":"<p>You can upgrade your mongo-driver version. I use following version works fine.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And also you can use following code to get Document list easier.</p>\n<pre><code>CollectionType collectionType = objectMapper.getTypeFactory().constructCollectionType(ArrayList.class, Document.class);\nList&lt;Document&gt; docList = objectMapper.readValue(docListStr, collectionType);\n</code></pre>\n<p><strong>EDIT</strong>: After add <code>$</code>, you can use <code>Document.parse</code> instead of <code>objectMapper.readValue</code>, like this.</p>\n<pre><code>package com.example;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.type.CollectionType;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport org.apache.commons.io.FileUtils;\nimport org.bson.Document;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        MongoCollection&lt;Document&gt; collection;\n        ObjectMapper objectMapper;\n\n\n        //Get the collection from the command line input and drop\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://co:co@cluster0.tx0sb.mongodb.net/?retryWrites=true&amp;w=majority&quot;);\n        collection = mongoClient.getDatabase(&quot;a&quot;).getCollection(&quot;Example&quot;);\n        String docListStr;\n        try {\n            String resourceFilePath = &quot;C:\\\\sampledata\\\\example.json&quot;;\n            File sourceFile = new File(resourceFilePath);\n\n            if (!sourceFile.exists()) {\n                throw new IllegalArgumentException(String.format(&quot;The source file '%s' does not exist.&quot;, resourceFilePath));\n            }\n            docListStr = FileUtils.readFileToString(sourceFile, StandardCharsets.UTF_8);\n\n            objectMapper = new ObjectMapper();\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            TypeFactory typeFactory = objectMapper.getTypeFactory();\n            CollectionType collectionType = typeFactory.constructCollectionType(ArrayList.class, typeFactory.constructMapType(LinkedHashMap.class, String.class, Object.class));\n            List&lt;LinkedHashMap&lt;String, Object&gt;&gt; mapList = objectMapper.readValue(docListStr, collectionType);\n\n            List&lt;Document&gt; docList = new ArrayList&lt;&gt;(mapList.size());\n            for (LinkedHashMap&lt;String, Object&gt; map : mapList) {\n                String docStr = objectMapper.writeValueAsString(map);\n                Document document = Document.parse(docStr);\n                docList.add(document);\n            }\n            collection.insertMany(docList);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8460842,"reputation":554,"user_id":6346653,"display_name":"nick_j_white"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75755818,"answer_count":1,"score":0,"last_activity_date":1679014441,"creation_date":1678961716,"question_id":75754782,"body_markdown":"I am attempting to write a basic loader for a MongoDb collection which will read prepared documents from a file and insert them into a collection\r\nThe class I am using is currently written as below:\r\n\r\n    package com.example;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.bson.Document;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.google.gson.Gson;\r\n    import com.mongodb.BasicDBObject;\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n    import com.mongodb.client.MongoCollection;\r\n    import com.mongodb.client.model.Filters;\r\n    import com.mongodb.client.model.IndexOptions;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tMongoCollection&lt;Document&gt; collection;\r\n    \t\tObjectMapper objectMapper;\r\n    \t\tDocument[] docArray;\r\n    \t\tList&lt;Document&gt; docList;\r\n    \r\n    \t\t//Get the collection from the command line input and drop\r\n    \t\tcollection = MongoClients.create(&quot;mongodb://example:password@localhost:27017/?authSource=admin&quot;).getCollection(&quot;Example&quot;);\r\n    \t\tString docListStr;\r\n    \t\ttry {\r\n    \t\t\tString resourceFilePath = &quot;C:\\\\sampledata\\\\example.json&quot;;\r\n    \t\t\tFile sourceFile = new File(resourceFilePath);\r\n    \t\t\t\r\n    \t\t\tif (!sourceFile.exists()) {\r\n    \t\t\t\tthrow new IllegalArgumentException(String.format(&quot;The source file &#39;%s&#39; does not exist.&quot;, new Object[] { resourceFilePath }));\r\n    \t\t\t}\r\n    \t\t\tdocListStr = FileUtils.readFileToString(sourceFile, StandardCharsets.UTF_8);\r\n    \t\t\t\r\n    \t\t\tobjectMapper = new ObjectMapper();\r\n    \t\t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\t\tdocArray = objectMapper.readValue(docListStr, Document[].class);\r\n    \t\t\tdocList = new ArrayList&lt;&gt;();\r\n    \t\t\tfor (int i=0; i&lt;docArray.length; i++) {\r\n    \t\t\t\tdocList.add(docArray[i]);\r\n    \t\t\t}\r\n    \r\n    \t\t\tcollection.insertMany(docList);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis works fine if I don&#39;t specify an object Id (one will be generated as expected) but I want to be able to clean this collection and re-insert documents with the same Ids as were present before.\r\nIn the JSON file, I am specifying the object Id alongside other data fields as below:\r\n\r\n    [{\r\n    \t&quot;_id&quot;: {\r\n    \t\t&quot;$oid&quot;: &quot;63df25a1343a3278747d6398&quot;\r\n    \t},\r\n    \t&quot;example&quot;: &quot;test1&quot;,\r\n    \t&quot;_class&quot;: &quot;com.example.Example&quot;\r\n    },\r\n    {\r\n    \t&quot;_id&quot;: {\r\n    \t\t&quot;$oid&quot;: &quot;63df25a1343a3278747d6398&quot;\r\n    \t},\r\n    \t&quot;example&quot;: &quot;test2&quot;,\r\n    \t&quot;_class&quot;: &quot;com.example.Example&quot;\r\n    }]\r\n\r\nHowever, when I run this, I hit the error below:\r\n\r\n    java.lang.IllegalArgumentException: Invalid BSON field name $oid\r\n    \tat org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\r\n    \tat org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\r\n    \tat org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:182)\r\n    \tat org.bson.codecs.DocumentCodec.beforeFields(DocumentCodec.java:167)\r\n    \tat org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:192)\r\n    \tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\r\n    \tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\r\n    \tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n    \tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n    \tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:387)\r\n    \tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:377)\r\n    \tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n    \tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n    \tat com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\r\n    \tat com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\r\n    \tat com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:143)\r\n    \tat com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\r\n    \tat com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:57)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:244)\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:444)\r\n    \tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\r\n    \tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:200)\r\n    \tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\r\n    \tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:419)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:257)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:68)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:201)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:192)\r\n    \tat com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:424)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:192)\r\n    \tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:67)\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:193)\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.executeInsertMany(MongoCollectionImpl.java:520)\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertMany(MongoCollectionImpl.java:504)\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertMany(MongoCollectionImpl.java:499)\r\n\r\nHow can I resolve this to allow for Object Ids to be spcified in the files?\r\n\r\nUpdate:\r\n\r\nI currently have a workaround in place, which is to check the keyset of each Document in the list, and if it matches &quot;_id&quot;, fetch the corresponding value, parse it as a string to fetch the $oid attribute and convert to ObjectId. The existng &quot;_id&quot; key-value pair is then removed and added back with the ObjectId type instead:\r\n\r\n    for (Document docListEntry: docList) {\r\n    \t\tif (docListEntry.get(&quot;_id&quot;) != null) {\r\n    \t\t\tObjectId objectId = new ObjectId(docListEntry.remove(&quot;_id&quot;).toString().split(&quot;}&quot;)[0].split(&quot;=&quot;)[1]);\r\n    \t\t\tdocListEntry.put(&quot;_id&quot;,objectId);\t\r\n    \t\t}\r\n    }\r\n\r\nIt&#39;s not very clean, but it does resolve my issue for now","title":"Invalid BSON field name $oid when loading into Mongo collection from file","body":"<p>I am attempting to write a basic loader for a MongoDb collection which will read prepared documents from a file and insert them into a collection\nThe class I am using is currently written as below:</p>\n<pre><code>package com.example;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.apache.commons.io.FileUtils;\nimport org.bson.Document;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.google.gson.Gson;\nimport com.mongodb.BasicDBObject;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.model.Filters;\nimport com.mongodb.client.model.IndexOptions;\n\npublic class Example {\n\n    public static void main(String[] args){\n        MongoCollection&lt;Document&gt; collection;\n        ObjectMapper objectMapper;\n        Document[] docArray;\n        List&lt;Document&gt; docList;\n\n        //Get the collection from the command line input and drop\n        collection = MongoClients.create(&quot;mongodb://example:password@localhost:27017/?authSource=admin&quot;).getCollection(&quot;Example&quot;);\n        String docListStr;\n        try {\n            String resourceFilePath = &quot;C:\\\\sampledata\\\\example.json&quot;;\n            File sourceFile = new File(resourceFilePath);\n            \n            if (!sourceFile.exists()) {\n                throw new IllegalArgumentException(String.format(&quot;The source file '%s' does not exist.&quot;, new Object[] { resourceFilePath }));\n            }\n            docListStr = FileUtils.readFileToString(sourceFile, StandardCharsets.UTF_8);\n            \n            objectMapper = new ObjectMapper();\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n            docArray = objectMapper.readValue(docListStr, Document[].class);\n            docList = new ArrayList&lt;&gt;();\n            for (int i=0; i&lt;docArray.length; i++) {\n                docList.add(docArray[i]);\n            }\n\n            collection.insertMany(docList);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This works fine if I don't specify an object Id (one will be generated as expected) but I want to be able to clean this collection and re-insert documents with the same Ids as were present before.\nIn the JSON file, I am specifying the object Id alongside other data fields as below:</p>\n<pre><code>[{\n    &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;63df25a1343a3278747d6398&quot;\n    },\n    &quot;example&quot;: &quot;test1&quot;,\n    &quot;_class&quot;: &quot;com.example.Example&quot;\n},\n{\n    &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;63df25a1343a3278747d6398&quot;\n    },\n    &quot;example&quot;: &quot;test2&quot;,\n    &quot;_class&quot;: &quot;com.example.Example&quot;\n}]\n</code></pre>\n<p>However, when I run this, I hit the error below:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid BSON field name $oid\n    at org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\n    at org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\n    at org.bson.codecs.DocumentCodec.writeValue(DocumentCodec.java:182)\n    at org.bson.codecs.DocumentCodec.beforeFields(DocumentCodec.java:167)\n    at org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:192)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:387)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:377)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\n    at com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\n    at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:143)\n    at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\n    at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:57)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:244)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:444)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:200)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:419)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:257)\n    at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:68)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:201)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:192)\n    at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:424)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:192)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:67)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:193)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeInsertMany(MongoCollectionImpl.java:520)\n    at com.mongodb.client.internal.MongoCollectionImpl.insertMany(MongoCollectionImpl.java:504)\n    at com.mongodb.client.internal.MongoCollectionImpl.insertMany(MongoCollectionImpl.java:499)\n</code></pre>\n<p>How can I resolve this to allow for Object Ids to be spcified in the files?</p>\n<p>Update:</p>\n<p>I currently have a workaround in place, which is to check the keyset of each Document in the list, and if it matches &quot;_id&quot;, fetch the corresponding value, parse it as a string to fetch the $oid attribute and convert to ObjectId. The existng &quot;_id&quot; key-value pair is then removed and added back with the ObjectId type instead:</p>\n<pre><code>for (Document docListEntry: docList) {\n        if (docListEntry.get(&quot;_id&quot;) != null) {\n            ObjectId objectId = new ObjectId(docListEntry.remove(&quot;_id&quot;).toString().split(&quot;}&quot;)[0].split(&quot;=&quot;)[1]);\n            docListEntry.put(&quot;_id&quot;,objectId);   \n        }\n}\n</code></pre>\n<p>It's not very clean, but it does resolve my issue for now</p>\n"},{"tags":["java","android","security","amazon-appstore"],"comments":[{"owner":{"account_id":367769,"reputation":3040,"user_id":714151,"accept_rate":92,"display_name":"MrZander"},"score":0,"creation_date":1357152253,"post_id":14127331,"comment_id":19557263,"body_markdown":"If all you are doing is hashing the password with SHA1, why not just hash it on androids side, then send it to PHP?","body":"If all you are doing is hashing the password with SHA1, why not just hash it on androids side, then send it to PHP?"},{"owner":{"account_id":367769,"reputation":3040,"user_id":714151,"accept_rate":92,"display_name":"MrZander"},"score":1,"creation_date":1357152663,"post_id":14127331,"comment_id":19557434,"body_markdown":"SHA1 is just a hashing algorithm. http://stackoverflow.com/questions/4895523/java-string-to-sha1\n\nAs for the email, See Ashley Ross.","body":"SHA1 is just a hashing algorithm. <a href=\"http://stackoverflow.com/questions/4895523/java-string-to-sha1\">stackoverflow.com/questions/4895523/java-string-to-sha1</a>  As for the email, See Ashley Ross."}],"answers":[{"tags":[],"owner":{"account_id":146136,"reputation":2345,"user_id":356408,"display_name":"Ashley Ross"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357152666,"creation_date":1357152666,"answer_id":14127467,"question_id":14127331,"body_markdown":"Amazon&#39;s requirement seems somewhat conservative, but could be best met by connecting to your web service via HTTPS instead of unencrypted HTTP. This is exactly what another StackOverflow user did in the end: https://stackoverflow.com/questions/6919952/amazon-appstore-submission-failed-sensitive-information-like-password-is-echoe\r\n\r\nWhile you could encrypt the data in your app, send it over the internet, and decrypt it on your server using a shared key, this is vulnerable to attackers that decompile your app to get the key.\r\n\r\nAlternatively, you could generate a key pair, include the public key in the app and encrypt data with that, send it over the internet, and then use the private key on the server to decrypt the incoming data, but you&#39;re basically just re-implementing HTTPS manually.\r\n\r\nAt the end of the day, the &quot;right&quot; way to implement Amazon&#39;s requirement is to use HTTPS. Anything else is likely to be difficult to implement securely.","title":"Encrypting Android app Data sent to MySQL DB","body":"<p>Amazon's requirement seems somewhat conservative, but could be best met by connecting to your web service via HTTPS instead of unencrypted HTTP. This is exactly what another StackOverflow user did in the end: <a href=\"https://stackoverflow.com/questions/6919952/amazon-appstore-submission-failed-sensitive-information-like-password-is-echoe\">Amazon AppStore Submission Failed: &quot;Sensitive information like password is echoed in clear text without encryption&quot;</a></p>\n\n<p>While you could encrypt the data in your app, send it over the internet, and decrypt it on your server using a shared key, this is vulnerable to attackers that decompile your app to get the key.</p>\n\n<p>Alternatively, you could generate a key pair, include the public key in the app and encrypt data with that, send it over the internet, and then use the private key on the server to decrypt the incoming data, but you're basically just re-implementing HTTPS manually.</p>\n\n<p>At the end of the day, the \"right\" way to implement Amazon's requirement is to use HTTPS. Anything else is likely to be difficult to implement securely.</p>\n"}],"owner":{"account_id":1081949,"reputation":15624,"user_id":1078678,"accept_rate":85,"display_name":"TheLettuceMaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14127467,"answer_count":1,"score":2,"last_activity_date":1679013477,"creation_date":1357151981,"question_id":14127331,"body_markdown":"I have submitted an app to Amazon for approval, they came back with this:\r\n\r\n*&quot;This app appears to be sending unencrypted, sensitive information. In this instance, the E-MAIL and PASSWORD,  is being sent in clear text. Please update the app to encrypt all sensitive information.&quot;*\r\n\r\nOn the server side, I encrypt the password in my database using the sha1() PHP method (pretty standard).  I am assuming they want the password/email String that Java passes to be encrypted while in transit to the web service.  I assume?  If this is the case, I need to decrypt the data (specifically the email because this needs to be stored in my DB in plain text.\r\n\r\nHas anyone seen this Amazon inquiry before?  And is my explanation of it correct? And if so, *is* there a way in Java to temporary encrypt data while in transit?\r\n\r\nHere is a sample in how I do it:\r\n\r\n    insertParam = new ArrayList&lt;NameValuePair&gt;();\r\n    \t\t\tinsertParam.add(new BasicNameValuePair(&quot;Email&quot;, Email));\r\n    \t\t\tinsertParam.add(new BasicNameValuePair(&quot;Password&quot;, Password));\r\n    \t\t\tinsertParam.add(new BasicNameValuePair(&quot;Username&quot;, Username));\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tHttpClient httpClient = new DefaultHttpClient();\r\n    \t\t\t\tHttpPost httpPost = new HttpPost(url_select);\r\n    \r\n    \t\t\t\thttpPost.setEntity(new UrlEncodedFormEntity(insertParam));\r\n    \t\t\t\tHttpResponse httpResponse = httpClient.execute(httpPost);\r\n    \t\t\t\tHttpEntity httpEntity = httpResponse.getEntity();\r\n    \r\n    \t\t\t\tis = httpEntity.getContent();\r\n    \r\n    \t\t\t}\r\n\r\n\r\n**EDIT:**\r\n\r\nLooks like HTTPS is the way to go.","title":"Encrypting Android app Data sent to MySQL DB","body":"<p>I have submitted an app to Amazon for approval, they came back with this:</p>\n\n<p><em>\"This app appears to be sending unencrypted, sensitive information. In this instance, the E-MAIL and PASSWORD,  is being sent in clear text. Please update the app to encrypt all sensitive information.\"</em></p>\n\n<p>On the server side, I encrypt the password in my database using the sha1() PHP method (pretty standard).  I am assuming they want the password/email String that Java passes to be encrypted while in transit to the web service.  I assume?  If this is the case, I need to decrypt the data (specifically the email because this needs to be stored in my DB in plain text.</p>\n\n<p>Has anyone seen this Amazon inquiry before?  And is my explanation of it correct? And if so, <em>is</em> there a way in Java to temporary encrypt data while in transit?</p>\n\n<p>Here is a sample in how I do it:</p>\n\n<pre><code>insertParam = new ArrayList&lt;NameValuePair&gt;();\n            insertParam.add(new BasicNameValuePair(\"Email\", Email));\n            insertParam.add(new BasicNameValuePair(\"Password\", Password));\n            insertParam.add(new BasicNameValuePair(\"Username\", Username));\n\n            try {\n                HttpClient httpClient = new DefaultHttpClient();\n                HttpPost httpPost = new HttpPost(url_select);\n\n                httpPost.setEntity(new UrlEncodedFormEntity(insertParam));\n                HttpResponse httpResponse = httpClient.execute(httpPost);\n                HttpEntity httpEntity = httpResponse.getEntity();\n\n                is = httpEntity.getContent();\n\n            }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Looks like HTTPS is the way to go.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis"],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679013032,"creation_date":1679013032,"question_id":75762784,"body_markdown":"I am using spring-data-redis in java spring boot microservice and I&#39;ve got a bulk fetch operation for Entity e, for which I want to return results to the client asap and put the results in redis using non blocking queue which can be drained to remote redis instance asynchronously whenever possible. Now I can implement all of this manually using redisTemplate and @Scheduled job, but wanted to check with the wider community if there&#39;s any existing framework which does this ?\r\n&lt;br&gt;I am using lettuce for client side framework but open to using others.","title":"Local queuing framework for redis bulk write","body":"<p>I am using spring-data-redis in java spring boot microservice and I've got a bulk fetch operation for Entity e, for which I want to return results to the client asap and put the results in redis using non blocking queue which can be drained to remote redis instance asynchronously whenever possible. Now I can implement all of this manually using redisTemplate and @Scheduled job, but wanted to check with the wider community if there's any existing framework which does this ?\n<br>I am using lettuce for client side framework but open to using others.</p>\n"},{"tags":["java","jmeter","load-testing"],"answers":[{"tags":[],"owner":{"account_id":4345667,"reputation":1703,"user_id":3547653,"display_name":"Zubair M Hamdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405304498,"creation_date":1405304498,"answer_id":24728761,"question_id":24632161,"body_markdown":"The below mentioned steps will help you achieve the above scenario:\r\n\r\n - Do correlation for dynamic parameters\r\n    http://apache-jmeter.blogspot.com/2011/12/correlation-regular-expression.html\r\n - Use CSV for login credentials\r\n    http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/\r\n - Add a Cookie Manager to your script\r\n\r\nhope this will help\r\n","title":"How to pass dynamic values to create a multi user environment in Jmeter","body":"<p>The below mentioned steps will help you achieve the above scenario:</p>\n\n<ul>\n<li>Do correlation for dynamic parameters\n<a href=\"http://apache-jmeter.blogspot.com/2011/12/correlation-regular-expression.html\" rel=\"nofollow\">http://apache-jmeter.blogspot.com/2011/12/correlation-regular-expression.html</a></li>\n<li>Use CSV for login credentials\n<a href=\"http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/\" rel=\"nofollow\">http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/</a></li>\n<li>Add a Cookie Manager to your script</li>\n</ul>\n\n<p>hope this will help</p>\n"}],"owner":{"account_id":4607741,"reputation":1,"user_id":3736735,"display_name":"Lohith Menon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679012611,"creation_date":1404823311,"question_id":24632161,"body_markdown":" I&#39;ve recorded a set of requests from our app using Jmeter, our web service is designed so that everytime a user id (fb id) is sent to the server it will be treated as a user.\r\n\r\nMy recorded set of scripts have a &quot;send files with request&quot; option enabled and have a binary file(.binary) attached to it, I need to create a load test scenario where I can send requests with different user IDs to create multi-user scenario. What should I do to get this done? Will it be enough that I pass the user ids a parameter and get it done?\r\n\r\nSince the request uses a post method with this binary file being send along, should I do something to pass values to the binary file?\r\n\r\nCan someone show me an example as on  how to implement this scenario. \r\n","title":"How to pass dynamic values to create a multi user environment in Jmeter","body":"<p>I've recorded a set of requests from our app using Jmeter, our web service is designed so that everytime a user id (fb id) is sent to the server it will be treated as a user.</p>\n\n<p>My recorded set of scripts have a \"send files with request\" option enabled and have a binary file(.binary) attached to it, I need to create a load test scenario where I can send requests with different user IDs to create multi-user scenario. What should I do to get this done? Will it be enough that I pass the user ids a parameter and get it done?</p>\n\n<p>Since the request uses a post method with this binary file being send along, should I do something to pass values to the binary file?</p>\n\n<p>Can someone show me an example as on  how to implement this scenario. </p>\n"},{"tags":["java","for-loop","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1459328248,"post_id":36304002,"comment_id":60231903,"body_markdown":"there are more IDE&#39;s that &#39;require&#39; a default option. My guess: IntelliJ considers all the options you implemented as case as the only possible ones, and they all perform a return on the first iteration.","body":"there are more IDE&#39;s that &#39;require&#39; a default option. My guess: IntelliJ considers all the options you implemented as case as the only possible ones, and they all perform a return on the first iteration."},{"owner":{"account_id":1122238,"reputation":4438,"user_id":1110338,"accept_rate":95,"display_name":"AngryDuck"},"score":0,"creation_date":1459328264,"post_id":36304002,"comment_id":60231913,"body_markdown":"i assume these are your only three cases right?, so basically its saying you are going to hit one of the first two and instantly return true, therefore not looping, just add a `default case`","body":"i assume these are your only three cases right?, so basically its saying you are going to hit one of the first two and instantly return true, therefore not looping, just add a <code>default case</code>"},{"owner":{"account_id":2358112,"reputation":1052,"user_id":2065490,"accept_rate":40,"display_name":"rusted brain"},"score":0,"creation_date":1459330049,"post_id":36304002,"comment_id":60233141,"body_markdown":"@AlexHall with `case NONE` it will iterate more than once, check again.","body":"@AlexHall with <code>case NONE</code> it will iterate more than once, check again."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1459330322,"post_id":36304002,"comment_id":60233366,"body_markdown":"Is this an academic exercise or are you really intending to use this? It&#39;s generally considered bad practice to use the fall through of a switch statement so I would re-write this altogether.","body":"Is this an academic exercise or are you really intending to use this? It&#39;s generally considered bad practice to use the fall through of a switch statement so I would re-write this altogether."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1459330906,"post_id":36304002,"comment_id":60233804,"body_markdown":"@BenThurley it&#39;s common practice to group two or more cases together like that. This is one of the uses of fallthrough that is generally considered ok.","body":"@BenThurley it&#39;s common practice to group two or more cases together like that. This is one of the uses of fallthrough that is generally considered ok."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1459331516,"post_id":36304002,"comment_id":60234262,"body_markdown":"@KlitosKyriacou I disagree. Using the fall through is a bit of a trick, this isn&#39;t a good thing. It&#39;s hard to read and can cause problems down the line when new cases need to be added. More trouble than it&#39;s worth.","body":"@KlitosKyriacou I disagree. Using the fall through is a bit of a trick, this isn&#39;t a good thing. It&#39;s hard to read and can cause problems down the line when new cases need to be added. More trouble than it&#39;s worth."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1459332334,"post_id":36304002,"comment_id":60234905,"body_markdown":"Also I&#39;m not a fan of using multiple return statements in blocks of code like this. It&#39;s a glorified goto statement which can also cause problems with maintenance. What&#39;s wrong with something like `return sList.contains(Modification.REMOVE);`?","body":"Also I&#39;m not a fan of using multiple return statements in blocks of code like this. It&#39;s a glorified goto statement which can also cause problems with maintenance. What&#39;s wrong with something like <code>return sList.contains(Modification.REMOVE);</code>?"},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1459332917,"post_id":36304002,"comment_id":60235333,"body_markdown":"@BenThurley return sList.contains(Modification.REMOVE); is not what is being returned here.","body":"@BenThurley return sList.contains(Modification.REMOVE); is not what is being returned here."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1459332931,"post_id":36304002,"comment_id":60235343,"body_markdown":"Koray&#39;s example source may be a simplified snippet to show the problem with IntelliJ, and it may not be possible to use `contains` in his actual code. In your example, he would have to do `return sList.contains(Modification.REMOVE) || sList.contains(Modification.SET)` which would loop through the list twice, instead of looping once as it does in his code.","body":"Koray&#39;s example source may be a simplified snippet to show the problem with IntelliJ, and it may not be possible to use <code>contains</code> in his actual code. In your example, he would have to do <code>return sList.contains(Modification.REMOVE) || sList.contains(Modification.SET)</code> which would loop through the list twice, instead of looping once as it does in his code."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1459332974,"post_id":36304002,"comment_id":60235381,"body_markdown":"@KlitosKyriacou yes, it is indeed simplified for sake of asking question","body":"@KlitosKyriacou yes, it is indeed simplified for sake of asking question"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1459333002,"post_id":36304002,"comment_id":60235400,"body_markdown":"The point is that IntelliJ has got it wrong.","body":"The point is that IntelliJ has got it wrong."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1459333049,"post_id":36304002,"comment_id":60235434,"body_markdown":"@KlitosKyriacou I am not sure about if IntelliJ is getting it wrong, since it seems Idebrujin agrees with IntelliJ that the first version will NOT really loop..","body":"@KlitosKyriacou I am not sure about if IntelliJ is getting it wrong, since it seems Idebrujin agrees with IntelliJ that the first version will NOT really loop.."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1459333108,"post_id":36304002,"comment_id":60235479,"body_markdown":"No it really does loop.","body":"No it really does loop."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1459333262,"post_id":36304002,"comment_id":60235589,"body_markdown":"@KlitosKyriacou Am I misunderstanding Idebrujin &#39;s answer?","body":"@KlitosKyriacou Am I misunderstanding Idebrujin &#39;s answer?"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1459333742,"post_id":36304002,"comment_id":60235919,"body_markdown":"Not sure, as I don&#39;t understand his answer either. But add some print statements at the start of your for loop and you&#39;ll see that it does loop.","body":"Not sure, as I don&#39;t understand his answer either. But add some print statements at the start of your for loop and you&#39;ll see that it does loop."},{"owner":{"account_id":2358112,"reputation":1052,"user_id":2065490,"accept_rate":40,"display_name":"rusted brain"},"score":1,"creation_date":1459334245,"post_id":36304002,"comment_id":60236258,"body_markdown":"@KorayTugay @Kiltos it shall only loop when the `return` statement is not being executed and the only way `return` won&#39;t execute without `case NONE` is when the first two cases don&#39;t match with switch, which can happen.","body":"@KorayTugay @Kiltos it shall only loop when the <code>return</code> statement is not being executed and the only way <code>return</code> won&#39;t execute without <code>case NONE</code> is when the first two cases don&#39;t match with switch, which can happen."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1459334387,"post_id":36304002,"comment_id":60236365,"body_markdown":"@rustedbraid so, it does indeed loop? I think Idebrujin &#39;s answer is bit confusing to be honest..","body":"@rustedbraid so, it does indeed loop? I think Idebrujin &#39;s answer is bit confusing to be honest.."},{"owner":{"account_id":2358112,"reputation":1052,"user_id":2065490,"accept_rate":40,"display_name":"rusted brain"},"score":0,"creation_date":1459334620,"post_id":36304002,"comment_id":60236541,"body_markdown":"Yes it shall loop. Why don&#39;t you give it a try? Try writing console statements and check whether the statement prints multiple times.","body":"Yes it shall loop. Why don&#39;t you give it a try? Try writing console statements and check whether the statement prints multiple times."},{"owner":{"account_id":2185757,"reputation":2746,"user_id":2627680,"display_name":"headsvk"},"score":1,"creation_date":1459335924,"post_id":36304002,"comment_id":60237447,"body_markdown":"Yes, it does loop, Intellij is wrong.","body":"Yes, it does loop, Intellij is wrong."},{"owner":{"account_id":3486878,"reputation":3337,"user_id":2917564,"accept_rate":77,"display_name":"jobbert"},"score":0,"creation_date":1459338583,"post_id":36304002,"comment_id":60239335,"body_markdown":"I see there is an uncaught case. Thus it should either have a default case or catch the NONE case. My IDE (IntelliJ) doesn&#39;t tell me it is not looping by the way.","body":"I see there is an uncaught case. Thus it should either have a default case or catch the NONE case. My IDE (IntelliJ) doesn&#39;t tell me it is not looping by the way."},{"owner":{"account_id":2185757,"reputation":2746,"user_id":2627680,"display_name":"headsvk"},"score":0,"creation_date":1459362217,"post_id":36304002,"comment_id":60256812,"body_markdown":"I tested it with Android Studio 2.0 (IntelliJ 15)","body":"I tested it with Android Studio 2.0 (IntelliJ 15)"}],"answers":[{"tags":[],"owner":{"account_id":1122238,"reputation":4438,"user_id":1110338,"accept_rate":95,"display_name":"AngryDuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459328305,"creation_date":1459328305,"answer_id":36304111,"question_id":36304002,"body_markdown":"i assume these are your only three cases right?, so basically its saying you are going to hit one of the first two and instantly return true, therefore not looping, just add a `default` case and everything should work ok, this is good practice also btw.\r\n\r\nbasically it cant see a case where it doesnt just return instantly without iterating the loop\r\n","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>i assume these are your only three cases right?, so basically its saying you are going to hit one of the first two and instantly return true, therefore not looping, just add a <code>default</code> case and everything should work ok, this is good practice also btw.</p>\n\n<p>basically it cant see a case where it doesnt just return instantly without iterating the loop</p>\n"},{"tags":[],"owner":{"account_id":4362849,"reputation":1460,"user_id":3559403,"display_name":"Lars de Bruijn"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1459334511,"creation_date":1459328672,"answer_id":36304217,"question_id":36304002,"body_markdown":"Your switch case always breaks or returns. In the first case, you do nothing aka it `falls through`. The second case `return`s which causes both the switch and the loop to stop. In the third case you `break` the switch statement which causes it to stop. It does not however stop the for loop (aka, it keeps iterating).\r\n\r\nEither add specific functionality for the `SET` case or change your behaviour on the `REMOVE` and `NONE` cases.\r\n\t\r\n    public enum Modification {\r\n        NONE, SET, REMOVE;\r\n    }\r\n    \r\n    boolean foo(){\r\n        for (S s : sList) {\r\n            final Modification modification = s.getModification();\r\n            switch (modification) {\r\n                case SET:\r\n                   // This case falls through to the REMOVE case\r\n                case REMOVE:\r\n                    return true; // This statement stops the switch, loop and returns true\r\n                case NONE:\r\n                    break; // This statement stops the switch and continues the loop.\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nYour switch is not looping without the `NONE` case because `return` breaks the loop and returns a value from the function. `break` breaks the switch loop but continues the for loop.\r\n\r\n--------------\r\n\r\nBy request of OP an extra explanation.\r\n\r\nFalling through means the next case will be executed until a stop (`break` or `return`) is reached. This makes the following code snippets equivelant:\r\n\r\n    case SET:\r\n    case REMOVE:\r\n        return true;\r\n\r\nis the same as:\r\n\r\n    case SET:\r\n        return true;\r\n    case REMOVE:\r\n        return true;","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>Your switch case always breaks or returns. In the first case, you do nothing aka it <code>falls through</code>. The second case <code>return</code>s which causes both the switch and the loop to stop. In the third case you <code>break</code> the switch statement which causes it to stop. It does not however stop the for loop (aka, it keeps iterating).</p>\n\n<p>Either add specific functionality for the <code>SET</code> case or change your behaviour on the <code>REMOVE</code> and <code>NONE</code> cases.</p>\n\n<pre><code>public enum Modification {\n    NONE, SET, REMOVE;\n}\n\nboolean foo(){\n    for (S s : sList) {\n        final Modification modification = s.getModification();\n        switch (modification) {\n            case SET:\n               // This case falls through to the REMOVE case\n            case REMOVE:\n                return true; // This statement stops the switch, loop and returns true\n            case NONE:\n                break; // This statement stops the switch and continues the loop.\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Your switch is not looping without the <code>NONE</code> case because <code>return</code> breaks the loop and returns a value from the function. <code>break</code> breaks the switch loop but continues the for loop.</p>\n\n<hr>\n\n<p>By request of OP an extra explanation.</p>\n\n<p>Falling through means the next case will be executed until a stop (<code>break</code> or <code>return</code>) is reached. This makes the following code snippets equivelant:</p>\n\n<pre><code>case SET:\ncase REMOVE:\n    return true;\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>case SET:\n    return true;\ncase REMOVE:\n    return true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1459345566,"creation_date":1459337794,"answer_id":36307660,"question_id":36304002,"body_markdown":"I just tried this in eclipse and you end up with a compiler warning on the switch statement.\r\n\r\n&gt; The enum constant NONE needs a corresponding case label in this enum switch on Modification\r\n\r\nTo resolve the warning I&#39;m given the following options.\r\n\r\n - Add default case\r\n - Add missing case statements\r\n - Add @SuppressWarnings &#39;incomplete-switch&#39; to foo()\r\n\r\nIf I add the missing case statement then the warning no longer appears. The same as adding the missing case makes your &lt;strike&gt;error&lt;/strike&gt; warning disappear from intellij.\r\n\r\nWithout the statement for case NONE you can only see two cases, both of which return true. Without knowing the structure of Modification and the extra value of NONE it looks like this loop would just return true on the first iteration of the loop.\r\n\r\nOf course the compiler should actually know that there are more values for Modification than SET and REMOVE so the warning is just for good style. Basically your code works but here&#39;s how to improve it.\r\n\r\nI would choose to add a default statement rather than the missing case. This would be more future proof in case more values are later added to the enum. E.G.\r\n\r\n    switch (modification) \r\n    {\r\n      case SET:\r\n      case REMOVE:\r\n        return true;\r\n      default:\r\n        break;\r\n    }\r\n\r\nPersonally I&#39;m not a fan of using the fall through on switch statements. What you gain in making the code concise you lose in legibility IMHO. If someone later comes and adds a case between SET and REMOVE it could introduce a bug. Also, having a return statement mid-way through a method can also cause problems. If someone wants to add some code just before the return they may miss all the places. If the method is very simple then multiple returns is fine but you&#39;ve stated that this is a simplified example and so if this block of code is complicated I would avoid it.\r\n\r\nIf you&#39;re able to use Java 8 then this looks to be the perfect use case for the new stream API. Something like the following should work.\r\n\r\n    return sList.stream().anyMatch(\r\n      modification -&gt; (modification==Modification.SET || modification==Modification.REMOVE)\r\n    );","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>I just tried this in eclipse and you end up with a compiler warning on the switch statement.</p>\n\n<blockquote>\n  <p>The enum constant NONE needs a corresponding case label in this enum switch on Modification</p>\n</blockquote>\n\n<p>To resolve the warning I'm given the following options.</p>\n\n<ul>\n<li>Add default case</li>\n<li>Add missing case statements</li>\n<li>Add @SuppressWarnings 'incomplete-switch' to foo()</li>\n</ul>\n\n<p>If I add the missing case statement then the warning no longer appears. The same as adding the missing case makes your <strike>error</strike> warning disappear from intellij.</p>\n\n<p>Without the statement for case NONE you can only see two cases, both of which return true. Without knowing the structure of Modification and the extra value of NONE it looks like this loop would just return true on the first iteration of the loop.</p>\n\n<p>Of course the compiler should actually know that there are more values for Modification than SET and REMOVE so the warning is just for good style. Basically your code works but here's how to improve it.</p>\n\n<p>I would choose to add a default statement rather than the missing case. This would be more future proof in case more values are later added to the enum. E.G.</p>\n\n<pre><code>switch (modification) \n{\n  case SET:\n  case REMOVE:\n    return true;\n  default:\n    break;\n}\n</code></pre>\n\n<p>Personally I'm not a fan of using the fall through on switch statements. What you gain in making the code concise you lose in legibility IMHO. If someone later comes and adds a case between SET and REMOVE it could introduce a bug. Also, having a return statement mid-way through a method can also cause problems. If someone wants to add some code just before the return they may miss all the places. If the method is very simple then multiple returns is fine but you've stated that this is a simplified example and so if this block of code is complicated I would avoid it.</p>\n\n<p>If you're able to use Java 8 then this looks to be the perfect use case for the new stream API. Something like the following should work.</p>\n\n<pre><code>return sList.stream().anyMatch(\n  modification -&gt; (modification==Modification.SET || modification==Modification.REMOVE)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1459861037,"creation_date":1459861037,"answer_id":36427030,"question_id":36304002,"body_markdown":"I&#39;d say its a false positive.\r\n\r\n1st indication:\r\nIf you run your code through a debugger - and have elements with NONE modification in the list before an element with other modifications - it will actually loop.\r\n\r\n2nd indication:\r\nWhen you look at the generated bytecode, it transforms the switch statement to (sort of - its not *exactly* the same)\r\n\r\n    for (S s : sList) {\r\n        Modification modification = s.getModification();\r\n            switch (modification.ordinal()) {\r\n                case 1:\r\n                case 2:\r\n                    return true;\r\n        }\r\n    }\r\nIf you put that in your code, IntelliJ does not complain. \r\n\r\n3rd indication:\r\nthe warning dissappears if you put an additional statement *before* the return, i.e. `System.out.println();`\r\n\r\n     switch (modification) {\r\n         case SET:\r\n         case REMOVE:\r\n           System.out.println()\r\n           return true;\r\n\r\nSeems you tricked the inspection with the missing case label and could simply ignore the warning.\r\n","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>I'd say its a false positive.</p>\n\n<p>1st indication:\nIf you run your code through a debugger - and have elements with NONE modification in the list before an element with other modifications - it will actually loop.</p>\n\n<p>2nd indication:\nWhen you look at the generated bytecode, it transforms the switch statement to (sort of - its not <em>exactly</em> the same)</p>\n\n<pre><code>for (S s : sList) {\n    Modification modification = s.getModification();\n        switch (modification.ordinal()) {\n            case 1:\n            case 2:\n                return true;\n    }\n}\n</code></pre>\n\n<p>If you put that in your code, IntelliJ does not complain. </p>\n\n<p>3rd indication:\nthe warning dissappears if you put an additional statement <em>before</em> the return, i.e. <code>System.out.println();</code></p>\n\n<pre><code> switch (modification) {\n     case SET:\n     case REMOVE:\n       System.out.println()\n       return true;\n</code></pre>\n\n<p>Seems you tricked the inspection with the missing case label and could simply ignore the warning.</p>\n"},{"tags":[],"owner":{"account_id":154294,"reputation":17410,"user_id":1283554,"display_name":"bwt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459953909,"creation_date":1459862289,"answer_id":36427544,"question_id":36304002,"body_markdown":"I think that IntelliJ&#39;s inspections is wrong. I reported it to [JetBrains](https://youtrack.jetbrains.com/issue/IDEA-154177)\r\n\r\nEdit : it&#39;s fixed","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>I think that IntelliJ's inspections is wrong. I reported it to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-154177\" rel=\"nofollow\">JetBrains</a></p>\n\n<p>Edit : it's fixed</p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26408,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":36307660,"answer_count":5,"score":15,"last_activity_date":1679012266,"creation_date":1459327997,"question_id":36304002,"body_markdown":"This is the code I have:\r\n\r\n    public enum Modification {\r\n        NONE, SET, REMOVE;\r\n    }\r\n    \r\n    boolean foo(List&lt;S&gt; sList){\r\n        for (S s : sList) {\r\n            Modification modification = s.getModification();\r\n            switch (modification) {\r\n                case SET:\r\n                case REMOVE:\r\n                    return true;\r\n                /*\r\n                case NONE:\r\n                    break;\r\n                */\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nAnd when the code is as seen above, IntelliJ will say:\r\n\r\n&gt; &#39;for&#39; statement does not loop less... ()  Reports any instance of for,\r\n&gt; while and do statements whose bodies are guaranteed to execute at most\r\n&gt; once. Normally, this is an indication of a bug.\r\n\r\nOnly if I make the following change, IntelliJ will be happy:\r\n\r\n    for (S s : sList) {\r\n        Modification modification = s.getModification();\r\n        switch (modification) {\r\n            case SET:\r\n            case REMOVE:\r\n                return true;\r\n            case NONE:\r\n                break;\r\n        }\r\n    }\r\n\r\nWhy is my for loop not looping if **case NONE:**  is not included in the switch statement?\r\n","title":"IntelliJ complaining &quot;for statement does not loop&quot;?","body":"<p>This is the code I have:</p>\n<pre><code>public enum Modification {\n    NONE, SET, REMOVE;\n}\n\nboolean foo(List&lt;S&gt; sList){\n    for (S s : sList) {\n        Modification modification = s.getModification();\n        switch (modification) {\n            case SET:\n            case REMOVE:\n                return true;\n            /*\n            case NONE:\n                break;\n            */\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>And when the code is as seen above, IntelliJ will say:</p>\n<blockquote>\n<p>'for' statement does not loop less... ()  Reports any instance of for,\nwhile and do statements whose bodies are guaranteed to execute at most\nonce. Normally, this is an indication of a bug.</p>\n</blockquote>\n<p>Only if I make the following change, IntelliJ will be happy:</p>\n<pre><code>for (S s : sList) {\n    Modification modification = s.getModification();\n    switch (modification) {\n        case SET:\n        case REMOVE:\n            return true;\n        case NONE:\n            break;\n    }\n}\n</code></pre>\n<p>Why is my for loop not looping if <strong>case NONE:</strong>  is not included in the switch statement?</p>\n"},{"tags":["java","outbound"],"comments":[{"owner":{"account_id":4217278,"reputation":799,"user_id":3453066,"accept_rate":92,"display_name":"Jure"},"score":0,"creation_date":1454055072,"post_id":35079630,"comment_id":57881316,"body_markdown":"Can you show us your code?","body":"Can you show us your code?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1454055115,"post_id":35079630,"comment_id":57881331,"body_markdown":"Looks like oyu have no Connection to a dns Server. try it with the ip-address","body":"Looks like oyu have no Connection to a dns Server. try it with the ip-address"},{"owner":{"account_id":2474983,"reputation":587,"user_id":2155795,"accept_rate":64,"display_name":"Syam Danda"},"score":0,"creation_date":1454055917,"post_id":35079630,"comment_id":57881748,"body_markdown":"Sure i update with the code.","body":"Sure i update with the code."}],"answers":[{"tags":[],"owner":{"account_id":7735105,"reputation":1,"user_id":5856922,"display_name":"Ryan yun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492392113,"creation_date":1454072884,"answer_id":35085362,"question_id":35079630,"body_markdown":"-unknownhostexception for the domain. It mean your server does&#39;t no the domain.\r\n\r\nSetting the DNS server ip Or\r\nInsert (ip domain information) /etc/hosts - if it&#39;s not work, server is looking for DNS, you can change the order finding local &quot;host file&quot; ","title":"java.net.UnknownHostException: fba-outbound.amazonaws.com","body":"<p>-unknownhostexception for the domain. It mean your server does't no the domain.</p>\n\n<p>Setting the DNS server ip Or\nInsert (ip domain information) /etc/hosts - if it's not work, server is looking for DNS, you can change the order finding local \"host file\" </p>\n"}],"owner":{"account_id":2474983,"reputation":587,"user_id":2155795,"accept_rate":64,"display_name":"Syam Danda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2074,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1679011940,"creation_date":1454054915,"question_id":35079630,"body_markdown":"While trying to use Amazon FWS outbound api unable to create an order from it. getting unknown exception. I came to know that the fws endpoint host is not working. Can someone help me on creating order using fws api.\r\n\r\n        com.amazonaws.fws.outbound.AmazonFWSOutboundException: Internal Error\r\n    \tat com.amazonaws.fws.outbound.AmazonFWSOutboundClient.invoke(AmazonFWSOutboundClient.java:481)\r\n    \tat com.amazonaws.fws.outbound.AmazonFWSOutboundClient.createFulfillmentOrder(AmazonFWSOutboundClient.java:193)\r\n    \tat com.amazonaws.fws.outbound.samples.CreateFulfillmentOrderSample.invokeCreateFulfillmentOrder(CreateFulfillmentOrderSample.java:164)\r\n    \tat com.amazonaws.fws.outbound.samples.CreateFulfillmentOrderSample.main(CreateFulfillmentOrderSample.java:143)\r\n    Caused by: java.net.UnknownHostException: fba-outbound.amazonaws.com\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:618)\r\n    \tat sun.security.ssl.SSLSocketImpl.&lt;init&gt;(SSLSocketImpl.java:451)\r\n    \tat sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:140)\r\n    \tat org.apache.commons.httpclient.protocol.SSLProtocolSocketFactory.createSocket(SSLProtocolSocketFactory.java:81)\r\n    \tat org.apache.commons.httpclient.protocol.ControllerThreadSocketFactory$1.doit(ControllerThreadSocketFactory.java:90)\r\n    \tat org.apache.commons.httpclient.protocol.ControllerThreadSocketFactory$SocketTask.run(ControllerThreadSocketFactory.java:157)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nMy Code is ::\r\n\r\n\r\n        /**\r\n         * Just add few required parameters, and try the service\r\n         * Create Fulfillment Order functionality\r\n         *\r\n         * @param args unused\r\n         */\r\n        public static void main(String... args) {\r\n            \r\n            /************************************************************************\r\n             * Access Key ID and Secret Acess Key ID, obtained from:\r\n             * http://aws.amazon.com\r\n             ***********************************************************************/\r\n            String accessKeyId = SystemParams.AWS_ACCESS_KEY_ID;\r\n            String secretAccessKey = SystemParams.AWS_SECRET_KEY;\r\n    \r\n            /************************************************************************\r\n             * Instantiate Http Client Implementation of Amazon FWS Outbound \r\n             ***********************************************************************/\r\n            AmazonFWSOutbound service = new AmazonFWSOutboundClient(accessKeyId, secretAccessKey);\r\n            \r\n            /************************************************************************\r\n             * Uncomment to try advanced configuration options. Available options are:\r\n             *\r\n             *  - Signature Version\r\n             *  - Proxy Host and Proxy Port\r\n             *  - Service URL\r\n             *  - User Agent String to be sent to Amazon FWS Outbound   service\r\n             *\r\n             ***********************************************************************/\r\n            // AmazonFWSOutboundConfig config = new AmazonFWSOutboundConfig();\r\n            // config.setSignatureVersion(&quot;0&quot;);\r\n            // AmazonFWSOutbound service = new AmazonFWSOutboundClient(accessKeyId, secretAccessKey, config);\r\n     \r\n            /************************************************************************\r\n             * Uncomment to try out Mock Service that simulates Amazon FWS Outbound \r\n             * responses without calling Amazon FWS Outbound  service.\r\n             *\r\n             * Responses are loaded from local XML files. You can tweak XML files to\r\n             * experiment with various outputs during development\r\n             *\r\n             * XML files available under com/amazonaws/fws/outbound/mock tree\r\n             *\r\n             ***********************************************************************/\r\n            // AmazonFWSOutbound service = new AmazonFWSOutboundMock();\r\n    \r\n            /************************************************************************\r\n             * Setup request parameters and uncomment invoke to try out \r\n             * sample for Create Fulfillment Order \r\n             ***********************************************************************/\r\n             CreateFulfillmentOrder request = new CreateFulfillmentOrder();\r\n             \r\n             String myOrderID = &quot;TEST-00000002-1&quot;;\r\n             \r\n             request.setMerchantFulfillmentOrderId(myOrderID);\r\n             request.setDisplayableOrderId(myOrderID);\r\n             request.setDisplayableOrderDateTime(&quot;20016-08-02T00:00:00Z&quot;);\r\n             request.setDisplayableOrderComment(&quot;Thank you for your order!&quot;);\r\n             request.setShippingSpeedCategory(&quot;Standard&quot;);\r\n             \r\n             List&lt;String&gt; notificationEmails = new ArrayList&lt;String&gt;();\r\n             notificationEmails.add(&quot;email@domain.com&quot;); //Email Address\r\n             request.setNotificationEmailList(notificationEmails);\r\n    \r\n             Address address = new Address();\r\n             address.setName(&quot;Joe Smith&quot;);\r\n             address.setLine1(&quot;605 5th Ave. S&quot;);\r\n             address.setLine2(&quot;C/O Amazon.com&quot;);\r\n             address.setCity(&quot;Seattle&quot;);\r\n             address.setStateOrProvinceCode(&quot;WA&quot;);\r\n             address.setPostalCode(&quot;98104&quot;);\r\n             address.setCountryCode(&quot;US&quot;);\r\n             address.setPhoneNumber(&quot;206-266-1000&quot;);\r\n             request.setDestinationAddress(address);\r\n    \r\n             List&lt;CreateFulfillmentOrderItem&gt; items = new ArrayList&lt;CreateFulfillmentOrderItem&gt;(1);\r\n    \r\n             CreateFulfillmentOrderItem item1 = new CreateFulfillmentOrderItem();\r\n    \r\n             item1.setMerchantSKU(&quot;B00THKEKEQ&quot;);\r\n    \r\n             item1.setMerchantFulfillmentOrderItemId(myOrderID + &quot;-1&quot;);\r\n             item1.setQuantity(2);\r\n             items.add(item1);\r\n    \r\n             request.setItem(items);\r\n             \r\n             /*try {\r\n    \t\t\tCreateFulfillmentOrderResponse response = service.createFulfillmentOrder(request);\r\n    \t\t\tSystem.out.println(&quot;Order : &quot; + myOrderID + &quot; successfully created by &quot; +\r\n                        &quot;FWSOutboundService. You can check status of your &quot; +\r\n                        &quot;order on the &#39;Manage Your Orders&#39; page at &quot; +\r\n                        &quot;http://sellercentral.amazon.com&quot;);\r\n    \t\t} catch (AmazonFWSOutboundException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}*/\r\n    \r\n             \r\n            \r\n             // @TODO: set request parameters here\r\n    \r\n             invokeCreateFulfillmentOrder(service, request);\r\n    \r\n        }\r\n    \r\n    \r\n                                \r\n        /**\r\n         * Create Fulfillment Order  request sample\r\n         * Request for Amazon to send items from the merchant&#39;s inventory to a\r\n         * destination address.\r\n         *   \r\n         * @param service instance of AmazonFWSOutbound service\r\n         * @param request Action to invoke\r\n         */\r\n        public static void invokeCreateFulfillmentOrder(AmazonFWSOutbound service, CreateFulfillmentOrder request) {\r\n            try {\r\n                \r\n            \tSystem.out.println (&quot;CreateFulfillmentOrder Action Response&quot;);\r\n                System.out.println (&quot;=============================================================================&quot;);\r\n                System.out.println ();\r\n                \r\n                CreateFulfillmentOrderResponse response = service.createFulfillmentOrder(request);            \r\n    \r\n                System.out.println(&quot;    CreateFulfillmentOrderResponse&quot;);\r\n                System.out.println();\r\n                if (response.isSetResponseMetadata()) {\r\n                    System.out.println(&quot;        ResponseMetadata&quot;);\r\n                    System.out.println();\r\n                    ResponseMetadata  responseMetadata = response.getResponseMetadata();\r\n                    if (responseMetadata.isSetRequestId()) {\r\n                        System.out.println(&quot;            RequestId&quot;);\r\n                        System.out.println();\r\n                        System.out.println(&quot;                &quot; + responseMetadata.getRequestId());\r\n                        System.out.println();\r\n                    }\r\n                } \r\n                System.out.println();\r\n    \r\n               \r\n            } catch (AmazonFWSOutboundException ex) {\r\n                \r\n                System.out.println(&quot;Caught Exception: &quot; + ex.getMessage());\r\n                System.out.println(&quot;Response Status Code: &quot; + ex.getStatusCode());\r\n                System.out.println(&quot;Error Code: &quot; + ex.getErrorCode());\r\n                System.out.println(&quot;Error Type: &quot; + ex.getErrorType());\r\n                System.out.println(&quot;Request ID: &quot; + ex.getRequestId());\r\n                System.out.print(&quot;XML: &quot; + ex.getXML());\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n                            \r\n    }","title":"java.net.UnknownHostException: fba-outbound.amazonaws.com","body":"<p>While trying to use Amazon FWS outbound api unable to create an order from it. getting unknown exception. I came to know that the fws endpoint host is not working. Can someone help me on creating order using fws api.</p>\n\n<pre><code>    com.amazonaws.fws.outbound.AmazonFWSOutboundException: Internal Error\n    at com.amazonaws.fws.outbound.AmazonFWSOutboundClient.invoke(AmazonFWSOutboundClient.java:481)\n    at com.amazonaws.fws.outbound.AmazonFWSOutboundClient.createFulfillmentOrder(AmazonFWSOutboundClient.java:193)\n    at com.amazonaws.fws.outbound.samples.CreateFulfillmentOrderSample.invokeCreateFulfillmentOrder(CreateFulfillmentOrderSample.java:164)\n    at com.amazonaws.fws.outbound.samples.CreateFulfillmentOrderSample.main(CreateFulfillmentOrderSample.java:143)\nCaused by: java.net.UnknownHostException: fba-outbound.amazonaws.com\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:579)\n    at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:618)\n    at sun.security.ssl.SSLSocketImpl.&lt;init&gt;(SSLSocketImpl.java:451)\n    at sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:140)\n    at org.apache.commons.httpclient.protocol.SSLProtocolSocketFactory.createSocket(SSLProtocolSocketFactory.java:81)\n    at org.apache.commons.httpclient.protocol.ControllerThreadSocketFactory$1.doit(ControllerThreadSocketFactory.java:90)\n    at org.apache.commons.httpclient.protocol.ControllerThreadSocketFactory$SocketTask.run(ControllerThreadSocketFactory.java:157)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>My Code is ::</p>\n\n<pre><code>    /**\n     * Just add few required parameters, and try the service\n     * Create Fulfillment Order functionality\n     *\n     * @param args unused\n     */\n    public static void main(String... args) {\n\n        /************************************************************************\n         * Access Key ID and Secret Acess Key ID, obtained from:\n         * http://aws.amazon.com\n         ***********************************************************************/\n        String accessKeyId = SystemParams.AWS_ACCESS_KEY_ID;\n        String secretAccessKey = SystemParams.AWS_SECRET_KEY;\n\n        /************************************************************************\n         * Instantiate Http Client Implementation of Amazon FWS Outbound \n         ***********************************************************************/\n        AmazonFWSOutbound service = new AmazonFWSOutboundClient(accessKeyId, secretAccessKey);\n\n        /************************************************************************\n         * Uncomment to try advanced configuration options. Available options are:\n         *\n         *  - Signature Version\n         *  - Proxy Host and Proxy Port\n         *  - Service URL\n         *  - User Agent String to be sent to Amazon FWS Outbound   service\n         *\n         ***********************************************************************/\n        // AmazonFWSOutboundConfig config = new AmazonFWSOutboundConfig();\n        // config.setSignatureVersion(\"0\");\n        // AmazonFWSOutbound service = new AmazonFWSOutboundClient(accessKeyId, secretAccessKey, config);\n\n        /************************************************************************\n         * Uncomment to try out Mock Service that simulates Amazon FWS Outbound \n         * responses without calling Amazon FWS Outbound  service.\n         *\n         * Responses are loaded from local XML files. You can tweak XML files to\n         * experiment with various outputs during development\n         *\n         * XML files available under com/amazonaws/fws/outbound/mock tree\n         *\n         ***********************************************************************/\n        // AmazonFWSOutbound service = new AmazonFWSOutboundMock();\n\n        /************************************************************************\n         * Setup request parameters and uncomment invoke to try out \n         * sample for Create Fulfillment Order \n         ***********************************************************************/\n         CreateFulfillmentOrder request = new CreateFulfillmentOrder();\n\n         String myOrderID = \"TEST-00000002-1\";\n\n         request.setMerchantFulfillmentOrderId(myOrderID);\n         request.setDisplayableOrderId(myOrderID);\n         request.setDisplayableOrderDateTime(\"20016-08-02T00:00:00Z\");\n         request.setDisplayableOrderComment(\"Thank you for your order!\");\n         request.setShippingSpeedCategory(\"Standard\");\n\n         List&lt;String&gt; notificationEmails = new ArrayList&lt;String&gt;();\n         notificationEmails.add(\"email@domain.com\"); //Email Address\n         request.setNotificationEmailList(notificationEmails);\n\n         Address address = new Address();\n         address.setName(\"Joe Smith\");\n         address.setLine1(\"605 5th Ave. S\");\n         address.setLine2(\"C/O Amazon.com\");\n         address.setCity(\"Seattle\");\n         address.setStateOrProvinceCode(\"WA\");\n         address.setPostalCode(\"98104\");\n         address.setCountryCode(\"US\");\n         address.setPhoneNumber(\"206-266-1000\");\n         request.setDestinationAddress(address);\n\n         List&lt;CreateFulfillmentOrderItem&gt; items = new ArrayList&lt;CreateFulfillmentOrderItem&gt;(1);\n\n         CreateFulfillmentOrderItem item1 = new CreateFulfillmentOrderItem();\n\n         item1.setMerchantSKU(\"B00THKEKEQ\");\n\n         item1.setMerchantFulfillmentOrderItemId(myOrderID + \"-1\");\n         item1.setQuantity(2);\n         items.add(item1);\n\n         request.setItem(items);\n\n         /*try {\n            CreateFulfillmentOrderResponse response = service.createFulfillmentOrder(request);\n            System.out.println(\"Order : \" + myOrderID + \" successfully created by \" +\n                    \"FWSOutboundService. You can check status of your \" +\n                    \"order on the 'Manage Your Orders' page at \" +\n                    \"http://sellercentral.amazon.com\");\n        } catch (AmazonFWSOutboundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }*/\n\n\n\n         // @TODO: set request parameters here\n\n         invokeCreateFulfillmentOrder(service, request);\n\n    }\n\n\n\n    /**\n     * Create Fulfillment Order  request sample\n     * Request for Amazon to send items from the merchant's inventory to a\n     * destination address.\n     *   \n     * @param service instance of AmazonFWSOutbound service\n     * @param request Action to invoke\n     */\n    public static void invokeCreateFulfillmentOrder(AmazonFWSOutbound service, CreateFulfillmentOrder request) {\n        try {\n\n            System.out.println (\"CreateFulfillmentOrder Action Response\");\n            System.out.println (\"=============================================================================\");\n            System.out.println ();\n\n            CreateFulfillmentOrderResponse response = service.createFulfillmentOrder(request);            \n\n            System.out.println(\"    CreateFulfillmentOrderResponse\");\n            System.out.println();\n            if (response.isSetResponseMetadata()) {\n                System.out.println(\"        ResponseMetadata\");\n                System.out.println();\n                ResponseMetadata  responseMetadata = response.getResponseMetadata();\n                if (responseMetadata.isSetRequestId()) {\n                    System.out.println(\"            RequestId\");\n                    System.out.println();\n                    System.out.println(\"                \" + responseMetadata.getRequestId());\n                    System.out.println();\n                }\n            } \n            System.out.println();\n\n\n        } catch (AmazonFWSOutboundException ex) {\n\n            System.out.println(\"Caught Exception: \" + ex.getMessage());\n            System.out.println(\"Response Status Code: \" + ex.getStatusCode());\n            System.out.println(\"Error Code: \" + ex.getErrorCode());\n            System.out.println(\"Error Type: \" + ex.getErrorType());\n            System.out.println(\"Request ID: \" + ex.getRequestId());\n            System.out.print(\"XML: \" + ex.getXML());\n            ex.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679011358,"creation_date":1679011358,"answer_id":75762668,"question_id":75762471,"body_markdown":"I believe you are looking for something like this:\r\n\r\n```java\r\n@Entity\r\n@Table\r\nclass AEntity {\r\n    @Id\r\n    Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    @Where(clause = &quot;type = FIRST&quot;)\r\n    private List&lt;BEntity&gt; bFirstList;\r\n    \r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    @Where(clause = &quot;type = SECOND&quot;)\r\n    private List&lt;BEntity&gt; bSecondList;\r\n\r\n} \r\n```\r\n\r\nSee https://stackoverflow.com/a/43239330/3444205.","title":"Jpa two @OneToMany with same entity, different field","body":"<p>I believe you are looking for something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\nclass AEntity {\n    @Id\n    Long id;\n    \n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\n    @Where(clause = &quot;type = FIRST&quot;)\n    private List&lt;BEntity&gt; bFirstList;\n    \n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\n    @Where(clause = &quot;type = SECOND&quot;)\n    private List&lt;BEntity&gt; bSecondList;\n\n} \n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/43239330/3444205\">https://stackoverflow.com/a/43239330/3444205</a>.</p>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75762668,"answer_count":1,"score":0,"last_activity_date":1679011358,"creation_date":1679008807,"question_id":75762471,"body_markdown":"I have an entity A with two @OneToMany association with the entity B, the difference is an attribute of the entity B that change in 1 and 2 association.\r\n\r\n```\r\n@Entity\r\n@Table\r\nclass AEntity {\r\n    @Id\r\n    Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    private List&lt;BEntity&gt; bFirstList;\r\n    \r\n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\r\n    private List&lt;BEntity&gt; bSecondList;\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table\r\nclass BEntity {\r\n    @Id\r\n    Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    private AEntity a;\r\n    \r\n    private BType type;\r\n\r\n}\r\n```\r\n```\r\nenum BType {\r\n    FIRST,\r\n    SECOND;\r\n}\r\n```\r\n\r\nI want in List&lt;BEntity&gt; bFirstList; all instance where type is FIRST, and in bSecondList all instances where type is SECOND.\r\n\r\nHow can I acheive this? Is it possible to specify a custom query for the join or is there a better approach to the problem?","title":"Jpa two @OneToMany with same entity, different field","body":"<p>I have an entity A with two @OneToMany association with the entity B, the difference is an attribute of the entity B that change in 1 and 2 association.</p>\n<pre><code>@Entity\n@Table\nclass AEntity {\n    @Id\n    Long id;\n    \n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private List&lt;BEntity&gt; bFirstList;\n    \n    @OneToMany(mappedBy = &quot;a&quot;, cascade = CascadeType.PERSIST, orphanRemoval = true)\n    private List&lt;BEntity&gt; bSecondList;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table\nclass BEntity {\n    @Id\n    Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;a_id&quot;)\n    private AEntity a;\n    \n    private BType type;\n\n}\n</code></pre>\n<pre><code>enum BType {\n    FIRST,\n    SECOND;\n}\n</code></pre>\n<p>I want in List bFirstList; all instance where type is FIRST, and in bSecondList all instances where type is SECOND.</p>\n<p>How can I acheive this? Is it possible to specify a custom query for the join or is there a better approach to the problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678935501,"creation_date":1678935501,"answer_id":75751775,"question_id":75750354,"body_markdown":"i think you are closed to solution just my 2 cents guessing here you need to ovveride this 2 others function from WebMvcConfigurer \r\n\r\n**configurePathMatch** -&gt; This can conflict with static resource handling, so we need to disable it\r\n\r\n**addResourceHandlers** -&gt; This method disables the default static resource handling by setting a negative **order**. It also ensures that our custom interceptor is invoked before the default resource handling\r\n\r\n      @Override\r\n      public void configurePathMatch(PathMatchConfigurer configurer) {\r\n        configurer.setUseSuffixPatternMatch(false);\r\n      }\r\n    \r\n      @Override\r\n      public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\r\n        registry.setOrder(-1).addResourceHandler(&quot;/**&quot;) //disabling the resource chain and ensures that the resource is not processed through any additional handlers\r\n          .addResourceLocations(&quot;classpath:/static/&quot;) // well where ur static path is\r\n          .resourceChain(false);\r\n      }","title":"How to disable static content handling in Spring Boot 2?","body":"<p>i think you are closed to solution just my 2 cents guessing here you need to ovveride this 2 others function from WebMvcConfigurer</p>\n<p><strong>configurePathMatch</strong> -&gt; This can conflict with static resource handling, so we need to disable it</p>\n<p><strong>addResourceHandlers</strong> -&gt; This method disables the default static resource handling by setting a negative <strong>order</strong>. It also ensures that our custom interceptor is invoked before the default resource handling</p>\n<pre><code>  @Override\n  public void configurePathMatch(PathMatchConfigurer configurer) {\n    configurer.setUseSuffixPatternMatch(false);\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n\n    registry.setOrder(-1).addResourceHandler(&quot;/**&quot;) //disabling the resource chain and ensures that the resource is not processed through any additional handlers\n      .addResourceLocations(&quot;classpath:/static/&quot;) // well where ur static path is\n      .resourceChain(false);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16438352,"reputation":265,"user_id":11875370,"display_name":"Daniel Kesner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679010975,"creation_date":1679010975,"answer_id":75762640,"question_id":75750354,"body_markdown":"The solution to this problem turned out to be something completely different, but hopefully this saves someone the same headache in the future so I&#39;ll describe it here.\r\n\r\nThe problem was that the consuming application was missing a ComponentScan on its controller classes. The outcome of this is that Spring did not create an internal mapping between an endpoint and its associated handler method in the Controller, since the Controller wasn&#39;t ever scanned by Spring.\r\n\r\nI am not familiar with the inner workings of Spring, but it seems that when you call any endpoint in a Spring Boot 2.x system, Spring first checks to see if there is a RestController handler available, and if not, defaults to trying to serve static content. The reason why we were seeing the static content handler in the consuming application is again because there was no controller method found to handle the endpoint, and this is due to the missing component scan on the controllers&#39; path.","title":"How to disable static content handling in Spring Boot 2?","body":"<p>The solution to this problem turned out to be something completely different, but hopefully this saves someone the same headache in the future so I'll describe it here.</p>\n<p>The problem was that the consuming application was missing a ComponentScan on its controller classes. The outcome of this is that Spring did not create an internal mapping between an endpoint and its associated handler method in the Controller, since the Controller wasn't ever scanned by Spring.</p>\n<p>I am not familiar with the inner workings of Spring, but it seems that when you call any endpoint in a Spring Boot 2.x system, Spring first checks to see if there is a RestController handler available, and if not, defaults to trying to serve static content. The reason why we were seeing the static content handler in the consuming application is again because there was no controller method found to handle the endpoint, and this is due to the missing component scan on the controllers' path.</p>\n"}],"owner":{"account_id":16438352,"reputation":265,"user_id":11875370,"display_name":"Daniel Kesner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75762640,"answer_count":2,"score":1,"last_activity_date":1679010975,"creation_date":1678916717,"question_id":75750354,"body_markdown":"I have a library that is imported into other Java applications. Inside of the library I define a custom interceptor and have a corresponding `@Configuration` class where I wire the custom interceptor into the `InterceptorRegistry`. \r\n\r\nPart of the interceptor&#39;s logic involves checking to see if there is a custom annotation present on the controller method defined for the given endpoint. To implement this behavior, we cast the handler in the `preHandle` method signature to `HandlerMethod` so that we can call methods to fetch the annotations. It&#39;s worth noting that we have used this pattern for years in the library and have never seen any problems until recently:\r\n\r\n```\r\n@Override\r\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n\r\nif (!(handler instanceof HandlerMethod)) {\r\n   // exception\r\n}\r\n\r\nfinal HandlerMethod method = (HandlerMethod) handler;\r\nmethod.getAnnotation(SomeAnnotation.class);\r\n// ...\r\n```\r\n\r\n Recently, I tried to add this library as a dependency into a sample Spring Boot 2.x application that functions as a plain REST API, serving responses to endpoints that are defined in a `RestController`. The sample application only depends on the library described above and the `&#39;org.springframework.boot:spring-boot-starter-web&#39;` dependency.\r\n\r\n**The problem: When I send requests to endpoints that are defined in my controller, the interceptor code in the imported library always fails because the type of `Object handler` is the `ResourceHttpRequestHandler` that&#39;s used to serve static content. This is a problem because I need to cast this object to `HandlerMethod` but this is impossible when the handler is of type `ResourceHttpRequestHandler`.**\r\n\r\n**I want to know how to disable static resource handling in Spring Boot 2.x so that when a client makes an HTTP request to an endpoint that is defined by a controller in my system, the Spring handler that&#39;s invoked by my interceptor is of type `HandlerMethod`.** \r\n\r\nI am aware of the Spring property `spring.web.resources.add-mappings=false`, however when I set this property it seems like Spring disables *all* URL mappings, not just mappings for static content. After setting the property, requests to endpoints that are defined in controllers are redirected to the standard Spring /error endpoint, and I get error messages like the following, despite clearly having that API defined in my controller:\r\n\r\n```\r\no.s.web.servlet.PageNotFound             : No mapping for GET /about\r\n```\r\n\r\n```\r\n@RestController\r\npublic class Controller {\r\n\r\n    @MyCustomAnnotation(&quot;some-custom-value&quot;)\r\n    @GetMapping(&quot;/about&quot;)\r\n    public Map&lt;String, String&gt; about() {\r\n       // ...\r\n    }\r\n}\r\n```\r\n\r\nI have also tried to add path pattern `/**` to force my custom interceptor to always be invoked, but this doesn&#39;t change the behavior described above:\r\n\r\n```\r\n\r\n    @Override\r\n    public void addInterceptors(final InterceptorRegistry registry) {\r\n        registry.addInterceptor(myInterceptor())\r\n                .addPathPatterns(&quot;/**&quot;);\r\n\r\n    }\r\n```\r\n\r\nHow can I disable Spring from serving static content?","title":"How to disable static content handling in Spring Boot 2?","body":"<p>I have a library that is imported into other Java applications. Inside of the library I define a custom interceptor and have a corresponding <code>@Configuration</code> class where I wire the custom interceptor into the <code>InterceptorRegistry</code>.</p>\n<p>Part of the interceptor's logic involves checking to see if there is a custom annotation present on the controller method defined for the given endpoint. To implement this behavior, we cast the handler in the <code>preHandle</code> method signature to <code>HandlerMethod</code> so that we can call methods to fetch the annotations. It's worth noting that we have used this pattern for years in the library and have never seen any problems until recently:</p>\n<pre><code>@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n\nif (!(handler instanceof HandlerMethod)) {\n   // exception\n}\n\nfinal HandlerMethod method = (HandlerMethod) handler;\nmethod.getAnnotation(SomeAnnotation.class);\n// ...\n</code></pre>\n<p>Recently, I tried to add this library as a dependency into a sample Spring Boot 2.x application that functions as a plain REST API, serving responses to endpoints that are defined in a <code>RestController</code>. The sample application only depends on the library described above and the <code>'org.springframework.boot:spring-boot-starter-web'</code> dependency.</p>\n<p><strong>The problem: When I send requests to endpoints that are defined in my controller, the interceptor code in the imported library always fails because the type of <code>Object handler</code> is the <code>ResourceHttpRequestHandler</code> that's used to serve static content. This is a problem because I need to cast this object to <code>HandlerMethod</code> but this is impossible when the handler is of type <code>ResourceHttpRequestHandler</code>.</strong></p>\n<p><strong>I want to know how to disable static resource handling in Spring Boot 2.x so that when a client makes an HTTP request to an endpoint that is defined by a controller in my system, the Spring handler that's invoked by my interceptor is of type <code>HandlerMethod</code>.</strong></p>\n<p>I am aware of the Spring property <code>spring.web.resources.add-mappings=false</code>, however when I set this property it seems like Spring disables <em>all</em> URL mappings, not just mappings for static content. After setting the property, requests to endpoints that are defined in controllers are redirected to the standard Spring /error endpoint, and I get error messages like the following, despite clearly having that API defined in my controller:</p>\n<pre><code>o.s.web.servlet.PageNotFound             : No mapping for GET /about\n</code></pre>\n<pre><code>@RestController\npublic class Controller {\n\n    @MyCustomAnnotation(&quot;some-custom-value&quot;)\n    @GetMapping(&quot;/about&quot;)\n    public Map&lt;String, String&gt; about() {\n       // ...\n    }\n}\n</code></pre>\n<p>I have also tried to add path pattern <code>/**</code> to force my custom interceptor to always be invoked, but this doesn't change the behavior described above:</p>\n<pre><code>\n    @Override\n    public void addInterceptors(final InterceptorRegistry registry) {\n        registry.addInterceptor(myInterceptor())\n                .addPathPatterns(&quot;/**&quot;);\n\n    }\n</code></pre>\n<p>How can I disable Spring from serving static content?</p>\n"},{"tags":["java","jquery","spring-mvc"],"comments":[{"owner":{"account_id":144981,"reputation":2203,"user_id":354448,"accept_rate":64,"display_name":"arahant"},"score":0,"creation_date":1349954894,"post_id":12837907,"comment_id":17370213,"body_markdown":"I assume if you don&#39;t return anything, there will not be any content sent back?","body":"I assume if you don&#39;t return anything, there will not be any content sent back?"},{"owner":{"account_id":326971,"reputation":9867,"user_id":649048,"display_name":"millhouse"},"score":1,"creation_date":1349955163,"post_id":12837907,"comment_id":17370345,"body_markdown":"I think I&#39;d still return a POJO of some sort, even if in Version 1 of your solution it just wraps a &quot;success&quot; boolean or something similar. Then you&#39;ve got a consistent pattern in all your AJAX methods, and something that&#39;s easier to build on when it turns out you *do* need to return something!","body":"I think I&#39;d still return a POJO of some sort, even if in Version 1 of your solution it just wraps a &quot;success&quot; boolean or something similar. Then you&#39;ve got a consistent pattern in all your AJAX methods, and something that&#39;s easier to build on when it turns out you <i>do</i> need to return something!"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1387427766,"post_id":12837907,"comment_id":30956502,"body_markdown":"Contrary to what the answers are suggestion, what you first had in your second snippet is perfectly fine and the correct way to handle `POST` data.","body":"Contrary to what the answers are suggestion, what you first had in your second snippet is perfectly fine and the correct way to handle <code>POST</code> data."}],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1349959346,"creation_date":1349959346,"answer_id":12839798,"question_id":12837907,"body_markdown":"You can simply return a ResponseEntity with the appropriate header:\r\n\r\n    @RequestMapping(value = &quot;/updateSomeData&quot; method = RequestMethod.POST)\r\n    public ResponseEntity updateDataThatDoesntRequireClientToBeNotified(...){\r\n    ....\r\n    return new ResponseEntity(HttpStatus.OK)\r\n    }","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>You can simply return a ResponseEntity with the appropriate header:</p>\n\n<pre><code>@RequestMapping(value = \"/updateSomeData\" method = RequestMethod.POST)\npublic ResponseEntity updateDataThatDoesntRequireClientToBeNotified(...){\n....\nreturn new ResponseEntity(HttpStatus.OK)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"down_vote_count":1,"up_vote_count":282,"is_accepted":true,"score":281,"last_activity_date":1524250211,"creation_date":1349959396,"answer_id":12839817,"question_id":12837907,"body_markdown":"you can return void, then you have to mark the method with \t@ResponseStatus(value = HttpStatus.OK) you don&#39;t need @ResponseBody\r\n\r\n    @RequestMapping(value = &quot;/updateSomeData&quot; method = RequestMethod.POST)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public void updateDataThatDoesntRequireClientToBeNotified(...) {\r\n        ...\r\n    }\r\n\r\nOnly get methods return a 200 status code implicity, all others you have do one of three things: \r\n\r\n - Return void and mark the method with `@ResponseStatus(value = HttpStatus.OK)`\r\n - Return An object and mark it with `@ResponseBody` \r\n - Return an `HttpEntity` instance \r\n","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>you can return void, then you have to mark the method with  @ResponseStatus(value = HttpStatus.OK) you don't need @ResponseBody</p>\n\n<pre><code>@RequestMapping(value = \"/updateSomeData\" method = RequestMethod.POST)\n@ResponseStatus(value = HttpStatus.OK)\npublic void updateDataThatDoesntRequireClientToBeNotified(...) {\n    ...\n}\n</code></pre>\n\n<p>Only get methods return a 200 status code implicity, all others you have do one of three things: </p>\n\n<ul>\n<li>Return void and mark the method with <code>@ResponseStatus(value = HttpStatus.OK)</code></li>\n<li>Return An object and mark it with <code>@ResponseBody</code> </li>\n<li>Return an <code>HttpEntity</code> instance </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379000179,"creation_date":1379000179,"answer_id":18768584,"question_id":12837907,"body_markdown":"But as your system grows in size and functionality... i think that returning always a json is not a bad idea at all. Is more a architectural / &quot;big scale design&quot; matter.\r\n\r\nYou can think about returing always a JSON with two know fields : code and data. Where code is a numeric code specifying the success of the operation to be done and data is any aditional data related with the operation / service requested. \r\n\r\nCome on, when we use a backend a service provider, any service can be checked to see if it worked well.\r\n\r\nSo i stick, to not let spring manage this, exposing hybrid returning operations (Some returns data other nothing...).. instaed make sure that your server expose a more homogeneous interface. Is more simple at the end of the day.\r\n\r\n","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>But as your system grows in size and functionality... i think that returning always a json is not a bad idea at all. Is more a architectural / \"big scale design\" matter.</p>\n\n<p>You can think about returing always a JSON with two know fields : code and data. Where code is a numeric code specifying the success of the operation to be done and data is any aditional data related with the operation / service requested. </p>\n\n<p>Come on, when we use a backend a service provider, any service can be checked to see if it worked well.</p>\n\n<p>So i stick, to not let spring manage this, exposing hybrid returning operations (Some returns data other nothing...).. instaed make sure that your server expose a more homogeneous interface. Is more simple at the end of the day.</p>\n"},{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387427711,"creation_date":1387427711,"answer_id":20673553,"question_id":12837907,"body_markdown":"There is nothing wrong with returning a void `@ResponseBody` and you should for `POST` requests.\r\n\r\nUse HTTP status codes to define errors within exception handler routines instead as others are mentioning success status. A normal method as you have will return a response code of `200` which is what you want, any exception handler can then return an error object and a different code (i.e. `500`).","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>There is nothing wrong with returning a void <code>@ResponseBody</code> and you should for <code>POST</code> requests.</p>\n\n<p>Use HTTP status codes to define errors within exception handler routines instead as others are mentioning success status. A normal method as you have will return a response code of <code>200</code> which is what you want, any exception handler can then return an error object and a different code (i.e. <code>500</code>).</p>\n"},{"tags":[],"owner":{"account_id":1411587,"reputation":12119,"user_id":1338062,"display_name":"user1338062"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432014794,"creation_date":1432014794,"answer_id":30317739,"question_id":12837907,"body_markdown":"Yes, you can use @ResponseBody with `void` return type:\r\n\r\n    @RequestMapping(value = &quot;/updateSomeData&quot; method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public void updateDataThatDoesntRequireClientToBeNotified(...) {\r\n        ...\r\n    }\r\n","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>Yes, you can use @ResponseBody with <code>void</code> return type:</p>\n\n<pre><code>@RequestMapping(value = \"/updateSomeData\" method = RequestMethod.POST)\n@ResponseBody\npublic void updateDataThatDoesntRequireClientToBeNotified(...) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4925762,"reputation":564,"user_id":3967040,"display_name":"Harley"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1439491261,"creation_date":1439491261,"answer_id":31996042,"question_id":12837907,"body_markdown":"You can return &quot;ResponseEntity&lt;T&gt;&quot; object.\nUsing &quot;ResponseEntity&quot; object is very convenient both at the time of constructing the response object (that contains Response Body and HTTP Status Code) and at the time of getting information out of the response object.\n\nMethods like getHeaders(), getBody(),  getContentType(), getStatusCode() etc makes the work of reading the ResponseEntity object very easy.\n\nYou should be using ResponseEntity&lt;T&gt; object with a http status code of 204(No Content), which is specifically to specify that the request has been processed properly and the response body is intentionally blank.\nUsing appropriate Status Codes to convey the right information is very important, especially if you are making an API that is going to be used by multiple client applications.","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>You can return \"ResponseEntity\" object.\nUsing \"ResponseEntity\" object is very convenient both at the time of constructing the response object (that contains Response Body and HTTP Status Code) and at the time of getting information out of the response object.</p>\n\n<p>Methods like getHeaders(), getBody(),  getContentType(), getStatusCode() etc makes the work of reading the ResponseEntity object very easy.</p>\n\n<p>You should be using ResponseEntity object with a http status code of 204(No Content), which is specifically to specify that the request has been processed properly and the response body is intentionally blank.\nUsing appropriate Status Codes to convey the right information is very important, especially if you are making an API that is going to be used by multiple client applications.</p>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678121846,"creation_date":1678121846,"answer_id":75653678,"question_id":12837907,"body_markdown":"HttpStatus is required. \r\n\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public void update(...) {\r\n        ...\r\n    }\r\n\r\nor ResponseEntity with null body and null header.\r\n\r\n    public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id) {\r\n     \treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>HttpStatus is required.</p>\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\npublic void update(...) {\n    ...\n}\n</code></pre>\n<p>or ResponseEntity with null body and null header.</p>\n<pre><code>public ResponseEntity&lt;Void&gt; delete(@PathVariable Long id) {\n    return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679010357,"creation_date":1679010357,"answer_id":75762594,"question_id":12837907,"body_markdown":"You can use Void class:\r\n\r\n&gt;The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;Void&gt; method() {\r\n   return ResponseEntity.status(HttpStatus.OK)\r\n\t\t  .build();\r\n}\r\n```","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>You can use Void class:</p>\n<blockquote>\n<p>The Void class is an uninstantiable placeholder class to hold a reference to the Class object representing the Java keyword void.</p>\n</blockquote>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Void&gt; method() {\n   return ResponseEntity.status(HttpStatus.OK)\n          .build();\n}\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164531,"favorite_count":0,"down_vote_count":0,"up_vote_count":154,"accepted_answer_id":12839817,"answer_count":8,"score":154,"last_activity_date":1679010357,"creation_date":1349952754,"question_id":12837907,"body_markdown":"I am using jQuery&#39;s `$.getJSON()` to make asynchronous calls to my simple Spring MVC backend. Most of the Spring controller methods look like this:\r\n\r\n    @RequestMapping(value = &quot;/someURL&quot;, method = RequestMethod.POST)\r\n    public @ResponseBody SomePOJO getSomeData(@ModelAttribute Widget widget,\r\n        @RequestParam(&quot;type&quot;) String type) {\r\n        return someDAO.getSomeData(widget, type);\r\n    }\t\r\n\r\nI have things set up so that each controller returns the `@ResponseBody` as JSON, which is what the client-side expects.\r\n\r\nBut what happens when a request isn&#39;t supposed to return any content to the client-side? Can I have:\r\n\r\n    @RequestMapping(value = &quot;/updateSomeData&quot; method = RequestMethod.POST)\r\n    public @ResponseBody void updateDataThatDoesntRequireClientToBeNotified(...) {\r\n        ...\r\n    }\r\n\r\nIf not, what&#39;s the appropriate syntax to use here?","title":"What to return if Spring MVC controller method doesn&#39;t return value?","body":"<p>I am using jQuery's <code>$.getJSON()</code> to make asynchronous calls to my simple Spring MVC backend. Most of the Spring controller methods look like this:</p>\n<pre><code>@RequestMapping(value = &quot;/someURL&quot;, method = RequestMethod.POST)\npublic @ResponseBody SomePOJO getSomeData(@ModelAttribute Widget widget,\n    @RequestParam(&quot;type&quot;) String type) {\n    return someDAO.getSomeData(widget, type);\n}   \n</code></pre>\n<p>I have things set up so that each controller returns the <code>@ResponseBody</code> as JSON, which is what the client-side expects.</p>\n<p>But what happens when a request isn't supposed to return any content to the client-side? Can I have:</p>\n<pre><code>@RequestMapping(value = &quot;/updateSomeData&quot; method = RequestMethod.POST)\npublic @ResponseBody void updateDataThatDoesntRequireClientToBeNotified(...) {\n    ...\n}\n</code></pre>\n<p>If not, what's the appropriate syntax to use here?</p>\n"},{"tags":["java","spring","spring-boot","httpclient","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678410689,"creation_date":1678410689,"answer_id":75691429,"question_id":75691376,"body_markdown":"Check [this Baeldung guide](https://www.baeldung.com/httpclient-connection-management) where it says:\r\n&gt; The default size of the pool of concurrent connections that can be open by the manager is two for each route or target host\r\n\r\nBut you can modify that property:\r\n\r\n```java\r\nPoolingHttpClientConnectionManager connManager \r\n  = new PoolingHttpClientConnectionManager();\r\nconnManager.setMaxTotal(5); \r\nconnManager.setDefaultMaxPerRoute(4);\r\n```\r\n\r\nWhere:\r\n\r\n- `setMaxTotal(int max)` – Set the maximum number of total open connections\r\n- `setDefaultMaxPerRoute(int max)` – Set the maximum number of concurrent connections per route, which is two by default.\r\n\r\nSo you can inject the `connManager` configuration into `httpClient`:\r\n\r\n```java\r\nCloseableHttpClient client = HttpClients.custom()\r\n    .setConnectionManager(connManager)\r\n    .setSSLSocketFactory(socketFactory)\r\n    .build();\r\n```","title":"RestTemplate can only maintain two connections at a time","body":"<p>Check <a href=\"https://www.baeldung.com/httpclient-connection-management\" rel=\"nofollow noreferrer\">this Baeldung guide</a> where it says:</p>\n<blockquote>\n<p>The default size of the pool of concurrent connections that can be open by the manager is two for each route or target host</p>\n</blockquote>\n<p>But you can modify that property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PoolingHttpClientConnectionManager connManager \n  = new PoolingHttpClientConnectionManager();\nconnManager.setMaxTotal(5); \nconnManager.setDefaultMaxPerRoute(4);\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><code>setMaxTotal(int max)</code> – Set the maximum number of total open connections</li>\n<li><code>setDefaultMaxPerRoute(int max)</code> – Set the maximum number of concurrent connections per route, which is two by default.</li>\n</ul>\n<p>So you can inject the <code>connManager</code> configuration into <code>httpClient</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient client = HttpClients.custom()\n    .setConnectionManager(connManager)\n    .setSSLSocketFactory(socketFactory)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":6902126,"reputation":25,"user_id":5301398,"display_name":"user5301398"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75691429,"answer_count":1,"score":0,"last_activity_date":1679010163,"creation_date":1678409875,"question_id":75691376,"body_markdown":"My RestTemplate can only maintain two connections at a time. The 3rd request will be blocked until previous request(s) return.\r\n\r\nI think something is wrong with RestTemplate bean configuration. Following is the configuration for RestTemplate:\r\n\r\n    TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    SSLContext sslContext = new SSLContextBuilder()\r\n    \t\t.loadTrustMaterial(null, acceptingTrustStrategy)\r\n    \t\t.build();\r\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n    \t\t.setSSLSocketFactory(socketFactory)\r\n    \t\t.build();\r\n    HttpComponentsClientHttpRequestFactory factory =\r\n    \t\tnew HttpComponentsClientHttpRequestFactory(httpClient);\r\n    return new RestTemplate(factory);\r\n\r\nI can&#39;t figure out why. Please help.","title":"RestTemplate can only maintain two connections at a time","body":"<p>My RestTemplate can only maintain two connections at a time. The 3rd request will be blocked until previous request(s) return.</p>\n<p>I think something is wrong with RestTemplate bean configuration. Following is the configuration for RestTemplate:</p>\n<pre><code>TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\nSSLContext sslContext = new SSLContextBuilder()\n        .loadTrustMaterial(null, acceptingTrustStrategy)\n        .build();\nSSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\nCloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(socketFactory)\n        .build();\nHttpComponentsClientHttpRequestFactory factory =\n        new HttpComponentsClientHttpRequestFactory(httpClient);\nreturn new RestTemplate(factory);\n</code></pre>\n<p>I can't figure out why. Please help.</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":1355034,"reputation":1817,"user_id":1527240,"accept_rate":67,"display_name":"androidgalaxyman"},"score":1,"creation_date":1342434291,"post_id":11501418,"comment_id":15196272,"body_markdown":"my requirement is reading the File from a RAR . Assume i am not try to write the temporary File from the RAR, inside RAR i am having a File, just i need to read.","body":"my requirement is reading the File from a RAR . Assume i am not try to write the temporary File from the RAR, inside RAR i am having a File, just i need to read."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1342435218,"post_id":11501418,"comment_id":15196648,"body_markdown":"I don&#39;t understand the question. Please clarify. If you want the oriinal File from the InputStream, there wasn&#39;t one: you are reading a RAR file, not a File. If you want something else, what?","body":"I don&#39;t understand the question. Please clarify. If you want the oriinal File from the InputStream, there wasn&#39;t one: you are reading a RAR file, not a File. If you want something else, what?"},{"owner":{"account_id":2371180,"reputation":2428,"user_id":2075782,"accept_rate":62,"display_name":"Paulo Oliveira"},"score":1,"creation_date":1497431908,"post_id":11501418,"comment_id":76071635,"body_markdown":"Possible duplicate of [How to convert InputStream to virtual File](https://stackoverflow.com/questions/4317035/how-to-convert-inputstream-to-virtual-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4317035/how-to-convert-inputstream-to-virtual-file\">How to convert InputStream to virtual File</a>"}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":2,"up_vote_count":129,"is_accepted":true,"score":127,"last_activity_date":1551290684,"creation_date":1342430626,"answer_id":11501465,"question_id":11501418,"body_markdown":"You need to create new file and copy contents from `InputStream` to that file:\r\n\r\n    File file = //...\r\n    try(OutputStream outputStream = new FileOutputStream(file)){\r\n        IOUtils.copy(inputStream, outputStream);\r\n    } catch (FileNotFoundException e) {\r\n        // handle exception here\r\n    } catch (IOException e) {\r\n        // handle exception here\r\n    }\r\n\r\nI am using convenient [`IOUtils.copy()`](http://commons.apache.org/io/apidocs/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)) to avoid manual copying of streams. Also it has built-in buffering.","title":"Is it possible to create a File object from InputStream","body":"<p>You need to create new file and copy contents from <code>InputStream</code> to that file:</p>\n\n<pre><code>File file = //...\ntry(OutputStream outputStream = new FileOutputStream(file)){\n    IOUtils.copy(inputStream, outputStream);\n} catch (FileNotFoundException e) {\n    // handle exception here\n} catch (IOException e) {\n    // handle exception here\n}\n</code></pre>\n\n<p>I am using convenient <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)\" rel=\"noreferrer\"><code>IOUtils.copy()</code></a> to avoid manual copying of streams. Also it has built-in buffering.</p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1661315654,"creation_date":1450657719,"answer_id":34387472,"question_id":11501418,"body_markdown":"Create a temp file first using org.apache.commons.io.\r\n\r\n    File tempFile = File.createTempFile(prefix, suffix);\r\n    tempFile.deleteOnExit();\r\n    FileOutputStream out = new FileOutputStream(tempFile);\r\n    IOUtils.copy(in, out);\r\n    return tempFile;","title":"Is it possible to create a File object from InputStream","body":"<p>Create a temp file first using org.apache.commons.io.</p>\n<pre><code>File tempFile = File.createTempFile(prefix, suffix);\ntempFile.deleteOnExit();\nFileOutputStream out = new FileOutputStream(tempFile);\nIOUtils.copy(in, out);\nreturn tempFile;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4513309,"reputation":2642,"user_id":3668858,"display_name":"Victor Petit"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1481302982,"creation_date":1481302982,"answer_id":41065412,"question_id":11501418,"body_markdown":"In one line :\r\n\r\n    FileUtils.copyInputStreamToFile(inputStream, file);\r\n\r\n(org.apache.commons.io)","title":"Is it possible to create a File object from InputStream","body":"<p>In one line :</p>\n\n<pre><code>FileUtils.copyInputStreamToFile(inputStream, file);\n</code></pre>\n\n<p>(org.apache.commons.io)</p>\n"},{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1622216732,"creation_date":1500355869,"answer_id":45158272,"question_id":11501418,"body_markdown":"If you do not want to use other libraries, here is a simple function to copy data from an `InputStream` to an `OutputStream`.\r\n\r\n    public static void copyStream(InputStream in, OutputStream out) throws IOException {\r\n        byte[] buffer = new byte[1024];\r\n        int read;\r\n        while ((read = in.read(buffer)) != -1) {\r\n            out.write(buffer, 0, read);\r\n        }\r\n    }\r\n\r\nNow, you can easily write an `Inputstream` into a file by using `FileOutputStream`-\r\n\r\n    FileOutputStream out = new FileOutputStream(outFile);\r\n    copyStream (inputStream, out);\r\n    out.close();","title":"Is it possible to create a File object from InputStream","body":"<p>If you do not want to use other libraries, here is a simple function to copy data from an <code>InputStream</code> to an <code>OutputStream</code>.</p>\n<pre><code>public static void copyStream(InputStream in, OutputStream out) throws IOException {\n    byte[] buffer = new byte[1024];\n    int read;\n    while ((read = in.read(buffer)) != -1) {\n        out.write(buffer, 0, read);\n    }\n}\n</code></pre>\n<p>Now, you can easily write an <code>Inputstream</code> into a file by using <code>FileOutputStream</code>-</p>\n<pre><code>FileOutputStream out = new FileOutputStream(outFile);\ncopyStream (inputStream, out);\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32370,"reputation":6343,"user_id":89769,"display_name":"h3xStream"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1533743542,"creation_date":1533743542,"answer_id":51750884,"question_id":11501418,"body_markdown":"If you are using Java version 7 or higher, you can use [try-with-resources][1] to properly close the `FileOutputStream`. The following code use [`IOUtils.copy()`](http://commons.apache.org/io/apidocs/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)) from [commons-io][2].\r\n\r\n    public void copyToFile(InputStream inputStream, File file) throws IOException {\r\n        try(OutputStream outputStream = new FileOutputStream(file)) {\r\n            IOUtils.copy(inputStream, outputStream);\r\n        }\r\n    }  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [2]: http://commons.apache.org/proper/commons-io/","title":"Is it possible to create a File object from InputStream","body":"<p>If you are using Java version 7 or higher, you can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to properly close the <code>FileOutputStream</code>. The following code use <a href=\"http://commons.apache.org/io/apidocs/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)\" rel=\"nofollow noreferrer\"><code>IOUtils.copy()</code></a> from <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons-io</a>.</p>\n\n<pre><code>public void copyToFile(InputStream inputStream, File file) throws IOException {\n    try(OutputStream outputStream = new FileOutputStream(file)) {\n        IOUtils.copy(inputStream, outputStream);\n    }\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"down_vote_count":1,"up_vote_count":58,"is_accepted":false,"score":57,"last_activity_date":1537447239,"creation_date":1537447239,"answer_id":52425390,"question_id":11501418,"body_markdown":"Since Java 7, you can do it in one line even without using any external libraries:\r\n\r\n    Files.copy(inputStream, outputPath, StandardCopyOption.REPLACE_EXISTING);\r\n\r\nSee the [API docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-","title":"Is it possible to create a File object from InputStream","body":"<p>Since Java 7, you can do it in one line even without using any external libraries:</p>\n\n<pre><code>Files.copy(inputStream, outputPath, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"noreferrer\">API docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1601294993,"creation_date":1587068754,"answer_id":61259460,"question_id":11501418,"body_markdown":"Easy Java 9 solution with *try with resources* block\r\n--\r\n\r\n    public static void copyInputStreamToFile(InputStream input, File file) {  \r\n\r\n        try (OutputStream output = new FileOutputStream(file)) {\r\n    \t\tinput.transferTo(output);\r\n    \t} catch (IOException ioException) {\r\n    \t\tioException.printStackTrace();\r\n    \t}\r\n\r\n    }\r\n\r\n[java.io.InputStream#transferTo](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-) is available since Java 9.","title":"Is it possible to create a File object from InputStream","body":"<h2>Easy Java 9 solution with <em>try with resources</em> block</h2>\n<pre><code>public static void copyInputStreamToFile(InputStream input, File file) {  \n\n    try (OutputStream output = new FileOutputStream(file)) {\n        input.transferTo(output);\n    } catch (IOException ioException) {\n        ioException.printStackTrace();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-\" rel=\"noreferrer\">java.io.InputStream#transferTo</a> is available since Java 9.</p>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22203,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679009480,"creation_date":1679009480,"answer_id":75762527,"question_id":11501418,"body_markdown":"I know this question is for Java but this comes up big on Google for Android searches as well, and a lot of modern Android uses Kotlin. So here&#39;s how easy it is in Kotlin, no 3rd party libs needed at all: `inputstream.copyTo(os)`\r\n\r\nA more fleshed out example:\r\n\r\n    // I&#39;m loading my InputStream from resources, you can get it anywhere\r\n    val inputstream = getResources().openRawResource(R.raw.ronan_collins)\r\n    // getCacheDir is /data/data/com.your.packagename/cache if you forgot. \r\n    // Which is probably the best place on Android to create tmp files\r\n    val outputFile = File(cacheDir, &quot;output.jpg&quot;)\r\n    val os = FileOutputStream(outputFile)\r\n    inputstream.copyTo(os)\r\n\r\nAnd now your file is /data/data/com.your.packagename/cache/output.jpg.\r\nAnd if you&#39;re wondering based on the SO question title, you can&#39;t create a `File` object from an `InputStream` without creating a real file somewhere, you can&#39;t write to a virtual file or a `File` object in memory or something like that. ","title":"Is it possible to create a File object from InputStream","body":"<p>I know this question is for Java but this comes up big on Google for Android searches as well, and a lot of modern Android uses Kotlin. So here's how easy it is in Kotlin, no 3rd party libs needed at all: <code>inputstream.copyTo(os)</code></p>\n<p>A more fleshed out example:</p>\n<pre><code>// I'm loading my InputStream from resources, you can get it anywhere\nval inputstream = getResources().openRawResource(R.raw.ronan_collins)\n// getCacheDir is /data/data/com.your.packagename/cache if you forgot. \n// Which is probably the best place on Android to create tmp files\nval outputFile = File(cacheDir, &quot;output.jpg&quot;)\nval os = FileOutputStream(outputFile)\ninputstream.copyTo(os)\n</code></pre>\n<p>And now your file is /data/data/com.your.packagename/cache/output.jpg.\nAnd if you're wondering based on the SO question title, you can't create a <code>File</code> object from an <code>InputStream</code> without creating a real file somewhere, you can't write to a virtual file or a <code>File</code> object in memory or something like that.</p>\n"}],"owner":{"account_id":1355034,"reputation":1817,"user_id":1527240,"accept_rate":67,"display_name":"androidgalaxyman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277312,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"accepted_answer_id":11501465,"answer_count":8,"score":178,"last_activity_date":1679009480,"creation_date":1342430501,"question_id":11501418,"body_markdown":"Is there any way to create a `java.io.File` object from an `java.io.InputStream` ?\r\n\r\nMy requirement is reading the File from a RAR . I am not trying to write a temporary File, I have a file inside RAR archive which I am trying to read.","title":"Is it possible to create a File object from InputStream","body":"<p>Is there any way to create a <code>java.io.File</code> object from an <code>java.io.InputStream</code> ?</p>\n\n<p>My requirement is reading the File from a RAR . I am not trying to write a temporary File, I have a file inside RAR archive which I am trying to read.</p>\n"},{"tags":["javascript","java","processing","processing.js"],"comments":[{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1460062928,"post_id":36487074,"comment_id":60583515,"body_markdown":"Please post a [mcve] that shows us exactly the code you&#39;re running. Note that this should just be a few lines, just enough for us to copy and paste to get the same results, but not your whole sketch!","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows us exactly the code you&#39;re running. Note that this should just be a few lines, just enough for us to copy and paste to get the same results, but not your whole sketch!"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1460063785,"post_id":36487074,"comment_id":60583929,"body_markdown":"This code works fine for me: `HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(&quot;one&quot;, &quot;A&quot;);\nmap.put(&quot;two&quot;, &quot;B&quot;);\nmap.put(&quot;three&quot;, &quot;C&quot;);\n\nprintln(map.size());\nprintln(map.keySet().toArray().length);`","body":"This code works fine for me: <code>HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;(); map.put(&quot;one&quot;, &quot;A&quot;); map.put(&quot;two&quot;, &quot;B&quot;); map.put(&quot;three&quot;, &quot;C&quot;);  println(map.size()); println(map.keySet().toArray().length);</code>"},{"owner":{"account_id":1280115,"reputation":145,"user_id":1234408,"display_name":"megabits"},"score":0,"creation_date":1460071874,"post_id":36487074,"comment_id":60586794,"body_markdown":"Ah, thanks Kevin! Sorry about the incomplete example. You&#39;re response led me to debug from a lower level. My problem turned out to be that the keys in my HashMap were objects, and the hashCode I was creating for those objects was failing due to an incorrect use of a float. I still don&#39;t understand why the calls to keySet().size() and keySet().toArray().length resulted in different values. I&#39;ll post an updated code sample with what I was really running into in case anyone is interested. Thanks again!","body":"Ah, thanks Kevin! Sorry about the incomplete example. You&#39;re response led me to debug from a lower level. My problem turned out to be that the keys in my HashMap were objects, and the hashCode I was creating for those objects was failing due to an incorrect use of a float. I still don&#39;t understand why the calls to keySet().size() and keySet().toArray().length resulted in different values. I&#39;ll post an updated code sample with what I was really running into in case anyone is interested. Thanks again!"}],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679009296,"creation_date":1460081468,"answer_id":36490348,"question_id":36487074,"body_markdown":"I think I finally figured it out. This took some head-scratching. Nice question.\r\n\r\nMoral of the story: I think you&#39;ve stumbled into a bit of weirdness with the `hashCode()` function. The `hashCode()` function has to return an `int` value, but you&#39;re returning a `float` value. \r\n\r\n**To fix your problem, cast the `hash` value into an `int` before returning it!**\r\n\r\n      public int hashCode() {\r\n        int hash = 17;\r\n        hash = ((hash + x) &lt;&lt; 5) - (hash + x);    \r\n        hash = ((hash + y) &lt;&lt; 5) - (hash + y);   \r\n        return (int)hash;\r\n      }\r\n\r\nThat might seem strange and unnecessary, so here&#39;s a longer explanation:\r\n\r\nNotice that `x` and `y` are `float` values, so when you use them in your `hash` calculations, the result becomes a `float` as well. You can prove this by printing out the value of `hash` before you return it.\r\n\r\nJava would complain about this. You can prove this by switching to Java mode and trying to run your program. But JavaScript isn&#39;t as strict with its types, so it lets your shoot yourself in the foot. Something I commonly do is program in Java mode to get its error checking, and then deploy using JavaScript mode.\r\n\r\nAnyway, inside the `HashMap` class, the result of the `hashCode()` function is eventually used as an index in an array. You can view that yourself in the [Processing.js](https://github.com/jeresig/processing-js/blob/master/processing.js) source file:\r\n\r\n    //this is in the HashMap class\r\n    function getBucketIndex(key) {\r\n            var index = virtHashCode(key) % buckets.length;\r\n            return index &lt; 0 ? buckets.length + index : index;\r\n    }\r\n    \r\n    function virtHashCode(obj) {\r\n        if (obj.hashCode instanceof Function) {\r\n          return obj.hashCode();\r\n        }\r\n       //other code omitted to keep this short\r\n    }\r\n\r\nAnd that might be fine, because strangely enough JavaScript is okay with decimal places in array indexes. But the problem is the implementation of `HashSet`&#39;s `Iterator`:\r\n\r\n    function Iterator(conversion, removeItem) {\r\n        var bucketIndex = 0;\r\n        var itemIndex = -1;\r\n        var endOfBuckets = false;\r\n        var currentItem;\r\n\r\n        function findNext() {\r\n          while (!endOfBuckets) {\r\n            ++itemIndex;\r\n            if (bucketIndex &gt;= buckets.length) {\r\n              endOfBuckets = true;\r\n            } else if (buckets[bucketIndex] === undef || itemIndex &gt;= buckets[bucketIndex].length) {\r\n              itemIndex = -1;\r\n              ++bucketIndex;\r\n            } else {\r\n              return;\r\n            }\r\n          }\r\n        }\r\n        //more code\r\n\r\nCheck out that `findNext()` function. It&#39;s looping through the indexes of the array, but it&#39;s incrementing by one each time. So any keys that are put into decimal-place indexes will be skipped!\r\n\r\nThat&#39;s why your iterator skips one of your objects (the one with a decimal place in the value returned from `hashCode()`). And that&#39;s why `toArray()` fails as well, since that function uses an `Iterator` under the hood.\r\n\r\nI wouldn&#39;t really call this a bug, since the problem is caused by returning a `float` from a function that says it will return an `int`. JavaScript doesn&#39;t really need `hashCode()` functions the same way Java does, so this implementation of `HashMap` and `Iterator` are pretty reasonable. But you do have to make sure you&#39;re returning an `int` from the `hashCode()` function.\r\n\r\nBy the way, here&#39;s a smaller example if you feel like playing around:\r\n\r\n    class Thing {\r\n      int myThing;\r\n    \r\n      public Thing(int myThing) {\r\n        this.myThing = myThing;\r\n      }\r\n      \r\n      public int hashCode(){\r\n        return myThing;\r\n      }\r\n    \r\n      public boolean equals(Object obj) {    \r\n        Thing other = (Thing) obj;    \r\n        return (myThing == other.myThing);\r\n      }\r\n    }\r\n    \r\n    void setup() {\r\n             \r\n      HashMap&lt;Thing, String&gt; map = new HashMap&lt;Thing, String&gt;();\r\n      map.put(new Thing(1), &quot;A&quot;);\r\n      map.put(new Thing(2.5), &quot;B&quot;); //uh oh!\r\n      map.put(new Thing(3), &quot;C&quot;);\r\n      println(&quot;1, &quot; + map.size());                      // outputs 3         \r\n      println(&quot;2, &quot; + map.keySet().size());             // outputs 3\r\n      println(&quot;3, &quot; + map.keySet().toArray().length);   // outputs 2\r\n    }\r\n\r\n","title":"Processing.js HashMap","body":"<p>I think I finally figured it out. This took some head-scratching. Nice question.</p>\n<p>Moral of the story: I think you've stumbled into a bit of weirdness with the <code>hashCode()</code> function. The <code>hashCode()</code> function has to return an <code>int</code> value, but you're returning a <code>float</code> value.</p>\n<p><strong>To fix your problem, cast the <code>hash</code> value into an <code>int</code> before returning it!</strong></p>\n<pre><code>  public int hashCode() {\n    int hash = 17;\n    hash = ((hash + x) &lt;&lt; 5) - (hash + x);    \n    hash = ((hash + y) &lt;&lt; 5) - (hash + y);   \n    return (int)hash;\n  }\n</code></pre>\n<p>That might seem strange and unnecessary, so here's a longer explanation:</p>\n<p>Notice that <code>x</code> and <code>y</code> are <code>float</code> values, so when you use them in your <code>hash</code> calculations, the result becomes a <code>float</code> as well. You can prove this by printing out the value of <code>hash</code> before you return it.</p>\n<p>Java would complain about this. You can prove this by switching to Java mode and trying to run your program. But JavaScript isn't as strict with its types, so it lets your shoot yourself in the foot. Something I commonly do is program in Java mode to get its error checking, and then deploy using JavaScript mode.</p>\n<p>Anyway, inside the <code>HashMap</code> class, the result of the <code>hashCode()</code> function is eventually used as an index in an array. You can view that yourself in the <a href=\"https://github.com/jeresig/processing-js/blob/master/processing.js\" rel=\"nofollow noreferrer\">Processing.js</a> source file:</p>\n<pre><code>//this is in the HashMap class\nfunction getBucketIndex(key) {\n        var index = virtHashCode(key) % buckets.length;\n        return index &lt; 0 ? buckets.length + index : index;\n}\n\nfunction virtHashCode(obj) {\n    if (obj.hashCode instanceof Function) {\n      return obj.hashCode();\n    }\n   //other code omitted to keep this short\n}\n</code></pre>\n<p>And that might be fine, because strangely enough JavaScript is okay with decimal places in array indexes. But the problem is the implementation of <code>HashSet</code>'s <code>Iterator</code>:</p>\n<pre><code>function Iterator(conversion, removeItem) {\n    var bucketIndex = 0;\n    var itemIndex = -1;\n    var endOfBuckets = false;\n    var currentItem;\n\n    function findNext() {\n      while (!endOfBuckets) {\n        ++itemIndex;\n        if (bucketIndex &gt;= buckets.length) {\n          endOfBuckets = true;\n        } else if (buckets[bucketIndex] === undef || itemIndex &gt;= buckets[bucketIndex].length) {\n          itemIndex = -1;\n          ++bucketIndex;\n        } else {\n          return;\n        }\n      }\n    }\n    //more code\n</code></pre>\n<p>Check out that <code>findNext()</code> function. It's looping through the indexes of the array, but it's incrementing by one each time. So any keys that are put into decimal-place indexes will be skipped!</p>\n<p>That's why your iterator skips one of your objects (the one with a decimal place in the value returned from <code>hashCode()</code>). And that's why <code>toArray()</code> fails as well, since that function uses an <code>Iterator</code> under the hood.</p>\n<p>I wouldn't really call this a bug, since the problem is caused by returning a <code>float</code> from a function that says it will return an <code>int</code>. JavaScript doesn't really need <code>hashCode()</code> functions the same way Java does, so this implementation of <code>HashMap</code> and <code>Iterator</code> are pretty reasonable. But you do have to make sure you're returning an <code>int</code> from the <code>hashCode()</code> function.</p>\n<p>By the way, here's a smaller example if you feel like playing around:</p>\n<pre><code>class Thing {\n  int myThing;\n\n  public Thing(int myThing) {\n    this.myThing = myThing;\n  }\n  \n  public int hashCode(){\n    return myThing;\n  }\n\n  public boolean equals(Object obj) {    \n    Thing other = (Thing) obj;    \n    return (myThing == other.myThing);\n  }\n}\n\nvoid setup() {\n         \n  HashMap&lt;Thing, String&gt; map = new HashMap&lt;Thing, String&gt;();\n  map.put(new Thing(1), &quot;A&quot;);\n  map.put(new Thing(2.5), &quot;B&quot;); //uh oh!\n  map.put(new Thing(3), &quot;C&quot;);\n  println(&quot;1, &quot; + map.size());                      // outputs 3         \n  println(&quot;2, &quot; + map.keySet().size());             // outputs 3\n  println(&quot;3, &quot; + map.keySet().toArray().length);   // outputs 2\n}\n</code></pre>\n"}],"owner":{"account_id":1280115,"reputation":145,"user_id":1234408,"display_name":"megabits"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36490348,"answer_count":1,"score":2,"last_activity_date":1679009296,"creation_date":1460062684,"question_id":36487074,"body_markdown":"I&#39;m having issues iterating over a HashMap in Processing.js. When calling the iterator, while(it.hasNext()) is never entered. \r\n\r\nAs a sanity check, I tried to skip the iterator and instead convert the keys to an array and iterate over those by index. That didn&#39;t work either. I printed out the following:\r\n\r\n    myHashMap.size();          // outputs 4\r\n    myHashMap.keySet().size(); // outputs 4\r\n    myHashMap.keySet().toArray().length; // outputs 0\r\n\r\nI would expect the final line to also output 4, as they previous calls did. Am I understanding something incorrectly? Thanks!\r\n\r\n--------------------------------\r\nEDIT\r\n\r\nHere is a full example of the problem I was running into. Turned out to be a problem with using a float in my HashCode, though I still don&#39;t understand why that causes a mismatch in elements when converting the keySet to an array.\r\n\r\n    class Vertex {\r\n        float x;\r\n        float y;\r\n\r\n        public Vertex(float x, float y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public int hashCode() {\r\n            int hash = 17;\r\n            hash = ((hash + x) &lt;&lt; 5) - (hash + x);    \r\n            hash = ((hash + y) &lt;&lt; 5) - (hash + y);    \r\n            return hash\r\n        }\r\n\r\n        public boolean equals(Object obj) {    \r\n            Vertex other = (Vertex) obj;    \r\n            return (x == obj.x &amp;&amp; y == obj.y);    \r\n        }\r\n\r\n    }\r\n\r\n    HashMap&lt;Vertex, String&gt; tmp = new HashMap&lt;Vertex, String&gt;();                \r\n    Vertex a = new Vertex(1.1, 2.2);    \r\n    Vertex b = new Vertex(1, 1);    \r\n    tmp.put(a, &quot;A&quot;);                         \r\n    tmp.put(b, &quot;B&quot;);                         \r\n                                        \r\n    println(&quot;1, &quot; + tmp.size());                      // outputs 2         \r\n    println(&quot;2, &quot; + tmp.keySet().size());             // outputs 2\r\n    println(&quot;3, &quot; + tmp.keySet().toArray().length);   // outputs 1","title":"Processing.js HashMap","body":"<p>I'm having issues iterating over a HashMap in Processing.js. When calling the iterator, while(it.hasNext()) is never entered. </p>\n\n<p>As a sanity check, I tried to skip the iterator and instead convert the keys to an array and iterate over those by index. That didn't work either. I printed out the following:</p>\n\n<pre><code>myHashMap.size();          // outputs 4\nmyHashMap.keySet().size(); // outputs 4\nmyHashMap.keySet().toArray().length; // outputs 0\n</code></pre>\n\n<p>I would expect the final line to also output 4, as they previous calls did. Am I understanding something incorrectly? Thanks!</p>\n\n<hr>\n\n<p>EDIT</p>\n\n<p>Here is a full example of the problem I was running into. Turned out to be a problem with using a float in my HashCode, though I still don't understand why that causes a mismatch in elements when converting the keySet to an array.</p>\n\n<pre><code>class Vertex {\n    float x;\n    float y;\n\n    public Vertex(float x, float y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int hashCode() {\n        int hash = 17;\n        hash = ((hash + x) &lt;&lt; 5) - (hash + x);    \n        hash = ((hash + y) &lt;&lt; 5) - (hash + y);    \n        return hash\n    }\n\n    public boolean equals(Object obj) {    \n        Vertex other = (Vertex) obj;    \n        return (x == obj.x &amp;&amp; y == obj.y);    \n    }\n\n}\n\nHashMap&lt;Vertex, String&gt; tmp = new HashMap&lt;Vertex, String&gt;();                \nVertex a = new Vertex(1.1, 2.2);    \nVertex b = new Vertex(1, 1);    \ntmp.put(a, \"A\");                         \ntmp.put(b, \"B\");                         \n\nprintln(\"1, \" + tmp.size());                      // outputs 2         \nprintln(\"2, \" + tmp.keySet().size());             // outputs 2\nprintln(\"3, \" + tmp.keySet().toArray().length);   // outputs 1\n</code></pre>\n"},{"tags":["java","hadoop","hive"],"comments":[{"owner":{"account_id":7783420,"reputation":117,"user_id":5889117,"display_name":"user5889117"},"score":0,"creation_date":1679014287,"post_id":75762504,"comment_id":133649381,"body_markdown":"SLF4J: Found binding problem is resolved. But &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException&quot; is still there.","body":"SLF4J: Found binding problem is resolved. But &quot;Exception in thread &quot;main&quot; java.lang.ClassCastException&quot; is still there."},{"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"score":1,"creation_date":1679027273,"post_id":75762504,"comment_id":133650825,"body_markdown":"What versions of java and hive are you using?","body":"What versions of java and hive are you using?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679058695,"post_id":75762504,"comment_id":133657337,"body_markdown":"By the way, Hive cli is not recommended, and instead you should be using beeline command","body":"By the way, Hive cli is not recommended, and instead you should be using beeline command"},{"owner":{"account_id":7783420,"reputation":117,"user_id":5889117,"display_name":"user5889117"},"score":0,"creation_date":1679071643,"post_id":75762504,"comment_id":133661075,"body_markdown":"Hive = 3.1.3 and Java = java-11-openjdk-amd64","body":"Hive = 3.1.3 and Java = java-11-openjdk-amd64"},{"owner":{"account_id":7783420,"reputation":117,"user_id":5889117,"display_name":"user5889117"},"score":0,"creation_date":1679074985,"post_id":75762504,"comment_id":133661932,"body_markdown":"not able to connect hive metastore on MySQL server using beeline.\n-------------------------------------------------------------------------------------------\n2023-03-17 12:29:07,704 WARN jdbc.HiveConnection: Failed to connect to localhost:45505\nUnknown HS2 problem when communicating with Thrift server.\nError: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:45505/hivemetastoredb: Invalid status 74 (state=08S01,code=0)","body":"not able to connect hive metastore on MySQL server using beeline. ------------------------------------------------------------&zwnj;&#8203;--------------------&zwnj;&#8203;----------- 2023-03-17 12:29:07,704 WARN jdbc.HiveConnection: Failed to connect to localhost:45505 Unknown HS2 problem when communicating with Thrift server. Error: Could not open client transport with JDBC Uri: jdbc:hive2://localhost:45505/hivemetastoredb: Invalid status 74 (state=08S01,code=0)"},{"owner":{"account_id":7783420,"reputation":117,"user_id":5889117,"display_name":"user5889117"},"score":0,"creation_date":1679085485,"post_id":75762504,"comment_id":133664266,"body_markdown":"I also tried from this link, but no luck after installing Java 8.\n\nhttps://stackoverflow.com/questions/56543542/unable-to-launch-hive-on-ubuntu?rq=1","body":"I also tried from this link, but no luck after installing Java 8.  <a href=\"https://stackoverflow.com/questions/56543542/unable-to-launch-hive-on-ubuntu?rq=1\" title=\"unable to launch hive on ubuntu\">stackoverflow.com/questions/56543542/&hellip;</a>"}],"owner":{"account_id":7783420,"reputation":117,"user_id":5889117,"display_name":"user5889117"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679009158,"creation_date":1679009158,"question_id":75762504,"body_markdown":"I have installed Hadoop, HIVE, and MYSQL Server was already installed.\r\n\r\nI followed these two links to install Hadoop &amp; Hive. I configured .sh, XML files as mentioned on those links, and I get this error when I start a hive.\r\n\r\nhttps://medium.com/analytics-vidhya/hadoop-single-node-cluster-setup-b11b957681f2\r\nhttps://blog.accubits.com/hive-installation-on-ubuntu-18-04-mysql-metastore/\r\n\r\nAny help is greatly appreciated.\r\n\r\n\r\nuser1@john-desktop:/usr/local/hive/bin$ hive\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\n\r\n    SLF4J: Found binding in [jar:file:/usr/local/hive/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/usr/local/hadoop/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n    Hive Session ID = 03c4d523-7dbc-4ce9-9b5e-d7643f505c7c\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\r\n    \tat org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\r\n    \tat org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\r\n    \tat org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\r\n    \tat org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n    \tat org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\n\r\n","title":"Hive: Java exception","body":"<p>I have installed Hadoop, HIVE, and MYSQL Server was already installed.</p>\n<p>I followed these two links to install Hadoop &amp; Hive. I configured .sh, XML files as mentioned on those links, and I get this error when I start a hive.</p>\n<p><a href=\"https://medium.com/analytics-vidhya/hadoop-single-node-cluster-setup-b11b957681f2\" rel=\"nofollow noreferrer\">https://medium.com/analytics-vidhya/hadoop-single-node-cluster-setup-b11b957681f2</a>\n<a href=\"https://blog.accubits.com/hive-installation-on-ubuntu-18-04-mysql-metastore/\" rel=\"nofollow noreferrer\">https://blog.accubits.com/hive-installation-on-ubuntu-18-04-mysql-metastore/</a></p>\n<p>Any help is greatly appreciated.</p>\n<p>user1@john-desktop:/usr/local/hive/bin$ hive\nSLF4J: Class path contains multiple SLF4J bindings.</p>\n<pre><code>SLF4J: Found binding in [jar:file:/usr/local/hive/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/hadoop/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nHive Session ID = 03c4d523-7dbc-4ce9-9b5e-d7643f505c7c\nException in thread &quot;main&quot; java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:413)\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:389)\n    at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\n    at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:705)\n    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\n</code></pre>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":4,"creation_date":1678971606,"post_id":75756573,"comment_id":133638645,"body_markdown":"See also: [Is floating point math broken?](https://stackoverflow.com/q/588004/3282436)","body":"See also: <a href=\"https://stackoverflow.com/q/588004/3282436\">Is floating point math broken?</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678971661,"post_id":75756573,"comment_id":133638667,"body_markdown":"Yea ... this is a binary floating point rounding error problem.","body":"Yea ... this is a binary floating point rounding error problem."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1678971798,"post_id":75756573,"comment_id":133638720,"body_markdown":"And ... also ... an illustration of why you shouldn&#39;t use floating point for accounting.","body":"And ... also ... an illustration of why you shouldn&#39;t use floating point for accounting."},{"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"score":0,"creation_date":1678972266,"post_id":75756573,"comment_id":133638873,"body_markdown":"What should you use for accounting instead?","body":"What should you use for accounting instead?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678972269,"post_id":75756573,"comment_id":133638876,"body_markdown":"Actually, the result in Java is 47.739999999999995 which  demonstrates the rounding error that @StephenC was talking about.","body":"Actually, the result in Java is 47.739999999999995 which  demonstrates the rounding error that @StephenC was talking about."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1678972283,"post_id":75756573,"comment_id":133638880,"body_markdown":"@cjingeorgia BigDecimal or convert dollars to cents.  I would prefer BigDecimal.","body":"@cjingeorgia BigDecimal or convert dollars to cents.  I would prefer BigDecimal."}],"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678971767,"answer_count":0,"score":0,"last_activity_date":1679009126,"creation_date":1678971303,"question_id":75756573,"body_markdown":"\r\ndPaid = 143.22 and b.ppTotal = 47.74. If I simply divide the remainder is 0. \r\nBut the result of this is in JAVA (and also using MOD in excel) is 47.74. \r\n\r\n\r\n `(Math.abs(dPaid % b.ppTotal))`","title":"Modulo returns result I don&#39;t understand","body":"<p>dPaid = 143.22 and b.ppTotal = 47.74. If I simply divide the remainder is 0.\nBut the result of this is in JAVA (and also using MOD in excel) is 47.74.</p>\n<p><code>(Math.abs(dPaid % b.ppTotal))</code></p>\n"},{"tags":["java","spring-boot","unit-testing","spock","spring-bean"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678799649,"post_id":75728468,"comment_id":133600338,"body_markdown":"What funny kind of bean definition is `@Bean List&lt;String&gt; getInvalidProduct()` meant to be? How would such a bean even be fetched from the application context? I can only imagine something like `@Bean(name = &quot;invalidProduct&quot;) List&lt;String&gt; getInvalidProduct()` and then `List&lt;String&gt; invalidProduct = (List&lt;String&gt;) context.getBean(&quot;invalidProduct&quot;)`. But still, what would be the point of such a (singleton!) bean? Is the method not supposed to return a dynamic request result? First answer that question, before we think about how to mock such a funny &quot;bean&quot; later.","body":"What funny kind of bean definition is <code>@Bean List&lt;String&gt; getInvalidProduct()</code> meant to be? How would such a bean even be fetched from the application context? I can only imagine something like <code>@Bean(name = &quot;invalidProduct&quot;) List&lt;String&gt; getInvalidProduct()</code> and then <code>List&lt;String&gt; invalidProduct = (List&lt;String&gt;) context.getBean(&quot;invalidProduct&quot;)</code>. But still, what would be the point of such a (singleton!) bean? Is the method not supposed to return a dynamic request result? First answer that question, before we think about how to mock such a funny &quot;bean&quot; later."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678800004,"post_id":75728468,"comment_id":133600465,"body_markdown":"And why would you define a `@Bean` factory method inside a `@Service` and not in a `@Configuration` class? Even if it works like that technically, it looks super weird.","body":"And why would you define a <code>@Bean</code> factory method inside a <code>@Service</code> and not in a <code>@Configuration</code> class? Even if it works like that technically, it looks super weird."},{"owner":{"account_id":27531986,"reputation":23,"user_id":21010337,"display_name":"Rue Honda"},"score":0,"creation_date":1678808010,"post_id":75728468,"comment_id":133603088,"body_markdown":"@kriegaex thank you for the comment. I have switched to Configuration annotation.\nIf I have to make a request upon the server startup (only once), then what other approach would not look super weird? I thought of making bean like this and access what the method returns throughout the application is very handy","body":"@kriegaex thank you for the comment. I have switched to Configuration annotation. If I have to make a request upon the server startup (only once), then what other approach would not look super weird? I thought of making bean like this and access what the method returns throughout the application is very handy"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1678811824,"post_id":75728468,"comment_id":133604316,"body_markdown":"It would not look super weird to create a separate `@Component` class wrapping that piece of logic. Then you could also refer to a class or interface name by convention - `MyComponent` → `getBean(&quot;myComponent&quot;)` or `getBean(MyComponent.class)` - when instantiating the component. A type like `List&lt;String&gt;` without explicit naming the bean does not easily translate to a default bean name. And what if you need another singleton which also yields a list of strings? Just encapsulate it, would be my two cents.","body":"It would not look super weird to create a separate <code>@Component</code> class wrapping that piece of logic. Then you could also refer to a class or interface name by convention - <code>MyComponent</code> → <code>getBean(&quot;myComponent&quot;)</code> or <code>getBean(MyComponent.class)</code> - when instantiating the component. A type like <code>List&lt;String&gt;</code> without explicit naming the bean does not easily translate to a default bean name. And what if you need another singleton which also yields a list of strings? Just encapsulate it, would be my two cents."},{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1678820635,"post_id":75728468,"comment_id":133606747,"body_markdown":"You could also mark it as a lazy bean.","body":"You could also mark it as a lazy bean."},{"owner":{"account_id":27531986,"reputation":23,"user_id":21010337,"display_name":"Rue Honda"},"score":0,"creation_date":1678828394,"post_id":75728468,"comment_id":133608755,"body_markdown":"@user16358266 do you mean using lazy annotation? How does it help mocking the bean? Can you elaborate your more?","body":"@user16358266 do you mean using lazy annotation? How does it help mocking the bean? Can you elaborate your more?"}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679008861,"creation_date":1678932234,"answer_id":75751572,"question_id":75728468,"body_markdown":"Just use `@SpringBean` to create a mock. It is a Spock annotation, so it must be used in a `Specification` and does nothing when used in a `@Configuration` class like you tried.\r\n\r\n\r\n```\r\nimport org.spockframework.spring.SpringBean\r\nimport spock.lang.Specification\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.test.context.ContextConfiguration\r\n\r\n@Configuration\r\nclass FooConfiguration {\r\n\r\n  @Bean\r\n  List&lt;String&gt; getInvalidProduct() {\r\n    List&lt;String&gt; invalids = new ArrayList();\r\n    invalids.add(&quot;AAA&quot;);\r\n    invalids.add(&quot;BBB&quot;);\r\n    invalids.add(&quot;CCC&quot;);\r\n    return invalids;\r\n  }\r\n  @Bean\r\n  List&lt;Integer&gt; getInvalidProductIds() {\r\n    List&lt;String&gt; invalids = new ArrayList();\r\n    invalids.add(1);\r\n    invalids.add(2);\r\n    invalids.add(3);\r\n    return invalids;\r\n  }\r\n}\r\n\r\n@ContextConfiguration(classes = [FooConfiguration])\r\nclass Foo extends Specification {\r\n  @SpringBean\r\n  List&lt;String&gt; invalidProduct = Mock()\r\n\r\n  @Autowired\r\n  List&lt;String&gt; injected\r\n\r\n  def &quot;test&quot;() {\r\n    when:\r\n    def result = injected.get(1)\r\n\r\n    then:\r\n    1 * invalidProduct.get(1) &gt;&gt; &quot;FOO&quot;\r\n    result == &quot;FOO&quot;\r\n  }\r\n}\r\n```\r\n\r\nThat being said, I agree with @kriegaex that it would be better to wrap this in a service that encapsulates this. You could use the service should probably use application events to defer loading the data until the app is actually started as well.","title":"How to mock Bean that makes rest api request in spock test?","body":"<p>Just use <code>@SpringBean</code> to create a mock. It is a Spock annotation, so it must be used in a <code>Specification</code> and does nothing when used in a <code>@Configuration</code> class like you tried.</p>\n<pre><code>import org.spockframework.spring.SpringBean\nimport spock.lang.Specification\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.test.context.ContextConfiguration\n\n@Configuration\nclass FooConfiguration {\n\n  @Bean\n  List&lt;String&gt; getInvalidProduct() {\n    List&lt;String&gt; invalids = new ArrayList();\n    invalids.add(&quot;AAA&quot;);\n    invalids.add(&quot;BBB&quot;);\n    invalids.add(&quot;CCC&quot;);\n    return invalids;\n  }\n  @Bean\n  List&lt;Integer&gt; getInvalidProductIds() {\n    List&lt;String&gt; invalids = new ArrayList();\n    invalids.add(1);\n    invalids.add(2);\n    invalids.add(3);\n    return invalids;\n  }\n}\n\n@ContextConfiguration(classes = [FooConfiguration])\nclass Foo extends Specification {\n  @SpringBean\n  List&lt;String&gt; invalidProduct = Mock()\n\n  @Autowired\n  List&lt;String&gt; injected\n\n  def &quot;test&quot;() {\n    when:\n    def result = injected.get(1)\n\n    then:\n    1 * invalidProduct.get(1) &gt;&gt; &quot;FOO&quot;\n    result == &quot;FOO&quot;\n  }\n}\n</code></pre>\n<p>That being said, I agree with @kriegaex that it would be better to wrap this in a service that encapsulates this. You could use the service should probably use application events to defer loading the data until the app is actually started as well.</p>\n"}],"owner":{"account_id":27531986,"reputation":23,"user_id":21010337,"display_name":"Rue Honda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75751572,"answer_count":1,"score":1,"last_activity_date":1679008861,"creation_date":1678759118,"question_id":75728468,"body_markdown":"So I have the application which makes a rest api request and I added bean annotation as follows\r\n\r\n```java\r\n@Configuratin\r\npublic class RequestService {\r\n  @Autowired\r\n  RestTemplate restTemplate;\r\n  \r\n  @Autowired\r\n  JwtService jwtService;\r\n  \r\n  @Bean\r\n  List&lt;String&gt; getInvalidProduct() {\r\n    String jwt_access_token = this.jwtService.requestToken();\r\n    URI uri = new URI(&quot;https://localhost:8080&quot;);\r\n    ResponseEntity&lt;?&gt; response = this.restTemplate.exchange(uri, HttpMethod.GET, this.jwtService.helper(jwt_access_token), Product[].class);\r\n    return response.getBody();\r\n  }\r\n}\r\n```\r\n\r\neverything works so far. \r\nHowever, I am having trouble making spock test. Since this gets registered as soon as application runs, after adding this block of code, it breaks all my previous spock test, which is totally understandable. \r\n\r\nWithout running `jwtService.requestToken()` or `this.restTemplate.exchange()`, how can I mock this bean and inject the `List&lt;String&gt;` object? Thank you so much in advance\r\n\r\n\r\nI am trying to make a config class or spocks test as follows\r\n\r\n```java\r\n@Configuration\r\nclass TestConfiguration {\r\n  @SpringBean\r\n  List&lt;String&gt; getInvalidProduct() {\r\n    List&lt;String&gt; invalids = new ArrayList();\r\n    invalids.add(&quot;AAA&quot;);\r\n    invalids.add(&quot;BBB&quot;);\r\n    invalids.add(&quot;CCC&quot;);\r\n    return invalids;\r\n  }\r\n}\r\n```\r\n\r\nIs there a way to replace a bean like this?","title":"How to mock Bean that makes rest api request in spock test?","body":"<p>So I have the application which makes a rest api request and I added bean annotation as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuratin\npublic class RequestService {\n  @Autowired\n  RestTemplate restTemplate;\n  \n  @Autowired\n  JwtService jwtService;\n  \n  @Bean\n  List&lt;String&gt; getInvalidProduct() {\n    String jwt_access_token = this.jwtService.requestToken();\n    URI uri = new URI(&quot;https://localhost:8080&quot;);\n    ResponseEntity&lt;?&gt; response = this.restTemplate.exchange(uri, HttpMethod.GET, this.jwtService.helper(jwt_access_token), Product[].class);\n    return response.getBody();\n  }\n}\n</code></pre>\n<p>everything works so far.\nHowever, I am having trouble making spock test. Since this gets registered as soon as application runs, after adding this block of code, it breaks all my previous spock test, which is totally understandable.</p>\n<p>Without running <code>jwtService.requestToken()</code> or <code>this.restTemplate.exchange()</code>, how can I mock this bean and inject the <code>List&lt;String&gt;</code> object? Thank you so much in advance</p>\n<p>I am trying to make a config class or spocks test as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass TestConfiguration {\n  @SpringBean\n  List&lt;String&gt; getInvalidProduct() {\n    List&lt;String&gt; invalids = new ArrayList();\n    invalids.add(&quot;AAA&quot;);\n    invalids.add(&quot;BBB&quot;);\n    invalids.add(&quot;CCC&quot;);\n    return invalids;\n  }\n}\n</code></pre>\n<p>Is there a way to replace a bean like this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678015398,"post_id":75641852,"comment_id":133447801,"body_markdown":"That&#39;s a very old version of Spring Boot.  We&#39;re up to 3.0.3 today.  It requires JDK 17.  I&#39;d suggest you think about making that jump as soon as you can.  Even if you don&#39;t, you should be using 2.7.9.","body":"That&#39;s a very old version of Spring Boot.  We&#39;re up to 3.0.3 today.  It requires JDK 17.  I&#39;d suggest you think about making that jump as soon as you can.  Even if you don&#39;t, you should be using 2.7.9."},{"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"score":0,"creation_date":1678023409,"post_id":75641852,"comment_id":133448907,"body_markdown":"Hi, I am bound to use JDK 8 for my project. I tried to run same project with 2.7.9 spring-boot-starter-parent. But, still same error is coming up!","body":"Hi, I am bound to use JDK 8 for my project. I tried to run same project with 2.7.9 spring-boot-starter-parent. But, still same error is coming up!"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678068687,"post_id":75641852,"comment_id":133456033,"body_markdown":"You should upgrade JDK 8, too.  It&#39;s already past the end of its support life.  You are asking for trouble.","body":"You should upgrade JDK 8, too.  It&#39;s already past the end of its support life.  You are asking for trouble."},{"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"score":0,"creation_date":1678083274,"post_id":75641852,"comment_id":133457670,"body_markdown":"Hi @duffymo, I tried to upgrade JDK to 17. Still I am getting same error. My spring boot parent version is 2.7.9, spring-cloud version is 2021.0.6, spring-admin version is 2.7.10. Please suggest what can be done","body":"Hi @duffymo, I tried to upgrade JDK to 17. Still I am getting same error. My spring boot parent version is 2.7.9, spring-cloud version is 2021.0.6, spring-admin version is 2.7.10. Please suggest what can be done"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678108947,"post_id":75641852,"comment_id":133463985,"body_markdown":"You are not bound to JDK 8, as you said.  Spring Boot 3.0.4 is my next recommendation.  Spring Cloud should be 2022.0.1. \n You&#39;ll be up to date then.   Once that&#39;s done, you can start to fix your problems. \n https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-parent/2022.0.1","body":"You are not bound to JDK 8, as you said.  Spring Boot 3.0.4 is my next recommendation.  Spring Cloud should be 2022.0.1.   You&#39;ll be up to date then.   Once that&#39;s done, you can start to fix your problems.   <a href=\"https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-parent/2022.0.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.cloud/&hellip;</a>"}],"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679008544,"creation_date":1678015172,"question_id":75641852,"body_markdown":"I am trying to upgrade spring boot version of a multi-module application. I am getting error:  &quot;Error creating bean with name &#39;registrationListener&#39;&quot; \r\n\r\nNew spring-boot-parent version:2.6.9\r\n\r\nNew spring-cloud version : 2021.0.3\r\n\r\nNew de.codecentric:spring-boot-admin-dependencies version : 2.6.8\r\n\r\n\r\nI am getting the following error:\r\n\r\n    Channel &#39;abc.errorChannel&#39; has 0 subscriber(s).\r\n    stopped bean &#39;_org.springframework.integration.errorLogger&#39;\r\n    Exception thrown from ApplicationListener handling ContextClosedEvent\r\n    org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;registrationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\r\n    \tat java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:120) ~[spring-cloud-stream-3.2.4.jar:3.2.4]\r\n    \tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat com.abc.de.MainApplication.main(DTCmsApplication.java:52) ~[classes/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_341]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_341]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_341]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_341]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.9.jar:2.6.9]\r\n\r\nregistrationListener is present in class SpringBootAdminClientAutoConfiguration of spring-boot-admin-client:2.6.8\r\n\r\nCan someone help with this? Am I using wrong version combinations","title":"Error while upgrading spring-boot version of application to 2.6.9 : Application not starting up","body":"<p>I am trying to upgrade spring boot version of a multi-module application. I am getting error:  &quot;Error creating bean with name 'registrationListener'&quot;</p>\n<p>New spring-boot-parent version:2.6.9</p>\n<p>New spring-cloud version : 2021.0.3</p>\n<p>New de.codecentric:spring-boot-admin-dependencies version : 2.6.8</p>\n<p>I am getting the following error:</p>\n<pre><code>Channel 'abc.errorChannel' has 0 subscriber(s).\nstopped bean '_org.springframework.integration.errorLogger'\nException thrown from ApplicationListener handling ContextClosedEvent\norg.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'registrationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.21.jar:5.3.21]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\n    at java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:120) ~[spring-cloud-stream-3.2.4.jar:3.2.4]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.9.jar:2.6.9]\n    at com.abc.de.MainApplication.main(DTCmsApplication.java:52) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_341]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_341]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_341]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_341]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.9.jar:2.6.9]\n</code></pre>\n<p>registrationListener is present in class SpringBootAdminClientAutoConfiguration of spring-boot-admin-client:2.6.8</p>\n<p>Can someone help with this? Am I using wrong version combinations</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":3984921,"reputation":1029,"user_id":3285817,"accept_rate":75,"display_name":"OnlyDean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679008093,"creation_date":1679008093,"answer_id":75762406,"question_id":75762229,"body_markdown":"I solved this problem by using the `@Field()` annotation in place of the `@BsonProperty()` annotation.\r\n\r\nI don&#39;t know *why* `@Field` works when `@BsonProperty` doesn&#39;t, so if anyone can explain it to me, I&#39;d still appreciate an answer.","title":"Java Spring Boot w/ MongoDB -- Not All Document Fields Are Being Mapped to POJO","body":"<p>I solved this problem by using the <code>@Field()</code> annotation in place of the <code>@BsonProperty()</code> annotation.</p>\n<p>I don't know <em>why</em> <code>@Field</code> works when <code>@BsonProperty</code> doesn't, so if anyone can explain it to me, I'd still appreciate an answer.</p>\n"}],"owner":{"account_id":3984921,"reputation":1029,"user_id":3285817,"accept_rate":75,"display_name":"OnlyDean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679008093,"creation_date":1679006182,"question_id":75762229,"body_markdown":"I&#39;ve got a MongoDB database populated with JSON files that represent game assets.\r\n\r\nHere are the two JSON documents referenced in the example below:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;Kaelyssa, The Night&#39;s Whisper&quot;,\r\n  &quot;edition&quot;: 3,\r\n  &quot;revision&quot;: &quot;2021 v1&quot;,\r\n  &quot;keywords&quot;: [\r\n    &quot;Retribution&quot;,\r\n    &quot;Mage Hunter&quot;,\r\n    &quot;Warcaster&quot;\r\n  ],\r\n  &quot;warjack points&quot;: 29,\r\n  &quot;field allowance&quot;: &quot;C&quot;,\r\n  &quot;models&quot;: [\r\n    {\r\n         // SUB-DOCUMENT CONTAINING LOTS OF IRRELEVANT INFORMATION OMITTED FOR READABILITY\r\n    }\r\n  ]\r\n}\r\n\r\n{\r\n  &quot;name&quot;: &quot;Mortitheurge Willbreaker&quot;,\r\n  &quot;edition&quot;: 3,\r\n  &quot;revision&quot;: &quot;2021 v1&quot;,\r\n  &quot;keywords&quot;: [\r\n    &quot;Skorne&quot;,\r\n    &quot;Solo&quot;\r\n  ],\r\n  &quot;point cost&quot;: 2,\r\n  &quot;field allowance&quot;: 2,\r\n  &quot;models&quot;: [\r\n    {\r\n         // SUB-DOCUMENT CONTAINING LOTS OF IRRELEVANT INFORMATION OMITTED FOR READABILITY\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nHere is the model class relevant to the question (boilerplate code like getters, setters, and imports are omitted for readability):\r\n\r\n```\r\n@Document(&quot;cards&quot;)\r\npublic class Card {\r\n\r\n\tprivate ObjectId id;\r\n\t\r\n\t@BsonProperty(value = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@BsonProperty(value = &quot;edition&quot;)\r\n\tprivate Integer edition;\r\n\t\r\n\t@BsonProperty(value = &quot;revision&quot;)\r\n\tprivate String revision;\r\n\t\r\n\t@BsonProperty(value = &quot;keywords&quot;)\r\n\tprivate ArrayList&lt;String&gt; keywords;\r\n\t\r\n\t@BsonProperty(value = &quot;unit size&quot;)\r\n\tprivate String unitSize;\r\n\t\r\n\t@BsonProperty(value = &quot;warjack points&quot;)\r\n\tprivate Integer warjackPoints;\r\n\t\r\n\t@BsonProperty(value = &quot;warbeast points&quot;)\r\n\tprivate Integer warbeastPoints;\r\n\t\r\n\t@BsonProperty(value = &quot;point cost&quot;)\r\n\tprivate Integer pointCost;\r\n\t\r\n\t@BsonProperty(value = &quot;field allowance&quot;)\r\n\tprivate String fieldAllowance;\r\n\t\r\n\t@BsonProperty(value = &quot;models&quot;)\r\n\tprivate ArrayList&lt;Model&gt; models;\r\n}\r\n```\r\n\r\nHere is my minimal Repository class:\r\n\r\n```\r\npublic interface CardRepository extends MongoRepository&lt;Card, String&gt;{\r\n\r\n\t@Query(&quot;{name:&#39;?0&#39;}&quot;)\r\n\tCard findCardByName(String name);\r\n\t\r\n\tpublic long count();\r\n}\r\n```\r\n\r\nHere is my application file:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class GameApplication implements CommandLineRunner {\r\n\t\r\n\t@Autowired\r\n\tCardRepository cardRepository;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CollegeApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t\tfindCard();\r\n\t}\t\r\n\r\n\tpublic void findCard() {\r\n\t\tlong count = cardRepository.count();\r\n\t\tSystem.out.println(&quot;Number of cards found: &quot; + count);\r\n\r\n\t\tString cardName = &quot;Kaelyssa, The Night&#39;s Whisper&quot;;\r\n\t\tCard card = cardRepository.findCardByName(cardName);\r\n\t\tSystem.out.println(card);\r\n\r\n\t\tcardName = &quot;Mortitheurge Willbreaker&quot;;\r\n\t\tcard = cardRepository.findCardByName(cardName);\r\n\t\tSystem.out.println(card);\r\n\t}\r\n}\r\n```\r\n\r\nAnd finally, here is my output when I run the application:\r\n\r\n```\r\nNumber of cards found: 1209\r\nCard [id=640f7ae7d0371a1460ba8e7f, name=Kaelyssa, The Night&#39;s Whisper, edition=3, revision=2021 v1, keywords=[Retribution, Mage Hunter, Warcaster], unitSize=null, warjackPoints=null, warbeastPoints=null, pointCost=null, fieldAllowance=null, models=[com.kriegzeug.college.com.model.Model@661e279d]]\r\nCard [id=640f7ae9b608c31e106c5097, name=Mortitheurge Willbreaker, edition=3, revision=2021 v1, keywords=[Skorne, Solo], unitSize=null, warjackPoints=null, warbeastPoints=null, pointCost=null, fieldAllowance=null, models=[com.kriegzeug.college.com.model.Model@621624b1]]\r\n\r\n```\r\n\r\n\r\nAs you can see, my application is mostly wired correctly.\r\n\r\nI get the correct output of the `cardRepository.count()` method, and the `cardRepository.findCardByName()` method does retrieve the correct document.\r\n\r\nWhat I&#39;m not understanding is why the fields `name`, `edition`, `revision`, and `keywords`, and `models` are all being mapped correctly, but the fields `unitSize`, `warjackPoints`, `warbeastPoints`, `pointCost`, and `fieldAllowance` are all returning `null`, even when a value is present for that field. Note that one document has a `point cost` field while the other does not, one document has a `warjack points` field while the other does not and both documents have a `field allowance` field.\r\n\r\nThere might be a clue in that the non-populating fields all have keys in the JSON document that are two words separated by a space (e.g. &quot;field allowance&quot;). But shouldn&#39;t the `@BsonProperty(value = &quot;field allowance&quot;)` annotation account for that?\r\n\r\nCan anyone offer me a clue as to why my MongoDB documents aren&#39;t mapping correctly to my Java POJOs? Thanks!","title":"Java Spring Boot w/ MongoDB -- Not All Document Fields Are Being Mapped to POJO","body":"<p>I've got a MongoDB database populated with JSON files that represent game assets.</p>\n<p>Here are the two JSON documents referenced in the example below:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Kaelyssa, The Night's Whisper&quot;,\n  &quot;edition&quot;: 3,\n  &quot;revision&quot;: &quot;2021 v1&quot;,\n  &quot;keywords&quot;: [\n    &quot;Retribution&quot;,\n    &quot;Mage Hunter&quot;,\n    &quot;Warcaster&quot;\n  ],\n  &quot;warjack points&quot;: 29,\n  &quot;field allowance&quot;: &quot;C&quot;,\n  &quot;models&quot;: [\n    {\n         // SUB-DOCUMENT CONTAINING LOTS OF IRRELEVANT INFORMATION OMITTED FOR READABILITY\n    }\n  ]\n}\n\n{\n  &quot;name&quot;: &quot;Mortitheurge Willbreaker&quot;,\n  &quot;edition&quot;: 3,\n  &quot;revision&quot;: &quot;2021 v1&quot;,\n  &quot;keywords&quot;: [\n    &quot;Skorne&quot;,\n    &quot;Solo&quot;\n  ],\n  &quot;point cost&quot;: 2,\n  &quot;field allowance&quot;: 2,\n  &quot;models&quot;: [\n    {\n         // SUB-DOCUMENT CONTAINING LOTS OF IRRELEVANT INFORMATION OMITTED FOR READABILITY\n    }\n  ]\n}\n</code></pre>\n<p>Here is the model class relevant to the question (boilerplate code like getters, setters, and imports are omitted for readability):</p>\n<pre><code>@Document(&quot;cards&quot;)\npublic class Card {\n\n    private ObjectId id;\n    \n    @BsonProperty(value = &quot;name&quot;)\n    private String name;\n    \n    @BsonProperty(value = &quot;edition&quot;)\n    private Integer edition;\n    \n    @BsonProperty(value = &quot;revision&quot;)\n    private String revision;\n    \n    @BsonProperty(value = &quot;keywords&quot;)\n    private ArrayList&lt;String&gt; keywords;\n    \n    @BsonProperty(value = &quot;unit size&quot;)\n    private String unitSize;\n    \n    @BsonProperty(value = &quot;warjack points&quot;)\n    private Integer warjackPoints;\n    \n    @BsonProperty(value = &quot;warbeast points&quot;)\n    private Integer warbeastPoints;\n    \n    @BsonProperty(value = &quot;point cost&quot;)\n    private Integer pointCost;\n    \n    @BsonProperty(value = &quot;field allowance&quot;)\n    private String fieldAllowance;\n    \n    @BsonProperty(value = &quot;models&quot;)\n    private ArrayList&lt;Model&gt; models;\n}\n</code></pre>\n<p>Here is my minimal Repository class:</p>\n<pre><code>public interface CardRepository extends MongoRepository&lt;Card, String&gt;{\n\n    @Query(&quot;{name:'?0'}&quot;)\n    Card findCardByName(String name);\n    \n    public long count();\n}\n</code></pre>\n<p>Here is my application file:</p>\n<pre><code>@SpringBootApplication\npublic class GameApplication implements CommandLineRunner {\n    \n    @Autowired\n    CardRepository cardRepository;\n    \n    public static void main(String[] args) {\n        SpringApplication.run(CollegeApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        findCard();\n    }   \n\n    public void findCard() {\n        long count = cardRepository.count();\n        System.out.println(&quot;Number of cards found: &quot; + count);\n\n        String cardName = &quot;Kaelyssa, The Night's Whisper&quot;;\n        Card card = cardRepository.findCardByName(cardName);\n        System.out.println(card);\n\n        cardName = &quot;Mortitheurge Willbreaker&quot;;\n        card = cardRepository.findCardByName(cardName);\n        System.out.println(card);\n    }\n}\n</code></pre>\n<p>And finally, here is my output when I run the application:</p>\n<pre><code>Number of cards found: 1209\nCard [id=640f7ae7d0371a1460ba8e7f, name=Kaelyssa, The Night's Whisper, edition=3, revision=2021 v1, keywords=[Retribution, Mage Hunter, Warcaster], unitSize=null, warjackPoints=null, warbeastPoints=null, pointCost=null, fieldAllowance=null, models=[com.kriegzeug.college.com.model.Model@661e279d]]\nCard [id=640f7ae9b608c31e106c5097, name=Mortitheurge Willbreaker, edition=3, revision=2021 v1, keywords=[Skorne, Solo], unitSize=null, warjackPoints=null, warbeastPoints=null, pointCost=null, fieldAllowance=null, models=[com.kriegzeug.college.com.model.Model@621624b1]]\n\n</code></pre>\n<p>As you can see, my application is mostly wired correctly.</p>\n<p>I get the correct output of the <code>cardRepository.count()</code> method, and the <code>cardRepository.findCardByName()</code> method does retrieve the correct document.</p>\n<p>What I'm not understanding is why the fields <code>name</code>, <code>edition</code>, <code>revision</code>, and <code>keywords</code>, and <code>models</code> are all being mapped correctly, but the fields <code>unitSize</code>, <code>warjackPoints</code>, <code>warbeastPoints</code>, <code>pointCost</code>, and <code>fieldAllowance</code> are all returning <code>null</code>, even when a value is present for that field. Note that one document has a <code>point cost</code> field while the other does not, one document has a <code>warjack points</code> field while the other does not and both documents have a <code>field allowance</code> field.</p>\n<p>There might be a clue in that the non-populating fields all have keys in the JSON document that are two words separated by a space (e.g. &quot;field allowance&quot;). But shouldn't the <code>@BsonProperty(value = &quot;field allowance&quot;)</code> annotation account for that?</p>\n<p>Can anyone offer me a clue as to why my MongoDB documents aren't mapping correctly to my Java POJOs? Thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1678905950,"post_id":75746503,"comment_id":133625722,"body_markdown":"Just for your reference: https://github.com/dineshbhagat/spring-boot-web-jpa","body":"Just for your reference: <a href=\"https://github.com/dineshbhagat/spring-boot-web-jpa\" rel=\"nofollow noreferrer\">github.com/dineshbhagat/spring-boot-web-jpa</a>"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1678943792,"post_id":75746503,"comment_id":133631814,"body_markdown":"@dkb if you were able to get my mistake, can you point me out where did I go wrong ?","body":"@dkb if you were able to get my mistake, can you point me out where did I go wrong ?"}],"answers":[{"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679007860,"creation_date":1679007860,"answer_id":75762389,"question_id":75746503,"body_markdown":"    @Entity\r\n    @Table(name = &quot;univ&quot;)\r\n    public class University {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer Id ;\r\n        private String Name ;\r\n        @OneToMany(mappedBy = &quot;university&quot;,cascade = CascadeType.ALL)\r\n        private List &lt;Student&gt; std =  new ArrayList&lt;&gt;() ;\r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            Name = name;\r\n        }\r\n    \r\n        public List&lt;Student&gt; getStd() {\r\n            return std;\r\n        }\r\n    \r\n        public void setStd(List&lt;Student&gt; std) {\r\n            this.std = std;\r\n        }\r\n    \r\n        public University(String name, List&lt;Student&gt; std) {\r\n            this.Name = name;\r\n            this.std = std;\r\n        }\r\n    }\r\n    \r\n    After doing this, \r\n    delete the university and students table and rerun the project","title":"Unable to properly establish One to Many Unidirectional Mapping in SpringBoot","body":"<pre><code>@Entity\n@Table(name = &quot;univ&quot;)\npublic class University {\n    @Id\n    @GeneratedValue\n    private Integer Id ;\n    private String Name ;\n    @OneToMany(mappedBy = &quot;university&quot;,cascade = CascadeType.ALL)\n    private List &lt;Student&gt; std =  new ArrayList&lt;&gt;() ;\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n    public List&lt;Student&gt; getStd() {\n        return std;\n    }\n\n    public void setStd(List&lt;Student&gt; std) {\n        this.std = std;\n    }\n\n    public University(String name, List&lt;Student&gt; std) {\n        this.Name = name;\n        this.std = std;\n    }\n}\n\nAfter doing this, \ndelete the university and students table and rerun the project\n</code></pre>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679007860,"creation_date":1678892449,"question_id":75746503,"body_markdown":"Recently I have been practicing ER mapping between two entities and went forward to try unidirectional One-To-Many Mapping. I am using SpringBoot 2 with Spring-Data-JPA and H2 database.\r\n\r\nThere are two Entities under model package : `University` and `Student`&lt;br&gt;\r\nIn this One-to-many relation I m aiming at implementing a relation where multiple students can be related to one University.\r\n\r\n**University.java** \r\n\r\n    @Entity\r\n    @Table(name = &quot;univ&quot;)\r\n    public class University {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer Id ;\r\n        private String Name ;\r\n        @OneToMany(\r\n                cascade = CascadeType.ALL\r\n        )\r\n        private List &lt;Student&gt; std =  new ArrayList&lt;&gt;() ;\r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            Name = name;\r\n        }\r\n    \r\n        public List&lt;Student&gt; getStd() {\r\n            return std;\r\n        }\r\n    \r\n        public void setStd(List&lt;Student&gt; std) {\r\n            this.std = std;\r\n        }\r\n    \r\n        public University(String name, List&lt;Student&gt; std) {\r\n            this.Name = name;\r\n            this.std = std;\r\n        }\r\n    }\r\n\r\n&lt;br&gt;\r\n&lt;b&gt;Student.java&lt;/b&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer rollno ;\r\n        private String Name ;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;univ&quot;)\r\n        private University univ ;\r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            Name = name;\r\n        }\r\n    \r\n        public University getUniv() {\r\n            return univ;\r\n        }\r\n    \r\n        public void setUniv(University univ) {\r\n            this.univ = univ;\r\n        }\r\n    \r\n        public Student(String name) {\r\n            this.Name = name;\r\n        }\r\n    }\r\n\r\n&lt;br&gt; &lt;br&gt;\r\nUnder Repository package I have created two interfaces for repository of each Entity extended using CrudRepository Interface.&lt;br&gt;\r\nLastly this is main method under **Application.java**\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n    \t\tConfigurableApplicationContext context = SpringApplication.run(H2SetupApplication.class, args);\r\n    \t\tStdRepository stdRepository = context.getBean(StdRepository.class );\r\n    \t\tUnivRepository univRepository = context.getBean(UnivRepository.class);\r\n    \r\n    \t\tStudent std1 = new Student(&quot;John&quot; ) ;\r\n    \t\tStudent std2 = new Student(&quot;Sam&quot; ) ;\r\n    \r\n    \t\tList &lt;Student&gt; students = Arrays.asList(std1, std2) ;\r\n    \r\n    \t\tUniversity university = new University(&quot;USCIT&quot;, students) ;\r\n    \t\tunivRepository.save(university) ;\r\n    \r\n    \r\n    \t}\r\n\r\nThe problem I am currently facing is shown in the screenshot below &lt;br&gt;\r\n[![enter image description here][1]][1] &lt;br&gt;\r\nThe **UNIV** column in **STUDENT** table is null instead of expected value to be **1** \r\n&lt;br&gt;&lt;br&gt;\r\n\r\nAnother unknown behaviour I noticed was if I move `@JoinColumn(name = &quot;univ&quot;)` from *Student.java* to *University.java* class then the tables are formed as shown below : \r\n[![enter image description here][2]][2]\r\n\r\nIn this scenario two new doubts arise in my mind : &lt;br&gt;\r\n\r\n 1. Where is the third table, since it&#39;s supposed to be still a\r\n    unidirectional mapping as I haven&#39;t used `mappedBy()`\r\n 2. Why is there a column named UNIV_ID in Student table and that too\r\n    with null values\r\n\r\n  [1]: https://i.stack.imgur.com/ntFUi.png\r\n  [2]: https://i.stack.imgur.com/zDx80.png","title":"Unable to properly establish One to Many Unidirectional Mapping in SpringBoot","body":"<p>Recently I have been practicing ER mapping between two entities and went forward to try unidirectional One-To-Many Mapping. I am using SpringBoot 2 with Spring-Data-JPA and H2 database.</p>\n<p>There are two Entities under model package : <code>University</code> and <code>Student</code><br>\nIn this One-to-many relation I m aiming at implementing a relation where multiple students can be related to one University.</p>\n<p><strong>University.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;univ&quot;)\npublic class University {\n    @Id\n    @GeneratedValue\n    private Integer Id ;\n    private String Name ;\n    @OneToMany(\n            cascade = CascadeType.ALL\n    )\n    private List &lt;Student&gt; std =  new ArrayList&lt;&gt;() ;\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n    public List&lt;Student&gt; getStd() {\n        return std;\n    }\n\n    public void setStd(List&lt;Student&gt; std) {\n        this.std = std;\n    }\n\n    public University(String name, List&lt;Student&gt; std) {\n        this.Name = name;\n        this.std = std;\n    }\n}\n</code></pre>\n<br>\n<b>Student.java</b>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n    @Id\n    @GeneratedValue\n    private Integer rollno ;\n    private String Name ;\n    @ManyToOne\n    @JoinColumn(name = &quot;univ&quot;)\n    private University univ ;\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n    public University getUniv() {\n        return univ;\n    }\n\n    public void setUniv(University univ) {\n        this.univ = univ;\n    }\n\n    public Student(String name) {\n        this.Name = name;\n    }\n}\n</code></pre>\n<p><br> <br>\nUnder Repository package I have created two interfaces for repository of each Entity extended using CrudRepository Interface.<br>\nLastly this is main method under <strong>Application.java</strong></p>\n<pre><code>public static void main(String[] args) {\n\n\n        ConfigurableApplicationContext context = SpringApplication.run(H2SetupApplication.class, args);\n        StdRepository stdRepository = context.getBean(StdRepository.class );\n        UnivRepository univRepository = context.getBean(UnivRepository.class);\n\n        Student std1 = new Student(&quot;John&quot; ) ;\n        Student std2 = new Student(&quot;Sam&quot; ) ;\n\n        List &lt;Student&gt; students = Arrays.asList(std1, std2) ;\n\n        University university = new University(&quot;USCIT&quot;, students) ;\n        univRepository.save(university) ;\n\n\n    }\n</code></pre>\n<p>The problem I am currently facing is shown in the screenshot below <br>\n<a href=\"https://i.stack.imgur.com/ntFUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ntFUi.png\" alt=\"enter image description here\" /></a> <br>\nThe <strong>UNIV</strong> column in <strong>STUDENT</strong> table is null instead of expected value to be <strong>1</strong>\n<br><br></p>\n<p>Another unknown behaviour I noticed was if I move <code>@JoinColumn(name = &quot;univ&quot;)</code> from <em>Student.java</em> to <em>University.java</em> class then the tables are formed as shown below :\n<a href=\"https://i.stack.imgur.com/zDx80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDx80.png\" alt=\"enter image description here\" /></a></p>\n<p>In this scenario two new doubts arise in my mind : <br></p>\n<ol>\n<li>Where is the third table, since it's supposed to be still a\nunidirectional mapping as I haven't used <code>mappedBy()</code></li>\n<li>Why is there a column named UNIV_ID in Student table and that too\nwith null values</li>\n</ol>\n"},{"tags":["java","inputstream","xterm","ansi-escape","terminal-emulator"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1583462955,"post_id":60480487,"comment_id":107134100,"body_markdown":"You only have to write yourself a `FilterReader` subclass to solve this problem.","body":"You only have to write yourself a <code>FilterReader</code> subclass to solve this problem."},{"owner":{"account_id":16083827,"reputation":123,"user_id":11609061,"display_name":"rempas"},"score":0,"creation_date":1583509342,"post_id":60480487,"comment_id":107153004,"body_markdown":"@user207421 Some of the control sequences are multiple characters long. how would that be possible with a `FilterReader`?","body":"@user207421 Some of the control sequences are multiple characters long. how would that be possible with a <code>FilterReader</code>?"},{"owner":{"account_id":17323521,"reputation":694,"user_id":12548337,"display_name":"jerch"},"score":1,"creation_date":1585745952,"post_id":60480487,"comment_id":107869634,"body_markdown":"Depending on your needs, you might get away with complicated regexp filtering. Since this is error-prone (some sequences can be interleaved), a better way is to pass the data through a terminal parser recognizing the sequences.","body":"Depending on your needs, you might get away with complicated regexp filtering. Since this is error-prone (some sequences can be interleaved), a better way is to pass the data through a terminal parser recognizing the sequences."}],"answers":[{"tags":[],"owner":{"account_id":17724744,"reputation":132,"user_id":12868803,"display_name":"bicyclesonthemoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647511385,"creation_date":1647511385,"answer_id":71510398,"question_id":60480487,"body_markdown":"The answers I received to my question (https://stackoverflow.com/questions/71143625/safely-ignoring-unknown-ansi-esc-p-esc-pos-sequences-know-the-length) should also answer yours.\r\nIf you read the standard (ECMA-48 https://www.ecma-international.org/wp-content/uploads/ECMA-48_5th_edition_june_1991.pdf) you will see that the sequences always start from the ESCAPE character and always end with a FINAL BYTE which has a value from a defined range.\r\nWith this information it is enough to detect start and end of each sequence. (regex for example) (also the newline character (and other C0 codes) is not allowed inside the escape sequence so you will never have an escape sequence not entirely located inside one line)","title":"How to flter ANSI/Terminal Control sequences from InputStream?","body":"<p>The answers I received to my question (<a href=\"https://stackoverflow.com/questions/71143625/safely-ignoring-unknown-ansi-esc-p-esc-pos-sequences-know-the-length\">Safely ignoring unknown ANSI, ESC/P, ESC/POS sequences, know the length</a>) should also answer yours.\nIf you read the standard (ECMA-48 <a href=\"https://www.ecma-international.org/wp-content/uploads/ECMA-48_5th_edition_june_1991.pdf\" rel=\"nofollow noreferrer\">https://www.ecma-international.org/wp-content/uploads/ECMA-48_5th_edition_june_1991.pdf</a>) you will see that the sequences always start from the ESCAPE character and always end with a FINAL BYTE which has a value from a defined range.\nWith this information it is enough to detect start and end of each sequence. (regex for example) (also the newline character (and other C0 codes) is not allowed inside the escape sequence so you will never have an escape sequence not entirely located inside one line)</p>\n"}],"owner":{"account_id":16083827,"reputation":123,"user_id":11609061,"display_name":"rempas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71510398,"answer_count":1,"score":0,"last_activity_date":1679007768,"creation_date":1583102788,"question_id":60480487,"body_markdown":"I&#39;m building a simple terminal emulator using the [pty4j](https://github.com/JetBrains/pty4j) library. My program has a ```print()``` method that renders the text to a canvas using the ```GraphicsContext.fillText()``` method from javafx. I connect the emulator to an instance of cmd and read ouptput from a buffered reader. Now sadly when it recieves text it also includes [ANSI-escape characters](https://en.wikipedia.org/wiki/ANSI_escape_code) (see image). However If i print the ouput to the IDE or system console it works fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried using the ```readLine()``` method from the BufferedReader and then applying a regex, but because not all input recieved from the terminal is terminated by a ```\\n``` it blocks on the last line.\r\n\r\n\r\n\r\n```\r\nThread terminalReaderThread = new Thread() {\r\n   public void run() {\r\n      try {\r\n         int c;\r\n         while (terminal.isRunning() &amp;&amp; (c = terminal.getReader().read()) != -1) {\r\n            if(c != 0){\r\n               print(Character.toString((char)c));\r\n            }\r\n         }\r\n\r\n      } catch (IOException e) {\r\n         e.printStackTrace();\r\n      }\r\n  }\r\n};\r\nterminalReaderThread.start();\r\n```\r\nIs there an effective way to filter these escape codes from the inputStream?\r\n\r\n  [1]: https://i.stack.imgur.com/oT8TQ.png","title":"How to flter ANSI/Terminal Control sequences from InputStream?","body":"<p>I'm building a simple terminal emulator using the <a href=\"https://github.com/JetBrains/pty4j\" rel=\"nofollow noreferrer\">pty4j</a> library. My program has a <code>print()</code> method that renders the text to a canvas using the <code>GraphicsContext.fillText()</code> method from javafx. I connect the emulator to an instance of cmd and read ouptput from a buffered reader. Now sadly when it recieves text it also includes <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSI-escape characters</a> (see image). However If i print the ouput to the IDE or system console it works fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oT8TQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oT8TQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried using the <code>readLine()</code> method from the BufferedReader and then applying a regex, but because not all input recieved from the terminal is terminated by a <code>\\n</code> it blocks on the last line.</p>\n\n<pre><code>Thread terminalReaderThread = new Thread() {\n   public void run() {\n      try {\n         int c;\n         while (terminal.isRunning() &amp;&amp; (c = terminal.getReader().read()) != -1) {\n            if(c != 0){\n               print(Character.toString((char)c));\n            }\n         }\n\n      } catch (IOException e) {\n         e.printStackTrace();\n      }\n  }\n};\nterminalReaderThread.start();\n</code></pre>\n\n<p>Is there an effective way to filter these escape codes from the inputStream?</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","environment-variables"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1678889940,"post_id":75745773,"comment_id":133620801,"body_markdown":"coma between params","body":"coma between params"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1678889967,"post_id":75745773,"comment_id":133620808,"body_markdown":"https://www.baeldung.com/spring-boot-command-line-arguments","body":"<a href=\"https://www.baeldung.com/spring-boot-command-line-arguments\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-command-line-arguments</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678891091,"post_id":75745773,"comment_id":133621212,"body_markdown":"@ShakirovRamil I tried with comma as `mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.arguments=&quot;--DB_NAME=demo,--DB_USERNAME=postgres,--DB_PASSWORD=pass,--JWT_SECRET=appSecretKey&quot;`, but does not make any sense. Any idea?","body":"@ShakirovRamil I tried with comma as <code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; -Dspring-boot.run.arguments=&quot;--DB_NAME=demo,--DB_USERNAME=po&zwnj;&#8203;stgres,--DB_PASSWORD&zwnj;&#8203;=pass,--JWT_SECRET=a&zwnj;&#8203;ppSecretKey&quot;</code>, but does not make any sense. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678891179,"post_id":75745773,"comment_id":133621242,"body_markdown":"And this also gives the same FATAL error: `mvn spring-boot:run -Drun.arguments=--DB_NAME=demo,--DB_USERNAME=postgres,--DB_PASSWORD=pass,--JWT_SECRET=appSecretKey`","body":"And this also gives the same FATAL error: <code>mvn spring-boot:run -Drun.arguments=--DB_NAME=demo,--DB_USERNAME=postgres,--DB_P&zwnj;&#8203;ASSWORD=pass,--JWT_S&zwnj;&#8203;ECRET=appSecretKey</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1678892320,"post_id":75745773,"comment_id":133621643,"body_markdown":"What will I do with program argument on IntelliJ IDEA?","body":"What will I do with program argument on IntelliJ IDEA?"}],"answers":[{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679007351,"creation_date":1679007351,"answer_id":75762346,"question_id":75745773,"body_markdown":"You can use the same configuration and run the application in debug mode with the right next button of the Run Button in IntelliJ.","title":"How to run Spring Boot app in debug mode via Maven command?","body":"<p>You can use the same configuration and run the application in debug mode with the right next button of the Run Button in IntelliJ.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679007351,"creation_date":1678888854,"question_id":75745773,"body_markdown":"I am trying to to run my Spring Boot app via command line by passing environment variables. But in each case (I have tried many combinations), my app reads these values from application.yml file instead of command. And gives the following error:\r\n\r\n&gt;FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;\r\n\r\nOn the other hand, when I run my app using IntelliJ IDEA by passing the following environment variables on Run configuration, it works without any problem. \r\n\r\n***IntelliJ IDEA Run Configuration &gt; Environment variables:***\r\n\r\n```\r\nDB_NAME=demo;DB_USERNAME=postgres;DB_PASSWORD=pass;JWT_SECRET=secretKey\r\n```\r\n\r\nSimilarly, when I run the same command on project root via `mvnw` it works. \r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \r\n-Dspring-boot.run.arguments=&quot;--DB_NAME=demo \r\n--DB_USERNAME=postgres --DB_PASSWORD=pass --JWT_SECRET=secretKey&quot;\r\n```\r\n\r\n\r\nBut I want to run IntelliJ IDEA on debug mode using command and passing these parameters (environment variables). So, how can I do this? And why the same command is not working when I try with &quot;Run anything&quot; window on IntelliJ IDEA ? \r\n\r\n","title":"How to run Spring Boot app in debug mode via Maven command?","body":"<p>I am trying to to run my Spring Boot app via command line by passing environment variables. But in each case (I have tried many combinations), my app reads these values from application.yml file instead of command. And gives the following error:</p>\n<blockquote>\n<p>FATAL: password authentication failed for user &quot;${DB_USERNAME}&quot;</p>\n</blockquote>\n<p>On the other hand, when I run my app using IntelliJ IDEA by passing the following environment variables on Run configuration, it works without any problem.</p>\n<p><em><strong>IntelliJ IDEA Run Configuration &gt; Environment variables:</strong></em></p>\n<pre><code>DB_NAME=demo;DB_USERNAME=postgres;DB_PASSWORD=pass;JWT_SECRET=secretKey\n</code></pre>\n<p>Similarly, when I run the same command on project root via <code>mvnw</code> it works.</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \n-Dspring-boot.run.arguments=&quot;--DB_NAME=demo \n--DB_USERNAME=postgres --DB_PASSWORD=pass --JWT_SECRET=secretKey&quot;\n</code></pre>\n<p>But I want to run IntelliJ IDEA on debug mode using command and passing these parameters (environment variables). So, how can I do this? And why the same command is not working when I try with &quot;Run anything&quot; window on IntelliJ IDEA ?</p>\n"},{"tags":["java","debugging","jenkins","profiling"],"comments":[{"owner":{"account_id":4635147,"reputation":3707,"user_id":3756593,"display_name":"Rik"},"score":0,"creation_date":1497271364,"post_id":44497920,"comment_id":75992740,"body_markdown":"You can use jmeter to monitor java processes: http://jmeter.apache.org/","body":"You can use jmeter to monitor java processes: <a href=\"http://jmeter.apache.org/\" rel=\"nofollow noreferrer\">jmeter.apache.org</a>"},{"owner":{"account_id":4635147,"reputation":3707,"user_id":3756593,"display_name":"Rik"},"score":0,"creation_date":1497271446,"post_id":44497920,"comment_id":75992811,"body_markdown":"Could it be, that the Hypervisor is very slow. So it won&#39;t reflect in your VM stats. Is the hypervisor is swapping for instance","body":"Could it be, that the Hypervisor is very slow. So it won&#39;t reflect in your VM stats. Is the hypervisor is swapping for instance"},{"owner":{"account_id":2889397,"reputation":103,"user_id":2478523,"display_name":"Bernard Landon"},"score":0,"creation_date":1497301312,"post_id":44497920,"comment_id":76010531,"body_markdown":"Thanks Rik for your comments!  Jmeter will only allow me to generate traffic right? But this won&#39;t really help me understand why some requests take so long I guess? Yes the Hypervisor is also on my radar :-)","body":"Thanks Rik for your comments!  Jmeter will only allow me to generate traffic right? But this won&#39;t really help me understand why some requests take so long I guess? Yes the Hypervisor is also on my radar :-)"}],"answers":[{"tags":[],"owner":{"account_id":1220503,"reputation":1157,"user_id":1187237,"display_name":"kg_sYy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572076241,"creation_date":1572076241,"answer_id":58569003,"question_id":44497920,"body_markdown":"I am a few years late to the party but this seems to be a common problem, and this seems like a reasonable post that comes up on search, so I will post my experiences here.\r\n\r\nI debugged Jenkins UI slowness using:\r\n\r\n- updating Jenkins to the latest version to address all the issues that I found in the issue tracker and forums, and that were marked as fixed in the newer versions. This did not fix it.\r\n\r\n- &quot;top&quot; on the Linux host to see what resources are used. it showed 100+% CPU load for &quot;jenkins&quot; almost all the time when using the GUI. Memory did not seem to be an issue.\r\n\r\n- memory use was at about 4GB, so I tried setting Jenkins JVM minimum heap size to 16GB and max to 22GB (host had 24GB) to ensure memory and GC was not an issue. It was not, UI was consistently slow all the time and memory use stayed at minimum setting.\r\n\r\n- &quot;tcpdump&quot; on the host to see what requests it is getting, and if Jenkins tried to poll some network resources that could be slow to respond. Some interesting findings but no real resolution.\r\n\r\n- using YourKit Java profiler to profile the Jenkins JVM, while manually continuously accessing the GUI to cause the slowness effect. Collecting dumps of CPU use, method invocations, thread scheduling, memory use. Connected the profiler to the Jenkins JVM over SSH, which worked great.\r\n\r\n- downloading Jenkins source code from Github to match the profiler results to source code and see what those places in the code were doing. Added the profiler plugin and Jenkins source code to IntelliJ IDEA to debug them.\r\n\r\nMy findings:\r\n\r\nDifficult to pinpoint the issue as there seems to be very little visibility. \r\n\r\nPer thread, the profiler showed numerous threads with occasional high load but nothing consistent. The overall flamegraph showed a large portion of time spent in Thread.sleep for some plugin. This seemed a bit strange as sleeping should not consumer CPU. It appears [YourKit shows](https://www.yourkit.com/forum/viewtopic.php?f=3&amp;t=9651) shows it to give an overall view of wall-clock time used. So, consider filtering Thread.sleep out to see the real issues.\r\n\r\nThe flamegraph showed a lot of logging statements interleaved with everything else, which seemed slightly suspicious. Looking at Jenkins source code for the profiler highlighted traces, I saw Jenkins supports very detailed logging. So I went looking a bit deeper into Jenkins logs and how to configure them. Also considered enabling traces (logs) for the profiler highlighted parts to see what is happening.\r\n\r\nThese logs are [set up](https://wiki.jenkins.io/display/JENKINS/Logging) as log recorders under Manage Jenkins -&gt; System Log -&gt; Log Recorders. I found previously added log recorders there. This was for a Jenkins Java package that was getting accessed all the time and had detailed tracing enabled. Likely added to trace some issue but never removed. Remembering the profiler results, it looked suspicious with the amount of logs it generated, so I removed it.\r\n\r\nAfter this the Jenkins performance improved to a good level. Not quite instant but close. Very much good enough. So in this case the issue was this excess logging configuration that was taking the CPU to 100% and slowing the GUI to a crawl (running in the single main thread I guess..). The main Jenkins log is in /var/log/jenkins and it was not showing any of this log, which was also a bit confusing as it was one of the first things I looked at.\r\n\r\nThis finding is of course just one potential issue to check. But the above approach worked for me, and might be useful more generally...\r\n","title":"How to troubleshoot Jenkins UI slowness?","body":"<p>I am a few years late to the party but this seems to be a common problem, and this seems like a reasonable post that comes up on search, so I will post my experiences here.</p>\n\n<p>I debugged Jenkins UI slowness using:</p>\n\n<ul>\n<li><p>updating Jenkins to the latest version to address all the issues that I found in the issue tracker and forums, and that were marked as fixed in the newer versions. This did not fix it.</p></li>\n<li><p>\"top\" on the Linux host to see what resources are used. it showed 100+% CPU load for \"jenkins\" almost all the time when using the GUI. Memory did not seem to be an issue.</p></li>\n<li><p>memory use was at about 4GB, so I tried setting Jenkins JVM minimum heap size to 16GB and max to 22GB (host had 24GB) to ensure memory and GC was not an issue. It was not, UI was consistently slow all the time and memory use stayed at minimum setting.</p></li>\n<li><p>\"tcpdump\" on the host to see what requests it is getting, and if Jenkins tried to poll some network resources that could be slow to respond. Some interesting findings but no real resolution.</p></li>\n<li><p>using YourKit Java profiler to profile the Jenkins JVM, while manually continuously accessing the GUI to cause the slowness effect. Collecting dumps of CPU use, method invocations, thread scheduling, memory use. Connected the profiler to the Jenkins JVM over SSH, which worked great.</p></li>\n<li><p>downloading Jenkins source code from Github to match the profiler results to source code and see what those places in the code were doing. Added the profiler plugin and Jenkins source code to IntelliJ IDEA to debug them.</p></li>\n</ul>\n\n<p>My findings:</p>\n\n<p>Difficult to pinpoint the issue as there seems to be very little visibility. </p>\n\n<p>Per thread, the profiler showed numerous threads with occasional high load but nothing consistent. The overall flamegraph showed a large portion of time spent in Thread.sleep for some plugin. This seemed a bit strange as sleeping should not consumer CPU. It appears <a href=\"https://www.yourkit.com/forum/viewtopic.php?f=3&amp;t=9651\" rel=\"nofollow noreferrer\">YourKit shows</a> shows it to give an overall view of wall-clock time used. So, consider filtering Thread.sleep out to see the real issues.</p>\n\n<p>The flamegraph showed a lot of logging statements interleaved with everything else, which seemed slightly suspicious. Looking at Jenkins source code for the profiler highlighted traces, I saw Jenkins supports very detailed logging. So I went looking a bit deeper into Jenkins logs and how to configure them. Also considered enabling traces (logs) for the profiler highlighted parts to see what is happening.</p>\n\n<p>These logs are <a href=\"https://wiki.jenkins.io/display/JENKINS/Logging\" rel=\"nofollow noreferrer\">set up</a> as log recorders under Manage Jenkins -> System Log -> Log Recorders. I found previously added log recorders there. This was for a Jenkins Java package that was getting accessed all the time and had detailed tracing enabled. Likely added to trace some issue but never removed. Remembering the profiler results, it looked suspicious with the amount of logs it generated, so I removed it.</p>\n\n<p>After this the Jenkins performance improved to a good level. Not quite instant but close. Very much good enough. So in this case the issue was this excess logging configuration that was taking the CPU to 100% and slowing the GUI to a crawl (running in the single main thread I guess..). The main Jenkins log is in /var/log/jenkins and it was not showing any of this log, which was also a bit confusing as it was one of the first things I looked at.</p>\n\n<p>This finding is of course just one potential issue to check. But the above approach worked for me, and might be useful more generally...</p>\n"}],"owner":{"account_id":2889397,"reputation":103,"user_id":2478523,"display_name":"Bernard Landon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4191,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1679007127,"creation_date":1497265653,"question_id":44497920,"body_markdown":"I&#39;m trying to troubleshoot a problem and I&#39;m hoping you could help me with the method :) Hopefully this could also benefit other people.\r\n\r\nI have a Jenkins server running (v2.46.2). \r\nFor some reasons, when browsing the Web UI, some requests are very very slow (up to 10 minutes). It seems to be especially the case when loading the UI a first time. Then, it is in general very responsive.\r\nIf you wait maybe 10/15 minutes, the first request will be very slow again. And then pretty fast for a while.\r\n\r\nHow would you go to troubleshoot this?\r\nSo far this is what I did:\r\n\r\n 1. Checked general stats of the host (cpu, ram, etc). All looks ok.\r\n 2. Checked the stats of the Java VM. Memory usage looks ok to me.\r\n 3. Set up better monitoring to track nb of incoming request, time to process them and status code. This showed indeed that some requests get delayed (up to 10 minutes).\r\n\r\nI&#39;ve read a number of interesting things from the internet including: https://stackoverflow.com/questions/24280164/jenkins-gui-only-shown-after-waiting-for-2-minutes. In this case, the info is a bit old (outdated?) and as my jobs only keep a limited number of builds, it did not help much. \r\n\r\nThis blog post was also super interesting: https://jenkins.io/blog/2016/11/21/gc-tuning/. In my case I am not convinced the problem comes from garbage collection.\r\n\r\nI am left with a number of hypotheses such as:\r\n\r\n 1. I am using a lot of Categorized View (with regexp), maybe it is inefficient? But it doesn&#39;t seem enough to explain minutes of delays.\r\n 2. The fact that only the first page is long to load make me thing some caching is involed. But is it caching of html? Of credentials? Etc.\r\n\r\nAt the moment, these are only guesses. \r\nIdeally I would like to *somehow* profile the time spent by the server to answer requests. And from there try to find where this time go.\r\n\r\nIs this possible at all? I tried using VisualVM, but this only show global data right? Is it possible to isolate the resources used to answer a request? How would you approach it?\r\n\r\nNote: I am discovering the Java world (coming from Python) so please do not assume I know well how the Java VM works or the tools you use :-)\r\n\r\nThanks a lot!\r\n\r\n\r\n\r\n\r\n","title":"How to troubleshoot Jenkins UI slowness?","body":"<p>I'm trying to troubleshoot a problem and I'm hoping you could help me with the method :) Hopefully this could also benefit other people.</p>\n\n<p>I have a Jenkins server running (v2.46.2). \nFor some reasons, when browsing the Web UI, some requests are very very slow (up to 10 minutes). It seems to be especially the case when loading the UI a first time. Then, it is in general very responsive.\nIf you wait maybe 10/15 minutes, the first request will be very slow again. And then pretty fast for a while.</p>\n\n<p>How would you go to troubleshoot this?\nSo far this is what I did:</p>\n\n<ol>\n<li>Checked general stats of the host (cpu, ram, etc). All looks ok.</li>\n<li>Checked the stats of the Java VM. Memory usage looks ok to me.</li>\n<li>Set up better monitoring to track nb of incoming request, time to process them and status code. This showed indeed that some requests get delayed (up to 10 minutes).</li>\n</ol>\n\n<p>I've read a number of interesting things from the internet including: <a href=\"https://stackoverflow.com/questions/24280164/jenkins-gui-only-shown-after-waiting-for-2-minutes\">Jenkins GUI only shown after waiting for 2 minutes</a>. In this case, the info is a bit old (outdated?) and as my jobs only keep a limited number of builds, it did not help much. </p>\n\n<p>This blog post was also super interesting: <a href=\"https://jenkins.io/blog/2016/11/21/gc-tuning/\" rel=\"noreferrer\">https://jenkins.io/blog/2016/11/21/gc-tuning/</a>. In my case I am not convinced the problem comes from garbage collection.</p>\n\n<p>I am left with a number of hypotheses such as:</p>\n\n<ol>\n<li>I am using a lot of Categorized View (with regexp), maybe it is inefficient? But it doesn't seem enough to explain minutes of delays.</li>\n<li>The fact that only the first page is long to load make me thing some caching is involed. But is it caching of html? Of credentials? Etc.</li>\n</ol>\n\n<p>At the moment, these are only guesses. \nIdeally I would like to <em>somehow</em> profile the time spent by the server to answer requests. And from there try to find where this time go.</p>\n\n<p>Is this possible at all? I tried using VisualVM, but this only show global data right? Is it possible to isolate the resources used to answer a request? How would you approach it?</p>\n\n<p>Note: I am discovering the Java world (coming from Python) so please do not assume I know well how the Java VM works or the tools you use :-)</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","selenium-webdriver","geckodriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678988558,"post_id":75759099,"comment_id":133644149,"body_markdown":"try setting path to Firefox executable without the double &quot;\\\\&quot;  In this case not sure you need to escape.","body":"try setting path to Firefox executable without the double &quot;\\\\&quot;  In this case not sure you need to escape."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1678994840,"post_id":75759099,"comment_id":133645822,"body_markdown":"Yes, I do. That&#39;s how java works and that&#39;s how geckodriver path is successfully found.","body":"Yes, I do. That&#39;s how java works and that&#39;s how geckodriver path is successfully found."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678999389,"post_id":75759099,"comment_id":133646887,"body_markdown":"Do you have anything already running on localhost?","body":"Do you have anything already running on localhost?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679074585,"post_id":75759099,"comment_id":133661842,"body_markdown":"wouldn&#39;tya know I just had this error popup randomly... I&#39;m not running Windows 11 or JRE 17.  It seemed to disappear on the next run though.  Does this happen consistently for you?","body":"wouldn&#39;tya know I just had this error popup randomly... I&#39;m not running Windows 11 or JRE 17.  It seemed to disappear on the next run though.  Does this happen consistently for you?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679165489,"post_id":75759099,"comment_id":133674182,"body_markdown":"Indeed, very consistent, I think I have a custom ESR version or maybe some admin setup prevents me to automate this enterprise Firefox. And I can&#39;t find any &quot;portable&quot; Firefox to unzip.","body":"Indeed, very consistent, I think I have a custom ESR version or maybe some admin setup prevents me to automate this enterprise Firefox. And I can&#39;t find any &quot;portable&quot; Firefox to unzip."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679334166,"post_id":75759099,"comment_id":133699730,"body_markdown":"Just a wild guess really, but it might be caused by Firefox trying to download/install an update.  (even the ESR versions will patch security issues...)  You might try just turning off auto-updates or running it manually and applying the updates.","body":"Just a wild guess really, but it might be caused by Firefox trying to download/install an update.  (even the ESR versions will patch security issues...)  You might try just turning off auto-updates or running it manually and applying the updates."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679395261,"post_id":75759099,"comment_id":133710204,"body_markdown":"So you confirme there is no &quot;portable&quot; version of Firefox which doesn&#39;t need to run a &quot;.exe&quot; ?","body":"So you confirme there is no &quot;portable&quot; version of Firefox which doesn&#39;t need to run a &quot;.exe&quot; ?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679419219,"post_id":75759099,"comment_id":133717638,"body_markdown":"Since it&#39;s open-source, I&#39;d guess there is a version out there that doesn&#39;t need an installer to run.  It&#39;s still probably going to setup some things on the first run that are per-user.  At that point though you probably won&#39;t have a good test-case.","body":"Since it&#39;s open-source, I&#39;d guess there is a version out there that doesn&#39;t need an installer to run.  It&#39;s still probably going to setup some things on the first run that are per-user.  At that point though you probably won&#39;t have a good test-case."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1679508550,"post_id":75759099,"comment_id":133736368,"body_markdown":"Chromium is available in a zip, but I can&#39;t start it on my secured professionnal PC, so yeah, I guess the policy running on my PC prevents me to use Selenium Webdriver.","body":"Chromium is available in a zip, but I can&#39;t start it on my secured professionnal PC, so yeah, I guess the policy running on my PC prevents me to use Selenium Webdriver."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679515647,"post_id":75759099,"comment_id":133737944,"body_markdown":"I guess you could confirm that by opening a command prompt, navigating to your firefox directory (something like: &quot;C:\\Program Files\\Mozilla Firefox\\&quot;...) and typing &quot;firefox.exe -marionette&quot;  This is how Selenium will launch it... and we can tell that your geckodriver was able to launch from the exception received.","body":"I guess you could confirm that by opening a command prompt, navigating to your firefox directory (something like: &quot;C:\\Program Files\\Mozilla Firefox\\&quot;...) and typing &quot;firefox.exe -marionette&quot;  This is how Selenium will launch it... and we can tell that your geckodriver was able to launch from the exception received."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679005544,"creation_date":1679005544,"answer_id":75762164,"question_id":75759099,"body_markdown":"[`webdriver.firefox.bin`](https://stackoverflow.com/a/64062807/7429447) is no more a valid property to be set through [_`System.setProperty()`_](https://stackoverflow.com/a/60061951/7429447).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo explicitly set the location of the [tag:firefox] binary executable you need to use the [`setBinary()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#setBinary(java.lang.String)) method through an instance of [_FirefoxOptions_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html) as follows:\r\n\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxOptions;\r\n\r\n\tpublic class genericTestFirefox {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tFirefoxOptions options = new FirefoxOptions();\r\n\t\t\toptions.setBinary(&quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\r\n\t\t\tWebDriver driver = new FirefoxDriver(options);\r\n\t\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\t\t}\r\n\t}","title":"Are there known problems for running geckodriver on Windows 11 or JRE 17?","body":"<p><a href=\"https://stackoverflow.com/a/64062807/7429447\"><code>webdriver.firefox.bin</code></a> is no more a valid property to be set through <a href=\"https://stackoverflow.com/a/60061951/7429447\"><em><code>System.setProperty()</code></em></a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>To explicitly set the location of the <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> binary executable you need to use the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html#setBinary(java.lang.String)\" rel=\"nofollow noreferrer\"><code>setBinary()</code></a> method through an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxOptions.html\" rel=\"nofollow noreferrer\"><em>FirefoxOptions</em></a> as follows:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.FirefoxOptions;\n\npublic class genericTestFirefox {\n\n    public static void main(String[] args) {\n\n        FirefoxOptions options = new FirefoxOptions();\n        options.setBinary(&quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\n        WebDriver driver = new FirefoxDriver(options);\n        driver.get(&quot;https://www.google.com/&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679005544,"creation_date":1678984680,"question_id":75759099,"body_markdown":"I am using :\r\n * latest version of gecko driver (&quot;0.32.2&quot;).\r\n * recent version of firefox (&quot;102.7.0esr (64 bits))\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI set up the executables like this :\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Dev\\\\tools\\\\geckodriver.exe&quot;);\r\n\tSystem.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\r\n\t\r\n\tWebDriver driver = new FirefoxDriver();\r\n\r\nAnd I get :\r\n\r\n    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n    Caused by: org.openqa.selenium.WebDriverException: \r\n    Driver server process died prematurely.\r\n    Build info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\n    System info: host: &#39;GLA6008818&#39;, ip: &#39;172.17.134.204&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\n    Driver info: driver.version: FirefoxDriver\r\n\r\n  [1]: https://i.stack.imgur.com/2CvXO.png","title":"Are there known problems for running geckodriver on Windows 11 or JRE 17?","body":"<p>I am using :</p>\n<ul>\n<li>latest version of gecko driver (&quot;0.32.2&quot;).</li>\n<li>recent version of firefox (&quot;102.7.0esr (64 bits))</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/2CvXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2CvXO.png\" alt=\"enter image description here\" /></a></p>\n<p>I set up the executables like this :</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\Dev\\\\tools\\\\geckodriver.exe&quot;);\nSystem.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Dev\\\\tools\\\\MyCompanyFirefox\\\\firefox.exe&quot;);\n\nWebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>And I get :</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nCaused by: org.openqa.selenium.WebDriverException: \nDriver server process died prematurely.\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: host: 'GLA6008818', ip: '172.17.134.204', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: driver.version: FirefoxDriver\n</code></pre>\n"},{"tags":["java","regex","ansi-escape"],"comments":[{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671623797,"post_id":74875572,"comment_id":132137747,"body_markdown":"To the guy that deleted his comment : Yeah, right, i had not thought about that. Using a group to get what&#39;s in the middle and using it to replace the whole string it&#39;s a very good idea, thank you!","body":"To the guy that deleted his comment : Yeah, right, i had not thought about that. Using a group to get what&#39;s in the middle and using it to replace the whole string it&#39;s a very good idea, thank you!"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1671624175,"post_id":74875572,"comment_id":132137873,"body_markdown":"The unknown regex could be [`\\033\\[[01]m`](https://regex101.com/r/4aXP7u/1/codegen?language=java) (Java demo)","body":"The unknown regex could be <a href=\"https://regex101.com/r/4aXP7u/1/codegen?language=java\" rel=\"nofollow noreferrer\"><code>\\033\\[[01]m</code></a> (Java demo)"},{"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"score":0,"creation_date":1671649145,"post_id":74875572,"comment_id":132146360,"body_markdown":"You&#39;re right, @bobblebubble but there might be other digits instead of 0 or 1","body":"You&#39;re right, @bobblebubble but there might be other digits instead of 0 or 1"}],"answers":[{"tags":[],"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671648896,"creation_date":1671623979,"answer_id":74875750,"question_id":74875572,"body_markdown":"_Found the answer thanks to a comment that disappeared._\r\n\r\nActually, i just need to make a group to get what&#39;s in the middle of the string and using it ($1) to replace the whole thing :\r\n\r\n```java\r\nString plainText = text.replaceAll(&quot;\\\\033\\\\[.*m(.+)\\\\033\\\\[.*m&quot;, &quot;$1&quot;)\r\n```\r\n\r\nNot sure if this will remove every ANSI codes but that is enough for what I want to do.\r\n ","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p><em>Found the answer thanks to a comment that disappeared.</em></p>\n<p>Actually, i just need to make a group to get what's in the middle of the string and using it ($1) to replace the whole thing :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plainText = text.replaceAll(&quot;\\\\033\\\\[.*m(.+)\\\\033\\\\[.*m&quot;, &quot;$1&quot;)\n</code></pre>\n<p>Not sure if this will remove every ANSI codes but that is enough for what I want to do.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671624057,"creation_date":1671624057,"answer_id":74875765,"question_id":74875572,"body_markdown":"Well, you use a single regex that has the ansi codes optionally at the beginning and end, captures anything in between and replaces the entire string with the value of the group: `text.replaceAll(&quot;^(?:\\\\\\\\\\\\d+\\\\[1m)?(.*?)(?:\\\\\\\\\\\\d+\\\\[0m)?$&quot;, &quot;$1&quot;)`. (this might not capture every ansi code - adjust if needed).\r\n\r\nBreaking the expression down (note that the example above escapes backslashes for Java strings so they are doubled):\r\n\r\n - `^` is the start of the string\r\n - `(?:\\\\\\d+\\[1m)?` matches an optional `\\&lt;at least 1 digit&gt;[1m`\r\n - `(.*?)` matches any text but as little as possible, and captures it into group 1\r\n - `(?:\\\\\\d+\\[0m)?` atches an optional `\\&lt;at least 1 digit&gt;[0m`\r\n - `$` is the end of the input\r\n\r\nIn the replacement `$1` refers to the value of capturing group 1 which is `(.*?)` in the expression.","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p>Well, you use a single regex that has the ansi codes optionally at the beginning and end, captures anything in between and replaces the entire string with the value of the group: <code>text.replaceAll(&quot;^(?:\\\\\\\\\\\\d+\\\\[1m)?(.*?)(?:\\\\\\\\\\\\d+\\\\[0m)?$&quot;, &quot;$1&quot;)</code>. (this might not capture every ansi code - adjust if needed).</p>\n<p>Breaking the expression down (note that the example above escapes backslashes for Java strings so they are doubled):</p>\n<ul>\n<li><code>^</code> is the start of the string</li>\n<li><code>(?:\\\\\\d+\\[1m)?</code> matches an optional <code>\\&lt;at least 1 digit&gt;[1m</code></li>\n<li><code>(.*?)</code> matches any text but as little as possible, and captures it into group 1</li>\n<li><code>(?:\\\\\\d+\\[0m)?</code> atches an optional <code>\\&lt;at least 1 digit&gt;[0m</code></li>\n<li><code>$</code> is the end of the input</li>\n</ul>\n<p>In the replacement <code>$1</code> refers to the value of capturing group 1 which is <code>(.*?)</code> in the expression.</p>\n"}],"owner":{"account_id":19827105,"reputation":741,"user_id":14522489,"display_name":"ThomasG2201"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74875765,"answer_count":2,"score":0,"last_activity_date":1679004939,"creation_date":1671623037,"question_id":74875572,"body_markdown":"my problem is very simple but I can&#39;t figure out the correct regular expression I should use.\r\n\r\nI have the following variable (Java) :\r\n\r\n```java\r\nString text = &quot;\\033[1mYO\\033[0m&quot;; // this is ANSI for bold text in the Terminal\r\n```\r\n\r\nMy goal is to remove the ANSI codes with a single regular expression (I just want to keep the plain text at the middle). I cannot modify the text in any way and those ANSI codes will always be at the same place (so one at the beginning, one at the end, though sometimes it&#39;s possible that there is none).\r\n\r\nWith this regular expression, I will remove them using `replaceAll` method :\r\n\r\n```java\r\nString plainText = text.replaceAll(unknownRegex, &quot;&quot;);\r\n```\r\n\r\nAny idea on what the unknown regex could be?\r\n","title":"Using regular expression, how to remove matching sequence at the beginning and ending of the text but keeping what&#39;s in the middle?","body":"<p>my problem is very simple but I can't figure out the correct regular expression I should use.</p>\n<p>I have the following variable (Java) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;\\033[1mYO\\033[0m&quot;; // this is ANSI for bold text in the Terminal\n</code></pre>\n<p>My goal is to remove the ANSI codes with a single regular expression (I just want to keep the plain text at the middle). I cannot modify the text in any way and those ANSI codes will always be at the same place (so one at the beginning, one at the end, though sometimes it's possible that there is none).</p>\n<p>With this regular expression, I will remove them using <code>replaceAll</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plainText = text.replaceAll(unknownRegex, &quot;&quot;);\n</code></pre>\n<p>Any idea on what the unknown regex could be?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1679006780,"post_id":75761920,"comment_id":133648384,"body_markdown":"Yes, the package with v2 is v1. You&#39;re not the first to find this confusing.","body":"Yes, the package with v2 is v1. You&#39;re not the first to find this confusing."},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1679007366,"post_id":75761920,"comment_id":133648460,"body_markdown":"!!!! The `dynamodbv2` packages are actually v1???","body":"!!!! The <code>dynamodbv2</code> packages are actually v1???"}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679004674,"creation_date":1679004674,"answer_id":75762072,"question_id":75761920,"body_markdown":"The Java AWS SDK is currently v2.  That is most easily recognized by the package name that starts with `software.amazon` as shown in the  [Javadoc](https://sdk.amazonaws.com/java/api/latest/).\r\n\r\nv1 is still used but is discouraged.  The package names for v1 start with `com.amazonaws`.  The [Javadoc](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/) for it doesn&#39;t actually have anything deprecated but for new code and/or upgrades like you&#39;re doing I&#39;d go with v2.\r\n\r\nWith the exception of the AWS Lambda &quot;server side&quot; libraries (i.e. the ones that are used to create Lambda&#39;s in Java) all features of v1 should be available in v2.  See the [migration guide](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html) for details.  \r\n\r\n","title":"Java DynamoDB V2 SDK: which import to use?","body":"<p>The Java AWS SDK is currently v2.  That is most easily recognized by the package name that starts with <code>software.amazon</code> as shown in the  <a href=\"https://sdk.amazonaws.com/java/api/latest/\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n<p>v1 is still used but is discouraged.  The package names for v1 start with <code>com.amazonaws</code>.  The <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/\" rel=\"nofollow noreferrer\">Javadoc</a> for it doesn't actually have anything deprecated but for new code and/or upgrades like you're doing I'd go with v2.</p>\n<p>With the exception of the AWS Lambda &quot;server side&quot; libraries (i.e. the ones that are used to create Lambda's in Java) all features of v1 should be available in v2.  See the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html\" rel=\"nofollow noreferrer\">migration guide</a> for details.</p>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75762072,"answer_count":1,"score":0,"last_activity_date":1679004674,"creation_date":1679003292,"question_id":75761920,"body_markdown":"I&#39;m reworking some older Java code (circa 2018) that uses the AWS DynamoDB (DDB) V1 Java interface.\r\n\r\nI want to keep only the V2 API and remove the V1 API, if only to slim the package so that we are not packaging to two different versions of the same API.\r\n\r\nI&#39;m trying to follow the Java [guidelines](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-items.html) for the V2 interface, but still having trouble figuring out which libraries are V1 and which are V2. \r\n\r\nFor example, I can guess that this is a new library (the &quot;v2&quot; is a good hint):\r\n\r\n```import com.amazonaws.services.dynamodbv2.model.PutItemRequest;```\r\n\r\nBut, this is not so clear:\r\n\r\n```import software.amazon.awssdk.services.dynamodb.model.PutItemRequest;```\r\n\r\n\r\nFor example, I&#39;m pretty sure that this is V1:\r\n\r\n`import software.amazon.awssdk.regions.Region;`\r\n\r\nBut this is V2:\r\n\r\n`import com.amazonaws.regions.Regions;`\r\n\r\nSo that tells me that `software.amazon.awssdk` is a V1 API, but that package name is used in the V2 API guidelines.\r\n\r\nIn summary, my question is: which libraries are V1 and which are V2?","title":"Java DynamoDB V2 SDK: which import to use?","body":"<p>I'm reworking some older Java code (circa 2018) that uses the AWS DynamoDB (DDB) V1 Java interface.</p>\n<p>I want to keep only the V2 API and remove the V1 API, if only to slim the package so that we are not packaging to two different versions of the same API.</p>\n<p>I'm trying to follow the Java <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-items.html\" rel=\"nofollow noreferrer\">guidelines</a> for the V2 interface, but still having trouble figuring out which libraries are V1 and which are V2.</p>\n<p>For example, I can guess that this is a new library (the &quot;v2&quot; is a good hint):</p>\n<p><code>import com.amazonaws.services.dynamodbv2.model.PutItemRequest;</code></p>\n<p>But, this is not so clear:</p>\n<p><code>import software.amazon.awssdk.services.dynamodb.model.PutItemRequest;</code></p>\n<p>For example, I'm pretty sure that this is V1:</p>\n<p><code>import software.amazon.awssdk.regions.Region;</code></p>\n<p>But this is V2:</p>\n<p><code>import com.amazonaws.regions.Regions;</code></p>\n<p>So that tells me that <code>software.amazon.awssdk</code> is a V1 API, but that package name is used in the V2 API guidelines.</p>\n<p>In summary, my question is: which libraries are V1 and which are V2?</p>\n"},{"tags":["java","spring-mvc","utf-8","character-encoding"],"comments":[{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":1,"creation_date":1302698969,"post_id":5649329,"comment_id":6442145,"body_markdown":"See http://stackoverflow.com/questions/3616359/who-sets-response-content-type-in-spring-mvc-responsebody/3617594#3617594","body":"See <a href=\"http://stackoverflow.com/questions/3616359/who-sets-response-content-type-in-spring-mvc-responsebody/3617594#3617594\" title=\"who sets response content type in spring mvc responsebody\">stackoverflow.com/questions/3616359/&hellip;</a>"},{"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"score":0,"creation_date":1343822679,"post_id":5649329,"comment_id":15611196,"body_markdown":"possible duplicate of [Spring MVC response encoding issue](http://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\">Spring MVC response encoding issue</a>"},{"owner":{"account_id":30606,"reputation":3631,"user_id":83509,"display_name":"Jugal Shah"},"score":1,"creation_date":1386733325,"post_id":5649329,"comment_id":30661208,"body_markdown":"Can you accept the answer if it is already working for you?","body":"Can you accept the answer if it is already working for you?"},{"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"score":0,"creation_date":1459786030,"post_id":5649329,"comment_id":60431181,"body_markdown":"response.setContentType(contentType); you don&#39;t need to write such code using frameworks, especially Spring. produces = &quot;text/plain;charset=UTF-8&quot; is your choice","body":"response.setContentType(contentType); you don&#39;t need to write such code using frameworks, especially Spring. produces = &quot;text/plain;charset=UTF-8&quot; is your choice"}],"answers":[{"tags":[],"owner":{"account_id":106339,"reputation":1012,"user_id":283315,"accept_rate":40,"display_name":"Trung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310922857,"creation_date":1310922857,"answer_id":6725440,"question_id":5649329,"body_markdown":"There are some similar questions: [https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue][1], [https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things][2].\r\n\r\nHowever, my simple solution:\r\n\r\n    @RequestMapping(method=RequestMethod.GET,value=&quot;/GetMyList&quot;)\r\n    public ModelAndView getMyList(){\r\n      String test = &quot;čćžđš&quot;;\r\n      ...\r\n      ModelAndView mav = new ModelAndView(&quot;html_utf8&quot;);\r\n      mav.addObject(&quot;responseBody&quot;, test);\r\n    }\r\n\r\nand the view html_utf8.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;${responseBody}\r\n\r\nNo additional classes and configuration.  \r\nAnd You can also create another view (for example json_utf8) for other content type.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\r\n  [2]: https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things","title":"UTF-8 encoding problem in Spring MVC","body":"<p>There are some similar questions: <a href=\"https://stackoverflow.com/questions/6638284/spring-mvc-response-encoding-issue\">Spring MVC response encoding issue</a>, <a href=\"https://stackoverflow.com/questions/5019162/custom-httpmessageconverter-with-responsebody-to-do-json-things\">Custom HttpMessageConverter with @ResponseBody to do Json things</a>.</p>\n\n<p>However, my simple solution:</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.GET,value=\"/GetMyList\")\npublic ModelAndView getMyList(){\n  String test = \"čćžđš\";\n  ...\n  ModelAndView mav = new ModelAndView(\"html_utf8\");\n  mav.addObject(\"responseBody\", test);\n}\n</code></pre>\n\n<p>and the view html_utf8.jsp</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;${responseBody}\n</code></pre>\n\n<p>No additional classes and configuration.<br>\nAnd You can also create another view (for example json_utf8) for other content type.</p>\n"},{"tags":[],"owner":{"account_id":1169688,"reputation":1731,"user_id":1147133,"accept_rate":86,"display_name":"aki"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1329912989,"creation_date":1329912989,"answer_id":9394539,"question_id":5649329,"body_markdown":"in your dispatcher servlet context xml, you have to add a propertie \r\n`&quot;&lt;property name=&quot;contentType&quot; value=&quot;text/html;charset=UTF-8&quot; /&gt;&quot;` on your viewResolver bean.\r\nwe are using freemarker for views.\r\n\r\nit looks something like this:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&quot;&gt;\r\n           ...\r\n           &lt;property name=&quot;contentType&quot; value=&quot;text/html;charset=UTF-8&quot; /&gt;\r\n           ...\r\n    &lt;/bean&gt;\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>in your dispatcher servlet context xml, you have to add a propertie \n<code>\"&lt;property name=\"contentType\" value=\"text/html;charset=UTF-8\" /&gt;\"</code> on your viewResolver bean.\nwe are using freemarker for views.</p>\n\n<p>it looks something like this:</p>\n\n<pre><code>&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver\"&gt;\n       ...\n       &lt;property name=\"contentType\" value=\"text/html;charset=UTF-8\" /&gt;\n       ...\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544074,"reputation":7677,"user_id":913394,"accept_rate":57,"display_name":"Charlie Wu"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1402245735,"creation_date":1345344241,"answer_id":12023816,"question_id":5649329,"body_markdown":"I&#39;ve figured it out, you can add to request mapping produces = &quot;text/plain;charset=UTF-8&quot;\r\n\r\n\t@RequestMapping(value = &quot;/rest/create/document&quot;, produces = &quot;text/plain;charset=UTF-8&quot;)\r\n\t@ResponseBody\r\n\tpublic void create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\r\n\t\t\r\n\t\tDocument newDocument = DocumentService.create(Document);\r\n\t\t\r\n\t\treturn jsonSerializer.serialize(newDocument);\r\n\t}\r\n\r\n[see this blog post for more details on the solution][1] \r\n\r\n\r\n  [1]: http://charlie.cu.cc/2012/08/spring-mvc-ajax-request-with-utf-8-support/","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I've figured it out, you can add to request mapping produces = \"text/plain;charset=UTF-8\"</p>\n\n<pre><code>@RequestMapping(value = \"/rest/create/document\", produces = \"text/plain;charset=UTF-8\")\n@ResponseBody\npublic void create(Document document, HttpServletRespone respone) throws UnsupportedEncodingException {\n\n    Document newDocument = DocumentService.create(Document);\n\n    return jsonSerializer.serialize(newDocument);\n}\n</code></pre>\n\n<p><a href=\"http://charlie.cu.cc/2012/08/spring-mvc-ajax-request-with-utf-8-support/\" rel=\"noreferrer\">see this blog post for more details on the solution</a> </p>\n"},{"tags":[],"owner":{"account_id":978617,"reputation":1724,"user_id":998938,"display_name":"rwitzel"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1426843785,"creation_date":1426843785,"answer_id":29163306,"question_id":5649329,"body_markdown":"Convert the JSON string to UTF-8 on your own.\r\n\r\n    @RequestMapping(value = &quot;/example.json&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public byte[] example() throws Exception {\r\n\r\n        return &quot;{ &#39;text&#39;: &#39;&#228;&#246;&#252;&#223;&#39; } &quot;.getBytes(&quot;UTF-8&quot;);\r\n    }","title":"UTF-8 encoding problem in Spring MVC","body":"<p>Convert the JSON string to UTF-8 on your own.</p>\n\n<pre><code>@RequestMapping(value = \"/example.json\", method = RequestMethod.GET)\n@ResponseBody\npublic byte[] example() throws Exception {\n\n    return \"{ 'text': 'äöüß' } \".getBytes(\"UTF-8\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1572426,"reputation":59,"user_id":1459849,"display_name":"miguel.angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471898471,"creation_date":1471898471,"answer_id":39088372,"question_id":5649329,"body_markdown":"I&#39;ve resolved this issue by inferring the produced return type into the first GET requestMethod. The important part here is the \r\n\r\n    produces=&quot;application/json;charset=UTF-8\r\nSo every one how use /account/**, Spring will return application/json;charset=UTF-8 content type. \r\n\r\n    @Controller\r\n    @Scope(&quot;session&quot;) \r\n    @RequestMapping(value={&quot;/account&quot;}, method = RequestMethod.GET,produces=&quot;application/json;charset=UTF-8&quot;)\r\n    public class AccountController {\r\n\t\r\n\t   protected final Log logger = LogFactory.getLog(getClass());\r\n    \r\n       ....//More parameters and method here...\r\n    \r\n       @RequestMapping(value={&quot;/getLast&quot;}, method = RequestMethod.GET)\r\n\t   public @ResponseBody String getUltimo(HttpServletResponse response) throws JsonGenerationException, JsonMappingException, IOException{\r\n\t\t\r\n\t\t  ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t  try {\r\n\t\t\tAccount account = accountDao.getLast();\r\n\t\t\treturn writer.writeValueAsString(account);\r\n\t\t  }\r\n\t\t  catch (Exception e) {\r\n\t\t\treturn errorHandler(e, response, writer);\r\n\t\t  }\r\n\t}\r\n\r\nSo, you do not have to set up for each method in your Controller, you can do it for the entire class. If you need more control over a specific method, you just only have to infer the produces return content type.\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I've resolved this issue by inferring the produced return type into the first GET requestMethod. The important part here is the </p>\n\n<pre><code>produces=\"application/json;charset=UTF-8\n</code></pre>\n\n<p>So every one how use /account/**, Spring will return application/json;charset=UTF-8 content type. </p>\n\n<pre><code>@Controller\n@Scope(\"session\") \n@RequestMapping(value={\"/account\"}, method = RequestMethod.GET,produces=\"application/json;charset=UTF-8\")\npublic class AccountController {\n\n   protected final Log logger = LogFactory.getLog(getClass());\n\n   ....//More parameters and method here...\n\n   @RequestMapping(value={\"/getLast\"}, method = RequestMethod.GET)\n   public @ResponseBody String getUltimo(HttpServletResponse response) throws JsonGenerationException, JsonMappingException, IOException{\n\n      ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\n      try {\n        Account account = accountDao.getLast();\n        return writer.writeValueAsString(account);\n      }\n      catch (Exception e) {\n        return errorHandler(e, response, writer);\n      }\n}\n</code></pre>\n\n<p>So, you do not have to set up for each method in your Controller, you can do it for the entire class. If you need more control over a specific method, you just only have to infer the produces return content type.</p>\n"},{"tags":[],"owner":{"account_id":9338331,"reputation":29,"user_id":6932994,"display_name":"Yura_dan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475831217,"creation_date":1475831217,"answer_id":39913506,"question_id":5649329,"body_markdown":"Also add to your beans :\r\n\r\n       &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;array&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg index=&quot;0&quot; name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/bean&gt;&lt;/bean&gt;\r\nFor @ExceptionHandler :\r\n\r\n    enter code&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;array&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;constructor-arg index=&quot;0&quot; name=&quot;defaultCharset&quot; value=&quot;UTF-8&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;supportedMediaTypes&quot;&gt;\r\n\t\t\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t\t&lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\r\n\t\t\t\t\t\t&lt;/list&gt;\r\n\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/array&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\nIf you use `&lt;mvc:annotation-driven/&gt;` it should be after beans.\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>Also add to your beans :</p>\n\n<pre><code>   &lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;array&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;constructor-arg index=\"0\" name=\"defaultCharset\" value=\"UTF-8\"/&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n        &lt;/bean&gt;&lt;/bean&gt;\n</code></pre>\n\n<p>For @ExceptionHandler :</p>\n\n<pre><code>enter code&lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;array&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"&gt;\n                &lt;constructor-arg index=\"0\" name=\"defaultCharset\" value=\"UTF-8\"/&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n                &lt;property name=\"supportedMediaTypes\"&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;text/plain;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;text/html;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/json;charset=UTF-8&lt;/value&gt;\n                        &lt;value&gt;application/x-www-form-urlencoded;charset=UTF-8&lt;/value&gt;\n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/array&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>If you use <code>&lt;mvc:annotation-driven/&gt;</code> it should be after beans.</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528661975,"creation_date":1528661975,"answer_id":50787695,"question_id":5649329,"body_markdown":"If you are using Spring MVC version 5 you can set the encoding also using the `@GetMapping` annotation. Here is an example which sets the content type to JSON and also the encoding type to UTF-8:\r\n\r\n    @GetMapping(value=&quot;/rest/events&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n\r\nMore information on the @GetMapping annotation here:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If you are using Spring MVC version 5 you can set the encoding also using the <code>@GetMapping</code> annotation. Here is an example which sets the content type to JSON and also the encoding type to UTF-8:</p>\n\n<pre><code>@GetMapping(value=\"/rest/events\", produces = \"application/json; charset=UTF-8\")\n</code></pre>\n\n<p>More information on the @GetMapping annotation here:</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/GetMapping.html</a></p>\n"},{"tags":[],"owner":{"account_id":13493098,"reputation":11,"user_id":9734699,"display_name":"Rosario Mezzatesta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532334234,"creation_date":1532334234,"answer_id":51474450,"question_id":5649329,"body_markdown":"When you try to send special characters like &#232;,&#224;,&#249;, etc etc, may be you see in your Jsp Post page many characters like &#39;&#163;&#39;,&#39;&#196;’ or ‘&#198;’.\r\nTo solve this problem in 99% of cases you may  move in your web.xml this piece of code at the head of file:\r\n\r\n \r\n\r\n       &lt;filter&gt;\r\n            &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;true&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n\r\nFor complete example see here : https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/","title":"UTF-8 encoding problem in Spring MVC","body":"<p>When you try to send special characters like è,à,ù, etc etc, may be you see in your Jsp Post page many characters like '£','Ä’ or ‘Æ’.\nTo solve this problem in 99% of cases you may  move in your web.xml this piece of code at the head of file:</p>\n\n<pre><code>   &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n\n<p>For complete example see here : <a href=\"https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/\" rel=\"nofollow noreferrer\">https://lentux-informatica.com/spring-mvc-utf-8-encoding-problem-solved/</a></p>\n"},{"tags":[],"owner":{"account_id":10363513,"reputation":1171,"user_id":7643283,"display_name":"Xobotun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573483257,"creation_date":1573482926,"answer_id":58803400,"question_id":5649329,"body_markdown":"In Spring 5, or maybe in earlier versions, there is `MediaType` [class](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/MediaType.html). It has already correct line, if you want to follow DRY:\r\n```java\r\npublic static final String APPLICATION_JSON_UTF8_VALUE = &quot;application/json;charset=UTF-8&quot;;\r\n```\r\n\r\nSo I use this set of controller-related annotations: \r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;my/api/url&quot;, produces = APPLICATION_JSON_UTF8_VALUE)\r\npublic class MyController {\r\n    // ... Methods here\r\n}\r\n```\r\n\r\nIt is marked deprecated in the docs, but I&#39;ve run into this issue and it is better than copy-pastying the aforementioned line on every method/controller throughout your application, I think.","title":"UTF-8 encoding problem in Spring MVC","body":"<p>In Spring 5, or maybe in earlier versions, there is <code>MediaType</code> <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"noreferrer\">class</a>. It has already correct line, if you want to follow DRY:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static final String APPLICATION_JSON_UTF8_VALUE = \"application/json;charset=UTF-8\";\n</code></pre>\n\n<p>So I use this set of controller-related annotations: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = \"my/api/url\", produces = APPLICATION_JSON_UTF8_VALUE)\npublic class MyController {\n    // ... Methods here\n}\n</code></pre>\n\n<p>It is marked deprecated in the docs, but I've run into this issue and it is better than copy-pastying the aforementioned line on every method/controller throughout your application, I think.</p>\n"},{"tags":[],"owner":{"account_id":6322870,"reputation":41,"user_id":4910216,"display_name":"Andres Gutierrez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634209743,"creation_date":1591274301,"answer_id":62194808,"question_id":5649329,"body_markdown":"You need add charset in the `RequestMapping` annotation:\r\n```java\r\n@RequestMapping(path = &quot;/account&quot;,  produces = &quot;application/json;charset=UTF-8&quot;)\r\n```","title":"UTF-8 encoding problem in Spring MVC","body":"<p>You need add charset in the <code>RequestMapping</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(path = &quot;/account&quot;,  produces = &quot;application/json;charset=UTF-8&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4364861,"reputation":517,"user_id":3560966,"display_name":"Paul Cuddihy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600956029,"creation_date":1600955440,"answer_id":64047944,"question_id":5649329,"body_markdown":"I found that &quot;@RequestMapping produces=&quot; and other configuration changes didn&#39;t help me.   By the time you do resp.getWriter(), it is also too late to set the encoding on the writer.\r\n\r\nAdding a header to the HttpServletResponse works.\r\n\r\n    @RequestMapping(value=&quot;/test&quot;, method=RequestMethod.POST)\r\n\tpublic void test(HttpServletResponse resp) {\r\n\t\ttry {\r\n\t\t\tresp.addHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n\t        PrintWriter w = resp.getWriter();\r\n\t        w.write(&quot;{\\&quot;name\\&quot; : \\&quot;μr μicron\\&quot;}&quot;);\r\n\t        w.flush();\r\n\t        w.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I found that &quot;@RequestMapping produces=&quot; and other configuration changes didn't help me.   By the time you do resp.getWriter(), it is also too late to set the encoding on the writer.</p>\n<p>Adding a header to the HttpServletResponse works.</p>\n<pre><code>@RequestMapping(value=&quot;/test&quot;, method=RequestMethod.POST)\npublic void test(HttpServletResponse resp) {\n    try {\n        resp.addHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;);\n        PrintWriter w = resp.getWriter();\n        w.write(&quot;{\\&quot;name\\&quot; : \\&quot;μr μicron\\&quot;}&quot;);\n        w.flush();\n        w.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19090913,"reputation":491,"user_id":13941207,"display_name":"EACUAMBA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676403110,"creation_date":1676403110,"answer_id":75452492,"question_id":5649329,"body_markdown":"If are using spring boot just add this properies to your applications.properties file:\r\n\r\n    server.servlet.encoding.charset=UTF-8\r\n    server.servlet.encoding.force=true","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If are using spring boot just add this properies to your applications.properties file:</p>\n<pre><code>server.servlet.encoding.charset=UTF-8\nserver.servlet.encoding.force=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679004370,"creation_date":1679004370,"answer_id":75762042,"question_id":5649329,"body_markdown":"If you are using Spring Boot (tested with 3.0.4), then UTF-8 will work out of the box by default for both HTTP POST requests and responses.\r\n\r\nIf you have manually added Spring MVC, then you&#39;ll need to configure two things:\r\n\r\n 1. [CharacterEncodingFilter][1]: a Spring Web servlet filter that allows you to: \r\n\r\n&gt; specify a character encoding **for requests**. This is useful because current browsers typically do not set a character encoding even if specified in the HTML page or form. \r\n\r\n 2. [StringHttpMessageConverter][2]: a Spring HttpMessageConverter that allows you to change the response `Content-Type` HTTP header field. Without this, the `Content-Type` header will usually be `text/html;charset=ISO-8859-1` instead of UTF-8.\r\n\r\n## How to set CharacterEncodingFilter? ##\r\nIt depends on your web app configuration. You should look into how you can set a Servlet Filter in general. For `CharacterEncodingFilter` you&#39;ll need to set the `encoding` param to `utf-8` and the `forceEncoding` to `true`.\r\n\r\nFor example, if you are using `web.xml` to configure Servlet Filters, then you could use something like this in your `web.xml`:\r\n\r\n```\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;utf-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n```\r\n\r\n```\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n```\r\n\r\nIf this doesn&#39;t work (meaning, your MVC controller doesn&#39;t receive request parameters as UTF-8), then you need to move the `characterEncodingFilter` higher up in `web.xml`, so that it gets called before other filters.\r\n\r\n## How to set StringHttpMessageConverter? ##\r\nChange/add your [`WebMvcConfigurer`][3] to something like this:\r\n```\r\nimport org.springframework.http.converter.HttpMessageConverter;\r\nimport org.springframework.http.converter.StringHttpMessageConverter;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.List;\r\n\r\npublic class MyCustomWebMvcConfigurer implements WebMvcConfigurer {\r\n    @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```\r\nIt uses `StandardCharsets.ISO_8859_1` by default, but the code above will change it to UTF-8. You can verify if this is working, by checking the `Content-Type` header in the HTTP responses. Which should now show `text/html;charset=UTF-8` instead of `text/html;charset=ISO-8859-1`.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html","title":"UTF-8 encoding problem in Spring MVC","body":"<p>If you are using Spring Boot (tested with 3.0.4), then UTF-8 will work out of the box by default for both HTTP POST requests and responses.</p>\n<p>If you have manually added Spring MVC, then you'll need to configure two things:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html\" rel=\"nofollow noreferrer\">CharacterEncodingFilter</a>: a Spring Web servlet filter that allows you to:</li>\n</ol>\n<blockquote>\n<p>specify a character encoding <strong>for requests</strong>. This is useful because current browsers typically do not set a character encoding even if specified in the HTML page or form.</p>\n</blockquote>\n<ol start=\"2\">\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/StringHttpMessageConverter.html\" rel=\"nofollow noreferrer\">StringHttpMessageConverter</a>: a Spring HttpMessageConverter that allows you to change the response <code>Content-Type</code> HTTP header field. Without this, the <code>Content-Type</code> header will usually be <code>text/html;charset=ISO-8859-1</code> instead of UTF-8.</li>\n</ol>\n<h2>How to set CharacterEncodingFilter?</h2>\n<p>It depends on your web app configuration. You should look into how you can set a Servlet Filter in general. For <code>CharacterEncodingFilter</code> you'll need to set the <code>encoding</code> param to <code>utf-8</code> and the <code>forceEncoding</code> to <code>true</code>.</p>\n<p>For example, if you are using <code>web.xml</code> to configure Servlet Filters, then you could use something like this in your <code>web.xml</code>:</p>\n<pre><code>    &lt;filter&gt;\n        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;utf-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceResponseEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n</code></pre>\n<pre><code>    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;characterEncodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>If this doesn't work (meaning, your MVC controller doesn't receive request parameters as UTF-8), then you need to move the <code>characterEncodingFilter</code> higher up in <code>web.xml</code>, so that it gets called before other filters.</p>\n<h2>How to set StringHttpMessageConverter?</h2>\n<p>Change/add your <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\"><code>WebMvcConfigurer</code></a> to something like this:</p>\n<pre><code>import org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.StringHttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\n\npublic class MyCustomWebMvcConfigurer implements WebMvcConfigurer {\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>It uses <code>StandardCharsets.ISO_8859_1</code> by default, but the code above will change it to UTF-8. You can verify if this is working, by checking the <code>Content-Type</code> header in the HTTP responses. Which should now show <code>text/html;charset=UTF-8</code> instead of <code>text/html;charset=ISO-8859-1</code>.</p>\n"}],"owner":{"account_id":736866,"reputation":631,"user_id":706051,"display_name":"ysnky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183792,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":13,"score":63,"last_activity_date":1679004370,"creation_date":1302698309,"question_id":5649329,"body_markdown":"I&#39; ve a Spring MVC bean and I would like to return turkish character by setting encoding UTF-8. but although my string is &quot;şŞğĞİı&#231;&#199;&#246;&#214;&#252;&#220;&quot; it returns as &quot;??????&#231;&#199;&#246;&#214;&#252;&#220;&quot;. and also when I look at the response page, which is internet explorer page, encoding is western european iso, not UTF-8.\r\n\r\nHere is the code:\r\n\r\n\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/GetMyList&quot;)\r\n\tpublic @ResponseBody String getMyList(HttpServletRequest request, HttpServletResponse response) throws CryptoException{\r\n\t\tString contentType= &quot;text/html;charset=UTF-8&quot;;\r\n\t\tresponse.setContentType(contentType);\r\n\t\ttry {\r\n\t\t\trequest.setCharacterEncoding(&quot;utf-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tresponse.setCharacterEncoding(&quot;utf-8&quot;);\t\t\r\n\t\tString str=&quot;şŞğĞİı&#231;&#199;&#246;&#214;&#252;&#220;&quot;;\r\n\t\treturn str;\r\n\t}\t\r\n\r\n","title":"UTF-8 encoding problem in Spring MVC","body":"<p>I' ve a Spring MVC bean and I would like to return turkish character by setting encoding UTF-8. but although my string is \"şŞğĞİıçÇöÖüÜ\" it returns as \"??????çÇöÖüÜ\". and also when I look at the response page, which is internet explorer page, encoding is western european iso, not UTF-8.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    @RequestMapping(method=RequestMethod.GET,value=\"/GetMyList\")\npublic @ResponseBody String getMyList(HttpServletRequest request, HttpServletResponse response) throws CryptoException{\n    String contentType= \"text/html;charset=UTF-8\";\n    response.setContentType(contentType);\n    try {\n        request.setCharacterEncoding(\"utf-8\");\n    } catch (UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    response.setCharacterEncoding(\"utf-8\");     \n    String str=\"şŞğĞİıçÇöÖüÜ\";\n    return str;\n}   \n</code></pre>\n"},{"tags":["java","sql","string","select","jdbc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679005598,"post_id":75761853,"comment_id":133648179,"body_markdown":"Rather than posting, you could have searched Stack Overflow to find many pieces of example code in existing Answers.","body":"Rather than posting, you could have searched Stack Overflow to find many pieces of example code in existing Answers."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679005777,"post_id":75761853,"comment_id":133648203,"body_markdown":"The [official JDBC prepared statement tutorial](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) also walks through how do do this.","body":"The <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">official JDBC prepared statement tutorial</a> also walks through how do do this."}],"answers":[{"tags":[],"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679003894,"creation_date":1679003894,"answer_id":75761987,"question_id":75761853,"body_markdown":"What you&#39;re looking for is PreparedStatement#setString.\r\n\r\nYour code should be something like:\r\n\r\n```java\r\ntry (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\r\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\r\n         PreparedStatement  statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n    ) {\r\n        statement2.setString(1, &quot;BMW&quot;); //Set your where condition\r\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\r\n\r\n            //some code here\r\n            \r\n        }\r\n    }catch (SQLException e) {\r\n        throw new ScoreException(&quot;Some problem here&quot;, e);\r\n    }\r\n```\r\n\r\nNot sure why you have statement1 though :)","title":"setString in JDBC select","body":"<p>What you're looking for is PreparedStatement#setString.</p>\n<p>Your code should be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\n         PreparedStatement  statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n    ) {\n        statement2.setString(1, &quot;BMW&quot;); //Set your where condition\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\n\n            //some code here\n            \n        }\n    }catch (SQLException e) {\n        throw new ScoreException(&quot;Some problem here&quot;, e);\n    }\n</code></pre>\n<p>Not sure why you have statement1 though :)</p>\n"}],"owner":{"account_id":20903318,"reputation":65,"user_id":15355910,"display_name":"david"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679011054,"answer_count":1,"score":-1,"last_activity_date":1679003894,"creation_date":1679002643,"question_id":75761853,"body_markdown":"I&#180;m trying to setString for Statement in JDBC. But I dont know how can I setString for this example:\r\n\r\n    public static final String SELECT_ST = &quot;SELECT name, car FROM rating WHERE car= ?&quot;;\r\n\r\n    try (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\r\n             PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\r\n             Statement statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\r\n        ) {\r\n            try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\r\n\r\n                //some code here\r\n                \r\n            }\r\n        }catch (SQLException e) {\r\n            throw new ScoreException(&quot;Some problem here&quot;, e);\r\n        }\r\n\r\nHow can I setString for ? in SELECT_ST? ","title":"setString in JDBC select","body":"<p>I´m trying to setString for Statement in JDBC. But I dont know how can I setString for this example:</p>\n<pre><code>public static final String SELECT_ST = &quot;SELECT name, car FROM rating WHERE car= ?&quot;;\n\ntry (Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWD);\n         PreparedStatement statement1 = connection.prepareStatement(INSERT_ST);\n         Statement statement2 = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);\n    ) {\n        try(ResultSet rs = statement2.executeQuery(SELECT_ST)){\n\n            //some code here\n            \n        }\n    }catch (SQLException e) {\n        throw new ScoreException(&quot;Some problem here&quot;, e);\n    }\n</code></pre>\n<p>How can I setString for ? in SELECT_ST?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679003529,"creation_date":1679003529,"answer_id":75761945,"question_id":75747849,"body_markdown":"        @Override\r\n        public String addMovieToDirector(Long directorId, Long movieId) {\r\n        Optional&lt;Director&gt; optinalDirector = directorRepository.findById(directorId);\r\n        Optional&lt;Movie&gt; optionalMovie = movieRepository.findById(movieId);\r\n            if (optinalDirector.isPresent() &amp;&amp; optionalMovie.isPresent()) {\r\n                if (optionalMovie.get().getDirector().equals(optinalDirector.get()) { \r\n                   return &quot;contains&quot;;\r\n                }\r\n                optionalMovie.get().setDirector(optinalDirector.get())\r\n                movieRepository.save(optionalMovie.get());\r\n                return &quot;added&quot;;\r\n            }else\r\n              return &quot;error&quot;;\r\n    }","title":"How to update entity in database with relationship in Spring Data Jpa","body":"<pre><code>    @Override\n    public String addMovieToDirector(Long directorId, Long movieId) {\n    Optional&lt;Director&gt; optinalDirector = directorRepository.findById(directorId);\n    Optional&lt;Movie&gt; optionalMovie = movieRepository.findById(movieId);\n        if (optinalDirector.isPresent() &amp;&amp; optionalMovie.isPresent()) {\n            if (optionalMovie.get().getDirector().equals(optinalDirector.get()) { \n               return &quot;contains&quot;;\n            }\n            optionalMovie.get().setDirector(optinalDirector.get())\n            movieRepository.save(optionalMovie.get());\n            return &quot;added&quot;;\n        }else\n          return &quot;error&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":23934228,"reputation":3,"user_id":17928212,"display_name":"milosz000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679003529,"creation_date":1678899456,"question_id":75747849,"body_markdown":"I would like to update entity in database with One-To-Many relationship.\r\n\r\nDirector model:\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Director {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    @Size(min = 3)\r\n    private String firstname;\r\n\r\n    @Column(nullable = false)\r\n    @Size(min = 3)\r\n    private String lastname;\r\n\r\n    @OneToMany(mappedBy = &quot;director&quot;)\r\n    private Set&lt;Movie&gt; movies;\r\n\r\n`}\r\n```\r\n\r\nMovie model:\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;director_id&quot;)\r\n    private Director director;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private MovieGenre genre;\r\n\r\n    private String description;\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;actorsMovies&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;))\r\n    private Set&lt;Actor&gt; stars;\r\n\r\n    private Integer release;\r\n\r\n}\r\n```\r\n\r\n\r\ncontroller class:\r\n\r\n\r\n```\r\n   @PostMapping(&quot;{directorId}/addMovie/{movieId}&quot;)\r\n    public String addMovieToDirector(\r\n            @PathVariable(&quot;directorId&quot;) Long directorId,\r\n            @PathVariable(&quot;movieId&quot;) Long movieId) {\r\n\r\n        log.info(&quot;directorId: &quot; + directorId);\r\n        log.info(&quot;movieId: &quot; + movieId);\r\n\r\n       return directorService.addMovieToDirector(directorId, movieId);\r\n    }\r\n```\r\n\r\n\r\nservice class:\r\n\r\n```\r\n    @Override\r\n    public String addMovieToDirector(Long directorId, Long movieId) {\r\n\r\n        if (directorRepository.findById(directorId).isPresent() &amp;&amp; movieRepository.findById(movieId).isPresent()) {\r\n            Director director = directorRepository.findById(directorId).get();\r\n            Set&lt;Movie&gt; movies = director.getMovies();\r\n            Movie movie = movieRepository.findById(movieId).get();\r\n            if (movies.contains(movie)) return &quot;contains&quot;;\r\n            movies.add(movie);\r\n            director.setMovies(movies);\r\n            directorRepository.save(director);\r\n            return &quot;added&quot;;\r\n        }\r\n        return &quot;error&quot;;\r\n    }\r\n```\r\n\r\n\r\nI am using JpaRepository and when i try to update movies in director entity i receive &quot;added&quot; message but nothing happens. When i try to update firstname for example then everything works fine. What is the issue?\r\n\r\n\r\n\r\n\r\n\r\nDoes anyone have an idea how to go about this?\r\n\r\n","title":"How to update entity in database with relationship in Spring Data Jpa","body":"<p>I would like to update entity in database with One-To-Many relationship.</p>\n<p>Director model:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\npublic class Director {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    @Size(min = 3)\n    private String firstname;\n\n    @Column(nullable = false)\n    @Size(min = 3)\n    private String lastname;\n\n    @OneToMany(mappedBy = &quot;director&quot;)\n    private Set&lt;Movie&gt; movies;\n\n`}\n</code></pre>\n<p>Movie model:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Data\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;director_id&quot;)\n    private Director director;\n\n    @Enumerated(value = EnumType.STRING)\n    private MovieGenre genre;\n\n    private String description;\n\n\n    @ManyToMany\n    @JoinTable(name = &quot;actorsMovies&quot;,\n    joinColumns = @JoinColumn(name = &quot;movie_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;actor_id&quot;))\n    private Set&lt;Actor&gt; stars;\n\n    private Integer release;\n\n}\n</code></pre>\n<p>controller class:</p>\n<pre><code>   @PostMapping(&quot;{directorId}/addMovie/{movieId}&quot;)\n    public String addMovieToDirector(\n            @PathVariable(&quot;directorId&quot;) Long directorId,\n            @PathVariable(&quot;movieId&quot;) Long movieId) {\n\n        log.info(&quot;directorId: &quot; + directorId);\n        log.info(&quot;movieId: &quot; + movieId);\n\n       return directorService.addMovieToDirector(directorId, movieId);\n    }\n</code></pre>\n<p>service class:</p>\n<pre><code>    @Override\n    public String addMovieToDirector(Long directorId, Long movieId) {\n\n        if (directorRepository.findById(directorId).isPresent() &amp;&amp; movieRepository.findById(movieId).isPresent()) {\n            Director director = directorRepository.findById(directorId).get();\n            Set&lt;Movie&gt; movies = director.getMovies();\n            Movie movie = movieRepository.findById(movieId).get();\n            if (movies.contains(movie)) return &quot;contains&quot;;\n            movies.add(movie);\n            director.setMovies(movies);\n            directorRepository.save(director);\n            return &quot;added&quot;;\n        }\n        return &quot;error&quot;;\n    }\n</code></pre>\n<p>I am using JpaRepository and when i try to update movies in director entity i receive &quot;added&quot; message but nothing happens. When i try to update firstname for example then everything works fine. What is the issue?</p>\n<p>Does anyone have an idea how to go about this?</p>\n"},{"tags":["java","spring","dependency-injection","lombok"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":3,"creation_date":1679003648,"post_id":75761931,"comment_id":133647793,"body_markdown":"@RequiredArgs with final fields.","body":"@RequiredArgs with final fields."},{"owner":{"account_id":26871384,"reputation":1,"user_id":20453329,"display_name":"kakoker"},"score":0,"creation_date":1679004559,"post_id":75761931,"comment_id":133647977,"body_markdown":"For controller, service, etc that is perfect.\nBut what about model entities? Are they out of DI scope in this regard? Or should I use @NoArgs for example?\nSuch as;\npublic class Book {\n    &quot;at&quot;Id\n    &quot;at&quot;GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private int price;","body":"For controller, service, etc that is perfect. But what about model entities? Are they out of DI scope in this regard? Or should I use @NoArgs for example? Such as; public class Book {     &quot;at&quot;Id     &quot;at&quot;GeneratedValue(strategy = GenerationType.IDENTITY)     private Long id;     private String name;     private int price;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679008727,"post_id":75761931,"comment_id":133648658,"body_markdown":"Model entities are out of DI scope.","body":"Model entities are out of DI scope."}],"owner":{"account_id":26871384,"reputation":1,"user_id":20453329,"display_name":"kakoker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679003374,"creation_date":1679003374,"question_id":75761931,"body_markdown":"According to Spring, @Autowired can be omitted if constructor injection is used and there is only one constructor.\r\n&gt; As of Spring Framework 4.3, an @Autowired annotation on such a constructor is no longer necessary if the target bean only defines one constructor to begin with. However, if several constructors are available, at least one must be annotated to teach the container which one to use.\r\n\r\nIs using @NoArgsConstructor sufficient for Spring Boot projects?\r\n\r\nMy instructor is using constructor injection and avoiding @Autowired, while using both @NoArgsConstructor and @AllArgsConstructor annotations.\r\n\r\nDoesn&#39;t that constitute &quot;having multiple constructors&quot;? If not, why?\r\n\r\nI have also used @NoArgs, @AllArgs, and also @RequiredArgs. But I cannot determine if injection is working properly and whether @Autowired is needed.","title":"To omit @Autowired via constructor injection, which Lombok constructor annotation(s) should be used? (@NoArgs,@AllArgs,@ReqArgs)","body":"<p>According to Spring, @Autowired can be omitted if constructor injection is used and there is only one constructor.</p>\n<blockquote>\n<p>As of Spring Framework 4.3, an @Autowired annotation on such a constructor is no longer necessary if the target bean only defines one constructor to begin with. However, if several constructors are available, at least one must be annotated to teach the container which one to use.</p>\n</blockquote>\n<p>Is using @NoArgsConstructor sufficient for Spring Boot projects?</p>\n<p>My instructor is using constructor injection and avoiding @Autowired, while using both @NoArgsConstructor and @AllArgsConstructor annotations.</p>\n<p>Doesn't that constitute &quot;having multiple constructors&quot;? If not, why?</p>\n<p>I have also used @NoArgs, @AllArgs, and also @RequiredArgs. But I cannot determine if injection is working properly and whether @Autowired is needed.</p>\n"},{"tags":["java","evaluation","tic-tac-toe","heuristics"],"comments":[{"owner":{"account_id":3142953,"reputation":65314,"user_id":2658050,"display_name":"lejlot"},"score":1,"creation_date":1401646505,"post_id":23982531,"comment_id":36954692,"body_markdown":"you should add checking whether this &quot;lines&quot; can actually form a wining line. otherwise, there are useless. As a result, for a given situation you would only cound &quot;o&quot;s on the diagonal (rest cannot form a 5 line)","body":"you should add checking whether this &quot;lines&quot; can actually form a wining line. otherwise, there are useless. As a result, for a given situation you would only cound &quot;o&quot;s on the diagonal (rest cannot form a 5 line)"}],"answers":[{"tags":[],"owner":{"account_id":2198319,"reputation":2754,"user_id":1943428,"display_name":"Diego Mazzaro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679003327,"creation_date":1402256617,"answer_id":24110122,"question_id":23982531,"body_markdown":"Number of options (possible sequences of moves) after the first move is 24! and not 24^24. It is still a too much high of a number so it is correct to implement an heuristic.\r\n\r\nNote that answers about good heuristics are necessarily based on the opinion of the writer so I give my opinion but to find out what is &quot;the best heuristic&quot; you should make the various ideas playing one against the other in the following way:\r\n  \r\n - take the two heuristics A and B that you want to compare\r\n - generate at random a starting configuration\r\n - let A play with O and B play with X\r\n - from the same starting configuration let A play with X and B play with O\r\n - take stats of which one wins more\r\n\r\nNow my thoughts about good possible heuristics starting points for an nxn playfield with winning sequence length of n:\r\n\r\n - since the winning condition for a player is to form a straight sequence of its marks my idea is to use as base values the number of possibilities that each player has still available to built such a straight sequence. \r\n - in an empty field both O and X have ideally the possibility to realize the winning sequence in several ways:\r\n   - horizontal possibilities: n\r\n   - vertical possibilities: n\r\n   - diagonal possibilities: 2\r\n   - total possibilities: 2n+2\r\n - in the middle of a round the number of remaining opportunities for a player are calculated as: `&lt;the number of rows without opponent&#39;s marks&gt; + &lt;the number of columns without opponent&#39;s marks&gt; + &lt;the number of diagonals without opponent&#39;s marks&gt;`\r\n - instead than calculate all each time it can be considered that:\r\n   - after a move of one player the number of still available possibilities are:\r\n     - unchanged for him\r\n     - equal or lowered for the opponent (if the mark has been placed in a row/col/diagonal where no marks had already been placed by the considered player)\r\n - as heuristic I can propose: `&lt;my possibilities&gt; - &lt;opponent possibilities&gt;`\r\n   - is possible that `&lt;my possibilities&gt; - k * &lt;opponent possibilities&gt;` with k &gt; 1 give better results and in the end this can be related to how a draw is considered with regard to a lose.\r\n\r\nOne side consideration:\r\n\r\n - playfield cells are n^2\r\n - winning possibilities are 2n+2 if we keep the winning length equal to the field edge size\r\n - this give me the idea that the more the size is increased the less interesting is to play because the probability of a draw after a low number of moves (with reference to the playfield area) becomes higher and higher.\r\n - for this reason I think that the game with a winning length lower that n (for example 3 independently from the playfield size) is more interesting.\r\n   - Named l the wining length we have that the number of possibilities is `2*((n+1-l)*(2n+1-l)) = O(n^2)` and so well proportioned with the field area.","title":"Pretty good heuristic evaluation rules for big TicTacToe 5x5 board","body":"<p>Number of options (possible sequences of moves) after the first move is 24! and not 24^24. It is still a too much high of a number so it is correct to implement an heuristic.</p>\n<p>Note that answers about good heuristics are necessarily based on the opinion of the writer so I give my opinion but to find out what is &quot;the best heuristic&quot; you should make the various ideas playing one against the other in the following way:</p>\n<ul>\n<li>take the two heuristics A and B that you want to compare</li>\n<li>generate at random a starting configuration</li>\n<li>let A play with O and B play with X</li>\n<li>from the same starting configuration let A play with X and B play with O</li>\n<li>take stats of which one wins more</li>\n</ul>\n<p>Now my thoughts about good possible heuristics starting points for an nxn playfield with winning sequence length of n:</p>\n<ul>\n<li>since the winning condition for a player is to form a straight sequence of its marks my idea is to use as base values the number of possibilities that each player has still available to built such a straight sequence.</li>\n<li>in an empty field both O and X have ideally the possibility to realize the winning sequence in several ways:\n<ul>\n<li>horizontal possibilities: n</li>\n<li>vertical possibilities: n</li>\n<li>diagonal possibilities: 2</li>\n<li>total possibilities: 2n+2</li>\n</ul>\n</li>\n<li>in the middle of a round the number of remaining opportunities for a player are calculated as: <code>&lt;the number of rows without opponent's marks&gt; + &lt;the number of columns without opponent's marks&gt; + &lt;the number of diagonals without opponent's marks&gt;</code></li>\n<li>instead than calculate all each time it can be considered that:\n<ul>\n<li>after a move of one player the number of still available possibilities are:\n<ul>\n<li>unchanged for him</li>\n<li>equal or lowered for the opponent (if the mark has been placed in a row/col/diagonal where no marks had already been placed by the considered player)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>as heuristic I can propose: <code>&lt;my possibilities&gt; - &lt;opponent possibilities&gt;</code>\n<ul>\n<li>is possible that <code>&lt;my possibilities&gt; - k * &lt;opponent possibilities&gt;</code> with k &gt; 1 give better results and in the end this can be related to how a draw is considered with regard to a lose.</li>\n</ul>\n</li>\n</ul>\n<p>One side consideration:</p>\n<ul>\n<li>playfield cells are n^2</li>\n<li>winning possibilities are 2n+2 if we keep the winning length equal to the field edge size</li>\n<li>this give me the idea that the more the size is increased the less interesting is to play because the probability of a draw after a low number of moves (with reference to the playfield area) becomes higher and higher.</li>\n<li>for this reason I think that the game with a winning length lower that n (for example 3 independently from the playfield size) is more interesting.\n<ul>\n<li>Named l the wining length we have that the number of possibilities is <code>2*((n+1-l)*(2n+1-l)) = O(n^2)</code> and so well proportioned with the field area.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":1138466,"reputation":17496,"user_id":1123020,"accept_rate":60,"display_name":"Yoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2740,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1679003327,"creation_date":1401643761,"question_id":23982531,"body_markdown":"I have created TicTacToe game. I use minmax algorithm.\r\n\r\nWhen the board is `3x3` I just calculate every possible move for a game till the end and -1 for loss, 0 for tie, 1 for win.\r\n\r\nWhen it comes to 5x5 it can&#39;t be done(to many options(like 24^24) so I have created evaluation method which gives: 10^0 for one CIRCLE inline, 10^1 for 2 CIRCLE inline, ..., 10^4 for 5 CIRCLES inline, but it is useless. \r\n\r\nDoes anybody have better idea for assesment?\r\n\r\nExample:\r\n\r\n    O|X|X| | |\r\n    ----------\r\n     |O| | | |\r\n    ----------\r\n    X|O| | | |\r\n    ----------\r\n     | | | | |\r\n    ----------\r\n     | | | | |\r\n\r\n    Evaluation -10, 2 circles across once and inline once (+200), 2 crosses inline(-100), and -1 three times and + 1 three times for single cross and circle.\r\n\r\n\r\nThis is my evaluation method now:\r\n\r\n\r\n    public void setEvaluationForBigBoards() {\r\n    \t\tint evaluation = 0;\r\n    \t\tint howManyInLine = board.length;\r\n    \t\tfor(; howManyInLine &gt; 0; howManyInLine--) {\r\n    \t\t\tevaluation += countInlines(player.getStamp(), howManyInLine);\r\n    \t\t\tevaluation -= countInlines(player.getOppositeStamp(), howManyInLine);\r\n    \t\t}\r\n    \t\tthis.evaluation = evaluation;\r\n    \t}\r\n    \r\n    \tpublic int countInlines(int sign, int howManyInLine) {\r\n    \t\tint points = (int) Math.pow(10, howManyInLine - 1);\r\n    \t\tint postiveCounter = 0;\r\n    \t\tfor(int i = 0; i &lt; board.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; board[i].length; j++) {\r\n    \t\t\t\t//czy od tego miejsca jest cos po przekatnej w prawo w dol, w lewo w dol, w dol, w prawo\r\n    \t\t\t\tif(toRigth(i, j, sign, howManyInLine))\r\n    \t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\tif(howManyInLine &gt; 1) {\r\n    \t\t\t\t\tif(toDown(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t\tif(toRightDiagonal(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t\tif(toLeftDiagonal(i, j, sign, howManyInLine))\r\n    \t\t\t\t\t\tpostiveCounter++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn points * postiveCounter;\r\n    \t}","title":"Pretty good heuristic evaluation rules for big TicTacToe 5x5 board","body":"<p>I have created TicTacToe game. I use minmax algorithm.</p>\n\n<p>When the board is <code>3x3</code> I just calculate every possible move for a game till the end and -1 for loss, 0 for tie, 1 for win.</p>\n\n<p>When it comes to 5x5 it can't be done(to many options(like 24^24) so I have created evaluation method which gives: 10^0 for one CIRCLE inline, 10^1 for 2 CIRCLE inline, ..., 10^4 for 5 CIRCLES inline, but it is useless. </p>\n\n<p>Does anybody have better idea for assesment?</p>\n\n<p>Example:</p>\n\n<pre><code>O|X|X| | |\n----------\n |O| | | |\n----------\nX|O| | | |\n----------\n | | | | |\n----------\n | | | | |\n\nEvaluation -10, 2 circles across once and inline once (+200), 2 crosses inline(-100), and -1 three times and + 1 three times for single cross and circle.\n</code></pre>\n\n<p>This is my evaluation method now:</p>\n\n<pre><code>public void setEvaluationForBigBoards() {\n        int evaluation = 0;\n        int howManyInLine = board.length;\n        for(; howManyInLine &gt; 0; howManyInLine--) {\n            evaluation += countInlines(player.getStamp(), howManyInLine);\n            evaluation -= countInlines(player.getOppositeStamp(), howManyInLine);\n        }\n        this.evaluation = evaluation;\n    }\n\n    public int countInlines(int sign, int howManyInLine) {\n        int points = (int) Math.pow(10, howManyInLine - 1);\n        int postiveCounter = 0;\n        for(int i = 0; i &lt; board.length; i++) {\n            for(int j = 0; j &lt; board[i].length; j++) {\n                //czy od tego miejsca jest cos po przekatnej w prawo w dol, w lewo w dol, w dol, w prawo\n                if(toRigth(i, j, sign, howManyInLine))\n                    postiveCounter++;\n                if(howManyInLine &gt; 1) {\n                    if(toDown(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                    if(toRightDiagonal(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                    if(toLeftDiagonal(i, j, sign, howManyInLine))\n                        postiveCounter++;\n                }\n            }\n        }\n        return points * postiveCounter;\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa","join","one-to-many"],"comments":[{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678710695,"post_id":75721757,"comment_id":133580595,"body_markdown":"I am also trying to achieve this via `@ElemenCollection`","body":"I am also trying to achieve this via <code>@ElemenCollection</code>"},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1678746648,"post_id":75721757,"comment_id":133590514,"body_markdown":"I was writing some code to try to answer your question, but a doubt came to mind. In `RankingAward`, the `@OneToMany` mapping has a `@JoinColumn(name = &quot;company_id&quot;)`. This means that there is a column `company_id` in `AdditionalPlacements` entity that maps to `RankingAward` entity `id` column. In other words, `company_id` is a foreign key to `RankingAward.id`. That said, I&#39;m having trouble to understand the JOIN clause in the SQL. Shouldn&#39;t it be `JOIN awards_for_2022 a2 on a.id = a2.company_id`?","body":"I was writing some code to try to answer your question, but a doubt came to mind. In <code>RankingAward</code>, the <code>@OneToMany</code> mapping has a <code>@JoinColumn(name = &quot;company_id&quot;)</code>. This means that there is a column <code>company_id</code> in <code>AdditionalPlacements</code> entity that maps to <code>RankingAward</code> entity <code>id</code> column. In other words, <code>company_id</code> is a foreign key to <code>RankingAward.id</code>. That said, I&#39;m having trouble to understand the JOIN clause in the SQL. Shouldn&#39;t it be <code>JOIN awards_for_2022 a2 on a.id = a2.company_id</code>?"},{"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"score":0,"creation_date":1678864770,"post_id":75721757,"comment_id":133613806,"body_markdown":"Ah, no. Semantically this table joins itself via `company_id` to find out which other ranking placements this company has in other professions.","body":"Ah, no. Semantically this table joins itself via <code>company_id</code> to find out which other ranking placements this company has in other professions."}],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679003227,"creation_date":1678755088,"answer_id":75728171,"question_id":75721757,"body_markdown":"Edit:\r\n\r\nI think there&#39;s an inconsistency between the entity mappings and the SQL query. The `@JoinColumn` annotation in the `@OneToMany` mapping on the `RankingAward` entity defines `company_id` on the target entity, `AdditionalPlacements`, as a *foreign key* to itself. In other words, `AdditionalPlacements.company_id` is *foreign key* to `RankingAward.id`. That&#39;s the relationship that is defined in that mapping.\r\n\r\nBut let&#39;s put this aside for now. Looking at the table you provided at the end of your answer, the way I see it, admiting both entities map to the same table, there&#39;s no way to determine a `RankingAward` from `AdditionalPlacements` entities. I mean, they all share the same `company_id`, but how do you know which row represents a `RankingAward` entity and which rows represent `AdditionalPlacements` entities? Maybe you can use aggregates in your SQL, but I don&#39;t think they would work for entity mappings.\r\n\r\nA famous example of an entity relating to itself is the employee / manager relationship. But, in this case, the `Employee.managerId` is foreign key to `Employee.id`. Therefore there&#39;s a way to determine which is which.\r\n\r\n*How about instead of doing this join in the SQL, you do it using Java Collectors?* Option 3 deals with this possibility.\r\n\r\n---\r\n\r\nOPTION 1\r\n--------\r\n\r\nBasically, the same mappings you provided.\r\n\r\nEntities classes:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class RankingAward {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class AdditionalPlacements {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n}\r\n```\r\n\r\nSetting the `&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;` property in `persistence.xml` prints the following output:\r\n\r\n```sql\r\ncreate table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\r\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\r\n```\r\n\r\nThis means that the persistence provider can relate both entities to the same table. I know you&#39;re defining the Entity-Table association dynamically. And as I understand it, your problem isn&#39;t there, but in the SQL, right?\r\n\r\nSo let&#39;s load some data for tests:\r\n\r\n```sql\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (1, null, 1, &#39;prof1&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (2, 1, 2, &#39;prof2&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (3, 1, 3, &#39;prof3&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (4, 2, 4, &#39;prof4&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (5, 2, 5, &#39;prof5&#39;);\r\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (6, 3, 6, &#39;prof6&#39;);\r\n```\r\n\r\nAnd, finally, a dummy service to execute the query and print the retrieved data:\r\n\r\n```java\r\n@Stateless\r\n@Path(&quot;&quot;)\r\npublic class Service {\r\n\r\n    private static final Function&lt;RankingAward, JsonObject&gt; RANKINGAWARD2JSON = (RankingAward ra) -&gt; {\r\n        var json = Json.createObjectBuilder()\r\n                .add(&quot;id&quot;, ra.id)\r\n                .add(&quot;rank&quot;, ra.placement)\r\n                .add(&quot;profession&quot;, ra.profession)\r\n                .add(&quot;additionalPlacements&quot;, ra.otherPlacements.stream()\r\n                        .map(ap -&gt; Json.createObjectBuilder()\r\n                                .add(&quot;companyId&quot;, ap.companyId)\r\n                                .add(&quot;rank&quot;, ap.placement)\r\n                                .add(&quot;profession&quot;, ap.profession)\r\n                                .build())\r\n                        .collect(JsonCollectors.toJsonArray()));\r\n\r\n        if (null != ra.companyId) {\r\n            json\r\n                    .add(&quot;companyId&quot;, ra.companyId);\r\n        }\r\n\r\n        return json.build();\r\n    };\r\n    \r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    @POST\r\n    public void execute(@FormParam(&quot;profession&quot;) final String prof) {\r\n        var rs1 = em.createQuery(\r\n                &quot;SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId&quot;,\r\n                RankingAward.class)\r\n                .setParameter(&quot;professionId&quot;, prof)\r\n                .getResultStream()\r\n                .map(RANKINGAWARD2JSON)\r\n                .collect(JsonCollectors.toJsonArray());\r\n\r\n        System.out.println(rs1);\r\n    }\r\n}\r\n```\r\n\r\nThe output in `System.out` (calling the service with form parameter `profession=prof1`):\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;rank&quot;: 1,\r\n        &quot;profession&quot;: &quot;prof1&quot;,\r\n        &quot;additionalPlacements&quot;: [\r\n            {\r\n                &quot;companyId&quot;: 1,\r\n                &quot;rank&quot;: 2,\r\n                &quot;profession&quot;: &quot;prof2&quot;\r\n            },\r\n            {\r\n                &quot;companyId&quot;: 1,\r\n                &quot;rank&quot;: 3,\r\n                &quot;profession&quot;: &quot;prof3&quot;\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nAnd this is all the SQL you have to write: `SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId`. As you can see, it isn&#39;t necessary to write the JOIN clause. The persistence provider derives the JOIN itself following the mapping on `otherPlacements` field. By the way, the query is in JPQL form.\r\n\r\nOPTION 2\r\n--------\r\n\r\nInstead of having a unidirectional relationship from `RankingAward` entity to `AdditionalPlacements` entity, I&#39;d create a bidirectional relationship using a `@ManyToOne` mapping on `AdditionalPlacements` entity.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class RankingAward {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    Integer profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;rankingAward&quot;)\r\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;awards_for_2022&quot;)\r\npublic class AdditionalPlacements {\r\n\r\n    @Id\r\n    int id;\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    String profession;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    RankingAward rankingAward;\r\n}\r\n\r\n```\r\n\r\nSetting the `&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;` property in `persistence.xml` prints the same ddl. This shows that despite the mapping changes, the table structure remains the same.\r\n\r\n```sql\r\ncreate table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\r\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\r\n```\r\n\r\nFrom this point on, the rest is pretty much the same - actually, only a few minor changes in `RANKINGAWARD2JSON` lambda transformation were required.\r\n\r\n---\r\n\r\nSo why change the relationship mapping? In my opinion, having a `RankingAward` reference in `AdditionalPlacements` helps to understand the relation between these entities. In the first option, the `@JoinColumn` mapping on `RankingAward` entity is defining a column name for the `AdditionalPlacements` entity - which is quite counterintuitive.\r\n\r\n\r\nOPTION 3\r\n--------\r\n\r\nInstead of grouping different rows and supposedly different entities in the SQL, how about group by them using Java Collectors?\r\n\r\n```java\r\n@Entity\r\npublic class EntityRecord {\r\n\r\n    @Id\r\n    private int id;\r\n    @Column(name = &quot;rank&quot;)\r\n    private Integer placement;\r\n    @Column(name = &quot;profession_id&quot;)\r\n    private Integer profession;\r\n    @Column(name = &quot;company_id&quot;)\r\n    private Integer companyId;\r\n\r\n    /* getters, setters and constructors */\r\n\r\n}\r\n\r\n@Stateless\r\n@Path(&quot;&quot;)\r\npublic class Service {\r\n\r\n    @PersistenceContext\r\n    EntityManager em;\r\n\r\n    @POST\r\n    @Produces(&quot;application/json&quot;)\r\n    public JsonArray execute() {\r\n        /* You can use whichever query you want here, JPQL, native query, etc */\r\n        return em.createQuery(&quot;SELECT e FROM EntityRecord e&quot;, EntityRecord.class)\r\n                .getResultStream()\r\n                .collect(Collectors.collectingAndThen(\r\n                        Collectors.groupingBy(EntityRecord::companyId), (map) -&gt; {\r\n                            return map.entrySet().stream()\r\n                                    .map(entry -&gt; {\r\n                                        return Json.createObjectBuilder()\r\n                                                .add(&quot;companyId&quot;, entry.getKey())\r\n                                                .add(&quot;placements&quot;, entry.getValue().stream()\r\n                                                        .map(val -&gt; {\r\n                                                            return Json.createObjectBuilder()\r\n                                                                    .add(&quot;id&quot;, val.id())\r\n                                                                    .add(&quot;profession&quot;, val.profession())\r\n                                                                    .add(&quot;rank&quot;, val.rank())\r\n                                                                    .build();\r\n                                                        })\r\n                                                        .collect(JsonCollectors.toJsonArray()))\r\n                                                .build();\r\n                                    })\r\n                                    .collect(JsonCollectors.toJsonArray());\r\n                        }));\r\n        }\r\n}\r\n```\r\n\r\nPopulating the database with the following data sample:\r\n\r\n```sql\r\n-- the same sample you provided, but before flattening the data\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (1, 1, 1, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (2, 2, 1, 10541);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3, 3, 1, 12152);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3310, 20, 26, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4214, 34, 32, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4279, 7, 38, 10344);\r\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4286, 9, 38, 12152);\r\n```\r\n\r\nNow calling the `Service.execute()` method produces the following json:\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;companyId&quot;: 12152,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 3,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 3\r\n            },\r\n            {\r\n                &quot;id&quot;: 4286,\r\n                &quot;profession&quot;: 38,\r\n                &quot;rank&quot;: 9\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;companyId&quot;: 10344,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 1\r\n            },\r\n            {\r\n                &quot;id&quot;: 3310,\r\n                &quot;profession&quot;: 26,\r\n                &quot;rank&quot;: 20\r\n            },\r\n            {\r\n                &quot;id&quot;: 4214,\r\n                &quot;profession&quot;: 32,\r\n                &quot;rank&quot;: 34\r\n            },\r\n            {\r\n                &quot;id&quot;: 4279,\r\n                &quot;profession&quot;: 38,\r\n                &quot;rank&quot;: 7\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;companyId&quot;: 10541,\r\n        &quot;placements&quot;: [\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;profession&quot;: 1,\r\n                &quot;rank&quot;: 2\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n","title":"JPA custom native query with unidirectional @OneToMany / JOIN","body":"<p>Edit:</p>\n<p>I think there's an inconsistency between the entity mappings and the SQL query. The <code>@JoinColumn</code> annotation in the <code>@OneToMany</code> mapping on the <code>RankingAward</code> entity defines <code>company_id</code> on the target entity, <code>AdditionalPlacements</code>, as a <em>foreign key</em> to itself. In other words, <code>AdditionalPlacements.company_id</code> is <em>foreign key</em> to <code>RankingAward.id</code>. That's the relationship that is defined in that mapping.</p>\n<p>But let's put this aside for now. Looking at the table you provided at the end of your answer, the way I see it, admiting both entities map to the same table, there's no way to determine a <code>RankingAward</code> from <code>AdditionalPlacements</code> entities. I mean, they all share the same <code>company_id</code>, but how do you know which row represents a <code>RankingAward</code> entity and which rows represent <code>AdditionalPlacements</code> entities? Maybe you can use aggregates in your SQL, but I don't think they would work for entity mappings.</p>\n<p>A famous example of an entity relating to itself is the employee / manager relationship. But, in this case, the <code>Employee.managerId</code> is foreign key to <code>Employee.id</code>. Therefore there's a way to determine which is which.</p>\n<p><em>How about instead of doing this join in the SQL, you do it using Java Collectors?</em> Option 3 deals with this possibility.</p>\n<hr />\n<h2>OPTION 1</h2>\n<p>Basically, the same mappings you provided.</p>\n<p>Entities classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class RankingAward {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;company_id&quot;)\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\n\n}\n\n@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class AdditionalPlacements {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n}\n</code></pre>\n<p>Setting the <code>&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;</code> property in <code>persistence.xml</code> prints the following output:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\n</code></pre>\n<p>This means that the persistence provider can relate both entities to the same table. I know you're defining the Entity-Table association dynamically. And as I understand it, your problem isn't there, but in the SQL, right?</p>\n<p>So let's load some data for tests:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into awards_for_2022 (id, company_id, rank, profession_id) values (1, null, 1, 'prof1');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (2, 1, 2, 'prof2');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (3, 1, 3, 'prof3');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (4, 2, 4, 'prof4');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (5, 2, 5, 'prof5');\ninsert into awards_for_2022 (id, company_id, rank, profession_id) values (6, 3, 6, 'prof6');\n</code></pre>\n<p>And, finally, a dummy service to execute the query and print the retrieved data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\n@Path(&quot;&quot;)\npublic class Service {\n\n    private static final Function&lt;RankingAward, JsonObject&gt; RANKINGAWARD2JSON = (RankingAward ra) -&gt; {\n        var json = Json.createObjectBuilder()\n                .add(&quot;id&quot;, ra.id)\n                .add(&quot;rank&quot;, ra.placement)\n                .add(&quot;profession&quot;, ra.profession)\n                .add(&quot;additionalPlacements&quot;, ra.otherPlacements.stream()\n                        .map(ap -&gt; Json.createObjectBuilder()\n                                .add(&quot;companyId&quot;, ap.companyId)\n                                .add(&quot;rank&quot;, ap.placement)\n                                .add(&quot;profession&quot;, ap.profession)\n                                .build())\n                        .collect(JsonCollectors.toJsonArray()));\n\n        if (null != ra.companyId) {\n            json\n                    .add(&quot;companyId&quot;, ra.companyId);\n        }\n\n        return json.build();\n    };\n    \n    @PersistenceContext\n    EntityManager em;\n\n    @POST\n    public void execute(@FormParam(&quot;profession&quot;) final String prof) {\n        var rs1 = em.createQuery(\n                &quot;SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId&quot;,\n                RankingAward.class)\n                .setParameter(&quot;professionId&quot;, prof)\n                .getResultStream()\n                .map(RANKINGAWARD2JSON)\n                .collect(JsonCollectors.toJsonArray());\n\n        System.out.println(rs1);\n    }\n}\n</code></pre>\n<p>The output in <code>System.out</code> (calling the service with form parameter <code>profession=prof1</code>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;rank&quot;: 1,\n        &quot;profession&quot;: &quot;prof1&quot;,\n        &quot;additionalPlacements&quot;: [\n            {\n                &quot;companyId&quot;: 1,\n                &quot;rank&quot;: 2,\n                &quot;profession&quot;: &quot;prof2&quot;\n            },\n            {\n                &quot;companyId&quot;: 1,\n                &quot;rank&quot;: 3,\n                &quot;profession&quot;: &quot;prof3&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n<p>And this is all the SQL you have to write: <code>SELECT ra FROM RankingAward ra WHERE ra.profession = :professionId</code>. As you can see, it isn't necessary to write the JOIN clause. The persistence provider derives the JOIN itself following the mapping on <code>otherPlacements</code> field. By the way, the query is in JPQL form.</p>\n<h2>OPTION 2</h2>\n<p>Instead of having a unidirectional relationship from <code>RankingAward</code> entity to <code>AdditionalPlacements</code> entity, I'd create a bidirectional relationship using a <code>@ManyToOne</code> mapping on <code>AdditionalPlacements</code> entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class RankingAward {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    Integer profession;\n    @Column(name = &quot;company_id&quot;)\n    Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;rankingAward&quot;)\n    Set&lt;AdditionalPlacements&gt; otherPlacements;\n}\n\n@Entity\n@Table(name = &quot;awards_for_2022&quot;)\npublic class AdditionalPlacements {\n\n    @Id\n    int id;\n\n    @Column(name = &quot;rank&quot;)\n    Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    String profession;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    RankingAward rankingAward;\n}\n\n</code></pre>\n<p>Setting the <code>&lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;</code> property in <code>persistence.xml</code> prints the same ddl. This shows that despite the mapping changes, the table structure remains the same.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table awards_for_2022 (id integer not null, company_id integer, rank integer, profession_id varchar(255), primary key (id));\nalter table if exists awards_for_2022 add constraint FK37k8ntxpbbreo0txso10y53bw foreign key (company_id) references awards_for_2022;\n</code></pre>\n<p>From this point on, the rest is pretty much the same - actually, only a few minor changes in <code>RANKINGAWARD2JSON</code> lambda transformation were required.</p>\n<hr />\n<p>So why change the relationship mapping? In my opinion, having a <code>RankingAward</code> reference in <code>AdditionalPlacements</code> helps to understand the relation between these entities. In the first option, the <code>@JoinColumn</code> mapping on <code>RankingAward</code> entity is defining a column name for the <code>AdditionalPlacements</code> entity - which is quite counterintuitive.</p>\n<h2>OPTION 3</h2>\n<p>Instead of grouping different rows and supposedly different entities in the SQL, how about group by them using Java Collectors?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class EntityRecord {\n\n    @Id\n    private int id;\n    @Column(name = &quot;rank&quot;)\n    private Integer placement;\n    @Column(name = &quot;profession_id&quot;)\n    private Integer profession;\n    @Column(name = &quot;company_id&quot;)\n    private Integer companyId;\n\n    /* getters, setters and constructors */\n\n}\n\n@Stateless\n@Path(&quot;&quot;)\npublic class Service {\n\n    @PersistenceContext\n    EntityManager em;\n\n    @POST\n    @Produces(&quot;application/json&quot;)\n    public JsonArray execute() {\n        /* You can use whichever query you want here, JPQL, native query, etc */\n        return em.createQuery(&quot;SELECT e FROM EntityRecord e&quot;, EntityRecord.class)\n                .getResultStream()\n                .collect(Collectors.collectingAndThen(\n                        Collectors.groupingBy(EntityRecord::companyId), (map) -&gt; {\n                            return map.entrySet().stream()\n                                    .map(entry -&gt; {\n                                        return Json.createObjectBuilder()\n                                                .add(&quot;companyId&quot;, entry.getKey())\n                                                .add(&quot;placements&quot;, entry.getValue().stream()\n                                                        .map(val -&gt; {\n                                                            return Json.createObjectBuilder()\n                                                                    .add(&quot;id&quot;, val.id())\n                                                                    .add(&quot;profession&quot;, val.profession())\n                                                                    .add(&quot;rank&quot;, val.rank())\n                                                                    .build();\n                                                        })\n                                                        .collect(JsonCollectors.toJsonArray()))\n                                                .build();\n                                    })\n                                    .collect(JsonCollectors.toJsonArray());\n                        }));\n        }\n}\n</code></pre>\n<p>Populating the database with the following data sample:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- the same sample you provided, but before flattening the data\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (1, 1, 1, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (2, 2, 1, 10541);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3, 3, 1, 12152);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (3310, 20, 26, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4214, 34, 32, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4279, 7, 38, 10344);\ninsert into awards_for_2022 (id, rank, profession_id, company_id) values (4286, 9, 38, 12152);\n</code></pre>\n<p>Now calling the <code>Service.execute()</code> method produces the following json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;companyId&quot;: 12152,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 3,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 3\n            },\n            {\n                &quot;id&quot;: 4286,\n                &quot;profession&quot;: 38,\n                &quot;rank&quot;: 9\n            }\n        ]\n    },\n    {\n        &quot;companyId&quot;: 10344,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 1\n            },\n            {\n                &quot;id&quot;: 3310,\n                &quot;profession&quot;: 26,\n                &quot;rank&quot;: 20\n            },\n            {\n                &quot;id&quot;: 4214,\n                &quot;profession&quot;: 32,\n                &quot;rank&quot;: 34\n            },\n            {\n                &quot;id&quot;: 4279,\n                &quot;profession&quot;: 38,\n                &quot;rank&quot;: 7\n            }\n        ]\n    },\n    {\n        &quot;companyId&quot;: 10541,\n        &quot;placements&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;profession&quot;: 1,\n                &quot;rank&quot;: 2\n            }\n        ]\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":18201880,"reputation":11,"user_id":13304494,"display_name":"Hans Maulwurf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679003227,"creation_date":1678709765,"question_id":75721757,"body_markdown":"I am struggeling with the following setup:\r\n\r\n```lang-java\r\n@Entity\r\npublic class RankingAward extends AbstractRelationalModel {\r\n\r\n    [...] // some fields\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    public Integer placement;\r\n\r\n    @Column(name = &quot;profession_id&quot;)\r\n    public String profession;\r\n\r\n    @Column(name = &quot;company_id&quot;)\r\n    public Integer companyId;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    private Set&lt;AdditionalPlacements&gt; otherPlacements;\r\n\r\n    [...] // some more fields\r\n```\r\n```lang-java\r\n@Entity\r\npublic static class AdditionalPlacements {\r\n\r\n    [...] // in fact just a subset of the above fields\r\n          // ideally fetched through a JOIN\r\n\r\n    @Column(name = &quot;rank&quot;)\r\n    public Integer placement;\r\n\r\n    @Column(name = &quot;profession_id&quot;)\r\n    public String profession;\r\n\r\n    @Column(name = &quot;company_id&quot;)\r\n    public Integer companyId;\r\n}\r\n```\r\n\r\nBoth Entities have **no** explicit table-mapping, as the table name is derived **during runtime**.\r\n`RankingAward` and `AdditionalPlacement` are in fact the same table.\r\nI am currently trying to fetch data through `entityManager.createNativeQuery()` in the hope that a JOIN should deliver the subset result for `AdditionalPlacement`.\r\nSo i am basically doing a JOIN to the table itself and would like to have a result like this:\r\n```lang-json\r\n[\r\n  {\r\n    // all fields of RankingAward\r\n    &quot;companyId&quot;: 12345,\r\n    &quot;rank&quot;: 1,\r\n    &quot;profession&quot;: 3\r\n    &quot;additionalPlacements&quot;: [\r\n      {\r\n        // all fields of AdditionalPlacements\r\n        &quot;companyId&quot;: 12345,\r\n        &quot;rank&quot;: 2,\r\n        &quot;profession&quot;: 10\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\nThe custom SQL query looks something like this:\r\n```lang-sql\r\nSELECT a.id, a.`rank`, a.profession_id, a.company_id, \r\n    a2.id, a2.`rank`, a2.profession_id, a2.company_id, \r\nFROM awards_for_2022\r\nLEFT JOIN awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\r\nWHERE a.profession_id = :professionId\r\nORDER BY a.`rank`;\r\n```\r\n\r\nI thought that the JOIN could anyhow be mapped to the `otherPlacements` set, but i am not sure how and what the best solution would be. Should i use JPQL? I think strict JPA annotations can&#39;t work as the table name is kind of *dynamic*.\r\n\r\n\r\nI tried different version of JPA mapping annotations in combination with `@OneToMany`. some resulted in exceptions like `Table &#39;RankingAward$AdditionalPlacements&#39; doesn&#39;t exist`. Before i restructue the database model so that all corresponding tables end up in one table and therefore maybe enable the use of annotations, i wanted to try it via custom SQL.\r\n\r\n\r\nEdit:\r\n\r\nI would like to have this query\r\n```lang-sql\r\nSELECT a.id, a.`rank`, a.profession_id, a.company_id,\r\n       a2.id, a2.`rank`, a2.profession_id, a2.company_id # maybe some group_concat() here?\r\nFROM competitionline.awards_for_2022 a\r\nLEFT JOIN competitionline.awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\r\nWHERE a.profession_id = 1\r\norder by a.`rank`;\r\n```\r\nwith this result:\r\n```lang-sql\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n|id|rank|profession_id|company_id|id  |rank|profession_id|company_id|\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n|1 |1   |1            |10344     |4279|7   |38           |10344     |\r\n|1 |1   |1            |10344     |4214|34  |32           |10344     |\r\n|1 |1   |1            |10344     |3310|20  |26           |10344     |\r\n|2 |2   |1            |10541     |null|null|null         |null      |\r\n|3 |3   |1            |12152     |4286|9   |38           |12152     |\r\n+--+----+-------------+----------+----+----+-------------+----------+\r\n```\r\nto end up in an entity of `RankingAward.java` (==`a`) with a list of `AdditionalPlacements.java` (==`a2`).\r\nThe shown result says that the company with id `10344` has a ranking placement of `1` in the profession category `1` and 3 other ranking placements (`7`, `34`, `20`) in different profession categories (`38`, `32`, `26`).","title":"JPA custom native query with unidirectional @OneToMany / JOIN","body":"<p>I am struggeling with the following setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class RankingAward extends AbstractRelationalModel {\n\n    [...] // some fields\n\n    @Column(name = &quot;rank&quot;)\n    public Integer placement;\n\n    @Column(name = &quot;profession_id&quot;)\n    public String profession;\n\n    @Column(name = &quot;company_id&quot;)\n    public Integer companyId;\n\n    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Set&lt;AdditionalPlacements&gt; otherPlacements;\n\n    [...] // some more fields\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic static class AdditionalPlacements {\n\n    [...] // in fact just a subset of the above fields\n          // ideally fetched through a JOIN\n\n    @Column(name = &quot;rank&quot;)\n    public Integer placement;\n\n    @Column(name = &quot;profession_id&quot;)\n    public String profession;\n\n    @Column(name = &quot;company_id&quot;)\n    public Integer companyId;\n}\n</code></pre>\n<p>Both Entities have <strong>no</strong> explicit table-mapping, as the table name is derived <strong>during runtime</strong>.\n<code>RankingAward</code> and <code>AdditionalPlacement</code> are in fact the same table.\nI am currently trying to fetch data through <code>entityManager.createNativeQuery()</code> in the hope that a JOIN should deliver the subset result for <code>AdditionalPlacement</code>.\nSo i am basically doing a JOIN to the table itself and would like to have a result like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    // all fields of RankingAward\n    &quot;companyId&quot;: 12345,\n    &quot;rank&quot;: 1,\n    &quot;profession&quot;: 3\n    &quot;additionalPlacements&quot;: [\n      {\n        // all fields of AdditionalPlacements\n        &quot;companyId&quot;: 12345,\n        &quot;rank&quot;: 2,\n        &quot;profession&quot;: 10\n      }\n    ]\n  }\n]\n</code></pre>\n<p>The custom SQL query looks something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.`rank`, a.profession_id, a.company_id, \n    a2.id, a2.`rank`, a2.profession_id, a2.company_id, \nFROM awards_for_2022\nLEFT JOIN awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\nWHERE a.profession_id = :professionId\nORDER BY a.`rank`;\n</code></pre>\n<p>I thought that the JOIN could anyhow be mapped to the <code>otherPlacements</code> set, but i am not sure how and what the best solution would be. Should i use JPQL? I think strict JPA annotations can't work as the table name is kind of <em>dynamic</em>.</p>\n<p>I tried different version of JPA mapping annotations in combination with <code>@OneToMany</code>. some resulted in exceptions like <code>Table 'RankingAward$AdditionalPlacements' doesn't exist</code>. Before i restructue the database model so that all corresponding tables end up in one table and therefore maybe enable the use of annotations, i wanted to try it via custom SQL.</p>\n<p>Edit:</p>\n<p>I would like to have this query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.`rank`, a.profession_id, a.company_id,\n       a2.id, a2.`rank`, a2.profession_id, a2.company_id # maybe some group_concat() here?\nFROM competitionline.awards_for_2022 a\nLEFT JOIN competitionline.awards_for_2022 a2 on a.company_id = a2.company_id and a2.id != a.id\nWHERE a.profession_id = 1\norder by a.`rank`;\n</code></pre>\n<p>with this result:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>+--+----+-------------+----------+----+----+-------------+----------+\n|id|rank|profession_id|company_id|id  |rank|profession_id|company_id|\n+--+----+-------------+----------+----+----+-------------+----------+\n|1 |1   |1            |10344     |4279|7   |38           |10344     |\n|1 |1   |1            |10344     |4214|34  |32           |10344     |\n|1 |1   |1            |10344     |3310|20  |26           |10344     |\n|2 |2   |1            |10541     |null|null|null         |null      |\n|3 |3   |1            |12152     |4286|9   |38           |12152     |\n+--+----+-------------+----------+----+----+-------------+----------+\n</code></pre>\n<p>to end up in an entity of <code>RankingAward.java</code> (==<code>a</code>) with a list of <code>AdditionalPlacements.java</code> (==<code>a2</code>).\nThe shown result says that the company with id <code>10344</code> has a ranking placement of <code>1</code> in the profession category <code>1</code> and 3 other ranking placements (<code>7</code>, <code>34</code>, <code>20</code>) in different profession categories (<code>38</code>, <code>32</code>, <code>26</code>).</p>\n"},{"tags":["java","sockets","serversocket"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1559416724,"post_id":56408586,"comment_id":99416591,"body_markdown":"It is normal to keep the socket open until you are finished with it, and then close it.","body":"It is normal to keep the socket open until you are finished with it, and then close it."}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679003074,"creation_date":1559407794,"answer_id":56408644,"question_id":56408586,"body_markdown":"That strongly depends on how frequently the socket is used.\r\n\r\nE.g. if you know that the client will send a request to the server every 50 milliseconds it would be easier to just keep the socket opened.\r\n\r\nBut if you know the client will only request information from the socket every 5 minutes it&#39;s probably better to close the connection and create a new one when needed. Same if you don&#39;t know when the next request will be created.\r\n\r\nCreating a new Socket on server-side is not very expensive, so it&#39;s probably better to just close the connection if it&#39;s not used very frequently.\r\n\r\nAn exception could be a special socket, that needs authentication or other expensive stuff on creation, but that&#39;s probably not the case in a school project.\r\n\r\nSo in general: It depends on the usage of the socket, but if you&#39;re unsure whether it&#39;s used very frequently or not better close it and open it again when needed.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>That strongly depends on how frequently the socket is used.</p>\n<p>E.g. if you know that the client will send a request to the server every 50 milliseconds it would be easier to just keep the socket opened.</p>\n<p>But if you know the client will only request information from the socket every 5 minutes it's probably better to close the connection and create a new one when needed. Same if you don't know when the next request will be created.</p>\n<p>Creating a new Socket on server-side is not very expensive, so it's probably better to just close the connection if it's not used very frequently.</p>\n<p>An exception could be a special socket, that needs authentication or other expensive stuff on creation, but that's probably not the case in a school project.</p>\n<p>So in general: It depends on the usage of the socket, but if you're unsure whether it's used very frequently or not better close it and open it again when needed.</p>\n"},{"tags":[],"owner":{"account_id":7423123,"reputation":275,"user_id":5646662,"display_name":"Cara Ames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559408031,"creation_date":1559408031,"answer_id":56408672,"question_id":56408586,"body_markdown":"Related to this question:\r\n\r\nhttps://stackoverflow.com/questions/2185834/maximum-number-of-socket-in-java\r\n\r\nIf you&#39;re worried about exceeding the maximum number of sockets that can be opened (I imagine this is highly unlikely in your case) you can create a work-around where you use TCP to initially establish the connection, send the client a UID (Unique Identifier, a 64-bit `unsigned long long` type should be sufficient) and then close the TCP connection. Fill and maintain a structure (or Class object in your case) detailing the connection details (IP address, Unique Identifier code) and then wait on arriving packets sent via UDP (User Datagram Protocol, an alternative to TCP). If you decide to use UDP, be aware that you&#39;ll need to implement a means of reordering packets in order to reconstruct a byte-stream (serialisation) and a mechanism for resending data packets if somehow they do not arrive (packet loss recovery).\r\n\r\nSounds worse than it is. I&#39;ll repeat though, don&#39;t bother yourself with these intricacies if you&#39;re not worried about exceeding any limits.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>Related to this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2185834/maximum-number-of-socket-in-java\">Maximum number of socket in java</a></p>\n\n<p>If you're worried about exceeding the maximum number of sockets that can be opened (I imagine this is highly unlikely in your case) you can create a work-around where you use TCP to initially establish the connection, send the client a UID (Unique Identifier, a 64-bit <code>unsigned long long</code> type should be sufficient) and then close the TCP connection. Fill and maintain a structure (or Class object in your case) detailing the connection details (IP address, Unique Identifier code) and then wait on arriving packets sent via UDP (User Datagram Protocol, an alternative to TCP). If you decide to use UDP, be aware that you'll need to implement a means of reordering packets in order to reconstruct a byte-stream (serialisation) and a mechanism for resending data packets if somehow they do not arrive (packet loss recovery).</p>\n\n<p>Sounds worse than it is. I'll repeat though, don't bother yourself with these intricacies if you're not worried about exceeding any limits.</p>\n"}],"owner":{"account_id":11041792,"reputation":394,"user_id":8109416,"display_name":"Matthias Hofmarcher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56408644,"answer_count":2,"score":0,"last_activity_date":1679003074,"creation_date":1559407227,"question_id":56408586,"body_markdown":"So i am quite new to Sockets and I have to create a Server-Client-App for school.\r\n\r\nI expect a client to request something from the server multiple times during his runtime.\r\n\r\n\r\nI am uncertain wether I should make a new java.net.Socket for every Request I get (Client opens new socket every time and Java Serversocket accepts)\r\nor use a single socket and keep that during the client&#39;s runtime.","title":"Use Socket permantently to handle Clientsession or create new one for every request","body":"<p>So i am quite new to Sockets and I have to create a Server-Client-App for school.</p>\n\n<p>I expect a client to request something from the server multiple times during his runtime.</p>\n\n<p>I am uncertain wether I should make a new java.net.Socket for every Request I get (Client opens new socket every time and Java Serversocket accepts)\nor use a single socket and keep that during the client's runtime.</p>\n"},{"tags":["java","tcp","udp"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679008996,"post_id":75761891,"comment_id":133648698,"body_markdown":"I&#39;m not going to read through your code dump, especially as you haven&#39;t formatted it, but it may be useful to know that if you write the same object twice to an ObjectOutputStream, the fields of the object are only written the first time, subsequently a reference to the first object is written. See the javadoc for `writeObject` and `reset`.","body":"I&#39;m not going to read through your code dump, especially as you haven&#39;t formatted it, but it may be useful to know that if you write the same object twice to an ObjectOutputStream, the fields of the object are only written the first time, subsequently a reference to the first object is written. See the javadoc for <code>writeObject</code> and <code>reset</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679064464,"post_id":75761891,"comment_id":133659028,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28036679,"reputation":1,"user_id":21414954,"display_name":"Dexter2587"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679002952,"creation_date":1679002952,"question_id":75761891,"body_markdown":"The receiver will receive files via both TCP and UDP to the receiver.\r\n\r\nThe file storage location can be chosen by the receiver.\r\n\r\n\\*If the incoming data is larger than the buffer size, the data is received in -multiple packets, and each packet is stored in the buffer one after the other.\r\n\r\n@sources\r\n\r\n\\*/\r\n\r\nimport java.io.\\*; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.InetAddress; import java.net.ServerSocket; import java.net.Socket; import java.nio.file.Files; import java.util.ArrayList; import java.util.Arrays; import java.util.Comparator; import java.util.HashMap; import java.util.Map; import java.util.TreeMap; import java.util.Map.Entry;\r\n\r\n/\\*TODO \\*measure incoming packet percentage, but need tcp implemented \\*process data received\r\n\r\n\\-API call to receive file location where to save\r\n\r\n\\*/ public class Receiver {\r\n\r\nprivate DatagramSocket socket; private byte\\[\\] buffer; private int bufferSize; private int port; private long totalBytesReceived; private long totalfilesize; private String filelocation; private boolean connected; private boolean connected1; int r; private Socket tcpSocket; private ObjectInputStream in; private ObjectOutputStream out; private InetAddress addr; private int udpPort; private int tcpPort; Boolean missingpackets; ServerSocket serverSocket; ByteArrayInputStream inStream; ObjectInputStream objInStream; private File f; DatagramPacket packet; numberedPacket receivedNumberedPacket; int length, burstCounter, packetSize, k; ArrayList\\&lt;Integer\\&gt; packetNumbers = new ArrayList\\&lt;Integer\\&gt;(); ArrayList\\&lt;Integer\\&gt; packetnumbersreceived = new ArrayList\\&lt;Integer\\&gt;();\r\n\r\n// buffer size is fixed size of packet // burst size is number of packets sent in burst public Receiver(int tcpPort, int udpPort) throws Exception { this.tcpPort = tcpPort; this.socket = new DatagramSocket(udpPort); // this.buffer = new byte\\[bufferSize\\]; this.connected = false;\r\n\r\n}\r\n\r\n// Not using anymore // public void receive() throws Exception { // DatagramPacket packet = new DatagramPacket(buffer, bufferSize); // socket.receive(packet);\r\n\r\n// // Process received packet // byte\\[\\] data = packet.getData(); // int offset = packet.getOffset(); // int length = packet.getLength(); // InetAddress address = packet.getAddress(); // int port = packet.getPort(); // long percentageloaded = 0; // // work out percentage of file received // percentageloaded = totalBytesReceived / totalfilesize; // updateGUI(percentageloaded); // // Print packet information // System.out.println(&quot;Received packet:&quot;); // System.out.println(&quot;Address: &quot; + address.getHostAddress()); // System.out.println(&quot;Port: &quot; + port); // System.out.println(&quot;Data: &quot; + new String(data, offset, length)); // System.out.println(&quot;Percentage of file received:&quot; + percentageloaded); // }\r\n\r\npublic boolean connect() {\r\n\r\n```\r\ntry {\r\n\t// Creating a server socket and binding it to the port\r\n\tserverSocket = new ServerSocket(tcpPort);\r\n\t// Waiting for a client to connect\r\n\tSystem.out.println(&quot;Waiting for client on port &quot; + serverSocket.getLocalPort() + &quot;...&quot;);\r\n\tSocket serverClientSocket = serverSocket.accept();\r\n\tSystem.out.println(&quot;Connected to client &quot; + serverClientSocket.getRemoteSocketAddress());\r\n\r\n\t// tcpSocket = new Socket(&quot;localhost&quot;, tcpPort);\r\n\t// udpSocket = new DatagramSocket();\r\n\t// initialise all sockets\r\n\tout = new ObjectOutputStream(serverClientSocket.getOutputStream());\r\n\tin = new ObjectInputStream(serverClientSocket.getInputStream());\r\n\tconnected = true;\r\n} catch (Exception e) {\r\n\t// System.err.println(&quot;Error connecting to &quot; + addr + &quot;:&quot; + tcpPort);\r\n\te.printStackTrace();\r\n\tSystem.exit(0);\r\n}\r\n\r\nreturn connected;\r\n```\r\n\r\n}\r\n\r\npublic void createFile1(String serverRoute) { try { // fileName must be an api call returning value String fileName; fileName = &quot;test.txt&quot;; System.out.println(&quot;Creating file&quot;); f = new File(serverRoute + &quot;\\\\&quot; + fileName); // Creating the file FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream\r\n\r\n```\r\n\treceiveFile(serverRoute);\r\n} catch (Exception ex) {\r\n\tex.printStackTrace();\r\n\tSystem.exit(1);\r\n}\r\n```\r\n\r\n}\r\n\r\npublic void testBlocker(String path) throws Exception { // while (true) { TransferInfo infoIn = new TransferInfo(); infoIn = (TransferInfo) in.readObject(); // if (infoIn == null) receiveFile(path); // } }\r\n\r\nprivate FileOutputStream createFile(String fullPath) throws FileNotFoundException {\r\n\r\n```\r\nSystem.out.println(&quot;Creating file&quot;);\r\nf = new File(fullPath); // Creating the file\r\nreturn new FileOutputStream(f); // Creating the stream through which we write the file\r\n```\r\n\r\n}\r\n\r\n// TODO public static void updateGUI(double percentageloaded) { // must update gui whenever percentage of packet changes // do something with percentage return; }\r\n\r\n// receive file object public void receiveFile(String path) throws IOException, ClassNotFoundException { System.out.println(&quot;Receiving file&quot;);\r\n\r\n```\r\nMap&lt;Integer, byte[]&gt; packetMap = new HashMap&lt;&gt;();\r\n// Map&lt;Integer, Entry&lt;Action, Boolean&gt;&gt; actionMap = new HashMap&lt;String,\r\n// Entry&lt;Action, Boolean&gt;&gt;();\r\n\r\n// ArrayList&lt;Integer&gt; packetnumbersNotreceived = new ArrayList&lt;Integer&gt;();\r\nTransferInfo infoIn = new TransferInfo();\r\nTransferInfo infoOut = new TransferInfo();\r\nmissingpackets = false;\r\nint burstSize = 0, numpack = 0;\r\ndouble percentage = 0;\r\nString filename = &quot;&quot;;\r\ntotalfilesize = 0;\r\n\r\nburstCounter = 0;\r\npacketSize = 0;\r\n// receive first tcp here with vital info\r\nSystem.out.println(&quot;before first tcp&quot;);\r\ntry {\r\n\t\r\n\t\tinfoIn = (TransferInfo) in.readObject();\r\n\r\n\t\r\n\tpacketNumbers = infoIn.getPacketList();\r\n\t// totalNumPackets = packetNumbers.size();\r\n\ttotalfilesize = infoIn.getFileSize();\r\n\tburstSize = infoIn.getBurstSize();\r\n\tfilename = infoIn.getFileName();\r\n\tpacketSize = infoIn.getPacketSize();\r\n\t// buffer = new byte[packetSize];\r\n\t// numpack = infoIn.getPacketList().size();\r\n\tSystem.out.println(&quot;packet num: &quot; + packetNumbers + &quot; totalfilesize : &quot; + totalfilesize + &quot; burstSize : &quot;\r\n\t\t\t+ burstSize + &quot; &quot; + &quot;filename: &quot; + filename);\r\n} catch (Exception e) {\r\n\t// TODO: handle exception\r\n}\r\n\r\npacketNumbers = infoIn.getPacketList();\r\n\r\n// totalNumPackets = packetNumbers.size();\r\n// totalfilesize = infoIn.getFileSize();\r\n// burstSize = infoIn.getBurstSize();\r\n// filename = infoIn.getFileName();\r\n// packetSize = infoIn.getPacketSize();\r\n// buffer = new byte[packetSize];\r\n// numpack = infoIn.getPacketList().size();\r\n\r\n// Creates a new file with the filename at the specific path.\r\nFileOutputStream outToFile = createFile(path + &quot;\\\\&quot; + infoIn.getFileName());\r\n\r\nSystem.out.println(&quot;after first tcp&quot;);\r\n\r\nif (infoIn.isTcp) {\r\n\tSystem.out.println(&quot;Receiving from TCp&quot;);\r\n\r\n\tObjectInputStream ois = in;\r\n\tbyte[] content = (byte[]) ois.readObject();\r\n\tFiles.write(f.toPath(), content);\r\n} else { // UDP Transfer\r\n\t// serverSocket.close();\r\n\t// connected = false;\r\n\tSystem.out.println(&quot;Receiving from UDP&quot;);\r\n\t// FileLength is total file size received from tcp\r\n\r\n\twhile (totalBytesReceived &lt; totalfilesize) {\r\n\r\n\t\tThread tcpThread = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// r = 0;\r\n\t\t\t\t// problem receiving multiple different tcp\r\n\t\t\t\ttry {\r\n\t\t\t\t\tTransferInfo infoIn1 = new TransferInfo();\r\n\t\t\t\t\tTransferInfo infoOut2 = new TransferInfo();\r\n\t\t\t\t\tsynchronized (in) {\r\n\t\t\t\t\tinfoIn1 = (TransferInfo) in.readObject();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpacketNumbers = infoIn1.getPacketList();\r\n\t\t\t\t\tconnected1 = true;\r\n\t\t\t\t\t// System.out.println(&quot;tcp received&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;num times: &quot; + k);\r\n```\r\n\r\nSystem.out.println(&quot;arraylist of packets that I should have receivedtest: &quot; +infoIn1.getPacketList()); k++;\r\n\r\n```\r\n// give the inverse of the list received essentially\r\n// this returns an arraylist with packets still needed\r\n// packetNumbers is whats sent by Sender\r\n// packetnumbersreceived is what user has received\r\n\t\tfor (int i = 0; i &lt; packetNumbers.size(); i++) {\r\n\t\tint element = packetNumbers.get(i);\r\n\r\n\t\tif (!packetnumbersreceived.contains(element)) {\r\n\t\tinfoOut2.addPacket(element);\r\n\t\tSystem.out.println(&quot;this packet is missing&quot; + element);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;\\n\\nleaving loop&quot;);\r\n\r\n\t\t\t\t\t// if packets missing set boolean\r\n\r\n\tmissingpackets = !infoOut2.getPacketList().isEmpty();\r\nSystem.out.println(&quot;these packet are missing now\\n&quot; + infoOut2.getPacketList());\r\n\r\n// communicate with sender regarding potential missing packets\r\n// no problem sending multiple tcp and is received by sender\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.out.println(&quot;r: &quot; + r);\r\n\t\t\t\t\t\tinfoOut2.addPacket(r);\r\n\t\t\t\t\t\tout.writeObject(infoOut2);\r\n\t\t\t\t\t\tr++;\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\nsending TCP\\n&quot;);\r\n\t\t\t\t\t\t// Thread.sleep(10000000);\r\n\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// receive all missing packets before continuing\r\n\t\t\t\t\twhile (missingpackets) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\npackets are missing!!!\\n&quot;);\r\ntry {\r\n```\r\n\r\n// plus 80 (exactly) needed to contain data and wrapper in packet buffer = new byte\\[packetSize + 94\\]; packet = new DatagramPacket(buffer, buffer.length); socket.receive(packet);\r\n\r\n```\r\n\t\tbyte[] receivedData = packet.getData();\r\n\t\tinStream = new ByteArrayInputStream(receivedData);\r\n\t\t// will prob cause issues with mult objinputstr\r\n\t\tobjInStream = new ObjectInputStream(inStream);\r\n\t\treceivedNumberedPacket = (numberedPacket) objInStream.readObject();\r\n\t\t\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t// socket.receive(packet);\r\n\t\t\tlength = receivedNumberedPacket.getData().length;\r\n\t\t\ttotalBytesReceived += length;\r\n\t\t\tburstCounter++;\r\n\t\t\t\t\t\tpacketnumbersreceived.add(receivedNumberedPacket.getId());\r\n\t\t\t\t\t\tpacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\r\n\r\n\t\t\t\t\t\t// listen for packets that are sent\r\n\t\t\t\ttry {\r\n\t\t\t\tsynchronized (in) {\r\n\t\t\tinfoIn1 (TransferInfo) in.readObject();\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\tpacketNumbers = infoIn1.getPacketList();\r\n\t\t\t\t\t\t} catch (ClassNotFoundException e) {\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\n// TODO Auto-generated catch block e.printStackTrace(); }\r\n\r\n```\r\n\tfor (int i = 0; i &lt; packetNumbers.size(); i++) {\r\n\t\tint element = packetNumbers.get(i);\r\n\tif (!packetnumbersreceived.contains(element)) {\r\n\tinfoOut.addPacket(element);\r\n\t\t\t\t\t\t\t}\r\n\ttry {\r\n\t\tout.writeObject(infoOut);\r\n\t\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t\tSystem.exit(0);\r\n\t\t\t\t\t\t\t}\r\n// if all missing packets received break out\r\n\tif (infoOut.getPacketList().isEmpty()) {\r\n\t\tmissingpackets = false;\r\n\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\tSystem.out.println(&quot;support: &quot; + in.markSupported());\r\n\r\n\t\t\t\t} catch (EOFException e) {\r\n\t\t\t\t\t// Handle the end of the stream\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tin.close();\r\n\t\t\t\t\t} catch (IOException ioException) {\r\n\t\t\t\t\t\tioException.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// ...\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// Handle the IO error\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\t// Handle the class not found error\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// System.out.println(&quot;end of thread&quot;);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\t// try {\r\n\t\t// Thread.sleep(50);\r\n\t\t// } catch (InterruptedException e) {\r\n\t\t// // TODO Auto-generated catch block\r\n\t\t// e.printStackTrace();\r\n\t\t// }\r\n\t\tSystem.out.println(&quot;listening for packets&quot;);\r\n\t\t// Receive packet and retrieve the data\r\n\t\t// System.out.println(&quot;\\ntest before&quot;);\r\n\t\tbyte[] buffer = new byte[packetSize + 94];\r\n\t\t// Arrays.fill(buffer, (byte) 0);\r\n\t\tpacket = new DatagramPacket(buffer, packetSize);\r\n\t\t// socket.receive(packet);\r\n\r\n\t\t// === modified ChatGPT code ==========\r\n\t\ttry {\r\n\t\t\t// System.out.println(&quot;Packet Size: &quot; + packetSize);\r\n\t\t// plus 80 (exactly) needed to contain data and wrapper in packet\r\n\t\t\tpacket = new DatagramPacket(buffer, buffer.length);\r\n\t\t\t// Arrays.fill(buffer, (byte) 0);\r\n\r\n\t\t\tsocket.receive(packet);\r\n\r\n\t\t\tSystem.out.println(&quot;packetlength: &quot; + packet.getLength());\r\n\r\n\t\t\tbyte[] receivedData = packet.getData();\r\n\tByteArrayInputStream inStream = new ByteArrayInputStream(receivedData);\r\n\r\n\t\t\tobjInStream = new ObjectInputStream(inStream);\r\n\treceivedNumberedPacket = (numberedPacket) objInStream.readObject();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\t// === modified ChatGPT code end =====\r\n\r\n\t\tburstCounter++;\r\n\t\t// packetnumbersreceived.add(packet.getOffset());\r\n\t\t\r\n\t\tpacketnumbersreceived.add(receivedNumberedPacket.getId());\r\n\t\t\r\n// System.out.println(&quot;ArrayList packetId received&quot; + packetnumbersreceived);\r\n\r\n\t\t// packetMap.put(packet.getOffset(), packet);\r\n\t\tif (receivedNumberedPacket.getId() == 9) {\r\n\t\t\tpacketnumbersreceived.remove(7);\r\n\t\t}\r\npacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\r\n\r\n\t\tlength = receivedNumberedPacket.getData().length;\r\n\t\t// int length1 = receivedNumberedPacket.getData().length;\r\n\t\ttotalBytesReceived += (long) length;\r\n\t\tSystem.out.println(&quot;in main loop for receiving &quot; + totalBytesReceived + &quot; sizetotal &quot; + totalfilesize);\r\n\t\tpercentage = (double) totalBytesReceived / totalfilesize * 100;\r\n\t\tif (percentage &gt; 100) {\r\n\t\t\tpercentage = 100;\r\n\t\t}\r\n\t\tupdateGUI(percentage);\r\n\t\tSystem.out.println(&quot;percentage received &quot; + (int) percentage);\r\n\t\t// receive another tcp then compare what i have to what i need\r\n\t\tSystem.out.println(&quot;burst counter \\n &quot; + (burstCounter - 1));\r\n\t\ttcpThread.start();\r\n\r\n\t\tif (connected1) {\r\n\t\t\tSystem.out.println(&quot;tcps file received&quot;);\r\n\t\t\t// TransferInfo infoIn1 = new TransferInfo();\r\n\t\t\t// infoIn1 = (TransferInfo) in.readObject();\r\n```\r\n\r\nSystem.out.println(&quot;arraylist of packets that I should have received in connected1: &quot; + infoIn.getPacketList()); // TCP has been received, wait for it to finish before continuing to receive // datagram packets // try { // tcpThread.join(); // } catch (InterruptedException e) { // e.printStackTrace(); // } } // tcpThread.interrupt();\r\n\r\n```\r\n\t\tif (totalBytesReceived &gt;= totalfilesize)\r\n\t\t\ttcpThread.interrupt();\r\n\r\n\t}\r\n}\r\nSystem.out.println(&quot;\\nfinished&quot;);\r\n// ChatGPT inspired, sorts all hashmap values regarding smallest packetid to\r\n// largest, then writes to file. This is necessary if packets order is messed up\r\n// Create a custom comparator to sort the HashMap by the offset value of the\r\n// DatagramPacket\r\nComparator&lt;Integer&gt; offsetComparator = new Comparator&lt;Integer&gt;() {\r\n\r\n\tpublic int compare(Integer key1, Integer key2) {\r\n\t\treturn key1.compareTo(key2);\r\n\t}\r\n};\r\n\r\n// Create a TreeMap with the custom comparator to sort the HashMap by offset\r\n// value\r\nMap&lt;Integer, byte[]&gt; sortedPacketMap = new TreeMap&lt;Integer, byte[]&gt;(\r\n\t\toffsetComparator);\r\nsortedPacketMap.putAll(packetMap);\r\n\r\n// Loop through the sorted TreeMap and write the data to file\r\nfor (Map.Entry&lt;Integer, byte[]&gt; entry : sortedPacketMap.entrySet()) {\r\n\r\n\t// DatagramPacket value = entry.getValue();\r\n\toutToFile.write(entry.getValue());\r\n}\r\n// socket.close();\r\noutToFile.close();\r\n// System.exit(0);\r\n```\r\n\r\n}\r\n\r\npublic static void updateGUI1(double percentageLoaded) { // must update gui whenever percentage of packet changes // do something with percentage // SenderGUIControl.updateProgressBar(percentageLoaded, bar, // senderLanding_pane); return; }\r\n\r\npublic static void main(String\\[\\] args) { String receiverAddress = &quot;localhost&quot;; int receiverUDPPort = 1234; int receiverTCPPort = 5678; try { Receiver test = new Receiver(receiverTCPPort, receiverUDPPort); test.connect();\r\n\r\n```\r\n\ttest.createFile1(receiverAddress);\r\n} catch (Exception e) {\r\n\t// TODO Auto-generated catch block\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\n}\r\n\r\n} \\` This is the receiver class of a program that transfers udp files with tcp signalling. My current implementation is that the sender has a burst size of number of packets that they send, once they reach the burst size they must send a tcp (using TransferInfo object) to the receiver with an arraylist of packet numbers that should have been received, the receiver then sends a tcp back to to the sender with an arraylist of packetnumbers that they didnt receive but should have, if there are missing packets, they are resent and the process continues until all packages are receieved succesfully. Basically the burst size is used to signify how often missing packages should be looked for.\r\n\r\nThis program works when all packets are received succesfully, however the TCP that the receiver receives gets the first arraylist of packet numbers succesfully but subsequent TCP TransferInfoObjects are all the same.\r\n\r\nsynchronized (in) { infoIn1 = (TransferInfo) in.readObject(); } This works correctly when the burst size is first reached, the arraylist of packets received if the burst size is 3 would be Arraylist(1,2,3) but lets say I send 9 packets and the burst size is reached 3 times, I receive the same Arraylist(1,2,3) every burst size reached, when it should be Arraylist(1,2,3) iteration 1, Arraylist(1,2,3,4,5,6) iteration 2, Arraylist(1,2,3,4,5,6,7,8,9) iteration 3. Why is infoIn1 = (TransferInfo) in.readObject(); reading in the same object and not receiving the new object correctly, I&#39;ve checked sender side and it does send the correct packetnumbers via tcp theyre just no received. Please Help.TransferInfo infoOut1 = new TransferInfo(); //add packet to arraylist to send, would add 1 to arraylist for eg infoOut1.addPacket(1);\r\n\r\n```\r\n                System.out.println(&quot;packets sent &quot; + infoOut1.getPacketList());\r\n                out.writeObject(infoOut1);\r\n\r\n                out.flush();`\r\n```","title":"In.readObject continues reading in same object when a new object is received","body":"<p>The receiver will receive files via both TCP and UDP to the receiver.</p>\n<p>The file storage location can be chosen by the receiver.</p>\n<p>*If the incoming data is larger than the buffer size, the data is received in -multiple packets, and each packet is stored in the buffer one after the other.</p>\n<p>@sources</p>\n<p>*/</p>\n<p>import java.io.*; import java.net.DatagramPacket; import java.net.DatagramSocket; import java.net.InetAddress; import java.net.ServerSocket; import java.net.Socket; import java.nio.file.Files; import java.util.ArrayList; import java.util.Arrays; import java.util.Comparator; import java.util.HashMap; import java.util.Map; import java.util.TreeMap; import java.util.Map.Entry;</p>\n<p>/*TODO *measure incoming packet percentage, but need tcp implemented *process data received</p>\n<p>-API call to receive file location where to save</p>\n<p>*/ public class Receiver {</p>\n<p>private DatagramSocket socket; private byte[] buffer; private int bufferSize; private int port; private long totalBytesReceived; private long totalfilesize; private String filelocation; private boolean connected; private boolean connected1; int r; private Socket tcpSocket; private ObjectInputStream in; private ObjectOutputStream out; private InetAddress addr; private int udpPort; private int tcpPort; Boolean missingpackets; ServerSocket serverSocket; ByteArrayInputStream inStream; ObjectInputStream objInStream; private File f; DatagramPacket packet; numberedPacket receivedNumberedPacket; int length, burstCounter, packetSize, k; ArrayList&lt;Integer&gt; packetNumbers = new ArrayList&lt;Integer&gt;(); ArrayList&lt;Integer&gt; packetnumbersreceived = new ArrayList&lt;Integer&gt;();</p>\n<p>// buffer size is fixed size of packet // burst size is number of packets sent in burst public Receiver(int tcpPort, int udpPort) throws Exception { this.tcpPort = tcpPort; this.socket = new DatagramSocket(udpPort); // this.buffer = new byte[bufferSize]; this.connected = false;</p>\n<p>}</p>\n<p>// Not using anymore // public void receive() throws Exception { // DatagramPacket packet = new DatagramPacket(buffer, bufferSize); // socket.receive(packet);</p>\n<p>// // Process received packet // byte[] data = packet.getData(); // int offset = packet.getOffset(); // int length = packet.getLength(); // InetAddress address = packet.getAddress(); // int port = packet.getPort(); // long percentageloaded = 0; // // work out percentage of file received // percentageloaded = totalBytesReceived / totalfilesize; // updateGUI(percentageloaded); // // Print packet information // System.out.println(&quot;Received packet:&quot;); // System.out.println(&quot;Address: &quot; + address.getHostAddress()); // System.out.println(&quot;Port: &quot; + port); // System.out.println(&quot;Data: &quot; + new String(data, offset, length)); // System.out.println(&quot;Percentage of file received:&quot; + percentageloaded); // }</p>\n<p>public boolean connect() {</p>\n<pre><code>try {\n    // Creating a server socket and binding it to the port\n    serverSocket = new ServerSocket(tcpPort);\n    // Waiting for a client to connect\n    System.out.println(&quot;Waiting for client on port &quot; + serverSocket.getLocalPort() + &quot;...&quot;);\n    Socket serverClientSocket = serverSocket.accept();\n    System.out.println(&quot;Connected to client &quot; + serverClientSocket.getRemoteSocketAddress());\n\n    // tcpSocket = new Socket(&quot;localhost&quot;, tcpPort);\n    // udpSocket = new DatagramSocket();\n    // initialise all sockets\n    out = new ObjectOutputStream(serverClientSocket.getOutputStream());\n    in = new ObjectInputStream(serverClientSocket.getInputStream());\n    connected = true;\n} catch (Exception e) {\n    // System.err.println(&quot;Error connecting to &quot; + addr + &quot;:&quot; + tcpPort);\n    e.printStackTrace();\n    System.exit(0);\n}\n\nreturn connected;\n</code></pre>\n<p>}</p>\n<p>public void createFile1(String serverRoute) { try { // fileName must be an api call returning value String fileName; fileName = &quot;test.txt&quot;; System.out.println(&quot;Creating file&quot;); f = new File(serverRoute + &quot;\\&quot; + fileName); // Creating the file FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream</p>\n<pre><code>    receiveFile(serverRoute);\n} catch (Exception ex) {\n    ex.printStackTrace();\n    System.exit(1);\n}\n</code></pre>\n<p>}</p>\n<p>public void testBlocker(String path) throws Exception { // while (true) { TransferInfo infoIn = new TransferInfo(); infoIn = (TransferInfo) in.readObject(); // if (infoIn == null) receiveFile(path); // } }</p>\n<p>private FileOutputStream createFile(String fullPath) throws FileNotFoundException {</p>\n<pre><code>System.out.println(&quot;Creating file&quot;);\nf = new File(fullPath); // Creating the file\nreturn new FileOutputStream(f); // Creating the stream through which we write the file\n</code></pre>\n<p>}</p>\n<p>// TODO public static void updateGUI(double percentageloaded) { // must update gui whenever percentage of packet changes // do something with percentage return; }</p>\n<p>// receive file object public void receiveFile(String path) throws IOException, ClassNotFoundException { System.out.println(&quot;Receiving file&quot;);</p>\n<pre><code>Map&lt;Integer, byte[]&gt; packetMap = new HashMap&lt;&gt;();\n// Map&lt;Integer, Entry&lt;Action, Boolean&gt;&gt; actionMap = new HashMap&lt;String,\n// Entry&lt;Action, Boolean&gt;&gt;();\n\n// ArrayList&lt;Integer&gt; packetnumbersNotreceived = new ArrayList&lt;Integer&gt;();\nTransferInfo infoIn = new TransferInfo();\nTransferInfo infoOut = new TransferInfo();\nmissingpackets = false;\nint burstSize = 0, numpack = 0;\ndouble percentage = 0;\nString filename = &quot;&quot;;\ntotalfilesize = 0;\n\nburstCounter = 0;\npacketSize = 0;\n// receive first tcp here with vital info\nSystem.out.println(&quot;before first tcp&quot;);\ntry {\n    \n        infoIn = (TransferInfo) in.readObject();\n\n    \n    packetNumbers = infoIn.getPacketList();\n    // totalNumPackets = packetNumbers.size();\n    totalfilesize = infoIn.getFileSize();\n    burstSize = infoIn.getBurstSize();\n    filename = infoIn.getFileName();\n    packetSize = infoIn.getPacketSize();\n    // buffer = new byte[packetSize];\n    // numpack = infoIn.getPacketList().size();\n    System.out.println(&quot;packet num: &quot; + packetNumbers + &quot; totalfilesize : &quot; + totalfilesize + &quot; burstSize : &quot;\n            + burstSize + &quot; &quot; + &quot;filename: &quot; + filename);\n} catch (Exception e) {\n    // TODO: handle exception\n}\n\npacketNumbers = infoIn.getPacketList();\n\n// totalNumPackets = packetNumbers.size();\n// totalfilesize = infoIn.getFileSize();\n// burstSize = infoIn.getBurstSize();\n// filename = infoIn.getFileName();\n// packetSize = infoIn.getPacketSize();\n// buffer = new byte[packetSize];\n// numpack = infoIn.getPacketList().size();\n\n// Creates a new file with the filename at the specific path.\nFileOutputStream outToFile = createFile(path + &quot;\\\\&quot; + infoIn.getFileName());\n\nSystem.out.println(&quot;after first tcp&quot;);\n\nif (infoIn.isTcp) {\n    System.out.println(&quot;Receiving from TCp&quot;);\n\n    ObjectInputStream ois = in;\n    byte[] content = (byte[]) ois.readObject();\n    Files.write(f.toPath(), content);\n} else { // UDP Transfer\n    // serverSocket.close();\n    // connected = false;\n    System.out.println(&quot;Receiving from UDP&quot;);\n    // FileLength is total file size received from tcp\n\n    while (totalBytesReceived &lt; totalfilesize) {\n\n        Thread tcpThread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                // r = 0;\n                // problem receiving multiple different tcp\n                try {\n                    TransferInfo infoIn1 = new TransferInfo();\n                    TransferInfo infoOut2 = new TransferInfo();\n                    synchronized (in) {\n                    infoIn1 = (TransferInfo) in.readObject();\n                    }\n                    packetNumbers = infoIn1.getPacketList();\n                    connected1 = true;\n                    // System.out.println(&quot;tcp received&quot;);\n                    System.out.println(&quot;num times: &quot; + k);\n</code></pre>\n<p>System.out.println(&quot;arraylist of packets that I should have receivedtest: &quot; +infoIn1.getPacketList()); k++;</p>\n<pre><code>// give the inverse of the list received essentially\n// this returns an arraylist with packets still needed\n// packetNumbers is whats sent by Sender\n// packetnumbersreceived is what user has received\n        for (int i = 0; i &lt; packetNumbers.size(); i++) {\n        int element = packetNumbers.get(i);\n\n        if (!packetnumbersreceived.contains(element)) {\n        infoOut2.addPacket(element);\n        System.out.println(&quot;this packet is missing&quot; + element);\n\n                        }\n                    }\n                    System.out.println(&quot;\\n\\nleaving loop&quot;);\n\n                    // if packets missing set boolean\n\n    missingpackets = !infoOut2.getPacketList().isEmpty();\nSystem.out.println(&quot;these packet are missing now\\n&quot; + infoOut2.getPacketList());\n\n// communicate with sender regarding potential missing packets\n// no problem sending multiple tcp and is received by sender\n                    try {\n                        System.out.println(&quot;r: &quot; + r);\n                        infoOut2.addPacket(r);\n                        out.writeObject(infoOut2);\n                        r++;\n                        System.out.println(&quot;\\nsending TCP\\n&quot;);\n                        // Thread.sleep(10000000);\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                        System.exit(0);\n                    }\n                    // receive all missing packets before continuing\n                    while (missingpackets) {\n                        System.out.println(&quot;\\npackets are missing!!!\\n&quot;);\ntry {\n</code></pre>\n<p>// plus 80 (exactly) needed to contain data and wrapper in packet buffer = new byte[packetSize + 94]; packet = new DatagramPacket(buffer, buffer.length); socket.receive(packet);</p>\n<pre><code>        byte[] receivedData = packet.getData();\n        inStream = new ByteArrayInputStream(receivedData);\n        // will prob cause issues with mult objinputstr\n        objInStream = new ObjectInputStream(inStream);\n        receivedNumberedPacket = (numberedPacket) objInStream.readObject();\n                        } catch (ClassNotFoundException e) {\n                            throw new RuntimeException(e);\n                        }\n\n            // socket.receive(packet);\n            length = receivedNumberedPacket.getData().length;\n            totalBytesReceived += length;\n            burstCounter++;\n                        packetnumbersreceived.add(receivedNumberedPacket.getId());\n                        packetMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\n\n                        // listen for packets that are sent\n                try {\n                synchronized (in) {\n            infoIn1 (TransferInfo) in.readObject();\n\n                            }\n        packetNumbers = infoIn1.getPacketList();\n                        } catch (ClassNotFoundException e) {                                    \n</code></pre>\n<p>// TODO Auto-generated catch block e.printStackTrace(); }</p>\n<pre><code>    for (int i = 0; i &lt; packetNumbers.size(); i++) {\n        int element = packetNumbers.get(i);\n    if (!packetnumbersreceived.contains(element)) {\n    infoOut.addPacket(element);\n                            }\n    try {\n        out.writeObject(infoOut);\n        } catch (IOException e) {\n        e.printStackTrace();\n        System.exit(0);\n                            }\n// if all missing packets received break out\n    if (infoOut.getPacketList().isEmpty()) {\n        missingpackets = false;\n        break;\n                            }\n                        }\n                    }\n        System.out.println(&quot;support: &quot; + in.markSupported());\n\n                } catch (EOFException e) {\n                    // Handle the end of the stream\n\n                    try {\n                        in.close();\n                    } catch (IOException ioException) {\n                        ioException.printStackTrace();\n                    }\n\n                    // ...\n                } catch (IOException e) {\n                    // Handle the IO error\n                    e.printStackTrace();\n                } catch (ClassNotFoundException e) {\n                    // Handle the class not found error\n                    e.printStackTrace();\n                }\n\n                // System.out.println(&quot;end of thread&quot;);\n\n            }\n        });\n        // try {\n        // Thread.sleep(50);\n        // } catch (InterruptedException e) {\n        // // TODO Auto-generated catch block\n        // e.printStackTrace();\n        // }\n        System.out.println(&quot;listening for packets&quot;);\n        // Receive packet and retrieve the data\n        // System.out.println(&quot;\\ntest before&quot;);\n        byte[] buffer = new byte[packetSize + 94];\n        // Arrays.fill(buffer, (byte) 0);\n        packet = new DatagramPacket(buffer, packetSize);\n        // socket.receive(packet);\n\n        // === modified ChatGPT code ==========\n        try {\n            // System.out.println(&quot;Packet Size: &quot; + packetSize);\n        // plus 80 (exactly) needed to contain data and wrapper in packet\n            packet = new DatagramPacket(buffer, buffer.length);\n            // Arrays.fill(buffer, (byte) 0);\n\n            socket.receive(packet);\n\n            System.out.println(&quot;packetlength: &quot; + packet.getLength());\n\n            byte[] receivedData = packet.getData();\n    ByteArrayInputStream inStream = new ByteArrayInputStream(receivedData);\n\n            objInStream = new ObjectInputStream(inStream);\n    receivedNumberedPacket = (numberedPacket) objInStream.readObject();\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        // === modified ChatGPT code end =====\n\n        burstCounter++;\n        // packetnumbersreceived.add(packet.getOffset());\n        \n        packetnumbersreceived.add(receivedNumberedPacket.getId());\n        \n// System.out.println(&quot;ArrayList packetId received&quot; + packetnumbersreceived);\n\n        // packetMap.put(packet.getOffset(), packet);\n        if (receivedNumberedPacket.getId() == 9) {\n            packetnumbersreceived.remove(7);\n        }\npacketMap.put(receivedNumberedPacket.getId(), receivedNumberedPacket.getData());\n\n        length = receivedNumberedPacket.getData().length;\n        // int length1 = receivedNumberedPacket.getData().length;\n        totalBytesReceived += (long) length;\n        System.out.println(&quot;in main loop for receiving &quot; + totalBytesReceived + &quot; sizetotal &quot; + totalfilesize);\n        percentage = (double) totalBytesReceived / totalfilesize * 100;\n        if (percentage &gt; 100) {\n            percentage = 100;\n        }\n        updateGUI(percentage);\n        System.out.println(&quot;percentage received &quot; + (int) percentage);\n        // receive another tcp then compare what i have to what i need\n        System.out.println(&quot;burst counter \\n &quot; + (burstCounter - 1));\n        tcpThread.start();\n\n        if (connected1) {\n            System.out.println(&quot;tcps file received&quot;);\n            // TransferInfo infoIn1 = new TransferInfo();\n            // infoIn1 = (TransferInfo) in.readObject();\n</code></pre>\n<p>System.out.println(&quot;arraylist of packets that I should have received in connected1: &quot; + infoIn.getPacketList()); // TCP has been received, wait for it to finish before continuing to receive // datagram packets // try { // tcpThread.join(); // } catch (InterruptedException e) { // e.printStackTrace(); // } } // tcpThread.interrupt();</p>\n<pre><code>        if (totalBytesReceived &gt;= totalfilesize)\n            tcpThread.interrupt();\n\n    }\n}\nSystem.out.println(&quot;\\nfinished&quot;);\n// ChatGPT inspired, sorts all hashmap values regarding smallest packetid to\n// largest, then writes to file. This is necessary if packets order is messed up\n// Create a custom comparator to sort the HashMap by the offset value of the\n// DatagramPacket\nComparator&lt;Integer&gt; offsetComparator = new Comparator&lt;Integer&gt;() {\n\n    public int compare(Integer key1, Integer key2) {\n        return key1.compareTo(key2);\n    }\n};\n\n// Create a TreeMap with the custom comparator to sort the HashMap by offset\n// value\nMap&lt;Integer, byte[]&gt; sortedPacketMap = new TreeMap&lt;Integer, byte[]&gt;(\n        offsetComparator);\nsortedPacketMap.putAll(packetMap);\n\n// Loop through the sorted TreeMap and write the data to file\nfor (Map.Entry&lt;Integer, byte[]&gt; entry : sortedPacketMap.entrySet()) {\n\n    // DatagramPacket value = entry.getValue();\n    outToFile.write(entry.getValue());\n}\n// socket.close();\noutToFile.close();\n// System.exit(0);\n</code></pre>\n<p>}</p>\n<p>public static void updateGUI1(double percentageLoaded) { // must update gui whenever percentage of packet changes // do something with percentage // SenderGUIControl.updateProgressBar(percentageLoaded, bar, // senderLanding_pane); return; }</p>\n<p>public static void main(String[] args) { String receiverAddress = &quot;localhost&quot;; int receiverUDPPort = 1234; int receiverTCPPort = 5678; try { Receiver test = new Receiver(receiverTCPPort, receiverUDPPort); test.connect();</p>\n<pre><code>    test.createFile1(receiverAddress);\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<p>} ` This is the receiver class of a program that transfers udp files with tcp signalling. My current implementation is that the sender has a burst size of number of packets that they send, once they reach the burst size they must send a tcp (using TransferInfo object) to the receiver with an arraylist of packet numbers that should have been received, the receiver then sends a tcp back to to the sender with an arraylist of packetnumbers that they didnt receive but should have, if there are missing packets, they are resent and the process continues until all packages are receieved succesfully. Basically the burst size is used to signify how often missing packages should be looked for.</p>\n<p>This program works when all packets are received succesfully, however the TCP that the receiver receives gets the first arraylist of packet numbers succesfully but subsequent TCP TransferInfoObjects are all the same.</p>\n<p>synchronized (in) { infoIn1 = (TransferInfo) in.readObject(); } This works correctly when the burst size is first reached, the arraylist of packets received if the burst size is 3 would be Arraylist(1,2,3) but lets say I send 9 packets and the burst size is reached 3 times, I receive the same Arraylist(1,2,3) every burst size reached, when it should be Arraylist(1,2,3) iteration 1, Arraylist(1,2,3,4,5,6) iteration 2, Arraylist(1,2,3,4,5,6,7,8,9) iteration 3. Why is infoIn1 = (TransferInfo) in.readObject(); reading in the same object and not receiving the new object correctly, I've checked sender side and it does send the correct packetnumbers via tcp theyre just no received. Please Help.TransferInfo infoOut1 = new TransferInfo(); //add packet to arraylist to send, would add 1 to arraylist for eg infoOut1.addPacket(1);</p>\n<pre><code>                System.out.println(&quot;packets sent &quot; + infoOut1.getPacketList());\n                out.writeObject(infoOut1);\n\n                out.flush();`\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1678997539,"post_id":75760499,"comment_id":133646490,"body_markdown":"Please post the full error message when `ElementClickInterceptedException` is thrown. That will tell us which element is intercepting the click.","body":"Please post the full error message when <code>ElementClickInterceptedException</code> is thrown. That will tell us which element is intercepting the click."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1678998527,"post_id":75760499,"comment_id":133646723,"body_markdown":"_`ElementClickInterceptedException`_: Update the question with the complete error stacktrace.","body":"<i><code>ElementClickInterceptedException</code></i>: Update the question with the complete error stacktrace."},{"owner":{"account_id":1669643,"reputation":526,"user_id":1536343,"display_name":"Je Je"},"score":0,"creation_date":1679000146,"post_id":75760499,"comment_id":133647024,"body_markdown":"if you don&#39;t HAVE to use selenium, I would recommand that you try playwright. Both are great, but I&#39;ve had better results in general with it. just in case","body":"if you don&#39;t HAVE to use selenium, I would recommand that you try playwright. Both are great, but I&#39;ve had better results in general with it. just in case"}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678998072,"creation_date":1678998072,"answer_id":75761305,"question_id":75760499,"body_markdown":"Selenium IS waiting for the element to be clickable but it is not aware that another element is blocking the click until that click is attempted. There are two solutions to this problem:\r\n\r\n1. You can use a JS click to click `submitButton`.\r\n\r\n       WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n       JavascriptExecutor js = (JavascriptExecutor) driver;\r\n       js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n       w.until(ExpectedConditions.elementToBeClickable(submitButton));\r\n       js.executeScript(&quot;arguments[0].click();&quot;, submitButton);\r\n\r\n   If you are creating UI test scripts, don&#39;t use this. Using a JS click will allow the script to click elements that a normal user will not be able to click. If you are just doing webscraping, etc. where you aren&#39;t trying to simulate actual user behavior, this method is fine.\r\n\r\n1. Wait for the blocking element to be invisible. You&#39;ll know which element is blocking the click because the HTML of that element will be in the exception message.\r\n\r\n       WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n       ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n       By blockingElementLocator = ...;\r\n       w.until(ExpectedConditions.invisibilityOfElementLocated(blockingElementLocator));\r\n       w.until(ExpectedConditions.elementToBeClickable(submitButton)).click();","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>Selenium IS waiting for the element to be clickable but it is not aware that another element is blocking the click until that click is attempted. There are two solutions to this problem:</p>\n<ol>\n<li><p>You can use a JS click to click <code>submitButton</code>.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nw.until(ExpectedConditions.elementToBeClickable(submitButton));\njs.executeScript(&quot;arguments[0].click();&quot;, submitButton);\n</code></pre>\n<p>If you are creating UI test scripts, don't use this. Using a JS click will allow the script to click elements that a normal user will not be able to click. If you are just doing webscraping, etc. where you aren't trying to simulate actual user behavior, this method is fine.</p>\n</li>\n<li><p>Wait for the blocking element to be invisible. You'll know which element is blocking the click because the HTML of that element will be in the exception message.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nBy blockingElementLocator = ...;\nw.until(ExpectedConditions.invisibilityOfElementLocated(blockingElementLocator));\nw.until(ExpectedConditions.elementToBeClickable(submitButton)).click();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002809,"creation_date":1678999557,"answer_id":75761477,"question_id":75760499,"body_markdown":"I don&#39;t see any major issue in your code as such. The complete error stacktrace would have helped us to understand exactly which element intercepts the click throwing _`ElementClickInterceptedException`_.\r\n\r\nHowever, a minor improvement would be to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) before you attempt to [`scrollIntoView()`](https://stackoverflow.com/a/58537189/7429447) as follows:\r\n\r\n\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.totalRow button&quot;))));\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.totalRow button&quot;))).click();","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>I don't see any major issue in your code as such. The complete error stacktrace would have helped us to understand exactly which element intercepts the click throwing <em><code>ElementClickInterceptedException</code></em>.</p>\n<p>However, a minor improvement would be to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> before you attempt to <a href=\"https://stackoverflow.com/a/58537189/7429447\"><code>scrollIntoView()</code></a> as follows:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.totalRow button&quot;))));\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;.totalRow button&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":28035674,"reputation":1,"user_id":21414103,"display_name":"Pooja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679002809,"creation_date":1678992498,"question_id":75760499,"body_markdown":"I am trying to click on button which is not viewable on to the screen so that first I have to scroll the window and then perform click operation, but before scrolling entirely happens using `JavascriptExecutor`, Selenium tries to click on button which leads to `ElementClickInterceptedException`.\r\n\r\n    WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\r\n    w.until(ExpectedConditions.elementToBeClickable(submitButton));\r\n    submitButton.click();\r\n\r\nIf I use `Thread.sleep(5000)` after scrolling this issue does not happen, but I do not want to use that. I tried using `JavascriptExecutor` and `Action` class that did not work either.","title":"Selenium button click does not wait until JavascriptExecutor scroll down finishes. That leads to ElementClickIntercepted error","body":"<p>I am trying to click on button which is not viewable on to the screen so that first I have to scroll the window and then perform click operation, but before scrolling entirely happens using <code>JavascriptExecutor</code>, Selenium tries to click on button which leads to <code>ElementClickInterceptedException</code>.</p>\n<pre><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;.totalRow button&quot;));\n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, submitButton);\nw.until(ExpectedConditions.elementToBeClickable(submitButton));\nsubmitButton.click();\n</code></pre>\n<p>If I use <code>Thread.sleep(5000)</code> after scrolling this issue does not happen, but I do not want to use that. I tried using <code>JavascriptExecutor</code> and <code>Action</code> class that did not work either.</p>\n"},{"tags":["java","spring","spring-boot","caching","caffeine"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1558449712,"post_id":56239146,"comment_id":99100298,"body_markdown":"This was how the Guava support worked and only minor changes were made for migrating to Caffeine. There is an interesting [approach](https://github.com/ben-manes/caffeine/issues/311#issuecomment-478552898) if you use a custom adapter.","body":"This was how the Guava support worked and only minor changes were made for migrating to Caffeine. There is an interesting <a href=\"https://github.com/ben-manes/caffeine/issues/311#issuecomment-478552898\" rel=\"nofollow noreferrer\">approach</a> if you use a custom adapter."},{"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"score":0,"creation_date":1558507254,"post_id":56239146,"comment_id":99118890,"body_markdown":"Hi Ben, pleasure to see you here :) I&#39;ve read through the issue and it seems your view on this is that we should be using the provider directly. The poster&#39;s solution is quite clever and I&#39;ll look into it further. I have a follow-up question - using your approach, where would you say is the best practice to place the cache definition itself? In the class where it&#39;s used? In a configuration class which makes it available for injection? Somewhere else?","body":"Hi Ben, pleasure to see you here :) I&#39;ve read through the issue and it seems your view on this is that we should be using the provider directly. The poster&#39;s solution is quite clever and I&#39;ll look into it further. I have a follow-up question - using your approach, where would you say is the best practice to place the cache definition itself? In the class where it&#39;s used? In a configuration class which makes it available for injection? Somewhere else?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1558508376,"post_id":56239146,"comment_id":99119417,"body_markdown":"I use Guice at work, which is much less AOP minded and plain old Java. I’ll define the spec in a configuration file, parse into and inject a CaffeineSpec, build in the class with a private method as the loader, and register it into the metrics reporter. I might use map computations or asynchronous caching, etc. Other times I define it in the class when not configurable, like a weak keyed cache for an internal lifecycle. I don’t find using a library directly feels dirty and an AOP abstraction appears limiting or not helpful for my uses. But I haven’t used Spring since 1.x so my habits differ.","body":"I use Guice at work, which is much less AOP minded and plain old Java. I’ll define the spec in a configuration file, parse into and inject a CaffeineSpec, build in the class with a private method as the loader, and register it into the metrics reporter. I might use map computations or asynchronous caching, etc. Other times I define it in the class when not configurable, like a weak keyed cache for an internal lifecycle. I don’t find using a library directly feels dirty and an AOP abstraction appears limiting or not helpful for my uses. But I haven’t used Spring since 1.x so my habits differ."},{"owner":{"account_id":448545,"reputation":2006,"user_id":842800,"accept_rate":59,"display_name":"ant-depalma"},"score":0,"creation_date":1641592986,"post_id":56239146,"comment_id":124853566,"body_markdown":"I know this is an old thread but I implemented this behavior without a LoadingCache. I used Springs @Scheduled(fixedDelay = 1000, intitialDelay = 0) and @CachePut annotations on method that returns the updated value of an expensive call (in conjunction with another method that uses standard @Cacheable). Of course it only works if you don&#39;t need a specific cache key (like caching a big collection of data)","body":"I know this is an old thread but I implemented this behavior without a LoadingCache. I used Springs @Scheduled(fixedDelay = 1000, intitialDelay = 0) and @CachePut annotations on method that returns the updated value of an expensive call (in conjunction with another method that uses standard @Cacheable). Of course it only works if you don&#39;t need a specific cache key (like caching a big collection of data)"}],"answers":[{"tags":[],"owner":{"account_id":3642026,"reputation":571,"user_id":3035905,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002775,"creation_date":1679002775,"answer_id":75761869,"question_id":56239146,"body_markdown":"To define a Caffeine LoadingCache&lt;K, V&gt; for use with Spring&#39;s @Cacheable annotation, you can create a custom implementation of Cache that wraps a Caffeine LoadingCache. Here&#39;s an example implementation:\r\n\r\n    import org.springframework.cache.Cache;\r\n    import org.springframework.cache.support.SimpleValueWrapper;\r\n    import java.util.concurrent.Callable;\r\n    import com.github.benmanes.caffeine.cache.LoadingCache;\r\n\r\n    public class CaffeineCache implements Cache {\r\n\r\n        private final String name;\r\n        private final LoadingCache&lt;Object, Object&gt; cache;\r\n\r\n        public CaffeineCache(String name, LoadingCache&lt;Object, Object&gt; cache) {\r\n            this.name = name;\r\n            this.cache = cache;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public Object getNativeCache() {\r\n            return cache;\r\n        }\r\n\r\n        @Override\r\n        public ValueWrapper get(Object key) {\r\n            Object value = cache.getIfPresent(key);\r\n            return (value != null ? new SimpleValueWrapper(value) : null);\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\r\n            Object value = cache.getIfPresent(key);\r\n            if (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\r\n                throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + type.getName() + &quot;]: &quot; + value);\r\n            }\r\n            return (T) value;\r\n        }\r\n\r\n        @Override\r\n        public void put(Object key, Object value) {\r\n            cache.put(key, value);\r\n        }\r\n\r\n        @Override\r\n        public void evict(Object key) {\r\n            cache.invalidate(key);\r\n        }\r\n\r\n        @Override\r\n        public void clear() {\r\n            cache.invalidateAll();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public &lt;T&gt; T get(Object key, Callable&lt;T&gt; valueLoader) {\r\n            try {\r\n                Object value = cache.get(key, k -&gt; valueLoader.call());\r\n                if (value != null &amp;&amp; !value.getClass().isAssignableFrom(valueLoader.getClass())) {\r\n                    throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + valueLoader.getClass().getName() + &quot;]: &quot; + value);\r\n                }\r\n                return (T) value;\r\n            } catch (Exception ex) {\r\n                throw new ValueRetrievalException(key, valueLoader, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nThen you can register your cache as a Spring bean and use it with the @Cacheable annotation like this:\r\n\r\n    @Bean\r\n    public Cache myCache() {\r\n        LoadingCache&lt;MyKey, MyValue&gt; cache = Caffeine.newBuilder()\r\n            .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n            .build(loadStuffOverHttp());\r\n        return new CaffeineCache(&quot;myCache&quot;, cache);\r\n    }\r\n\r\n    @Cacheable(&quot;myCache&quot;)\r\n    public MyValue getValue(MyKey key) {\r\n        ...\r\n    }\r\n\r\nThis approach allows you to define and configure your Caffeine cache as a LoadingCache&lt;K, V&gt; while still being able to use it with Spring&#39;s caching abstraction.\r\n","title":"Is it possible to adapt a Caffeine LoadingCache for use with Spring Boot&#39;s @Cacheable?","body":"<p>To define a Caffeine LoadingCache&lt;K, V&gt; for use with Spring's @Cacheable annotation, you can create a custom implementation of Cache that wraps a Caffeine LoadingCache. Here's an example implementation:</p>\n<pre><code>import org.springframework.cache.Cache;\nimport org.springframework.cache.support.SimpleValueWrapper;\nimport java.util.concurrent.Callable;\nimport com.github.benmanes.caffeine.cache.LoadingCache;\n\npublic class CaffeineCache implements Cache {\n\n    private final String name;\n    private final LoadingCache&lt;Object, Object&gt; cache;\n\n    public CaffeineCache(String name, LoadingCache&lt;Object, Object&gt; cache) {\n        this.name = name;\n        this.cache = cache;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public Object getNativeCache() {\n        return cache;\n    }\n\n    @Override\n    public ValueWrapper get(Object key) {\n        Object value = cache.getIfPresent(key);\n        return (value != null ? new SimpleValueWrapper(value) : null);\n    }\n\n    @Override\n    public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\n        Object value = cache.getIfPresent(key);\n        if (value != null &amp;&amp; type != null &amp;&amp; !type.isInstance(value)) {\n            throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + type.getName() + &quot;]: &quot; + value);\n        }\n        return (T) value;\n    }\n\n    @Override\n    public void put(Object key, Object value) {\n        cache.put(key, value);\n    }\n\n    @Override\n    public void evict(Object key) {\n        cache.invalidate(key);\n    }\n\n    @Override\n    public void clear() {\n        cache.invalidateAll();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T&gt; T get(Object key, Callable&lt;T&gt; valueLoader) {\n        try {\n            Object value = cache.get(key, k -&gt; valueLoader.call());\n            if (value != null &amp;&amp; !value.getClass().isAssignableFrom(valueLoader.getClass())) {\n                throw new IllegalStateException(&quot;Cached value is not of required type [&quot; + valueLoader.getClass().getName() + &quot;]: &quot; + value);\n            }\n            return (T) value;\n        } catch (Exception ex) {\n            throw new ValueRetrievalException(key, valueLoader, ex);\n        }\n    }\n}\n</code></pre>\n<p>Then you can register your cache as a Spring bean and use it with the @Cacheable annotation like this:</p>\n<pre><code>@Bean\npublic Cache myCache() {\n    LoadingCache&lt;MyKey, MyValue&gt; cache = Caffeine.newBuilder()\n        .refreshAfterWrite(1, TimeUnit.MINUTES)\n        .build(loadStuffOverHttp());\n    return new CaffeineCache(&quot;myCache&quot;, cache);\n}\n\n@Cacheable(&quot;myCache&quot;)\npublic MyValue getValue(MyKey key) {\n    ...\n}\n</code></pre>\n<p>This approach allows you to define and configure your Caffeine cache as a LoadingCache&lt;K, V&gt; while still being able to use it with Spring's caching abstraction.</p>\n"}],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5040,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1679002775,"creation_date":1558444483,"question_id":56239146,"body_markdown":"I am working on a large Spring Boot 2.1.5.RELEASE application, using Caffeine as a cache provider. To prevent I/O bottlenecks, I am using a Caffeine [`LoadingCache&lt;K,V&gt;`][1] in (essentially) the following way:\r\n\r\n    LoadingCache&lt;K, V&gt; cache = Caffeine.newBuilder()\r\n        .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n        .build(loadStuffOverHttp());\r\n\r\nAs far as I know, I cannot use refresh-after-write functionality without using `LoadingCache`.\r\n\r\nHowever, `LoadingCache` **does not implement Spring&#39;s [`Cache`][2].** This means I cannot rely on `@Bean` methods to register my caches, which each need to be configured differently. Being registered in the Spring context would, in theory, allow them to be used in conjunction with Spring&#39;s [`@Cacheable`][3] annotation.\r\n\r\nFrom what I can see from the source code for [CaffeineCacheConfiguration.java][4], I cannot rely on Spring Boot&#39;s auto-configuration either. Beans of type [`CaffeineCache`][5] (Spring&#39;s cache [adapter pattern][6] for Caffeine&#39;s [`Cache&lt;K,V&gt;`][7]) are registered automatically, **but the adapter forces me to use `&lt;Object, Object&gt;` as the generic types of my [`CacheLoader&lt;K, V&gt;`][8]**. I only want to do this as a last resort.\r\n\r\n[This SO question][9] shows it is possible to configure different caches programmatically:\r\n\r\n&gt; Just expose your custom caches as beans. They are automatically added to the `CaffeineCacheManager`.\r\n\r\nHowever, doing this with `LoadingCache&lt;K, V&gt;` (with arbitrary `K`, `V`, *not* `&lt;Object, Object&gt;`) seems to be harder.\r\n\r\n[This SO question][10] seems to indicate doing it with a [`SimpleCacheManager`][11] instead of a [`CaffeineCacheManager`][12] is possible - but using this solution requires the `CacheLoader` definition to be available to the `Cache` bean. This may easily require the injection of the service using the cache via `@Cacheable` in the first place, for example in the case of an expensive HTTP call. It also seems like a solution prone to dependency cycles, but please correct me if this is not the case.\r\n\r\n### Question\r\nWhat is the proper way to define a Caffeine `LoadingCache&lt;K, V&gt;` for use with Spring&#39;s `@Cacheable`?\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/LoadingCache.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/Cache.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CaffeineCacheConfiguration.java\r\n  [5]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCache.html\r\n  [6]: https://en.wikipedia.org/wiki/Adapter_pattern\r\n  [7]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/Cache.html\r\n  [8]: https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/CacheLoader.html\r\n  [9]: https://stackoverflow.com/q/49885064/8027026\r\n  [10]: https://stackoverflow.com/q/44507309/8027026\r\n  [11]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/support/SimpleCacheManager.html\r\n  [12]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCacheManager.html","title":"Is it possible to adapt a Caffeine LoadingCache for use with Spring Boot&#39;s @Cacheable?","body":"<p>I am working on a large Spring Boot 2.1.5.RELEASE application, using Caffeine as a cache provider. To prevent I/O bottlenecks, I am using a Caffeine <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/LoadingCache.html\" rel=\"noreferrer\"><code>LoadingCache&lt;K,V&gt;</code></a> in (essentially) the following way:</p>\n\n<pre><code>LoadingCache&lt;K, V&gt; cache = Caffeine.newBuilder()\n    .refreshAfterWrite(1, TimeUnit.MINUTES)\n    .build(loadStuffOverHttp());\n</code></pre>\n\n<p>As far as I know, I cannot use refresh-after-write functionality without using <code>LoadingCache</code>.</p>\n\n<p>However, <code>LoadingCache</code> <strong>does not implement Spring's <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/Cache.html\" rel=\"noreferrer\"><code>Cache</code></a>.</strong> This means I cannot rely on <code>@Bean</code> methods to register my caches, which each need to be configured differently. Being registered in the Spring context would, in theory, allow them to be used in conjunction with Spring's <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\" rel=\"noreferrer\"><code>@Cacheable</code></a> annotation.</p>\n\n<p>From what I can see from the source code for <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/cache/CaffeineCacheConfiguration.java\" rel=\"noreferrer\">CaffeineCacheConfiguration.java</a>, I cannot rely on Spring Boot's auto-configuration either. Beans of type <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCache.html\" rel=\"noreferrer\"><code>CaffeineCache</code></a> (Spring's cache <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"noreferrer\">adapter pattern</a> for Caffeine's <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/Cache.html\" rel=\"noreferrer\"><code>Cache&lt;K,V&gt;</code></a>) are registered automatically, <strong>but the adapter forces me to use <code>&lt;Object, Object&gt;</code> as the generic types of my <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/CacheLoader.html\" rel=\"noreferrer\"><code>CacheLoader&lt;K, V&gt;</code></a></strong>. I only want to do this as a last resort.</p>\n\n<p><a href=\"https://stackoverflow.com/q/49885064/8027026\">This SO question</a> shows it is possible to configure different caches programmatically:</p>\n\n<blockquote>\n  <p>Just expose your custom caches as beans. They are automatically added to the <code>CaffeineCacheManager</code>.</p>\n</blockquote>\n\n<p>However, doing this with <code>LoadingCache&lt;K, V&gt;</code> (with arbitrary <code>K</code>, <code>V</code>, <em>not</em> <code>&lt;Object, Object&gt;</code>) seems to be harder.</p>\n\n<p><a href=\"https://stackoverflow.com/q/44507309/8027026\">This SO question</a> seems to indicate doing it with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/support/SimpleCacheManager.html\" rel=\"noreferrer\"><code>SimpleCacheManager</code></a> instead of a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/cache/caffeine/CaffeineCacheManager.html\" rel=\"noreferrer\"><code>CaffeineCacheManager</code></a> is possible - but using this solution requires the <code>CacheLoader</code> definition to be available to the <code>Cache</code> bean. This may easily require the injection of the service using the cache via <code>@Cacheable</code> in the first place, for example in the case of an expensive HTTP call. It also seems like a solution prone to dependency cycles, but please correct me if this is not the case.</p>\n\n<h3>Question</h3>\n\n<p>What is the proper way to define a Caffeine <code>LoadingCache&lt;K, V&gt;</code> for use with Spring's <code>@Cacheable</code>?</p>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","writable"],"comments":[{"owner":{"account_id":2636775,"reputation":1331,"user_id":2281215,"display_name":"rVr"},"score":1,"creation_date":1392736933,"post_id":21857814,"comment_id":33089462,"body_markdown":"We will not see any significant improvements with input as small as 2MB, even few 100MB or few GB. Overhead of creating map,reduce tasks and all diff threads to run Job might be more compared to running same  task without hadoop. Unless we have multi GB,TB levels of data and really distributed job running we might not see benefits of hadoop.","body":"We will not see any significant improvements with input as small as 2MB, even few 100MB or few GB. Overhead of creating map,reduce tasks and all diff threads to run Job might be more compared to running same  task without hadoop. Unless we have multi GB,TB levels of data and really distributed job running we might not see benefits of hadoop."},{"owner":{"account_id":2937730,"reputation":7422,"user_id":2516301,"accept_rate":100,"display_name":"vefthym"},"score":0,"creation_date":1392737894,"post_id":21857814,"comment_id":33090197,"body_markdown":"What is the output (key, value) pairs of the mapper? Any code that would help us better understand?","body":"What is the output (key, value) pairs of the mapper? Any code that would help us better understand?"}],"answers":[{"tags":[],"owner":{"account_id":3508092,"reputation":83,"user_id":2933155,"display_name":"acbod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392737004,"creation_date":1392737004,"answer_id":21858027,"question_id":21857814,"body_markdown":"You won&#39;t get any benefit from hadoop with only 2MB of data. Hadoop is all about big data. Distributing the 2MB to your 10 nodes costs more time then just doing the job on a single node. The real benfit starts with a high number of nodes and huge data.\r\n","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>You won't get any benefit from hadoop with only 2MB of data. Hadoop is all about big data. Distributing the 2MB to your 10 nodes costs more time then just doing the job on a single node. The real benfit starts with a high number of nodes and huge data.</p>\n"},{"tags":[],"owner":{"account_id":2396871,"reputation":13,"user_id":2095513,"display_name":"bxabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393864173,"creation_date":1393864173,"answer_id":22152017,"question_id":21857814,"body_markdown":"So at the end I figured out a way to not store intermediate values in writables, only in the memory. This way it is faster.\r\nBut still, a non-hadoop solution is the best in this usecase.","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>So at the end I figured out a way to not store intermediate values in writables, only in the memory. This way it is faster.\nBut still, a non-hadoop solution is the best in this usecase.</p>\n"},{"tags":[],"owner":{"account_id":1336862,"reputation":2349,"user_id":1279411,"display_name":"AaronM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393879659,"creation_date":1393879659,"answer_id":22157089,"question_id":21857814,"body_markdown":"If the processing is really that complex, you should be able to realize a benefit from using Hadoop.  \r\n\r\nThe common issue with small files, is that Hadoop will run a single java process per file and that will create overhead from having to start many processes and slows down the output.  In your case this does not sound like it applies.  More likely you have the opposite problem that only one Mapper is trying to process your input and it doesn&#39;t matter how big your cluster is at that point.  Using the input split sounds like the right approach, but because your use case is specialized and deviates significantly from the norm, you may need to tweak a number of components to get the best performance.\r\n\r\nSo you should be able to get the benefits you are seeking from Hadoop Map Reduce, but it will probably take significant tuning and custom Input handling.\r\n\r\nThat said seldom(never?) will MapReduce be faster than a purpose built solution.  It is a generic tool that is useful in that it can be used to distribute and solve many diverse problems without the need to write a purpose built solution for each.\r\n\r\n","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>If the processing is really that complex, you should be able to realize a benefit from using Hadoop.  </p>\n\n<p>The common issue with small files, is that Hadoop will run a single java process per file and that will create overhead from having to start many processes and slows down the output.  In your case this does not sound like it applies.  More likely you have the opposite problem that only one Mapper is trying to process your input and it doesn't matter how big your cluster is at that point.  Using the input split sounds like the right approach, but because your use case is specialized and deviates significantly from the norm, you may need to tweak a number of components to get the best performance.</p>\n\n<p>So you should be able to get the benefits you are seeking from Hadoop Map Reduce, but it will probably take significant tuning and custom Input handling.</p>\n\n<p>That said seldom(never?) will MapReduce be faster than a purpose built solution.  It is a generic tool that is useful in that it can be used to distribute and solve many diverse problems without the need to write a purpose built solution for each.</p>\n"}],"owner":{"account_id":2396871,"reputation":13,"user_id":2095513,"display_name":"bxabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22157089,"answer_count":3,"score":1,"last_activity_date":1679002679,"creation_date":1392736346,"question_id":21857814,"body_markdown":"I tried to distribute a calculation using hadoop.\r\n\r\nI am using Sequence input and output files, and custom Writables.\r\n\r\nThe input is a list of triangles, maximum size 2Mb, but can be smaller around 50kb too.\r\nThe intermediate values and the output is a map(int,double) in the custom Writable.\r\nIs this the bottleneck?\r\n\r\nThe problem is that the calculation is much slower than the version without hadoop. **also, increasing the nodes from 2 to 10, doesn&#39;t speed up the process.**\r\n\r\nOne possibility is that I don&#39;t get enough mappers because of the small input size.\r\nI made tests changing the `mapreduce.input.fileinputformat.split.maxsize`, but it just got worse, not better.\r\n\r\nI am using hadoop 2.2.0 locally, and at amazon elastic mapreduce.\r\n\r\nDid I overlook something? Or this is just the kind of task which should be done without hadoop? (it&#39;s my first time using mapreduce).\r\n\r\nWould you like to see code parts?\r\n\r\nThank you.\r\n\r\n    public void map(IntWritable triangleIndex, TriangleWritable triangle, Context context) throws IOException, InterruptedException {           \r\n            StationWritable[] stations = kernel.newton(triangle.getPoints());\r\n            if (stations != null) {\r\n                for (StationWritable station : stations) {\r\n                    context.write(new IntWritable(station.getId()), station);\r\n                }\r\n            }\r\n        }    \r\n\r\n\r\n    class TriangleWritable implements Writable {\r\n\r\n    private final float[] points = new float[9];\r\n\r\n    @Override\r\n    public void write(DataOutput d) throws IOException {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            d.writeFloat(points[i]);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void readFields(DataInput di) throws IOException {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            points[i] = di.readFloat();\r\n        }\r\n    }\r\n    }\r\n\r\n    public class StationWritable implements Writable {\r\n\r\n    private int id;\r\n    private final TIntDoubleHashMap values = new TIntDoubleHashMap();\r\n\r\n    StationWritable(int iz) {\r\n        this.id = iz;\r\n    }\r\n\r\n    @Override\r\n    public void write(DataOutput d) throws IOException {\r\n        d.writeInt(id);\r\n        d.writeInt(values.size());\r\n        TIntDoubleIterator iterator = values.iterator();\r\n        while (iterator.hasNext()) {\r\n            iterator.advance();\r\n            d.writeInt(iterator.key());\r\n            d.writeDouble(iterator.value());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void readFields(DataInput di) throws IOException {\r\n        id = di.readInt();\r\n\r\n        int count = di.readInt();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            values.put(di.readInt(), di.readDouble());\r\n        }\r\n    }\r\n    }","title":"Hadoop mapreduce with input size ~ 2Mb slow","body":"<p>I tried to distribute a calculation using hadoop.</p>\n\n<p>I am using Sequence input and output files, and custom Writables.</p>\n\n<p>The input is a list of triangles, maximum size 2Mb, but can be smaller around 50kb too.\nThe intermediate values and the output is a map(int,double) in the custom Writable.\nIs this the bottleneck?</p>\n\n<p>The problem is that the calculation is much slower than the version without hadoop. <strong>also, increasing the nodes from 2 to 10, doesn't speed up the process.</strong></p>\n\n<p>One possibility is that I don't get enough mappers because of the small input size.\nI made tests changing the <code>mapreduce.input.fileinputformat.split.maxsize</code>, but it just got worse, not better.</p>\n\n<p>I am using hadoop 2.2.0 locally, and at amazon elastic mapreduce.</p>\n\n<p>Did I overlook something? Or this is just the kind of task which should be done without hadoop? (it's my first time using mapreduce).</p>\n\n<p>Would you like to see code parts?</p>\n\n<p>Thank you.</p>\n\n<pre><code>public void map(IntWritable triangleIndex, TriangleWritable triangle, Context context) throws IOException, InterruptedException {           \n        StationWritable[] stations = kernel.newton(triangle.getPoints());\n        if (stations != null) {\n            for (StationWritable station : stations) {\n                context.write(new IntWritable(station.getId()), station);\n            }\n        }\n    }    \n\n\nclass TriangleWritable implements Writable {\n\nprivate final float[] points = new float[9];\n\n@Override\npublic void write(DataOutput d) throws IOException {\n    for (int i = 0; i &lt; 9; i++) {\n        d.writeFloat(points[i]);\n    }\n}\n\n@Override\npublic void readFields(DataInput di) throws IOException {\n    for (int i = 0; i &lt; 9; i++) {\n        points[i] = di.readFloat();\n    }\n}\n}\n\npublic class StationWritable implements Writable {\n\nprivate int id;\nprivate final TIntDoubleHashMap values = new TIntDoubleHashMap();\n\nStationWritable(int iz) {\n    this.id = iz;\n}\n\n@Override\npublic void write(DataOutput d) throws IOException {\n    d.writeInt(id);\n    d.writeInt(values.size());\n    TIntDoubleIterator iterator = values.iterator();\n    while (iterator.hasNext()) {\n        iterator.advance();\n        d.writeInt(iterator.key());\n        d.writeDouble(iterator.value());\n    }\n}\n\n@Override\npublic void readFields(DataInput di) throws IOException {\n    id = di.readInt();\n\n    int count = di.readInt();\n    for (int i = 0; i &lt; count; i++) {\n        values.put(di.readInt(), di.readDouble());\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","web-scraping","fetch","jsoup"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":4,"creation_date":1478805474,"post_id":40535314,"comment_id":68310355,"body_markdown":"How about simply using [their API](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/EX_RetrievingPriceInformation.html)?","body":"How about simply using <a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/EX_RetrievingPriceInformation.html\" rel=\"nofollow noreferrer\">their API</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478815070,"creation_date":1478815070,"answer_id":40537717,"question_id":40535314,"body_markdown":"You have few issues here:\r\n\r\n 1. Your user agent is outdated, so you get a totally different response than you expect. Use a newer one.\r\n 2. `document.select` returns an `Element`, not `String`.\r\n 3. Your seletor is not right.\r\nUse the following code:  \r\n\r\n\r\n        String url = &quot;http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/&quot;;\r\n        Document document = Jsoup.connect(url).userAgent(&quot;Mozilla/49.0&quot;).get();\r\n        Elements question = document.select(&quot;#priceblock_ourprice&quot;);\r\n        System.out.println(&quot;Price is &quot; + question.html());\r\n\t\t","title":"I am trying to fetch amazon prices using Jsoup on Java","body":"<p>You have few issues here:</p>\n\n<ol>\n<li>Your user agent is outdated, so you get a totally different response than you expect. Use a newer one.</li>\n<li><code>document.select</code> returns an <code>Element</code>, not <code>String</code>.</li>\n<li><p>Your seletor is not right.\nUse the following code:  </p>\n\n<pre><code>String url = \"http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/\";\nDocument document = Jsoup.connect(url).userAgent(\"Mozilla/49.0\").get();\nElements question = document.select(\"#priceblock_ourprice\");\nSystem.out.println(\"Price is \" + question.html());\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":9622183,"reputation":51,"user_id":7143034,"accept_rate":0,"display_name":"Kenneth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679002467,"creation_date":1478805274,"question_id":40535314,"body_markdown":"I want to get the prices of a amazon product and then put them into a spreadsheet with the price next to the time. I am trying to use Jsoup for this (and I am very new to this)\r\nThis is what I currently have.\r\nI cant even get the price so that is what I need the most help with\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package amazon;\r\n    \r\n    /**\r\n     *\r\n     * @author kennethkreindler\r\n     */\r\n    import java.io.IOException;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    public class Amazonmain {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         * @throws java.lang.Exception\r\n         */\r\n        \r\n       public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/&quot;;\r\n            Document document = Jsoup.connect(url).userAgent(&quot;Mozilla/17.0&quot;).get();\r\n    \r\n            String question = document.select(&quot;span.priceblock_ourprice&quot;);\r\n            System.out.println(&quot;Price is&quot; + question);\r\n    \r\n            \r\n            }\r\n        }\r\n\r\n","title":"I am trying to fetch amazon prices using Jsoup on Java","body":"<p>I want to get the prices of a amazon product and then put them into a spreadsheet with the price next to the time. I am trying to use Jsoup for this (and I am very new to this)\nThis is what I currently have.\nI cant even get the price so that is what I need the most help with</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage amazon;\n\n/**\n *\n * @author kennethkreindler\n */\nimport java.io.IOException;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\npublic class Amazonmain {\n\n    /**\n     * @param args the command line arguments\n     * @throws java.lang.Exception\n     */\n\n   public static void main(String[] args) throws Exception {\n        String url = \"http://www.amazon.de/DJI-CP-PT-000498-Mavic-Drohne-grau/dp/B01M0AVO1P/\";\n        Document document = Jsoup.connect(url).userAgent(\"Mozilla/17.0\").get();\n\n        String question = document.select(\"span.priceblock_ourprice\");\n        System.out.println(\"Price is\" + question);\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1600320986,"creation_date":1413373858,"answer_id":26381869,"question_id":26379522,"body_markdown":"First thing, you should read this [Spring blog post][1]. \r\n\r\nSecond, according to the [`JpaSpecificationExecutor`][2] interface, that your repositories should implement, the following method take a `Specification` argument:\r\n\r\n- `count(Specification&lt;T&gt; spec)`\r\n- `List&lt;T&gt; findAll(Specification&lt;T&gt; spec)`\r\n- `Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable)`\r\n- `List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort)`\r\n- `T findOne(Specification&lt;T&gt; spec)`\r\n\r\nSo, you can&#39;t mix a `@Query` definition with a `Specification`.\r\n\r\nHowever, since you can express the `firstName &lt;&gt; ?1` condition using a `Specification` and because you combine as many specifications as you want, you can rewrite the whole `@Query` using `Specification`(s) only.\r\n\r\n  [1]: http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>First thing, you should read this <a href=\"http://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"noreferrer\">Spring blog post</a>.</p>\n<p>Second, according to the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"noreferrer\"><code>JpaSpecificationExecutor</code></a> interface, that your repositories should implement, the following method take a <code>Specification</code> argument:</p>\n<ul>\n<li><code>count(Specification&lt;T&gt; spec)</code></li>\n<li><code>List&lt;T&gt; findAll(Specification&lt;T&gt; spec)</code></li>\n<li><code>Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable)</code></li>\n<li><code>List&lt;T&gt; findAll(Specification&lt;T&gt; spec, Sort sort)</code></li>\n<li><code>T findOne(Specification&lt;T&gt; spec)</code></li>\n</ul>\n<p>So, you can't mix a <code>@Query</code> definition with a <code>Specification</code>.</p>\n<p>However, since you can express the <code>firstName &lt;&gt; ?1</code> condition using a <code>Specification</code> and because you combine as many specifications as you want, you can rewrite the whole <code>@Query</code> using <code>Specification</code>(s) only.</p>\n"},{"tags":[],"owner":{"account_id":15301090,"reputation":11,"user_id":13608882,"display_name":"Luiz Gustavo Arag&#227;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679002099,"creation_date":1679002099,"answer_id":75761791,"question_id":26379522,"body_markdown":"I did this workaround in order to have a response other than the entity type using the specification I have, maybe it can help you to resolve your needs without @Query:\r\n\r\n    public ImovelFilterResponseDTO getImovelsFilterByCriteria(Specification&lt;Imovel&gt; specification) {\r\n        ImovelFilterResponseDTO imovelFilterResponseDTO = new ImovelFilterResponseDTO();\r\n        CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;BigDecimal&gt; query = builder.createQuery(BigDecimal.class);\r\n        Root&lt;Imovel&gt; root = query.from(Imovel.class);\r\n        Predicate predicate = specification.toPredicate(root, query, builder);\r\n        if (predicate != null) {\r\n\t\t\tquery.where(predicate);\r\n\t\t}\r\n        BigDecimal areaHectaresMax =  entityManager.createQuery(query.select(builder.max(root.&lt;BigDecimal&gt;get(&quot;areaHectares&quot;)))).getSingleResult();\r\n        imovelFilterResponseDTO.setFilterMaxArea(areaHectaresMax);\r\n        return imovelFilterResponseDTO;\r\n    }\r\n\r\n","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>I did this workaround in order to have a response other than the entity type using the specification I have, maybe it can help you to resolve your needs without @Query:</p>\n<pre><code>public ImovelFilterResponseDTO getImovelsFilterByCriteria(Specification&lt;Imovel&gt; specification) {\n    ImovelFilterResponseDTO imovelFilterResponseDTO = new ImovelFilterResponseDTO();\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;BigDecimal&gt; query = builder.createQuery(BigDecimal.class);\n    Root&lt;Imovel&gt; root = query.from(Imovel.class);\n    Predicate predicate = specification.toPredicate(root, query, builder);\n    if (predicate != null) {\n        query.where(predicate);\n    }\n    BigDecimal areaHectaresMax =  entityManager.createQuery(query.select(builder.max(root.&lt;BigDecimal&gt;get(&quot;areaHectares&quot;)))).getSingleResult();\n    imovelFilterResponseDTO.setFilterMaxArea(areaHectaresMax);\n    return imovelFilterResponseDTO;\n}\n</code></pre>\n"}],"owner":{"account_id":3870270,"reputation":711,"user_id":3205713,"accept_rate":57,"display_name":"woytech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44239,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":26381869,"answer_count":2,"score":57,"last_activity_date":1679002099,"creation_date":1413366799,"question_id":26379522,"body_markdown":"Is it possible to use both `@Query` annotation and specification in one repository method? For example I&#39;d like to have a method like this:\r\n\r\n    @Query(value=&quot;SELECT e from EMPLOYEE where firstName &lt;&gt; ?1&quot;)\r\n    public Page&lt;Employee&gt; findEmployeeBySomethigFancy(String firstName, Pageable pageable, Specification&lt;Employee&gt; emp);\r\n\r\nIs it possible or should I build the whole query as a `Predicate` and remove the `@Query` annotation?","title":"Can I combine a @Query definition with a Specification in a Spring Data JPA repository method?","body":"<p>Is it possible to use both <code>@Query</code> annotation and specification in one repository method? For example I'd like to have a method like this:</p>\n\n<pre><code>@Query(value=\"SELECT e from EMPLOYEE where firstName &lt;&gt; ?1\")\npublic Page&lt;Employee&gt; findEmployeeBySomethigFancy(String firstName, Pageable pageable, Specification&lt;Employee&gt; emp);\n</code></pre>\n\n<p>Is it possible or should I build the whole query as a <code>Predicate</code> and remove the <code>@Query</code> annotation?</p>\n"},{"tags":["java","oracle","hibernate","stored-procedures"],"comments":[{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":0,"creation_date":1678987638,"post_id":75759163,"comment_id":133643857,"body_markdown":"Hi you will have to define a string which will contain the type name,  check this link   https://stackoverflow.com/questions/54344166/java-how-to-call-an-oracle-procedure-with-custom-types","body":"Hi you will have to define a string which will contain the type name,  check this link   <a href=\"https://stackoverflow.com/questions/54344166/java-how-to-call-an-oracle-procedure-with-custom-types\" title=\"java how to call an oracle procedure with custom types\">stackoverflow.com/questions/54344166/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679001740,"creation_date":1679001343,"answer_id":75761704,"question_id":75759163,"body_markdown":"If you can use a native query then just call your PL/SQL anonymous block. Something like (untested):\r\n\r\n```lang-java\r\nString plsql = &quot;\r\ndeclare\r\n  vl_obl_id number;\r\n  --\r\n  mi_ret PAC_EXAMPLE.reg_ret;\r\n  obj PAC_EXAMPLE.tab_ret;\r\n  --\r\nbegin\r\n   mi_ret.group := 1;\r\n   mi_ret.market := 110;\r\n   mi_ret.amount := 500;\r\n   obj(1) := mi_ret;\r\n   mi_ret.group := 1;\r\n   mi_ret.market := 95;\r\n   mi_ret.amount := 300;\r\n   obj(2) := mi_ret;\r\n\r\nPAC_EXAMPLE.P_CREATE_ELEMENT(?,?,obj,?);\r\nend;\r\n&quot;;\r\nCallableStatement cs = connection.prepareCall(plsql);\r\ncs.setString(1, &quot;JHON&quot;);\r\ncs.setString(2, &quot;JHON R&quot;);\r\ncs.registerOutParameter(3, Types.INTEGER);\r\ncs.execute();\r\nint obl_id = cs.getInt(3);\r\n```","title":"How to execute a packages procedure in Java with specific parameter structure","body":"<p>If you can use a native query then just call your PL/SQL anonymous block. Something like (untested):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String plsql = &quot;\ndeclare\n  vl_obl_id number;\n  --\n  mi_ret PAC_EXAMPLE.reg_ret;\n  obj PAC_EXAMPLE.tab_ret;\n  --\nbegin\n   mi_ret.group := 1;\n   mi_ret.market := 110;\n   mi_ret.amount := 500;\n   obj(1) := mi_ret;\n   mi_ret.group := 1;\n   mi_ret.market := 95;\n   mi_ret.amount := 300;\n   obj(2) := mi_ret;\n\nPAC_EXAMPLE.P_CREATE_ELEMENT(?,?,obj,?);\nend;\n&quot;;\nCallableStatement cs = connection.prepareCall(plsql);\ncs.setString(1, &quot;JHON&quot;);\ncs.setString(2, &quot;JHON R&quot;);\ncs.registerOutParameter(3, Types.INTEGER);\ncs.execute();\nint obl_id = cs.getInt(3);\n</code></pre>\n"}],"owner":{"account_id":13826190,"reputation":493,"user_id":9980464,"display_name":"rolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001740,"creation_date":1678984980,"question_id":75759163,"body_markdown":"Im working with java and oracle db and I have the following question:\r\n\r\nIn the oracle database I have a PACKAGE that is something like this:\r\n\r\n     CREATE OR REPLACE PACKAGE PAC_EXAMPLE IS\r\n     \r\n      TYPE reg_ret IS RECORD (group NUMBER(1),market NUMBER(3),amount  NUMBER(16));\r\n      \r\n      TYPE tab_ret is table of reg_ret\r\n      INDEX BY BINARY_INTEGER\r\n      ;\r\n     \r\n      PROCEDURE P_CREATE_ELEMENT(\r\n      pa_name IN VARCHAR2,\r\n      pa_signature IN VARCHAR2,\r\n      pa_ret IN tab_retenciones,\r\n      pa_obl_id OUT NUMBER)\r\n      ;\r\n      --\r\n     END K_SJUD_DER;\r\n\r\n\r\nAs you can see It has two auxiliar type: reg_ret and tab_ret.\r\n\r\nWhen I want to execute this procedure in the database I just do it this way:\r\n\r\n    declare\r\n      vl_obl_id number;\r\n      --\r\n      mi_ret PAC_EXAMPLE.reg_ret;\r\n      obj PAC_EXAMPLE.tab_ret;\r\n      --\r\n    begin\r\n       mi_ret.group := 1;\r\n       mi_ret.market := 110;\r\n       mi_ret.amount := 500;\r\n       obj(1) := mi_ret;\r\n       mi_ret.group := 1;\r\n       mi_ret.market := 95;\r\n       mi_ret.amount := 300;\r\n       obj(2) := mi_ret;\r\n    \r\n    PAC_EXAMPLE.P_CREATE_ELEMENT(&#39;JHON&#39;,&#39;JHON R&#39;,obj,vl_obl_id);\r\n    dbms_output.put_line(&#39;output: &#39;||vl_obl_id);\r\n    end;\r\n\r\nFirst I have to create the types mi_ret and obj and then I could execute the procedure.\r\n\r\nWell, my problem here is that I have to execute this procedure in Java with hibernate. I know that when you want to execute a procedure in Java you have to do something like this:\r\n\r\n    StoredProcedureQuery query = em.createNamedStoredProcedureQuery(&quot;PAC_EXAMPLE.P_CREATE_ELEMENT&quot;)\r\n                    .registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\r\n                    .registerStoredProcedureParameter(&quot;outId&quot;, Integer.class, ParameterMode.OUT)\r\n                    .setParameter(1, &#39;JHON&#39;);\r\n                    .setParameter(2, &#39;JHON R&#39;);\r\n    query.execute();\r\n    // get result\r\n    Integer outId = (Integer)storedProcedure.getOutputParameterValue(&quot;outId&quot;); \r\n\r\n\r\nThe thing here is that I cant find out how to create the types reg_ret and tab_ret in Java and send it by parameter to execute the procedure. I could use some help. Thanks!\r\n\r\n     ","title":"How to execute a packages procedure in Java with specific parameter structure","body":"<p>Im working with java and oracle db and I have the following question:</p>\n<p>In the oracle database I have a PACKAGE that is something like this:</p>\n<pre><code> CREATE OR REPLACE PACKAGE PAC_EXAMPLE IS\n \n  TYPE reg_ret IS RECORD (group NUMBER(1),market NUMBER(3),amount  NUMBER(16));\n  \n  TYPE tab_ret is table of reg_ret\n  INDEX BY BINARY_INTEGER\n  ;\n \n  PROCEDURE P_CREATE_ELEMENT(\n  pa_name IN VARCHAR2,\n  pa_signature IN VARCHAR2,\n  pa_ret IN tab_retenciones,\n  pa_obl_id OUT NUMBER)\n  ;\n  --\n END K_SJUD_DER;\n</code></pre>\n<p>As you can see It has two auxiliar type: reg_ret and tab_ret.</p>\n<p>When I want to execute this procedure in the database I just do it this way:</p>\n<pre><code>declare\n  vl_obl_id number;\n  --\n  mi_ret PAC_EXAMPLE.reg_ret;\n  obj PAC_EXAMPLE.tab_ret;\n  --\nbegin\n   mi_ret.group := 1;\n   mi_ret.market := 110;\n   mi_ret.amount := 500;\n   obj(1) := mi_ret;\n   mi_ret.group := 1;\n   mi_ret.market := 95;\n   mi_ret.amount := 300;\n   obj(2) := mi_ret;\n\nPAC_EXAMPLE.P_CREATE_ELEMENT('JHON','JHON R',obj,vl_obl_id);\ndbms_output.put_line('output: '||vl_obl_id);\nend;\n</code></pre>\n<p>First I have to create the types mi_ret and obj and then I could execute the procedure.</p>\n<p>Well, my problem here is that I have to execute this procedure in Java with hibernate. I know that when you want to execute a procedure in Java you have to do something like this:</p>\n<pre><code>StoredProcedureQuery query = em.createNamedStoredProcedureQuery(&quot;PAC_EXAMPLE.P_CREATE_ELEMENT&quot;)\n                .registerStoredProcedureParameter(1, String.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(2, String.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(&quot;outId&quot;, Integer.class, ParameterMode.OUT)\n                .setParameter(1, 'JHON');\n                .setParameter(2, 'JHON R');\nquery.execute();\n// get result\nInteger outId = (Integer)storedProcedure.getOutputParameterValue(&quot;outId&quot;); \n</code></pre>\n<p>The thing here is that I cant find out how to create the types reg_ret and tab_ret in Java and send it by parameter to execute the procedure. I could use some help. Thanks!</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679001348,"creation_date":1678729657,"answer_id":75725262,"question_id":75661656,"body_markdown":"### Solution\r\n\r\nTo enable a character VALUE (i.e. **220**) to appear within the root element *together with subelements*, its `complexType` must have a *mixed* attribute set to &quot;true&quot;.\r\n\r\nCreate a Maven project named **Element** using the standard file layout. This project includes:\r\n\r\n+ An XML Schema file [element.xsd][2] for the `Element` model\r\n+ A JAXB *binding* file [element.xjb][3] for customizations\r\n+ A JUnit test class to demonstrate (un)marshalling\r\n+ Sample XML files with `Element` data.\r\n+ The Maven POM file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nElement\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                element.xjb\r\n                element.xsd\r\n        test\r\n            java\r\n                org/example/element/ElementTest.java\r\n            resources\r\n                simplelogger.properties\r\n            samples\r\n                Element101.xml\r\n                Element102.xml\r\n    pom.xml\r\n~~~\r\n\r\nThe JAXB classes are generated by this plugin in this project&#39;s [pom.xml][1]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n    org.example.element\r\n        Element.java\r\n        Subelement.java\r\n        ObjectFactory.java\r\n~~~\r\n\r\n#### Model\r\n\r\nThe model for this example consists of a root element with attributes, child elements and a value.\r\n\r\n~~~\r\nelement: root mixed=&quot;true&quot;\r\n    Id: attribute\r\n    Composite: attribute\r\n    subelement: children\r\n    VALUE\r\n~~~\r\n\r\n#### Testing\r\n\r\n~~~\r\nmvn clean test\r\n~~~\r\n\r\nThis [output][6] shows the test results.\r\n\r\nThe JUnit test class, [ElementTest][4], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][5] path is *unmarshaled* to an `element` object. When successful, the `element` object is *marshaled* for logging and your review.\r\n\r\n&gt; **Note:** For *mixed* content types, JAXB generates a `List` field named `content` to store an array of the sub-elements and value(s) found. There can be multiple values interspersed among the sub-elements. The `List` preserves the order of the sub-elements and values. If white-space is used to format the content, it will be bound to the neighboring values! A better alternative may be to eliminate the need for *mixed* content by declaring individual elements, in the model, for each data value.\r\n\r\n#### Download\r\n\r\nA zip containing the standalone *Maven* project and source code for this solution can be downloaded from [here][7].\r\n\r\n#### Java-First Design\r\n\r\nIn a *Java-First Design* (without xsd), the key to parsing the `220` value is to add a `@XmlMixed` annotation to the `content` field. When unmarshalling, the value will be included in the `content` list.\r\n\r\n**Element.java**\r\n~~~\r\npackage org.example.element;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.*;\r\nimport jakarta.xml.bind.JAXBElement;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;content&quot; })\r\n@XmlRootElement(name = &quot;element&quot;)\r\npublic class Element implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlElementRef(name = &quot;subelement&quot;, type = JAXBElement.class, required = false)\r\n    @XmlMixed\r\n    protected List&lt;Serializable&gt; content;\r\n    public List&lt;Serializable&gt; getContent() {\r\n        if (content == null) { content = new ArrayList&lt;&gt;(); }\r\n        return this.content;\r\n    }\r\n\r\n    @XmlAttribute(name = &quot;Id&quot;)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n\r\n    @XmlAttribute(name = &quot;Composite&quot;)\r\n    protected String composite;\r\n    public String getComposite() { return composite; }\r\n    public void setComposite(String value) { this.composite = value; }\r\n}\r\n~~~\r\n\r\n**Subelement.java**\r\n~~~\r\npackage org.example.element;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;subelement&quot;)\r\npublic class Subelement implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230301L;\r\n\r\n    @XmlAttribute(name = &quot;Id&quot;)\r\n    protected String id;\r\n    public String getId() { return id; }\r\n    public void setId(String value) { this.id = value; }\r\n\r\n    @XmlAttribute(name = &quot;Composite&quot;)\r\n    protected String composite;\r\n    public String getComposite() { return composite; }\r\n    public void setComposite(String value) { this.composite = value; }\r\n}\r\n~~~\r\n\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/project-pom.xml\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xsd\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xjb\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/test/java/org/example/element/ElementTest.java\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/element/src/test/samples\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/OUTPUT.txt\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-element-2.1.0-mvn-src.zip","title":"while using JAXB in converting some values does not converting","body":"<h3>Solution</h3>\n<p>To enable a character VALUE (i.e. <strong>220</strong>) to appear within the root element <em>together with subelements</em>, its <code>complexType</code> must have a <em>mixed</em> attribute set to &quot;true&quot;.</p>\n<p>Create a Maven project named <strong>Element</strong> using the standard file layout. This project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xsd\" rel=\"nofollow noreferrer\">element.xsd</a> for the <code>Element</code> model</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/main/resources/element.xjb\" rel=\"nofollow noreferrer\">element.xjb</a> for customizations</li>\n<li>A JUnit test class to demonstrate (un)marshalling</li>\n<li>Sample XML files with <code>Element</code> data.</li>\n<li>The Maven POM file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Element\n    src\n        main\n            java\n            resources\n                element.xjb\n                element.xsd\n        test\n            java\n                org/example/element/ElementTest.java\n            resources\n                simplelogger.properties\n            samples\n                Element101.xml\n                Element102.xml\n    pom.xml\n</code></pre>\n<p>The JAXB classes are generated by this plugin in this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n    org.example.element\n        Element.java\n        Subelement.java\n        ObjectFactory.java\n</code></pre>\n<h4>Model</h4>\n<p>The model for this example consists of a root element with attributes, child elements and a value.</p>\n<pre><code>element: root mixed=&quot;true&quot;\n    Id: attribute\n    Composite: attribute\n    subelement: children\n    VALUE\n</code></pre>\n<h4>Testing</h4>\n<pre><code>mvn clean test\n</code></pre>\n<p>This <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/OUTPUT.txt\" rel=\"nofollow noreferrer\">output</a> shows the test results.</p>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/element/src/test/java/org/example/element/ElementTest.java\" rel=\"nofollow noreferrer\">ElementTest</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/element/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to an <code>element</code> object. When successful, the <code>element</code> object is <em>marshaled</em> for logging and your review.</p>\n<blockquote>\n<p><strong>Note:</strong> For <em>mixed</em> content types, JAXB generates a <code>List</code> field named <code>content</code> to store an array of the sub-elements and value(s) found. There can be multiple values interspersed among the sub-elements. The <code>List</code> preserves the order of the sub-elements and values. If white-space is used to format the content, it will be bound to the neighboring values! A better alternative may be to eliminate the need for <em>mixed</em> content by declaring individual elements, in the model, for each data value.</p>\n</blockquote>\n<h4>Download</h4>\n<p>A zip containing the standalone <em>Maven</em> project and source code for this solution can be downloaded from <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-element-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h4>Java-First Design</h4>\n<p>In a <em>Java-First Design</em> (without xsd), the key to parsing the <code>220</code> value is to add a <code>@XmlMixed</code> annotation to the <code>content</code> field. When unmarshalling, the value will be included in the <code>content</code> list.</p>\n<p><strong>Element.java</strong></p>\n<pre><code>package org.example.element;\n\nimport java.io.Serializable;\nimport java.util.*;\nimport jakarta.xml.bind.JAXBElement;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;content&quot; })\n@XmlRootElement(name = &quot;element&quot;)\npublic class Element implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlElementRef(name = &quot;subelement&quot;, type = JAXBElement.class, required = false)\n    @XmlMixed\n    protected List&lt;Serializable&gt; content;\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) { content = new ArrayList&lt;&gt;(); }\n        return this.content;\n    }\n\n    @XmlAttribute(name = &quot;Id&quot;)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n\n    @XmlAttribute(name = &quot;Composite&quot;)\n    protected String composite;\n    public String getComposite() { return composite; }\n    public void setComposite(String value) { this.composite = value; }\n}\n</code></pre>\n<p><strong>Subelement.java</strong></p>\n<pre><code>package org.example.element;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;subelement&quot;)\npublic class Subelement implements Serializable\n{\n    private static final long serialVersionUID = 20230301L;\n\n    @XmlAttribute(name = &quot;Id&quot;)\n    protected String id;\n    public String getId() { return id; }\n    public void setId(String value) { this.id = value; }\n\n    @XmlAttribute(name = &quot;Composite&quot;)\n    protected String composite;\n    public String getComposite() { return composite; }\n    public void setComposite(String value) { this.composite = value; }\n}\n</code></pre>\n\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001348,"creation_date":1678190039,"question_id":75661656,"body_markdown":"Performing the conversion from XML to Java classes using JAXB statement.But I am facing some problems. That is, it can successfully convert the values in the attributes in the XML tag.But I can&#39;t translate the xml tag&#39;s own values. For example I want to convert this into my java calsses: `&lt;tag&gt;value&lt;/tag&gt;`\r\n\r\nThis is my xml tag line:\r\n            \r\n    &lt;element Id=&quot;BGM01&quot;&gt;220&lt;/element&gt;\r\n\r\nand this is my java classes.\r\n\r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class element {\r\n        @XmlAttribute(name = &quot;Id&quot;)\r\n        private String Id;\r\n        @XmlAttribute(name = &quot;Composite&quot;)\r\n        private String Composite;\r\n        private List&lt;subelement&gt; subelement;\r\n    }\r\n\r\nwhen generate java classes from xml file it generates values as like\r\n\r\n    {\r\n                    &quot;subelement&quot;: null,\r\n                    &quot;id&quot;: &quot;BGM01&quot;,\r\n                    &quot;composite&quot;: null\r\n    }\r\n\r\nas you can see value of tag **220** are not readed.\r\n\r\nWhat did I forget?","title":"while using JAXB in converting some values does not converting","body":"<p>Performing the conversion from XML to Java classes using JAXB statement.But I am facing some problems. That is, it can successfully convert the values in the attributes in the XML tag.But I can't translate the xml tag's own values. For example I want to convert this into my java calsses: <code>&lt;tag&gt;value&lt;/tag&gt;</code></p>\n<p>This is my xml tag line:</p>\n<pre><code>&lt;element Id=&quot;BGM01&quot;&gt;220&lt;/element&gt;\n</code></pre>\n<p>and this is my java classes.</p>\n<pre><code>@Data\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class element {\n    @XmlAttribute(name = &quot;Id&quot;)\n    private String Id;\n    @XmlAttribute(name = &quot;Composite&quot;)\n    private String Composite;\n    private List&lt;subelement&gt; subelement;\n}\n</code></pre>\n<p>when generate java classes from xml file it generates values as like</p>\n<pre><code>{\n                &quot;subelement&quot;: null,\n                &quot;id&quot;: &quot;BGM01&quot;,\n                &quot;composite&quot;: null\n}\n</code></pre>\n<p>as you can see value of tag <strong>220</strong> are not readed.</p>\n<p>What did I forget?</p>\n"},{"tags":["java","gradle","helidon","jandex"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1678984990,"post_id":75759020,"comment_id":133643101,"body_markdown":"If Helidon requires Jandex 2.3 and you generate a Jandex index using Jandex 3.0, that won&#39;t work. Jandex index format is backward compatible, but not forward compatible (see the compatibility promise at https://smallrye.io/jandex/). Just generate an index using Jandex 2.3.1, which the Jandex Gradle plugin 0.x should easily allow. Aside, it is true there&#39;s little &quot;conceptual&quot; documentation for Jandex, but it is overall expected that application developers don&#39;t need to know anything about it. Even in this case, you don&#39;t have a Jandex problem -- you have a dependency convergence problem.","body":"If Helidon requires Jandex 2.3 and you generate a Jandex index using Jandex 3.0, that won&#39;t work. Jandex index format is backward compatible, but not forward compatible (see the compatibility promise at <a href=\"https://smallrye.io/jandex/\" rel=\"nofollow noreferrer\">smallrye.io/jandex</a>). Just generate an index using Jandex 2.3.1, which the Jandex Gradle plugin 0.x should easily allow. Aside, it is true there&#39;s little &quot;conceptual&quot; documentation for Jandex, but it is overall expected that application developers don&#39;t need to know anything about it. Even in this case, you don&#39;t have a Jandex problem -- you have a dependency convergence problem."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1678989878,"post_id":75759020,"comment_id":133644546,"body_markdown":"There are several Gradle 0.x plugins. Can you recommend a specific one, or should I just use trial and error until I find the latest one that works? Also, in this context, I am not the application developer, I am working in the role of build engineer, although I am doing my best to think more like the application developers who built this. Agreed, in trying to upgrade to Java 11+, I have created a dependency convergence problem.","body":"There are several Gradle 0.x plugins. Can you recommend a specific one, or should I just use trial and error until I find the latest one that works? Also, in this context, I am not the application developer, I am working in the role of build engineer, although I am doing my best to think more like the application developers who built this. Agreed, in trying to upgrade to Java 11+, I have created a dependency convergence problem."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1679001262,"post_id":75759020,"comment_id":133647275,"body_markdown":"Helidon 2.x itself appears to standardize on the `org.jboss.jandex:jandex-maven-plugin:1.1.0` artifact. Since presumably that generates indices that SmallRye&#39;s OpenAPI project version 2.0.26 can read, then perhaps it will do fine for you as well. See https://github.com/helidon-io/helidon/blob/helidon-2.x/pom.xml#L456-L460.","body":"Helidon 2.x itself appears to standardize on the <code>org.jboss.jandex:jandex-maven-plugin:1.1.0</code> artifact. Since presumably that generates indices that SmallRye&#39;s OpenAPI project version 2.0.26 can read, then perhaps it will do fine for you as well. See <a href=\"https://github.com/helidon-io/helidon/blob/helidon-2.x/pom.xml#L456-L460\" rel=\"nofollow noreferrer\">github.com/helidon-io/helidon/blob/helidon-2.x/&hellip;</a>."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":1,"creation_date":1679001979,"post_id":75759020,"comment_id":133647421,"body_markdown":"(My mistake; I forgot you are a Gradle user. I don&#39;t know Gradle so cannot comment on which plugin you should use.)","body":"(My mistake; I forgot you are a Gradle user. I don&#39;t know Gradle so cannot comment on which plugin you should use.)"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1679007716,"post_id":75759020,"comment_id":133648514,"body_markdown":"I meant the `kordamp` Jandex Gradle plugin, which seems to be the most commonly used one.","body":"I meant the <code>kordamp</code> Jandex Gradle plugin, which seems to be the most commonly used one."},{"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"score":0,"creation_date":1679066858,"post_id":75759020,"comment_id":133659790,"body_markdown":"Yes, we are using kordamp jandex plugin.","body":"Yes, we are using kordamp jandex plugin."}],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679001164,"creation_date":1679001164,"answer_id":75761672,"question_id":75759020,"body_markdown":"To answer the question as asked:\r\n\r\nNo, you cannot get Helidon 2.x to use Jandex 3.x.  Among other things, this is because ([as previously explained](https://github.com/smallrye/jandex/issues/300#issuecomment-1470939911)) the version of SmallRye&#39;s OpenAPI project (which is actually the thing that uses Jandex, so Helidon is basically irrelevant here) that is used by Helidon 2.x requires the API published by Jandex 2.x.\r\n\r\nTo answer a rephrasing of the question:\r\n\r\n&quot;Can I get SmallRye&#39;s OpenAPI project version 2.0.26, whether it is used by Helidon or not, to use Jandex 3.x?&quot;\r\n\r\nNo, you cannot get SmallRye&#39;s OpenAPI project version 2.0.26 to use Jandex 3.x.  Among other things, this is because ([as previously explained](https://github.com/smallrye/jandex/issues/300#issuecomment-1470786940)) the API exposed by Jandex 2.x is different from the API exposed by Jandex 3.x (which is almost certainly why the major version number increased).","title":"Can I get Helidon 2.x to use the latest Jandex versions","body":"<p>To answer the question as asked:</p>\n<p>No, you cannot get Helidon 2.x to use Jandex 3.x.  Among other things, this is because (<a href=\"https://github.com/smallrye/jandex/issues/300#issuecomment-1470939911\" rel=\"nofollow noreferrer\">as previously explained</a>) the version of SmallRye's OpenAPI project (which is actually the thing that uses Jandex, so Helidon is basically irrelevant here) that is used by Helidon 2.x requires the API published by Jandex 2.x.</p>\n<p>To answer a rephrasing of the question:</p>\n<p>&quot;Can I get SmallRye's OpenAPI project version 2.0.26, whether it is used by Helidon or not, to use Jandex 3.x?&quot;</p>\n<p>No, you cannot get SmallRye's OpenAPI project version 2.0.26 to use Jandex 3.x.  Among other things, this is because (<a href=\"https://github.com/smallrye/jandex/issues/300#issuecomment-1470786940\" rel=\"nofollow noreferrer\">as previously explained</a>) the API exposed by Jandex 2.x is different from the API exposed by Jandex 3.x (which is almost certainly why the major version number increased).</p>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679001164,"creation_date":1678984156,"question_id":75759020,"body_markdown":"From \r\n- https://github.com/smallrye/jandex/issues/300\r\n- https://github.com/smallrye/jandex/issues/301\r\n\r\nI am trying to clean up a messy Gradle-based monorepo while upgrading from Java 8 to Java 11/17. I am not a Jandex or Helidon expert, but I am slowly getting more expert with Gradle. I am wondering if Bazel would be a better solution. &#129300;, but I digress...\r\n\r\nAlong the way, many things broke, and my general approach has been upgrading version of tools that hopefully work better with Java 11. However, this is not always an effective strategy.\r\n\r\nWe use Helidon 2.x for several projects, but I have run into trouble with Jandex, and I really don&#39;t understand Jandex as the documentation is weak on context. ChatGPT gave me a better explanation of Jandex than the Jandex documentation, but I can only go so far. &#128527;\r\n\r\nI tried upgrading to Helidon 3.x, but too many things broke. It appears that Jandex wants `org.jboss:jandex:2.3.1.Final (c)`, but I am wondering if there is any way to make it work with `io.smallrye:jandex:3.0.5` or `io.jboss:jandex:3.0.5` just so I can have the latest version of things? Right now, I am trying to figure out the best version of the Gradle Jandex Pluging to use, as `1.1.0` does not seem to work.\r\n\r\nI tried to force this with https://docs.gradle.org/current/userguide/dependency_constraints.html but could not get it working.\r\n\r\nThe people on the https://github.com/smallrye/jandex issues have been enormously helpful and prompt, but have suggested this is a better forum for getting help with my issues.\r\n\r\nFinally, can anyone point me to some more comprehensive documentation on Jandex and how it works?\r\n\r\n","title":"Can I get Helidon 2.x to use the latest Jandex versions","body":"<p>From</p>\n<ul>\n<li><a href=\"https://github.com/smallrye/jandex/issues/300\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex/issues/300</a></li>\n<li><a href=\"https://github.com/smallrye/jandex/issues/301\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex/issues/301</a></li>\n</ul>\n<p>I am trying to clean up a messy Gradle-based monorepo while upgrading from Java 8 to Java 11/17. I am not a Jandex or Helidon expert, but I am slowly getting more expert with Gradle. I am wondering if Bazel would be a better solution. 🤔, but I digress...</p>\n<p>Along the way, many things broke, and my general approach has been upgrading version of tools that hopefully work better with Java 11. However, this is not always an effective strategy.</p>\n<p>We use Helidon 2.x for several projects, but I have run into trouble with Jandex, and I really don't understand Jandex as the documentation is weak on context. ChatGPT gave me a better explanation of Jandex than the Jandex documentation, but I can only go so far. 😏</p>\n<p>I tried upgrading to Helidon 3.x, but too many things broke. It appears that Jandex wants <code>org.jboss:jandex:2.3.1.Final (c)</code>, but I am wondering if there is any way to make it work with <code>io.smallrye:jandex:3.0.5</code> or <code>io.jboss:jandex:3.0.5</code> just so I can have the latest version of things? Right now, I am trying to figure out the best version of the Gradle Jandex Pluging to use, as <code>1.1.0</code> does not seem to work.</p>\n<p>I tried to force this with <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_constraints.html</a> but could not get it working.</p>\n<p>The people on the <a href=\"https://github.com/smallrye/jandex\" rel=\"nofollow noreferrer\">https://github.com/smallrye/jandex</a> issues have been enormously helpful and prompt, but have suggested this is a better forum for getting help with my issues.</p>\n<p>Finally, can anyone point me to some more comprehensive documentation on Jandex and how it works?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000832,"creation_date":1679000832,"answer_id":75761640,"question_id":43896694,"body_markdown":"Good cryptographic support did not land in Java until version 8, with fairly good support in version 7.\r\n\r\nBut it should be noted that [according to the 1.0 spec](https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation), if the JWT was directly obtained from the issuer via a TLS connection, the token signature can be assumed to be valid:\r\n\r\n&gt; 3.1.3.7.  ID Token Validation\r\n&gt;\r\n&gt; Clients MUST validate the ID Token in the Token Response in the following manner:\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;  6. If the ID Token is received via direct communication between the Client and the Token Endpoint (which it is in [the code] flow), the TLS server validation MAY be used to validate the issuer in place of checking the token signature. The Client MUST validate the signature of all other ID Tokens according to JWS using the algorithm specified in the JWT `alg` Header Parameter. The Client MUST use the keys provided by the Issuer.\r\n&gt;\r\n&gt; ...\r\n\r\nBTW, thanks for your question, it actually answered my question regarding how to check a JWT signature.","title":"How to verify JWT signature using Java 1.4","body":"<p>Good cryptographic support did not land in Java until version 8, with fairly good support in version 7.</p>\n<p>But it should be noted that <a href=\"https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation\" rel=\"nofollow noreferrer\">according to the 1.0 spec</a>, if the JWT was directly obtained from the issuer via a TLS connection, the token signature can be assumed to be valid:</p>\n<blockquote>\n<p>3.1.3.7.  ID Token Validation</p>\n<p>Clients MUST validate the ID Token in the Token Response in the following manner:</p>\n<p>...</p>\n<ol start=\"6\">\n<li>If the ID Token is received via direct communication between the Client and the Token Endpoint (which it is in [the code] flow), the TLS server validation MAY be used to validate the issuer in place of checking the token signature. The Client MUST validate the signature of all other ID Tokens according to JWS using the algorithm specified in the JWT <code>alg</code> Header Parameter. The Client MUST use the keys provided by the Issuer.</li>\n</ol>\n<p>...</p>\n</blockquote>\n<p>BTW, thanks for your question, it actually answered my question regarding how to check a JWT signature.</p>\n"}],"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679000832,"creation_date":1494429687,"question_id":43896694,"body_markdown":"I am working on a legacy IBM WCS e-Commerce application which is built on JDK 1.4.\r\n\r\n I have requirement verify a JWT token by calling an external JSON Web Key Set (JWKS) (/.well-known/jwks.json) end-point to retrieve the public key and use the verify the token signature and retrieve the Claims. \r\n\r\nBelow is the code using Java 8 which provides the RSA Public Key based on the &#39;n&#39; and &#39;e&#39; values from JSON Web Key. \r\n\r\n    public PublicKey getPublicKey() throws InvalidPublicKeyException {\r\n        try {\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            BigInteger modulus = new BigInteger(1,Base64.decodeBase64(stringValue(&quot;n&quot;)));\r\n            BigInteger exponent = new BigInteger(1, \r\n    Base64.decodeBase64(stringValue(&quot;e&quot;)));\r\n            return kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\r\n        } catch (InvalidKeySpecException e) {\r\n            ......\r\n        } catch (NoSuchAlgorithmException e) {\r\n            ......\r\n        }\r\n    }\r\nLater I use that KEY to verify the signature,\r\n\r\n    Claims claims = Jwts.parser()\r\n                    .setSigningKey(getPublicKey(decodeToken(token)))\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\nIs it possible to achieve the same above 2 functionalities using Java 1.4 (or) at least using Java 5? Please guide, thanks!\r\n\r\n","title":"How to verify JWT signature using Java 1.4","body":"<p>I am working on a legacy IBM WCS e-Commerce application which is built on JDK 1.4.</p>\n\n<p>I have requirement verify a JWT token by calling an external JSON Web Key Set (JWKS) (/.well-known/jwks.json) end-point to retrieve the public key and use the verify the token signature and retrieve the Claims. </p>\n\n<p>Below is the code using Java 8 which provides the RSA Public Key based on the 'n' and 'e' values from JSON Web Key. </p>\n\n<pre><code>public PublicKey getPublicKey() throws InvalidPublicKeyException {\n    try {\n        KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n        BigInteger modulus = new BigInteger(1,Base64.decodeBase64(stringValue(\"n\")));\n        BigInteger exponent = new BigInteger(1, \nBase64.decodeBase64(stringValue(\"e\")));\n        return kf.generatePublic(new RSAPublicKeySpec(modulus, exponent));\n    } catch (InvalidKeySpecException e) {\n        ......\n    } catch (NoSuchAlgorithmException e) {\n        ......\n    }\n}\n</code></pre>\n\n<p>Later I use that KEY to verify the signature,</p>\n\n<pre><code>Claims claims = Jwts.parser()\n                .setSigningKey(getPublicKey(decodeToken(token)))\n                .parseClaimsJws(token)\n                .getBody();\n</code></pre>\n\n<p>Is it possible to achieve the same above 2 functionalities using Java 1.4 (or) at least using Java 5? Please guide, thanks!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1678993505,"post_id":75759041,"comment_id":133645533,"body_markdown":"try `@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)` on the `Date` object, also i do recommend that you use `LocalDate` instead of the old `Date` object","body":"try <code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)</code> on the <code>Date</code> object, also i do recommend that you use <code>LocalDate</code> instead of the old <code>Date</code> object"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005843,"post_id":75759041,"comment_id":133648219,"body_markdown":"`new Date(2022-01-01)` is not valid Java syntax.","body":"<code>new Date(2022-01-01)</code> is not valid Java syntax."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005885,"post_id":75759041,"comment_id":133648227,"body_markdown":"Which of the two bundled classes did you mean by `Date`? `java.util.Date` or `java.sql.Date`?","body":"Which of the two bundled classes did you mean by <code>Date</code>? <code>java.util.Date</code> or <code>java.sql.Date</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679005956,"post_id":75759041,"comment_id":133648244,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. For a date-only value, use `java.time.LocalDate`. Support for *java.time* is mandatory in JDBC 4.2 and later.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. For a date-only value, use <code>java.time.LocalDate</code>. Support for <i>java.time</i> is mandatory in JDBC 4.2 and later."},{"owner":{"account_id":27800590,"reputation":1,"user_id":21225118,"display_name":"아삭아삭아삭"},"score":0,"creation_date":1679018437,"post_id":75759041,"comment_id":133649874,"body_markdown":"I used java.util.Date. \nand I tried LocalDate Type on dogBirthDate&#39;s field. That was too passed on postman but also failed on test code.\nhow can I coding on test code where stub dogDto.Post post (dogBirthDate) ?","body":"I used java.util.Date.  and I tried LocalDate Type on dogBirthDate&#39;s field. That was too passed on postman but also failed on test code. how can I coding on test code where stub dogDto.Post post (dogBirthDate) ?"}],"owner":{"account_id":27800590,"reputation":1,"user_id":21225118,"display_name":"아삭아삭아삭"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679000619,"creation_date":1678984272,"question_id":75759041,"body_markdown":"Requests and responses are sent and received with Postman, but the test code fails as follows.\r\n[error Message](https://i.stack.imgur.com/z4il7.png)\r\n[error Message](https://i.stack.imgur.com/PvFOs.png)\r\n\r\n```\r\n2023-03-17 01:10:44.796 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n2023-03-17 01:10:44.920  WARN 1388 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jan 1, 1970, 9:00:02 AM&#39;: Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;)); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jan 1, 1970, 9:00:02 AM&#39;: Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 36] (through reference chain: com.mainproject.udog_server.api.dto.DogDto$Post[&quot;dogBirthDate&quot;])]\r\n2023-03-17 01:10:44.920 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /my-dogs\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;124&quot;]\r\n             Body = {&quot;dogName&quot;:&quot;럭키&quot;,&quot;dogBirthDate&quot;:&quot;Jan 1, 1970, 9:00:02 AM&quot;,&quot;dogSpecies&quot;:&quot;기타&quot;,&quot;dogWeight&quot;:10,&quot;dogDescription&quot;:&quot;없음&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.mainproject.udog_server.api.controller.DogController\r\n           Method = com.mainproject.udog_server.api.controller.DogController#postDog(Post, Principal)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 400\r\n    Error message = null\r\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;SAMEORIGIN&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\nStatus expected:&lt;201&gt; but was:&lt;400&gt;\r\nExpected :201\r\nActual   :400\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\r\n\tat com.mainproject.udog_server.restdocs.dog.DogControllerRestDocsTest.postDogTest(DogControllerRestDocsTest.java:109)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n\r\n```\r\n\r\nMy test code is here\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@AutoConfigureRestDocs\r\npublic class DogControllerRestDocsTest {\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private DogService dogService;\r\n\r\n    @MockBean\r\n    private MemberService memberService;\r\n    @MockBean\r\n    private DogMapper mapper;\r\n\r\n    @Autowired\r\n    private Gson gson;\r\n\r\n    @Test\r\n    void postDogTest() throws Exception {\r\n        //given\r\n\r\n        DogDto.Post post = new DogDto.Post(&quot;럭키&quot;, new Date(2022-01-01), Dog.DogSpecies.기타, 10, &quot;없음&quot;);\r\n        String content = gson.toJson(post);\r\n\r\n        Member mockMember = new Member();\r\n        mockMember.setMemberId(1L);\r\n\r\n        Principal principal = () -&gt; &quot;test@test.com&quot;;\r\n        given(memberService.findLoginMemberByEmail(Mockito.anyString())).willReturn(mockMember);\r\n\r\n        given(mapper.dogPostDtoToDog(Mockito.any(DogDto.Post.class))).willReturn(new Dog());\r\n\r\n        given(dogService.createDog(Mockito.any(Dog.class))).willReturn(new Dog());\r\n\r\n        DogDto.Response responseDto = new DogDto.Response(1L,&quot;럭키&quot;,  &quot;2022-01-01&quot;, Dog.DogSpecies.기타, 10, &quot;없음&quot;);\r\n\r\n        given(mapper.dogToDogResponse(Mockito.any(Dog.class))).willReturn(responseDto);\r\n\r\n        //when\r\n        ResultActions actions =\r\n                mockMvc.perform(\r\n                        post(&quot;/my-dogs&quot;)\r\n                                .accept(MediaType.APPLICATION_JSON)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                                .content(content)\r\n                                .with(user(&quot;test@test.com&quot;))\r\n                                .principal(principal)\r\n                );\r\n\r\n        //then\r\n        actions\r\n                .andExpect(status().isCreated())\r\n                .andExpect(header().string(&quot;Location&quot;, is(startsWith(&quot;/my-dogs&quot;))))\r\n                .andDo(document(\r\n                        &quot;post-dog&quot;,\r\n                        getRequestPreProcessor(),\r\n                        getResponsePreProcessor(),\r\n                        requestFields(\r\n                                List.of(\r\n                                        fieldWithPath(&quot;dogName&quot;).type(JsonFieldType.STRING).description(&quot;강아지 이름&quot;),\r\n                                        fieldWithPath(&quot;dogBirthDate&quot;).type(JsonFieldType.STRING).description(&quot;강아지 생일&quot;),\r\n                                        fieldWithPath(&quot;dogSpecies&quot;).type(JsonFieldType.STRING).description(&quot;강아지 품종&quot;),\r\n                                        fieldWithPath(&quot;dogWeight&quot;).type(JsonFieldType.NUMBER).description(&quot;강아지 몸무게&quot;),\r\n                                        fieldWithPath(&quot;dogDescription&quot;).type(JsonFieldType.STRING).description(&quot;특이사항&quot;)\r\n                                )\r\n                        ),\r\n                        responseHeaders(\r\n                                headerWithName(HttpHeaders.LOCATION).description(&quot;Location header. 등록된 리소스의  URI&quot;)\r\n                        )\r\n\r\n                ));\r\n    }\r\n\r\n```\r\n\r\nand postDto and Response Code is here\r\n\r\n```\r\npublic class DogDto {\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n\r\n    public static class Post {\r\n        @NotBlank\r\n        private String dogName;\r\n\r\n        @NotNull\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private Date dogBirthDate;\r\n\r\n        @NotNull\r\n        private Dog.DogSpecies dogSpecies;\r\n\r\n        @NotNull\r\n        private int dogWeight;\r\n\r\n        private String dogDescription;\r\n    }\r\n\r\n@AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n\r\n    public static class Response {\r\n        private long dogId;\r\n        private String dogName;\r\n        private String dogBirthDate;\r\n        private Dog.DogSpecies dogSpecies;\r\n        private int dogWeight;\r\n        private String dogDescription;\r\n   }\r\n}\r\n```\r\n\r\nand controller&#39;s @PostMapping Code is here\r\n```\r\n  @PostMapping\r\n    public ResponseEntity postDog (@Valid @RequestBody DogDto.Post post, Principal principal){\r\n        Dog creatingDog = dogMapper.dogPostDtoToDog(post);\r\n\r\n        Dog createdDog = compositeService.createDog(creatingDog, principal.getName());\r\n        DogDto.Response response = dogMapper.dogToDogResponse(createdDog);\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nand Entity&#39;s Code is here\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Dog {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long dogId;\r\n\r\n    @Column(nullable = false, length = 100)\r\n    private String dogName;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private Date dogBirthDate;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    @Column(nullable = false, length = 25)\r\n    private DogSpecies dogSpecies = DogSpecies.기타;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private int dogWeight;\r\n\r\n    @Column\r\n    private String dogDescription;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MEMBER_ID&quot;)\r\n    private Member member;\r\n  }\r\n\r\n```\r\n\r\n\r\nI used @JsonFormat annotation at dogDto.Post\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n private String dogBirthDate;\r\n```\r\n\r\nand used too @DateTimeFormat annotation\r\n```\r\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate Date dogBirthDate;\r\n```\r\n\r\nbut there are not passed test code too.\r\n\r\nhow can i solve this problem?","title":"I specified the birthdate(yyyy-MM-dd) field as a Date type, but an error occurs in the test code","body":"<p>Requests and responses are sent and received with Postman, but the test code fails as follows.\n<a href=\"https://i.stack.imgur.com/z4il7.png\" rel=\"nofollow noreferrer\">error Message</a>\n<a href=\"https://i.stack.imgur.com/PvFOs.png\" rel=\"nofollow noreferrer\">error Message</a></p>\n<pre><code>2023-03-17 01:10:44.796 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n2023-03-17 01:10:44.920  WARN 1388 --- [    Test worker] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value 'Jan 1, 1970, 9:00:02 AM': Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;)); nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.util.Date` from String &quot;Jan 1, 1970, 9:00:02 AM&quot;: not a valid representation (error: Failed to parse Date value 'Jan 1, 1970, 9:00:02 AM': Cannot parse date &quot;Jan 1, 1970, 9:00:02 AM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 36] (through reference chain: com.mainproject.udog_server.api.dto.DogDto$Post[&quot;dogBirthDate&quot;])]\n2023-03-17 01:10:44.920 DEBUG 1388 --- [    Test worker] o.j.s.OpenEntityManagerInViewInterceptor : Closing JPA EntityManager in OpenEntityManagerInViewInterceptor\n\nMockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /my-dogs\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;124&quot;]\n             Body = {&quot;dogName&quot;:&quot;럭키&quot;,&quot;dogBirthDate&quot;:&quot;Jan 1, 1970, 9:00:02 AM&quot;,&quot;dogSpecies&quot;:&quot;기타&quot;,&quot;dogWeight&quot;:10,&quot;dogDescription&quot;:&quot;없음&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.mainproject.udog_server.api.controller.DogController\n           Method = com.mainproject.udog_server.api.controller.DogController#postDog(Post, Principal)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;SAMEORIGIN&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\nStatus expected:&lt;201&gt; but was:&lt;400&gt;\nExpected :201\nActual   :400\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: Status expected:&lt;201&gt; but was:&lt;400&gt;\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\n    at com.mainproject.udog_server.restdocs.dog.DogControllerRestDocsTest.postDogTest(DogControllerRestDocsTest.java:109)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n\n</code></pre>\n<p>My test code is here</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@AutoConfigureRestDocs\npublic class DogControllerRestDocsTest {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private DogService dogService;\n\n    @MockBean\n    private MemberService memberService;\n    @MockBean\n    private DogMapper mapper;\n\n    @Autowired\n    private Gson gson;\n\n    @Test\n    void postDogTest() throws Exception {\n        //given\n\n        DogDto.Post post = new DogDto.Post(&quot;럭키&quot;, new Date(2022-01-01), Dog.DogSpecies.기타, 10, &quot;없음&quot;);\n        String content = gson.toJson(post);\n\n        Member mockMember = new Member();\n        mockMember.setMemberId(1L);\n\n        Principal principal = () -&gt; &quot;test@test.com&quot;;\n        given(memberService.findLoginMemberByEmail(Mockito.anyString())).willReturn(mockMember);\n\n        given(mapper.dogPostDtoToDog(Mockito.any(DogDto.Post.class))).willReturn(new Dog());\n\n        given(dogService.createDog(Mockito.any(Dog.class))).willReturn(new Dog());\n\n        DogDto.Response responseDto = new DogDto.Response(1L,&quot;럭키&quot;,  &quot;2022-01-01&quot;, Dog.DogSpecies.기타, 10, &quot;없음&quot;);\n\n        given(mapper.dogToDogResponse(Mockito.any(Dog.class))).willReturn(responseDto);\n\n        //when\n        ResultActions actions =\n                mockMvc.perform(\n                        post(&quot;/my-dogs&quot;)\n                                .accept(MediaType.APPLICATION_JSON)\n                                .contentType(MediaType.APPLICATION_JSON)\n                                .content(content)\n                                .with(user(&quot;test@test.com&quot;))\n                                .principal(principal)\n                );\n\n        //then\n        actions\n                .andExpect(status().isCreated())\n                .andExpect(header().string(&quot;Location&quot;, is(startsWith(&quot;/my-dogs&quot;))))\n                .andDo(document(\n                        &quot;post-dog&quot;,\n                        getRequestPreProcessor(),\n                        getResponsePreProcessor(),\n                        requestFields(\n                                List.of(\n                                        fieldWithPath(&quot;dogName&quot;).type(JsonFieldType.STRING).description(&quot;강아지 이름&quot;),\n                                        fieldWithPath(&quot;dogBirthDate&quot;).type(JsonFieldType.STRING).description(&quot;강아지 생일&quot;),\n                                        fieldWithPath(&quot;dogSpecies&quot;).type(JsonFieldType.STRING).description(&quot;강아지 품종&quot;),\n                                        fieldWithPath(&quot;dogWeight&quot;).type(JsonFieldType.NUMBER).description(&quot;강아지 몸무게&quot;),\n                                        fieldWithPath(&quot;dogDescription&quot;).type(JsonFieldType.STRING).description(&quot;특이사항&quot;)\n                                )\n                        ),\n                        responseHeaders(\n                                headerWithName(HttpHeaders.LOCATION).description(&quot;Location header. 등록된 리소스의  URI&quot;)\n                        )\n\n                ));\n    }\n\n</code></pre>\n<p>and postDto and Response Code is here</p>\n<pre><code>public class DogDto {\n    @Getter\n    @Setter\n    @AllArgsConstructor\n\n    public static class Post {\n        @NotBlank\n        private String dogName;\n\n        @NotNull\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n        private Date dogBirthDate;\n\n        @NotNull\n        private Dog.DogSpecies dogSpecies;\n\n        @NotNull\n        private int dogWeight;\n\n        private String dogDescription;\n    }\n\n@AllArgsConstructor\n    @Getter\n    @Setter\n\n    public static class Response {\n        private long dogId;\n        private String dogName;\n        private String dogBirthDate;\n        private Dog.DogSpecies dogSpecies;\n        private int dogWeight;\n        private String dogDescription;\n   }\n}\n</code></pre>\n<p>and controller's @PostMapping Code is here</p>\n<pre><code>  @PostMapping\n    public ResponseEntity postDog (@Valid @RequestBody DogDto.Post post, Principal principal){\n        Dog creatingDog = dogMapper.dogPostDtoToDog(post);\n\n        Dog createdDog = compositeService.createDog(creatingDog, principal.getName());\n        DogDto.Response response = dogMapper.dogToDogResponse(createdDog);\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>and Entity's Code is here</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Dog {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long dogId;\n\n    @Column(nullable = false, length = 100)\n    private String dogName;\n\n    @Column(nullable = false, length = 20)\n    private Date dogBirthDate;\n\n    @Enumerated(value = EnumType.STRING)\n    @Column(nullable = false, length = 25)\n    private DogSpecies dogSpecies = DogSpecies.기타;\n\n    @Column(nullable = false, length = 20)\n    private int dogWeight;\n\n    @Column\n    private String dogDescription;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MEMBER_ID&quot;)\n    private Member member;\n  }\n\n</code></pre>\n<p>I used @JsonFormat annotation at dogDto.Post</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n private String dogBirthDate;\n</code></pre>\n<p>and used too @DateTimeFormat annotation</p>\n<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate Date dogBirthDate;\n</code></pre>\n<p>but there are not passed test code too.</p>\n<p>how can i solve this problem?</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":11308336,"reputation":12935,"user_id":8292178,"accept_rate":57,"display_name":"mahan"},"score":2,"creation_date":1678995314,"post_id":75760875,"comment_id":133645947,"body_markdown":"How about using `serverHttpRequest.getQueryParams()`?","body":"How about using <code>serverHttpRequest.getQueryParams()</code>?"},{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1678995368,"post_id":75760875,"comment_id":133645967,"body_markdown":"I think that requires a &quot;key&quot; which returns value from the query. In my case, I want all the string comes after &quot;?&quot;","body":"I think that requires a &quot;key&quot; which returns value from the query. In my case, I want all the string comes after &quot;?&quot;"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1678998016,"post_id":75760875,"comment_id":133646600,"body_markdown":"You might try: `String.join(&quot;&amp;&quot;, serverHttpRequest.getQueryParams())` or `serverHttpRequest.getQuereyParams().stream(.collect(Collectors.joining(&quot;&amp;&quot;));`","body":"You might try: <code>String.join(&quot;&amp;&quot;, serverHttpRequest.getQueryParams())</code> or <code>serverHttpRequest.getQuereyParams().stream(.collect(Collecto&zwnj;&#8203;rs.joining(&quot;&amp;&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679000541,"creation_date":1679000146,"answer_id":75761558,"question_id":75760875,"body_markdown":"Try to use getRawQuery instead to get the original string after the ? sign\r\n\r\n    request.getURI().getRawQuery()\r\n\r\nSee https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/\r\n\r\n\r\n\r\nAs an alternative option to have a look into you could get all of the parameters as a map using \r\n\r\n    @RequestParam Map&lt;String,String&gt; allParams\r\n\r\nSee https://www.baeldung.com/spring-request-param","title":"Best way to get all string comes after &quot;?&quot; in url in spring webflux","body":"<p>Try to use getRawQuery instead to get the original string after the ? sign</p>\n<pre><code>request.getURI().getRawQuery()\n</code></pre>\n<p>See <a href=\"https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/uri-getrawquery-method-in-java-with-examples/</a></p>\n<p>As an alternative option to have a look into you could get all of the parameters as a map using</p>\n<pre><code>@RequestParam Map&lt;String,String&gt; allParams\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75761558,"answer_count":1,"score":0,"last_activity_date":1679000541,"creation_date":1678995001,"question_id":75760875,"body_markdown":"I need to extract all the string that comes after &quot;?&quot; in spring webflux. Basically if request was\r\n```\r\nhttp://localhost:8080/test?some=query|test=whatever,|something\r\n```\r\nI want to extract\r\n```\r\nsome=query|test=whatever,|something\r\n```\r\nas one string value. Here is what I am doing:\r\n```\r\n@GetMapping(path = &quot;/test&quot;, produces = APPLICATION_JSON_VALUE)\r\npublic Mono&lt;String&gt; test(ServerHttpRequest serverHttpRequest) {\r\n    String uri = serverHttpRequest.getURI().toString();\r\n    String queryParam = uri.substring(uri.lastIndexOf(&quot;?&quot;) + 1);\r\n    return Mono.just(queryParam);\r\n}\r\n```\r\nIt does work, but I want to know if there is better or cleaner way to write this code.\r\n\r\nUPDATE:\r\nI found that this is little better:\r\n```\r\nString queryParam = serverHttpRequest.getUri().getRawQuery();\r\n```","title":"Best way to get all string comes after &quot;?&quot; in url in spring webflux","body":"<p>I need to extract all the string that comes after &quot;?&quot; in spring webflux. Basically if request was</p>\n<pre><code>http://localhost:8080/test?some=query|test=whatever,|something\n</code></pre>\n<p>I want to extract</p>\n<pre><code>some=query|test=whatever,|something\n</code></pre>\n<p>as one string value. Here is what I am doing:</p>\n<pre><code>@GetMapping(path = &quot;/test&quot;, produces = APPLICATION_JSON_VALUE)\npublic Mono&lt;String&gt; test(ServerHttpRequest serverHttpRequest) {\n    String uri = serverHttpRequest.getURI().toString();\n    String queryParam = uri.substring(uri.lastIndexOf(&quot;?&quot;) + 1);\n    return Mono.just(queryParam);\n}\n</code></pre>\n<p>It does work, but I want to know if there is better or cleaner way to write this code.</p>\n<p>UPDATE:\nI found that this is little better:</p>\n<pre><code>String queryParam = serverHttpRequest.getUri().getRawQuery();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24392869,"reputation":1,"user_id":18322597,"display_name":"Manas Dodiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000274,"creation_date":1679000274,"answer_id":75761572,"question_id":72849366,"body_markdown":"This error usually comes while working with images if I am not wrong then you can fix this by doing 3 things\r\n\r\n1st = Use painterResource(id = R.drawable.image_id) instead of painterResource(id = drawable.image_id)\r\n\r\n2nd = Go to Finder and to this location /Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/\r\n\r\n3rd = Put the same image (copy the same image you added to drawable) into drawable folder\r\n\r\nThis would fix the ERROR if it is with the images.","title":".DS_Store is not a directory error - Android Studio","body":"<p>This error usually comes while working with images if I am not wrong then you can fix this by doing 3 things</p>\n<p>1st = Use painterResource(id = R.drawable.image_id) instead of painterResource(id = drawable.image_id)</p>\n<p>2nd = Go to Finder and to this location /Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/</p>\n<p>3rd = Put the same image (copy the same image you added to drawable) into drawable folder</p>\n<p>This would fix the ERROR if it is with the images.</p>\n"}],"owner":{"account_id":24102350,"reputation":3,"user_id":18074018,"display_name":"HugeCodingNoobie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679000274,"creation_date":1656876973,"question_id":72849366,"body_markdown":"I&#39;m working on an Android project from my Macbook and I&#39;m getting the error \r\n\r\n    &#39;/Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/.DS_Store&#39; is not a directory\r\n\r\nI&#39;ve added it to my .gitignore and to under Preferences&gt;File Types&gt;Ignored Files and Folders and yet when I run my project I&#39;m still getting the same error.\r\n\r\nI know that .DS_Store is something that IOS automatically adds when you view the files through the Finder (From my understanding) but I really just need to get this to run.\r\n\r\nI&#39;m pretty new to Android Studio and coding in general so this could very well be an extremely simple fix but I can&#39;t for the life of me figure this out.\r\n\r\n","title":".DS_Store is not a directory error - Android Studio","body":"<p>I'm working on an Android project from my Macbook and I'm getting the error</p>\n<pre><code>'/Users/myname/Desktop/AndroidLabs2/app/build/intermediates/packaged_res/debug/.DS_Store' is not a directory\n</code></pre>\n<p>I've added it to my .gitignore and to under Preferences&gt;File Types&gt;Ignored Files and Folders and yet when I run my project I'm still getting the same error.</p>\n<p>I know that .DS_Store is something that IOS automatically adds when you view the files through the Finder (From my understanding) but I really just need to get this to run.</p>\n<p>I'm pretty new to Android Studio and coding in general so this could very well be an extremely simple fix but I can't for the life of me figure this out.</p>\n"},{"tags":["java","netbeans","javafx-8","netbeans-8","javafx-3d"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1425535584,"post_id":28871075,"comment_id":46005556,"body_markdown":"Right click the project node, select &quot;Properties&quot; from the popup menu, select &quot;Libraries&quot; from the dialog.  In the &quot;Java Platform&quot; combobox, select a valid platform.  If for some reason, there&#39;s nothing there, try clicking &quot;Manage Platforms&quot; and either add a new one or correct the path issues with the exist/default one...","body":"Right click the project node, select &quot;Properties&quot; from the popup menu, select &quot;Libraries&quot; from the dialog.  In the &quot;Java Platform&quot; combobox, select a valid platform.  If for some reason, there&#39;s nothing there, try clicking &quot;Manage Platforms&quot; and either add a new one or correct the path issues with the exist/default one..."},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425535783,"post_id":28871075,"comment_id":46005635,"body_markdown":"I did what you suggested, java platform is set to JDK 1.8. It didn&#39;t worked!","body":"I did what you suggested, java platform is set to JDK 1.8. It didn&#39;t worked!"},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425536076,"post_id":28871075,"comment_id":46005753,"body_markdown":"I think, the problem here is the build-impl.xml, maybe there is a misconfiguration after opening it with the latest IDE.. What do you think?","body":"I think, the problem here is the build-impl.xml, maybe there is a misconfiguration after opening it with the latest IDE.. What do you think?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425536197,"post_id":28871075,"comment_id":46005795,"body_markdown":"Possible.  You could close the project and then delete the `build.xml` file (not the `-impl.xml`!) and then re-open the project...Make sure you do a clean and build afterwards...Also, I sometimes just cycle the platform value, open the combobox and select another value, if there are no other values, this seems to work as well..","body":"Possible.  You could close the project and then delete the <code>build.xml</code> file (not the <code>-impl.xml</code>!) and then re-open the project...Make sure you do a clean and build afterwards...Also, I sometimes just cycle the platform value, open the combobox and select another value, if there are no other values, this seems to work as well.."},{"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"score":0,"creation_date":1425537050,"post_id":28871075,"comment_id":46006115,"body_markdown":"It didn&#39;t worked as well.. Oh men! Im stuck!.. Please help!!!!","body":"It didn&#39;t worked as well.. Oh men! Im stuck!.. Please help!!!!"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425537285,"post_id":28871075,"comment_id":46006191,"body_markdown":"Grab the source, delete the project, start again...","body":"Grab the source, delete the project, start again..."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1425537748,"post_id":28871075,"comment_id":46006361,"body_markdown":"Sometimes, the only way to split a pea is to use a thermal nuclear device!","body":"Sometimes, the only way to split a pea is to use a thermal nuclear device!"},{"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"score":0,"creation_date":1517087815,"post_id":28871075,"comment_id":83954160,"body_markdown":"I think a very similar problem (with solution) is https://stackoverflow.com/questions/32455793/the-j2se-platform-is-not-correctly-set-up-netbeans-ide-8-0-2/48418101#48418101","body":"I think a very similar problem (with solution) is <a href=\"https://stackoverflow.com/questions/32455793/the-j2se-platform-is-not-correctly-set-up-netbeans-ide-8-0-2/48418101#48418101\" title=\"the j2se platform is not correctly set up netbeans ide 8 0 2\">stackoverflow.com/questions/32455793/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516801830,"creation_date":1516801830,"answer_id":48424104,"question_id":28871075,"body_markdown":"The easiest way to resolve this problem is:\r\n\r\n1. open the Project in NetBeans\r\n2. open Project-Settings for this project\r\n3. check (and maybe correct/fix) all settings (including Platform-Settings)\r\n4. click on Save/OK in settings dialog\r\n5. Clean+Build project\r\n\r\nBy doing this, project-settings-file will be updated to current settings.\r\n\r\nCheers!\r\n","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>The easiest way to resolve this problem is:</p>\n\n<ol>\n<li>open the Project in NetBeans</li>\n<li>open Project-Settings for this project</li>\n<li>check (and maybe correct/fix) all settings (including Platform-Settings)</li>\n<li>click on Save/OK in settings dialog</li>\n<li>Clean+Build project</li>\n</ol>\n\n<p>By doing this, project-settings-file will be updated to current settings.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":371416,"reputation":1004,"user_id":719934,"accept_rate":75,"display_name":"ewh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663621148,"creation_date":1663621148,"answer_id":73779238,"question_id":28871075,"body_markdown":"I know this is a very old question, but I encountered this recently.  The solution I came up with is to modify the user-editable `build.xml` file (which is usually one directory up from build-impl.xml) and add the following after the `&lt;import&gt;` of `build-impl.xml`:\r\n\r\n    &lt;property name=&quot;platforms.default_platform.home&quot;\r\n              location=&quot;${java.home}/..&quot;/&gt;\r\n\r\nThis allows any user/local settings to have precedence, but if not defined, the java used should be the same java that is executing Ant.","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>I know this is a very old question, but I encountered this recently.  The solution I came up with is to modify the user-editable <code>build.xml</code> file (which is usually one directory up from build-impl.xml) and add the following after the <code>&lt;import&gt;</code> of <code>build-impl.xml</code>:</p>\n<pre><code>&lt;property name=&quot;platforms.default_platform.home&quot;\n          location=&quot;${java.home}/..&quot;/&gt;\n</code></pre>\n<p>This allows any user/local settings to have precedence, but if not defined, the java used should be the same java that is executing Ant.</p>\n"},{"tags":[],"owner":{"account_id":993332,"reputation":103,"user_id":7398215,"display_name":"Stig Helmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664179748,"creation_date":1664179748,"answer_id":73851228,"question_id":28871075,"body_markdown":"This problem still exists in Netbeans 15 and can be solved by updating the `nbproject/private/private.properties` file and ensure this row exists:\r\n\r\n    javac.debug=true","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>This problem still exists in Netbeans 15 and can be solved by updating the <code>nbproject/private/private.properties</code> file and ensure this row exists:</p>\n<pre><code>javac.debug=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679000104,"creation_date":1679000104,"answer_id":75761555,"question_id":28871075,"body_markdown":"This just happened to me (NB 17, in 2023) after I updated my Java installation, just a minor version update. Projects created (using Ant) before the update would obviously not run because the JDK home directory had changed, but when I used Netbeans Resolve References dialog I started to see these messages about `default_platform`. However newly created projects were fine and they had the exact same references to `default_platform` (in the `project.properties` file)\r\n\r\nEnsuring that `javac.debug=true` exists as recommended elsewhere did not help (why would it?), and it seems wrong that I&#39;d have to edit `build-impl.xml` given that it worked before and other projects are fine.\r\n\r\nI also deleted NB cache but this did not help.\r\n\r\nWhat I did was to create another Java platform (using `Tools|Java Platform`) with the same JDK home as the default one. Then I had `JDK 17` and `JDK 17 (Default)`. I switched my project over to the `JDK 17` platform and that fixed the problem.","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>This just happened to me (NB 17, in 2023) after I updated my Java installation, just a minor version update. Projects created (using Ant) before the update would obviously not run because the JDK home directory had changed, but when I used Netbeans Resolve References dialog I started to see these messages about <code>default_platform</code>. However newly created projects were fine and they had the exact same references to <code>default_platform</code> (in the <code>project.properties</code> file)</p>\n<p>Ensuring that <code>javac.debug=true</code> exists as recommended elsewhere did not help (why would it?), and it seems wrong that I'd have to edit <code>build-impl.xml</code> given that it worked before and other projects are fine.</p>\n<p>I also deleted NB cache but this did not help.</p>\n<p>What I did was to create another Java platform (using <code>Tools|Java Platform</code>) with the same JDK home as the default one. Then I had <code>JDK 17</code> and <code>JDK 17 (Default)</code>. I switched my project over to the <code>JDK 17</code> platform and that fixed the problem.</p>\n"}],"owner":{"account_id":5242409,"reputation":886,"user_id":4189071,"accept_rate":70,"display_name":"The Well"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1679000104,"creation_date":1425535379,"question_id":28871075,"body_markdown":"Im currently developing JavaFX applications. I used Netbeans 7.4 before but now I switch to Netbeans 8.0.2. After running my project with the new IDE, an error occured saying:\r\n\r\n    C:\\projects\\client\\QueueBoard\\nbproject\\build-impl.xml:87: The J2SE Platform is not correctly set up.\r\n    Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found in the project&#39;s properties files. \r\n    Either open the project in the IDE and setup the Platform with the same name or add it manually.\r\n    For example like this:\r\n    ant -Duser.properties.file=&lt;path_to_property_file&gt; jar (where you put the property &quot;platforms.default_platform.home&quot; in a .properties file)\r\n    or ant -Dplatforms.default_platform.home=&lt;path_to_JDK_home&gt; jar (where no properties file is used)\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\nHow do you resolve this? ","title":"Your active platform is: default_platform, but the corresponding property &quot;platforms.default_platform.home&quot; is not found","body":"<p>Im currently developing JavaFX applications. I used Netbeans 7.4 before but now I switch to Netbeans 8.0.2. After running my project with the new IDE, an error occured saying:</p>\n\n<pre><code>C:\\projects\\client\\QueueBoard\\nbproject\\build-impl.xml:87: The J2SE Platform is not correctly set up.\nYour active platform is: default_platform, but the corresponding property \"platforms.default_platform.home\" is not found in the project's properties files. \nEither open the project in the IDE and setup the Platform with the same name or add it manually.\nFor example like this:\nant -Duser.properties.file=&lt;path_to_property_file&gt; jar (where you put the property \"platforms.default_platform.home\" in a .properties file)\nor ant -Dplatforms.default_platform.home=&lt;path_to_JDK_home&gt; jar (where no properties file is used)\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>How do you resolve this? </p>\n"},{"tags":["java","graphql","schema","schemagen"],"owner":{"account_id":27322938,"reputation":21,"user_id":20836336,"display_name":"Tom Delebo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678999902,"creation_date":1678999902,"question_id":75761523,"body_markdown":"I am using schemagen (run via gradle) to generate my .graphqls and .json schema files. However, when I run schemagen it doesn&#39;t include the reason on deprecated fields and gives me an ESLint error (ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason).\r\n\r\nJava code looks like:\r\n\r\n```\r\nfinal GraphQLFieldDefinition oldField = field(\r\n    newFieldDefinition()\r\n        .name( &quot;oldField&quot; )\r\n\t.description( &quot;an old field&quot; )\r\n\t.type( GraphQLDate )\r\n        .deprecate( &quot;deprecated, use newField&quot; )\r\n\t.build() );\r\n\r\ntype( ModelBuilder.fromTransferable( &quot;Example&quot;, &quot;Example Description&quot;, Example.class )\r\n    .field( oldField )\r\n    .field( &quot;newField&quot;, &quot;newField Description&quot;, GraphQLDate )\r\n    .buildObject() );\r\n```\r\n\r\nThe schema.graphqls output:\r\n\r\n```\r\n&quot;Example Description&quot;\r\ntype Example {\r\n  &quot;an old field&quot;\r\n  oldField: ISO8601Date @deprecated\r\n  &quot;newField Description&quot;\r\n  newField: ISO8601Date\r\n}\r\n```\r\n\r\nError: ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason)\r\n\r\nThe expected output would be:\r\n\r\n```\r\n&quot;Example Description&quot;\r\ntype Example {\r\n  &quot;an old field&quot;\r\n  oldField: ISO8601Date @deprecated(reason: &quot;deprecated, use newField&quot;)\r\n  &quot;newField Description&quot;\r\n  newField: ISO8601Date\r\n}\r\n```","title":"GraphQL Schemagen doesn&#39;t include deprecation reason","body":"<p>I am using schemagen (run via gradle) to generate my .graphqls and .json schema files. However, when I run schemagen it doesn't include the reason on deprecated fields and gives me an ESLint error (ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason).</p>\n<p>Java code looks like:</p>\n<pre><code>final GraphQLFieldDefinition oldField = field(\n    newFieldDefinition()\n        .name( &quot;oldField&quot; )\n    .description( &quot;an old field&quot; )\n    .type( GraphQLDate )\n        .deprecate( &quot;deprecated, use newField&quot; )\n    .build() );\n\ntype( ModelBuilder.fromTransferable( &quot;Example&quot;, &quot;Example Description&quot;, Example.class )\n    .field( oldField )\n    .field( &quot;newField&quot;, &quot;newField Description&quot;, GraphQLDate )\n    .buildObject() );\n</code></pre>\n<p>The schema.graphqls output:</p>\n<pre><code>&quot;Example Description&quot;\ntype Example {\n  &quot;an old field&quot;\n  oldField: ISO8601Date @deprecated\n  &quot;newField Description&quot;\n  newField: ISO8601Date\n}\n</code></pre>\n<p>Error: ESLint: Directive &quot;@deprecated&quot; must have a reason! (@graphql-eslint/require-deprecation-reason)</p>\n<p>The expected output would be:</p>\n<pre><code>&quot;Example Description&quot;\ntype Example {\n  &quot;an old field&quot;\n  oldField: ISO8601Date @deprecated(reason: &quot;deprecated, use newField&quot;)\n  &quot;newField Description&quot;\n  newField: ISO8601Date\n}\n</code></pre>\n"},{"tags":["java","sorting","topological-sort"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1679000328,"post_id":75761478,"comment_id":133647069,"body_markdown":"Could you provide the test cases?","body":"Could you provide the test cases?"},{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1679000503,"post_id":75761478,"comment_id":133647105,"body_markdown":"I would guess that you forgot to throw an error if no topological ordering exists (i.e. if the graph is cyclic). This is the case if `counter &lt; vertices.size()`.","body":"I would guess that you forgot to throw an error if no topological ordering exists (i.e. if the graph is cyclic). This is the case if <code>counter &lt; vertices.size()</code>."}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678999815,"creation_date":1678999562,"question_id":75761478,"body_markdown":"I&#39;m currently trying to implement a topological sort method but I&#39;m struggling to finish it and need some advice. The errors I get when I test this method are: &quot;Expected exception: java.lang.IllegalArgumentException&quot;, expected:&lt;5&gt; but was:&lt;0&gt;&quot;, &quot;java.lang.IllegalArgumentException: No path found&quot;. What could I be doing wrong and fix?\r\n\r\n/**\r\n     * Helper method for the sort method in the GraphUtility class to generate a sorted ordering of the vertices in the\r\n     * graph. Note that a graph may have more than one valid ordering, and any such ordering is accepted.\r\n     *\r\n     * @param sources      - the source from where we&#39;ll be starting our sort\r\n     * @param destinations - the destination, or end point, of our sort\r\n     * @return a sorted ordering of the vertices in the graph\r\n     */\r\n    public List&lt;Type&gt; topologicalSort(List&lt;Type&gt; sources, List&lt;Type&gt; destinations) throws IllegalArgumentException {\r\n        createGraph(sources, destinations);\r\n\r\n        Queue&lt;Vertex&lt;Type&gt;&gt; doableTasks = new LinkedList&lt;&gt;();\r\n        List&lt;Type&gt; output = new LinkedList&lt;&gt;();\r\n\r\n        for (Vertex&lt;Type&gt; task : vertices.values()) {\r\n            if (task.getIndegree() == 0) {\r\n                doableTasks.add(task);\r\n            }\r\n        }\r\n\r\n        // counter for things we&#39;ve visited in the queue\r\n        int counter = 0;\r\n\r\n        while (!(doableTasks.isEmpty())) {\r\n            Vertex&lt;Type&gt; task = doableTasks.remove();\r\n            counter++;\r\n            output.add(task.getName());\r\n\r\n            for (Iterator&lt;Edge&lt;Type&gt;&gt; it = task.edges(); it.hasNext(); ) {\r\n                Edge&lt;Type&gt; outEdge = it.next();\r\n\r\n                Vertex&lt;Type&gt; neighbor = outEdge.getOtherVertex();\r\n\r\n                neighbor.setIndegree(neighbor.getIndegree() - 1);\r\n\r\n                if (neighbor.getIndegree() == 0) {\r\n                    doableTasks.add(neighbor);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (counter &gt; output.size()) {\r\n            throw new IllegalArgumentException(&quot;The size doesn&#39;t match.&quot;);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    public static &lt;Type&gt; void createGraph(List&lt;Type&gt; sources, List&lt;Type&gt; destinations)\r\n            throws IllegalArgumentException {\r\n        if (sources.size() != destinations.size()) {\r\n            throw new IllegalArgumentException(&quot;Must have the same size&quot;);\r\n        }\r\n\r\n        Graph&lt;Type&gt; graph = new Graph&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; sources.size(); i++) {\r\n            Type sourceData = sources.get(i);\r\n            Type destData = destinations.get(i);\r\n            graph.addEdge(sourceData, destData);\r\n        }\r\n    }\r\n\r\npublic class Vertex&lt;Type&gt; {\r\n\r\n    // Used to id the Vertex\r\n    private final Type name;\r\n\r\n    // Adjacency list\r\n    private final LinkedList&lt;Edge&lt;Type&gt;&gt; adj;\r\n    private int indegree;\r\n\r\n    public int getIndegree() {\r\n        return indegree;\r\n    }\r\n\r\n    public int setIndegree(int newIndegree) {\r\n        return indegree = newIndegree;\r\n    }\r\n\r\n    /**\r\n     * Creates a new Vertex object, using the given name.\r\n     *\r\n     * @param name - string used to identify this Vertex\r\n     */\r\n    public Vertex(Type name) {\r\n        this.name = name;\r\n        this.adj = new LinkedList&lt;&gt;();\r\n\r\n    }\r\n\r\n    /**\r\n     * @return the string used to identify this Vertex\r\n     */\r\n    public Type getName() {\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * Adds a directed edge from this Vertex to another.\r\n     *\r\n     * @param otherVertex - the Vertex object that is the destination of the edge\r\n     */\r\n    public void addEdge(Vertex&lt;Type&gt; otherVertex) {\r\n        adj.add(new Edge&lt;&gt;(otherVertex));\r\n        otherVertex.indegree++;\r\n    }\r\n\r\n    /**\r\n     * @return an iterator for accessing the edges for which this Vertex is the source\r\n     */\r\n    public Iterator&lt;Edge&lt;Type&gt;&gt; edges() {\r\n        return adj.iterator();\r\n    }\r\n\r\n    /**\r\n     * Generates and returns a textual representation of this Vertex.\r\n     */\r\n    public String toString() {\r\n        StringBuilder s = new StringBuilder(&quot;Vertex &quot; + name + &quot; adjacent to vertices &quot;);\r\n        for (Edge&lt;Type&gt; typeEdge : adj) s.append(typeEdge).append(&quot;  &quot;);\r\n        return s.toString();\r\n    }\r\n}","title":"Implementing a Topological Sort Method","body":"<p>I'm currently trying to implement a topological sort method but I'm struggling to finish it and need some advice. The errors I get when I test this method are: &quot;Expected exception: java.lang.IllegalArgumentException&quot;, expected:&lt;5&gt; but was:&lt;0&gt;&quot;, &quot;java.lang.IllegalArgumentException: No path found&quot;. What could I be doing wrong and fix?</p>\n<p>/**\n* Helper method for the sort method in the GraphUtility class to generate a sorted ordering of the vertices in the\n* graph. Note that a graph may have more than one valid ordering, and any such ordering is accepted.\n*\n* @param sources      - the source from where we'll be starting our sort\n* @param destinations - the destination, or end point, of our sort\n* @return a sorted ordering of the vertices in the graph\n*/\npublic List topologicalSort(List sources, List destinations) throws IllegalArgumentException {\ncreateGraph(sources, destinations);</p>\n<pre><code>    Queue&lt;Vertex&lt;Type&gt;&gt; doableTasks = new LinkedList&lt;&gt;();\n    List&lt;Type&gt; output = new LinkedList&lt;&gt;();\n\n    for (Vertex&lt;Type&gt; task : vertices.values()) {\n        if (task.getIndegree() == 0) {\n            doableTasks.add(task);\n        }\n    }\n\n    // counter for things we've visited in the queue\n    int counter = 0;\n\n    while (!(doableTasks.isEmpty())) {\n        Vertex&lt;Type&gt; task = doableTasks.remove();\n        counter++;\n        output.add(task.getName());\n\n        for (Iterator&lt;Edge&lt;Type&gt;&gt; it = task.edges(); it.hasNext(); ) {\n            Edge&lt;Type&gt; outEdge = it.next();\n\n            Vertex&lt;Type&gt; neighbor = outEdge.getOtherVertex();\n\n            neighbor.setIndegree(neighbor.getIndegree() - 1);\n\n            if (neighbor.getIndegree() == 0) {\n                doableTasks.add(neighbor);\n            }\n        }\n    }\n\n    if (counter &gt; output.size()) {\n        throw new IllegalArgumentException(&quot;The size doesn't match.&quot;);\n    }\n    return output;\n}\n\npublic static &lt;Type&gt; void createGraph(List&lt;Type&gt; sources, List&lt;Type&gt; destinations)\n        throws IllegalArgumentException {\n    if (sources.size() != destinations.size()) {\n        throw new IllegalArgumentException(&quot;Must have the same size&quot;);\n    }\n\n    Graph&lt;Type&gt; graph = new Graph&lt;&gt;();\n\n    for (int i = 0; i &lt; sources.size(); i++) {\n        Type sourceData = sources.get(i);\n        Type destData = destinations.get(i);\n        graph.addEdge(sourceData, destData);\n    }\n}\n</code></pre>\n<p>public class Vertex {</p>\n<pre><code>// Used to id the Vertex\nprivate final Type name;\n\n// Adjacency list\nprivate final LinkedList&lt;Edge&lt;Type&gt;&gt; adj;\nprivate int indegree;\n\npublic int getIndegree() {\n    return indegree;\n}\n\npublic int setIndegree(int newIndegree) {\n    return indegree = newIndegree;\n}\n\n/**\n * Creates a new Vertex object, using the given name.\n *\n * @param name - string used to identify this Vertex\n */\npublic Vertex(Type name) {\n    this.name = name;\n    this.adj = new LinkedList&lt;&gt;();\n\n}\n\n/**\n * @return the string used to identify this Vertex\n */\npublic Type getName() {\n    return name;\n}\n\n/**\n * Adds a directed edge from this Vertex to another.\n *\n * @param otherVertex - the Vertex object that is the destination of the edge\n */\npublic void addEdge(Vertex&lt;Type&gt; otherVertex) {\n    adj.add(new Edge&lt;&gt;(otherVertex));\n    otherVertex.indegree++;\n}\n\n/**\n * @return an iterator for accessing the edges for which this Vertex is the source\n */\npublic Iterator&lt;Edge&lt;Type&gt;&gt; edges() {\n    return adj.iterator();\n}\n\n/**\n * Generates and returns a textual representation of this Vertex.\n */\npublic String toString() {\n    StringBuilder s = new StringBuilder(&quot;Vertex &quot; + name + &quot; adjacent to vertices &quot;);\n    for (Edge&lt;Type&gt; typeEdge : adj) s.append(typeEdge).append(&quot;  &quot;);\n    return s.toString();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","sql-server-2005","jasper-reports","netbeans-7"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365748300,"post_id":15964552,"comment_id":22753668,"body_markdown":"Are you able to post the `report1.jrxml` as well?  Does the query return any results?","body":"Are you able to post the <code>report1.jrxml</code> as well?  Does the query return any results?"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365748457,"post_id":15964552,"comment_id":22753725,"body_markdown":"I have report1.jrxml sir, and if I click Preview it shows me the JasperReport the way I want it, I also re-arrange it already (I already assumed that it will works fine because I follow the the tutorial right, but I&#39;m wrong.)","body":"I have report1.jrxml sir, and if I click Preview it shows me the JasperReport the way I want it, I also re-arrange it already (I already assumed that it will works fine because I follow the the tutorial right, but I&#39;m wrong.)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365748933,"post_id":15964552,"comment_id":22753906,"body_markdown":"Can include the file as part of your question?  That way we might be able to download it and have a look - or construct a simple version","body":"Can include the file as part of your question?  That way we might be able to download it and have a look - or construct a simple version"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365750369,"post_id":15964552,"comment_id":22754463,"body_markdown":"how can I do that sir?","body":"how can I do that sir?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365750449,"post_id":15964552,"comment_id":22754501,"body_markdown":"The report is an XML file, open it in a text editor, copy the contents and edit your question to included, just like you did with your source code","body":"The report is an XML file, open it in a text editor, copy the contents and edit your question to included, just like you did with your source code"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365750711,"post_id":15964552,"comment_id":22754626,"body_markdown":"kindly look at the edit sir @MadProgrammer, is that it?","body":"kindly look at the edit sir @MadProgrammer, is that it?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365751217,"post_id":15964552,"comment_id":22754861,"body_markdown":"A few things come to mind. You define `con` twice.  Once as private class field and once within in the `search` method.  This means that the `con` you use in the `reportviewer` method may be `null`, also, you&#39;re not closing your database resources when your finished with them...","body":"A few things come to mind. You define <code>con</code> twice.  Once as private class field and once within in the <code>search</code> method.  This means that the <code>con</code> you use in the <code>reportviewer</code> method may be <code>null</code>, also, you&#39;re not closing your database resources when your finished with them..."},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365751843,"post_id":15964552,"comment_id":22755136,"body_markdown":"can you teach me how to fix the con issue and how to close it? sir @MadProgrammer","body":"can you teach me how to fix the con issue and how to close it? sir @MadProgrammer"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752057,"post_id":15964552,"comment_id":22755246,"body_markdown":"I did it! it&#39;s the con issue!, I place Connection conn\n\nand then I edit the Connection conn =  DriverManager.getConnection(url, user, pass);\n\nto conn = DriverManager.getConnection(url,user,pass);","body":"I did it! it&#39;s the con issue!, I place Connection conn  and then I edit the Connection conn =  DriverManager.getConnection(url, user, pass);  to conn = DriverManager.getConnection(url,user,pass);"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752199,"post_id":15964552,"comment_id":22755300,"body_markdown":"! Awesome ! Well done !","body":"! Awesome ! Well done !"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752237,"post_id":15964552,"comment_id":22755323,"body_markdown":"the problem now is the loading, should I do another question sir @MadProgrammer ?? :D this becoming a bad habit eh?","body":"the problem now is the loading, should I do another question sir @MadProgrammer ?? :D this becoming a bad habit eh?"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752308,"post_id":15964552,"comment_id":22755350,"body_markdown":"because it takes approximately 15secs to display the `Jasper Report`, is it really like that?","body":"because it takes approximately 15secs to display the <code>Jasper Report</code>, is it really like that?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752587,"post_id":15964552,"comment_id":22755460,"body_markdown":"We have one that can take over 30 minutes to compile, you&#39;re lucky;).  Give me a few minutes, I&#39;ll update my answer with some ideas","body":"We have one that can take over 30 minutes to compile, you&#39;re lucky;).  Give me a few minutes, I&#39;ll update my answer with some ideas"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365752769,"post_id":15964552,"comment_id":22755542,"body_markdown":"Maybe it&#39;s because my `database` don&#39;t have a large data. Ok sir @MadProgrammer I&#39;ll wait :)","body":"Maybe it&#39;s because my <code>database</code> don&#39;t have a large data. Ok sir @MadProgrammer I&#39;ll wait :)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1365752950,"post_id":15964552,"comment_id":22755625,"body_markdown":"I&#39;ve added a simple concept of a `SwingWorker`.  I don&#39;t think you can speed up the process greatly, but this will stop the UI from looking like it&#39;s hung","body":"I&#39;ve added a simple concept of a <code>SwingWorker</code>.  I don&#39;t think you can speed up the process greatly, but this will stop the UI from looking like it&#39;s hung"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365753423,"post_id":15964552,"comment_id":22755837,"body_markdown":"Sir @MadProgrammer can you spare some time in discussion room? I need to tell you something","body":"Sir @MadProgrammer can you spare some time in discussion room? I need to tell you something"},{"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"score":0,"creation_date":1365753428,"post_id":15964552,"comment_id":22755840,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/28086/discussion-between-crystal-maiden-and-madprogrammer)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/28086/discussion-between-crystal-maiden-and-madprogrammer\">continue this discussion in chat</a>"},{"owner":{"account_id":6134570,"reputation":980,"user_id":4783846,"display_name":"M Siddique"},"score":0,"creation_date":1509734675,"post_id":15964552,"comment_id":81155175,"body_markdown":"This may help you in this case... [ The Document has no page](https://stackoverflow.com/a/47102519/4783846)","body":"This may help you in this case... [ The Document has no page](<a href=\"https://stackoverflow.com/a/47102519/4783846\">stackoverflow.com/a/47102519/4783846</a>)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678999284,"creation_date":1365752500,"answer_id":15965710,"question_id":15964552,"body_markdown":"Firstly, resource management...\r\n\r\nYou should only open a single connection to the database if you can.  Make sure you close it before the application is closed.  The connection process can be expensive, so you only really want to do it when you absolutely have to...\r\n\r\nYou close your resources once you have finished with them.  This is best achieved by using a `try-finally` block...\r\n\r\n    private Connection con;\r\n\r\n    protected void close() throws SQLException {\r\n        if (con != null) {\r\n            con.close();\r\n        }\r\n    }\r\n\r\n    protected Connection getConnection() throws ClassNotFoundException, SQLException {\r\n        if (con == null) {\r\n            Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n            String url = &quot;jdbc:odbc:*****&quot;;\r\n            String user = &quot;******&quot;;\r\n            String pass = &quot;******&quot;;\r\n            Connection con = DriverManager.getConnection(url, user, pass);\r\n        }\r\n        return con;\r\n    }\r\n\r\n    private void search() throws Exception {\r\n\r\n        Statement state = null;\r\n        ResultSet rs = null;\r\n\r\n        try {\r\n\r\n            state = getConnection().createStatement();\r\n\r\n            rs = state.executeQuery(&quot;SELECT &quot;\r\n                    + &quot;pIDNo AS &#39;Patient ID&#39;,&quot;\r\n                    + &quot;pLName AS &#39;Last Name&#39;,&quot;\r\n                    + &quot;pFName AS &#39;First Name&#39;,&quot;\r\n                    + &quot;pMI AS &#39;M.I.&#39;,&quot;\r\n                    + &quot;pSex AS &#39;Sex&#39;,&quot;\r\n                    + &quot;pStatus AS &#39;Status&#39;,&quot;\r\n                    + &quot;pTelNo AS &#39;Contact No.&#39;,&quot;\r\n                    + &quot;pDocID AS &#39;Doctor ID&#39;,&quot;\r\n                    + &quot;pAddr AS &#39;St. No.&#39;,&quot;\r\n                    + &quot;pStreet AS &#39;St. Name&#39;,&quot;\r\n                    + &quot;pBarangay AS &#39;Barangay&#39;,&quot;\r\n                    + &quot;pCity AS &#39;City&#39;,&quot;\r\n                    + &quot; pProvince AS &#39;Province&#39;,&quot;\r\n                    + &quot; pLNameKIN AS &#39;Last Name&#39;,&quot;\r\n                    + &quot;pFNameKIN AS &#39;First Name&#39;,&quot;\r\n                    + &quot;pMIKIN AS &#39;M.I.&#39;,&quot;\r\n                    + &quot;pRelationKIN AS &#39;Relation&#39;,&quot;\r\n                    + &quot;pTotalDue AS &#39;Total Due&#39;&quot;\r\n                    + &quot; FROM dbo.Patients&quot;);\r\n            ResultSetMetaData rsmetadata = rs.getMetaData();\r\n            int columns = rsmetadata.getColumnCount();\r\n\r\n            DefaultTableModel dtm = new DefaultTableModel();\r\n            Vector column_name = new Vector();\r\n            Vector data_rows = new Vector();\r\n\r\n            for (int i = 1; i &lt; columns; i++) {\r\n                column_name.addElement(rsmetadata.getColumnName(i));\r\n            }\r\n            dtm.setColumnIdentifiers(column_name);\r\n\r\n            while (rs.next()) {\r\n                data_rows = new Vector();\r\n                for (int j = 1; j &lt; columns; j++) {\r\n                    data_rows.addElement(rs.getString(j));\r\n                }\r\n                dtm.addRow(data_rows);\r\n            }\r\n            tblPatient.setModel(dtm);\r\n            \r\n        } finally {\r\n            try {\r\n                rs.close();\r\n            } catch (Exception e) {\r\n            }\r\n            try {\r\n                state.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    }\r\n\r\nNow to the problem at hand...\r\n\r\nIt appears you have created two references to `con`.  One as class field and one as a method variable (in `search`).\r\n\r\nYou are then passing `con` to Jasper Reports, which I suspect is `null`.  Instead you should use the `getConnection()` as outlined above.\r\n\r\n    public void reportviewer() {\r\n        try{\r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\r\n            JasperViewer.viewReport(jasp_print);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n**Updated with background worker...**\r\n\r\nA report can take some time to compile and fill.  You should off load this work to a background thread so it doesn&#39;t interfere with your UI (or make it look like you application as hung).\r\n\r\nThe simplest solution would be to use a `SwingWorker`.  It has functionality to resync the threads with the UI\r\n\r\n    public void reportviewer() {\r\n        // Disable any UI components you don&#39;t want the user using while\r\n        // the report generates...\r\n        new ReportWorker().execute();\r\n    }\r\n\r\n    public class ReportWorker extends SwingWorker&lt;JasperPrint, Void&gt; {\r\n\r\n        @Override\r\n        protected JasperPrint doInBackground() throws Exception {\r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\r\n            return jasp_print;\r\n        }\r\n\r\n        @Override\r\n        protected void done() {\r\n            try {\r\n                JasperPrint jasp_print = get();\r\n                JasperViewer.viewReport(jasp_print);\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n            }\r\n            // Renable any UI components you disabled before the report run\r\n        }\r\n    }\r\n\r\nTake a look at [Concurrency in Swing](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/) for more details.\r\n\r\n**Hints**\r\n\r\nIf you can pre-compile the report and load it (rather the loading the XML), it will make the report process quicker.\r\n","title":"The document has no pages. Jasper Report","body":"<p>Firstly, resource management...</p>\n<p>You should only open a single connection to the database if you can.  Make sure you close it before the application is closed.  The connection process can be expensive, so you only really want to do it when you absolutely have to...</p>\n<p>You close your resources once you have finished with them.  This is best achieved by using a <code>try-finally</code> block...</p>\n<pre><code>private Connection con;\n\nprotected void close() throws SQLException {\n    if (con != null) {\n        con.close();\n    }\n}\n\nprotected Connection getConnection() throws ClassNotFoundException, SQLException {\n    if (con == null) {\n        Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\n        String url = &quot;jdbc:odbc:*****&quot;;\n        String user = &quot;******&quot;;\n        String pass = &quot;******&quot;;\n        Connection con = DriverManager.getConnection(url, user, pass);\n    }\n    return con;\n}\n\nprivate void search() throws Exception {\n\n    Statement state = null;\n    ResultSet rs = null;\n\n    try {\n\n        state = getConnection().createStatement();\n\n        rs = state.executeQuery(&quot;SELECT &quot;\n                + &quot;pIDNo AS 'Patient ID',&quot;\n                + &quot;pLName AS 'Last Name',&quot;\n                + &quot;pFName AS 'First Name',&quot;\n                + &quot;pMI AS 'M.I.',&quot;\n                + &quot;pSex AS 'Sex',&quot;\n                + &quot;pStatus AS 'Status',&quot;\n                + &quot;pTelNo AS 'Contact No.',&quot;\n                + &quot;pDocID AS 'Doctor ID',&quot;\n                + &quot;pAddr AS 'St. No.',&quot;\n                + &quot;pStreet AS 'St. Name',&quot;\n                + &quot;pBarangay AS 'Barangay',&quot;\n                + &quot;pCity AS 'City',&quot;\n                + &quot; pProvince AS 'Province',&quot;\n                + &quot; pLNameKIN AS 'Last Name',&quot;\n                + &quot;pFNameKIN AS 'First Name',&quot;\n                + &quot;pMIKIN AS 'M.I.',&quot;\n                + &quot;pRelationKIN AS 'Relation',&quot;\n                + &quot;pTotalDue AS 'Total Due'&quot;\n                + &quot; FROM dbo.Patients&quot;);\n        ResultSetMetaData rsmetadata = rs.getMetaData();\n        int columns = rsmetadata.getColumnCount();\n\n        DefaultTableModel dtm = new DefaultTableModel();\n        Vector column_name = new Vector();\n        Vector data_rows = new Vector();\n\n        for (int i = 1; i &lt; columns; i++) {\n            column_name.addElement(rsmetadata.getColumnName(i));\n        }\n        dtm.setColumnIdentifiers(column_name);\n\n        while (rs.next()) {\n            data_rows = new Vector();\n            for (int j = 1; j &lt; columns; j++) {\n                data_rows.addElement(rs.getString(j));\n            }\n            dtm.addRow(data_rows);\n        }\n        tblPatient.setModel(dtm);\n        \n    } finally {\n        try {\n            rs.close();\n        } catch (Exception e) {\n        }\n        try {\n            state.close();\n        } catch (Exception e) {\n        }\n    }\n}\n</code></pre>\n<p>Now to the problem at hand...</p>\n<p>It appears you have created two references to <code>con</code>.  One as class field and one as a method variable (in <code>search</code>).</p>\n<p>You are then passing <code>con</code> to Jasper Reports, which I suspect is <code>null</code>.  Instead you should use the <code>getConnection()</code> as outlined above.</p>\n<pre><code>public void reportviewer() {\n    try{\n        String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\n        JasperViewer.viewReport(jasp_print);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>Updated with background worker...</strong></p>\n<p>A report can take some time to compile and fill.  You should off load this work to a background thread so it doesn't interfere with your UI (or make it look like you application as hung).</p>\n<p>The simplest solution would be to use a <code>SwingWorker</code>.  It has functionality to resync the threads with the UI</p>\n<pre><code>public void reportviewer() {\n    // Disable any UI components you don't want the user using while\n    // the report generates...\n    new ReportWorker().execute();\n}\n\npublic class ReportWorker extends SwingWorker&lt;JasperPrint, Void&gt; {\n\n    @Override\n    protected JasperPrint doInBackground() throws Exception {\n        String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, getConnection());\n        return jasp_print;\n    }\n\n    @Override\n    protected void done() {\n        try {\n            JasperPrint jasp_print = get();\n            JasperViewer.viewReport(jasp_print);\n        } catch (Exception exp) {\n            exp.printStackTrace();\n        }\n        // Renable any UI components you disabled before the report run\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p><strong>Hints</strong></p>\n<p>If you can pre-compile the report and load it (rather the loading the XML), it will make the report process quicker.</p>\n"}],"owner":{"account_id":2496119,"reputation":372,"user_id":2172454,"accept_rate":67,"display_name":"Crystal Maiden"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7897,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15965710,"answer_count":1,"score":3,"last_activity_date":1678999284,"creation_date":1365748153,"question_id":15964552,"body_markdown":" I&#39;m having a problem searching for a solution to this issue. My codes works fine after I run it. It suppose to display the data on my sql database to my jtable, and there&#39;s a button that will trigger to display the jasper report but there&#39;s a little bit problem, it always shows me the message &#39;The document has no pages.&#39; why is that? can someone help me with my issue here? What did I do wrong?\r\n\r\nhere is my codes:\r\n\r\n    package stringmanipulation;\r\n    import java.sql.*;\r\n    import java.util.Vector;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import net.sf.jasperreports.engine.JasperCompileManager;\r\n    import net.sf.jasperreports.engine.JasperFillManager;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.engine.JasperReport;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    import org.apache.log4j.ConsoleAppender;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PatternLayout;\r\n    \r\n    \r\n    public class r2xml extends javax.swing.JFrame {\r\n    \r\n        \r\n        public r2xml() {\r\n            initComponents();\r\n        }\r\n        \r\n    Connection con;\r\n        private void search() throws Exception{\r\n            Class.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n                String url = &quot;jdbc:odbc:*****&quot;;\r\n                String user = &quot;******&quot;;\r\n                String pass = &quot;******&quot;;\r\n                Connection con =  DriverManager.getConnection(url, user, pass);\r\n                Statement state = con.createStatement();\r\n                \r\n                ResultSet rs = state.executeQuery(&quot;SELECT &quot;\r\n                        + &quot;pIDNo AS &#39;Patient ID&#39;,&quot;\r\n                        + &quot;pLName AS &#39;Last Name&#39;,&quot; \r\n                        + &quot;pFName AS &#39;First Name&#39;,&quot;\r\n                        + &quot;pMI AS &#39;M.I.&#39;,&quot;\r\n                        + &quot;pSex AS &#39;Sex&#39;,&quot;\r\n                        + &quot;pStatus AS &#39;Status&#39;,&quot;\r\n                        + &quot;pTelNo AS &#39;Contact No.&#39;,&quot;\r\n                        + &quot;pDocID AS &#39;Doctor ID&#39;,&quot;\r\n                        + &quot;pAddr AS &#39;St. No.&#39;,&quot;\r\n                        + &quot;pStreet AS &#39;St. Name&#39;,&quot;\r\n                        + &quot;pBarangay AS &#39;Barangay&#39;,&quot;\r\n                        + &quot;pCity AS &#39;City&#39;,&quot;\r\n                        + &quot; pProvince AS &#39;Province&#39;,&quot;\r\n                        + &quot; pLNameKIN AS &#39;Last Name&#39;,&quot;\r\n                        + &quot;pFNameKIN AS &#39;First Name&#39;,&quot;\r\n                        + &quot;pMIKIN AS &#39;M.I.&#39;,&quot;\r\n                        + &quot;pRelationKIN AS &#39;Relation&#39;,&quot;\r\n                        + &quot;pTotalDue AS &#39;Total Due&#39;&quot;\r\n                        + &quot; FROM dbo.Patients&quot;);\r\n                ResultSetMetaData rsmetadata = rs.getMetaData();\r\n                int columns = rsmetadata.getColumnCount();\r\n                DefaultTableModel dtm = new DefaultTableModel();\r\n                Vector column_name = new Vector();\r\n                Vector data_rows = new Vector();\r\n                \r\n                for (int i=1; i&lt;columns;i++){\r\n                    column_name.addElement(rsmetadata.getColumnName(i));\r\n                }\r\n                dtm.setColumnIdentifiers(column_name);\r\n                \r\n                while(rs.next()){\r\n                    data_rows = new Vector();\r\n                    for (int j=1; j&lt;columns; j++){\r\n                    data_rows.addElement(rs.getString(j));\r\n                    }\r\n                    dtm.addRow(data_rows);\r\n                }\r\n                tblPatient.setModel(dtm);\r\n        }\r\n        \r\n        public void reportviewer() {\r\n            \r\n            \r\n            try{\r\n           \r\n            String report = &quot;C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml&quot;;\r\n            JasperReport jasp_report = JasperCompileManager.compileReport(report);\r\n            JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, con);\r\n            JasperViewer.viewReport(jasp_print);\r\n            }\r\n            catch (Exception e) {System.out.print(e);}\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n\r\n\r\n \r\n\r\n    public static void main(String args[]) {\r\n            PatternLayout pl = new PatternLayout(&quot;[%-5p] %C.%M:%L: %m%n&quot;);\r\n            ConsoleAppender appender = new ConsoleAppender(pl);\r\n            Logger.getRootLogger().addAppender(appender);\r\n            \r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n    \r\n                public void run() {\r\n                    new r2xml().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\nhere is the XML report :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;null&quot; language=&quot;groovy&quot; pageWidth=&quot;842&quot; pageHeight=&quot;595&quot; orientation=&quot;Landscape&quot; columnWidth=&quot;802&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;71&quot;/&gt;\r\n    \t&lt;style name=&quot;Title&quot; forecolor=&quot;#FFFFFF&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;50&quot; isBold=&quot;false&quot; pdfFontName=&quot;Times-Bold&quot;/&gt;\r\n    \t&lt;style name=&quot;SubTitle&quot; forecolor=&quot;#666666&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;18&quot; isBold=&quot;false&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Column header&quot; forecolor=&quot;#666666&quot; fontName=&quot;Times New Roman&quot; fontSize=&quot;14&quot; isBold=&quot;true&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Detail&quot; mode=&quot;Transparent&quot; fontName=&quot;Times New Roman&quot; pdfFontName=&quot;Times-Roman&quot;/&gt;\r\n    \t&lt;style name=&quot;Row&quot; mode=&quot;Transparent&quot; fontName=&quot;Times New Roman&quot; pdfFontName=&quot;Times-Roman&quot;&gt;\r\n    \t\t&lt;conditionalStyle&gt;\r\n    \t\t\t&lt;conditionExpression&gt;&lt;![CDATA[$V{REPORT_COUNT}%2 == 0]]&gt;&lt;/conditionExpression&gt;\r\n    \t\t\t&lt;style mode=&quot;Opaque&quot; backcolor=&quot;#F0EFEF&quot;/&gt;\r\n    \t\t&lt;/conditionalStyle&gt;\r\n    \t&lt;/style&gt;\r\n    \t&lt;subDataset name=&quot;PieChartDataset&quot;/&gt;\r\n    \t&lt;queryString language=&quot;SQL&quot;&gt;\r\n    \t\t&lt;![CDATA[SELECT\r\n         Patients.&quot;pIDNo&quot; AS Patients_pIDNo,\r\n         Patients.&quot;pLName&quot; AS Patients_pLName,\r\n         Patients.&quot;pFName&quot; AS Patients_pFName,\r\n         Patients.&quot;pMI&quot; AS Patients_pMI,\r\n         Patients.&quot;pSex&quot; AS Patients_pSex,\r\n         Patients.&quot;pStatus&quot; AS Patients_pStatus,\r\n         Patients.&quot;pTelNo&quot; AS Patients_pTelNo,\r\n         Patients.&quot;pDocID&quot; AS Patients_pDocID,\r\n         Patients.&quot;pAddr&quot; AS Patients_pAddr,\r\n         Patients.&quot;pStreet&quot; AS Patients_pStreet,\r\n         Patients.&quot;pBarangay&quot; AS Patients_pBarangay,\r\n         Patients.&quot;pCity&quot; AS Patients_pCity,\r\n         Patients.&quot;pProvince&quot; AS Patients_pProvince,\r\n         Patients.&quot;pLNameKIN&quot; AS Patients_pLNameKIN,\r\n         Patients.&quot;pFNameKIN&quot; AS Patients_pFNameKIN,\r\n         Patients.&quot;pMIKIN&quot; AS Patients_pMIKIN,\r\n         Patients.&quot;pRelationKIN&quot; AS Patients_pRelationKIN,\r\n         Patients.&quot;pTotalDue&quot; AS Patients_pTotalDue\r\n    FROM\r\n         &quot;dbo&quot;.&quot;Patients&quot; Patients]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;field name=&quot;Patients_pIDNo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pLName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pFName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pMI&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pSex&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pStatus&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pTelNo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pDocID&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pAddr&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pStreet&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pBarangay&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pCity&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pProvince&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pLNameKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pFNameKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pMIKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pRelationKIN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;Patients_pTotalDue&quot; class=&quot;java.math.BigDecimal&quot;/&gt;\r\n    \t&lt;group name=&quot;Patients_pIDNo&quot;&gt;\r\n    \t\t&lt;groupExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/groupExpression&gt;\r\n    \t\t&lt;groupHeader&gt;\r\n    \t\t\t&lt;band height=&quot;31&quot;&gt;\r\n    \t\t\t\t&lt;frame&gt;\r\n    \t\t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;72&quot; y=&quot;7&quot; width=&quot;730&quot; height=&quot;24&quot; forecolor=&quot;#B89F7D&quot; backcolor=&quot;#70A9C6&quot;/&gt;\r\n    \t\t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t\t&lt;reportElement style=&quot;SubTitle&quot; isPrintRepeatedValues=&quot;false&quot; x=&quot;155&quot; y=&quot;1&quot; width=&quot;110&quot; height=&quot;23&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;/band&gt;\r\n    \t\t&lt;/groupHeader&gt;\r\n    \t\t&lt;groupFooter&gt;\r\n    \t\t\t&lt;band height=&quot;6&quot;/&gt;\r\n    \t\t&lt;/groupFooter&gt;\r\n    \t&lt;/group&gt;\r\n    \t&lt;background&gt;\r\n    \t\t&lt;band height=&quot;555&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;pie3DChart&gt;\r\n    \t\t\t\t&lt;chart isShowLegend=&quot;false&quot; evaluationTime=&quot;Report&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement x=&quot;-18&quot; y=&quot;406&quot; width=&quot;229&quot; height=&quot;139&quot;/&gt;\r\n    \t\t\t\t\t&lt;chartTitle/&gt;\r\n    \t\t\t\t\t&lt;chartSubtitle/&gt;\r\n    \t\t\t\t\t&lt;chartLegend/&gt;\r\n    \t\t\t\t&lt;/chart&gt;\r\n    \t\t\t\t&lt;pieDataset&gt;\r\n    \t\t\t\t\t&lt;dataset&gt;\r\n    \t\t\t\t\t\t&lt;datasetRun subDataset=&quot;PieChartDataset&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(5)]]&gt;&lt;/dataSourceExpression&gt;\r\n    \t\t\t\t\t\t&lt;/datasetRun&gt;\r\n    \t\t\t\t\t&lt;/dataset&gt;\r\n    \t\t\t\t\t&lt;keyExpression&gt;&lt;![CDATA[/* Replace with your key expression here */\r\n    $V{REPORT_COUNT}]]&gt;&lt;/keyExpression&gt;\r\n    \t\t\t\t\t&lt;valueExpression&gt;&lt;![CDATA[new Double(200*Math.random()*5)]]&gt;&lt;/valueExpression&gt;\r\n    \t\t\t\t&lt;/pieDataset&gt;\r\n    \t\t\t\t&lt;pie3DPlot&gt;\r\n    \t\t\t\t\t&lt;plot backgroundAlpha=&quot;0.5&quot; foregroundAlpha=&quot;0.8&quot;&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;0&quot; color=&quot;#3399FF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;1&quot; color=&quot;#00CCFF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;2&quot; color=&quot;#0066CC&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;3&quot; color=&quot;#6699FF&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;4&quot; color=&quot;#004A94&quot;/&gt;\r\n    \t\t\t\t\t\t&lt;seriesColor seriesOrder=&quot;5&quot; color=&quot;#00356A&quot;/&gt;\r\n    \t\t\t\t\t&lt;/plot&gt;\r\n    \t\t\t\t\t&lt;itemLabel color=&quot;#000000&quot; backgroundColor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t&lt;/pie3DPlot&gt;\r\n    \t\t\t&lt;/pie3DChart&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;-20&quot; y=&quot;65&quot; width=&quot;229&quot; height=&quot;250&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} == 1]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[&quot;flower1.png&quot;]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;-20&quot; y=&quot;-20&quot; width=&quot;229&quot; height=&quot;250&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} &gt; 1]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[&quot;flower1.png&quot;]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;318&quot; y=&quot;315&quot; width=&quot;239&quot; height=&quot;181&quot; backcolor=&quot;#FFFFCC&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;box topPadding=&quot;4&quot; leftPadding=&quot;4&quot; bottomPadding=&quot;4&quot; rightPadding=&quot;4&quot;&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Each chart is populated on each page.\r\n    The 3 pie charts are currently using an empty datasource and the values are\r\n    generated using a random generator.\r\n    \r\n    This rectangle element is not printed (see the print when expression of this\r\n    element)]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;201&quot; y=&quot;431&quot; width=&quot;117&quot; height=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;3.0&quot; lineStyle=&quot;Dotted&quot; lineColor=&quot;#996600&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;275&quot; y=&quot;-10&quot; width=&quot;240&quot; height=&quot;181&quot; backcolor=&quot;#FFFFCC&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;box topPadding=&quot;4&quot; leftPadding=&quot;4&quot; bottomPadding=&quot;4&quot; rightPadding=&quot;4&quot;&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineColor=&quot;#CC9900&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement markup=&quot;none&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Flowers\r\n    \r\n    There are two flowers, the first one is printed only starting from the second page, the other one only in the first page.]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;72&quot; y=&quot;37&quot; width=&quot;204&quot; height=&quot;1&quot;&gt;\r\n    \t\t\t\t\t&lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\r\n    \t\t\t\t&lt;/reportElement&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;3.0&quot; lineStyle=&quot;Dotted&quot; lineColor=&quot;#996600&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/background&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;94&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;SubTitle&quot; x=&quot;336&quot; y=&quot;65&quot; width=&quot;449&quot; height=&quot;29&quot;/&gt;\r\n    \t\t\t\t&lt;textElement textAlignment=&quot;Right&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;22&quot; isBold=&quot;false&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Hospital ]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;-20&quot; y=&quot;0&quot; width=&quot;822&quot; height=&quot;65&quot; forecolor=&quot;#006699&quot; backcolor=&quot;#006699&quot;/&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Title&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;578&quot; height=&quot;65&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement textAlignment=&quot;Right&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font size=&quot;54&quot; isBold=&quot;false&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patient Form]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    \t&lt;pageHeader&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageHeader&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;14&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;210&quot; y=&quot;0&quot; width=&quot;575&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;99&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pSex]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;132&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pStatus]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;165&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pTelNo]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;198&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pDocID]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pAddr]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;264&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pStreet]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;297&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pBarangay]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;330&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pCity]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;363&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pProvince]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;396&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pLNameKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;429&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pFNameKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;462&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pMIKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;495&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pRelationKIN]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t\t&lt;staticText&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;528&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;text&gt;&lt;![CDATA[Patients_pTotalDue]]&gt;&lt;/text&gt;\r\n    \t\t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;72&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[ Last Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;72&quot; y=&quot;0&quot; width=&quot;65&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[First Name]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Column header&quot; positionType=&quot;Float&quot; x=&quot;137&quot; y=&quot;0&quot; width=&quot;74&quot; height=&quot;14&quot; forecolor=&quot;#000000&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;true&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Middle Initial]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;15&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;FixRelativeToBottom&quot; x=&quot;227&quot; y=&quot;14&quot; width=&quot;575&quot; height=&quot;1&quot;/&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;226&quot; y=&quot;0&quot; width=&quot;575&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;99&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pSex}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;132&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStatus}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;165&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTelNo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;198&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pDocID}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;231&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pAddr}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;264&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStreet}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;297&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pBarangay}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;330&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pCity}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;363&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pProvince}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;396&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLNameKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;429&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFNameKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;462&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMIKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;495&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pRelationKIN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;528&quot; y=&quot;0&quot; width=&quot;33&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTotalDue}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;4&quot; y=&quot;0&quot; width=&quot;68&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;72&quot; y=&quot;1&quot; width=&quot;65&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFName}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField isStretchWithOverflow=&quot;true&quot; isBlankWhenNull=&quot;true&quot;&gt;\r\n    \t\t\t\t&lt;reportElement style=&quot;Detail&quot; positionType=&quot;Float&quot; x=&quot;137&quot; y=&quot;1&quot; width=&quot;72&quot; height=&quot;14&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMI}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    \t&lt;columnFooter&gt;\r\n    \t\t&lt;band height=&quot;7&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;line&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;FixRelativeToBottom&quot; x=&quot;0&quot; y=&quot;3&quot; width=&quot;555&quot; height=&quot;1&quot;/&gt;\r\n    \t\t\t\t&lt;graphicElement&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#999999&quot;/&gt;\r\n    \t\t\t\t&lt;/graphicElement&gt;\r\n    \t\t\t&lt;/line&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnFooter&gt;\r\n    \t&lt;pageFooter&gt;\r\n    \t\t&lt;band height=&quot;16&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;frame&gt;\r\n    \t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;2&quot; y=&quot;0&quot; width=&quot;800&quot; height=&quot;16&quot; forecolor=&quot;#D0B48E&quot; backcolor=&quot;#006699&quot;/&gt;\r\n    \t\t\t\t&lt;textField evaluationTime=&quot;Report&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;753&quot; y=&quot;0&quot; width=&quot;40&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot; &quot; + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;673&quot; y=&quot;0&quot; width=&quot;80&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement textAlignment=&quot;Right&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[&quot;Page &quot;+$V{PAGE_NUMBER}+&quot; of&quot;]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t\t&lt;textField pattern=&quot;EEEEE dd MMMMM yyyy&quot;&gt;\r\n    \t\t\t\t\t&lt;reportElement style=&quot;Column header&quot; x=&quot;2&quot; y=&quot;0&quot; width=&quot;197&quot; height=&quot;16&quot; forecolor=&quot;#FFFFFF&quot;/&gt;\r\n    \t\t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t\t&lt;font fontName=&quot;Arial&quot; size=&quot;12&quot; isBold=&quot;false&quot; pdfFontName=&quot;Helvetica&quot;/&gt;\r\n    \t\t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;/frame&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/pageFooter&gt;\r\n    \t&lt;summary&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n","title":"The document has no pages. Jasper Report","body":"<p>I'm having a problem searching for a solution to this issue. My codes works fine after I run it. It suppose to display the data on my sql database to my jtable, and there's a button that will trigger to display the jasper report but there's a little bit problem, it always shows me the message 'The document has no pages.' why is that? can someone help me with my issue here? What did I do wrong?</p>\n\n<p>here is my codes:</p>\n\n<pre><code>package stringmanipulation;\nimport java.sql.*;\nimport java.util.Vector;\nimport javax.swing.table.DefaultTableModel;\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.view.JasperViewer;\nimport org.apache.log4j.ConsoleAppender;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PatternLayout;\n\n\npublic class r2xml extends javax.swing.JFrame {\n\n\n    public r2xml() {\n        initComponents();\n    }\n\nConnection con;\n    private void search() throws Exception{\n        Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n            String url = \"jdbc:odbc:*****\";\n            String user = \"******\";\n            String pass = \"******\";\n            Connection con =  DriverManager.getConnection(url, user, pass);\n            Statement state = con.createStatement();\n\n            ResultSet rs = state.executeQuery(\"SELECT \"\n                    + \"pIDNo AS 'Patient ID',\"\n                    + \"pLName AS 'Last Name',\" \n                    + \"pFName AS 'First Name',\"\n                    + \"pMI AS 'M.I.',\"\n                    + \"pSex AS 'Sex',\"\n                    + \"pStatus AS 'Status',\"\n                    + \"pTelNo AS 'Contact No.',\"\n                    + \"pDocID AS 'Doctor ID',\"\n                    + \"pAddr AS 'St. No.',\"\n                    + \"pStreet AS 'St. Name',\"\n                    + \"pBarangay AS 'Barangay',\"\n                    + \"pCity AS 'City',\"\n                    + \" pProvince AS 'Province',\"\n                    + \" pLNameKIN AS 'Last Name',\"\n                    + \"pFNameKIN AS 'First Name',\"\n                    + \"pMIKIN AS 'M.I.',\"\n                    + \"pRelationKIN AS 'Relation',\"\n                    + \"pTotalDue AS 'Total Due'\"\n                    + \" FROM dbo.Patients\");\n            ResultSetMetaData rsmetadata = rs.getMetaData();\n            int columns = rsmetadata.getColumnCount();\n            DefaultTableModel dtm = new DefaultTableModel();\n            Vector column_name = new Vector();\n            Vector data_rows = new Vector();\n\n            for (int i=1; i&lt;columns;i++){\n                column_name.addElement(rsmetadata.getColumnName(i));\n            }\n            dtm.setColumnIdentifiers(column_name);\n\n            while(rs.next()){\n                data_rows = new Vector();\n                for (int j=1; j&lt;columns; j++){\n                data_rows.addElement(rs.getString(j));\n                }\n                dtm.addRow(data_rows);\n            }\n            tblPatient.setModel(dtm);\n    }\n\n    public void reportviewer() {\n\n\n        try{\n\n        String report = \"C:\\\\Users\\\\cleanfuel\\\\Documents\\\\NetBeansProjects\\\\StringManipulation\\\\src\\\\stringmanipulation\\\\report1.jrxml\";\n        JasperReport jasp_report = JasperCompileManager.compileReport(report);\n        JasperPrint jasp_print = JasperFillManager.fillReport(jasp_report, null, con);\n        JasperViewer.viewReport(jasp_print);\n        }\n        catch (Exception e) {System.out.print(e);}\n    }\n    @SuppressWarnings(\"unchecked\")\n\n\n\n\npublic static void main(String args[]) {\n        PatternLayout pl = new PatternLayout(\"[%-5p] %C.%M:%L: %m%n\");\n        ConsoleAppender appender = new ConsoleAppender(pl);\n        Logger.getRootLogger().addAppender(appender);\n\n        java.awt.EventQueue.invokeLater(new Runnable() {\n\n            public void run() {\n                new r2xml().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n\n<p>here is the XML report :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"null\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"802\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"71\"/&gt;\n    &lt;style name=\"Title\" forecolor=\"#FFFFFF\" fontName=\"Times New Roman\" fontSize=\"50\" isBold=\"false\" pdfFontName=\"Times-Bold\"/&gt;\n    &lt;style name=\"SubTitle\" forecolor=\"#666666\" fontName=\"Times New Roman\" fontSize=\"18\" isBold=\"false\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Column header\" forecolor=\"#666666\" fontName=\"Times New Roman\" fontSize=\"14\" isBold=\"true\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Detail\" mode=\"Transparent\" fontName=\"Times New Roman\" pdfFontName=\"Times-Roman\"/&gt;\n    &lt;style name=\"Row\" mode=\"Transparent\" fontName=\"Times New Roman\" pdfFontName=\"Times-Roman\"&gt;\n        &lt;conditionalStyle&gt;\n            &lt;conditionExpression&gt;&lt;![CDATA[$V{REPORT_COUNT}%2 == 0]]&gt;&lt;/conditionExpression&gt;\n            &lt;style mode=\"Opaque\" backcolor=\"#F0EFEF\"/&gt;\n        &lt;/conditionalStyle&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=\"PieChartDataset\"/&gt;\n    &lt;queryString language=\"SQL\"&gt;\n        &lt;![CDATA[SELECT\n     Patients.\"pIDNo\" AS Patients_pIDNo,\n     Patients.\"pLName\" AS Patients_pLName,\n     Patients.\"pFName\" AS Patients_pFName,\n     Patients.\"pMI\" AS Patients_pMI,\n     Patients.\"pSex\" AS Patients_pSex,\n     Patients.\"pStatus\" AS Patients_pStatus,\n     Patients.\"pTelNo\" AS Patients_pTelNo,\n     Patients.\"pDocID\" AS Patients_pDocID,\n     Patients.\"pAddr\" AS Patients_pAddr,\n     Patients.\"pStreet\" AS Patients_pStreet,\n     Patients.\"pBarangay\" AS Patients_pBarangay,\n     Patients.\"pCity\" AS Patients_pCity,\n     Patients.\"pProvince\" AS Patients_pProvince,\n     Patients.\"pLNameKIN\" AS Patients_pLNameKIN,\n     Patients.\"pFNameKIN\" AS Patients_pFNameKIN,\n     Patients.\"pMIKIN\" AS Patients_pMIKIN,\n     Patients.\"pRelationKIN\" AS Patients_pRelationKIN,\n     Patients.\"pTotalDue\" AS Patients_pTotalDue\nFROM\n     \"dbo\".\"Patients\" Patients]]&gt;\n    &lt;/queryString&gt;\n    &lt;field name=\"Patients_pIDNo\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pLName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pFName\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pMI\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pSex\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pStatus\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pTelNo\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pDocID\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pAddr\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pStreet\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pBarangay\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pCity\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pProvince\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pLNameKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pFNameKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pMIKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pRelationKIN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"Patients_pTotalDue\" class=\"java.math.BigDecimal\"/&gt;\n    &lt;group name=\"Patients_pIDNo\"&gt;\n        &lt;groupExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/groupExpression&gt;\n        &lt;groupHeader&gt;\n            &lt;band height=\"31\"&gt;\n                &lt;frame&gt;\n                    &lt;reportElement mode=\"Opaque\" x=\"72\" y=\"7\" width=\"730\" height=\"24\" forecolor=\"#B89F7D\" backcolor=\"#70A9C6\"/&gt;\n                    &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                        &lt;reportElement style=\"SubTitle\" isPrintRepeatedValues=\"false\" x=\"155\" y=\"1\" width=\"110\" height=\"23\" forecolor=\"#FFFFFF\"/&gt;\n                        &lt;textElement&gt;\n                            &lt;font fontName=\"Arial\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                        &lt;/textElement&gt;\n                        &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pIDNo}]]&gt;&lt;/textFieldExpression&gt;\n                    &lt;/textField&gt;\n                &lt;/frame&gt;\n            &lt;/band&gt;\n        &lt;/groupHeader&gt;\n        &lt;groupFooter&gt;\n            &lt;band height=\"6\"/&gt;\n        &lt;/groupFooter&gt;\n    &lt;/group&gt;\n    &lt;background&gt;\n        &lt;band height=\"555\" splitType=\"Stretch\"&gt;\n            &lt;pie3DChart&gt;\n                &lt;chart isShowLegend=\"false\" evaluationTime=\"Report\"&gt;\n                    &lt;reportElement x=\"-18\" y=\"406\" width=\"229\" height=\"139\"/&gt;\n                    &lt;chartTitle/&gt;\n                    &lt;chartSubtitle/&gt;\n                    &lt;chartLegend/&gt;\n                &lt;/chart&gt;\n                &lt;pieDataset&gt;\n                    &lt;dataset&gt;\n                        &lt;datasetRun subDataset=\"PieChartDataset\"&gt;\n                            &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(5)]]&gt;&lt;/dataSourceExpression&gt;\n                        &lt;/datasetRun&gt;\n                    &lt;/dataset&gt;\n                    &lt;keyExpression&gt;&lt;![CDATA[/* Replace with your key expression here */\n$V{REPORT_COUNT}]]&gt;&lt;/keyExpression&gt;\n                    &lt;valueExpression&gt;&lt;![CDATA[new Double(200*Math.random()*5)]]&gt;&lt;/valueExpression&gt;\n                &lt;/pieDataset&gt;\n                &lt;pie3DPlot&gt;\n                    &lt;plot backgroundAlpha=\"0.5\" foregroundAlpha=\"0.8\"&gt;\n                        &lt;seriesColor seriesOrder=\"0\" color=\"#3399FF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"1\" color=\"#00CCFF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"2\" color=\"#0066CC\"/&gt;\n                        &lt;seriesColor seriesOrder=\"3\" color=\"#6699FF\"/&gt;\n                        &lt;seriesColor seriesOrder=\"4\" color=\"#004A94\"/&gt;\n                        &lt;seriesColor seriesOrder=\"5\" color=\"#00356A\"/&gt;\n                    &lt;/plot&gt;\n                    &lt;itemLabel color=\"#000000\" backgroundColor=\"#FFFFFF\"/&gt;\n                &lt;/pie3DPlot&gt;\n            &lt;/pie3DChart&gt;\n            &lt;image&gt;\n                &lt;reportElement x=\"-20\" y=\"65\" width=\"229\" height=\"250\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} == 1]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[\"flower1.png\"]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;image&gt;\n                &lt;reportElement x=\"-20\" y=\"-20\" width=\"229\" height=\"250\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER} &gt; 1]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[\"flower1.png\"]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;staticText&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"318\" y=\"315\" width=\"239\" height=\"181\" backcolor=\"#FFFFCC\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;box topPadding=\"4\" leftPadding=\"4\" bottomPadding=\"4\" rightPadding=\"4\"&gt;\n                    &lt;pen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;topPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;leftPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;bottomPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;rightPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement&gt;\n                    &lt;font size=\"12\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Each chart is populated on each page.\nThe 3 pie charts are currently using an empty datasource and the values are\ngenerated using a random generator.\n\nThis rectangle element is not printed (see the print when expression of this\nelement)]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;line&gt;\n                &lt;reportElement x=\"201\" y=\"431\" width=\"117\" height=\"1\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"3.0\" lineStyle=\"Dotted\" lineColor=\"#996600\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n            &lt;staticText&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"275\" y=\"-10\" width=\"240\" height=\"181\" backcolor=\"#FFFFCC\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;box topPadding=\"4\" leftPadding=\"4\" bottomPadding=\"4\" rightPadding=\"4\"&gt;\n                    &lt;pen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;topPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;leftPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;bottomPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                    &lt;rightPen lineWidth=\"1.0\" lineColor=\"#CC9900\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement markup=\"none\"&gt;\n                    &lt;font size=\"12\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Flowers\n\nThere are two flowers, the first one is printed only starting from the second page, the other one only in the first page.]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;line&gt;\n                &lt;reportElement x=\"72\" y=\"37\" width=\"204\" height=\"1\"&gt;\n                    &lt;printWhenExpression&gt;&lt;![CDATA[Boolean.FALSE]]&gt;&lt;/printWhenExpression&gt;\n                &lt;/reportElement&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"3.0\" lineStyle=\"Dotted\" lineColor=\"#996600\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n        &lt;/band&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=\"94\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"SubTitle\" x=\"336\" y=\"65\" width=\"449\" height=\"29\"/&gt;\n                &lt;textElement textAlignment=\"Right\"&gt;\n                    &lt;font size=\"22\" isBold=\"false\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Hospital ]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;frame&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"-20\" y=\"0\" width=\"822\" height=\"65\" forecolor=\"#006699\" backcolor=\"#006699\"/&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Title\" x=\"231\" y=\"0\" width=\"578\" height=\"65\"/&gt;\n                    &lt;textElement textAlignment=\"Right\"&gt;\n                        &lt;font size=\"54\" isBold=\"false\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patient Form]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/frame&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=\"14\" splitType=\"Stretch\"&gt;\n            &lt;frame&gt;\n                &lt;reportElement x=\"210\" y=\"0\" width=\"575\" height=\"14\"/&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"99\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pSex]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"132\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pStatus]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"165\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pTelNo]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"198\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pDocID]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"231\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pAddr]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"264\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pStreet]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"297\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pBarangay]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"330\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pCity]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"363\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pProvince]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"396\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pLNameKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"429\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pFNameKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"462\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pMIKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"495\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pRelationKIN]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"528\" y=\"0\" width=\"33\" height=\"14\" forecolor=\"#000000\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[Patients_pTotalDue]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/frame&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"0\" y=\"0\" width=\"72\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[ Last Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"72\" y=\"0\" width=\"65\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[First Name]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement style=\"Column header\" positionType=\"Float\" x=\"137\" y=\"0\" width=\"74\" height=\"14\" forecolor=\"#000000\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"true\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Middle Initial]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=\"15\" splitType=\"Stretch\"&gt;\n            &lt;line&gt;\n                &lt;reportElement positionType=\"FixRelativeToBottom\" x=\"227\" y=\"14\" width=\"575\" height=\"1\"/&gt;\n            &lt;/line&gt;\n            &lt;frame&gt;\n                &lt;reportElement x=\"226\" y=\"0\" width=\"575\" height=\"14\"/&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"99\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pSex}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"132\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStatus}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"165\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTelNo}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"198\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pDocID}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"231\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pAddr}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"264\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pStreet}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"297\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pBarangay}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"330\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pCity}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"363\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pProvince}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"396\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLNameKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"429\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFNameKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"462\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMIKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"495\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pRelationKIN}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                    &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"528\" y=\"0\" width=\"33\" height=\"14\"/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pTotalDue}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/frame&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"4\" y=\"0\" width=\"68\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pLName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"72\" y=\"1\" width=\"65\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pFName}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\"&gt;\n                &lt;reportElement style=\"Detail\" positionType=\"Float\" x=\"137\" y=\"1\" width=\"72\" height=\"14\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{Patients_pMI}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=\"7\" splitType=\"Stretch\"&gt;\n            &lt;line&gt;\n                &lt;reportElement positionType=\"FixRelativeToBottom\" x=\"0\" y=\"3\" width=\"555\" height=\"1\"/&gt;\n                &lt;graphicElement&gt;\n                    &lt;pen lineWidth=\"0.5\" lineColor=\"#999999\"/&gt;\n                &lt;/graphicElement&gt;\n            &lt;/line&gt;\n        &lt;/band&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=\"16\" splitType=\"Stretch\"&gt;\n            &lt;frame&gt;\n                &lt;reportElement mode=\"Opaque\" x=\"2\" y=\"0\" width=\"800\" height=\"16\" forecolor=\"#D0B48E\" backcolor=\"#006699\"/&gt;\n                &lt;textField evaluationTime=\"Report\"&gt;\n                    &lt;reportElement style=\"Column header\" x=\"753\" y=\"0\" width=\"40\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[\" \" + $V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField&gt;\n                    &lt;reportElement style=\"Column header\" x=\"673\" y=\"0\" width=\"80\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement textAlignment=\"Right\" verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[\"Page \"+$V{PAGE_NUMBER}+\" of\"]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;textField pattern=\"EEEEE dd MMMMM yyyy\"&gt;\n                    &lt;reportElement style=\"Column header\" x=\"2\" y=\"0\" width=\"197\" height=\"16\" forecolor=\"#FFFFFF\"/&gt;\n                    &lt;textElement verticalAlignment=\"Middle\"&gt;\n                        &lt;font fontName=\"Arial\" size=\"12\" isBold=\"false\" pdfFontName=\"Helvetica\"/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[new java.util.Date()]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/frame&gt;\n        &lt;/band&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678998793,"creation_date":1678998793,"answer_id":75761382,"question_id":75736858,"body_markdown":"There is only one endpoint in GraphQL and that is `www.server.com/graphql`. If you want to secure access to it, you can update the spring security configuration in this way.\r\n\r\n```\r\n        http.authorizeHttpRequests { auth -&gt;\r\n            auth.requestMatchers(HttpMethod.POST, &quot;/graphql&quot;)\r\n                .authenticated()\r\n                .requestMatchers(HttpMethod.GET, &quot;/graphql*&quot;)\r\n                .authenticated()\r\n                .anyRequest()\r\n                .authenticated()\r\n        }\r\n\r\n```\r\n\r\n\r\nWhen using GraphQL in production, you may want to disable introspection query because introspection is the ability to query which resources are available in the current API schema. For some scenarios, it can be counted as a security issue. Here show you can disable `introspection query` in Spring GraphQL.\r\n\r\n\r\n```\r\n    @Bean\r\n    fun wiring(): RuntimeWiringConfigurer {\r\n        return RuntimeWiringConfigurer { builder -&gt;\r\n            builder.fieldVisibility(NoIntrospectionGraphqlFieldVisibility.NO_INTROSPECTION_FIELD_VISIBILITY)\r\n        }\r\n    }\r\n```\r\n","title":"How to disable all graphQL endpoints with a configuration?","body":"<p>There is only one endpoint in GraphQL and that is <code>www.server.com/graphql</code>. If you want to secure access to it, you can update the spring security configuration in this way.</p>\n<pre><code>        http.authorizeHttpRequests { auth -&gt;\n            auth.requestMatchers(HttpMethod.POST, &quot;/graphql&quot;)\n                .authenticated()\n                .requestMatchers(HttpMethod.GET, &quot;/graphql*&quot;)\n                .authenticated()\n                .anyRequest()\n                .authenticated()\n        }\n\n</code></pre>\n<p>When using GraphQL in production, you may want to disable introspection query because introspection is the ability to query which resources are available in the current API schema. For some scenarios, it can be counted as a security issue. Here show you can disable <code>introspection query</code> in Spring GraphQL.</p>\n<pre><code>    @Bean\n    fun wiring(): RuntimeWiringConfigurer {\n        return RuntimeWiringConfigurer { builder -&gt;\n            builder.fieldVisibility(NoIntrospectionGraphqlFieldVisibility.NO_INTROSPECTION_FIELD_VISIBILITY)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":16540475,"reputation":275,"user_id":11951361,"display_name":"lgean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678998793,"creation_date":1678817197,"question_id":75736858,"body_markdown":"Using this dependency, \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-graphql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIs there any configuration that can disable all GraphQL endpoints / controllers? I was suggested to look for something like `spring.graphql.enabled` but no luck so far.","title":"How to disable all graphQL endpoints with a configuration?","body":"<p>Using this dependency,</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-graphql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Is there any configuration that can disable all GraphQL endpoints / controllers? I was suggested to look for something like <code>spring.graphql.enabled</code> but no luck so far.</p>\n"},{"tags":["java","apache-camel","apache-velocity","velocity-template-language"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1679047305,"post_id":75759869,"comment_id":133654579,"body_markdown":"You&#39;re at least missing closing Parentheses after your first if and  `#` before your second if. Maybe try opening the template in editor like VSCode with Velocity template plugin that includes syntax highlighting to see if there are any more errors.","body":"You&#39;re at least missing closing Parentheses after your first if and  <code>#</code> before your second if. Maybe try opening the template in editor like VSCode with Velocity template plugin that includes syntax highlighting to see if there are any more errors."}],"owner":{"account_id":28035124,"reputation":1,"user_id":21413651,"display_name":"jorgeglopez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678997331,"creation_date":1678988773,"question_id":75759869,"body_markdown":"I have a Map of this type but I have not been able to print it in a velocity template. This is for a SOAP service\r\n\r\n{DATOS_CONTACTO=\\[{TIPO_DOCUMENTO=CC, NUMERO_DOCUMENTO=1525250, COD_DEPARTAMENTO=10, COD_MUNICIPIO=222, DIR_RESIDENCIA=CL 4A 3 52, TELEFONO=0, CELULAR=325252467, EMAIL=luzceni5252@hotmail.com}\\], DATOS_PARENTESCO=\\[{PARENTESCO=Hijos, DOCUMENTO=1052986, TIPODOC=1}, {PARENTESCO=Hijos, DOCUMENTO=1035252, TIPODOC=5}\\]}\r\n\r\nThe goal is to loop through the map and print its values\r\nValues are not displayed. I tried to get the result and iterate with a foreach\r\n\r\n```\r\n#foreach( $row in ${body} )\r\n#if($row[&#39;DATOS_PARENTESCO&#39;]\r\n#set ($foo = ($row[&quot;PARENTESCO&quot;]))\r\n&lt;ns1:dato_parentesco&gt;\r\n&lt;ns3:tipo_parentesco&gt;#if($foo == &quot;Conyuge&quot;)1 #elseif ($foo == &quot;Compa&#241;ero(a)&quot;)2 #elseif($foo ==&quot;Hijos&quot;)3 #elseif($foo == &quot;Padres&quot;)4 #elseif($foo == &quot;Otros&quot;)5 #else#end&lt;/ns3:tipo_parentesco&gt;\r\n&lt;ns3:tipo_doc_cotizante&gt;#if(!$row[&quot;TIPODOC&quot;])#{else}$row[&quot;TIPODOC&quot;]#end&lt;/ns3:tipo_doc_cotizante&gt;\r\n&lt;ns3:num_doc_cotizante&gt;#if(!$row[&quot;DOCUMENTO&quot;])#{else}$row[&quot;DOCUMENTO&quot;]#end&lt;/ns3:num_doc_cotizante&gt;\r\n&lt;/ns1:dato_parentesco&gt;\r\n#end\r\nif($row[&#39;DATOS_CONTACTO&#39;])\r\n&lt;ns1:datos_contacto&gt;\r\n&lt;ns3:depto_residencia&gt;#if(!$row[&quot;COD_DEPARTAMENTO&quot;])#{else}$row[&quot;COD_DEPARTAMENTO&quot;]#end&lt;/ns3:depto_residencia&gt;\r\n&lt;ns3:municipio_residencia&gt;#if(!$row[&quot;COD_MUNICIPIO&quot;])#{else}$row[&quot;COD_MUNICIPIO&quot;]#end&lt;/ns3:municipio_residencia&gt;\r\n&lt;ns3:direccion_residencia&gt;#if(!$row[&quot;DIR_RESIDENCIA&quot;])#{else}$row[&quot;DIR_RESIDENCIA&quot;]#end&lt;/ns3:direccion_residencia&gt;\r\n&lt;ns3:telefono_residencia&gt;#if(!$row[&quot;TELEFONO&quot;])#{else}$row[&quot;TELEFONO&quot;]#end&lt;/ns3:telefono_residencia&gt;\r\n&lt;ns3:telefono_movil&gt;#if(!$row[&quot;CELULAR&quot;])#{else}$row[&quot;CELULAR&quot;]#end&lt;/ns3:telefono_movil&gt;\r\n&lt;ns3:correo_electronico&gt;#if(!$row[&quot;EMAIL&quot;])#{else}$row[&quot;EMAIL&quot;]#end&lt;/ns3:correo_electronico&gt;\r\n&lt;/ns1:datos_contacto&gt;\r\n#end\r\n#end\r\n```","title":"Iterate a map with VTL velocity template. Camel","body":"<p>I have a Map of this type but I have not been able to print it in a velocity template. This is for a SOAP service</p>\n<p>{DATOS_CONTACTO=[{TIPO_DOCUMENTO=CC, NUMERO_DOCUMENTO=1525250, COD_DEPARTAMENTO=10, COD_MUNICIPIO=222, DIR_RESIDENCIA=CL 4A 3 52, TELEFONO=0, CELULAR=325252467, EMAIL=luzceni5252@hotmail.com}], DATOS_PARENTESCO=[{PARENTESCO=Hijos, DOCUMENTO=1052986, TIPODOC=1}, {PARENTESCO=Hijos, DOCUMENTO=1035252, TIPODOC=5}]}</p>\n<p>The goal is to loop through the map and print its values\nValues are not displayed. I tried to get the result and iterate with a foreach</p>\n<pre><code>#foreach( $row in ${body} )\n#if($row['DATOS_PARENTESCO']\n#set ($foo = ($row[&quot;PARENTESCO&quot;]))\n&lt;ns1:dato_parentesco&gt;\n&lt;ns3:tipo_parentesco&gt;#if($foo == &quot;Conyuge&quot;)1 #elseif ($foo == &quot;Compañero(a)&quot;)2 #elseif($foo ==&quot;Hijos&quot;)3 #elseif($foo == &quot;Padres&quot;)4 #elseif($foo == &quot;Otros&quot;)5 #else#end&lt;/ns3:tipo_parentesco&gt;\n&lt;ns3:tipo_doc_cotizante&gt;#if(!$row[&quot;TIPODOC&quot;])#{else}$row[&quot;TIPODOC&quot;]#end&lt;/ns3:tipo_doc_cotizante&gt;\n&lt;ns3:num_doc_cotizante&gt;#if(!$row[&quot;DOCUMENTO&quot;])#{else}$row[&quot;DOCUMENTO&quot;]#end&lt;/ns3:num_doc_cotizante&gt;\n&lt;/ns1:dato_parentesco&gt;\n#end\nif($row['DATOS_CONTACTO'])\n&lt;ns1:datos_contacto&gt;\n&lt;ns3:depto_residencia&gt;#if(!$row[&quot;COD_DEPARTAMENTO&quot;])#{else}$row[&quot;COD_DEPARTAMENTO&quot;]#end&lt;/ns3:depto_residencia&gt;\n&lt;ns3:municipio_residencia&gt;#if(!$row[&quot;COD_MUNICIPIO&quot;])#{else}$row[&quot;COD_MUNICIPIO&quot;]#end&lt;/ns3:municipio_residencia&gt;\n&lt;ns3:direccion_residencia&gt;#if(!$row[&quot;DIR_RESIDENCIA&quot;])#{else}$row[&quot;DIR_RESIDENCIA&quot;]#end&lt;/ns3:direccion_residencia&gt;\n&lt;ns3:telefono_residencia&gt;#if(!$row[&quot;TELEFONO&quot;])#{else}$row[&quot;TELEFONO&quot;]#end&lt;/ns3:telefono_residencia&gt;\n&lt;ns3:telefono_movil&gt;#if(!$row[&quot;CELULAR&quot;])#{else}$row[&quot;CELULAR&quot;]#end&lt;/ns3:telefono_movil&gt;\n&lt;ns3:correo_electronico&gt;#if(!$row[&quot;EMAIL&quot;])#{else}$row[&quot;EMAIL&quot;]#end&lt;/ns3:correo_electronico&gt;\n&lt;/ns1:datos_contacto&gt;\n#end\n#end\n</code></pre>\n"},{"tags":["java","selenium-webdriver","junit","cucumber"],"owner":{"account_id":21864906,"reputation":41,"user_id":16155234,"display_name":"German Larcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678998376,"answer_count":0,"score":1,"last_activity_date":1678996612,"creation_date":1678996612,"question_id":75761102,"body_markdown":"I have already seen some similar issues into other questions but I still be unable to solve my problem. It is weird that I was able to run these tests but not any more and I don&#39;t know why.\r\n\r\n**Info about my project:**\r\n\r\nThis is a basic project with Java and Seleniun.\r\n\r\n**Java JDK version**: 18.0.2.1\r\n\r\n**Gradle version**: 7.5\r\n\r\n**Cucumber**\r\n\r\n**Junit verssion**:  4.13.2\r\n\r\n**OS**: Windows 11\r\n\r\n**Implemented with Page Object Model**:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n            id &#39;java&#39;\r\n       }\r\n    group &#39;GerUdemy&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 13\r\n    \r\n    repositories {\r\n    \r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.2&#39;\r\n        implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.6.0&#39;\r\n    \r\n        testImplementation &#39;io.cucumber:cucumber-java:7.11.1&#39;\r\n        testImplementation &#39;io.cucumber:cucumber-junit:7.11.1&#39;\r\n        implementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-core&#39;, version: &#39;7.11.1&#39;\r\n    \r\n        testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;2.0.3&#39;\r\n    \r\n        implementation group: &#39;tech.grasshopper&#39;, name: &#39;extentreports-cucumber7-adapter&#39;, version: &#39;1.9.1&#39;\r\n    \r\n    }\r\n    \r\n    test{\r\n        systemProperty &quot;cucumber.options&quot;, System.getProperty(&quot;cucumber.options&quot;)\r\n    }\r\n\r\nThese are the failings that get when run the tests. **Sorry but this is huge and I have cut some parts**\r\n\r\n    &gt; Task :compileJava UP-TO-DATE\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes UP-TO-DATE\r\n    &gt; Task :compileTestJava UP-TO-DATE\r\n    &gt; Task :processTestResources UP-TO-DATE\r\n    &gt; Task :testClasses UP-TO-DATE\r\n    &gt; Task :test\r\n    \r\n    @google\r\n    Scenario: As a user I enter a search criteria in Goggle # src/test/resources/features/Google.feature:4\r\n    Starting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 34369\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1678994810.214][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\r\n    [1678994810.219][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n    Mar 16, 2023 4:26:50 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n    WARNING: Invalid Status code=403 text=Forbidden\r\n    java.io.IOException: Invalid Status code=403 text=Forbidden\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n    \tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n      Given I am on the Google search page                  # steps.GoogleSteps.navigateToGoogleSearchPage()\r\n          io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n    \tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n    \tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n    \tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n    \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\r\n    \tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \t...\r\n    \tat io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \t... 61 more\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 64 more\r\n    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\r\n    Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n    \tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n    \t... 66 more    \r\n    \r\n    \r\n    Failed to instantiate class steps.GoogleSteps\r\n    io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\r\n    \tat app//io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\r\n    \tat app//io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat app//io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat app//io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat app//io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat app//io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat app//io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat app//io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n    \tat app//io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat app//io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat app//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat app//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat app//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \trs.evaluate(RunAfters.java:27)\r\n    \tat app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base@18.0.2.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base@18.0.2.1/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \t... 61 more\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 64 more\r\n    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\r\n    Build info: version: &#39;4.6.0&#39;, revision: &#39;79f1c02ae20&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat app//org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat app//pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\r\n    \t... 66 more\r\n    \r\n    Could not initialize class pages.BasePage\r\n    java.lang.NoClassDefFoundError: Could not initialize class pages.BasePage\r\n    \tat runner.runner.cleanBrowser(runner.java:24)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n    Caused by: java.lang.ExceptionInInitializerError: Exception org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c [in thread &quot;Test worker&quot;]\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n    \tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\r\n    \tat pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\r\n    \tat steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\r\n    \tat io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\r\n    \tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n    \tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n    \tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n    \tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n    \tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n    \t...\r\n    \tat io.cucumber.junit.Cucumber$StartTestRun.evaluate(Cucumber.java:233)\r\n    \tat io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \t... 23 more\r\n    \r\n    ????????????????????????????????????????????????????????????????????????????\r\n    runner.runner &gt; Test Google search functionality.As a user I enter a search criteria in Goggle FAILED\r\n        io.cucumber.core.exception.CucumberException at DefaultObjectFactory.java:67\r\n            Caused by: java.lang.reflect.InvocationTargetException at DirectConstructorHandleAccessor.java:79\r\n                Caused by: java.lang.ExceptionInInitializerError at GoogleSteps.java:9\r\n                    Caused by: org.openqa.selenium.remote.http.ConnectionFailedException at NettyWebSocket.java:102\r\n        java.lang.NoClassDefFoundError at Unsafe.java:-2\r\n            Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\r\n    runner.runner &gt; classMethod FAILED\r\n        java.lang.NoClassDefFoundError at runner.java:24\r\n            Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\r\n    2 tests completed, 2 failed\r\n    &gt; Task :test FAILED\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; There were failing tests. See the report at: file:///D:/AUTOMATION/practicas/java-selenium/practica-ger/build/reports/tests/test/index.html\r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    * Get more help at https://help.gradle.org\r\n    BUILD FAILED in 6s\r\n    5 actionable tasks: 1 executed, 4 up-to-date\r\n\r\n**More info about this project:**\r\n\r\nGoogle.feature:\r\n\r\n    Feature: Test Google search functionality\r\n    \r\n      @google\r\n        Scenario: As a user I enter a search criteria in Goggle\r\n          Given I am on the Google search page\r\n          When I enter a search criteria\r\n          And click on the search button\r\n          Then results match the criteria\r\n\r\nGooglePage.java\r\n\r\n    package pages;\r\n    \r\n    public class GooglePage extends BasePage {\r\n    \r\n        //private String searchButton = &quot;(//div/center/input[@name=&#39;btnK&#39;])[2]&quot;;\r\n        private String searchButton = &quot;//body/div[1]/div[3]/form[1]/div[1]/div[1]/div[2]/div[2]/div[5]/center[1]/input[1]&quot;;\r\n        private String searchTextField = &quot;//input[contains(@class,&#39;gLFyf gsfi&#39;)]&quot;;\r\n        private String firstResult = &quot;//h3[contains(text(),&#39;Argentina.gob.ar: Inicio&#39;)]&quot;;\r\n    \r\n        public GooglePage() {\r\n    \r\n            super(driver);\r\n        }\r\n    \r\n        public void navigateToGoogle() {\r\n    \r\n            navigateTo(&quot;https://www.google.com/&quot;);\r\n        }\r\n    \r\n        public void clickGoogleSearch() {\r\n            super.clickElement(searchButton);\r\n        }\r\n    \r\n        public void enterSearchCriteria(String criteria){\r\n            write(searchTextField, &quot;Argentina&quot;);\r\n        }\r\n    \r\n        public String firstResult(){\r\n            return textFromElement(firstResult);\r\n        }\r\n    }\r\n\r\nGoogleSteps.java\r\n\r\n    package steps;\r\n    \r\n    import io.cucumber.java.en.*;\r\n    import org.junit.Assert;\r\n    import pages.GooglePage;\r\n    \r\n    public class GoogleSteps {\r\n    \r\n        GooglePage google = new GooglePage();\r\n    \r\n        @Given(&quot;^I am on the Google search page$&quot;)\r\n        public void navigateToGoogleSearchPage(){\r\n            google.navigateToGoogle();\r\n        }\r\n    \r\n        @When(&quot;^I enter a search criteria$&quot;)\r\n        public void enterSearchCriteria(){\r\n            google.enterSearchCriteria(&quot;Google&quot;);\r\n        }\r\n    \r\n        @And(&quot;^click on the search button$&quot;)\r\n        public void clickOnSearchButton(){\r\n            google.clickGoogleSearch();\r\n        }\r\n    \r\n        @Then(&quot;^results match the criteria$&quot;)\r\n        public void validateResults(){\r\n            Assert.assertEquals(&quot;Argentina.gob.ar: Inicio&quot;, google.firstResult());\r\n        }\r\n    }\r\n\r\nrunner.java\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.AfterClass;\r\n    import org.junit.runner.RunWith;\r\n    import pages.BasePage;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            tags = &quot;@google&quot;,\r\n            plugin = { &quot;pretty&quot;,\r\n                    &quot;json:target/cucumber-reports/cucumber.json&quot;,\r\n                    &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\r\n                    &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;},\r\n            features = &quot;src/test/resources/features&quot;,\r\n            monochrome = true,\r\n            glue = &quot;steps&quot;\r\n    )\r\n    \r\n    public class runner {\r\n        @AfterClass\r\n        public static void cleanBrowser(){\r\n            BasePage.closeBrowser();\r\n        }\r\n    }\r\n\r\nBasePage.java\r\n\r\n    package pages;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.List;\r\n    \r\n    public class BasePage {\r\n        // static hace que haya un solo valor para todas las instancias de esta clase.\r\n        // Es decir, una sola instancia de WebDriver compartida para todas las clases\r\n        protected static WebDriver driver;\r\n        private static WebDriverWait wait;\r\n        private static Actions action;\r\n    \r\n        // bloque estatico que se va a ejecutar al comienzo\r\n        static {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\AUTOMATION\\\\practicas\\\\java-selenium\\\\practica-ger\\\\src\\\\main\\\\resources\\\\drivers\\\\chromedriver.exe&quot;);\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            driver = new ChromeDriver(chromeOptions);\r\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        }\r\n    \r\n        //Constructor\r\n        public BasePage(WebDriver driver) {\r\n            BasePage.driver = driver;\r\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n            // [[[*]]] esto es el wait IMPLISCITO PURO que no es recomendable usar ya que va a esperar esos 10 segundos para cada accion.\r\n            // driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n        }\r\n    \r\n        public static void navigateTo(String url) {\r\n            driver.get(url);\r\n        }\r\n    \r\n        public static void closeBrowser(){\r\n            driv\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fGeSP.png","title":"Unable to Run Tests with Cucumber, Selenium, Java 18 and Junit","body":"<p>I have already seen some similar issues into other questions but I still be unable to solve my problem. It is weird that I was able to run these tests but not any more and I don't know why.</p>\n<p><strong>Info about my project:</strong></p>\n<p>This is a basic project with Java and Seleniun.</p>\n<p><strong>Java JDK version</strong>: 18.0.2.1</p>\n<p><strong>Gradle version</strong>: 7.5</p>\n<p><strong>Cucumber</strong></p>\n<p><strong>Junit verssion</strong>:  4.13.2</p>\n<p><strong>OS</strong>: Windows 11</p>\n<p><strong>Implemented with Page Object Model</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/fGeSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGeSP.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n        id 'java'\n   }\ngroup 'GerUdemy'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 13\n\nrepositories {\n\n    mavenCentral()\n}\n\ndependencies {\n\n    testImplementation group: 'junit', name: 'junit', version: '4.13.2'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.6.0'\n\n    testImplementation 'io.cucumber:cucumber-java:7.11.1'\n    testImplementation 'io.cucumber:cucumber-junit:7.11.1'\n    implementation group: 'io.cucumber', name: 'cucumber-core', version: '7.11.1'\n\n    testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '2.0.3'\n\n    implementation group: 'tech.grasshopper', name: 'extentreports-cucumber7-adapter', version: '1.9.1'\n\n}\n\ntest{\n    systemProperty &quot;cucumber.options&quot;, System.getProperty(&quot;cucumber.options&quot;)\n}\n</code></pre>\n<p>These are the failings that get when run the tests. <strong>Sorry but this is huge and I have cut some parts</strong></p>\n<pre><code>&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :compileTestJava UP-TO-DATE\n&gt; Task :processTestResources UP-TO-DATE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test\n\n@google\nScenario: As a user I enter a search criteria in Goggle # src/test/resources/features/Google.feature:4\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 34369\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1678994810.214][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\n[1678994810.219][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\nMar 16, 2023 4:26:50 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:280)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n  Given I am on the Google search page                  # steps.GoogleSteps.navigateToGoogleSearchPage()\n      io.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\n    at io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    ...\n    at io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    ... 61 more\nCaused by: java.lang.ExceptionInInitializerError\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 64 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    ... 66 more    \n\n\nFailed to instantiate class steps.GoogleSteps\nio.cucumber.core.exception.CucumberException: Failed to instantiate class steps.GoogleSteps\n    at app//io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:67)\n    at app//io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at app//io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at app//io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at app//io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at app//io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at app//io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at app//io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at app//io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at app//io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at app//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at app//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at app//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    rs.evaluate(RunAfters.java:27)\n    at app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base@18.0.2.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base@18.0.2.1/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    ... 61 more\nCaused by: java.lang.ExceptionInInitializerError\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 64 more\nCaused by: org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c\nBuild info: version: '4.6.0', revision: '79f1c02ae20'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: driver.version: ChromeDriver\n    at app//org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at app//pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\n    ... 66 more\n\nCould not initialize class pages.BasePage\njava.lang.NoClassDefFoundError: Could not initialize class pages.BasePage\n    at runner.runner.cleanBrowser(runner.java:24)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.ExceptionInInitializerError: Exception org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:56500/devtools/browser/9a9c85fc-4876-4308-bbdd-bf3e859a839c [in thread &quot;Test worker&quot;]\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\n    at pages.BasePage.&lt;clinit&gt;(BasePage.java:27)\n    at steps.GoogleSteps.&lt;init&gt;(GoogleSteps.java:9)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at io.cucumber.core.backend.DefaultObjectFactory.cacheNewInstance(DefaultObjectFactory.java:53)\n    at io.cucumber.core.backend.DefaultObjectFactory.getInstance(DefaultObjectFactory.java:45)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n    ...\n    at io.cucumber.junit.Cucumber$StartTestRun.evaluate(Cucumber.java:233)\n    at io.cucumber.junit.Cucumber$FinishTestRun.evaluate(Cucumber.java:248)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    ... 23 more\n\n????????????????????????????????????????????????????????????????????????????\nrunner.runner &gt; Test Google search functionality.As a user I enter a search criteria in Goggle FAILED\n    io.cucumber.core.exception.CucumberException at DefaultObjectFactory.java:67\n        Caused by: java.lang.reflect.InvocationTargetException at DirectConstructorHandleAccessor.java:79\n            Caused by: java.lang.ExceptionInInitializerError at GoogleSteps.java:9\n                Caused by: org.openqa.selenium.remote.http.ConnectionFailedException at NettyWebSocket.java:102\n    java.lang.NoClassDefFoundError at Unsafe.java:-2\n        Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\nrunner.runner &gt; classMethod FAILED\n    java.lang.NoClassDefFoundError at runner.java:24\n        Caused by: java.lang.ExceptionInInitializerError at NettyWebSocket.java:102\n2 tests completed, 2 failed\n&gt; Task :test FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///D:/AUTOMATION/practicas/java-selenium/practica-ger/build/reports/tests/test/index.html\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 6s\n5 actionable tasks: 1 executed, 4 up-to-date\n</code></pre>\n<p><strong>More info about this project:</strong></p>\n<p>Google.feature:</p>\n<pre><code>Feature: Test Google search functionality\n\n  @google\n    Scenario: As a user I enter a search criteria in Goggle\n      Given I am on the Google search page\n      When I enter a search criteria\n      And click on the search button\n      Then results match the criteria\n</code></pre>\n<p>GooglePage.java</p>\n<pre><code>package pages;\n\npublic class GooglePage extends BasePage {\n\n    //private String searchButton = &quot;(//div/center/input[@name='btnK'])[2]&quot;;\n    private String searchButton = &quot;//body/div[1]/div[3]/form[1]/div[1]/div[1]/div[2]/div[2]/div[5]/center[1]/input[1]&quot;;\n    private String searchTextField = &quot;//input[contains(@class,'gLFyf gsfi')]&quot;;\n    private String firstResult = &quot;//h3[contains(text(),'Argentina.gob.ar: Inicio')]&quot;;\n\n    public GooglePage() {\n\n        super(driver);\n    }\n\n    public void navigateToGoogle() {\n\n        navigateTo(&quot;https://www.google.com/&quot;);\n    }\n\n    public void clickGoogleSearch() {\n        super.clickElement(searchButton);\n    }\n\n    public void enterSearchCriteria(String criteria){\n        write(searchTextField, &quot;Argentina&quot;);\n    }\n\n    public String firstResult(){\n        return textFromElement(firstResult);\n    }\n}\n</code></pre>\n<p>GoogleSteps.java</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.*;\nimport org.junit.Assert;\nimport pages.GooglePage;\n\npublic class GoogleSteps {\n\n    GooglePage google = new GooglePage();\n\n    @Given(&quot;^I am on the Google search page$&quot;)\n    public void navigateToGoogleSearchPage(){\n        google.navigateToGoogle();\n    }\n\n    @When(&quot;^I enter a search criteria$&quot;)\n    public void enterSearchCriteria(){\n        google.enterSearchCriteria(&quot;Google&quot;);\n    }\n\n    @And(&quot;^click on the search button$&quot;)\n    public void clickOnSearchButton(){\n        google.clickGoogleSearch();\n    }\n\n    @Then(&quot;^results match the criteria$&quot;)\n    public void validateResults(){\n        Assert.assertEquals(&quot;Argentina.gob.ar: Inicio&quot;, google.firstResult());\n    }\n}\n</code></pre>\n<p>runner.java</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.AfterClass;\nimport org.junit.runner.RunWith;\nimport pages.BasePage;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        tags = &quot;@google&quot;,\n        plugin = { &quot;pretty&quot;,\n                &quot;json:target/cucumber-reports/cucumber.json&quot;,\n                &quot;html:target/cucumber-reports/cucumberreport.html&quot;,\n                &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;},\n        features = &quot;src/test/resources/features&quot;,\n        monochrome = true,\n        glue = &quot;steps&quot;\n)\n\npublic class runner {\n    @AfterClass\n    public static void cleanBrowser(){\n        BasePage.closeBrowser();\n    }\n}\n</code></pre>\n<p>BasePage.java</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\nimport java.time.Duration;\nimport java.util.List;\n\npublic class BasePage {\n    // static hace que haya un solo valor para todas las instancias de esta clase.\n    // Es decir, una sola instancia de WebDriver compartida para todas las clases\n    protected static WebDriver driver;\n    private static WebDriverWait wait;\n    private static Actions action;\n\n    // bloque estatico que se va a ejecutar al comienzo\n    static {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\AUTOMATION\\\\practicas\\\\java-selenium\\\\practica-ger\\\\src\\\\main\\\\resources\\\\drivers\\\\chromedriver.exe&quot;);\n        ChromeOptions chromeOptions = new ChromeOptions();\n        driver = new ChromeDriver(chromeOptions);\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n    }\n\n    //Constructor\n    public BasePage(WebDriver driver) {\n        BasePage.driver = driver;\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        // [[[*]]] esto es el wait IMPLISCITO PURO que no es recomendable usar ya que va a esperar esos 10 segundos para cada accion.\n        // driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n\n    public static void navigateTo(String url) {\n        driver.get(url);\n    }\n\n    public static void closeBrowser(){\n        driv\n</code></pre>\n"},{"tags":["java","string","binary","byte","bit"],"comments":[{"owner":{"account_id":6721149,"reputation":1665,"user_id":5181125,"display_name":"Patrick"},"score":0,"creation_date":1474753459,"post_id":39680749,"comment_id":66662698,"body_markdown":"Why do you want the string to get converted to integer ? Is it not possible to save the string with leading 0s when a string without leading 0s can be saved ? What exactly is your problem ?","body":"Why do you want the string to get converted to integer ? Is it not possible to save the string with leading 0s when a string without leading 0s can be saved ? What exactly is your problem ?"},{"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"score":0,"creation_date":1474754483,"post_id":39680749,"comment_id":66662946,"body_markdown":"Well it&#39;s a compression method. So one &#39;a&#39; or &#39;b&#39; gets translated to something like 0110 (which is 4 bits and not 1 byte). The problem is that I&#39;m saving the 1&#39;s and 0&#39;s as 1 byte so there is no compression (its even worse now).","body":"Well it&#39;s a compression method. So one &#39;a&#39; or &#39;b&#39; gets translated to something like 0110 (which is 4 bits and not 1 byte). The problem is that I&#39;m saving the 1&#39;s and 0&#39;s as 1 byte so there is no compression (its even worse now)."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474749979,"creation_date":1474749979,"answer_id":39680821,"question_id":39680749,"body_markdown":"Binary files are limited to storing bits in multiples of eight. You can solve this problem by chopping the string into eight-bit chunks, converting them to bytes using `Byte.parseByte(eightCharString, 2)` and adding them to a byte array:\r\n\r\n- Compute the length of the byte array by dividing the length of your bit string by eight\r\n- Allocate an array of bytes of the desired length\r\n- Run a loop that takes substrings from the string at positions representing multiples of eight\r\n- Parse each chunk, and put the result into the corresponding byte\r\n- Call `fos.write()` on the byte array","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>Binary files are limited to storing bits in multiples of eight. You can solve this problem by chopping the string into eight-bit chunks, converting them to bytes using <code>Byte.parseByte(eightCharString, 2)</code> and adding them to a byte array:</p>\n\n<ul>\n<li>Compute the length of the byte array by dividing the length of your bit string by eight</li>\n<li>Allocate an array of bytes of the desired length</li>\n<li>Run a loop that takes substrings from the string at positions representing multiples of eight</li>\n<li>Parse each chunk, and put the result into the corresponding byte</li>\n<li>Call <code>fos.write()</code> on the byte array</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474753095,"creation_date":1474752223,"answer_id":39681091,"question_id":39680749,"body_markdown":"Try this.\r\n\r\n    String encoded = &quot;0101011101&quot;;\r\n    FileOutputStream fos = new FileOutputStream(&quot;encoded.bin&quot;);\r\n    String s = encoded + &quot;00000000&quot;.substring(encoded.length() % 8);\r\n    for (int i = 0, len = s.length(); i &lt; len; i += 8)\r\n        fos.write((byte)Integer.parseInt(s.substring(i, i + 8), 2));\r\n    fos.close();\r\n\r\n","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>Try this.</p>\n\n<pre><code>String encoded = \"0101011101\";\nFileOutputStream fos = new FileOutputStream(\"encoded.bin\");\nString s = encoded + \"00000000\".substring(encoded.length() % 8);\nfor (int i = 0, len = s.length(); i &lt; len; i += 8)\n    fos.write((byte)Integer.parseInt(s.substring(i, i + 8), 2));\nfos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474793887,"creation_date":1474788831,"answer_id":39684467,"question_id":39680749,"body_markdown":"I think I found my answer. I put the 1&#39;s and 0&#39;s in a BitSet using the following code:\r\n\r\n    BitSet bitSet = new BitSet(encoded.length());\r\n    int bitcounter = 0;\r\n    for(Character c : encoded.toCharArray()) {\r\n        if(c.equals(&#39;1&#39;)) {\r\n            bitSet.set(bitcounter);\r\n        }\r\n        bitcounter++;\r\n    }\r\nAfter that I save it to the file using `bitSet.toByteArray()`\r\nWhen I want to read it again I convert it back to a bitset using `BitSet.valueOf(bitSet.toByteArray())`. Then I loop through the bitset like this:\r\n\r\n    String binaryString = &quot;&quot;;\r\n    for(int i = 0; i &lt;= set.length(); i++) {\r\n        if(set.get(i)) {\r\n            binaryString += &quot;1&quot;;\r\n        } else {\r\n            binaryString += &quot;0&quot;;\r\n        }\r\n    }\r\n\r\nThanks to everyone who helped me.","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>I think I found my answer. I put the 1's and 0's in a BitSet using the following code:</p>\n\n<pre><code>BitSet bitSet = new BitSet(encoded.length());\nint bitcounter = 0;\nfor(Character c : encoded.toCharArray()) {\n    if(c.equals('1')) {\n        bitSet.set(bitcounter);\n    }\n    bitcounter++;\n}\n</code></pre>\n\n<p>After that I save it to the file using <code>bitSet.toByteArray()</code>\nWhen I want to read it again I convert it back to a bitset using <code>BitSet.valueOf(bitSet.toByteArray())</code>. Then I loop through the bitset like this:</p>\n\n<pre><code>String binaryString = \"\";\nfor(int i = 0; i &lt;= set.length(); i++) {\n    if(set.get(i)) {\n        binaryString += \"1\";\n    } else {\n        binaryString += \"0\";\n    }\n}\n</code></pre>\n\n<p>Thanks to everyone who helped me.</p>\n"}],"owner":{"account_id":6951257,"reputation":1214,"user_id":5333805,"accept_rate":88,"display_name":"Luud van Keulen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4342,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39684467,"answer_count":3,"score":4,"last_activity_date":1678996419,"creation_date":1474749494,"question_id":39680749,"body_markdown":"I am working on a Huffman java application and i&#39;m almost done. I have one problem though. I need to save a String of something like: &quot;101011101010&quot; to a file. When I save it with my current code it saves it as characters which take up 1 byte every 0 or 1. I&#39;m pretty sure it&#39;s possible to save every 0/1 as a bit. \r\n\r\nI already tried some things with BitSet and Integer.valueOf but I can&#39;t get them to work. This is my current code:\r\n\r\n    FileOutputStream fos = new FileOutputStream(&quot;encoded.bin&quot;);\r\n    fos.write(encoded.getBytes());\r\n    fos.close();\r\n\r\nWhere &#39;encoded&#39; is a String which can be like: &quot;0101011101&quot;.\r\nIf I try to save it as integer the leading 0 will be removed.\r\n\r\nThanks in advance!\r\n\r\nEDIT: Huffman is a compression method so the outputted file should be as small as possible.","title":"String of 0&#39;s and 1&#39;s to File as bits","body":"<p>I am working on a Huffman java application and i'm almost done. I have one problem though. I need to save a String of something like: \"101011101010\" to a file. When I save it with my current code it saves it as characters which take up 1 byte every 0 or 1. I'm pretty sure it's possible to save every 0/1 as a bit. </p>\n\n<p>I already tried some things with BitSet and Integer.valueOf but I can't get them to work. This is my current code:</p>\n\n<pre><code>FileOutputStream fos = new FileOutputStream(\"encoded.bin\");\nfos.write(encoded.getBytes());\nfos.close();\n</code></pre>\n\n<p>Where 'encoded' is a String which can be like: \"0101011101\".\nIf I try to save it as integer the leading 0 will be removed.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: Huffman is a compression method so the outputted file should be as small as possible.</p>\n"},{"tags":["java","powershell","shell","maven"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679026036,"post_id":75761049,"comment_id":133650689,"body_markdown":"Configuring a proxy (https://maven.apache.org/guides/mini/guide-proxies.html), `.m2/settings.xml)`","body":"Configuring a proxy (<a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-proxies.html</a>), <code>.m2&#47;settings.xml)</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679026132,"post_id":75761049,"comment_id":133650696,"body_markdown":"Is your Proxy intended for Maven commands or for the Java program being tested?","body":"Is your Proxy intended for Maven commands or for the Java program being tested?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679041947,"post_id":75761049,"comment_id":133653228,"body_markdown":"Why the quotes?","body":"Why the quotes?"},{"owner":{"account_id":28036155,"reputation":1,"user_id":21414496,"display_name":"Juan Fernandez"},"score":0,"creation_date":1679338668,"post_id":75761049,"comment_id":133700824,"body_markdown":"already configured the proxy in maven, nothing change.\nthe proxy is for maven commands, it tries to download artifacts from maven central\nThe quotes are because powershell read the &quot;.&quot; as a different command","body":"already configured the proxy in maven, nothing change. the proxy is for maven commands, it tries to download artifacts from maven central The quotes are because powershell read the &quot;.&quot; as a different command"}],"owner":{"account_id":28036155,"reputation":1,"user_id":21414496,"display_name":"Juan Fernandez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678996284,"creation_date":1678996284,"question_id":75761049,"body_markdown":"I need to run this command on powershell\r\n`mvn clean test &quot;-DSUITE_NAME=$SUITE`\r\nbut with proxies, i try this\r\n`mvn clean test &quot;-DSUITE_NAME=$SUITE -X -DproxySet=true -Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttps.proxyHost=XXXX-Dhttps.proxyPort=XXXX&quot;`\r\nthe proxies are right (XXXX is because i dont want to show them)\r\nbut the same error came out:\r\n[enter image description here](https://i.stack.imgur.com/CJqLk.png)\r\nneed help, \r\nThanks\r\n\r\ntrying to run mvn command to start building my proyect, but it cant reach connection with maven.","title":"need to use proxy with mvn command","body":"<p>I need to run this command on powershell\n<code>mvn clean test &quot;-DSUITE_NAME=$SUITE</code>\nbut with proxies, i try this\n<code>mvn clean test &quot;-DSUITE_NAME=$SUITE -X -DproxySet=true -Dhttp.proxyHost=XXXX -Dhttp.proxyPort=XXXX -Dhttps.proxyHost=XXXX-Dhttps.proxyPort=XXXX&quot;</code>\nthe proxies are right (XXXX is because i dont want to show them)\nbut the same error came out:\n<a href=\"https://i.stack.imgur.com/CJqLk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nneed help,\nThanks</p>\n<p>trying to run mvn command to start building my proyect, but it cant reach connection with maven.</p>\n"},{"tags":["java","php","post","apache-commons-httpclient"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1678984907,"post_id":75759052,"comment_id":133643074,"body_markdown":"It would really help if you could show us the PHP code so we can see what it&#39;s expecting and how it processes those values","body":"It would really help if you could show us the PHP code so we can see what it&#39;s expecting and how it processes those values"},{"owner":{"account_id":28026772,"reputation":9,"user_id":21406617,"display_name":"casualsurfer"},"score":1,"creation_date":1679031468,"post_id":75759052,"comment_id":133651297,"body_markdown":"-added them to the question @ADyson","body":"-added them to the question @ADyson"}],"owner":{"account_id":28026772,"reputation":9,"user_id":21406617,"display_name":"casualsurfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678996133,"creation_date":1678984323,"question_id":75759052,"body_markdown":"I need to hit a php script which takes some data from-\r\n_POST , _REQUEST and _FILES\r\n\r\nI echoed the key value pairs that are coming in these - _POST and _REQUEST has some key and string value pairs, and _FILE had a key with an array of values as it&#39;s value-\r\nie : key-&#39;p_up_file&#39; value-&gt; Array -&gt; [name] &#39;test&#39;, [type] plain/txt , ....\r\n\r\nI need to hit this php file with Java POST http request. Not very familiar with php codes, so not sure how to set the java post entity such that the php script processes it properly in this case.\r\n\r\nEven with POSTMAN, Iam not quite sure how the php expects the values to be sent such that these _POST, _REQUEST and _FILES gets populated with the required key values. IS there someway to differentiate them like that, such that it mimics the form upload? \r\n\r\n\r\nGave the variables expected in _POST key -&gt; value pair like this -  \r\n  \r\n```\r\nHttpClient client = new DefaultHttpClient();\r\n  HttpPost post = new HttpPost(&quot;http://localhost:8080/WebService/test.php&quot;);\r\n\r\n  List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\r\n\r\n  nameValuePairs.add(new BasicNameValuePair(&quot;f_name&quot;, &quot;Foo&quot;));\r\n  nameValuePairs.add(new BasicNameValuePair(&quot;l_name&quot;, &quot;Bar&quot;));\r\n\r\n  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n  HttpResponse response = null;\r\n\r\n  try {\r\n    response = client.execute(post);\r\n  } catch (ClientProtocolException e) {\r\n    e.printStackTrace();\r\n  } catch (IOException e) {\r\n    e.printStackTrace();\r\n  }\r\n```\r\nThe PHP code is taking values like the following samples -\r\n```\r\n    $_POST[P_TOKEN_KEY] , $_REQUEST[&#39;p_rootdir&#39;] , $_REQUEST[&#39;p_username&#39;], \r\n    $p_upload_file_name = $_FILES[p_up_file][name];\r\n    $p_upload_file = $_FILES[p_up_file][tmp_name];\r\n```\r\n\r\nNot sure how to send the array values along with this \r\n","title":"Sending file info with other post attributes to php with Java post http request","body":"<p>I need to hit a php script which takes some data from-\n_POST , _REQUEST and _FILES</p>\n<p>I echoed the key value pairs that are coming in these - _POST and _REQUEST has some key and string value pairs, and _FILE had a key with an array of values as it's value-\nie : key-'p_up_file' value-&gt; Array -&gt; [name] 'test', [type] plain/txt , ....</p>\n<p>I need to hit this php file with Java POST http request. Not very familiar with php codes, so not sure how to set the java post entity such that the php script processes it properly in this case.</p>\n<p>Even with POSTMAN, Iam not quite sure how the php expects the values to be sent such that these _POST, _REQUEST and _FILES gets populated with the required key values. IS there someway to differentiate them like that, such that it mimics the form upload?</p>\n<p>Gave the variables expected in _POST key -&gt; value pair like this -</p>\n<pre><code>HttpClient client = new DefaultHttpClient();\n  HttpPost post = new HttpPost(&quot;http://localhost:8080/WebService/test.php&quot;);\n\n  List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;();\n\n  nameValuePairs.add(new BasicNameValuePair(&quot;f_name&quot;, &quot;Foo&quot;));\n  nameValuePairs.add(new BasicNameValuePair(&quot;l_name&quot;, &quot;Bar&quot;));\n\n  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n  HttpResponse response = null;\n\n  try {\n    response = client.execute(post);\n  } catch (ClientProtocolException e) {\n    e.printStackTrace();\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n</code></pre>\n<p>The PHP code is taking values like the following samples -</p>\n<pre><code>    $_POST[P_TOKEN_KEY] , $_REQUEST['p_rootdir'] , $_REQUEST['p_username'], \n    $p_upload_file_name = $_FILES[p_up_file][name];\n    $p_upload_file = $_FILES[p_up_file][tmp_name];\n</code></pre>\n<p>Not sure how to send the array values along with this</p>\n"},{"tags":["java","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678995494,"creation_date":1678995494,"answer_id":75760942,"question_id":75760793,"body_markdown":"In SpringBoot, you need to return such an object that you request in a query in GraphQL\r\n\r\n    @QueryMapping\r\n    public Person greeting(@Argument String name){\r\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\r\n        Person person = new Person(name);\r\n  \r\n        return person;\r\n    }\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>In SpringBoot, you need to return such an object that you request in a query in GraphQL</p>\n<pre><code>@QueryMapping\npublic Person greeting(@Argument String name){\n    System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\n    Person person = new Person(name);\n\n    return person;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678996080,"creation_date":1678996080,"answer_id":75761021,"question_id":75760793,"body_markdown":"If you want to return string as response, you should define the return type as String instead of Person in schema as shown below\r\n\r\n    type Query {\r\n         greeting(name: String!): String\r\n    }\r\n\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>If you want to return string as response, you should define the return type as String instead of Person in schema as shown below</p>\n<pre><code>type Query {\n     greeting(name: String!): String\n}\n</code></pre>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75761021,"answer_count":2,"score":0,"last_activity_date":1678996080,"creation_date":1678994512,"question_id":75760793,"body_markdown":"I want to enter a query with a parameter, and get a response in Graphql. I&#39;m sending a request to a spring-boot server and I want to receive a response &quot;Hello, ${name}&quot;, But I get an error:\r\n``` &quot;errors&quot;: [\r\n        {\r\n            &quot;message&quot;: &quot;The field at path &#39;/greeting/name&#39; was declared as a non null type, but the code involved in retrieving data has wrongly returned a null value.  The graphql specification requires that the parent field be set to null, or if that is non nullable that it bubble up null to its parent and so on. The non-nullable type is &#39;String&#39; within parent type &#39;Person&#39;&quot;,\r\n            &quot;path&quot;: [\r\n                &quot;greeting&quot;,\r\n                &quot;name&quot;\r\n            ],\r\n            &quot;extensions&quot;: {\r\n                &quot;classification&quot;: &quot;NullValueInNonNullableField&quot;\r\n            }\r\n        }\r\n    ],\r\n    &quot;data&quot;: {\r\n        &quot;greeting&quot;: null\r\n    }\r\n} \r\n```\r\nHelp me please!\r\nMy schemas:\r\n``` \r\ntype Person{\r\n    name: String\r\n} \r\ntype Query {\r\n    greeting(name: String!): Person\r\n}\r\n```\r\nMy controller:\r\n``` \r\n@Controller\r\npublic class TestGraphController {\r\n\r\n    @QueryMapping\r\n    public String greeting(@Argument String name){\r\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\r\n        return &quot;Hello, &quot; + name;\r\n    }\r\n}\r\n\r\n```\r\nMy request:\r\n``` \r\nquery {\r\n  greeting(name: &quot;Test&quot;) {\r\n      name\r\n    }\r\n} \r\n```\r\n","title":"Graphiql: The field at path &#39;/greeting/name&#39; was declared as a non null type Java","body":"<p>I want to enter a query with a parameter, and get a response in Graphql. I'm sending a request to a spring-boot server and I want to receive a response &quot;Hello, ${name}&quot;, But I get an error:</p>\n<pre><code>        {\n            &quot;message&quot;: &quot;The field at path '/greeting/name' was declared as a non null type, but the code involved in retrieving data has wrongly returned a null value.  The graphql specification requires that the parent field be set to null, or if that is non nullable that it bubble up null to its parent and so on. The non-nullable type is 'String' within parent type 'Person'&quot;,\n            &quot;path&quot;: [\n                &quot;greeting&quot;,\n                &quot;name&quot;\n            ],\n            &quot;extensions&quot;: {\n                &quot;classification&quot;: &quot;NullValueInNonNullableField&quot;\n            }\n        }\n    ],\n    &quot;data&quot;: {\n        &quot;greeting&quot;: null\n    }\n} \n</code></pre>\n<p>Help me please!\nMy schemas:</p>\n<pre><code>type Person{\n    name: String\n} \ntype Query {\n    greeting(name: String!): Person\n}\n</code></pre>\n<p>My controller:</p>\n<pre><code>@Controller\npublic class TestGraphController {\n\n    @QueryMapping\n    public String greeting(@Argument String name){\n        System.out.println(&quot;\\n\\nrequest-&gt; &quot; + name);\n        return &quot;Hello, &quot; + name;\n    }\n}\n\n</code></pre>\n<p>My request:</p>\n<pre><code>query {\n  greeting(name: &quot;Test&quot;) {\n      name\n    }\n} \n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27300535,"reputation":1,"user_id":20817412,"display_name":"Simranjitdehal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678995659,"answer_count":0,"score":0,"last_activity_date":1678995671,"creation_date":1678995638,"question_id":75760958,"body_markdown":"    import java.io.StringReader;\r\n    import java.util.Scanner;\r\n    \r\n    public class takeinput {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int i = sc.nextInt();\r\n            float db = sc.nextFloat();\r\n            String st  = sc.nextLine();\r\n    \r\n            System.out.println(&quot;String: &quot; + st);\r\n            System.out.println(&quot;Double: &quot; + db);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nIf I remove all the int and float and then run for string, it works fine then, but not in this code. What should I do ?","title":"I write a code which takes input as int float and string but while running it didnt take input from me for string and directly moves to other line","body":"<pre><code>import java.io.StringReader;\nimport java.util.Scanner;\n\npublic class takeinput {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int i = sc.nextInt();\n        float db = sc.nextFloat();\n        String st  = sc.nextLine();\n\n        System.out.println(&quot;String: &quot; + st);\n        System.out.println(&quot;Double: &quot; + db);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>If I remove all the int and float and then run for string, it works fine then, but not in this code. What should I do ?</p>\n"},{"tags":["java","mysql","maven"],"comments":[{"owner":{"account_id":7220663,"reputation":468,"user_id":5511320,"display_name":"the happy mamba"},"score":0,"creation_date":1446399969,"post_id":33465161,"comment_id":54715966,"body_markdown":"This is related and may help:  http://stackoverflow.com/questions/13471519/running-daemon-with-exec-maven-plugin","body":"This is related and may help:  <a href=\"http://stackoverflow.com/questions/13471519/running-daemon-with-exec-maven-plugin\" title=\"running daemon with exec maven plugin\">stackoverflow.com/questions/13471519/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2042350,"reputation":2418,"user_id":1823204,"display_name":"Francisco Hernandez"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1446400218,"creation_date":1446400218,"answer_id":33465221,"question_id":33465161,"body_markdown":"Try this in the exec maven plugin\r\n\r\n    &lt;configuration&gt;\r\n           &lt;mainClass&gt;com.test.Startup&lt;/mainClass&gt;\r\n           &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\r\n    &lt;/configuration&gt;","title":"Exception while trying to run java program from maven","body":"<p>Try this in the exec maven plugin</p>\n\n<pre><code>&lt;configuration&gt;\n       &lt;mainClass&gt;com.test.Startup&lt;/mainClass&gt;\n       &lt;cleanupDaemonThreads&gt;false&lt;/cleanupDaemonThreads&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263558,"reputation":650,"user_id":549212,"accept_rate":80,"display_name":"gdawgrancid"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1678994994,"creation_date":1501704607,"answer_id":45470078,"question_id":33465161,"body_markdown":"I found a slightly different solution.  I had a similar error and I&#39;m guessing changing the Maven configuration would fix it, but I wanted to see if I could fix the error itself first ;).  Turns out, all I needed was to call `System.exit(status)` at the end of my main method and that solved the problem.  I guess the exec plugin needs an explicit call to System.exit (and similar on other active threads) to behave properly.","title":"Exception while trying to run java program from maven","body":"<p>I found a slightly different solution.  I had a similar error and I'm guessing changing the Maven configuration would fix it, but I wanted to see if I could fix the error itself first ;).  Turns out, all I needed was to call <code>System.exit(status)</code> at the end of my main method and that solved the problem.  I guess the exec plugin needs an explicit call to System.exit (and similar on other active threads) to behave properly.</p>\n"},{"tags":[],"owner":{"account_id":5167944,"reputation":304,"user_id":4137381,"display_name":"Girivasan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1614860958,"creation_date":1614860958,"answer_id":66475055,"question_id":33465161,"body_markdown":"Use `System.exit(0);` explicitly in the last line of the program to solve this issue.","title":"Exception while trying to run java program from maven","body":"<p>Use <code>System.exit(0);</code> explicitly in the last line of the program to solve this issue.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7170,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":33465221,"answer_count":3,"score":29,"last_activity_date":1678994994,"creation_date":1446399815,"question_id":33465161,"body_markdown":"I have a small java program that connects to a mysql db and reads data from it. I am able to run it successfully using `java -cp` but when I try to run it using `mvn exec:java` I get this exception after the program has finished:\r\n\r\n    [WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] was interrupted but is still alive after waiting at least 15000msecs\r\n    [WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] will linger despite being asked to die via interruption\r\n    [WARNING] NOTE: 1 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\r\n    [WARNING] Couldn&#39;t destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=com.mycompany.mydivision.App,maxpri=10]\r\n    java.lang.IllegalThreadStateException\r\n    \tat java.lang.ThreadGroup.destroy(ThreadGroup.java:775)\r\n    \tat org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:328)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n\r\nWhy is this happening and how can I fix this? Here is my code in case it is needed:\r\n\r\n    public class App \r\n    {\r\n    \r\n        public static void main( String[] args )\r\n        {\r\n            try (JdbcReader reader = new JdbcReader())\r\n            {\r\n                reader.test();\r\n            }\r\n            catch (SQLException ex) {\r\n                // handle any errors\r\n                System.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n                System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n                System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    package com.mycompany.mydivision;\r\n    \r\n    import com.vividsolutions.jts.geom.Geometry;\r\n    \r\n    import java.io.Closeable;\r\n    import java.io.InputStream;\r\n    import java.sql.*;\r\n    \r\n    /**\r\n     * \r\n     */\r\n    public class JdbcReader implements Closeable{\r\n    \r\n        Connection conn;\r\n    \r\n        public JdbcReader() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException\r\n        {\r\n            // The newInstance() call is a work around for some\r\n            // broken Java implementations\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n            this.conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mydb?user=guest&quot;);\r\n        }\r\n    \r\n        /**\r\n         * https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-statements.html\r\n         */\r\n        public void test() throws Exception\r\n        {\r\n            Statement stmt = null;\r\n            ResultSet rs = null;\r\n            try {\r\n                stmt = this.conn.createStatement();\r\n                if (stmt.execute(&quot;SELECT * FROM mydb.my_table limit 20&quot;)) {\r\n                    rs = stmt.getResultSet();\r\n                    // Fetch each row from the result set\r\n                    while (rs.next()) {\r\n                        String name = rs.getString(&quot;name&quot;);\r\n                        String description = rs.getString(&quot;Descr&quot;);\r\n                        \r\n                        System.out.printf(&quot;%s\\t%s\\n&quot;, name, description);\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                // it is a good idea to release\r\n                // resources in a finally{} block\r\n                // in reverse-order of their creation\r\n                // if they are no-longer needed\r\n    \r\n                if (rs != null) {\r\n                    try {\r\n                        System.out.println(&quot;closing ResultSet&quot;);\r\n                        rs.close();\r\n                    } catch (SQLException sqlEx) { } // ignore\r\n    \r\n                    rs = null;\r\n                }\r\n    \r\n                if (stmt != null) {\r\n                    try {\r\n                        System.out.println(&quot;closing Statement&quot;);\r\n                        stmt.close();\r\n                    } catch (SQLException sqlEx) { } // ignore\r\n    \r\n                    stmt = null;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void close()\r\n        {\r\n            if (conn != null)\r\n            {\r\n                try {\r\n                    System.out.println(&quot;closing connection&quot;);\r\n                    conn.close();\r\n                }\r\n                catch (SQLException ex) { } // ignore\r\n                conn = null;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Exception while trying to run java program from maven","body":"<p>I have a small java program that connects to a mysql db and reads data from it. I am able to run it successfully using <code>java -cp</code> but when I try to run it using <code>mvn exec:java</code> I get this exception after the program has finished:</p>\n\n<pre><code>[WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] was interrupted but is still alive after waiting at least 15000msecs\n[WARNING] thread Thread[MySQL Statement Cancellation Timer,5,com.mycompany.mydivision.App] will linger despite being asked to die via interruption\n[WARNING] NOTE: 1 thread(s) did not finish despite being asked to  via interruption. This is not a problem with exec:java, it is a problem with the running code. Although not serious, it should be remedied.\n[WARNING] Couldn't destroy threadgroup org.codehaus.mojo.exec.ExecJavaMojo$IsolatedThreadGroup[name=com.mycompany.mydivision.App,maxpri=10]\njava.lang.IllegalThreadStateException\n    at java.lang.ThreadGroup.destroy(ThreadGroup.java:775)\n    at org.codehaus.mojo.exec.ExecJavaMojo.execute(ExecJavaMojo.java:328)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n\n<p>Why is this happening and how can I fix this? Here is my code in case it is needed:</p>\n\n<pre><code>public class App \n{\n\n    public static void main( String[] args )\n    {\n        try (JdbcReader reader = new JdbcReader())\n        {\n            reader.test();\n        }\n        catch (SQLException ex) {\n            // handle any errors\n            System.out.println(\"SQLException: \" + ex.getMessage());\n            System.out.println(\"SQLState: \" + ex.getSQLState());\n            System.out.println(\"VendorError: \" + ex.getErrorCode());\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\npackage com.mycompany.mydivision;\n\nimport com.vividsolutions.jts.geom.Geometry;\n\nimport java.io.Closeable;\nimport java.io.InputStream;\nimport java.sql.*;\n\n/**\n * \n */\npublic class JdbcReader implements Closeable{\n\n    Connection conn;\n\n    public JdbcReader() throws ClassNotFoundException, SQLException, IllegalAccessException, InstantiationException\n    {\n        // The newInstance() call is a work around for some\n        // broken Java implementations\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        this.conn = DriverManager.getConnection(\"jdbc:mysql://localhost/mydb?user=guest\");\n    }\n\n    /**\n     * https://dev.mysql.com/doc/connector-j/en/connector-j-usagenotes-statements.html\n     */\n    public void test() throws Exception\n    {\n        Statement stmt = null;\n        ResultSet rs = null;\n        try {\n            stmt = this.conn.createStatement();\n            if (stmt.execute(\"SELECT * FROM mydb.my_table limit 20\")) {\n                rs = stmt.getResultSet();\n                // Fetch each row from the result set\n                while (rs.next()) {\n                    String name = rs.getString(\"name\");\n                    String description = rs.getString(\"Descr\");\n\n                    System.out.printf(\"%s\\t%s\\n\", name, description);\n                }\n            }\n        }\n        finally {\n            // it is a good idea to release\n            // resources in a finally{} block\n            // in reverse-order of their creation\n            // if they are no-longer needed\n\n            if (rs != null) {\n                try {\n                    System.out.println(\"closing ResultSet\");\n                    rs.close();\n                } catch (SQLException sqlEx) { } // ignore\n\n                rs = null;\n            }\n\n            if (stmt != null) {\n                try {\n                    System.out.println(\"closing Statement\");\n                    stmt.close();\n                } catch (SQLException sqlEx) { } // ignore\n\n                stmt = null;\n            }\n        }\n    }\n\n    public void close()\n    {\n        if (conn != null)\n        {\n            try {\n                System.out.println(\"closing connection\");\n                conn.close();\n            }\n            catch (SQLException ex) { } // ignore\n            conn = null;\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9424,"page":568,"page_size":100}
